{"items":[{"tags":["java","http","netty"],"owner":{"account_id":21843526,"reputation":35,"user_id":16136741,"display_name":"FlafyKing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680804152,"creation_date":1680804152,"question_id":75952476,"body_markdown":"Im creating an HTTP server using Netty. I have a NioEventLoopGroup that creates about 25 threads when many requests are coming but when server is unused, threads do not expire. They just keep on existing and the heap is piling up. \r\n\r\nI want threads to expire after a few seconds of being not used. Any help would be higly appriciated.\r\n\r\n**HttpServer.java**\r\n\r\n```\r\nimport mypackage.config.HttpServerInitializer;\r\nimport io.netty.bootstrap.ServerBootstrap;\r\nimport io.netty.channel.ChannelFuture;\r\nimport io.netty.channel.nio.NioEventLoopGroup;\r\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class HttpServer\r\n{\r\n    public static void main( String[] args ) throws Exception\r\n    {\r\n        ServerBootstrap serverBootstrap = new ServerBootstrap();\r\n        NioEventLoopGroup bossGroup = new NioEventLoopGroup();\r\n        NioEventLoopGroup workerGroup = new NioEventLoopGroup();\r\n        System.out.println(&quot;Server starting...&quot;);\r\n        try {\r\n            serverBootstrap.group(bossGroup, workerGroup)\r\n                    .channel(NioServerSocketChannel.class)\r\n                    .childHandler(new HttpServerInitializer());\r\n            ChannelFuture channelFuture = serverBootstrap.bind(8080).sync();\r\n            channelFuture.channel().closeFuture().sync();\r\n        } finally {\r\n            workerGroup.shutdownGracefully(5, 10, TimeUnit.SECONDS);\r\n            bossGroup.shutdownGracefully(5, 10, TimeUnit.SECONDS);\r\n            System.out.println(&quot;Server stopped.&quot;);\r\n        }\r\n    }\r\n} \r\n```\r\n\r\n**ServerInitializer.java**\r\n\r\n```\r\npackage ingkonkurs.config;\r\n\r\nimport io.netty.channel.ChannelHandlerContext;\r\nimport io.netty.channel.ChannelInitializer;\r\nimport io.netty.channel.ChannelPipeline;\r\nimport io.netty.channel.socket.SocketChannel;\r\nimport io.netty.handler.codec.http.HttpObjectAggregator;\r\nimport io.netty.handler.codec.http.HttpServerCodec;\r\nimport io.netty.handler.timeout.IdleStateHandler;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class HttpServerInitializer extends ChannelInitializer&lt;SocketChannel&gt; {\r\n    int maxRequestSize = 10 * 1024 * 1024;\r\n\r\n    @Override\r\n    public void initChannel(SocketChannel ch) throws Exception {\r\n        ChannelPipeline pipeline = ch.pipeline();\r\n\r\n        // Add HTTP server codec, which includes a decoder and an encoder\r\n        pipeline.addLast(new HttpServerCodec());\r\n\r\n        // Add HTTP object aggregator, which aggregates multiple messages into one FullHttpRequest or FullHttpResponse\r\n        pipeline.addLast(new HttpObjectAggregator(maxRequestSize));\r\n\r\n        // Add your custom handler to handle incoming HTTP requests\r\n        pipeline.addLast(new CustomHttpServerHandler());\r\n\r\n        // Keep idle connections for 10 seconds\r\n        pipeline.addLast(new IdleStateHandler(10, 0, 0, TimeUnit.SECONDS));\r\n\r\n    }\r\n\r\n    @Override\r\n    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\r\n        cause.printStackTrace();\r\n        ctx.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\n**CustomHttpServerHandler.java**\r\n\r\n```\r\npackage ingkonkurs.config;\r\n\r\nimport io.netty.buffer.Unpooled;\r\nimport io.netty.channel.ChannelHandlerContext;\r\nimport io.netty.channel.SimpleChannelInboundHandler;\r\nimport io.netty.handler.codec.http.*;\r\n\r\nimport static io.netty.handler.codec.http.HttpHeaderNames.*;\r\nimport static io.netty.handler.codec.http.HttpResponseStatus.OK;\r\nimport static io.netty.handler.codec.http.HttpVersion.HTTP_1_1;\r\n\r\npublic class CustomHttpServerHandler extends SimpleChannelInboundHandler&lt;FullHttpRequest&gt; {\r\n\r\n    @Override\r\n    protected void channelRead0(ChannelHandlerContext ctx, FullHttpRequest request) throws Exception {\r\n        // Handle incoming HTTP request\r\n            if (request.method() == HttpMethod.POST &amp;&amp; &quot;/endpoint&quot;.equals(request.uri())) {\r\n                System.out.println(&quot;Got a request&quot;);\r\n                String message = &quot;Hello world&quot;;\r\n                FullHttpResponse response = new DefaultFullHttpResponse(HTTP_1_1, OK, Unpooled.wrappedBuffer(message.getBytes()));\r\n                response.headers().set(CONTENT_TYPE, &quot;text/plain&quot;);\r\n                response.headers().set(CONTENT_LENGTH, response.content().readableBytes());\r\n                ctx.writeAndFlush(response);\r\n            } else {\r\n                // Send an HTTP 404 response for any other requests\r\n                FullHttpResponse response = new DefaultFullHttpResponse(HttpVersion.HTTP_1_1, HttpResponseStatus.NOT_FOUND);\r\n                ctx.writeAndFlush(response);\r\n            }\r\n    }\r\n\r\n    @Override\r\n    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\r\n        cause.printStackTrace();\r\n        ctx.close();\r\n    }\r\n\r\n}\r\n```","title":"Unused Netty threads not expiring","body":"<p>Im creating an HTTP server using Netty. I have a NioEventLoopGroup that creates about 25 threads when many requests are coming but when server is unused, threads do not expire. They just keep on existing and the heap is piling up.</p>\n<p>I want threads to expire after a few seconds of being not used. Any help would be higly appriciated.</p>\n<p><strong>HttpServer.java</strong></p>\n<pre><code>import mypackage.config.HttpServerInitializer;\nimport io.netty.bootstrap.ServerBootstrap;\nimport io.netty.channel.ChannelFuture;\nimport io.netty.channel.nio.NioEventLoopGroup;\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class HttpServer\n{\n    public static void main( String[] args ) throws Exception\n    {\n        ServerBootstrap serverBootstrap = new ServerBootstrap();\n        NioEventLoopGroup bossGroup = new NioEventLoopGroup();\n        NioEventLoopGroup workerGroup = new NioEventLoopGroup();\n        System.out.println(&quot;Server starting...&quot;);\n        try {\n            serverBootstrap.group(bossGroup, workerGroup)\n                    .channel(NioServerSocketChannel.class)\n                    .childHandler(new HttpServerInitializer());\n            ChannelFuture channelFuture = serverBootstrap.bind(8080).sync();\n            channelFuture.channel().closeFuture().sync();\n        } finally {\n            workerGroup.shutdownGracefully(5, 10, TimeUnit.SECONDS);\n            bossGroup.shutdownGracefully(5, 10, TimeUnit.SECONDS);\n            System.out.println(&quot;Server stopped.&quot;);\n        }\n    }\n} \n</code></pre>\n<p><strong>ServerInitializer.java</strong></p>\n<pre><code>package ingkonkurs.config;\n\nimport io.netty.channel.ChannelHandlerContext;\nimport io.netty.channel.ChannelInitializer;\nimport io.netty.channel.ChannelPipeline;\nimport io.netty.channel.socket.SocketChannel;\nimport io.netty.handler.codec.http.HttpObjectAggregator;\nimport io.netty.handler.codec.http.HttpServerCodec;\nimport io.netty.handler.timeout.IdleStateHandler;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class HttpServerInitializer extends ChannelInitializer&lt;SocketChannel&gt; {\n    int maxRequestSize = 10 * 1024 * 1024;\n\n    @Override\n    public void initChannel(SocketChannel ch) throws Exception {\n        ChannelPipeline pipeline = ch.pipeline();\n\n        // Add HTTP server codec, which includes a decoder and an encoder\n        pipeline.addLast(new HttpServerCodec());\n\n        // Add HTTP object aggregator, which aggregates multiple messages into one FullHttpRequest or FullHttpResponse\n        pipeline.addLast(new HttpObjectAggregator(maxRequestSize));\n\n        // Add your custom handler to handle incoming HTTP requests\n        pipeline.addLast(new CustomHttpServerHandler());\n\n        // Keep idle connections for 10 seconds\n        pipeline.addLast(new IdleStateHandler(10, 0, 0, TimeUnit.SECONDS));\n\n    }\n\n    @Override\n    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        cause.printStackTrace();\n        ctx.close();\n    }\n}\n\n</code></pre>\n<p><strong>CustomHttpServerHandler.java</strong></p>\n<pre><code>package ingkonkurs.config;\n\nimport io.netty.buffer.Unpooled;\nimport io.netty.channel.ChannelHandlerContext;\nimport io.netty.channel.SimpleChannelInboundHandler;\nimport io.netty.handler.codec.http.*;\n\nimport static io.netty.handler.codec.http.HttpHeaderNames.*;\nimport static io.netty.handler.codec.http.HttpResponseStatus.OK;\nimport static io.netty.handler.codec.http.HttpVersion.HTTP_1_1;\n\npublic class CustomHttpServerHandler extends SimpleChannelInboundHandler&lt;FullHttpRequest&gt; {\n\n    @Override\n    protected void channelRead0(ChannelHandlerContext ctx, FullHttpRequest request) throws Exception {\n        // Handle incoming HTTP request\n            if (request.method() == HttpMethod.POST &amp;&amp; &quot;/endpoint&quot;.equals(request.uri())) {\n                System.out.println(&quot;Got a request&quot;);\n                String message = &quot;Hello world&quot;;\n                FullHttpResponse response = new DefaultFullHttpResponse(HTTP_1_1, OK, Unpooled.wrappedBuffer(message.getBytes()));\n                response.headers().set(CONTENT_TYPE, &quot;text/plain&quot;);\n                response.headers().set(CONTENT_LENGTH, response.content().readableBytes());\n                ctx.writeAndFlush(response);\n            } else {\n                // Send an HTTP 404 response for any other requests\n                FullHttpResponse response = new DefaultFullHttpResponse(HttpVersion.HTTP_1_1, HttpResponseStatus.NOT_FOUND);\n                ctx.writeAndFlush(response);\n            }\n    }\n\n    @Override\n    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        cause.printStackTrace();\n        ctx.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","shared-libraries","eigenvalue","jama"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1351707482,"post_id":13164228,"comment_id":17911824,"body_markdown":"Post code lest you want to be ridiculed. No, seriously, post code please and form up your question.","body":"Post code lest you want to be ridiculed. No, seriously, post code please and form up your question."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1351707553,"post_id":13164228,"comment_id":17911857,"body_markdown":"What makes you think that float calculations would be faster than double calculations? Your second question is difficult to understand.","body":"What makes you think that float calculations would be faster than double calculations? Your second question is difficult to understand."},{"owner":{"account_id":1983010,"reputation":33,"user_id":1779116,"display_name":"Luke Numerati"},"score":0,"creation_date":1351707750,"post_id":13164228,"comment_id":17911944,"body_markdown":"becous the few methods witch i compute before are in float...and in double it takes too seconds- time so i can convert float to double or, re  write my other methods to float precisions..","body":"becous the few methods witch i compute before are in float...and in double it takes too seconds- time so i can convert float to double or, re  write my other methods to float precisions.."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1351707792,"post_id":13164228,"comment_id":17911965,"body_markdown":"float to double conversions will take a minimal amount of time vs. eigenvalue calculation.","body":"float to double conversions will take a minimal amount of time vs. eigenvalue calculation."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1351708320,"post_id":13164228,"comment_id":17913109,"body_markdown":"See for example: http://stackoverflow.com/questions/4584637/double-or-float-which-is-faster","body":"See for example: <a href=\"http://stackoverflow.com/questions/4584637/double-or-float-which-is-faster\" title=\"double or float which is faster\">stackoverflow.com/questions/4584637/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1351708003,"post_id":13164278,"comment_id":17913002,"body_markdown":"My college eclipse workspace folder. Used it for cryptography and Hill&#39;s cipher so it&#39;s actually usable. I mean, he did say &#39;basic linear algebra&#39; and this one can calculate the inverse matrix as well.","body":"My college eclipse workspace folder. Used it for cryptography and Hill&#39;s cipher so it&#39;s actually usable. I mean, he did say &#39;basic linear algebra&#39; and this one can calculate the inverse matrix as well."}],"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351707626,"creation_date":1351707626,"answer_id":13164278,"question_id":13164228,"body_markdown":"Or are you looking for something like this? \r\n   \r\n         import java.util.Arrays;\r\n\r\n    public class Matrix {\r\n\r\n\tprotected int rows;\r\n\r\n\tprotected int cols;\r\n\r\n\tdouble[][] values;\r\n\r\n\tpublic Matrix(int rows, int cols) {\r\n\t\tthis.rows = rows;\r\n\t\tthis.cols = cols;\r\n\r\n\t\tvalues = new double[rows][cols];\r\n\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\tvalues[i][j] = 0;\r\n\r\n\t}\r\n\r\n\tpublic Matrix(int[][] M) {\r\n\t\tthis.rows = M.length;\r\n\t\tthis.cols = M[0].length;\r\n\r\n\t\tvalues = new double[rows][cols];\r\n\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\tvalues[i][j] = M[i][j];\r\n\t}\r\n\r\n\tpublic Matrix(double[][] M) {\r\n\t\tthis.rows = M.length;\r\n\t\tthis.cols = M[0].length;\r\n\r\n\t\tvalues = new double[rows][cols];\r\n\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\tvalues[i][j] = M[i][j];\r\n\t}\r\n\r\n\tpublic void setToEye() {\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\tvalues[i][j] = (i == j) ? 1 : 0;\r\n\r\n\t}\r\n\r\n\tpublic static int[] matrixSize(Matrix M) {\r\n\t\tint[] size = new int[2];\r\n\t\tsize[0] = M.rows;\r\n\t\tsize[1] = M.cols;\r\n\t\treturn size;\r\n\t}\r\n\r\n\tpublic static double vectMul(double[] A, double[] B) {\r\n\t\tdouble suma = 0;\r\n\t\tfor (int i = 0; i &lt; A.length; i++)\r\n\t\t\tsuma += A[i] * B[i];\r\n\r\n\t\treturn suma;\r\n\t}\r\n\r\n\tpublic static Matrix matrixTranspose(Matrix M) {\r\n\t\tint[] size = matrixSize(M);\r\n\t\tdouble[][] Mt = new double[size[0]][size[1]];\r\n\r\n\t\tfor (int i = 0; i &lt; size[0]; i++)\r\n\t\t\tfor (int j = 0; j &lt; size[1]; j++)\r\n\t\t\t\tMt[i][j] = M.getValue(j, i);\r\n\r\n\t\treturn new Matrix(Mt);\r\n\t}\r\n\r\n\tpublic static Matrix matrixMul(Matrix A, Matrix B) {\r\n\t\tint m1 = matrixSize(A)[0];\r\n\t\tint n1 = matrixSize(A)[1];\r\n\t\tint m2 = matrixSize(B)[0];\r\n\t\tint n2 = matrixSize(B)[1];\r\n\t\tdouble[][] rez;\r\n\r\n\t\tif (n1 != m2) {\r\n\t\t\tSystem.err.println(&quot;Inner matrix dimensions must agree!&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\trez = new double[m1][n2];\r\n\t\tfor (int i = 0; i &lt; m1; i++)\r\n\t\t\tfor (int j = 0; j &lt; n2; j++)\r\n\t\t\t\trez[i][j] = vectMul(A.getRow(i), B.getColumn(j));\r\n\r\n\t\tMatrix r = new Matrix(rez);\r\n\t\treturn r;\r\n\t}\r\n\r\n\tpublic static Matrix matrixMulWithMod(Matrix A, Matrix B, double mod) {\r\n\t\tint m1 = matrixSize(A)[0];\r\n\t\tint n1 = matrixSize(A)[1];\r\n\t\tint m2 = matrixSize(B)[0];\r\n\t\tint n2 = matrixSize(B)[1];\r\n\t\tdouble[][] rez;\r\n\r\n\t\tif (n1 != m2) {\r\n\t\t\tSystem.err.println(&quot;Inner matrix dimensions must agree!&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\trez = new double[m1][n2];\r\n\t\tfor (int i = 0; i &lt; m1; i++)\r\n\t\t\tfor (int j = 0; j &lt; n2; j++)\r\n\t\t\t\trez[i][j] = vectMul(A.getRow(i), B.getColumn(j)) % mod;\r\n\r\n\t\tMatrix r = new Matrix(rez);\r\n\t\treturn r;\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; this.rows; i++) {\r\n\t\t\tsb.append(Arrays.toString(values[i]));\r\n\t\t\tsb.append(&#39;\\n&#39;);\r\n\t\t}\r\n\r\n\t\tString str = sb.toString();\r\n\t\treturn str;\r\n\t}\r\n\r\n\tpublic double[][] getValues() {\r\n\t\treturn values;\r\n\t}\r\n\r\n\tpublic void setValues(double[][] values) {\r\n\t\tthis.values = values;\r\n\t}\r\n\r\n\tpublic void setValues(int[][] values) {\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\tthis.values[i][j] = (double) values[i][j];\r\n\t}\r\n\r\n\tpublic double getValue(int row, int col) {\r\n\t\treturn values[row][col];\r\n\t}\r\n\r\n\tpublic void setValue(int row, int col, double value) {\r\n\t\tvalues[row][col] = value;\r\n\t}\r\n\r\n\tpublic double[] getRow(int row) {\r\n\t\tdouble[] temp = new double[cols];\r\n\t\tfor (int i = 0; i &lt; temp.length; i++)\r\n\t\t\ttemp[i] = values[row][i];\r\n\t\treturn temp;\r\n\r\n\t}\r\n\r\n\tpublic double[] getColumn(int col) {\r\n\t\tdouble[] temp = new double[rows];\r\n\t\tfor (int i = 0; i &lt; temp.length; i++)\r\n\t\t\ttemp[i] = values[i][col];\r\n\t\treturn temp;\r\n\t}\r\n\r\n\tpublic double[] toDoubleArray() {\r\n\t\tdouble[] temp = new double[rows * cols];\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\ttemp[i * (rows + 1) + j] = values[i][j];\r\n\t\treturn temp;\r\n\t}\r\n\r\n\tpublic int[] toIntArray() {\r\n\t\tint[] temp = new int[rows * cols];\r\n\t\tfor (int i = 0; i &lt; rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; cols; j++)\r\n\t\t\t\ttemp[i * (rows + 1) + j] = (int) values[i][j];\r\n\t\treturn temp;\r\n\t}\r\n\r\n\tpublic int getRowCount() {\r\n\t\treturn this.rows;\r\n\t}\r\n\r\n\tpublic int getColumnsCount() {\r\n\t\treturn this.cols;\r\n\t}\r\n\r\n\tpublic static double getMatrixDet(Matrix M) {\r\n\t\tint m = M.getRowCount();\r\n\t\tint n = M.getColumnsCount();\r\n\r\n\t\tdouble D = 0;\r\n\r\n\t\tif (m != n) {\r\n\t\t\tSystem.err.println(&quot;Matrix must be square!&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\r\n\t\tif (n &gt; 1) {\r\n\t\t\tMatrix I = new Matrix(m - 1, n - 1);\r\n\r\n\t\t\tfor (int i = 1; i &lt; m; i++)\r\n\t\t\t\tfor (int j = 1; j &lt; n; j++)\r\n\t\t\t\t\tI.setValue(i - 1, j - 1, M.getValue(i, j));\r\n\r\n\t\t\tD = M.getValue(0, 0) * getMatrixDet(I);\r\n\t\t} else\r\n\t\t\tD = M.getValue(0, 0);\r\n\r\n\t\t// za niz , kopira iz niza a elemente 0:i-1 i+1:n sredi za matrcu \r\n\t\tMatrix I = new Matrix(m - 1, n - 1);\r\n\t\tfor (int i = 1; i &lt; n; i++) {\r\n\t\t\tI = M.withoutIthRowAndJthCol(i, 0);\r\n\t\t\tD = D + Math.pow((-1), i) * M.getValue(i, 0) * getMatrixDet(I);\r\n\t\t}\r\n\t\treturn D;\r\n\r\n\t}\r\n\r\n\tpublic Matrix transpose() {\r\n\t\tMatrix temp = new Matrix(this.values);\r\n\r\n\t\tfor (int i = 0; i &lt; this.rows; i++)\r\n\t\t\tfor (int j = 0; j &lt; this.cols; j++)\r\n\t\t\t\tthis.values[i][j] = temp.getValue(j, i);\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprivate Matrix withoutIthRowAndJthCol(int row, int col) {\r\n\t\tMatrix temp = new Matrix(this.rows - 1, this.cols - 1);\r\n\t\tint k = 0, l = 0;\r\n\t\tfor (int i = 0; i &lt; this.getRowCount(); i++) {\r\n\t\t\tif (i == row)\r\n\t\t\t\tcontinue;\r\n\t\t\tfor (int j = 0; j &lt; this.getColumnsCount(); j++) {\r\n\t\t\t\tif (j == col)\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\ttemp.setValue(k, l, this.values[i][j]);\r\n\t\t\t\tl++;\r\n\t\t\t}\r\n\t\t\tl %= 2;\r\n\t\t\tk++;\r\n\t\t}\r\n\t\treturn temp;\r\n\t}\r\n\r\n\tpublic static Matrix getMatrixAdj(Matrix M) {\r\n\t\tint m = M.getRowCount();\r\n\t\tint n = M.getColumnsCount();\r\n\r\n\t\tMatrix A = new Matrix(m, n);\r\n\r\n\t\tif (m != n) {\r\n\t\t\tSystem.err.println(&quot;Matrix must be square!&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; m; i++)\r\n\t\t\tfor (int j = 0; j &lt; n; j++) {\r\n\t\t\t\tA.setValue(i, j, Math.pow((-1), i + j)\r\n\t\t\t\t\t\t* getMatrixDet(M.withoutIthRowAndJthCol(i, j)));\r\n\t\t\t}\r\n\t\tA.transpose();\r\n\t\treturn A;\r\n\t}\r\n\r\n\tpublic static Matrix matrixDiv(Matrix M, double n) {\r\n\t\tMatrix temp = M;\r\n\r\n\t\tfor (int i = 0; i &lt; M.getRowCount(); i++)\r\n\t\t\tfor (int j = 0; j &lt; M.getColumnsCount(); j++)\r\n\t\t\t\ttemp.setValue(i, j, (M.getValue(i, j) / n));\r\n\r\n\t\treturn temp;\r\n\t}\r\n\r\n\tpublic static Matrix getMatrixInv(Matrix M) {\r\n\t\tMatrix I = new Matrix(M.getRowCount(), M.getColumnsCount());\r\n\r\n\t\tif (M.getRowCount() != M.getColumnsCount()) {\r\n\t\t\tSystem.err.println(&quot;Matrix must be square!&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t\tif (getMatrixDet(M) == 0) {\r\n\t\t\tSystem.err.println(&quot;Matrix is singular!&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t\tI = matrixDiv(getMatrixAdj(M), getMatrixDet(M));\r\n\t\treturn I;\r\n\t}\r\n    }\r\n\r\n\r\nif this is what you wanted, you&#39;re welcome.","title":"Java library eigenvalues float numbers","body":"<p>Or are you looking for something like this? </p>\n\n<pre><code>     import java.util.Arrays;\n\npublic class Matrix {\n\nprotected int rows;\n\nprotected int cols;\n\ndouble[][] values;\n\npublic Matrix(int rows, int cols) {\n    this.rows = rows;\n    this.cols = cols;\n\n    values = new double[rows][cols];\n\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            values[i][j] = 0;\n\n}\n\npublic Matrix(int[][] M) {\n    this.rows = M.length;\n    this.cols = M[0].length;\n\n    values = new double[rows][cols];\n\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            values[i][j] = M[i][j];\n}\n\npublic Matrix(double[][] M) {\n    this.rows = M.length;\n    this.cols = M[0].length;\n\n    values = new double[rows][cols];\n\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            values[i][j] = M[i][j];\n}\n\npublic void setToEye() {\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            values[i][j] = (i == j) ? 1 : 0;\n\n}\n\npublic static int[] matrixSize(Matrix M) {\n    int[] size = new int[2];\n    size[0] = M.rows;\n    size[1] = M.cols;\n    return size;\n}\n\npublic static double vectMul(double[] A, double[] B) {\n    double suma = 0;\n    for (int i = 0; i &lt; A.length; i++)\n        suma += A[i] * B[i];\n\n    return suma;\n}\n\npublic static Matrix matrixTranspose(Matrix M) {\n    int[] size = matrixSize(M);\n    double[][] Mt = new double[size[0]][size[1]];\n\n    for (int i = 0; i &lt; size[0]; i++)\n        for (int j = 0; j &lt; size[1]; j++)\n            Mt[i][j] = M.getValue(j, i);\n\n    return new Matrix(Mt);\n}\n\npublic static Matrix matrixMul(Matrix A, Matrix B) {\n    int m1 = matrixSize(A)[0];\n    int n1 = matrixSize(A)[1];\n    int m2 = matrixSize(B)[0];\n    int n2 = matrixSize(B)[1];\n    double[][] rez;\n\n    if (n1 != m2) {\n        System.err.println(\"Inner matrix dimensions must agree!\");\n        return null;\n    }\n\n    rez = new double[m1][n2];\n    for (int i = 0; i &lt; m1; i++)\n        for (int j = 0; j &lt; n2; j++)\n            rez[i][j] = vectMul(A.getRow(i), B.getColumn(j));\n\n    Matrix r = new Matrix(rez);\n    return r;\n}\n\npublic static Matrix matrixMulWithMod(Matrix A, Matrix B, double mod) {\n    int m1 = matrixSize(A)[0];\n    int n1 = matrixSize(A)[1];\n    int m2 = matrixSize(B)[0];\n    int n2 = matrixSize(B)[1];\n    double[][] rez;\n\n    if (n1 != m2) {\n        System.err.println(\"Inner matrix dimensions must agree!\");\n        return null;\n    }\n\n    rez = new double[m1][n2];\n    for (int i = 0; i &lt; m1; i++)\n        for (int j = 0; j &lt; n2; j++)\n            rez[i][j] = vectMul(A.getRow(i), B.getColumn(j)) % mod;\n\n    Matrix r = new Matrix(rez);\n    return r;\n}\n\npublic String toString() {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; this.rows; i++) {\n        sb.append(Arrays.toString(values[i]));\n        sb.append('\\n');\n    }\n\n    String str = sb.toString();\n    return str;\n}\n\npublic double[][] getValues() {\n    return values;\n}\n\npublic void setValues(double[][] values) {\n    this.values = values;\n}\n\npublic void setValues(int[][] values) {\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            this.values[i][j] = (double) values[i][j];\n}\n\npublic double getValue(int row, int col) {\n    return values[row][col];\n}\n\npublic void setValue(int row, int col, double value) {\n    values[row][col] = value;\n}\n\npublic double[] getRow(int row) {\n    double[] temp = new double[cols];\n    for (int i = 0; i &lt; temp.length; i++)\n        temp[i] = values[row][i];\n    return temp;\n\n}\n\npublic double[] getColumn(int col) {\n    double[] temp = new double[rows];\n    for (int i = 0; i &lt; temp.length; i++)\n        temp[i] = values[i][col];\n    return temp;\n}\n\npublic double[] toDoubleArray() {\n    double[] temp = new double[rows * cols];\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            temp[i * (rows + 1) + j] = values[i][j];\n    return temp;\n}\n\npublic int[] toIntArray() {\n    int[] temp = new int[rows * cols];\n    for (int i = 0; i &lt; rows; i++)\n        for (int j = 0; j &lt; cols; j++)\n            temp[i * (rows + 1) + j] = (int) values[i][j];\n    return temp;\n}\n\npublic int getRowCount() {\n    return this.rows;\n}\n\npublic int getColumnsCount() {\n    return this.cols;\n}\n\npublic static double getMatrixDet(Matrix M) {\n    int m = M.getRowCount();\n    int n = M.getColumnsCount();\n\n    double D = 0;\n\n    if (m != n) {\n        System.err.println(\"Matrix must be square!\");\n        System.exit(0);\n    }\n\n    if (n &gt; 1) {\n        Matrix I = new Matrix(m - 1, n - 1);\n\n        for (int i = 1; i &lt; m; i++)\n            for (int j = 1; j &lt; n; j++)\n                I.setValue(i - 1, j - 1, M.getValue(i, j));\n\n        D = M.getValue(0, 0) * getMatrixDet(I);\n    } else\n        D = M.getValue(0, 0);\n\n    // za niz , kopira iz niza a elemente 0:i-1 i+1:n sredi za matrcu \n    Matrix I = new Matrix(m - 1, n - 1);\n    for (int i = 1; i &lt; n; i++) {\n        I = M.withoutIthRowAndJthCol(i, 0);\n        D = D + Math.pow((-1), i) * M.getValue(i, 0) * getMatrixDet(I);\n    }\n    return D;\n\n}\n\npublic Matrix transpose() {\n    Matrix temp = new Matrix(this.values);\n\n    for (int i = 0; i &lt; this.rows; i++)\n        for (int j = 0; j &lt; this.cols; j++)\n            this.values[i][j] = temp.getValue(j, i);\n\n    return this;\n}\n\nprivate Matrix withoutIthRowAndJthCol(int row, int col) {\n    Matrix temp = new Matrix(this.rows - 1, this.cols - 1);\n    int k = 0, l = 0;\n    for (int i = 0; i &lt; this.getRowCount(); i++) {\n        if (i == row)\n            continue;\n        for (int j = 0; j &lt; this.getColumnsCount(); j++) {\n            if (j == col)\n                continue;\n\n            temp.setValue(k, l, this.values[i][j]);\n            l++;\n        }\n        l %= 2;\n        k++;\n    }\n    return temp;\n}\n\npublic static Matrix getMatrixAdj(Matrix M) {\n    int m = M.getRowCount();\n    int n = M.getColumnsCount();\n\n    Matrix A = new Matrix(m, n);\n\n    if (m != n) {\n        System.err.println(\"Matrix must be square!\");\n        System.exit(0);\n    }\n\n    for (int i = 0; i &lt; m; i++)\n        for (int j = 0; j &lt; n; j++) {\n            A.setValue(i, j, Math.pow((-1), i + j)\n                    * getMatrixDet(M.withoutIthRowAndJthCol(i, j)));\n        }\n    A.transpose();\n    return A;\n}\n\npublic static Matrix matrixDiv(Matrix M, double n) {\n    Matrix temp = M;\n\n    for (int i = 0; i &lt; M.getRowCount(); i++)\n        for (int j = 0; j &lt; M.getColumnsCount(); j++)\n            temp.setValue(i, j, (M.getValue(i, j) / n));\n\n    return temp;\n}\n\npublic static Matrix getMatrixInv(Matrix M) {\n    Matrix I = new Matrix(M.getRowCount(), M.getColumnsCount());\n\n    if (M.getRowCount() != M.getColumnsCount()) {\n        System.err.println(\"Matrix must be square!\");\n        System.exit(0);\n    }\n    if (getMatrixDet(M) == 0) {\n        System.err.println(\"Matrix is singular!\");\n        System.exit(0);\n    }\n    I = matrixDiv(getMatrixAdj(M), getMatrixDet(M));\n    return I;\n}\n}\n</code></pre>\n\n<p>if this is what you wanted, you're welcome.</p>\n"},{"comments":[{"owner":{"account_id":1983010,"reputation":33,"user_id":1779116,"display_name":"Luke Numerati"},"score":0,"creation_date":1351708202,"post_id":13164315,"comment_id":17913069,"body_markdown":"I know it; but I use modern mathematic tools(and threads) so i reduce...many operation, but i know the c++ is fastest..and python","body":"I know it; but I use modern mathematic tools(and threads) so i reduce...many operation, but i know the c++ is fastest..and python"}],"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680804049,"creation_date":1351707771,"answer_id":13164315,"question_id":13164228,"body_markdown":"I know of one library called [*la4j*][1], you might be interested in looking into that. I should mention that, generally, I don&#39;t think Java is a good choice if you&#39;re planning on doing many matrix manipulations/calculations (I myself have tried and hit a dead-end), you might be better off looking into Python ([NumPy][2]) or C++ ([Armadillo][3]) for such projects.\r\n\r\n\r\n  [1]: http://la4j.org\r\n  [2]: https://numpy.org/\r\n  [3]: https://arma.sourceforge.net/","title":"Java library eigenvalues float numbers","body":"<p>I know of one library called <a href=\"http://la4j.org\" rel=\"nofollow noreferrer\"><em>la4j</em></a>, you might be interested in looking into that. I should mention that, generally, I don't think Java is a good choice if you're planning on doing many matrix manipulations/calculations (I myself have tried and hit a dead-end), you might be better off looking into Python (<a href=\"https://numpy.org/\" rel=\"nofollow noreferrer\">NumPy</a>) or C++ (<a href=\"https://arma.sourceforge.net/\" rel=\"nofollow noreferrer\">Armadillo</a>) for such projects.</p>\n"}],"owner":{"account_id":1983010,"reputation":33,"user_id":1779116,"display_name":"Luke Numerati"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1351941213,"answer_count":2,"score":-3,"last_activity_date":1680804049,"creation_date":1351707406,"question_id":13164228,"body_markdown":"Hi I have the Jama librarry, but this libraray work only with Double numbers..and its very slow. for Android app ..and finally i dont need so high precision of eig decomp..so is there some JAva libaray with float num.....similar in syntax with jama? becouse...I dont want to re-- write again my 440 rows code thanks. eig. Transpose, inverse and so basic Linear algebra operations..\r\n\r\nor exist same java library eigenvalues. with threads?","title":"Java library eigenvalues float numbers","body":"<p>Hi I have the Jama librarry, but this libraray work only with Double numbers..and its very slow. for Android app ..and finally i dont need so high precision of eig decomp..so is there some JAva libaray with float num.....similar in syntax with jama? becouse...I dont want to re-- write again my 440 rows code thanks. eig. Transpose, inverse and so basic Linear algebra operations..</p>\n\n<p>or exist same java library eigenvalues. with threads?</p>\n"},{"tags":["java","jedis"],"answers":[{"comments":[{"owner":{"account_id":2252016,"reputation":6192,"user_id":1984049,"accept_rate":74,"display_name":"Oliver"},"score":0,"creation_date":1681413566,"post_id":75952449,"comment_id":134056610,"body_markdown":"It will be very helpful if you can share an example.\nI am doing this  `jedis.set(uuid.getBytes(), value);` for now. \nAnd have referred https://medium.datadriveninvestor.com/redis-as-object-storage-e6a084b46f8b","body":"It will be very helpful if you can share an example. I am doing this  <code>jedis.set(uuid.getBytes(), value);</code> for now.  And have referred <a href=\"https://medium.datadriveninvestor.com/redis-as-object-storage-e6a084b46f8b\" rel=\"nofollow noreferrer\">medium.datadriveninvestor.com/&hellip;</a>"},{"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"score":0,"creation_date":1681431981,"post_id":75952449,"comment_id":134059462,"body_markdown":"`jedis.set(uuid.getBytes(), value);` seems to be valid method call. Let us know what&#39;s not working in your code.","body":"<code>jedis.set(uuid.getBytes(), value);</code> seems to be valid method call. Let us know what&#39;s not working in your code."}],"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680803929,"creation_date":1680803929,"answer_id":75952449,"question_id":75892257,"body_markdown":"Use the `Jedis` class. It has support for all the binary variants.","title":"How to use Binary Jedis in version 4.3.2?","body":"<p>Use the <code>Jedis</code> class. It has support for all the binary variants.</p>\n"}],"owner":{"account_id":2252016,"reputation":6192,"user_id":1984049,"accept_rate":74,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680803929,"creation_date":1680204563,"question_id":75892257,"body_markdown":"In Jedis version 2.8.0 I have used **redis.clients.jedis.BinaryJedis**\r\n\r\nWhat should I use to save binary key value pairs using Jedis Client 4.3.2?\r\nCan someone point me towards documentation or provide a sample snippet?","title":"How to use Binary Jedis in version 4.3.2?","body":"<p>In Jedis version 2.8.0 I have used <strong>redis.clients.jedis.BinaryJedis</strong></p>\n<p>What should I use to save binary key value pairs using Jedis Client 4.3.2?\nCan someone point me towards documentation or provide a sample snippet?</p>\n"},{"tags":["java","date","filesystems"],"comments":[{"owner":{"account_id":50722,"reputation":1895,"user_id":151343,"accept_rate":73,"display_name":"Todd"},"score":2,"creation_date":1272398876,"post_id":2723838,"comment_id":2751268,"body_markdown":"Okay, after more discussions and investigations into the filesystems, we have decided that using last modified is sufficient since it would likely have to have been checked along with creation date.  Both would need to be checked to determine whether an old file was recently modified and therefore still active.  So, just check for the file modified farthest in the past.  Thanks for all the input.  BTW, I would love to use nio, but the Linux flavor here doesn&#39;t support file creation anyway.","body":"Okay, after more discussions and investigations into the filesystems, we have decided that using last modified is sufficient since it would likely have to have been checked along with creation date.  Both would need to be checked to determine whether an old file was recently modified and therefore still active.  So, just check for the file modified farthest in the past.  Thanks for all the input.  BTW, I would love to use nio, but the Linux flavor here doesn&#39;t support file creation anyway."}],"answers":[{"comments":[{"owner":{"account_id":50722,"reputation":1895,"user_id":151343,"accept_rate":73,"display_name":"Todd"},"score":2,"creation_date":1272393909,"post_id":2723914,"comment_id":2750518,"body_markdown":"Yeah, Java 7 would be great as the nio appears to have this in basic attributes.  Never thought I would complain about being born too early!  ;)","body":"Yeah, Java 7 would be great as the nio appears to have this in basic attributes.  Never thought I would complain about being born too early!  ;)"},{"owner":{"account_id":108197,"reputation":10791,"user_id":287300,"display_name":"Syntactic"},"score":7,"creation_date":1272394234,"post_id":2723914,"comment_id":2750559,"body_markdown":"The reason the `File` class doesn&#39;t have this capability is that most filesystems don&#39;t even track this information. And those that do don&#39;t always agree on when it should be updated.","body":"The reason the <code>File</code> class doesn&#39;t have this capability is that most filesystems don&#39;t even track this information. And those that do don&#39;t always agree on when it should be updated."},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1567011959,"post_id":2723914,"comment_id":101838388,"body_markdown":"@Syntactic: Actually [most filesystems do track this information](https://en.wikipedia.org/wiki/Comparison_of_file_systems#Metadata). Exceptions include ext&lt;=3 and Reiser. FAT, NTFS, HFS, ZFS, and ext4 support it. But it has been slow to propagate through all the layers of Linux and the libraries and commands to make it universally used.","body":"@Syntactic: Actually <a href=\"https://en.wikipedia.org/wiki/Comparison_of_file_systems#Metadata\" rel=\"nofollow noreferrer\">most filesystems do track this information</a>. Exceptions include ext&lt;=3 and Reiser. FAT, NTFS, HFS, ZFS, and ext4 support it. But it has been slow to propagate through all the layers of Linux and the libraries and commands to make it universally used."},{"owner":{"account_id":4033237,"reputation":2001,"user_id":3331076,"accept_rate":91,"display_name":"Jayesh Dhandha"},"score":0,"creation_date":1579259402,"post_id":2723914,"comment_id":105715258,"body_markdown":"@Carl In linux, I am getting modification and creation date as same while using Java NIO. Is it the normal behaviour?","body":"@Carl In linux, I am getting modification and creation date as same while using Java NIO. Is it the normal behaviour?"},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":0,"creation_date":1579349688,"post_id":2723914,"comment_id":105741616,"body_markdown":"@JayeshDhandha, if nothing modifies the file after it&#39;s created, I would *expect* creation and modification times to be equal. You could try changing that by using `touch` to change the mod time and then checking again.","body":"@JayeshDhandha, if nothing modifies the file after it&#39;s created, I would <i>expect</i> creation and modification times to be equal. You could try changing that by using <code>touch</code> to change the mod time and then checking again."},{"owner":{"account_id":4033237,"reputation":2001,"user_id":3331076,"accept_rate":91,"display_name":"Jayesh Dhandha"},"score":0,"creation_date":1579501177,"post_id":2723914,"comment_id":105773469,"body_markdown":"@CarlSmotricz I just figure out that for some file system creation time is the same as the modification time, So We can say it&#39;s a limitation of the file system","body":"@CarlSmotricz I just figure out that for some file system creation time is the same as the modification time, So We can say it&#39;s a limitation of the file system"}],"tags":[],"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"comment_count":6,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1272392987,"creation_date":1272392987,"answer_id":2723914,"question_id":2723838,"body_markdown":"The API of `java.io.File` only supports getting the last *modified* time. And the Internet is very quiet on this topic as well.\r\n\r\nUnless I missed something significant, the Java library as is (up to but not yet including Java 7) does not include this capability. So if you were desperate for this, one solution would be to write some C(++) code to call system routines and call it using JNI. Most of this work seems to be already done for you in a library called [JNA](https://github.com/twall/jna/), though. \r\n\r\nYou may still need to do a little OS specific coding in Java for this, though, as you&#39;ll probably not find the same system calls available in Windows and Unix/Linux/BSD/OS X.\r\n","title":"Determine file creation date in Java","body":"<p>The API of <code>java.io.File</code> only supports getting the last <em>modified</em> time. And the Internet is very quiet on this topic as well.</p>\n\n<p>Unless I missed something significant, the Java library as is (up to but not yet including Java 7) does not include this capability. So if you were desperate for this, one solution would be to write some C(++) code to call system routines and call it using JNI. Most of this work seems to be already done for you in a library called <a href=\"https://github.com/twall/jna/\" rel=\"noreferrer\">JNA</a>, though. </p>\n\n<p>You may still need to do a little OS specific coding in Java for this, though, as you'll probably not find the same system calls available in Windows and Unix/Linux/BSD/OS X.</p>\n"},{"comments":[{"owner":{"account_id":50722,"reputation":1895,"user_id":151343,"accept_rate":73,"display_name":"Todd"},"score":16,"creation_date":1272394851,"post_id":2724009,"comment_id":2750661,"body_markdown":"This would be best, but it is Java 7.  We are still using 6, but I will investigate our upgrade options.","body":"This would be best, but it is Java 7.  We are still using 6, but I will investigate our upgrade options."},{"owner":{"account_id":6289696,"reputation":1155,"user_id":4887806,"accept_rate":73,"display_name":"Hooli"},"score":8,"creation_date":1473436213,"post_id":2724009,"comment_id":66155368,"body_markdown":"use `readAttributes(file.toPath(), BasicFileAttributes.class)` else you get: `no suitable method found for readAttributes(File,Class&lt;BasicFileAttributes&gt;)\n    method Files.&lt;A&gt;readAttributes(Path,Class&lt;A&gt;,LinkOption...) is not applicable\n      (cannot infer type-variable(s) A\n        (argument mismatch; File cannot be converted to Path))`","body":"use <code>readAttributes(file.toPath(), BasicFileAttributes.class)</code> else you get: <code>no suitable method found for readAttributes(File,Class&lt;BasicFileAttributes&gt;)     method Files.&lt;A&gt;readAttributes(Path,Class&lt;A&gt;,LinkOption...) is not applicable       (cannot infer type-variable(s) A         (argument mismatch; File cannot be converted to Path))</code>"},{"owner":{"account_id":3815391,"reputation":8920,"user_id":3164889,"accept_rate":68,"display_name":"Socrates"},"score":1,"creation_date":1525957380,"post_id":2724009,"comment_id":87563929,"body_markdown":"@Hooli No worries, mate! Try this https://www.logicbig.com/how-to/java/file-creation-date.html.","body":"@Hooli No worries, mate! Try this <a href=\"https://www.logicbig.com/how-to/java/file-creation-date.html\" rel=\"nofollow noreferrer\">logicbig.com/how-to/java/file-creation-date.html</a>."},{"owner":{"account_id":3313246,"reputation":26489,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"score":2,"creation_date":1545916252,"post_id":2724009,"comment_id":94729809,"body_markdown":"File creation date is not available on JDK 8 (at least) since `statx` syscall was added in newer Linux kernel version.","body":"File creation date is not available on JDK 8 (at least) since <code>statx</code> syscall was added in newer Linux kernel version."},{"owner":{"account_id":9778390,"reputation":578,"user_id":7247458,"display_name":"LeeR"},"score":1,"creation_date":1586092784,"post_id":2724009,"comment_id":107992975,"body_markdown":"But why the creation time is always the same  as the last modified time?","body":"But why the creation time is always the same  as the last modified time?"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1668673765,"post_id":2724009,"comment_id":131464346,"body_markdown":"Yep, very confusing but it seems that a call to get creationTime on Java will instead of complaining it doesnt exists just return the lastModifiedTime instead.","body":"Yep, very confusing but it seems that a call to get creationTime on Java will instead of complaining it doesnt exists just return the lastModifiedTime instead."}],"tags":[],"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"comment_count":6,"down_vote_count":0,"up_vote_count":199,"is_accepted":false,"score":199,"last_activity_date":1632325796,"creation_date":1272393823,"answer_id":2724009,"question_id":2723838,"body_markdown":"**Java nio** has options to access `creationTime` and other meta-data as long as the filesystem provides it.\r\nCheck [this link][1] out\r\n\r\nFor example (provided based on [@ydaetskcoR][2]&#39;s comment):\r\n```java\r\nPath file = ...;\r\nBasicFileAttributes attr = Files.readAttributes(file.toPath(), BasicFileAttributes.class);\r\n\r\nSystem.out.println(&quot;creationTime: &quot; + attr.creationTime());\r\nSystem.out.println(&quot;lastAccessTime: &quot; + attr.lastAccessTime());\r\nSystem.out.println(&quot;lastModifiedTime: &quot; + attr.lastModifiedTime());\r\n```\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/essential/io/fileAttr.html\r\n  [2]: https://stackoverflow.com/users/2291321/ydaetskcor","title":"Determine file creation date in Java","body":"<p><strong>Java nio</strong> has options to access <code>creationTime</code> and other meta-data as long as the filesystem provides it.\nCheck <a href=\"http://java.sun.com/docs/books/tutorial/essential/io/fileAttr.html\" rel=\"noreferrer\">this link</a> out</p>\n<p>For example (provided based on <a href=\"https://stackoverflow.com/users/2291321/ydaetskcor\">@ydaetskcoR</a>'s comment):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path file = ...;\nBasicFileAttributes attr = Files.readAttributes(file.toPath(), BasicFileAttributes.class);\n\nSystem.out.println(&quot;creationTime: &quot; + attr.creationTime());\nSystem.out.println(&quot;lastAccessTime: &quot; + attr.lastAccessTime());\nSystem.out.println(&quot;lastModifiedTime: &quot; + attr.lastModifiedTime());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2757571,"reputation":238,"user_id":2375216,"accept_rate":57,"display_name":"Maverick"},"score":0,"creation_date":1432191140,"post_id":2724169,"comment_id":48823944,"body_markdown":"Any other way around for linux machines which doesn&#39;t support created time ?","body":"Any other way around for linux machines which doesn&#39;t support created time ?"},{"owner":{"account_id":379195,"reputation":186,"user_id":732394,"display_name":"rbncrthms"},"score":0,"creation_date":1432200162,"post_id":2724169,"comment_id":48829525,"body_markdown":"Just use a file system that does support file creation timestamps. The Wikipedia article linked suggests ext4 which is quite common now.","body":"Just use a file system that does support file creation timestamps. The Wikipedia article linked suggests ext4 which is quite common now."}],"tags":[],"owner":{"account_id":100586,"reputation":439,"user_id":271075,"display_name":"Jacek S"},"comment_count":2,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1272396703,"creation_date":1272394960,"answer_id":2724169,"question_id":2723838,"body_markdown":"On a Windows system, you can use free [FileTimes][1] library.\r\n\r\nThis will be easier in the future with [Java NIO.2 (JDK 7) and the java.nio.file.attribute package][2].\r\n\r\nBut remember that most Linux filesystems [don&#39;t support file creation timestamps][3].\r\n\r\n\r\n  [1]: http://mindprod.com/products1.html#FILETIMES\r\n  [2]: http://java.sun.com/developer/technicalArticles/javase/nio/#8\r\n  [3]: http://en.wikipedia.org/wiki/Comparison_of_file_systems#Metadata","title":"Determine file creation date in Java","body":"<p>On a Windows system, you can use free <a href=\"http://mindprod.com/products1.html#FILETIMES\" rel=\"noreferrer\">FileTimes</a> library.</p>\n\n<p>This will be easier in the future with <a href=\"http://java.sun.com/developer/technicalArticles/javase/nio/#8\" rel=\"noreferrer\">Java NIO.2 (JDK 7) and the java.nio.file.attribute package</a>.</p>\n\n<p>But remember that most Linux filesystems <a href=\"http://en.wikipedia.org/wiki/Comparison_of_file_systems#Metadata\" rel=\"noreferrer\">don't support file creation timestamps</a>.</p>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":1,"creation_date":1453591913,"post_id":14455760,"comment_id":57670483,"body_markdown":"Do you know how to do it for Android? BasicFileAttributes isn&#39;t available as built in API there...","body":"Do you know how to do it for Android? BasicFileAttributes isn&#39;t available as built in API there..."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1561039030,"post_id":14455760,"comment_id":99940626,"body_markdown":"This is indeed true, even a call to `stat` doesn&#39;t work. Unless you happen to run a kernel higher than 4.11 with glibc higher than 2.28, and coreutils higher than 8.31, then `stat` will report the _birth_ of the file. See related answer https://unix.stackexchange.com/questions/50177/birth-is-empty-on-ext4/50184#50184\nCurrently the JDK doesn&#39;t use statx syscal.","body":"This is indeed true, even a call to <code>stat</code> doesn&#39;t work. Unless you happen to run a kernel higher than 4.11 with glibc higher than 2.28, and coreutils higher than 8.31, then <code>stat</code> will report the <i>birth</i> of the file. See related answer <a href=\"https://unix.stackexchange.com/questions/50177/birth-is-empty-on-ext4/50184#50184\" title=\"birth is empty on ext4\">unix.stackexchange.com/questions/50177/birth-is-empty-on-ext&zwnj;&#8203;4/&hellip;</a> Currently the JDK doesn&#39;t use statx syscal."}],"tags":[],"owner":{"account_id":200864,"reputation":377,"user_id":1956886,"display_name":"David Nugent"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1358848597,"creation_date":1358848597,"answer_id":14455760,"question_id":2723838,"body_markdown":"As a follow-up to this question - since it relates specifically to creation time and discusses obtaining it via the new nio classes - it seems right now in JDK7&#39;s implementation you&#39;re out of luck. Addendum: same behaviour is in OpenJDK7.\r\n\r\nOn Unix filesystems you cannot retrieve the creation timestamp, you simply get a copy of the last modification time. So sad, but unfortunately true. I&#39;m not sure why that is but the code specifically does that as the following will demonstrate.\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.*;\r\n    import java.nio.file.attribute.*;\r\n\r\n    public class TestFA {\r\n      static void getAttributes(String pathStr) throws IOException {\r\n        Path p = Paths.get(pathStr);\r\n        BasicFileAttributes view\r\n           = Files.getFileAttributeView(p, BasicFileAttributeView.class)\r\n                  .readAttributes();\r\n        System.out.println(view.creationTime()+&quot; is the same as &quot;+view.lastModifiedTime());\r\n      }\r\n      public static void main(String[] args) throws IOException {\r\n        for (String s : args) {\r\n            getAttributes(s);\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Determine file creation date in Java","body":"<p>As a follow-up to this question - since it relates specifically to creation time and discusses obtaining it via the new nio classes - it seems right now in JDK7's implementation you're out of luck. Addendum: same behaviour is in OpenJDK7.</p>\n\n<p>On Unix filesystems you cannot retrieve the creation timestamp, you simply get a copy of the last modification time. So sad, but unfortunately true. I'm not sure why that is but the code specifically does that as the following will demonstrate.</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.file.*;\nimport java.nio.file.attribute.*;\n\npublic class TestFA {\n  static void getAttributes(String pathStr) throws IOException {\n    Path p = Paths.get(pathStr);\n    BasicFileAttributes view\n       = Files.getFileAttributeView(p, BasicFileAttributeView.class)\n              .readAttributes();\n    System.out.println(view.creationTime()+\" is the same as \"+view.lastModifiedTime());\n  }\n  public static void main(String[] args) throws IOException {\n    for (String s : args) {\n        getAttributes(s);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3507352,"reputation":587,"user_id":2932601,"accept_rate":86,"display_name":"Oleksandr Tarasenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1416318098,"creation_date":1416318098,"answer_id":26995786,"question_id":2723838,"body_markdown":"I&#39;ve solved this problem using JDK 7 with this code:\r\n\r\n    package FileCreationDate;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    import java.util.Date;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tFile file = new File(&quot;c:\\\\1.txt&quot;);\r\n    \t\tPath filePath = file.toPath();\r\n    \r\n    \t\tBasicFileAttributes attributes = null;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tattributes =\r\n    \t\t\t\t\tFiles.readAttributes(filePath, BasicFileAttributes.class);\r\n    \t\t}\r\n    \t\tcatch (IOException exception)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Exception handled when trying to get file &quot; +\r\n    \t\t\t\t\t&quot;attributes: &quot; + exception.getMessage());\r\n    \t\t}\r\n    \t\tlong milliseconds = attributes.creationTime().to(TimeUnit.MILLISECONDS);\r\n    \t\tif((milliseconds &gt; Long.MIN_VALUE) &amp;&amp; (milliseconds &lt; Long.MAX_VALUE))\r\n    \t\t{\r\n    \t\t\tDate creationDate =\r\n    \t\t\t\t\tnew Date(attributes.creationTime().to(TimeUnit.MILLISECONDS));\r\n    \r\n    \t\t\tSystem.out.println(&quot;File &quot; + filePath.toString() + &quot; created &quot; +\r\n    \t\t\t\t\tcreationDate.getDate() + &quot;/&quot; +\r\n    \t\t\t\t\t(creationDate.getMonth() + 1) + &quot;/&quot; +\r\n    \t\t\t\t\t(creationDate.getYear() + 1900));\r\n    \t\t}\r\n    \t}\r\n    }","title":"Determine file creation date in Java","body":"<p>I've solved this problem using JDK 7 with this code:</p>\n\n<pre><code>package FileCreationDate;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.attribute.BasicFileAttributes;\nimport java.util.Date;\nimport java.util.concurrent.TimeUnit;\n\npublic class Main\n{\n    public static void main(String[] args) {\n\n        File file = new File(\"c:\\\\1.txt\");\n        Path filePath = file.toPath();\n\n        BasicFileAttributes attributes = null;\n        try\n        {\n            attributes =\n                    Files.readAttributes(filePath, BasicFileAttributes.class);\n        }\n        catch (IOException exception)\n        {\n            System.out.println(\"Exception handled when trying to get file \" +\n                    \"attributes: \" + exception.getMessage());\n        }\n        long milliseconds = attributes.creationTime().to(TimeUnit.MILLISECONDS);\n        if((milliseconds &gt; Long.MIN_VALUE) &amp;&amp; (milliseconds &lt; Long.MAX_VALUE))\n        {\n            Date creationDate =\n                    new Date(attributes.creationTime().to(TimeUnit.MILLISECONDS));\n\n            System.out.println(\"File \" + filePath.toString() + \" created \" +\n                    creationDate.getDate() + \"/\" +\n                    (creationDate.getMonth() + 1) + \"/\" +\n                    (creationDate.getYear() + 1900));\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":303075,"reputation":527,"user_id":611797,"display_name":"jwj"},"score":0,"creation_date":1520956578,"post_id":32771882,"comment_id":85524549,"body_markdown":"People looking to use this class should note that it started shipping in Java 1.7.","body":"People looking to use this class should note that it started shipping in Java 1.7."}],"tags":[],"owner":{"account_id":91056,"reputation":124874,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1478274950,"creation_date":1443133263,"answer_id":32771882,"question_id":2723838,"body_markdown":"This is a basic example of how to get the creation date of a file in `Java`, using [**`BasicFileAttributes`**][1] class:\r\n\r\n       Path path = Paths.get(&quot;C:\\\\Users\\\\jorgesys\\\\workspaceJava\\\\myfile.txt&quot;);\r\n    \tBasicFileAttributes attr;\r\n    \ttry {\r\n    \tattr = Files.readAttributes(path, BasicFileAttributes.class);\r\n    \tSystem.out.println(&quot;Creation date: &quot; + attr.creationTime());\r\n    \t//System.out.println(&quot;Last access date: &quot; + attr.lastAccessTime());\r\n    \t//System.out.println(&quot;Last modified date: &quot; + attr.lastModifiedTime());\r\n    \t} catch (IOException e) {\r\n    \tSystem.out.println(&quot;oops error! &quot; + e.getMessage());\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/BasicFileAttributes.html","title":"Determine file creation date in Java","body":"<p>This is a basic example of how to get the creation date of a file in <code>Java</code>, using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/BasicFileAttributes.html\" rel=\"noreferrer\"><strong><code>BasicFileAttributes</code></strong></a> class:</p>\n\n<pre><code>   Path path = Paths.get(\"C:\\\\Users\\\\jorgesys\\\\workspaceJava\\\\myfile.txt\");\n    BasicFileAttributes attr;\n    try {\n    attr = Files.readAttributes(path, BasicFileAttributes.class);\n    System.out.println(\"Creation date: \" + attr.creationTime());\n    //System.out.println(\"Last access date: \" + attr.lastAccessTime());\n    //System.out.println(\"Last modified date: \" + attr.lastModifiedTime());\n    } catch (IOException e) {\n    System.out.println(\"oops error! \" + e.getMessage());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7206748,"reputation":6346,"user_id":5502121,"display_name":"Kirill Karmazin"},"score":0,"creation_date":1562152112,"post_id":55860428,"comment_id":100286086,"body_markdown":"could you please elaborate on why do we need this hustle with `Instant.ofEpochMilli(date)`. Thanks","body":"could you please elaborate on why do we need this hustle with <code>Instant.ofEpochMilli(date)</code>. Thanks"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680854180,"post_id":55860428,"comment_id":133970049,"body_markdown":"@KirillKarmazin Since Java 1.8 we don&#39;t need to. We can directly use `Instant instant = attr.creationTime().toInstant();`.","body":"@KirillKarmazin Since Java 1.8 we don&#39;t need to. We can directly use <code>Instant instant = attr.creationTime().toInstant();</code>."}],"tags":[],"owner":{"account_id":15818421,"reputation":21,"user_id":11413412,"display_name":"zhangxinqiang"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556249285,"creation_date":1556249285,"answer_id":55860428,"question_id":2723838,"body_markdown":"in java1.7+ \r\nYou can use this code to get file`s create time !\r\n```java\r\nprivate static LocalDateTime getCreateTime(File file) throws IOException {\r\n        Path path = Paths.get(file.getPath());\r\n        BasicFileAttributeView basicfile = Files.getFileAttributeView(path, BasicFileAttributeView.class, LinkOption.NOFOLLOW_LINKS);\r\n        BasicFileAttributes attr = basicfile.readAttributes();\r\n        long date = attr.creationTime().toMillis();\r\n        Instant instant = Instant.ofEpochMilli(date);\r\n        return LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\r\n    }\r\n```","title":"Determine file creation date in Java","body":"<p>in java1.7+ \nYou can use this code to get file`s create time !</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static LocalDateTime getCreateTime(File file) throws IOException {\n        Path path = Paths.get(file.getPath());\n        BasicFileAttributeView basicfile = Files.getFileAttributeView(path, BasicFileAttributeView.class, LinkOption.NOFOLLOW_LINKS);\n        BasicFileAttributes attr = basicfile.readAttributes();\n        long date = attr.creationTime().toMillis();\n        Instant instant = Instant.ofEpochMilli(date);\n        return LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1680853980,"post_id":75952448,"comment_id":133970015,"body_markdown":"Thanks for wanting to contribute. Please don&#39;t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. The `FileTime` object that you get from `creationTime()` has a `toInstant` method that gives you an `Instant` that you may convert to the desired time zone (for example `ZoneId.systemDefault()`) and format using a modern `DateTimeFormatter`. The resulting code will be a bit longer, which is an advantage since it is making more explicit what is happening and therefore reads more clearly and naturally.","body":"Thanks for wanting to contribute. Please don&#39;t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. The <code>FileTime</code> object that you get from <code>creationTime()</code> has a <code>toInstant</code> method that gives you an <code>Instant</code> that you may convert to the desired time zone (for example <code>ZoneId.systemDefault()</code>) and format using a modern <code>DateTimeFormatter</code>. The resulting code will be a bit longer, which is an advantage since it is making more explicit what is happening and therefore reads more clearly and naturally."}],"tags":[],"owner":{"account_id":11806275,"reputation":1,"user_id":8638682,"display_name":"JuanK"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680803918,"creation_date":1680803918,"answer_id":75952448,"question_id":2723838,"body_markdown":"Basically after you get the creation date from the BasicFileAttributeView object, you should format the date to show:\r\n\r\n    String modifiedDate;\r\n    Path inPath = Paths.get(yourfile.getAbsolutePath());\r\n    BasicFileAttributes attr;\r\n    try {\r\n        attr = Files.readAttributes(inPath, BasicFileAttributes.class);\r\n    } catch (IOException e) {\r\n        attr = null;\r\n    }\r\n            \r\n    if (attr == null) {\r\n         this.modifiedDate = null;\r\n    } else {\r\n        this.modifiedDate = simpleDateFormat.format(attr.creationTime().toMillis());\r\n    }","title":"Determine file creation date in Java","body":"<p>Basically after you get the creation date from the BasicFileAttributeView object, you should format the date to show:</p>\n<pre><code>String modifiedDate;\nPath inPath = Paths.get(yourfile.getAbsolutePath());\nBasicFileAttributes attr;\ntry {\n    attr = Files.readAttributes(inPath, BasicFileAttributes.class);\n} catch (IOException e) {\n    attr = null;\n}\n        \nif (attr == null) {\n     this.modifiedDate = null;\n} else {\n    this.modifiedDate = simpleDateFormat.format(attr.creationTime().toMillis());\n}\n</code></pre>\n"}],"owner":{"account_id":50722,"reputation":1895,"user_id":151343,"accept_rate":73,"display_name":"Todd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210381,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"answer_count":8,"score":137,"last_activity_date":1680803918,"creation_date":1272392386,"question_id":2723838,"body_markdown":"There is another similar question to mine on StackOverflow ([How to get creation date of a file in Java][1]), but the answer isn&#39;t really there as the OP had a different need that could be solved via other mechanisms.  I am trying to create a list of the files in a directory that can be sorted by age, hence the need for the file creation date.\r\n\r\nI haven&#39;t located any good way to do this after much trawling of the web.  Is there a mechanism for getting file creation dates?\r\n\r\nBTW, currently on a Windows system, may need this to work on a Linux system as well.  Also, I can&#39;t guarantee that a file naming convention would be followed where the creation date/time is embedded in the name.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/741466/how-to-get-creation-date-of-a-file-in-java","title":"Determine file creation date in Java","body":"<p>There is another similar question to mine on StackOverflow (<a href=\"https://stackoverflow.com/questions/741466/how-to-get-creation-date-of-a-file-in-java\">How to get creation date of a file in Java</a>), but the answer isn't really there as the OP had a different need that could be solved via other mechanisms.  I am trying to create a list of the files in a directory that can be sorted by age, hence the need for the file creation date.</p>\n\n<p>I haven't located any good way to do this after much trawling of the web.  Is there a mechanism for getting file creation dates?</p>\n\n<p>BTW, currently on a Windows system, may need this to work on a Linux system as well.  Also, I can't guarantee that a file naming convention would be followed where the creation date/time is embedded in the name.</p>\n"},{"tags":["java","sorting","time-complexity","comparison"],"comments":[{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1680782942,"post_id":75933954,"comment_id":133958250,"body_markdown":"What are &quot;odd&quot;/&quot;even&quot; comparisons?","body":"What are &quot;odd&quot;/&quot;even&quot; comparisons?"},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1680783611,"post_id":75933954,"comment_id":133958382,"body_markdown":"Since you were even already given the answer: what did the instructor say when you asked them for an explanation?","body":"Since you were even already given the answer: what did the instructor say when you asked them for an explanation?"}],"answers":[{"comments":[{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1680660863,"post_id":75934154,"comment_id":133934571,"body_markdown":"Oh thank you very much! How do you know what comparison is even or odd? Do we get that by the index of i or the number of swap?","body":"Oh thank you very much! How do you know what comparison is even or odd? Do we get that by the index of i or the number of swap?"},{"owner":{"account_id":246495,"reputation":10418,"user_id":520684,"accept_rate":73,"display_name":"Daniel Figueroa"},"score":1,"creation_date":1680696672,"post_id":75934154,"comment_id":133941132,"body_markdown":"I interpreted it as a comparison between 6 and 5 count as uneven and a comparison between 6 and 4 would count as even.","body":"I interpreted it as a comparison between 6 and 5 count as uneven and a comparison between 6 and 4 would count as even."},{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1680699194,"post_id":75934154,"comment_id":133941981,"body_markdown":"Oh I see, the sum between them is what is going to determine if the comparison is even or not.","body":"Oh I see, the sum between them is what is going to determine if the comparison is even or not."},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1680783173,"post_id":75934154,"comment_id":133958301,"body_markdown":"Who writes insertion sort so that it compares each element with itself? That would just be stupid.","body":"Who writes insertion sort so that it compares each element with itself? That would just be stupid."},{"owner":{"account_id":246495,"reputation":10418,"user_id":520684,"accept_rate":73,"display_name":"Daniel Figueroa"},"score":0,"creation_date":1680804044,"post_id":75934154,"comment_id":133963484,"body_markdown":"@KellyBundy agreed, I&#39;m actually hoping I&#39;m wrong with what this professor is looking for. and that I&#39;ve missed something obvious.","body":"@KellyBundy agreed, I&#39;m actually hoping I&#39;m wrong with what this professor is looking for. and that I&#39;ve missed something obvious."}],"tags":[],"owner":{"account_id":246495,"reputation":10418,"user_id":520684,"accept_rate":73,"display_name":"Daniel Figueroa"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680803894,"creation_date":1680645425,"answer_id":75934154,"question_id":75933954,"body_markdown":"It&#39;s been too many years since I did any CS like this so I might be completely off but then I&#39;m sure people will comment on the validity of this answer, but this is what I think your professor means happens. \r\nWhich if I&#39;m correct seems weird, since one of the comparisons is of the item itself.\r\n\r\n__First iteration:__ compare 6 with 6, since it&#39;s the first item in the list do nothing.  \r\n__Second iteration:__ compare 5 with 5, but it isn&#39;t the first element, compare it with next element to the left. Since 5 &lt; 6 place 5 before 6  \r\n__Third iteration:__ compare 4 with 4, but it isn&#39;t the first element, compare it with next element to the left. Since 4 &lt; 6 move to next item and compare 4 &lt; 5 is true place 4 before 5. \r\nAnd so on...  \r\n\r\n    1. 654321 | 1 ({6,6} = 1)\r\n    2. 564321 | 3 ({5,5 = 1}, {5,6 = 2})\r\n    3. 456321 | 4 ({4,4 = 1}, {4,6 = 1}, {4,5 = 2})\r\n    4. 345621 | 6 ({3,3 = 1}, {3,6 = 2}, {3,5 = 1}, {3,4 = 2})\r\n    5. 234561 | 7 ({2,2 = 1}, {2,6 = 1}, {2,5 = 2}, {2,4 = 1}, {2,3 = 2})\r\n    6. 123456 | 9 ({1,1 = 1}, {1,6 = 2}, {1,5 = 1}, {1,4 = 2}, {1,3 = 1}, {1,2 = 2})\r\n\r\n1+3+4+6+7+9 = 30","title":"how long will an insertion sort algorithm take to sort a list of 6 elements?","body":"<p>It's been too many years since I did any CS like this so I might be completely off but then I'm sure people will comment on the validity of this answer, but this is what I think your professor means happens.\nWhich if I'm correct seems weird, since one of the comparisons is of the item itself.</p>\n<p><strong>First iteration:</strong> compare 6 with 6, since it's the first item in the list do nothing.<br />\n<strong>Second iteration:</strong> compare 5 with 5, but it isn't the first element, compare it with next element to the left. Since 5 &lt; 6 place 5 before 6<br />\n<strong>Third iteration:</strong> compare 4 with 4, but it isn't the first element, compare it with next element to the left. Since 4 &lt; 6 move to next item and compare 4 &lt; 5 is true place 4 before 5.\nAnd so on...</p>\n<pre><code>1. 654321 | 1 ({6,6} = 1)\n2. 564321 | 3 ({5,5 = 1}, {5,6 = 2})\n3. 456321 | 4 ({4,4 = 1}, {4,6 = 1}, {4,5 = 2})\n4. 345621 | 6 ({3,3 = 1}, {3,6 = 2}, {3,5 = 1}, {3,4 = 2})\n5. 234561 | 7 ({2,2 = 1}, {2,6 = 1}, {2,5 = 2}, {2,4 = 1}, {2,3 = 2})\n6. 123456 | 9 ({1,1 = 1}, {1,6 = 2}, {1,5 = 1}, {1,4 = 2}, {1,3 = 1}, {1,2 = 2})\n</code></pre>\n<p>1+3+4+6+7+9 = 30</p>\n"}],"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75934154,"answer_count":1,"score":-2,"last_activity_date":1680803894,"creation_date":1680643500,"question_id":75933954,"body_markdown":"&quot;In the worst case, assuming each odd comparison takes 2 &#181;s and each even comparison takes 1 &#181;s, how long will an insertion sort algorithm take to sort a list of 6 elements?&quot;\r\n\r\nSo I have a class where we are taught how to code in Java. We are learning about sorting algorithms like Bubble, Merge, Insertion or Quick sorts and their time complexities. In a quiz, I got this question. The answer to this question was 30 &#181;s. Why is that the answer? (btw the question was just that. No program or description was provided).","title":"how long will an insertion sort algorithm take to sort a list of 6 elements?","body":"<p>&quot;In the worst case, assuming each odd comparison takes 2 s and each even comparison takes 1 s, how long will an insertion sort algorithm take to sort a list of 6 elements?&quot;</p>\n<p>So I have a class where we are taught how to code in Java. We are learning about sorting algorithms like Bubble, Merge, Insertion or Quick sorts and their time complexities. In a quiz, I got this question. The answer to this question was 30 s. Why is that the answer? (btw the question was just that. No program or description was provided).</p>\n"},{"tags":["java","android","android-studio","service","android-notifications"],"answers":[{"tags":[],"owner":{"account_id":28066075,"reputation":11,"user_id":21439449,"display_name":"Bableb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680803573,"creation_date":1680803573,"answer_id":75952403,"question_id":75952172,"body_markdown":"Instead of using the constructor to pass a certain value in an application context, you should try to pass it as a Bundle to the OnCreate function. Here is a link to the documentation : https://developer.android.com/reference/android/os/Bundle . ` @Override\r\n    public void onCreate(Bundle putYourInfoHere) {\r\n        super.onCreate(putYourInfoHere);\r\n\r\n        this.presetOption = putYoutInfoHere.getInt\r\n\r\n        //Notification Preset1\r\n        String titledText1 = &quot;Scan Docs With A.I Filters&quot;;\r\n        String someBigText1 = &quot;It&#39;s been a long time since no document is scanned...&quot;;\r\n        if (presetOption == 1)\r\n        {\r\n            createNotification(titledText1, someBigText1);\r\n        }\r\n        else if (presetOption == 2)\r\n        {\r\n            //notification Preset2\r\n            String titledText2 = &quot;Try ID Car Scan&quot;;\r\n            String someBigText2 = &quot;Best ever ID card scanning let you scan both side of ID Card on same page more visible&quot;;\r\n            createNotification(titledText2, someBigText2);\r\n        }else if (presetOption == 3)\r\n        {\r\n            //notification Preset3\r\n            String titledText3 = &quot;Try Digital Signature&quot;;\r\n            String someBigText3 = &quot;Draw or Import digital signature and place it on any document you want.&quot;;\r\n            createNotification(titledText3, someBigText3);\r\n        }else if (presetOption == 4)\r\n        {\r\n            //notification Preset4\r\n            String titledText4 = &quot;D.S.P Ocr feature&quot;;\r\n            String someBigText4 = &quot;Let&#39;s convert text image into editable text for you...&quot;;\r\n            createNotification(titledText4, someBigText4);\r\n        }\r\n        else\r\n        {\r\n            createNotification(titledText1, someBigText1);\r\n        }\r\n\r\n\r\n    }`\r\n\r\nI am assuming that you get you&#39;re presetValue in your constructor from another page. If so, you should implement a function to store the value in your Bundle as shown in the documentation.","title":"Constructor parameters not known inside onCreate method of Service Class in Android Studio","body":"<p>Instead of using the constructor to pass a certain value in an application context, you should try to pass it as a Bundle to the OnCreate function. Here is a link to the documentation : <a href=\"https://developer.android.com/reference/android/os/Bundle\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/Bundle</a> . ` @Override\npublic void onCreate(Bundle putYourInfoHere) {\nsuper.onCreate(putYourInfoHere);</p>\n<pre><code>    this.presetOption = putYoutInfoHere.getInt\n\n    //Notification Preset1\n    String titledText1 = &quot;Scan Docs With A.I Filters&quot;;\n    String someBigText1 = &quot;It's been a long time since no document is scanned...&quot;;\n    if (presetOption == 1)\n    {\n        createNotification(titledText1, someBigText1);\n    }\n    else if (presetOption == 2)\n    {\n        //notification Preset2\n        String titledText2 = &quot;Try ID Car Scan&quot;;\n        String someBigText2 = &quot;Best ever ID card scanning let you scan both side of ID Card on same page more visible&quot;;\n        createNotification(titledText2, someBigText2);\n    }else if (presetOption == 3)\n    {\n        //notification Preset3\n        String titledText3 = &quot;Try Digital Signature&quot;;\n        String someBigText3 = &quot;Draw or Import digital signature and place it on any document you want.&quot;;\n        createNotification(titledText3, someBigText3);\n    }else if (presetOption == 4)\n    {\n        //notification Preset4\n        String titledText4 = &quot;D.S.P Ocr feature&quot;;\n        String someBigText4 = &quot;Let's convert text image into editable text for you...&quot;;\n        createNotification(titledText4, someBigText4);\n    }\n    else\n    {\n        createNotification(titledText1, someBigText1);\n    }\n\n\n}`\n</code></pre>\n<p>I am assuming that you get you're presetValue in your constructor from another page. If so, you should implement a function to store the value in your Bundle as shown in the documentation.</p>\n"}],"owner":{"account_id":27102131,"reputation":1,"user_id":20648503,"display_name":"Kamran Ullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680803573,"creation_date":1680801599,"question_id":75952172,"body_markdown":"\r\n```\r\n``package com.arkenstonestudio.docxscanner.Notification;\r\n\r\nimport android.app.Notification;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.app.PendingIntent;\r\nimport android.app.Service;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.IBinder;\r\nimport android.util.Log;\r\nimport androidx.core.app.NotificationCompat;\r\nimport com.arkenstonestudio.docxscanner.LauncherActivity;\r\nimport com.arkenstonestudio.docxscanner.R;\r\n\r\npublic class ShowNotification extends Service {\r\n\r\n    private final static String TAG = &quot;ShowNotification&quot;;\r\n    NotificationManager mNotificationManager;\r\n    private int presetOption = 0;\r\n\r\n    public void notificationValues(int presetOptionX){\r\n\r\n       this.presetOption = presetOptionX; // 3 int value here is not known in onCreate\r\n        Log.i(TAG, &quot;Constructor: &quot;+ this.presetOption);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        Log.i(TAG, &quot;onCreate: &quot;+presetOption); // 0 int value is shown here instead of 3\r\n\r\n        //Notification Preset1\r\n        String titledText1 = &quot;Scan Docs With A.I Filters&quot;;\r\n        String someBigText1 = &quot;It&#39;s been a long time since no document is scanned...&quot;;\r\n        if (presetOption == 1)\r\n        {\r\n            createNotification(titledText1, someBigText1);\r\n        }\r\n        else if (presetOption == 2)\r\n        {\r\n            //notification Preset2\r\n            String titledText2 = &quot;Try ID Car Scan&quot;;\r\n            String someBigText2 = &quot;Best ever ID card scanning let you scan both side of ID Card on same page more visible&quot;;\r\n            createNotification(titledText2, someBigText2);\r\n        }else if (presetOption == 3)\r\n        {\r\n            //notification Preset3\r\n            String titledText3 = &quot;Try Digital Signature&quot;;\r\n            String someBigText3 = &quot;Draw or Import digital signature and place it on any document you want.&quot;;\r\n            createNotification(titledText3, someBigText3);\r\n        }else if (presetOption == 4)\r\n        {\r\n            //notification Preset4\r\n            String titledText4 = &quot;D.S.P Ocr feature&quot;;\r\n            String someBigText4 = &quot;Let&#39;s convert text image into editable text for you...&quot;;\r\n            createNotification(titledText4, someBigText4);\r\n        }\r\n        else\r\n        {\r\n            createNotification(titledText1, someBigText1);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private void createNotification(String titledTxt, String bigTxt){\r\n\r\n        NotificationCompat.BigTextStyle bigText = new NotificationCompat.BigTextStyle();\r\n\r\n        NotificationCompat.Builder mBuilder =\r\n                new NotificationCompat.Builder(getApplicationContext(), &quot;notify_001&quot;);\r\n        Intent ii = new Intent(getApplicationContext(), LauncherActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, ii, 0);\r\n\r\n\r\n        mBuilder.setContentIntent(pendingIntent);\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            mBuilder.setSmallIcon(R.drawable.docx_scan_trans);\r\n            mBuilder.setColor(getResources().getColor(R.color.white));\r\n        } else {\r\n            mBuilder.setSmallIcon(R.mipmap.ic_launcher);\r\n        }\r\n\r\n        mBuilder.setContentTitle(titledTxt);\r\n        mBuilder.setContentText(bigTxt);\r\n        mBuilder.setPriority(Notification.PRIORITY_MAX);\r\n        mBuilder.setStyle(bigText);\r\n\r\n        mNotificationManager =\r\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n        // === Removed some obsoletes\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n        {\r\n            String channelId = &quot;dsp-rc-123&quot;;\r\n            NotificationChannel channel = new NotificationChannel(\r\n                    channelId,\r\n                    &quot;Docx scanner Plus&quot;,\r\n                    NotificationManager.IMPORTANCE_HIGH);\r\n            mNotificationManager.createNotificationChannel(channel);\r\n            mBuilder.setChannelId(channelId);\r\n        }\r\n\r\n        mNotificationManager.notify(0, mBuilder.build());\r\n        Log.i(TAG, &quot;Notification created&quot;);\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        // TODO Auto-generated method stub\r\n        return null;\r\n    }\r\n}`\r\n\r\n```\r\n`\r\n**I am trying above code where I use constructor for initialization of int value and then I try to access that value inside onCreate method but the problem is that int value inside onCreate method is always 0 while the value is shown correctly inside constructor. Anyone can help me with that...Thanks in Advance.**\r\n\r\nScreenshot is shown for more clarification:\r\n[enter image description here](https://i.stack.imgur.com/vmani.png)\r\n\r\nAll I want to access the constructor value and assign it to variable inside class so that to make it global.\r\n\r\nI did not find any suitable answer related to my problem on Stack Overflow","title":"Constructor parameters not known inside onCreate method of Service Class in Android Studio","body":"<pre><code>``package com.arkenstonestudio.docxscanner.Notification;\n\nimport android.app.Notification;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.app.PendingIntent;\nimport android.app.Service;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Build;\nimport android.os.IBinder;\nimport android.util.Log;\nimport androidx.core.app.NotificationCompat;\nimport com.arkenstonestudio.docxscanner.LauncherActivity;\nimport com.arkenstonestudio.docxscanner.R;\n\npublic class ShowNotification extends Service {\n\n    private final static String TAG = &quot;ShowNotification&quot;;\n    NotificationManager mNotificationManager;\n    private int presetOption = 0;\n\n    public void notificationValues(int presetOptionX){\n\n       this.presetOption = presetOptionX; // 3 int value here is not known in onCreate\n        Log.i(TAG, &quot;Constructor: &quot;+ this.presetOption);\n\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        Log.i(TAG, &quot;onCreate: &quot;+presetOption); // 0 int value is shown here instead of 3\n\n        //Notification Preset1\n        String titledText1 = &quot;Scan Docs With A.I Filters&quot;;\n        String someBigText1 = &quot;It's been a long time since no document is scanned...&quot;;\n        if (presetOption == 1)\n        {\n            createNotification(titledText1, someBigText1);\n        }\n        else if (presetOption == 2)\n        {\n            //notification Preset2\n            String titledText2 = &quot;Try ID Car Scan&quot;;\n            String someBigText2 = &quot;Best ever ID card scanning let you scan both side of ID Card on same page more visible&quot;;\n            createNotification(titledText2, someBigText2);\n        }else if (presetOption == 3)\n        {\n            //notification Preset3\n            String titledText3 = &quot;Try Digital Signature&quot;;\n            String someBigText3 = &quot;Draw or Import digital signature and place it on any document you want.&quot;;\n            createNotification(titledText3, someBigText3);\n        }else if (presetOption == 4)\n        {\n            //notification Preset4\n            String titledText4 = &quot;D.S.P Ocr feature&quot;;\n            String someBigText4 = &quot;Let's convert text image into editable text for you...&quot;;\n            createNotification(titledText4, someBigText4);\n        }\n        else\n        {\n            createNotification(titledText1, someBigText1);\n        }\n\n\n    }\n\n    private void createNotification(String titledTxt, String bigTxt){\n\n        NotificationCompat.BigTextStyle bigText = new NotificationCompat.BigTextStyle();\n\n        NotificationCompat.Builder mBuilder =\n                new NotificationCompat.Builder(getApplicationContext(), &quot;notify_001&quot;);\n        Intent ii = new Intent(getApplicationContext(), LauncherActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, ii, 0);\n\n\n        mBuilder.setContentIntent(pendingIntent);\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            mBuilder.setSmallIcon(R.drawable.docx_scan_trans);\n            mBuilder.setColor(getResources().getColor(R.color.white));\n        } else {\n            mBuilder.setSmallIcon(R.mipmap.ic_launcher);\n        }\n\n        mBuilder.setContentTitle(titledTxt);\n        mBuilder.setContentText(bigTxt);\n        mBuilder.setPriority(Notification.PRIORITY_MAX);\n        mBuilder.setStyle(bigText);\n\n        mNotificationManager =\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n        // === Removed some obsoletes\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n        {\n            String channelId = &quot;dsp-rc-123&quot;;\n            NotificationChannel channel = new NotificationChannel(\n                    channelId,\n                    &quot;Docx scanner Plus&quot;,\n                    NotificationManager.IMPORTANCE_HIGH);\n            mNotificationManager.createNotificationChannel(channel);\n            mBuilder.setChannelId(channelId);\n        }\n\n        mNotificationManager.notify(0, mBuilder.build());\n        Log.i(TAG, &quot;Notification created&quot;);\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n}`\n\n</code></pre>\n<p>`\n<strong>I am trying above code where I use constructor for initialization of int value and then I try to access that value inside onCreate method but the problem is that int value inside onCreate method is always 0 while the value is shown correctly inside constructor. Anyone can help me with that...Thanks in Advance.</strong></p>\n<p>Screenshot is shown for more clarification:\n<a href=\"https://i.stack.imgur.com/vmani.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>All I want to access the constructor value and assign it to variable inside class so that to make it global.</p>\n<p>I did not find any suitable answer related to my problem on Stack Overflow</p>\n"},{"tags":["java","if-statement","math","design-patterns","switch-statement"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1680784126,"post_id":75949502,"comment_id":133958488,"body_markdown":"You have exactly one line that mentions `y` twice, every other line mentions each variable once. Is that a typo? Also: what should happen when `q` is  &lt; 0 or &gt; 6?","body":"You have exactly one line that mentions <code>y</code> twice, every other line mentions each variable once. Is that a typo? Also: what should happen when <code>q</code> is  &lt; 0 or &gt; 6?"},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680784646,"post_id":75949502,"comment_id":133958618,"body_markdown":"There is no situation for `q is &lt; 0 or &gt; 6`, forget it. ANd yes, I updated the equation there is a problem with line 4","body":"There is no situation for <code>q is &lt; 0 or &gt; 6</code>, forget it. ANd yes, I updated the equation there is a problem with line 4"}],"answers":[{"comments":[{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680796391,"post_id":75950061,"comment_id":133961724,"body_markdown":"Thanks a lot for your help and voted up. Actually `q` values are not 1,2,3 and I posted is for simplicity. So, could you have a look at the updated question (`q &gt;= x and &lt; y` parts) and suggest a solution for that? Thanks in advance.","body":"Thanks a lot for your help and voted up. Actually <code>q</code> values are not 1,2,3 and I posted is for simplicity. So, could you have a look at the updated question (<code>q &gt;= x and &lt; y</code> parts) and suggest a solution for that? Thanks in advance."}],"tags":[],"owner":{"account_id":953960,"reputation":2945,"user_id":979590,"accept_rate":38,"display_name":"Gabriel Belingueres"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680787464,"creation_date":1680787464,"answer_id":75950061,"question_id":75949502,"body_markdown":"Assuming the x, y, and z values are somewhat constant, you could create a Map that translate the q value to a particular assignment of A, B, C.\r\n\r\n    Map&lt;Long,Assignment&gt; map = new HashMap&lt;&gt;();\r\n    map.put(0, new Assignment(x,y,z));\r\n    map.put(1, new Assignment(y,x,z));\r\n    ...\r\n    map.put(5, new Assignment(x,z,y));\r\n    \r\n    public Assignment getAssignment(double q) {\r\n      // out of range values of q return null\r\n      return map.get((long)Math.floor(q));\r\n    }","title":"How to simplify an equation by using min amount of if block in Java?","body":"<p>Assuming the x, y, and z values are somewhat constant, you could create a Map that translate the q value to a particular assignment of A, B, C.</p>\n<pre><code>Map&lt;Long,Assignment&gt; map = new HashMap&lt;&gt;();\nmap.put(0, new Assignment(x,y,z));\nmap.put(1, new Assignment(y,x,z));\n...\nmap.put(5, new Assignment(x,z,y));\n\npublic Assignment getAssignment(double q) {\n  // out of range values of q return null\n  return map.get((long)Math.floor(q));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680796396,"post_id":75950229,"comment_id":133961726,"body_markdown":"Thanks a lot for your help and voted up. Actually `q` values are not 1,2,3 and I posted is for simplicity. So, could you have a look at the updated question (`q &gt;= x and &lt; y` parts) and suggest a solution for that? Thanks in advance.","body":"Thanks a lot for your help and voted up. Actually <code>q</code> values are not 1,2,3 and I posted is for simplicity. So, could you have a look at the updated question (<code>q &gt;= x and &lt; y</code> parts) and suggest a solution for that? Thanks in advance."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680797963,"post_id":75950229,"comment_id":133962103,"body_markdown":"@jonathan if you understand the posted answer, you will see that the two last values of `Foo` are the lower and upper bounds... so you just need to change these values when the `Foo`s are being created (e.g. instead of `new Foo(y, x, z, 1, 2)` it could be `new Foo(y, x, z, 5, 10)`)","body":"@jonathan if you understand the posted answer, you will see that the two last values of <code>Foo</code> are the lower and upper bounds... so you just need to change these values when the <code>Foo</code>s are being created (e.g. instead of <code>new Foo(y, x, z, 1, 2)</code> it could be <code>new Foo(y, x, z, 5, 10)</code>)"}],"tags":[],"owner":{"account_id":4711943,"reputation":4009,"user_id":3812201,"accept_rate":100,"display_name":"ArcticLord"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680788490,"creation_date":1680788490,"answer_id":75950229,"question_id":75949502,"body_markdown":"Let me suggest a simple data structure:\r\n\r\n    public class Foo {\r\n\t\tprivate static final List&lt;Foo&gt; library;\r\n\t\tstatic {\r\n\t\t\tlibrary = new ArrayList&lt;Foo&gt;();\r\n\t\t\tlibrary.add(new Foo(x, y, z, 0, 1));\r\n\t\t\tlibrary.add(new Foo(y, x, z, 1, 2));\r\n\t\t\tlibrary.add(new Foo(z, x, y, 2, 3));\r\n\t\t\tlibrary.add(new Foo(z, y, x, 3, 4));\r\n\t\t\tlibrary.add(new Foo(y, z, x, 4, 5));\r\n\t\t\tlibrary.add(new Foo(x, z, y, 5, 6));\r\n\t\t};\r\n\t\tpublic static Foo get(double val) {\r\n\t\t\tfor(Foo foo : library) {\r\n\t\t\t\tif(foo.lower &lt;= val &amp;&amp; foo.upper &gt; val)\r\n\t\t\t\t\treturn foo;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tpublic final Object A,B,C;\r\n\t\tprivate final double lower,upper;\r\n\t\tprivate Foo(Object A, Object B, Object C, double lower, double upper) {\r\n\t\t\tthis.A = A;\r\n\t\t\tthis.B = B;\r\n\t\t\tthis.C = C;\r\n\t\t\tthis.lower = lower;\r\n\t\t\tthis.upper = upper;\r\n\t\t}\r\n\t}\r\n\r\nThen you can acces your values like this\r\n\r\n    Foo foo = Foo.get(1.5d);\r\n\tfoo.A; // y","title":"How to simplify an equation by using min amount of if block in Java?","body":"<p>Let me suggest a simple data structure:</p>\n<pre><code>public class Foo {\n    private static final List&lt;Foo&gt; library;\n    static {\n        library = new ArrayList&lt;Foo&gt;();\n        library.add(new Foo(x, y, z, 0, 1));\n        library.add(new Foo(y, x, z, 1, 2));\n        library.add(new Foo(z, x, y, 2, 3));\n        library.add(new Foo(z, y, x, 3, 4));\n        library.add(new Foo(y, z, x, 4, 5));\n        library.add(new Foo(x, z, y, 5, 6));\n    };\n    public static Foo get(double val) {\n        for(Foo foo : library) {\n            if(foo.lower &lt;= val &amp;&amp; foo.upper &gt; val)\n                return foo;\n        }\n        return null;\n    }\n    public final Object A,B,C;\n    private final double lower,upper;\n    private Foo(Object A, Object B, Object C, double lower, double upper) {\n        this.A = A;\n        this.B = B;\n        this.C = C;\n        this.lower = lower;\n        this.upper = upper;\n    }\n}\n</code></pre>\n<p>Then you can acces your values like this</p>\n<pre><code>Foo foo = Foo.get(1.5d);\nfoo.A; // y\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680792828,"post_id":75950650,"comment_id":133960747,"body_markdown":"BTW `default` can also throw an exception (e.g. `IllegalArgumentException`)","body":"BTW <code>default</code> can also throw an exception (e.g. <code>IllegalArgumentException</code>)"},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680796403,"post_id":75950650,"comment_id":133961730,"body_markdown":"Thanks a lot for your help and voted up. Actually `q` values are not 1,2,3 and I posted is for simplicity. So, could you have a look at the updated question (`q &gt;= x and &lt; y` parts) and suggest a solution for that? Thanks in advance.","body":"Thanks a lot for your help and voted up. Actually <code>q</code> values are not 1,2,3 and I posted is for simplicity. So, could you have a look at the updated question (<code>q &gt;= x and &lt; y</code> parts) and suggest a solution for that? Thanks in advance."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680796904,"post_id":75950650,"comment_id":133961850,"body_markdown":"@jonathan Not a problem. Just divide `q` by 5 to get 0 thru 5 inclusive.   I cast to an `int` in case it is a double.  I updated the answer.","body":"@jonathan Not a problem. Just divide <code>q</code> by 5 to get 0 thru 5 inclusive.   I cast to an <code>int</code> in case it is a double.  I updated the answer."},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680802283,"post_id":75950650,"comment_id":133963083,"body_markdown":"**Fascinating!..** Thanks a lot, it seems to work properly. Just wondered what is the purpose of `&lt;T&gt;` in front of `Data&lt;T&gt;``in the `getValues` method. Could you please explain it? I do not make it work with this.","body":"<b>Fascinating!..</b> Thanks a lot, it seems to work properly. Just wondered what is the purpose of <code>&lt;T&gt;</code> in front of <code>Data&lt;T&gt;``in the </code>getValues` method. Could you please explain it? I do not make it work with this."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1680803586,"post_id":75950650,"comment_id":133963379,"body_markdown":"It is a generic type to allow the method to work for any type .  So  `A,B,C`, and `x,y,z` could be any type. `Strings. Doubles`, etc. When I declared `Data&lt;Integer&gt;` that set the type of `Integer` for this example.  I updated it to show how Strings could be used.","body":"It is a generic type to allow the method to work for any type .  So  <code>A,B,C</code>, and <code>x,y,z</code> could be any type. <code>Strings. Doubles</code>, etc. When I declared <code>Data&lt;Integer&gt;</code> that set the type of <code>Integer</code> for this example.  I updated it to show how Strings could be used."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680803443,"creation_date":1680791067,"answer_id":75950650,"question_id":75949502,"body_markdown":"You could use a switch statement to return an object with the values. Here I am using a `record` as an immutable class.  It could also be a regular class.\r\n```\r\nrecord Data&lt;T&gt; (T A, T B, T C) {}\r\n\r\nData&lt;Integer&gt; d = getValues(10.6, 10,20,30);\r\nSystem.out.println(d);\r\nData&lt;String&gt; d2 = getValues(9.3, &quot;One&quot;,&quot;Two&quot;,&quot;Three&quot;);\r\nSystem.out.println(d2);\r\n```\r\nprints\r\n```\r\nData[A=30, B=10, C=20]\r\nData[A=Two, B=One, C=Three]\r\n```\r\n- casting `q` to an `int` will select the correct case\r\n- then just return the object associated with the value of `q`\r\n- Exception will be thrown if `q` is out of range.\r\n```\r\npublic static &lt;T&gt; Data&lt;T&gt; getValues(double q, T x, T y, T z) {           \r\n   return switch((int)(q/5)) {\r\n         case 0 -&gt; new Data&lt;&gt;(y,x,z);\r\n         case 1 -&gt; new Data&lt;&gt;(y,x,z);\r\n         case 2 -&gt; new Data&lt;&gt;(z,x,y);\r\n         case 3 -&gt; new Data&lt;&gt;(z,y,x);\r\n         case 4 -&gt; new Data&lt;&gt;(y,z,x);\r\n         case 5 -&gt; new Data&lt;&gt;(x,z,y);\r\n         default -&gt; throw new IllegalArgumentException(&quot;Argument out of range q = &quot; + q);\r\n   \r\n     };\r\n}","title":"How to simplify an equation by using min amount of if block in Java?","body":"<p>You could use a switch statement to return an object with the values. Here I am using a <code>record</code> as an immutable class.  It could also be a regular class.</p>\n<pre><code>record Data&lt;T&gt; (T A, T B, T C) {}\n\nData&lt;Integer&gt; d = getValues(10.6, 10,20,30);\nSystem.out.println(d);\nData&lt;String&gt; d2 = getValues(9.3, &quot;One&quot;,&quot;Two&quot;,&quot;Three&quot;);\nSystem.out.println(d2);\n</code></pre>\n<p>prints</p>\n<pre><code>Data[A=30, B=10, C=20]\nData[A=Two, B=One, C=Three]\n</code></pre>\n<ul>\n<li>casting <code>q</code> to an <code>int</code> will select the correct case</li>\n<li>then just return the object associated with the value of <code>q</code></li>\n<li>Exception will be thrown if <code>q</code> is out of range.</li>\n</ul>\n<pre><code>public static &lt;T&gt; Data&lt;T&gt; getValues(double q, T x, T y, T z) {           \n   return switch((int)(q/5)) {\n         case 0 -&gt; new Data&lt;&gt;(y,x,z);\n         case 1 -&gt; new Data&lt;&gt;(y,x,z);\n         case 2 -&gt; new Data&lt;&gt;(z,x,y);\n         case 3 -&gt; new Data&lt;&gt;(z,y,x);\n         case 4 -&gt; new Data&lt;&gt;(y,z,x);\n         case 5 -&gt; new Data&lt;&gt;(x,z,y);\n         default -&gt; throw new IllegalArgumentException(&quot;Argument out of range q = &quot; + q);\n   \n     };\n}\n</code></pre>\n"}],"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75950650,"answer_count":3,"score":0,"last_activity_date":1680803443,"creation_date":1680784009,"question_id":75949502,"body_markdown":"I have the following equation and I am thinking that there may be an approach to simplify it:\r\n\r\n```\r\n(A, B, C) = (x, y, z), if (0 &lt;= q &lt; 5)\r\n            (y, x, z), if (5 &lt;= q &lt; 10)\r\n            (z, x ,y), if (10 &lt;= q &lt; 15)\r\n            (z, y, x), if (15 &lt;= q &lt; 20)\r\n            (y, z, x), if (20 &lt;= q &lt; 25)\r\n            (x, z, y), if (25 &lt;= q &lt; 30)\r\n```\r\n\r\nIs there a better way to write 6 condition for this equation? \r\n\r\n```\r\nif(0 &lt;= q &amp;&amp; q &lt; 1)\r\n    A = x; B 0 y; C = z;\r\nelse if(1 &lt;= q &amp;&amp; q &lt; 2)\r\n   ...\r\n```","title":"How to simplify an equation by using min amount of if block in Java?","body":"<p>I have the following equation and I am thinking that there may be an approach to simplify it:</p>\n<pre><code>(A, B, C) = (x, y, z), if (0 &lt;= q &lt; 5)\n            (y, x, z), if (5 &lt;= q &lt; 10)\n            (z, x ,y), if (10 &lt;= q &lt; 15)\n            (z, y, x), if (15 &lt;= q &lt; 20)\n            (y, z, x), if (20 &lt;= q &lt; 25)\n            (x, z, y), if (25 &lt;= q &lt; 30)\n</code></pre>\n<p>Is there a better way to write 6 condition for this equation?</p>\n<pre><code>if(0 &lt;= q &amp;&amp; q &lt; 1)\n    A = x; B 0 y; C = z;\nelse if(1 &lt;= q &amp;&amp; q &lt; 2)\n   ...\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1565623360,"post_id":57463841,"comment_id":101401397,"body_markdown":"You can provide your own `PrettyPrinter` instance for `ObjectMapper` to use. For eg. https://stackoverflow.com/questions/28256852/what-is-the-simplest-way-to-configure-the-indentation-spacing-on-a-jackson-objec","body":"You can provide your own <code>PrettyPrinter</code> instance for <code>ObjectMapper</code> to use. For eg. <a href=\"https://stackoverflow.com/questions/28256852/what-is-the-simplest-way-to-configure-the-indentation-spacing-on-a-jackson-objec\" title=\"what is the simplest way to configure the indentation spacing on a jackson objec\">stackoverflow.com/questions/28256852/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1565678775,"post_id":57464391,"comment_id":101417126,"body_markdown":"ty so much! Are there any other whitespaces that could occur inside a serialized json object? I&#39;d just want to have `INDENT_OUTPUT` without whitespaces anywhere.","body":"ty so much! Are there any other whitespaces that could occur inside a serialized json object? I&#39;d just want to have <code>INDENT_OUTPUT</code> without whitespaces anywhere."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1565682145,"post_id":57464391,"comment_id":101418627,"body_markdown":"I add an example about how the JSON will look like. is it what you want?","body":"I add an example about how the JSON will look like. is it what you want?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1565683868,"post_id":57464391,"comment_id":101419387,"body_markdown":"yes, exactly. I ment: if there are further whitespace occurrences that I&#39;d have to deactivate? Or just the &quot;in objects&quot; and &quot;in array&quot;?","body":"yes, exactly. I ment: if there are further whitespace occurrences that I&#39;d have to deactivate? Or just the &quot;in objects&quot; and &quot;in array&quot;?"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1565682078,"creation_date":1565624996,"answer_id":57464391,"question_id":57463841,"body_markdown":"Yes. You can customise the `DefaultPrettyPrinter` with the followings: \r\n\r\n - Use `withoutSpacesInObjectEntries()` to turn off spaces\r\n   inside the object entries\r\n\r\n - Set the array indenter to `DefaultPrettyPrinter.NopIndenter` such that there is  no spaces to separate the array value.  \r\n\r\nCode wise , it looks like : \r\n\r\n\r\n    DefaultPrettyPrinter pp = new DefaultPrettyPrinter()\r\n                .withoutSpacesInObjectEntries()\r\n                .withArrayIndenter(new DefaultPrettyPrinter.NopIndenter());\r\n    \r\n    ObjectWriter w = new ObjectMapper()\r\n                .writer()\r\n                .with(pp);\r\n\r\nIt will output the JSON with the format like :\r\n\r\n    {\r\n      &quot;users&quot;:[{\r\n        &quot;name&quot;:&quot;u1&quot;,\r\n        &quot;age&quot;:10\r\n      },{\r\n        &quot;name&quot;:&quot;u2&quot;,\r\n        &quot;age&quot;:20\r\n      }]\r\n    }\r\n\r\n","title":"Pretty print Jackson json without whitespaces?","body":"<p>Yes. You can customise the <code>DefaultPrettyPrinter</code> with the followings: </p>\n\n<ul>\n<li><p>Use <code>withoutSpacesInObjectEntries()</code> to turn off spaces\ninside the object entries</p></li>\n<li><p>Set the array indenter to <code>DefaultPrettyPrinter.NopIndenter</code> such that there is  no spaces to separate the array value.  </p></li>\n</ul>\n\n<p>Code wise , it looks like : </p>\n\n<pre><code>DefaultPrettyPrinter pp = new DefaultPrettyPrinter()\n            .withoutSpacesInObjectEntries()\n            .withArrayIndenter(new DefaultPrettyPrinter.NopIndenter());\n\nObjectWriter w = new ObjectMapper()\n            .writer()\n            .with(pp);\n</code></pre>\n\n<p>It will output the JSON with the format like :</p>\n\n<pre><code>{\n  \"users\":[{\n    \"name\":\"u1\",\n    \"age\":10\n  },{\n    \"name\":\"u2\",\n    \"age\":20\n  }]\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"score":0,"creation_date":1702023362,"post_id":75952286,"comment_id":136849259,"body_markdown":"Using `_arrayIndenter = new DefaultIndenter();` is not what the OP asked for as it will put every array element on new lines. Otherwise this is a helpful answer though.","body":"Using <code>_arrayIndenter = new DefaultIndenter();</code> is not what the OP asked for as it will put every array element on new lines. Otherwise this is a helpful answer though."}],"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680803114,"creation_date":1680802412,"answer_id":75952286,"question_id":57463841,"body_markdown":"If you would like to get something like this (spaces only after colons and entities of the array are separated by line breaks)\r\n\r\n\t{\r\n\t  &quot;users&quot;: [\r\n\t\t{\r\n\t\t  &quot;name&quot;: &quot;u1&quot;,\r\n\t\t  &quot;age&quot;: 10\r\n\t\t},\r\n\t\t{\r\n\t\t  &quot;name&quot;: &quot;u2&quot;,\r\n\t\t  &quot;age&quot;: 20\r\n\t\t}\r\n\t  ]\r\n\t}\r\n\r\nyou should use custom `PrettyPrinter` implementation:\r\n\r\n\tpublic class CustomPrettyPrinter extends DefaultPrettyPrinter {\r\n\t\tpublic CustomPrettyPrinter() {\r\n\t\t\tsuper._arrayIndenter = new DefaultIndenter();\r\n\t\t\tsuper._objectFieldValueSeparatorWithSpaces = _separators.getObjectFieldValueSeparator() + &quot; &quot;;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic CustomPrettyPrinter createInstance() {\r\n\t\t\treturn new CustomPrettyPrinter();\r\n\t\t}\r\n\t}\r\n\r\nusing the following code:\r\n\r\n    ObjectWriter writer = new ObjectMapper()\r\n            .writer()\r\n            .with(new CustomPrettyPrinter());\r\n    String result = writer.writeValueAsString(obj);","title":"Pretty print Jackson json without whitespaces?","body":"<p>If you would like to get something like this (spaces only after colons and entities of the array are separated by line breaks)</p>\n<pre><code>{\n  &quot;users&quot;: [\n    {\n      &quot;name&quot;: &quot;u1&quot;,\n      &quot;age&quot;: 10\n    },\n    {\n      &quot;name&quot;: &quot;u2&quot;,\n      &quot;age&quot;: 20\n    }\n  ]\n}\n</code></pre>\n<p>you should use custom <code>PrettyPrinter</code> implementation:</p>\n<pre><code>public class CustomPrettyPrinter extends DefaultPrettyPrinter {\n    public CustomPrettyPrinter() {\n        super._arrayIndenter = new DefaultIndenter();\n        super._objectFieldValueSeparatorWithSpaces = _separators.getObjectFieldValueSeparator() + &quot; &quot;;\n    }\n\n    @Override\n    public CustomPrettyPrinter createInstance() {\n        return new CustomPrettyPrinter();\n    }\n}\n</code></pre>\n<p>using the following code:</p>\n<pre><code>ObjectWriter writer = new ObjectMapper()\n        .writer()\n        .with(new CustomPrettyPrinter());\nString result = writer.writeValueAsString(obj);\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57464391,"answer_count":2,"score":1,"last_activity_date":1680803114,"creation_date":1565622753,"question_id":57463841,"body_markdown":"I have a `json` string that I want to pretty print with `jackson`. The following works in general:\r\n\r\n\t\tObjectWriter w = new ObjectMapper()\r\n\t\t\t\t.writer()\r\n\t\t\t\t.withDefaultPrettyPrinter();\r\n\r\n\t\tObject obj = new ObjectMapper().readValue(json, Object.class);\r\n\t\tSystem.out.println(w.writeValueAsString(obj));\r\n\r\nResult:\r\n\r\n    {\r\n       &quot;myarray&quot; : [ {\r\n          &quot;field&quot; : &quot;val&quot;\r\n       } ]\r\n    }\r\n\r\nBUT: I&#39;d like to get the output without whitespaces between parameters. Is  that possible?\r\n\r\nDesired output:\r\n\r\n    {\r\n       &quot;myarray&quot;:[{\r\n          &quot;field&quot;:&quot;val&quot;\r\n       }]\r\n    }","title":"Pretty print Jackson json without whitespaces?","body":"<p>I have a <code>json</code> string that I want to pretty print with <code>jackson</code>. The following works in general:</p>\n\n<pre><code>    ObjectWriter w = new ObjectMapper()\n            .writer()\n            .withDefaultPrettyPrinter();\n\n    Object obj = new ObjectMapper().readValue(json, Object.class);\n    System.out.println(w.writeValueAsString(obj));\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>{\n   \"myarray\" : [ {\n      \"field\" : \"val\"\n   } ]\n}\n</code></pre>\n\n<p>BUT: I'd like to get the output without whitespaces between parameters. Is  that possible?</p>\n\n<p>Desired output:</p>\n\n<pre><code>{\n   \"myarray\":[{\n      \"field\":\"val\"\n   }]\n}\n</code></pre>\n"},{"tags":["java","multithreading","cassandra","datastax"],"comments":[{"owner":{"account_id":9160590,"reputation":2225,"user_id":6812035,"display_name":"Carlos Monroy Nieblas"},"score":0,"creation_date":1570511434,"post_id":58279546,"comment_id":102926632,"body_markdown":"how are you initializing the session object?","body":"how are you initializing the session object?"},{"owner":{"account_id":2834181,"reputation":432,"user_id":2435117,"display_name":"SDt"},"score":0,"creation_date":1570513285,"post_id":58279546,"comment_id":102927079,"body_markdown":"@CarlosMonroyNieblas I have added that in the code section of my question now.","body":"@CarlosMonroyNieblas I have added that in the code section of my question now."},{"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1572352305,"post_id":58279546,"comment_id":103525791,"body_markdown":"William brings up a good point below.  When you run `nodetool status` what is the name of your data center?","body":"William brings up a good point below.  When you run <code>nodetool status</code> what is the name of your data center?"}],"answers":[{"comments":[{"owner":{"account_id":3189025,"reputation":2094,"user_id":2693851,"accept_rate":65,"display_name":"Leonid Bor"},"score":7,"creation_date":1574007342,"post_id":58588661,"comment_id":104068057,"body_markdown":"could you please explain why this works? is it some hard coded value?","body":"could you please explain why this works? is it some hard coded value?"},{"owner":{"account_id":9194225,"reputation":705,"user_id":6952495,"accept_rate":79,"display_name":"RyanQuey"},"score":0,"creation_date":1602647535,"post_id":58588661,"comment_id":113783737,"body_markdown":"I&#39;m surprised that this worked, but it did, even though my datacenter&#39;s name is different than &quot;datacenter1&quot; (as confirmed by `nodetool status`). Setting to &quot;datacenter1&quot; works though. For me, before I did this I would get inconsistent results, sometimes working sometimes not, but after I did this, it worked great.","body":"I&#39;m surprised that this worked, but it did, even though my datacenter&#39;s name is different than &quot;datacenter1&quot; (as confirmed by <code>nodetool status</code>). Setting to &quot;datacenter1&quot; works though. For me, before I did this I would get inconsistent results, sometimes working sometimes not, but after I did this, it worked great."},{"owner":{"account_id":9194225,"reputation":705,"user_id":6952495,"accept_rate":79,"display_name":"RyanQuey"},"score":0,"creation_date":1602650661,"post_id":58588661,"comment_id":113784339,"body_markdown":"Update: it seems like it might relate to whether or not there is an instance of C* running on the machine using the Java driver. I was connecting to C* running on an external AWS, but had C* (specifically DSE) running on my local box, and had to use .withLocalDatacenter(&quot;datacenter1&quot;). But when I stopped the local C* instance (sudo service dse stop), then tried again, now it couldn&#39;t connect, and complained giving the error as shown in next comment","body":"Update: it seems like it might relate to whether or not there is an instance of C* running on the machine using the Java driver. I was connecting to C* running on an external AWS, but had C* (specifically DSE) running on my local box, and had to use .withLocalDatacenter(&quot;datacenter1&quot;). But when I stopped the local C* instance (sudo service dse stop), then tried again, now it couldn&#39;t connect, and complained giving the error as shown in next comment"},{"owner":{"account_id":9194225,"reputation":705,"user_id":6952495,"accept_rate":79,"display_name":"RyanQuey"},"score":0,"creation_date":1602650673,"post_id":58588661,"comment_id":113784345,"body_markdown":"`You specified datacenter1 as the local DC, but some contact points ar\ne from a different DC: Node(endPoint=/&lt;my-ip&gt;:9042, hostId=&lt;my-id&gt;, hashCode=4a395efc)=SearchGraph; please provide the correct local DC, or\ncheck your contact points`","body":"<code>You specified datacenter1 as the local DC, but some contact points ar e from a different DC: Node(endPoint=&#47;&lt;my-ip&gt;:9042, hostId=&lt;my-id&gt;, hashCode=4a395efc)=SearchGraph; please provide the correct local DC, or check your contact points</code>"}],"tags":[],"owner":{"account_id":4329387,"reputation":204,"user_id":3535293,"display_name":"William"},"comment_count":4,"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1572258207,"creation_date":1572255919,"answer_id":58588661,"question_id":58279546,"body_markdown":"Change `.withLocalDatacenter(&quot;us-east-2&quot;)` to `.withLocalDatacenter(&quot;datacenter1&quot;)` and retry.","title":"NoNodeAvailableException: No node was available to execute the query","body":"<p>Change <code>.withLocalDatacenter(\"us-east-2\")</code> to <code>.withLocalDatacenter(\"datacenter1\")</code> and retry.</p>\n"},{"comments":[{"owner":{"account_id":262192,"reputation":5128,"user_id":546888,"accept_rate":68,"display_name":"Gunjan Shah"},"score":0,"creation_date":1658932426,"post_id":60317577,"comment_id":129175610,"body_markdown":"This solution worked for me. In my case, I was using wrong data centre name DC1 in my application. But it was datacentre1  which I found with this &quot;nodetools status&quot; command.","body":"This solution worked for me. In my case, I was using wrong data centre name DC1 in my application. But it was datacentre1  which I found with this &quot;nodetools status&quot; command."}],"tags":[],"owner":{"account_id":17805754,"reputation":151,"user_id":12931506,"display_name":"Ceci G J"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1582195076,"creation_date":1582193782,"answer_id":60317577,"question_id":58279546,"body_markdown":"You can execute nodetool status in cassandra and you will obtain the name of the Datacenter. That is the value that you must put in `withLocalDatacenter` method:\r\n\r\n```\r\n/opt/apache-cassandra-3.11.2/bin$ ./nodetool status\r\nDatacenter: **dc1**\r\n===============\r\nStatus=Up/Down\r\n|/ State=Normal/Leaving/Joining/Moving\r\n--  Address         Load       Tokens       Owns (effective)  Host ID    Rack\r\n```","title":"NoNodeAvailableException: No node was available to execute the query","body":"<p>You can execute nodetool status in cassandra and you will obtain the name of the Datacenter. That is the value that you must put in <code>withLocalDatacenter</code> method:</p>\n\n<pre><code>/opt/apache-cassandra-3.11.2/bin$ ./nodetool status\nDatacenter: **dc1**\n===============\nStatus=Up/Down\n|/ State=Normal/Leaving/Joining/Moving\n--  Address         Load       Tokens       Owns (effective)  Host ID    Rack\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10966656,"reputation":176,"user_id":8058202,"display_name":"PraveenKumar K G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638194645,"creation_date":1638194645,"answer_id":70155972,"question_id":58279546,"body_markdown":"When running in local, better to run nodetool status command get the dc name and use in application while connecting to Cassandra instance.","title":"NoNodeAvailableException: No node was available to execute the query","body":"<p>When running in local, better to run nodetool status command get the dc name and use in application while connecting to Cassandra instance.</p>\n"}],"owner":{"account_id":2834181,"reputation":432,"user_id":2435117,"display_name":"SDt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22520,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":58588661,"answer_count":3,"score":15,"last_activity_date":1680802628,"creation_date":1570502415,"question_id":58279546,"body_markdown":"I am not using Elasticssearch. I am trying to perform some database operations in cassandra using CQL. I am using threads. While running the code I am always getting the exception in thread after a while : com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query. \r\n\r\nI have tested with even one thread. The error is still there. Here is my code : \r\n       \r\n    InetAddress addrOne = InetAddress.getByName(&quot;52.15.195.41&quot;);\r\n\tInetSocketAddress addrSocOne = new InetSocketAddress(addrOne,9042);\r\n    CqlSession sessionOne = CqlSession.builder().addContactPoint(addrSocOne).withLocalDatacenter(&quot;us-east-2&quot;).withKeyspace(&quot;test&quot;).build();\r\n\r\n    while(counter &lt;= 100)\r\n    {\r\n\t    String query = &quot;select max(id) FROM samplequeue&quot;;\r\n\t    ResultSet rs = session.execute(query);\r\n\t    for (Row row : rs) \r\n\t    {\r\n\t        int exS = row.getInt(&quot;system.max(id)&quot;);\r\n\t    }\r\n        counter++;\r\n\t    Thread.sleep(50);\r\n    }\r\n\r\nThis is a very simple, modified example just to demonstrate the problem. I am unable to resolve it. All the threads are exiting giving the same exception. I am running cassandra 3.11.4 on AWS. All my nodes are up and running and I can perform operations finely in the backend.","title":"NoNodeAvailableException: No node was available to execute the query","body":"<p>I am not using Elasticssearch. I am trying to perform some database operations in cassandra using CQL. I am using threads. While running the code I am always getting the exception in thread after a while : com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query. </p>\n\n<p>I have tested with even one thread. The error is still there. Here is my code : </p>\n\n<pre><code>InetAddress addrOne = InetAddress.getByName(\"52.15.195.41\");\nInetSocketAddress addrSocOne = new InetSocketAddress(addrOne,9042);\nCqlSession sessionOne = CqlSession.builder().addContactPoint(addrSocOne).withLocalDatacenter(\"us-east-2\").withKeyspace(\"test\").build();\n\nwhile(counter &lt;= 100)\n{\n    String query = \"select max(id) FROM samplequeue\";\n    ResultSet rs = session.execute(query);\n    for (Row row : rs) \n    {\n        int exS = row.getInt(\"system.max(id)\");\n    }\n    counter++;\n    Thread.sleep(50);\n}\n</code></pre>\n\n<p>This is a very simple, modified example just to demonstrate the problem. I am unable to resolve it. All the threads are exiting giving the same exception. I am running cassandra 3.11.4 on AWS. All my nodes are up and running and I can perform operations finely in the backend.</p>\n"},{"tags":["java","android-studio","spotify"],"owner":{"account_id":20240006,"reputation":41,"user_id":14844119,"display_name":"Ahmad Ajmal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680802392,"creation_date":1669757070,"question_id":74620399,"body_markdown":"I&#39;m trying to build an app which integrates the Spotify App Remote SDK. However, when I try to connect to Spotify using the SDK, the CouldNotFindSpotifyApp error is thrown even though the Spotify app is installed on the device.\r\n\r\nI found other solutions on stackoverflow that asked me to add a queries in the manifest\r\n\\`\r\n\r\n```\r\n&lt;queries&gt;\r\n    &lt;package android:name=&quot;com.spotify.music&quot; /&gt;\r\n&lt;/queries&gt;\r\n```\r\n\r\n\\`\r\nBut that doesn&#39;t work and gives me the same error\r\n\r\nI tried to connect to the spotify api using this code:\r\n\\`\r\n\r\n```\r\nConnectionParams connectionParams =\r\n        new ConnectionParams.Builder(CLIENT_ID)\r\n                .setRedirectUri(REDIRECT_URI)\r\n                .showAuthView(true)\r\n                .build();\r\nSpotifyAppRemote.connect(this, connectionParams,\r\n        new Connector.ConnectionListener() {\r\n\r\n            @Override\r\n            public void onConnected(SpotifyAppRemote spotifyAppRemote) {\r\n                mSpotifyAppRemote = spotifyAppRemote;\r\n                Log.d(&quot;MainActivity&quot;, &quot;Connected! Yay!&quot;);\r\n\r\n                // Now you can start interacting with App Remote\r\n                connected();\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable error) {\r\n                if (error instanceof NotLoggedInException || error instanceof UserNotAuthorizedException) {\r\n                    Log.d(&quot;MainActivity&quot;, &quot;Other Error&quot;);\r\n                } else if (error instanceof CouldNotFindSpotifyApp) {\r\n                    Log.d(&quot;MainActivity&quot;, &quot;User Not Found&quot;);\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\n\\`\r\n\r\nAnd instead of connecting it gave me an error\r\n\r\n```\r\nCouldNotFindSpotifyApp\r\n```","title":"Spotify App Remote SDK: CouldNotFindSpotifyApp error","body":"<p>I'm trying to build an app which integrates the Spotify App Remote SDK. However, when I try to connect to Spotify using the SDK, the CouldNotFindSpotifyApp error is thrown even though the Spotify app is installed on the device.</p>\n<p>I found other solutions on stackoverflow that asked me to add a queries in the manifest\n`</p>\n<pre><code>&lt;queries&gt;\n    &lt;package android:name=&quot;com.spotify.music&quot; /&gt;\n&lt;/queries&gt;\n</code></pre>\n<p>`\nBut that doesn't work and gives me the same error</p>\n<p>I tried to connect to the spotify api using this code:\n`</p>\n<pre><code>ConnectionParams connectionParams =\n        new ConnectionParams.Builder(CLIENT_ID)\n                .setRedirectUri(REDIRECT_URI)\n                .showAuthView(true)\n                .build();\nSpotifyAppRemote.connect(this, connectionParams,\n        new Connector.ConnectionListener() {\n\n            @Override\n            public void onConnected(SpotifyAppRemote spotifyAppRemote) {\n                mSpotifyAppRemote = spotifyAppRemote;\n                Log.d(&quot;MainActivity&quot;, &quot;Connected! Yay!&quot;);\n\n                // Now you can start interacting with App Remote\n                connected();\n            }\n\n            @Override\n            public void onFailure(Throwable error) {\n                if (error instanceof NotLoggedInException || error instanceof UserNotAuthorizedException) {\n                    Log.d(&quot;MainActivity&quot;, &quot;Other Error&quot;);\n                } else if (error instanceof CouldNotFindSpotifyApp) {\n                    Log.d(&quot;MainActivity&quot;, &quot;User Not Found&quot;);\n                }\n            }\n        });\n</code></pre>\n<p>`</p>\n<p>And instead of connecting it gave me an error</p>\n<pre><code>CouldNotFindSpotifyApp\n</code></pre>\n"},{"tags":["java","hibernate","hibernate-criteria"],"owner":{"account_id":2215372,"reputation":419,"user_id":1956139,"accept_rate":57,"display_name":"Curtis Snowden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680802119,"creation_date":1680802119,"question_id":75952255,"body_markdown":"I have a complicated custom field framework I&#39;ve built for my application, and I&#39;m trying to generify things in order to help with maintenance and overhead. I&#39;ve started extensive use of generics, but I&#39;ve hit a bit of a snag when it comes to querying for data. I&#39;d like to have an &quot;alias&quot; for fields that all have different names so that a single universal query can be used with a generic method in order to get the same general results.\r\n\r\nTo try and clarify. I have custom field values for several different parent entity models. These various custom field values each have their own class, but they all share the same basic implementation - There is an EmbeddedId composite Id that references the parent entity. This parent entity is different for each type, but they all have one. Here are two examples:\r\n\r\n    @Entity\r\n    public class CustomFieldEntity1Value implements Serializable, CustomFieldValueCommon {\r\n    \r\n    \t/***************************************************************\r\n    \t * Fields\r\n    \t ***************************************************************/\r\n    \t\r\n        @EmbeddedId\r\n    \tprivate CustomFieldEntity1ValueId pk = new CustomFieldEntity1ValueId();\r\n\r\n        @Column(name = &quot;VALUE&quot;, nullable = false, insertable = true, updatable = true, length = 4000)\r\n        private String value;\r\n    }\r\n\r\n    @Embeddable\r\n    public class CustomFieldEntity1ValueId implements Serializable {\r\n    \r\n    \t/***************************************************************\r\n    \t * Constructors\r\n    \t ***************************************************************/\r\n    \t\r\n    \tpublic CustomFieldEntity1ValueId (Entity1 entity1, CustomFieldEntity1Meta customFieldMeta) {\r\n    \t\tthis.entity1 = entity1;\r\n    \t\tthis.customFieldMeta = customFieldMeta;\r\n    \t}\r\n    \t\r\n    \t/***************************************************************\r\n    \t * Fields\r\n    \t ***************************************************************/\r\n    \r\n    \t/**\r\n    \t * The parent entity that this value is directly associated with.\r\n    \t */\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;FK_ENTITY1&quot;)\r\n    \tprivate Entity1 entity1;\r\n        \r\n        /**\r\n         * The parent custom field meta that this value is directly associated with.\r\n         */\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;FK_CUSTOMFIELDMETA&quot;)\r\n        private CustomFieldEntity1Meta customFieldMeta;\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    public class CustomFieldEntity2Value implements Serializable, CustomFieldValueCommon {\r\n    \r\n    \t/***************************************************************\r\n    \t * Fields\r\n    \t ***************************************************************/\r\n    \t\r\n        @EmbeddedId\r\n    \tprivate CustomFieldEntity2ValueId pk = new CustomFieldEntity2ValueId();\r\n\r\n        @Column(name = &quot;VALUE&quot;, nullable = false, insertable = true, updatable = true, length = 4000)\r\n        private String value;\r\n    }\r\n\r\n    @Embeddable\r\n    public class CustomFieldEntity2ValueId implements Serializable {\r\n    \r\n    \t/***************************************************************\r\n    \t * Constructors\r\n    \t ***************************************************************/\r\n    \t\r\n    \tpublic CustomFieldEntity2ValueId (Entity2 entity2, CustomFieldEntity2Meta customFieldMeta) {\r\n    \t\tthis.entity2 = entity2;\r\n    \t\tthis.customFieldMeta = customFieldMeta;\r\n    \t}\r\n    \t\r\n    \t/***************************************************************\r\n    \t * Fields\r\n    \t ***************************************************************/\r\n    \r\n    \t/**\r\n    \t * The parent entity that this value is directly associated with.\r\n    \t */\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;FK_ENTITY2&quot;)\r\n    \tprivate Entity2 entity2;\r\n        \r\n        /**\r\n         * The parent custom field meta that this value is directly associated with.\r\n         */\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;FK_CUSTOMFIELDMETA&quot;)\r\n        private CustomFieldEntity2Meta customFieldMeta;\r\n    }\r\n\r\nA lot is obviously omitted, but that should show my general setup. I currently have about 10 of these, and more get added which is why I&#39;m working to generify things.\r\n\r\nNow, what I normally do in order to get all of the values for a particular entity is reference it directly in my criteria via the proper path. I am using Hibernate.\r\n\r\n    CriteriaQuery&lt;CustomFieldEntity1Value&gt; criteriaQuery = criteriaBuilder.createQuery(CustomFieldEntity1Value.class);\r\n    Root&lt;CustomFieldEntity1Value&gt; root = criteriaQuery.from(CustomFieldEntity1Value.class);\r\n    criteriaQuery\r\n    \t.select(root)\r\n    \t.where(\r\n    \t\tcriteriaBuilder.equal(root.get(&quot;pk&quot;).get(&quot;entity1&quot;).get(&quot;id&quot;), entity1Id)\r\n    \t);\r\n\r\nSo what I&#39;d like to do is be able to generically reference this parent entity id in the query via an alias, so that the same code snippet can be used for all existing custom fields, and used again for any new instances I may create in the future. Something like this:\r\n\r\n    public &lt;T extends CustomFieldValueCommon&gt; List&lt;T&gt; getCustomFieldValues(Integer parentEntityId, Class&lt;T&gt; customFieldValueClass) {\r\n        CriteriaBuilder criteriaBuilder = entityManager().getCriteriaBuilder();\r\n    \tCriteriaQuery&lt;T&gt; criteriaQuery = criteriaBuilder.createQuery(customFieldValueClass);\r\n    \tRoot&lt;T&gt; root = criteriaQuery.from(customFieldValueClass);\r\n    \tcriteriaQuery\r\n    \t\t.select(root)\r\n    \t\t.where(\r\n    \t\t\tcriteriaBuilder.equal(root.get(&quot;parentEntityId&quot;), parentEntityId)\r\n    \t\t);\r\n    \t\t\r\n    \treturn entityManager().createQuery(createQuery).getResultList();\r\n    }\r\n\r\nIt&#39;s the &quot;parentEntityId&quot; portion that is giving me trouble. I&#39;d prefer not to change my composite ID classes, as that will entail possibly days of changing everything from Entity1, Entity2, etc to &quot;Entity1 parentEntity&quot;, &quot;Entity2 parentEntity&quot;, etc. and all corresponding references throughout the rest of the code. I&#39;m just wondering if there is an annotation available in Hibernate or something else that Hibernate can utilize which can be used as a general alias to a field of any depth. Depending on the class, &quot;parentEntityId&quot; will refer to &quot;pk.entity1.id&quot; or &quot;pk.entity2.id&quot;, etc. Is there any way to achieve this?","title":"Hibernate Query Field Alias","body":"<p>I have a complicated custom field framework I've built for my application, and I'm trying to generify things in order to help with maintenance and overhead. I've started extensive use of generics, but I've hit a bit of a snag when it comes to querying for data. I'd like to have an &quot;alias&quot; for fields that all have different names so that a single universal query can be used with a generic method in order to get the same general results.</p>\n<p>To try and clarify. I have custom field values for several different parent entity models. These various custom field values each have their own class, but they all share the same basic implementation - There is an EmbeddedId composite Id that references the parent entity. This parent entity is different for each type, but they all have one. Here are two examples:</p>\n<pre><code>@Entity\npublic class CustomFieldEntity1Value implements Serializable, CustomFieldValueCommon {\n\n    /***************************************************************\n     * Fields\n     ***************************************************************/\n    \n    @EmbeddedId\n    private CustomFieldEntity1ValueId pk = new CustomFieldEntity1ValueId();\n\n    @Column(name = &quot;VALUE&quot;, nullable = false, insertable = true, updatable = true, length = 4000)\n    private String value;\n}\n\n@Embeddable\npublic class CustomFieldEntity1ValueId implements Serializable {\n\n    /***************************************************************\n     * Constructors\n     ***************************************************************/\n    \n    public CustomFieldEntity1ValueId (Entity1 entity1, CustomFieldEntity1Meta customFieldMeta) {\n        this.entity1 = entity1;\n        this.customFieldMeta = customFieldMeta;\n    }\n    \n    /***************************************************************\n     * Fields\n     ***************************************************************/\n\n    /**\n     * The parent entity that this value is directly associated with.\n     */\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;FK_ENTITY1&quot;)\n    private Entity1 entity1;\n    \n    /**\n     * The parent custom field meta that this value is directly associated with.\n     */\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;FK_CUSTOMFIELDMETA&quot;)\n    private CustomFieldEntity1Meta customFieldMeta;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\npublic class CustomFieldEntity2Value implements Serializable, CustomFieldValueCommon {\n\n    /***************************************************************\n     * Fields\n     ***************************************************************/\n    \n    @EmbeddedId\n    private CustomFieldEntity2ValueId pk = new CustomFieldEntity2ValueId();\n\n    @Column(name = &quot;VALUE&quot;, nullable = false, insertable = true, updatable = true, length = 4000)\n    private String value;\n}\n\n@Embeddable\npublic class CustomFieldEntity2ValueId implements Serializable {\n\n    /***************************************************************\n     * Constructors\n     ***************************************************************/\n    \n    public CustomFieldEntity2ValueId (Entity2 entity2, CustomFieldEntity2Meta customFieldMeta) {\n        this.entity2 = entity2;\n        this.customFieldMeta = customFieldMeta;\n    }\n    \n    /***************************************************************\n     * Fields\n     ***************************************************************/\n\n    /**\n     * The parent entity that this value is directly associated with.\n     */\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;FK_ENTITY2&quot;)\n    private Entity2 entity2;\n    \n    /**\n     * The parent custom field meta that this value is directly associated with.\n     */\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;FK_CUSTOMFIELDMETA&quot;)\n    private CustomFieldEntity2Meta customFieldMeta;\n}\n</code></pre>\n<p>A lot is obviously omitted, but that should show my general setup. I currently have about 10 of these, and more get added which is why I'm working to generify things.</p>\n<p>Now, what I normally do in order to get all of the values for a particular entity is reference it directly in my criteria via the proper path. I am using Hibernate.</p>\n<pre><code>CriteriaQuery&lt;CustomFieldEntity1Value&gt; criteriaQuery = criteriaBuilder.createQuery(CustomFieldEntity1Value.class);\nRoot&lt;CustomFieldEntity1Value&gt; root = criteriaQuery.from(CustomFieldEntity1Value.class);\ncriteriaQuery\n    .select(root)\n    .where(\n        criteriaBuilder.equal(root.get(&quot;pk&quot;).get(&quot;entity1&quot;).get(&quot;id&quot;), entity1Id)\n    );\n</code></pre>\n<p>So what I'd like to do is be able to generically reference this parent entity id in the query via an alias, so that the same code snippet can be used for all existing custom fields, and used again for any new instances I may create in the future. Something like this:</p>\n<pre><code>public &lt;T extends CustomFieldValueCommon&gt; List&lt;T&gt; getCustomFieldValues(Integer parentEntityId, Class&lt;T&gt; customFieldValueClass) {\n    CriteriaBuilder criteriaBuilder = entityManager().getCriteriaBuilder();\n    CriteriaQuery&lt;T&gt; criteriaQuery = criteriaBuilder.createQuery(customFieldValueClass);\n    Root&lt;T&gt; root = criteriaQuery.from(customFieldValueClass);\n    criteriaQuery\n        .select(root)\n        .where(\n            criteriaBuilder.equal(root.get(&quot;parentEntityId&quot;), parentEntityId)\n        );\n        \n    return entityManager().createQuery(createQuery).getResultList();\n}\n</code></pre>\n<p>It's the &quot;parentEntityId&quot; portion that is giving me trouble. I'd prefer not to change my composite ID classes, as that will entail possibly days of changing everything from Entity1, Entity2, etc to &quot;Entity1 parentEntity&quot;, &quot;Entity2 parentEntity&quot;, etc. and all corresponding references throughout the rest of the code. I'm just wondering if there is an annotation available in Hibernate or something else that Hibernate can utilize which can be used as a general alias to a field of any depth. Depending on the class, &quot;parentEntityId&quot; will refer to &quot;pk.entity1.id&quot; or &quot;pk.entity2.id&quot;, etc. Is there any way to achieve this?</p>\n"},{"tags":["java","text"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1680799950,"post_id":75951761,"comment_id":133962546,"body_markdown":"var values = input.split(&quot;anyValue&quot;);` should get you most of the way there.","body":"var values = input.split(&quot;anyValue&quot;);` should get you most of the way there."},{"owner":{"account_id":9868787,"reputation":171,"user_id":9199753,"display_name":"Pedro Henrique"},"score":0,"creation_date":1680800658,"post_id":75951761,"comment_id":133962735,"body_markdown":"the values between variables can be anything and do not necessarily have a pattern","body":"the values between variables can be anything and do not necessarily have a pattern"}],"answers":[{"comments":[{"owner":{"account_id":9868787,"reputation":171,"user_id":9199753,"display_name":"Pedro Henrique"},"score":0,"creation_date":1681253804,"post_id":75952120,"comment_id":134026218,"body_markdown":"this input:\nString pattern = &quot;test{variable1}.{variable2}&quot;;\nString input = &quot;testvalue1.value2&quot;;\nshould returns: \nvariable1: value1\nvariable2: value2\nbut returns:\nvariable1: value1.value\nvariable2:","body":"this input: String pattern = &quot;test{variable1}.{variable2}&quot;; String input = &quot;testvalue1.value2&quot;; should returns:  variable1: value1 variable2: value2 but returns: variable1: value1.value variable2:"},{"owner":{"account_id":9868787,"reputation":171,"user_id":9199753,"display_name":"Pedro Henrique"},"score":0,"creation_date":1681255037,"post_id":75952120,"comment_id":134026350,"body_markdown":"and:\n String pattern = &quot;test{variable1}.{variable2}&quot;;\n String input = &quot;testval.ue1.value2&quot;;\nshould returns:\nvariable1: val.ue1 \nvariable2: value2","body":"and:  String pattern = &quot;test{variable1}.{variable2}&quot;;  String input = &quot;testval.ue1.value2&quot;; should returns: variable1: val.ue1  variable2: value2"}],"tags":[],"owner":{"account_id":15500461,"reputation":50,"user_id":11940310,"display_name":"Braian Pita"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680801633,"creation_date":1680801260,"answer_id":75952120,"question_id":75951761,"body_markdown":"You can use the following code in java:\r\n\r\n```java\r\n\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String pattern= &quot;anyvalue{variable1}anyvalue{variable2}anyvalue{var3}&quot;;\r\n        String input = &quot;anyvaluehelloanyvalueworldanyvaluesomething&quot;;\r\n\r\n        // Convert the pattern into a regular expression\r\n        String regex = pattern.replaceAll(&quot;\\\\{(.+?)\\\\}&quot;, &quot;(?&lt;$1&gt;.*)&quot;);\r\n\r\n        Pattern r = Pattern.compile(regex);\r\n        Matcher m = r.matcher(input);\r\n        \r\n        if (m.find()) {\r\n            // Get the names of the capture groups from the pattern\r\n            Pattern groupNamesPattern = Pattern.compile(&quot;\\\\(\\\\?&lt;(.+?)&gt;&quot;);\r\n            Matcher groupNamesMatcher = groupNamesPattern.matcher(regex);\r\n            \r\n            // Print all the variables that were found\r\n            while (groupNamesMatcher.find()) {\r\n                String variableName = groupNamesMatcher.group(1);\r\n                String variableValue = m.group(variableName);\r\n                System.out.println(variableName + &quot;: &quot; + variableValue);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;No match found.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nI am basically converting your pattern to named groups for any {variable_name} in the pattern. As far as I know, there is no easy way to get the groups&#39; names, so you need a second regex to get those for your output.\r\n\r\nHowever, there seem to be a few alternatives to find the named groups. You can follow [this thread][1] if you want to look into other alternatives to find the names of the groups.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15588903/get-group-names-in-java-regex","title":"how to extract variables based on a pattern braces using regex in Java?","body":"<p>You can use the following code in java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String pattern= &quot;anyvalue{variable1}anyvalue{variable2}anyvalue{var3}&quot;;\n        String input = &quot;anyvaluehelloanyvalueworldanyvaluesomething&quot;;\n\n        // Convert the pattern into a regular expression\n        String regex = pattern.replaceAll(&quot;\\\\{(.+?)\\\\}&quot;, &quot;(?&lt;$1&gt;.*)&quot;);\n\n        Pattern r = Pattern.compile(regex);\n        Matcher m = r.matcher(input);\n        \n        if (m.find()) {\n            // Get the names of the capture groups from the pattern\n            Pattern groupNamesPattern = Pattern.compile(&quot;\\\\(\\\\?&lt;(.+?)&gt;&quot;);\n            Matcher groupNamesMatcher = groupNamesPattern.matcher(regex);\n            \n            // Print all the variables that were found\n            while (groupNamesMatcher.find()) {\n                String variableName = groupNamesMatcher.group(1);\n                String variableValue = m.group(variableName);\n                System.out.println(variableName + &quot;: &quot; + variableValue);\n            }\n        } else {\n            System.out.println(&quot;No match found.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I am basically converting your pattern to named groups for any {variable_name} in the pattern. As far as I know, there is no easy way to get the groups' names, so you need a second regex to get those for your output.</p>\n<p>However, there seem to be a few alternatives to find the named groups. You can follow <a href=\"https://stackoverflow.com/questions/15588903/get-group-names-in-java-regex\">this thread</a> if you want to look into other alternatives to find the names of the groups.</p>\n"}],"owner":{"account_id":9868787,"reputation":171,"user_id":9199753,"display_name":"Pedro Henrique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75952120,"answer_count":1,"score":1,"last_activity_date":1680801693,"creation_date":1680798581,"question_id":75951761,"body_markdown":"Have this data input:\r\n\r\npattern: `anyValue{variable1}otherValue{variable2}lastValue`\r\n\r\nvalue: `anyValuehellootherValueworldlastValue`\r\n\r\nExpect this output\r\n\r\n    variable1: hello\r\n    variable2: world\r\n\r\ncan i have any variables with braces,\r\nI would like an example using Regex with an implementation in Java or another language,\r\n","title":"how to extract variables based on a pattern braces using regex in Java?","body":"<p>Have this data input:</p>\n<p>pattern: <code>anyValue{variable1}otherValue{variable2}lastValue</code></p>\n<p>value: <code>anyValuehellootherValueworldlastValue</code></p>\n<p>Expect this output</p>\n<pre><code>variable1: hello\nvariable2: world\n</code></pre>\n<p>can i have any variables with braces,\nI would like an example using Regex with an implementation in Java or another language,</p>\n"},{"tags":["java","spring-boot","exception"],"comments":[{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1680807603,"post_id":75952142,"comment_id":133964207,"body_markdown":"What version of Spring Boot are you upgrading from? If it was prior to Spring Boot 2.3 then this answer might help: https://stackoverflow.com/a/63194596/1299533.","body":"What version of Spring Boot are you upgrading from? If it was prior to Spring Boot 2.3 then this answer might help: <a href=\"https://stackoverflow.com/a/63194596/1299533\">stackoverflow.com/a/63194596/1299533</a>."},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1680854292,"post_id":75952142,"comment_id":133970069,"body_markdown":"@ScottFrederick I am using Spring boot 2.7.5 and tried your suggestion and kept the mentioned properties in application.properties but still the issue is not resolved .Do we need use custom handling","body":"@ScottFrederick I am using Spring boot 2.7.5 and tried your suggestion and kept the mentioned properties in application.properties but still the issue is not resolved .Do we need use custom handling"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680801426,"creation_date":1680801426,"question_id":75952142,"body_markdown":"javax.validation.ValidationException is not working after upgrading the Spring boot to 2.7.5 version .I am able to see the proper description in debug mode but it throwing the exception properly .The error has to thrown as &quot;User not Found in the System&quot; but it is throwing Unauthorized Error .But it was working properly before upgrade of Spring boot to higher version . In higher versions javax.validation.ValidationException is not existing in that how the error has to thrown in proper way .Please find the code syntax and pom.xml . Appreciate any help \r\n\r\nError Message :\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-04-06T17:03:04.171+00:00&quot;,\r\n        &quot;status&quot;: 401,\r\n        &quot;error&quot;: &quot;Unauthorized&quot;,\r\n        &quot;path&quot;: &quot;/type/get&quot;\r\n    }\r\n    \r\n         @RequestMapping(value = &quot;/get&quot;, method = RequestMethod.GET)\r\n         public Object getSerachData(@RequestParam(value = &quot;user&quot;) String user,\r\n                                                    @RequestParam(value = &quot;customerId&quot;, required = false) String customerId,\r\n                                                    @RequestParam(value = &quot;system&quot;, required = false) String system,\r\n                                                     throws ParseException, JsonProcessingException, javax.xml.bind.ValidationException {       \r\n                if (user != null &amp;&amp; !user.isEmpty())\r\n                    documentMap.put(&quot;Type.user&quot;, user);\r\n                if (customerId != null &amp;&amp; !customerId.isEmpty())\r\n                    documentMap.put(&quot;Type.customerId&quot;, customerId);\r\n                if (system != null &amp;&amp; !system.isEmpty())\r\n                    documentMap.put(&quot;Type.system&quot;, system);     \r\n                if (database.isEmpty())\r\n                    throw new ValidationException(RESOURCE_NOT_FOUND);\r\n                return getPrettyDocument(database);\r\n            }\r\n        \r\n        \r\n        @ControllerAdvice\r\n        public class ValidationExceptionHandler {\r\n        \r\n            @ExceptionHandler(ConstraintViolationException.class)\r\n            public void constraintViolationException(HttpServletResponse response,ConstraintViolationException e) throws IOException {\r\n                Set&lt;ConstraintViolation&lt;?&gt;&gt; violations = e.getConstraintViolations();\r\n                StringBuilder strBuilder = new StringBuilder();\r\n                for (ConstraintViolation&lt;?&gt; violation : violations ) {\r\n                    strBuilder.append(violation.getMessage() + &#39;\\n&#39;);\r\n                }\r\n                ResponseEntity.status(BAD_REQUEST);\r\n                response.sendError(HttpStatus.BAD_REQUEST.value());\r\n            }\r\n            @ExceptionHandler(ValidationException.class)\r\n            public void dateViolationException(HttpServletResponse response, ValidationException e) throws IOException {\r\n               if(e.getMessage().equalsIgnoreCase(&quot;Resource Not Found&quot;)){\r\n                   ResponseEntity.status(NOT_FOUND);\r\n                   response.sendError(NOT_FOUND.value(), e.getMessage());\r\n                }else{\r\n                   if(e.getMessage().equalsIgnoreCase(&quot;User Not Found in the system&quot;)){\r\n                       ResponseEntity.status(UNAUTHORIZED);\r\n                       response.sendError(UNAUTHORIZED.value(), e.getMessage());\r\n               }\r\n                else{\r\n                    ResponseEntity.status(BAD_REQUEST);\r\n                    response.sendError(HttpStatus.BAD_REQUEST.value(), e.getMessage());\r\n                }\r\n            }\r\n\r\n        }}\r\n\r\n    Maven.pm.xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n            &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n                     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n                &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n            \r\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                &lt;artifactId&gt;SampleService&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            \r\n                &lt;packaging&gt;jar&lt;/packaging&gt;\r\n            \r\n                &lt;name&gt;SampleService&lt;/name&gt;\r\n                &lt;description&gt;Project for SampleService &lt;/description&gt;\r\n            \r\n                &lt;properties&gt;\r\n                    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n                    &lt;springboot.version&gt;2.7.5&lt;/springboot.version&gt;\r\n                    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n                    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n                    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n                    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n                    &lt;surefire-plugin.version&gt;2.22.0&lt;/surefire-plugin.version&gt;\r\n                    &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\r\n                &lt;/properties&gt;\r\n            \r\n                &lt;dependencyManagement&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                            &lt;version&gt;${springboot.version}&lt;/version&gt;\r\n                            &lt;type&gt;pom&lt;/type&gt;\r\n                            &lt;scope&gt;import&lt;/scope&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/dependencyManagement&gt;\r\n            \r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                    &lt;/dependency&gt;\r\n            \r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.8.2&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n            \r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n                    &lt;/dependency&gt;\r\n            \r\n                &lt;/dependencies&gt;\r\n            \r\n                &lt;repositories&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;spring-milestone&lt;/id&gt;\r\n                        &lt;name&gt;Spring Maven MILESTONE Repository&lt;/name&gt;\r\n                        &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\r\n                    &lt;/repository&gt;\r\n                &lt;/repositories&gt;\r\n            \r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.22.2&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;systemProperties&gt;\r\n                                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                                &lt;/systemProperties&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;${springboot.version}&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;arguments&gt;\r\n                                    &lt;source&gt;1.8&lt;/source&gt;\r\n                                    &lt;target&gt;1.8&lt;/target&gt;\r\n                                    &lt;uberJar&gt;true&lt;/uberJar&gt;\r\n                                &lt;/arguments&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;repackage&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/project&gt;\r\n\r\n","title":"javax.validation.ValidationException is not working in Spring boot 2.7.5 higher versions","body":"<p>javax.validation.ValidationException is not working after upgrading the Spring boot to 2.7.5 version .I am able to see the proper description in debug mode but it throwing the exception properly .The error has to thrown as &quot;User not Found in the System&quot; but it is throwing Unauthorized Error .But it was working properly before upgrade of Spring boot to higher version . In higher versions javax.validation.ValidationException is not existing in that how the error has to thrown in proper way .Please find the code syntax and pom.xml . Appreciate any help</p>\n<p>Error Message :</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-04-06T17:03:04.171+00:00&quot;,\n    &quot;status&quot;: 401,\n    &quot;error&quot;: &quot;Unauthorized&quot;,\n    &quot;path&quot;: &quot;/type/get&quot;\n}\n\n     @RequestMapping(value = &quot;/get&quot;, method = RequestMethod.GET)\n     public Object getSerachData(@RequestParam(value = &quot;user&quot;) String user,\n                                                @RequestParam(value = &quot;customerId&quot;, required = false) String customerId,\n                                                @RequestParam(value = &quot;system&quot;, required = false) String system,\n                                                 throws ParseException, JsonProcessingException, javax.xml.bind.ValidationException {       \n            if (user != null &amp;&amp; !user.isEmpty())\n                documentMap.put(&quot;Type.user&quot;, user);\n            if (customerId != null &amp;&amp; !customerId.isEmpty())\n                documentMap.put(&quot;Type.customerId&quot;, customerId);\n            if (system != null &amp;&amp; !system.isEmpty())\n                documentMap.put(&quot;Type.system&quot;, system);     \n            if (database.isEmpty())\n                throw new ValidationException(RESOURCE_NOT_FOUND);\n            return getPrettyDocument(database);\n        }\n    \n    \n    @ControllerAdvice\n    public class ValidationExceptionHandler {\n    \n        @ExceptionHandler(ConstraintViolationException.class)\n        public void constraintViolationException(HttpServletResponse response,ConstraintViolationException e) throws IOException {\n            Set&lt;ConstraintViolation&lt;?&gt;&gt; violations = e.getConstraintViolations();\n            StringBuilder strBuilder = new StringBuilder();\n            for (ConstraintViolation&lt;?&gt; violation : violations ) {\n                strBuilder.append(violation.getMessage() + '\\n');\n            }\n            ResponseEntity.status(BAD_REQUEST);\n            response.sendError(HttpStatus.BAD_REQUEST.value());\n        }\n        @ExceptionHandler(ValidationException.class)\n        public void dateViolationException(HttpServletResponse response, ValidationException e) throws IOException {\n           if(e.getMessage().equalsIgnoreCase(&quot;Resource Not Found&quot;)){\n               ResponseEntity.status(NOT_FOUND);\n               response.sendError(NOT_FOUND.value(), e.getMessage());\n            }else{\n               if(e.getMessage().equalsIgnoreCase(&quot;User Not Found in the system&quot;)){\n                   ResponseEntity.status(UNAUTHORIZED);\n                   response.sendError(UNAUTHORIZED.value(), e.getMessage());\n           }\n            else{\n                ResponseEntity.status(BAD_REQUEST);\n                response.sendError(HttpStatus.BAD_REQUEST.value(), e.getMessage());\n            }\n        }\n\n    }}\n\nMaven.pm.xml\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                 xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        \n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;SampleService&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        \n            &lt;packaging&gt;jar&lt;/packaging&gt;\n        \n            &lt;name&gt;SampleService&lt;/name&gt;\n            &lt;description&gt;Project for SampleService &lt;/description&gt;\n        \n            &lt;properties&gt;\n                &lt;java.version&gt;1.8&lt;/java.version&gt;\n                &lt;springboot.version&gt;2.7.5&lt;/springboot.version&gt;\n                &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n                &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n                &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n                &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n                &lt;surefire-plugin.version&gt;2.22.0&lt;/surefire-plugin.version&gt;\n                &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\n            &lt;/properties&gt;\n        \n            &lt;dependencyManagement&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                        &lt;version&gt;${springboot.version}&lt;/version&gt;\n                        &lt;type&gt;pom&lt;/type&gt;\n                        &lt;scope&gt;import&lt;/scope&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/dependencyManagement&gt;\n        \n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                    &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n        \n                &lt;dependency&gt;\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                    &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n                    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/dependency&gt;\n        \n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n        \n            &lt;/dependencies&gt;\n        \n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;spring-milestone&lt;/id&gt;\n                    &lt;name&gt;Spring Maven MILESTONE Repository&lt;/name&gt;\n                    &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n        \n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.22.2&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;systemProperties&gt;\n                                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                            &lt;/systemProperties&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${springboot.version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;\n                                &lt;source&gt;1.8&lt;/source&gt;\n                                &lt;target&gt;1.8&lt;/target&gt;\n                                &lt;uberJar&gt;true&lt;/uberJar&gt;\n                            &lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;repackage&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/project&gt;\n</code></pre>\n"},{"tags":["java","hibernate","jpa","orm"],"owner":{"account_id":15505980,"reputation":39,"user_id":11186140,"display_name":"coi175"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680800750,"creation_date":1680800750,"question_id":75952049,"body_markdown":"I&#39;m have Parent entity with list of Child entities.\r\nI make these actions inside one transaction:\r\n1) Delete one Child entity.\r\n2) Call flush() (I see delete query in debug sql).\r\n3) Delete Parent entity (with cascade delete).\r\n\r\nAnd then I get an error: &lt;br&gt;\r\n`&#39;Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1&#39;`.\r\n\r\nAfter 2) flush() I checked in debug mode that deleted Child entity is not exists in list on Parent entity. How I can solve this problem, if I can&#39;t avoid chain of two deletion. And why does this error occur?","title":"Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1 when delete parent entity with cascade deletion","body":"<p>I'm have Parent entity with list of Child entities.\nI make these actions inside one transaction:</p>\n<ol>\n<li>Delete one Child entity.</li>\n<li>Call flush() (I see delete query in debug sql).</li>\n<li>Delete Parent entity (with cascade delete).</li>\n</ol>\n<p>And then I get an error: <br>\n<code>'Hibernate - Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1'</code>.</p>\n<p>After 2) flush() I checked in debug mode that deleted Child entity is not exists in list on Parent entity. How I can solve this problem, if I can't avoid chain of two deletion. And why does this error occur?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1350869,"reputation":16563,"user_id":1322268,"display_name":"shawnt00"},"score":2,"creation_date":1680799799,"post_id":75951901,"comment_id":133962510,"body_markdown":"It says to change in place. That&#39;s the first problem. The array is also already sorted.","body":"It says to change in place. That&#39;s the first problem. The array is also already sorted."},{"owner":{"account_id":1350869,"reputation":16563,"user_id":1322268,"display_name":"shawnt00"},"score":0,"creation_date":1680800183,"post_id":75951901,"comment_id":133962611,"body_markdown":"They probably expect you to do something like this: When a duplicate is found, move everything past the dup down by one slot.","body":"They probably expect you to do something like this: When a duplicate is found, move everything past the dup down by one slot."},{"owner":{"account_id":1350869,"reputation":16563,"user_id":1322268,"display_name":"shawnt00"},"score":0,"creation_date":1680800402,"post_id":75951901,"comment_id":133962668,"body_markdown":"You can&#39;t just automatically add the last element anyway when that&#39;s a dup itself.","body":"You can&#39;t just automatically add the last element anyway when that&#39;s a dup itself."},{"owner":{"account_id":1350869,"reputation":16563,"user_id":1322268,"display_name":"shawnt00"},"score":0,"creation_date":1680800556,"post_id":75951901,"comment_id":133962707,"body_markdown":"The reason it shows output as `[1,1]` is because that&#39;s still the contents of the original array not the new one.","body":"The reason it shows output as <code>[1,1]</code> is because that&#39;s still the contents of the original array not the new one."},{"owner":{"account_id":18424225,"reputation":21,"user_id":13420984,"display_name":"Jayson "},"score":0,"creation_date":1680801623,"post_id":75951901,"comment_id":133962963,"body_markdown":"Alright I did a for loop to copy all the element in newArr to nums. And its still has the same output. For refrence                                                                                       \n       for(int i = 0; i &lt; j; i++){\n          nums[i] = newArr[i];\n\n        }","body":"Alright I did a for loop to copy all the element in newArr to nums. And its still has the same output. For refrence                                                                                               for(int i = 0; i &lt; j; i++){           nums[i] = newArr[i];          }"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1680803230,"post_id":75951901,"comment_id":133963297,"body_markdown":"You don&#39;t need the 2nd array at all. You can solve this with a single array, moving numbers in place.","body":"You don&#39;t need the 2nd array at all. You can solve this with a single array, moving numbers in place."},{"owner":{"account_id":1350869,"reputation":16563,"user_id":1322268,"display_name":"shawnt00"},"score":0,"creation_date":1680803501,"post_id":75951901,"comment_id":133963362,"body_markdown":"I agree that copying the elements over should have given different output.","body":"I agree that copying the elements over should have given different output."}],"owner":{"account_id":18424225,"reputation":21,"user_id":13420984,"display_name":"Jayson "},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680800292,"creation_date":1680799631,"question_id":75951901,"body_markdown":"&gt;Given an integer array nums sorted in non-decreasing order, remove the duplicates in-place such that each unique element appears only once. The relative order of the elements should be kept the same. Then return the number of unique elements in nums.\\\r\n\\\r\nConsider the number of unique elements of nums be k, to get accepted, you need to do the following things:\\\r\n\\\r\nChange the array nums such that the first k elements of nums contain the unique elements in the order they were present in nums initially. The remaining elements of nums are not important as well as the size of nums.\\\r\nReturn k.\r\n\r\n\r\nMy code \r\n\r\n    class Solution {\r\n        int j = 0;\r\n        public int removeDuplicates(int[] nums) {\r\n\r\n            int[] newArr = new int[nums.length];\r\n\r\n            for(int i = 0; i &lt; nums.length - 1; i++){\r\n                Arrays.sort(nums);\r\n                if (nums[i] != nums[i+1] ) {\r\n                    newArr[j] = nums[i];\r\n                    j++;          \r\n                }\r\n\r\n            }\r\n\r\n            newArr[j] = nums[nums.length - 1];\r\n            j++;\r\n\r\n            return j;\r\n        }\r\n    }\r\n\r\n\r\n\r\nI tried everything I could think of. Somehow my return output is wrong. \r\n\r\nThe first test case is `nums = [1,1,2]`\r\n\r\nMy output `[1,1]`\r\n\r\nWhat is actual expected `[1,2]`","title":"Leetcode question 26. I can&#39;t seem to return the right answer","body":"<blockquote>\n<p>Given an integer array nums sorted in non-decreasing order, remove the duplicates in-place such that each unique element appears only once. The relative order of the elements should be kept the same. Then return the number of unique elements in nums.<br />\n<br />\nConsider the number of unique elements of nums be k, to get accepted, you need to do the following things:<br />\n<br />\nChange the array nums such that the first k elements of nums contain the unique elements in the order they were present in nums initially. The remaining elements of nums are not important as well as the size of nums.<br />\nReturn k.</p>\n</blockquote>\n<p>My code</p>\n<pre><code>class Solution {\n    int j = 0;\n    public int removeDuplicates(int[] nums) {\n\n        int[] newArr = new int[nums.length];\n\n        for(int i = 0; i &lt; nums.length - 1; i++){\n            Arrays.sort(nums);\n            if (nums[i] != nums[i+1] ) {\n                newArr[j] = nums[i];\n                j++;          \n            }\n\n        }\n\n        newArr[j] = nums[nums.length - 1];\n        j++;\n\n        return j;\n    }\n}\n</code></pre>\n<p>I tried everything I could think of. Somehow my return output is wrong.</p>\n<p>The first test case is <code>nums = [1,1,2]</code></p>\n<p>My output <code>[1,1]</code></p>\n<p>What is actual expected <code>[1,2]</code></p>\n"},{"tags":["java","elasticsearch","apache-nifi","logback","open-telemetry"],"comments":[{"owner":{"account_id":191465,"reputation":2509,"user_id":432053,"accept_rate":60,"display_name":"Vijay Kumar"},"score":0,"creation_date":1635590497,"post_id":69743764,"comment_id":123342637,"body_markdown":"Hi MHegde, you can swap out the call you make to MongoDB, with a call to the Open Telemetry. If you can share your MongoDB appender code, I can point out what needs to be changed.","body":"Hi MHegde, you can swap out the call you make to MongoDB, with a call to the Open Telemetry. If you can share your MongoDB appender code, I can point out what needs to be changed."},{"owner":{"account_id":2146093,"reputation":319,"user_id":1903691,"display_name":"MHegde"},"score":0,"creation_date":1635743713,"post_id":69743764,"comment_id":123367087,"body_markdown":"@VijayKumar - Thanks Vijay, I have updated the question with mongo code part","body":"@VijayKumar - Thanks Vijay, I have updated the question with mongo code part"},{"owner":{"account_id":5066911,"reputation":1131,"user_id":4066802,"display_name":"lprakashv"},"score":0,"creation_date":1662140801,"post_id":69743764,"comment_id":129945476,"body_markdown":"One of the things you can do is, just use a file appender and provide that file path in the filelogreceiver&#39;s config inside opentelemetry-collector-contrib config and use and elasticsearch exporter. So, your pipeline would use fileloadreceiver as your receiver and elasticsearch exporter along with any processor you might want to use (e.g., batch etc.)","body":"One of the things you can do is, just use a file appender and provide that file path in the filelogreceiver&#39;s config inside opentelemetry-collector-contrib config and use and elasticsearch exporter. So, your pipeline would use fileloadreceiver as your receiver and elasticsearch exporter along with any processor you might want to use (e.g., batch etc.)"}],"answers":[{"tags":[],"owner":{"account_id":3053597,"reputation":580,"user_id":2587704,"accept_rate":50,"display_name":"JackB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680800093,"creation_date":1680800093,"answer_id":75951968,"question_id":69743764,"body_markdown":"It looks like you&#39;re trying to write a logback appender. Checkout the [OpenTelemetry logback appender](https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/logback/logback-appender-1.0/library), which bridges logback logs into the OpenTelemetry log sdk. You can configure the OpenTelemetry log SDK to export the records to elastic search. ","title":"Logback custom appender to push logs to ElasticSearch via Open Telemetry","body":"<p>It looks like you're trying to write a logback appender. Checkout the <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/logback/logback-appender-1.0/library\" rel=\"nofollow noreferrer\">OpenTelemetry logback appender</a>, which bridges logback logs into the OpenTelemetry log sdk. You can configure the OpenTelemetry log SDK to export the records to elastic search.</p>\n"}],"owner":{"account_id":2146093,"reputation":319,"user_id":1903691,"display_name":"MHegde"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680800093,"creation_date":1635359396,"question_id":69743764,"body_markdown":"I am using apache Nifi , which uses logback framework for logging.\r\nI have written a custom log appender to push logs to MongoDB.\r\nNow I have a requirement to push logs in specific format (json) to ElasticSearch.\r\n\r\nAs few other apps are already using open telemetry to push data to ES, i have been asked to do so.\r\n\r\nSo now I am looking for right way to push data from my custom log appender (java class) to Open Telemetry.\r\n\r\nCould some please point me to the usefull example which I can refer ?\r\n\r\n\r\nMongo appender looks like below, same message I want to push Open Telemetry also.\r\n\r\n\r\n    @Override\r\n    public void start() {\r\n        super.start();\r\n        logger.info(&quot;Initialising MongoDBLogAppender ~~~~~~~~~~~~~~~~&quot;);\r\n        try{\r\n            createConnection();\r\n        }catch (Exception e){\r\n            logger.error(&quot;Failed to obtain a database instance from the MongoClient at server [{}] and port [{}].&quot;, this.server, this.port);\r\n        }\r\n    }\r\n\r\n    private MongoClient createConnection () throws Exception {\r\n        if (client == null)\r\n        {\r\n            client = createMongoClient(this.server, this.port, this.databaseName, this.userName, this.password);\r\n        }\r\n\r\n        if (this.databaseName != null &amp;&amp; (!&quot;&quot;.equals(this.databaseName))) {\r\n            database = client.getDatabase(this.databaseName);\r\n        } else {\r\n            logger.error(&quot;Mongo database name is required.&quot;);\r\n        }\r\n        return client;\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void append(ILoggingEvent iLoggingEvent) {\r\n        if (database == null)\r\n            return;\r\n\r\n        String logMessage = iLoggingEvent.getMessage() == null ? &quot;&quot; : iLoggingEvent.getMessage();\r\n        logger.info(&quot;LogMessage (inside append method) : &quot;+logMessage);//Change the level to debug after testing\r\n\r\n        String[] msgParts = parseLogMessage(logMessage);\r\n        Document doc = new Document()\r\n                .append(&quot;Timestamp&quot;, new Date(iLoggingEvent.getTimeStamp()))\r\n                .append(&quot;Ip&quot;, this.hostIp)\r\n                .append(&quot;Server&quot;, &quot;NiFi&quot;)\r\n                .append(&quot;Instance&quot;, &quot;&quot;)\r\n                .append(&quot;Url&quot;, &quot;&quot;)\r\n                .append(&quot;TTId&quot;, msgParts[1])\r\n                .append(&quot;LTId&quot;, msgParts[0])\r\n                .append(&quot;LUId&quot;, msgParts[2])\r\n                .append(&quot;SId&quot;, msgParts[4])\r\n                .append(&quot;RId&quot;, msgParts[3])\r\n                .append(&quot;Level&quot;, iLoggingEvent.getLevel().levelStr)\r\n                .append(&quot;Logger&quot;, iLoggingEvent.getLoggerName())\r\n                .append(&quot;Thread&quot;, iLoggingEvent.getThreadName())\r\n                .append(&quot;Message&quot;, msgParts[5])\r\n                .append(&quot;Exception&quot;, iLoggingEvent.getThrowableProxy() != null ? ThrowableProxyUtil.asString(iLoggingEvent.getThrowableProxy()) : null);\r\n        try\r\n        {\r\n            Publisher&lt;InsertOneResult&gt; publisher = database.getCollection(collectionName).insertOne(doc);\r\n            publisher.subscribe(new Subscriber&lt;InsertOneResult&gt;() {\r\n                @Override\r\n                public void onSubscribe(final Subscription s) {\r\n                    s.request(1);  // &lt;--- Data requested and the insertion will now occur\r\n                }\r\n\r\n                @Override\r\n                public void onNext(final InsertOneResult result) {}\r\n\r\n                @Override\r\n                public void onError(final Throwable t) {\r\n                    logger.error(&quot;Failed to insert Nifi log to mongodb : &quot;+this.toString(),t);\r\n                }\r\n\r\n                @Override\r\n                public void onComplete() {}\r\n            });\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            logger.error(&quot;Encountered exception while logging Nifi log to MongoDB : &quot;+this.toString(), e);\r\n        }\r\n    }\r\n\r\n\r\n    /* Log message format expected : &quot;~(&lt;LoggedinTenantId&gt;, &lt;TargetTenantId&gt;, &lt;Userid&gt;) ~ &lt;RequestId&gt; ~ &lt;SessionId&gt; ~ &lt;DetailedMessage&gt;&quot; */\r\n    public static String[] parseLogMessage(String logMessage){\r\n        String[] msgParts = new String[6];\r\n        ..................................\r\n        return msgParts;\r\n    }\r\n\r\n\r\n    private synchronized static MongoClient createMongoClient(String server, int port, String databaseName, String userName, String password)\r\n    {\r\n\t\t...................................\r\n        return MongoClients.create(settings);\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nThanks\r\nMahendra","title":"Logback custom appender to push logs to ElasticSearch via Open Telemetry","body":"<p>I am using apache Nifi , which uses logback framework for logging.\nI have written a custom log appender to push logs to MongoDB.\nNow I have a requirement to push logs in specific format (json) to ElasticSearch.</p>\n<p>As few other apps are already using open telemetry to push data to ES, i have been asked to do so.</p>\n<p>So now I am looking for right way to push data from my custom log appender (java class) to Open Telemetry.</p>\n<p>Could some please point me to the usefull example which I can refer ?</p>\n<p>Mongo appender looks like below, same message I want to push Open Telemetry also.</p>\n<pre><code>@Override\npublic void start() {\n    super.start();\n    logger.info(&quot;Initialising MongoDBLogAppender ~~~~~~~~~~~~~~~~&quot;);\n    try{\n        createConnection();\n    }catch (Exception e){\n        logger.error(&quot;Failed to obtain a database instance from the MongoClient at server [{}] and port [{}].&quot;, this.server, this.port);\n    }\n}\n\nprivate MongoClient createConnection () throws Exception {\n    if (client == null)\n    {\n        client = createMongoClient(this.server, this.port, this.databaseName, this.userName, this.password);\n    }\n\n    if (this.databaseName != null &amp;&amp; (!&quot;&quot;.equals(this.databaseName))) {\n        database = client.getDatabase(this.databaseName);\n    } else {\n        logger.error(&quot;Mongo database name is required.&quot;);\n    }\n    return client;\n}\n\n\n@Override\nprotected void append(ILoggingEvent iLoggingEvent) {\n    if (database == null)\n        return;\n\n    String logMessage = iLoggingEvent.getMessage() == null ? &quot;&quot; : iLoggingEvent.getMessage();\n    logger.info(&quot;LogMessage (inside append method) : &quot;+logMessage);//Change the level to debug after testing\n\n    String[] msgParts = parseLogMessage(logMessage);\n    Document doc = new Document()\n            .append(&quot;Timestamp&quot;, new Date(iLoggingEvent.getTimeStamp()))\n            .append(&quot;Ip&quot;, this.hostIp)\n            .append(&quot;Server&quot;, &quot;NiFi&quot;)\n            .append(&quot;Instance&quot;, &quot;&quot;)\n            .append(&quot;Url&quot;, &quot;&quot;)\n            .append(&quot;TTId&quot;, msgParts[1])\n            .append(&quot;LTId&quot;, msgParts[0])\n            .append(&quot;LUId&quot;, msgParts[2])\n            .append(&quot;SId&quot;, msgParts[4])\n            .append(&quot;RId&quot;, msgParts[3])\n            .append(&quot;Level&quot;, iLoggingEvent.getLevel().levelStr)\n            .append(&quot;Logger&quot;, iLoggingEvent.getLoggerName())\n            .append(&quot;Thread&quot;, iLoggingEvent.getThreadName())\n            .append(&quot;Message&quot;, msgParts[5])\n            .append(&quot;Exception&quot;, iLoggingEvent.getThrowableProxy() != null ? ThrowableProxyUtil.asString(iLoggingEvent.getThrowableProxy()) : null);\n    try\n    {\n        Publisher&lt;InsertOneResult&gt; publisher = database.getCollection(collectionName).insertOne(doc);\n        publisher.subscribe(new Subscriber&lt;InsertOneResult&gt;() {\n            @Override\n            public void onSubscribe(final Subscription s) {\n                s.request(1);  // &lt;--- Data requested and the insertion will now occur\n            }\n\n            @Override\n            public void onNext(final InsertOneResult result) {}\n\n            @Override\n            public void onError(final Throwable t) {\n                logger.error(&quot;Failed to insert Nifi log to mongodb : &quot;+this.toString(),t);\n            }\n\n            @Override\n            public void onComplete() {}\n        });\n    }\n    catch (Exception e)\n    {\n        logger.error(&quot;Encountered exception while logging Nifi log to MongoDB : &quot;+this.toString(), e);\n    }\n}\n\n\n/* Log message format expected : &quot;~(&lt;LoggedinTenantId&gt;, &lt;TargetTenantId&gt;, &lt;Userid&gt;) ~ &lt;RequestId&gt; ~ &lt;SessionId&gt; ~ &lt;DetailedMessage&gt;&quot; */\npublic static String[] parseLogMessage(String logMessage){\n    String[] msgParts = new String[6];\n    ..................................\n    return msgParts;\n}\n\n\nprivate synchronized static MongoClient createMongoClient(String server, int port, String databaseName, String userName, String password)\n{\n    ...................................\n    return MongoClients.create(settings);\n}\n</code></pre>\n<p>}</p>\n<p>Thanks\nMahendra</p>\n"},{"tags":["java","oauth-2.0","adobe","analytics"],"owner":{"account_id":471470,"reputation":1217,"user_id":879293,"accept_rate":24,"display_name":"Sri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680799954,"creation_date":1680799954,"question_id":75951956,"body_markdown":"Given I have client id, client secret. How can I get access token to read data from adobe analytics.\r\n\r\nI would like to have a backend java making call to adobe analytics and get certain data stored in analytics into my java application.\r\n\r\nNo sprint boot, this is plain java project.\r\n\r\nAny code sample appreciated. thanks.\r\n","title":"java adobe analytics oauth access token","body":"<p>Given I have client id, client secret. How can I get access token to read data from adobe analytics.</p>\n<p>I would like to have a backend java making call to adobe analytics and get certain data stored in analytics into my java application.</p>\n<p>No sprint boot, this is plain java project.</p>\n<p>Any code sample appreciated. thanks.</p>\n"},{"tags":["java","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":3053597,"reputation":580,"user_id":2587704,"accept_rate":50,"display_name":"JackB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680799843,"creation_date":1680799843,"answer_id":75951936,"question_id":66714778,"body_markdown":"&gt; How do I set that TracerProvider as the default provider for my application?\r\n\r\nThat depends on how your application is accessing the TracerProvider, and whether or not you&#39;re using the otel java agent:\r\n\r\n- If using the otel java agent, you&#39;ll need to use an [agent extension](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/README.md) to customize the SDK that the agent installs.\r\n- Else if you&#39;re using [autoconfigure](https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure) to install the SDK, you can use various [customization methods](https://github.com/open-telemetry/opentelemetry-java/blob/f4d464a1c03b75b58ef4ce58e88c69f0fe89c9dd/sdk-extensions/autoconfigure/src/main/java/io/opentelemetry/sdk/autoconfigure/AutoConfiguredOpenTelemetrySdkBuilder.java#L149) or [implement one of the SPIs](https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure-spi). \r\n- Else if you&#39;re configuring the SDK directly, you can do what you&#39;ve described. \r\n\r\nOnce you&#39;ve configured SDK, you need to make sure instrumentation is accessing it. The SDK installed by otel java agent is used by all installation it installs. If not using the agent, you can manually pass the SDK to the relevant instrumentation. If its not practical to manually pass the SDK, you can use GlobalOpenTelemetry, which has static accessor for setting / getting the OpenTelemetry instance, although this is discouraged.\r\n\r\nYou should also consider whether the resource is the appropriate place for the attribute. The resource is attached to all records exported by the SDK, but its generally reserved for attributes that describe the source of the telemetry. If the attributes describe the record itself, consider adding a custom [SpanProcessor](https://github.com/open-telemetry/opentelemetry-java/blob/f4d464a1c03b75b58ef4ce58e88c69f0fe89c9dd/sdk/trace/src/main/java/io/opentelemetry/sdk/trace/SpanProcessor.java) to add the attribute to individual spans. ","title":"How to add an attribute to all outgoing Spans (Java)","body":"<blockquote>\n<p>How do I set that TracerProvider as the default provider for my application?</p>\n</blockquote>\n<p>That depends on how your application is accessing the TracerProvider, and whether or not you're using the otel java agent:</p>\n<ul>\n<li>If using the otel java agent, you'll need to use an <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/README.md\" rel=\"nofollow noreferrer\">agent extension</a> to customize the SDK that the agent installs.</li>\n<li>Else if you're using <a href=\"https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure\" rel=\"nofollow noreferrer\">autoconfigure</a> to install the SDK, you can use various <a href=\"https://github.com/open-telemetry/opentelemetry-java/blob/f4d464a1c03b75b58ef4ce58e88c69f0fe89c9dd/sdk-extensions/autoconfigure/src/main/java/io/opentelemetry/sdk/autoconfigure/AutoConfiguredOpenTelemetrySdkBuilder.java#L149\" rel=\"nofollow noreferrer\">customization methods</a> or <a href=\"https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure-spi\" rel=\"nofollow noreferrer\">implement one of the SPIs</a>.</li>\n<li>Else if you're configuring the SDK directly, you can do what you've described.</li>\n</ul>\n<p>Once you've configured SDK, you need to make sure instrumentation is accessing it. The SDK installed by otel java agent is used by all installation it installs. If not using the agent, you can manually pass the SDK to the relevant instrumentation. If its not practical to manually pass the SDK, you can use GlobalOpenTelemetry, which has static accessor for setting / getting the OpenTelemetry instance, although this is discouraged.</p>\n<p>You should also consider whether the resource is the appropriate place for the attribute. The resource is attached to all records exported by the SDK, but its generally reserved for attributes that describe the source of the telemetry. If the attributes describe the record itself, consider adding a custom <a href=\"https://github.com/open-telemetry/opentelemetry-java/blob/f4d464a1c03b75b58ef4ce58e88c69f0fe89c9dd/sdk/trace/src/main/java/io/opentelemetry/sdk/trace/SpanProcessor.java\" rel=\"nofollow noreferrer\">SpanProcessor</a> to add the attribute to individual spans.</p>\n"}],"owner":{"account_id":13391970,"reputation":11,"user_id":9664101,"display_name":"rubber_ducky_debugger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680799843,"creation_date":1616183406,"question_id":66714778,"body_markdown":"If I understand correctly, I should be able to use an opentelemetry Resource to attach custom Attributes to outgoing Spans. I think the syntax should be something like\r\n\r\n```\r\nResource resource = Resource.create(Attributes.builder().put(&quot;key&quot;, &quot;value&quot;).build());\r\nSdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder().setResource(resource).build;\r\n```\r\n\r\nQuestions:\r\n\r\nHow do I set that TracerProvider as the default provider for my application? \r\n\r\nIf I do so, will it add that attribute to the default set of attributes attached to Spans, or will it replace them? \r\n\r\nAlso, if I do so, would I still be able to use the ```Span.current()``` syntax to access the current Span, or would I need to access the current Span through the Tracer? ","title":"How to add an attribute to all outgoing Spans (Java)","body":"<p>If I understand correctly, I should be able to use an opentelemetry Resource to attach custom Attributes to outgoing Spans. I think the syntax should be something like</p>\n<pre><code>Resource resource = Resource.create(Attributes.builder().put(&quot;key&quot;, &quot;value&quot;).build());\nSdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder().setResource(resource).build;\n</code></pre>\n<p>Questions:</p>\n<p>How do I set that TracerProvider as the default provider for my application?</p>\n<p>If I do so, will it add that attribute to the default set of attributes attached to Spans, or will it replace them?</p>\n<p>Also, if I do so, would I still be able to use the <code>Span.current()</code> syntax to access the current Span, or would I need to access the current Span through the Tracer?</p>\n"},{"tags":["java","exception","error-handling","foreach","throw"],"answers":[{"comments":[{"owner":{"account_id":7219622,"reputation":464,"user_id":7737266,"display_name":"devjoco"},"score":0,"creation_date":1680816985,"post_id":75951935,"comment_id":133966038,"body_markdown":"So `myMethod` is called by the lambda function Consumer, whose `accept` method doesn&#39;t throw exceptions, ok. But `myMethod` is also called by `processBeanList` which doesn&#39;t throw the exception either. Why no error in that case?","body":"So <code>myMethod</code> is called by the lambda function Consumer, whose <code>accept</code> method doesn&#39;t throw exceptions, ok. But <code>myMethod</code> is also called by <code>processBeanList</code> which doesn&#39;t throw the exception either. Why no error in that case?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1680834179,"post_id":75951935,"comment_id":133967886,"body_markdown":"Are we talking about compiler error reporting, or squiggly red underlines in an IDE?  It&#39;s not impossible that the IDE doesn&#39;t diagnose all illegal code.","body":"Are we talking about compiler error reporting, or squiggly red underlines in an IDE?  It&#39;s not impossible that the IDE doesn&#39;t diagnose all illegal code."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1680849521,"post_id":75951935,"comment_id":133969325,"body_markdown":"@devjoco Is `SomeException` checked or unchecked? Looks like bug in eclipse, but i would check with the compiler just to be sure. If it&#39;s checked exception you should get errors in both cases, if it&#39;s unchecked, both should compile successfully.","body":"@devjoco Is <code>SomeException</code> checked or unchecked? Looks like bug in eclipse, but i would check with the compiler just to be sure. If it&#39;s checked exception you should get errors in both cases, if it&#39;s unchecked, both should compile successfully."},{"owner":{"account_id":7219622,"reputation":464,"user_id":7737266,"display_name":"devjoco"},"score":0,"creation_date":1680887947,"post_id":75951935,"comment_id":133976523,"body_markdown":"Ah I just figured it out. `SomeException` is a custom exception that extends `SQLException`. I omitted this from my question, thinking it irrelevant, but the `processBeanList` method actually throws `SQLException`, which would cover its subclass `SomeException` as well. Of course, this `Consumer.accept()` does not throw anything, hence the error.","body":"Ah I just figured it out. <code>SomeException</code> is a custom exception that extends <code>SQLException</code>. I omitted this from my question, thinking it irrelevant, but the <code>processBeanList</code> method actually throws <code>SQLException</code>, which would cover its subclass <code>SomeException</code> as well. Of course, this <code>Consumer.accept()</code> does not throw anything, hence the error."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680799831,"creation_date":1680799831,"answer_id":75951935,"question_id":75951853,"body_markdown":"Because the parameter of [forEach(...)][1] is a [Consumer][2].\r\n```\r\nmyBean -&gt; {\r\n  myMethod(myBean);\r\n}\r\n```\r\nThe above is an implementation of consumer as lambda function.\r\n\r\n`Consumer.accept()` does not throw exceptions, so you have to handle it in some way - possibly catch and rethrow as unchecked exception.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html","title":"Why am I only getting an Unhandled Exception Type error only when using List.forEach?","body":"<p>Because the parameter of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">forEach(...)</a> is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"nofollow noreferrer\">Consumer</a>.</p>\n<pre><code>myBean -&gt; {\n  myMethod(myBean);\n}\n</code></pre>\n<p>The above is an implementation of consumer as lambda function.</p>\n<p><code>Consumer.accept()</code> does not throw exceptions, so you have to handle it in some way - possibly catch and rethrow as unchecked exception.</p>\n"}],"owner":{"account_id":7219622,"reputation":464,"user_id":7737266,"display_name":"devjoco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75951935,"answer_count":1,"score":0,"last_activity_date":1680799831,"creation_date":1680799230,"question_id":75951853,"body_markdown":"I have some method that throws an exception:\r\n```java\r\npublic void myMethod(MyBean bean) throws SomeException {\r\n    ...\r\n}\r\n```\r\n\r\nAnd another method is calling this method like this with no errors/warnings from Eclipse:\r\n```java \r\npublic void processBeanList(List&lt;MyBean&gt; myBeanList) {\r\n    for (int i = 0; i &lt; myBeanList.size(); i++) {\r\n        MyBean myBean = myBeanList.get(i);\r\n        myMethod(myBean);\r\n    }\r\n}\r\n```\r\n\r\nHowever if I change the implementation of this `processBeanList` to the following, I get an &quot;Unhandled exception type SomeException&quot; error:\r\n```java \r\npublic void processBeanList(List&lt;MyBean&gt; myBeanList) {\r\n    myBeanList.forEach(myBean -&gt; {\r\n        myMethod(myBean); // Eclipse underlines this, mentions error\r\n    });\r\n}\r\n```\r\n\r\nI realize that if the method throws the Exception then it should be handled or re-thrown, but is there something different between these two implementations that I&#39;m missing, which would lead Eclipse to show the error in once case and not the other? Or is this just something that Eclipse, for whatever reason, is picking up in the second instance, but not in the first when it should be picked up in both cases?","title":"Why am I only getting an Unhandled Exception Type error only when using List.forEach?","body":"<p>I have some method that throws an exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void myMethod(MyBean bean) throws SomeException {\n    ...\n}\n</code></pre>\n<p>And another method is calling this method like this with no errors/warnings from Eclipse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void processBeanList(List&lt;MyBean&gt; myBeanList) {\n    for (int i = 0; i &lt; myBeanList.size(); i++) {\n        MyBean myBean = myBeanList.get(i);\n        myMethod(myBean);\n    }\n}\n</code></pre>\n<p>However if I change the implementation of this <code>processBeanList</code> to the following, I get an &quot;Unhandled exception type SomeException&quot; error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void processBeanList(List&lt;MyBean&gt; myBeanList) {\n    myBeanList.forEach(myBean -&gt; {\n        myMethod(myBean); // Eclipse underlines this, mentions error\n    });\n}\n</code></pre>\n<p>I realize that if the method throws the Exception then it should be handled or re-thrown, but is there something different between these two implementations that I'm missing, which would lead Eclipse to show the error in once case and not the other? Or is this just something that Eclipse, for whatever reason, is picking up in the second instance, but not in the first when it should be picked up in both cases?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1516534451,"post_id":48366268,"comment_id":83719218,"body_markdown":"You use `setJMenubar()` to add the menubar to the JFrame, not `add()`.","body":"You use <code>setJMenubar()</code> to add the menubar to the JFrame, not <code>add()</code>."},{"owner":{"account_id":4686682,"reputation":411,"user_id":3793935,"accept_rate":75,"display_name":"user3793935"},"score":0,"creation_date":1516534562,"post_id":48366268,"comment_id":83719238,"body_markdown":"Ah yes, my bad, but if I do so, it destroys my Gui.\nI add a picture","body":"Ah yes, my bad, but if I do so, it destroys my Gui. I add a picture"}],"answers":[{"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1516535802,"post_id":48366460,"comment_id":83719537,"body_markdown":"*&quot;If I set the size of the 2 JPanels to frame.height -50 it work&#39;s: &quot;* For that PLAF on that OS, maybe. A better solution is not to set the preferred size of things(1) and pack the top level container to size after all components are added and menus are set. 1) instead use layout padding and borders (or combos of borders) for [white space](http://stackoverflow.com/a/17874718/418556).","body":"<i>&quot;If I set the size of the 2 JPanels to frame.height -50 it work&#39;s: &quot;</i> For that PLAF on that OS, maybe. A better solution is not to set the preferred size of things(1) and pack the top level container to size after all components are added and menus are set. 1) instead use layout padding and borders (or combos of borders) for <a href=\"http://stackoverflow.com/a/17874718/418556\">white space</a>."},{"owner":{"account_id":4686682,"reputation":411,"user_id":3793935,"accept_rate":75,"display_name":"user3793935"},"score":0,"creation_date":1516536251,"post_id":48366460,"comment_id":83719642,"body_markdown":"Okay, that&#39;s pretty interesting. I was locking for something like that for quite some time.\nThank you, I will try it out!","body":"Okay, that&#39;s pretty interesting. I was locking for something like that for quite some time. Thank you, I will try it out!"}],"tags":[],"owner":{"account_id":4686682,"reputation":411,"user_id":3793935,"accept_rate":75,"display_name":"user3793935"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1516535570,"creation_date":1516535570,"answer_id":48366460,"question_id":48366268,"body_markdown":"Okay, I&#39;m sorry for wasting your time (who ever reads this).\r\nMy 2 JPanles are set to the frames prefered size, so the problem was, that the menuBar tock the space that the 2 panels needed and that was destroying my gui.\r\n\r\nIf I set the size of the 2 JPanels to frame.height -50 it work&#39;s:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZDm9V.jpg","title":"Java How to add menuBar to JFrame without destroying my layout","body":"<p>Okay, I'm sorry for wasting your time (who ever reads this).\nMy 2 JPanles are set to the frames prefered size, so the problem was, that the menuBar tock the space that the 2 panels needed and that was destroying my gui.</p>\n\n<p>If I set the size of the 2 JPanels to frame.height -50 it work's:\n<a href=\"https://i.stack.imgur.com/ZDm9V.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZDm9V.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":4686682,"reputation":411,"user_id":3793935,"accept_rate":75,"display_name":"user3793935"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680799713,"creation_date":1516534071,"question_id":48366268,"body_markdown":"I need some help with adding a menuBar to my JFrame.\r\nI have my GUI class:\r\n\r\n```\r\n    public class Gui extends JFrame implements KeyListener {\r\n    \tprivate PanelMiniMap map;\r\n\tprivate CardLayout cardLayout = new CardLayout();\r\n\r\n\tprivate JPanel cards;\r\n\r\n\tpublic Gui() {\r\n\t\tthis.setSize(1000, 800);\r\n\t\tthis.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tthis.setLocationRelativeTo(null);// center\r\n\t\tthis.setResizable(false);\r\n\r\n\t\t// bauen();\r\n\t\tthis.cards = new JPanel(cardLayout);\r\n\r\n\t\t\r\n\r\n\t\tthis.addListener();\r\n\t\tthis.add(cards);\r\n\r\n\t\tthis.setVisible(true);\r\n\r\n\t}\r\n\r\n\tpublic void addListener() {\r\n\t\tthis.addKeyListener(this);\r\n\t}\r\n\r\n\tpublic void addPanelZuCards(PanelSpielfeld spielfeld, PanelCharakterErschaffung charerschaffung, PanelMiniMap map) {\r\n\r\n\t\tthis.map = map;\r\n\r\n\t\tthis.cards.add(charerschaffung, &quot;charerschaffung&quot;);\r\n\t\tthis.cards.add(spielfeld, &quot;spielfeld&quot;);\r\n\t}\r\n\r\n\tpublic Dimension getDimension() {\r\n\t\treturn new Dimension(this.getWidth(), this.getHeight());\r\n\t}\r\n\r\n\t/**\r\n\t * Neue Charaktererschaffung ausgeben\r\n\t * \r\n\t * @param charerschaffung\r\n\t *            Das Panel, auf dem die Oberflaeche zur Charaktererschaffung\r\n\t *            erstellt wird\r\n\t */\r\n\tpublic void zeigeCharckterPanel() {\r\n\t\tthis.cardLayout.show(cards, &quot;charerschaffung&quot;);\r\n\t}\r\n\r\n\tpublic void zeigeSpielPanel() {\r\n\t\tthis.cardLayout.show(cards, &quot;spielfeld&quot;);\r\n\t\tthis.requestFocus();\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t\tif (e.getKeyCode() == KeyEvent.VK_LEFT) {\r\n\t\t\tmap.move(-1, 0);\r\n\t\t\tmap.repaint();\r\n\t\t}\r\n\t\tif (e.getKeyCode() == KeyEvent.VK_RIGHT) {\r\n\t\t\tmap.move(1, 0);\r\n\t\t\tmap.repaint();\r\n\t\t}\r\n\t\tif (e.getKeyCode() == KeyEvent.VK_UP) {\r\n\t\t\tmap.move(0, -1);\r\n\t\t\tmap.repaint();\r\n\t\t}\r\n\t\tif (e.getKeyCode() == KeyEvent.VK_DOWN) {\r\n\t\t\tmap.move(0, 1);\r\n\t\t\tmap.repaint();\r\n\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nwhere I add my 2 JPanels(PanelSpielfeld,PanelCharakterErschaffung)) to my GUI, and it locks like this:\r\n[![enter image description here][1]][1]\r\n\r\nand the other card, which is the same principle, I show the other card after pressing the &quot;starten!&quot; button:\r\n[![enter image description here][2]][2]\r\n\r\nSo, if I add a menuBar to the Jframe:\r\n\r\n    public Gui() {\r\n    \t\tthis.setSize(1000, 800);\r\n    \t\tthis.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\tthis.setLocationRelativeTo(null);// center\r\n    \t\tthis.setResizable(false);\r\n    \r\n    \t\t// bauen();\r\n    \t\tthis.cards = new JPanel(cardLayout);\r\n    \t\t\t\r\n    \t\tJMenuBar menuBar;\r\n    \t\tJMenu menu;\r\n    \t\tJMenuItem menuItem;\r\n    \r\n    \t\tmenuBar = new JMenuBar();\r\n    \r\n    \t\tmenu = new JMenu(&quot;A Menu&quot;);\r\n    \t\tmenuItem = new JMenuItem(&quot;testitem&quot;);\r\n    \r\n    \t\tmenu.add(menuItem);\r\n    \t\tmenuItem = new JMenuItem(&quot;3214dx&quot;);\r\n    \t\tmenu.add(menuItem);\r\n    \t\tmenuItem = new JMenuItem(&quot;dwq213m&quot;);\r\n    \t\tmenu.add(menuItem);\r\n    \t\tmenuBar.add(menu);\r\n    \t\tthis.add(menuBar);\r\n    \t\t\r\n    \t\tthis.addListener();\t\t\r\n    \t\tthis.add(cards);\r\n    \t\t\r\n    \t\tthis.setVisible(true);\r\n    \t\tthis.addWindowFocusListener(this);\r\n    \t}\r\n\r\nNothing is happening, and I don&#39;t really understand why.\r\nWhat am I doing wrong or what should I do, to have the same MenuBar on both &quot;cards&quot;?\r\n\r\n\r\n**Edit:**\r\nI changed \r\n\r\n    this.add(menuBar)\r\n\r\nto:\r\n\r\n    this.setJMenuBar(menuBar);\r\n\r\nand now it locks like this:\r\n[![enter image description here][3]][3]\r\n\r\nI&#39;m still missing something. Do I have to set a specific LayoutManager for the JFrame?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sZAUj.png\r\n  [2]: https://i.stack.imgur.com/r2RbK.png\r\n  [3]: https://i.stack.imgur.com/gV0Cq.jpg","title":"Java How to add menuBar to JFrame without destroying my layout","body":"<p>I need some help with adding a menuBar to my JFrame.\nI have my GUI class:</p>\n<pre><code>    public class Gui extends JFrame implements KeyListener {\n        private PanelMiniMap map;\n    private CardLayout cardLayout = new CardLayout();\n\n    private JPanel cards;\n\n    public Gui() {\n        this.setSize(1000, 800);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setLocationRelativeTo(null);// center\n        this.setResizable(false);\n\n        // bauen();\n        this.cards = new JPanel(cardLayout);\n\n        \n\n        this.addListener();\n        this.add(cards);\n\n        this.setVisible(true);\n\n    }\n\n    public void addListener() {\n        this.addKeyListener(this);\n    }\n\n    public void addPanelZuCards(PanelSpielfeld spielfeld, PanelCharakterErschaffung charerschaffung, PanelMiniMap map) {\n\n        this.map = map;\n\n        this.cards.add(charerschaffung, &quot;charerschaffung&quot;);\n        this.cards.add(spielfeld, &quot;spielfeld&quot;);\n    }\n\n    public Dimension getDimension() {\n        return new Dimension(this.getWidth(), this.getHeight());\n    }\n\n    /**\n     * Neue Charaktererschaffung ausgeben\n     * \n     * @param charerschaffung\n     *            Das Panel, auf dem die Oberflaeche zur Charaktererschaffung\n     *            erstellt wird\n     */\n    public void zeigeCharckterPanel() {\n        this.cardLayout.show(cards, &quot;charerschaffung&quot;);\n    }\n\n    public void zeigeSpielPanel() {\n        this.cardLayout.show(cards, &quot;spielfeld&quot;);\n        this.requestFocus();\n\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if (e.getKeyCode() == KeyEvent.VK_LEFT) {\n            map.move(-1, 0);\n            map.repaint();\n        }\n        if (e.getKeyCode() == KeyEvent.VK_RIGHT) {\n            map.move(1, 0);\n            map.repaint();\n        }\n        if (e.getKeyCode() == KeyEvent.VK_UP) {\n            map.move(0, -1);\n            map.repaint();\n        }\n        if (e.getKeyCode() == KeyEvent.VK_DOWN) {\n            map.move(0, 1);\n            map.repaint();\n\n        }\n    }\n\n}\n</code></pre>\n<p>where I add my 2 JPanels(PanelSpielfeld,PanelCharakterErschaffung)) to my GUI, and it locks like this:\n<a href=\"https://i.stack.imgur.com/sZAUj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sZAUj.png\" alt=\"enter image description here\" /></a></p>\n<p>and the other card, which is the same principle, I show the other card after pressing the &quot;starten!&quot; button:\n<a href=\"https://i.stack.imgur.com/r2RbK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r2RbK.png\" alt=\"enter image description here\" /></a></p>\n<p>So, if I add a menuBar to the Jframe:</p>\n<pre><code>public Gui() {\n        this.setSize(1000, 800);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setLocationRelativeTo(null);// center\n        this.setResizable(false);\n\n        // bauen();\n        this.cards = new JPanel(cardLayout);\n            \n        JMenuBar menuBar;\n        JMenu menu;\n        JMenuItem menuItem;\n\n        menuBar = new JMenuBar();\n\n        menu = new JMenu(&quot;A Menu&quot;);\n        menuItem = new JMenuItem(&quot;testitem&quot;);\n\n        menu.add(menuItem);\n        menuItem = new JMenuItem(&quot;3214dx&quot;);\n        menu.add(menuItem);\n        menuItem = new JMenuItem(&quot;dwq213m&quot;);\n        menu.add(menuItem);\n        menuBar.add(menu);\n        this.add(menuBar);\n        \n        this.addListener();     \n        this.add(cards);\n        \n        this.setVisible(true);\n        this.addWindowFocusListener(this);\n    }\n</code></pre>\n<p>Nothing is happening, and I don't really understand why.\nWhat am I doing wrong or what should I do, to have the same MenuBar on both &quot;cards&quot;?</p>\n<p><strong>Edit:</strong>\nI changed</p>\n<pre><code>this.add(menuBar)\n</code></pre>\n<p>to:</p>\n<pre><code>this.setJMenuBar(menuBar);\n</code></pre>\n<p>and now it locks like this:\n<a href=\"https://i.stack.imgur.com/gV0Cq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gV0Cq.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I'm still missing something. Do I have to set a specific LayoutManager for the JFrame?</p>\n"},{"tags":["java","spring","generics"],"comments":[{"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"score":0,"creation_date":1416222800,"post_id":26971422,"comment_id":42478515,"body_markdown":"Use `@Qualifier` when you autowire a dependency.","body":"Use <code>@Qualifier</code> when you autowire a dependency."},{"owner":{"account_id":1427397,"reputation":1308,"user_id":1350552,"accept_rate":24,"display_name":"Viktor"},"score":0,"creation_date":1416223237,"post_id":26971422,"comment_id":42478760,"body_markdown":"And how do you think I&#39;ll do that in a static way, like in the method `getService()` above?","body":"And how do you think I&#39;ll do that in a static way, like in the method <code>getService()</code> above?"},{"owner":{"account_id":2155152,"reputation":3994,"user_id":1910582,"accept_rate":88,"display_name":"Bond - Java Bond"},"score":0,"creation_date":1416223384,"post_id":26971422,"comment_id":42478839,"body_markdown":"why do you require beans statically when they are made available correctly via `@Autowired` ??","body":"why do you require beans statically when they are made available correctly via <code>@Autowired</code> ??"},{"owner":{"account_id":1427397,"reputation":1308,"user_id":1350552,"accept_rate":24,"display_name":"Viktor"},"score":0,"creation_date":1416224010,"post_id":26971422,"comment_id":42479163,"body_markdown":"Because I&#39;m using `WebApplicationContextUtils.getWebApplicationContext(ServletContext)` to access `ApplicationContext` and there are no more ways to obtain it. So I need a static way to get such a bean.","body":"Because I&#39;m using <code>WebApplicationContextUtils.getWebApplicationContext(ServletC&zwnj;&#8203;ontext)</code> to access <code>ApplicationContext</code> and there are no more ways to obtain it. So I need a static way to get such a bean."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1416227336,"post_id":26971422,"comment_id":42480808,"body_markdown":"Why would you need a static way? If you only need to inject it just use the `getAutowireCapableBeanFactory` and use that to autowire the dependencies in the class you construct (instead of trying to look them up yourself).","body":"Why would you need a static way? If you only need to inject it just use the <code>getAutowireCapableBeanFactory</code> and use that to autowire the dependencies in the class you construct (instead of trying to look them up yourself)."}],"answers":[{"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1680799668,"post_id":49700932,"comment_id":133962491,"body_markdown":"Wow.  great answer.  i edited to disambiguate the &quot;String&quot; for the bean-name and the &quot;String&quot; for the thing for which one is fishing the Ioc-Container (applicatonContext in spring-beans).","body":"Wow.  great answer.  i edited to disambiguate the &quot;String&quot; for the bean-name and the &quot;String&quot; for the thing for which one is fishing the Ioc-Container (applicatonContext in spring-beans)."}],"tags":[],"owner":{"account_id":130368,"reputation":2042,"user_id":329589,"display_name":"Radu"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680799586,"creation_date":1523048491,"answer_id":49700932,"question_id":26971422,"body_markdown":"Getting generic beans programmatically from the application context:\r\n\r\n    String[] beanNames = applicationContext.getBeanNamesForType(ResolvableType.forType(new ParameterizedTypeReference&lt;String&gt;() {}));\r\n    if (beanNames.length &gt; 0) {\r\n        String bean = (String) applicationContext.getBean(beanNames[0]);\r\n    }\r\n\r\nor in your specific case:\r\n\r\n\r\n    String[] beanNames = applicationContext.getBeanNamesForType(ResolvableType.forType(new ParameterizedTypeReference&lt;Service&lt;Foo&gt;&gt;() {}));\r\n    if (beanNames.length &gt; 0) {\r\n        Service&lt;Foo&gt; bean = (Service&lt;Foo&gt;) applicationContext.getBean(beanNames[0]);\r\n    }\r\n\r\n\r\nOr check [this][1] answer if you&#39;re interested in a mechanism to handle generic objects with particular handler.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49700833/329589","title":"Spring: how to get an applicable generic bean instance by its type argument(s)?","body":"<p>Getting generic beans programmatically from the application context:</p>\n<pre><code>String[] beanNames = applicationContext.getBeanNamesForType(ResolvableType.forType(new ParameterizedTypeReference&lt;String&gt;() {}));\nif (beanNames.length &gt; 0) {\n    String bean = (String) applicationContext.getBean(beanNames[0]);\n}\n</code></pre>\n<p>or in your specific case:</p>\n<pre><code>String[] beanNames = applicationContext.getBeanNamesForType(ResolvableType.forType(new ParameterizedTypeReference&lt;Service&lt;Foo&gt;&gt;() {}));\nif (beanNames.length &gt; 0) {\n    Service&lt;Foo&gt; bean = (Service&lt;Foo&gt;) applicationContext.getBean(beanNames[0]);\n}\n</code></pre>\n<p>Or check <a href=\"https://stackoverflow.com/a/49700833/329589\">this</a> answer if you're interested in a mechanism to handle generic objects with particular handler.</p>\n"}],"owner":{"account_id":1427397,"reputation":1308,"user_id":1350552,"accept_rate":24,"display_name":"Viktor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4950,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1680799586,"creation_date":1416222735,"question_id":26971422,"body_markdown":"I&#39;m using Spring 4.1.2 and I have the following code:\r\n\r\n    public class Foo {\r\n    }\r\n\r\n    public class Bar {\r\n    }\r\n\r\n    public interface Service&lt;T&gt; {\r\n    }\r\n\r\n    @Service(&quot;fooService&quot;)\r\n    public class FooServiceImpl implements Service&lt;Foo&gt; {\r\n    }\r\n\r\n    @Service(&quot;barService&quot;)\r\n    public class BarServiceImpl implements Service&lt;Bar&gt; {\r\n    }\r\n\r\nI know that Spring 4 can inject generic bean instances like the following:\r\n\r\n    @Autowired\r\n    private Service&lt;Foo&gt; service; // works fine\r\n\r\nBut I need to obtain them in a static way like the following:\r\n\r\n    Service&lt;Foo&gt; service = getService(getContext(), Foo.class);\r\n\r\n    ...\r\n\r\n    public static &lt;T&gt; Service&lt;T&gt; getService(ApplicationContext context,\r\n            Class&lt;T&gt; objectClass) {\r\n        ...\r\n    }\r\n\r\nI tried to use `ApplicationContext.getBeansOfType(Service.class)` but it returns all available bean instances (`fooService` and `barService`). So I need to pass type arguments somehow.\r\n\r\nIs there any way to do this? Something like this:\r\n\r\n    @SupressWarnings(&quot;unchecked&quot;)\r\n    Service&lt;Foo&gt; service = applicationContext.getGenericBean(\r\n            Service.class, // bean class\r\n            Foo.class // type arguments\r\n            // ...\r\n    );","title":"Spring: how to get an applicable generic bean instance by its type argument(s)?","body":"<p>I'm using Spring 4.1.2 and I have the following code:</p>\n\n<pre><code>public class Foo {\n}\n\npublic class Bar {\n}\n\npublic interface Service&lt;T&gt; {\n}\n\n@Service(\"fooService\")\npublic class FooServiceImpl implements Service&lt;Foo&gt; {\n}\n\n@Service(\"barService\")\npublic class BarServiceImpl implements Service&lt;Bar&gt; {\n}\n</code></pre>\n\n<p>I know that Spring 4 can inject generic bean instances like the following:</p>\n\n<pre><code>@Autowired\nprivate Service&lt;Foo&gt; service; // works fine\n</code></pre>\n\n<p>But I need to obtain them in a static way like the following:</p>\n\n<pre><code>Service&lt;Foo&gt; service = getService(getContext(), Foo.class);\n\n...\n\npublic static &lt;T&gt; Service&lt;T&gt; getService(ApplicationContext context,\n        Class&lt;T&gt; objectClass) {\n    ...\n}\n</code></pre>\n\n<p>I tried to use <code>ApplicationContext.getBeansOfType(Service.class)</code> but it returns all available bean instances (<code>fooService</code> and <code>barService</code>). So I need to pass type arguments somehow.</p>\n\n<p>Is there any way to do this? Something like this:</p>\n\n<pre><code>@SupressWarnings(\"unchecked\")\nService&lt;Foo&gt; service = applicationContext.getGenericBean(\n        Service.class, // bean class\n        Foo.class // type arguments\n        // ...\n);\n</code></pre>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":28233962,"reputation":1,"user_id":21582750,"display_name":"Axel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680798005,"creation_date":1680798005,"question_id":75951671,"body_markdown":"I&#39;m writing a java-based app, with different intents, I tried with the onstop method but it is chaiamto even when I leave an intent for another intent.\r\nHow can I completely close and make apps disappear from multitasking when it is in the backgorund ?\r\nThank you so much","title":"How can I completely close and make apps disappear from multitasking when it is in the backgorund?","body":"<p>I'm writing a java-based app, with different intents, I tried with the onstop method but it is chaiamto even when I leave an intent for another intent.\nHow can I completely close and make apps disappear from multitasking when it is in the backgorund ?\nThank you so much</p>\n"},{"tags":["java","amazon-web-services","aws-event-bridge"],"owner":{"account_id":21151264,"reputation":1,"user_id":15551518,"display_name":"manci ayman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680797977,"creation_date":1680797977,"question_id":75951667,"body_markdown":"I need to send events to AWS EventBridge in Java. The code cannot use the AWS SDK so it must use the REST API. The code must also use Apache HttpClient.\r\n\r\n```\r\n\r\npublic class TestEventBridge {\r\n\r\n    public static void main(String[] args)\r\n            throws NoSuchAlgorithmException, InvalidKeyException, IOException, URISyntaxException {\r\n        // Define EventBridge endpoint URL\r\n        String endpointUrl = &quot;https://events.eu-west-3.amazonaws.com&quot;;\r\n        // Define AWS region\r\n        String awsRegion = &quot;eu-west-3&quot;;\r\n        // Define AWS access key ID\r\n        String awsAccessKeyId = &quot;xxx&quot;;\r\n        // Define AWS secret access key\r\n        String awsSecretAccessKey = &quot;xxx&quot;;\r\n        // Define the event to be sent\r\n        String event = &quot;{\\&quot;Entries\\&quot;:[{\\&quot;Source\\&quot;:\\&quot;com.test\\&quot;,\\&quot;Detail\\&quot;:\\&quot;{ \\\\\\&quot;title\\\\\\&quot;: \\\\\\&quot;my_title\\\\\\&quot;, \\\\\\&quot;businessDomain\\\\\\&quot;: \\\\\\&quot;mydomain\\\\\\&quot; }\\&quot;,\\&quot;Resources\\&quot;:[\\&quot;myasset.jpg\\&quot;],\\&quot;DetailType\\&quot;:\\&quot;asset_created_success\\&quot;}]}&quot;;\r\n\r\n        // Generate a unique ID for the request\r\n        String uuid = UUID.randomUUID().toString();\r\n\r\n        // Define the current time in UTC format\r\n        ZoneId zoneId = ZoneId.of(&quot;UTC&quot;);\r\n        LocalDateTime now = LocalDateTime.now(zoneId);\r\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&#39;T&#39;HHmmss&#39;Z&#39;&quot;);\r\n        String currentTime = now.format(dateTimeFormatter);\r\n\r\n        // Define the payload hash\r\n        String payloadHash = Base64.getEncoder().encodeToString(hash(event)).toLowerCase();\r\n\r\n        // Define the canonical request\r\n        String canonicalRequest = &quot;POST\\n/\\n\\ncontent-type:application/x-amz-json-1.1\\nhost:&quot; + endpointUrl.split(&quot;//&quot;)[1] + &quot;\\nx-amz-date:&quot; + currentTime + &quot;\\nx-amz-target:AWSEvents.PutEvents\\n\\ncontent-type;host;x-amz-date;x-amz-target\\n&quot; + payloadHash;\r\n\r\n        // Define the string to sign\r\n        String stringToSign = &quot;AWS4-HMAC-SHA256\\n&quot; + currentTime + &quot;\\n&quot; + now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)) + &quot;/&quot; + awsRegion + &quot;/events/aws4_request\\n&quot; + Base64.getEncoder().encodeToString(hash(canonicalRequest)).toLowerCase();\r\n\r\n        // Generate the signing key\r\n        byte[] kSecret = (&quot;AWS4&quot; + awsSecretAccessKey).getBytes(StandardCharsets.UTF_8);\r\n        byte[] kDate = hmacSHA256(now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)), kSecret);\r\n        byte[] kRegion = hmacSHA256(awsRegion, kDate);\r\n        byte[] kService = hmacSHA256(&quot;events&quot;, kRegion);\r\n        byte[] kSigning = hmacSHA256(&quot;aws4_request&quot;, kService);\r\n\r\n        // Generate the signature\r\n        String signature = Base64.getEncoder().encodeToString(hmacSHA256(stringToSign, kSigning)).toLowerCase();\r\n\r\n        // Define the authorization header\r\n        String authorizationHeader = &quot;AWS4-HMAC-SHA256 Credential=&quot; + awsAccessKeyId + &quot;/&quot; + now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)) + &quot;/&quot; + awsRegion + &quot;/events/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=&quot; + signature;\r\n\r\n        // Define the HTTP client\r\n        HttpClient httpClient = HttpClients.createDefault();\r\n\r\n        // Define the HTTP POST request\r\n        HttpPost httpPost = new HttpPost(new URI(endpointUrl));\r\n        httpPost.setHeader(&quot;content-type&quot;, &quot;application/x-amz-json-1.1&quot;);\r\n        httpPost.setHeader(&quot;host&quot;, endpointUrl.split(&quot;//&quot;)[1]);\r\n        httpPost.setHeader(&quot;x-amz-date&quot;, currentTime);\r\n        httpPost.setHeader(&quot;x-amz-target&quot;, &quot;AWSEvents.PutEvents&quot;);\r\n        httpPost.setHeader(&quot;Authorization&quot;, authorizationHeader);\r\n        HttpEntity httpEntity = new StringEntity(event);\r\n        httpPost.setEntity(httpEntity);\r\n\r\n        // Execute the HTTP request and get the response\r\n        HttpResponse httpResponse = httpClient.execute(httpPost);\r\n        System.out.println(EntityUtils.toString(httpResponse.getEntity()));\r\n        System.out.println(httpResponse.getStatusLine().getStatusCode());\r\n    }\r\n\r\n    private static byte[] hmacSHA256(String data, byte[] key) throws NoSuchAlgorithmException, InvalidKeyException {\r\n        String algorithm = &quot;HmacSHA256&quot;;\r\n        Mac mac = Mac.getInstance(algorithm);\r\n        mac.init(new SecretKeySpec(key, algorithm));\r\n        return mac.doFinal(data.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n\r\n    private static byte[] hash(String data) throws NoSuchAlgorithmException {\r\n        String algorithm = &quot;SHA-256&quot;;\r\n        return java.security.MessageDigest.getInstance(algorithm).digest(data.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n}\r\n```\r\nI need to send events to AWS EventBridge in Java. The code cannot use the AWS SDK so it must use the REST API. The code must also use Apache HttpClient.\r\n","title":"the request signature we calculated does not match the signature aws","body":"<p>I need to send events to AWS EventBridge in Java. The code cannot use the AWS SDK so it must use the REST API. The code must also use Apache HttpClient.</p>\n<pre><code>\npublic class TestEventBridge {\n\n    public static void main(String[] args)\n            throws NoSuchAlgorithmException, InvalidKeyException, IOException, URISyntaxException {\n        // Define EventBridge endpoint URL\n        String endpointUrl = &quot;https://events.eu-west-3.amazonaws.com&quot;;\n        // Define AWS region\n        String awsRegion = &quot;eu-west-3&quot;;\n        // Define AWS access key ID\n        String awsAccessKeyId = &quot;xxx&quot;;\n        // Define AWS secret access key\n        String awsSecretAccessKey = &quot;xxx&quot;;\n        // Define the event to be sent\n        String event = &quot;{\\&quot;Entries\\&quot;:[{\\&quot;Source\\&quot;:\\&quot;com.test\\&quot;,\\&quot;Detail\\&quot;:\\&quot;{ \\\\\\&quot;title\\\\\\&quot;: \\\\\\&quot;my_title\\\\\\&quot;, \\\\\\&quot;businessDomain\\\\\\&quot;: \\\\\\&quot;mydomain\\\\\\&quot; }\\&quot;,\\&quot;Resources\\&quot;:[\\&quot;myasset.jpg\\&quot;],\\&quot;DetailType\\&quot;:\\&quot;asset_created_success\\&quot;}]}&quot;;\n\n        // Generate a unique ID for the request\n        String uuid = UUID.randomUUID().toString();\n\n        // Define the current time in UTC format\n        ZoneId zoneId = ZoneId.of(&quot;UTC&quot;);\n        LocalDateTime now = LocalDateTime.now(zoneId);\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd'T'HHmmss'Z'&quot;);\n        String currentTime = now.format(dateTimeFormatter);\n\n        // Define the payload hash\n        String payloadHash = Base64.getEncoder().encodeToString(hash(event)).toLowerCase();\n\n        // Define the canonical request\n        String canonicalRequest = &quot;POST\\n/\\n\\ncontent-type:application/x-amz-json-1.1\\nhost:&quot; + endpointUrl.split(&quot;//&quot;)[1] + &quot;\\nx-amz-date:&quot; + currentTime + &quot;\\nx-amz-target:AWSEvents.PutEvents\\n\\ncontent-type;host;x-amz-date;x-amz-target\\n&quot; + payloadHash;\n\n        // Define the string to sign\n        String stringToSign = &quot;AWS4-HMAC-SHA256\\n&quot; + currentTime + &quot;\\n&quot; + now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)) + &quot;/&quot; + awsRegion + &quot;/events/aws4_request\\n&quot; + Base64.getEncoder().encodeToString(hash(canonicalRequest)).toLowerCase();\n\n        // Generate the signing key\n        byte[] kSecret = (&quot;AWS4&quot; + awsSecretAccessKey).getBytes(StandardCharsets.UTF_8);\n        byte[] kDate = hmacSHA256(now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)), kSecret);\n        byte[] kRegion = hmacSHA256(awsRegion, kDate);\n        byte[] kService = hmacSHA256(&quot;events&quot;, kRegion);\n        byte[] kSigning = hmacSHA256(&quot;aws4_request&quot;, kService);\n\n        // Generate the signature\n        String signature = Base64.getEncoder().encodeToString(hmacSHA256(stringToSign, kSigning)).toLowerCase();\n\n        // Define the authorization header\n        String authorizationHeader = &quot;AWS4-HMAC-SHA256 Credential=&quot; + awsAccessKeyId + &quot;/&quot; + now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)) + &quot;/&quot; + awsRegion + &quot;/events/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=&quot; + signature;\n\n        // Define the HTTP client\n        HttpClient httpClient = HttpClients.createDefault();\n\n        // Define the HTTP POST request\n        HttpPost httpPost = new HttpPost(new URI(endpointUrl));\n        httpPost.setHeader(&quot;content-type&quot;, &quot;application/x-amz-json-1.1&quot;);\n        httpPost.setHeader(&quot;host&quot;, endpointUrl.split(&quot;//&quot;)[1]);\n        httpPost.setHeader(&quot;x-amz-date&quot;, currentTime);\n        httpPost.setHeader(&quot;x-amz-target&quot;, &quot;AWSEvents.PutEvents&quot;);\n        httpPost.setHeader(&quot;Authorization&quot;, authorizationHeader);\n        HttpEntity httpEntity = new StringEntity(event);\n        httpPost.setEntity(httpEntity);\n\n        // Execute the HTTP request and get the response\n        HttpResponse httpResponse = httpClient.execute(httpPost);\n        System.out.println(EntityUtils.toString(httpResponse.getEntity()));\n        System.out.println(httpResponse.getStatusLine().getStatusCode());\n    }\n\n    private static byte[] hmacSHA256(String data, byte[] key) throws NoSuchAlgorithmException, InvalidKeyException {\n        String algorithm = &quot;HmacSHA256&quot;;\n        Mac mac = Mac.getInstance(algorithm);\n        mac.init(new SecretKeySpec(key, algorithm));\n        return mac.doFinal(data.getBytes(StandardCharsets.UTF_8));\n    }\n\n    private static byte[] hash(String data) throws NoSuchAlgorithmException {\n        String algorithm = &quot;SHA-256&quot;;\n        return java.security.MessageDigest.getInstance(algorithm).digest(data.getBytes(StandardCharsets.UTF_8));\n    }\n}\n</code></pre>\n<p>I need to send events to AWS EventBridge in Java. The code cannot use the AWS SDK so it must use the REST API. The code must also use Apache HttpClient.</p>\n"},{"tags":["java","android","automated-tests","appium-android","android-uiautomator"],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680797456,"creation_date":1680794443,"question_id":75951167,"body_markdown":"Note: Working with Java 11 and Appium.\r\n\r\nI am trying to get a MobileElement for an appium test suite using Android UiAutomators. Specifically I need to scroll to one so I am condtructing the locator using `@AndroidFindBy(uiAutomator = &quot;new UiScrollable(new UiSelector().scrollable(true)).scrollIntoView(new UiSelector()...)&quot;`. My problem is that the element I need has no unique identifiers but a child does.\r\n\r\nElement tree looks something like this\r\n```xml\r\n&lt;RecyclerView&gt;\r\n   &lt;LinearLayout&gt;\r\n      &lt;TextView text=&quot;name&quot;&gt;\r\n      &lt;LinearLayout&gt;\r\n         &lt;TextView text=&quot;type&quot;&gt;\r\n         &lt;TextView text=&quot;unique id&quot;&gt; &lt;---I can find this\r\n      &lt;Switch&gt; &lt;--- Element I need\r\n   &lt;LinearLayout&gt;\r\n      &lt;TextView text=&quot;name&quot;&gt;\r\n      &lt;LinearLayout&gt;\r\n         &lt;TextView text=&quot;type&quot;&gt;\r\n         &lt;TextView text=&quot;another unique id&quot;&gt;\r\n      &lt;Switch&gt;\r\n```\r\n\r\nI tried `new UiScrollable(new UiSelector().scrollable(true)).scrollIntoView(new UiSelector().textContains(&quot;unique text&quot;).fromParent(new UiSelector())` but that only gives me the other TextView under the LinearLayout. I have also tried `.childSelector()` and other paths but since the TextView is the only unique element I always end up at it with no way to move back up the tree. The Android developer documentaion on UiSelectors has not been helpful for me.\r\n\r\nIn short I want to go from (TextView text=&quot;unique id&quot;) get parent (LinearLayout) from there find (Switch) sibling. Once I have the specific (LinearLayout) I can get the (Switch) easily. Its getting the parent from the child that I can&#39;t seen to figure out. Any advice?\r\n\r\n----------------------------------------\r\nContext Not needed to Answer Question:\r\n\r\nThe RecyclerView has dozen of this LinearLayouts, so my ultimate goal is to have a java method that finds the switch based on the unique id and name combo. The name, type, and id are not unique in my actual code but the the name and id make a unique pair. This fact can be ignored for the above question, just wanted to provide context for the below. can be shared across elements but the id is always unique.\r\n\r\n```java\r\nprivate WebElement getSwitch(String name, String uniqueId){\r\n   return driver.findElement(AppiumBy.androidUIAutomator(\r\n      String.format(&quot;new UiScrollable(new UiSelector().scrollable(true))&quot;+\r\n      &quot;.scrollIntoView(new UiSelector().textContains(\\&quot;%s\\&quot;)&quot;+\r\n      &quot;.getParentofTextViewSomehow().fromParent(new UiSelector().text(\\&quot;%s\\&quot;)&quot;+\r\n      &quot;.fromParent(new UiSelector().className(\\&quot;Switch\\&quot;))))&quot;,uniqueId, name)));\r\n}\r\n```","title":"How do I get the parent UiSelector starting at its child?","body":"<p>Note: Working with Java 11 and Appium.</p>\n<p>I am trying to get a MobileElement for an appium test suite using Android UiAutomators. Specifically I need to scroll to one so I am condtructing the locator using <code>@AndroidFindBy(uiAutomator = &quot;new UiScrollable(new UiSelector().scrollable(true)).scrollIntoView(new UiSelector()...)&quot;</code>. My problem is that the element I need has no unique identifiers but a child does.</p>\n<p>Element tree looks something like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RecyclerView&gt;\n   &lt;LinearLayout&gt;\n      &lt;TextView text=&quot;name&quot;&gt;\n      &lt;LinearLayout&gt;\n         &lt;TextView text=&quot;type&quot;&gt;\n         &lt;TextView text=&quot;unique id&quot;&gt; &lt;---I can find this\n      &lt;Switch&gt; &lt;--- Element I need\n   &lt;LinearLayout&gt;\n      &lt;TextView text=&quot;name&quot;&gt;\n      &lt;LinearLayout&gt;\n         &lt;TextView text=&quot;type&quot;&gt;\n         &lt;TextView text=&quot;another unique id&quot;&gt;\n      &lt;Switch&gt;\n</code></pre>\n<p>I tried <code>new UiScrollable(new UiSelector().scrollable(true)).scrollIntoView(new UiSelector().textContains(&quot;unique text&quot;).fromParent(new UiSelector())</code> but that only gives me the other TextView under the LinearLayout. I have also tried <code>.childSelector()</code> and other paths but since the TextView is the only unique element I always end up at it with no way to move back up the tree. The Android developer documentaion on UiSelectors has not been helpful for me.</p>\n<p>In short I want to go from (TextView text=&quot;unique id&quot;) get parent (LinearLayout) from there find (Switch) sibling. Once I have the specific (LinearLayout) I can get the (Switch) easily. Its getting the parent from the child that I can't seen to figure out. Any advice?</p>\n<hr />\n<p>Context Not needed to Answer Question:</p>\n<p>The RecyclerView has dozen of this LinearLayouts, so my ultimate goal is to have a java method that finds the switch based on the unique id and name combo. The name, type, and id are not unique in my actual code but the the name and id make a unique pair. This fact can be ignored for the above question, just wanted to provide context for the below. can be shared across elements but the id is always unique.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private WebElement getSwitch(String name, String uniqueId){\n   return driver.findElement(AppiumBy.androidUIAutomator(\n      String.format(&quot;new UiScrollable(new UiSelector().scrollable(true))&quot;+\n      &quot;.scrollIntoView(new UiSelector().textContains(\\&quot;%s\\&quot;)&quot;+\n      &quot;.getParentofTextViewSomehow().fromParent(new UiSelector().text(\\&quot;%s\\&quot;)&quot;+\n      &quot;.fromParent(new UiSelector().className(\\&quot;Switch\\&quot;))))&quot;,uniqueId, name)));\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1680781495,"post_id":75948479,"comment_id":133957910,"body_markdown":"You may try this regex: `^(?!&amp;?(\\d)(?:&amp;?\\1)+$)(?=.{12,14}$)\\d*(?:&amp;\\d*)?$`","body":"You may try this regex: <code>^(?!&amp;?(\\d)(?:&amp;?\\1)+$)(?=.{12,14}$)\\d*(?:&amp;\\d*)?$</code>"},{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":1,"creation_date":1680783603,"post_id":75948479,"comment_id":133958381,"body_markdown":"Thanks anubhava  the above regex working as expected but its allowed only Numerics but it need to allow the Alphabets as well.\n\nAnd &amp; is not allowed Begining and ending of the text.\nLike 11122344111&amp; and &amp;11122344111 not allowed","body":"Thanks anubhava  the above regex working as expected but its allowed only Numerics but it need to allow the Alphabets as well.  And &amp; is not allowed Begining and ending of the text. Like 11122344111&amp; and &amp;11122344111 not allowed"}],"answers":[{"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1680851920,"post_id":75950674,"comment_id":133969666,"body_markdown":"I have a feeling that SO is becoming less popular.","body":"I have a feeling that SO is becoming less popular."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":1,"creation_date":1680852148,"post_id":75950674,"comment_id":133969697,"body_markdown":"true, ChatGPT effect I believe!","body":"true, ChatGPT effect I believe!"}],"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680791197,"creation_date":1680791197,"answer_id":75950674,"question_id":75948479,"body_markdown":"You may use this regex for your conditions:\r\n\r\n```sh\r\n^(?!([\\da-zA-Z])(?:&amp;?\\1)+$)(?=.{12,14}$)[\\da-zA-Z]+(?:&amp;[\\da-zA-Z]+)?$\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/o0Ydy8/1\r\n\r\n**RegEx Details:**\r\n\r\n- `^`: Start\r\n- `(?!([\\da-zA-Z])(?:&amp;?\\1)+$)`: Negative lookahead to assert failure when same digit or letter is repeated till end\r\n- `(?=.{12,14}$)`: Positive lookahead to make sure there are 12 to 14 characters\r\n- `[\\da-zA-Z]+`: Match 1+ digits or letters\r\n- `(?:&amp;[\\da-zA-Z]+)?`: Optionally match `&amp;` followed by 1+ of digits or letters\r\n- `$`: End","title":"Regex for Not allow all same characters even included single special character","body":"<p>You may use this regex for your conditions:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>^(?!([\\da-zA-Z])(?:&amp;?\\1)+$)(?=.{12,14}$)[\\da-zA-Z]+(?:&amp;[\\da-zA-Z]+)?$\n</code></pre>\n<p><a href=\"https://regex101.com/r/o0Ydy8/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Details:</strong></p>\n<ul>\n<li><code>^</code>: Start</li>\n<li><code>(?!([\\da-zA-Z])(?:&amp;?\\1)+$)</code>: Negative lookahead to assert failure when same digit or letter is repeated till end</li>\n<li><code>(?=.{12,14}$)</code>: Positive lookahead to make sure there are 12 to 14 characters</li>\n<li><code>[\\da-zA-Z]+</code>: Match 1+ digits or letters</li>\n<li><code>(?:&amp;[\\da-zA-Z]+)?</code>: Optionally match <code>&amp;</code> followed by 1+ of digits or letters</li>\n<li><code>$</code>: End</li>\n</ul>\n"}],"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1680796674,"creation_date":1680776856,"question_id":75948479,"body_markdown":"Requirement :\r\n\r\nTrying to create the regex for the below conditions, I have tried the one regex it&#39;s working as expected other than one condition as it does not allow duplicates even separated by particular Char &amp;.\r\n\r\n1. Allow Alpha Numeric characters with a minimum of 12 and a maximum of 14 \r\n\r\n2. No special characters are allowed other than &amp; ( only one)\r\n\r\n3. Not Allow all the same characters even separated by &amp; \r\n\r\n4. Length is same between 12 to 14 even including the &amp; \r\n\r\n  \r\nex: \r\n\r\n    111111111111 not allowed as all are the same characters\r\n    1111111&amp;11111 not allowed as all are the same characters even &amp; is there\r\n    111111111112 allowed \r\n    1111111&amp;11112 allowed\r\n    ABC123567GHDG4 allowed\r\n    \r\n```\r\n^(\\d)(?!\\1+$)(?=.{11,13}$)[0-9]*(?:[&amp;][0-9]+)?$\r\n```\r\n\r\nThe above regex is working other than the case `1111111&amp;11111` \r\n","title":"Regex for Not allow all same characters even included single special character","body":"<p>Requirement :</p>\n<p>Trying to create the regex for the below conditions, I have tried the one regex it's working as expected other than one condition as it does not allow duplicates even separated by particular Char &amp;.</p>\n<ol>\n<li><p>Allow Alpha Numeric characters with a minimum of 12 and a maximum of 14</p>\n</li>\n<li><p>No special characters are allowed other than &amp; ( only one)</p>\n</li>\n<li><p>Not Allow all the same characters even separated by &amp;</p>\n</li>\n<li><p>Length is same between 12 to 14 even including the &amp;</p>\n</li>\n</ol>\n<p>ex:</p>\n<pre><code>111111111111 not allowed as all are the same characters\n1111111&amp;11111 not allowed as all are the same characters even &amp; is there\n111111111112 allowed \n1111111&amp;11112 allowed\nABC123567GHDG4 allowed\n</code></pre>\n<pre><code>^(\\d)(?!\\1+$)(?=.{11,13}$)[0-9]*(?:[&amp;][0-9]+)?$\n</code></pre>\n<p>The above regex is working other than the case <code>1111111&amp;11111</code></p>\n"},{"tags":["java","jasper-reports","pie-chart","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":12321216,"reputation":414,"user_id":8990439,"display_name":"alesssz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657119942,"creation_date":1657119942,"answer_id":72885888,"question_id":72855153,"body_markdown":"I managed to resolve this, if someone is struggling like I was:\r\n\r\n    import net.sf.jasperreports.engine.JRAbstractChartCustomizer;\r\n    import net.sf.jasperreports.engine.JRChart;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.plot.PiePlot;\r\n    import org.jfree.data.general.PieDataset;\r\n    \r\n    import com.fasterxml.jackson.databind.node.ArrayNode;\r\n    \r\n    import java.awt.Color;\r\n    import java.util.HashMap;\r\n    \r\n    \r\n    \r\n    public class customColorSeries_pieChart  extends JRAbstractChartCustomizer  { \r\n        @Override\r\n        public void customize(JFreeChart chart, JRChart jasperChart) {\r\n        \tPiePlot plot = (PiePlot) chart.getPlot();\r\n        \tPieDataset plot_dataset = plot.getDataset();\r\n        \t\r\n        \tHashMap&lt;String, String&gt; customMap = new HashMap&lt;&gt;();\r\n        \t//Inside &#39;seriesColor&#39; we will find an array of object like -&gt; [{&quot;Status&quot;: &quot;Aperta&quot;, &quot;Color&quot;: &quot;#FFFF00&quot;}, ...]\r\n        \t//This comes from a parameter passed from a main report to a subreport\r\n        \tcom.fasterxml.jackson.databind.node.ArrayNode seriesColor = (ArrayNode) getParameterValue(&quot;seriesColor_P&quot;);\r\n        \t\r\n        \tfor (int z = 0; z &lt; seriesColor.size(); z++) {      \t\r\n            \tcustomMap.put(seriesColor.get(z).get(&quot;Status&quot;).textValue(), seriesColor.get(z).get(&quot;Color&quot;).textValue());\r\n            }\r\n        \t\r\n        \t\r\n        \tfor (int i = 0; i &lt; plot_dataset.getItemCount(); i++) {\r\n            \tif(customMap.containsKey(plot_dataset.getKey(i).toString())) {\r\n            \t\tplot.setSectionPaint(plot_dataset.getKey(i), Color.decode(customMap.get(plot_dataset.getKey(i).toString())));\r\n            \t}\r\n            \telse {\r\n            \t\tplot.setSectionPaint(plot_dataset.getKey(i), Color.BLACK);\r\n            \t}\r\n            }\r\n    \r\n        }        \r\n    }","title":"JasperSoft Studio (6.8), custom and dynamic color for a pieChart element","body":"<p>I managed to resolve this, if someone is struggling like I was:</p>\n<pre><code>import net.sf.jasperreports.engine.JRAbstractChartCustomizer;\nimport net.sf.jasperreports.engine.JRChart;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.PiePlot;\nimport org.jfree.data.general.PieDataset;\n\nimport com.fasterxml.jackson.databind.node.ArrayNode;\n\nimport java.awt.Color;\nimport java.util.HashMap;\n\n\n\npublic class customColorSeries_pieChart  extends JRAbstractChartCustomizer  { \n    @Override\n    public void customize(JFreeChart chart, JRChart jasperChart) {\n        PiePlot plot = (PiePlot) chart.getPlot();\n        PieDataset plot_dataset = plot.getDataset();\n        \n        HashMap&lt;String, String&gt; customMap = new HashMap&lt;&gt;();\n        //Inside 'seriesColor' we will find an array of object like -&gt; [{&quot;Status&quot;: &quot;Aperta&quot;, &quot;Color&quot;: &quot;#FFFF00&quot;}, ...]\n        //This comes from a parameter passed from a main report to a subreport\n        com.fasterxml.jackson.databind.node.ArrayNode seriesColor = (ArrayNode) getParameterValue(&quot;seriesColor_P&quot;);\n        \n        for (int z = 0; z &lt; seriesColor.size(); z++) {          \n            customMap.put(seriesColor.get(z).get(&quot;Status&quot;).textValue(), seriesColor.get(z).get(&quot;Color&quot;).textValue());\n        }\n        \n        \n        for (int i = 0; i &lt; plot_dataset.getItemCount(); i++) {\n            if(customMap.containsKey(plot_dataset.getKey(i).toString())) {\n                plot.setSectionPaint(plot_dataset.getKey(i), Color.decode(customMap.get(plot_dataset.getKey(i).toString())));\n            }\n            else {\n                plot.setSectionPaint(plot_dataset.getKey(i), Color.BLACK);\n            }\n        }\n\n    }        \n}\n</code></pre>\n"}],"owner":{"account_id":12321216,"reputation":414,"user_id":8990439,"display_name":"alesssz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72885888,"answer_count":1,"score":1,"last_activity_date":1680796615,"creation_date":1656929843,"question_id":72855153,"body_markdown":"I&#39;m using `JasperSoft Studio version 6.8`. I&#39;m trying to create a pieChart with dynamic colours. I would want each label (&#39;Verificata dal cliente&#39;, &#39;Aperta&#39;, &#39;Situazione invariata&#39;, etc...) to always have the same colour. &lt;br&gt;\r\nThe problem is that I don&#39;t always have all those labels (otherwise I would add a fixed color Series in the chart options), but I need each label to always have the same colour, despire how many labels there are (for example, &#39;Aperta&#39; always red, despite if there are 2 labels or 10) &lt;br&gt; &lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\nIs there any way to do it? I&#39;m not that good with chart customization in java, but I guess that&#39;s the way...any help?&lt;br&gt;&lt;br&gt;\r\n\r\nEDIT:\r\nI managed to create a customizer:\r\n\r\n    import net.sf.jasperreports.engine.JRAbstractChartCustomizer;\r\n    import net.sf.jasperreports.engine.JRChart;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.plot.PiePlot;\r\n    import com.fasterxml.jackson.databind.node.ArrayNode;\r\n    import java.util.HashMap;\r\n    \r\n    public class customColorSeries_pieChart  extends JRAbstractChartCustomizer  { \r\n    \t//Inside &#39;seriesColor&#39; we will find an array of object like -&gt; [{&quot;Status&quot;: &quot;Aperta&quot;, &quot;Color&quot;: &quot;#FFFF00&quot;}, ...]\r\n    \r\n        @Override\r\n        public void customize(JFreeChart chart, JRChart jasperChart) {\r\n        \tPiePlot plot = (PiePlot) chart.getPlot();    \t\r\n        \tHashMap&lt;String, String&gt; customMap = new HashMap&lt;&gt;();\r\n    \t\t//This comes from a parameter passed from a main report to a subreport\r\n        \tcom.fasterxml.jackson.databind.node.ArrayNode seriesColor = (ArrayNode) getParameterValue(&quot;seriesColor_P&quot;);\r\n            for (int z = 0; z &lt; seriesColor.size(); z++) {\r\n            \t//System.out.println(seriesColor.get(z).get(&quot;Status&quot;));\r\n            \t//System.out.println(seriesColor.get(z).get(&quot;Color&quot;));\r\n            \t\r\n            \tcustomMap.put(seriesColor.get(z).get(&quot;Status&quot;).textValue(), seriesColor.get(z).get(&quot;Color&quot;).textValue());\r\n            }\r\n        }        \r\n    }\r\n\r\nFrom there I don&#39;t know how to manage and manipulate the pie chart dataset to give each `Status` always the same color. &lt;br&gt;\r\nAny suggestion?\r\n\r\n  [1]: https://i.stack.imgur.com/loPXv.png","title":"JasperSoft Studio (6.8), custom and dynamic color for a pieChart element","body":"<p>I'm using <code>JasperSoft Studio version 6.8</code>. I'm trying to create a pieChart with dynamic colours. I would want each label ('Verificata dal cliente', 'Aperta', 'Situazione invariata', etc...) to always have the same colour. <br>\nThe problem is that I don't always have all those labels (otherwise I would add a fixed color Series in the chart options), but I need each label to always have the same colour, despire how many labels there are (for example, 'Aperta' always red, despite if there are 2 labels or 10) <br> <br>\n<a href=\"https://i.stack.imgur.com/loPXv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/loPXv.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any way to do it? I'm not that good with chart customization in java, but I guess that's the way...any help?<br><br></p>\n<p>EDIT:\nI managed to create a customizer:</p>\n<pre><code>import net.sf.jasperreports.engine.JRAbstractChartCustomizer;\nimport net.sf.jasperreports.engine.JRChart;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.PiePlot;\nimport com.fasterxml.jackson.databind.node.ArrayNode;\nimport java.util.HashMap;\n\npublic class customColorSeries_pieChart  extends JRAbstractChartCustomizer  { \n    //Inside 'seriesColor' we will find an array of object like -&gt; [{&quot;Status&quot;: &quot;Aperta&quot;, &quot;Color&quot;: &quot;#FFFF00&quot;}, ...]\n\n    @Override\n    public void customize(JFreeChart chart, JRChart jasperChart) {\n        PiePlot plot = (PiePlot) chart.getPlot();       \n        HashMap&lt;String, String&gt; customMap = new HashMap&lt;&gt;();\n        //This comes from a parameter passed from a main report to a subreport\n        com.fasterxml.jackson.databind.node.ArrayNode seriesColor = (ArrayNode) getParameterValue(&quot;seriesColor_P&quot;);\n        for (int z = 0; z &lt; seriesColor.size(); z++) {\n            //System.out.println(seriesColor.get(z).get(&quot;Status&quot;));\n            //System.out.println(seriesColor.get(z).get(&quot;Color&quot;));\n            \n            customMap.put(seriesColor.get(z).get(&quot;Status&quot;).textValue(), seriesColor.get(z).get(&quot;Color&quot;).textValue());\n        }\n    }        \n}\n</code></pre>\n<p>From there I don't know how to manage and manipulate the pie chart dataset to give each <code>Status</code> always the same color. <br>\nAny suggestion?</p>\n"},{"tags":["java","active-directory","kerberos","kerberos-delegation"],"comments":[{"owner":{"account_id":9493865,"reputation":5415,"user_id":7057680,"display_name":"T-Heron"},"score":0,"creation_date":1602973637,"post_id":64146021,"comment_id":113890348,"body_markdown":"The last paragraph of your problem statement is a bit confusing, can you edit/expand on it a bit inside of your question?  --&gt;  &quot;*I have tried with cases where end user is in ForestA, or when the backend service is in ForestA, either case works fine with S4U2Proxy call. The only time it does not work is when the end user and the end service are in one domain, and the front end service is in a different domain.*&quot;","body":"The last paragraph of your problem statement is a bit confusing, can you edit/expand on it a bit inside of your question?  --&gt;  &quot;<i>I have tried with cases where end user is in ForestA, or when the backend service is in ForestA, either case works fine with S4U2Proxy call. The only time it does not work is when the end user and the end service are in one domain, and the front end service is in a different domain.</i>&quot;"},{"owner":{"account_id":9493865,"reputation":5415,"user_id":7057680,"display_name":"T-Heron"},"score":0,"creation_date":1602973771,"post_id":64146021,"comment_id":113890378,"body_markdown":"Also, is userB, the front-end service, and the back-end service, all in the root domain of each forest?","body":"Also, is userB, the front-end service, and the back-end service, all in the root domain of each forest?"},{"owner":{"account_id":19632158,"reputation":51,"user_id":14370227,"display_name":"Thomas Yin"},"score":0,"creation_date":1603471873,"post_id":64146021,"comment_id":114057867,"body_markdown":"I&#39;ve edited the description to clarify. Also yes, this is all assuming there is one root domain in each forest.","body":"I&#39;ve edited the description to clarify. Also yes, this is all assuming there is one root domain in each forest."}],"answers":[{"tags":[],"owner":{"account_id":19632158,"reputation":51,"user_id":14370227,"display_name":"Thomas Yin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1603471709,"creation_date":1603471709,"answer_id":64504164,"question_id":64146021,"body_markdown":"After discussing the matter with Microsoft, it was confirmed that this specific case is not supported by Microsoft AD by design. Specifically if front end service is in one forest, and the user and resource service are in a different forest, then this use case is not supported. \r\n\r\nHopefully this helps for someone that encounter this issue in the future.","title":"Kerberos Resourced based constrained delegation in cross realm setup","body":"<p>After discussing the matter with Microsoft, it was confirmed that this specific case is not supported by Microsoft AD by design. Specifically if front end service is in one forest, and the user and resource service are in a different forest, then this use case is not supported.</p>\n<p>Hopefully this helps for someone that encounter this issue in the future.</p>\n"},{"tags":[],"owner":{"account_id":7263705,"reputation":21,"user_id":5539333,"display_name":"Troels Schwarz-Linnet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680796415,"creation_date":1680796415,"answer_id":75951467,"question_id":64146021,"body_markdown":"Errorcode 12 is KDC_ERR_POLICY\r\n\r\nI experienced the same, where the midtier was Linux, running Apache2 as reverse proxy, on Ubuntu 18.04 LTS.\r\n\r\nMIT implemented resource-based constrained delegation protocol in 2021, with Kerberos V.5 1.19.\r\n9 years after Microsoft extended the Kerberos protocol in 2012.\r\n\r\nThe solution was to upgrade to Ubuntu 22.04 LTS, which come with Kerberos 1.19. Then it worked.\r\n\r\nI found out by creating a Forest, 2x DC, SQL, mid-tier, IIS server and user laptop in Azure cloud.\r\nBy inspection with Network Monitor in DC, I could see how Tickets was interchange differently, comparing IIS and Apache2. Then I travelled through MIT release notes and saw their announcement for Resource-Based Constrained Delegation in 1.19.\r\n","title":"Kerberos Resourced based constrained delegation in cross realm setup","body":"<p>Errorcode 12 is KDC_ERR_POLICY</p>\n<p>I experienced the same, where the midtier was Linux, running Apache2 as reverse proxy, on Ubuntu 18.04 LTS.</p>\n<p>MIT implemented resource-based constrained delegation protocol in 2021, with Kerberos V.5 1.19.\n9 years after Microsoft extended the Kerberos protocol in 2012.</p>\n<p>The solution was to upgrade to Ubuntu 22.04 LTS, which come with Kerberos 1.19. Then it worked.</p>\n<p>I found out by creating a Forest, 2x DC, SQL, mid-tier, IIS server and user laptop in Azure cloud.\nBy inspection with Network Monitor in DC, I could see how Tickets was interchange differently, comparing IIS and Apache2. Then I travelled through MIT release notes and saw their announcement for Resource-Based Constrained Delegation in 1.19.</p>\n"}],"owner":{"account_id":19632158,"reputation":51,"user_id":14370227,"display_name":"Thomas Yin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64504164,"answer_count":2,"score":4,"last_activity_date":1680796415,"creation_date":1601501443,"question_id":64146021,"body_markdown":"I&#39;m trying to use latest JDK 8 to perform [resource based constrained delegation][1], and seems to be running into issues getting the service ticket for the last leg of the S4U2Proxy call. \r\n\r\nHere is my setup:\r\nTwo microsoft AD forest with two way forest authentication enabled. \r\n\r\n - ForestA: forestA.com \r\n - ForestB: forestB.com\r\n- Front end service is in ForestA with SPN of http/myappserver.forestA.com\r\n- Back end service in ForestB with SPN of http/backend.forestB.com\r\n- The user being impersonated is in ForestB with username of userB.\r\n\r\nI&#39;ve successfully utilized S4U2Self protocol and retrieved the service ticket for userB to Front end service in ForestA. However, when trying to utilized S4U2Proxy to get service ticket to back end service in ForestB, the request fails with error code kerberos error 12.\r\n\r\nUpon investigating the audit logs from event Viewer on the domain controller of ForestB, it indicates the error message is 0xC000019B (Event Id 4769), which seems to be related to some generic trust setup issue. \r\n\r\nAny further requests with the same payload with result in Kerberos error code 28 back from ForestB&#39;s domainController. Likely due to caching of kerberos ticket from before?\r\n\r\nUpdate:\r\n\r\nThis setup works fine if the front end service and the user are in the same forest, and the back end service is in a different forest. \r\n\r\nIt also works when front end service and back end service are in one forest, and the user is in a different forest.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-sfu/3bff5864-8135-400e-bdd9-33b552051d94","title":"Kerberos Resourced based constrained delegation in cross realm setup","body":"<p>I'm trying to use latest JDK 8 to perform <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-sfu/3bff5864-8135-400e-bdd9-33b552051d94\" rel=\"nofollow noreferrer\">resource based constrained delegation</a>, and seems to be running into issues getting the service ticket for the last leg of the S4U2Proxy call.</p>\n<p>Here is my setup:\nTwo microsoft AD forest with two way forest authentication enabled.</p>\n<ul>\n<li>ForestA: forestA.com</li>\n<li>ForestB: forestB.com</li>\n<li>Front end service is in ForestA with SPN of http/myappserver.forestA.com</li>\n<li>Back end service in ForestB with SPN of http/backend.forestB.com</li>\n<li>The user being impersonated is in ForestB with username of userB.</li>\n</ul>\n<p>I've successfully utilized S4U2Self protocol and retrieved the service ticket for userB to Front end service in ForestA. However, when trying to utilized S4U2Proxy to get service ticket to back end service in ForestB, the request fails with error code kerberos error 12.</p>\n<p>Upon investigating the audit logs from event Viewer on the domain controller of ForestB, it indicates the error message is 0xC000019B (Event Id 4769), which seems to be related to some generic trust setup issue.</p>\n<p>Any further requests with the same payload with result in Kerberos error code 28 back from ForestB's domainController. Likely due to caching of kerberos ticket from before?</p>\n<p>Update:</p>\n<p>This setup works fine if the front end service and the user are in the same forest, and the back end service is in a different forest.</p>\n<p>It also works when front end service and back end service are in one forest, and the user is in a different forest.</p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680559559,"post_id":75923934,"comment_id":133916124,"body_markdown":"Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour) to learn how Stack Overflow works and read [How to Ask](https://stackoverflow.com/help/how-to-ask) or how to improve the quality of your question. Then edit your question to include your full source code you have as a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), which can be compiled and tested by others. Currently the related entity `Articulo` is missing from the question.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> or how to improve the quality of your question. Then edit your question to include your full source code you have as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Currently the related entity <code>Articulo</code> is missing from the question."},{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680578836,"post_id":75923934,"comment_id":133918048,"body_markdown":"What is the class Articulo and ArticuloCI looks like? Have you check [here](https://docs.jboss.org/hibernate/core/3.3/reference/en/html/inheritance.html) ?","body":"What is the class Articulo and ArticuloCI looks like? Have you check <a href=\"https://docs.jboss.org/hibernate/core/3.3/reference/en/html/inheritance.html\" rel=\"nofollow noreferrer\">here</a> ?"},{"owner":{"account_id":28206749,"reputation":11,"user_id":21559722,"display_name":"Luis Fernando Serio Faraldo"},"score":0,"creation_date":1680796419,"post_id":75923934,"comment_id":133961734,"body_markdown":"there, I added the definitions, sorry for the late edit, had some days off with sickness","body":"there, I added the definitions, sorry for the late edit, had some days off with sickness"}],"owner":{"account_id":28206749,"reputation":11,"user_id":21559722,"display_name":"Luis Fernando Serio Faraldo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680796351,"creation_date":1680557555,"question_id":75923934,"body_markdown":"Sorry if duplicate, really tried to get an answer to this but couldn&#39;t solve.\r\n\r\nI have a superclass for all my entitys:\r\n\r\n```\r\npublic abstract class ZafiroEntity implements Serializable, Cloneable{\r\n    private String codigo;\r\n    private String nombre;\r\n    private Long id;\r\n    private boolean habilitado;\r\n    private Date lastSessionActivity;\r\n...getters()\r\n...setters()\r\n}\r\n```\r\n\r\nThen I have hibernate xmls like this:\r\n\r\n\r\n```\r\n&lt;class name=&quot;com.ansal.entities.Articulo&quot; table=&quot;articulos&quot;&gt;  \r\n        &lt;id name=&quot;codigo&quot; type=&quot;string&quot; column=&quot;codigo&quot;&gt;&lt;/id&gt;\r\n        &lt;property name=&quot;nombre&quot; type=&quot;string&quot; column=&quot;nombre&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;descripcion&quot; type=&quot;string&quot; column=&quot;descripcion&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista1&quot; type=&quot;string&quot; column=&quot;lista1&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista2&quot; type=&quot;string&quot; column=&quot;lista2&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista3&quot; type=&quot;string&quot; column=&quot;lista3&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista4&quot; type=&quot;string&quot; column=&quot;lista4&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista5&quot; type=&quot;string&quot; column=&quot;lista5&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;oferta&quot; type=&quot;boolean&quot; column=&quot;oferta&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;unidad&quot; type=&quot;string&quot; column=&quot;unidad&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;totalVentas&quot; type=&quot;long&quot; column=&quot;total_ventas&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;fechaCreacion&quot; type=&quot;timestamp&quot; column=&quot;fecha_creacion&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;reemplazaImagenImportador&quot; type=&quot;boolean&quot; column=&quot;reemplaza_imagen_importador&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;reemplazaDocumentoImportador&quot; type=&quot;boolean&quot; column=&quot;reemplaza_documento_importador&quot;&gt;&lt;/property&gt;\r\n        \r\n        &lt;set name=&quot;listas&quot; table=&quot;articulo_lista&quot; inverse=&quot;true&quot; fetch=&quot;select&quot; cascade=&quot;all&quot; lazy=&quot;false&quot;&gt;\r\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\r\n            &lt;many-to-many class=&quot;com.ansal.entities.Lista&quot;&gt;\r\n                &lt;column name=&quot;grupo_codigo&quot; /&gt;\r\n                &lt;column name=&quot;subgrupo_codigo&quot; /&gt;\r\n                &lt;column name=&quot;lista_codigo&quot; /&gt;\r\n            &lt;/many-to-many&gt;\r\n        &lt;/set&gt;\r\n        \r\n        &lt;list name=&quot;atributos&quot; table=&quot;articulo_atributos&quot; lazy=&quot;false&quot; inverse=&quot;false&quot; cascade=&quot;all&quot; fetch=&quot;select&quot;&gt;\r\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\r\n            &lt;index column=&quot;orden&quot;/&gt;\r\n            &lt;many-to-many column=&quot;idatributo&quot; class=&quot;com.ansal.entities.Atributo&quot;/&gt;\r\n        &lt;/list&gt;\r\n        \r\n        &lt;list name=&quot;imagenes&quot; table=&quot;articulo_imagenes&quot; lazy=&quot;false&quot; inverse=&quot;false&quot; cascade=&quot;all&quot; fetch=&quot;select&quot;&gt;\r\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\r\n            &lt;index column=&quot;orden&quot;/&gt;\r\n            &lt;many-to-many column=&quot;idfile&quot; class=&quot;com.ansal.entities.ZFile&quot;/&gt;\r\n        &lt;/list&gt;\r\n        \r\n        &lt;list name=&quot;documentos&quot; table=&quot;articulo_documentos&quot; lazy=&quot;false&quot; cascade=&quot;all&quot; inverse=&quot;false&quot; fetch=&quot;select&quot;&gt;\r\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\r\n            &lt;index column=&quot;orden&quot;/&gt;\r\n            &lt;many-to-many column=&quot;idfile&quot; class=&quot;com.ansal.entities.ZFile&quot;/&gt;\r\n        &lt;/list&gt;\r\n    &lt;/class&gt;\r\n    \r\n    &lt;class name=&quot;com.ansal.entities.ArticuloCI&quot; table=&quot;articulos&quot;&gt;  \r\n        &lt;id name=&quot;codigo&quot; type=&quot;string&quot; column=&quot;codigo&quot;&gt;&lt;/id&gt;\r\n        &lt;property name=&quot;nombre&quot; type=&quot;string&quot; column=&quot;nombre&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista1&quot; type=&quot;string&quot; column=&quot;lista1&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista2&quot; type=&quot;string&quot; column=&quot;lista2&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista3&quot; type=&quot;string&quot; column=&quot;lista3&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista4&quot; type=&quot;string&quot; column=&quot;lista4&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;lista5&quot; type=&quot;string&quot; column=&quot;lista5&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;oferta&quot; type=&quot;boolean&quot; column=&quot;oferta&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;unidad&quot; type=&quot;string&quot; column=&quot;unidad&quot;&gt;&lt;/property&gt;\r\n    &lt;/class&gt;\r\n\r\n    &lt;class name=&quot;com.ansal.entities.CommerceItem&quot; table=&quot;commerce_item&quot;&gt;  \r\n        &lt;id name=&quot;id&quot; type=&quot;long&quot;&gt;\r\n            &lt;column name=&quot;id&quot;  unique=&quot;true&quot;/&gt;\r\n            &lt;generator class=&quot;identity&quot;/&gt;\r\n        &lt;/id&gt;\r\n        &lt;many-to-one name=&quot;articulo&quot; class=&quot;com.ansal.entities.ArticuloCI&quot; lazy=&quot;false&quot;&gt;\r\n            &lt;column name=&quot;codigo_articulo&quot; /&gt;\r\n        &lt;/many-to-one&gt;\r\n        &lt;property name=&quot;cantidad&quot; type=&quot;int&quot; column=&quot;cantidad&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;precioVenta&quot; type=&quot;string&quot; column=&quot;precio_venta&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;precioTotal&quot; type=&quot;string&quot; column=&quot;precio_total&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;cantidadConfirmada&quot; type=&quot;int&quot; column=&quot;cantidad_confirmada&quot;&gt;&lt;/property&gt;\r\n        &lt;set name=&quot;reemplazos&quot; table=&quot;commerce_item_reemplazo&quot; cascade=&quot;save-update&quot; inverse=&quot;false&quot; lazy=&quot;false&quot; fetch=&quot;select&quot;&gt;\r\n            &lt;key column=&quot;id_ci_padre&quot;/&gt;\r\n            &lt;many-to-many class=&quot;com.ansal.entities.CommerceItem&quot;&gt;\r\n                &lt;column name=&quot;id_ci_reemplazo&quot; /&gt;\r\n            &lt;/many-to-many&gt;\r\n        &lt;/set&gt;\r\n    &lt;/class&gt;  \r\n```\r\n\r\nBut when I try to filter:\r\n\r\n\r\n```\r\n\r\nString query = &quot;from com.ansal.entities.Articulo a WHERE (a.descripcion is null OR a.descripcion = &#39;&#39;)&quot;;\r\nList&lt;Articulo&gt; articulos = (List&lt;Articulo&gt;) HibernateUtils.get(query, new HashMap&lt;&gt;(), Articulo.class);\r\n\r\n\r\npublic static &lt;T&gt; List&lt;T&gt; get(String query, Map&lt;String,Object&gt; params, Class&lt;T&gt; t) throws Exception {\r\n        return get(query, params, t, 0, 0);\r\n    }\r\n\r\npublic static &lt;T&gt; List&lt;T&gt; get(String query, Map&lt;String,Object&gt; params, Class&lt;T&gt; t, int maxItems, int firstRow) throws Exception {\r\n        SessionFactory factory = HibernateUtils.getSessionFactory();\r\n        Session session = factory.openSession();\r\n        Exception ex = null;\r\n        List&lt;T&gt; ret = new ArrayList&lt;&gt;();\r\n        try {\r\n            Query q = session.createQuery(query,t);\r\n            for(String key: params.keySet()){\r\n                if(isDate(params.get(key))){\r\n                    q.setParameter(key, params.get(key), TemporalType.DATE);\r\n                } else {\r\n                    q.setParameter(key, params.get(key));\r\n                }\r\n            }\r\n            if(maxItems&gt;0){\r\n                q.setMaxResults(maxItems);\r\n            }\r\n            q.setFirstResult(firstRow);\r\n            ret = q.getResultList();\r\n        } catch (Exception e) {\r\n            ex = e;\r\n            Logger.getLogger(HibernateUtils.class.getName()).log(Level.SEVERE, null, ex);\r\n        } finally {\r\n            session.close();\r\n        }\r\n        return ret;\r\n    }\r\n```\r\n\r\nThen it returns an Exception stating it doesn&#39;t have the property &quot;descripcion&quot;, and after debugging I found that the query is building as &quot;from com.ansal.entities.ArticuloCI a WHERE (a.descripcion is null OR a.descripcion = &#39;&#39;)&quot;.\r\n\r\nI guess it may be connected by the inheritance.\r\nArticulo extends ZafiroEntity and \r\nArticuloCI extends Articulo\r\n\r\nMore info: This a service only server, and since it has to return data and not proxys I tried to built multiple entities reflecting the data needed for each response/necessity.\r\nSaves and updates works just fine.\r\n\r\nThanks in advance\r\n\r\nTried to google the problem, but I guess I&#39;m missing the keywords to find a similar case or example.\r\nAlso checked the suggestion stackoverflow showed me before posting.\r\nSorry all.\r\n\r\n\r\nEdit 1:ArticuloCI was me being lazy but it worked\r\n\r\n    public class Articulo extends ZafiroEntity {\r\n        private String descripcion;\r\n        private String lista1,lista2,lista3,lista4,lista5;\r\n        private boolean oferta;\r\n        private List&lt;ZFile&gt; documentos = new ArrayList&lt;&gt;();\r\n        private String unidad;\r\n        private List&lt;ZFile&gt; imagenes = new ArrayList&lt;&gt;();\r\n        private Date fechaCreacion = new Date();\r\n        private Set&lt;Lista&gt; listas = new HashSet&lt;Lista&gt;();\r\n        private Long totalVentas;\r\n        private Set&lt;Inventory&gt; stock;\r\n        private List&lt;Atributo&gt; atributos = new ArrayList&lt;&gt;();\r\n        private boolean reemplazaImagenImportador = true;\r\n        private boolean reemplazaDocumentoImportador = true;\r\n        //getters and setters\r\n    }\r\n    \r\n    public class ArticuloCI extends Articulo{}\r\n\r\n","title":"Hibernate query wrong entity","body":"<p>Sorry if duplicate, really tried to get an answer to this but couldn't solve.</p>\n<p>I have a superclass for all my entitys:</p>\n<pre><code>public abstract class ZafiroEntity implements Serializable, Cloneable{\n    private String codigo;\n    private String nombre;\n    private Long id;\n    private boolean habilitado;\n    private Date lastSessionActivity;\n...getters()\n...setters()\n}\n</code></pre>\n<p>Then I have hibernate xmls like this:</p>\n<pre><code>&lt;class name=&quot;com.ansal.entities.Articulo&quot; table=&quot;articulos&quot;&gt;  \n        &lt;id name=&quot;codigo&quot; type=&quot;string&quot; column=&quot;codigo&quot;&gt;&lt;/id&gt;\n        &lt;property name=&quot;nombre&quot; type=&quot;string&quot; column=&quot;nombre&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;descripcion&quot; type=&quot;string&quot; column=&quot;descripcion&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista1&quot; type=&quot;string&quot; column=&quot;lista1&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista2&quot; type=&quot;string&quot; column=&quot;lista2&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista3&quot; type=&quot;string&quot; column=&quot;lista3&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista4&quot; type=&quot;string&quot; column=&quot;lista4&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista5&quot; type=&quot;string&quot; column=&quot;lista5&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;oferta&quot; type=&quot;boolean&quot; column=&quot;oferta&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;unidad&quot; type=&quot;string&quot; column=&quot;unidad&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;totalVentas&quot; type=&quot;long&quot; column=&quot;total_ventas&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;fechaCreacion&quot; type=&quot;timestamp&quot; column=&quot;fecha_creacion&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;reemplazaImagenImportador&quot; type=&quot;boolean&quot; column=&quot;reemplaza_imagen_importador&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;reemplazaDocumentoImportador&quot; type=&quot;boolean&quot; column=&quot;reemplaza_documento_importador&quot;&gt;&lt;/property&gt;\n        \n        &lt;set name=&quot;listas&quot; table=&quot;articulo_lista&quot; inverse=&quot;true&quot; fetch=&quot;select&quot; cascade=&quot;all&quot; lazy=&quot;false&quot;&gt;\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\n            &lt;many-to-many class=&quot;com.ansal.entities.Lista&quot;&gt;\n                &lt;column name=&quot;grupo_codigo&quot; /&gt;\n                &lt;column name=&quot;subgrupo_codigo&quot; /&gt;\n                &lt;column name=&quot;lista_codigo&quot; /&gt;\n            &lt;/many-to-many&gt;\n        &lt;/set&gt;\n        \n        &lt;list name=&quot;atributos&quot; table=&quot;articulo_atributos&quot; lazy=&quot;false&quot; inverse=&quot;false&quot; cascade=&quot;all&quot; fetch=&quot;select&quot;&gt;\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\n            &lt;index column=&quot;orden&quot;/&gt;\n            &lt;many-to-many column=&quot;idatributo&quot; class=&quot;com.ansal.entities.Atributo&quot;/&gt;\n        &lt;/list&gt;\n        \n        &lt;list name=&quot;imagenes&quot; table=&quot;articulo_imagenes&quot; lazy=&quot;false&quot; inverse=&quot;false&quot; cascade=&quot;all&quot; fetch=&quot;select&quot;&gt;\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\n            &lt;index column=&quot;orden&quot;/&gt;\n            &lt;many-to-many column=&quot;idfile&quot; class=&quot;com.ansal.entities.ZFile&quot;/&gt;\n        &lt;/list&gt;\n        \n        &lt;list name=&quot;documentos&quot; table=&quot;articulo_documentos&quot; lazy=&quot;false&quot; cascade=&quot;all&quot; inverse=&quot;false&quot; fetch=&quot;select&quot;&gt;\n            &lt;key column=&quot;articulo_codigo&quot;/&gt;\n            &lt;index column=&quot;orden&quot;/&gt;\n            &lt;many-to-many column=&quot;idfile&quot; class=&quot;com.ansal.entities.ZFile&quot;/&gt;\n        &lt;/list&gt;\n    &lt;/class&gt;\n    \n    &lt;class name=&quot;com.ansal.entities.ArticuloCI&quot; table=&quot;articulos&quot;&gt;  \n        &lt;id name=&quot;codigo&quot; type=&quot;string&quot; column=&quot;codigo&quot;&gt;&lt;/id&gt;\n        &lt;property name=&quot;nombre&quot; type=&quot;string&quot; column=&quot;nombre&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista1&quot; type=&quot;string&quot; column=&quot;lista1&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista2&quot; type=&quot;string&quot; column=&quot;lista2&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista3&quot; type=&quot;string&quot; column=&quot;lista3&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista4&quot; type=&quot;string&quot; column=&quot;lista4&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;lista5&quot; type=&quot;string&quot; column=&quot;lista5&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;oferta&quot; type=&quot;boolean&quot; column=&quot;oferta&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;unidad&quot; type=&quot;string&quot; column=&quot;unidad&quot;&gt;&lt;/property&gt;\n    &lt;/class&gt;\n\n    &lt;class name=&quot;com.ansal.entities.CommerceItem&quot; table=&quot;commerce_item&quot;&gt;  \n        &lt;id name=&quot;id&quot; type=&quot;long&quot;&gt;\n            &lt;column name=&quot;id&quot;  unique=&quot;true&quot;/&gt;\n            &lt;generator class=&quot;identity&quot;/&gt;\n        &lt;/id&gt;\n        &lt;many-to-one name=&quot;articulo&quot; class=&quot;com.ansal.entities.ArticuloCI&quot; lazy=&quot;false&quot;&gt;\n            &lt;column name=&quot;codigo_articulo&quot; /&gt;\n        &lt;/many-to-one&gt;\n        &lt;property name=&quot;cantidad&quot; type=&quot;int&quot; column=&quot;cantidad&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;precioVenta&quot; type=&quot;string&quot; column=&quot;precio_venta&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;precioTotal&quot; type=&quot;string&quot; column=&quot;precio_total&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;cantidadConfirmada&quot; type=&quot;int&quot; column=&quot;cantidad_confirmada&quot;&gt;&lt;/property&gt;\n        &lt;set name=&quot;reemplazos&quot; table=&quot;commerce_item_reemplazo&quot; cascade=&quot;save-update&quot; inverse=&quot;false&quot; lazy=&quot;false&quot; fetch=&quot;select&quot;&gt;\n            &lt;key column=&quot;id_ci_padre&quot;/&gt;\n            &lt;many-to-many class=&quot;com.ansal.entities.CommerceItem&quot;&gt;\n                &lt;column name=&quot;id_ci_reemplazo&quot; /&gt;\n            &lt;/many-to-many&gt;\n        &lt;/set&gt;\n    &lt;/class&gt;  \n</code></pre>\n<p>But when I try to filter:</p>\n<pre><code>\nString query = &quot;from com.ansal.entities.Articulo a WHERE (a.descripcion is null OR a.descripcion = '')&quot;;\nList&lt;Articulo&gt; articulos = (List&lt;Articulo&gt;) HibernateUtils.get(query, new HashMap&lt;&gt;(), Articulo.class);\n\n\npublic static &lt;T&gt; List&lt;T&gt; get(String query, Map&lt;String,Object&gt; params, Class&lt;T&gt; t) throws Exception {\n        return get(query, params, t, 0, 0);\n    }\n\npublic static &lt;T&gt; List&lt;T&gt; get(String query, Map&lt;String,Object&gt; params, Class&lt;T&gt; t, int maxItems, int firstRow) throws Exception {\n        SessionFactory factory = HibernateUtils.getSessionFactory();\n        Session session = factory.openSession();\n        Exception ex = null;\n        List&lt;T&gt; ret = new ArrayList&lt;&gt;();\n        try {\n            Query q = session.createQuery(query,t);\n            for(String key: params.keySet()){\n                if(isDate(params.get(key))){\n                    q.setParameter(key, params.get(key), TemporalType.DATE);\n                } else {\n                    q.setParameter(key, params.get(key));\n                }\n            }\n            if(maxItems&gt;0){\n                q.setMaxResults(maxItems);\n            }\n            q.setFirstResult(firstRow);\n            ret = q.getResultList();\n        } catch (Exception e) {\n            ex = e;\n            Logger.getLogger(HibernateUtils.class.getName()).log(Level.SEVERE, null, ex);\n        } finally {\n            session.close();\n        }\n        return ret;\n    }\n</code></pre>\n<p>Then it returns an Exception stating it doesn't have the property &quot;descripcion&quot;, and after debugging I found that the query is building as &quot;from com.ansal.entities.ArticuloCI a WHERE (a.descripcion is null OR a.descripcion = '')&quot;.</p>\n<p>I guess it may be connected by the inheritance.\nArticulo extends ZafiroEntity and\nArticuloCI extends Articulo</p>\n<p>More info: This a service only server, and since it has to return data and not proxys I tried to built multiple entities reflecting the data needed for each response/necessity.\nSaves and updates works just fine.</p>\n<p>Thanks in advance</p>\n<p>Tried to google the problem, but I guess I'm missing the keywords to find a similar case or example.\nAlso checked the suggestion stackoverflow showed me before posting.\nSorry all.</p>\n<p>Edit 1:ArticuloCI was me being lazy but it worked</p>\n<pre><code>public class Articulo extends ZafiroEntity {\n    private String descripcion;\n    private String lista1,lista2,lista3,lista4,lista5;\n    private boolean oferta;\n    private List&lt;ZFile&gt; documentos = new ArrayList&lt;&gt;();\n    private String unidad;\n    private List&lt;ZFile&gt; imagenes = new ArrayList&lt;&gt;();\n    private Date fechaCreacion = new Date();\n    private Set&lt;Lista&gt; listas = new HashSet&lt;Lista&gt;();\n    private Long totalVentas;\n    private Set&lt;Inventory&gt; stock;\n    private List&lt;Atributo&gt; atributos = new ArrayList&lt;&gt;();\n    private boolean reemplazaImagenImportador = true;\n    private boolean reemplazaDocumentoImportador = true;\n    //getters and setters\n}\n\npublic class ArticuloCI extends Articulo{}\n</code></pre>\n"},{"tags":["java","c++","initialization","equivalent","static-block"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1381156805,"post_id":19227664,"comment_id":28457194,"body_markdown":"(Can I just point out the mutable statics in Java are really not recommended.)","body":"(Can I just point out the mutable statics in Java are really not recommended.)"},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1446567375,"post_id":19227664,"comment_id":54791183,"body_markdown":"Non-static: http://stackoverflow.com/questions/10520342/initializing-blocks-c-java","body":"Non-static: <a href=\"http://stackoverflow.com/questions/10520342/initializing-blocks-c-java\" title=\"initializing blocks c java\">stackoverflow.com/questions/10520342/initializing-blocks-c-j&zwnj;&#8203;ava</a>"},{"owner":{"account_id":13026692,"reputation":820,"user_id":9414470,"display_name":"Jaideep Shekhar"},"score":0,"creation_date":1576763836,"post_id":19227664,"comment_id":105009409,"body_markdown":"Should the `static block` be separate for each class? Or does a single one suffice? Why not create an initializing function and call it in `main`?","body":"Should the <code>static block</code> be separate for each class? Or does a single one suffice? Why not create an initializing function and call it in <code>main</code>?"},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1576766746,"post_id":19227664,"comment_id":105011106,"body_markdown":"@JaideepShekhar: There are no classes involved here - just a block of code that runs once before `main()`. &quot;Why not... call it in `main()`&quot;? So that main doesn&#39;t have to know about it of course.","body":"@JaideepShekhar: There are no classes involved here - just a block of code that runs once before <code>main()</code>. &quot;Why not... call it in <code>main()</code>&quot;? So that main doesn&#39;t have to know about it of course."},{"owner":{"account_id":13026692,"reputation":820,"user_id":9414470,"display_name":"Jaideep Shekhar"},"score":0,"creation_date":1576767342,"post_id":19227664,"comment_id":105011425,"body_markdown":"Am I right in understanding that there is no need for multiple static blocks? Still, no offense, but it seems like a bit of a hassle for a small problem, IMO.","body":"Am I right in understanding that there is no need for multiple static blocks? Still, no offense, but it seems like a bit of a hassle for a small problem, IMO."},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1576768691,"post_id":19227664,"comment_id":105012166,"body_markdown":"@JaideepShekhar: No, that&#39;s not right. The whole point is that there isn&#39;t a single global point at which you know everything that needs to be run statically, but rather, every translation unit or file can add  such code, independently of the rest of the program.","body":"@JaideepShekhar: No, that&#39;s not right. The whole point is that there isn&#39;t a single global point at which you know everything that needs to be run statically, but rather, every translation unit or file can add  such code, independently of the rest of the program."}],"answers":[{"tags":[],"owner":{"account_id":293472,"reputation":467164,"user_id":596781,"accept_rate":80,"display_name":"Kerrek SB"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1404042620,"creation_date":1381156805,"answer_id":19227700,"question_id":19227664,"body_markdown":"You *can* initialize static data members in C++:\r\n\r\n    #include &quot;Bar.h&quot;\r\n\r\n    Bar make_a_bar();\r\n\r\n    struct Foo\r\n    {\r\n        static Bar bar;\r\n    };\r\n\r\n    Bar Foo::bar = make_a_bar();\r\n\r\nYou may have to think about inter-translation-unit dependencies, but that&#39;s the general approach.","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<p>You <em>can</em> initialize static data members in C++:</p>\n\n<pre><code>#include \"Bar.h\"\n\nBar make_a_bar();\n\nstruct Foo\n{\n    static Bar bar;\n};\n\nBar Foo::bar = make_a_bar();\n</code></pre>\n\n<p>You may have to think about inter-translation-unit dependencies, but that's the general approach.</p>\n"},{"comments":[{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1381219142,"post_id":19228206,"comment_id":28482140,"body_markdown":"Your `static bool onlyOnce` is not thread-safe, I believe. It might executed more than once.","body":"Your <code>static bool onlyOnce</code> is not thread-safe, I believe. It might executed more than once."},{"owner":{"account_id":1980316,"reputation":168363,"user_id":1782465,"accept_rate":76,"display_name":"Angew is no longer proud of SO"},"score":1,"creation_date":1381221488,"post_id":19228206,"comment_id":28483355,"body_markdown":"@einpoklum In C++11, function-scope statics are guaranteed to be initialised in a thread-safe manner.","body":"@einpoklum In C++11, function-scope statics are guaranteed to be initialised in a thread-safe manner."},{"owner":{"account_id":1565606,"reputation":1264,"user_id":1454493,"accept_rate":50,"display_name":"Thomas Kejser"},"score":0,"creation_date":1411722776,"post_id":19228206,"comment_id":40819804,"body_markdown":"@Angew: Will the above also be safe if myDatum is static const int ? Could this idiom be used to init a static const efficiently (and without external linker issues if I moved the constructor into the .cpp) before main() is run?","body":"@Angew: Will the above also be safe if myDatum is static const int ? Could this idiom be used to init a static const efficiently (and without external linker issues if I moved the constructor into the .cpp) before main() is run?"},{"owner":{"account_id":1980316,"reputation":168363,"user_id":1782465,"accept_rate":76,"display_name":"Angew is no longer proud of SO"},"score":0,"creation_date":1411723233,"post_id":19228206,"comment_id":40820046,"body_markdown":"@ThomasKejser If it&#39;s `const`, you cannot use option #2 at all, `const` variables have to be initialised in their definition.","body":"@ThomasKejser If it&#39;s <code>const</code>, you cannot use option #2 at all, <code>const</code> variables have to be initialised in their definition."},{"owner":{"account_id":449756,"reputation":4084,"user_id":844728,"accept_rate":83,"display_name":"Greg Kramida"},"score":0,"creation_date":1424971278,"post_id":19228206,"comment_id":45779511,"body_markdown":"Your answer to #1 did not work for me in the scenario of having a class definition in a separate static library. The only thing that worked was declaring the static &#39;myDatum&#39; equivalent in the library&#39;s namespace (&quot;~global&quot;) scope. With that, I had to use a static bool to check if it&#39;s been initialized already, like you do for #2. I tested with -O3, this worked.","body":"Your answer to #1 did not work for me in the scenario of having a class definition in a separate static library. The only thing that worked was declaring the static &#39;myDatum&#39; equivalent in the library&#39;s namespace (&quot;~global&quot;) scope. With that, I had to use a static bool to check if it&#39;s been initialized already, like you do for #2. I tested with -O3, this worked."},{"owner":{"account_id":449756,"reputation":4084,"user_id":844728,"accept_rate":83,"display_name":"Greg Kramida"},"score":0,"creation_date":1424971898,"post_id":19228206,"comment_id":45779876,"body_markdown":"Moreover, I discovered that this (namespace-scope) solution above only works when the header where &#39;myDatum&#39; is defined and initialized is (perhaps through some other headers) included in the non-library code that&#39;s using the library. So you have to make sure every class that relies on this static initialization block actually includes &#39;MyClass.h&#39; in the header.","body":"Moreover, I discovered that this (namespace-scope) solution above only works when the header where &#39;myDatum&#39; is defined and initialized is (perhaps through some other headers) included in the non-library code that&#39;s using the library. So you have to make sure every class that relies on this static initialization block actually includes &#39;MyClass.h&#39; in the header."}],"tags":[],"owner":{"account_id":1980316,"reputation":168363,"user_id":1782465,"accept_rate":76,"display_name":"Angew is no longer proud of SO"},"comment_count":6,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1381232286,"creation_date":1381158101,"answer_id":19228206,"question_id":19227664,"body_markdown":"For #1, if you really need to initialise when the process starts/library is loaded, you&#39;ll have to use something platform-specific (such as DllMain on Windows).\r\n\r\nHowever, if it&#39;s enough for you to run the initialisation before any code from the same .cpp file as the statics is executed, the following should work:\r\n\r\n    // Header:\r\n    class MyClass\r\n    {\r\n      static int myDatum;\r\n    \r\n      static int initDatum();\r\n    };\r\n\r\n&amp;nbsp;\r\n\r\n    // .cpp file:\r\n    int MyClass::myDatum = MyClass::initDatum();\r\n\r\nThis way, `initDatum()` is guaranteed to be called before any code from that `.cpp` file is executed.\r\n\r\nIf you don&#39;t want to pollute the class definition, you can also use a [Lambda][1] (C++11):\r\n\r\n    // Header:\r\n    class MyClass\r\n    {\r\n      static int myDatum;\r\n    };\r\n\r\n&amp;nbsp;\r\n\r\n    // .cpp file:\r\n    int MyClass::myDatum = []() -&gt; int { /*any code here*/ return /*something*/; }();\r\n\r\nDon&#39;t forget the last pair of parentheses - that actually calls the lambda.\r\n\r\n---\r\n\r\nAs for #2, there&#39;s one problem: you can&#39;t call a virtual function in the constructor. You&#39;re better off doing this by hand in the class instead of using a base class for it:\r\n\r\n    class MyClass\r\n    {\r\n      static int myDatum;\r\n    \r\n      MyClass() {\r\n        static bool onlyOnce = []() -&gt; bool {\r\n          MyClass::myDatum = /*whatever*/;\r\n          return true;\r\n        }\r\n      }\r\n    };\r\n\r\nAssuming the class only has one constructor, that will work just fine; it is thread-safe, as C++11 guarantees such safety for initializing static local variables.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/7627098/1593077","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<p>For #1, if you really need to initialise when the process starts/library is loaded, you'll have to use something platform-specific (such as DllMain on Windows).</p>\n\n<p>However, if it's enough for you to run the initialisation before any code from the same .cpp file as the statics is executed, the following should work:</p>\n\n<pre><code>// Header:\nclass MyClass\n{\n  static int myDatum;\n\n  static int initDatum();\n};\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code>// .cpp file:\nint MyClass::myDatum = MyClass::initDatum();\n</code></pre>\n\n<p>This way, <code>initDatum()</code> is guaranteed to be called before any code from that <code>.cpp</code> file is executed.</p>\n\n<p>If you don't want to pollute the class definition, you can also use a <a href=\"https://stackoverflow.com/q/7627098/1593077\">Lambda</a> (C++11):</p>\n\n<pre><code>// Header:\nclass MyClass\n{\n  static int myDatum;\n};\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code>// .cpp file:\nint MyClass::myDatum = []() -&gt; int { /*any code here*/ return /*something*/; }();\n</code></pre>\n\n<p>Don't forget the last pair of parentheses - that actually calls the lambda.</p>\n\n<hr>\n\n<p>As for #2, there's one problem: you can't call a virtual function in the constructor. You're better off doing this by hand in the class instead of using a base class for it:</p>\n\n<pre><code>class MyClass\n{\n  static int myDatum;\n\n  MyClass() {\n    static bool onlyOnce = []() -&gt; bool {\n      MyClass::myDatum = /*whatever*/;\n      return true;\n    }\n  }\n};\n</code></pre>\n\n<p>Assuming the class only has one constructor, that will work just fine; it is thread-safe, as C++11 guarantees such safety for initializing static local variables.</p>\n"},{"comments":[{"owner":{"account_id":2929474,"reputation":441,"user_id":2510104,"display_name":"Amir"},"score":0,"creation_date":1613591699,"post_id":34321324,"comment_id":117125469,"body_markdown":"Thanks a lot. This helped me a great deal.","body":"Thanks a lot. This helped me a great deal."},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1613592124,"post_id":34321324,"comment_id":117125626,"body_markdown":"@Amir: The please also consider starring the GitHub repository :-P","body":"@Amir: The please also consider starring the GitHub repository :-P"},{"owner":{"account_id":3890706,"reputation":10461,"user_id":3220983,"accept_rate":50,"display_name":"BuvinJ"},"score":0,"creation_date":1635428626,"post_id":34321324,"comment_id":123300170,"body_markdown":"Minor note: I tested this on Android using Qt C++, and I didn&#39;t see a cout result on the console, but I was able to determine the block fired off by manipulating a static value then later spitting it out within normal app execution.","body":"Minor note: I tested this on Android using Qt C++, and I didn&#39;t see a cout result on the console, but I was able to determine the block fired off by manipulating a static value then later spitting it out within normal app execution."},{"owner":{"account_id":3890706,"reputation":10461,"user_id":3220983,"accept_rate":50,"display_name":"BuvinJ"},"score":0,"creation_date":1635428821,"post_id":34321324,"comment_id":123300258,"body_markdown":"Regarding `__attribute((unused))`, for Visual Studio support, I but that in a `#define _UNUSED` and made that empty `#ifdef _MSC_VER`.","body":"Regarding <code>__attribute((unused))</code>, for Visual Studio support, I but that in a <code>#define _UNUSED</code> and made that empty <code>#ifdef _MSC_VER</code>."},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1635435795,"post_id":34321324,"comment_id":123303579,"body_markdown":"@BuvinJ: Yes, that should work - you are welcome to edit my answer and do that (but please make sure your change compiles correctly).","body":"@BuvinJ: Yes, that should work - you are welcome to edit my answer and do that (but please make sure your change compiles correctly)."}],"tags":[],"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"comment_count":5,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1635448395,"creation_date":1450297202,"answer_id":34321324,"question_id":19227664,"body_markdown":"## You can have static blocks in C++ as well - outside classes.\r\n\r\nIt turns out we can implement a Java-style static block, albeit outside of a class rather than inside it, i.e. at translation unit scope. The implementation is a bit ugly under the hood, but when used it&#39;s quite elegant!\r\n\r\n### Downloadable version\r\n\r\nThere&#39;s now a [GitHub repo][1] for the solution, containing a single header file: [`static_block.hpp`][2].\r\n\r\n### Usage\r\n\r\nIf you write:\r\n\r\n    static_block {\r\n        std::cout &lt;&lt; &quot;Hello static block world!\\n&quot;;\r\n    }\r\n\r\nthis code will run before your `main()`. And you can initialize static variables or do whatever else you like. So you can place such a block in your class&#39; `.cpp` implementation file.\r\n\r\n**Notes:** \r\n\r\n- You _must_ surround your static block code with curly braces.\r\n- The relative order of execution of static code is [not guaranteed in C++][3].\r\n\r\n### Implementation\r\n\r\nThe static block implementation involves a dummy variable initialized statically with a function. Your static block is actually the body of that function. To ensure we don&#39;t collide with some other dummy variable (e.g. from another static block - or anywhere else), we need a bit of macro machinery. \r\n\r\n    #define CONCATENATE(s1, s2) s1##s2\r\n    #define EXPAND_THEN_CONCATENATE(s1, s2) CONCATENATE(s1, s2)\r\n    #ifdef __COUNTER__\r\n    #define UNIQUE_IDENTIFIER(prefix) EXPAND_THEN_CONCATENATE(prefix, __COUNTER__)\r\n    #else\r\n    #define UNIQUE_IDENTIFIER(prefix) EXPAND_THEN_CONCATENATE(prefix, __LINE__)\r\n    #endif // __COUNTER__\r\n    #ifdef _MSC_VER\r\n    #define _UNUSED\r\n    #else\r\n    #define _UNUSED __attribute((unused))\r\n    #endif // _MSC_VER\r\n\r\n\r\n\r\n\r\nand here is the macro work to put things together:\r\n\r\n    #define static_block STATIC_BLOCK_IMPL1(UNIQUE_IDENTIFIER(_static_block_))\r\n    \r\n    #define STATIC_BLOCK_IMPL1(prefix) \\\r\n    \tSTATIC_BLOCK_IMPL2(CONCATENATE(prefix,_fn),CONCATENATE(prefix,_var))\r\n    \r\n    #define STATIC_BLOCK_IMPL2(function_name,var_name) \\\r\n    static void function_name(); \\\r\n    static int var_name _UNUSED = (function_name(), 0) ; \\\r\n    static void function_name()\r\n\r\n**Notes:**\r\n\r\n- Some compilers do not support `__COUNTER__` - it&#39;s not part of the C++ standard; in those cases the code above uses `__LINE__`, which works too. GCC and Clang do support `__COUNTER__`.\r\n- This is C++98; you don&#39;t need any C++11/14/17 constructs. However, it&#39;s _not_ valid C, despite not using any classes or methods.\r\n- The `__attribute ((unused))` might be dropped, or replaced with `[[unused]]` if you have a C++11 compiler which doesn&#39;t like the GCC-style unused extension.\r\n- This does not avert or help with the [static initialization order fiasco][3], since while you know your static block will execute before `main()`, you are not guaranteed when exactly that happens relative to other static initializations.\r\n\r\n[&lt;kbd&gt;Live Demo&lt;/kbd&gt;][4]\r\n\r\n\r\n  [1]: https://github.com/eyalroz/cpp-static-block\r\n  [2]: https://github.com/eyalroz/cpp-static-block/blob/master/static_block.hpp\r\n  [3]: https://isocpp.org/wiki/faq/ctors#static-init-order\r\n  [4]: http://coliru.stacked-crooked.com/a/1020d498ce9c0209","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<h2>You can have static blocks in C++ as well - outside classes.</h2>\n<p>It turns out we can implement a Java-style static block, albeit outside of a class rather than inside it, i.e. at translation unit scope. The implementation is a bit ugly under the hood, but when used it's quite elegant!</p>\n<h3>Downloadable version</h3>\n<p>There's now a <a href=\"https://github.com/eyalroz/cpp-static-block\" rel=\"noreferrer\">GitHub repo</a> for the solution, containing a single header file: <a href=\"https://github.com/eyalroz/cpp-static-block/blob/master/static_block.hpp\" rel=\"noreferrer\"><code>static_block.hpp</code></a>.</p>\n<h3>Usage</h3>\n<p>If you write:</p>\n<pre><code>static_block {\n    std::cout &lt;&lt; &quot;Hello static block world!\\n&quot;;\n}\n</code></pre>\n<p>this code will run before your <code>main()</code>. And you can initialize static variables or do whatever else you like. So you can place such a block in your class' <code>.cpp</code> implementation file.</p>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>You <em>must</em> surround your static block code with curly braces.</li>\n<li>The relative order of execution of static code is <a href=\"https://isocpp.org/wiki/faq/ctors#static-init-order\" rel=\"noreferrer\">not guaranteed in C++</a>.</li>\n</ul>\n<h3>Implementation</h3>\n<p>The static block implementation involves a dummy variable initialized statically with a function. Your static block is actually the body of that function. To ensure we don't collide with some other dummy variable (e.g. from another static block - or anywhere else), we need a bit of macro machinery.</p>\n<pre><code>#define CONCATENATE(s1, s2) s1##s2\n#define EXPAND_THEN_CONCATENATE(s1, s2) CONCATENATE(s1, s2)\n#ifdef __COUNTER__\n#define UNIQUE_IDENTIFIER(prefix) EXPAND_THEN_CONCATENATE(prefix, __COUNTER__)\n#else\n#define UNIQUE_IDENTIFIER(prefix) EXPAND_THEN_CONCATENATE(prefix, __LINE__)\n#endif // __COUNTER__\n#ifdef _MSC_VER\n#define _UNUSED\n#else\n#define _UNUSED __attribute((unused))\n#endif // _MSC_VER\n</code></pre>\n<p>and here is the macro work to put things together:</p>\n<pre><code>#define static_block STATIC_BLOCK_IMPL1(UNIQUE_IDENTIFIER(_static_block_))\n\n#define STATIC_BLOCK_IMPL1(prefix) \\\n    STATIC_BLOCK_IMPL2(CONCATENATE(prefix,_fn),CONCATENATE(prefix,_var))\n\n#define STATIC_BLOCK_IMPL2(function_name,var_name) \\\nstatic void function_name(); \\\nstatic int var_name _UNUSED = (function_name(), 0) ; \\\nstatic void function_name()\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>Some compilers do not support <code>__COUNTER__</code> - it's not part of the C++ standard; in those cases the code above uses <code>__LINE__</code>, which works too. GCC and Clang do support <code>__COUNTER__</code>.</li>\n<li>This is C++98; you don't need any C++11/14/17 constructs. However, it's <em>not</em> valid C, despite not using any classes or methods.</li>\n<li>The <code>__attribute ((unused))</code> might be dropped, or replaced with <code>[[unused]]</code> if you have a C++11 compiler which doesn't like the GCC-style unused extension.</li>\n<li>This does not avert or help with the <a href=\"https://isocpp.org/wiki/faq/ctors#static-init-order\" rel=\"noreferrer\">static initialization order fiasco</a>, since while you know your static block will execute before <code>main()</code>, you are not guaranteed when exactly that happens relative to other static initializations.</li>\n</ul>\n<p><a href=\"http://coliru.stacked-crooked.com/a/1020d498ce9c0209\" rel=\"noreferrer\"><kbd>Live Demo</kbd></a></p>\n"},{"comments":[{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":1,"creation_date":1472839325,"post_id":34359794,"comment_id":65930588,"body_markdown":"The thing is that sometimes no &quot;client&quot; knows the API that&#39;s used in the static code. The static block might be registering something in another global structure which does act the way you suggested.","body":"The thing is that sometimes no &quot;client&quot; knows the API that&#39;s used in the static code. The static block might be registering something in another global structure which does act the way you suggested."}],"tags":[],"owner":{"account_id":1499674,"reputation":931,"user_id":1404748,"accept_rate":0,"display_name":"Kaitain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450455558,"creation_date":1450455558,"answer_id":34359794,"question_id":19227664,"body_markdown":"You may be better off taking a different approach altogether. Does the collection of static information actually need to be defined inside StaticInitialized? \r\n\r\nConsider creating a separate singleton class called SharedData. The first client that calls SharedData::Instance() will then trigger the creation of the collection of shared data, which will simply be normal class data, albeit living inside a single object instance that is allocated statically:\r\n\r\n// SharedData.h\r\n\r\n    class SharedData\r\n    {\r\n    public:\r\n        int m_Status;\r\n        bool m_Active;\r\n    \r\n        static SharedData&amp; instance();\r\n    private:\r\n        SharedData();\r\n    }\r\n\r\n// SharedData.cpp\r\n\r\n    SharedData::SharedData()\r\n    : m_Status( 0 ), m_Active( true )\r\n    {}\r\n    \r\n    // static \r\n    SharedData&amp; SharedData::instance()\r\n    {\r\n        static SharedData s_Instance;\r\n        return s_Instance;\r\n    }\r\n\r\nAny client interested in the shared collection of data would now have to access it via the SharedData singleton, and the first such client to call SharedData::instance() would trigger the setup of that data, in SharedData&#39;s ctor, which would only ever be called once.\r\n\r\nNow your code suggests that different subclasses might have their own ways of initializing static data (through the polymorphic nature of initializeStatics()). But this seems a rather problematic idea. Are multiple derived classes really intended to share a single set of static data, yet each subclass would initialize it differently? This would simply mean that whichever class was constructed first would be the one to set up the static data in its own parochial way, and then every other class would have to use this setup. Is this really what you want?\r\n\r\nI am also slightly confused as to why you would try to combine polymorphism with private inheritance. The number of cases where you would genuinely want to use private inheritance (as opposed to composition) is very small. I&#39;m left wondering if you somehow believe that you need initializeStatics() to be virtual in order for the derived class to be able to call it. (This is not the case.) Yet you do seem to wish to override initializeStatics() in the derived class, for reasons that are not clear to me (see earlier). Something seems kooky about the whole setup.","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<p>You may be better off taking a different approach altogether. Does the collection of static information actually need to be defined inside StaticInitialized? </p>\n\n<p>Consider creating a separate singleton class called SharedData. The first client that calls SharedData::Instance() will then trigger the creation of the collection of shared data, which will simply be normal class data, albeit living inside a single object instance that is allocated statically:</p>\n\n<p>// SharedData.h</p>\n\n<pre><code>class SharedData\n{\npublic:\n    int m_Status;\n    bool m_Active;\n\n    static SharedData&amp; instance();\nprivate:\n    SharedData();\n}\n</code></pre>\n\n<p>// SharedData.cpp</p>\n\n<pre><code>SharedData::SharedData()\n: m_Status( 0 ), m_Active( true )\n{}\n\n// static \nSharedData&amp; SharedData::instance()\n{\n    static SharedData s_Instance;\n    return s_Instance;\n}\n</code></pre>\n\n<p>Any client interested in the shared collection of data would now have to access it via the SharedData singleton, and the first such client to call SharedData::instance() would trigger the setup of that data, in SharedData's ctor, which would only ever be called once.</p>\n\n<p>Now your code suggests that different subclasses might have their own ways of initializing static data (through the polymorphic nature of initializeStatics()). But this seems a rather problematic idea. Are multiple derived classes really intended to share a single set of static data, yet each subclass would initialize it differently? This would simply mean that whichever class was constructed first would be the one to set up the static data in its own parochial way, and then every other class would have to use this setup. Is this really what you want?</p>\n\n<p>I am also slightly confused as to why you would try to combine polymorphism with private inheritance. The number of cases where you would genuinely want to use private inheritance (as opposed to composition) is very small. I'm left wondering if you somehow believe that you need initializeStatics() to be virtual in order for the derived class to be able to call it. (This is not the case.) Yet you do seem to wish to override initializeStatics() in the derived class, for reasons that are not clear to me (see earlier). Something seems kooky about the whole setup.</p>\n"},{"comments":[{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1470129645,"post_id":38715440,"comment_id":64809275,"body_markdown":"This is inside a function, which doesn&#39;t count. Actually, there&#39;s a nifty solution which doesn&#39;t use any C++11, see my answer.","body":"This is inside a function, which doesn&#39;t count. Actually, there&#39;s a nifty solution which doesn&#39;t use any C++11, see my answer."},{"owner":{"account_id":242612,"reputation":68519,"user_id":514235,"accept_rate":80,"display_name":"iammilind"},"score":1,"creation_date":1470130183,"post_id":38715440,"comment_id":64809642,"body_markdown":"@einpoklum, just saw your answer &amp; since you are using in production, it must be working well for you. However, the solution I wrote above works well outside the function as well (Demo edited). Yes, it does use C++11 to make resemble as close as Java&#39;s &quot;static&quot; block. We can do it with simple function as well, but then it will not have capabilities of capturing all. For example, `void foo () { static X x; }`. Suppose if you want to set some fields of `x` just once using `static` block then you must have a C++11 lambda. It won&#39;t be possible without it.","body":"@einpoklum, just saw your answer &amp; since you are using in production, it must be working well for you. However, the solution I wrote above works well outside the function as well (Demo edited). Yes, it does use C++11 to make resemble as close as Java&#39;s &quot;static&quot; block. We can do it with simple function as well, but then it will not have capabilities of capturing all. For example, <code>void foo () { static X x; }</code>. Suppose if you want to set some fields of <code>x</code> just once using <code>static</code> block then you must have a C++11 lambda. It won&#39;t be possible without it."},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1470163651,"post_id":38715440,"comment_id":64832518,"body_markdown":"I don&#39;t quite understand your latter example. My static block is not intended (in Java) to hold global data, just to run something once at startup. Anyway, +1 for this solution generally.","body":"I don&#39;t quite understand your latter example. My static block is not intended (in Java) to hold global data, just to run something once at startup. Anyway, +1 for this solution generally."},{"owner":{"account_id":199455,"reputation":8086,"user_id":444796,"accept_rate":0,"display_name":"Ichthyo"},"score":0,"creation_date":1521392017,"post_id":38715440,"comment_id":85700644,"body_markdown":"**Warning** this solution is dangerous. It is luringly easy to use. You may use it to plant a static field into a class. The compiler is free to *optimise that away any time*, if he can prove there is no access.","body":"<b>Warning</b> this solution is dangerous. It is luringly easy to use. You may use it to plant a static field into a class. The compiler is free to <i>optimise that away any time</i>, if he can prove there is no access."},{"owner":{"account_id":242612,"reputation":68519,"user_id":514235,"accept_rate":80,"display_name":"iammilind"},"score":0,"creation_date":1521426801,"post_id":38715440,"comment_id":85710347,"body_markdown":"Haven&#39;t faced any problem so far @Ichthyo. Moreover, lazy initialization is part of C++ and I haven&#39;t heard of compilers optimising it. What made you feel the above solution as dangerous.","body":"Haven&#39;t faced any problem so far @Ichthyo. Moreover, lazy initialization is part of C++ and I haven&#39;t heard of compilers optimising it. What made you feel the above solution as dangerous."},{"owner":{"account_id":199455,"reputation":8086,"user_id":444796,"accept_rate":0,"display_name":"Ichthyo"},"score":0,"creation_date":1521437271,"post_id":38715440,"comment_id":85712607,"body_markdown":"two things are potentially dangerous. The compiler is free to optimise statics away entirely. It depends on fine points and circumstances if he does. And, second, it is tempting to do side-effects which involve statics / globals from other translation units. The fact such code often seem to work does not say anything.","body":"two things are potentially dangerous. The compiler is free to optimise statics away entirely. It depends on fine points and circumstances if he does. And, second, it is tempting to do side-effects which involve statics / globals from other translation units. The fact such code often seem to work does not say anything."}],"tags":[],"owner":{"account_id":242612,"reputation":68519,"user_id":514235,"accept_rate":80,"display_name":"iammilind"},"comment_count":6,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1470126637,"creation_date":1470126637,"answer_id":38715440,"question_id":19227664,"body_markdown":"Here is a nice way to mimic a `static` block using C++11:\r\n\r\nMacro\r\n---\r\n\r\n    #define CONCATE_(X,Y) X##Y\r\n    #define CONCATE(X,Y) CONCATE_(X,Y)\r\n    #define UNIQUE(NAME) CONCATE(NAME, __LINE__)\r\n    \r\n    struct Static_ \r\n    {\r\n      template&lt;typename T&gt; Static_ (T only_once) { only_once(); }\r\n      ~Static_ () {}  // to counter &quot;warning: unused variable&quot;\r\n    };\r\n    // `UNIQUE` macro required if we expect multiple `static` blocks in function\r\n    #define STATIC static Static_ UNIQUE(block) = [&amp;]() -&gt; void\r\n\r\nUsage\r\n---\r\n\r\n    void foo ()\r\n    {\r\n      std::cout &lt;&lt; &quot;foo()\\n&quot;;\r\n      STATIC\r\n      {\r\n        std::cout &lt;&lt; &quot;Executes only once\\n&quot;;\r\n      };  \r\n    }\r\n\r\n[Demo](http://ideone.com/6sjRzz).\r\n","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<p>Here is a nice way to mimic a <code>static</code> block using C++11:</p>\n\n<h2>Macro</h2>\n\n<pre><code>#define CONCATE_(X,Y) X##Y\n#define CONCATE(X,Y) CONCATE_(X,Y)\n#define UNIQUE(NAME) CONCATE(NAME, __LINE__)\n\nstruct Static_ \n{\n  template&lt;typename T&gt; Static_ (T only_once) { only_once(); }\n  ~Static_ () {}  // to counter \"warning: unused variable\"\n};\n// `UNIQUE` macro required if we expect multiple `static` blocks in function\n#define STATIC static Static_ UNIQUE(block) = [&amp;]() -&gt; void\n</code></pre>\n\n<h2>Usage</h2>\n\n<pre><code>void foo ()\n{\n  std::cout &lt;&lt; \"foo()\\n\";\n  STATIC\n  {\n    std::cout &lt;&lt; \"Executes only once\\n\";\n  };  \n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/6sjRzz\" rel=\"nofollow\">Demo</a>.</p>\n"},{"comments":[{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1521392794,"post_id":49350413,"comment_id":85700934,"body_markdown":"Well, you can just forget about the class and the class loading, and just have the static block at TU scope, which is what I ended up doing. So - I think your answer is focusing on the wrong issue. I mean, I understand, yes, it will not be the same as running Java static blocks at dynamic class loading time, but like you said - we don&#39;t have that in C++.","body":"Well, you can just forget about the class and the class loading, and just have the static block at TU scope, which is what I ended up doing. So - I think your answer is focusing on the wrong issue. I mean, I understand, yes, it will not be the same as running Java static blocks at dynamic class loading time, but like you said - we don&#39;t have that in C++."},{"owner":{"account_id":199455,"reputation":8086,"user_id":444796,"accept_rate":0,"display_name":"Ichthyo"},"score":0,"creation_date":1521399080,"post_id":49350413,"comment_id":85703095,"body_markdown":"@einpoklum I am aware of that. However, I have seen lots of java devs being trapped by unsing Java idioms in C++. For that reason, I think it should be made clear that there is no equivalent","body":"@einpoklum I am aware of that. However, I have seen lots of java devs being trapped by unsing Java idioms in C++. For that reason, I think it should be made clear that there is no equivalent"},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1521402714,"post_id":49350413,"comment_id":85704427,"body_markdown":"The actual reason I needed this was to register some template instantiations in a factory at program load time.","body":"The actual reason I needed this was to register some template instantiations in a factory at program load time."}],"tags":[],"owner":{"account_id":199455,"reputation":8086,"user_id":444796,"accept_rate":0,"display_name":"Ichthyo"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1521436792,"creation_date":1521391551,"answer_id":49350413,"question_id":19227664,"body_markdown":"In C++ there is no such idiom.\r\n------------------------------\r\n\r\nThe reason lies in the entirely different nature of the code generated from C++: The runtime is not &quot;managed&quot;. In the generated code, after compilation, there exists *no notion* of a &quot;class&quot; anymore, and there is no such thing like code entities loaded on demand by a &quot;classloader&quot;.\r\n\r\nThere are some elements with roughly comparable behaviour, yet you really need to understand their nature precisely to exploit this behaviour.\r\n\r\n- you can build your code into a shared library, which can be loaded dynamically, at runtime.\r\n- in C++11, you can [std::call_once][1] your initialisation from a class constructor. However, such code will run late, when the class instance is created, not when the executable or shared library is loaded\r\n- you can define global variables and (class) static variables with an initialiser. This initialiser can be a function, which allows you to run code when the variable gets initialised. The execution order of these initialisers is well defined only within a single translation unit (e.g. one `*.cpp` file). \r\n\r\nBut you must not assume anything beyond that; esp. you can never be sure if and when this initialisation is actually performed. **This warning is for real**. Especially *do not assume anything about side-effects* of such initialisation code. It is perfectly legal for the compiler to replace such code by something deemed &quot;equivalent&quot; by the compiler. Future compiler versions can be assumed to become more and more clever in that respect. Your code may seem to work, but can break with different optimisation flags, different build process, newer compiler version.\r\n\r\n\r\n----------\r\n**practical hint**: if you find yourself in the situation that you have several static variables, which you need to initialise properly, then chances are that you want to factor them out into a class. This class can then have a regular constructor and destructor to do the initialisation / clean-up. You may then place an instance of that helper class into a single (class) static variable. C++ gives very strong consistency guarantees for invoking ctors and dtors of classes, for anything which is accessible by official means (no casts, no low-level trickery).\r\n\r\n\r\n  [1]: http://en.cppreference.com/w/cpp/thread/call_once","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<h2>In C++ there is no such idiom.</h2>\n\n<p>The reason lies in the entirely different nature of the code generated from C++: The runtime is not \"managed\". In the generated code, after compilation, there exists <em>no notion</em> of a \"class\" anymore, and there is no such thing like code entities loaded on demand by a \"classloader\".</p>\n\n<p>There are some elements with roughly comparable behaviour, yet you really need to understand their nature precisely to exploit this behaviour.</p>\n\n<ul>\n<li>you can build your code into a shared library, which can be loaded dynamically, at runtime.</li>\n<li>in C++11, you can <a href=\"http://en.cppreference.com/w/cpp/thread/call_once\" rel=\"nofollow noreferrer\">std::call_once</a> your initialisation from a class constructor. However, such code will run late, when the class instance is created, not when the executable or shared library is loaded</li>\n<li>you can define global variables and (class) static variables with an initialiser. This initialiser can be a function, which allows you to run code when the variable gets initialised. The execution order of these initialisers is well defined only within a single translation unit (e.g. one <code>*.cpp</code> file). </li>\n</ul>\n\n<p>But you must not assume anything beyond that; esp. you can never be sure if and when this initialisation is actually performed. <strong>This warning is for real</strong>. Especially <em>do not assume anything about side-effects</em> of such initialisation code. It is perfectly legal for the compiler to replace such code by something deemed \"equivalent\" by the compiler. Future compiler versions can be assumed to become more and more clever in that respect. Your code may seem to work, but can break with different optimisation flags, different build process, newer compiler version.</p>\n\n<hr>\n\n<p><strong>practical hint</strong>: if you find yourself in the situation that you have several static variables, which you need to initialise properly, then chances are that you want to factor them out into a class. This class can then have a regular constructor and destructor to do the initialisation / clean-up. You may then place an instance of that helper class into a single (class) static variable. C++ gives very strong consistency guarantees for invoking ctors and dtors of classes, for anything which is accessible by official means (no casts, no low-level trickery).</p>\n"},{"comments":[{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1584814092,"post_id":60791031,"comment_id":107555487,"body_markdown":"Other than the &quot;maybe unused&quot;, isn&#39;t this C++11?","body":"Other than the &quot;maybe unused&quot;, isn&#39;t this C++11?"},{"owner":{"display_name":"user10146018"},"score":0,"creation_date":1584858181,"post_id":60791031,"comment_id":107564395,"body_markdown":"@einpoklum yes but its gives warning without maybe_unused","body":"@einpoklum yes but its gives warning without maybe_unused"},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1584865822,"post_id":60791031,"comment_id":107565676,"body_markdown":"You might think that it does, but actually, it [seems not to](https://godbolt.org/z/hExmYw).","body":"You might think that it does, but actually, it <a href=\"https://godbolt.org/z/hExmYw\" rel=\"nofollow noreferrer\">seems not to</a>."}],"tags":[],"owner":{"display_name":"user10146018"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584905440,"creation_date":1584811736,"answer_id":60791031,"question_id":19227664,"body_markdown":"In C++17 , u can have the following:- \r\n\r\nstatic.hpp :- \r\n\r\n    #define M_CON(A, B) M_CON_(A, B)\r\n    #define M_CON_(A, B) A##B\r\n    \r\n    #define STATIC_BLOCK \\\r\n            [[maybe_unused]] static const auto M_CON(_static_block,__LINE__) = []()\r\n    \r\n    \r\nmain.cpp:- \r\n\r\n    #include &lt;iostream&gt;\r\n    #include &quot;static.hpp&quot;\r\n    \r\n    STATIC_BLOCK {\r\n       std::cout &lt;&lt; &quot;my static block&quot; &lt;&lt; &#39;\\n&#39;;\r\n       int A,B,C,D = 12;\r\n       std::cout &lt;&lt; &quot;my static block with &quot; &lt;&lt; A &lt;&lt; &#39;\\n&#39;;    \r\n       return 0; // this return is must\r\n    }();\r\n    \r\n    int main(){\r\n        std::cout &lt;&lt; &quot;in main function\\n&quot;;\r\n    }\r\n\r\nThis also works in C++11 without ``[[maybe_unused]]``","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<p>In C++17 , u can have the following:- </p>\n\n<p>static.hpp :- </p>\n\n<pre><code>#define M_CON(A, B) M_CON_(A, B)\n#define M_CON_(A, B) A##B\n\n#define STATIC_BLOCK \\\n        [[maybe_unused]] static const auto M_CON(_static_block,__LINE__) = []()\n</code></pre>\n\n<p>main.cpp:- </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"static.hpp\"\n\nSTATIC_BLOCK {\n   std::cout &lt;&lt; \"my static block\" &lt;&lt; '\\n';\n   int A,B,C,D = 12;\n   std::cout &lt;&lt; \"my static block with \" &lt;&lt; A &lt;&lt; '\\n';    \n   return 0; // this return is must\n}();\n\nint main(){\n    std::cout &lt;&lt; \"in main function\\n\";\n}\n</code></pre>\n\n<p>This also works in C++11 without <code>[[maybe_unused]]</code></p>\n"}],"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22769,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":34321324,"answer_count":7,"score":43,"last_activity_date":1680796319,"creation_date":1381156691,"question_id":19227664,"body_markdown":"I have a class with some static members, and I want to run some code to initialize them (suppose this code cannot be converted into a simple expression). In Java, I would just do\r\n\r\n    class MyClass {\r\n        static int field1;\r\n        static int field2;\r\n\r\n        static {\r\n            /* do some computation which sets field1 and field2 */\r\n        }\r\n    }\r\n\r\nUnless I&#39;m mistaken, C++ does not allow for such static code blocks, right? What should I be doing instead?\r\n\r\nI would like solution for both of the following options:\r\n\r\n1. Initialization happens when process loads (or when the DLL with this class is loaded).\r\n2. Initialization happens when the class is first instantiated.\r\n\r\nFor the second option, I was thinking of:\r\n\r\n    class StaticInitialized {\r\n        static bool staticsInitialized = false;\r\n    \r\n        virtual void initializeStatics();\r\n    \r\n        StaticInitialized() {\r\n            if (!staticsInitialized) {\r\n                initializeStatics();\r\n                staticsInitialized = true;\r\n            }\r\n        }\r\n    };\r\n    \r\n    class MyClass : private StaticInitialized {\r\n        static int field1;\r\n        static int field2;\r\n    \r\n        void initializeStatics() {\r\n            /* computation which sets field1, field2 */\r\n        }\r\n    };\r\n\r\nbut that&#39;s not possible, since C++ (at the moment?) does not allow initialization of non-const static members. But, at least that reduces the problem of a static block to that of static initialization by expression...","title":"What&#39;s the C++ idiom equivalent to the Java static block?","body":"<p>I have a class with some static members, and I want to run some code to initialize them (suppose this code cannot be converted into a simple expression). In Java, I would just do</p>\n<pre><code>class MyClass {\n    static int field1;\n    static int field2;\n\n    static {\n        /* do some computation which sets field1 and field2 */\n    }\n}\n</code></pre>\n<p>Unless I'm mistaken, C++ does not allow for such static code blocks, right? What should I be doing instead?</p>\n<p>I would like solution for both of the following options:</p>\n<ol>\n<li>Initialization happens when process loads (or when the DLL with this class is loaded).</li>\n<li>Initialization happens when the class is first instantiated.</li>\n</ol>\n<p>For the second option, I was thinking of:</p>\n<pre><code>class StaticInitialized {\n    static bool staticsInitialized = false;\n\n    virtual void initializeStatics();\n\n    StaticInitialized() {\n        if (!staticsInitialized) {\n            initializeStatics();\n            staticsInitialized = true;\n        }\n    }\n};\n\nclass MyClass : private StaticInitialized {\n    static int field1;\n    static int field2;\n\n    void initializeStatics() {\n        /* computation which sets field1, field2 */\n    }\n};\n</code></pre>\n<p>but that's not possible, since C++ (at the moment?) does not allow initialization of non-const static members. But, at least that reduces the problem of a static block to that of static initialization by expression...</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa","spring-session"],"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680796278,"creation_date":1680796278,"question_id":75951445,"body_markdown":"I have a `Java 11`, `Spring Boot 2.7.4` application using `Spring MVC` and `Spring Security` to allow users to upload and search for documents in a repository. After the great help I got on SO question 75938188, I have just implemented `Spring Session`, which I have configured to use an existing `MySQL` database, via an existing `DataSource` which is used to save audit records.\r\n\r\nIt initially looked like everything had worked perfectly - the session schema was installed automatically in the DB and the application appeared to work as normal. But then I noticed that my existing `JPA` `Repository` calls used to create audit entries were no longer creating any records, despite the code being properly executed and no error being thrown. This worked fine before implementing `Spring Session` and the repository calls to do read operations still work fine.\r\n\r\nIs this happening because it is not recommended practice for an existing application database to also be used for `Spring Session`? Does `Spring session` hold some kind of lock over the database preventing other processes committing to it? Or should I be able to use an existing database in this way to hold session data, as well as other application data? If not, what is the recommended approach?\r\n\r\nTo implement `Spring Session`, I did the following:\r\n\r\n1. Added `Maven` dependency:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n2. Added application.properties settings:\r\n\r\n```\r\nspring.session.store-type=jdbc\r\nspring.session.jdbc.initialize-schema=always\r\nspring.session.timeout.seconds=900\r\nspring.session.jdbc.schema=classpath:org/springframework/session/jdbc/schema-mysql.sql\r\n```\r\n\r\nI later removed the second of these, but the result was the same.\r\n\r\n3. To my existing Configuration class that declares the DataSource, I made this class extend `AbstractHttpSessionApplicationInitializer` and also added this Bean:\r\n\r\n```\r\n    @Bean\r\n    public PlatformTransactionManager transactionManager(DataSource dataSource) {\r\n        return new DataSourceTransactionManager(dataSource);\r\n    }\r\n```\r\n\r\n4. The existing `Repository` class that is used to create audit records is a simple extension of `CrudRepository`:\r\n\r\n```\r\n@Repository\r\npublic interface AuditRepository extends CrudRepository&lt;Audit, Integer&gt; {\r\n\r\n    List&lt;Audit&gt; findAllByCaseIdStartsWith(String parentCaseId);\r\n}\r\n```\r\n\r\nI would be very grateful for any suggestions and or advice on this issue. Many thanks for reading my post.","title":"Spring Boot JPA Repository save not committing after implementing Spring Session on MySQL DB","body":"<p>I have a <code>Java 11</code>, <code>Spring Boot 2.7.4</code> application using <code>Spring MVC</code> and <code>Spring Security</code> to allow users to upload and search for documents in a repository. After the great help I got on SO question 75938188, I have just implemented <code>Spring Session</code>, which I have configured to use an existing <code>MySQL</code> database, via an existing <code>DataSource</code> which is used to save audit records.</p>\n<p>It initially looked like everything had worked perfectly - the session schema was installed automatically in the DB and the application appeared to work as normal. But then I noticed that my existing <code>JPA</code> <code>Repository</code> calls used to create audit entries were no longer creating any records, despite the code being properly executed and no error being thrown. This worked fine before implementing <code>Spring Session</code> and the repository calls to do read operations still work fine.</p>\n<p>Is this happening because it is not recommended practice for an existing application database to also be used for <code>Spring Session</code>? Does <code>Spring session</code> hold some kind of lock over the database preventing other processes committing to it? Or should I be able to use an existing database in this way to hold session data, as well as other application data? If not, what is the recommended approach?</p>\n<p>To implement <code>Spring Session</code>, I did the following:</p>\n<ol>\n<li>Added <code>Maven</code> dependency:</li>\n</ol>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Added application.properties settings:</li>\n</ol>\n<pre><code>spring.session.store-type=jdbc\nspring.session.jdbc.initialize-schema=always\nspring.session.timeout.seconds=900\nspring.session.jdbc.schema=classpath:org/springframework/session/jdbc/schema-mysql.sql\n</code></pre>\n<p>I later removed the second of these, but the result was the same.</p>\n<ol start=\"3\">\n<li>To my existing Configuration class that declares the DataSource, I made this class extend <code>AbstractHttpSessionApplicationInitializer</code> and also added this Bean:</li>\n</ol>\n<pre><code>    @Bean\n    public PlatformTransactionManager transactionManager(DataSource dataSource) {\n        return new DataSourceTransactionManager(dataSource);\n    }\n</code></pre>\n<ol start=\"4\">\n<li>The existing <code>Repository</code> class that is used to create audit records is a simple extension of <code>CrudRepository</code>:</li>\n</ol>\n<pre><code>@Repository\npublic interface AuditRepository extends CrudRepository&lt;Audit, Integer&gt; {\n\n    List&lt;Audit&gt; findAllByCaseIdStartsWith(String parentCaseId);\n}\n</code></pre>\n<p>I would be very grateful for any suggestions and or advice on this issue. Many thanks for reading my post.</p>\n"},{"tags":["java","hazelcast"],"answers":[{"comments":[{"owner":{"account_id":12330481,"reputation":21,"user_id":8996665,"display_name":"Kirill"},"score":0,"creation_date":1511547125,"post_id":47464028,"comment_id":81911289,"body_markdown":"Thank you.\nIMap TTL event is very useful to limit some aggregation window time - let&#39;s say error message comes, it is stored in map with counter=1, each later similar message just updates counter in that map and on TTL event we decide to generate alert or not basing on counter.\n\nSurely we can use different approaches, but each has downsides:\n\n1. Have some background cluster-wide scheduler - but it will have peeks of CPU usage, more code and more corner cases to handle\n\n2. Store each message and check counter on error arrival - here calculation is performed too often","body":"Thank you. IMap TTL event is very useful to limit some aggregation window time - let&#39;s say error message comes, it is stored in map with counter=1, each later similar message just updates counter in that map and on TTL event we decide to generate alert or not basing on counter.  Surely we can use different approaches, but each has downsides:  1. Have some background cluster-wide scheduler - but it will have peeks of CPU usage, more code and more corner cases to handle  2. Store each message and check counter on error arrival - here calculation is performed too often"},{"owner":{"account_id":12330481,"reputation":21,"user_id":8996665,"display_name":"Kirill"},"score":0,"creation_date":1511547814,"post_id":47464028,"comment_id":81911550,"body_markdown":"3. We&#39;re using client instead of embedded Hazelcast as we want to keep data and processing nodes lifecycle separate","body":"3. We&#39;re using client instead of embedded Hazelcast as we want to keep data and processing nodes lifecycle separate"},{"owner":{"account_id":552254,"reputation":6004,"user_id":917336,"display_name":"noctarius"},"score":0,"creation_date":1511686222,"post_id":47464028,"comment_id":81943878,"body_markdown":"Sorry but not sure, is there any other question hidden in the messages before?","body":"Sorry but not sure, is there any other question hidden in the messages before?"},{"owner":{"account_id":12330481,"reputation":21,"user_id":8996665,"display_name":"Kirill"},"score":0,"creation_date":1511786085,"post_id":47464028,"comment_id":81977856,"body_markdown":"Frankly - not sure, just explaining why we are using eviction listener, but if someone have better ideas how to avoid using it - it is really appreciated...","body":"Frankly - not sure, just explaining why we are using eviction listener, but if someone have better ideas how to avoid using it - it is really appreciated..."},{"owner":{"account_id":8617695,"reputation":3256,"user_id":6453895,"accept_rate":83,"display_name":"Indraneel Bende"},"score":0,"creation_date":1524979919,"post_id":47464028,"comment_id":87183108,"body_markdown":"why cant u register a listener locally in your hazelcast configuration?","body":"why cant u register a listener locally in your hazelcast configuration?"},{"owner":{"account_id":12330481,"reputation":21,"user_id":8996665,"display_name":"Kirill"},"score":0,"creation_date":1534263585,"post_id":47464028,"comment_id":90644877,"body_markdown":"Returned to this problem - no solution so far.\nI can&#39;t register listener locally as addLocalEntryListener() does not work with ClientConfig.\nAnd even if I switch from the &quot;client&quot; mode to a &quot;lite member&quot; mode, and register this listener on one node only - it will be lost if the node goes down which is not suitable.\nWhat we really require is to handle TTL event only once on any random node from currently running","body":"Returned to this problem - no solution so far. I can&#39;t register listener locally as addLocalEntryListener() does not work with ClientConfig. And even if I switch from the &quot;client&quot; mode to a &quot;lite member&quot; mode, and register this listener on one node only - it will be lost if the node goes down which is not suitable. What we really require is to handle TTL event only once on any random node from currently running"}],"tags":[],"owner":{"account_id":552254,"reputation":6004,"user_id":917336,"display_name":"noctarius"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511476304,"creation_date":1511476304,"answer_id":47464028,"question_id":47457364,"body_markdown":"Unfortunately not. You&#39;re listener would need to run on a cluster node, since the `local` is directly connected to the underlying partitioning scheme. What do you want to do on the evict event, maybe you can achieve it differently.","title":"Hazelcast: Execute EntryEvictedListener only once per cluster in client mode","body":"<p>Unfortunately not. You're listener would need to run on a cluster node, since the <code>local</code> is directly connected to the underlying partitioning scheme. What do you want to do on the evict event, maybe you can achieve it differently.</p>\n"}],"owner":{"account_id":12330481,"reputation":21,"user_id":8996665,"display_name":"Kirill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680795769,"creation_date":1511445935,"question_id":47457364,"body_markdown":"We are connecting to Hazelcast cluster using Java clients from **multiple** nodes.\r\n\r\n    HazelcastClient.newHazelcastClient(cfg)\r\n\r\nWe need our EntryEvictedListener to be executed only once per cluster.\r\nBy default it is executed on all connected clients.\r\n\r\nFound how to reach this goal with Hazelcast embedded (https://stackoverflow.com/questions/47274007/time-based-eviction-in-hazelcast), but looks like \r\n\r\n    map.addLocalEntryListener(...) \r\nis not allowed for client. \r\n\r\nSo is there any way to execute eviction listener only once per cluster using client?","title":"Hazelcast: Execute EntryEvictedListener only once per cluster in client mode","body":"<p>We are connecting to Hazelcast cluster using Java clients from <strong>multiple</strong> nodes.</p>\n\n<pre><code>HazelcastClient.newHazelcastClient(cfg)\n</code></pre>\n\n<p>We need our EntryEvictedListener to be executed only once per cluster.\nBy default it is executed on all connected clients.</p>\n\n<p>Found how to reach this goal with Hazelcast embedded (<a href=\"https://stackoverflow.com/questions/47274007/time-based-eviction-in-hazelcast\">Time Based Eviction in Hazelcast</a>), but looks like </p>\n\n<pre><code>map.addLocalEntryListener(...) \n</code></pre>\n\n<p>is not allowed for client. </p>\n\n<p>So is there any way to execute eviction listener only once per cluster using client?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680795723,"post_id":75951350,"comment_id":133961542,"body_markdown":"Any reason you didn&#39;t just port the source code/libraries and do a fresh project/build?","body":"Any reason you didn&#39;t just port the source code/libraries and do a fresh project/build?"},{"owner":{"account_id":7430214,"reputation":1253,"user_id":5651468,"accept_rate":100,"display_name":"Sandeep"},"score":0,"creation_date":1680796459,"post_id":75951350,"comment_id":133961742,"body_markdown":"@Rogue  That is what I thought I was doing.","body":"@Rogue  That is what I thought I was doing."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680796877,"post_id":75951350,"comment_id":133961847,"body_markdown":"It sounds like you&#39;re trying to copy the actual project information/etc into a new environment (e.g. eclipse&#39;s project files, resulting built files, etc). Instead, you should basically &quot;import&quot; the project in eclipse as a new project, targetting just your src+libs. (Granted, it&#39;s been 15 years since I&#39;ve touched eclipse in a serious manner).","body":"It sounds like you&#39;re trying to copy the actual project information/etc into a new environment (e.g. eclipse&#39;s project files, resulting built files, etc). Instead, you should basically &quot;import&quot; the project in eclipse as a new project, targetting just your src+libs. (Granted, it&#39;s been 15 years since I&#39;ve touched eclipse in a serious manner)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680797452,"post_id":75951350,"comment_id":133961980,"body_markdown":"i would do it differently. Pick a proper build system like Gradle or Maven and make a project.. I use Maven so would use a Maven archetype to create a Java project then copy my source into the right place. That way, you&#39;re not tied to an IDE. You can import the Maven project into Eclipse or another IDE","body":"i would do it differently. Pick a proper build system like Gradle or Maven and make a project.. I use Maven so would use a Maven archetype to create a Java project then copy my source into the right place. That way, you&#39;re not tied to an IDE. You can import the Maven project into Eclipse or another IDE"}],"owner":{"account_id":7430214,"reputation":1253,"user_id":5651468,"accept_rate":100,"display_name":"Sandeep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680795596,"creation_date":1680795596,"question_id":75951350,"body_markdown":"I have some Java projects (not Maven) on my old Windows system.  The source files, the class files and all the JAR files are on the C:\\ drive.  I have copied the entire source tree (.java files), object tree (.class files) and all the JAR files to an external drive, **making sure that all the files are exactly at the same locations, relative to the root**.\r\n\r\nOn a different system I installed the same version of Eclipse (2019-03) and I imported the projects on that instance of Eclipse, from the external drive.  I manually edited the `.classpath` files for the projects, to factor in the change in the drive paths for all the files (from C: to the correct letter drive on the new system).\r\n\r\nIn my opinion I fully replicated the old environment in the new Eclipse instance.  **However, I am missing something** because the source files are not getting compiled in the new Eclipse instance: neither upon editing existing files nor upon adding new files.\r\n\r\nAttempting to run the Java applications in the new Eclipse instance is giving the following error:\r\n\r\n&gt; Error: Could not find or load main class pkg_name.class_name Caused by:  \r\n&gt; java.lang.ClassNotFoundException: pkg_name.class_name\r\n\r\nAny pointers will be appreciated.\r\n","title":"Java project not compiling in Eclipse following import from filesystem","body":"<p>I have some Java projects (not Maven) on my old Windows system.  The source files, the class files and all the JAR files are on the C:\\ drive.  I have copied the entire source tree (.java files), object tree (.class files) and all the JAR files to an external drive, <strong>making sure that all the files are exactly at the same locations, relative to the root</strong>.</p>\n<p>On a different system I installed the same version of Eclipse (2019-03) and I imported the projects on that instance of Eclipse, from the external drive.  I manually edited the <code>.classpath</code> files for the projects, to factor in the change in the drive paths for all the files (from C: to the correct letter drive on the new system).</p>\n<p>In my opinion I fully replicated the old environment in the new Eclipse instance.  <strong>However, I am missing something</strong> because the source files are not getting compiled in the new Eclipse instance: neither upon editing existing files nor upon adding new files.</p>\n<p>Attempting to run the Java applications in the new Eclipse instance is giving the following error:</p>\n<blockquote>\n<p>Error: Could not find or load main class pkg_name.class_name Caused by:<br />\njava.lang.ClassNotFoundException: pkg_name.class_name</p>\n</blockquote>\n<p>Any pointers will be appreciated.</p>\n"},{"tags":["java","docker","docker-api"],"owner":{"account_id":19644639,"reputation":73,"user_id":14379956,"display_name":"SanjiSqurt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680795510,"creation_date":1680794212,"question_id":75951136,"body_markdown":"I am trying to use docker and run my image with this Java Library: com.github.dockerjava\r\n\r\nHere is the code :\r\n```java\r\nimport com.github.dockerjava.api.DockerClient;\r\nimport com.github.dockerjava.api.command.CreateContainerCmd;\r\nimport com.github.dockerjava.api.command.PullImageResultCallback;\r\nimport com.github.dockerjava.api.exception.NotFoundException;\r\nimport com.github.dockerjava.api.model.Container;\r\nimport com.github.dockerjava.api.model.ContainerNetwork;\r\nimport com.github.dockerjava.api.model.Image;\r\nimport com.github.dockerjava.core.DockerClientBuilder;\r\n\r\npublic static void main(String[] args) {\r\n        String containerName = &quot;mycontainer_name&quot;;\r\n        String dockerImage = &quot;myimage&quot;;\r\n\r\n        // Get the Docker client\r\n        System.out.println(&quot;Get Docker client&quot;);\r\n        DockerClient dockerClient = DockerClientBuilder.getInstance().build();\r\n\r\n        // Check if the container is already running\r\n        if (dockerContainerExists(containerName, dockerClient)) {\r\n            System.out.println(&quot;Container already exists&quot;);\r\n            dockerStop(containerName, dockerClient);\r\n            DockerRm(containerName, dockerClient);\r\n        }\r\n\r\n        CreateContainerCmd createContainer = dockerClient\r\n                .createContainerCmd(dockerImage).withName(containerName);\r\n        createContainer.withTty(true);\r\n        createContainer.exec();\r\n\r\n        dockerClient.killContainerCmd(containerName).exec();\r\n        dockerClient.removeContainerCmd(containerName).exec();\r\n\r\n        // runDataGenerator(new Pcap(), args);\r\n    }\r\n```\r\n\r\nHere is my pom.xml dependency :\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\r\n    &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut I get this error :\r\n\r\n```bash\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Unsupported protocol scheme: npipe:////./pipe/docker_engine\r\n        at com.github.dockerjava.jaxrs.JerseyDockerHttpClient.&lt;init&gt;(JerseyDockerHttpClient.java:225)\r\n        at com.github.dockerjava.jaxrs.JerseyDockerHttpClient.&lt;init&gt;(JerseyDockerHttpClient.java:49)\r\n        at com.github.dockerjava.jaxrs.JerseyDockerHttpClient$Builder.build(JerseyDockerHttpClient.java:124)\r\n        at com.github.dockerjava.core.DockerClientBuilder.build(DockerClientBuilder.java:106)\r\n        at org.package.main(Pcap.java:1108)\r\n```\r\n\r\nI am on Windows and have Docker Desktop running (by the way it works perfectly on Linux) and I saw the same type of error for other people but I couldn&#39;t find any answers.\r\nIf someone has the answer to this or has faced the same problem I am up for answers...","title":"Problem running Docker with com.github.dockerjava","body":"<p>I am trying to use docker and run my image with this Java Library: com.github.dockerjava</p>\n<p>Here is the code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.github.dockerjava.api.DockerClient;\nimport com.github.dockerjava.api.command.CreateContainerCmd;\nimport com.github.dockerjava.api.command.PullImageResultCallback;\nimport com.github.dockerjava.api.exception.NotFoundException;\nimport com.github.dockerjava.api.model.Container;\nimport com.github.dockerjava.api.model.ContainerNetwork;\nimport com.github.dockerjava.api.model.Image;\nimport com.github.dockerjava.core.DockerClientBuilder;\n\npublic static void main(String[] args) {\n        String containerName = &quot;mycontainer_name&quot;;\n        String dockerImage = &quot;myimage&quot;;\n\n        // Get the Docker client\n        System.out.println(&quot;Get Docker client&quot;);\n        DockerClient dockerClient = DockerClientBuilder.getInstance().build();\n\n        // Check if the container is already running\n        if (dockerContainerExists(containerName, dockerClient)) {\n            System.out.println(&quot;Container already exists&quot;);\n            dockerStop(containerName, dockerClient);\n            DockerRm(containerName, dockerClient);\n        }\n\n        CreateContainerCmd createContainer = dockerClient\n                .createContainerCmd(dockerImage).withName(containerName);\n        createContainer.withTty(true);\n        createContainer.exec();\n\n        dockerClient.killContainerCmd(containerName).exec();\n        dockerClient.removeContainerCmd(containerName).exec();\n\n        // runDataGenerator(new Pcap(), args);\n    }\n</code></pre>\n<p>Here is my pom.xml dependency :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\n    &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But I get this error :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Unsupported protocol scheme: npipe:////./pipe/docker_engine\n        at com.github.dockerjava.jaxrs.JerseyDockerHttpClient.&lt;init&gt;(JerseyDockerHttpClient.java:225)\n        at com.github.dockerjava.jaxrs.JerseyDockerHttpClient.&lt;init&gt;(JerseyDockerHttpClient.java:49)\n        at com.github.dockerjava.jaxrs.JerseyDockerHttpClient$Builder.build(JerseyDockerHttpClient.java:124)\n        at com.github.dockerjava.core.DockerClientBuilder.build(DockerClientBuilder.java:106)\n        at org.package.main(Pcap.java:1108)\n</code></pre>\n<p>I am on Windows and have Docker Desktop running (by the way it works perfectly on Linux) and I saw the same type of error for other people but I couldn't find any answers.\nIf someone has the answer to this or has faced the same problem I am up for answers...</p>\n"},{"tags":["java","spring","spring-boot","bean-validation","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680794890,"creation_date":1680794890,"answer_id":75951233,"question_id":75951034,"body_markdown":"This cannot work, see https://stackoverflow.com/a/69076232/6692043\r\n\r\nBasically you should remove this from your dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd you should use `jakarta.validation.*` instead of `javax.validation.*` in your code.","title":"Bean validation not working after updating to Spring Boot 3","body":"<p>This cannot work, see <a href=\"https://stackoverflow.com/a/69076232/6692043\">https://stackoverflow.com/a/69076232/6692043</a></p>\n<p>Basically you should remove this from your dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And you should use <code>jakarta.validation.*</code> instead of <code>javax.validation.*</code> in your code.</p>\n"}],"owner":{"account_id":2119667,"reputation":7639,"user_id":1883212,"accept_rate":14,"display_name":"user1883212"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680794890,"creation_date":1680793552,"question_id":75951034,"body_markdown":"\r\nAfter updating to Spring Boot 3 I get the following exception while using bean validation:\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@54089484 testClass = com.sogh.rest.EventFeedClientTest, locations = [], classes = [], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;rest.endpoints.query.backoff=1000&quot;], contextCustomizers = [[ImportsContextCustomizer@45adc393 key = [com.sogh.utils.TestConfig, com.globalrelay.mc.oscar.common.logging.LoggingConfiguration, com.sogh.rest.RestApiConfig]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@437da279, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6253c26, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@254ea8f8, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@69e153c5], contextLoader = org.springframework.test.context.support.DelegatingSmartContextLoader, parent = null]\r\n    \r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;eventFeedClient&#39; defined in class path resource [com/globalrelay/mc/oscar/common/normalizer/service/rest/RestApiConfig.class]: Failed to instantiate [com.sogh.rest.EventFeedClient]: Factory method &#39;eventFeedClient&#39; threw exception with message: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n    \tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:221)\r\n    \tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:110)\r\n    \tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:212)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\r\n    \t... 73 more\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.sogh.rest.EventFeedClient]: Factory method &#39;eventFeedClient&#39; threw exception with message: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    \t... 90 more\r\n    Caused by: javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\r\n    \tat javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:291)\r\n    \tat javax.validation.Validation.buildDefaultValidatorFactory(Validation.java:103)\r\n    \tat com.sogh.rest.AbstractRestClient.&lt;init&gt;(AbstractRestClient.java:42)\r\n    \tat com.sogh.rest.EventFeedClient.&lt;init&gt;(EventFeedClient.java:30)\r\n    \tat com.sogh.rest.RestApiConfig.eventFeedClient(RestApiConfig.java:76)\r\n    \tat com.sogh.rest.RestApiConfig$$SpringCGLIB$$0.CGLIB$eventFeedClient$1(&lt;generated&gt;)\r\n    \tat com.sogh.RestApiConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n    \tat com.sogh.RestApiConfig$$SpringCGLIB$$0.eventFeedClient(&lt;generated&gt;)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n    \t... 91 more\r\n\r\nThis is the line of code on which it fails:\r\n\r\n    private final Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n\r\nI have the following dependencies configured in Maven:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhat am I missing?\r\n\r\n\r\n\r\n","title":"Bean validation not working after updating to Spring Boot 3","body":"<p>After updating to Spring Boot 3 I get the following exception while using bean validation:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@54089484 testClass = com.sogh.rest.EventFeedClientTest, locations = [], classes = [], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;rest.endpoints.query.backoff=1000&quot;], contextCustomizers = [[ImportsContextCustomizer@45adc393 key = [com.sogh.utils.TestConfig, com.globalrelay.mc.oscar.common.logging.LoggingConfiguration, com.sogh.rest.RestApiConfig]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@437da279, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6253c26, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@254ea8f8, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@69e153c5], contextLoader = org.springframework.test.context.support.DelegatingSmartContextLoader, parent = null]\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'eventFeedClient' defined in class path resource [com/globalrelay/mc/oscar/common/normalizer/service/rest/RestApiConfig.class]: Failed to instantiate [com.sogh.rest.EventFeedClient]: Factory method 'eventFeedClient' threw exception with message: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:221)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:110)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:212)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\n    ... 73 more\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.sogh.rest.EventFeedClient]: Factory method 'eventFeedClient' threw exception with message: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 90 more\nCaused by: javax.validation.NoProviderFoundException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\n    at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:291)\n    at javax.validation.Validation.buildDefaultValidatorFactory(Validation.java:103)\n    at com.sogh.rest.AbstractRestClient.&lt;init&gt;(AbstractRestClient.java:42)\n    at com.sogh.rest.EventFeedClient.&lt;init&gt;(EventFeedClient.java:30)\n    at com.sogh.rest.RestApiConfig.eventFeedClient(RestApiConfig.java:76)\n    at com.sogh.rest.RestApiConfig$$SpringCGLIB$$0.CGLIB$eventFeedClient$1(&lt;generated&gt;)\n    at com.sogh.RestApiConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at com.sogh.RestApiConfig$$SpringCGLIB$$0.eventFeedClient(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n    ... 91 more\n</code></pre>\n<p>This is the line of code on which it fails:</p>\n<pre><code>private final Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n</code></pre>\n<p>I have the following dependencies configured in Maven:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;8.0.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","regex","sonarqube","sonarlint"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1680791708,"post_id":75950746,"comment_id":133960410,"body_markdown":"What flavor of regex?","body":"What flavor of regex?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1680791793,"post_id":75950746,"comment_id":133960440,"body_markdown":"When you say &quot;in all formats&quot; do you mean all the *specific* formats you listed, and no others?","body":"When you say &quot;in all formats&quot; do you mean all the <i>specific</i> formats you listed, and no others?"},{"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"score":0,"creation_date":1680791946,"post_id":75950746,"comment_id":133960493,"body_markdown":"@JohnBollinger I am using Java, so whatever the syntax/flavor for that is.","body":"@JohnBollinger I am using Java, so whatever the syntax/flavor for that is."},{"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"score":0,"creation_date":1680791978,"post_id":75950746,"comment_id":133960500,"body_markdown":"@JohnBollinger Yes, all of the specific formats I have listed.","body":"@JohnBollinger Yes, all of the specific formats I have listed."},{"owner":{"account_id":13717922,"reputation":58377,"user_id":9898643,"display_name":"Theo"},"score":0,"creation_date":1680792061,"post_id":75950746,"comment_id":133960521,"body_markdown":"`^(-?\\d){9}$` should do it or if you allow `--` too, then change the question mark into an asteriks `*`","body":"<code>^(-?\\d){9}$</code> should do it or if you allow <code>--</code> too, then change the question mark into an asteriks <code>*</code>"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1680792254,"post_id":75950746,"comment_id":133960584,"body_markdown":"@Theo, that will accept alot more formats than those presented.  It is my understanding of the question and comments that *only* the four formats specified should be matched by the wanted regex.","body":"@Theo, that will accept alot more formats than those presented.  It is my understanding of the question and comments that <i>only</i> the four formats specified should be matched by the wanted regex."},{"owner":{"account_id":13717922,"reputation":58377,"user_id":9898643,"display_name":"Theo"},"score":0,"creation_date":1680792369,"post_id":75950746,"comment_id":133960622,"body_markdown":"@JohnBollinger Yep, I was going for _&quot;all formats&quot;_","body":"@JohnBollinger Yep, I was going for <i>&quot;all formats&quot;</i>"},{"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"score":0,"creation_date":1680792743,"post_id":75950746,"comment_id":133960725,"body_markdown":"I edited the question to be more precise. I am looking for the regex to match only the 4 specified formats. My apologies for the confusion.","body":"I edited the question to be more precise. I am looking for the regex to match only the 4 specified formats. My apologies for the confusion."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1680794249,"post_id":75950746,"comment_id":133961162,"body_markdown":"What about: `^\\d\\d(?:-?\\d{7}|\\d-\\d\\d(?:-\\d|\\d-)\\d{3})$` ?","body":"What about: <code>^\\d\\d(?:-?\\d{7}|\\d-\\d\\d(?:-\\d|\\d-)\\d{3})$</code> ?"},{"owner":{"account_id":1613587,"reputation":752178,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":0,"creation_date":1680794909,"post_id":75950746,"comment_id":133961332,"body_markdown":"Do you really want a solution that satisfies SonarLint, even if it makes it harder for a human to understand (like @trincot&#39;s comment -- no offense)?","body":"Do you really want a solution that satisfies SonarLint, even if it makes it harder for a human to understand (like @trincot&#39;s comment -- no offense)?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1680795079,"post_id":75950746,"comment_id":133961383,"body_markdown":"It might be enough to replace both `\\d{2}` with `\\d\\d`.","body":"It might be enough to replace both <code>\\d{2}</code> with <code>\\d\\d</code>."},{"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"score":0,"creation_date":1680800809,"post_id":75950746,"comment_id":133962770,"body_markdown":"@trincot replacing \\d{2} with \\d\\d worked. Not the prettiest or most elegant solution, but it made Sonar happy and that&#39;s all that matters to the people up top. Thanks","body":"@trincot replacing \\d{2} with \\d\\d worked. Not the prettiest or most elegant solution, but it made Sonar happy and that&#39;s all that matters to the people up top. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680793958,"creation_date":1680793626,"answer_id":75951047,"question_id":75950746,"body_markdown":"[Sonar&#39;s discussion of regex complexity][1] suggests considering replacing the regex with regular code (which I infer might involve simpler regexes in some cases).  Here, it looks like it would be straightforward to do that by testing each alternative via a separate regex instead of cramming them all into one, so do consider that.\r\n\r\nThe same discussion describes how Sonar computes regex complexity:\r\n\r\n&gt; Each of the following operators increases the complexity by an amount\r\n&gt; equal to the current nesting level and also increases the current\r\n&gt; nesting level by one for its arguments:\r\n&gt; \r\n&gt;   -  `|` - when multiple | operators are used together, the subsequent ones only increase the complexity by 1\r\n&gt;   -  `&amp;&amp;` (inside character classes) - when multiple `&amp;&amp;` operators are used together, the subsequent ones only increase the complexity by\r\n&gt; 1\r\n&gt;   -  Quantifiers (`*`, `+`, `?`, `{n,m}`, `{n,}` or `{n}`)\r\n&gt;   -  Non-capturing groups that set flags (such as `(?i:some_pattern)` or `(?i)some_pattern`)\r\n&gt;   -  Lookahead and lookbehind assertions\r\n&gt; \r\n&gt; Additionally, each use of the following features increase the\r\n&gt; complexity by 1 regardless of nesting:\r\n&gt; \r\n&gt;  -   character classes\r\n&gt;  -   back references\r\n\r\nThat produces 21 through 9 quantifiers, each at nesting level 2, plus three `|` operators, all at nesting level 1: 2 * 9 + 3 == 21.\r\n\r\nI doubt that a less complex regex exists for this job, especially one that achieves the spirit of this Sonar rule: to make regex usages easy to read and maintain.  However, you should still be able to get Sonar to accept it without complaint by leveraging this:\r\n\r\n&gt; If a regular expression is split among multiple variables, the\r\n&gt; complexity is calculated for each variable individually, not for the\r\n&gt; whole regular expression. If a regular expression is split over\r\n&gt; multiple lines, each line is treated individually if it is accompanied\r\n&gt; by a comment (either a Java comment or a comment within the regular\r\n&gt; expression), otherwise the regular expression is analyzed as a whole.\r\n\r\nI think that means that something along these lines would be acceptable to Sonar:\r\n```java\r\n    Pattern p = Pattern.compile(\r\n            // xxxxxxxxx\r\n            &quot;^\\d{9}$&quot;\r\n            // xxx-xx-xxxx\r\n            + &quot;|^\\d{3}-\\d{2}-\\d{4}$&quot;\r\n            // xx-xxxxxxx\r\n            + &quot;|^\\d{2}-\\d{7}$&quot;\r\n            // xxx-xxx-xxx\r\n            + &quot;|^\\d{3}-\\d{3}-\\d{3}$&quot;\r\n            );\r\n```\r\nThe docs lead me to believe that there would be other viable variations along similar lines of expressing the regex pieces separately.\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-5843","title":"Simplify this regex to reduce its complexity","body":"<p><a href=\"https://rules.sonarsource.com/java/RSPEC-5843\" rel=\"nofollow noreferrer\">Sonar's discussion of regex complexity</a> suggests considering replacing the regex with regular code (which I infer might involve simpler regexes in some cases).  Here, it looks like it would be straightforward to do that by testing each alternative via a separate regex instead of cramming them all into one, so do consider that.</p>\n<p>The same discussion describes how Sonar computes regex complexity:</p>\n<blockquote>\n<p>Each of the following operators increases the complexity by an amount\nequal to the current nesting level and also increases the current\nnesting level by one for its arguments:</p>\n<ul>\n<li><code>|</code> - when multiple | operators are used together, the subsequent ones only increase the complexity by 1</li>\n<li><code>&amp;&amp;</code> (inside character classes) - when multiple <code>&amp;&amp;</code> operators are used together, the subsequent ones only increase the complexity by\n1</li>\n<li>Quantifiers (<code>*</code>, <code>+</code>, <code>?</code>, <code>{n,m}</code>, <code>{n,}</code> or <code>{n}</code>)</li>\n<li>Non-capturing groups that set flags (such as <code>(?i:some_pattern)</code> or <code>(?i)some_pattern</code>)</li>\n<li>Lookahead and lookbehind assertions</li>\n</ul>\n<p>Additionally, each use of the following features increase the\ncomplexity by 1 regardless of nesting:</p>\n<ul>\n<li>character classes</li>\n<li>back references</li>\n</ul>\n</blockquote>\n<p>That produces 21 through 9 quantifiers, each at nesting level 2, plus three <code>|</code> operators, all at nesting level 1: 2 * 9 + 3 == 21.</p>\n<p>I doubt that a less complex regex exists for this job, especially one that achieves the spirit of this Sonar rule: to make regex usages easy to read and maintain.  However, you should still be able to get Sonar to accept it without complaint by leveraging this:</p>\n<blockquote>\n<p>If a regular expression is split among multiple variables, the\ncomplexity is calculated for each variable individually, not for the\nwhole regular expression. If a regular expression is split over\nmultiple lines, each line is treated individually if it is accompanied\nby a comment (either a Java comment or a comment within the regular\nexpression), otherwise the regular expression is analyzed as a whole.</p>\n</blockquote>\n<p>I think that means that something along these lines would be acceptable to Sonar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Pattern p = Pattern.compile(\n            // xxxxxxxxx\n            &quot;^\\d{9}$&quot;\n            // xxx-xx-xxxx\n            + &quot;|^\\d{3}-\\d{2}-\\d{4}$&quot;\n            // xx-xxxxxxx\n            + &quot;|^\\d{2}-\\d{7}$&quot;\n            // xxx-xxx-xxx\n            + &quot;|^\\d{3}-\\d{3}-\\d{3}$&quot;\n            );\n</code></pre>\n<p>The docs lead me to believe that there would be other viable variations along similar lines of expressing the regex pieces separately.</p>\n"}],"owner":{"account_id":23993326,"reputation":25,"user_id":17979144,"display_name":"scottyboombox"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680794784,"creation_date":1680791589,"question_id":75950746,"body_markdown":"SonarLint is currently yelling at me for the complexity of some regex I am using for tax ID numbers. I need to reduce the complexity from 21 to 20 and I simply cannot think of a way to do that. All of the solutions I&#39;ve tried have only made it more complex...\r\n\r\nThe regex in question:\r\n```\r\n^\\d{9}$|^\\d{3}-\\d{2}-\\d{4}$|^\\d{2}-\\d{7}$|^\\d{3}-\\d{3}-\\d{3}$\r\n```\r\n\r\nIt needs to match tax ID numbers in these specific formats, and nothing else:\r\n\r\n555555555\r\n\r\n555-55-5555\r\n\r\n55-5555555\r\n\r\n555-555-555","title":"Simplify this regex to reduce its complexity","body":"<p>SonarLint is currently yelling at me for the complexity of some regex I am using for tax ID numbers. I need to reduce the complexity from 21 to 20 and I simply cannot think of a way to do that. All of the solutions I've tried have only made it more complex...</p>\n<p>The regex in question:</p>\n<pre><code>^\\d{9}$|^\\d{3}-\\d{2}-\\d{4}$|^\\d{2}-\\d{7}$|^\\d{3}-\\d{3}-\\d{3}$\n</code></pre>\n<p>It needs to match tax ID numbers in these specific formats, and nothing else:</p>\n<p>555555555</p>\n<p>555-55-5555</p>\n<p>55-5555555</p>\n<p>555-555-555</p>\n"},{"tags":["java","selenium-webdriver","cucumber","gherkin"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1608282176,"post_id":65354147,"comment_id":115540848,"body_markdown":"Any class in Java can be extended (Without it being abstract, /or final)","body":"Any class in Java can be extended (Without it being abstract, /or final)"},{"owner":{"account_id":20208281,"reputation":13,"user_id":14822007,"display_name":"zakaria janah"},"score":0,"creation_date":1608282341,"post_id":65354147,"comment_id":115540896,"body_markdown":"hello thank you for replying \nhere the resean why I use the secend class is i want to know the type of the object by ** getMyType **is there a way to do it in hte same class","body":"hello thank you for replying  here the resean why I use the secend class is i want to know the type of the object by ** getMyType **is there a way to do it in hte same class"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1608282608,"post_id":65354147,"comment_id":115540989,"body_markdown":"Yes, your first class public ReadingExcelUsingPoiji will have a method that is implemented and return its type,\n\nThen the class that extends will do extends ReadingExcelUsingPoiji  then @Override that parent method.   So your ReadingExcelUsingPoiji will return ReadingExcelUsingPoji.class, and your ReadingUserUsingPoiji  will return ReadingUserUsingPoiji .class from its method...or whatever you want","body":"Yes, your first class public ReadingExcelUsingPoiji will have a method that is implemented and return its type,  Then the class that extends will do extends ReadingExcelUsingPoiji  then @Override that parent method.   So your ReadingExcelUsingPoiji will return ReadingExcelUsingPoji.class, and your ReadingUserUsingPoiji  will return ReadingUserUsingPoiji .class from its method...or whatever you want"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1608282650,"post_id":65354147,"comment_id":115541016,"body_markdown":"The idea of @override will work no matter if your parent class is abstract or not...","body":"The idea of @override will work no matter if your parent class is abstract or not..."},{"owner":{"account_id":20208281,"reputation":13,"user_id":14822007,"display_name":"zakaria janah"},"score":0,"creation_date":1608283037,"post_id":65354147,"comment_id":115541153,"body_markdown":"ah, I use ReadingExcelUsingPoiji to transofrm Excel file to Class Object for that i use ReadingExcelUsingPoiji to do the transformation but I need to pass the type of the class Object for my class User class so I creat another class called ReadingUserUsingPoiji just too get the type of User , what I want is to keep only ReadingExcelUsingPoiji and use it with any class Object generic method","body":"ah, I use ReadingExcelUsingPoiji to transofrm Excel file to Class Object for that i use ReadingExcelUsingPoiji to do the transformation but I need to pass the type of the class Object for my class User class so I creat another class called ReadingUserUsingPoiji just too get the type of User , what I want is to keep only ReadingExcelUsingPoiji and use it with any class Object generic method"},{"owner":{"account_id":20208281,"reputation":13,"user_id":14822007,"display_name":"zakaria janah"},"score":0,"creation_date":1608283093,"post_id":65354147,"comment_id":115541180,"body_markdown":"in this line   List&lt;T&gt; data = Poiji.fromExcel(new File(filePath), getMyType(), options);\n\ngetMyType() return User is there a way to pass user generally","body":"in this line   List&lt;T&gt; data = Poiji.fromExcel(new File(filePath), getMyType(), options);  getMyType() return User is there a way to pass user generally"}],"answers":[{"comments":[{"owner":{"account_id":20208281,"reputation":13,"user_id":14822007,"display_name":"zakaria janah"},"score":0,"creation_date":1608291849,"post_id":65356023,"comment_id":115544747,"body_markdown":"it gives me that error \nRequired type:Class &lt;T&gt;Provided:Class&lt;User&gt;\n\nand isUser variable where should I declare it","body":"it gives me that error  Required type:Class &lt;T&gt;Provided:Class&lt;User&gt;  and isUser variable where should I declare it"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1608294937,"post_id":65356023,"comment_id":115545928,"body_markdown":"I updated my answer...can you see if that helps :)","body":"I updated my answer...can you see if that helps :)"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1608294953,"post_id":65356023,"comment_id":115545937,"body_markdown":"In java method names start with lowerCase :)","body":"In java method names start with lowerCase :)"},{"owner":{"account_id":20208281,"reputation":13,"user_id":14822007,"display_name":"zakaria janah"},"score":0,"creation_date":1608302709,"post_id":65356023,"comment_id":115549377,"body_markdown":"I have an other class with is use this method ,there where i have a new error\n\n`@When(&quot;^User login with the following username and password&quot;)\n\tpublic void user_login_with_the_following_username_and_password () throws Throwable {\n\n\t\tfor (User user:loadDataStepDfn.data){\n\t\t\tlogin.enterUsername(user.getUsername());\n\t\t\tlogin.enterPassword(user.getPassword());\n\t\t\tlogin.clilckOnConection();\n\t\t}\n\n\t}`\n\n\n\nin `User user:loadDataStepDfn.data` \n\nthe error says \n\nRequired \ntype:Object \nProvided: User","body":"I have an other class with is use this method ,there where i have a new error  <code>@When(&quot;^User login with the following username and password&quot;) \tpublic void user_login_with_the_following_username_and_password () throws Throwable {  \t\tfor (User user:loadDataStepDfn.data){ \t\t\tlogin.enterUsername(user.getUsername()); \t\t\tlogin.enterPassword(user.getPassword()); \t\t\tlogin.clilckOnConection(); \t\t}  \t}</code>    in <code>User user:loadDataStepDfn.data</code>   the error says   Required  type:Object  Provided: User"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1608308613,"post_id":65356023,"comment_id":115552140,"body_markdown":"Yay.  I am glad it helped","body":"Yay.  I am glad it helped"}],"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608303588,"creation_date":1608289983,"answer_id":65356023,"question_id":65354147,"body_markdown":"I am trying to understand here, so you dont want @override, but rather 1 method that returns you the type of class to transform to??\r\n\r\nWhy can&#39;t it be that simple...  You have a method that determines what class you should use to transform to...\r\n\r\n\r\nI dont understand why you are using generics...your logic doesnt seem to really care for it? Especially if you have 1 ReadingExcelUsingPoiji class..it really shouldnt care.\r\n\r\n\r\n    public class ReadingExcelUsingPoiji&lt;T&gt; {\r\n\r\n    public List&lt;T&gt; transformExcelToClass(String filePath, Class&lt;T&gt; classToTransformTo) {\r\n        PoijiOptions options = PoijiOptions.PoijiOptionsBuilder.settings().addListDelimiter(&quot;;&quot;).build();\r\n        List&lt;T&gt; data = Poiji.fromExcel(new File(filePath), classToTransformTo, options);\r\n        return data;\r\n    }\r\n\r\n    \r\n    public static void main(String [] args) {\r\n    \t\r\n    \tReadingExcelUsingPoiji genericConverter = new ReadingExcelUsingPoiji();\r\n    \t\r\n    \tList&lt;User&gt; listOfUsers = genericConverter.transformExcelToClass(&quot;yourFilePath&quot;, User.class);\r\n    \tList&lt;Car&gt; listOfCars = genericConverter.transformExcelToClass(&quot;yourFilePath&quot;, Car.class);\r\n    }\r\n    \r\n    \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public class LoadUserStepDfn extends LoadDataStepDfn&lt;User&gt; {\r\n    \r\n    \t\r\n    \t\r\n    \t@Given(&quot;^Data is loaded from \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n    \tpublic void data_is_loaded_from (String filePath) throws Throwable {\r\n    \t    super.data_is_loaded_from(filePath , User.class);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n    public class LoadDataStepDfn&lt;T&gt; {\r\n    \r\n    \tpublic List&lt;T&gt; data;\r\n    \r\n    \tprotected ReadingExcelUsingPoiji readingExcelUsingPoiji;\r\n    \r\n    \tprotected void data_is_loaded_from(String filePath, Class&lt;T&gt; classToTransformTo) throws Throwable {\r\n    \t\tdata = readingExcelUsingPoiji.transformExcelToClass(filePath, classToTransformTo);\r\n    \r\n    \t}\r\n    \r\n    }","title":"Creating a Generic method to load dataSet in cucumber using Poiji library","body":"<p>I am trying to understand here, so you dont want @override, but rather 1 method that returns you the type of class to transform to??</p>\n<p>Why can't it be that simple...  You have a method that determines what class you should use to transform to...</p>\n<p>I dont understand why you are using generics...your logic doesnt seem to really care for it? Especially if you have 1 ReadingExcelUsingPoiji class..it really shouldnt care.</p>\n<pre><code>public class ReadingExcelUsingPoiji&lt;T&gt; {\n\npublic List&lt;T&gt; transformExcelToClass(String filePath, Class&lt;T&gt; classToTransformTo) {\n    PoijiOptions options = PoijiOptions.PoijiOptionsBuilder.settings().addListDelimiter(&quot;;&quot;).build();\n    List&lt;T&gt; data = Poiji.fromExcel(new File(filePath), classToTransformTo, options);\n    return data;\n}\n\n\npublic static void main(String [] args) {\n    \n    ReadingExcelUsingPoiji genericConverter = new ReadingExcelUsingPoiji();\n    \n    List&lt;User&gt; listOfUsers = genericConverter.transformExcelToClass(&quot;yourFilePath&quot;, User.class);\n    List&lt;Car&gt; listOfCars = genericConverter.transformExcelToClass(&quot;yourFilePath&quot;, Car.class);\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class LoadUserStepDfn extends LoadDataStepDfn&lt;User&gt; {\n\n    \n    \n    @Given(&quot;^Data is loaded from \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\n    public void data_is_loaded_from (String filePath) throws Throwable {\n        super.data_is_loaded_from(filePath , User.class);\n    }\n\n}\n\n\n\n\npublic class LoadDataStepDfn&lt;T&gt; {\n\n    public List&lt;T&gt; data;\n\n    protected ReadingExcelUsingPoiji readingExcelUsingPoiji;\n\n    protected void data_is_loaded_from(String filePath, Class&lt;T&gt; classToTransformTo) throws Throwable {\n        data = readingExcelUsingPoiji.transformExcelToClass(filePath, classToTransformTo);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20208281,"reputation":13,"user_id":14822007,"display_name":"zakaria janah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65356023,"answer_count":1,"score":0,"last_activity_date":1680794756,"creation_date":1608281961,"question_id":65354147,"body_markdown":"I have a class that loaded data from scenario steps\r\nmy first class is LoadUserStepDfn\r\n  \r\n\r\n    public class LoadUserStepDfn extends LoadDataStepDfn&lt;User&gt; {\r\n\r\n\tpublic LoadUserStepDfn(ReadingUserUsingPoiji readingUserUsingPoiji) {\r\n\t\tsuper.readingExcelUsingPoiji = readingUserUsingPoiji;\r\n\t}\r\n\r\n\t@Given(&quot;^Data is loaded from \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n\tpublic void data_is_loaded_from (String filePath) throws Throwable {\r\n\t\tsuper.data_is_loaded_from(filePath);\r\n\t}\r\n\r\n\r\nand it call class named LoadDataStepDfn\r\n   \r\n\r\n    public class LoadDataStepDfn&lt;T&gt; {\r\n\r\n\tpublic List&lt;T&gt; data;\r\n\r\n\tprotected ReadingExcelUsingPoiji readingExcelUsingPoiji;\r\n\r\n\tpublic void data_is_loaded_from (String filePath) throws Throwable {\r\n\t\tdata = readingExcelUsingPoiji.TransformExcelToClass(filePath);\r\n\r\n\t}\r\n\r\nand here is my class that reads Excel and stores it to java class \r\n  \r\n```\r\npublic abstract class ReadingExcelUsingPoiji&lt;T&gt; {\r\n\r\n\r\n    public List&lt;T&gt; TransformExcelToClass(String filePath){\r\n        PoijiOptions options = PoijiOptions.PoijiOptionsBuilder.settings().addListDelimiter(&quot;;&quot;).build();\r\n        List&lt;T&gt; data = Poiji.fromExcel(new File(filePath), getMyType(), options);\r\n        return data;\r\n    }\r\n\r\n    public abstract Class&lt;T&gt; getMyType();\r\n\r\n}\r\n```\r\n\r\nthe problem that I want to use one class I don&#39;t want it to be abstract and use another one which is this class \r\n\r\n```\r\n    public class ReadingUserUsingPoiji extends ReadingExcelUsingPoiji&lt;User&gt; {\r\n\r\n\r\n    public Class&lt;User&gt; getMyType(){\r\n        return User.class;\r\n    }\r\n```","title":"Creating a Generic method to load dataSet in cucumber using Poiji library","body":"<p>I have a class that loaded data from scenario steps\nmy first class is LoadUserStepDfn</p>\n<pre><code>public class LoadUserStepDfn extends LoadDataStepDfn&lt;User&gt; {\n\npublic LoadUserStepDfn(ReadingUserUsingPoiji readingUserUsingPoiji) {\n    super.readingExcelUsingPoiji = readingUserUsingPoiji;\n}\n\n@Given(&quot;^Data is loaded from \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\npublic void data_is_loaded_from (String filePath) throws Throwable {\n    super.data_is_loaded_from(filePath);\n}\n</code></pre>\n<p>and it call class named LoadDataStepDfn</p>\n<pre><code>public class LoadDataStepDfn&lt;T&gt; {\n\npublic List&lt;T&gt; data;\n\nprotected ReadingExcelUsingPoiji readingExcelUsingPoiji;\n\npublic void data_is_loaded_from (String filePath) throws Throwable {\n    data = readingExcelUsingPoiji.TransformExcelToClass(filePath);\n\n}\n</code></pre>\n<p>and here is my class that reads Excel and stores it to java class</p>\n<pre><code>public abstract class ReadingExcelUsingPoiji&lt;T&gt; {\n\n\n    public List&lt;T&gt; TransformExcelToClass(String filePath){\n        PoijiOptions options = PoijiOptions.PoijiOptionsBuilder.settings().addListDelimiter(&quot;;&quot;).build();\n        List&lt;T&gt; data = Poiji.fromExcel(new File(filePath), getMyType(), options);\n        return data;\n    }\n\n    public abstract Class&lt;T&gt; getMyType();\n\n}\n</code></pre>\n<p>the problem that I want to use one class I don't want it to be abstract and use another one which is this class</p>\n<pre><code>    public class ReadingUserUsingPoiji extends ReadingExcelUsingPoiji&lt;User&gt; {\n\n\n    public Class&lt;User&gt; getMyType(){\n        return User.class;\n    }\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1681289453,"post_id":75949581,"comment_id":134030998,"body_markdown":"Was project built? There is no out/target folder in the project tree.","body":"Was project built? There is no out/target folder in the project tree."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1681813466,"post_id":75949581,"comment_id":134113520,"body_markdown":"Try to remove the out/target folder and rebuild the project from scratch via Build | Build Project action","body":"Try to remove the out/target folder and rebuild the project from scratch via Build | Build Project action"}],"answers":[{"comments":[{"owner":{"account_id":28206524,"reputation":11,"user_id":21559527,"display_name":"doradura"},"score":0,"creation_date":1680792478,"post_id":75950228,"comment_id":133960651,"body_markdown":"It does not work for me. After I connected to my DB I had exception because of my hibernate.cnfg.xml. When I fixed that I had the same exception:Error: Could not find or load main class org.example.App\nCaused by: java.lang.ClassNotFoundException: org.example.App","body":"It does not work for me. After I connected to my DB I had exception because of my hibernate.cnfg.xml. When I fixed that I had the same exception:Error: Could not find or load main class org.example.App Caused by: java.lang.ClassNotFoundException: org.example.App"},{"owner":{"account_id":28206524,"reputation":11,"user_id":21559527,"display_name":"doradura"},"score":0,"creation_date":1680792870,"post_id":75950228,"comment_id":133960759,"body_markdown":"Plus I have package &quot;target&quot; with hibernate.cnfg.xml, that I did not create before. After deleting it still doesn&#39;t work","body":"Plus I have package &quot;target&quot; with hibernate.cnfg.xml, that I did not create before. After deleting it still doesn&#39;t work"},{"owner":{"account_id":17585365,"reputation":194,"user_id":12758199,"display_name":"The_Java_Guy"},"score":0,"creation_date":1680794885,"post_id":75950228,"comment_id":133961322,"body_markdown":"@doradura Is it a spring boot application ?","body":"@doradura Is it a spring boot application ?"},{"owner":{"account_id":28206524,"reputation":11,"user_id":21559527,"display_name":"doradura"},"score":0,"creation_date":1680853337,"post_id":75950228,"comment_id":133969909,"body_markdown":"No,it&#39;s maven without spring boot i think","body":"No,it&#39;s maven without spring boot i think"}],"tags":[],"owner":{"account_id":17585365,"reputation":194,"user_id":12758199,"display_name":"The_Java_Guy"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680788490,"creation_date":1680788490,"answer_id":75950228,"question_id":75949581,"body_markdown":"Close your IDE and delete the `.idea` folder and `tsp3.iml` file from the root of the project and reload the project. \r\n\r\nMost issues for intellij are solved by removing the `.idea` folder. \r\n\r\n    rm -rf .idea *.iml\r\n\r\n","title":"Could not find or load main class in Maven IntelliJ IDEA","body":"<p>Close your IDE and delete the <code>.idea</code> folder and <code>tsp3.iml</code> file from the root of the project and reload the project.</p>\n<p>Most issues for intellij are solved by removing the <code>.idea</code> folder.</p>\n<pre><code>rm -rf .idea *.iml\n</code></pre>\n"}],"owner":{"account_id":28206524,"reputation":11,"user_id":21559527,"display_name":"doradura"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680794501,"creation_date":1680784452,"question_id":75949581,"body_markdown":"I can&#39;t run my project in intellij idea with maven.\r\nThis is my exceptions:\r\n[![enter image description here][1]][1]\r\nThis is my project structure and my Run configurations\r\n[![enter image description here](https://i.stack.imgur.com/tdhqh.png)](https://i.stack.imgur.com/tdhqh.png)\r\n\r\nMaybe the problem in maven or other .iml files?\r\nThis is my tsp3.iml (you can see where it is in the photo above)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;module version=&quot;4&quot;&gt;\r\n  &lt;component name=&quot;FacetManager&quot;&gt;\r\n    &lt;facet type=&quot;hibernate&quot; name=&quot;Hibernate&quot;&gt;\r\n      &lt;configuration&gt;\r\n        &lt;datasource-map&gt;\r\n          &lt;unit-entry name=&quot;hibernate.cfg.xml&quot; value=&quot;128d993e-c8c2-47d8-a6c8-47085cb9ff4a&quot; /&gt;\r\n          &lt;unit-entry name=&quot;res:hibernate.cfg.xml&quot; value=&quot;128d993e-c8c2-47d8-a6c8-47085cb9ff4a&quot; /&gt;\r\n        &lt;/datasource-map&gt;\r\n        &lt;naming-strategy-map /&gt;\r\n        &lt;deploymentDescriptor name=&quot;hibernate.cfg.xml&quot; url=&quot;file://$MODULE_DIR$/src/main/java/resources/hibernate.cfg.xml&quot; /&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/facet&gt;\r\n  &lt;/component&gt;\r\n  &lt;component name=&quot;NewModuleRootManager&quot;&gt;\r\n    &lt;content url=&quot;file://$MODULE_DIR$&quot;&gt;\r\n      &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src/main/java/resources&quot; type=&quot;java-resource&quot; /&gt;\r\n    &lt;/content&gt;\r\n  &lt;/component&gt;\r\n&lt;/module&gt;\r\n```\r\nThis is my .idea package:\r\n[![enter image description here](https://i.stack.imgur.com/dIkyY.png)](https://i.stack.imgur.com/dIkyY.png) \r\n\r\nMy compiler.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project version=&quot;4&quot;&gt;\r\n    &lt;component name=&quot;CompilerConfiguration&quot;&gt;\r\n        &lt;annotationProcessing&gt;\r\n            &lt;profile name=&quot;Maven default annotation processors profile&quot; enabled=&quot;true&quot;&gt;\r\n                &lt;sourceOutputDir name=&quot;target/generated-sources/annotations&quot; /&gt;\r\n                &lt;sourceTestOutputDir name=&quot;target/generated-test-sources/test-annotations&quot; /&gt;\r\n                &lt;outputRelativeToContentRoot value=&quot;true&quot; /&gt;\r\n                &lt;module name=&quot;tsp3&quot; /&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/annotationProcessing&gt;\r\n    &lt;/component&gt;\r\n&lt;/project&gt;\r\n```\r\nMy modules.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project version=&quot;4&quot;&gt;\r\n  &lt;component name=&quot;ProjectModuleManager&quot;&gt;\r\n    &lt;modules&gt;\r\n      &lt;module fileurl=&quot;file://$PROJECT_DIR$/tsp3.iml&quot; filepath=&quot;$PROJECT_DIR$/tsp3.iml&quot; /&gt;\r\n    &lt;/modules&gt;\r\n  &lt;/component&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI tried to add new application in Run-&gt; Edit configuration and rebuild my project.\r\n\r\nI tried to delete .idea and tsp3.iml. After restarting I had new package &quot;target&quot;. Before and after deleting this package it didn&#39;t work. After that I deleted .idea and tsp3.iml again and there wasn&#39;t &quot;target&quot; in my project but it still doesn&#39;t work. I think the problem can be in compiler.xml in .idea because there are two folder paths with &quot;target&quot; in it. But I don&#39;t know what I should write there.\r\n\r\nThis is my compiler.xml now:\r\n[![enter image description here][2]][2]\r\n  \r\nI will be grateful for your help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TAVf1.png\r\n  [2]: https://i.stack.imgur.com/qFlx8.png","title":"Could not find or load main class in Maven IntelliJ IDEA","body":"<p>I can't run my project in intellij idea with maven.\nThis is my exceptions:\n<a href=\"https://i.stack.imgur.com/TAVf1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TAVf1.png\" alt=\"enter image description here\" /></a>\nThis is my project structure and my Run configurations\n<a href=\"https://i.stack.imgur.com/tdhqh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tdhqh.png\" alt=\"enter image description here\" /></a></p>\n<p>Maybe the problem in maven or other .iml files?\nThis is my tsp3.iml (you can see where it is in the photo above)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;module version=&quot;4&quot;&gt;\n  &lt;component name=&quot;FacetManager&quot;&gt;\n    &lt;facet type=&quot;hibernate&quot; name=&quot;Hibernate&quot;&gt;\n      &lt;configuration&gt;\n        &lt;datasource-map&gt;\n          &lt;unit-entry name=&quot;hibernate.cfg.xml&quot; value=&quot;128d993e-c8c2-47d8-a6c8-47085cb9ff4a&quot; /&gt;\n          &lt;unit-entry name=&quot;res:hibernate.cfg.xml&quot; value=&quot;128d993e-c8c2-47d8-a6c8-47085cb9ff4a&quot; /&gt;\n        &lt;/datasource-map&gt;\n        &lt;naming-strategy-map /&gt;\n        &lt;deploymentDescriptor name=&quot;hibernate.cfg.xml&quot; url=&quot;file://$MODULE_DIR$/src/main/java/resources/hibernate.cfg.xml&quot; /&gt;\n      &lt;/configuration&gt;\n    &lt;/facet&gt;\n  &lt;/component&gt;\n  &lt;component name=&quot;NewModuleRootManager&quot;&gt;\n    &lt;content url=&quot;file://$MODULE_DIR$&quot;&gt;\n      &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src/main/java/resources&quot; type=&quot;java-resource&quot; /&gt;\n    &lt;/content&gt;\n  &lt;/component&gt;\n&lt;/module&gt;\n</code></pre>\n<p>This is my .idea package:\n<a href=\"https://i.stack.imgur.com/dIkyY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dIkyY.png\" alt=\"enter image description here\" /></a></p>\n<p>My compiler.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project version=&quot;4&quot;&gt;\n    &lt;component name=&quot;CompilerConfiguration&quot;&gt;\n        &lt;annotationProcessing&gt;\n            &lt;profile name=&quot;Maven default annotation processors profile&quot; enabled=&quot;true&quot;&gt;\n                &lt;sourceOutputDir name=&quot;target/generated-sources/annotations&quot; /&gt;\n                &lt;sourceTestOutputDir name=&quot;target/generated-test-sources/test-annotations&quot; /&gt;\n                &lt;outputRelativeToContentRoot value=&quot;true&quot; /&gt;\n                &lt;module name=&quot;tsp3&quot; /&gt;\n            &lt;/profile&gt;\n        &lt;/annotationProcessing&gt;\n    &lt;/component&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My modules.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project version=&quot;4&quot;&gt;\n  &lt;component name=&quot;ProjectModuleManager&quot;&gt;\n    &lt;modules&gt;\n      &lt;module fileurl=&quot;file://$PROJECT_DIR$/tsp3.iml&quot; filepath=&quot;$PROJECT_DIR$/tsp3.iml&quot; /&gt;\n    &lt;/modules&gt;\n  &lt;/component&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I tried to add new application in Run-&gt; Edit configuration and rebuild my project.</p>\n<p>I tried to delete .idea and tsp3.iml. After restarting I had new package &quot;target&quot;. Before and after deleting this package it didn't work. After that I deleted .idea and tsp3.iml again and there wasn't &quot;target&quot; in my project but it still doesn't work. I think the problem can be in compiler.xml in .idea because there are two folder paths with &quot;target&quot; in it. But I don't know what I should write there.</p>\n<p>This is my compiler.xml now:\n<a href=\"https://i.stack.imgur.com/qFlx8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qFlx8.png\" alt=\"enter image description here\" /></a></p>\n<p>I will be grateful for your help!</p>\n"},{"tags":["java","gradle","intellij-idea","jar","build.gradle"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1680778825,"post_id":75948683,"comment_id":133957254,"body_markdown":"Maybe remove the : in  implementation(&#39;:vtv-plugin-base&#39;)","body":"Maybe remove the : in  implementation(&#39;:vtv-plugin-base&#39;)"},{"owner":{"account_id":23791468,"reputation":11,"user_id":17802855,"display_name":"Harish Algat"},"score":0,"creation_date":1680779178,"post_id":75948683,"comment_id":133957336,"body_markdown":"the issue is not there","body":"the issue is not there"},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1680789447,"post_id":75948683,"comment_id":133959834,"body_markdown":"So, it seems to find the `.jar` files or it would fail sooner, correct?  It also seems to fail on the second jar, since `mqttv3` is in the classpath (an assumption tho).  So, I assume you have a `org.eclipse.paho.client.mqttv3-1.2.6.jar` file or somesuch?  Whatever your local jar file is, can you open that file (use 7-zip or something), and verify that `MqttClientPersistence.class` exists in it? Also, does whatever IDE you&#39;re using recognize the class?  Can you navigate to it (perhaps with Ctrl/Cmd + Click) whereever it&#39;s being used?  Just a few things to help narrow it down...","body":"So, it seems to find the <code>.jar</code> files or it would fail sooner, correct?  It also seems to fail on the second jar, since <code>mqttv3</code> is in the classpath (an assumption tho).  So, I assume you have a <code>org.eclipse.paho.client.mqttv3-1.2.6.jar</code> file or somesuch?  Whatever your local jar file is, can you open that file (use 7-zip or something), and verify that <code>MqttClientPersistence.class</code> exists in it? Also, does whatever IDE you&#39;re using recognize the class?  Can you navigate to it (perhaps with Ctrl/Cmd + Click) whereever it&#39;s being used?  Just a few things to help narrow it down..."}],"owner":{"account_id":23791468,"reputation":11,"user_id":17802855,"display_name":"Harish Algat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680794409,"creation_date":1680778430,"question_id":75948683,"body_markdown":"I am using Gradle as a build tool and IntelliJ IDE.\r\n\r\nI have 2 local jars which I am using in `build.gradle` file as a dependency and picking it from local directory.\r\n\r\nI also have a task to generate the jar for that project but when the jar is created and when I am trying to use it in other project it&#39;s giving class not found exception.\r\n\r\nMy build.gradle file:\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;com.vodafone.tv&#39;\r\nversion &#39;1.0&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { url &#39;https://jitpack.io&#39; }\r\n    flatDir {\r\n//these are the directories from where I am picking up the local jars\r\n        dirs &quot;C:\\\\Users\\\\debanjan.bhatt\\\\Desktop\\\\vtv-plugin-base-master&quot;\r\n        dirs &quot;C:\\\\Users\\\\debanjan.bhatt\\\\Desktop&quot;\r\n    }\r\n}\r\n//task to generate jar\r\ntask buildPlugin(type: Jar) {\r\n    manifest {\r\n        attributes &#39;Manifest-Version&#39;: &#39;1.0&#39;,\r\n                &#39;Plugin-Id&#39;: &#39;vtv-mqtt&#39;,\r\n                &#39;Plugin-Version&#39;: &#39;1.0.0&#39;\r\n    }\r\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\r\n    with jar\r\n}\r\n\r\ndependencies {\r\n    implementation(&#39;:vtv-plugin-base&#39;) // this is my first local jar 1\r\n    implementation(name: &#39;org.eclipse.paho.client.mqttv3-1.2.6&#39;)   //this is my seconds local jar 2\r\n    implementation group: &#39;com.consol.citrus&#39;, name: &#39;citrus-java-dsl&#39;, version: &#39;2.8.0&#39;\r\n    implementation group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20201115&#39;\r\n    compileOnly(group: &#39;org.pf4j&#39;, name: &#39;pf4j&#39;, version: &#39;3.6.0&#39;)\r\n    annotationProcessor(group: &#39;org.pf4j&#39;, name: &#39;pf4j&#39;, version: &quot;3.6.0&quot;)\r\n    implementation group: &#39;org.testng&#39;, name: &#39;testng&#39;, version: &#39;7.4.0&#39;\r\n    implementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-log4j12&#39;, version: &#39;1.7.30&#39;\r\n    implementation group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &#39;2.8.6&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nI am getting the following error when this jar is created using the task and I am using it somewhere else in the project.\r\n\r\n```lang-txt\r\n09:43:50,216 \\[ INFO  \\] java.lang.ClassNotFoundException: org.eclipse.paho.client.mqttv3.MqttClientPersistence\r\n```","title":"ClassNotFoundException on creating jar","body":"<p>I am using Gradle as a build tool and IntelliJ IDE.</p>\n<p>I have 2 local jars which I am using in <code>build.gradle</code> file as a dependency and picking it from local directory.</p>\n<p>I also have a task to generate the jar for that project but when the jar is created and when I am trying to use it in other project it's giving class not found exception.</p>\n<p>My build.gradle file:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'com.vodafone.tv'\nversion '1.0'\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://jitpack.io' }\n    flatDir {\n//these are the directories from where I am picking up the local jars\n        dirs &quot;C:\\\\Users\\\\debanjan.bhatt\\\\Desktop\\\\vtv-plugin-base-master&quot;\n        dirs &quot;C:\\\\Users\\\\debanjan.bhatt\\\\Desktop&quot;\n    }\n}\n//task to generate jar\ntask buildPlugin(type: Jar) {\n    manifest {\n        attributes 'Manifest-Version': '1.0',\n                'Plugin-Id': 'vtv-mqtt',\n                'Plugin-Version': '1.0.0'\n    }\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n    with jar\n}\n\ndependencies {\n    implementation(':vtv-plugin-base') // this is my first local jar 1\n    implementation(name: 'org.eclipse.paho.client.mqttv3-1.2.6')   //this is my seconds local jar 2\n    implementation group: 'com.consol.citrus', name: 'citrus-java-dsl', version: '2.8.0'\n    implementation group: 'org.json', name: 'json', version: '20201115'\n    compileOnly(group: 'org.pf4j', name: 'pf4j', version: '3.6.0')\n    annotationProcessor(group: 'org.pf4j', name: 'pf4j', version: &quot;3.6.0&quot;)\n    implementation group: 'org.testng', name: 'testng', version: '7.4.0'\n    implementation group: 'org.slf4j', name: 'slf4j-log4j12', version: '1.7.30'\n    implementation group: 'com.google.code.gson', name: 'gson', version: '2.8.6'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I am getting the following error when this jar is created using the task and I am using it somewhere else in the project.</p>\n<pre class=\"lang-txt prettyprint-override\"><code>09:43:50,216 \\[ INFO  \\] java.lang.ClassNotFoundException: org.eclipse.paho.client.mqttv3.MqttClientPersistence\n</code></pre>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"comments":[{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":96,"creation_date":1330960457,"post_id":4409263,"comment_id":12131238,"body_markdown":"-1, I don&#39;t recommend this approach - it will block one of Quartz worker threads for 10 minutes. The right way to go would be to facilitate existing Quartz functionality - tell it somehow to rerun the same job after 10 minutes - after all, this is what it is made for. If we are to run some code and sleep, there is no point in using Quartz on the first place.","body":"-1, I don&#39;t recommend this approach - it will block one of Quartz worker threads for 10 minutes. The right way to go would be to facilitate existing Quartz functionality - tell it somehow to rerun the same job after 10 minutes - after all, this is what it is made for. If we are to run some code and sleep, there is no point in using Quartz on the first place."},{"owner":{"account_id":1161903,"reputation":1648,"user_id":1141245,"display_name":"ossek"},"score":1,"creation_date":1395688125,"post_id":4409263,"comment_id":34442318,"body_markdown":"supplement that in Quartz 2.0 (for .net at least).  The StatefulJob is replaced by `PersistJobDataAfterExecutionAttribute` http://quartznet.sourceforge.net/apidoc/2.0/html/html/babe3560-218c-38de-031a-7fe1fdd569d2.htm","body":"supplement that in Quartz 2.0 (for .net at least).  The StatefulJob is replaced by <code>PersistJobDataAfterExecutionAttribute</code> <a href=\"http://quartznet.sourceforge.net/apidoc/2.0/html/html/babe3560-218c-38de-031a-7fe1fdd569d2.htm\" rel=\"nofollow noreferrer\">quartznet.sourceforge.net/apidoc/2.0/html/html/&hellip;</a>"},{"owner":{"account_id":1682343,"reputation":1117,"user_id":1546324,"accept_rate":88,"display_name":"jrochette"},"score":8,"creation_date":1395762557,"post_id":4409263,"comment_id":34479682,"body_markdown":"The JobExecutionContext (in Quartz 2.2.1 at least, not sure about the other versions) has a getRefireCount() method that could be used instead of the count variable","body":"The JobExecutionContext (in Quartz 2.2.1 at least, not sure about the other versions) has a getRefireCount() method that could be used instead of the count variable"}],"tags":[],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":3,"down_vote_count":21,"up_vote_count":33,"is_accepted":true,"score":12,"last_activity_date":1300180670,"creation_date":1291987621,"answer_id":4409263,"question_id":4408858,"body_markdown":"**Source**: [Automatically Retry Failed Jobs in Quartz][1]\r\n\r\n[1]: http://fahdshariff.blogspot.com/2010/12/automatically-retry-failed-jobs-in.html\r\n\r\nIf you want to have a job which keeps trying over and over again until it succeeds, all you have to do is throw a JobExecutionException with a flag to tell the scheduler to fire it again when it fails. The following code shows how:\r\n\r\n    class MyJob implements Job {\r\n    \r\n        public MyJob() {\r\n        }\r\n    \r\n        public void execute(JobExecutionContext context) throws JobExecutionException {\r\n            \r\n            try{\r\n                //connect to other application etc\r\n            }\r\n            catch(Exception e){\r\n    \r\n                Thread.sleep(600000); //sleep for 10 mins\r\n    \r\n                JobExecutionException e2 = new JobExecutionException(e);\r\n                //fire it again\r\n                e2.setRefireImmediately(true);\r\n                throw e2;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nIt gets a bit more complicated if you want to retry a certain number of times. You have to use a StatefulJob and hold a retryCounter in its JobDataMap, which you increment if the job fails. If the counter exceeds the maximum number of retries, then you can disable the job if you wish.\r\n\r\n    class MyJob implements StatefulJob {\r\n    \r\n        public MyJob() {\r\n        }\r\n    \r\n        public void execute(JobExecutionContext context) throws JobExecutionException {\r\n            JobDataMap dataMap = context.getJobDetail().getJobDataMap();\r\n            int count = dataMap.getIntValue(&quot;count&quot;);\r\n            \r\n            // allow 5 retries\r\n            if(count &gt;= 5){\r\n                JobExecutionException e = new JobExecutionException(&quot;Retries exceeded&quot;);\r\n                //make sure it doesn&#39;t run again\r\n                e.setUnscheduleAllTriggers(true);\r\n                throw e;\r\n            }\r\n            \r\n            \r\n            try{\r\n                //connect to other application etc\r\n                \r\n                //reset counter back to 0\r\n                dataMap.putAsString(&quot;count&quot;, 0);\r\n            }\r\n            catch(Exception e){\r\n                count++;\r\n                dataMap.putAsString(&quot;count&quot;, count);\r\n                JobExecutionException e2 = new JobExecutionException(e);\r\n                \r\n                Thread.sleep(600000); //sleep for 10 mins\r\n                \r\n                //fire it again\r\n                e2.setRefireImmediately(true);\r\n                throw e2;\r\n            }\r\n        }\r\n    }","title":"Quartz retry when failure","body":"<p><strong>Source</strong>: <a href=\"http://fahdshariff.blogspot.com/2010/12/automatically-retry-failed-jobs-in.html\" rel=\"noreferrer\">Automatically Retry Failed Jobs in Quartz</a></p>\n\n<p>If you want to have a job which keeps trying over and over again until it succeeds, all you have to do is throw a JobExecutionException with a flag to tell the scheduler to fire it again when it fails. The following code shows how:</p>\n\n<pre><code>class MyJob implements Job {\n\n    public MyJob() {\n    }\n\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n\n        try{\n            //connect to other application etc\n        }\n        catch(Exception e){\n\n            Thread.sleep(600000); //sleep for 10 mins\n\n            JobExecutionException e2 = new JobExecutionException(e);\n            //fire it again\n            e2.setRefireImmediately(true);\n            throw e2;\n        }\n    }\n}\n</code></pre>\n\n<p>It gets a bit more complicated if you want to retry a certain number of times. You have to use a StatefulJob and hold a retryCounter in its JobDataMap, which you increment if the job fails. If the counter exceeds the maximum number of retries, then you can disable the job if you wish.</p>\n\n<pre><code>class MyJob implements StatefulJob {\n\n    public MyJob() {\n    }\n\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n        JobDataMap dataMap = context.getJobDetail().getJobDataMap();\n        int count = dataMap.getIntValue(\"count\");\n\n        // allow 5 retries\n        if(count &gt;= 5){\n            JobExecutionException e = new JobExecutionException(\"Retries exceeded\");\n            //make sure it doesn't run again\n            e.setUnscheduleAllTriggers(true);\n            throw e;\n        }\n\n\n        try{\n            //connect to other application etc\n\n            //reset counter back to 0\n            dataMap.putAsString(\"count\", 0);\n        }\n        catch(Exception e){\n            count++;\n            dataMap.putAsString(\"count\", count);\n            JobExecutionException e2 = new JobExecutionException(e);\n\n            Thread.sleep(600000); //sleep for 10 mins\n\n            //fire it again\n            e2.setRefireImmediately(true);\n            throw e2;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16098962,"reputation":136,"user_id":12143476,"display_name":"Ali Tofigh"},"score":0,"creation_date":1609942124,"post_id":4409634,"comment_id":115977745,"body_markdown":"retrievedTrigger must be cast to SimpleTriggerImpl in my case.","body":"retrievedTrigger must be cast to SimpleTriggerImpl in my case."}],"tags":[],"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1291990462,"creation_date":1291990462,"answer_id":4409634,"question_id":4408858,"body_markdown":"I would suggest for more flexibility and configurability to better store in your DB two offsets: the *repeatOffset* which will tell you\r\nafter how long the job should be retried and the *trialPeriodOffset* which will keep the information of the time window that the job is\r\nallowed to be rescheduled. Then you can retrieve these two parameters like (I assume you are using Spring):\r\n\r\n    String repeatOffset = yourDBUtilsDao.getConfigParameter(..);\r\n    String trialPeriodOffset = yourDBUtilsDao.getConfigParameter(..);\r\n\r\nThen instead of the job to remember the counter it will need to remember the initalAttempt:\r\n\r\n    Long initialAttempt = null;\r\n    initialAttempt = (Long) existingJobDetail.getJobDataMap().get(&quot;firstAttempt&quot;);\r\n\r\nand perform the something like the following check:\r\n\r\n    long allowedThreshold = initialAttempt + Long.parseLong(trialPeriodOffset);\r\n    \t\tif (System.currentTimeMillis() &gt; allowedThreshold) {\r\n    \t\t\t//We&#39;ve tried enough, time to give up\r\n    \t\t\tlog.warn(&quot;The job is not going to be rescheduled since it has reached its trial period threshold&quot;);\r\n    \t\t\tsched.deleteJob(jobName, jobGroup);\r\n    \t\t\treturn YourResultEnumHere.HAS_REACHED_THE_RESCHEDULING_LIMIT;\r\n    \t\t}\r\n\r\nIt would be a good idea to create an enum for the result of the attempt that is being returned back to the core workflow of your \r\napplication like above.\r\n\r\nThen construct the rescheduling time:\r\n\r\n    Date startTime = null;\r\n    startTime = new Date(System.currentTimeMillis() + Long.parseLong(repeatOffset));\r\n    \r\n    String triggerName = &quot;Trigger_&quot; + jobName;\r\n    String triggerGroup = &quot;Trigger_&quot; + jobGroup;\r\n    \t\t\r\n    Trigger retrievedTrigger = sched.getTrigger(triggerName, triggerGroup);\r\n    if (!(retrievedTrigger instanceof SimpleTrigger)) {\r\n            \tlog.error(&quot;While rescheduling the Quartz Job retrieved was not of SimpleTrigger type as expected&quot;);\r\n            \treturn YourResultEnumHere.ERROR;\r\n    }\r\n            \r\n            ((SimpleTrigger) retrievedTrigger).setStartTime(startTime);\r\n    \t\tsched.rescheduleJob(triggerName, triggerGroup, retrievedTrigger);\r\n    \t\treturn YourResultEnumHere.RESCHEDULED;","title":"Quartz retry when failure","body":"<p>I would suggest for more flexibility and configurability to better store in your DB two offsets: the <em>repeatOffset</em> which will tell you\nafter how long the job should be retried and the <em>trialPeriodOffset</em> which will keep the information of the time window that the job is\nallowed to be rescheduled. Then you can retrieve these two parameters like (I assume you are using Spring):</p>\n\n<pre><code>String repeatOffset = yourDBUtilsDao.getConfigParameter(..);\nString trialPeriodOffset = yourDBUtilsDao.getConfigParameter(..);\n</code></pre>\n\n<p>Then instead of the job to remember the counter it will need to remember the initalAttempt:</p>\n\n<pre><code>Long initialAttempt = null;\ninitialAttempt = (Long) existingJobDetail.getJobDataMap().get(\"firstAttempt\");\n</code></pre>\n\n<p>and perform the something like the following check:</p>\n\n<pre><code>long allowedThreshold = initialAttempt + Long.parseLong(trialPeriodOffset);\n        if (System.currentTimeMillis() &gt; allowedThreshold) {\n            //We've tried enough, time to give up\n            log.warn(\"The job is not going to be rescheduled since it has reached its trial period threshold\");\n            sched.deleteJob(jobName, jobGroup);\n            return YourResultEnumHere.HAS_REACHED_THE_RESCHEDULING_LIMIT;\n        }\n</code></pre>\n\n<p>It would be a good idea to create an enum for the result of the attempt that is being returned back to the core workflow of your \napplication like above.</p>\n\n<p>Then construct the rescheduling time:</p>\n\n<pre><code>Date startTime = null;\nstartTime = new Date(System.currentTimeMillis() + Long.parseLong(repeatOffset));\n\nString triggerName = \"Trigger_\" + jobName;\nString triggerGroup = \"Trigger_\" + jobGroup;\n\nTrigger retrievedTrigger = sched.getTrigger(triggerName, triggerGroup);\nif (!(retrievedTrigger instanceof SimpleTrigger)) {\n            log.error(\"While rescheduling the Quartz Job retrieved was not of SimpleTrigger type as expected\");\n            return YourResultEnumHere.ERROR;\n}\n\n        ((SimpleTrigger) retrievedTrigger).setStartTime(startTime);\n        sched.rescheduleJob(triggerName, triggerGroup, retrievedTrigger);\n        return YourResultEnumHere.RESCHEDULED;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9482930,"reputation":825,"user_id":7050229,"display_name":"schoener"},"score":0,"creation_date":1579196997,"post_id":40999093,"comment_id":105694374,"body_markdown":"So just to make sure, you are adding a new Job (Job2) within another Job (Job1) if some failure appears and starting the Job2? Is this really the responsibility of the Job to handle such things or do you know a better (conceptionally) example to solve the exception handling issue?","body":"So just to make sure, you are adding a new Job (Job2) within another Job (Job1) if some failure appears and starting the Job2? Is this really the responsibility of the Job to handle such things or do you know a better (conceptionally) example to solve the exception handling issue?"},{"owner":{"account_id":6350625,"reputation":193,"user_id":4929812,"display_name":"Fl&#225;vio Ferreira"},"score":1,"creation_date":1579800234,"post_id":40999093,"comment_id":105896935,"body_markdown":"Conceptionally speaking I would say that the when we setup the job we should be able to setup this kind of configuration (maybe). I agree that the job is not the right place but last time I used this - 3 years ago - it was the best way I found to solve the problem.","body":"Conceptionally speaking I would say that the when we setup the job we should be able to setup this kind of configuration (maybe). I agree that the job is not the right place but last time I used this - 3 years ago - it was the best way I found to solve the problem."}],"tags":[],"owner":{"account_id":6350625,"reputation":193,"user_id":4929812,"display_name":"Fl&#225;vio Ferreira"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1481038435,"creation_date":1481038435,"answer_id":40999093,"question_id":4408858,"body_markdown":"I would recommend an implementation like this one to recover the job after a fail:\r\n\r\n    final JobDataMap jobDataMap = jobCtx.getJobDetail().getJobDataMap();\r\n    // the keys doesn&#39;t exist on first retry\r\n    final int retries = jobDataMap.containsKey(COUNT_MAP_KEY) ? jobDataMap.getIntValue(COUNT_MAP_KEY) : 0;\r\n\r\n    // to stop after awhile\r\n    if (retries &lt; MAX_RETRIES) {\r\n      log.warn(&quot;Retry job &quot; + jobCtx.getJobDetail());\r\n\r\n      // increment the number of retries\r\n      jobDataMap.put(COUNT_MAP_KEY, retries + 1);\r\n\r\n      final JobDetail job = jobCtx\r\n          .getJobDetail()\r\n          .getJobBuilder()\r\n           // to track the number of retries\r\n          .withIdentity(jobCtx.getJobDetail().getKey().getName() + &quot; - &quot; + retries, &quot;FailingJobsGroup&quot;)\r\n          .usingJobData(jobDataMap)\r\n          .build();\r\n\r\n      final OperableTrigger trigger = (OperableTrigger) TriggerBuilder\r\n          .newTrigger()\r\n          .forJob(job)\r\n           // trying to reduce back pressure, you can use another algorithm\r\n          .startAt(new Date(jobCtx.getFireTime().getTime() + (retries*100))) \r\n          .build();\r\n\r\n      try {\r\n        // schedule another job to avoid blocking threads\r\n        jobCtx.getScheduler().scheduleJob(job, trigger);\r\n      } catch (SchedulerException e) {\r\n        log.error(&quot;Error creating job&quot;);\r\n        throw new JobExecutionException(e);\r\n      }\r\n    }\r\n \r\n**Why?**\r\n\r\n 1. It will not block Quartz Workers\r\n 2. It will avoid back pressure. With setRefireImmediately the job will be fired immediately and it could lead to back pressure issues\r\n\r\n","title":"Quartz retry when failure","body":"<p>I would recommend an implementation like this one to recover the job after a fail:</p>\n\n<pre><code>final JobDataMap jobDataMap = jobCtx.getJobDetail().getJobDataMap();\n// the keys doesn't exist on first retry\nfinal int retries = jobDataMap.containsKey(COUNT_MAP_KEY) ? jobDataMap.getIntValue(COUNT_MAP_KEY) : 0;\n\n// to stop after awhile\nif (retries &lt; MAX_RETRIES) {\n  log.warn(\"Retry job \" + jobCtx.getJobDetail());\n\n  // increment the number of retries\n  jobDataMap.put(COUNT_MAP_KEY, retries + 1);\n\n  final JobDetail job = jobCtx\n      .getJobDetail()\n      .getJobBuilder()\n       // to track the number of retries\n      .withIdentity(jobCtx.getJobDetail().getKey().getName() + \" - \" + retries, \"FailingJobsGroup\")\n      .usingJobData(jobDataMap)\n      .build();\n\n  final OperableTrigger trigger = (OperableTrigger) TriggerBuilder\n      .newTrigger()\n      .forJob(job)\n       // trying to reduce back pressure, you can use another algorithm\n      .startAt(new Date(jobCtx.getFireTime().getTime() + (retries*100))) \n      .build();\n\n  try {\n    // schedule another job to avoid blocking threads\n    jobCtx.getScheduler().scheduleJob(job, trigger);\n  } catch (SchedulerException e) {\n    log.error(\"Error creating job\");\n    throw new JobExecutionException(e);\n  }\n}\n</code></pre>\n\n<p><strong>Why?</strong></p>\n\n<ol>\n<li>It will not block Quartz Workers</li>\n<li>It will avoid back pressure. With setRefireImmediately the job will be fired immediately and it could lead to back pressure issues</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680793682,"creation_date":1680793682,"answer_id":75951052,"question_id":4408858,"body_markdown":"I hope this information will be useful for you (this is a copy of my answer in this [thread](https://stackoverflow.com/a/75949972/19659058))\r\n\r\nBelow is an example of a multi-instance Spring Boot application that launches a cron job.  \r\nThe Job must be running on only one of the instances.  \r\nThe configuration of each instance must be the same.  \r\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.  \r\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.\r\n\r\n\r\n**We will use Quartz in cluster mode:**\r\n\r\nDeps:\r\n```groovy\r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\r\n```\r\n\r\nAt first, it is a bad idea to use Thread.sleep(600000) as said in this [answer](https://stackoverflow.com/a/4409263/19659058)  \r\n*Out job:*\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass SomeJob(\r\n    private val someService: SomeService\r\n) : QuartzJobBean() {\r\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\r\n    \r\n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\r\n        try {\r\n            log.info(&quot;Doing awesome work...&quot;)\r\n            someService.work()\r\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\r\n        } catch (e: Exception) {\r\n            throw JobExecutionException(e)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the Quartz configuration (more information [here](https://www.baeldung.com/spring-quartz-schedule)):\r\n```kotlin\r\n@Configuration\r\n@Profile(&quot;quartz&quot;)\r\nclass JobConfig {\r\n    //JobDetail for our job\r\n    @Bean\r\n    fun someJobDetail(): JobDetail {\r\n        return JobBuilder\r\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\r\n            .withDescription(&quot;Some job&quot;)\r\n            //If we want the job to be launched after the application instance crashes at the \r\n            //next launch\r\n            .requestRecovery(true)\r\n            .storeDurably().build()\r\n    }\r\n\r\n    //Trigger\r\n    @Bean\r\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\r\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\r\n            .withIdentity(&quot;SomeJobTrigger&quot;)\r\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 4 L-1 * ? *&quot;))\r\n            .build()\r\n\r\n    }\r\n\r\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\r\n    @Bean\r\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\r\n        factory.setWaitForJobsToCompleteOnShutdown(true)\r\n        val scheduler = factory.scheduler\r\n        factory.setOverwriteExistingJobs(true)\r\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\r\n        factory.setTransactionManager(JdbcTransactionManager())\r\n        rescheduleTriggers(triggers, scheduler)\r\n        scheduler.start()\r\n        return scheduler\r\n    }\r\n\r\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\r\n        triggers.forEach {\r\n            if (!scheduler.checkExists(it.key)) {\r\n                scheduler.scheduleJob(it)\r\n            } else {\r\n                scheduler.rescheduleJob(it.key, it)\r\n            }\r\n        }\r\n    }\r\n}\r\n    \r\n```\r\nAdd a listener to the scheduler:\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListenerConfig(\r\n    private val schedulerFactory: SchedulerFactoryBean,\r\n    private val jobListener: JobListener\r\n) {\r\n    @PostConstruct\r\n    fun addListener() {\r\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd now the most important - the logic of processing the execution of our job with listener:\r\n```kotlin\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListener(\r\n    //can be obtained from the execution context, but it can also be injected\r\n    private val scheduler: Scheduler,\r\n    private val triggers: List&lt;Trigger&gt;\r\n): JobListenerSupport() {\r\n\r\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\r\n\r\n    @PostConstruct\r\n    fun post(){\r\n        //there will be no recovery triggers , only our self-written ones\r\n        triggerCronMap = triggers.associate {\r\n            it.key.name to (it as CronTrigger).cronExpression\r\n        }\r\n    }\r\n\r\n    override fun getName(): String {\r\n        return &quot;myJobListener&quot;\r\n    }\r\n\r\n\r\n    override fun jobToBeExecuted(context: JobExecutionContext) {\r\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\r\n    }\r\n\r\n\r\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\r\n        //you can use context.mergedJobDataMap\r\n        val dataMap = context.trigger.jobDataMap\r\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\r\n            dataMap.putAsString(&quot;count&quot;, 1)\r\n            1\r\n        }\r\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\r\n        if (jobException != null ){\r\n            if (count &lt; 3) {\r\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\r\n                val oldTrigger = context.trigger\r\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\r\n                //in case such a trigger already exists\r\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\r\n                    .map { it.key.name }\r\n                    .takeIf { it.contains(newTriggerName) }\r\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\r\n                val newTrigger = TriggerBuilder.newTrigger()\r\n                    .forJob(context.jobDetail)\r\n                    .withIdentity(newTriggerName, context.trigger.key.group)\r\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\r\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\r\n                    .usingJobData(&quot;count&quot;, count + 1 )\r\n                    .build()\r\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\r\n                log.warn(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\r\n            } else {\r\n                log.warn(&quot;The maximum number of restarts has been reached. Restart attempts: $count&quot;)\r\n                recheduleWithDefaultTrigger(context)\r\n            }\r\n        } else if (count &gt; 1) {\r\n            recheduleWithDefaultTrigger(context)\r\n        }\r\n        else {\r\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\r\n        }\r\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\r\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\r\n        }\r\n    }\r\n\r\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\r\n        val clone = context.jobDetail.clone() as JobDetail\r\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\r\n        //Recovery triggers should not be rescheduled\r\n        if (!triggerCronMap.contains(defaultTriggerName)) {\r\n            log.warn(&quot;This trigger: ${context.trigger.key.name} for job: ${context.trigger.jobKey.name} is not self-written trigger. It can be recovery trigger or whatever. This trigger must not be recheduled.&quot;)\r\n            return\r\n        }\r\n        log.warn(&quot;Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: $defaultTriggerName&quot;)\r\n        scheduler.deleteJob(clone.key)\r\n        scheduler.addJob(clone, true)\r\n        scheduler.scheduleJob(\r\n            TriggerBuilder.newTrigger()\r\n                .forJob(clone)\r\n                .withIdentity(defaultTriggerName)\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\r\n                .usingJobData(&quot;count&quot;, 1)\r\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\r\n                .build()\r\n        )\r\n    }\r\n}\r\n```\r\nLast but not least: **application.yaml**\r\n```yaml\r\nspring:\r\n  quartz:\r\n    job-store-type: jdbc #Database Mode\r\n    jdbc:\r\n      initialize-schema: never #Do not initialize table structure\r\n    properties:\r\n      org:\r\n        quartz:\r\n          scheduler:\r\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\r\n            #instanceName: clusteredScheduler #quartzScheduler\r\n          jobStore:\r\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\r\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\r\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\r\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\r\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\r\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\r\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance&#39;checkin&#39;* with other instances of the cluster.Affects the speed of detecting failed instances.\r\n            isClustered: true #Turn on Clustering\r\n          threadPool: #Connection Pool\r\n            class: org.quartz.simpl.SimpleThreadPool\r\n            threadCount: 3\r\n            threadPriority: 1\r\n            threadsInheritContextClassLoaderOfInitializingThread: true\r\n```\r\n\r\n[Here](https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore) official scripts for database (use liquibase or flyway)      \r\nMore information:   \r\n[About quartz](https://www.baeldung.com/quartz)  \r\n[spring boot using quartz in cluster mode](https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9)  \r\n[One more article](https://habr.com/ru/companies/surfstudio/articles/685980)  \r\n[Cluster effectively quartz](https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191)","title":"Quartz retry when failure","body":"<p>I hope this information will be useful for you (this is a copy of my answer in this <a href=\"https://stackoverflow.com/a/75949972/19659058\">thread</a>)</p>\n<p>Below is an example of a multi-instance Spring Boot application that launches a cron job.<br />\nThe Job must be running on only one of the instances.<br />\nThe configuration of each instance must be the same.<br />\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.<br />\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.</p>\n<p><strong>We will use Quartz in cluster mode:</strong></p>\n<p>Deps:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\n</code></pre>\n<p>At first, it is a bad idea to use Thread.sleep(600000) as said in this <a href=\"https://stackoverflow.com/a/4409263/19659058\">answer</a><br />\n<em>Out job:</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass SomeJob(\n    private val someService: SomeService\n) : QuartzJobBean() {\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\n    \n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\n        try {\n            log.info(&quot;Doing awesome work...&quot;)\n            someService.work()\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\n        } catch (e: Exception) {\n            throw JobExecutionException(e)\n        }\n    }\n}\n</code></pre>\n<p>Here is the Quartz configuration (more information <a href=\"https://www.baeldung.com/spring-quartz-schedule\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@Profile(&quot;quartz&quot;)\nclass JobConfig {\n    //JobDetail for our job\n    @Bean\n    fun someJobDetail(): JobDetail {\n        return JobBuilder\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\n            .withDescription(&quot;Some job&quot;)\n            //If we want the job to be launched after the application instance crashes at the \n            //next launch\n            .requestRecovery(true)\n            .storeDurably().build()\n    }\n\n    //Trigger\n    @Bean\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\n            .withIdentity(&quot;SomeJobTrigger&quot;)\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 4 L-1 * ? *&quot;))\n            .build()\n\n    }\n\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\n    @Bean\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\n        factory.setWaitForJobsToCompleteOnShutdown(true)\n        val scheduler = factory.scheduler\n        factory.setOverwriteExistingJobs(true)\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\n        factory.setTransactionManager(JdbcTransactionManager())\n        rescheduleTriggers(triggers, scheduler)\n        scheduler.start()\n        return scheduler\n    }\n\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\n        triggers.forEach {\n            if (!scheduler.checkExists(it.key)) {\n                scheduler.scheduleJob(it)\n            } else {\n                scheduler.rescheduleJob(it.key, it)\n            }\n        }\n    }\n}\n    \n</code></pre>\n<p>Add a listener to the scheduler:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass JobListenerConfig(\n    private val schedulerFactory: SchedulerFactoryBean,\n    private val jobListener: JobListener\n) {\n    @PostConstruct\n    fun addListener() {\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\n    }\n}\n\n</code></pre>\n<p>And now the most important - the logic of processing the execution of our job with listener:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Profile(&quot;quartz&quot;)\nclass JobListener(\n    //can be obtained from the execution context, but it can also be injected\n    private val scheduler: Scheduler,\n    private val triggers: List&lt;Trigger&gt;\n): JobListenerSupport() {\n\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\n\n    @PostConstruct\n    fun post(){\n        //there will be no recovery triggers , only our self-written ones\n        triggerCronMap = triggers.associate {\n            it.key.name to (it as CronTrigger).cronExpression\n        }\n    }\n\n    override fun getName(): String {\n        return &quot;myJobListener&quot;\n    }\n\n\n    override fun jobToBeExecuted(context: JobExecutionContext) {\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\n    }\n\n\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\n        //you can use context.mergedJobDataMap\n        val dataMap = context.trigger.jobDataMap\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\n            dataMap.putAsString(&quot;count&quot;, 1)\n            1\n        }\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\n        if (jobException != null ){\n            if (count &lt; 3) {\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\n                val oldTrigger = context.trigger\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\n                //in case such a trigger already exists\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\n                    .map { it.key.name }\n                    .takeIf { it.contains(newTriggerName) }\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\n                val newTrigger = TriggerBuilder.newTrigger()\n                    .forJob(context.jobDetail)\n                    .withIdentity(newTriggerName, context.trigger.key.group)\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\n                    .usingJobData(&quot;count&quot;, count + 1 )\n                    .build()\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\n                log.warn(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\n            } else {\n                log.warn(&quot;The maximum number of restarts has been reached. Restart attempts: $count&quot;)\n                recheduleWithDefaultTrigger(context)\n            }\n        } else if (count &gt; 1) {\n            recheduleWithDefaultTrigger(context)\n        }\n        else {\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\n        }\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\n        }\n    }\n\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\n        val clone = context.jobDetail.clone() as JobDetail\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\n        //Recovery triggers should not be rescheduled\n        if (!triggerCronMap.contains(defaultTriggerName)) {\n            log.warn(&quot;This trigger: ${context.trigger.key.name} for job: ${context.trigger.jobKey.name} is not self-written trigger. It can be recovery trigger or whatever. This trigger must not be recheduled.&quot;)\n            return\n        }\n        log.warn(&quot;Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: $defaultTriggerName&quot;)\n        scheduler.deleteJob(clone.key)\n        scheduler.addJob(clone, true)\n        scheduler.scheduleJob(\n            TriggerBuilder.newTrigger()\n                .forJob(clone)\n                .withIdentity(defaultTriggerName)\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\n                .usingJobData(&quot;count&quot;, 1)\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\n                .build()\n        )\n    }\n}\n</code></pre>\n<p>Last but not least: <strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  quartz:\n    job-store-type: jdbc #Database Mode\n    jdbc:\n      initialize-schema: never #Do not initialize table structure\n    properties:\n      org:\n        quartz:\n          scheduler:\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\n            #instanceName: clusteredScheduler #quartzScheduler\n          jobStore:\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance'checkin'* with other instances of the cluster.Affects the speed of detecting failed instances.\n            isClustered: true #Turn on Clustering\n          threadPool: #Connection Pool\n            class: org.quartz.simpl.SimpleThreadPool\n            threadCount: 3\n            threadPriority: 1\n            threadsInheritContextClassLoaderOfInitializingThread: true\n</code></pre>\n<p><a href=\"https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">Here</a> official scripts for database (use liquibase or flyway)<br />\nMore information:<br />\n<a href=\"https://www.baeldung.com/quartz\" rel=\"nofollow noreferrer\">About quartz</a><br />\n<a href=\"https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9\" rel=\"nofollow noreferrer\">spring boot using quartz in cluster mode</a><br />\n<a href=\"https://habr.com/ru/companies/surfstudio/articles/685980\" rel=\"nofollow noreferrer\">One more article</a><br />\n<a href=\"https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191\" rel=\"nofollow noreferrer\">Cluster effectively quartz</a></p>\n"}],"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48238,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":4409263,"answer_count":4,"score":28,"last_activity_date":1680793682,"creation_date":1291984502,"question_id":4408858,"body_markdown":"Let&#39;s say I have a trigger configured this way:\r\n\r\n    &lt;bean id=&quot;updateInsBBTrigger&quot;         \r\n        class=&quot;org.springframework.scheduling.quartz.CronTriggerBean&quot;&gt;\r\n        &lt;property name=&quot;jobDetail&quot; ref=&quot;updateInsBBJobDetail&quot;/&gt;\r\n        &lt;!--  run every morning at 5 AM  --&gt;\r\n        &lt;property name=&quot;cronExpression&quot; value=&quot;0 0 5 * * ?&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n\r\nThe trigger have to connect with another application and if there is any problem (like a connection failure) it should to retry the task up to five times every 10 minutes or until success. There is any way to configure the trigger to work like this?\r\n","title":"Quartz retry when failure","body":"<p>Let's say I have a trigger configured this way:</p>\n\n<pre><code>&lt;bean id=\"updateInsBBTrigger\"         \n    class=\"org.springframework.scheduling.quartz.CronTriggerBean\"&gt;\n    &lt;property name=\"jobDetail\" ref=\"updateInsBBJobDetail\"/&gt;\n    &lt;!--  run every morning at 5 AM  --&gt;\n    &lt;property name=\"cronExpression\" value=\"0 0 5 * * ?\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>The trigger have to connect with another application and if there is any problem (like a connection failure) it should to retry the task up to five times every 10 minutes or until success. There is any way to configure the trigger to work like this?</p>\n"},{"tags":["java","security"],"comments":[{"owner":{"account_id":955054,"reputation":5629,"user_id":980520,"accept_rate":90,"display_name":"lynks"},"score":3,"creation_date":1335305488,"post_id":10306673,"comment_id":13265385,"body_markdown":"The best you can hope for is obfustication, if the program can read it, anyone with access to the files can too. That&#39;s not to say you cant make it damn hard to access.","body":"The best you can hope for is obfustication, if the program can read it, anyone with access to the files can too. That&#39;s not to say you cant make it damn hard to access."},{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":0,"creation_date":1335306046,"post_id":10306673,"comment_id":13265536,"body_markdown":"Encrypting it with a constant password that is kept in the code seems like a legit way of doing it if people looking over the admin&#39;s shoulder are the main threat.","body":"Encrypting it with a constant password that is kept in the code seems like a legit way of doing it if people looking over the admin&#39;s shoulder are the main threat."},{"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1335306122,"post_id":10306673,"comment_id":13265549,"body_markdown":"How many people access the database? Don&#39;t they need a password for the core database access? Why should you store a second one/ this one?","body":"How many people access the database? Don&#39;t they need a password for the core database access? Why should you store a second one/ this one?"},{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":0,"creation_date":1335306232,"post_id":10306673,"comment_id":13265575,"body_markdown":"@userunknown, obviously the Java application needs its own username and password for accessing the database. These are kept in the properties file, like the original poster explained.","body":"@userunknown, obviously the Java application needs its own username and password for accessing the database. These are kept in the properties file, like the original poster explained."},{"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1335306603,"post_id":10306673,"comment_id":13265671,"body_markdown":"@ZeroOne: For databases I use, I have an account, and the application just forwards my login information to the database, which grants me privileges or not. Manipulation of a front end program seems to me very risky.","body":"@ZeroOne: For databases I use, I have an account, and the application just forwards my login information to the database, which grants me privileges or not. Manipulation of a front end program seems to me very risky."},{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":0,"creation_date":1335307227,"post_id":10306673,"comment_id":13265824,"body_markdown":"@userunknown Think of a web application like Stack Overflow. The application needs to access a database, but your login credentials to the web site certainly won&#39;t let you in into that database that powers the site. The application has its own database credentials.","body":"@userunknown Think of a web application like Stack Overflow. The application needs to access a database, but your login credentials to the web site certainly won&#39;t let you in into that database that powers the site. The application has its own database credentials."},{"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1335307700,"post_id":10306673,"comment_id":13265933,"body_markdown":"@ZeroOne: `Java application` isn&#39;t a web-application, is it? Maybe it is, but then it is poorly specified.","body":"@ZeroOne: <code>Java application</code> isn&#39;t a web-application, is it? Maybe it is, but then it is poorly specified."},{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":0,"creation_date":1335307894,"post_id":10306673,"comment_id":13265980,"body_markdown":"@userunknown Yeah, I just noticed that I just assumed it was. That&#39;s because that&#39;s the only reason I could think of why anyone would want to save a database password into a properties file. Otherwise it should be done just like you already said.","body":"@userunknown Yeah, I just noticed that I just assumed it was. That&#39;s because that&#39;s the only reason I could think of why anyone would want to save a database password into a properties file. Otherwise it should be done just like you already said."},{"owner":{"account_id":54172,"reputation":3040,"user_id":162056,"accept_rate":79,"display_name":"daramasala"},"score":0,"creation_date":1335772811,"post_id":10306673,"comment_id":13382013,"body_markdown":"Thanks for all the comments. So, I wonder, if all I can do is obfuscate then I can just encode it in Base64, no? This way it is hard to tell what is the password by looking at it and yet I don&#39;t need to use encryption/decryption which seem an overkill given the fact the password is not really secured.","body":"Thanks for all the comments. So, I wonder, if all I can do is obfuscate then I can just encode it in Base64, no? This way it is hard to tell what is the password by looking at it and yet I don&#39;t need to use encryption/decryption which seem an overkill given the fact the password is not really secured."},{"owner":{"account_id":360377,"reputation":465,"user_id":702345,"display_name":"Harald Brabenetz"},"score":2,"creation_date":1478023689,"post_id":10306673,"comment_id":67985280,"body_markdown":"I created an opensource-library: http://secured-properties.brabenetz.net/   Please let me know what you think about it.","body":"I created an opensource-library: <a href=\"http://secured-properties.brabenetz.net/\" rel=\"nofollow noreferrer\">secured-properties.brabenetz.net</a>   Please let me know what you think about it."}],"answers":[{"comments":[{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":18,"creation_date":1335325818,"post_id":10307724,"comment_id":13268991,"body_markdown":"So, basically, now password is hard-coded in the program?","body":"So, basically, now password is hard-coded in the program?"},{"owner":{"account_id":8112,"reputation":64602,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":13,"creation_date":1335350929,"post_id":10307724,"comment_id":13276193,"body_markdown":"The &quot;password&quot; that you see in the example is used to perform the encryption/decryption of the values. In this example it is hard-coded, but it could be retrieved from anywhere(e.g. environment variable). However, the property value(s) that you don&#39;t want to be stored plain-text are **encrypted** and then decrypted when read through the `getProperty()` method. It is basically a layer of obvuscation, but does address the issue of shoulder surfing and casual access to sensitive data at rest.","body":"The &quot;password&quot; that you see in the example is used to perform the encryption/decryption of the values. In this example it is hard-coded, but it could be retrieved from anywhere(e.g. environment variable). However, the property value(s) that you don&#39;t want to be stored plain-text are <b>encrypted</b> and then decrypted when read through the <code>getProperty()</code> method. It is basically a layer of obvuscation, but does address the issue of shoulder surfing and casual access to sensitive data at rest."},{"owner":{"account_id":54172,"reputation":3040,"user_id":162056,"accept_rate":79,"display_name":"daramasala"},"score":1,"creation_date":1335772973,"post_id":10307724,"comment_id":13382051,"body_markdown":"@MadsHansen Thanks for the info. I don&#39;t think I&#39;ll use it for this project (already too far into code freeze...) but I will certainly remember it for next version/project.","body":"@MadsHansen Thanks for the info. I don&#39;t think I&#39;ll use it for this project (already too far into code freeze...) but I will certainly remember it for next version/project."},{"owner":{"account_id":1081793,"reputation":343,"user_id":1078571,"display_name":"Kedron"},"score":0,"creation_date":1415695258,"post_id":10307724,"comment_id":42281999,"body_markdown":"@MadsHansen How should I encrypt the password into encrypted code like ENC(G6N718UuyPE5bHyWKyuLQSm02auQPUtm) ?","body":"@MadsHansen How should I encrypt the password into encrypted code like ENC(G6N718UuyPE5bHyWKyuLQSm02auQPUtm) ?"},{"owner":{"account_id":1074366,"reputation":732,"user_id":1072826,"accept_rate":45,"display_name":"gladiator"},"score":1,"creation_date":1417175510,"post_id":10307724,"comment_id":42862527,"body_markdown":"@Kedron u can do this like\nStandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();\n\n        encryptor.setPassword(&quot;abhinav&quot;);\n        String encryptedPassword = encryptor.encrypt(&quot;abc@123&quot;);\n        System.out.println(encryptedPassword);\n        if (&quot;abc@123&quot;.equals(encryptor.decrypt(encryptedPassword))) {\n          System.out.println(&quot;Success&quot;);\n        } else {\n          System.out.println(&quot;Failure&quot;);\n        }","body":"@Kedron u can do this like StandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();          encryptor.setPassword(&quot;abhinav&quot;);         String encryptedPassword = encryptor.encrypt(&quot;abc@123&quot;);         System.out.println(encryptedPassword);         if (&quot;abc@123&quot;.equals(encryptor.decrypt(encryptedPassword))) {           System.out.println(&quot;Success&quot;);         } else {           System.out.println(&quot;Failure&quot;);         }"},{"owner":{"account_id":189206,"reputation":6121,"user_id":428400,"accept_rate":83,"display_name":"Glenn Bech"},"score":0,"creation_date":1441187103,"post_id":10307724,"comment_id":52572801,"body_markdown":"For just a couple of properties this is overkill. Just read the sensitive parts  from System.getProperties() and provide them with -D on the command line when you start your Java process.\n\nThe problem with shell history and over the shoulder peeking is just as serious if you provide the Encryptors password on the command line.","body":"For just a couple of properties this is overkill. Just read the sensitive parts  from System.getProperties() and provide them with -D on the command line when you start your Java process.  The problem with shell history and over the shoulder peeking is just as serious if you provide the Encryptors password on the command line."},{"owner":{"account_id":2409035,"reputation":1992,"user_id":2104638,"accept_rate":47,"display_name":"Pasupathi Rajamanickam"},"score":2,"creation_date":1499912060,"post_id":10307724,"comment_id":77113689,"body_markdown":"Is there a way to secure &quot;password&quot; ? :D","body":"Is there a way to secure &quot;password&quot; ? :D"},{"owner":{"account_id":6512308,"reputation":186,"user_id":5039145,"accept_rate":10,"display_name":"Rohit"},"score":0,"creation_date":1524143284,"post_id":10307724,"comment_id":86859471,"body_markdown":"How is it going to work with SpringBoot? In SpringBoot, we directly user the properties value instead of using FileInputStream.. Kindly suggest.","body":"How is it going to work with SpringBoot? In SpringBoot, we directly user the properties value instead of using FileInputStream.. Kindly suggest."},{"owner":{"account_id":8112,"reputation":64602,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":1,"creation_date":1524148002,"post_id":10307724,"comment_id":86862893,"body_markdown":"@Rohit - take a look at https://github.com/ulisesbocchio/jasypt-spring-boot to see what they have done, and if you might be able to leverage","body":"@Rohit - take a look at <a href=\"https://github.com/ulisesbocchio/jasypt-spring-boot\" rel=\"nofollow noreferrer\">github.com/ulisesbocchio/jasypt-spring-boot</a> to see what they have done, and if you might be able to leverage"}],"tags":[],"owner":{"account_id":8112,"reputation":64602,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"comment_count":9,"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1335317513,"creation_date":1335312658,"answer_id":10307724,"question_id":10306673,"body_markdown":"[![enter image description here][1]][2] \r\n==\r\n**Jasypt provides the [org.jasypt.properties.EncryptableProperties][3] class for loading, managing and transparently decrypting encrypted values in .properties files, allowing the mix of both encrypted and not-encrypted values in the same file.**\r\n\r\nhttp://www.jasypt.org/encrypting-configuration.html\r\n\r\n&gt; By using an org.jasypt.properties.EncryptableProperties object, an\r\n&gt; application would be able to correctly read and use a .properties file\r\n&gt; like this:\r\n \r\n    datasource.driver=com.mysql.jdbc.Driver \r\n    datasource.url=jdbc:mysql://localhost/reportsdb \r\n    datasource.username=reportsUser \r\n    datasource.password=ENC(G6N718UuyPE5bHyWKyuLQSm02auQPUtm) \r\n\r\n&gt; Note that\r\n&gt; the database password is encrypted (in fact, any other property could\r\n&gt; also be encrypted, be it related with database configuration or not).\r\n&gt; \r\n&gt; How do we read this value? like this:\r\n\r\n    /*\r\n    * First, create (or ask some other component for) the adequate encryptor for   \r\n    * decrypting the values in our .properties file.   \r\n    */  \r\n    StandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();     \r\n    encryptor.setPassword(&quot;jasypt&quot;); // could be got from web, env variable...    \r\n    /*   \r\n    * Create our EncryptableProperties object and load it the usual way.   \r\n    */  \r\n    Properties props = new EncryptableProperties(encryptor);  \r\n    props.load(new FileInputStream(&quot;/path/to/my/configuration.properties&quot;));\r\n    \r\n    /*   \r\n    * To get a non-encrypted value, we just get it with getProperty...   \r\n    */  \r\n    String datasourceUsername = props.getProperty(&quot;datasource.username&quot;);\r\n    \r\n    /*   \r\n    * ...and to get an encrypted value, we do exactly the same. Decryption will   \r\n    * be transparently performed behind the scenes.   \r\n    */ \r\n    String datasourcePassword = props.getProperty(&quot;datasource.password&quot;);\r\n    \r\n     // From now on, datasourcePassword equals &quot;reports_passwd&quot;...\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oEt2m.png\r\n  [2]: http://www.jasypt.org\r\n  [3]: http://www.jasypt.org/api/jasypt/1.8/org/jasypt/properties/EncryptableProperties.html","title":"Securing a password in a properties file","body":"<h1><a href=\"http://www.jasypt.org\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oEt2m.png\" alt=\"enter image description here\"></a></h1>\n\n<p><strong>Jasypt provides the <a href=\"http://www.jasypt.org/api/jasypt/1.8/org/jasypt/properties/EncryptableProperties.html\" rel=\"noreferrer\">org.jasypt.properties.EncryptableProperties</a> class for loading, managing and transparently decrypting encrypted values in .properties files, allowing the mix of both encrypted and not-encrypted values in the same file.</strong></p>\n\n<p><a href=\"http://www.jasypt.org/encrypting-configuration.html\" rel=\"noreferrer\">http://www.jasypt.org/encrypting-configuration.html</a></p>\n\n<blockquote>\n  <p>By using an org.jasypt.properties.EncryptableProperties object, an\n  application would be able to correctly read and use a .properties file\n  like this:</p>\n</blockquote>\n\n<pre><code>datasource.driver=com.mysql.jdbc.Driver \ndatasource.url=jdbc:mysql://localhost/reportsdb \ndatasource.username=reportsUser \ndatasource.password=ENC(G6N718UuyPE5bHyWKyuLQSm02auQPUtm) \n</code></pre>\n\n<blockquote>\n  <p>Note that\n  the database password is encrypted (in fact, any other property could\n  also be encrypted, be it related with database configuration or not).</p>\n  \n  <p>How do we read this value? like this:</p>\n</blockquote>\n\n<pre><code>/*\n* First, create (or ask some other component for) the adequate encryptor for   \n* decrypting the values in our .properties file.   \n*/  \nStandardPBEStringEncryptor encryptor = new StandardPBEStringEncryptor();     \nencryptor.setPassword(\"jasypt\"); // could be got from web, env variable...    \n/*   \n* Create our EncryptableProperties object and load it the usual way.   \n*/  \nProperties props = new EncryptableProperties(encryptor);  \nprops.load(new FileInputStream(\"/path/to/my/configuration.properties\"));\n\n/*   \n* To get a non-encrypted value, we just get it with getProperty...   \n*/  \nString datasourceUsername = props.getProperty(\"datasource.username\");\n\n/*   \n* ...and to get an encrypted value, we do exactly the same. Decryption will   \n* be transparently performed behind the scenes.   \n*/ \nString datasourcePassword = props.getProperty(\"datasource.password\");\n\n // From now on, datasourcePassword equals \"reports_passwd\"...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"score":2,"creation_date":1512125202,"post_id":26501842,"comment_id":82140371,"body_markdown":"This might not be secure. Providing credentials via command line is not generally recommended due to OS logging. An intruder will just open the source file -&gt; read half of the password, then type `history` in command line and voila!","body":"This might not be secure. Providing credentials via command line is not generally recommended due to OS logging. An intruder will just open the source file -&gt; read half of the password, then type <code>history</code> in command line and voila!"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1535383719,"post_id":26501842,"comment_id":91035875,"body_markdown":"This is &quot;better&quot;, but I agree with commenter K.C.........it can still be found-out with a lot of perseverance.","body":"This is &quot;better&quot;, but I agree with commenter K.C.........it can still be found-out with a lot of perseverance."}],"tags":[],"owner":{"account_id":5168716,"reputation":137,"user_id":4137960,"display_name":"Abelgo Japan"},"comment_count":2,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1413961635,"creation_date":1413960814,"answer_id":26501842,"question_id":10306673,"body_markdown":"The poor mans compromise solution is to use a simplistic multi signature approach.\r\n\r\nFor Example the DBA sets the applications database password to a 50 character random string. \r\n**TAKqWskc4ncvKaJTyDcgAHq82X7tX6GfK2fc386bmNw3muknjU**\r\n\r\nHe or she give half the password to the application developer who then hard codes it into the java binary.\r\n\r\n**private String pass1 = &quot;TAKqWskc4ncvKaJTyDcgAHq82&quot;**\r\n\r\nThe other half of the password is passed as a command line argument. the DBA gives pass2 to the system support or admin person who either enters it a application start time or puts it into the automated application start up script.\r\n\r\njava -jar /myapplication.jar  -pass2 X7tX6GfK2fc386bmNw3muknjU\r\n\r\nWhen the application starts it uses pass1 + pass2 and connects to the database. \r\n\r\nThis solution has many advantages with out the downfalls mentioned.\r\n\r\nYou can safely put half the password in a command line arguments as reading it wont help you much unless you are the developer who has the other half of the password.\r\n\r\nThe DBA can also still change the second half of the password and the developer need not have to re-deploy the application. \r\n\r\nThe source code can also be semi public as reading it and the password will not give you application access.  \r\n\r\nYou can further improve the situation by adding restrictions on the IP address ranges the database will accept connections from. \r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n ","title":"Securing a password in a properties file","body":"<p>The poor mans compromise solution is to use a simplistic multi signature approach.</p>\n\n<p>For Example the DBA sets the applications database password to a 50 character random string. \n<strong>TAKqWskc4ncvKaJTyDcgAHq82X7tX6GfK2fc386bmNw3muknjU</strong></p>\n\n<p>He or she give half the password to the application developer who then hard codes it into the java binary.</p>\n\n<p><strong>private String pass1 = \"TAKqWskc4ncvKaJTyDcgAHq82\"</strong></p>\n\n<p>The other half of the password is passed as a command line argument. the DBA gives pass2 to the system support or admin person who either enters it a application start time or puts it into the automated application start up script.</p>\n\n<p>java -jar /myapplication.jar  -pass2 X7tX6GfK2fc386bmNw3muknjU</p>\n\n<p>When the application starts it uses pass1 + pass2 and connects to the database. </p>\n\n<p>This solution has many advantages with out the downfalls mentioned.</p>\n\n<p>You can safely put half the password in a command line arguments as reading it wont help you much unless you are the developer who has the other half of the password.</p>\n\n<p>The DBA can also still change the second half of the password and the developer need not have to re-deploy the application. </p>\n\n<p>The source code can also be semi public as reading it and the password will not give you application access.  </p>\n\n<p>You can further improve the situation by adding restrictions on the IP address ranges the database will accept connections from. </p>\n"},{"tags":[],"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1490021669,"creation_date":1450700933,"answer_id":34395731,"question_id":10306673,"body_markdown":"What about providing a custom N-Factor authentication mechanism?\r\n\r\nBefore combining available methods, let&#39;s assume we can perform the following:\r\n\r\n1) Hard-code inside the Java program\r\n\r\n2) Store in a .properties file\r\n\r\n3) Ask user to type password from command line\r\n\r\n4) Ask user to type password from a form\r\n\r\n5) Ask user to load a password-file from command line or a form\r\n\r\n6) Provide the password through network\r\n\r\n7) many alternatives (eg Draw A Secret, Fingerprint, IP-specific, bla bla bla)\r\n\r\n**1st option:** We could make things more complicated for an attacker by using obfuscation, but this is not considered a good countermeasure. A good coder can easily understand how it works if he/she can access the file. We could even export a per-user binary (or just the obfuscation part or key-part), so an attacker must have access to this user-specific file, not another distro.\r\nAgain, we should find a way to change passwords, eg by recompiling or using reflection to on-the-fly change class behavior.\r\n\r\n**2nd option:** We can store the password in the .properties file in an encrypted format, so it&#39;s not directly visible from an attacker (just like [jasypt][1] does). If we need a password manager we&#39;ll need a master password too which again should be stored somewhere - inside a .class file, the keystore, kernel, another file or even in memory - all have their pros and cons.  \r\nBut, now users will just edit the .properties file for password change.\r\n\r\n**3rd option:** type the password when running from command line e.g. `java -jar /myprogram.jar -p sdflhjkiweHIUHIU8976hyd`.\r\n\r\nThis doesn&#39;t require the password to be stored and will stay in memory. However, `history` commands and OS logs, may be your worst enemy here.\r\nTo change passwords on-the-fly, you will need to implement some methods (eg listen for console inputs, RMI, sockets, REST bla bla bla), but the password will always stay in memory.\r\n\r\nOne can even temporarily decrypt it only when required -&gt; then delete the decrypted, but always keep the encrypted password in memory. Unfortunately, the aforementioned method does not increase security against unauthorized in-memory access, because the person who achieves that, will probably have access to the algorithm, salt and any other secrets being used.\r\n\r\n**4th option:** provide the password from a custom form, rather than the command line. This will circumvent the problem of logging exposure.\r\n\r\n**5th option:** provide a file as a password stored previously on a another medium -&gt; then hard delete file. This will again circumvent the problem of logging exposure, plus no typing is required that could be shoulder-surfing stolen. When a change is required, provide another file, then delete again. \r\n\r\n**6th option:** again to avoid shoulder-surfing, one can implement an RMI method call, to provide the password (through an encrypted channel) from another device, eg via a mobile phone. However, you now need to protect your network channel and access to the other device.\r\n\r\nI would choose a combination of the above methods to achieve maximum security so one would have to access the .class files, the property file, logs, network channel, shoulder surfing, man in the middle, other files bla bla bla. This can be easily implemented using a XOR operation between all sub_passwords to produce the actual password.\r\n\r\nWe can&#39;t be protected from unauthorized in-memory access though, this can only be achieved by using some access-restricted hardware (eg smartcards, HSMs, SGX), where everything is computed into them, without anyone, even the legitimate owner being able to access decryption keys or algorithms. Again, one can steal this hardware too, there are reported [side-channel attacks][2] that may help attackers in key extraction and in some cases you need to trust another party (eg with SGX you trust Intel). Of course, situation may worsen when secure-enclave cloning (de-assembling) will be possible, but I guess this will take some years to be practical.\r\n\r\nAlso, one may consider a key sharing solution where the full key is split between different servers. However, upon reconstruction, the full key can be stolen. The only way to mitigate the aforementioned issue is by [secure multiparty computation][3].\r\n\r\nWe should always keep in mind that whatever the input method, we need to ensure we are not vulnerable from network sniffing (MITM attacks) and/or key-loggers.\r\n\r\n  [1]: http://www.jasypt.org/\r\n  [2]: https://www.theregister.co.uk/2017/03/07/eggheads_slip_a_note_under_intels_door_sgx_can_leak_crypto_keys/\r\n  [3]: https://crypto.stackexchange.com/questions/41470/how-to-securely-compute-aes-where-the-key-is-splitted-across-different-servers","title":"Securing a password in a properties file","body":"<p>What about providing a custom N-Factor authentication mechanism?</p>\n\n<p>Before combining available methods, let's assume we can perform the following:</p>\n\n<p>1) Hard-code inside the Java program</p>\n\n<p>2) Store in a .properties file</p>\n\n<p>3) Ask user to type password from command line</p>\n\n<p>4) Ask user to type password from a form</p>\n\n<p>5) Ask user to load a password-file from command line or a form</p>\n\n<p>6) Provide the password through network</p>\n\n<p>7) many alternatives (eg Draw A Secret, Fingerprint, IP-specific, bla bla bla)</p>\n\n<p><strong>1st option:</strong> We could make things more complicated for an attacker by using obfuscation, but this is not considered a good countermeasure. A good coder can easily understand how it works if he/she can access the file. We could even export a per-user binary (or just the obfuscation part or key-part), so an attacker must have access to this user-specific file, not another distro.\nAgain, we should find a way to change passwords, eg by recompiling or using reflection to on-the-fly change class behavior.</p>\n\n<p><strong>2nd option:</strong> We can store the password in the .properties file in an encrypted format, so it's not directly visible from an attacker (just like <a href=\"http://www.jasypt.org/\" rel=\"noreferrer\">jasypt</a> does). If we need a password manager we'll need a master password too which again should be stored somewhere - inside a .class file, the keystore, kernel, another file or even in memory - all have their pros and cons.<br>\nBut, now users will just edit the .properties file for password change.</p>\n\n<p><strong>3rd option:</strong> type the password when running from command line e.g. <code>java -jar /myprogram.jar -p sdflhjkiweHIUHIU8976hyd</code>.</p>\n\n<p>This doesn't require the password to be stored and will stay in memory. However, <code>history</code> commands and OS logs, may be your worst enemy here.\nTo change passwords on-the-fly, you will need to implement some methods (eg listen for console inputs, RMI, sockets, REST bla bla bla), but the password will always stay in memory.</p>\n\n<p>One can even temporarily decrypt it only when required -> then delete the decrypted, but always keep the encrypted password in memory. Unfortunately, the aforementioned method does not increase security against unauthorized in-memory access, because the person who achieves that, will probably have access to the algorithm, salt and any other secrets being used.</p>\n\n<p><strong>4th option:</strong> provide the password from a custom form, rather than the command line. This will circumvent the problem of logging exposure.</p>\n\n<p><strong>5th option:</strong> provide a file as a password stored previously on a another medium -> then hard delete file. This will again circumvent the problem of logging exposure, plus no typing is required that could be shoulder-surfing stolen. When a change is required, provide another file, then delete again. </p>\n\n<p><strong>6th option:</strong> again to avoid shoulder-surfing, one can implement an RMI method call, to provide the password (through an encrypted channel) from another device, eg via a mobile phone. However, you now need to protect your network channel and access to the other device.</p>\n\n<p>I would choose a combination of the above methods to achieve maximum security so one would have to access the .class files, the property file, logs, network channel, shoulder surfing, man in the middle, other files bla bla bla. This can be easily implemented using a XOR operation between all sub_passwords to produce the actual password.</p>\n\n<p>We can't be protected from unauthorized in-memory access though, this can only be achieved by using some access-restricted hardware (eg smartcards, HSMs, SGX), where everything is computed into them, without anyone, even the legitimate owner being able to access decryption keys or algorithms. Again, one can steal this hardware too, there are reported <a href=\"https://www.theregister.co.uk/2017/03/07/eggheads_slip_a_note_under_intels_door_sgx_can_leak_crypto_keys/\" rel=\"noreferrer\">side-channel attacks</a> that may help attackers in key extraction and in some cases you need to trust another party (eg with SGX you trust Intel). Of course, situation may worsen when secure-enclave cloning (de-assembling) will be possible, but I guess this will take some years to be practical.</p>\n\n<p>Also, one may consider a key sharing solution where the full key is split between different servers. However, upon reconstruction, the full key can be stolen. The only way to mitigate the aforementioned issue is by <a href=\"https://crypto.stackexchange.com/questions/41470/how-to-securely-compute-aes-where-the-key-is-splitted-across-different-servers\">secure multiparty computation</a>.</p>\n\n<p>We should always keep in mind that whatever the input method, we need to ensure we are not vulnerable from network sniffing (MITM attacks) and/or key-loggers.</p>\n"},{"tags":[],"owner":{"account_id":1686882,"reputation":1183,"user_id":1549977,"accept_rate":86,"display_name":"Benjamin Marwell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680793397,"creation_date":1465551438,"answer_id":37744873,"question_id":10306673,"body_markdown":"Actually, this is a duplicate of https://stackoverflow.com/questions/1132567/encrypt-password-in-configuration-files.\r\n\r\nThe best solution I found so far is in this answer: https://stackoverflow.com/a/1133815/1549977\r\n\r\nPros: Password is saved a a char array, not as a string. It&#39;s still not good, but better than anything else.","title":"Securing a password in a properties file","body":"<p>Actually, this is a duplicate of <a href=\"https://stackoverflow.com/questions/1132567/encrypt-password-in-configuration-files\">Encrypt password in configuration files</a>.</p>\n<p>The best solution I found so far is in this answer: <a href=\"https://stackoverflow.com/a/1133815/1549977\">https://stackoverflow.com/a/1133815/1549977</a></p>\n<p>Pros: Password is saved a a char array, not as a string. It's still not good, but better than anything else.</p>\n"}],"owner":{"account_id":54172,"reputation":3040,"user_id":162056,"accept_rate":79,"display_name":"daramasala"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167142,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"closed_date":1505764126,"accepted_answer_id":10307724,"answer_count":4,"score":76,"last_activity_date":1680793397,"creation_date":1335304892,"question_id":10306673,"body_markdown":"I have a java application that connects to a database.  \r\nThe user name and password for the database are stored in a properties file.  \r\nWhat is the common practice to avoid storing the password in cleartext in the properties file while still retaining the option to let the user change it?  \r\nThe main motivation here is to prevent someone looking over the admin&#39;s shoulder and seeing the password while the admin is editing the properties file.  \r\nI read [here](https://stackoverflow.com/q/4155187/162056) that there&#39;s a built in way to do it in C#.  \r\nKnowing java, I don&#39;t expect to find a built in solution but I&#39;d like to hear what other people are doing.  \r\nIf I don&#39;t find any good choice then I am probably going to encrypt it with a constant password that will be kept in the code. But I&#39;d hate to do it this way because it feels wrong.\r\n\r\n**Edit Dec 12th 2012**\r\nLooks like there is no magic and I must store the password in the code or something similar.\r\nAt the end we implemented something very similar to what Jasypt that was mentioned in one of the answers does.\r\nSo I&#39;m accepting the Jasypt answer because it is the closest thing to a definite answer.","title":"Securing a password in a properties file","body":"<p>I have a java application that connects to a database.<br>\nThe user name and password for the database are stored in a properties file.<br>\nWhat is the common practice to avoid storing the password in cleartext in the properties file while still retaining the option to let the user change it?<br>\nThe main motivation here is to prevent someone looking over the admin's shoulder and seeing the password while the admin is editing the properties file.<br>\nI read <a href=\"https://stackoverflow.com/q/4155187/162056\">here</a> that there's a built in way to do it in C#.<br>\nKnowing java, I don't expect to find a built in solution but I'd like to hear what other people are doing.<br>\nIf I don't find any good choice then I am probably going to encrypt it with a constant password that will be kept in the code. But I'd hate to do it this way because it feels wrong.</p>\n\n<p><strong>Edit Dec 12th 2012</strong>\nLooks like there is no magic and I must store the password in the code or something similar.\nAt the end we implemented something very similar to what Jasypt that was mentioned in one of the answers does.\nSo I'm accepting the Jasypt answer because it is the closest thing to a definite answer.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":413650,"reputation":1002,"user_id":787418,"accept_rate":56,"display_name":"csyperski"},"score":0,"creation_date":1584989135,"post_id":60819378,"comment_id":107606110,"body_markdown":"You need to provide more information like Spring boot version, Java version, the command you are attempting to run, any output you do get.  There really isn&#39;t enough information to assist you in your question.","body":"You need to provide more information like Spring boot version, Java version, the command you are attempting to run, any output you do get.  There really isn&#39;t enough information to assist you in your question."}],"answers":[{"comments":[{"owner":{"account_id":1038659,"reputation":581,"user_id":1045199,"accept_rate":100,"display_name":"Daniele Ricci"},"score":1,"creation_date":1685093475,"post_id":60819391,"comment_id":134616418,"body_markdown":"Now it shows the exception! Why and how is Spring suppressing it??","body":"Now it shows the exception! Why and how is Spring suppressing it??"}],"tags":[],"owner":{"account_id":3993086,"reputation":91,"user_id":3291361,"display_name":"user3291361"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1584987405,"creation_date":1584987405,"answer_id":60819391,"question_id":60819378,"body_markdown":"    public static void main(String[] args) {\r\n            try {\r\n                SpringApplication app = new SpringApplication(YourClass.class);\r\n                app.run(args);\r\n            } catch(Throwable ex) {\r\n                ex.printStackTrace();\r\n            }\r\n    }\r\n\r\nWith this, I was able to see the full error in the logs. Hope this helps.","title":"Process finished with exit code 1 Spring Boot Intellij no other logs","body":"<pre><code>public static void main(String[] args) {\n        try {\n            SpringApplication app = new SpringApplication(YourClass.class);\n            app.run(args);\n        } catch(Throwable ex) {\n            ex.printStackTrace();\n        }\n}\n</code></pre>\n\n<p>With this, I was able to see the full error in the logs. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":9240537,"reputation":147,"user_id":6863958,"display_name":"Jos&#233;-Alberto Gilberte Le&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680791955,"creation_date":1680791955,"answer_id":75950799,"question_id":60819378,"body_markdown":"If you have an application.yml with bad syntax, you can obtain the error. Review your application.yml or put the code above to have more information about the exception.","title":"Process finished with exit code 1 Spring Boot Intellij no other logs","body":"<p>If you have an application.yml with bad syntax, you can obtain the error. Review your application.yml or put the code above to have more information about the exception.</p>\n"}],"owner":{"account_id":3993086,"reputation":91,"user_id":3291361,"display_name":"user3291361"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4239,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680791955,"creation_date":1584987382,"question_id":60819378,"body_markdown":"I see no logs in my console\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java...\r\n\r\nProcess finished with exit code 1","title":"Process finished with exit code 1 Spring Boot Intellij no other logs","body":"<p>I see no logs in my console\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java...</p>\n\n<p>Process finished with exit code 1</p>\n"},{"tags":["java","android","telephony"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1680802761,"post_id":75950777,"comment_id":133963192,"body_markdown":"[There is no official way to do this](https://stackoverflow.com/a/10678019/16653700).","body":"<a href=\"https://stackoverflow.com/a/10678019/16653700\">There is no official way to do this</a>."}],"owner":{"account_id":5600321,"reputation":322,"user_id":4447899,"accept_rate":50,"display_name":"user4447899"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680791845,"creation_date":1680791845,"question_id":75950777,"body_markdown":"I am starting a call in android java using an intent \r\nIntent callIntent = new Intent(Intent.ACTION_CALL);\r\n\r\nHow can I programmatically end this call","title":"how can I programmatically end a call in android java which was started with an intent","body":"<p>I am starting a call in android java using an intent\nIntent callIntent = new Intent(Intent.ACTION_CALL);</p>\n<p>How can I programmatically end this call</p>\n"},{"tags":["java","generics","treeset"],"answers":[{"comments":[{"owner":{"account_id":876126,"reputation":348,"user_id":925735,"accept_rate":50,"display_name":"uscjeremy"},"score":2,"creation_date":1355560303,"post_id":13890563,"comment_id":19136443,"body_markdown":"Thank you - this makes perfect sense.  In fact, I note that Google&#39;s Guava library has a [TreeMultiSet](http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/TreeMultiset.html#create(java.util.Comparator)) class which is designed just as you describe - with two factories, one of which requires the generic extend Comparable, and one of which takes an appropriately typed Comparator.  I guess they decided to fix the design &quot;bug&quot; to bring more checks out to compile time.","body":"Thank you - this makes perfect sense.  In fact, I note that Google&#39;s Guava library has a <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/TreeMultiset.html#create(java.util.Comparator)\" rel=\"nofollow noreferrer\">TreeMultiSet</a> class which is designed just as you describe - with two factories, one of which requires the generic extend Comparable, and one of which takes an appropriately typed Comparator.  I guess they decided to fix the design &quot;bug&quot; to bring more checks out to compile time."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":2,"creation_date":1355560583,"post_id":13890563,"comment_id":19136495,"body_markdown":"Yeah, it&#39;s especially troublesome that `TreeSet` can&#39;t fail until you actually `put` an element that doesn&#39;t work, thanks to type erasure. Luckily it&#39;s at least a &quot;fool me once&quot; kind of failure, but still annoying not to catch it at compile time.","body":"Yeah, it&#39;s especially troublesome that <code>TreeSet</code> can&#39;t fail until you actually <code>put</code> an element that doesn&#39;t work, thanks to type erasure. Luckily it&#39;s at least a &quot;fool me once&quot; kind of failure, but still annoying not to catch it at compile time."},{"owner":{"account_id":876126,"reputation":348,"user_id":925735,"accept_rate":50,"display_name":"uscjeremy"},"score":3,"creation_date":1355561101,"post_id":13890563,"comment_id":19136562,"body_markdown":"I think it&#39;s actually worse -- if I had a bunch of subclasses of `Foo`, and only some of them implemented Comparable, `add` won&#39;t throw an exception until one of the non-Comparables is finally inserted.  Who knows when that will finally happen?  This is a frustrating design choice: I use Java over dynamically typed languages partly to get away from the chaos of not having type checking until every code path has executed!","body":"I think it&#39;s actually worse -- if I had a bunch of subclasses of <code>Foo</code>, and only some of them implemented Comparable, <code>add</code> won&#39;t throw an exception until one of the non-Comparables is finally inserted.  Who knows when that will finally happen?  This is a frustrating design choice: I use Java over dynamically typed languages partly to get away from the chaos of not having type checking until every code path has executed!"},{"owner":{"account_id":8198758,"reputation":388,"user_id":6170705,"display_name":"Sreehari S"},"score":0,"creation_date":1531824668,"post_id":13890563,"comment_id":89730473,"body_markdown":"But why does the *Collection.sort(list)* method has such a compile time check? For the single argument function, compiler shows error when my class is not implementing *Comparable*.","body":"But why does the <i>Collection.sort(list)</i> method has such a compile time check? For the single argument function, compiler shows error when my class is not implementing <i>Comparable</i>."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1531837963,"post_id":13890563,"comment_id":89739971,"body_markdown":"@SreehariS Because that method is specific to elements that are Comparable, rather than being in a dual-role like `TreeSet` (Comparable elements, or has-Comparator).","body":"@SreehariS Because that method is specific to elements that are Comparable, rather than being in a dual-role like <code>TreeSet</code> (Comparable elements, or has-Comparator)."},{"owner":{"account_id":8198758,"reputation":388,"user_id":6170705,"display_name":"Sreehari S"},"score":0,"creation_date":1531907092,"post_id":13890563,"comment_id":89768368,"body_markdown":"@PaulBellora For *Collections.sort()* also, it can have a dual role as in *public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)* , right?","body":"@PaulBellora For <i>Collections.sort()</i> also, it can have a dual role as in <i>public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)</i> , right?"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":1,"creation_date":1531949934,"post_id":13890563,"comment_id":89794244,"body_markdown":"@SreehariS That&#39;s a separate method that declares different type constraints. `TreeSet` is a single type that must declare one set of type constraints for both scenarios.","body":"@SreehariS That&#39;s a separate method that declares different type constraints. <code>TreeSet</code> is a single type that must declare one set of type constraints for both scenarios."}],"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"comment_count":7,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1522368159,"creation_date":1355559547,"answer_id":13890563,"question_id":13890542,"body_markdown":"`TreeSet` is implemented that way because you can [alternatively provide][1] a [`Comparator`][2], in which case the elements don&#39;t need to be [`Comparable`][3]. The only way to support both behaviors without splitting the implementation into multiple classes was to include runtime checks - this was simply a design decision by the author(s) of that class.\r\n\r\nExposing factory methods for `TreeSet` instead of public constructors would&#39;ve been a way to maintain compile time checks using stricter generic type constraints, but that would&#39;ve been a break from the core collections API&#39;s convention of exposing public no-arg and copy constructors for its implementation classes. As you noted in your comment, [Guava][4] goes the factory route with its collections and IMHO is better off for it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html#TreeSet-java.util.Comparator-\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\r\n  [4]: https://github.com/google/guava","title":"Creating a TreeSet with a non-Comparable class: why a run-time exception, rather than compile-time error?","body":"<p><code>TreeSet</code> is implemented that way because you can <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html#TreeSet-java.util.Comparator-\" rel=\"noreferrer\">alternatively provide</a> a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a>, in which case the elements don't need to be <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"noreferrer\"><code>Comparable</code></a>. The only way to support both behaviors without splitting the implementation into multiple classes was to include runtime checks - this was simply a design decision by the author(s) of that class.</p>\n\n<p>Exposing factory methods for <code>TreeSet</code> instead of public constructors would've been a way to maintain compile time checks using stricter generic type constraints, but that would've been a break from the core collections API's convention of exposing public no-arg and copy constructors for its implementation classes. As you noted in your comment, <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> goes the factory route with its collections and IMHO is better off for it.</p>\n"},{"tags":[],"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680791794,"creation_date":1680791794,"answer_id":75950772,"question_id":13890542,"body_markdown":"You can make a type-safe wrapper for TreeSet:\r\n```\r\npublic class TypeSafeTreeSet&lt;T extends Comparable&lt;? super T&gt;&gt; extends TreeSet&lt;T&gt; {\r\n}\r\n```","title":"Creating a TreeSet with a non-Comparable class: why a run-time exception, rather than compile-time error?","body":"<p>You can make a type-safe wrapper for TreeSet:</p>\n<pre><code>public class TypeSafeTreeSet&lt;T extends Comparable&lt;? super T&gt;&gt; extends TreeSet&lt;T&gt; {\n}\n</code></pre>\n"}],"owner":{"account_id":876126,"reputation":348,"user_id":925735,"accept_rate":50,"display_name":"uscjeremy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5453,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":13890563,"answer_count":2,"score":16,"last_activity_date":1680791794,"creation_date":1355559354,"question_id":13890542,"body_markdown":"If I create an arbitrary class that does not implement Comparable, and try to use it as a treeset, it throws an exception at run time when an object is inserted:\r\n\r\n    public class Foo {\r\n    }\r\n\r\n    public TreeSet&lt;Foo&gt; fooSet = new TreeSet&lt;Foo&gt;();\r\n    fooSet.add(new Foo()); // Throws a ClassCastException exception here: Foo is not comparable\r\n\r\nI&#39;m no Java expert, but something about this seemed dynamically typed (ala Python) in a way I wasn&#39;t expecting.  Is there no way for TreeSet&#39;s implementation to specify that its generic type argument must implement Comparable so that this can be caught at compile-time?  Non-generic functions can take interfaces as arguments; is the same not possible with generics?\r\n","title":"Creating a TreeSet with a non-Comparable class: why a run-time exception, rather than compile-time error?","body":"<p>If I create an arbitrary class that does not implement Comparable, and try to use it as a treeset, it throws an exception at run time when an object is inserted:</p>\n\n<pre><code>public class Foo {\n}\n\npublic TreeSet&lt;Foo&gt; fooSet = new TreeSet&lt;Foo&gt;();\nfooSet.add(new Foo()); // Throws a ClassCastException exception here: Foo is not comparable\n</code></pre>\n\n<p>I'm no Java expert, but something about this seemed dynamically typed (ala Python) in a way I wasn't expecting.  Is there no way for TreeSet's implementation to specify that its generic type argument must implement Comparable so that this can be caught at compile-time?  Non-generic functions can take interfaces as arguments; is the same not possible with generics?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","firebase-storage"],"comments":[{"owner":{"account_id":8964121,"reputation":12195,"user_id":6740698,"display_name":"Xenolion"},"score":0,"creation_date":1596910974,"post_id":63318634,"comment_id":111965452,"body_markdown":"you real have a lot of problems in the code: onSuccess method does not do anything there. First: you have made a map but you have added PICK_IMAGE_REQUEST which is just an integer &quot;71&quot;. Second. The app that you have made you have not used it all. You need a lot of code fix first.","body":"you real have a lot of problems in the code: onSuccess method does not do anything there. First: you have made a map but you have added PICK_IMAGE_REQUEST which is just an integer &quot;71&quot;. Second. The app that you have made you have not used it all. You need a lot of code fix first."}],"answers":[{"comments":[{"owner":{"display_name":"user14054849"},"score":0,"creation_date":1596910745,"post_id":63318790,"comment_id":111965394,"body_markdown":"thanks, but how is your two sentence line an answer?","body":"thanks, but how is your two sentence line an answer?"},{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1596911008,"post_id":63318790,"comment_id":111965461,"body_markdown":"All I&#39;m saying is that you never actually wrote a document in your code.  You will need to figure out what you want to write to the document and code that up.  I don&#39;t know what exactly you&#39;re trying to write.  The documentation should help you formulate the object to pass to set() that will do what you want.","body":"All I&#39;m saying is that you never actually wrote a document in your code.  You will need to figure out what you want to write to the document and code that up.  I don&#39;t know what exactly you&#39;re trying to write.  The documentation should help you formulate the object to pass to set() that will do what you want."}],"tags":[],"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596910492,"creation_date":1596910492,"answer_id":63318790,"question_id":63318634,"body_markdown":"Your code doesn&#39;t actually write anything to the DocumentReference you created.  You will need a call to `set()`:\r\n\r\n```\r\nDocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\r\ndocumentReference.set(...)\r\n```\r\n\r\nYou will need to pass an object or Map to set to tell it what to store in the document, as illustrated in the [documentation][1].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/manage-data/add-data#set_a_document","title":"How to insert image URL into firestore database after uploading an image in android studio?","body":"<p>Your code doesn't actually write anything to the DocumentReference you created.  You will need a call to <code>set()</code>:</p>\n<pre><code>DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\ndocumentReference.set(...)\n</code></pre>\n<p>You will need to pass an object or Map to set to tell it what to store in the document, as illustrated in the <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#set_a_document\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"},{"comments":[{"owner":{"display_name":"user14054849"},"score":1,"creation_date":1596912048,"post_id":63318878,"comment_id":111965737,"body_markdown":"amazing answer, but it is still not inserting the downloaded url into the database. any ideas why?","body":"amazing answer, but it is still not inserting the downloaded url into the database. any ideas why?"},{"owner":{"account_id":10751207,"reputation":84,"user_id":7910598,"display_name":"Oscar Alejandro Alvarez"},"score":0,"creation_date":1596912295,"post_id":63318878,"comment_id":111965805,"body_markdown":"If you does not have your user document already created you need to use the method .set(), the method .update() only works if the field &quot;profileImage&quot; already exist.","body":"If you does not have your user document already created you need to use the method .set(), the method .update() only works if the field &quot;profileImage&quot; already exist."},{"owner":{"display_name":"user14054849"},"score":2,"creation_date":1596912748,"post_id":63318878,"comment_id":111965914,"body_markdown":"it worked now  thank you, i just had to convert downloadUri into string.","body":"it worked now  thank you, i just had to convert downloadUri into string."}],"tags":[],"owner":{"account_id":10751207,"reputation":84,"user_id":7910598,"display_name":"Oscar Alejandro Alvarez"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1596911076,"creation_date":1596911076,"answer_id":63318878,"question_id":63318634,"body_markdown":"The file path cannot be used like that, as a reference to download an image. Instead you need to get a download url that is provided by firebase, change your code like this:\r\n\r\n   \r\n\r\n     StorageReference ref = storageReference.child(&quot;Users Profile/&quot; + UUID.randomUUID().toString());\r\n            UploadTask uploadTask = ref.putFile(filePath);\r\n    \r\n            Task&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n                @Override\r\n                public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n                    if (task.isSuccessful()) {\r\n                        //here the upload of the image finish\r\n                    }\r\n    \r\n                    // Continue the task to get a download url\r\n                    return ref.getDownloadUrl();\r\n                }\r\n            }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        Uri downloadUri = task.getResult(); //this is the download url that you need to pass to your database\r\n                        //Pass the url to your reference\r\n                        UID = fAuth.getCurrentUser().getUid();\r\n                        DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\r\n    documentReference.update(&quot;profileImage&quot;, downloadUri);\r\n                        Toast.makeText(ProfileActivity.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        / Handle failures\r\n                        // ...\r\n                    }\r\n                }\r\n            });\r\nYou can see in more detail here: https://firebase.google.com/docs/storage/android/upload-files#java_1","title":"How to insert image URL into firestore database after uploading an image in android studio?","body":"<p>The file path cannot be used like that, as a reference to download an image. Instead you need to get a download url that is provided by firebase, change your code like this:</p>\n<pre><code> StorageReference ref = storageReference.child(&quot;Users Profile/&quot; + UUID.randomUUID().toString());\n        UploadTask uploadTask = ref.putFile(filePath);\n\n        Task&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n            @Override\n            public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n                if (task.isSuccessful()) {\n                    //here the upload of the image finish\n                }\n\n                // Continue the task to get a download url\n                return ref.getDownloadUrl();\n            }\n        }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                if (task.isSuccessful()) {\n                    Uri downloadUri = task.getResult(); //this is the download url that you need to pass to your database\n                    //Pass the url to your reference\n                    UID = fAuth.getCurrentUser().getUid();\n                    DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\ndocumentReference.update(&quot;profileImage&quot;, downloadUri);\n                    Toast.makeText(ProfileActivity.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    / Handle failures\n                    // ...\n                }\n            }\n        });\n</code></pre>\n<p>You can see in more detail here: <a href=\"https://firebase.google.com/docs/storage/android/upload-files#java_1\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/storage/android/upload-files#java_1</a></p>\n"},{"tags":[],"owner":{"account_id":19806851,"reputation":1,"user_id":14506622,"display_name":"parth tagalpallewar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680791458,"creation_date":1680454635,"answer_id":75913411,"question_id":63318634,"body_markdown":"```\r\nstorageRef.child(path).getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n        @Override\r\n        public void onSuccess(Uri uri) {\r\n            Glide.with(getApplicationContext()).load(uri.toString()).into(img);\r\n        }\r\n    });\r\n```","title":"How to insert image URL into firestore database after uploading an image in android studio?","body":"<pre><code>storageRef.child(path).getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n        @Override\n        public void onSuccess(Uri uri) {\n            Glide.with(getApplicationContext()).load(uri.toString()).into(img);\n        }\n    });\n</code></pre>\n"}],"owner":{"display_name":"user14054849"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63318878,"answer_count":3,"score":0,"last_activity_date":1680791458,"creation_date":1596909521,"question_id":63318634,"body_markdown":"I created an upload image functionality in my app. The image uploads and shows for the user and returns &quot;uploaded&quot; upon success. \r\n\r\nNow when the user closes the app and opens again it wont show the image because it is not stored in his unique database file in the field of profileImage.\r\n\r\nI am storing the image in the storage datastore.\r\n\r\nI want to store the same image url that is  being stored in the storage to be in the current users field in the database.\r\n\r\nBut the code I&#39;ve written still doesn&#39;t insert the required value of the image url.\r\n\r\nHere is my code so far:\r\n\r\n\r\n    FirebaseFirestore fStore;\r\n    FirebaseStorage storage;\r\n    StorageReference storageReference;\r\n    \r\n    FirebaseAuth fAuth;\r\n    String UID;\r\n    private Uri filePath;\r\n    private final int PICK_IMAGE_REQUEST = 71;\r\n    \r\n    \r\n    fAuth = FirebaseAuth.getInstance();\r\n    fStore = FirebaseFirestore.getInstance();\r\n    storage = FirebaseStorage.getInstance();\r\n    storageReference = storage.getReference();\r\n    \r\n    \r\n    \r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_profile);\r\n    \r\n        userImage = findViewById(R.id.profile_userImg);\r\n    \r\n        userImage.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP_MR1)\r\n            @Override\r\n            public void onClick(View view) {\r\n                chooseImage();\r\n            }\r\n        });\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP_MR1)\r\n    private void chooseImage() {\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(Intent.createChooser(intent, &quot;Choose a Profile Image&quot;), PICK_IMAGE_REQUEST);\r\n    }\r\n    \r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @androidx.annotation.Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n    \r\n            filePath = data.getData();\r\n            try {\r\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\r\n                userImage.setImageBitmap(bitmap);\r\n                if (filePath != null) {\r\n                    StorageReference ref = storageReference.child(&quot;Users Profile/&quot; + UUID.randomUUID().toString());\r\n                    ref.putFile(filePath).addOnSuccessListener(new OnSuccessListener &lt; UploadTask.TaskSnapshot &gt; () {\r\n                        @Override\r\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                            UID = fAuth.getCurrentUser().getUid();\r\n                            DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\r\n                            Map &lt; String, Object &gt; user = new HashMap &lt; &gt; ();\r\n                            user.put(&quot;profileImage&quot;, PICK_IMAGE_REQUEST);\r\n                            Toast.makeText(ProfileActivity.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(ProfileActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n    \r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to insert image URL into firestore database after uploading an image in android studio?","body":"<p>I created an upload image functionality in my app. The image uploads and shows for the user and returns &quot;uploaded&quot; upon success.</p>\n<p>Now when the user closes the app and opens again it wont show the image because it is not stored in his unique database file in the field of profileImage.</p>\n<p>I am storing the image in the storage datastore.</p>\n<p>I want to store the same image url that is  being stored in the storage to be in the current users field in the database.</p>\n<p>But the code I've written still doesn't insert the required value of the image url.</p>\n<p>Here is my code so far:</p>\n<pre><code>FirebaseFirestore fStore;\nFirebaseStorage storage;\nStorageReference storageReference;\n\nFirebaseAuth fAuth;\nString UID;\nprivate Uri filePath;\nprivate final int PICK_IMAGE_REQUEST = 71;\n\n\nfAuth = FirebaseAuth.getInstance();\nfStore = FirebaseFirestore.getInstance();\nstorage = FirebaseStorage.getInstance();\nstorageReference = storage.getReference();\n\n\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_profile);\n\n    userImage = findViewById(R.id.profile_userImg);\n\n    userImage.setOnClickListener(new View.OnClickListener() {\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP_MR1)\n        @Override\n        public void onClick(View view) {\n            chooseImage();\n        }\n    });\n\n}\n\n\n\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP_MR1)\nprivate void chooseImage() {\n    Intent intent = new Intent();\n    intent.setType(&quot;image/*&quot;);\n    intent.setAction(Intent.ACTION_GET_CONTENT);\n    startActivityForResult(Intent.createChooser(intent, &quot;Choose a Profile Image&quot;), PICK_IMAGE_REQUEST);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @androidx.annotation.Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n\n        filePath = data.getData();\n        try {\n            Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\n            userImage.setImageBitmap(bitmap);\n            if (filePath != null) {\n                StorageReference ref = storageReference.child(&quot;Users Profile/&quot; + UUID.randomUUID().toString());\n                ref.putFile(filePath).addOnSuccessListener(new OnSuccessListener &lt; UploadTask.TaskSnapshot &gt; () {\n                    @Override\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                        UID = fAuth.getCurrentUser().getUid();\n                        DocumentReference documentReference = fStore.collection(&quot;users&quot;).document(UID);\n                        Map &lt; String, Object &gt; user = new HashMap &lt; &gt; ();\n                        user.put(&quot;profileImage&quot;, PICK_IMAGE_REQUEST);\n                        Toast.makeText(ProfileActivity.this, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(ProfileActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":474317,"reputation":45,"user_id":883922,"display_name":"wtomko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680791093,"creation_date":1680787626,"question_id":75950097,"body_markdown":"Hibernate is trying to guess FieldBridge when column is not indexed.\r\n\r\nI have entity A with such filed.\r\n\r\n```\r\n@Embedded\r\n@AttributeOverrides(@AttributeOverride(name = &quot;value&quot;, column = @Column(name = &quot;TYPE&quot;)))\r\nprivate TypeValue type;\r\n\r\n```\r\n\r\n`TypeValue identificationType` is a `ValueObject`\r\n\r\n```\r\n@Embeddable\r\npublic class TypeValue {\r\n    private String value;\r\n\r\n\r\n\tpublic TypeValue () {\r\n\t}\r\n\r\n\tpublic TypeValue (String value) {\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\tpublic String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value =  value;\r\n    }\r\n}\r\n```\r\n\r\nFor some reason I got this error:\r\nHSEARCH000135: Unable to guess FieldBridge for type...\r\n\r\nHibernateVersion: 5.6.3.Final\r\n\r\n\r\n\r\n   ","title":"Got HSEARCH000135: Unable to guess FieldBridge","body":"<p>Hibernate is trying to guess FieldBridge when column is not indexed.</p>\n<p>I have entity A with such filed.</p>\n<pre><code>@Embedded\n@AttributeOverrides(@AttributeOverride(name = &quot;value&quot;, column = @Column(name = &quot;TYPE&quot;)))\nprivate TypeValue type;\n\n</code></pre>\n<p><code>TypeValue identificationType</code> is a <code>ValueObject</code></p>\n<pre><code>@Embeddable\npublic class TypeValue {\n    private String value;\n\n\n    public TypeValue () {\n    }\n\n    public TypeValue (String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value =  value;\n    }\n}\n</code></pre>\n<p>For some reason I got this error:\nHSEARCH000135: Unable to guess FieldBridge for type...</p>\n<p>HibernateVersion: 5.6.3.Final</p>\n"},{"tags":["java","weblogic12c"],"comments":[{"owner":{"account_id":23904234,"reputation":1928,"user_id":17902018,"display_name":"rikyeah"},"score":0,"creation_date":1645004881,"post_id":71002773,"comment_id":125752948,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1678451217,"post_id":71002773,"comment_id":133539485,"body_markdown":"Does this answer your question? [The server is invalid. Error occurred reading server credential. If the domain was recreated, the server instance in Eclipse must also be recreated](https://stackoverflow.com/questions/75279875/the-server-is-invalid-error-occurred-reading-server-credential-if-the-domain-w)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75279875/the-server-is-invalid-error-occurred-reading-server-credential-if-the-domain-w\">The server is invalid. Error occurred reading server credential. If the domain was recreated, the server instance in Eclipse must also be recreated</a>"}],"answers":[{"tags":[],"owner":{"account_id":7684903,"reputation":401,"user_id":5823051,"display_name":"Hector Gardu&#241;o Real"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648681077,"creation_date":1648681077,"answer_id":71685035,"question_id":71002773,"body_markdown":"Try using Eclipse OEPE version https://www.oracle.com/tools/downloads/oepe-v12219-downloads.html","title":"Can&#39;t add weblogic 14.1.1.0. server to eclipse","body":"<p>Try using Eclipse OEPE version <a href=\"https://www.oracle.com/tools/downloads/oepe-v12219-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/tools/downloads/oepe-v12219-downloads.html</a></p>\n"},{"tags":[],"owner":{"account_id":4431952,"reputation":13,"user_id":3608908,"display_name":"Leonardo Leite de Melo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680791069,"creation_date":1680791069,"answer_id":75950651,"question_id":71002773,"body_markdown":"I&#39;ve fixed it changing the JDK used by eclipse at eclipse.ini setting a SDK 11 and commenting -Dosgi.requiredJavaVersion=17.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gy0rb.png","title":"Can&#39;t add weblogic 14.1.1.0. server to eclipse","body":"<p>I've fixed it changing the JDK used by eclipse at eclipse.ini setting a SDK 11 and commenting -Dosgi.requiredJavaVersion=17.</p>\n<p><a href=\"https://i.stack.imgur.com/gy0rb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gy0rb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5777090,"reputation":1,"user_id":4616103,"display_name":"Leo lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680791069,"creation_date":1644100719,"question_id":71002773,"body_markdown":"I am trying to integrate eclipse 2021-12 as Oracle WebLogic Server 14.1.1.0. Both are installed and working perfectly separately. When trying to integrate and add a new weblogic server I get the message: \r\n\r\n&gt; The server is invalid. Error occurred reading server credential. If the domain was recreated, the server instance in Eclipse must also be recreated. Required classpath for credential detection is missing. Detection is disabled.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vAb69.png","title":"Can&#39;t add weblogic 14.1.1.0. server to eclipse","body":"<p>I am trying to integrate eclipse 2021-12 as Oracle WebLogic Server 14.1.1.0. Both are installed and working perfectly separately. When trying to integrate and add a new weblogic server I get the message:</p>\n<blockquote>\n<p>The server is invalid. Error occurred reading server credential. If the domain was recreated, the server instance in Eclipse must also be recreated. Required classpath for credential detection is missing. Detection is disabled.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/vAb69.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vAb69.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","methods","naming-conventions"],"comments":[{"owner":{"account_id":14116,"reputation":39820,"user_id":28760,"accept_rate":93,"display_name":"Kiril"},"score":1,"creation_date":1314036016,"post_id":7151418,"comment_id":8578650,"body_markdown":"In my opinion the naming convention is not a &quot;law,&quot; so while you should try to start the method name with a verb, I don&#39;t see a reason why you can&#39;t start it with a noun if it&#39;s descriptive enough (`movingAverage` is quite descriptive). Don&#39;t forget that while people these days don&#39;t really complain about long method names, I&#39;d take `movingAverage` over `computeMovingAverage` any day. BTW, I can&#39;t think of a verb that&#39;s not generic, even more so when it comes to programming.","body":"In my opinion the naming convention is not a &quot;law,&quot; so while you should try to start the method name with a verb, I don&#39;t see a reason why you can&#39;t start it with a noun if it&#39;s descriptive enough (<code>movingAverage</code> is quite descriptive). Don&#39;t forget that while people these days don&#39;t really complain about long method names, I&#39;d take <code>movingAverage</code> over <code>computeMovingAverage</code> any day. BTW, I can&#39;t think of a verb that&#39;s not generic, even more so when it comes to programming."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":1,"creation_date":1314036297,"post_id":7151418,"comment_id":8578751,"body_markdown":"even the native java methods don&#39;t follow blindly the &#39;first word is a verb&#39; convention. for instance `Collection#size()`, `Collection#toArray()`. I&#39;d say feel free to use `movingAverage()` if you feel it is clear enough [and no one might think it means something else].","body":"even the native java methods don&#39;t follow blindly the &#39;first word is a verb&#39; convention. for instance <code>Collection#size()</code>, <code>Collection#toArray()</code>. I&#39;d say feel free to use <code>movingAverage()</code> if you feel it is clear enough [and no one might think it means something else]."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1314045270,"post_id":7151418,"comment_id":8581216,"body_markdown":"@amit The standard Java library is not a good example, it is highly inconsistent - for example some classes have a `length()` method, others have a `getLength()` method, some even have getter and setter methods with the same name (for example `ByteBuffer.position()` to get the position and `ByteBuffer.position(int)` to set the position - I&#39;d discourage you to name your methods like this!).","body":"@amit The standard Java library is not a good example, it is highly inconsistent - for example some classes have a <code>length()</code> method, others have a <code>getLength()</code> method, some even have getter and setter methods with the same name (for example <code>ByteBuffer.position()</code> to get the position and <code>ByteBuffer.position(int)</code> to set the position - I&#39;d discourage you to name your methods like this!)."},{"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":4,"creation_date":1314046709,"post_id":7151418,"comment_id":8581641,"body_markdown":"@Link There is still useful information in the verb. computeMovingAverage would be used when you have to do the (possibly long) work of the calculation - getMovingAverage would imply merely retrieving the already-calculated value.","body":"@Link There is still useful information in the verb. computeMovingAverage would be used when you have to do the (possibly long) work of the calculation - getMovingAverage would imply merely retrieving the already-calculated value."},{"owner":{"account_id":260473,"reputation":48258,"user_id":544050,"accept_rate":95,"display_name":"PengOne"},"score":0,"creation_date":1314048479,"post_id":7151418,"comment_id":8582091,"body_markdown":"@DJClayworth That&#39;s a really good point. Combining that with Evan&#39;s verb summary gives me a great guideline. Thanks.","body":"@DJClayworth That&#39;s a really good point. Combining that with Evan&#39;s verb summary gives me a great guideline. Thanks."}],"answers":[{"comments":[{"owner":{"account_id":1258272,"reputation":1198,"user_id":1217253,"accept_rate":45,"display_name":"Jan Koester"},"score":2,"creation_date":1406204273,"post_id":7151581,"comment_id":38745013,"body_markdown":"In addition, if my method sets a property on an object i like to name the method populateWith[PropertyName]() instead of set[PropertyName] because set/get should only be used for getters and setters","body":"In addition, if my method sets a property on an object i like to name the method populateWith[PropertyName]() instead of set[PropertyName] because set/get should only be used for getters and setters"},{"owner":{"account_id":373119,"reputation":3318,"user_id":722553,"display_name":"Dawngerpony"},"score":2,"creation_date":1433946936,"post_id":7151581,"comment_id":49571855,"body_markdown":"Nice answer! Additionally, I like the verb **generate** for calculating that are less mathematical than those implied by the verb &quot;calculate&quot;, such as the generation of a URL from a template.","body":"Nice answer! Additionally, I like the verb <b>generate</b> for calculating that are less mathematical than those implied by the verb &quot;calculate&quot;, such as the generation of a URL from a template."},{"owner":{"account_id":120445,"reputation":18614,"user_id":312896,"accept_rate":74,"display_name":"Yola"},"score":3,"creation_date":1502781288,"post_id":7151581,"comment_id":78333783,"body_markdown":"Why *calculate* and not *compute*?","body":"Why <i>calculate</i> and not <i>compute</i>?"},{"owner":{"account_id":223869,"reputation":54820,"user_id":483349,"accept_rate":67,"display_name":"Evan Mulawski"},"score":0,"creation_date":1502801648,"post_id":7151581,"comment_id":78344226,"body_markdown":"@Yola: Those are just examples. Ideally, you (or your team) would decide on which verbs to use and when.","body":"@Yola: Those are just examples. Ideally, you (or your team) would decide on which verbs to use and when."},{"owner":{"account_id":5415144,"reputation":4187,"user_id":4310487,"accept_rate":50,"display_name":"light"},"score":0,"creation_date":1550711367,"post_id":7151581,"comment_id":96372993,"body_markdown":"In an OOP setting, prefixes like _calculate_ or _compute_ are actually superfluous. You should just use _get_ as a prefix for all methods that return values, regardless of whether there is computation involved or not.\n\nOf course, some may prefer other verbs to _get_. Anything is fine, as long as there is consistency. For example, if an Employee class has _getName()_, I would expect that it has a similarly named method _getPay()_. It would be frustrating to see _calculatePay()_ or _computePay()_. Or _retrieveGender()_. Just be consistent and name them _getName()_, _getGender(), _getPay()_.","body":"In an OOP setting, prefixes like <i>calculate</i> or <i>compute</i> are actually superfluous. You should just use <i>get</i> as a prefix for all methods that return values, regardless of whether there is computation involved or not.  Of course, some may prefer other verbs to <i>get</i>. Anything is fine, as long as there is consistency. For example, if an Employee class has <i>getName()</i>, I would expect that it has a similarly named method <i>getPay()</i>. It would be frustrating to see <i>calculatePay()</i> or <i>computePay()</i>. Or <i>retrieveGender()</i>. Just be consistent and name them <i>getName()</i>, <i>getGender(), _getPay()</i>."},{"owner":{"account_id":223869,"reputation":54820,"user_id":483349,"accept_rate":67,"display_name":"Evan Mulawski"},"score":1,"creation_date":1550762163,"post_id":7151581,"comment_id":96397459,"body_markdown":"@light imo, the `get` prefix implies a lightweight operation, unlike `calculate`, etc. which imply a &quot;larger&quot; amount of work.","body":"@light imo, the <code>get</code> prefix implies a lightweight operation, unlike <code>calculate</code>, etc. which imply a &quot;larger&quot; amount of work."},{"owner":{"account_id":5415144,"reputation":4187,"user_id":4310487,"accept_rate":50,"display_name":"light"},"score":1,"creation_date":1550798334,"post_id":7151581,"comment_id":96413102,"body_markdown":"I understand where you are coming from. But in an OOP context, with proper encapsulation principles, there is no need for people calling the method to know whether it is lightweight or not.\n\nFurthermore, as I explained, too many different prefixes results in inconsistency, at least from the point of view of other programmers consuming your API.","body":"I understand where you are coming from. But in an OOP context, with proper encapsulation principles, there is no need for people calling the method to know whether it is lightweight or not.  Furthermore, as I explained, too many different prefixes results in inconsistency, at least from the point of view of other programmers consuming your API."},{"owner":{"account_id":3916649,"reputation":387,"user_id":3240320,"display_name":"Bryn"},"score":0,"creation_date":1551703273,"post_id":7151581,"comment_id":96724761,"body_markdown":"This is a good answer on how to choose name for get cases https://stackoverflow.com/a/2141846/3240320","body":"This is a good answer on how to choose name for get cases <a href=\"https://stackoverflow.com/a/2141846/3240320\">stackoverflow.com/a/2141846/3240320</a>"},{"owner":{"account_id":83658,"reputation":1362,"user_id":234391,"accept_rate":57,"display_name":"Cornel Masson"},"score":0,"creation_date":1561118136,"post_id":7151581,"comment_id":99969201,"body_markdown":"Another alternative to &quot;compute&quot; or &quot;calculate&quot;, in some contexts, is _&quot;derive&quot;_.","body":"Another alternative to &quot;compute&quot; or &quot;calculate&quot;, in some contexts, is <i>&quot;derive&quot;</i>."},{"owner":{"account_id":8917701,"reputation":619,"user_id":6655648,"display_name":"Pablo H"},"score":0,"creation_date":1565614986,"post_id":7151581,"comment_id":101396757,"body_markdown":"@light Why should I not know whether a method is expensive (resource-intensive)?","body":"@light Why should I not know whether a method is expensive (resource-intensive)?"},{"owner":{"account_id":5415144,"reputation":4187,"user_id":4310487,"accept_rate":50,"display_name":"light"},"score":0,"creation_date":1565624282,"post_id":7151581,"comment_id":101401824,"body_markdown":"@PabloH because of encapsulation. The point of OOP is to hide implementation details within objects, and expose only an API to other parts of the program. What outsiders see is only the method name, not how it is done, or how expensive it is. Also, &quot;expensive&quot; is relative. Where do we draw a line to say that a method should be prefixed `compute` instead of `get`? What about `calculate` vs `compute`? Or `tally`? Do we use time complexity? What happens if we refactor in the future and the method runs much faster but behaves exactly the same otherwise? Do we change our API?","body":"@PabloH because of encapsulation. The point of OOP is to hide implementation details within objects, and expose only an API to other parts of the program. What outsiders see is only the method name, not how it is done, or how expensive it is. Also, &quot;expensive&quot; is relative. Where do we draw a line to say that a method should be prefixed <code>compute</code> instead of <code>get</code>? What about <code>calculate</code> vs <code>compute</code>? Or <code>tally</code>? Do we use time complexity? What happens if we refactor in the future and the method runs much faster but behaves exactly the same otherwise? Do we change our API?"},{"owner":{"account_id":5415144,"reputation":4187,"user_id":4310487,"accept_rate":50,"display_name":"light"},"score":0,"creation_date":1565624700,"post_id":7151581,"comment_id":101402041,"body_markdown":"Just for you to think about: let&#39;s say I am creating a Linked List data structure. And I have the usual `getHead()` method. I want to provide a method for users of my API to get items from the other end as well, so I add a `computeTail()` method, because... you know, in my implementation, I had to traverse the LinkedList all the way from the head to reach the tail. I also have `calculateSize()` method, because you know... I did a increment-as-I-traverse operation in order to return the size. Would you think my API is better than one that says `getHead()`, `getTail()`, `getSize()`?","body":"Just for you to think about: let&#39;s say I am creating a Linked List data structure. And I have the usual <code>getHead()</code> method. I want to provide a method for users of my API to get items from the other end as well, so I add a <code>computeTail()</code> method, because... you know, in my implementation, I had to traverse the LinkedList all the way from the head to reach the tail. I also have <code>calculateSize()</code> method, because you know... I did a increment-as-I-traverse operation in order to return the size. Would you think my API is better than one that says <code>getHead()</code>, <code>getTail()</code>, <code>getSize()</code>?"},{"owner":{"account_id":5546480,"reputation":348,"user_id":4400978,"accept_rate":0,"display_name":"Tukaram Bhosale"},"score":0,"creation_date":1612894558,"post_id":7151581,"comment_id":116906669,"body_markdown":"What if my method stores something in dB and return the data. Shall I call it storeAndGetdata()","body":"What if my method stores something in dB and return the data. Shall I call it storeAndGetdata()"},{"owner":{"account_id":223869,"reputation":54820,"user_id":483349,"accept_rate":67,"display_name":"Evan Mulawski"},"score":0,"creation_date":1613158699,"post_id":7151581,"comment_id":116999766,"body_markdown":"@TukaramBhosale you can let the return value speak in that scenario and just call it `store`, `storeData`, etc.","body":"@TukaramBhosale you can let the return value speak in that scenario and just call it <code>store</code>, <code>storeData</code>, etc."}],"tags":[],"owner":{"account_id":223869,"reputation":54820,"user_id":483349,"accept_rate":67,"display_name":"Evan Mulawski"},"comment_count":14,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1495655900,"creation_date":1314036297,"answer_id":7151581,"question_id":7151418,"body_markdown":"I usually ask myself:\r\n\r\n*What is this method doing?*\r\n\r\nThe answer dictates what the method should be called. It is completely independent of the programmer, of course.\r\n\r\n**Note:** If you can&#39;t *succinctly* describe what the method is doing, it&#39;s probably doing too much and should be split up.\r\n\r\nChoosing your method&#39;s verb:\r\n\r\n - Performing calculation(s): **calculate**\r\n - Retrieving data: **get** or **retrieve**\r\n - Mutating data: **set** or **change**\r\n - Deleting data: **delete** or **remove**\r\n - Converting: **convert**\r\n - Initiating an action: **start** or **initiate**\r\n - Stopping an action: **stop** or **cancel**\r\n\r\nNow, not all methods begin with a verb; but they really don&#39;t need to. If you read:\r\n\r\n    ... myString.length();\r\n\r\nor\r\n\r\n    ... myArray.size();\r\n\r\nyou know exactly what is going on - no verb required. This is true for many class methods higher up in the Java hierarchy; Collections, Math, etc. As long as the name accurately communicates what the method does, it&#39;s fine.","title":"determining which verb to use for method names in Java","body":"<p>I usually ask myself:</p>\n\n<p><em>What is this method doing?</em></p>\n\n<p>The answer dictates what the method should be called. It is completely independent of the programmer, of course.</p>\n\n<p><strong>Note:</strong> If you can't <em>succinctly</em> describe what the method is doing, it's probably doing too much and should be split up.</p>\n\n<p>Choosing your method's verb:</p>\n\n<ul>\n<li>Performing calculation(s): <strong>calculate</strong></li>\n<li>Retrieving data: <strong>get</strong> or <strong>retrieve</strong></li>\n<li>Mutating data: <strong>set</strong> or <strong>change</strong></li>\n<li>Deleting data: <strong>delete</strong> or <strong>remove</strong></li>\n<li>Converting: <strong>convert</strong></li>\n<li>Initiating an action: <strong>start</strong> or <strong>initiate</strong></li>\n<li>Stopping an action: <strong>stop</strong> or <strong>cancel</strong></li>\n</ul>\n\n<p>Now, not all methods begin with a verb; but they really don't need to. If you read:</p>\n\n<pre><code>... myString.length();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>... myArray.size();\n</code></pre>\n\n<p>you know exactly what is going on - no verb required. This is true for many class methods higher up in the Java hierarchy; Collections, Math, etc. As long as the name accurately communicates what the method does, it's fine.</p>\n"},{"tags":[],"owner":{"account_id":535414,"reputation":765,"user_id":904933,"display_name":"David Andersson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314036596,"creation_date":1314036596,"answer_id":7151648,"question_id":7151418,"body_markdown":"(*My opinion*) You don&#39;t need a verb in the method name if the object has no state, like a math-library. Compare *computeSquareRoot*(x) and *getJoin*(listOfStrings) with *squareRoot*(x) and *join*(listOfStrings).","title":"determining which verb to use for method names in Java","body":"<p>(<em>My opinion</em>) You don't need a verb in the method name if the object has no state, like a math-library. Compare <em>computeSquareRoot</em>(x) and <em>getJoin</em>(listOfStrings) with <em>squareRoot</em>(x) and <em>join</em>(listOfStrings).</p>\n"},{"tags":[],"owner":{"account_id":235324,"reputation":4269,"user_id":502059,"accept_rate":79,"display_name":"suat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314037450,"creation_date":1314037450,"answer_id":7151808,"question_id":7151418,"body_markdown":"As you said and as we can see in the answers, the verbs used at the beginning of method names are almost the same verbs. I think, if same amount of effort is spent for writing related documentation, methods become much more understandable and integrable :) \r\n\r\nI also realized after reading the question, most of the methods I write start with **get**, **retrieve**, **create**. So again it seems verb selection does not matter so much.\r\n\r\nBest","title":"determining which verb to use for method names in Java","body":"<p>As you said and as we can see in the answers, the verbs used at the beginning of method names are almost the same verbs. I think, if same amount of effort is spent for writing related documentation, methods become much more understandable and integrable :) </p>\n\n<p>I also realized after reading the question, most of the methods I write start with <strong>get</strong>, <strong>retrieve</strong>, <strong>create</strong>. So again it seems verb selection does not matter so much.</p>\n\n<p>Best</p>\n"},{"tags":[],"owner":{"account_id":97634,"reputation":769,"user_id":264727,"accept_rate":83,"display_name":"outmind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680778388,"creation_date":1314038036,"answer_id":7151912,"question_id":7151418,"body_markdown":"I think to find anything which could be a &quot;solution&quot; for the problem we should first extract criteria which play any role in choosing name, like:\r\n\r\n*  readableness (trivial: `getValue` instead of `transferValueFromThisObjectToYou`)\r\n*  convenience (trivial: `getCoordValue` instead of )\r\n*  semantics of the method (get is not the same as calculate)\r\n*  context of usage (in IDEs I usually type `aaa.get_` and press Ctrl+Space to check what I can get from the object)\r\n*  code guides (or other &quot;guides&quot; like Java Bean convention which force you to use some names)\r\n\r\n...\r\n\r\nHowever as suat said - better spend some efforts on a documentation for your methods.","title":"determining which verb to use for method names in Java","body":"<p>I think to find anything which could be a &quot;solution&quot; for the problem we should first extract criteria which play any role in choosing name, like:</p>\n<ul>\n<li>readableness (trivial: <code>getValue</code> instead of <code>transferValueFromThisObjectToYou</code>)</li>\n<li>convenience (trivial: <code>getCoordValue</code> instead of )</li>\n<li>semantics of the method (get is not the same as calculate)</li>\n<li>context of usage (in IDEs I usually type <code>aaa.get_</code> and press Ctrl+Space to check what I can get from the object)</li>\n<li>code guides (or other &quot;guides&quot; like Java Bean convention which force you to use some names)</li>\n</ul>\n<p>...</p>\n<p>However as suat said - better spend some efforts on a documentation for your methods.</p>\n"},{"tags":[],"owner":{"account_id":48192,"reputation":10791,"user_id":143069,"display_name":"ILMTitan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680791059,"creation_date":1314044984,"answer_id":7153237,"question_id":7151418,"body_markdown":"I don&#39;t think java method names should &quot;begin with a verb&quot;, I think they should describe the action. This often requires a verb, as verbs describe actions. Usually, they are important parts of the description (`getVar` and `setVar` mean totally different things). Occasionally, they add nothing to the description (can you think of anything that would operate on `movingAverage` besides get/calculate/generate?) and should be dropped. ","title":"determining which verb to use for method names in Java","body":"<p>I don't think java method names should &quot;begin with a verb&quot;, I think they should describe the action. This often requires a verb, as verbs describe actions. Usually, they are important parts of the description (<code>getVar</code> and <code>setVar</code> mean totally different things). Occasionally, they add nothing to the description (can you think of anything that would operate on <code>movingAverage</code> besides get/calculate/generate?) and should be dropped.</p>\n"},{"comments":[{"owner":{"account_id":83658,"reputation":1362,"user_id":234391,"accept_rate":57,"display_name":"Cornel Masson"},"score":1,"creation_date":1565946815,"post_id":43076371,"comment_id":101510538,"body_markdown":"Yes. The other prefix I use is &quot;should&quot;, e.g. shouldConvertLineEndings.","body":"Yes. The other prefix I use is &quot;should&quot;, e.g. shouldConvertLineEndings."}],"tags":[],"owner":{"account_id":9600113,"reputation":74,"user_id":7127962,"display_name":"Ricardo Montesinos"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490722865,"creation_date":1490722865,"answer_id":43076371,"question_id":7151418,"body_markdown":"Do not forget to use this verbs &quot;is, has or can&quot; for **boolean** methods, such as: **is**On(), **is**Full(), and so on.","title":"determining which verb to use for method names in Java","body":"<p>Do not forget to use this verbs \"is, has or can\" for <strong>boolean</strong> methods, such as: <strong>is</strong>On(), <strong>is</strong>Full(), and so on.</p>\n"},{"comments":[{"owner":{"account_id":5415144,"reputation":4187,"user_id":4310487,"accept_rate":50,"display_name":"light"},"score":2,"creation_date":1565624995,"post_id":56702884,"comment_id":101402216,"body_markdown":"This is something that a lot of people don&#39;t understand. They treat `get` and `set` as shorthands for making a private/protected field behave like it was public, and dogmatically reserve these verbs solely for implementing this anti-pattern.","body":"This is something that a lot of people don&#39;t understand. They treat <code>get</code> and <code>set</code> as shorthands for making a private/protected field behave like it was public, and dogmatically reserve these verbs solely for implementing this anti-pattern."}],"tags":[],"owner":{"account_id":83658,"reputation":1362,"user_id":234391,"accept_rate":57,"display_name":"Cornel Masson"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561117777,"creation_date":1561117777,"answer_id":56702884,"question_id":7151418,"body_markdown":"Regarding the use of `get` and `set` methods for property accessors *only*: the whole point of [information hiding][1] is that the user of an API (i.e. the calling code) should not need to know or depend on whether the property is stored or calculated on the fly. The implementation should be able to change at any time, as long as the API stays the same.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Information_hiding","title":"determining which verb to use for method names in Java","body":"<p>Regarding the use of <code>get</code> and <code>set</code> methods for property accessors <em>only</em>: the whole point of <a href=\"https://en.wikipedia.org/wiki/Information_hiding\" rel=\"nofollow noreferrer\">information hiding</a> is that the user of an API (i.e. the calling code) should not need to know or depend on whether the property is stored or calculated on the fly. The implementation should be able to change at any time, as long as the API stays the same.</p>\n"},{"comments":[{"owner":{"account_id":1098872,"reputation":665,"user_id":1091807,"accept_rate":60,"display_name":"PartOfTheOhana"},"score":0,"creation_date":1664370796,"post_id":69453993,"comment_id":130456083,"body_markdown":"can you give some context on this list? where was it sourced from?","body":"can you give some context on this list? where was it sourced from?"},{"owner":{"account_id":18590356,"reputation":708,"user_id":13547712,"display_name":"Gravity API"},"score":0,"creation_date":1664728494,"post_id":69453993,"comment_id":130533519,"body_markdown":"This is the approved verb list from Powershell which I use as my standard (when you get used to it, it becomes very clear what to expect from a method only by the name).\n\nI have updated the response with the details","body":"This is the approved verb list from Powershell which I use as my standard (when you get used to it, it becomes very clear what to expect from a method only by the name).  I have updated the response with the details"}],"tags":[],"owner":{"account_id":18590356,"reputation":708,"user_id":13547712,"display_name":"Gravity API"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664729486,"creation_date":1633450563,"answer_id":69453993,"question_id":7151418,"body_markdown":"Updated Answer.\r\n\r\nThis kind of list already exists in Powershell. In order to get the list, run any powershell terminal (Windows/Linux/Mac) and run the command `Get-Verb`\r\n\r\n```none\r\nVerb        AliasPrefix Group          Description\r\n----        ----------- -----          -----------\r\nAdd         a           Common         Adds a resource to a container, or attaches an item to another item\r\nClear       cl          Common         Removes all the resources from a container but does not delete the container\r\nClose       cs          Common         Changes the state of a resource to make it inaccessible, unavailable, or unusable\r\nCopy        cp          Common         Copies a resource to another name or to another container\r\nEnter       et          Common         Specifies an action that allows the user to move into a resource\r\nExit        ex          Common         Sets the current environment or context to the most recently used context\r\nFind        fd          Common         Looks for an object in a container that is unknown, implied, optional, or specified\r\nFormat      f           Common         Arranges objects in a specified form or layout\r\nGet         g           Common         Specifies an action that retrieves a resource\r\nHide        h           Common         Makes a resource undetectable\r\nJoin        j           Common         Combines resources into one resource\r\nLock        lk          Common         Secures a resource\r\nMove        m           Common         Moves a resource from one location to another\r\nNew         n           Common         Creates a resource\r\nOpen        op          Common         Changes the state of a resource to make it accessible, available, or usable\r\nOptimize    om          Common         Increases the effectiveness of a resource\r\nPush        pu          Common         Adds an item to the top of a stack\r\nPop         pop         Common         Removes an item from the top of a stack\r\nRedo        re          Common         Resets a resource to the state that was undone\r\nRemove      r           Common         Deletes a resource from a container\r\nRename      rn          Common         Changes the name of a resource\r\nReset       rs          Common         Sets a resource back to its original state\r\nResize      rz          Common         Changes the size of a resource\r\nSearch      sr          Common         Creates a reference to a resource in a container\r\nSelect      sc          Common         Locates a resource in a container\r\nSet         s           Common         Replaces data on an existing resource or creates a resource that contains some data\r\nShow        sh          Common         Makes a resource visible to the user\r\nSkip        sk          Common         Bypasses one or more resources or points in a sequence\r\nSplit       sl          Common         Separates parts of a resource\r\nStep        st          Common         Moves to the next point or resource in a sequence\r\nSwitch      sw          Common         Specifies an action that alternates between two resources, such as to change between two locations, responsibilities, or states\r\nUndo        un          Common         Sets a resource to its previous state\r\nUnlock      uk          Common         Releases a resource that was locked\r\nWatch       wc          Common         Continually inspects or monitors a resource for changes\r\nConnect     cc          Communications Creates a link between a source and a destination\r\nDisconnect  dc          Communications Breaks the link between a source and a destination\r\nRead        rd          Communications Acquires information from a source\r\nReceive     rc          Communications Accepts information sent from a source\r\nSend        sd          Communications Delivers information to a destination\r\nWrite       wr          Communications Adds information to a target\r\nBackup      ba          Data           Stores data by replicating it\r\nCheckpoint  ch          Data           Creates a snapshot of the current state of the data or of its configuration\r\nCompare     cr          Data           Evaluates the data from one resource against the data from another resource\r\nCompress    cm          Data           Compacts the data of a resource\r\nConvert     cv          Data           Changes the data from one representation to another when the cmdlet supports bidirectional conversion or when the cmdlet supports conversion between multiple \r\nConvertFrom cf          Data           Converts one primary type of input (the cmdlet noun indicates the input) to one or more supported output types\r\nConvertTo   ct          Data           Converts from one or more types of input to a primary output type (the cmdlet noun indicates the output type)\r\nDismount    dm          Data           Detaches a named entity from a location\r\nEdit        ed          Data           Modifies existing data by adding or removing content\r\nExpand      en          Data           Restores the data of a resource that has been compressed to its original state\r\nExport      ep          Data           Encapsulates the primary input into a persistent data store, such as a file, or into an interchange format\r\nGroup       gp          Data           Arranges or associates one or more resources\r\nImport      ip          Data           Creates a resource from data that is stored in a persistent data store (such as a file) or in an interchange format\r\nInitialize  in          Data           Prepares a resource for use, and sets it to a default state\r\nLimit       l           Data           Applies constraints to a resource\r\nMerge       mg          Data           Creates a single resource from multiple resources\r\nMount       mt          Data           Attaches a named entity to a location\r\nOut         o           Data           Sends data out of the environment\r\nPublish     pb          Data           Makes a resource available to others\r\nRestore     rr          Data           Sets a resource to a predefined state, such as a state set by Checkpoint\r\nSave        sv          Data           Preserves data to avoid loss\r\nSync        sy          Data           Assures that two or more resources are in the same state\r\nUnpublish   ub          Data           Makes a resource unavailable to others\r\nUpdate      ud          Data           Brings a resource up-to-date to maintain its state, accuracy, conformance, or compliance\r\nDebug       db          Diagnostic     Examines a resource to diagnose operational problems\r\nMeasure     ms          Diagnostic     Identifies resources that are consumed by a specified operation, or retrieves statistics about a resource\r\nPing        pi          Diagnostic     Use the Test verb\r\nRepair      rp          Diagnostic     Restores a resource to a usable condition\r\nResolve     rv          Diagnostic     Maps a shorthand representation of a resource to a more complete representation\r\nTest        t           Diagnostic     Verifies the operation or consistency of a resource\r\nTrace       tr          Diagnostic     Tracks the activities of a resource\r\nApprove     ap          Lifecycle      Confirms or agrees to the status of a resource or process\r\nAssert      as          Lifecycle      Affirms the state of a resource\r\nBuild       bd          Lifecycle      Creates an artifact (usually a binary or document) out of some set of input files (usually source code or declarative documents)\r\nComplete    cmp         Lifecycle      Concludes an operation\r\nConfirm     cn          Lifecycle      Acknowledges, verifies, or validates the state of a resource or process\r\nDeny        dn          Lifecycle      Refuses, objects, blocks, or opposes the state of a resource or process\r\nDeploy      dp          Lifecycle      Sends an application, website, or solution to a remote target[s] in such a way that a consumer of that solution can access it after deployment is complete\r\nDisable     d           Lifecycle      Configures a resource to an unavailable or inactive state\r\nEnable      e           Lifecycle      Configures a resource to an available or active state\r\nInstall     is          Lifecycle      Places a resource in a location, and optionally initializes it\r\nInvoke      i           Lifecycle      Performs an action, such as running a command or a method\r\nRegister    rg          Lifecycle      Creates an entry for a resource in a repository such as a database\r\nRequest     rq          Lifecycle      Asks for a resource or asks for permissions\r\nRestart     rt          Lifecycle      Stops an operation and then starts it again\r\nResume      ru          Lifecycle      Starts an operation that has been suspended\r\nStart       sa          Lifecycle      Initiates an operation\r\nStop        sp          Lifecycle      Discontinues an activity\r\nSubmit      sb          Lifecycle      Presents a resource for approval\r\nSuspend     ss          Lifecycle      Pauses an activity\r\nUninstall   us          Lifecycle      Removes a resource from an indicated location\r\nUnregister  ur          Lifecycle      Removes the entry for a resource from a repository\r\nWait        w           Lifecycle      Pauses an operation until a specified event occurs\r\nUse         u           Other          Uses or includes a resource to do something\r\nBlock       bl          Security       Restricts access to a resource\r\nGrant       gr          Security       Allows access to a resource\r\nProtect     pt          Security       Safeguards a resource from attack or loss\r\nRevoke      rk          Security       Specifies an action that does not allow access to a resource\r\nUnblock     ul          Security       Removes restrictions to a resource\r\nUnprotect   up          Security       Removes safeguards from a resource that were added to prevent it from attack or loss\r\n```","title":"determining which verb to use for method names in Java","body":"<p>Updated Answer.</p>\n<p>This kind of list already exists in Powershell. In order to get the list, run any powershell terminal (Windows/Linux/Mac) and run the command <code>Get-Verb</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>Verb        AliasPrefix Group          Description\n----        ----------- -----          -----------\nAdd         a           Common         Adds a resource to a container, or attaches an item to another item\nClear       cl          Common         Removes all the resources from a container but does not delete the container\nClose       cs          Common         Changes the state of a resource to make it inaccessible, unavailable, or unusable\nCopy        cp          Common         Copies a resource to another name or to another container\nEnter       et          Common         Specifies an action that allows the user to move into a resource\nExit        ex          Common         Sets the current environment or context to the most recently used context\nFind        fd          Common         Looks for an object in a container that is unknown, implied, optional, or specified\nFormat      f           Common         Arranges objects in a specified form or layout\nGet         g           Common         Specifies an action that retrieves a resource\nHide        h           Common         Makes a resource undetectable\nJoin        j           Common         Combines resources into one resource\nLock        lk          Common         Secures a resource\nMove        m           Common         Moves a resource from one location to another\nNew         n           Common         Creates a resource\nOpen        op          Common         Changes the state of a resource to make it accessible, available, or usable\nOptimize    om          Common         Increases the effectiveness of a resource\nPush        pu          Common         Adds an item to the top of a stack\nPop         pop         Common         Removes an item from the top of a stack\nRedo        re          Common         Resets a resource to the state that was undone\nRemove      r           Common         Deletes a resource from a container\nRename      rn          Common         Changes the name of a resource\nReset       rs          Common         Sets a resource back to its original state\nResize      rz          Common         Changes the size of a resource\nSearch      sr          Common         Creates a reference to a resource in a container\nSelect      sc          Common         Locates a resource in a container\nSet         s           Common         Replaces data on an existing resource or creates a resource that contains some data\nShow        sh          Common         Makes a resource visible to the user\nSkip        sk          Common         Bypasses one or more resources or points in a sequence\nSplit       sl          Common         Separates parts of a resource\nStep        st          Common         Moves to the next point or resource in a sequence\nSwitch      sw          Common         Specifies an action that alternates between two resources, such as to change between two locations, responsibilities, or states\nUndo        un          Common         Sets a resource to its previous state\nUnlock      uk          Common         Releases a resource that was locked\nWatch       wc          Common         Continually inspects or monitors a resource for changes\nConnect     cc          Communications Creates a link between a source and a destination\nDisconnect  dc          Communications Breaks the link between a source and a destination\nRead        rd          Communications Acquires information from a source\nReceive     rc          Communications Accepts information sent from a source\nSend        sd          Communications Delivers information to a destination\nWrite       wr          Communications Adds information to a target\nBackup      ba          Data           Stores data by replicating it\nCheckpoint  ch          Data           Creates a snapshot of the current state of the data or of its configuration\nCompare     cr          Data           Evaluates the data from one resource against the data from another resource\nCompress    cm          Data           Compacts the data of a resource\nConvert     cv          Data           Changes the data from one representation to another when the cmdlet supports bidirectional conversion or when the cmdlet supports conversion between multiple \nConvertFrom cf          Data           Converts one primary type of input (the cmdlet noun indicates the input) to one or more supported output types\nConvertTo   ct          Data           Converts from one or more types of input to a primary output type (the cmdlet noun indicates the output type)\nDismount    dm          Data           Detaches a named entity from a location\nEdit        ed          Data           Modifies existing data by adding or removing content\nExpand      en          Data           Restores the data of a resource that has been compressed to its original state\nExport      ep          Data           Encapsulates the primary input into a persistent data store, such as a file, or into an interchange format\nGroup       gp          Data           Arranges or associates one or more resources\nImport      ip          Data           Creates a resource from data that is stored in a persistent data store (such as a file) or in an interchange format\nInitialize  in          Data           Prepares a resource for use, and sets it to a default state\nLimit       l           Data           Applies constraints to a resource\nMerge       mg          Data           Creates a single resource from multiple resources\nMount       mt          Data           Attaches a named entity to a location\nOut         o           Data           Sends data out of the environment\nPublish     pb          Data           Makes a resource available to others\nRestore     rr          Data           Sets a resource to a predefined state, such as a state set by Checkpoint\nSave        sv          Data           Preserves data to avoid loss\nSync        sy          Data           Assures that two or more resources are in the same state\nUnpublish   ub          Data           Makes a resource unavailable to others\nUpdate      ud          Data           Brings a resource up-to-date to maintain its state, accuracy, conformance, or compliance\nDebug       db          Diagnostic     Examines a resource to diagnose operational problems\nMeasure     ms          Diagnostic     Identifies resources that are consumed by a specified operation, or retrieves statistics about a resource\nPing        pi          Diagnostic     Use the Test verb\nRepair      rp          Diagnostic     Restores a resource to a usable condition\nResolve     rv          Diagnostic     Maps a shorthand representation of a resource to a more complete representation\nTest        t           Diagnostic     Verifies the operation or consistency of a resource\nTrace       tr          Diagnostic     Tracks the activities of a resource\nApprove     ap          Lifecycle      Confirms or agrees to the status of a resource or process\nAssert      as          Lifecycle      Affirms the state of a resource\nBuild       bd          Lifecycle      Creates an artifact (usually a binary or document) out of some set of input files (usually source code or declarative documents)\nComplete    cmp         Lifecycle      Concludes an operation\nConfirm     cn          Lifecycle      Acknowledges, verifies, or validates the state of a resource or process\nDeny        dn          Lifecycle      Refuses, objects, blocks, or opposes the state of a resource or process\nDeploy      dp          Lifecycle      Sends an application, website, or solution to a remote target[s] in such a way that a consumer of that solution can access it after deployment is complete\nDisable     d           Lifecycle      Configures a resource to an unavailable or inactive state\nEnable      e           Lifecycle      Configures a resource to an available or active state\nInstall     is          Lifecycle      Places a resource in a location, and optionally initializes it\nInvoke      i           Lifecycle      Performs an action, such as running a command or a method\nRegister    rg          Lifecycle      Creates an entry for a resource in a repository such as a database\nRequest     rq          Lifecycle      Asks for a resource or asks for permissions\nRestart     rt          Lifecycle      Stops an operation and then starts it again\nResume      ru          Lifecycle      Starts an operation that has been suspended\nStart       sa          Lifecycle      Initiates an operation\nStop        sp          Lifecycle      Discontinues an activity\nSubmit      sb          Lifecycle      Presents a resource for approval\nSuspend     ss          Lifecycle      Pauses an activity\nUninstall   us          Lifecycle      Removes a resource from an indicated location\nUnregister  ur          Lifecycle      Removes the entry for a resource from a repository\nWait        w           Lifecycle      Pauses an operation until a specified event occurs\nUse         u           Other          Uses or includes a resource to do something\nBlock       bl          Security       Restricts access to a resource\nGrant       gr          Security       Allows access to a resource\nProtect     pt          Security       Safeguards a resource from attack or loss\nRevoke      rk          Security       Specifies an action that does not allow access to a resource\nUnblock     ul          Security       Removes restrictions to a resource\nUnprotect   up          Security       Removes safeguards from a resource that were added to prevent it from attack or loss\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657168670,"creation_date":1657168670,"answer_id":72892343,"question_id":7151418,"body_markdown":"We use method names as propositions (such as plus, minus) rather than verb (such as add, subtract). This emphasis the fact that these methods(propositions) don&#39;t change the value of objects. \r\n\r\nThe `BigInteger` and `BigDecimal` classes didn&#39;t obey this naming convention, and it led to many usage errors. ","title":"determining which verb to use for method names in Java","body":"<p>We use method names as propositions (such as plus, minus) rather than verb (such as add, subtract). This emphasis the fact that these methods(propositions) don't change the value of objects.</p>\n<p>The <code>BigInteger</code> and <code>BigDecimal</code> classes didn't obey this naming convention, and it led to many usage errors.</p>\n"}],"owner":{"account_id":260473,"reputation":48258,"user_id":544050,"accept_rate":95,"display_name":"PengOne"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20267,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":7151581,"answer_count":9,"score":32,"last_activity_date":1680791059,"creation_date":1314035448,"question_id":7151418,"body_markdown":"I understand that naming conventions are important for a number of reasons, most having to do with making your code more readable and easier to integrate into larger projects, etc. In Java, most conventions require that method names be in `lowerCamelCase` begin with a verb.\r\n\r\nMy question is: how do I choose the verb to begin the method name?\r\n\r\nTo make this question less vague, I&#39;m often in the situation where my first choice for a method name is a noun describing the output. In these cases, I&#39;m usually torn between appending generic verbs such as `get`, `generate`, `calculate`, etc in font of the noun to conform to the verb rule. Are there general guidelines for when to use which?\r\n\r\nHere&#39;s an example. I have a method that takes `double[] array` and an `int k` and returns `double[] newArray` which is the length `k` moving average of `array`, i.e. `newArray[i] = (array[i-k+1]+...+array[i])/k` with some fudging to make `newArray` the same length as `array`. My inclination is to call this method `movingAverage` since that&#39;s what it returns, but that&#39;s out since it doesn&#39;t begin with a verb. Should I call this method `getMovingAverage` or `generateMovingAverage` or `calculateMovingAverage` or does it not really matter?","title":"determining which verb to use for method names in Java","body":"<p>I understand that naming conventions are important for a number of reasons, most having to do with making your code more readable and easier to integrate into larger projects, etc. In Java, most conventions require that method names be in <code>lowerCamelCase</code> begin with a verb.</p>\n\n<p>My question is: how do I choose the verb to begin the method name?</p>\n\n<p>To make this question less vague, I'm often in the situation where my first choice for a method name is a noun describing the output. In these cases, I'm usually torn between appending generic verbs such as <code>get</code>, <code>generate</code>, <code>calculate</code>, etc in font of the noun to conform to the verb rule. Are there general guidelines for when to use which?</p>\n\n<p>Here's an example. I have a method that takes <code>double[] array</code> and an <code>int k</code> and returns <code>double[] newArray</code> which is the length <code>k</code> moving average of <code>array</code>, i.e. <code>newArray[i] = (array[i-k+1]+...+array[i])/k</code> with some fudging to make <code>newArray</code> the same length as <code>array</code>. My inclination is to call this method <code>movingAverage</code> since that's what it returns, but that's out since it doesn't begin with a verb. Should I call this method <code>getMovingAverage</code> or <code>generateMovingAverage</code> or <code>calculateMovingAverage</code> or does it not really matter?</p>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"comments":[{"owner":{"account_id":5392377,"reputation":232,"user_id":4294488,"display_name":"MiDhuN"},"score":1,"creation_date":1417749368,"post_id":14063719,"comment_id":43078346,"body_markdown":"then what happen to old trigger ..it will die automatically ?","body":"then what happen to old trigger ..it will die automatically ?"},{"owner":{"account_id":1098145,"reputation":2580,"user_id":1091281,"accept_rate":100,"display_name":"LMeyer"},"score":0,"creation_date":1439664930,"post_id":14063719,"comment_id":51957924,"body_markdown":"@MiDhuN rescheduleJob deletes it using its key.","body":"@MiDhuN rescheduleJob deletes it using its key."},{"owner":{"account_id":7051471,"reputation":703,"user_id":5400374,"display_name":"Samir"},"score":0,"creation_date":1550233569,"post_id":14063719,"comment_id":96204043,"body_markdown":"With this way seems like  i have to wait till job execute this method.Why don&#39;t u create separate method for rescheduling as mentioned above link from quartz docs .","body":"With this way seems like  i have to wait till job execute this method.Why don&#39;t u create separate method for rescheduling as mentioned above link from quartz docs ."}],"tags":[],"owner":{"account_id":879781,"reputation":973,"user_id":188764,"accept_rate":80,"display_name":"Kris"},"comment_count":3,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1502900045,"creation_date":1356660529,"answer_id":14063719,"question_id":12257990,"body_markdown":"You have to reschedule the job by creating a new trigger.\r\n\r\n    public void execute(JobExecutionContext context) throws JobExecutionException {\r\n        Trigger newTrigger = what_ever_you_want;\r\n        Trigger oldTrigger = context.getTrigger();\r\n        Scheduler scheduler = StdSchedulerFactory.getDefaultScheduler();\r\n        scheduler.rescheduleJob(oldTrigger.getKey(), newTrigger);\r\n    }\r\n\r\nThis will replace the same job with a new trigger fire time.\r\n","title":"How to reschedule the job execution interval in Quartz?","body":"<p>You have to reschedule the job by creating a new trigger.</p>\n\n<pre><code>public void execute(JobExecutionContext context) throws JobExecutionException {\n    Trigger newTrigger = what_ever_you_want;\n    Trigger oldTrigger = context.getTrigger();\n    Scheduler scheduler = StdSchedulerFactory.getDefaultScheduler();\n    scheduler.rescheduleJob(oldTrigger.getKey(), newTrigger);\n}\n</code></pre>\n\n<p>This will replace the same job with a new trigger fire time.</p>\n"},{"tags":[],"owner":{"account_id":2174240,"reputation":1419,"user_id":1925356,"accept_rate":33,"display_name":"Alex Mi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586063955,"creation_date":1586063955,"answer_id":61038393,"question_id":12257990,"body_markdown":"Perhaps there is a static method triggerKey() somewhere in the Quartz library. However, I managed to reschedule an existing Quartz job (using Quartz 2.3.2) without using this (potential) method, but rather using the TriggerKey class as follows:\r\n\r\n    \tboolean updateExisting = true; // try it also with false\r\n\t\tint aveId = 1234; // change it as you wish\r\n\t\tjava.util.Date closeDate = new java.util.Date(); // change it as you wish\r\n\t\t\r\n\t\tSchedulerFactory sf = new StdSchedulerFactory(&quot;... /quartz_priority.properties&quot;);\r\n\t\tScheduler scheduler = sf.getScheduler();\r\n\r\n\t\tTriggerKey triggerKey = new TriggerKey(&quot;trigger&quot; + aveId, &quot;group1&quot;);\r\n\r\n\t\tif (updateExisting) {\r\n\t\t\tTrigger oldTrigger = scheduler.getTrigger(triggerKey);\r\n\t\t\tTriggerBuilder oldTriggerBuilder = oldTrigger.getTriggerBuilder();\r\n\r\n\t\t\tTrigger newTrigger = oldTriggerBuilder.startAt(closeDate).build();\r\n\t\t\tscheduler.rescheduleJob(triggerKey, newTrigger);\r\n\r\n\t\t} else {\r\n\t\t\tTrigger trigger = TriggerBuilder.newTrigger().withIdentity(triggerKey).startAt(closeDate).build();\r\n\r\n\t\t\t// Define job instance\r\n\t\t\tJobDetail job1 = JobBuilder.newJob(&lt;YOUR_JOB_CLASS_NAME&gt;.class).withIdentity(&quot;job&quot; + aveId, &quot;group1&quot;).build();\r\n\r\n\t\t\tJobDataMap map = job1.getJobDataMap();\r\n\t\t\tmap.put(&lt;PARAMETER_NAME&gt;, aveId);\r\n\r\n\t\t\t// Schedule the job with the trigger\r\n\t\t\tscheduler.scheduleJob(job1, trigger);\r\n\t\t}\r\n\r\n","title":"How to reschedule the job execution interval in Quartz?","body":"<p>Perhaps there is a static method triggerKey() somewhere in the Quartz library. However, I managed to reschedule an existing Quartz job (using Quartz 2.3.2) without using this (potential) method, but rather using the TriggerKey class as follows:</p>\n\n<pre><code>    boolean updateExisting = true; // try it also with false\n    int aveId = 1234; // change it as you wish\n    java.util.Date closeDate = new java.util.Date(); // change it as you wish\n\n    SchedulerFactory sf = new StdSchedulerFactory(\"... /quartz_priority.properties\");\n    Scheduler scheduler = sf.getScheduler();\n\n    TriggerKey triggerKey = new TriggerKey(\"trigger\" + aveId, \"group1\");\n\n    if (updateExisting) {\n        Trigger oldTrigger = scheduler.getTrigger(triggerKey);\n        TriggerBuilder oldTriggerBuilder = oldTrigger.getTriggerBuilder();\n\n        Trigger newTrigger = oldTriggerBuilder.startAt(closeDate).build();\n        scheduler.rescheduleJob(triggerKey, newTrigger);\n\n    } else {\n        Trigger trigger = TriggerBuilder.newTrigger().withIdentity(triggerKey).startAt(closeDate).build();\n\n        // Define job instance\n        JobDetail job1 = JobBuilder.newJob(&lt;YOUR_JOB_CLASS_NAME&gt;.class).withIdentity(\"job\" + aveId, \"group1\").build();\n\n        JobDataMap map = job1.getJobDataMap();\n        map.put(&lt;PARAMETER_NAME&gt;, aveId);\n\n        // Schedule the job with the trigger\n        scheduler.scheduleJob(job1, trigger);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680790853,"creation_date":1680784829,"answer_id":75949636,"question_id":12257990,"body_markdown":"Let me expand on [Kris](https://stackoverflow.com/users/188764/kris) and [Alex Mi](https://stackoverflow.com/users/1925356/alex-mi) answers.\r\n\r\nBelow is an example of a multi-instance Spring Boot application that launches a cron job.  \r\nThe Job must be running on only one of the instances.  \r\nThe configuration of each instance must be the same.  \r\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.  \r\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.\r\n\r\n\r\n**We will use Quartz in cluster mode:**\r\n\r\nDeps:\r\n```groovy\r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\r\n```\r\n\r\n*Out job:*\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass SomeJob(\r\n    private val someService: SomeService\r\n) : QuartzJobBean() {\r\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\r\n    \r\n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\r\n        try {\r\n            log.info(&quot;Doing awesome work...&quot;)\r\n            someService.work()\r\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\r\n        } catch (e: Exception) {\r\n            throw JobExecutionException(e)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the Quartz configuration (more information [here](https://www.baeldung.com/spring-quartz-schedule)):\r\n```kotlin\r\n@Configuration\r\n@Profile(&quot;quartz&quot;)\r\nclass JobConfig {\r\n    //JobDetail for our job\r\n    @Bean\r\n    fun someJobDetail(): JobDetail {\r\n        return JobBuilder\r\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\r\n            .withDescription(&quot;Some job&quot;)\r\n            //If we want the job to be launched after the application instance crashes at the \r\n            //next launch\r\n            .requestRecovery(true)\r\n            .storeDurably().build()\r\n    }\r\n\r\n    //Trigger\r\n    @Bean\r\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\r\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\r\n            .withIdentity(&quot;SomeJobTrigger&quot;)\r\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 4 L-1 * ? *&quot;))\r\n            .build()\r\n\r\n    }\r\n\r\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\r\n    @Bean\r\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\r\n        factory.setWaitForJobsToCompleteOnShutdown(true)\r\n        val scheduler = factory.scheduler\r\n        factory.setOverwriteExistingJobs(true)\r\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\r\n        factory.setTransactionManager(JdbcTransactionManager())\r\n        rescheduleTriggers(triggers, scheduler)\r\n        scheduler.start()\r\n        return scheduler\r\n    }\r\n\r\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\r\n        triggers.forEach {\r\n            if (!scheduler.checkExists(it.key)) {\r\n                scheduler.scheduleJob(it)\r\n            } else {\r\n                scheduler.rescheduleJob(it.key, it)\r\n            }\r\n        }\r\n    }\r\n}\r\n    \r\n```\r\nAdd a listener to the scheduler:\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListenerConfig(\r\n    private val schedulerFactory: SchedulerFactoryBean,\r\n    private val jobListener: JobListener\r\n) {\r\n    @PostConstruct\r\n    fun addListener() {\r\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd now the most important - the logic of processing the execution of our job with listener:\r\n```kotlin\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListener(\r\n    //can be obtained from the execution context, but it can also be injected\r\n    private val scheduler: Scheduler,\r\n    private val triggers: List&lt;Trigger&gt;\r\n): JobListenerSupport() {\r\n\r\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\r\n\r\n    @PostConstruct\r\n    fun post(){\r\n        //there will be no recovery triggers , only our self-written ones\r\n        triggerCronMap = triggers.associate {\r\n            it.key.name to (it as CronTrigger).cronExpression\r\n        }\r\n    }\r\n\r\n    override fun getName(): String {\r\n        return &quot;myJobListener&quot;\r\n    }\r\n\r\n\r\n    override fun jobToBeExecuted(context: JobExecutionContext) {\r\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\r\n    }\r\n\r\n\r\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\r\n        //you can use context.mergedJobDataMap\r\n        val dataMap = context.trigger.jobDataMap\r\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\r\n            dataMap.putAsString(&quot;count&quot;, 1)\r\n            1\r\n        }\r\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\r\n        if (jobException != null ){\r\n            if (count &lt; 3) {\r\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\r\n                val oldTrigger = context.trigger\r\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\r\n                //in case such a trigger already exists\r\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\r\n                    .map { it.key.name }\r\n                    .takeIf { it.contains(newTriggerName) }\r\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\r\n                val newTrigger = TriggerBuilder.newTrigger()\r\n                    .forJob(context.jobDetail)\r\n                    .withIdentity(newTriggerName, context.trigger.key.group)\r\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\r\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\r\n                    .usingJobData(&quot;count&quot;, count + 1 )\r\n                    .build()\r\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\r\n                log.info(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\r\n            } else {\r\n                log.warn(&quot;Reach max count of restarts: $count. Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: ${context.trigger.key.name.split(&quot;_&quot;)[0]}&quot;)\r\n                recheduleWithDefaultTrigger(context)\r\n            }\r\n        } else if (count &gt; 1) {\r\n            recheduleWithDefaultTrigger(context)\r\n        }\r\n        else {\r\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\r\n        }\r\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\r\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\r\n        }\r\n    }\r\n\r\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\r\n        val clone = context.jobDetail.clone() as JobDetail\r\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\r\n        //Recovery triggers should not be rescheduled\r\n        if (!triggerCronMap.contains(defaultTriggerName)) return\r\n        scheduler.deleteJob(clone.key)\r\n        scheduler.addJob(clone, true)\r\n        scheduler.scheduleJob(\r\n            TriggerBuilder.newTrigger()\r\n                .forJob(clone)\r\n                .withIdentity(defaultTriggerName)\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\r\n                .usingJobData(&quot;count&quot;, 1)\r\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\r\n                .build()\r\n        )\r\n    }\r\n}\r\n```\r\nLast but not least: **application.yaml**\r\n```yaml\r\nspring:\r\n  quartz:\r\n    job-store-type: jdbc #Database Mode\r\n    jdbc:\r\n      initialize-schema: never #Do not initialize table structure\r\n    properties:\r\n      org:\r\n        quartz:\r\n          scheduler:\r\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\r\n            #instanceName: clusteredScheduler #quartzScheduler\r\n          jobStore:\r\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\r\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\r\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\r\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\r\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\r\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\r\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance&#39;checkin&#39;* with other instances of the cluster.Affects the speed of detecting failed instances.\r\n            isClustered: true #Turn on Clustering\r\n          threadPool: #Connection Pool\r\n            class: org.quartz.simpl.SimpleThreadPool\r\n            threadCount: 3\r\n            threadPriority: 1\r\n            threadsInheritContextClassLoaderOfInitializingThread: true\r\n```\r\n\r\n[Here](https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore) official scripts for database (use liquibase or flyway)      \r\nMore information:   \r\n[About quartz](https://www.baeldung.com/quartz)  \r\n[spring boot using quartz in cluster mode](https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9)  \r\n[One more article](https://habr.com/ru/companies/surfstudio/articles/685980)  \r\n[Cluster effectively quartz](https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191)","title":"How to reschedule the job execution interval in Quartz?","body":"<p>Let me expand on <a href=\"https://stackoverflow.com/users/188764/kris\">Kris</a> and <a href=\"https://stackoverflow.com/users/1925356/alex-mi\">Alex Mi</a> answers.</p>\n<p>Below is an example of a multi-instance Spring Boot application that launches a cron job.<br />\nThe Job must be running on only one of the instances.<br />\nThe configuration of each instance must be the same.<br />\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.<br />\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.</p>\n<p><strong>We will use Quartz in cluster mode:</strong></p>\n<p>Deps:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\n</code></pre>\n<p><em>Out job:</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass SomeJob(\n    private val someService: SomeService\n) : QuartzJobBean() {\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\n    \n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\n        try {\n            log.info(&quot;Doing awesome work...&quot;)\n            someService.work()\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\n        } catch (e: Exception) {\n            throw JobExecutionException(e)\n        }\n    }\n}\n</code></pre>\n<p>Here is the Quartz configuration (more information <a href=\"https://www.baeldung.com/spring-quartz-schedule\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@Profile(&quot;quartz&quot;)\nclass JobConfig {\n    //JobDetail for our job\n    @Bean\n    fun someJobDetail(): JobDetail {\n        return JobBuilder\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\n            .withDescription(&quot;Some job&quot;)\n            //If we want the job to be launched after the application instance crashes at the \n            //next launch\n            .requestRecovery(true)\n            .storeDurably().build()\n    }\n\n    //Trigger\n    @Bean\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\n            .withIdentity(&quot;SomeJobTrigger&quot;)\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 0 4 L-1 * ? *&quot;))\n            .build()\n\n    }\n\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\n    @Bean\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\n        factory.setWaitForJobsToCompleteOnShutdown(true)\n        val scheduler = factory.scheduler\n        factory.setOverwriteExistingJobs(true)\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\n        factory.setTransactionManager(JdbcTransactionManager())\n        rescheduleTriggers(triggers, scheduler)\n        scheduler.start()\n        return scheduler\n    }\n\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\n        triggers.forEach {\n            if (!scheduler.checkExists(it.key)) {\n                scheduler.scheduleJob(it)\n            } else {\n                scheduler.rescheduleJob(it.key, it)\n            }\n        }\n    }\n}\n    \n</code></pre>\n<p>Add a listener to the scheduler:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass JobListenerConfig(\n    private val schedulerFactory: SchedulerFactoryBean,\n    private val jobListener: JobListener\n) {\n    @PostConstruct\n    fun addListener() {\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\n    }\n}\n\n</code></pre>\n<p>And now the most important - the logic of processing the execution of our job with listener:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Profile(&quot;quartz&quot;)\nclass JobListener(\n    //can be obtained from the execution context, but it can also be injected\n    private val scheduler: Scheduler,\n    private val triggers: List&lt;Trigger&gt;\n): JobListenerSupport() {\n\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\n\n    @PostConstruct\n    fun post(){\n        //there will be no recovery triggers , only our self-written ones\n        triggerCronMap = triggers.associate {\n            it.key.name to (it as CronTrigger).cronExpression\n        }\n    }\n\n    override fun getName(): String {\n        return &quot;myJobListener&quot;\n    }\n\n\n    override fun jobToBeExecuted(context: JobExecutionContext) {\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\n    }\n\n\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\n        //you can use context.mergedJobDataMap\n        val dataMap = context.trigger.jobDataMap\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\n            dataMap.putAsString(&quot;count&quot;, 1)\n            1\n        }\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\n        if (jobException != null ){\n            if (count &lt; 3) {\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\n                val oldTrigger = context.trigger\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\n                //in case such a trigger already exists\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\n                    .map { it.key.name }\n                    .takeIf { it.contains(newTriggerName) }\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\n                val newTrigger = TriggerBuilder.newTrigger()\n                    .forJob(context.jobDetail)\n                    .withIdentity(newTriggerName, context.trigger.key.group)\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\n                    .usingJobData(&quot;count&quot;, count + 1 )\n                    .build()\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\n                log.info(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\n            } else {\n                log.warn(&quot;Reach max count of restarts: $count. Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: ${context.trigger.key.name.split(&quot;_&quot;)[0]}&quot;)\n                recheduleWithDefaultTrigger(context)\n            }\n        } else if (count &gt; 1) {\n            recheduleWithDefaultTrigger(context)\n        }\n        else {\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\n        }\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\n        }\n    }\n\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\n        val clone = context.jobDetail.clone() as JobDetail\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\n        //Recovery triggers should not be rescheduled\n        if (!triggerCronMap.contains(defaultTriggerName)) return\n        scheduler.deleteJob(clone.key)\n        scheduler.addJob(clone, true)\n        scheduler.scheduleJob(\n            TriggerBuilder.newTrigger()\n                .forJob(clone)\n                .withIdentity(defaultTriggerName)\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\n                .usingJobData(&quot;count&quot;, 1)\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\n                .build()\n        )\n    }\n}\n</code></pre>\n<p>Last but not least: <strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  quartz:\n    job-store-type: jdbc #Database Mode\n    jdbc:\n      initialize-schema: never #Do not initialize table structure\n    properties:\n      org:\n        quartz:\n          scheduler:\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\n            #instanceName: clusteredScheduler #quartzScheduler\n          jobStore:\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance'checkin'* with other instances of the cluster.Affects the speed of detecting failed instances.\n            isClustered: true #Turn on Clustering\n          threadPool: #Connection Pool\n            class: org.quartz.simpl.SimpleThreadPool\n            threadCount: 3\n            threadPriority: 1\n            threadsInheritContextClassLoaderOfInitializingThread: true\n</code></pre>\n<p><a href=\"https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">Here</a> official scripts for database (use liquibase or flyway)<br />\nMore information:<br />\n<a href=\"https://www.baeldung.com/quartz\" rel=\"nofollow noreferrer\">About quartz</a><br />\n<a href=\"https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9\" rel=\"nofollow noreferrer\">spring boot using quartz in cluster mode</a><br />\n<a href=\"https://habr.com/ru/companies/surfstudio/articles/685980\" rel=\"nofollow noreferrer\">One more article</a><br />\n<a href=\"https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191\" rel=\"nofollow noreferrer\">Cluster effectively quartz</a></p>\n"}],"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29812,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":14063719,"answer_count":3,"score":8,"last_activity_date":1680790853,"creation_date":1346740599,"question_id":12257990,"body_markdown":"I am a bit new to Quartz. Is there a way to update the job execution interval for an already submitted Quartz job? Does this interval get updated immediately? Do you have to start the job once again after rescheduling it?\r\n\r\nI found the following link but I don&#39;t know which libraries is the code referring to since my quartz jars don&#39;t contain some of the classes used in the link. Also, where did the triggerKey method come from? Is this some kind of a static import? \r\n\r\nhttp://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/UpdateTrigger.html\r\n\r\nI want to update the job execution interval to a very large number in one of my JUnit test cases since I don&#39;t want the job to interfere with the state of the class under test. Once the test case completes, I want to reset the the job execution interval to the actual value that will be used in production","title":"How to reschedule the job execution interval in Quartz?","body":"<p>I am a bit new to Quartz. Is there a way to update the job execution interval for an already submitted Quartz job? Does this interval get updated immediately? Do you have to start the job once again after rescheduling it?</p>\n\n<p>I found the following link but I don't know which libraries is the code referring to since my quartz jars don't contain some of the classes used in the link. Also, where did the triggerKey method come from? Is this some kind of a static import? </p>\n\n<p><a href=\"http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/UpdateTrigger.html\" rel=\"noreferrer\">http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/UpdateTrigger.html</a></p>\n\n<p>I want to update the job execution interval to a very large number in one of my JUnit test cases since I don't want the job to interfere with the state of the class under test. Once the test case completes, I want to reset the the job execution interval to the actual value that will be used in production</p>\n"},{"tags":["java","azure-devops","sdk","azure-pipelines","appium"],"answers":[{"comments":[{"owner":{"account_id":1680576,"reputation":505,"user_id":1544889,"accept_rate":50,"display_name":"Stanza"},"score":0,"creation_date":1691575756,"post_id":75950612,"comment_id":135509213,"body_markdown":"Did anyone get this to work? I am  facing the same challenge here and would like to know how to do this. I tutorial or something would be nice.","body":"Did anyone get this to work? I am  facing the same challenge here and would like to know how to do this. I tutorial or something would be nice."}],"tags":[],"owner":{"account_id":13359429,"reputation":1,"user_id":9963204,"display_name":"Bruno Graciano Alves Carneiro"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680790837,"creation_date":1680790837,"answer_id":75950612,"question_id":75290021,"body_markdown":"Hello everything is fine? well I believe that on your machine locally you installed the appium-doctor, node, and the appium, the pipeline is no different. To install and validate all the same steps on the machine, you must install everything via script in a macOS virtual machine, as shown in the example below:\r\n\r\n    pool:\r\n      vmImage: macOS-10.15\r\n              - script: npm install -g appium@1.21.0 # --unsafe-perm=true --allow-root\r\n            displayName: &quot;Install appium 1.21.0&quot;\r\n\r\n          - task: NodeTool@0\r\n            condition: always()\r\n            inputs:\r\n              versionSpec: &quot;16.x&quot;\r\n            displayName: Install Node Js\r\n\r\n          - task: Bash@3\r\n            displayName: &quot;Run Appium in background port 4723&quot;\r\n            continueOnError: false\r\n            enabled: true\r\n            inputs:\r\n              targetType: &#39;inline&#39;\r\n              script: |\r\n                #!/bin/bash\r\n                nohup appium -a 127.0.0.1 -p 4723 --relaxed-security &gt; $(agent.buildDirectory)/s/folderReports/appium_log_4723.txt &amp;\r\n\r\n          - script: npm install -g appium-doctor\r\n            continueOnError: true\r\n            enabled: true\r\n            displayName: &quot;Install appium doctor&quot;\r\n          - script: appium-doctor\r\n            continueOnError: true\r\n            enabled: true\r\n            displayName: &quot;Check appium doctor&quot;\r\n\r\nThe Android Emulator &quot;Task Script&quot;you can instantiate it as follows:\r\n \r\n\r\n              - task: Bash@3\r\n            displayName: Run Emulator\r\n            enabled: true\r\n            inputs:\r\n              targetType: &#39;inline&#39;\r\n              script: | \r\n[enter image description here][1]\r\n        \r\nMORE INFORMATION: https://learn.microsoft.com/pt-br/azure/devops/pipelines/ecosystems/android?view=azure-devops\r\n\r\nI&#39;m sorry if I didn&#39;t understand, it&#39;s my first answer here on this channel\r\n\r\n  [1]: https://i.stack.imgur.com/Neh0h.png","title":"How to run Appium tests with WebdriverIO (Android) in Azure DevOps Pipeline","body":"<p>Hello everything is fine? well I believe that on your machine locally you installed the appium-doctor, node, and the appium, the pipeline is no different. To install and validate all the same steps on the machine, you must install everything via script in a macOS virtual machine, as shown in the example below:</p>\n<pre><code>pool:\n  vmImage: macOS-10.15\n          - script: npm install -g appium@1.21.0 # --unsafe-perm=true --allow-root\n        displayName: &quot;Install appium 1.21.0&quot;\n\n      - task: NodeTool@0\n        condition: always()\n        inputs:\n          versionSpec: &quot;16.x&quot;\n        displayName: Install Node Js\n\n      - task: Bash@3\n        displayName: &quot;Run Appium in background port 4723&quot;\n        continueOnError: false\n        enabled: true\n        inputs:\n          targetType: 'inline'\n          script: |\n            #!/bin/bash\n            nohup appium -a 127.0.0.1 -p 4723 --relaxed-security &gt; $(agent.buildDirectory)/s/folderReports/appium_log_4723.txt &amp;\n\n      - script: npm install -g appium-doctor\n        continueOnError: true\n        enabled: true\n        displayName: &quot;Install appium doctor&quot;\n      - script: appium-doctor\n        continueOnError: true\n        enabled: true\n        displayName: &quot;Check appium doctor&quot;\n</code></pre>\n<p>The Android Emulator &quot;Task Script&quot;you can instantiate it as follows:</p>\n<pre><code>          - task: Bash@3\n        displayName: Run Emulator\n        enabled: true\n        inputs:\n          targetType: 'inline'\n          script: | \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Neh0h.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>MORE INFORMATION: <a href=\"https://learn.microsoft.com/pt-br/azure/devops/pipelines/ecosystems/android?view=azure-devops\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/pt-br/azure/devops/pipelines/ecosystems/android?view=azure-devops</a></p>\n<p>I'm sorry if I didn't understand, it's my first answer here on this channel</p>\n"}],"owner":{"account_id":19855685,"reputation":27,"user_id":21008772,"display_name":"Mohamed Khlifi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680790837,"creation_date":1675112063,"question_id":75290021,"body_markdown":"I have a test that I want to run in Azure DevOps Pipeline. I&#39;m using Appium and WebdriverIO.\r\n\r\nI have done it locally and it worked fine. I have installed an Android emulator from Android Studio and set the SDK and JDK paths.\r\n\r\nThe problem now is that I need to create a pipeline to run the test. I have no idea how should I do it.\r\n\r\nHow should I set the SDK and JDK in Azure DevOps. For your information, I don&#39;t use YAML. I use classic editor.\r\n\r\nI know how to create a pipeline to run Cypress tests. But Appium, Nope","title":"How to run Appium tests with WebdriverIO (Android) in Azure DevOps Pipeline","body":"<p>I have a test that I want to run in Azure DevOps Pipeline. I'm using Appium and WebdriverIO.</p>\n<p>I have done it locally and it worked fine. I have installed an Android emulator from Android Studio and set the SDK and JDK paths.</p>\n<p>The problem now is that I need to create a pipeline to run the test. I have no idea how should I do it.</p>\n<p>How should I set the SDK and JDK in Azure DevOps. For your information, I don't use YAML. I use classic editor.</p>\n<p>I know how to create a pipeline to run Cypress tests. But Appium, Nope</p>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler"],"comments":[{"owner":{"account_id":13578509,"reputation":681,"user_id":9795231,"display_name":"user06062019"},"score":0,"creation_date":1578387803,"post_id":59613194,"comment_id":105412626,"body_markdown":"I think you need to create your triggers with misfired configuration.Refer this http://www.quartz-scheduler.org/documentation/quartz-2.1.7/tutorials/tutorial-lesson-06.html","body":"I think you need to create your triggers with misfired configuration.Refer this <a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.1.7/tutorials/tutorial-lesson-06.html\" rel=\"nofollow noreferrer\">quartz-scheduler.org/documentation/quartz-2.1.7/tutorials/&hellip;</a>"},{"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"score":0,"creation_date":1578477148,"post_id":59613194,"comment_id":105447770,"body_markdown":"I am not worrying about misfiring. I have to implement the scheduled jobs should be reinitialized.","body":"I am not worrying about misfiring. I have to implement the scheduled jobs should be reinitialized."},{"owner":{"account_id":13578509,"reputation":681,"user_id":9795231,"display_name":"user06062019"},"score":0,"creation_date":1578505415,"post_id":59613194,"comment_id":105463698,"body_markdown":"So when you say your application is  down and you want to restart all the triggers whose firing time has been lapsed.Isn&#39;t it a senerio of misfire?","body":"So when you say your application is  down and you want to restart all the triggers whose firing time has been lapsed.Isn&#39;t it a senerio of misfire?"},{"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"score":0,"creation_date":1578542334,"post_id":59613194,"comment_id":105474668,"body_markdown":"That&#39;s also a scenario of misfire. But I don&#39;t want to enable misfiring. Is there any other way to impl?","body":"That&#39;s also a scenario of misfire. But I don&#39;t want to enable misfiring. Is there any other way to impl?"},{"owner":{"account_id":13578509,"reputation":681,"user_id":9795231,"display_name":"user06062019"},"score":0,"creation_date":1578562437,"post_id":59613194,"comment_id":105481441,"body_markdown":"Sorry not sure about any other way of doing it without changing the quartz code.","body":"Sorry not sure about any other way of doing it without changing the quartz code."}],"answers":[{"comments":[{"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"score":0,"creation_date":1578736134,"post_id":59668275,"comment_id":105542029,"body_markdown":"Are you suggesting to save the job details in an user defined table and start those whenever we want?","body":"Are you suggesting to save the job details in an user defined table and start those whenever we want?"},{"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"score":0,"creation_date":1578736862,"post_id":59668275,"comment_id":105542172,"body_markdown":"You are saving the job details in your table, get the all scheduled jobs and based on that details fire the job.","body":"You are saving the job details in your table, get the all scheduled jobs and based on that details fire the job."},{"owner":{"account_id":1419775,"reputation":131,"user_id":1344649,"accept_rate":50,"display_name":"Brent Fisher"},"score":1,"creation_date":1615679884,"post_id":59668275,"comment_id":117766925,"body_markdown":"Why in the world wouldn&#39;t it automatically stay scheduled?","body":"Why in the world wouldn&#39;t it automatically stay scheduled?"},{"owner":{"account_id":1419775,"reputation":131,"user_id":1344649,"accept_rate":50,"display_name":"Brent Fisher"},"score":1,"creation_date":1615694873,"post_id":59668275,"comment_id":117769003,"body_markdown":"I ended up using my own user defined tables with validFrom and validThru dates on it that I changed whenever I scheduled jobs. When it restarted, I&#39;d skim through them all and rescheduled.","body":"I ended up using my own user defined tables with validFrom and validThru dates on it that I changed whenever I scheduled jobs. When it restarted, I&#39;d skim through them all and rescheduled."}],"tags":[],"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578587181,"creation_date":1578587181,"answer_id":59668275,"question_id":59613194,"body_markdown":"You can get the scheduled-jobs from the database and on application startup using `ApplicationRunner` or using `@EventListener(ApplicationReadyEvent.class)` and call to `startAllSchedulers()`.\r\n\r\n    public class SchedulerStartUpHandler implements ApplicationRunner {\r\n    \r\n        @Autowired\r\n        private SchedulerService schedulerService;\r\n    \r\n        @Override\r\n        public void run(ApplicationArguments args) throws Exception {\r\n            log.info(&quot;Schedule all new scheduler jobs at app startup - starting&quot;);\r\n            try {\r\n                schedulerService.startAllSchedulers();\r\n                log.info(&quot;Schedule all new scheduler jobs at app startup - complete&quot;);\r\n            } catch (Exception ex) {\r\n                log.error(&quot;Schedule all new scheduler jobs at app startup - error&quot;, ex);\r\n            }\r\n        }\r\n    }\r\n\r\nOR\r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void startTheScheduledJobFromDatabase() {\r\n        startAllSchedulers();\r\n    }\r\n\r\n\r\n----------\r\n**startAllSchedulers()**\r\n\r\n    public void startAllSchedulers() {\r\n       List&lt;SchedulerJobInfo&gt; jobInfoList = schedulerRepository.findAll();\r\n        if (jobInfoList != null) {\r\n            Scheduler scheduler = schedulerFactoryBean.getScheduler();\r\n            jobInfoList.forEach(jobInfo -&gt; {\r\n                try {\r\n                    JobDetail jobDetail = JobBuilder.newJob(SampleCronJob.class)\r\n                            .withIdentity(jobInfo.getJobName(), jobInfo.getJobGroup()).build();\r\n                    if (!scheduler.checkExists(jobDetail.getKey())) {\r\n                        Trigger trigger;\r\n                        jobDetail = scheduleCreator.createJob(SampleCronJob.class,\r\n                                false, context, jobInfo.getJobName(), jobInfo.getJobGroup());\r\n\r\n                        if (jobInfo.getCronJob() &amp;&amp; CronExpression.isValidExpression(jobInfo.getCronExpression())) {\r\n                            trigger = scheduleCreator.createCronTrigger(jobInfo.getJobName(), new Date(),\r\n                                    jobInfo.getCronExpression(), SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\r\n                        } else {\r\n                            trigger = scheduleCreator.createSimpleTrigger(jobInfo.getJobName(), new Date(),\r\n                                    jobInfo.getRepeatTime(), SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\r\n                        }\r\n\r\n                        scheduler.scheduleJob(jobDetail, trigger);\r\n\r\n                    }\r\n                } catch (SchedulerException e) {\r\n                    log.error(e.getMessage(), e);\r\n                }\r\n            });\r\n        }\r\n    }","title":"How to restart Quartz jobs which is stored in DB?","body":"<p>You can get the scheduled-jobs from the database and on application startup using <code>ApplicationRunner</code> or using <code>@EventListener(ApplicationReadyEvent.class)</code> and call to <code>startAllSchedulers()</code>.</p>\n\n<pre><code>public class SchedulerStartUpHandler implements ApplicationRunner {\n\n    @Autowired\n    private SchedulerService schedulerService;\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        log.info(\"Schedule all new scheduler jobs at app startup - starting\");\n        try {\n            schedulerService.startAllSchedulers();\n            log.info(\"Schedule all new scheduler jobs at app startup - complete\");\n        } catch (Exception ex) {\n            log.error(\"Schedule all new scheduler jobs at app startup - error\", ex);\n        }\n    }\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>@EventListener(ApplicationReadyEvent.class)\npublic void startTheScheduledJobFromDatabase() {\n    startAllSchedulers();\n}\n</code></pre>\n\n<hr>\n\n<p><strong>startAllSchedulers()</strong></p>\n\n<pre><code>public void startAllSchedulers() {\n   List&lt;SchedulerJobInfo&gt; jobInfoList = schedulerRepository.findAll();\n    if (jobInfoList != null) {\n        Scheduler scheduler = schedulerFactoryBean.getScheduler();\n        jobInfoList.forEach(jobInfo -&gt; {\n            try {\n                JobDetail jobDetail = JobBuilder.newJob(SampleCronJob.class)\n                        .withIdentity(jobInfo.getJobName(), jobInfo.getJobGroup()).build();\n                if (!scheduler.checkExists(jobDetail.getKey())) {\n                    Trigger trigger;\n                    jobDetail = scheduleCreator.createJob(SampleCronJob.class,\n                            false, context, jobInfo.getJobName(), jobInfo.getJobGroup());\n\n                    if (jobInfo.getCronJob() &amp;&amp; CronExpression.isValidExpression(jobInfo.getCronExpression())) {\n                        trigger = scheduleCreator.createCronTrigger(jobInfo.getJobName(), new Date(),\n                                jobInfo.getCronExpression(), SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\n                    } else {\n                        trigger = scheduleCreator.createSimpleTrigger(jobInfo.getJobName(), new Date(),\n                                jobInfo.getRepeatTime(), SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW);\n                    }\n\n                    scheduler.scheduleJob(jobDetail, trigger);\n\n                }\n            } catch (SchedulerException e) {\n                log.error(e.getMessage(), e);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680790257,"creation_date":1680790257,"answer_id":75950509,"question_id":59613194,"body_markdown":"I hope this information will be useful for you (this is a copy of my answer in this [thread](https://stackoverflow.com/a/75949972/19659058))\r\n\r\nBelow is an example of a multi-instance Spring Boot application that launches a cron job.  \r\nThe Job must be running on only one of the instances.  \r\nThe configuration of each instance must be the same.  \r\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.  \r\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.\r\n\r\n\r\n**We will use Quartz in cluster mode:**\r\n\r\nDeps:\r\n```groovy\r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\r\n```\r\n\r\nAt first, it is a bad idea to use Thread.sleep(600000) as said in this [answer](https://stackoverflow.com/a/4409263/19659058)  \r\n*Out job:*\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass SomeJob(\r\n    private val someService: SomeService\r\n) : QuartzJobBean() {\r\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\r\n    \r\n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\r\n        try {\r\n            log.info(&quot;Doing awesome work...&quot;)\r\n            someService.work()\r\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\r\n        } catch (e: Exception) {\r\n            throw JobExecutionException(e)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the Quartz configuration (more information [here](https://www.baeldung.com/spring-quartz-schedule)):\r\n```kotlin\r\n@Configuration\r\n@Profile(&quot;quartz&quot;)\r\nclass JobConfig {\r\n    //JobDetail for our job\r\n    @Bean\r\n    fun someJobDetail(): JobDetail {\r\n        return JobBuilder\r\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\r\n            .withDescription(&quot;Some job&quot;)\r\n            //If we want the job to be launched after the application instance crashes at the \r\n            //next launch\r\n            .requestRecovery(true)\r\n            .storeDurably().build()\r\n    }\r\n\r\n    //Trigger\r\n    @Bean\r\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\r\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\r\n            .withIdentity(&quot;SomeJobTrigger&quot;)\r\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0/30 * * ? * * *&quot;))\r\n            .build()\r\n\r\n    }\r\n\r\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\r\n    @Bean\r\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\r\n        factory.setWaitForJobsToCompleteOnShutdown(true)\r\n        val scheduler = factory.scheduler\r\n        factory.setOverwriteExistingJobs(true)\r\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\r\n        factory.setTransactionManager(JdbcTransactionManager())\r\n        rescheduleTriggers(triggers, scheduler)\r\n        scheduler.start()\r\n        return scheduler\r\n    }\r\n\r\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\r\n        triggers.forEach {\r\n            if (!scheduler.checkExists(it.key)) {\r\n                scheduler.scheduleJob(it)\r\n            } else {\r\n                scheduler.rescheduleJob(it.key, it)\r\n            }\r\n        }\r\n    }\r\n}\r\n    \r\n```\r\nAdd a listener to the scheduler:\r\n```kotlin\r\n@Component\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListenerConfig(\r\n    private val schedulerFactory: SchedulerFactoryBean,\r\n    private val jobListener: JobListener\r\n) {\r\n    @PostConstruct\r\n    fun addListener() {\r\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd now the most important - the logic of processing the execution of our job with listener:\r\n```kotlin\r\n@Profile(&quot;quartz&quot;)\r\nclass JobListener(\r\n    //can be obtained from the execution context, but it can also be injected\r\n    private val scheduler: Scheduler,\r\n    private val triggers: List&lt;Trigger&gt;\r\n): JobListenerSupport() {\r\n\r\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\r\n\r\n    @PostConstruct\r\n    fun post(){\r\n        //there will be no recovery triggers , only our self-written ones\r\n        triggerCronMap = triggers.associate {\r\n            it.key.name to (it as CronTrigger).cronExpression\r\n        }\r\n    }\r\n\r\n    override fun getName(): String {\r\n        return &quot;myJobListener&quot;\r\n    }\r\n\r\n\r\n    override fun jobToBeExecuted(context: JobExecutionContext) {\r\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\r\n    }\r\n\r\n\r\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\r\n        //you can use context.mergedJobDataMap\r\n        val dataMap = context.trigger.jobDataMap\r\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\r\n            dataMap.putAsString(&quot;count&quot;, 1)\r\n            1\r\n        }\r\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\r\n        if (jobException != null ){\r\n            if (count &lt; 3) {\r\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\r\n                val oldTrigger = context.trigger\r\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\r\n                //in case such a trigger already exists\r\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\r\n                    .map { it.key.name }\r\n                    .takeIf { it.contains(newTriggerName) }\r\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\r\n                val newTrigger = TriggerBuilder.newTrigger()\r\n                    .forJob(context.jobDetail)\r\n                    .withIdentity(newTriggerName, context.trigger.key.group)\r\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\r\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\r\n                    .usingJobData(&quot;count&quot;, count + 1 )\r\n                    .build()\r\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\r\n                log.warn(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\r\n            } else {\r\n                log.warn(&quot;The maximum number of restarts has been reached. Restart attempts: $count&quot;)\r\n                recheduleWithDefaultTrigger(context)\r\n            }\r\n        } else if (count &gt; 1) {\r\n            recheduleWithDefaultTrigger(context)\r\n        }\r\n        else {\r\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\r\n        }\r\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\r\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\r\n        }\r\n    }\r\n\r\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\r\n        val clone = context.jobDetail.clone() as JobDetail\r\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\r\n        //Recovery triggers should not be rescheduled\r\n        if (!triggerCronMap.contains(defaultTriggerName)) {\r\n            log.warn(&quot;This trigger: ${context.trigger.key.name} for job: ${context.trigger.jobKey.name} is not self-written trigger. It can be recovery trigger or whatever. This trigger must not be recheduled.&quot;)\r\n            return\r\n        }\r\n        log.warn(&quot;Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: $defaultTriggerName&quot;)\r\n        scheduler.deleteJob(clone.key)\r\n        scheduler.addJob(clone, true)\r\n        scheduler.scheduleJob(\r\n            TriggerBuilder.newTrigger()\r\n                .forJob(clone)\r\n                .withIdentity(defaultTriggerName)\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\r\n                .usingJobData(&quot;count&quot;, 1)\r\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\r\n                .build()\r\n        )\r\n    }\r\n}\r\n```\r\nLast but not least: **application.yaml**\r\n```yaml\r\nspring:\r\n  quartz:\r\n    job-store-type: jdbc #Database Mode\r\n    jdbc:\r\n      initialize-schema: never #Do not initialize table structure\r\n    properties:\r\n      org:\r\n        quartz:\r\n          scheduler:\r\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\r\n            #instanceName: clusteredScheduler #quartzScheduler\r\n          jobStore:\r\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\r\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\r\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\r\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\r\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\r\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\r\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance&#39;checkin&#39;* with other instances of the cluster.Affects the speed of detecting failed instances.\r\n            isClustered: true #Turn on Clustering\r\n          threadPool: #Connection Pool\r\n            class: org.quartz.simpl.SimpleThreadPool\r\n            threadCount: 3\r\n            threadPriority: 1\r\n            threadsInheritContextClassLoaderOfInitializingThread: true\r\n```\r\n\r\n[Here](https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore) official scripts for database (use liquibase or flyway)      \r\nMore information:   \r\n[About quartz](https://www.baeldung.com/quartz)  \r\n[spring boot using quartz in cluster mode](https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9)  \r\n[One more article](https://habr.com/ru/companies/surfstudio/articles/685980)  \r\n[Cluster effectively quartz](https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191)","title":"How to restart Quartz jobs which is stored in DB?","body":"<p>I hope this information will be useful for you (this is a copy of my answer in this <a href=\"https://stackoverflow.com/a/75949972/19659058\">thread</a>)</p>\n<p>Below is an example of a multi-instance Spring Boot application that launches a cron job.<br />\nThe Job must be running on only one of the instances.<br />\nThe configuration of each instance must be the same.<br />\nIf a job crashes, it should try to restart 3 times with a delay of 5 minutes * number of restart attempts.<br />\nIf the job still crashes after 3 restarts, the default cron for our job trigger should be set.</p>\n<p><strong>We will use Quartz in cluster mode:</strong></p>\n<p>Deps:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-quartz&quot;)\n</code></pre>\n<p>At first, it is a bad idea to use Thread.sleep(600000) as said in this <a href=\"https://stackoverflow.com/a/4409263/19659058\">answer</a><br />\n<em>Out job:</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass SomeJob(\n    private val someService: SomeService\n) : QuartzJobBean() {\n    private val log: Logger = LoggerFactory.getLogger(SomeJob::class.java)\n    \n    override fun executeInternal(jobExecutionContext: JobExecutionContext) {\n        try {\n            log.info(&quot;Doing awesome work...&quot;)\n            someService.work()\n            if ((1..10).random() &gt;= 5) throw RuntimeException(&quot;Something went wrong...&quot;)\n        } catch (e: Exception) {\n            throw JobExecutionException(e)\n        }\n    }\n}\n</code></pre>\n<p>Here is the Quartz configuration (more information <a href=\"https://www.baeldung.com/spring-quartz-schedule\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@Profile(&quot;quartz&quot;)\nclass JobConfig {\n    //JobDetail for our job\n    @Bean\n    fun someJobDetail(): JobDetail {\n        return JobBuilder\n            .newJob(SomeJob::class.java).withIdentity(&quot;SomeJob&quot;)\n            .withDescription(&quot;Some job&quot;)\n            //If we want the job to be launched after the application instance crashes at the \n            //next launch\n            .requestRecovery(true)\n            .storeDurably().build()\n    }\n\n    //Trigger\n    @Bean\n    fun someJobTrigger(someJobDetail: JobDetail): Trigger {\n        return TriggerBuilder.newTrigger().forJob(someJobDetail)\n            .withIdentity(&quot;SomeJobTrigger&quot;)\n            .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0/30 * * ? * * *&quot;))\n            .build()\n\n    }\n\n    //Otherwise, changing cron for an existing trigger will not work. (the old cron value will be stored in the database)\n    @Bean\n    fun scheduler(triggers: List&lt;Trigger&gt;, jobDetails: List&lt;JobDetail&gt;, factory: SchedulerFactoryBean): Scheduler {\n        factory.setWaitForJobsToCompleteOnShutdown(true)\n        val scheduler = factory.scheduler\n        factory.setOverwriteExistingJobs(true)\n        //https://stackoverflow.com/questions/39673572/spring-quartz-scheduler-race-condition\n        factory.setTransactionManager(JdbcTransactionManager())\n        rescheduleTriggers(triggers, scheduler)\n        scheduler.start()\n        return scheduler\n    }\n\n    private fun rescheduleTriggers(triggers: List&lt;Trigger&gt;, scheduler: Scheduler) {\n        triggers.forEach {\n            if (!scheduler.checkExists(it.key)) {\n                scheduler.scheduleJob(it)\n            } else {\n                scheduler.rescheduleJob(it.key, it)\n            }\n        }\n    }\n}\n    \n</code></pre>\n<p>Add a listener to the scheduler:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Profile(&quot;quartz&quot;)\nclass JobListenerConfig(\n    private val schedulerFactory: SchedulerFactoryBean,\n    private val jobListener: JobListener\n) {\n    @PostConstruct\n    fun addListener() {\n        schedulerFactory.scheduler.listenerManager.addJobListener(jobListener, KeyMatcher.keyEquals(jobKey(&quot;SomeJob&quot;)))\n    }\n}\n\n</code></pre>\n<p>And now the most important - the logic of processing the execution of our job with listener:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Profile(&quot;quartz&quot;)\nclass JobListener(\n    //can be obtained from the execution context, but it can also be injected\n    private val scheduler: Scheduler,\n    private val triggers: List&lt;Trigger&gt;\n): JobListenerSupport() {\n\n    private lateinit var triggerCronMap: Map&lt;String, String&gt;\n\n    @PostConstruct\n    fun post(){\n        //there will be no recovery triggers , only our self-written ones\n        triggerCronMap = triggers.associate {\n            it.key.name to (it as CronTrigger).cronExpression\n        }\n    }\n\n    override fun getName(): String {\n        return &quot;myJobListener&quot;\n    }\n\n\n    override fun jobToBeExecuted(context: JobExecutionContext) {\n        log.info(&quot;Job: ${context.jobDetail.key.name} ready to start by trigger: ${context.trigger.key.name}&quot;)\n    }\n\n\n    override fun jobWasExecuted(context: JobExecutionContext, jobException: JobExecutionException?) {\n        //you can use context.mergedJobDataMap\n        val dataMap = context.trigger.jobDataMap\n        val count = if (dataMap[&quot;count&quot;] != null) dataMap.getIntValue(&quot;count&quot;) else {\n            dataMap.putAsString(&quot;count&quot;, 1)\n            1\n        }\n        //in the if block, you can add the condition &amp;&amp; !context.trigger.key.name.startsWith(&quot;recover_&quot;) - in this case, the scheduler will not restart recover triggers if they fall during execution\n        if (jobException != null ){\n            if (count &lt; 3) {\n                log.warn(&quot;Job: ${context.jobDetail.key.name} filed while execution. Restart attempts count: $count &quot;)\n                val oldTrigger = context.trigger\n                var newTriggerName = context.trigger.key.name + &quot;_retry&quot;\n                //in case such a trigger already exists\n                context.scheduler.getTriggersOfJob(context.jobDetail.key)\n                    .map { it.key.name }\n                    .takeIf { it.contains(newTriggerName) }\n                    ?.apply { newTriggerName += &quot;_retry&quot; }\n                val newTrigger = TriggerBuilder.newTrigger()\n                    .forJob(context.jobDetail)\n                    .withIdentity(newTriggerName, context.trigger.key.group)\n                    //create a simple trigger that should be fired in 5 minutes * restart attempts\n                    .startAt(Date.from(Instant.now().plus((5 * count).toLong(), ChronoUnit.MINUTES)))\n                    .usingJobData(&quot;count&quot;, count + 1 )\n                    .build()\n                val date = scheduler.rescheduleJob(oldTrigger.key, newTrigger)\n                log.warn(&quot;Rescheduling trigger: ${oldTrigger.key} to trigger: ${newTrigger.key}&quot;)\n            } else {\n                log.warn(&quot;The maximum number of restarts has been reached. Restart attempts: $count&quot;)\n                recheduleWithDefaultTrigger(context)\n            }\n        } else if (count &gt; 1) {\n            recheduleWithDefaultTrigger(context)\n        }\n        else {\n            log.info(&quot;Job: ${context.jobDetail.key.name} completed successfully&quot;)\n        }\n        context.scheduler.getTriggersOfJob(context.trigger.jobKey).forEach {\n            log.info(&quot;Trigger with key: ${it.key} for job: ${context.trigger.jobKey.name} will start at ${it.nextFireTime ?: it.startTime}&quot;)\n        }\n    }\n\n    private fun recheduleWithDefaultTrigger(context: JobExecutionContext) {\n        val clone = context.jobDetail.clone() as JobDetail\n        val defaultTriggerName = context.trigger.key.name.split(&quot;_&quot;)[0]\n        //Recovery triggers should not be rescheduled\n        if (!triggerCronMap.contains(defaultTriggerName)) {\n            log.warn(&quot;This trigger: ${context.trigger.key.name} for job: ${context.trigger.jobKey.name} is not self-written trigger. It can be recovery trigger or whatever. This trigger must not be recheduled.&quot;)\n            return\n        }\n        log.warn(&quot;Remove all triggers for job: ${context.trigger.jobKey.name} and schedule default trigger for it: $defaultTriggerName&quot;)\n        scheduler.deleteJob(clone.key)\n        scheduler.addJob(clone, true)\n        scheduler.scheduleJob(\n            TriggerBuilder.newTrigger()\n                .forJob(clone)\n                .withIdentity(defaultTriggerName)\n                .withSchedule(CronScheduleBuilder.cronSchedule(triggerCronMap[defaultTriggerName]))\n                .usingJobData(&quot;count&quot;, 1)\n                .startAt(Date.from(Instant.now().plusSeconds(5)))\n                .build()\n        )\n    }\n}\n</code></pre>\n<p>Last but not least: <strong>application.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  quartz:\n    job-store-type: jdbc #Database Mode\n    jdbc:\n      initialize-schema: never #Do not initialize table structure\n    properties:\n      org:\n        quartz:\n          scheduler:\n            instanceId: AUTO #Default hostname and timestamp generate instance ID, which can be any string, but must be the only corresponding qrtz_scheduler_state INSTANCE_NAME field for all dispatchers\n            #instanceName: clusteredScheduler #quartzScheduler\n          jobStore:\n#            a few problems with the two properties below: https://github.com/spring-projects/spring-boot/issues/28758#issuecomment-974628989 &amp; https://github.com/quartz-scheduler/quartz/issues/284\n#            class: org.springframework.scheduling.quartz.LocalDataSourceJobStore #Persistence Configuration\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate #We only make database-specific proxies for databases\n#            useProperties: true #Indicates that JDBC JobStore stores all values in JobDataMaps as strings, so more complex objects can be stored as name-value pairs rather than serialized in BLOB columns.In the long run, this is safer because you avoid serializing non-String classes to BLOB class versions.\n            tablePrefix: scam_quartz.QRTZ_  #Database Table Prefix\n            misfireThreshold: 60000 #The number of milliseconds the dispatcher will &quot;tolerate&quot; a Trigger to pass its next startup time before being considered a &quot;fire&quot;.The default value (if you do not enter this property in the configuration) is 60000 (60 seconds).\n            clusterCheckinInterval: 5000 #Set the frequency (in milliseconds) of this instance'checkin'* with other instances of the cluster.Affects the speed of detecting failed instances.\n            isClustered: true #Turn on Clustering\n          threadPool: #Connection Pool\n            class: org.quartz.simpl.SimpleThreadPool\n            threadCount: 3\n            threadPriority: 1\n            threadsInheritContextClassLoaderOfInitializingThread: true\n</code></pre>\n<p><a href=\"https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">Here</a> official scripts for database (use liquibase or flyway)<br />\nMore information:<br />\n<a href=\"https://www.baeldung.com/quartz\" rel=\"nofollow noreferrer\">About quartz</a><br />\n<a href=\"https://medium.com/javarevisited/spring-boot-using-quartz-in-mode-cluster-e1d71e4af4b9\" rel=\"nofollow noreferrer\">spring boot using quartz in cluster mode</a><br />\n<a href=\"https://habr.com/ru/companies/surfstudio/articles/685980\" rel=\"nofollow noreferrer\">One more article</a><br />\n<a href=\"https://medium.com/javarevisited/how-to-cluster-effectively-quartz-jobs-9b097f5e1191\" rel=\"nofollow noreferrer\">Cluster effectively quartz</a></p>\n"}],"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5157,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1680790257,"creation_date":1578318160,"question_id":59613194,"body_markdown":"I have a `scheduler` application which runs using `Spring Boot` &amp; `Quartz`. I have created the job with multiple triggers (cron) which is running perfectly fine. The details of the job, cron expressions are storing at the database.\r\n\r\nHere is the requirement, whenever restarting the application the stored triggers are not firing. I know a workaround to make it happen. Storing the details of job, trigger in a user defined table. Should be loaded upfront whenever the application starts. But I am not sure the approach is right or wrong.\r\n\r\nAlso I have referred lot of articles and github projects to find out how to restart/resume/re-initiate jobs.\r\n\r\nThere could be a solution where I couldn&#39;t find, maybe lack of understanding of quartz or something. I am sure someone would have experienced the scenario and found a way to overcome it. It will be grateful if someone provide an answer.","title":"How to restart Quartz jobs which is stored in DB?","body":"<p>I have a <code>scheduler</code> application which runs using <code>Spring Boot</code> &amp; <code>Quartz</code>. I have created the job with multiple triggers (cron) which is running perfectly fine. The details of the job, cron expressions are storing at the database.</p>\n\n<p>Here is the requirement, whenever restarting the application the stored triggers are not firing. I know a workaround to make it happen. Storing the details of job, trigger in a user defined table. Should be loaded upfront whenever the application starts. But I am not sure the approach is right or wrong.</p>\n\n<p>Also I have referred lot of articles and github projects to find out how to restart/resume/re-initiate jobs.</p>\n\n<p>There could be a solution where I couldn't find, maybe lack of understanding of quartz or something. I am sure someone would have experienced the scenario and found a way to overcome it. It will be grateful if someone provide an answer.</p>\n"},{"tags":["java","maven","dockerfile"],"comments":[{"owner":{"account_id":20137339,"reputation":5,"user_id":14768013,"display_name":"Ferich1"},"score":0,"creation_date":1680790149,"post_id":75950457,"comment_id":133960013,"body_markdown":"Lool what... My maven was in the offline mode. How?.. Okaaaay. I switched off offline mode. But why Maven switched on an offline mode? Loll","body":"Lool what... My maven was in the offline mode. How?.. Okaaaay. I switched off offline mode. But why Maven switched on an offline mode? Loll"}],"owner":{"account_id":20137339,"reputation":5,"user_id":14768013,"display_name":"Ferich1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680790002,"creation_date":1680790002,"question_id":75950457,"body_markdown":"I am trying to include docker-maven-plugin to my pom.xml file but always I get an error: Cannot resolve plugin io.fabric8:docker-maven-plugin:0.42.0.\r\n\r\nWhat am I doing wrong?\r\nHere is my pom.xml file:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.10&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.optimagrowth&lt;/groupId&gt;\r\n    &lt;artifactId&gt;licensing-service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;Microservices1&lt;/name&gt;\r\n    &lt;description&gt;Microservices1&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;docker.image.prefix&gt;ostock&lt;/docker.image.prefix&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.22&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- This plugin is used to create a docker image and publish the image to docker hub--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.fabric8&lt;/groupId&gt;\r\n                &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.42.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;\r\n                    &lt;tag&gt;${project.version}&lt;/tag&gt;\r\n                    &lt;buildArgs&gt;\r\n                        &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt;\r\n                    &lt;/buildArgs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default&lt;/id&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;goal&gt;push&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\nAlso I tried to add dockerfile-maven plugin, but I got the same error: Cannot resolve plugin com.spotify:dockerfile-maven-plugin:1.4.13.","title":"Cannot resolve plugin io.fabric8:docker-maven-plugin:0.42.0","body":"<p>I am trying to include docker-maven-plugin to my pom.xml file but always I get an error: Cannot resolve plugin io.fabric8:docker-maven-plugin:0.42.0.</p>\n<p>What am I doing wrong?\nHere is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.10&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.optimagrowth&lt;/groupId&gt;\n    &lt;artifactId&gt;licensing-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Microservices1&lt;/name&gt;\n    &lt;description&gt;Microservices1&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;docker.image.prefix&gt;ostock&lt;/docker.image.prefix&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;!-- This plugin is used to create a docker image and publish the image to docker hub--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.fabric8&lt;/groupId&gt;\n                &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.42.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;repository&gt;${docker.image.prefix}/${project.artifactId}&lt;/repository&gt;\n                    &lt;tag&gt;${project.version}&lt;/tag&gt;\n                    &lt;buildArgs&gt;\n                        &lt;JAR_FILE&gt;target/${project.build.finalName}.jar&lt;/JAR_FILE&gt;\n                    &lt;/buildArgs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default&lt;/id&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;goal&gt;push&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Also I tried to add dockerfile-maven plugin, but I got the same error: Cannot resolve plugin com.spotify:dockerfile-maven-plugin:1.4.13.</p>\n"},{"tags":["java","awt","x11"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1680711573,"post_id":75941817,"comment_id":133945763,"body_markdown":"Looks like you haven&#39;t installed zthe x11 components of you OS","body":"Looks like you haven&#39;t installed zthe x11 components of you OS"},{"owner":{"account_id":28224593,"reputation":29,"user_id":21574817,"display_name":"jlan"},"score":0,"creation_date":1680711930,"post_id":75941817,"comment_id":133945855,"body_markdown":"I have installed X11 and it works if I type startx","body":"I have installed X11 and it works if I type startx"},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1680717073,"post_id":75941817,"comment_id":133947059,"body_markdown":"Does this answer your question? [Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable](https://stackoverflow.com/questions/10165761/java-cant-connect-to-x11-window-server-using-localhost10-0-as-the-value-of-t)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10165761/java-cant-connect-to-x11-window-server-using-localhost10-0-as-the-value-of-t\">Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable</a>"},{"owner":{"account_id":28224593,"reputation":29,"user_id":21574817,"display_name":"jlan"},"score":0,"creation_date":1680770781,"post_id":75941817,"comment_id":133955504,"body_markdown":"Won&#39;t work, but thanks anyways","body":"Won&#39;t work, but thanks anyways"}],"answers":[{"comments":[{"owner":{"account_id":28224593,"reputation":29,"user_id":21574817,"display_name":"jlan"},"score":0,"creation_date":1680766201,"post_id":75942023,"comment_id":133954467,"body_markdown":"Thanks! &quot;export DISPLAY=:0&quot; won&#39;t work as I keep getting the same exception. When I try to start xterm or xhost I have the same problem: &quot;No protocol specified xterm: Xt error: Can&#39;t open display: :0&quot;. Just checked that ssh is not listening on port 6010. Any ideas??","body":"Thanks! &quot;export DISPLAY=:0&quot; won&#39;t work as I keep getting the same exception. When I try to start xterm or xhost I have the same problem: &quot;No protocol specified xterm: Xt error: Can&#39;t open display: :0&quot;. Just checked that ssh is not listening on port 6010. Any ideas??"}],"tags":[],"owner":{"account_id":12902766,"reputation":173,"user_id":9331018,"display_name":"M Virts"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680712983,"creation_date":1680712983,"answer_id":75942023,"question_id":75941817,"body_markdown":"Based on the localhost:10.0 value of DISPLAY, it seems likely that you are connecting to the raspberry pi via SSH and your SSH client is attempting to do X forwarding (allowing remote programs to open windows on your local computer). Disable X forwarding in your SSH client or set your DISPLAY variable to something else to avoid this. I would try `export DISPLAY=:0` as a starting point for testing.\r\n\r\nIf that doesn&#39;t help, try running a known X application like `xterm` to see if it will connect to the X server and create a window. If this fails, you may need to fix your X server configuration, or an X server may not be running.\r\n\r\nIf that succeeds, check the DISPLAY variable that works for the other program (`echo $DISPLAY`) and try using whatever value is set there. (e.g. `export DISPLAY=:0`)\r\n\r\nNote that X display numbers usually correspond to a TCP port number where the X server is listening. The display number is 6000 less than the port number, so display 0 listens on port 6000, display 10 listens on 6010. This means you can use a command like `netstat -tlp` to list out programs that are listening on specific ports and check if anything is listening on port 6010, corresponding to localhost:10.0 in your DISPLAY variable. If the process listening on 6010 is ssh, your client is attempting to provide X forwarding.\r\n\r\nAlso note that on most systems X servers have an authentication mechanism that prevents users that didn&#39;t start a session from connecting. (look up XAuthority file for more info) Usually the root user can open windows on any X server, so it may be worth trying as the root user to test.\r\n\r\n\r\n\r\n","title":"java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>Based on the localhost:10.0 value of DISPLAY, it seems likely that you are connecting to the raspberry pi via SSH and your SSH client is attempting to do X forwarding (allowing remote programs to open windows on your local computer). Disable X forwarding in your SSH client or set your DISPLAY variable to something else to avoid this. I would try <code>export DISPLAY=:0</code> as a starting point for testing.</p>\n<p>If that doesn't help, try running a known X application like <code>xterm</code> to see if it will connect to the X server and create a window. If this fails, you may need to fix your X server configuration, or an X server may not be running.</p>\n<p>If that succeeds, check the DISPLAY variable that works for the other program (<code>echo $DISPLAY</code>) and try using whatever value is set there. (e.g. <code>export DISPLAY=:0</code>)</p>\n<p>Note that X display numbers usually correspond to a TCP port number where the X server is listening. The display number is 6000 less than the port number, so display 0 listens on port 6000, display 10 listens on 6010. This means you can use a command like <code>netstat -tlp</code> to list out programs that are listening on specific ports and check if anything is listening on port 6010, corresponding to localhost:10.0 in your DISPLAY variable. If the process listening on 6010 is ssh, your client is attempting to provide X forwarding.</p>\n<p>Also note that on most systems X servers have an authentication mechanism that prevents users that didn't start a session from connecting. (look up XAuthority file for more info) Usually the root user can open windows on any X server, so it may be worth trying as the root user to test.</p>\n"},{"comments":[{"owner":{"account_id":12902766,"reputation":173,"user_id":9331018,"display_name":"M Virts"},"score":1,"creation_date":1681144030,"post_id":75950453,"comment_id":134005629,"body_markdown":"Nice! You may want to see if you can run X as your normal user if you&#39;re worried about giving your Java code root access. Also, sudo may have worked because it will change your environment variables such as DISPLAY. If `sudo -E java -jar ...` doesn&#39;t work it&#39;s most likely related to environment variables, the -E option preserves the environment from outside the sudo command","body":"Nice! You may want to see if you can run X as your normal user if you&#39;re worried about giving your Java code root access. Also, sudo may have worked because it will change your environment variables such as DISPLAY. If <code>sudo -E java -jar ...</code> doesn&#39;t work it&#39;s most likely related to environment variables, the -E option preserves the environment from outside the sudo command"},{"owner":{"account_id":12916039,"reputation":53,"user_id":9342994,"display_name":"genodeftest"},"score":0,"creation_date":1699788665,"post_id":75950453,"comment_id":136573004,"body_markdown":"Please do never ever suggest to run a graphical application to run with sudo / as root! This is extremely dangerous! Graphical interfaces are not designed in a safe way and applications with graphical user interface are way too complex to be executed as root. Please do not do this!","body":"Please do never ever suggest to run a graphical application to run with sudo / as root! This is extremely dangerous! Graphical interfaces are not designed in a safe way and applications with graphical user interface are way too complex to be executed as root. Please do not do this!"}],"tags":[],"owner":{"account_id":28224593,"reputation":29,"user_id":21574817,"display_name":"jlan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680789985,"creation_date":1680789985,"answer_id":75950453,"question_id":75941817,"body_markdown":"I just got it, it was as simple as writing `sudo java -jar` instead of `java -jar`, not sure why but it works now","title":"java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>I just got it, it was as simple as writing <code>sudo java -jar</code> instead of <code>java -jar</code>, not sure why but it works now</p>\n"}],"owner":{"account_id":28224593,"reputation":29,"user_id":21574817,"display_name":"jlan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2116,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75950453,"answer_count":2,"score":0,"last_activity_date":1680789985,"creation_date":1680711418,"question_id":75941817,"body_markdown":"I have a problem working connecting to X11 and DISPLAY variable\r\n\r\n\r\nI&#39;m working with a Java file in my Raspberry Pi Zero that is using JFrame and I want the window created by JFrame to show up in a monitor that is connected to my Raspberry, but I keep getting this exception. Any ideas? I&#39;m working with Java OpenJDK version &quot;1.8.0_312&quot;\r\n\r\n```none\r\nException in thread &quot;main&quot; java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable.\r\n    at sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)\r\n    at sun.awt.X11GraphicsEnvironment.access$200(X11GraphicsEnvironment.java:65)\r\n    at sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:115)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at sun.awt.X11GraphicsEnvironment.&lt;clinit&gt;(X11GraphicsEnvironment.java:74)\r\n    at java.lang.Class.forName0(Native Method)\r\n    at java.lang.Class.forName(Class.java:264)\r\n    at java.awt.GraphicsEnvironment.createGE(GraphicsEnvironment.java:103)\r\n    at java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:82)\r\n    at java.awt.Window.initGC(Window.java:475)\r\n    at java.awt.Window.init(Window.java:495)\r\n    at java.awt.Window.&lt;init&gt;(Window.java:537)\r\n    at java.awt.Frame.&lt;init&gt;(Frame.java:420)\r\n    at javax.swing.JFrame.&lt;init&gt;(JFrame.java:233)\r\n    at Prueba.main(Prueba.java:5)\r\n```\r\n\r\nI tried to start xterm or xhost to check everything was working fine but I have this problem:\r\n\r\n```none\r\nNo protocol specified\r\nxterm: Xt error: Can&#39;t open display: :0\r\n```\r\n\r\nI am using Putty as my SSH client.","title":"java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>I have a problem working connecting to X11 and DISPLAY variable</p>\n<p>I'm working with a Java file in my Raspberry Pi Zero that is using JFrame and I want the window created by JFrame to show up in a monitor that is connected to my Raspberry, but I keep getting this exception. Any ideas? I'm working with Java OpenJDK version &quot;1.8.0_312&quot;</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.awt.AWTError: Can't connect to X11 window server using 'localhost:10.0' as the value of the DISPLAY variable.\n    at sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)\n    at sun.awt.X11GraphicsEnvironment.access$200(X11GraphicsEnvironment.java:65)\n    at sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:115)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.awt.X11GraphicsEnvironment.&lt;clinit&gt;(X11GraphicsEnvironment.java:74)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at java.awt.GraphicsEnvironment.createGE(GraphicsEnvironment.java:103)\n    at java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:82)\n    at java.awt.Window.initGC(Window.java:475)\n    at java.awt.Window.init(Window.java:495)\n    at java.awt.Window.&lt;init&gt;(Window.java:537)\n    at java.awt.Frame.&lt;init&gt;(Frame.java:420)\n    at javax.swing.JFrame.&lt;init&gt;(JFrame.java:233)\n    at Prueba.main(Prueba.java:5)\n</code></pre>\n<p>I tried to start xterm or xhost to check everything was working fine but I have this problem:</p>\n<pre class=\"lang-none prettyprint-override\"><code>No protocol specified\nxterm: Xt error: Can't open display: :0\n</code></pre>\n<p>I am using Putty as my SSH client.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680790119,"post_id":75950060,"comment_id":133960003,"body_markdown":"I wouldn&#39;t expect it. What makes you think you can change the metadata through modifying the map? If you are already generating the code why modify it afterwards, feels weird to me (although the whole construct feels weird to me but that is something else).","body":"I wouldn&#39;t expect it. What makes you think you can change the metadata through modifying the map? If you are already generating the code why modify it afterwards, feels weird to me (although the whole construct feels weird to me but that is something else)."}],"owner":{"account_id":24774918,"reputation":11,"user_id":18658548,"display_name":"Amit Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680789849,"creation_date":1680787461,"question_id":75950060,"body_markdown":"I am trying to create wrapper for integrating multiple databases in spring boot.\r\nIn order to scan Repositories, i am creating Configuration class file annotated with @EnableJpaRepositories at runtime.\r\n\r\nSteps : \r\n1. Read multiple database configurations for some config file.\r\n2. Create @Configuration class file  for each database at runtime\r\n3. Register this configuration bean in spring boot at runtime.\r\n\r\nBelow is my code : \r\n\r\nMy dynamically created @Configuration class file at runtime from template looks something this : \r\n\r\n\r\n```\r\n@Configuration\r\n@Component\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories\r\npublic class TESTDBJpaConfig {\r\n\r\n\t@Autowired\r\n    private LoadTimeWeaver loadTimeWeaver;\r\n\r\n\t@Bean(&quot;testdbdatasource&quot;)\r\n    public DataSource clusterDataSource() throws Exception {\r\n       \r\n\t\t// Initalizing datasource as per config value : say testDataSOurce    \r\n        return testDataSOurce;\r\n    }\r\n\r\n    @Bean(&quot;testentitymanager&quot;)\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() throws Exception {\r\n    \tLocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\r\n    \tentityManagerFactory.setDataSource(clusterDataSource());\r\n\t\tentityManagerFactory.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n\r\n\t\tString packageName = &quot;&quot;; // package name picked from config\r\n\t\tentityManagerFactory.setPackagesToScan(packageName);\r\n\r\n\t\tentityManagerFactory.setLoadTimeWeaver(loadTimeWeaver);\r\n\r\n        return entityManagerFactory;\r\n    }\r\n\r\n    @Bean(&quot;testtxnmanager&quot;)\r\n    public PlatformTransactionManager transactionManager() throws Exception {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n\t    transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\r\n\t    return transactionManager;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI am modifying the attributes of @EnableJpaRepositories at runtime and then registering the bean. Below is the code for that :\r\n\r\n\r\n```\r\n@Component\r\npublic class DatabasePostProcessor implements BeanFactoryPostProcessor {\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n        try {\r\n        \t\tString generatedCode = &quot;// Sample code for @COnfiguration class show above is this string&quot;\r\n            \tString className = &quot;com.example.database.TESTDBJpaConfig&quot;;\r\n                Class&lt;?&gt; generatedClass = InMemoryJavaCompiler.newInstance().compile(className, generatedCode);\r\n                \r\n                // Update @EnableJpaRepositories annotation with correct values\r\n                updateJpaAnnotation(generatedClass);\r\n\r\n                // register the bean here\r\n                BeanDefinitionRegistry registry = ((BeanDefinitionRegistry )beanFactory);\r\n                GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\r\n                beanDefinition.setBeanClass(generatedClass);\r\n                beanDefinition.setLazyInit(false);\r\n                beanDefinition.setAbstract(false);\r\n                beanDefinition.setAutowireCandidate(true);\r\n                registry.registerBeanDefinition(className,beanDefinition);\r\n                beanDefinition.getBeanClass().newInstance();\r\n\r\n        } catch (Exception exp) {\r\n            log.error(&quot;Unable to setup database&quot;);\r\n        }\r\n    }\r\n\r\n    private void updateJpaAnnotation(Class&lt;?&gt; generatedClass) throws Exception {\r\n        Method method = Class.class.getDeclaredMethod(&quot;annotationData&quot;, null);\r\n        method.setAccessible(true);\r\n        Object annotationData = method.invoke(generatedClass, null);\r\n        Field declaredAnnotations = annotationData.getClass().getDeclaredField(&quot;declaredAnnotations&quot;);\r\n        declaredAnnotations.setAccessible(true);\r\n        Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt; annotations = (Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt;) declaredAnnotations.get(annotationData);\r\n        Annotation oldJpaAnnotation = annotations.get(EnableJpaRepositories.class);\r\n        Annotation newJpaAnnotation = new EnableJpaRepositories(){\r\n            @Override\r\n            public Class&lt;? extends Annotation&gt; annotationType() {\r\n                return oldJpaAnnotation.annotationType();\r\n            }\r\n            @Override\r\n            public String[] basePackages() {\r\n                return // Base package from config;\r\n            }\r\n            @Override\r\n            public String entityManagerFactoryRef() {\r\n                return &quot;testentitymanager&quot;;\r\n            }\r\n\r\n            @Override\r\n            public String transactionManagerRef() {\r\n                return &quot;testtxnmanager&quot;;\r\n            }\r\n            // rest of the code\r\n        };\r\n        annotations.put(EnableJpaRepositories.class, newJpaAnnotation);\r\n    }\r\n}\r\n```\r\n\r\nProblem is : when i am running the code bean is getting registered, but code erros out when i @Autowire any repository class. It says &quot;required a bean of type XYZ Repository not found&quot;.\r\n\r\nIdeally when the bean is registered @EnableJpaRepositories with updated basePackages attribute it should have scanned them right ?\r\n\r\n\r\nPlease help me here, what am i doing wrong here","title":"How to register dynamically created class file for @EnableJpaRepository","body":"<p>I am trying to create wrapper for integrating multiple databases in spring boot.\nIn order to scan Repositories, i am creating Configuration class file annotated with @EnableJpaRepositories at runtime.</p>\n<p>Steps :</p>\n<ol>\n<li>Read multiple database configurations for some config file.</li>\n<li>Create @Configuration class file  for each database at runtime</li>\n<li>Register this configuration bean in spring boot at runtime.</li>\n</ol>\n<p>Below is my code :</p>\n<p>My dynamically created @Configuration class file at runtime from template looks something this :</p>\n<pre><code>@Configuration\n@Component\n@EnableTransactionManagement\n@EnableJpaRepositories\npublic class TESTDBJpaConfig {\n\n    @Autowired\n    private LoadTimeWeaver loadTimeWeaver;\n\n    @Bean(&quot;testdbdatasource&quot;)\n    public DataSource clusterDataSource() throws Exception {\n       \n        // Initalizing datasource as per config value : say testDataSOurce    \n        return testDataSOurce;\n    }\n\n    @Bean(&quot;testentitymanager&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() throws Exception {\n        LocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactory.setDataSource(clusterDataSource());\n        entityManagerFactory.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n\n        String packageName = &quot;&quot;; // package name picked from config\n        entityManagerFactory.setPackagesToScan(packageName);\n\n        entityManagerFactory.setLoadTimeWeaver(loadTimeWeaver);\n\n        return entityManagerFactory;\n    }\n\n    @Bean(&quot;testtxnmanager&quot;)\n    public PlatformTransactionManager transactionManager() throws Exception {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>I am modifying the attributes of @EnableJpaRepositories at runtime and then registering the bean. Below is the code for that :</p>\n<pre><code>@Component\npublic class DatabasePostProcessor implements BeanFactoryPostProcessor {\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        try {\n                String generatedCode = &quot;// Sample code for @COnfiguration class show above is this string&quot;\n                String className = &quot;com.example.database.TESTDBJpaConfig&quot;;\n                Class&lt;?&gt; generatedClass = InMemoryJavaCompiler.newInstance().compile(className, generatedCode);\n                \n                // Update @EnableJpaRepositories annotation with correct values\n                updateJpaAnnotation(generatedClass);\n\n                // register the bean here\n                BeanDefinitionRegistry registry = ((BeanDefinitionRegistry )beanFactory);\n                GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\n                beanDefinition.setBeanClass(generatedClass);\n                beanDefinition.setLazyInit(false);\n                beanDefinition.setAbstract(false);\n                beanDefinition.setAutowireCandidate(true);\n                registry.registerBeanDefinition(className,beanDefinition);\n                beanDefinition.getBeanClass().newInstance();\n\n        } catch (Exception exp) {\n            log.error(&quot;Unable to setup database&quot;);\n        }\n    }\n\n    private void updateJpaAnnotation(Class&lt;?&gt; generatedClass) throws Exception {\n        Method method = Class.class.getDeclaredMethod(&quot;annotationData&quot;, null);\n        method.setAccessible(true);\n        Object annotationData = method.invoke(generatedClass, null);\n        Field declaredAnnotations = annotationData.getClass().getDeclaredField(&quot;declaredAnnotations&quot;);\n        declaredAnnotations.setAccessible(true);\n        Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt; annotations = (Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt;) declaredAnnotations.get(annotationData);\n        Annotation oldJpaAnnotation = annotations.get(EnableJpaRepositories.class);\n        Annotation newJpaAnnotation = new EnableJpaRepositories(){\n            @Override\n            public Class&lt;? extends Annotation&gt; annotationType() {\n                return oldJpaAnnotation.annotationType();\n            }\n            @Override\n            public String[] basePackages() {\n                return // Base package from config;\n            }\n            @Override\n            public String entityManagerFactoryRef() {\n                return &quot;testentitymanager&quot;;\n            }\n\n            @Override\n            public String transactionManagerRef() {\n                return &quot;testtxnmanager&quot;;\n            }\n            // rest of the code\n        };\n        annotations.put(EnableJpaRepositories.class, newJpaAnnotation);\n    }\n}\n</code></pre>\n<p>Problem is : when i am running the code bean is getting registered, but code erros out when i @Autowire any repository class. It says &quot;required a bean of type XYZ Repository not found&quot;.</p>\n<p>Ideally when the bean is registered @EnableJpaRepositories with updated basePackages attribute it should have scanned them right ?</p>\n<p>Please help me here, what am i doing wrong here</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":28232007,"reputation":21,"user_id":21581084,"display_name":"Pooja Wagh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680789724,"creation_date":1680784593,"question_id":75949597,"body_markdown":"how to find out when polygon overlapping each other on google map using java android studio \r\n\r\nim searching on google no of time but i didn&#39;t found perfect ans","title":"How to solve polygon overlapping each other on google map using java in android studio?","body":"<p>how to find out when polygon overlapping each other on google map using java android studio</p>\n<p>im searching on google no of time but i didn't found perfect ans</p>\n"},{"tags":["java","android","flutter","kotlin","android-bluetooth"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680115424,"post_id":75877274,"comment_id":133844507,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":12925501,"reputation":171,"user_id":9346402,"display_name":"tobi1805"},"score":0,"creation_date":1680266411,"post_id":75877274,"comment_id":133873433,"body_markdown":"https://developer.android.com/guide/topics/connectivity/bluetooth/find-bluetooth-devices#discover-devices","body":"<a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/find-bluetooth-devices#discover-devices\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/bluetooth/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27446708,"reputation":21,"user_id":20940306,"display_name":"Mohib Ul Rehman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680789369,"creation_date":1680773063,"answer_id":75947878,"question_id":75877274,"body_markdown":"I got the solution, The problem was with device as well and still (the problem comes rarely) but code is working fine now for my devices as well. There may be delay in scanning some devices. i.e. 3 devices scanned with no time and other one or two devices take time to scan. Some time broadcast receiver missed to invoke, that&#39;s why time to get an end.\r\n\r\nFollowing is the broadcast receiver which will return Bluetooth device.\r\n\r\n\r\n    class FoundDeviceReceiver(\r\n        private val onDeviceFound: (BluetoothDevice) -&gt; Unit\r\n    ): BroadcastReceiver() {\r\n\r\n    override fun onReceive(context: Context?, intent: Intent?) {\r\n        when(intent?.action) {\r\n            BluetoothDevice.ACTION_FOUND -&gt; {\r\n                val device = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n                    intent.getParcelableExtra(\r\n                        BluetoothDevice.EXTRA_DEVICE,\r\n                        BluetoothDevice::class.java\r\n                    )\r\n                } else {\r\n                    intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE)\r\n                }\r\n                device?.let(onDeviceFound)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nFollowing is the method to register broadcast receiver and start discovery. We also have to unregister the broadcast receiver according to our requirements.\r\n\r\n \r\n\r\n    override fun startDiscovery() {\r\n            if (!hasPermission(Manifest.permission.BLUETOOTH_SCAN)) {\r\n                return\r\n            }\r\n\r\n        context.registerReceiver(\r\n            foundDeviceReceiver, IntentFilter(BluetoothDevice.ACTION_FOUND)\r\n        )\r\n\r\n    \r\n        bluetoothAdapter?.startDiscovery()\r\n    }\r\n\r\n\r\n `bluetoothAdapter?.startDiscovery()` is the build in method, which will invoke the registered broadcast receiver and we will successfully receive Bluetooth devices.\r\n\r\nIf someone will have still problem then he can comment, I will be happy to respond.","title":"Get list of unpaired Bluetooth devices","body":"<p>I got the solution, The problem was with device as well and still (the problem comes rarely) but code is working fine now for my devices as well. There may be delay in scanning some devices. i.e. 3 devices scanned with no time and other one or two devices take time to scan. Some time broadcast receiver missed to invoke, that's why time to get an end.</p>\n<p>Following is the broadcast receiver which will return Bluetooth device.</p>\n<pre><code>class FoundDeviceReceiver(\n    private val onDeviceFound: (BluetoothDevice) -&gt; Unit\n): BroadcastReceiver() {\n\noverride fun onReceive(context: Context?, intent: Intent?) {\n    when(intent?.action) {\n        BluetoothDevice.ACTION_FOUND -&gt; {\n            val device = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n                intent.getParcelableExtra(\n                    BluetoothDevice.EXTRA_DEVICE,\n                    BluetoothDevice::class.java\n                )\n            } else {\n                intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE)\n            }\n            device?.let(onDeviceFound)\n        }\n    }\n}\n</code></pre>\n<p>Following is the method to register broadcast receiver and start discovery. We also have to unregister the broadcast receiver according to our requirements.</p>\n<pre><code>override fun startDiscovery() {\n        if (!hasPermission(Manifest.permission.BLUETOOTH_SCAN)) {\n            return\n        }\n\n    context.registerReceiver(\n        foundDeviceReceiver, IntentFilter(BluetoothDevice.ACTION_FOUND)\n    )\n\n\n    bluetoothAdapter?.startDiscovery()\n}\n</code></pre>\n<p><code>bluetoothAdapter?.startDiscovery()</code> is the build in method, which will invoke the registered broadcast receiver and we will successfully receive Bluetooth devices.</p>\n<p>If someone will have still problem then he can comment, I will be happy to respond.</p>\n"}],"owner":{"account_id":27446708,"reputation":21,"user_id":20940306,"display_name":"Mohib Ul Rehman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680789369,"creation_date":1680093229,"question_id":75877274,"body_markdown":"How to get(scan) list of unpaired Bluetooth devices in android? meaning have to scan nearby devices. Would you please help in this regard.\r\n\r\nI know how to find(scan) paired devices and do all things(socket, connection, server, communication etc) with pared devices but unable to find(scan) nearby Bluetooth devices programmatically. I hope you people will understand my problem and help accordingly.\r\n\r\n\r\n\r\nI want to scan for list of unpaired Bluetooth devices.","title":"Get list of unpaired Bluetooth devices","body":"<p>How to get(scan) list of unpaired Bluetooth devices in android? meaning have to scan nearby devices. Would you please help in this regard.</p>\n<p>I know how to find(scan) paired devices and do all things(socket, connection, server, communication etc) with pared devices but unable to find(scan) nearby Bluetooth devices programmatically. I hope you people will understand my problem and help accordingly.</p>\n<p>I want to scan for list of unpaired Bluetooth devices.</p>\n"},{"tags":["java","tomcat","memory-leaks"],"comments":[{"owner":{"account_id":265077,"reputation":3398,"user_id":551804,"accept_rate":100,"display_name":"David"},"score":0,"creation_date":1456999454,"post_id":28105803,"comment_id":59209613,"body_markdown":"http://docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/news-5-1-23.html","body":"<a href=\"http://docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/news-5-1-23.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":97482,"reputation":14027,"user_id":264419,"accept_rate":89,"display_name":"Dejell"},"score":0,"creation_date":1422004792,"post_id":28106401,"comment_id":44587535,"body_markdown":"I don&#39;t re-deploy the server. I ./shutdown and ./startup it. I believe that it clears the perm size no?","body":"I don&#39;t re-deploy the server. I ./shutdown and ./startup it. I believe that it clears the perm size no?"},{"owner":{"account_id":97482,"reputation":14027,"user_id":264419,"accept_rate":89,"display_name":"Dejell"},"score":0,"creation_date":1422004815,"post_id":28106401,"comment_id":44587548,"body_markdown":"also, when I tried added perm size definition to tomcat8 I get a warning that it&#39;s being ignored","body":"also, when I tried added perm size definition to tomcat8 I get a warning that it&#39;s being ignored"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1422005354,"post_id":28106401,"comment_id":44587814,"body_markdown":"Are you perhaps also running Java 8? I&#39;m not 100% sure, but I think that the permgen space has become irrelevant from that release forward. I see no reason why these informational warning messages that Tomcat is logging has anything to do with permgen space, nor are they anything to worry about if you&#39;re hard rebooting the server.","body":"Are you perhaps also running Java 8? I&#39;m not 100% sure, but I think that the permgen space has become irrelevant from that release forward. I see no reason why these informational warning messages that Tomcat is logging has anything to do with permgen space, nor are they anything to worry about if you&#39;re hard rebooting the server."},{"owner":{"account_id":5144658,"reputation":324,"user_id":4120980,"display_name":"Ravi Chhatrala"},"score":0,"creation_date":1422008047,"post_id":28106401,"comment_id":44589325,"body_markdown":"I am not saying about redeploying your server, I am talking redeploying with respect to your web app, which you are trying to run on apache tomcat server. The multiple times you save and build your app then it will create a .war file right? and that will be redeployed incrementally. (This will throw memory leak error after few builds.)","body":"I am not saying about redeploying your server, I am talking redeploying with respect to your web app, which you are trying to run on apache tomcat server. The multiple times you save and build your app then it will create a .war file right? and that will be redeployed incrementally. (This will throw memory leak error after few builds.)"},{"owner":{"account_id":5144658,"reputation":324,"user_id":4120980,"display_name":"Ravi Chhatrala"},"score":1,"creation_date":1422009041,"post_id":28106401,"comment_id":44589894,"body_markdown":"@Dejel Try changing the PermGen space manually: To set the environment variable on Windows, create a setenv.bat manually, and put it into the `${tomcat-folder}\\bin` folder. `${tomcat-folder}\\bin\\setenv.bat` set `JAVA_OPTS=-Dfile.encoding=UTF-8 -Xms128m -Xmx1024m -XX:PermSize=64m -XX:MaxPermSize=256m` or more. It won&#39;t show any warning further regarding this and it will not ignore as well.","body":"@Dejel Try changing the PermGen space manually: To set the environment variable on Windows, create a setenv.bat manually, and put it into the <code>${tomcat-folder}\\bin</code> folder. <code>${tomcat-folder}\\bin\\setenv.bat</code> set <code>JAVA_OPTS=-Dfile.encoding=UTF-8 -Xms128m -Xmx1024m -XX:PermSize=64m -XX:MaxPermSize=256m</code> or more. It won&#39;t show any warning further regarding this and it will not ignore as well."},{"owner":{"account_id":97482,"reputation":14027,"user_id":264419,"accept_rate":89,"display_name":"Dejell"},"score":0,"creation_date":1422013745,"post_id":28106401,"comment_id":44592348,"body_markdown":"yes I am running java 8, and it became irrelevant there","body":"yes I am running java 8, and it became irrelevant there"}],"tags":[],"owner":{"account_id":5144658,"reputation":324,"user_id":4120980,"display_name":"Ravi Chhatrala"},"comment_count":6,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1422004240,"creation_date":1422004240,"answer_id":28106401,"question_id":28105803,"body_markdown":"I think your problem is similar to [this][1]. When you redeploy the app, apache deploys it incrementally on itself where `system.gc();` do not work and after few redeployment in developing phase the permanent generated space gets full and you get memory leak error. \r\n\r\nPlease keep restarting your server after few redeployment, so the PermGen space can be cleared with a restart.\r\n\r\nOr \r\n\r\na you can also solve it by changing the PermGen space in server.\r\nPlease visit [here][2].\r\n\r\nI hope this will help you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7683434/permgen-space-error-glassfish-server\r\n  [2]: http://www.mkyong.com/tomcat/tomcat-javalangoutofmemoryerror-permgen-space/","title":"Tomcat8 memory leak","body":"<p>I think your problem is similar to <a href=\"https://stackoverflow.com/questions/7683434/permgen-space-error-glassfish-server\">this</a>. When you redeploy the app, apache deploys it incrementally on itself where <code>system.gc();</code> do not work and after few redeployment in developing phase the permanent generated space gets full and you get memory leak error. </p>\n\n<p>Please keep restarting your server after few redeployment, so the PermGen space can be cleared with a restart.</p>\n\n<p>Or </p>\n\n<p>a you can also solve it by changing the PermGen space in server.\nPlease visit <a href=\"http://www.mkyong.com/tomcat/tomcat-javalangoutofmemoryerror-permgen-space/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I hope this will help you.</p>\n"},{"comments":[{"owner":{"account_id":97482,"reputation":14027,"user_id":264419,"accept_rate":89,"display_name":"Dejell"},"score":0,"creation_date":1422013715,"post_id":28106807,"comment_id":44592327,"body_markdown":"Thanks. Yes it really helped! the interesting thing is, that if I deploy my app called Algo, and have this in server.xml &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot;\n            unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\n          &lt;Context docBase=&quot;Algo&quot; path=&quot;&quot;&gt;\n              &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;\n          &lt;/Context&gt; it would deploy Algo war both to Algo folder and ROOT folder!","body":"Thanks. Yes it really helped! the interesting thing is, that if I deploy my app called Algo, and have this in server.xml &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot;             unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;           &lt;Context docBase=&quot;Algo&quot; path=&quot;&quot;&gt;               &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;           &lt;/Context&gt; it would deploy Algo war both to Algo folder and ROOT folder!"},{"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"score":3,"creation_date":1445349733,"post_id":28106807,"comment_id":54280267,"body_markdown":"Moving the mysql driver into Tomcat&#39;s /lib folder didn&#39;t work for me.","body":"Moving the mysql driver into Tomcat&#39;s /lib folder didn&#39;t work for me."},{"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":0,"creation_date":1445350554,"post_id":28106807,"comment_id":54280865,"body_markdown":"Did you remove the driver from /WEB-INF/lib ? Aslo you will get this message if your application is starting threads and is not stopping them.","body":"Did you remove the driver from /WEB-INF/lib ? Aslo you will get this message if your application is starting threads and is not stopping them."}],"tags":[],"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"comment_count":3,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1680789355,"creation_date":1422005646,"answer_id":28106807,"question_id":28105803,"body_markdown":"There is nothing to worry about. This is a standard message tomcat outputs when it detects the application has started its own `Thread` or created a `ThreadLocal`. If you terminate the thread on shutdown and remove the *threadlocals* when they are no longer needed, then there will be no problem. \r\n\r\n&gt; Why would I get all this memory leaks errors? as well, when I run\r\n&gt; shutdown, it doesn&#39;t shut it down, I have to manually kill the\r\n&gt; process.\r\n\r\nI&#39;ve seen this behavior, when an application has started `ScheduledExecutor` (but this will happen with any other `Thread`/`TheadPool`) and didn&#39;t shut it down on `contextDestroyed`. So check if you are shutting down your threads on application/server stop.\r\n\r\n\r\n**Now on your concrete problem** why the server doesn&#39;t stop:\r\nJDBC drivers are registered in the JVM as singletons, and are shared with all webapps. More info [here.][1] The best solution to your problem is to move the MySQL driver from the webapp&#39;s `WEB-INF/lib` into Tomcat&#39;s `/lib` folder. If you cannot do that you can try [this][2] but it&#39;s more like a hack than a real solution.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6981564/why-jdbc-driver-must-been-put-in-tomcat-home-lib-folder/7198049#7198049\r\n  [2]: http://techblog.ralph-schuster.eu/2014/07/09/solution-to-tomcat-cant-stop-an-abandoned-connection-cleanup-thread/","title":"Tomcat8 memory leak","body":"<p>There is nothing to worry about. This is a standard message tomcat outputs when it detects the application has started its own <code>Thread</code> or created a <code>ThreadLocal</code>. If you terminate the thread on shutdown and remove the <em>threadlocals</em> when they are no longer needed, then there will be no problem.</p>\n<blockquote>\n<p>Why would I get all this memory leaks errors? as well, when I run\nshutdown, it doesn't shut it down, I have to manually kill the\nprocess.</p>\n</blockquote>\n<p>I've seen this behavior, when an application has started <code>ScheduledExecutor</code> (but this will happen with any other <code>Thread</code>/<code>TheadPool</code>) and didn't shut it down on <code>contextDestroyed</code>. So check if you are shutting down your threads on application/server stop.</p>\n<p><strong>Now on your concrete problem</strong> why the server doesn't stop:\nJDBC drivers are registered in the JVM as singletons, and are shared with all webapps. More info <a href=\"https://stackoverflow.com/questions/6981564/why-jdbc-driver-must-been-put-in-tomcat-home-lib-folder/7198049#7198049\">here.</a> The best solution to your problem is to move the MySQL driver from the webapp's <code>WEB-INF/lib</code> into Tomcat's <code>/lib</code> folder. If you cannot do that you can try <a href=\"http://techblog.ralph-schuster.eu/2014/07/09/solution-to-tomcat-cant-stop-an-abandoned-connection-cleanup-thread/\" rel=\"nofollow noreferrer\">this</a> but it's more like a hack than a real solution.</p>\n"}],"owner":{"account_id":97482,"reputation":14027,"user_id":264419,"accept_rate":89,"display_name":"Dejell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131527,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":28106807,"answer_count":2,"score":25,"last_activity_date":1680789355,"creation_date":1422001806,"question_id":28105803,"body_markdown":"When I try to stop tomcat8 on Java 8, I get a few memory leaks errors:\r\n\r\n    org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [Abandoned connection cleanup thread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.lang.Object.wait(Native Method)\r\n     java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:142)\r\n     com.mysql.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:40)\r\n    23-Jan-2015 08:18:10.202 WARNING [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [pool-5-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread\r\n\r\n\r\n    23-Jan-2015 08:18:10.205 SEVERE [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [com.util.ThreadLocalProperties$1] (value [com.util.ThreadLocalProperties$1@2fafda6e]) and a value of type [java.util.Properties] (value [{}]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n\r\nThe class ThreadLocalProperties is:\r\n\r\n    public class ThreadLocalProperties extends Properties {\r\n    \r\n    \tprivate static final long serialVersionUID = -4260632266508618756L;\r\n    \tprivate final ThreadLocal&lt;Properties&gt; localProperties = new ThreadLocal&lt;Properties&gt;() {\r\n    \t\t@Override\r\n    \t\tprotected Properties initialValue() {\r\n    \t\t\treturn new Properties();\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tpublic ThreadLocalProperties(Properties properties) {\r\n    \t\tsuper(properties);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getProperty(String key) {\r\n    \t\tString localValue = localProperties.get().getProperty(key);\r\n    \t\treturn localValue == null ? super.getProperty(key) : localValue;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object setProperty(String key, String value) {\r\n    \t\treturn localProperties.get().setProperty(key, value);\r\n    \t}\r\n    \r\n    \tpublic ThreadLocal&lt;Properties&gt; getThreadLocal() {\r\n    \t\treturn localProperties;\r\n    \t}\r\n    }\r\n\r\nand I start and stop it like this:\r\n\r\n    @WebListener()\r\n    public class GeneralListener implements ServletContextListener {\r\n    \r\n    \tThreadLocalProperties threadLocalProperties = new ThreadLocalProperties(System.getProperties());\r\n    \r\n    \t@Override\r\n    \tpublic void contextDestroyed(ServletContextEvent arg0) {\r\n    \t\tthreadLocalProperties.getThreadLocal().remove();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void contextInitialized(ServletContextEvent arg0) {\r\n    \t\tSystem.setProperties(threadLocalProperties);\r\n    \t}\r\n    }\r\n\r\nWhy would i get all this memory leaks errors? as well, when I run shutdown, it doesn&#39;t shut it down, I have to manually kill the process.\r\n\r\nWhat is wrong?","title":"Tomcat8 memory leak","body":"<p>When I try to stop tomcat8 on Java 8, I get a few memory leaks errors:</p>\n\n<pre><code>org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [Abandoned connection cleanup thread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Object.wait(Native Method)\n java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:142)\n com.mysql.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:40)\n23-Jan-2015 08:18:10.202 WARNING [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [pool-5-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread\n\n\n23-Jan-2015 08:18:10.205 SEVERE [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [com.util.ThreadLocalProperties$1] (value [com.util.ThreadLocalProperties$1@2fafda6e]) and a value of type [java.util.Properties] (value [{}]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n</code></pre>\n\n<p>The class ThreadLocalProperties is:</p>\n\n<pre><code>public class ThreadLocalProperties extends Properties {\n\n    private static final long serialVersionUID = -4260632266508618756L;\n    private final ThreadLocal&lt;Properties&gt; localProperties = new ThreadLocal&lt;Properties&gt;() {\n        @Override\n        protected Properties initialValue() {\n            return new Properties();\n        }\n    };\n\n    public ThreadLocalProperties(Properties properties) {\n        super(properties);\n    }\n\n    @Override\n    public String getProperty(String key) {\n        String localValue = localProperties.get().getProperty(key);\n        return localValue == null ? super.getProperty(key) : localValue;\n    }\n\n    @Override\n    public Object setProperty(String key, String value) {\n        return localProperties.get().setProperty(key, value);\n    }\n\n    public ThreadLocal&lt;Properties&gt; getThreadLocal() {\n        return localProperties;\n    }\n}\n</code></pre>\n\n<p>and I start and stop it like this:</p>\n\n<pre><code>@WebListener()\npublic class GeneralListener implements ServletContextListener {\n\n    ThreadLocalProperties threadLocalProperties = new ThreadLocalProperties(System.getProperties());\n\n    @Override\n    public void contextDestroyed(ServletContextEvent arg0) {\n        threadLocalProperties.getThreadLocal().remove();\n    }\n\n    @Override\n    public void contextInitialized(ServletContextEvent arg0) {\n        System.setProperties(threadLocalProperties);\n    }\n}\n</code></pre>\n\n<p>Why would i get all this memory leaks errors? as well, when I run shutdown, it doesn't shut it down, I have to manually kill the process.</p>\n\n<p>What is wrong?</p>\n"},{"tags":["java","akka-stream"],"owner":{"account_id":21624083,"reputation":61,"user_id":15948642,"display_name":"Sigurd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680788977,"creation_date":1680788977,"question_id":75950297,"body_markdown":"I&#39;m using Akka Stream 2.6 and I want to handle a failed stream.\r\n\r\n    Source.from(...).via(business()).recover(MyException.class, elem -&gt; errorMessage())\r\n\r\nI&#39;m aware, that I can map an Exception based on mapError() and also recover to a valid element in the stream by recover(), but I&#39;ve not seen a way to get an exception and the failing element of the stream. I need the current element because there is meta information, that is necessary for handling the error correctly. ","title":"Handling Errors in Akka Streams: Using Exception and current element of the stream","body":"<p>I'm using Akka Stream 2.6 and I want to handle a failed stream.</p>\n<pre><code>Source.from(...).via(business()).recover(MyException.class, elem -&gt; errorMessage())\n</code></pre>\n<p>I'm aware, that I can map an Exception based on mapError() and also recover to a valid element in the stream by recover(), but I've not seen a way to get an exception and the failing element of the stream. I need the current element because there is meta information, that is necessary for handling the error correctly.</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680786579,"creation_date":1680784365,"answer_id":75949564,"question_id":75946451,"body_markdown":"You wrote in your question:\r\n&gt; I want to build 3 animal objects\r\n\r\nThat means you want a class named `Animal` which has three attributes, i.e.\r\n```java\r\npublic class Animal {\r\n    private String first;\r\n    private String second;\r\n    private String third;\r\n}\r\n```\r\nNote that I could not ascertain, from your question, what each attrbiute represents and therefore I named them `first`, `second` and `third`.\r\n\r\nNow you want to write a constructor for your class:\r\n```java\r\npublic Animal(String first, String second, String third) {\r\n    this.first = first;\r\n    this.second = second;\r\n    this.third = third;\r\n}\r\n```\r\nYou also wrote in your question:\r\n&gt; I want to store the animals objects in array\r\n\r\nAn array has a fixed size which you provide when you declare it. Since you are reading from a file, you probably don&#39;t know the size, hence probably better to use a [List](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html).\r\n\r\nWhen reading from a file in Java, after you have finished reading the file, you should close it. Since Java 7, there is [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).\r\n\r\nAlso since Java 7 there is class `Files` which is part of [NIO.2](https://docs.oracle.com/javase/tutorial/essential/io/fileio.html).\r\n\r\n`StringTokenizer` is a legacy class. New code should use method `split` of class `java.lang.String`.\r\n\r\nHere is sample code that achieves what you want.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Animal {\r\n    private String first;\r\n    private String second;\r\n    private String third;\r\n\r\n    public Animal(String first, String second, String third) {\r\n        this.first = first;\r\n        this.second = second;\r\n        this.third = third;\r\n    }\r\n\r\n    public static void getAnimalsFromTextFile() throws IOException {\r\n        List&lt;Animal&gt; animals = new ArrayList&lt;&gt;();\r\n        Path path = Paths.get(&quot;animals.txt&quot;);\r\n        try (BufferedReader inFile = Files.newBufferedReader(path)) {\r\n            String line = inFile.readLine();\r\n            while (line != null) {\r\n                String[] strings = line.split(&quot; &quot;);\r\n                Animal animal = new Animal(strings[0], strings[1], strings[2]);\r\n                animals.add(animal);\r\n                line = inFile.readLine();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAlternatively, you could use [streams](https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html) which was introduced in Java 8.\r\n```java\r\npublic static void getAnimalsFromTextFile() throws IOException {\r\n    Path path = Paths.get(&quot;animals.txt&quot;);\r\n    try (Stream&lt;String&gt; stream = Files.lines(path)) {\r\n        List&lt;Animal&gt; animals = stream.map(line -&gt; line.split(&quot; &quot;))\r\n                                     .map(array -&gt; new Animal(array[0], array[1], array[2]))\r\n                                     .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n","title":"Trying to read data from text data and build objects from that","body":"<p>You wrote in your question:</p>\n<blockquote>\n<p>I want to build 3 animal objects</p>\n</blockquote>\n<p>That means you want a class named <code>Animal</code> which has three attributes, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Animal {\n    private String first;\n    private String second;\n    private String third;\n}\n</code></pre>\n<p>Note that I could not ascertain, from your question, what each attrbiute represents and therefore I named them <code>first</code>, <code>second</code> and <code>third</code>.</p>\n<p>Now you want to write a constructor for your class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Animal(String first, String second, String third) {\n    this.first = first;\n    this.second = second;\n    this.third = third;\n}\n</code></pre>\n<p>You also wrote in your question:</p>\n<blockquote>\n<p>I want to store the animals objects in array</p>\n</blockquote>\n<p>An array has a fixed size which you provide when you declare it. Since you are reading from a file, you probably don't know the size, hence probably better to use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a>.</p>\n<p>When reading from a file in Java, after you have finished reading the file, you should close it. Since Java 7, there is <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>.</p>\n<p>Also since Java 7 there is class <code>Files</code> which is part of <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO.2</a>.</p>\n<p><code>StringTokenizer</code> is a legacy class. New code should use method <code>split</code> of class <code>java.lang.String</code>.</p>\n<p>Here is sample code that achieves what you want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Animal {\n    private String first;\n    private String second;\n    private String third;\n\n    public Animal(String first, String second, String third) {\n        this.first = first;\n        this.second = second;\n        this.third = third;\n    }\n\n    public static void getAnimalsFromTextFile() throws IOException {\n        List&lt;Animal&gt; animals = new ArrayList&lt;&gt;();\n        Path path = Paths.get(&quot;animals.txt&quot;);\n        try (BufferedReader inFile = Files.newBufferedReader(path)) {\n            String line = inFile.readLine();\n            while (line != null) {\n                String[] strings = line.split(&quot; &quot;);\n                Animal animal = new Animal(strings[0], strings[1], strings[2]);\n                animals.add(animal);\n                line = inFile.readLine();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Alternatively, you could use <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">streams</a> which was introduced in Java 8.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void getAnimalsFromTextFile() throws IOException {\n    Path path = Paths.get(&quot;animals.txt&quot;);\n    try (Stream&lt;String&gt; stream = Files.lines(path)) {\n        List&lt;Animal&gt; animals = stream.map(line -&gt; line.split(&quot; &quot;))\n                                     .map(array -&gt; new Animal(array[0], array[1], array[2]))\n                                     .collect(Collectors.toList());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680788474,"creation_date":1680788474,"answer_id":75950226,"question_id":75946451,"body_markdown":"Create a class that holds three animals, this will be the\r\n\r\n    class Animal {\r\n    \t\r\n    \tprivate String animal1; \r\n    \tprivate String animal2; \r\n    \tprivate String animal3;\r\n    \tpublic Animal(String animal1, String animal2, String animal3) {\r\n    \t\tsuper();\r\n    \t\tthis.animal1 = animal1;\r\n    \t\tthis.animal2 = animal2;\r\n    \t\tthis.animal3 = animal3;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Animal [animal1=&quot; + animal1 + &quot;, animal2=&quot; + animal2 + &quot;, animal3=&quot; + animal3 + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\n**Inside your loop (while reading the file)**\r\n\r\n 1. Split the current line with space (`&quot; &quot;`) and get an array of elements.\r\n 2. Pass each array element respectively to your animal constructor.\r\n 3. Once you have the object assign it to the array with the index `cnt`.\r\n\r\n    public class AnimalManager {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t\r\n    \t\ttry (BufferedReader inFile = new BufferedReader(new FileReader(&quot;animals.txt&quot;));) {\r\n    \t\t\t\r\n    \t\t    String line;\r\n    \t\t    int cnt = 0;\r\n    \t\t    Animal[] animalArray = new Animal[10];\r\n    \t\t    \r\n    \t\t    while ((line = inFile.readLine()) != null) {\r\n    \t\t    \t\r\n    \t\t    \tString animalsInLine[] = line.split(&quot; &quot;);\r\n    \t\t    \tanimalArray[cnt++] = new Animal(animalsInLine[0], animalsInLine[1], animalsInLine[2]);\r\n    \t\t    }\r\n    \t\t    \r\n    \t\t    System.out.println(java.util.Arrays.toString(animalArray));\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(&quot;Error while file handling : &quot; + e.getMessage());\r\n    \t\t}\r\n    \t}","title":"Trying to read data from text data and build objects from that","body":"<p>Create a class that holds three animals, this will be the</p>\n<pre><code>class Animal {\n    \n    private String animal1; \n    private String animal2; \n    private String animal3;\n    public Animal(String animal1, String animal2, String animal3) {\n        super();\n        this.animal1 = animal1;\n        this.animal2 = animal2;\n        this.animal3 = animal3;\n    }\n    @Override\n    public String toString() {\n        return &quot;Animal [animal1=&quot; + animal1 + &quot;, animal2=&quot; + animal2 + &quot;, animal3=&quot; + animal3 + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p><strong>Inside your loop (while reading the file)</strong></p>\n<ol>\n<li><p>Split the current line with space (<code>&quot; &quot;</code>) and get an array of elements.</p>\n</li>\n<li><p>Pass each array element respectively to your animal constructor.</p>\n</li>\n<li><p>Once you have the object assign it to the array with the index <code>cnt</code>.</p>\n<p>public class AnimalManager {</p>\n<pre><code>public static void main(String[] args) {\n\n\n    try (BufferedReader inFile = new BufferedReader(new FileReader(&quot;animals.txt&quot;));) {\n\n        String line;\n        int cnt = 0;\n        Animal[] animalArray = new Animal[10];\n\n        while ((line = inFile.readLine()) != null) {\n\n            String animalsInLine[] = line.split(&quot; &quot;);\n            animalArray[cnt++] = new Animal(animalsInLine[0], animalsInLine[1], animalsInLine[2]);\n        }\n\n        System.out.println(java.util.Arrays.toString(animalArray));\n    } catch (IOException e) {\n        System.out.println(&quot;Error while file handling : &quot; + e.getMessage());\n    }\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":28229229,"reputation":11,"user_id":21578700,"display_name":"Nikita Gelfman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680788474,"creation_date":1680762113,"question_id":75946451,"body_markdown":"```java\r\npublic void getAnimalsFromTextFile() throws IOException {\r\n    String file = &quot;C:\\\\Users\\\\nikit\\\\OneDrive\\\\Desktop\\\\animals.txt&quot;;\r\n    BufferedReader inFile = new BufferedReader(new FileReader(file));\r\n    String line;\r\n    int cnt = 0;\r\n    while ((line = inFile.readLine()) != null) {\r\n        StringTokenizer st = new StringTokenizer(line,&quot;&quot;);\r\n        if(st.hasMoreTokens()) {\r\n            String line1 = st.nextToken();\r\n            StringTokenizer st1 = new StringTokenizer(line1, &quot; &quot;);\r\n            while (st1.hasMoreTokens()) {\r\n                String att = st1.nextToken();\r\n                strings.add(att);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis text file is:\r\n```none\r\nJackie Jack Boston\r\nMarty Bird California\r\nDonald Duck Netherlands\r\n```\r\nI want to build 3 `Animal` objects from this file, like:\r\n```java\r\nAnimal animal =  new Animal(Jackie, Jack, Boston);\r\n```\r\nThen add them to array.\r\n \r\nIn the and I want to store the animals objects in array.\r\n","title":"Trying to read data from text data and build objects from that","body":"<pre class=\"lang-java prettyprint-override\"><code>public void getAnimalsFromTextFile() throws IOException {\n    String file = &quot;C:\\\\Users\\\\nikit\\\\OneDrive\\\\Desktop\\\\animals.txt&quot;;\n    BufferedReader inFile = new BufferedReader(new FileReader(file));\n    String line;\n    int cnt = 0;\n    while ((line = inFile.readLine()) != null) {\n        StringTokenizer st = new StringTokenizer(line,&quot;&quot;);\n        if(st.hasMoreTokens()) {\n            String line1 = st.nextToken();\n            StringTokenizer st1 = new StringTokenizer(line1, &quot; &quot;);\n            while (st1.hasMoreTokens()) {\n                String att = st1.nextToken();\n                strings.add(att);\n            }\n        }\n    }\n}\n</code></pre>\n<p>This text file is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Jackie Jack Boston\nMarty Bird California\nDonald Duck Netherlands\n</code></pre>\n<p>I want to build 3 <code>Animal</code> objects from this file, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Animal animal =  new Animal(Jackie, Jack, Boston);\n</code></pre>\n<p>Then add them to array.</p>\n<p>In the and I want to store the animals objects in array.</p>\n"},{"tags":["java","spring","hibernate","jpa","persistence"],"owner":{"account_id":14677665,"reputation":11,"user_id":10600216,"display_name":"kassem adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680788452,"creation_date":1680787711,"question_id":75950111,"body_markdown":"In my db, there is an entity that exists that has it&#39;s records partitioned in various tables named using this convention &quot;Foo_MMYYYY&quot;\r\n\r\nFor example, say I have a table to have log records of a users interaction on a website. Since these interactions happen very frequently and each time we store the interaction log in the db, a solution for this website is to have the Log entity partitioned with a set of &quot;rotated&quot; tables in our db. So every month, a new table is created (for Ex, for this month the table would be named `logs_042023`) that will contain that months set of log records. \r\n\r\nIs there a way to dynamically set the table for a JPA entity by sending in &lt;MM&gt;&lt;YYYY&gt; portion of the table name as an argument?\r\n\r\nI tried looking up JPA documentation to see if there was a way to do this to no avail. It seems that the table name cannot be dynamically altered during runtime. What other options do I have?","title":"How would I assign a JPA Entity to a set of &quot;rotated&quot; tables in database?","body":"<p>In my db, there is an entity that exists that has it's records partitioned in various tables named using this convention &quot;Foo_MMYYYY&quot;</p>\n<p>For example, say I have a table to have log records of a users interaction on a website. Since these interactions happen very frequently and each time we store the interaction log in the db, a solution for this website is to have the Log entity partitioned with a set of &quot;rotated&quot; tables in our db. So every month, a new table is created (for Ex, for this month the table would be named <code>logs_042023</code>) that will contain that months set of log records.</p>\n<p>Is there a way to dynamically set the table for a JPA entity by sending in  portion of the table name as an argument?</p>\n<p>I tried looking up JPA documentation to see if there was a way to do this to no avail. It seems that the table name cannot be dynamically altered during runtime. What other options do I have?</p>\n"},{"tags":["java","pdf","pdfbox","pdftotext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1680811629,"post_id":75947149,"comment_id":133965059,"body_markdown":"Most likely there are no spaces (as in drawn space characters) there, the text insertion point simply is repositioned. What you are looking for is text extraction that tries to keep the layout.","body":"Most likely there are no spaces (as in drawn space characters) there, the text insertion point simply is repositioned. What you are looking for is text extraction that tries to keep the layout."},{"owner":{"account_id":13915256,"reputation":1,"user_id":10047281,"display_name":"iiprateek"},"score":0,"creation_date":1680887457,"post_id":75947149,"comment_id":133976433,"body_markdown":"I just want to preserve the format of pdf using Apache pdf box with java.","body":"I just want to preserve the format of pdf using Apache pdf box with java."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680888103,"post_id":75947149,"comment_id":133976557,"body_markdown":"Maybe you should use tabula java instead, that one can extract tables.","body":"Maybe you should use tabula java instead, that one can extract tables."},{"owner":{"account_id":13915256,"reputation":1,"user_id":10047281,"display_name":"iiprateek"},"score":0,"creation_date":1681045129,"post_id":75947149,"comment_id":133992706,"body_markdown":"@mkl yes, the character has its own coordinates that pdf renderer uses to draw text. What will be my algorithm to draw white spaces. To make that it will show space. Blank string length of width of pdf. Then calculate where the single character will take place.","body":"@mkl yes, the character has its own coordinates that pdf renderer uses to draw text. What will be my algorithm to draw white spaces. To make that it will show space. Blank string length of width of pdf. Then calculate where the single character will take place."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1681420506,"post_id":75947149,"comment_id":134057920,"body_markdown":"You may want to look at the proof-of-concept [in this answer](https://stackoverflow.com/a/45842515/1729265) (unfortunately based on PDFBox 1.8.x) or [this github project](https://github.com/JonathanLink/PDFLayoutTextStripper) based on PDFBox 2.x.","body":"You may want to look at the proof-of-concept <a href=\"https://stackoverflow.com/a/45842515/1729265\">in this answer</a> (unfortunately based on PDFBox 1.8.x) or <a href=\"https://github.com/JonathanLink/PDFLayoutTextStripper\" rel=\"nofollow noreferrer\">this github project</a> based on PDFBox 2.x."},{"owner":{"account_id":13915256,"reputation":1,"user_id":10047281,"display_name":"iiprateek"},"score":0,"creation_date":1681667588,"post_id":75947149,"comment_id":134089909,"body_markdown":"I have used the github project once. If you see carefully the picture no 2 (Data extraction from a form in a PDF file) the spaces are not formatted correctly. For one space It have 2 whitespaces in text extract. In that project first he is trying to find new line on the basis of Y position. If the position of current `TextPosition` object is greater than previous text position. Then a new line is formed. He just created the blank array of width of pdf/4 and with the location X position he is trying to fit the text into the text extract. He is also checking XprevChar + prevCharWidth == currXpos","body":"I have used the github project once. If you see carefully the picture no 2 (Data extraction from a form in a PDF file) the spaces are not formatted correctly. For one space It have 2 whitespaces in text extract. In that project first he is trying to find new line on the basis of Y position. If the position of current <code>TextPosition</code> object is greater than previous text position. Then a new line is formed. He just created the blank array of width of pdf/4 and with the location X position he is trying to fit the text into the text extract. He is also checking XprevChar + prevCharWidth == currXpos"}],"owner":{"account_id":13915256,"reputation":1,"user_id":10047281,"display_name":"iiprateek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680788080,"creation_date":1680768028,"question_id":75947149,"body_markdown":"I have a pdf like this \r\n\r\n![pdf](https://i.stack.imgur.com/aSoyx.png)\r\n\r\nbut the extracted goes like this \r\n```Hoodie with Kangaroo\r\nPocket,Light\r\nOlive,M,469168485002\r\n1475.63 364.23 1111.40 133.3761051020 2299.0\r\n```\r\n\r\nBut i want the result with the preserved multi spaces present in the document\r\n```\r\nHoodie with Kangaroo\r\nPocket,Light              61051020     2299.0     1475.63       364.23      1111.40       133.37\r\nOlive,M,469168485002\r\n```\r\n \r\n\r\nI am expecting to get the result in preserved spaces that is present in pdf ","title":"preserve multiple spaces between words using pdfbox","body":"<p>I have a pdf like this</p>\n<p><img src=\"https://i.stack.imgur.com/aSoyx.png\" alt=\"pdf\" /></p>\n<p>but the extracted goes like this</p>\n<pre><code>Pocket,Light\nOlive,M,469168485002\n1475.63 364.23 1111.40 133.3761051020 2299.0\n</code></pre>\n<p>But i want the result with the preserved multi spaces present in the document</p>\n<pre><code>Hoodie with Kangaroo\nPocket,Light              61051020     2299.0     1475.63       364.23      1111.40       133.37\nOlive,M,469168485002\n</code></pre>\n<p>I am expecting to get the result in preserved spaces that is present in pdf</p>\n"},{"tags":["java","list","sorting","comparator"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680574771,"post_id":75924992,"comment_id":133917649,"body_markdown":"I can&#39;t understand the data structure of the maps. Also `Maps` and `MapDifference`. Need more code to see.","body":"I can&#39;t understand the data structure of the maps. Also <code>Maps</code> and <code>MapDifference</code>. Need more code to see."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1680575936,"post_id":75924992,"comment_id":133917771,"body_markdown":"What is the sort criteria for the list?","body":"What is the sort criteria for the list?"},{"owner":{"account_id":18886372,"reputation":157,"user_id":13777706,"display_name":"Blake"},"score":0,"creation_date":1680584857,"post_id":75924992,"comment_id":133918661,"body_markdown":"Sort criteria can be anything, i just need the order to be the same on both the maps","body":"Sort criteria can be anything, i just need the order to be the same on both the maps"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680787894,"creation_date":1680787894,"answer_id":75950138,"question_id":75924992,"body_markdown":"I think that this is the key:\r\n\r\n    Error: Required type: List &lt;T&gt;\r\n\r\nThe sort needs a comparable class to sort with. Try this to sort the jurisdictionTaxes:\r\n\r\n\t\tArrays.sort((JurisdictionTax[]) map1.get(&quot;jurisdictionTaxes&quot;));\r\n\r\nEg:\r\n\r\n\tstatic Map&lt;String, Object&gt; map1 = new HashMap&lt;&gt;();\r\n\r\n\tstatic {\r\n\t\tmap1.put(&quot;taxRate&quot;, &quot;rateType=EXCLUSIVE, rate=0.07&quot;);\r\n\t\tmap1.put(&quot;taxAmount&quot;, &quot;currencyCode=USD, amount=7.0&quot;);\r\n\t\tmap1.put(&quot;jurisdictionTaxes&quot;, new JurisdictionTax[] { new JurisdictionTax(new TaxRate(&quot;bbb&quot;)),\r\n\t\t\t\tnew JurisdictionTax(new TaxRate(&quot;aaa&quot;)) });\r\n\t\tmap1.put(&quot;withholdingJurisdictionTaxes&quot;, &quot;[]&quot;);\r\n\t}\r\n\r\n\tstatic Map&lt;String, Object&gt; map2 = new HashMap&lt;&gt;();\r\n\r\n\tstatic {\r\n\t\tmap2.put(&quot;taxRate&quot;, &quot;rateType=EXCLUSIVE, rate=0.07&quot;);\r\n\t\tmap2.put(&quot;taxAmount&quot;, &quot;currencyCode=USD, amount=7.0}&quot;);\r\n\t\tmap2.put(&quot;jurisdictionTaxes&quot;, new JurisdictionTax[] { new JurisdictionTax(new TaxRate(&quot;ccc&quot;)),\r\n\t\t\t\tnew JurisdictionTax(new TaxRate(&quot;aaa&quot;)) });\r\n\t\tmap2.put(&quot;withholdingJurisdictionTaxes&quot;, &quot;[]&quot;);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\tSystem.out.println(&quot;map1 before: &quot; + ((JurisdictionTax[])map1.get(&quot;jurisdictionTaxes&quot;))[0]);\r\n\tSystem.out.println(&quot;map2 before: &quot; + ((JurisdictionTax[])map2.get(&quot;jurisdictionTaxes&quot;))[0]);\r\n\t\r\n\tArrays.sort((JurisdictionTax[]) map1.get(&quot;jurisdictionTaxes&quot;));\r\n\tArrays.sort((JurisdictionTax[]) map2.get(&quot;jurisdictionTaxes&quot;));\r\n\r\n\tSystem.out.println(&quot;map1 after: &quot; + ((JurisdictionTax[])map1.get(&quot;jurisdictionTaxes&quot;))[0]);\r\n\tSystem.out.println(&quot;map2 after: &quot; +    ((JurisdictionTax[])map2.get(&quot;jurisdictionTaxes&quot;))[0]);\r\n\r\nprints:\r\n\r\n    map1 before: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=bbb, rate=null]]\r\n    map2 before: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=ccc, rate=null]]\r\n    map1 after: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=aaa, rate=null]]\r\n    map2 after: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=aaa, rate=null]]\r\n\r\nWith defined classes:\r\n\r\n\r\n    public class JurisdictionTax implements Comparable&lt;JurisdictionTax&gt; {\r\n\tpublic JurisdictionTax(TaxRate taxRate) {\r\n\t\tsuper();\r\n\t\tthis.taxRate = taxRate;\r\n\t}\r\n\tpublic String jurisdictionLevel;\r\n\tpublic TaxAmount taxAmount;\r\n\tpublic TaxRate taxRate;\r\n\tpublic String displayName;\r\n\tpublic String jurisdictionName;\r\n\tpublic String responsiblePartyReason;\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic int compareTo(JurisdictionTax other) {\r\n\t\t// incomplete\r\n\t\treturn this.taxRate.rateType.compareTo(other.taxRate.rateType);\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;JurisdictionTax [jurisdictionLevel=&quot; + jurisdictionLevel + &quot;, taxAmount=&quot; + taxAmount + &quot;, taxRate=&quot;\r\n\t\t\t\t+ taxRate + &quot;]&quot;;\r\n\t}\r\n    \t\r\n    \r\n    \r\n    }\r\n\r\n etc\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to sort List&lt;Object&gt; in a Map&lt;String, Object&gt; in Java?","body":"<p>I think that this is the key:</p>\n<pre><code>Error: Required type: List &lt;T&gt;\n</code></pre>\n<p>The sort needs a comparable class to sort with. Try this to sort the jurisdictionTaxes:</p>\n<pre><code>    Arrays.sort((JurisdictionTax[]) map1.get(&quot;jurisdictionTaxes&quot;));\n</code></pre>\n<p>Eg:</p>\n<pre><code>static Map&lt;String, Object&gt; map1 = new HashMap&lt;&gt;();\n\nstatic {\n    map1.put(&quot;taxRate&quot;, &quot;rateType=EXCLUSIVE, rate=0.07&quot;);\n    map1.put(&quot;taxAmount&quot;, &quot;currencyCode=USD, amount=7.0&quot;);\n    map1.put(&quot;jurisdictionTaxes&quot;, new JurisdictionTax[] { new JurisdictionTax(new TaxRate(&quot;bbb&quot;)),\n            new JurisdictionTax(new TaxRate(&quot;aaa&quot;)) });\n    map1.put(&quot;withholdingJurisdictionTaxes&quot;, &quot;[]&quot;);\n}\n\nstatic Map&lt;String, Object&gt; map2 = new HashMap&lt;&gt;();\n\nstatic {\n    map2.put(&quot;taxRate&quot;, &quot;rateType=EXCLUSIVE, rate=0.07&quot;);\n    map2.put(&quot;taxAmount&quot;, &quot;currencyCode=USD, amount=7.0}&quot;);\n    map2.put(&quot;jurisdictionTaxes&quot;, new JurisdictionTax[] { new JurisdictionTax(new TaxRate(&quot;ccc&quot;)),\n            new JurisdictionTax(new TaxRate(&quot;aaa&quot;)) });\n    map2.put(&quot;withholdingJurisdictionTaxes&quot;, &quot;[]&quot;);\n}\n\npublic static void main(String[] args) {\nSystem.out.println(&quot;map1 before: &quot; + ((JurisdictionTax[])map1.get(&quot;jurisdictionTaxes&quot;))[0]);\nSystem.out.println(&quot;map2 before: &quot; + ((JurisdictionTax[])map2.get(&quot;jurisdictionTaxes&quot;))[0]);\n\nArrays.sort((JurisdictionTax[]) map1.get(&quot;jurisdictionTaxes&quot;));\nArrays.sort((JurisdictionTax[]) map2.get(&quot;jurisdictionTaxes&quot;));\n\nSystem.out.println(&quot;map1 after: &quot; + ((JurisdictionTax[])map1.get(&quot;jurisdictionTaxes&quot;))[0]);\nSystem.out.println(&quot;map2 after: &quot; +    ((JurisdictionTax[])map2.get(&quot;jurisdictionTaxes&quot;))[0]);\n</code></pre>\n<p>prints:</p>\n<pre><code>map1 before: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=bbb, rate=null]]\nmap2 before: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=ccc, rate=null]]\nmap1 after: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=aaa, rate=null]]\nmap2 after: JurisdictionTax [jurisdictionLevel=null, taxAmount=null, taxRate=TaxRate [rateType=aaa, rate=null]]\n</code></pre>\n<p>With defined classes:</p>\n<pre><code>public class JurisdictionTax implements Comparable&lt;JurisdictionTax&gt; {\npublic JurisdictionTax(TaxRate taxRate) {\n    super();\n    this.taxRate = taxRate;\n}\npublic String jurisdictionLevel;\npublic TaxAmount taxAmount;\npublic TaxRate taxRate;\npublic String displayName;\npublic String jurisdictionName;\npublic String responsiblePartyReason;\n\n\n@Override\npublic int compareTo(JurisdictionTax other) {\n    // incomplete\n    return this.taxRate.rateType.compareTo(other.taxRate.rateType);\n}\n\n\n@Override\npublic String toString() {\n    return &quot;JurisdictionTax [jurisdictionLevel=&quot; + jurisdictionLevel + &quot;, taxAmount=&quot; + taxAmount + &quot;, taxRate=&quot;\n            + taxRate + &quot;]&quot;;\n}\n    \n\n\n}\n</code></pre>\n<p>etc</p>\n"}],"owner":{"account_id":18886372,"reputation":157,"user_id":13777706,"display_name":"Blake"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75950138,"answer_count":1,"score":1,"last_activity_date":1680787894,"creation_date":1680574103,"question_id":75924992,"body_markdown":"I have two maps, `Map&lt;String,Object&gt;` which looks like:\r\n```\r\nMap&lt;String, Object&gt; map1 = {\r\n    taxRate={rateType=EXCLUSIVE, rate=0.07}, \r\n    taxAmount={currencyCode=USD, amount=7.0},\r\n    jurisdictionTaxes=[{jurisdictionLevel=State, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=County, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=City, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=District, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}],\r\n    withholdingJurisdictionTaxes=[]\r\n}\r\n\r\nMap&lt;String, Object&gt; map2 = {\r\n    taxRate={rateType=EXCLUSIVE, rate=0.07}, \r\n    taxAmount={currencyCode=USD, amount=7.0},\r\n    jurisdictionTaxes=[{jurisdictionLevel=State, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=County, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=City, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=District, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}],\r\n    withholdingJurisdictionTaxes=[]\r\n}\r\n\r\n```\r\n\r\nI am comparing these two maps using\r\n\r\n```\r\n  Map&lt;String, Object&gt; flatMap1 = FlatMapUtil.flatten(map1);\r\n  Map&lt;String, Object&gt; flatMap2 = FlatMapUtil.flatten(map2);\r\n  MapDifference&lt;String, Object&gt; difference = Maps.difference(flatMap1, flatMap2);\r\n\r\n```\r\n\r\nHowever if you look at the second key value in the map, it is a list of objects. The order matters while calculating the diff. So I would need to sort that particular list before finding the Map.difference.\r\n\r\nCan you help me understand how I can sort this List&lt;Object&gt;?\r\n\r\nI tried the following:\r\n```\r\n1. Collections.sort(Arrays.asList(leftMap.get(&quot;jurisdictionTaxes&quot;)));\r\n\r\nError: Required type: List &lt;T&gt;\r\nProvided: List &lt;Object&gt;\r\n\r\n2. Arrays.asList(leftMap.get(&quot;jurisdictionTaxes&quot;)).sort((s1, s2) -&gt; s1.get(&quot;jurisdictionLevel&quot;) - s2.get(&quot;jurisdictionLevel&quot;));\r\n\r\nError: Cannot resolve method &#39;get&#39; in &#39;Object&#39;\r\n```\r\n\r\n\r\n```\r\n public static &lt;K, V&gt; MapDifference&lt;K, V&gt; difference(Map&lt;? extends K, ? extends V&gt; left, Map&lt;? extends K, ? extends V&gt; right) {\r\n        if (left instanceof SortedMap) {\r\n            SortedMap&lt;K, ? extends V&gt; sortedLeft = (SortedMap)left;\r\n            return difference(sortedLeft, right);\r\n        } else {\r\n            return difference(left, right, Equivalence.equals());\r\n        }\r\n    }\r\n```","title":"How to sort List&lt;Object&gt; in a Map&lt;String, Object&gt; in Java?","body":"<p>I have two maps, <code>Map&lt;String,Object&gt;</code> which looks like:</p>\n<pre><code>Map&lt;String, Object&gt; map1 = {\n    taxRate={rateType=EXCLUSIVE, rate=0.07}, \n    taxAmount={currencyCode=USD, amount=7.0},\n    jurisdictionTaxes=[{jurisdictionLevel=State, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=County, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=City, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=District, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}],\n    withholdingJurisdictionTaxes=[]\n}\n\nMap&lt;String, Object&gt; map2 = {\n    taxRate={rateType=EXCLUSIVE, rate=0.07}, \n    taxAmount={currencyCode=USD, amount=7.0},\n    jurisdictionTaxes=[{jurisdictionLevel=State, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=County, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=City, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}, {jurisdictionLevel=District, taxAmount={currencyCode=USD, amount=null}, taxRate={rateType=EXCLUSIVE, rate=null}, displayName=, jurisdictionName=, responsiblePartyReason=}],\n    withholdingJurisdictionTaxes=[]\n}\n\n</code></pre>\n<p>I am comparing these two maps using</p>\n<pre><code>  Map&lt;String, Object&gt; flatMap1 = FlatMapUtil.flatten(map1);\n  Map&lt;String, Object&gt; flatMap2 = FlatMapUtil.flatten(map2);\n  MapDifference&lt;String, Object&gt; difference = Maps.difference(flatMap1, flatMap2);\n\n</code></pre>\n<p>However if you look at the second key value in the map, it is a list of objects. The order matters while calculating the diff. So I would need to sort that particular list before finding the Map.difference.</p>\n<p>Can you help me understand how I can sort this List?</p>\n<p>I tried the following:</p>\n<pre><code>1. Collections.sort(Arrays.asList(leftMap.get(&quot;jurisdictionTaxes&quot;)));\n\nError: Required type: List &lt;T&gt;\nProvided: List &lt;Object&gt;\n\n2. Arrays.asList(leftMap.get(&quot;jurisdictionTaxes&quot;)).sort((s1, s2) -&gt; s1.get(&quot;jurisdictionLevel&quot;) - s2.get(&quot;jurisdictionLevel&quot;));\n\nError: Cannot resolve method 'get' in 'Object'\n</code></pre>\n<pre><code> public static &lt;K, V&gt; MapDifference&lt;K, V&gt; difference(Map&lt;? extends K, ? extends V&gt; left, Map&lt;? extends K, ? extends V&gt; right) {\n        if (left instanceof SortedMap) {\n            SortedMap&lt;K, ? extends V&gt; sortedLeft = (SortedMap)left;\n            return difference(sortedLeft, right);\n        } else {\n            return difference(left, right, Equivalence.equals());\n        }\n    }\n</code></pre>\n"},{"tags":["java","quarkus","vert.x","smallrye"],"answers":[{"comments":[{"owner":{"account_id":28223234,"reputation":3,"user_id":21573645,"display_name":"Takayuki-T"},"score":0,"creation_date":1680788179,"post_id":75947146,"comment_id":133959507,"body_markdown":"Thank you for pointing this out.\nAs you pointed out, the design that returns Null is certainly not appropriate. .\n\nI will review this again!","body":"Thank you for pointing this out. As you pointed out, the design that returns Null is certainly not appropriate. .  I will review this again!"}],"tags":[],"owner":{"account_id":427958,"reputation":548,"user_id":809984,"display_name":"jponge"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680768020,"creation_date":1680768020,"answer_id":75947146,"question_id":75940219,"body_markdown":"It would be easier if you had a full reproducer project somewhere, and any error log / stack-trace would also help.\r\n\r\nThat being said I&#39;m seeing something very suspicious:\r\n\r\n```java\r\n.onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null)\r\n```\r\n\r\nThis could insert `null` values in a `Multi` stream, and that is not permitted in the _Reactive Streams_ specification that `Multi` implements.\r\nWhen a `transform` handler returns `null`, then the stream is errored.","title":"Implementation using io.vertx.mutiny in Quarkus does not change the value to be returned","body":"<p>It would be easier if you had a full reproducer project somewhere, and any error log / stack-trace would also help.</p>\n<p>That being said I'm seeing something very suspicious:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null)\n</code></pre>\n<p>This could insert <code>null</code> values in a <code>Multi</code> stream, and that is not permitted in the <em>Reactive Streams</em> specification that <code>Multi</code> implements.\nWhen a <code>transform</code> handler returns <code>null</code>, then the stream is errored.</p>\n"},{"tags":[],"owner":{"account_id":28223234,"reputation":3,"user_id":21573645,"display_name":"Takayuki-T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680787841,"creation_date":1680787841,"answer_id":75950131,"question_id":75940219,"body_markdown":"I was able to deal with it by doing only OrderBy separately as shown below, but the reason is not clear. Sorry for the inconvenience.    \r\n\r\n\r\n    @Override\r\n        public Multi&lt;Product&gt; searchProducts(String sortKey, String order, Integer limit, Integer offset) {\r\n    \r\n            final String query = QueryHelper.setOrderInQuery(ProductCommand.FECTH, order);\r\n    \r\n            return client\r\n                    .preparedQuery(query)\r\n                    .execute(selectTuple(sortKey, limit, offset))\r\n                    .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\r\n                    .onItem().transform(this::toProduct)\r\n                    .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\r\n        }\r\n    \r\n        private Tuple selectTuple(String key, Integer limit, Integer offset) {\r\n            return Tuple.wrap(Arrays.asList(\r\n                    Objects.isNull(key) ? &quot; p.id&quot; : key,\r\n                    Objects.isNull(limit) ? 10 : limit,\r\n                    Objects.isNull(offset) ? 0 : offset));","title":"Implementation using io.vertx.mutiny in Quarkus does not change the value to be returned","body":"<p>I was able to deal with it by doing only OrderBy separately as shown below, but the reason is not clear. Sorry for the inconvenience.</p>\n<pre><code>@Override\n    public Multi&lt;Product&gt; searchProducts(String sortKey, String order, Integer limit, Integer offset) {\n\n        final String query = QueryHelper.setOrderInQuery(ProductCommand.FECTH, order);\n\n        return client\n                .preparedQuery(query)\n                .execute(selectTuple(sortKey, limit, offset))\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\n                .onItem().transform(this::toProduct)\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\n    }\n\n    private Tuple selectTuple(String key, Integer limit, Integer offset) {\n        return Tuple.wrap(Arrays.asList(\n                Objects.isNull(key) ? &quot; p.id&quot; : key,\n                Objects.isNull(limit) ? 10 : limit,\n                Objects.isNull(offset) ? 0 : offset));\n</code></pre>\n"}],"owner":{"account_id":28223234,"reputation":3,"user_id":21573645,"display_name":"Takayuki-T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75947146,"answer_count":2,"score":0,"last_activity_date":1680787841,"creation_date":1680702271,"question_id":75940219,"body_markdown":"We are building a reactive system by implementing it using io.vertx.mutiny in Quarkus.\r\nAt this time, a single value was tested and confirmed to be returned. However, variables that are expected to return multiple records will not finish processing and will eventually be cancelled. How should I deal with this?\r\n\r\nI would appreciate it if you could enjoy it if you know the solution.\r\n\r\nImport-Block\r\n```\r\nimport io.smallrye.mutiny.Multi; import io.smallrye.mutiny.Uni; import io.vertx.mutiny.pgclient.PgPool; import io.vertx.mutiny.sqlclient.Row; import io.vertx.mutiny.sqlclient.RowSet; import io.vertx.mutiny.sqlclient.SqlClient; import io.vertx.mutiny.sqlclient.Tuple;`\r\n```\r\n```\r\nprivate final PgPool client;\r\n```\r\n\r\n\r\nSuccess Method\r\n   \r\n```\r\nprivate final String FETCH_BY_ID = &quot;SELECT p.*, c.name as category_name FROM products p INNER JOIN categories c ON p.category_id = c.id WHERE p.id = $1&quot;;\r\n @Override\r\n    public Uni&lt;Product&gt; searchProduct(UUID productId) {\r\n        return this.executeFetchById(productId, this.client);\r\n    }\r\n\r\n    private Uni&lt;Product&gt; executeFetchById(UUID productId, SqlClient client) {\r\n        return client\r\n                .preparedQuery(FETCH_BY_ID)\r\n                .execute(Tuple.of(productId))\r\n                .onItem().transform(RowSet::iterator)\r\n                .onItem().transform(iterator -&gt; iterator.hasNext() ? toProduct(iterator.next()) : null)\r\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\r\n    }\r\n```\r\n\r\nFailure\r\n```\r\n    @Override\r\n    public Multi&lt;Product&gt; searchProducts(String sortKey, String order, Integer limit, Integer offset) {\r\n\r\n        final String query = generateSearchProductsQuery(sortKey, order);\r\n\r\n        return client\r\n                .preparedQuery(query)\r\n                .execute(selectTuple(limit, offset))\r\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\r\n                .onItem().transform(this::toProduct)\r\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\r\n    }\r\n\r\n    private Tuple selectTuple(Integer limit, Integer offset) {\r\n        return Tuple.wrap(Arrays.asList(\r\n                Objects.isNull(limit) ? 10 : limit,\r\n                Objects.isNull(offset) ? 0 : offset));\r\n    }\r\n\r\n    private String generateSearchProductsQuery(String sortKey, String order) {\r\n        String baseQuery = &quot;SELECT p.*, c.name as category_name FROM products p INNER JOIN categories c ON p.category_id = c.id ORDER BY %s %s LIMIT $1 OFFSET $2&quot;;\r\n        String finalSortKey = Objects.isNull(sortKey) ? &quot;p.id&quot; : sortKey;\r\n        String finalOrder = Objects.isNull(order) ? &quot;ASC&quot; : order;\r\n        return String.format(baseQuery, finalSortKey, finalOrder);\r\n    }\r\n```\r\n\r\n\r\n```\r\nreturn client\r\n                .preparedQuery(query)\r\n                .execute(selectTuple(limit, offset))\r\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\r\n                .onItem().transform(this::toProduct)\r\n                .log(&quot;TEST A&quot;)\r\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\r\n```\r\n\r\nTEST Ais displayed, but the process was never completed.\r\n\r\n","title":"Implementation using io.vertx.mutiny in Quarkus does not change the value to be returned","body":"<p>We are building a reactive system by implementing it using io.vertx.mutiny in Quarkus.\nAt this time, a single value was tested and confirmed to be returned. However, variables that are expected to return multiple records will not finish processing and will eventually be cancelled. How should I deal with this?</p>\n<p>I would appreciate it if you could enjoy it if you know the solution.</p>\n<p>Import-Block</p>\n<pre><code>import io.smallrye.mutiny.Multi; import io.smallrye.mutiny.Uni; import io.vertx.mutiny.pgclient.PgPool; import io.vertx.mutiny.sqlclient.Row; import io.vertx.mutiny.sqlclient.RowSet; import io.vertx.mutiny.sqlclient.SqlClient; import io.vertx.mutiny.sqlclient.Tuple;`\n</code></pre>\n<pre><code>private final PgPool client;\n</code></pre>\n<p>Success Method</p>\n<pre><code>private final String FETCH_BY_ID = &quot;SELECT p.*, c.name as category_name FROM products p INNER JOIN categories c ON p.category_id = c.id WHERE p.id = $1&quot;;\n @Override\n    public Uni&lt;Product&gt; searchProduct(UUID productId) {\n        return this.executeFetchById(productId, this.client);\n    }\n\n    private Uni&lt;Product&gt; executeFetchById(UUID productId, SqlClient client) {\n        return client\n                .preparedQuery(FETCH_BY_ID)\n                .execute(Tuple.of(productId))\n                .onItem().transform(RowSet::iterator)\n                .onItem().transform(iterator -&gt; iterator.hasNext() ? toProduct(iterator.next()) : null)\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\n    }\n</code></pre>\n<p>Failure</p>\n<pre><code>    @Override\n    public Multi&lt;Product&gt; searchProducts(String sortKey, String order, Integer limit, Integer offset) {\n\n        final String query = generateSearchProductsQuery(sortKey, order);\n\n        return client\n                .preparedQuery(query)\n                .execute(selectTuple(limit, offset))\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\n                .onItem().transform(this::toProduct)\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\n    }\n\n    private Tuple selectTuple(Integer limit, Integer offset) {\n        return Tuple.wrap(Arrays.asList(\n                Objects.isNull(limit) ? 10 : limit,\n                Objects.isNull(offset) ? 0 : offset));\n    }\n\n    private String generateSearchProductsQuery(String sortKey, String order) {\n        String baseQuery = &quot;SELECT p.*, c.name as category_name FROM products p INNER JOIN categories c ON p.category_id = c.id ORDER BY %s %s LIMIT $1 OFFSET $2&quot;;\n        String finalSortKey = Objects.isNull(sortKey) ? &quot;p.id&quot; : sortKey;\n        String finalOrder = Objects.isNull(order) ? &quot;ASC&quot; : order;\n        return String.format(baseQuery, finalSortKey, finalOrder);\n    }\n</code></pre>\n<pre><code>return client\n                .preparedQuery(query)\n                .execute(selectTuple(limit, offset))\n                .onItem().transformToMulti(rows -&gt; Multi.createFrom().iterable(rows))\n                .onItem().transform(this::toProduct)\n                .log(&quot;TEST A&quot;)\n                .onItem().transform(entity -&gt; ObjectUtils.isNotEmpty(entity) ? productTranslator.toDomain(entity) : null);\n</code></pre>\n<p>TEST Ais displayed, but the process was never completed.\n</p>\n"},{"tags":["java","android","firebase","opencsv"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1680779899,"post_id":75947737,"comment_id":133957519,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680785064,"post_id":75947737,"comment_id":133958745,"body_markdown":"`String[] mimeTypes = {&quot;text/csv` Remove that. Just `*/*` will show all files.","body":"<code>String[] mimeTypes = {&quot;text&#47;csv</code> Remove that. Just <code>*&#47;*</code> will show all files."},{"owner":{"account_id":22018291,"reputation":23,"user_id":16287464,"display_name":"Naak Mukka"},"score":0,"creation_date":1680787382,"post_id":75947737,"comment_id":133959322,"body_markdown":"@AlexMamo As you can see in the image the resto.csv file cannot be selected but i want it to be selected so that the data can be parsed.\nTHERE ARE NO ERRORS so i think there must be some logical error","body":"@AlexMamo As you can see in the image the resto.csv file cannot be selected but i want it to be selected so that the data can be parsed. THERE ARE NO ERRORS so i think there must be some logical error"},{"owner":{"account_id":22018291,"reputation":23,"user_id":16287464,"display_name":"Naak Mukka"},"score":0,"creation_date":1680787405,"post_id":75947737,"comment_id":133959332,"body_markdown":"@blackapps tried that too but doesnt help...","body":"@blackapps tried that too but doesnt help..."}],"owner":{"account_id":22018291,"reputation":23,"user_id":16287464,"display_name":"Naak Mukka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680787338,"creation_date":1680772022,"question_id":75947737,"body_markdown":"I am learning Android App Development and trying to make an app which selects a csv or excel file and then parse the data into a Recycler View.\r\nHere I am using a csv file:\r\n\r\n    Name, Price\r\n    Item1, 10\r\n    Item2, 20\r\n    Item3, 30\r\n\r\nbut when click the upload button the file chooser opens successfully but its not showing any csv or xlsx file present in the device although file is present.\r\n\r\nHere is the code :\r\n\r\n\r\n```\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.opencsv.CSVReader;\r\n\r\nimport java.io.FileReader;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class AdminHome extends AppCompatActivity {\r\n    Button logOutBtn, uploadBtn;\r\n    FirebaseAuth mAuth;\r\n    TextView tvEmail;\r\n    private static final int FILE_SELECT_CODE = 1;\r\n    private List&lt;MenuItem&gt; menuItemList = new ArrayList&lt;&gt;();\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_admin_home);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        tvEmail = findViewById(R.id.tvUser);\r\n        logOutBtn = findViewById(R.id.logOutBtn);\r\n        uploadBtn = findViewById(R.id.uploadBtn);\r\n        String email = getIntent().getStringExtra(&quot;email&quot;);\r\n        tvEmail.setText(email);\r\n\r\n\r\n        uploadBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                showFileChooser();\r\n            }\r\n        });\r\n\r\n        logOutBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                signOut();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showFileChooser() {\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;*/*&quot;); // Allow all file types\r\n        String[] mimeTypes = {&quot;text/csv&quot;}; // Add CSV MIME type\r\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        try {\r\n            startActivityForResult(Intent.createChooser(intent, &quot;Select a File&quot;), FILE_SELECT_CODE);\r\n\r\n        }catch (Exception e) {\r\n            Toast.makeText(this, e.getMessage(), Toast.LENGTH_LONG).show();\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == FILE_SELECT_CODE &amp;&amp; resultCode == RESULT_OK) {\r\n            if(data != null) {\r\n                Uri uri = data.getData();\r\n                String path = uri.getPath();\r\n                try {\r\n                    CSVReader reader = new CSVReader(new FileReader(path));\r\n                    String[] line;\r\n\r\n                    while ((line = reader.readNext()) != null) {\r\n                        String name = line[0];\r\n                        String price = line[1];\r\n                        menuItemList.add(new MenuItem(name, price));\r\n\r\n                    }\r\n                    RecyclerView recyclerView = findViewById(R.id.menu_list);\r\n                    MenuAdapter adapter = new MenuAdapter(menuItemList);\r\n                    recyclerView.setAdapter(adapter);\r\n                    recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n                    reader.close();\r\n                }catch (Exception e) {\r\n                    Toast.makeText(this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        finishAffinity();\r\n    }\r\n\r\n    public void signOut() {\r\n        mAuth.signOut();\r\n        Intent intent = new Intent(AdminHome.this, MainActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n}\r\n```\r\n[![As you can see I have a csv file present but its not getting selected](https://i.stack.imgur.com/fkfTf.png)](https://i.stack.imgur.com/fkfTf.png)\r\n\r\nAs you can see in the image the resto.csv file cannot be selected but i want it to be selected so that the data can be parsed.\r\n***THERE ARE NO ERRORS so i think there must be some logical error***\r\nI tried to remove these lines thinking that it will allow all types of files to select which it did but then it was not parsing the data:\r\n\r\n```\r\n\r\n        String[] mimeTypes = {&quot;text/csv&quot;}; // Add CSV MIME type\r\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);`\r\n```","title":"Fille Chooser unable to select csv, xlsx file Android Studio","body":"<p>I am learning Android App Development and trying to make an app which selects a csv or excel file and then parse the data into a Recycler View.\nHere I am using a csv file:</p>\n<pre><code>Name, Price\nItem1, 10\nItem2, 20\nItem3, 30\n</code></pre>\n<p>but when click the upload button the file chooser opens successfully but its not showing any csv or xlsx file present in the device although file is present.</p>\n<p>Here is the code :</p>\n<pre><code>import androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.opencsv.CSVReader;\n\nimport java.io.FileReader;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class AdminHome extends AppCompatActivity {\n    Button logOutBtn, uploadBtn;\n    FirebaseAuth mAuth;\n    TextView tvEmail;\n    private static final int FILE_SELECT_CODE = 1;\n    private List&lt;MenuItem&gt; menuItemList = new ArrayList&lt;&gt;();\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_admin_home);\n\n        mAuth = FirebaseAuth.getInstance();\n\n        tvEmail = findViewById(R.id.tvUser);\n        logOutBtn = findViewById(R.id.logOutBtn);\n        uploadBtn = findViewById(R.id.uploadBtn);\n        String email = getIntent().getStringExtra(&quot;email&quot;);\n        tvEmail.setText(email);\n\n\n        uploadBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                showFileChooser();\n            }\n        });\n\n        logOutBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                signOut();\n            }\n        });\n    }\n\n    private void showFileChooser() {\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        intent.setType(&quot;*/*&quot;); // Allow all file types\n        String[] mimeTypes = {&quot;text/csv&quot;}; // Add CSV MIME type\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        try {\n            startActivityForResult(Intent.createChooser(intent, &quot;Select a File&quot;), FILE_SELECT_CODE);\n\n        }catch (Exception e) {\n            Toast.makeText(this, e.getMessage(), Toast.LENGTH_LONG).show();\n            System.out.println(e.getMessage());\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if(requestCode == FILE_SELECT_CODE &amp;&amp; resultCode == RESULT_OK) {\n            if(data != null) {\n                Uri uri = data.getData();\n                String path = uri.getPath();\n                try {\n                    CSVReader reader = new CSVReader(new FileReader(path));\n                    String[] line;\n\n                    while ((line = reader.readNext()) != null) {\n                        String name = line[0];\n                        String price = line[1];\n                        menuItemList.add(new MenuItem(name, price));\n\n                    }\n                    RecyclerView recyclerView = findViewById(R.id.menu_list);\n                    MenuAdapter adapter = new MenuAdapter(menuItemList);\n                    recyclerView.setAdapter(adapter);\n                    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n                    reader.close();\n                }catch (Exception e) {\n                    Toast.makeText(this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        finishAffinity();\n    }\n\n    public void signOut() {\n        mAuth.signOut();\n        Intent intent = new Intent(AdminHome.this, MainActivity.class);\n        startActivity(intent);\n        finish();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fkfTf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fkfTf.png\" alt=\"As you can see I have a csv file present but its not getting selected\" /></a></p>\n<p>As you can see in the image the resto.csv file cannot be selected but i want it to be selected so that the data can be parsed.\n<em><strong>THERE ARE NO ERRORS so i think there must be some logical error</strong></em>\nI tried to remove these lines thinking that it will allow all types of files to select which it did but then it was not parsing the data:</p>\n<pre><code>\n        String[] mimeTypes = {&quot;text/csv&quot;}; // Add CSV MIME type\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);`\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":0,"creation_date":1680786789,"post_id":75949638,"comment_id":133959173,"body_markdown":"Sorry one case missed in the questions same character means not only digits even alpha like AAAAAAAAAAAA not allow","body":"Sorry one case missed in the questions same character means not only digits even alpha like AAAAAAAAAAAA not allow"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1680786930,"post_id":75949638,"comment_id":133959212,"body_markdown":"See the [answer](https://stackoverflow.com/a/75949772/3832970) (I removed the comment above), it has the right solution.","body":"See the <a href=\"https://stackoverflow.com/a/75949772/3832970\">answer</a> (I removed the comment above), it has the right solution."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680786047,"post_id":75949772,"comment_id":133958978,"body_markdown":"Nothing in the question talks about specifically digits; that `\\d` should presumably be `[0-9A-Z]` or `\\\\w`.","body":"Nothing in the question talks about specifically digits; that <code>\\d</code> should presumably be <code>[0-9A-Z]</code> or <code>\\\\w</code>."},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1680786406,"post_id":75949772,"comment_id":133959060,"body_markdown":"@rzwitserloot Correct, the only example provided got me off the track.","body":"@rzwitserloot Correct, the only example provided got me off the track."},{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":0,"creation_date":1680786741,"post_id":75949772,"comment_id":133959157,"body_markdown":"Sorry one case missed in the questions same character means not only digits even alpha like AAAAAAAAAAAA\n not allow","body":"Sorry one case missed in the questions same character means not only digits even alpha like AAAAAAAAAAAA  not allow"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1680786963,"post_id":75949772,"comment_id":133959220,"body_markdown":"@HarinathaReddy `AAAAAAAAAAAA` is not allowed with [this regex](https://regex101.com/r/aFpfwv/4).","body":"@HarinathaReddy <code>AAAAAAAAAAAA</code> is not allowed with <a href=\"https://regex101.com/r/aFpfwv/4\" rel=\"nofollow noreferrer\">this regex</a>."},{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":0,"creation_date":1680787173,"post_id":75949772,"comment_id":133959266,"body_markdown":"Yes I referred to the earlier one in the comments of the question, Thank you","body":"Yes I referred to the earlier one in the comments of the question, Thank you"}],"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680786335,"creation_date":1680785693,"answer_id":75949772,"question_id":75949638,"body_markdown":"You can use\r\n```none\r\n^(?=.{12,14}$)(?!([a-zA-Z\\d])(?:&amp;?\\1)+$)[a-zA-Z\\d]+(?:&amp;[a-zA-Z\\d]+)?$\r\n```\r\nSee the [regex demo][1]\r\n\r\n*Details*:\r\n\r\n - `^` - start of string\r\n - `(?=.{12,14}$)` - the length of the string must be between 12 and 14 chars\r\n - `(?!([a-zA-Z\\d])(?:&amp;?\\1)+$)` - the string cannot have identical alphanumeric chars eventually separated with a `&amp;` char at any position\r\n - `[a-zA-Z\\d]+(?:&amp;[a-zA-Z\\d]+)?` - one or more alphanumeric chars followed with an optional sequence of a `&amp;` char followed with one or more alphanumeric chars\r\n - `$` - end of string.\r\n\r\n  [1]: https://regex101.com/r/aFpfwv/3","title":"Regex Pattern for Not allow all same characters even separated by single special character","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?=.{12,14}$)(?!([a-zA-Z\\d])(?:&amp;?\\1)+$)[a-zA-Z\\d]+(?:&amp;[a-zA-Z\\d]+)?$\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/aFpfwv/3\" rel=\"nofollow noreferrer\">regex demo</a></p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>(?=.{12,14}$)</code> - the length of the string must be between 12 and 14 chars</li>\n<li><code>(?!([a-zA-Z\\d])(?:&amp;?\\1)+$)</code> - the string cannot have identical alphanumeric chars eventually separated with a <code>&amp;</code> char at any position</li>\n<li><code>[a-zA-Z\\d]+(?:&amp;[a-zA-Z\\d]+)?</code> - one or more alphanumeric chars followed with an optional sequence of a <code>&amp;</code> char followed with one or more alphanumeric chars</li>\n<li><code>$</code> - end of string.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10051056,"reputation":3485,"user_id":7430869,"display_name":"Trung Duong"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680786963,"creation_date":1680786963,"answer_id":75949979,"question_id":75949638,"body_markdown":"You could try this pattern: \r\n\r\n    /^([A-Z0-9])(?!(\\1|&amp;)+$)(?=.{11,13}$)[A-Z0-9]*(?:[&amp;][A-Z0-9]+)?$/gm\r\n\r\nIt&#39;s modified version of your pattern, I&#39;ve only updated the negative look-ahead part to `(?!(\\1|&amp;)+$)` (not allow repeated of first letter or &#39;&amp;&#39; letter).\r\n\r\nSee demo [here][1] \r\n\r\n\r\n  [1]: https://regex101.com/r/hfcNuE/1","title":"Regex Pattern for Not allow all same characters even separated by single special character","body":"<p>You could try this pattern:</p>\n<pre><code>/^([A-Z0-9])(?!(\\1|&amp;)+$)(?=.{11,13}$)[A-Z0-9]*(?:[&amp;][A-Z0-9]+)?$/gm\n</code></pre>\n<p>It's modified version of your pattern, I've only updated the negative look-ahead part to <code>(?!(\\1|&amp;)+$)</code> (not allow repeated of first letter or '&amp;' letter).</p>\n<p>See demo <a href=\"https://regex101.com/r/hfcNuE/1\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680786963,"creation_date":1680784833,"question_id":75949638,"body_markdown":"\r\nTrying to create the regex for the below conditions, I have tried the one regex it&#39;s working as expected other than one condition as it does not allow duplicates even separated by particular Char &amp;.\r\n\r\n1. Allow Alpha Numeric characters with a minimum of 12 and a maximum of 14 \r\n\r\n2. No special characters are allowed other than &amp; ( only one)\r\n\r\n3. Not Allow all the same characters even separated by &amp; \r\n\r\n4. Length is same between 12 to 14 even including the &amp; \r\n\r\n  \r\nex: 111111111111 not allowed as all are the same characters\r\n\r\n    1111111&amp;11111 not allowed as all are the same characters even &amp; is there\r\n\r\n    111111111112 allowed \r\n\r\n    1111111&amp;11112 allowed\r\n\r\n    ABC123567GHDG4 allowed\r\n    \r\n```\r\n^(\\d)(?!\\1+$)(?=.{11,13}$)[0-9]*(?:[&amp;][0-9]+)?$\r\n```\r\n\r\nThe above regex is working other than the case 1111111&amp;11111 \r\n\r\ntried the below regex as well, it works the condition as it&#39;s not allowing the same characters \r\n\r\nBut it allows the &amp; beginning and end of the string and not allowed Alphabets \r\n\r\n```\r\n^(?!&amp;?(\\d)(?:&amp;?\\1)+$)(?=.{12,14}$)\\d*(?:&amp;\\d*)?$\r\n```\r\n\r\n\r\n\r\nWe do not allow the ```&quot;&amp;&quot;``` at the beginning and end of the string \r\nAnd it needs to allow the ```Captial Alpha character``` along with ```numerics```.\r\n```\r\nABC123567GHDG4 allowed \r\n\r\nABC1235&amp;67GHD allowed\r\n\r\nABCDEFGHIJKLR allowed\r\n\r\n1254789563254 allowed\r\n\r\n125478&amp;563254 allowed\r\n\r\n125478556325&amp; not allowed as ends with &amp;\r\n\r\n&amp;125478556325 not allowed as starts with &amp;\r\n\r\nABCDEFGHIJKL&amp; not allowed as ends with &amp;\r\n\r\n&amp;ABCDEFGHIJKL not allowed as start with &amp;\r\n\r\n```\r\n\r\n","title":"Regex Pattern for Not allow all same characters even separated by single special character","body":"<p>Trying to create the regex for the below conditions, I have tried the one regex it's working as expected other than one condition as it does not allow duplicates even separated by particular Char &amp;.</p>\n<ol>\n<li><p>Allow Alpha Numeric characters with a minimum of 12 and a maximum of 14</p>\n</li>\n<li><p>No special characters are allowed other than &amp; ( only one)</p>\n</li>\n<li><p>Not Allow all the same characters even separated by &amp;</p>\n</li>\n<li><p>Length is same between 12 to 14 even including the &amp;</p>\n</li>\n</ol>\n<p>ex: 111111111111 not allowed as all are the same characters</p>\n<pre><code>1111111&amp;11111 not allowed as all are the same characters even &amp; is there\n\n111111111112 allowed \n\n1111111&amp;11112 allowed\n\nABC123567GHDG4 allowed\n</code></pre>\n<pre><code>^(\\d)(?!\\1+$)(?=.{11,13}$)[0-9]*(?:[&amp;][0-9]+)?$\n</code></pre>\n<p>The above regex is working other than the case 1111111&amp;11111</p>\n<p>tried the below regex as well, it works the condition as it's not allowing the same characters</p>\n<p>But it allows the &amp; beginning and end of the string and not allowed Alphabets</p>\n<pre><code>^(?!&amp;?(\\d)(?:&amp;?\\1)+$)(?=.{12,14}$)\\d*(?:&amp;\\d*)?$\n</code></pre>\n<p>We do not allow the <code>&quot;&amp;&quot;</code> at the beginning and end of the string\nAnd it needs to allow the <code>Captial Alpha character</code> along with <code>numerics</code>.</p>\n<pre><code>ABC123567GHDG4 allowed \n\nABC1235&amp;67GHD allowed\n\nABCDEFGHIJKLR allowed\n\n1254789563254 allowed\n\n125478&amp;563254 allowed\n\n125478556325&amp; not allowed as ends with &amp;\n\n&amp;125478556325 not allowed as starts with &amp;\n\nABCDEFGHIJKL&amp; not allowed as ends with &amp;\n\n&amp;ABCDEFGHIJKL not allowed as start with &amp;\n\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4631198,"reputation":2017,"user_id":3753671,"display_name":"Mike Elofson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1403742101,"creation_date":1403742101,"answer_id":24420646,"question_id":24420633,"body_markdown":"    int a = (int) Math.round(doubleVar);\r\nThis will round it and cast it to an int.","title":"How to round double to nearest whole number and return it as Integer","body":"<pre><code>int a = (int) Math.round(doubleVar);\n</code></pre>\n\n<p>This will round it and cast it to an int.</p>\n"},{"comments":[{"owner":{"account_id":1021804,"reputation":12885,"user_id":1031945,"accept_rate":83,"display_name":"Aniket Kulkarni"},"score":0,"creation_date":1548152912,"post_id":24420650,"comment_id":95432213,"body_markdown":"Failing for :\n`double y = 85.4999;`  \n`System.out.println(Math.round(y)); //outputs 85`\nOutput should be 86","body":"Failing for : <code>double y = 85.4999;</code>   <code>System.out.println(Math.round(y)); &#47;&#47;outputs 85</code> Output should be 86"},{"owner":{"account_id":4919614,"reputation":597,"user_id":3962524,"display_name":"Michael Ziluck"},"score":9,"creation_date":1565646994,"post_id":24420650,"comment_id":101410485,"body_markdown":"@AniketKulkarni Why would you expect it to output 86? The closest whole number to 85.4999 is 85. It is .4999 away from 85 and .5001 away from 86.","body":"@AniketKulkarni Why would you expect it to output 86? The closest whole number to 85.4999 is 85. It is .4999 away from 85 and .5001 away from 86."}],"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1403742167,"creation_date":1403742167,"answer_id":24420650,"question_id":24420633,"body_markdown":"    public static void main(String[] args) {\r\n    \tdouble x = 6.001;\r\n    \tdouble y = 5.999;\r\n    \t\r\n    \tSystem.out.println(Math.round(x)); //outputs 6\r\n    \tSystem.out.println(Math.round(y)); //outputs 6\r\n    }","title":"How to round double to nearest whole number and return it as Integer","body":"<pre><code>public static void main(String[] args) {\n    double x = 6.001;\n    double y = 5.999;\n\n    System.out.println(Math.round(x)); //outputs 6\n    System.out.println(Math.round(y)); //outputs 6\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":1,"creation_date":1403742654,"post_id":24420683,"comment_id":37781291,"body_markdown":"Just curious, when would the round-to-even behavior for `Math.rint()` be desired?","body":"Just curious, when would the round-to-even behavior for <code>Math.rint()</code> be desired?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1403744243,"post_id":24420683,"comment_id":37781605,"body_markdown":"It entirely depends on your use case.","body":"It entirely depends on your use case."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":1,"creation_date":1502190245,"post_id":24420683,"comment_id":78091911,"body_markdown":"@awksp: To get rid of sign bias, and preserve the average value of the rounded numbers. Useful when summing or averaging. See https://en.wikipedia.org/wiki/Rounding#Round_half_to_even","body":"@awksp: To get rid of sign bias, and preserve the average value of the rounded numbers. Useful when summing or averaging. See <a href=\"https://en.wikipedia.org/wiki/Rounding#Round_half_to_even\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Rounding#Round_half_to_even</a>"}],"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1403742405,"creation_date":1403742405,"answer_id":24420683,"question_id":24420633,"body_markdown":"For your example, it seems that you want to use [`Math.rint()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#rint(double)).  It will return the closest integer value given a `double`.\r\n\r\n    int valueX = (int) Math.rint(x);\r\n    int valueY = (int) Math.rint(y);   ","title":"How to round double to nearest whole number and return it as Integer","body":"<p>For your example, it seems that you want to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#rint%28double%29\" rel=\"noreferrer\"><code>Math.rint()</code></a>.  It will return the closest integer value given a <code>double</code>.</p>\n\n<pre><code>int valueX = (int) Math.rint(x);\nint valueY = (int) Math.rint(y);   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3600890,"reputation":1894,"user_id":3004221,"accept_rate":100,"display_name":"Sebastian H&#246;ffner"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1403743182,"creation_date":1403743182,"answer_id":24420783,"question_id":24420633,"body_markdown":"The simplest method you get taught in most basic computer science classes is probably to `add 0.5` (or subtract it, if your double is below 0) and simply cast it to `int`.\r\n\r\n    // for the simple case\r\n    double someDouble = 6.0001;\r\n    int someInt = (int) (someDouble + 0.5); \r\n\r\n    // negative case\r\n    double negativeDouble = -5.6;\r\n    int negativeInt = (int) (negativeDouble - 0.5); \r\n    \r\n    // general case\r\n    double unknownDouble = (Math.random() - 0.5) * 10;\r\n    int unknownInt = (int) (unknownDouble + (unknownDouble &lt; 0? -0.5 : 0.5));\r\n    \r\n ","title":"How to round double to nearest whole number and return it as Integer","body":"<p>The simplest method you get taught in most basic computer science classes is probably to <code>add 0.5</code> (or subtract it, if your double is below 0) and simply cast it to <code>int</code>.</p>\n\n<pre><code>// for the simple case\ndouble someDouble = 6.0001;\nint someInt = (int) (someDouble + 0.5); \n\n// negative case\ndouble negativeDouble = -5.6;\nint negativeInt = (int) (negativeDouble - 0.5); \n\n// general case\ndouble unknownDouble = (Math.random() - 0.5) * 10;\nint unknownInt = (int) (unknownDouble + (unknownDouble &lt; 0? -0.5 : 0.5));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14014033,"reputation":699,"user_id":10121996,"display_name":"Sobhit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594747206,"creation_date":1594747206,"answer_id":62900620,"question_id":24420633,"body_markdown":"    System.out.print(Math.round(totalCost));\r\nSimple","title":"How to round double to nearest whole number and return it as Integer","body":"<pre><code>System.out.print(Math.round(totalCost));\n</code></pre>\n<p>Simple</p>\n"},{"tags":[],"owner":{"account_id":6018468,"reputation":21,"user_id":6056926,"display_name":"mithun singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680786564,"creation_date":1627624753,"answer_id":68586108,"question_id":24420633,"body_markdown":"**Math.round()** method in Java returns the closest int or long as per the argument\r\n\r\n    Math.round(0.48) = 0\r\n    Math.round(85.6) = 86\r\n\r\nSimilarly,\r\n\r\nMath.ceil gives the smallest integer as per the argument.\r\n\r\n     Math.round(0.48) = 0\r\n     Math.round(85.6) = 85\r\n\r\nMath.floor gives the largest integer as per the argument.\r\n\r\n     Math.round(0.48) = 1\r\n     Math.round(85.6) = 86","title":"How to round double to nearest whole number and return it as Integer","body":"<p><strong>Math.round()</strong> method in Java returns the closest int or long as per the argument</p>\n<pre><code>Math.round(0.48) = 0\nMath.round(85.6) = 86\n</code></pre>\n<p>Similarly,</p>\n<p>Math.ceil gives the smallest integer as per the argument.</p>\n<pre><code> Math.round(0.48) = 0\n Math.round(85.6) = 85\n</code></pre>\n<p>Math.floor gives the largest integer as per the argument.</p>\n<pre><code> Math.round(0.48) = 1\n Math.round(85.6) = 86\n</code></pre>\n"}],"owner":{"account_id":4580344,"reputation":139,"user_id":3717539,"display_name":"user3717539"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50026,"favorite_count":0,"down_vote_count":6,"up_vote_count":14,"answer_count":6,"score":8,"last_activity_date":1680786564,"creation_date":1403742017,"question_id":24420633,"body_markdown":"Let suppose that I have `double x`. I would return nearest whole number of `x`. For example:\r\n\r\n 1. if `x = 6.001` I would return `6`\r\n 2. if `x = 5.999`  I would return `6`\r\n\r\nI suppose that I should use `Math.ceil` and `Math.floor` functions. But I don&#39;t know how return nearest whole number...","title":"How to round double to nearest whole number and return it as Integer","body":"<p>Let suppose that I have <code>double x</code>. I would return nearest whole number of <code>x</code>. For example:</p>\n\n<ol>\n<li>if <code>x = 6.001</code> I would return <code>6</code></li>\n<li>if <code>x = 5.999</code>  I would return <code>6</code></li>\n</ol>\n\n<p>I suppose that I should use <code>Math.ceil</code> and <code>Math.floor</code> functions. But I don't know how return nearest whole number...</p>\n"},{"tags":["java","android","xml","kotlin"],"owner":{"account_id":28232376,"reputation":11,"user_id":21581397,"display_name":"cqlsys cql"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680786514,"creation_date":1680786514,"question_id":75949901,"body_markdown":"When I open the keyboard  my root view is scroll up.\r\n\r\nI&#39;m creating a chat based UI screen where I have toolbar and recyclerview for chat messages, and reply msg layout.\r\n\r\nWhenever edittext get focus It moves up the toolbar. Instead I would like to resize the recyclerview.\r\n\r\nsome of the stackoverflow answers suggest to place a empty scrollview below the toolbar, but It didn&#39;t work.\r\n\r\nThanks in advance\r\n\r\nMy xml code is -\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;data&gt;\r\n\r\n    &lt;/data&gt;\r\n\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingBottom=&quot;@dimen/album_dp_20&quot;\r\n        &gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginHorizontal=&quot;@dimen/dp20&quot;&gt;\r\n\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/back&quot;\r\n                        android:layout_width=&quot;24dp&quot;\r\n                        android:layout_height=&quot;24dp&quot;\r\n                        android:layout_centerVertical=&quot;true&quot;\r\n                        android:src=&quot;@drawable/backbutton&quot; /&gt;\r\n\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/toolbar_title&quot;\r\n                        style=&quot;@style/Text_title_black_bold&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_centerInParent=&quot;true&quot;\r\n                        android:text=&quot;@string/comment&quot;\r\n                        android:textSize=&quot;@dimen/dp20&quot; /&gt;\r\n                &lt;/RelativeLayout&gt;\r\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recyclerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_above=&quot;@id/bottomLL&quot;\r\n            android:layout_below=&quot;@id/linearLayout&quot;\r\n            android:layout_marginTop=&quot;@dimen/dp_10&quot;\r\n            tools:listitem=&quot;@layout/list_item_comments&quot; /&gt;\r\n\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/bottomLL&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginHorizontal=&quot;@dimen/dp_32&quot;\r\n            android:layout_marginVertical=&quot;@dimen/album_dp_20&quot;\r\n            android:background=&quot;@drawable/et_background&quot;\r\n            android:backgroundTint=&quot;@color/gray&quot;\r\n            android:weightSum=&quot;2&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/commentsTV&quot;\r\n                style=&quot;@style/Text_title_gray_black_bold&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:layout_marginStart=&quot;16dp&quot;\r\n                android:layout_weight=&quot;1.5&quot;\r\n                android:background=&quot;@null&quot;\r\n                android:hint=&quot;Write Message...&quot;\r\n                android:inputType=&quot;textAutoComplete&quot;\r\n                android:paddingVertical=&quot;@dimen/dp_10&quot;\r\n                android:textColor=&quot;#454545&quot;\r\n                android:textSize=&quot;@dimen/text_size_64px&quot; /&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatButton\r\n                android:id=&quot;@+id/btn_buzz&quot;\r\n                style=&quot;@style/Widget.AppCompat.Button.Borderless&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;@dimen/dp60&quot;\r\n                android:layout_weight=&quot;0.5&quot;\r\n                android:background=&quot;@drawable/et_background&quot;\r\n                android:backgroundTint=&quot;@color/red&quot;\r\n                android:fontFamily=&quot;@font/segoeui&quot;\r\n                android:text=&quot;Post&quot;\r\n                android:textAllCaps=&quot;false&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;@dimen/text_size_64px&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/progress&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:background=&quot;#6BE1E1D1&quot;\r\n            android:visibility=&quot;gone&quot;&gt;\r\n\r\n            &lt;com.github.ybq.android.spinkit.SpinKitView\r\n                style=&quot;@style/SpinKitView.Large.WanderingCubes&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;@dimen/dp75&quot;\r\n                android:layout_centerInParent=&quot;true&quot;\r\n                app:SpinKit_Color=&quot;@color/red_dark&quot; /&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n&lt;/layout&gt;\r\n```\r\n\r\nI am using in my menifest -\r\n\r\n```\r\n android:windowSoftInputMode=&quot;adjustResize&quot;\r\n```","title":"When I open the keyboard my root view is scrollup","body":"<p>When I open the keyboard  my root view is scroll up.</p>\n<p>I'm creating a chat based UI screen where I have toolbar and recyclerview for chat messages, and reply msg layout.</p>\n<p>Whenever edittext get focus It moves up the toolbar. Instead I would like to resize the recyclerview.</p>\n<p>some of the stackoverflow answers suggest to place a empty scrollview below the toolbar, but It didn't work.</p>\n<p>Thanks in advance</p>\n<p>My xml code is -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;data&gt;\n\n    &lt;/data&gt;\n\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:paddingBottom=&quot;@dimen/album_dp_20&quot;\n        &gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/linearLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n\n                &lt;RelativeLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginHorizontal=&quot;@dimen/dp20&quot;&gt;\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/back&quot;\n                        android:layout_width=&quot;24dp&quot;\n                        android:layout_height=&quot;24dp&quot;\n                        android:layout_centerVertical=&quot;true&quot;\n                        android:src=&quot;@drawable/backbutton&quot; /&gt;\n\n\n                    &lt;TextView\n                        android:id=&quot;@+id/toolbar_title&quot;\n                        style=&quot;@style/Text_title_black_bold&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_centerInParent=&quot;true&quot;\n                        android:text=&quot;@string/comment&quot;\n                        android:textSize=&quot;@dimen/dp20&quot; /&gt;\n                &lt;/RelativeLayout&gt;\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\n        &lt;/LinearLayout&gt;\n\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/recyclerView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_above=&quot;@id/bottomLL&quot;\n            android:layout_below=&quot;@id/linearLayout&quot;\n            android:layout_marginTop=&quot;@dimen/dp_10&quot;\n            tools:listitem=&quot;@layout/list_item_comments&quot; /&gt;\n\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/bottomLL&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentBottom=&quot;true&quot;\n            android:layout_marginHorizontal=&quot;@dimen/dp_32&quot;\n            android:layout_marginVertical=&quot;@dimen/album_dp_20&quot;\n            android:background=&quot;@drawable/et_background&quot;\n            android:backgroundTint=&quot;@color/gray&quot;\n            android:weightSum=&quot;2&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/commentsTV&quot;\n                style=&quot;@style/Text_title_gray_black_bold&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                android:layout_marginStart=&quot;16dp&quot;\n                android:layout_weight=&quot;1.5&quot;\n                android:background=&quot;@null&quot;\n                android:hint=&quot;Write Message...&quot;\n                android:inputType=&quot;textAutoComplete&quot;\n                android:paddingVertical=&quot;@dimen/dp_10&quot;\n                android:textColor=&quot;#454545&quot;\n                android:textSize=&quot;@dimen/text_size_64px&quot; /&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatButton\n                android:id=&quot;@+id/btn_buzz&quot;\n                style=&quot;@style/Widget.AppCompat.Button.Borderless&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;@dimen/dp60&quot;\n                android:layout_weight=&quot;0.5&quot;\n                android:background=&quot;@drawable/et_background&quot;\n                android:backgroundTint=&quot;@color/red&quot;\n                android:fontFamily=&quot;@font/segoeui&quot;\n                android:text=&quot;Post&quot;\n                android:textAllCaps=&quot;false&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;@dimen/text_size_64px&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/progress&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_centerInParent=&quot;true&quot;\n            android:background=&quot;#6BE1E1D1&quot;\n            android:visibility=&quot;gone&quot;&gt;\n\n            &lt;com.github.ybq.android.spinkit.SpinKitView\n                style=&quot;@style/SpinKitView.Large.WanderingCubes&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;@dimen/dp75&quot;\n                android:layout_centerInParent=&quot;true&quot;\n                app:SpinKit_Color=&quot;@color/red_dark&quot; /&gt;\n\n        &lt;/RelativeLayout&gt;\n    &lt;/RelativeLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n<p>I am using in my menifest -</p>\n<pre><code> android:windowSoftInputMode=&quot;adjustResize&quot;\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","atomic","volatile"],"comments":[{"owner":{"account_id":425066,"reputation":9181,"user_id":805437,"accept_rate":55,"display_name":"hardik"},"score":5,"creation_date":1331985462,"post_id":9749746,"comment_id":12402120,"body_markdown":"@JBNizet you are right!!! i have that book, it doesn&#39;t have Atomic concept in brief and i am not getting some concepts of that. of curse it&#39;s my mistake not of author.","body":"@JBNizet you are right!!! i have that book, it doesn&#39;t have Atomic concept in brief and i am not getting some concepts of that. of curse it&#39;s my mistake not of author."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":5,"creation_date":1331985712,"post_id":9749746,"comment_id":12402156,"body_markdown":"You don&#39;t really have to care how it&#39;s implemented (and it varies with the OS). What you have to understand is the contract: the value is incremented atomically, and all the other threads are guaranteed to see the new value.","body":"You don&#39;t really have to care how it&#39;s implemented (and it varies with the OS). What you have to understand is the contract: the value is incremented atomically, and all the other threads are guaranteed to see the new value."}],"answers":[{"comments":[{"owner":{"account_id":107532,"reputation":36152,"user_id":285873,"accept_rate":91,"display_name":"David Harkness"},"score":18,"creation_date":1331989817,"post_id":9749864,"comment_id":12402828,"body_markdown":"The only thing I&#39;d add is that the JVM copies variable values into registers to operate on them. This means threads running on a single CPU/core can still see different values for a non-volatile variable.","body":"The only thing I&#39;d add is that the JVM copies variable values into registers to operate on them. This means threads running on a single CPU/core can still see different values for a non-volatile variable."},{"owner":{"account_id":425066,"reputation":9181,"user_id":805437,"accept_rate":55,"display_name":"hardik"},"score":0,"creation_date":1333366005,"post_id":9749864,"comment_id":12744982,"body_markdown":"@thomasz: is compareAndSet(current, current + 1) synchronized ?? if no than what happens when two threads are executing this method at the same time ??","body":"@thomasz: is compareAndSet(current, current + 1) synchronized ?? if no than what happens when two threads are executing this method at the same time ??"},{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":0,"creation_date":1333369889,"post_id":9749864,"comment_id":12746302,"body_markdown":"@Hardik: `compareAndSet` is just a thin wrapper around CAS operation. I go into some details in my answer.","body":"@Hardik: <code>compareAndSet</code> is just a thin wrapper around CAS operation. I go into some details in my answer."},{"owner":{"account_id":425066,"reputation":9181,"user_id":805437,"accept_rate":55,"display_name":"hardik"},"score":1,"creation_date":1333371163,"post_id":9749864,"comment_id":12746771,"body_markdown":"@thomsasz: ok, i go through this [link](http://stackoverflow.com/questions/3971095/volatile-variables-and-happens-before-ordering/3971134) question and answered by jon skeet, he says &quot;thread can&#39;t read a volatile variable without checking whether any other thread has performed a write.&quot; but what happens if one thread is in between of writing operation and second thread is reading it!! am i wrong ?? isn&#39;t it race condition on atomic operation ??","body":"@thomsasz: ok, i go through this <a href=\"http://stackoverflow.com/questions/3971095/volatile-variables-and-happens-before-ordering/3971134\">link</a> question and answered by jon skeet, he says &quot;thread can&#39;t read a volatile variable without checking whether any other thread has performed a write.&quot; but what happens if one thread is in between of writing operation and second thread is reading it!! am i wrong ?? isn&#39;t it race condition on atomic operation ??"},{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":3,"creation_date":1333371928,"post_id":9749864,"comment_id":12747107,"body_markdown":"@Hardik: please create another question to get more responses on what you are asking, here it&#39;s just you and me and comments aren&#39;t appropriate for asking questions. Don&#39;t forget to post a link to a new question here so I can follow up.","body":"@Hardik: please create another question to get more responses on what you are asking, here it&#39;s just you and me and comments aren&#39;t appropriate for asking questions. Don&#39;t forget to post a link to a new question here so I can follow up."},{"owner":{"account_id":425066,"reputation":9181,"user_id":805437,"accept_rate":55,"display_name":"hardik"},"score":0,"creation_date":1333386525,"post_id":9749864,"comment_id":12752882,"body_markdown":"@thomsasz: yes, you are right.. yet i am still finding answer of it in other related questions.. otherwise i will post a question and let u know. thx for your suggestion..","body":"@thomsasz: yes, you are right.. yet i am still finding answer of it in other related questions.. otherwise i will post a question and let u know. thx for your suggestion.."},{"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"score":0,"creation_date":1423241243,"post_id":9749864,"comment_id":45081982,"body_markdown":"@hardik it&#39;s actually irrelevant whether or not `compareAndSet` is synchronized. What matters is that it is thread safe, so it can be used concurrently by many threads!","body":"@hardik it&#39;s actually irrelevant whether or not <code>compareAndSet</code> is synchronized. What matters is that it is thread safe, so it can be used concurrently by many threads!"},{"owner":{"account_id":911297,"reputation":1778,"user_id":983464,"display_name":"Juan Acevedo"},"score":0,"creation_date":1475858063,"post_id":9749864,"comment_id":67127664,"body_markdown":"synchronized (this) is not a good idea because you will hold up any other execution in that object. Best to create a final Object objLock and do synchronize (objLock) instead.","body":"synchronized (this) is not a good idea because you will hold up any other execution in that object. Best to create a final Object objLock and do synchronize (objLock) instead."},{"owner":{"account_id":41796,"reputation":5244,"user_id":121540,"accept_rate":69,"display_name":"johnnycrash"},"score":0,"creation_date":1531358215,"post_id":9749864,"comment_id":89569585,"body_markdown":"This is not true: &quot;The only side effect of volatile is &quot;flushing&quot; caches&quot;.  Volatile is a hint to the compiler that a variable can be changed externally.  There are no memory barriers or special instructions to flush anything added to the resulting assembly.","body":"This is not true: &quot;The only side effect of volatile is &quot;flushing&quot; caches&quot;.  Volatile is a hint to the compiler that a variable can be changed externally.  There are no memory barriers or special instructions to flush anything added to the resulting assembly."},{"owner":{"account_id":41796,"reputation":5244,"user_id":121540,"accept_rate":69,"display_name":"johnnycrash"},"score":0,"creation_date":1531358976,"post_id":9749864,"comment_id":89569717,"body_markdown":"I just read that some compilers might actually insert memory barriers if volatile is used.  So maybe &quot;flushing caches&quot;  might have some level of accuracy to it.  That being said, there is no way would I write code expecting memory writes/reads to maintain their order just because volatile was used.","body":"I just read that some compilers might actually insert memory barriers if volatile is used.  So maybe &quot;flushing caches&quot;  might have some level of accuracy to it.  That being said, there is no way would I write code expecting memory writes/reads to maintain their order just because volatile was used."},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":0,"creation_date":1632135024,"post_id":9749864,"comment_id":122402742,"body_markdown":"`Multiple independent synchronized` example misses `i` definition code","body":"<code>Multiple independent synchronized</code> example misses <code>i</code> definition code"},{"owner":{"account_id":3554300,"reputation":175,"user_id":2968398,"accept_rate":40,"display_name":"user1337"},"score":0,"creation_date":1644535892,"post_id":9749864,"comment_id":125639964,"body_markdown":"@TomaszNurkiewicz in the second listing of AtomicInteger section, the conditoin of while() loop is: (!compareAndSet(current, current + 1)); and now you&#39;re providing current and current+1 to compareAndSet, but there is lack of current from the body of the loop itself. Should not it been like: (!current.compareAndSet(current, current + 1))? Now the method will work on &#39;current&#39; current value and have chance to compare it with stored value taken in the body of the loop?","body":"@TomaszNurkiewicz in the second listing of AtomicInteger section, the conditoin of while() loop is: (!compareAndSet(current, current + 1)); and now you&#39;re providing current and current+1 to compareAndSet, but there is lack of current from the body of the loop itself. Should not it been like: (!current.compareAndSet(current, current + 1))? Now the method will work on &#39;current&#39; current value and have chance to compare it with stored value taken in the body of the loop?"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":12,"down_vote_count":0,"up_vote_count":455,"is_accepted":true,"score":455,"last_activity_date":1464902873,"creation_date":1331986082,"answer_id":9749864,"question_id":9749746,"body_markdown":"You are specifically asking about how they *internally work*, so here you are:\r\n\r\n# No synchronization\r\n\r\n    private int counter;\r\n\r\n    public int getNextUniqueIndex() {\r\n      return counter++; \r\n    }\r\n\r\nIt basically reads value from memory, increments it and puts back to memory. This works in single thread but nowadays, in the era of multi-core, multi-CPU, multi-level caches it won&#39;t work correctly. First of all it introduces race condition (several threads can read the value at the same time), but also visibility problems. The value might only be stored in &quot;*local*&quot; CPU memory (some cache) and not be visible for other CPUs/cores (and thus - threads). This is why many refer to *local copy* of a variable in a thread. It is very unsafe. Consider this popular but broken thread-stopping code:\r\n\r\n    private boolean stopped;\r\n\r\n\tpublic void run() {\r\n\t\twhile(!stopped) {\r\n\t\t\t//do some work\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void pleaseStop() {\r\n\t\tstopped = true;\r\n\t}\r\n\r\nAdd `volatile` to `stopped` variable and it works fine - if any other thread modifies `stopped` variable via `pleaseStop()` method, you are guaranteed to see that change immediately in working thread&#39;s `while(!stopped)` loop. BTW this is not a good way to interrupt a thread either, see: https://stackoverflow.com/questions/6410721 and https://stackoverflow.com/questions/7786305.\r\n\r\n# `AtomicInteger`\r\n\r\n    private AtomicInteger counter = new AtomicInteger();\r\n\r\n    public int getNextUniqueIndex() {\r\n      return counter.getAndIncrement();\r\n    }\r\n\r\nThe `AtomicInteger` class uses CAS ([compare-and-swap](http://en.wikipedia.org/wiki/Compare-and-swap)) low-level CPU operations (no synchronization needed!) They allow you to modify a particular variable only if the present value is equal to something else (and is returned successfully). So when you execute `getAndIncrement()` it actually runs in a loop (simplified real implementation):\r\n\r\n    int current;\r\n    do {\r\n      current = get();\r\n    } while(!compareAndSet(current, current + 1));\r\n\r\nSo basically: read; try to store incremented value; if not successful (the value is no longer equal to `current`), read and try again. The `compareAndSet()` is implemented in native code (assembly).\r\n\r\n# `volatile` without synchronization\r\n\r\n    private volatile int counter;\r\n\r\n    public int getNextUniqueIndex() {\r\n      return counter++; \r\n    }\r\n\r\nThis code is not correct. It fixes the visibility issue (`volatile` makes sure other threads can see change made to `counter`) but still has a race condition. This has been [explained][1] multiple times: pre/post-incrementation is not atomic.\r\n\r\nThe only side effect of `volatile` is &quot;*flushing*&quot; caches so that all other parties see the freshest version of the data. This is too strict in most situations; that is why `volatile` is not default.\r\n\r\n# `volatile` without synchronization (2)\r\n\r\n    volatile int i = 0;\r\n    void incIBy5() {\r\n      i += 5;\r\n    }\r\n\r\nThe same problem as above, but even worse because `i` is not `private`. The race condition is still present. Why is it a problem? If, say, two threads run this code simultaneously, the output might be `+ 5` or ` + 10`. However, you are guaranteed to see the change.\r\n\r\n# Multiple independent `synchronized`\r\n\r\n    void incIBy5() {\r\n      int temp;\r\n      synchronized(i) { temp = i }\r\n      synchronized(i) { i = temp + 5 }\r\n    }\r\n\r\nSurprise, this code is incorrect as well. In fact, it is completely wrong. First of all you are synchronizing on `i`, which is about to be changed (moreover, `i` is a primitive, so I guess you are synchronizing on a temporary `Integer` created via autoboxing...) Completely flawed. You could also write:\r\n\r\n    synchronized(new Object()) {\r\n      //thread-safe, SRSLy?\r\n    }\r\n\r\nNo two threads can enter the same `synchronized` block **with the same lock**. In this case (and similarly in your code) the lock object changes upon every execution, so `synchronized` effectively has no effect.\r\n\r\nEven if you have used a final variable (or `this`) for synchronization, the code is still incorrect. Two threads can first read `i` to `temp` synchronously (having the same value locally in `temp`), then the first assigns a new value to `i` (say, from 1 to 6) and the other one does the same thing (from 1 to 6).\r\n\r\nThe synchronization must span from reading to assigning a value. Your first synchronization has no effect (reading an `int` is atomic) and the second as well. In my opinion, these are the correct forms:\r\n\r\n    void synchronized incIBy5() {\r\n      i += 5 \r\n    }\r\n\r\n    void incIBy5() {\r\n      synchronized(this) {\r\n        i += 5 \r\n      }\r\n    }\r\n\r\n    void incIBy5() {\r\n      synchronized(this) {\r\n        int temp = i;\r\n        i = temp + 5;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25168062/why-is-i-not-atomic","title":"What is the difference between atomic / volatile / synchronized?","body":"<p>You are specifically asking about how they <em>internally work</em>, so here you are:</p>\n\n<h1>No synchronization</h1>\n\n<pre><code>private int counter;\n\npublic int getNextUniqueIndex() {\n  return counter++; \n}\n</code></pre>\n\n<p>It basically reads value from memory, increments it and puts back to memory. This works in single thread but nowadays, in the era of multi-core, multi-CPU, multi-level caches it won't work correctly. First of all it introduces race condition (several threads can read the value at the same time), but also visibility problems. The value might only be stored in \"<em>local</em>\" CPU memory (some cache) and not be visible for other CPUs/cores (and thus - threads). This is why many refer to <em>local copy</em> of a variable in a thread. It is very unsafe. Consider this popular but broken thread-stopping code:</p>\n\n<pre><code>private boolean stopped;\n\npublic void run() {\n    while(!stopped) {\n        //do some work\n    }\n}\n\npublic void pleaseStop() {\n    stopped = true;\n}\n</code></pre>\n\n<p>Add <code>volatile</code> to <code>stopped</code> variable and it works fine - if any other thread modifies <code>stopped</code> variable via <code>pleaseStop()</code> method, you are guaranteed to see that change immediately in working thread's <code>while(!stopped)</code> loop. BTW this is not a good way to interrupt a thread either, see: <a href=\"https://stackoverflow.com/questions/6410721\">How to stop a thread that is running forever without any use</a> and <a href=\"https://stackoverflow.com/questions/7786305\">Stopping a specific java thread</a>.</p>\n\n<h1><code>AtomicInteger</code></h1>\n\n<pre><code>private AtomicInteger counter = new AtomicInteger();\n\npublic int getNextUniqueIndex() {\n  return counter.getAndIncrement();\n}\n</code></pre>\n\n<p>The <code>AtomicInteger</code> class uses CAS (<a href=\"http://en.wikipedia.org/wiki/Compare-and-swap\" rel=\"noreferrer\">compare-and-swap</a>) low-level CPU operations (no synchronization needed!) They allow you to modify a particular variable only if the present value is equal to something else (and is returned successfully). So when you execute <code>getAndIncrement()</code> it actually runs in a loop (simplified real implementation):</p>\n\n<pre><code>int current;\ndo {\n  current = get();\n} while(!compareAndSet(current, current + 1));\n</code></pre>\n\n<p>So basically: read; try to store incremented value; if not successful (the value is no longer equal to <code>current</code>), read and try again. The <code>compareAndSet()</code> is implemented in native code (assembly).</p>\n\n<h1><code>volatile</code> without synchronization</h1>\n\n<pre><code>private volatile int counter;\n\npublic int getNextUniqueIndex() {\n  return counter++; \n}\n</code></pre>\n\n<p>This code is not correct. It fixes the visibility issue (<code>volatile</code> makes sure other threads can see change made to <code>counter</code>) but still has a race condition. This has been <a href=\"https://stackoverflow.com/questions/25168062/why-is-i-not-atomic\">explained</a> multiple times: pre/post-incrementation is not atomic.</p>\n\n<p>The only side effect of <code>volatile</code> is \"<em>flushing</em>\" caches so that all other parties see the freshest version of the data. This is too strict in most situations; that is why <code>volatile</code> is not default.</p>\n\n<h1><code>volatile</code> without synchronization (2)</h1>\n\n<pre><code>volatile int i = 0;\nvoid incIBy5() {\n  i += 5;\n}\n</code></pre>\n\n<p>The same problem as above, but even worse because <code>i</code> is not <code>private</code>. The race condition is still present. Why is it a problem? If, say, two threads run this code simultaneously, the output might be <code>+ 5</code> or <code>+ 10</code>. However, you are guaranteed to see the change.</p>\n\n<h1>Multiple independent <code>synchronized</code></h1>\n\n<pre><code>void incIBy5() {\n  int temp;\n  synchronized(i) { temp = i }\n  synchronized(i) { i = temp + 5 }\n}\n</code></pre>\n\n<p>Surprise, this code is incorrect as well. In fact, it is completely wrong. First of all you are synchronizing on <code>i</code>, which is about to be changed (moreover, <code>i</code> is a primitive, so I guess you are synchronizing on a temporary <code>Integer</code> created via autoboxing...) Completely flawed. You could also write:</p>\n\n<pre><code>synchronized(new Object()) {\n  //thread-safe, SRSLy?\n}\n</code></pre>\n\n<p>No two threads can enter the same <code>synchronized</code> block <strong>with the same lock</strong>. In this case (and similarly in your code) the lock object changes upon every execution, so <code>synchronized</code> effectively has no effect.</p>\n\n<p>Even if you have used a final variable (or <code>this</code>) for synchronization, the code is still incorrect. Two threads can first read <code>i</code> to <code>temp</code> synchronously (having the same value locally in <code>temp</code>), then the first assigns a new value to <code>i</code> (say, from 1 to 6) and the other one does the same thing (from 1 to 6).</p>\n\n<p>The synchronization must span from reading to assigning a value. Your first synchronization has no effect (reading an <code>int</code> is atomic) and the second as well. In my opinion, these are the correct forms:</p>\n\n<pre><code>void synchronized incIBy5() {\n  i += 5 \n}\n\nvoid incIBy5() {\n  synchronized(this) {\n    i += 5 \n  }\n}\n\nvoid incIBy5() {\n  synchronized(this) {\n    int temp = i;\n    i = temp + 5;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1331986381,"creation_date":1331986381,"answer_id":9749891,"question_id":9749746,"body_markdown":"&gt; I know that two threads can not enter in Synchronize block at the same time\r\n\r\nTwo thread cannot enter a synchronized block on the same object twice. This means that two threads can enter the same block on different objects.  This confusion can lead to code like this.\r\n\r\n    private Integer i = 0;\r\n\r\n    synchronized(i) {\r\n       i++;\r\n    }\r\n\r\nThis will not behave as expected as it could be locking on a different object each time.\r\n\r\n&gt; if this is true than How this atomic.incrementAndGet() works without Synchronize ?? and is thread safe ??\r\n\r\nyes. It doesn&#39;t use locking to achieve thread safety.\r\n\r\nIf you want to know how they work in more detail, you can read the code for them.\r\n\r\n&gt; And what is difference between internal reading and writing to Volatile Variable / Atomic Variable ??\r\n\r\nAtomic class uses volatile **fields.** There is no difference in the field.  The difference is the operations performed.  The Atomic classes use CompareAndSwap or CAS operations.\r\n\r\n&gt; i read in some article that thread has local copy of variables what is that ??\r\n\r\nI can only assume that it referring to the fact that each CPU has its own cached view of memory which can be different from every other CPU.  To ensure that your CPU has a consistent view of data, you need to use thread safety techniques. \r\n\r\nThis is only an issue when memory is shared at least one thread updates it.\r\n\r\n\r\n","title":"What is the difference between atomic / volatile / synchronized?","body":"<blockquote>\n  <p>I know that two threads can not enter in Synchronize block at the same time</p>\n</blockquote>\n\n<p>Two thread cannot enter a synchronized block on the same object twice. This means that two threads can enter the same block on different objects.  This confusion can lead to code like this.</p>\n\n<pre><code>private Integer i = 0;\n\nsynchronized(i) {\n   i++;\n}\n</code></pre>\n\n<p>This will not behave as expected as it could be locking on a different object each time.</p>\n\n<blockquote>\n  <p>if this is true than How this atomic.incrementAndGet() works without Synchronize ?? and is thread safe ??</p>\n</blockquote>\n\n<p>yes. It doesn't use locking to achieve thread safety.</p>\n\n<p>If you want to know how they work in more detail, you can read the code for them.</p>\n\n<blockquote>\n  <p>And what is difference between internal reading and writing to Volatile Variable / Atomic Variable ??</p>\n</blockquote>\n\n<p>Atomic class uses volatile <strong>fields.</strong> There is no difference in the field.  The difference is the operations performed.  The Atomic classes use CompareAndSwap or CAS operations.</p>\n\n<blockquote>\n  <p>i read in some article that thread has local copy of variables what is that ??</p>\n</blockquote>\n\n<p>I can only assume that it referring to the fact that each CPU has its own cached view of memory which can be different from every other CPU.  To ensure that your CPU has a consistent view of data, you need to use thread safety techniques. </p>\n\n<p>This is only an issue when memory is shared at least one thread updates it.</p>\n"},{"tags":[],"owner":{"account_id":56888,"reputation":11998,"user_id":170383,"accept_rate":71,"display_name":"David R Tribble"},"comment_count":0,"down_vote_count":1,"up_vote_count":88,"is_accepted":false,"score":87,"last_activity_date":1469560462,"creation_date":1422382183,"answer_id":28177154,"question_id":9749746,"body_markdown":"Declaring a variable as **volatile** means that modifying its value immediately affects the actual memory storage for the variable. The compiler cannot optimize away any references made to the variable. This guarantees that when one thread modifies the variable, all other threads see the new value immediately. (This is not guaranteed for non-volatile variables.)\r\n\r\nDeclaring an **atomic** variable guarantees that operations made on the variable occur in an atomic fashion, i.e., that all of the substeps of the operation are completed within the thread they are executed and are not interrupted by other threads. For example, an increment-and-test operation requires the variable to be incremented and then compared to another value; an atomic operation guarantees that both of these steps will be completed as if they were a single indivisible/uninterruptible operation.\r\n\r\n**Synchronizing** all accesses to a variable allows only a single thread at a time to access the variable, and forces all other threads to wait for that accessing thread to release its access to the variable. \r\n\r\nSynchronized access is similar to atomic access, but the atomic operations are generally implemented at a lower level of programming. Also, it is entirely possible to synchronize only some accesses to a variable and allow other accesses to be unsynchronized (e.g., synchronize all writes to a variable but none of the reads from it).\r\n\r\nAtomicity, synchronization, and volatility are independent attributes, but are typically used in combination to enforce proper thread cooperation for accessing variables.\r\n\r\n**Addendum** *(April 2016)*\r\n\r\nSynchronized access to a variable is usually implemented using a *monitor* or *semaphore*. These are low-level *mutex* (mutual exclusion) mechanisms that allow a thread to acquire control of a variable or block of code exclusively, forcing all other threads to wait if they also attempt to acquire the same mutex. Once the owning thread releases the mutex, another thread can acquire the mutex in turn.\r\n\r\n**Addendum** *(July 2016)*\r\n\r\nSynchronization occurs on an *object*. This means that calling a synchronized method of a class will lock the `this` object of the call. Static synchronized methods will lock the `Class` object itself.\r\n\r\nLikewise, entering a synchronized block requires locking the `this` object of the method.\r\n\r\nThis means that a synchronized method (or block) can be executing in multiple threads at the same time if they are locking on *different* objects, but only one thread can execute a synchronized method (or block) at a time for any given *single* object.","title":"What is the difference between atomic / volatile / synchronized?","body":"<p>Declaring a variable as <strong>volatile</strong> means that modifying its value immediately affects the actual memory storage for the variable. The compiler cannot optimize away any references made to the variable. This guarantees that when one thread modifies the variable, all other threads see the new value immediately. (This is not guaranteed for non-volatile variables.)</p>\n\n<p>Declaring an <strong>atomic</strong> variable guarantees that operations made on the variable occur in an atomic fashion, i.e., that all of the substeps of the operation are completed within the thread they are executed and are not interrupted by other threads. For example, an increment-and-test operation requires the variable to be incremented and then compared to another value; an atomic operation guarantees that both of these steps will be completed as if they were a single indivisible/uninterruptible operation.</p>\n\n<p><strong>Synchronizing</strong> all accesses to a variable allows only a single thread at a time to access the variable, and forces all other threads to wait for that accessing thread to release its access to the variable. </p>\n\n<p>Synchronized access is similar to atomic access, but the atomic operations are generally implemented at a lower level of programming. Also, it is entirely possible to synchronize only some accesses to a variable and allow other accesses to be unsynchronized (e.g., synchronize all writes to a variable but none of the reads from it).</p>\n\n<p>Atomicity, synchronization, and volatility are independent attributes, but are typically used in combination to enforce proper thread cooperation for accessing variables.</p>\n\n<p><strong>Addendum</strong> <em>(April 2016)</em></p>\n\n<p>Synchronized access to a variable is usually implemented using a <em>monitor</em> or <em>semaphore</em>. These are low-level <em>mutex</em> (mutual exclusion) mechanisms that allow a thread to acquire control of a variable or block of code exclusively, forcing all other threads to wait if they also attempt to acquire the same mutex. Once the owning thread releases the mutex, another thread can acquire the mutex in turn.</p>\n\n<p><strong>Addendum</strong> <em>(July 2016)</em></p>\n\n<p>Synchronization occurs on an <em>object</em>. This means that calling a synchronized method of a class will lock the <code>this</code> object of the call. Static synchronized methods will lock the <code>Class</code> object itself.</p>\n\n<p>Likewise, entering a synchronized block requires locking the <code>this</code> object of the method.</p>\n\n<p>This means that a synchronized method (or block) can be executing in multiple threads at the same time if they are locking on <em>different</em> objects, but only one thread can execute a synchronized method (or block) at a time for any given <em>single</em> object.</p>\n"},{"tags":[],"owner":{"account_id":4822249,"reputation":389,"user_id":4598712,"display_name":"Thomas Mathew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440594731,"creation_date":1440594731,"answer_id":32227622,"question_id":9749746,"body_markdown":"A volatile + synchronization is a fool proof solution for an operation(statement) to be fully atomic which includes multiple instructions to the CPU.\r\n\r\nSay for eg:volatile int i = 2;  i++, which is nothing but i = i + 1; which makes i as the value 3 in the memory after the execution of this statement.\r\nThis includes reading the existing value from memory for i(which is 2), load into the CPU accumulator register and do with the calculation by increment the existing value with one(2 + 1 = 3 in accumulator)  and then write back that incremented value back to the memory.  These operations are not atomic enough though the value is of i is volatile.  i being volatile guarantees only that a SINGLE read/write from memory is atomic and not with MULTIPLE.  Hence, we need to have synchronized also around i++  to keep it to be fool proof atomic statement.  Remember the fact that a statement includes multiple statements.\r\n\r\nHope the explanation is clear enough.\r\n","title":"What is the difference between atomic / volatile / synchronized?","body":"<p>A volatile + synchronization is a fool proof solution for an operation(statement) to be fully atomic which includes multiple instructions to the CPU.</p>\n\n<p>Say for eg:volatile int i = 2;  i++, which is nothing but i = i + 1; which makes i as the value 3 in the memory after the execution of this statement.\nThis includes reading the existing value from memory for i(which is 2), load into the CPU accumulator register and do with the calculation by increment the existing value with one(2 + 1 = 3 in accumulator)  and then write back that incremented value back to the memory.  These operations are not atomic enough though the value is of i is volatile.  i being volatile guarantees only that a SINGLE read/write from memory is atomic and not with MULTIPLE.  Hence, we need to have synchronized also around i++  to keep it to be fool proof atomic statement.  Remember the fact that a statement includes multiple statements.</p>\n\n<p>Hope the explanation is clear enough.</p>\n"},{"comments":[{"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"score":3,"creation_date":1567155455,"post_id":37395582,"comment_id":101887773,"body_markdown":"This is the first answer that actually mentions the happens-before semantics of the described keywords/features, which are important in understanding how they actually affect code execution. Higher voted answers miss this aspect.","body":"This is the first answer that actually mentions the happens-before semantics of the described keywords/features, which are important in understanding how they actually affect code execution. Higher voted answers miss this aspect."}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":1,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1680786331,"creation_date":1464019238,"answer_id":37395582,"question_id":9749746,"body_markdown":"***volatile:***\r\n\r\n`volatile` is a keyword. `volatile` forces all threads to get latest value of the variable from main memory instead of cache. All threads can access volatile variable value at same time with out lock.\r\n\r\nIt reduces memory consistency error.\r\n\r\n\r\n*When to use: One thread modifies the data and other threads have to read latest value of data. Other threads will take some action with out updating \r\n data*.\r\n\r\n***[AtomicXXX][1]:***\r\n\r\n&gt;`AtomicXXX` classes support lock-free thread-safe programming on single variables. \r\n\r\nThese `AtomicXXX` classes (like `AtomicInteger`) resolves memory inconsistency errors\r\n\r\n*When to use: Multiple threads can read and modify data.* \r\n\r\n***[synchronized][2]:***\r\n\r\n`synchronized` is keyword used to guard a method or code block.  By making method as synchronized , you achieve two things.\r\n\r\n\r\n &gt;1. Two executions of `synchronized` methods on the same object never run\r\n &gt;2. Change in the object state is visible to other threads\r\n\r\n*When to use: Multiple threads can read and modify data. Your business logic not only update the data but also executes atomic operations* \r\n\r\n`AtomicXXX` is equivalent of `volatile + synchronized` even though the implementation is different. \r\n\r\n`AmtomicXXX` extends `volatile` variables + `compareAndSet` methods but does not use synchronization. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html","title":"What is the difference between atomic / volatile / synchronized?","body":"<p><em><strong>volatile:</strong></em></p>\n<p><code>volatile</code> is a keyword. <code>volatile</code> forces all threads to get latest value of the variable from main memory instead of cache. All threads can access volatile variable value at same time with out lock.</p>\n<p>It reduces memory consistency error.</p>\n<p><em>When to use: One thread modifies the data and other threads have to read latest value of data. Other threads will take some action with out updating\ndata</em>.</p>\n<p><em><strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html\" rel=\"nofollow noreferrer\">AtomicXXX</a>:</strong></em></p>\n<blockquote>\n<p><code>AtomicXXX</code> classes support lock-free thread-safe programming on single variables.</p>\n</blockquote>\n<p>These <code>AtomicXXX</code> classes (like <code>AtomicInteger</code>) resolves memory inconsistency errors</p>\n<p><em>When to use: Multiple threads can read and modify data.</em></p>\n<p><em><strong><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow noreferrer\">synchronized</a>:</strong></em></p>\n<p><code>synchronized</code> is keyword used to guard a method or code block.  By making method as synchronized , you achieve two things.</p>\n<blockquote>\n<ol>\n<li>Two executions of <code>synchronized</code> methods on the same object never run</li>\n<li>Change in the object state is visible to other threads</li>\n</ol>\n</blockquote>\n<p><em>When to use: Multiple threads can read and modify data. Your business logic not only update the data but also executes atomic operations</em></p>\n<p><code>AtomicXXX</code> is equivalent of <code>volatile + synchronized</code> even though the implementation is different.</p>\n<p><code>AmtomicXXX</code> extends <code>volatile</code> variables + <code>compareAndSet</code> methods but does not use synchronization.</p>\n"},{"tags":[],"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467613007,"creation_date":1467608356,"answer_id":38177218,"question_id":9749746,"body_markdown":"The Java **volatile** modifier is an example of a special mechanism to guarantee that communication happens between threads. When one thread writes to a volatile variable, and another thread sees that write, the first thread is telling the second about all of the contents of memory up until it performed the write to that volatile variable.\r\n\r\n**Atomic operations** are performed in a single unit of task without interference from other operations. Atomic operations are necessity in multi-threaded environment to avoid data inconsistency.\r\n\r\n","title":"What is the difference between atomic / volatile / synchronized?","body":"<p>The Java <strong>volatile</strong> modifier is an example of a special mechanism to guarantee that communication happens between threads. When one thread writes to a volatile variable, and another thread sees that write, the first thread is telling the second about all of the contents of memory up until it performed the write to that volatile variable.</p>\n\n<p><strong>Atomic operations</strong> are performed in a single unit of task without interference from other operations. Atomic operations are necessity in multi-threaded environment to avoid data inconsistency.</p>\n"},{"tags":[],"owner":{"account_id":6413764,"reputation":69,"user_id":4972577,"display_name":"Ajay Gupta"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1587711166,"creation_date":1541087798,"answer_id":53104865,"question_id":9749746,"body_markdown":"**Synchronized Vs Atomic Vs Volatile:**\r\n\r\n - Volatile and Atomic is apply only on variable , While Synchronized apply on method.\r\n - Volatile ensure about visibility not atomicity/consistency of object , While other both   ensure about visibility and atomicity.\r\n - Volatile variable store in RAM and its faster in access but we cant achive Thread safety   or synchronization whitout synchronized keyword.\r\n - Synchronized implemented as synchronized block or synchronized method while both not. We can thread safe multiple line of code with help of synchronized keyword while with both we cant achieve the same.\r\n - Synchronized can lock the same class object or different class object while both cant.\r\n\r\n\r\nPlease correct me if anything i missed.","title":"What is the difference between atomic / volatile / synchronized?","body":"<p><strong>Synchronized Vs Atomic Vs Volatile:</strong></p>\n\n<ul>\n<li>Volatile and Atomic is apply only on variable , While Synchronized apply on method.</li>\n<li>Volatile ensure about visibility not atomicity/consistency of object , While other both   ensure about visibility and atomicity.</li>\n<li>Volatile variable store in RAM and its faster in access but we cant achive Thread safety   or synchronization whitout synchronized keyword.</li>\n<li>Synchronized implemented as synchronized block or synchronized method while both not. We can thread safe multiple line of code with help of synchronized keyword while with both we cant achieve the same.</li>\n<li>Synchronized can lock the same class object or different class object while both cant.</li>\n</ul>\n\n<p>Please correct me if anything i missed.</p>\n"}],"owner":{"account_id":425066,"reputation":9181,"user_id":805437,"accept_rate":55,"display_name":"hardik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163120,"favorite_count":0,"down_vote_count":2,"up_vote_count":355,"accepted_answer_id":9749864,"answer_count":7,"score":353,"last_activity_date":1680786331,"creation_date":1331984801,"question_id":9749746,"body_markdown":"How do atomic / volatile / synchronized work internally?\r\n\r\nWhat is the difference between the following code blocks?\r\n\r\nCode 1\r\n\r\n    private int counter;\r\n    \r\n    public int getNextUniqueIndex() {\r\n        return counter++; \r\n    }\r\n\r\nCode 2\r\n\r\n    private AtomicInteger counter;\r\n    \r\n    public int getNextUniqueIndex() {\r\n        return counter.getAndIncrement();\r\n    }\r\n\r\nCode 3\r\n\r\n    private volatile int counter;\r\n    \r\n    public int getNextUniqueIndex() {\r\n        return counter++; \r\n    }\r\n\r\n---\r\n\r\nDoes `volatile` work in the following way? Is\r\n\r\n    volatile int i = 0;\r\n    void incIBy5() {\r\n        i += 5;\r\n    }\r\n\r\nequivalent to \r\n\r\n    Integer i = 5;\r\n    void incIBy5() {\r\n        int temp;\r\n        synchronized(i) { temp = i }\r\n        synchronized(i) { i = temp + 5 }\r\n    }\r\n\r\n\r\nI think that two threads cannot enter a synchronized block at the same time... am I right? If this is true then how does `atomic.incrementAndGet()` work without `synchronized`? And is it thread-safe?\r\n\r\nAnd what is the difference between internal reading and writing to volatile variables / atomic variables? I read in some article that the thread has a local copy of the variables - what is that?","title":"What is the difference between atomic / volatile / synchronized?","body":"<p>How do atomic / volatile / synchronized work internally?</p>\n\n<p>What is the difference between the following code blocks?</p>\n\n<p>Code 1</p>\n\n<pre><code>private int counter;\n\npublic int getNextUniqueIndex() {\n    return counter++; \n}\n</code></pre>\n\n<p>Code 2</p>\n\n<pre><code>private AtomicInteger counter;\n\npublic int getNextUniqueIndex() {\n    return counter.getAndIncrement();\n}\n</code></pre>\n\n<p>Code 3</p>\n\n<pre><code>private volatile int counter;\n\npublic int getNextUniqueIndex() {\n    return counter++; \n}\n</code></pre>\n\n<hr>\n\n<p>Does <code>volatile</code> work in the following way? Is</p>\n\n<pre><code>volatile int i = 0;\nvoid incIBy5() {\n    i += 5;\n}\n</code></pre>\n\n<p>equivalent to </p>\n\n<pre><code>Integer i = 5;\nvoid incIBy5() {\n    int temp;\n    synchronized(i) { temp = i }\n    synchronized(i) { i = temp + 5 }\n}\n</code></pre>\n\n<p>I think that two threads cannot enter a synchronized block at the same time... am I right? If this is true then how does <code>atomic.incrementAndGet()</code> work without <code>synchronized</code>? And is it thread-safe?</p>\n\n<p>And what is the difference between internal reading and writing to volatile variables / atomic variables? I read in some article that the thread has a local copy of the variables - what is that?</p>\n"},{"tags":["java","languagetool"],"owner":{"account_id":21564677,"reputation":33,"user_id":15898699,"display_name":"RealFinn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680786195,"creation_date":1680692468,"question_id":75938609,"body_markdown":"I have a LanguageTool embedded in my Java application. There is a lot of phrases that LanguageTool need to ignore and those phrases contain underscores, so they look like this: CCCC_DDDD. Problem is that if I add &quot;CCCC_DDDD&quot; to ignore.txt file, both CCCC and DDDD are marked as a typos. Is there a way to make LT to ignore that phrase? \r\n\r\nI&#39;ve read [here](https://stackoverflow.com/questions/26003377/how-to-add-two-word-patterns-to-be-ignored-by-languagetool),\r\nthat language tool does not support two word phrases, but there is said, that in that case Language Tool would throw an exception, in my case there is no exceptions thrown.\r\n\r\nI have a workaround but I&#39;d like to achieve that from a LanguageTool level.\r\n\r\nEDIT:\r\nIn console version of LanguageTool, adding phrase &quot;CCCC_DDDD&quot; to ignore.txt does the work. This does not work in &quot;embedded version&quot; of the program.","title":"Using underscore in phrase in LanguageTool","body":"<p>I have a LanguageTool embedded in my Java application. There is a lot of phrases that LanguageTool need to ignore and those phrases contain underscores, so they look like this: CCCC_DDDD. Problem is that if I add &quot;CCCC_DDDD&quot; to ignore.txt file, both CCCC and DDDD are marked as a typos. Is there a way to make LT to ignore that phrase?</p>\n<p>I've read <a href=\"https://stackoverflow.com/questions/26003377/how-to-add-two-word-patterns-to-be-ignored-by-languagetool\">here</a>,\nthat language tool does not support two word phrases, but there is said, that in that case Language Tool would throw an exception, in my case there is no exceptions thrown.</p>\n<p>I have a workaround but I'd like to achieve that from a LanguageTool level.</p>\n<p>EDIT:\nIn console version of LanguageTool, adding phrase &quot;CCCC_DDDD&quot; to ignore.txt does the work. This does not work in &quot;embedded version&quot; of the program.</p>\n"},{"tags":["java","spring","spring-boot","testing","resttemplate"],"answers":[{"comments":[{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":0,"creation_date":1652212657,"post_id":72191115,"comment_id":127551251,"body_markdown":"Spring could have a method for this","body":"Spring could have a method for this"},{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1652213862,"post_id":72191115,"comment_id":127551561,"body_markdown":"Check out the Spring project&#39;s own tests: https://github.com/spring-projects/spring-boot/blob/b871a1e457832bb6ad46409bb3deb5b11d0fc684/spring-boot-tests/spring-boot-smoke-tests/spring-boot-smoke-test-actuator/src/test/java/smoketest/actuator/AbstractManagementPortAndPathSampleActuatorApplicationTests.java . Suppose they would have known if there was one.","body":"Check out the Spring project&#39;s own tests: <a href=\"https://github.com/spring-projects/spring-boot/blob/b871a1e457832bb6ad46409bb3deb5b11d0fc684/spring-boot-tests/spring-boot-smoke-tests/spring-boot-smoke-test-actuator/src/test/java/smoketest/actuator/AbstractManagementPortAndPathSampleActuatorApplicationTests.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/&hellip;</a> . Suppose they would have known if there was one."}],"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652213909,"creation_date":1652205956,"answer_id":72191115,"question_id":72189083,"body_markdown":"Of course you could extract the `@RequestMapping` path from your REST controller using reflection and combine it with the path from a handler method in it, but it&#39;s really not worth the hassle and it is much easier to put them into public constants and use those to construct the resulting url in your test. \r\n\r\nAlso, constructing an url before testing it is actually a part of the test - you check that your api url looks like you expect it to.","title":"How to get method URL programmatically in SpringBoot test?","body":"<p>Of course you could extract the <code>@RequestMapping</code> path from your REST controller using reflection and combine it with the path from a handler method in it, but it's really not worth the hassle and it is much easier to put them into public constants and use those to construct the resulting url in your test.</p>\n<p>Also, constructing an url before testing it is actually a part of the test - you check that your api url looks like you expect it to.</p>\n"},{"tags":[],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680786150,"creation_date":1680786150,"answer_id":75949840,"question_id":72189083,"body_markdown":"Use [MvcUriComponentsBuilder][1]\r\n\r\n\r\nLet&#39;s play with kittens:\r\n\r\n\r\n```java\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/cats&quot;)\r\npublic class CatsController {\r\n\r\n    @GetMapping(&quot;/childrenOf&quot;)\r\n    public List&lt;Cat&gt; getChildrenOf(@RequestParam(&quot;mommy&quot;) String mommyName); //omitted\r\n\r\n}\r\n\r\n\r\n\r\n//import static omitted\r\n\r\n\r\n{\r\n    assertDoesNotThrow(()-&gt; getMockMvc.perform(get(\r\n        fromMethodCall(\r\n            on(CatsController.class).getChildrenOf(&quot;luna&quot;)\r\n        ).build().toUri()\r\n    ))\r\n}\r\n```\r\n\r\nThe above results into `http://localhost/api/v1/cats/childrenOf/?mommy=luna`\r\n\r\nI used line breaks and indentation heavily to prominently display the use of MvcUriComponentsBuilder\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/MvcUriComponentsBuilder.html","title":"How to get method URL programmatically in SpringBoot test?","body":"<p>Use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/MvcUriComponentsBuilder.html\" rel=\"nofollow noreferrer\">MvcUriComponentsBuilder</a></p>\n<p>Let's play with kittens:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RestController\n@RequestMapping(&quot;/api/v1/cats&quot;)\npublic class CatsController {\n\n    @GetMapping(&quot;/childrenOf&quot;)\n    public List&lt;Cat&gt; getChildrenOf(@RequestParam(&quot;mommy&quot;) String mommyName); //omitted\n\n}\n\n\n\n//import static omitted\n\n\n{\n    assertDoesNotThrow(()-&gt; getMockMvc.perform(get(\n        fromMethodCall(\n            on(CatsController.class).getChildrenOf(&quot;luna&quot;)\n        ).build().toUri()\n    ))\n}\n</code></pre>\n<p>The above results into <code>http://localhost/api/v1/cats/childrenOf/?mommy=luna</code></p>\n<p>I used line breaks and indentation heavily to prominently display the use of MvcUriComponentsBuilder</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680786150,"creation_date":1652196422,"question_id":72189083,"body_markdown":"I would like to test my controller with\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    class MyTest {\r\n    \r\n        @LocalServerPort\r\n        int port;\r\n    \r\n        @Autowired\r\n        TestRestTemplate rest;\r\n    \r\n        String myUrl = ...;\r\n    \r\n        @Test\r\n        public void testSequence() {\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n            String requesString = ...\r\n            HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;( requesString, headers );\r\n            String response = rest.postForObject(myUrl, request, String.class);\r\n\r\nhere I need to hardcode `myUlr` with something like\r\n\r\n     String.format(&quot;http://localhost:%d/my/endpint/path&quot;, port);\r\n\r\nwhere `my/endpint/path` depends on annotations I applied to my controller class and it&#39;s methods. \r\n\r\nBut can I derive it programmatically having class name and method name?","title":"How to get method URL programmatically in SpringBoot test?","body":"<p>I would like to test my controller with</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass MyTest {\n\n    @LocalServerPort\n    int port;\n\n    @Autowired\n    TestRestTemplate rest;\n\n    String myUrl = ...;\n\n    @Test\n    public void testSequence() {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        String requesString = ...\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;( requesString, headers );\n        String response = rest.postForObject(myUrl, request, String.class);\n</code></pre>\n<p>here I need to hardcode <code>myUlr</code> with something like</p>\n<pre><code> String.format(&quot;http://localhost:%d/my/endpint/path&quot;, port);\n</code></pre>\n<p>where <code>my/endpint/path</code> depends on annotations I applied to my controller class and it's methods.</p>\n<p>But can I derive it programmatically having class name and method name?</p>\n"},{"tags":["java","json","scala","jackson2"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":2,"creation_date":1680803065,"post_id":75949551,"comment_id":133963265,"body_markdown":"Can you clarify with the input data you&#39;re using, output data you&#39;re getting Vs. What you expect?","body":"Can you clarify with the input data you&#39;re using, output data you&#39;re getting Vs. What you expect?"}],"owner":{"account_id":28075636,"reputation":1,"user_id":21447546,"display_name":"Brian Jones"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680784902,"creation_date":1680784300,"question_id":75949551,"body_markdown":"I am trying to use this ObjectMapper to deserialize json into an object while ignoring all undefined properties.  Seems like a pretty common thing to do and found plenty of documentation revolving around `@JsonIgnoreProperties(ignoreUnknown = true)` and `jsonObjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)` both of which I have inplace.  However, my object mapper is not ignoring undefined properties and instead pulling in all properties.  For example if a `Tender` has additional properties, those are being included.\r\n\r\n\r\nI have my object mapper defined as :\r\n\r\n```\r\nval jsonObjectMapper = new ObjectMapper()\r\njsonObjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n```\r\n\r\nI have my mapping class defined as:\r\n\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n//@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n        &quot;messageheader&quot;,\r\n        &quot;messagebody&quot;,\r\n        &quot;lod_tmst&quot;\r\n})\r\n\r\npublic class Sales {\r\n\r\n    private MessageHeader messageHeader;\r\n    private MessageBody messageBody;\r\n    private String lod_tmst = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).format(Calendar.getInstance().getTime());\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonProperty(&quot;messageheader&quot;)\r\n    public MessageHeader getMessageHeader() {\r\n        return messageHeader;\r\n    }\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonProperty(&quot;messageHeader&quot;)\r\n    public void setMessageHeader(MessageHeader messageHeader) {\r\n        this.messageHeader = messageHeader;\r\n    }\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonProperty(&quot;messagebody&quot;)\r\n    public MessageBody getMessageBody() {\r\n        return messageBody;\r\n    }\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonProperty(&quot;messageBody&quot;)\r\n    public void setMessageBody(MessageBody messageBody) {\r\n        this.messageBody = messageBody;\r\n    }\r\n    ....\r\n}\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n//@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n        &quot;tenders&quot;,\r\n        ...\r\n})\r\nclass MessageBody {\r\n    private List&lt;Tender&gt; tenders = null;\r\n    ...\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonProperty(&quot;tndr_dtl&quot;)\r\n    public List&lt;Tender&gt; getTenders() {\r\n        return tenders;\r\n    }\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonProperty(&quot;tenders&quot;)\r\n    public void setTenders(List&lt;Tender&gt; tenders) {\r\n        this.tenders = tenders;\r\n    }\r\n    ...\r\n}\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n//@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n        &quot;tndr_typ_cde&quot;,\r\n        &quot;tndr_id&quot;,\r\n        &quot;tndr_amt&quot;,\r\n        &quot;tndr_voided_ind&quot;\r\n})\r\nclass Tender {\r\n\r\n    private String typeCode;\r\n    private String accountNbr;\r\n    private Double amount;\r\n    private String tenderVoidedIndicator;\r\n\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n    @JsonProperty(&quot;tndr_typ_cde&quot;)\r\n    public String getTypeCode() {\r\n        return typeCode;\r\n    }\r\n\r\n    @JsonProperty(&quot;typeCode&quot;)\r\n    public void setTypeCode(String typeCode) {\r\n        this.typeCode = typeCode;\r\n    }\r\n\r\n    @JsonProperty(&quot;tndr_id&quot;)\r\n    public String getAccountNbr() {\r\n        return accountNbr;\r\n    }\r\n\r\n    @JsonProperty(&quot;accountNbr&quot;)\r\n    public void setAccountNbr(String accountNbr) {\r\n        this.accountNbr = accountNbr;\r\n    }\r\n\r\n    @JsonProperty(&quot;tndr_amt&quot;)\r\n    public Double getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    @JsonProperty(&quot;amount&quot;)\r\n    public void setAmount(Double amount) {\r\n        this.amount = General.roundDecimal(amount);\r\n    }\r\n\r\n    @JsonProperty(&quot;tndr_voided_ind&quot;)\r\n    public String getTenderVoidedIndicator() {\r\n        return tenderVoidedIndicator;\r\n    }\r\n\r\n    @JsonProperty(&quot;tenderVoidedIndicator&quot;)\r\n    public void setTenderVoidedIndicator(String tenderVoidedIndicator) {\r\n        this.tenderVoidedIndicator = tenderVoidedIndicator;\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\r\n        return this.additionalProperties;\r\n    }\r\n\r\n    @JsonAnySetter\r\n    public void setAdditionalProperty(String name, Object value) {\r\n        this.additionalProperties.put(name, value);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have tried several different variations of annotations but haven&#39;t had any luck.","title":"Jackson object mapper not ignoring properties as defined for nested json","body":"<p>I am trying to use this ObjectMapper to deserialize json into an object while ignoring all undefined properties.  Seems like a pretty common thing to do and found plenty of documentation revolving around <code>@JsonIgnoreProperties(ignoreUnknown = true)</code> and <code>jsonObjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)</code> both of which I have inplace.  However, my object mapper is not ignoring undefined properties and instead pulling in all properties.  For example if a <code>Tender</code> has additional properties, those are being included.</p>\n<p>I have my object mapper defined as :</p>\n<pre><code>val jsonObjectMapper = new ObjectMapper()\njsonObjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n</code></pre>\n<p>I have my mapping class defined as:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n//@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n        &quot;messageheader&quot;,\n        &quot;messagebody&quot;,\n        &quot;lod_tmst&quot;\n})\n\npublic class Sales {\n\n    private MessageHeader messageHeader;\n    private MessageBody messageBody;\n    private String lod_tmst = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).format(Calendar.getInstance().getTime());\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonProperty(&quot;messageheader&quot;)\n    public MessageHeader getMessageHeader() {\n        return messageHeader;\n    }\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonProperty(&quot;messageHeader&quot;)\n    public void setMessageHeader(MessageHeader messageHeader) {\n        this.messageHeader = messageHeader;\n    }\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonProperty(&quot;messagebody&quot;)\n    public MessageBody getMessageBody() {\n        return messageBody;\n    }\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonProperty(&quot;messageBody&quot;)\n    public void setMessageBody(MessageBody messageBody) {\n        this.messageBody = messageBody;\n    }\n    ....\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n//@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n        &quot;tenders&quot;,\n        ...\n})\nclass MessageBody {\n    private List&lt;Tender&gt; tenders = null;\n    ...\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonProperty(&quot;tndr_dtl&quot;)\n    public List&lt;Tender&gt; getTenders() {\n        return tenders;\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonProperty(&quot;tenders&quot;)\n    public void setTenders(List&lt;Tender&gt; tenders) {\n        this.tenders = tenders;\n    }\n    ...\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n//@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n        &quot;tndr_typ_cde&quot;,\n        &quot;tndr_id&quot;,\n        &quot;tndr_amt&quot;,\n        &quot;tndr_voided_ind&quot;\n})\nclass Tender {\n\n    private String typeCode;\n    private String accountNbr;\n    private Double amount;\n    private String tenderVoidedIndicator;\n\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n    @JsonProperty(&quot;tndr_typ_cde&quot;)\n    public String getTypeCode() {\n        return typeCode;\n    }\n\n    @JsonProperty(&quot;typeCode&quot;)\n    public void setTypeCode(String typeCode) {\n        this.typeCode = typeCode;\n    }\n\n    @JsonProperty(&quot;tndr_id&quot;)\n    public String getAccountNbr() {\n        return accountNbr;\n    }\n\n    @JsonProperty(&quot;accountNbr&quot;)\n    public void setAccountNbr(String accountNbr) {\n        this.accountNbr = accountNbr;\n    }\n\n    @JsonProperty(&quot;tndr_amt&quot;)\n    public Double getAmount() {\n        return amount;\n    }\n\n    @JsonProperty(&quot;amount&quot;)\n    public void setAmount(Double amount) {\n        this.amount = General.roundDecimal(amount);\n    }\n\n    @JsonProperty(&quot;tndr_voided_ind&quot;)\n    public String getTenderVoidedIndicator() {\n        return tenderVoidedIndicator;\n    }\n\n    @JsonProperty(&quot;tenderVoidedIndicator&quot;)\n    public void setTenderVoidedIndicator(String tenderVoidedIndicator) {\n        this.tenderVoidedIndicator = tenderVoidedIndicator;\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\n        return this.additionalProperties;\n    }\n\n    @JsonAnySetter\n    public void setAdditionalProperty(String name, Object value) {\n        this.additionalProperties.put(name, value);\n    }\n\n}\n</code></pre>\n<p>I have tried several different variations of annotations but haven't had any luck.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1680783938,"post_id":75949455,"comment_id":133958447,"body_markdown":"Which java version are you using? I think in later versions, the support for javascript has been removed due to no one wants to maintain it.","body":"Which java version are you using? I think in later versions, the support for javascript has been removed due to no one wants to maintain it."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680787062,"post_id":75949455,"comment_id":133959241,"body_markdown":"&quot;package not accessible&quot; is not the same as &quot;package not found&quot;. I know that with [Eclipse](https://www.eclipse.org/) you have to modify the configuration in order to make certain packages accessible. Which IDE are you using?","body":"&quot;package not accessible&quot; is not the same as &quot;package not found&quot;. I know that with <a href=\"https://www.eclipse.org/\" rel=\"nofollow noreferrer\">Eclipse</a> you have to modify the configuration in order to make certain packages accessible. Which IDE are you using?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680791785,"post_id":75949455,"comment_id":133960437,"body_markdown":"if the project is modular, that is, it is using a `module-info.java` file to declare the module, you must add `java.scripting` to that `module-info.java` file (e.g. `requires java.scripting;`)","body":"if the project is modular, that is, it is using a <code>module-info.java</code> file to declare the module, you must add <code>java.scripting</code> to that <code>module-info.java</code> file (e.g. <code>requires java.scripting;</code>)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680800997,"post_id":75949455,"comment_id":133962809,"body_markdown":"@JustanotherJavaprogrammer The [*Nashorn* JavaScript script engine](https://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)) was [deprecated in Java 11](https://openjdk.org/jeps/335) and [removed in Java 15](https://openjdk.org/jeps/372). But [`javax.script.ScriptEngineManager`](https://docs.oracle.com/en/java/javase/20/docs/api/java.scripting/javax/script/ScriptEngineManager.html) remains as of Java 20.","body":"@JustanotherJavaprogrammer The <a href=\"https://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)\" rel=\"nofollow noreferrer\"><i>Nashorn</i> JavaScript script engine</a> was <a href=\"https://openjdk.org/jeps/335\" rel=\"nofollow noreferrer\">deprecated in Java 11</a> and <a href=\"https://openjdk.org/jeps/372\" rel=\"nofollow noreferrer\">removed in Java 15</a>. But <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.scripting/javax/script/ScriptEngineManager.html\" rel=\"nofollow noreferrer\"><code>javax.script.ScriptEngineManager</code></a> remains as of Java 20."},{"owner":{"account_id":28231940,"reputation":23,"user_id":21581024,"display_name":"Hochy_Marmeladky"},"score":0,"creation_date":1681204595,"post_id":75949455,"comment_id":134014833,"body_markdown":"Thank you all. Now I understand what the problems are.","body":"Thank you all. Now I understand what the problems are."}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1680787468,"post_id":75949635,"comment_id":133959350,"body_markdown":"So basically you put all your code into the [unnamed module](https://docs.oracle.com/javase/specs/jls/se10/html/jls-7.html#jls-7.7.5).","body":"So basically you put all your code into the <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-7.html#jls-7.7.5\" rel=\"nofollow noreferrer\">unnamed module</a>."}],"tags":[],"owner":{"account_id":28231940,"reputation":23,"user_id":21581024,"display_name":"Hochy_Marmeladky"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680784828,"creation_date":1680784828,"answer_id":75949635,"question_id":75949455,"body_markdown":"I just deleted &quot;module-info.java&quot; and everything worked without downloading libraries.","title":"How do I use the java.scripting module?","body":"<p>I just deleted &quot;module-info.java&quot; and everything worked without downloading libraries.</p>\n"}],"owner":{"account_id":28231940,"reputation":23,"user_id":21581024,"display_name":"Hochy_Marmeladky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680784828,"creation_date":1680783725,"question_id":75949455,"body_markdown":"I was looking for a solution to my problem and found a code that solves it. But the code used classes of the java.scripting module. I tried to import it, but got &quot;The package javax.script is not accessible&quot;. Then I thought I needed to import the library. I almost didn&#39;t find JAR files with this library, and when I imported the ones I found, my program didn&#39;t see them. How do I make this code work?\r\n\r\n\r\n```\r\n ScriptEngineManager factory = new ScriptEngineManager();\r\n        ScriptEngine engine = factory.getEngineByName(&quot;JavaScript&quot;);\r\n        try\r\n        {\r\n            imput.setText(&quot;&quot; + engine.eval(imput.getText()));\r\n        } \r\n        catch (ScriptException e1)\r\n        {\r\n            //...\r\n        }\r\n```\r\n","title":"How do I use the java.scripting module?","body":"<p>I was looking for a solution to my problem and found a code that solves it. But the code used classes of the java.scripting module. I tried to import it, but got &quot;The package javax.script is not accessible&quot;. Then I thought I needed to import the library. I almost didn't find JAR files with this library, and when I imported the ones I found, my program didn't see them. How do I make this code work?</p>\n<pre><code> ScriptEngineManager factory = new ScriptEngineManager();\n        ScriptEngine engine = factory.getEngineByName(&quot;JavaScript&quot;);\n        try\n        {\n            imput.setText(&quot;&quot; + engine.eval(imput.getText()));\n        } \n        catch (ScriptException e1)\n        {\n            //...\n        }\n</code></pre>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":370109,"reputation":695,"user_id":717847,"accept_rate":62,"display_name":"user717847"},"score":0,"creation_date":1680862440,"post_id":75949559,"comment_id":133971509,"body_markdown":"I am converting html to pdf, and it does say in the chapter) it should work. (It does work with TTF).","body":"I am converting html to pdf, and it does say in the chapter) it should work. (It does work with TTF)."}],"owner":{"account_id":370109,"reputation":695,"user_id":717847,"accept_rate":62,"display_name":"user717847"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680784347,"creation_date":1680784347,"question_id":75949559,"body_markdown":"I&#39;m trying to use webfonts to style a pdf I&#39;m producing from html, using itext7.\r\n\r\nI&#39;ve been struggling to make the examples shown in chapter 6 (https://kb.itextpdf.com/home/it7kb/ebooks/itext-7-converting-html-to-pdf-with-pdfhtml/chapter-6-using-fonts-in-pdfhtml) work. I am not doing anything special with ConverterProperties, per that chapter.\r\n\r\n\r\n(kotlin code):\r\n```\r\n        HtmlConverter.convertToPdf(\r\n              ByteArrayInputStream(html.toByteArray(StandardCharsets.UTF_8)), \r\n                          outputStream, converterProperties)\r\n```\r\n\r\n\r\nInitially I tried adding a url to the font on the web:\r\n\r\n```\r\n@font-face {\r\n        font-family: &quot;Roboto Condensed&quot;;\r\n        src: url(&quot;https://fonts.googleapis.com/css2?family=Roboto+Condensed&amp;display=swap&quot;) format(&quot;woff&quot;);\r\n    }\r\n```\r\n\r\nWhen that didn&#39;t work, I then downloaded the webfont and gave it a local path:\r\n\r\n```\r\n    @font-face {\r\n        font-family: &quot;Roboto Condensed&quot;;\r\n        src: url(&quot;/home/myhome/roboto.woff&quot;) format(&quot;woff&quot;);\r\n    }\r\n```\r\n\r\nIn both cases, the html that I&#39;m generating displays the font just fine. However, the PDF that&#39;s produced does not. What am I missing?\r\n","title":"Webfonts with itext7","body":"<p>I'm trying to use webfonts to style a pdf I'm producing from html, using itext7.</p>\n<p>I've been struggling to make the examples shown in chapter 6 (<a href=\"https://kb.itextpdf.com/home/it7kb/ebooks/itext-7-converting-html-to-pdf-with-pdfhtml/chapter-6-using-fonts-in-pdfhtml\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/home/it7kb/ebooks/itext-7-converting-html-to-pdf-with-pdfhtml/chapter-6-using-fonts-in-pdfhtml</a>) work. I am not doing anything special with ConverterProperties, per that chapter.</p>\n<p>(kotlin code):</p>\n<pre><code>        HtmlConverter.convertToPdf(\n              ByteArrayInputStream(html.toByteArray(StandardCharsets.UTF_8)), \n                          outputStream, converterProperties)\n</code></pre>\n<p>Initially I tried adding a url to the font on the web:</p>\n<pre><code>@font-face {\n        font-family: &quot;Roboto Condensed&quot;;\n        src: url(&quot;https://fonts.googleapis.com/css2?family=Roboto+Condensed&amp;display=swap&quot;) format(&quot;woff&quot;);\n    }\n</code></pre>\n<p>When that didn't work, I then downloaded the webfont and gave it a local path:</p>\n<pre><code>    @font-face {\n        font-family: &quot;Roboto Condensed&quot;;\n        src: url(&quot;/home/myhome/roboto.woff&quot;) format(&quot;woff&quot;);\n    }\n</code></pre>\n<p>In both cases, the html that I'm generating displays the font just fine. However, the PDF that's produced does not. What am I missing?</p>\n"},{"tags":["java","wildfly","jndi","jackrabbit","jca"],"owner":{"account_id":10422812,"reputation":1,"user_id":12123710,"display_name":"Elias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680783883,"creation_date":1680783703,"question_id":75949449,"body_markdown":"By some constraints I have to implement Wildfly in version 10 with Jackrabbit JCA, our client software must connect to the repo.\r\n\r\nIt is said in the documentation of wildfly 10 about the resource adapter: \r\n&quot;Note, that only JNDI bindings under java:/ or java:jboss/ are supported.&quot;\r\n\r\nAnd this for the remote JNDI:\r\n&quot;Only entries within the java:jboss/exported context are accessible over remote JNDI&quot;\r\n\r\nI tried several binding in the naming subsystem but without result.\r\n\r\nIs it possible to set up a remote jackrabbit repository accessible via JNDI on Wildfly 10?\r\n\r\nThanks for your advice.","title":"Wildfly 10 remote JNDI Resource Adapter export","body":"<p>By some constraints I have to implement Wildfly in version 10 with Jackrabbit JCA, our client software must connect to the repo.</p>\n<p>It is said in the documentation of wildfly 10 about the resource adapter:\n&quot;Note, that only JNDI bindings under java:/ or java:jboss/ are supported.&quot;</p>\n<p>And this for the remote JNDI:\n&quot;Only entries within the java:jboss/exported context are accessible over remote JNDI&quot;</p>\n<p>I tried several binding in the naming subsystem but without result.</p>\n<p>Is it possible to set up a remote jackrabbit repository accessible via JNDI on Wildfly 10?</p>\n<p>Thanks for your advice.</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680783798,"creation_date":1680783798,"answer_id":75949465,"question_id":75949303,"body_markdown":"You need to pass in the `Supplier` `mapFactory` to specify the type of `Map` you wish to collect in (`()-&gt;new TreeMap&lt;&gt;()`). Same in case of `TreeSet`\r\n\r\n        final TreeMap&lt;String, TreeMap&lt;String, TreeMap&lt;String, TreeSet&lt;String&gt;&gt;&gt;&gt; collect =\r\n            list.stream()\r\n                .collect(\r\n                    groupingBy(\r\n                        Dto::getValidationType,\r\n                        TreeMap::new,\r\n                        groupingBy(\r\n                            Dto::getSource,\r\n                            TreeMap::new,\r\n                            groupingBy(\r\n                                Dto::getAddress,\r\n                                TreeMap::new,\r\n                                Collectors.mapping(\r\n                                    Dto::getError,\r\n                                    Collectors.collectingAndThen(\r\n                                        Collectors.toSet(),\r\n                                        TreeSet::new)\r\n                                )\r\n                            )\r\n                        )\r\n                    )\r\n                );","title":"Convert List of objects to nested ordered map of ordered lists","body":"<p>You need to pass in the <code>Supplier</code> <code>mapFactory</code> to specify the type of <code>Map</code> you wish to collect in (<code>()-&gt;new TreeMap&lt;&gt;()</code>). Same in case of <code>TreeSet</code></p>\n<pre><code>    final TreeMap&lt;String, TreeMap&lt;String, TreeMap&lt;String, TreeSet&lt;String&gt;&gt;&gt;&gt; collect =\n        list.stream()\n            .collect(\n                groupingBy(\n                    Dto::getValidationType,\n                    TreeMap::new,\n                    groupingBy(\n                        Dto::getSource,\n                        TreeMap::new,\n                        groupingBy(\n                            Dto::getAddress,\n                            TreeMap::new,\n                            Collectors.mapping(\n                                Dto::getError,\n                                Collectors.collectingAndThen(\n                                    Collectors.toSet(),\n                                    TreeSet::new)\n                            )\n                        )\n                    )\n                )\n            );\n</code></pre>\n"}],"owner":{"account_id":4710206,"reputation":333,"user_id":3810920,"accept_rate":67,"display_name":"arnaldop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75949465,"answer_count":1,"score":1,"last_activity_date":1680783798,"creation_date":1680782574,"question_id":75949303,"body_markdown":"I want to convert a list of DTOs into a deep nested map.\r\n\r\nSource format:\r\n```\r\n[\r\n    Dto(validationType=BASIC, source=BASE, address=A4, error=Client is a required field.),\r\n    Dto(validationType=BASIC, source=BASE, address=A4, error=Client must be one of &#39;I&#39;, &#39;G&#39; or &#39;W&#39;.),\r\n    Dto(validationType=BASIC, source=BASE, address=B5, error=Individuals require First and Last Names.),\r\n    Dto(validationType=BASIC, source=BASE, address=D6, error=Individuals require First and Last Names.),\r\n    Dto(validationType=BASIC, source=BASE, address=J7, error=First is a required field.),\r\n    Dto(validationType=BASIC, source=BASE, address=L8, error=Last is a required field.),\r\n    Dto(validationType=BASIC, source=BASE, address=M9, error=Name is a required field.),\r\n    Dto(validationType=BASIC, source=BASE, address=N10, error=Status is a required field.),\r\n    Dto(validationType=BASIC, source=BASE, address=N10, error=Status must be one of &#39;A&#39; or &#39;P&#39;.),\r\n    Dto(validationType=BASIC, source=BASE, address=F16, error=Groups require a Group Name.)\r\n]\r\n```\r\n\r\nTarget format:\r\n```\r\n{\r\n    BASIC = {\r\n        BASE = {\r\n            A4 = [ &quot;Client is a required field.&quot;, &quot;Client must be one of &#39;I&#39;, &#39;G&#39; or &#39;W&#39;.&quot; ],\r\n            B5 = [ &quot;Individuals require First and Last Names.&quot; ],\r\n            D6 = [ &quot;Individuals require First and Last Names.&quot; ],\r\n            J7 = [ &quot;First is a required field.&quot; ],\r\n            L8 = [ &quot;Last is a required field.&quot; ],\r\n            M9 = [ &quot;Name is a required field.&quot; ],\r\n            N10 = [ &quot;Status is a required field.&quot; ],\r\n            N10 = [ &quot;Status must be one of &#39;A&#39; or &#39;P&#39;.&quot; ],\r\n            F16 = [ &quot;Groups require a Group Name.&quot; ]\r\n        }\r\n    }\r\n}\r\n```\r\n                                 \r\nThis code snippet:\r\n```java\r\nfinal Map&lt;String, Map&lt;String, Map&lt;String, ArrayList&lt;String&gt;&gt;&gt;&gt; collect =\r\n    dtoList.stream()\r\n        .collect(\r\n            Collectors.groupingBy(\r\n                Dto::getValidationType,\r\n                Collectors.groupingBy(\r\n                    Dto::getSource,\r\n                    Collectors.groupingBy(\r\n                        Dto::getAddress,\r\n                        Collectors.mapping(\r\n                            Dto::getError,\r\n                            Collectors.collectingAndThen(\r\n                                Collectors.toSet(),\r\n                                ArrayList::new))))));\r\n\r\n```\r\n\r\nproduces this map:\r\n```\r\n{\r\n    BASIC = {\r\n        BASE = {\r\nkey       -&gt;            D6 = [ &quot;Individuals require First and Last Names.&quot;],\r\norder     -&gt;            B5 = [ &quot;Individuals require First and Last Names.],\r\nnot       -&gt;            A4 = [ &quot;Client must be one of &#39;I&#39;, &#39;G&#39; or &#39;W&#39;.&quot;, &quot;Client is a required field.&quot;], &lt;- values&#39; original order lost\r\npreserved -&gt;            F16 = [ &quot;Groups require a Group Name.&quot; ],\r\n          -&gt;            N10 = [ &quot;Status must be one of &#39;A&#39; or &#39;P&#39;.&quot;, &quot;Status is a required field.&quot; ],\r\n          -&gt;            M9 = [ &quot;Name is a required field.&quot; ],\r\n          -&gt;            L8 = [ &quot;Last is a required field.&quot; ],\r\n          -&gt;            J7 = [ &quot;First is a required field.&quot; ]\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe problems are:\r\n1. The keys under BASE are not sorted. I know I need something like a TreeSet, but I am not sure how to collect into such a collection.\r\n2. The values within each list are not preserving their order. &quot;Client is a required field.&quot; should come before &quot;Client must be one of &#39;I&#39;, &#39;G&#39; or &#39;W&#39;.&quot;, because that is their original order.\r\n\r\n","title":"Convert List of objects to nested ordered map of ordered lists","body":"<p>I want to convert a list of DTOs into a deep nested map.</p>\n<p>Source format:</p>\n<pre><code>[\n    Dto(validationType=BASIC, source=BASE, address=A4, error=Client is a required field.),\n    Dto(validationType=BASIC, source=BASE, address=A4, error=Client must be one of 'I', 'G' or 'W'.),\n    Dto(validationType=BASIC, source=BASE, address=B5, error=Individuals require First and Last Names.),\n    Dto(validationType=BASIC, source=BASE, address=D6, error=Individuals require First and Last Names.),\n    Dto(validationType=BASIC, source=BASE, address=J7, error=First is a required field.),\n    Dto(validationType=BASIC, source=BASE, address=L8, error=Last is a required field.),\n    Dto(validationType=BASIC, source=BASE, address=M9, error=Name is a required field.),\n    Dto(validationType=BASIC, source=BASE, address=N10, error=Status is a required field.),\n    Dto(validationType=BASIC, source=BASE, address=N10, error=Status must be one of 'A' or 'P'.),\n    Dto(validationType=BASIC, source=BASE, address=F16, error=Groups require a Group Name.)\n]\n</code></pre>\n<p>Target format:</p>\n<pre><code>{\n    BASIC = {\n        BASE = {\n            A4 = [ &quot;Client is a required field.&quot;, &quot;Client must be one of 'I', 'G' or 'W'.&quot; ],\n            B5 = [ &quot;Individuals require First and Last Names.&quot; ],\n            D6 = [ &quot;Individuals require First and Last Names.&quot; ],\n            J7 = [ &quot;First is a required field.&quot; ],\n            L8 = [ &quot;Last is a required field.&quot; ],\n            M9 = [ &quot;Name is a required field.&quot; ],\n            N10 = [ &quot;Status is a required field.&quot; ],\n            N10 = [ &quot;Status must be one of 'A' or 'P'.&quot; ],\n            F16 = [ &quot;Groups require a Group Name.&quot; ]\n        }\n    }\n}\n</code></pre>\n<p>This code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;String, Map&lt;String, Map&lt;String, ArrayList&lt;String&gt;&gt;&gt;&gt; collect =\n    dtoList.stream()\n        .collect(\n            Collectors.groupingBy(\n                Dto::getValidationType,\n                Collectors.groupingBy(\n                    Dto::getSource,\n                    Collectors.groupingBy(\n                        Dto::getAddress,\n                        Collectors.mapping(\n                            Dto::getError,\n                            Collectors.collectingAndThen(\n                                Collectors.toSet(),\n                                ArrayList::new))))));\n\n</code></pre>\n<p>produces this map:</p>\n<pre><code>{\n    BASIC = {\n        BASE = {\nkey       -&gt;            D6 = [ &quot;Individuals require First and Last Names.&quot;],\norder     -&gt;            B5 = [ &quot;Individuals require First and Last Names.],\nnot       -&gt;            A4 = [ &quot;Client must be one of 'I', 'G' or 'W'.&quot;, &quot;Client is a required field.&quot;], &lt;- values' original order lost\npreserved -&gt;            F16 = [ &quot;Groups require a Group Name.&quot; ],\n          -&gt;            N10 = [ &quot;Status must be one of 'A' or 'P'.&quot;, &quot;Status is a required field.&quot; ],\n          -&gt;            M9 = [ &quot;Name is a required field.&quot; ],\n          -&gt;            L8 = [ &quot;Last is a required field.&quot; ],\n          -&gt;            J7 = [ &quot;First is a required field.&quot; ]\n        }\n    }\n}\n</code></pre>\n<p>The problems are:</p>\n<ol>\n<li>The keys under BASE are not sorted. I know I need something like a TreeSet, but I am not sure how to collect into such a collection.</li>\n<li>The values within each list are not preserving their order. &quot;Client is a required field.&quot; should come before &quot;Client must be one of 'I', 'G' or 'W'.&quot;, because that is their original order.</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":0,"creation_date":1680597681,"post_id":75926752,"comment_id":133921067,"body_markdown":"what would be the reason for getting the value of `myString` in `MyBaseAppConfiguration` ? and how is it related to the creation of the bean `MyDAOBean`? Does the creation of the bean &#39;MyDAOBean&#39; depends on the value of `myString`? if yes, how so?","body":"what would be the reason for getting the value of <code>myString</code> in <code>MyBaseAppConfiguration</code> ? and how is it related to the creation of the bean <code>MyDAOBean</code>? Does the creation of the bean &#39;MyDAOBean&#39; depends on the value of <code>myString</code>? if yes, how so?"},{"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"score":0,"creation_date":1680597818,"post_id":75926752,"comment_id":133921106,"body_markdown":"@atish.s I made a note at the end of the question just for this. I can&#39;t explain the business logic behind that I really trying to write. Focusing on the problem will make things easier","body":"@atish.s I made a note at the end of the question just for this. I can&#39;t explain the business logic behind that I really trying to write. Focusing on the problem will make things easier"}],"answers":[{"comments":[{"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"score":0,"creation_date":1680598078,"post_id":75927007,"comment_id":133921158,"body_markdown":"So every child has to create matching constructor super? You gave me an idea actually. How about setter-injection. Editted my post","body":"So every child has to create matching constructor super? You gave me an idea actually. How about setter-injection. Editted my post"}],"tags":[],"owner":{"account_id":11164402,"reputation":541,"user_id":8193521,"display_name":"olgunyldz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680596152,"creation_date":1680596152,"answer_id":75927007,"question_id":75926752,"body_markdown":"You can add MyBean as a constructor injection.\r\n\r\n    public class MyBaseAppConfiguration {\r\n        protected String myString;\r\n   \r\n        @Autowired\r\n        public MyBaseAppConfiguration(MyBean myBean ){\r\n          myString = myBean.getMyString();\r\n        }\r\n\r\n\r\n\r\n   \r\n}","title":"Call method after bean initialization but before @Bean called","body":"<p>You can add MyBean as a constructor injection.</p>\n<pre><code>public class MyBaseAppConfiguration {\n    protected String myString;\n\n    @Autowired\n    public MyBaseAppConfiguration(MyBean myBean ){\n      myString = myBean.getMyString();\n    }\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680783582,"creation_date":1680725742,"answer_id":75943642,"question_id":75926752,"body_markdown":"The creation of the bean for `MyDAOBean` seems to have some dependency on a computed value based on the property of `MyBean`.\r\n\r\nThe [`@Conditional`][1] annotation alongside a custom condition can be used to do the operations required; `myString.isEmpty()` is this case.\r\n\r\n    import org.springframework.context.annotation.Condition;\r\n    import org.springframework.context.annotation.ConditionContext;\r\n    import org.springframework.core.type.AnnotatedTypeMetadata;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    public class MyStringIsEmpty implements Condition {\r\n\r\n\t\t@Override\r\n\t\tpublic boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n\t\t\t// Get the spring bean for MyBean\r\n\t\t\tMyBean myBean = Objects.requireNonNull(context.getBeanFactory()).getBean(MyBean.class);\r\n\t\t\r\n\t\t\t// Get the property of myString\r\n\t\t\tString myString = myBean.getMyString();\r\n\t\t\r\n\t\t\t// perform your desired evaluation\r\n\t\t\tboolean isEmpty = myString.isEmpty();\r\n\t\t\r\n\t\t\treturn isEmpty; // if true, the bean will be created\r\n\t\t}\r\n    }\r\n\r\nUsing the custom condition.\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Conditional;\r\n\r\n    @Bean\r\n    @Conditional(MyStringIsEmpty.class)\r\n    public MyDAOBean getMyDAOBean() {\r\n        return new MyDAOBean();\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Conditional.html\r\n","title":"Call method after bean initialization but before @Bean called","body":"<p>The creation of the bean for <code>MyDAOBean</code> seems to have some dependency on a computed value based on the property of <code>MyBean</code>.</p>\n<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Conditional.html\" rel=\"nofollow noreferrer\"><code>@Conditional</code></a> annotation alongside a custom condition can be used to do the operations required; <code>myString.isEmpty()</code> is this case.</p>\n<pre><code>import org.springframework.context.annotation.Condition;\nimport org.springframework.context.annotation.ConditionContext;\nimport org.springframework.core.type.AnnotatedTypeMetadata;\n\nimport java.util.Objects;\n\npublic class MyStringIsEmpty implements Condition {\n\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        // Get the spring bean for MyBean\n        MyBean myBean = Objects.requireNonNull(context.getBeanFactory()).getBean(MyBean.class);\n    \n        // Get the property of myString\n        String myString = myBean.getMyString();\n    \n        // perform your desired evaluation\n        boolean isEmpty = myString.isEmpty();\n    \n        return isEmpty; // if true, the bean will be created\n    }\n}\n</code></pre>\n<p>Using the custom condition.</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Conditional;\n\n@Bean\n@Conditional(MyStringIsEmpty.class)\npublic MyDAOBean getMyDAOBean() {\n    return new MyDAOBean();\n}\n</code></pre>\n"}],"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75927007,"answer_count":2,"score":0,"last_activity_date":1680783582,"creation_date":1680594379,"question_id":75926752,"body_markdown":"    @Configuration\r\n    public class MyAppConfiguration extends MyBaseAppConfiguration {\r\n    \t@Bean\r\n    \tpublic MyDAOBean getMyDAOBean() {\r\n            boolean isEmpty = myString.isEmpty();\r\n    \t\treturn new MyDAOBean();\r\n    \t}\r\n    }\r\n\r\n    @Component\r\n    @ConfigurationProperties(prefix=&quot;hey&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class MyBean {\r\n        private String myString;\r\n    }\r\n\r\n\r\n    public class MyBaseAppConfiguration {\r\n        @Autowired\r\n        private MyBean myBean;\r\n    \r\n        protected String myString;\r\n\r\n    \t//I need some annotation to call this (@PostConstruct maybe?)\r\n    \tpublic void setMyString() {\r\n            this.myString= myBean.getMyString();\r\n    \t}\r\n    }\r\n\r\nI want to set `myString` with something that I got from `myBean`. So I need some annotation to call method that I set this field after myBean initiliazed but before `getMyDAOBean` called. `@PostConstruct` currently working for this situation but I need to be sure if it is always working. Does it do the job or there is something I don&#39;t know and this is risky?\r\n\r\nPlease ignore simplicity of example. `myBean.getMyString()` in `getMyDAOBean` would be more easy but It&#39;s more complex in real, just focus on the problem.\r\n\r\nEdit: How about setter-injection way? Does it make any difference? More safety or else?\r\n\r\n\r\n    public class MyBaseAppConfiguration {\r\n        protected String myString;\r\n\r\n    \t@Autowired\r\n    \tpublic void setMyString(MyBean myBean) {\r\n            this.myString= myBean.getMyString();\r\n    \t}\r\n    }\r\n\r\n","title":"Call method after bean initialization but before @Bean called","body":"<pre><code>@Configuration\npublic class MyAppConfiguration extends MyBaseAppConfiguration {\n    @Bean\n    public MyDAOBean getMyDAOBean() {\n        boolean isEmpty = myString.isEmpty();\n        return new MyDAOBean();\n    }\n}\n\n@Component\n@ConfigurationProperties(prefix=&quot;hey&quot;)\n@Getter\n@Setter\npublic class MyBean {\n    private String myString;\n}\n\n\npublic class MyBaseAppConfiguration {\n    @Autowired\n    private MyBean myBean;\n\n    protected String myString;\n\n    //I need some annotation to call this (@PostConstruct maybe?)\n    public void setMyString() {\n        this.myString= myBean.getMyString();\n    }\n}\n</code></pre>\n<p>I want to set <code>myString</code> with something that I got from <code>myBean</code>. So I need some annotation to call method that I set this field after myBean initiliazed but before <code>getMyDAOBean</code> called. <code>@PostConstruct</code> currently working for this situation but I need to be sure if it is always working. Does it do the job or there is something I don't know and this is risky?</p>\n<p>Please ignore simplicity of example. <code>myBean.getMyString()</code> in <code>getMyDAOBean</code> would be more easy but It's more complex in real, just focus on the problem.</p>\n<p>Edit: How about setter-injection way? Does it make any difference? More safety or else?</p>\n<pre><code>public class MyBaseAppConfiguration {\n    protected String myString;\n\n    @Autowired\n    public void setMyString(MyBean myBean) {\n        this.myString= myBean.getMyString();\n    }\n}\n</code></pre>\n"},{"tags":["java","forgerock"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680878740,"post_id":75949435,"comment_id":133974591,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":19404007,"reputation":1,"user_id":14189889,"display_name":"Prasad .teamup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680783550,"creation_date":1680783550,"question_id":75949435,"body_markdown":"I&#39;m new to ForgeRock.I am facing an issue that I&#39;m unable to make a specific user not use my custom node but I found we can enable or disable a journey but I didn&#39;t find about nodes. \r\n\r\nI tried to modify plugin class but it not working and that is not feasible solution","title":"How to disable or hide a my custom node to a specific user in ForgeRock","body":"<p>I'm new to ForgeRock.I am facing an issue that I'm unable to make a specific user not use my custom node but I found we can enable or disable a journey but I didn't find about nodes.</p>\n<p>I tried to modify plugin class but it not working and that is not feasible solution</p>\n"},{"tags":["java","hibernate","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1680555694,"post_id":75923677,"comment_id":133915504,"body_markdown":"Do you run the project on JDK 1.8?","body":"Do you run the project on JDK 1.8?"},{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":0,"creation_date":1680560745,"post_id":75923677,"comment_id":133916314,"body_markdown":"please post the stacktrace of your exception","body":"please post the stacktrace of your exception"}],"answers":[{"tags":[],"owner":{"account_id":28206524,"reputation":11,"user_id":21559527,"display_name":"doradura"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680783362,"creation_date":1680783362,"answer_id":75949415,"question_id":75923677,"body_markdown":"I added this to my pom.xml\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Exception java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in a simple maven hibernate project with mysql","body":"<p>I added this to my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n  &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":28206524,"reputation":11,"user_id":21559527,"display_name":"doradura"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680783362,"creation_date":1680555122,"question_id":75923677,"body_markdown":"I&#39;m working on a project using maven, hibernate and mysql in intellij idea. This is my pom.xml:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;tsp3&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;tsp3&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.sourse&gt;1.8&lt;/maven.compiler.sourse&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;hibernate-version&gt;5.0.1.Final&lt;/hibernate-version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;5.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- for JPA, use hibernate-entitymanager instead of hibernate-core --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    &lt;version&gt;5.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-tools&lt;/artifactId&gt;\r\n      &lt;version&gt;4.3.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nThis is my hibernate.cfg.xml\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;170302&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;mapping class=&quot;org.example.MessegesEntity&quot;/&gt;\r\n        &lt;mapping resource=&quot;mappings/MessegesEntity.hbm.xml&quot;/&gt;\r\n        &lt;mapping resource=&quot;mappings/ThemeEntity.hbm.xml&quot;/&gt;\r\n        &lt;mapping class=&quot;org.example.ThemeEntity&quot;/&gt;\r\n        &lt;mapping resource=&quot;mappings/UsersEntity.hbm.xml&quot;/&gt;\r\n        &lt;mapping class=&quot;org.example.UsersEntity&quot;/&gt;\r\n        &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\r\n        &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\r\n\r\n        &lt;!-- DB schema will be updated if needed --&gt;\r\n        &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\nThis is my SessionFactory class\r\n\r\n```\r\nimport org.example.MessegesEntity;\r\nimport org.example.ThemeEntity;\r\nimport org.example.UsersEntity;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\n\r\npublic class HibernateSessionFactoryUtil {\r\n\r\n    private static SessionFactory sessionFactory;\r\n\r\n    private HibernateSessionFactoryUtil() {}\r\n\r\n    public static SessionFactory getSessionFactory() {\r\n        if (sessionFactory == null) {\r\n            try {\r\n                Configuration configuration = new Configuration().configure();\r\n                configuration.addAnnotatedClass(MessegesEntity.class);\r\n                configuration.addAnnotatedClass(UsersEntity.class);\r\n                configuration.addAnnotatedClass(ThemeEntity.class);\r\n                StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\r\n                sessionFactory = configuration.buildSessionFactory(builder.build());\r\n\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Exception!&quot; + e);\r\n            }\r\n        }\r\n        return sessionFactory;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI have DB and mappings. Also I have classes, DAO and Service classes for my tables. I try to create new user and save it to my DB in my main method. The first exception appear in HibernateSessionFactoryUtil class in Configuration configuration = new Configuration().configure();\r\n\r\nAll my exceptions: \r\n[![enter image description here][1]][1]\r\n\r\njdk version 20?\r\n[![enter image description here][2]][2]\r\nI would be grateful for your help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c0uSx.png\r\n  [2]: https://i.stack.imgur.com/RnvvA.png","title":"Exception java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in a simple maven hibernate project with mysql","body":"<p>I'm working on a project using maven, hibernate and mysql in intellij idea. This is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;tsp3&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;tsp3&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.sourse&gt;1.8&lt;/maven.compiler.sourse&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;hibernate-version&gt;5.0.1.Final&lt;/hibernate-version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;5.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- for JPA, use hibernate-entitymanager instead of hibernate-core --&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;5.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;8.0.32&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-tools&lt;/artifactId&gt;\n      &lt;version&gt;4.3.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is my hibernate.cfg.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306&lt;/property&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;170302&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;mapping class=&quot;org.example.MessegesEntity&quot;/&gt;\n        &lt;mapping resource=&quot;mappings/MessegesEntity.hbm.xml&quot;/&gt;\n        &lt;mapping resource=&quot;mappings/ThemeEntity.hbm.xml&quot;/&gt;\n        &lt;mapping class=&quot;org.example.ThemeEntity&quot;/&gt;\n        &lt;mapping resource=&quot;mappings/UsersEntity.hbm.xml&quot;/&gt;\n        &lt;mapping class=&quot;org.example.UsersEntity&quot;/&gt;\n        &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\n        &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\n\n        &lt;!-- DB schema will be updated if needed --&gt;\n        &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>This is my SessionFactory class</p>\n<pre><code>import org.example.MessegesEntity;\nimport org.example.ThemeEntity;\nimport org.example.UsersEntity;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\n\npublic class HibernateSessionFactoryUtil {\n\n    private static SessionFactory sessionFactory;\n\n    private HibernateSessionFactoryUtil() {}\n\n    public static SessionFactory getSessionFactory() {\n        if (sessionFactory == null) {\n            try {\n                Configuration configuration = new Configuration().configure();\n                configuration.addAnnotatedClass(MessegesEntity.class);\n                configuration.addAnnotatedClass(UsersEntity.class);\n                configuration.addAnnotatedClass(ThemeEntity.class);\n                StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\n                sessionFactory = configuration.buildSessionFactory(builder.build());\n\n            } catch (Exception e) {\n                System.out.println(&quot;Exception!&quot; + e);\n            }\n        }\n        return sessionFactory;\n    }\n}\n</code></pre>\n<p>I have DB and mappings. Also I have classes, DAO and Service classes for my tables. I try to create new user and save it to my DB in my main method. The first exception appear in HibernateSessionFactoryUtil class in Configuration configuration = new Configuration().configure();</p>\n<p>All my exceptions:\n<a href=\"https://i.stack.imgur.com/c0uSx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c0uSx.png\" alt=\"enter image description here\" /></a></p>\n<p>jdk version 20?\n<a href=\"https://i.stack.imgur.com/RnvvA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RnvvA.png\" alt=\"enter image description here\" /></a>\nI would be grateful for your help!</p>\n"},{"tags":["java","css","itext","flying-saucer"],"answers":[{"comments":[{"owner":{"account_id":11331751,"reputation":1903,"user_id":8309065,"display_name":"Roman"},"score":0,"creation_date":1594375087,"post_id":62831717,"comment_id":111110274,"body_markdown":"I tried the approach with table, but obtain another problem, for the majority of pages headers create correct, but for some pages, I see the piece of extra space at the top of the page but no header created, and looks like this is floating-issue which related page content or row ( &lt;tr&gt;) content","body":"I tried the approach with table, but obtain another problem, for the majority of pages headers create correct, but for some pages, I see the piece of extra space at the top of the page but no header created, and looks like this is floating-issue which related page content or row ( &lt;tr&gt;) content"},{"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"score":0,"creation_date":1594381752,"post_id":62831717,"comment_id":111113456,"body_markdown":"@Roman I don&#39;t see what can cause this problem. Can you provide an example of HTML?","body":"@Roman I don&#39;t see what can cause this problem. Can you provide an example of HTML?"}],"tags":[],"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594374735,"creation_date":1594374735,"answer_id":62831717,"question_id":62771402,"body_markdown":"If you&#39;re using a `table`, you can use the following CSS style, which will repeat `thead` on each page.\r\n\r\n    table {\r\n        -fs-table-paginate: paginate;\r\n        border-spacing: 0;\r\n    }\r\n\r\nIf you&#39;re using `div`s, you can use page headers to repeat some content on each page.\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;style&gt;\r\n            @page {  @top-center {content: element(header);}  }\r\n            #header {position: running(header);}\r\n        &lt;/style&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div id=&quot;header&quot;&gt;Header&lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"flyingsaucer/itext - is it possible to have table header on each PDF page","body":"<p>If you're using a <code>table</code>, you can use the following CSS style, which will repeat <code>thead</code> on each page.</p>\n<pre><code>table {\n    -fs-table-paginate: paginate;\n    border-spacing: 0;\n}\n</code></pre>\n<p>If you're using <code>div</code>s, you can use page headers to repeat some content on each page.</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;style&gt;\n        @page {  @top-center {content: element(header);}  }\n        #header {position: running(header);}\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=&quot;header&quot;&gt;Header&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":11331751,"reputation":1903,"user_id":8309065,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1017,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680782817,"creation_date":1594111649,"question_id":62771402,"body_markdown":"I have an HTML file which converted into PDF file with 5+ pages (a4 size)\r\nalmost all pages it&#39;s a big table which created using DIVs\r\nthe problem is that the table header is present only on the first page, but I want to have it on each page where the table present.\r\n\r\nIs there any way how to add repeating table header on each page?","title":"flyingsaucer/itext - is it possible to have table header on each PDF page","body":"<p>I have an HTML file which converted into PDF file with 5+ pages (a4 size)\nalmost all pages it's a big table which created using DIVs\nthe problem is that the table header is present only on the first page, but I want to have it on each page where the table present.</p>\n<p>Is there any way how to add repeating table header on each page?</p>\n"},{"tags":["java","talend","snowflake-schema"],"owner":{"account_id":2734872,"reputation":1610,"user_id":2357766,"accept_rate":85,"display_name":"Rajesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680782381,"creation_date":1678910231,"question_id":75749503,"body_markdown":"I am trying to connect to Snowflake and insert/Retrieve data from it for the connection purpose I use SnowFlake in MetaData section I have given all the details correctly and the connection is successful , when I go to the next step I get list of tables when I click on Finish it shows Save Failed! error with below details\r\n\r\n\r\n\r\nWhen I try with Snowflake Input component the connection gets successful but when I run Nothing happens\r\n\r\n\r\n\r\nI use Talend 8.0.1\r\n\r\n         Snowflake JDBC Version 3.13\r\n\r\n\r\n\r\nSave failed!\r\n\r\n org.eclipse.core.runtime.CoreException: Error when saving the connection\r\n\r\n   at org.talend.repository.generic.ui.GenericConnWizard$1.run(GenericConnWizard.java:311)\r\n\r\n   at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2313)\r\n\r\n   at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2338)\r\n\r\n   at org.talend.repository.generic.ui.GenericConnWizard.createOrUpdateConnectionItem(GenericConnWizard.java:319)\r\n\r\n   at org.talend.repository.generic.ui.GenericConnWizard.performFinish(GenericConnWizard.java:259)\r\n\r\n   at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:832)\r\n\r\n   at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:472)\r\n\r\n   at org.eclipse.jface.dialogs.Dialog.lambda$0(Dialog.java:619)\r\n\r\n   at org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\r\n\r\n   at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\r\n\r\n   at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\r\n   at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4209)\r\n\r\n   at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1043)\r\n\r\n   at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4026)\r\n\r\n   at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3626)\r\n\r\n   at org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\r\n\r\n   at org.eclipse.jface.window.Window.open(Window.java:799)\r\n\r\n   at org.talend.repository.generic.action.GenericAction.doRun(GenericAction.java:71)\r\n\r\n   at org.talend.repository.ui.actions.AContextualAction$2.run(AContextualAction.java:678)\r\n\r\n   at org.talend.repository.RepositoryWorkUnit.executeRun(RepositoryWorkUnit.java:103)\r\n\r\n   at org.talend.core.repository.model.AbstractRepositoryFactory.executeRepositoryWorkUnit(AbstractRepositoryFactory.java:259)\r\n\r\n   at org.talend.repository.localprovider.model.LocalRepositoryFactory.executeRepositoryWorkUnit(LocalRepositoryFactory.java:3767)\r\n\r\n   at org.talend.core.repository.model.ProxyRepositoryFactory.executeRepositoryWorkUnit(ProxyRepositoryFactory.java:2679)\r\n\r\n   at org.talend.repository.ui.actions.AContextualAction.run(AContextualAction.java:688)\r\n\r\n   at org.eclipse.jface.action.Action.runWithEvent(Action.java:474)\r\n\r\n   at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\r\n\r\n   at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\r\n\r\n   at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\r\n   at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4209)\r\n\r\n   at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1043)\r\n\r\n   at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4026)\r\n\r\n   at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3626)\r\n\r\n   at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1157)\r\n\r\n   at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\r\n   at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\r\n   at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\r\n   at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\r\n\r\n   at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\r\n   at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\r\n\r\n   at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\r\n\r\n   at org.talend.rcp.intro.Application.start(Application.java:303)\r\n\r\n   at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\r\n   at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n\r\n   at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\r\n   at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\r\n   at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\r\n   at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\r\n   at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\r\n   at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\r\n\r\n   at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\r\n\r\n   at org.eclipse.equinox.launcher.Main.run(Main.java:1462)\r\n\r\n Caused by: org.talend.daikon.exception.TalendRuntimeException: FAILED_INVOKE_METHOD:{class=org.talend.components.snowflake.SnowflakeTableListProperties, method=afterFormFinishMain}\r\n\r\n   at org.talend.daikon.properties.PropertiesDynamicMethodHelper.doInvoke(PropertiesDynamicMethodHelper.java:109)\r\n\r\n   at org.talend.daikon.properties.PropertiesDynamicMethodHelper.afterFormFinish(PropertiesDynamicMethodHelper.java:323)\r\n\r\n   at org.talend.daikon.properties.service.PropertiesServiceImpl.afterFormFinish(PropertiesServiceImpl.java:135)\r\n\r\n   at org.talend.components.api.service.internal.osgi.ComponentServiceOsgi.afterFormFinish(ComponentServiceOsgi.java:177)\r\n\r\n   at org.talend.repository.generic.ui.GenericConnWizard$1.run(GenericConnWizard.java:307)\r\n\r\n   ... 50 more\r\n\r\n Caused by: java.lang.reflect.InvocationTargetException\r\n\r\n   at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\r\n   at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\r\n   at org.talend.daikon.properties.PropertiesDynamicMethodHelper.doInvoke(PropertiesDynamicMethodHelper.java:105)\r\n\r\n   ... 54 more\r\n\r\n Caused by: com.cedarsoftware.util.io.JsonIoException: JsonIoException setting field &#39;status&#39; on target: OK null with value: {name=null}\r\n\r\n   at com.cedarsoftware.util.io.ObjectResolver.assignField(ObjectResolver.java:229)\r\n\r\n   at com.cedarsoftware.util.io.ObjectResolver.traverseFields(ObjectResolver.java:85)\r\n\r\n   at com.cedarsoftware.util.io.Resolver.convertMapsToObjects(Resolver.java:184)\r\n\r\n   at com.cedarsoftware.util.io.JsonReader.convertParsedMapsToJava(JsonReader.java:747)\r\n\r\n   at com.cedarsoftware.util.io.JsonReader.readObject(JsonReader.java:694)\r\n\r\n   at com.cedarsoftware.util.io.JsonReader.jsonToJava(JsonReader.java:426)\r\n\r\n   at org.talend.daikon.serialize.SerializerDeserializer.fromSerialized(SerializerDeserializer.java:171)\r\n\r\n   at org.talend.daikon.serialize.SerializerDeserializer.fromSerialized(SerializerDeserializer.java:135)\r\n\r\n   at org.talend.daikon.properties.Properties$Helper.fromSerializedPersistent(Properties.java:277)\r\n\r\n   at org.talend.designer.core.generic.utils.ComponentsUtils.getComponentPropertiesFromSerialized(ComponentsUtils.java:860)\r\n\r\n   at org.talend.designer.core.generic.utils.ComponentsUtils.getComponentPropertiesFromSerialized(ComponentsUtils.java:854)\r\n\r\n   at org.talend.repository.generic.util.GenericConnectionUtil.synNamePropertyWithItem(GenericConnectionUtil.java:54)\r\n\r\n   at org.talend.repository.generic.handler.GenericRepositoryContentHandler.save(GenericRepositoryContentHandler.java:107)\r\n\r\n   at org.talend.repository.localprovider.model.LocalRepositoryFactory.save(LocalRepositoryFactory.java:2671)\r\n\r\n   at org.talend.repository.localprovider.model.LocalRepositoryFactory.save(LocalRepositoryFactory.java:2527)\r\n\r\n   at org.talend.core.repository.model.ProxyRepositoryFactory.save(ProxyRepositoryFactory.java:1649)\r\n\r\n   at org.talend.core.repository.model.ProxyRepositoryFactory.save(ProxyRepositoryFactory.java:1643)\r\n\r\n   at org.talend.repository.generic.persistence.GenericRepository.storeProperties(GenericRepository.java:91)\r\n\r\n   at org.talend.repository.generic.persistence.GenericRepository.storeProperties(GenericRepository.java:1)\r\n\r\n   at org.talend.components.snowflake.SnowflakeTableListProperties.afterFormFinishMain(SnowflakeTableListProperties.java:93)\r\n\r\n   at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\r\n   ... 56 more\r\n\r\n Caused by: com.cedarsoftware.util.io.JsonIoException: Class listed in @type [org.talend.daikon.properties.ValidationResult$Result] is not found\r\n\r\n   at com.cedarsoftware.util.io.ObjectResolver.readIfMatching(ObjectResolver.java:629)\r\n\r\n   at com.cedarsoftware.util.io.ObjectResolver.assignField(ObjectResolver.java:151)\r\n\r\n   ... 76 more\r\n\r\n Caused by: java.lang.NullPointerException: Name is null\r\n\r\n   at java.base/java.lang.Enum.valueOf(Enum.java:272)\r\n\r\n   at com.cedarsoftware.util.io.Resolver.getEnum(Resolver.java:515)\r\n\r\n   at com.cedarsoftware.util.io.Resolver.createJavaObjectInstance(Resolver.java:380)\r\n\r\n   at com.cedarsoftware.util.io.ObjectResolver.readIfMatching(ObjectResolver.java:625)\r\n\r\n   ... 77 more\r\n\r\n\r\n\r\n\r\n\r\nI tried with JDK 19/JDK 1.8/JDK 11 still I get the above error, please help\r\n\r\n\r\n\r\n\r\n\r\n","title":"Cannot Save Snowflake Connection","body":"<p>I am trying to connect to Snowflake and insert/Retrieve data from it for the connection purpose I use SnowFlake in MetaData section I have given all the details correctly and the connection is successful , when I go to the next step I get list of tables when I click on Finish it shows Save Failed! error with below details</p>\n<p>When I try with Snowflake Input component the connection gets successful but when I run Nothing happens</p>\n<p>I use Talend 8.0.1</p>\n<pre><code>     Snowflake JDBC Version 3.13\n</code></pre>\n<p>Save failed!</p>\n<p>org.eclipse.core.runtime.CoreException: Error when saving the connection</p>\n<p>at org.talend.repository.generic.ui.GenericConnWizard$1.run(GenericConnWizard.java:311)</p>\n<p>at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2313)</p>\n<p>at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2338)</p>\n<p>at org.talend.repository.generic.ui.GenericConnWizard.createOrUpdateConnectionItem(GenericConnWizard.java:319)</p>\n<p>at org.talend.repository.generic.ui.GenericConnWizard.performFinish(GenericConnWizard.java:259)</p>\n<p>at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:832)</p>\n<p>at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:472)</p>\n<p>at org.eclipse.jface.dialogs.Dialog.lambda$0(Dialog.java:619)</p>\n<p>at org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)</p>\n<p>at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)</p>\n<p>at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)</p>\n<p>at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4209)</p>\n<p>at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1043)</p>\n<p>at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4026)</p>\n<p>at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3626)</p>\n<p>at org.eclipse.jface.window.Window.runEventLoop(Window.java:823)</p>\n<p>at org.eclipse.jface.window.Window.open(Window.java:799)</p>\n<p>at org.talend.repository.generic.action.GenericAction.doRun(GenericAction.java:71)</p>\n<p>at org.talend.repository.ui.actions.AContextualAction$2.run(AContextualAction.java:678)</p>\n<p>at org.talend.repository.RepositoryWorkUnit.executeRun(RepositoryWorkUnit.java:103)</p>\n<p>at org.talend.core.repository.model.AbstractRepositoryFactory.executeRepositoryWorkUnit(AbstractRepositoryFactory.java:259)</p>\n<p>at org.talend.repository.localprovider.model.LocalRepositoryFactory.executeRepositoryWorkUnit(LocalRepositoryFactory.java:3767)</p>\n<p>at org.talend.core.repository.model.ProxyRepositoryFactory.executeRepositoryWorkUnit(ProxyRepositoryFactory.java:2679)</p>\n<p>at org.talend.repository.ui.actions.AContextualAction.run(AContextualAction.java:688)</p>\n<p>at org.eclipse.jface.action.Action.runWithEvent(Action.java:474)</p>\n<p>at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)</p>\n<p>at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)</p>\n<p>at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)</p>\n<p>at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4209)</p>\n<p>at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1043)</p>\n<p>at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4026)</p>\n<p>at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3626)</p>\n<p>at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1157)</p>\n<p>at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)</p>\n<p>at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)</p>\n<p>at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)</p>\n<p>at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)</p>\n<p>at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)</p>\n<p>at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)</p>\n<p>at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)</p>\n<p>at org.talend.rcp.intro.Application.start(Application.java:303)</p>\n<p>at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)</p>\n<p>at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)</p>\n<p>at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)</p>\n<p>at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)</p>\n<p>at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)</p>\n<p>at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)</p>\n<p>at java.base/java.lang.reflect.Method.invoke(Method.java:578)</p>\n<p>at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)</p>\n<p>at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)</p>\n<p>at org.eclipse.equinox.launcher.Main.run(Main.java:1462)</p>\n<p>Caused by: org.talend.daikon.exception.TalendRuntimeException: FAILED_INVOKE_METHOD:{class=org.talend.components.snowflake.SnowflakeTableListProperties, method=afterFormFinishMain}</p>\n<p>at org.talend.daikon.properties.PropertiesDynamicMethodHelper.doInvoke(PropertiesDynamicMethodHelper.java:109)</p>\n<p>at org.talend.daikon.properties.PropertiesDynamicMethodHelper.afterFormFinish(PropertiesDynamicMethodHelper.java:323)</p>\n<p>at org.talend.daikon.properties.service.PropertiesServiceImpl.afterFormFinish(PropertiesServiceImpl.java:135)</p>\n<p>at org.talend.components.api.service.internal.osgi.ComponentServiceOsgi.afterFormFinish(ComponentServiceOsgi.java:177)</p>\n<p>at org.talend.repository.generic.ui.GenericConnWizard$1.run(GenericConnWizard.java:307)</p>\n<p>... 50 more</p>\n<p>Caused by: java.lang.reflect.InvocationTargetException</p>\n<p>at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)</p>\n<p>at java.base/java.lang.reflect.Method.invoke(Method.java:578)</p>\n<p>at org.talend.daikon.properties.PropertiesDynamicMethodHelper.doInvoke(PropertiesDynamicMethodHelper.java:105)</p>\n<p>... 54 more</p>\n<p>Caused by: com.cedarsoftware.util.io.JsonIoException: JsonIoException setting field 'status' on target: OK null with value: {name=null}</p>\n<p>at com.cedarsoftware.util.io.ObjectResolver.assignField(ObjectResolver.java:229)</p>\n<p>at com.cedarsoftware.util.io.ObjectResolver.traverseFields(ObjectResolver.java:85)</p>\n<p>at com.cedarsoftware.util.io.Resolver.convertMapsToObjects(Resolver.java:184)</p>\n<p>at com.cedarsoftware.util.io.JsonReader.convertParsedMapsToJava(JsonReader.java:747)</p>\n<p>at com.cedarsoftware.util.io.JsonReader.readObject(JsonReader.java:694)</p>\n<p>at com.cedarsoftware.util.io.JsonReader.jsonToJava(JsonReader.java:426)</p>\n<p>at org.talend.daikon.serialize.SerializerDeserializer.fromSerialized(SerializerDeserializer.java:171)</p>\n<p>at org.talend.daikon.serialize.SerializerDeserializer.fromSerialized(SerializerDeserializer.java:135)</p>\n<p>at org.talend.daikon.properties.Properties$Helper.fromSerializedPersistent(Properties.java:277)</p>\n<p>at org.talend.designer.core.generic.utils.ComponentsUtils.getComponentPropertiesFromSerialized(ComponentsUtils.java:860)</p>\n<p>at org.talend.designer.core.generic.utils.ComponentsUtils.getComponentPropertiesFromSerialized(ComponentsUtils.java:854)</p>\n<p>at org.talend.repository.generic.util.GenericConnectionUtil.synNamePropertyWithItem(GenericConnectionUtil.java:54)</p>\n<p>at org.talend.repository.generic.handler.GenericRepositoryContentHandler.save(GenericRepositoryContentHandler.java:107)</p>\n<p>at org.talend.repository.localprovider.model.LocalRepositoryFactory.save(LocalRepositoryFactory.java:2671)</p>\n<p>at org.talend.repository.localprovider.model.LocalRepositoryFactory.save(LocalRepositoryFactory.java:2527)</p>\n<p>at org.talend.core.repository.model.ProxyRepositoryFactory.save(ProxyRepositoryFactory.java:1649)</p>\n<p>at org.talend.core.repository.model.ProxyRepositoryFactory.save(ProxyRepositoryFactory.java:1643)</p>\n<p>at org.talend.repository.generic.persistence.GenericRepository.storeProperties(GenericRepository.java:91)</p>\n<p>at org.talend.repository.generic.persistence.GenericRepository.storeProperties(GenericRepository.java:1)</p>\n<p>at org.talend.components.snowflake.SnowflakeTableListProperties.afterFormFinishMain(SnowflakeTableListProperties.java:93)</p>\n<p>at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)</p>\n<p>... 56 more</p>\n<p>Caused by: com.cedarsoftware.util.io.JsonIoException: Class listed in @type [org.talend.daikon.properties.ValidationResult$Result] is not found</p>\n<p>at com.cedarsoftware.util.io.ObjectResolver.readIfMatching(ObjectResolver.java:629)</p>\n<p>at com.cedarsoftware.util.io.ObjectResolver.assignField(ObjectResolver.java:151)</p>\n<p>... 76 more</p>\n<p>Caused by: java.lang.NullPointerException: Name is null</p>\n<p>at java.base/java.lang.Enum.valueOf(Enum.java:272)</p>\n<p>at com.cedarsoftware.util.io.Resolver.getEnum(Resolver.java:515)</p>\n<p>at com.cedarsoftware.util.io.Resolver.createJavaObjectInstance(Resolver.java:380)</p>\n<p>at com.cedarsoftware.util.io.ObjectResolver.readIfMatching(ObjectResolver.java:625)</p>\n<p>... 77 more</p>\n<p>I tried with JDK 19/JDK 1.8/JDK 11 still I get the above error, please help</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1680767398,"post_id":75946893,"comment_id":133954708,"body_markdown":"it should be something like `&amp;sort=field,(ASC|DESC)`. have you tried this: `&amp;sort=name,DESC` for descending order or `&amp;sort=name,ASC` for ascending order ?","body":"it should be something like <code>&amp;sort=field,(ASC|DESC)</code>. have you tried this: <code>&amp;sort=name,DESC</code> for descending order or <code>&amp;sort=name,ASC</code> for ascending order ?"}],"answers":[{"tags":[],"owner":{"account_id":2571786,"reputation":1434,"user_id":2230325,"display_name":"rMonteiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680771551,"creation_date":1680771551,"answer_id":75947649,"question_id":75946893,"body_markdown":"You can do it adding the sort direction (`,asc`, or `,desc`) in the `sort` parameter of the API request. For example, if you want to sort by the name field in descending order, you can make the following request:\r\n```\r\nhttp://localhost:8080/api/opportunities?page=0&amp;size=10&amp;sort=name,desc\r\n```\r\nSpring Boot will automatically handle this.","title":"Sort records using Pageable with given order","body":"<p>You can do it adding the sort direction (<code>,asc</code>, or <code>,desc</code>) in the <code>sort</code> parameter of the API request. For example, if you want to sort by the name field in descending order, you can make the following request:</p>\n<pre><code>http://localhost:8080/api/opportunities?page=0&amp;size=10&amp;sort=name,desc\n</code></pre>\n<p>Spring Boot will automatically handle this.</p>\n"},{"tags":[],"owner":{"account_id":28219875,"reputation":101,"user_id":21570778,"display_name":"Mayuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680772353,"creation_date":1680772353,"answer_id":75947782,"question_id":75946893,"body_markdown":"You can change your url like this\r\n\r\n    http://localhost:8080/api/opportunities?page=0&amp;size=10&amp;sortField=name&amp;order=asc\r\n\r\n \r\n\r\nThen through @RequestParam you can take order value from url then send that order value to findAll method and change your code like this\r\n\r\n         @Override\r\n          public Page&lt;Opportunity&gt; findAll(String .., String .., String ..,\r\n              Boolean .., boolean .., Pageable pageable) {\r\n        \r\n            OpportunityFilters opportunityFilters = new OpportunityFilters();\r\n            ... // set filters\r\n            OpportunitySpecification opportunitySpecification =\r\n                new OpportunitySpecification(opportunityFilters);\r\n     Sort sort = order.equalsIgnoreCase(Sort.Direction.ASC.name()) ? \r\n     Sort.by(sortField).ascending(): Sort.by(sortField).descending();\r\n            Pageable pageable = PageRequest.of(pageNo, pageSize, sort);\r\n            Page&lt;Opportunity&gt; page = opportunityRepository.findAll(opportunitySpecification,\r\n                pageable);\r\n            ...\r\n        } \r\n\r\n I don&#39;t know where you are creating pageable object but while creating pagable object you have to use sort object to perform sorting with pagination.\r\n\r\n","title":"Sort records using Pageable with given order","body":"<p>You can change your url like this</p>\n<pre><code>http://localhost:8080/api/opportunities?page=0&amp;size=10&amp;sortField=name&amp;order=asc\n</code></pre>\n<p>Then through @RequestParam you can take order value from url then send that order value to findAll method and change your code like this</p>\n<pre><code>     @Override\n      public Page&lt;Opportunity&gt; findAll(String .., String .., String ..,\n          Boolean .., boolean .., Pageable pageable) {\n    \n        OpportunityFilters opportunityFilters = new OpportunityFilters();\n        ... // set filters\n        OpportunitySpecification opportunitySpecification =\n            new OpportunitySpecification(opportunityFilters);\n Sort sort = order.equalsIgnoreCase(Sort.Direction.ASC.name()) ? \n Sort.by(sortField).ascending(): Sort.by(sortField).descending();\n        Pageable pageable = PageRequest.of(pageNo, pageSize, sort);\n        Page&lt;Opportunity&gt; page = opportunityRepository.findAll(opportunitySpecification,\n            pageable);\n        ...\n    } \n</code></pre>\n<p>I don't know where you are creating pageable object but while creating pagable object you have to use sort object to perform sorting with pagination.</p>\n"},{"tags":[],"owner":{"account_id":28199192,"reputation":1,"user_id":21569721,"display_name":"Bala Maddilety"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680782281,"creation_date":1680782281,"answer_id":75949262,"question_id":75946893,"body_markdown":"check it once\r\n``` java\r\nPageable pageDesc = PageRequest.of(pageNo, pageSize,Sort.by(&quot;fieldYouRequired&quot;).descending());\r\nPageable pageAsc = PageRequest.of(pageNo, pageSize, Sort.by(&quot;fieldYouRequired&quot;).ascending());\r\nPage&lt;Opportunity&gt; page =opportunityRepository.findAll(opportunitySpecification,pageDesc/pageAsc);\r\n```","title":"Sort records using Pageable with given order","body":"<p>check it once</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pageable pageDesc = PageRequest.of(pageNo, pageSize,Sort.by(&quot;fieldYouRequired&quot;).descending());\nPageable pageAsc = PageRequest.of(pageNo, pageSize, Sort.by(&quot;fieldYouRequired&quot;).ascending());\nPage&lt;Opportunity&gt; page =opportunityRepository.findAll(opportunitySpecification,pageDesc/pageAsc);\n</code></pre>\n"}],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680782281,"creation_date":1680766134,"question_id":75946893,"body_markdown":"I am working on a spring boot project and have the get API to display the records from the database with certain filters along with pagination to achieve that I am using the JPA with JPA Specifications. API is working fine with given filter options and paginations params. Now I want to sort them based on the field with a decs|asc order dynamically. \r\n\r\n**API**\r\n\r\n    @GetMapping(&quot;/opportunities&quot;)\r\n      public ResponseEntity&lt;List&lt;Opportunities&gt;&gt; findAll(Pageable pageable,\r\n          @RequestParam(required = false) String ..,\r\n          @RequestParam(required = false) String ..,\r\n          @RequestParam(required = false) String ..,\r\n          @RequestParam(required = false) Boolean ..,\r\n          @RequestParam(required = false, defaultValue = &quot;true&quot;) boolean ..) {\r\n        opportunityService.findAll(..., pageable);\r\n      }\r\n\r\n**Method**\r\n\r\n      @Override\r\n      public Page&lt;Opportunity&gt; findAll(String .., String .., String ..,\r\n          Boolean .., boolean .., Pageable pageable) {\r\n    \r\n        OpportunityFilters opportunityFilters = new OpportunityFilters();\r\n        ... // set filters\r\n        OpportunitySpecification opportunitySpecification =\r\n            new OpportunitySpecification(opportunityFilters);\r\n        Page&lt;Opportunity&gt; page = opportunityRepository.findAll(opportunitySpecification,\r\n            pageable);\r\n        ...\r\n    }  \r\n\r\n \r\n\r\n**OpportunityRepository.java**\r\n\r\n    @Repository\r\n    public interface OpportunityRepository extends JpaRepository&lt;Opportunity, String&gt;,\r\n        JpaSpecificationExecutor&lt;Opportunity&gt; {\r\n    }\r\n\r\nWhen I hit the API with the sort param and set the field name it sort the records properly but I want to set the sort order dynamically in the request. How can I set the sort order here? \r\n\r\nhttp://localhost:8080/api/opportunities?page=0&amp;size=10&amp;sort=name","title":"Sort records using Pageable with given order","body":"<p>I am working on a spring boot project and have the get API to display the records from the database with certain filters along with pagination to achieve that I am using the JPA with JPA Specifications. API is working fine with given filter options and paginations params. Now I want to sort them based on the field with a decs|asc order dynamically.</p>\n<p><strong>API</strong></p>\n<pre><code>@GetMapping(&quot;/opportunities&quot;)\n  public ResponseEntity&lt;List&lt;Opportunities&gt;&gt; findAll(Pageable pageable,\n      @RequestParam(required = false) String ..,\n      @RequestParam(required = false) String ..,\n      @RequestParam(required = false) String ..,\n      @RequestParam(required = false) Boolean ..,\n      @RequestParam(required = false, defaultValue = &quot;true&quot;) boolean ..) {\n    opportunityService.findAll(..., pageable);\n  }\n</code></pre>\n<p><strong>Method</strong></p>\n<pre><code>  @Override\n  public Page&lt;Opportunity&gt; findAll(String .., String .., String ..,\n      Boolean .., boolean .., Pageable pageable) {\n\n    OpportunityFilters opportunityFilters = new OpportunityFilters();\n    ... // set filters\n    OpportunitySpecification opportunitySpecification =\n        new OpportunitySpecification(opportunityFilters);\n    Page&lt;Opportunity&gt; page = opportunityRepository.findAll(opportunitySpecification,\n        pageable);\n    ...\n}  \n</code></pre>\n<p><strong>OpportunityRepository.java</strong></p>\n<pre><code>@Repository\npublic interface OpportunityRepository extends JpaRepository&lt;Opportunity, String&gt;,\n    JpaSpecificationExecutor&lt;Opportunity&gt; {\n}\n</code></pre>\n<p>When I hit the API with the sort param and set the field name it sort the records properly but I want to set the sort order dynamically in the request. How can I set the sort order here?</p>\n<p>http://localhost:8080/api/opportunities?page=0&amp;size=10&amp;sort=name</p>\n"},{"tags":["java","dictionary","data-structures","collections"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1680774396,"post_id":75948064,"comment_id":133956259,"body_markdown":"&quot;This suggests that iterating over a Map is read-only.&quot;? How so? Also, it&#39;s not that operations on the `Map` are undefined, the only thing that&#39;s undefined is how the `Map.Entry` acts *after* such a modification (which is just an extension of `Iterator` having undefined behaviour when the underlying collection is modified during its lifetime). So just like you shouldn&#39;t hold on to an `Iterator` for a long time, you also shouldn&#39;t hold on to a `Map.Entry` for basically the same reasons.","body":"&quot;This suggests that iterating over a Map is read-only.&quot;? How so? Also, it&#39;s not that operations on the <code>Map</code> are undefined, the only thing that&#39;s undefined is how the <code>Map.Entry</code> acts <i>after</i> such a modification (which is just an extension of <code>Iterator</code> having undefined behaviour when the underlying collection is modified during its lifetime). So just like you shouldn&#39;t hold on to an <code>Iterator</code> for a long time, you also shouldn&#39;t hold on to a <code>Map.Entry</code> for basically the same reasons."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1680774444,"post_id":75948064,"comment_id":133956269,"body_markdown":"&quot;*This suggests that iterating over a Map is read-only*&quot; You can&#39;t iterate over a map. You can iterate over an entry set of a map. And it doesn&#39;t suggest that. You can modify the map while iterating the entry set, e.g. by calling `Map.Entry.setValue()`","body":"&quot;<i>This suggests that iterating over a Map is read-only</i>&quot; You can&#39;t iterate over a map. You can iterate over an entry set of a map. And it doesn&#39;t suggest that. You can modify the map while iterating the entry set, e.g. by calling <code>Map.Entry.setValue()</code>"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1680774938,"post_id":75948064,"comment_id":133956372,"body_markdown":"&quot;Why&quot; is not a useful question to ask, especially about something that is undefined. Having the behaviour defined would make implementers responsible for implementing that defined behaviour, and no one likes more work they have to do :)","body":"&quot;Why&quot; is not a useful question to ask, especially about something that is undefined. Having the behaviour defined would make implementers responsible for implementing that defined behaviour, and no one likes more work they have to do :)"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1680775072,"post_id":75948064,"comment_id":133956399,"body_markdown":"If &quot;no one likes more work they have to do&quot; isn&#39;t a satisfying answer to your question, please edit it to make it clear *what kind of* answer you are looking for here.","body":"If &quot;no one likes more work they have to do&quot; isn&#39;t a satisfying answer to your question, please edit it to make it clear <i>what kind of</i> answer you are looking for here."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1680775413,"post_id":75948064,"comment_id":133956475,"body_markdown":"&quot;how does one bulk-update entries in a Map?&quot; Just *don&#39;t* modify the map while you are iterating over it? I&#39;m not sure how iterating over the map is related to updating the entries. There is `putAll` and `replaceAll`, which are bulk operations.","body":"&quot;how does one bulk-update entries in a Map?&quot; Just <i>don&#39;t</i> modify the map while you are iterating over it? I&#39;m not sure how iterating over the map is related to updating the entries. There is <code>putAll</code> and <code>replaceAll</code>, which are bulk operations."},{"owner":{"account_id":5345843,"reputation":437,"user_id":4261434,"accept_rate":77,"display_name":"Mr Chasi"},"score":0,"creation_date":1680775424,"post_id":75948064,"comment_id":133956478,"body_markdown":"I see. So this would be undefined? `for (Map.Entry&lt;String, String&gt; m: entries) {m.put(&quot;foo&quot;, &quot;foo&quot;);}`\n\nWhereas this wouldn&#39;t? `for (...) {myMap.put(&quot;foo&quot;, &quot;foo&quot;);}` - assuming that `myMap` is a HashMap defined earlier. @JoachimSauer","body":"I see. So this would be undefined? <code>for (Map.Entry&lt;String, String&gt; m: entries) {m.put(&quot;foo&quot;, &quot;foo&quot;);}</code>  Whereas this wouldn&#39;t? <code>for (...) {myMap.put(&quot;foo&quot;, &quot;foo&quot;);}</code> - assuming that <code>myMap</code> is a HashMap defined earlier. @JoachimSauer"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680775545,"post_id":75948064,"comment_id":133956506,"body_markdown":"does `Entry` has a `put()` methods? (first one should be a compile error) (second one is the undefined one [assuming a loop *over* `myMap`])","body":"does <code>Entry</code> has a <code>put()</code> methods? (first one should be a compile error) (second one is the undefined one [assuming a loop <i>over</i> <code>myMap</code>])"},{"owner":{"account_id":5345843,"reputation":437,"user_id":4261434,"accept_rate":77,"display_name":"Mr Chasi"},"score":0,"creation_date":1680775716,"post_id":75948064,"comment_id":133956562,"body_markdown":"I admit, I am confused @user16320675","body":"I admit, I am confused @user16320675"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680775725,"post_id":75948064,"comment_id":133956564,"body_markdown":"if you are looping a map and changing it (the map) - that *can* be undefined (if not using the iterator that is being used for looping)","body":"if you are looping a map and changing it (the map) - that <i>can</i> be undefined (if not using the iterator that is being used for looping)"}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1680779445,"post_id":75948778,"comment_id":133957399,"body_markdown":"Maybe renaming the variable holding the `Map.Entry` to `e`, `me` or `entry` would make the examples a bit clearer, as `m` can imply something that&#39;s not true here.","body":"Maybe renaming the variable holding the <code>Map.Entry</code> to <code>e</code>, <code>me</code> or <code>entry</code> would make the examples a bit clearer, as <code>m</code> can imply something that&#39;s not true here."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680781568,"creation_date":1680779024,"answer_id":75948778,"question_id":75948064,"body_markdown":"The code\r\n\r\n    Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));\r\n    for (Map.Entry&lt;String, String&gt; entry: myMap.entrySet()) {\r\n        entry.put(&quot;foo&quot;, &quot;foo&quot;);\r\n    }\r\n\r\ndoesn&#39;t compile because `entry` is a `Map.Entry` and `Map.Entry` doesn&#39;t have a `put()` method.\r\n\r\n----\r\nThe fragment\r\n\r\n    Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));\r\n    for (Map.Entry&lt;String, String&gt; curEntry: myMap.entrySet()) {\r\n        myMap.put(&quot;foo&quot;, &quot;foo&quot;);\r\n        // the behavior of curEntry is undefined after the preceding line\r\n    }\r\n\r\nis the case the `Map.Entry` documentation mentions: `myMap` is modified while iterating over it. That means that according to the documentation the behavior of `curEntry` is undefined after the modifying line.\r\n\r\nPlease note that modifying the map while iterating over it **also** leads to [unspecified behavior for the iterator](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--):\r\n\r\n&gt; If the map is modified while an iteration over the set is in progress (except through the iterator&#39;s own `remove` operation, or through the `setValue` operation on a map entry returned by the iterator) the results of the iteration are undefined.\r\n\r\n----\r\n\r\nThe fragment\r\n\r\n    Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));\r\n    Map&lt;String, String&gt; otherMap = new HashMap&lt;&gt;(Map.of(&quot;c&quot;, &quot;d&quot;));\r\n    for (Map.Entry&lt;String, String&gt; entry: myMap.entrySet()) {\r\n        otherMap.put(&quot;foo&quot;, &quot;foo&quot;);\r\n    }\r\n\r\nis OK because this code modifies `otherMap` while iterating over `myMap`. Since these are two different `Map`s this is allowed.\r\n\r\n------\r\nBulk-Updating a `Map` while iterating over it:\r\n\r\n    Map&lt;String, Integer&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, 1));\r\n    for (Map.Entry&lt;String, Integer&gt; entry: myMap.entrySet()) {\r\n        entry.setValue(m.getValue() + 1);\r\n    }\r\n\r\nis OK, because this code uses the supported `Map.Entry.setValue()` method to update the value of an entry.","title":"Iterating a Map - why are operations undefined?","body":"<p>The code</p>\n<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));\nfor (Map.Entry&lt;String, String&gt; entry: myMap.entrySet()) {\n    entry.put(&quot;foo&quot;, &quot;foo&quot;);\n}\n</code></pre>\n<p>doesn't compile because <code>entry</code> is a <code>Map.Entry</code> and <code>Map.Entry</code> doesn't have a <code>put()</code> method.</p>\n<hr />\n<p>The fragment</p>\n<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));\nfor (Map.Entry&lt;String, String&gt; curEntry: myMap.entrySet()) {\n    myMap.put(&quot;foo&quot;, &quot;foo&quot;);\n    // the behavior of curEntry is undefined after the preceding line\n}\n</code></pre>\n<p>is the case the <code>Map.Entry</code> documentation mentions: <code>myMap</code> is modified while iterating over it. That means that according to the documentation the behavior of <code>curEntry</code> is undefined after the modifying line.</p>\n<p>Please note that modifying the map while iterating over it <strong>also</strong> leads to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--\" rel=\"nofollow noreferrer\">unspecified behavior for the iterator</a>:</p>\n<blockquote>\n<p>If the map is modified while an iteration over the set is in progress (except through the iterator's own <code>remove</code> operation, or through the <code>setValue</code> operation on a map entry returned by the iterator) the results of the iteration are undefined.</p>\n</blockquote>\n<hr />\n<p>The fragment</p>\n<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));\nMap&lt;String, String&gt; otherMap = new HashMap&lt;&gt;(Map.of(&quot;c&quot;, &quot;d&quot;));\nfor (Map.Entry&lt;String, String&gt; entry: myMap.entrySet()) {\n    otherMap.put(&quot;foo&quot;, &quot;foo&quot;);\n}\n</code></pre>\n<p>is OK because this code modifies <code>otherMap</code> while iterating over <code>myMap</code>. Since these are two different <code>Map</code>s this is allowed.</p>\n<hr />\n<p>Bulk-Updating a <code>Map</code> while iterating over it:</p>\n<pre><code>Map&lt;String, Integer&gt; myMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, 1));\nfor (Map.Entry&lt;String, Integer&gt; entry: myMap.entrySet()) {\n    entry.setValue(m.getValue() + 1);\n}\n</code></pre>\n<p>is OK, because this code uses the supported <code>Map.Entry.setValue()</code> method to update the value of an entry.</p>\n"}],"owner":{"account_id":5345843,"reputation":437,"user_id":4261434,"accept_rate":77,"display_name":"Mr Chasi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75948778,"answer_count":1,"score":0,"last_activity_date":1680781568,"creation_date":1680774206,"question_id":75948064,"body_markdown":"Regarding `Map.Entry`, the Java [documentation][1] states:\r\n\r\n&gt; A map entry (key-value pair). The `Map.entrySet` method returns a\r\n&gt; collection-view of the map, whose elements are of this class. The only\r\n&gt; way to obtain a reference to a map entry is from the iterator of this\r\n&gt; collection-view. These `Map.Entry` objects are valid only for the\r\n&gt; duration of the iteration; more formally, the behavior of a map entry\r\n&gt; is undefined if the backing map has been modified after the entry was\r\n&gt; returned by the iterator, except through the `setValue` operation on the\r\n&gt; map entry.\r\n\r\nThis suggests that iterating over a Map is read-only. If operations on Map objects (such as `put()` etc.) are undefined, how does one bulk-update entries in a Map?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html","title":"Iterating a Map - why are operations undefined?","body":"<p>Regarding <code>Map.Entry</code>, the Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n<blockquote>\n<p>A map entry (key-value pair). The <code>Map.entrySet</code> method returns a\ncollection-view of the map, whose elements are of this class. The only\nway to obtain a reference to a map entry is from the iterator of this\ncollection-view. These <code>Map.Entry</code> objects are valid only for the\nduration of the iteration; more formally, the behavior of a map entry\nis undefined if the backing map has been modified after the entry was\nreturned by the iterator, except through the <code>setValue</code> operation on the\nmap entry.</p>\n</blockquote>\n<p>This suggests that iterating over a Map is read-only. If operations on Map objects (such as <code>put()</code> etc.) are undefined, how does one bulk-update entries in a Map?</p>\n"},{"tags":["java","sql-server","hibernate","jpa","composite-id"],"comments":[{"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"score":0,"creation_date":1504524176,"post_id":46035660,"comment_id":79031918,"body_markdown":"could Yoy format code according to SO rules?","body":"could Yoy format code according to SO rules?"}],"answers":[{"tags":[],"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504527654,"creation_date":1504527654,"answer_id":46036940,"question_id":46035660,"body_markdown":"You have to set the identity_insert to ON to make it work.\r\n\r\nCheck this post - [How to set IDENTITY_INSERT][1] \r\n\r\nSo run below command:\r\n\r\n    SET IDENTITY_INSERT BOOK_EMBEDDED ON\r\n\r\n  [1]: https://stackoverflow.com/a/1334032/2065083","title":"Hibernate insert failing when embedded key contains identity column on SQL Server","body":"<p>You have to set the identity_insert to ON to make it work.</p>\n\n<p>Check this post - <a href=\"https://stackoverflow.com/a/1334032/2065083\">How to set IDENTITY_INSERT</a> </p>\n\n<p>So run below command:</p>\n\n<pre><code>SET IDENTITY_INSERT BOOK_EMBEDDED ON\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1543928574,"post_id":46037186,"comment_id":94087874,"body_markdown":"Interesting, but actually hibernate forum (https://forum.hibernate.org/viewtopic.php?f=1&amp;t=1006818) suggest that can&#39;t be done. Does it work with venilla hibernate, I have tried with only hibernate (no JPA)  but could not able to achieve.. if you want, I can post error","body":"Interesting, but actually hibernate forum (<a href=\"https://forum.hibernate.org/viewtopic.php?f=1&amp;t=1006818\" rel=\"nofollow noreferrer\">forum.hibernate.org/viewtopic.php?f=1&amp;t=1006818</a>) suggest that can&#39;t be done. Does it work with venilla hibernate, I have tried with only hibernate (no JPA)  but could not able to achieve.. if you want, I can post error"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1543929812,"post_id":46037186,"comment_id":94088582,"body_markdown":"That forum answer is from 2010, mine is from 2017 and has a test case that works just fine which you can find on GitHub. Just fork my High-Performance Java Persistence book repository and run the test.","body":"That forum answer is from 2010, mine is from 2017 and has a test case that works just fine which you can find on GitHub. Just fork my High-Performance Java Persistence book repository and run the test."},{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1543930086,"post_id":46037186,"comment_id":94088739,"body_markdown":"yes. sure, I did look into it. I will try with it and update you. Again, can I expect it work with **vanilla(no jpa)** hibernate?","body":"yes. sure, I did look into it. I will try with it and update you. Again, can I expect it work with <b>vanilla(no jpa)</b> hibernate?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1543930180,"post_id":46037186,"comment_id":94088789,"body_markdown":"You can make all tests in that repository run in Hibernate mode as well. Take a look on the AbstractTest and check the native bootstrap.","body":"You can make all tests in that repository run in Hibernate mode as well. Take a look on the AbstractTest and check the native bootstrap."},{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1543930238,"post_id":46037186,"comment_id":94088814,"body_markdown":"Sure @Vlad Mihalcea, Thanks .. I will try to workout today.","body":"Sure @Vlad Mihalcea, Thanks .. I will try to workout today."},{"owner":{"account_id":3009188,"reputation":283,"user_id":2553050,"display_name":"MarcelK"},"score":0,"creation_date":1558451853,"post_id":46037186,"comment_id":99101723,"body_markdown":"This workaround doesn&#39;t seem to work properly, at least not with Hibernate 5.2.10.Final. I&#39;m getting errors like: &quot;Parameter index out of range (29 &gt; number of parameters, which is 28)&quot;. Hibernate clearly adds the id to the query parameters, which is visible in debug mode. Insertable = false on the id column in the embeddable doesn&#39;t change a thing.","body":"This workaround doesn&#39;t seem to work properly, at least not with Hibernate 5.2.10.Final. I&#39;m getting errors like: &quot;Parameter index out of range (29 &gt; number of parameters, which is 28)&quot;. Hibernate clearly adds the id to the query parameters, which is visible in debug mode. Insertable = false on the id column in the embeddable doesn&#39;t change a thing."},{"owner":{"account_id":3009188,"reputation":283,"user_id":2553050,"display_name":"MarcelK"},"score":0,"creation_date":1558453764,"post_id":46037186,"comment_id":99102804,"body_markdown":"OK, I see what you did there - you&#39;ve added a dummy column called &quot;version&quot; which will always be null. Not very clean, but it works I guess. Calling a procedure that would ignore the extra argument could be a cleaner solution.","body":"OK, I see what you did there - you&#39;ve added a dummy column called &quot;version&quot; which will always be null. Not very clean, but it works I guess. Calling a procedure that would ignore the extra argument could be a cleaner solution."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1558456385,"post_id":46037186,"comment_id":99104205,"body_markdown":"That&#39;s not a dummy column. That&#39;s the optimistic locking version column.","body":"That&#39;s not a dummy column. That&#39;s the optimistic locking version column."},{"owner":{"account_id":3009188,"reputation":283,"user_id":2553050,"display_name":"MarcelK"},"score":0,"creation_date":1558528889,"post_id":46037186,"comment_id":99130566,"body_markdown":"If someone is not using optimistic locking, he will need a dummy column (or perhaps a procedure call will work). The fact that you&#39;ve annotated it as a @Version column in your example doesn&#39;t change that. Also, it seems this workaround doesn&#39;t work combined with a persist cascade - Hibernate puts null/zero to the FK column instead of the identity generated identifier of the parent entity (maybe it needs another workaround, which would be very Hibernatesque :)). Anyway I&#39;d advise proceeding with caution.","body":"If someone is not using optimistic locking, he will need a dummy column (or perhaps a procedure call will work). The fact that you&#39;ve annotated it as a @Version column in your example doesn&#39;t change that. Also, it seems this workaround doesn&#39;t work combined with a persist cascade - Hibernate puts null/zero to the FK column instead of the identity generated identifier of the parent entity (maybe it needs another workaround, which would be very Hibernatesque :)). Anyway I&#39;d advise proceeding with caution."},{"owner":{"account_id":4916508,"reputation":696,"user_id":3960315,"accept_rate":100,"display_name":"Arash"},"score":0,"creation_date":1689576500,"post_id":46037186,"comment_id":135227332,"body_markdown":"more details is here [hear](https://vladmihalcea.com/how-to-map-a-composite-identifier-using-an-automatically-generatedvalue-with-jpa-and-hibernate/)","body":"more details is here <a href=\"https://vladmihalcea.com/how-to-map-a-composite-identifier-using-an-automatically-generatedvalue-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">hear</a>"}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":10,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1610232615,"creation_date":1504528451,"answer_id":46037186,"question_id":46035660,"body_markdown":"The only way to make it work is to overwrite the `SQLInsert` and trick Hibernate which expects to set the identifier column. This can be done if you provide your own custom INSERT statement so that, instead of setting the `rowId` to null, you set the version instead:\r\n\r\n    @Entity(name = &quot;BOOK_EMBEDDED&quot;)\r\n    @SQLInsert( sql = &quot;insert into BOOK_EMBEDDED (BOOK_NAME, group_no, version) values (?, ?, ?)&quot;)\r\n    public static class Book implements Serializable {\r\n\r\n        @EmbeddedId\r\n        private EmbeddedKey key;\r\n\r\n        @Column(name = &quot;BOOK_NAME&quot;)\r\n        private String bookName;\r\n\r\n        @Version\r\n        @Column(insertable = false)\r\n        private Integer version;\r\n\r\n        public EmbeddedKey getKey() {\r\n            return key;\r\n        }\r\n\r\n        public void setKey(EmbeddedKey key) {\r\n            this.key = key;\r\n        }\r\n\r\n        public String getBookName() {\r\n            return bookName;\r\n        }\r\n\r\n        public void setBookName(String bookName) {\r\n            this.bookName = bookName;\r\n        }\r\n    }\r\n\r\nWith this change in place, you run the following test:\r\n\r\n\tdoInJPA(entityManager -&gt; {\r\n\r\n\t\tEmbeddedKey key = new EmbeddedKey();\r\n\t\tkey.setGroupNo(1);\r\n\r\n\t\tBook book = new Book();\r\n\t\tbook.setBookName( &quot;High-Performance Java Persistence&quot;);\r\n\r\n\t\tbook.setKey(key);\r\n\r\n\t\tentityManager.persist(book);\r\n\t});\r\n\r\n\tdoInJPA(entityManager -&gt; {\r\n\t\tEmbeddedKey key = new EmbeddedKey();\r\n\r\n\t\tkey.setGroupNo(1);\r\n\t\tkey.setRowId(1L);\r\n\r\n\t\tBook book = entityManager.find(Book.class, key);\r\n\t\tassertEquals( &quot;High-Performance Java Persistence&quot;, book.getBookName() );\r\n\t});\r\n\r\nAnd Hibernate will generate the right SQL statements:\r\n\r\n    Query:[&quot;insert into BOOK_EMBEDDED (BOOK_NAME, group_no, version) values (?, ?, ?)&quot;], Params:[(High-Performance Java Persistence, 1, NULL(BIGINT))]\r\n    \r\n    Query:[&quot;select compositei0_.group_no as group_no1_0_0_, compositei0_.row_id as row_id2_0_0_, compositei0_.BOOK_NAME as BOOK_NAM3_0_0_, compositei0_.version as version4_0_0_ from BOOK_EMBEDDED compositei0_ where compositei0_.group_no=? and compositei0_.row_id=?&quot;], Params:[(1, 1)]\r\n\r\nThe test is available on [GitHub][2].\r\n\r\n\r\n  [1]: https://vladmihalcea.com/how-to-map-a-composite-identifier-using-an-automatically-generatedvalue-with-jpa-and-hibernate/\r\n  [2]: https://github.com/vladmihalcea/high-performance-java-persistence/blob/1fcd846f5fb6f356e4509218f9bd5dd38127b7fe/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/identifier/composite/CompositeIdGeneratedIdClassTest.java","title":"Hibernate insert failing when embedded key contains identity column on SQL Server","body":"<p>The only way to make it work is to overwrite the <code>SQLInsert</code> and trick Hibernate which expects to set the identifier column. This can be done if you provide your own custom INSERT statement so that, instead of setting the <code>rowId</code> to null, you set the version instead:</p>\n<pre><code>@Entity(name = &quot;BOOK_EMBEDDED&quot;)\n@SQLInsert( sql = &quot;insert into BOOK_EMBEDDED (BOOK_NAME, group_no, version) values (?, ?, ?)&quot;)\npublic static class Book implements Serializable {\n\n    @EmbeddedId\n    private EmbeddedKey key;\n\n    @Column(name = &quot;BOOK_NAME&quot;)\n    private String bookName;\n\n    @Version\n    @Column(insertable = false)\n    private Integer version;\n\n    public EmbeddedKey getKey() {\n        return key;\n    }\n\n    public void setKey(EmbeddedKey key) {\n        this.key = key;\n    }\n\n    public String getBookName() {\n        return bookName;\n    }\n\n    public void setBookName(String bookName) {\n        this.bookName = bookName;\n    }\n}\n</code></pre>\n<p>With this change in place, you run the following test:</p>\n<pre><code>doInJPA(entityManager -&gt; {\n\n    EmbeddedKey key = new EmbeddedKey();\n    key.setGroupNo(1);\n\n    Book book = new Book();\n    book.setBookName( &quot;High-Performance Java Persistence&quot;);\n\n    book.setKey(key);\n\n    entityManager.persist(book);\n});\n\ndoInJPA(entityManager -&gt; {\n    EmbeddedKey key = new EmbeddedKey();\n\n    key.setGroupNo(1);\n    key.setRowId(1L);\n\n    Book book = entityManager.find(Book.class, key);\n    assertEquals( &quot;High-Performance Java Persistence&quot;, book.getBookName() );\n});\n</code></pre>\n<p>And Hibernate will generate the right SQL statements:</p>\n<pre><code>Query:[&quot;insert into BOOK_EMBEDDED (BOOK_NAME, group_no, version) values (?, ?, ?)&quot;], Params:[(High-Performance Java Persistence, 1, NULL(BIGINT))]\n\nQuery:[&quot;select compositei0_.group_no as group_no1_0_0_, compositei0_.row_id as row_id2_0_0_, compositei0_.BOOK_NAME as BOOK_NAM3_0_0_, compositei0_.version as version4_0_0_ from BOOK_EMBEDDED compositei0_ where compositei0_.group_no=? and compositei0_.row_id=?&quot;], Params:[(1, 1)]\n</code></pre>\n<p>The test is available on <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/blob/1fcd846f5fb6f356e4509218f9bd5dd38127b7fe/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/identifier/composite/CompositeIdGeneratedIdClassTest.java\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n"},{"tags":[],"owner":{"account_id":1838798,"reputation":311,"user_id":1668645,"accept_rate":29,"display_name":"Stefan H&#246;ltker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558099726,"creation_date":1558099726,"answer_id":56187455,"question_id":46035660,"body_markdown":"Simply delete &amp; remove the EmbeddedKey class and add the fields to your entity.\r\n\r\n```java\r\nimport java.io.*;\r\nimport javax.persistence.*;\r\n\r\n@Entity(name = &quot;Book&quot;)\r\n@Table(name = &quot;book&quot;)\r\npublic class Book implements Serializable\r\n{\r\n\r\n  @Id\r\n  @Basic(optional = false)\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;registration_number&quot;)\r\n  private Long registrationNumber;\r\n\r\n  @Column(name = &quot;publisher_id&quot;)\r\n  private Integer publisherId;\r\n\r\n  @Column(name = &quot;title&quot;)\r\n  private String title;\r\n\r\n  //Getters and setters omitted for brevity\r\n}\r\n```\r\n\r\n```sql\r\nCREATE TABLE book (\r\n        publisher_id INT NOT NULL,\r\n        registration_number BIGINT IDENTITY NOT NULL,\r\n        title VARCHAR(255),\r\n        PRIMARY KEY (publisher_id, registration_number)\r\n    )\r\n``` ","title":"Hibernate insert failing when embedded key contains identity column on SQL Server","body":"<p>Simply delete &amp; remove the EmbeddedKey class and add the fields to your entity.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport javax.persistence.*;\n\n@Entity(name = \"Book\")\n@Table(name = \"book\")\npublic class Book implements Serializable\n{\n\n  @Id\n  @Basic(optional = false)\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = \"registration_number\")\n  private Long registrationNumber;\n\n  @Column(name = \"publisher_id\")\n  private Integer publisherId;\n\n  @Column(name = \"title\")\n  private String title;\n\n  //Getters and setters omitted for brevity\n}\n</code></pre>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE book (\n        publisher_id INT NOT NULL,\n        registration_number BIGINT IDENTITY NOT NULL,\n        title VARCHAR(255),\n        PRIMARY KEY (publisher_id, registration_number)\n    )\n</code></pre>\n"}],"owner":{"account_id":3542752,"reputation":53,"user_id":2959417,"display_name":"himanshu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4463,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46037186,"answer_count":3,"score":5,"last_activity_date":1680781452,"creation_date":1504522973,"question_id":46035660,"body_markdown":"I&#39;m trying to map an entity with hibernate, but with SQL Server, I am not able to proceed.\r\n\r\nFollowing are the details.\r\n\r\nSQL Server Entity \r\n\r\n\r\n```SQL\r\nCREATE TABLE [dbo].[BOOK_EMBEDDED](\r\n  [row_id] [bigint] IDENTITY(1,1) NOT NULL,\r\n  [group_no] [int]                NOT NULL,\r\n  [book_name] [varchar](255)      NULL,\r\n  CONSTRAINT [PK_BOOK_EMBEDDED] PRIMARY KEY CLUSTERED \r\n(\r\n  [group_no] ASC,\r\n  [row_id] ASC\r\n) WITH (PAD_INDEX = OFF,\r\n        STATISTICS_NORECOMPUTE = OFF,\r\n        IGNORE_DUP_KEY = OFF,\r\n        ALLOW_ROW_LOCKS = ON,\r\n        ALLOW_PAGE_LOCKS = ON\r\n) ON [PRIMARY]\r\n```\r\n\r\n=============================\r\n\r\n&lt;B&gt;The embedded key&lt;/B&gt;\r\n\r\n```java\r\n@Embeddable \r\npublic class EmbeddedKey implements Serializable { \r\n\tprivate static final long serialVersionUID = 1L; \r\n\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY) \r\n\t@Column(name = &quot;row_id&quot;) \r\n\tprivate Long rowId; \r\n\r\n\t@Column(name = &quot;group_no&quot;) \r\n\tprivate int groupNo; \r\n\r\n\tpublic Long getRowId() { \r\n\t\treturn rowId; \r\n\t} \r\n\r\n\tpublic void setRowId(Long rowId) { \r\n\t\tthis.rowId = rowId; \r\n\t} \r\n\r\n\tpublic static long getSerialversionuid() { \r\n\t\treturn serialVersionUID; \r\n\t} \r\n\r\n\t@Override \r\n\tpublic int hashCode() { \r\n\t\tfinal int prime = 31; \r\n\t\tint result = 1; \r\n\r\n\t\tresult = (int) (prime * result + rowId); \r\n\t\tresult = prime * result + groupNo; \r\n\r\n\t\treturn result; \r\n\t} \r\n\r\n\t@Override \r\n\tpublic boolean equals(Object obj) { \r\n\t\tif (this == obj) \r\n\t\t\treturn true; \r\n\r\n\t\tif (obj == null) \r\n\t\t\treturn false; \r\n\r\n\t\tif (getClass() != obj.getClass()) \r\n\t\t\treturn false; \r\n\r\n\t\tEmbeddedKey other = (EmbeddedKey) obj; \r\n\r\n\t\tif (rowId != other.rowId) \r\n\t\t\treturn false; \r\n\r\n\t\tif (groupNo != other.groupNo) \r\n\t\t\treturn false; \r\n\r\n\t\treturn true; \r\n\t} \r\n\r\n\t@Override \r\n\tpublic String toString() { \r\n\t\treturn this.getRowId() + &quot;  &quot; + this.getGroupNo() + &quot; &quot;; \r\n\t} \r\n \r\n\tpublic int getGroupNo() { \r\n\t\treturn groupNo; \r\n\t} \r\n \r\n\tpublic void setGroupNo(int groupNo) { \r\n\t\tthis.groupNo = groupNo; \r\n\t} \r\n} \r\n```\r\n\r\n&lt;b&gt;The Entity&lt;/b&gt; \r\n```java\r\n@Entity(name = &quot;BOOK_EMBEDDED&quot;) \r\npublic class BookMySQL implements Serializable { \r\n\tprivate static final long serialVersionUID = 1L; \r\n\r\n\t@Column(name = &quot;BOOK_NAME&quot;) \r\n\tprivate String book_Name; \r\n\r\n\t@EmbeddedId \r\n\tprivate EmbeddedKey key; \r\n\r\n\tpublic BookMySQL() { \r\n\t} \r\n\r\n\tpublic String getBook_Name() { \r\n\t\treturn book_Name; \r\n\t} \r\n\r\n\tpublic void setBook_Name(String book_Name) { \r\n\t\tthis.book_Name = book_Name; \r\n\t} \r\n\r\n\tpublic static long getSerialversionuid() { \r\n\t\treturn serialVersionUID; \r\n\t} \r\n\r\n\tpublic EmbeddedKey getKey() { \r\n\t\treturn key; \r\n\t} \r\n\r\n\tpublic void setKey(EmbeddedKey key) { \r\n\t\tthis.key = key; \r\n\t} \r\n\r\n\t@Override \r\n\tpublic String toString() { \r\n\t\treturn this.getKey().toString() + &quot;  &quot; + this.getBook_Name(); \r\n\t} \r\n}\r\n```\r\n \r\n&lt;b&gt;Entity Manager class&lt;/b&gt; \r\n\r\n```java\r\npublic class LocalEntityManager { \r\n\tprivate static EntityManagerFactory emf; \r\n\tprivate static EntityManager em; \r\n\r\n\tprivate LocalEntityManager() { \r\n\t} \r\n\r\n\tpublic static EntityManager getEntityManger() { \r\n\t\tif (emf == null) { \r\n\t\t\tsynchronized (LocalEntityManager.class) { \r\n\t\t\t\tif (emf == null) { \r\n\t\t\t\t\temf = Persistence.createEntityManagerFactory(&quot;BookEntities&quot;); \r\n\t\t\t\t\tem = emf.createEntityManager(); \r\n\t\t\t\t} \r\n\t\t\t} \r\n\t\t} \r\n\r\n\t\treturn em; \r\n\t} \r\n}\r\n``` \r\n\r\n&lt;b&gt;Book Service&lt;/b&gt; \r\n```java\r\npublic class MySQLBookService { \r\n\r\n\tpublic Long persistBook(String bookName) { \r\n\t\tEmbeddedKey key = new EmbeddedKey(); \r\n\t\tkey.setGroupNo(1); \r\n\r\n\t\tBookMySQL book = new BookMySQL(); \r\n\t\tbook.setBook_Name(bookName); \r\n\t\tbook.setKey(key); \r\n\r\n\t\tEntityManager em = LocalEntityManager.getEntityManger(); \r\n\t\tEntityTransaction tx = em.getTransaction(); \r\n\r\n\t\ttx.begin(); \r\n\t\tem.persist(book); \r\n\t\ttx.commit(); \r\n\r\n\t\tem.close(); \r\n\r\n\t\treturn book.getKey().getRowId(); \r\n\t} \r\n\r\n\tpublic BookMySQL findBook(int bookId) { \r\n\t\tEntityManager em = LocalEntityManager.getEntityManger();\r\n \r\n\t\tEmbeddedKey key = new EmbeddedKey(); \r\n\t\tkey.setGroupNo(1); \r\n\t\tkey.setRowId(1L); \r\n\r\n\t\tBookMySQL bookMySQL = em.find(BookMySQL.class, key); \r\n\r\n\t\tSystem.out.println(bookMySQL); \r\n\r\n\t\treturn bookMySQL; \r\n\t} \r\n\r\n\tpublic static void main(String... args) { \r\n\t\tMySQLBookService bookService = new MySQLBookService(); \r\n\t\t// bookService.findBook(1); \r\n\t\tbookService.persistBook(&quot;Lord of the rings&quot;); \r\n\t} \r\n}\r\n```\r\n\r\nThe problem is I cannot use a sequence and by executing this \r\nfindBook always works and persist fails with error.\r\n\r\n    ERROR: Cannot insert explicit value for identity column in table &#39;BOOK_EMBEDDED&#39; when IDENTITY_INSERT is set to OFF.\r\n\r\n\r\nAny help will be greatly appreciated. ","title":"Hibernate insert failing when embedded key contains identity column on SQL Server","body":"<p>I'm trying to map an entity with hibernate, but with SQL Server, I am not able to proceed.</p>\n<p>Following are the details.</p>\n<p>SQL Server Entity</p>\n<pre><code>CREATE TABLE [dbo].[BOOK_EMBEDDED](\n  [row_id] [bigint] IDENTITY(1,1) NOT NULL,\n  [group_no] [int]                NOT NULL,\n  [book_name] [varchar](255)      NULL,\n  CONSTRAINT [PK_BOOK_EMBEDDED] PRIMARY KEY CLUSTERED \n(\n  [group_no] ASC,\n  [row_id] ASC\n) WITH (PAD_INDEX = OFF,\n        STATISTICS_NORECOMPUTE = OFF,\n        IGNORE_DUP_KEY = OFF,\n        ALLOW_ROW_LOCKS = ON,\n        ALLOW_PAGE_LOCKS = ON\n) ON [PRIMARY]\n</code></pre>\n<p>=============================</p>\n<p><B>The embedded key</B></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable \npublic class EmbeddedKey implements Serializable { \n    private static final long serialVersionUID = 1L; \n\n    @GeneratedValue(strategy = GenerationType.IDENTITY) \n    @Column(name = &quot;row_id&quot;) \n    private Long rowId; \n\n    @Column(name = &quot;group_no&quot;) \n    private int groupNo; \n\n    public Long getRowId() { \n        return rowId; \n    } \n\n    public void setRowId(Long rowId) { \n        this.rowId = rowId; \n    } \n\n    public static long getSerialversionuid() { \n        return serialVersionUID; \n    } \n\n    @Override \n    public int hashCode() { \n        final int prime = 31; \n        int result = 1; \n\n        result = (int) (prime * result + rowId); \n        result = prime * result + groupNo; \n\n        return result; \n    } \n\n    @Override \n    public boolean equals(Object obj) { \n        if (this == obj) \n            return true; \n\n        if (obj == null) \n            return false; \n\n        if (getClass() != obj.getClass()) \n            return false; \n\n        EmbeddedKey other = (EmbeddedKey) obj; \n\n        if (rowId != other.rowId) \n            return false; \n\n        if (groupNo != other.groupNo) \n            return false; \n\n        return true; \n    } \n\n    @Override \n    public String toString() { \n        return this.getRowId() + &quot;  &quot; + this.getGroupNo() + &quot; &quot;; \n    } \n \n    public int getGroupNo() { \n        return groupNo; \n    } \n \n    public void setGroupNo(int groupNo) { \n        this.groupNo = groupNo; \n    } \n} \n</code></pre>\n<p><b>The Entity</b></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;BOOK_EMBEDDED&quot;) \npublic class BookMySQL implements Serializable { \n    private static final long serialVersionUID = 1L; \n\n    @Column(name = &quot;BOOK_NAME&quot;) \n    private String book_Name; \n\n    @EmbeddedId \n    private EmbeddedKey key; \n\n    public BookMySQL() { \n    } \n\n    public String getBook_Name() { \n        return book_Name; \n    } \n\n    public void setBook_Name(String book_Name) { \n        this.book_Name = book_Name; \n    } \n\n    public static long getSerialversionuid() { \n        return serialVersionUID; \n    } \n\n    public EmbeddedKey getKey() { \n        return key; \n    } \n\n    public void setKey(EmbeddedKey key) { \n        this.key = key; \n    } \n\n    @Override \n    public String toString() { \n        return this.getKey().toString() + &quot;  &quot; + this.getBook_Name(); \n    } \n}\n</code></pre>\n<p><b>Entity Manager class</b></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LocalEntityManager { \n    private static EntityManagerFactory emf; \n    private static EntityManager em; \n\n    private LocalEntityManager() { \n    } \n\n    public static EntityManager getEntityManger() { \n        if (emf == null) { \n            synchronized (LocalEntityManager.class) { \n                if (emf == null) { \n                    emf = Persistence.createEntityManagerFactory(&quot;BookEntities&quot;); \n                    em = emf.createEntityManager(); \n                } \n            } \n        } \n\n        return em; \n    } \n}\n</code></pre>\n<p><b>Book Service</b></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MySQLBookService { \n\n    public Long persistBook(String bookName) { \n        EmbeddedKey key = new EmbeddedKey(); \n        key.setGroupNo(1); \n\n        BookMySQL book = new BookMySQL(); \n        book.setBook_Name(bookName); \n        book.setKey(key); \n\n        EntityManager em = LocalEntityManager.getEntityManger(); \n        EntityTransaction tx = em.getTransaction(); \n\n        tx.begin(); \n        em.persist(book); \n        tx.commit(); \n\n        em.close(); \n\n        return book.getKey().getRowId(); \n    } \n\n    public BookMySQL findBook(int bookId) { \n        EntityManager em = LocalEntityManager.getEntityManger();\n \n        EmbeddedKey key = new EmbeddedKey(); \n        key.setGroupNo(1); \n        key.setRowId(1L); \n\n        BookMySQL bookMySQL = em.find(BookMySQL.class, key); \n\n        System.out.println(bookMySQL); \n\n        return bookMySQL; \n    } \n\n    public static void main(String... args) { \n        MySQLBookService bookService = new MySQLBookService(); \n        // bookService.findBook(1); \n        bookService.persistBook(&quot;Lord of the rings&quot;); \n    } \n}\n</code></pre>\n<p>The problem is I cannot use a sequence and by executing this\nfindBook always works and persist fails with error.</p>\n<pre><code>ERROR: Cannot insert explicit value for identity column in table 'BOOK_EMBEDDED' when IDENTITY_INSERT is set to OFF.\n</code></pre>\n<p>Any help will be greatly appreciated.</p>\n"},{"tags":["java","jena","fuseki"],"comments":[{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1680797946,"post_id":75949121,"comment_id":133962100,"body_markdown":"I don&#39;t see any data being loaded - so no results (zero rows). Otherwise, does the database have only named graphs? `WHERE { { ?s ?p ?o } UNION { GRAPH ?g { ?s ?p ?o } }`","body":"I don&#39;t see any data being loaded - so no results (zero rows). Otherwise, does the database have only named graphs? <code>WHERE { { ?s ?p ?o } UNION { GRAPH ?g { ?s ?p ?o } }</code>"},{"owner":{"account_id":15375756,"reputation":41,"user_id":11092528,"display_name":"Ines"},"score":0,"creation_date":1681404376,"post_id":75949121,"comment_id":134054587,"body_markdown":"@AndyS I didn&#39;t load any data, you are right. I am new to Jena and Fuseki. Thus, I don&#39;t know what&#39;s the default setting when it comes to creating a dataset (named graphs or not). I will try to insert data and see whether anything would change.","body":"@AndyS I didn&#39;t load any data, you are right. I am new to Jena and Fuseki. Thus, I don&#39;t know what&#39;s the default setting when it comes to creating a dataset (named graphs or not). I will try to insert data and see whether anything would change."},{"owner":{"account_id":15375756,"reputation":41,"user_id":11092528,"display_name":"Ines"},"score":0,"creation_date":1681405424,"post_id":75949121,"comment_id":134054813,"body_markdown":"@AndyS UPDATE I tried inserting data and now it works. Thank you!","body":"@AndyS UPDATE I tried inserting data and now it works. Thank you!"}],"owner":{"account_id":15375756,"reputation":41,"user_id":11092528,"display_name":"Ines"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680781343,"creation_date":1680781343,"question_id":75949121,"body_markdown":"I am trying to run a sparql query via fuseki using java.\r\nThe fuseki server is running. However when I run the code below, I can see that the console in eclipse is running but no results are returned (just blank console).\r\n\r\nI am using Fuseki 4.7.0, Jena 4.7.0 and Java 11.\r\n\r\nThe dataset &quot;your-dataset&quot; is created using the following command:\r\n\r\n```\r\nfuseki-server --loc=data --update /your-dataset\r\n```\r\n\r\nCode that I used is the following:\r\n\r\n```\r\npackage test;\r\n\r\nimport org.apache.jena.query.Query; \r\nimport org.apache.jena.query.QueryExecution; \r\nimport org.apache.jena.query.QueryFactory; \r\nimport org.apache.jena.query.ResultSet; \r\n\r\npublic class QueryStore {\r\n\r\n    public static void main(final String[] args) throws Exception { \r\n\t\r\n\r\n    String queryString=\r\n            &quot;prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;&quot;+\r\n            &quot;prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt;&quot;+\r\n\r\n            &quot;SELECT ?subject ?predicate ?object&quot;+\r\n            &quot;WHERE {&quot;+\r\n            &quot; ?subject ?predicate ?object&quot;+\r\n            &quot; } LIMIT 25&quot;;\r\n\r\n            Query query = QueryFactory.create(queryString);\r\n   \r\n            QueryExecution qexec = QueryExecution.service(&quot;http://localhost:3030/your-dataset/sparql&quot;).query(query).build();\r\n\r\n            \r\n            ResultSet results = qexec.execSelect();\r\n            if (results.hasNext())\r\n            {\r\n            \tSystem.out.print(results.next().toString());\r\n            }\r\n            else {\r\n            \tSystem.out.print(&quot;empty dataset&quot;);\r\n            }\r\n            \t\r\n    }\r\n}\r\n```\r\n\r\nCan you spot what did I do wrong?\r\n","title":"Sparql query doesn&#39;t return results using Fuseki","body":"<p>I am trying to run a sparql query via fuseki using java.\nThe fuseki server is running. However when I run the code below, I can see that the console in eclipse is running but no results are returned (just blank console).</p>\n<p>I am using Fuseki 4.7.0, Jena 4.7.0 and Java 11.</p>\n<p>The dataset &quot;your-dataset&quot; is created using the following command:</p>\n<pre><code>fuseki-server --loc=data --update /your-dataset\n</code></pre>\n<p>Code that I used is the following:</p>\n<pre><code>package test;\n\nimport org.apache.jena.query.Query; \nimport org.apache.jena.query.QueryExecution; \nimport org.apache.jena.query.QueryFactory; \nimport org.apache.jena.query.ResultSet; \n\npublic class QueryStore {\n\n    public static void main(final String[] args) throws Exception { \n    \n\n    String queryString=\n            &quot;prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;&quot;+\n            &quot;prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt;&quot;+\n\n            &quot;SELECT ?subject ?predicate ?object&quot;+\n            &quot;WHERE {&quot;+\n            &quot; ?subject ?predicate ?object&quot;+\n            &quot; } LIMIT 25&quot;;\n\n            Query query = QueryFactory.create(queryString);\n   \n            QueryExecution qexec = QueryExecution.service(&quot;http://localhost:3030/your-dataset/sparql&quot;).query(query).build();\n\n            \n            ResultSet results = qexec.execSelect();\n            if (results.hasNext())\n            {\n                System.out.print(results.next().toString());\n            }\n            else {\n                System.out.print(&quot;empty dataset&quot;);\n            }\n                \n    }\n}\n</code></pre>\n<p>Can you spot what did I do wrong?</p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":18847096,"reputation":65,"user_id":13747074,"display_name":"Yanis02015"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680781251,"creation_date":1599050584,"question_id":63705790,"body_markdown":"sorry for my English\r\nMy problem with android studio is that the &quot;EditText&quot; are transparent in the Layout Validation but once the program is executed on my real hardware (my phone) they appear most normally\r\nSo I change the project to see, but the problem is still there\r\nSo it&#39;s clearly my software that bug.\r\n\r\nXML code\r\n\r\n    &lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;EditText test&quot;/&gt; &lt;/LinearLayout&gt;\r\n\r\nScreen:\r\n\r\n![Layout validation empty, but still appears in the split][1]\r\n\r\nThank you for helping me\r\nCordially.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gowtz.jpg","title":"Android Studio Layout Validation bug?","body":"<p>sorry for my English\nMy problem with android studio is that the &quot;EditText&quot; are transparent in the Layout Validation but once the program is executed on my real hardware (my phone) they appear most normally\nSo I change the project to see, but the problem is still there\nSo it's clearly my software that bug.</p>\n<p>XML code</p>\n<pre><code>&lt;LinearLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n\n&lt;EditText\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:hint=&quot;EditText test&quot;/&gt; &lt;/LinearLayout&gt;\n</code></pre>\n<p>Screen:</p>\n<p><img src=\"https://i.stack.imgur.com/Gowtz.jpg\" alt=\"Layout validation empty, but still appears in the split\" /></p>\n<p>Thank you for helping me\nCordially.</p>\n"},{"tags":["java","spring-boot","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680781095,"creation_date":1680611468,"answer_id":75929424,"question_id":75925778,"body_markdown":"&gt;`ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(1000));`\r\n\r\nOf course it won&#39;t work with that; you are completely bypassing the Spring code and interacting with the `KafkaConsumer` yourself.\r\n\r\nIn that case you will have to implement your own error handling.\r\n\r\nHowever, you don&#39;t have to use `@KafkaListener` to use a container, you can use the container factory to create a container and use `setMessageListener` to add your listener to the container properties.\r\n\r\nYou should remove the `@KafkaListener` in that case, so the framework doesn&#39;t automatically configure a container for it.","title":"spring kafka error handling without KafkaListener","body":"<blockquote>\n<p><code>ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(1000));</code></p>\n</blockquote>\n<p>Of course it won't work with that; you are completely bypassing the Spring code and interacting with the <code>KafkaConsumer</code> yourself.</p>\n<p>In that case you will have to implement your own error handling.</p>\n<p>However, you don't have to use <code>@KafkaListener</code> to use a container, you can use the container factory to create a container and use <code>setMessageListener</code> to add your listener to the container properties.</p>\n<p>You should remove the <code>@KafkaListener</code> in that case, so the framework doesn't automatically configure a container for it.</p>\n"}],"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75929424,"answer_count":1,"score":3,"last_activity_date":1680781095,"creation_date":1680585956,"question_id":75925778,"body_markdown":"I am using the spring kafka in my project and have implemented a retry functionality. A message is consumed and if it fails I need to retry. Below code is working fine if I am using  and doing retry for some exceptions.\r\n\r\n\t@Component\r\n\tpublic class Consumer implements AcknowledgingMessageListener&lt;String, String&gt; {\r\n\r\n\t\t@Override\r\n\t\t@KafkaListener(topics = { &quot;ff808081672c17c8016730733d020001.CBS_PROFILE&quot;})\r\n\t\tpublic void onMessage(ConsumerRecord&lt;String, String&gt; consumerRecord, Acknowledgment acknowledgment) {\r\n\r\n\t\t\tlog.info(&quot;Computed &quot;);\r\n\t\t\tthrow new RuntimeException();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Configuration\r\n\t@Slf4j\r\n\tpublic class KafkaConsumerConfig {\r\n\r\n\t\t/** handles error and recovery logic **/\r\n\t\tpublic DefaultErrorHandler errorHandler() {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Inside error handler&quot;);\r\n\r\n\t\t\t// if these exceptions occur in the consumer, record will not be retried\r\n\t\t\tList&lt;Class&lt;? extends Exception&gt;&gt; exceptionsToIgnore = List.of(JsonSchemaValidationException.class);\r\n\r\n\t\t\t// if these exceptions occur in the consumer, record will be retried\r\n\t\t\tList&lt;Class&lt;? extends Exception&gt;&gt; exceptionsToRetry = List.of(DataEngineNotAvailableException.class, ListenerExecutionFailedException.class);\r\n\r\n\t\t\t// retry twice after fixed interval of one second\r\n\t\t\tvar fixedBackOff = new FixedBackOff(500L, 1);\r\n\t\t\tvar expBackoff = new ExponentialBackOffWithMaxRetries(2);\r\n\t\t\texpBackoff.setInitialInterval(1000L);\r\n\t\t\tvar errorHandler = new DefaultErrorHandler(fixedBackOff);\r\n\r\n\t\t\terrorHandler.setRetryListeners((consumerRecord, ex, deliveryAttempt) -&gt; {\r\n\t\t\t\tlog.info(&quot;Failed record {} in retry listeners, Exception : {}, delivery attempt : {}&quot;, consumerRecord,\r\n\t\t\t\t\t\tex.getMessage(), deliveryAttempt);\r\n\t\t\t});\r\n\r\n\t\t\texceptionsToIgnore.forEach(errorHandler::addNotRetryableExceptions);\r\n\t\t\texceptionsToRetry.forEach(errorHandler::addRetryableExceptions);\r\n\t\t\treturn errorHandler;\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\r\n\t\t\t\tConcurrentKafkaListenerContainerFactoryConfigurer configurer,\r\n\t\t\t\tConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n\t\t\tConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\t\t\tconfigurer.configure(factory, kafkaConsumerFactory);\r\n\t\t\tfactory.getContainerProperties().setAckMode(AckMode.MANUAL);\r\n\r\n\t\t\t// should be equal to number of partitions\r\n\t\t\tfactory.setConcurrency(3);\r\n\t\t\tfactory.setCommonErrorHandler(errorHandler());\r\n\t\t\treturn factory;\r\n\t\t}\r\n\r\n\t}\r\n\r\nBut I am not able to implement retry mechanism if I implement consumer like below. \r\nExpectation is to retry the `dataProcessor.readRecord(r, consumer)` method.\r\n\r\n    @PostConstruct\r\n\tpublic void onLoad() {\r\n\r\n\t\tconfigService.setConfigurations();\r\n\t\t\r\n\t\t//load consumer\r\n\t\tconsumerRunnerV2.loadConsumers();\r\n\r\n\t}\r\n\t\r\n\r\n\tpublic void loadConsumers() {\r\n\r\n\t\tconsumerServiceV2.fillConsumerMap();\r\n\t\tMap&lt;String, LRConsumer&gt; consumersMap = consumerServiceV2.getConsumersMap();\r\n\r\n\t\tfor (Map.Entry&lt;String, LRConsumer&gt; consumer : consumersMap.entrySet()) {\r\n\t\t\tconsumerTaskExecutor.execute(() -&gt; runConsumer(consumer.getValue()));\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\t\r\n\tprivate void runConsumer(LRConsumer consumer) {\r\n\r\n\t\twhile (true) {\r\n\t\t\r\n\t\r\n\t\t\t// to check state of consumer\r\n\t\t\tconsumer = consumerServiceV2.getConsumerById(consumer.getConsumerId());\r\n\r\n\t\t\tif (consumer.getState() != ConsumerState.PAUSED) {\r\n\t\t\t\t\r\n\t\t\t\tlog.info(&quot;Waiting to receive messages.&quot;);\r\n\t\t\t\tConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(1000));\r\n\t\t\t\t\r\n\t\t\t\tfor (ConsumerRecord&lt;String, String&gt; r : records)\r\n\t\t\t\t\r\n\t\t\t\t\t//expectation is to retry this method\r\n\t\t\t\t\tdataProcessor.readRecord(r, consumer);\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t\tlog.info(&quot;Consumer is in paused state.&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n","title":"spring kafka error handling without KafkaListener","body":"<p>I am using the spring kafka in my project and have implemented a retry functionality. A message is consumed and if it fails I need to retry. Below code is working fine if I am using  and doing retry for some exceptions.</p>\n<pre><code>@Component\npublic class Consumer implements AcknowledgingMessageListener&lt;String, String&gt; {\n\n    @Override\n    @KafkaListener(topics = { &quot;ff808081672c17c8016730733d020001.CBS_PROFILE&quot;})\n    public void onMessage(ConsumerRecord&lt;String, String&gt; consumerRecord, Acknowledgment acknowledgment) {\n\n        log.info(&quot;Computed &quot;);\n        throw new RuntimeException();\n\n    }\n\n}\n\n@Configuration\n@Slf4j\npublic class KafkaConsumerConfig {\n\n    /** handles error and recovery logic **/\n    public DefaultErrorHandler errorHandler() {\n        \n        System.out.println(&quot;Inside error handler&quot;);\n\n        // if these exceptions occur in the consumer, record will not be retried\n        List&lt;Class&lt;? extends Exception&gt;&gt; exceptionsToIgnore = List.of(JsonSchemaValidationException.class);\n\n        // if these exceptions occur in the consumer, record will be retried\n        List&lt;Class&lt;? extends Exception&gt;&gt; exceptionsToRetry = List.of(DataEngineNotAvailableException.class, ListenerExecutionFailedException.class);\n\n        // retry twice after fixed interval of one second\n        var fixedBackOff = new FixedBackOff(500L, 1);\n        var expBackoff = new ExponentialBackOffWithMaxRetries(2);\n        expBackoff.setInitialInterval(1000L);\n        var errorHandler = new DefaultErrorHandler(fixedBackOff);\n\n        errorHandler.setRetryListeners((consumerRecord, ex, deliveryAttempt) -&gt; {\n            log.info(&quot;Failed record {} in retry listeners, Exception : {}, delivery attempt : {}&quot;, consumerRecord,\n                    ex.getMessage(), deliveryAttempt);\n        });\n\n        exceptionsToIgnore.forEach(errorHandler::addNotRetryableExceptions);\n        exceptionsToRetry.forEach(errorHandler::addRetryableExceptions);\n        return errorHandler;\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\n            ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\n            ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        configurer.configure(factory, kafkaConsumerFactory);\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL);\n\n        // should be equal to number of partitions\n        factory.setConcurrency(3);\n        factory.setCommonErrorHandler(errorHandler());\n        return factory;\n    }\n\n}\n</code></pre>\n<p>But I am not able to implement retry mechanism if I implement consumer like below.\nExpectation is to retry the <code>dataProcessor.readRecord(r, consumer)</code> method.</p>\n<pre><code>@PostConstruct\npublic void onLoad() {\n\n    configService.setConfigurations();\n    \n    //load consumer\n    consumerRunnerV2.loadConsumers();\n\n}\n\n\npublic void loadConsumers() {\n\n    consumerServiceV2.fillConsumerMap();\n    Map&lt;String, LRConsumer&gt; consumersMap = consumerServiceV2.getConsumersMap();\n\n    for (Map.Entry&lt;String, LRConsumer&gt; consumer : consumersMap.entrySet()) {\n        consumerTaskExecutor.execute(() -&gt; runConsumer(consumer.getValue()));\n    }\n\n}\n\n\nprivate void runConsumer(LRConsumer consumer) {\n\n    while (true) {\n    \n\n        // to check state of consumer\n        consumer = consumerServiceV2.getConsumerById(consumer.getConsumerId());\n\n        if (consumer.getState() != ConsumerState.PAUSED) {\n            \n            log.info(&quot;Waiting to receive messages.&quot;);\n            ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(1000));\n            \n            for (ConsumerRecord&lt;String, String&gt; r : records)\n            \n                //expectation is to retry this method\n                dataProcessor.readRecord(r, consumer);\n        }\n\n        else {\n            Thread.sleep(1000);\n            log.info(&quot;Consumer is in paused state.&quot;);\n        }\n        \n        \n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","junit4","serenity-bdd","lambdatest"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680777946,"post_id":75948408,"comment_id":133957056,"body_markdown":"Please read [ask].","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":28231639,"reputation":16,"user_id":21580766,"display_name":"Surendra Nagora"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680781081,"creation_date":1680780994,"answer_id":75949067,"question_id":75948408,"body_markdown":"maven tunnel dependency is below as per your pom details\r\nhttps://github.com/LambdaTest/lambdatest-maven-tunnel\r\n\r\nthis is using testng as dependency.\r\n```\r\n   &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t    &lt;version&gt;7.7.1&lt;/version&gt;\r\n    \t&lt;scope&gt;compile&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n```\r\n\r\nIt could give you some issues when running with surefire. try with TestNG Exclusion as below. It should work. \r\nIt is always the better idea to use latest version.\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.lambdatest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lambdatest-tunnel-binary&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.16&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```\r\n\r\n\r\n","title":"Serenity JUnit tests are not getting executed in parallel with LambdaTest Maven Tunnel","body":"<p>maven tunnel dependency is below as per your pom details\n<a href=\"https://github.com/LambdaTest/lambdatest-maven-tunnel\" rel=\"nofollow noreferrer\">https://github.com/LambdaTest/lambdatest-maven-tunnel</a></p>\n<p>this is using testng as dependency.</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.7.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>It could give you some issues when running with surefire. try with TestNG Exclusion as below. It should work.\nIt is always the better idea to use latest version.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.lambdatest&lt;/groupId&gt;\n            &lt;artifactId&gt;lambdatest-tunnel-binary&lt;/artifactId&gt;\n            &lt;version&gt;1.0.16&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n"}],"owner":{"account_id":28231049,"reputation":3,"user_id":21580267,"display_name":"Shahnawaz Sk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680786857,"accepted_answer_id":75949067,"answer_count":1,"score":0,"last_activity_date":1680781081,"creation_date":1680776288,"question_id":75948408,"body_markdown":"I am using all these dependencies in the POM.xml for my serenity project.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project\r\n\txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;org.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SerenityBDD&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;serenity.version&gt;3.6.12&lt;/serenity.version&gt;\r\n\t\t&lt;serenity.maven.version&gt;3.6.12&lt;/serenity.maven.version&gt;\r\n\t\t&lt;serenity.cucumber.version&gt;3.6.12&lt;/serenity.cucumber.version&gt;\r\n\t\t&lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\r\n\t\t&lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\r\n\t\t&lt;tags&gt;&lt;/tags&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${serenity.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;serenity-junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${serenity.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${serenity.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${serenity.cucumber.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.lambdatest&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lambdatest-tunnel-binary&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.16&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/SerenityTestRunner.java&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/SerenityRunner*.java&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t&lt;parallel&gt;methods&lt;/parallel&gt;\r\n\t\t\t\t\t&lt;threadCount&gt;3&lt;/threadCount&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.26.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${serenity.maven.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;tags&gt;${tags}&lt;/tags&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;serenity-reports&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;aggregate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nAfter commenting the LambdaTest Maven Tunnel dependency, the parallel execution of tests on LambdaTest dashboard works fine.\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.lambdatest&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lambdatest-tunnel-binary&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.16&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nDebugging Steps:\r\n- To execute all the tests in parallel threads with LambdaTest Maven Tunnel on LambdaTest grid.","title":"Serenity JUnit tests are not getting executed in parallel with LambdaTest Maven Tunnel","body":"<p>I am using all these dependencies in the POM.xml for my serenity project.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SerenityBDD&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;serenity.version&gt;3.6.12&lt;/serenity.version&gt;\n        &lt;serenity.maven.version&gt;3.6.12&lt;/serenity.maven.version&gt;\n        &lt;serenity.cucumber.version&gt;3.6.12&lt;/serenity.cucumber.version&gt;\n        &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\n        &lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\n        &lt;tags&gt;&lt;/tags&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-junit&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.cucumber.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.lambdatest&lt;/groupId&gt;\n            &lt;artifactId&gt;lambdatest-tunnel-binary&lt;/artifactId&gt;\n            &lt;version&gt;1.0.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/SerenityTestRunner.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/SerenityRunner*.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;parallel&gt;methods&lt;/parallel&gt;\n                    &lt;threadCount&gt;3&lt;/threadCount&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n                &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.26.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${serenity.maven.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;tags&gt;${tags}&lt;/tags&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>After commenting the LambdaTest Maven Tunnel dependency, the parallel execution of tests on LambdaTest dashboard works fine.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.lambdatest&lt;/groupId&gt;\n            &lt;artifactId&gt;lambdatest-tunnel-binary&lt;/artifactId&gt;\n            &lt;version&gt;1.0.16&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Debugging Steps:</p>\n<ul>\n<li>To execute all the tests in parallel threads with LambdaTest Maven Tunnel on LambdaTest grid.</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","snowflake-cloud-data-platform"],"answers":[{"comments":[{"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"score":1,"creation_date":1647424149,"post_id":71494057,"comment_id":126365189,"body_markdown":"This is a programmatic access to Snowflake and not via Snowflake UI. So this would not be possible.","body":"This is a programmatic access to Snowflake and not via Snowflake UI. So this would not be possible."},{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":0,"creation_date":1647427494,"post_id":71494057,"comment_id":126366533,"body_markdown":"What I meant was that an accountadmin (or a role with enough permissions) can go via Snowflake UI and do that ALTER once, then your programmatic access doesn&#39;t needs an ALTER SESSION anymore.","body":"What I meant was that an accountadmin (or a role with enough permissions) can go via Snowflake UI and do that ALTER once, then your programmatic access doesn&#39;t needs an ALTER SESSION anymore."},{"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1647486225,"post_id":71494057,"comment_id":126385418,"body_markdown":"What would happen if I restart my application (or redeploy the app)? Will it still remember the settings for the user that Im using to access snowflake programmatically?","body":"What would happen if I restart my application (or redeploy the app)? Will it still remember the settings for the user that Im using to access snowflake programmatically?"},{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":1,"creation_date":1647504723,"post_id":71494057,"comment_id":126389187,"body_markdown":"It has nothing to do with your app, once set via Snowflake UI it will stay like that until you run a new ALTER to reset the value. That means you can restart your app as many times as you want, you can even deploy another app using same user and the setting will still be in effect.","body":"It has nothing to do with your app, once set via Snowflake UI it will stay like that until you run a new ALTER to reset the value. That means you can restart your app as many times as you want, you can even deploy another app using same user and the setting will still be in effect."},{"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1647507836,"post_id":71494057,"comment_id":126390241,"body_markdown":"Thanks that helped. However, I found out the root cause behind the error and this trick is no longer required.\n\nApparently, it has something to do with heap memory configurations for the applications.","body":"Thanks that helped. However, I found out the root cause behind the error and this trick is no longer required.  Apparently, it has something to do with heap memory configurations for the applications."},{"owner":{"account_id":130318,"reputation":6472,"user_id":329496,"accept_rate":66,"display_name":"simbo1905"},"score":0,"creation_date":1680779911,"post_id":71494057,"comment_id":133957526,"body_markdown":"i would like to only set this on jdbc not in snowflake. is there a way to do that with spring?","body":"i would like to only set this on jdbc not in snowflake. is there a way to do that with spring?"},{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":0,"creation_date":1680780309,"post_id":71494057,"comment_id":133957615,"body_markdown":"@simbo1905 You can always set it at session level directly from JDBC by running an `ALTER SESSION SET JDBC_QUERY_RESULT_FORMAT=&#39;JSON&#39;`","body":"@simbo1905 You can always set it at session level directly from JDBC by running an <code>ALTER SESSION SET JDBC_QUERY_RESULT_FORMAT=&#39;JSON&#39;</code>"},{"owner":{"account_id":130318,"reputation":6472,"user_id":329496,"accept_rate":66,"display_name":"simbo1905"},"score":1,"creation_date":1680880223,"post_id":71494057,"comment_id":133974916,"body_markdown":"the whole question is about spring, my comment says spring so I am wanting a spring specific config or code. thanks.","body":"the whole question is about spring, my comment says spring so I am wanting a spring specific config or code. thanks."}],"tags":[],"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647420539,"creation_date":1647420539,"answer_id":71494057,"question_id":71487403,"body_markdown":"The parameter **JDBC_QUERY_RESULT_FORMAT** can be set per account/user/session, therefore if you always want to have **JSON** for that user you can set it directly via Snowflake UI only once:\r\n\r\n    ALTER USER &lt;youruser&gt; SET JDBC_QUERY_RESULT_FORMAT=&#39;JSON&#39;;\r\n\r\nThis would only impact your user and the account would still have **ARROW** as default. And you wouldn&#39;t need to set it at session level all the time.","title":"Spring boot - Snowflake JDBC - Alter session automatically when application loads","body":"<p>The parameter <strong>JDBC_QUERY_RESULT_FORMAT</strong> can be set per account/user/session, therefore if you always want to have <strong>JSON</strong> for that user you can set it directly via Snowflake UI only once:</p>\n<pre><code>ALTER USER &lt;youruser&gt; SET JDBC_QUERY_RESULT_FORMAT='JSON';\n</code></pre>\n<p>This would only impact your user and the account would still have <strong>ARROW</strong> as default. And you wouldn't need to set it at session level all the time.</p>\n"},{"tags":[],"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662992551,"creation_date":1647508083,"answer_id":71509626,"question_id":71487403,"body_markdown":"It turns out that the original issue can be fixed easily by tweaking some memory settings in your applications.\r\n\r\nSummarising the solution below:\r\n\r\nIncrease the heap memory and setting `-XX:MaxDirectMemorySize` &gt; 64M by setting the `JAVA_OPTS` property for your application. \r\n\r\nThe rationale behind this is that Arrow format inherently make use of the available heap memory in order to optimise the large results. Not having enough heap space will lead to the above mentioned error.\r\n\r\nI still need to perform more tests to find out the ideal values for heap memory, stack size, and this variable  -XX:MaxDirectMemorySize.\r\n\r\nEDIT: Below settings worked:\r\n```\r\n&quot;JAVA_OPTS&quot;: &quot;-Xss230k -XX:ReservedCodeCacheSize=100m -Xmx1800m -XX:MaxDirectMemorySize=1500m&quot;\r\n\r\n6 instances of the app running in parallel.\r\n\r\n2GB RAM per instance ie. 12GB RAM in total (probably an overkill but it snowflake driver does eat up a lot of ram in general)\r\n```","title":"Spring boot - Snowflake JDBC - Alter session automatically when application loads","body":"<p>It turns out that the original issue can be fixed easily by tweaking some memory settings in your applications.</p>\n<p>Summarising the solution below:</p>\n<p>Increase the heap memory and setting <code>-XX:MaxDirectMemorySize</code> &gt; 64M by setting the <code>JAVA_OPTS</code> property for your application.</p>\n<p>The rationale behind this is that Arrow format inherently make use of the available heap memory in order to optimise the large results. Not having enough heap space will lead to the above mentioned error.</p>\n<p>I still need to perform more tests to find out the ideal values for heap memory, stack size, and this variable  -XX:MaxDirectMemorySize.</p>\n<p>EDIT: Below settings worked:</p>\n<pre><code>&quot;JAVA_OPTS&quot;: &quot;-Xss230k -XX:ReservedCodeCacheSize=100m -Xmx1800m -XX:MaxDirectMemorySize=1500m&quot;\n\n6 instances of the app running in parallel.\n\n2GB RAM per instance ie. 12GB RAM in total (probably an overkill but it snowflake driver does eat up a lot of ram in general)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130318,"reputation":6472,"user_id":329496,"accept_rate":66,"display_name":"simbo1905"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680780807,"creation_date":1680780807,"answer_id":75949035,"question_id":71487403,"body_markdown":"This happens on modern JVMs due to Arrow wanting to do low level memory allocations. It logs to stdout that it wants the JVM to be started with `--add-opens=java.base/java.nio=ALL-UNNAMED`. \r\n\r\nThe fixes that are good for JDK17 are described on the [Arrow Docs](https://arrow.apache.org/docs/java/install.html) as: \r\n\r\n```shell\r\n# Directly on the command line\r\njava --add-opens=java.base/java.nio=ALL-UNNAMED -jar ...\r\n\r\n# Indirectly via environment variables\r\nenv _JAVA_OPTIONS=&quot;--add-opens=java.base/java.nio=ALL-UNNAMED&quot; java -jar ...\r\n```\r\n\r\nSo if you are using intellij/Docker setting the env var of `_JAVA_OPTIONS` to be `--add-opens=java.base/java.nio=ALL-UNNAMED` is probably the best solution. ","title":"Spring boot - Snowflake JDBC - Alter session automatically when application loads","body":"<p>This happens on modern JVMs due to Arrow wanting to do low level memory allocations. It logs to stdout that it wants the JVM to be started with <code>--add-opens=java.base/java.nio=ALL-UNNAMED</code>.</p>\n<p>The fixes that are good for JDK17 are described on the <a href=\"https://arrow.apache.org/docs/java/install.html\" rel=\"nofollow noreferrer\">Arrow Docs</a> as:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Directly on the command line\njava --add-opens=java.base/java.nio=ALL-UNNAMED -jar ...\n\n# Indirectly via environment variables\nenv _JAVA_OPTIONS=&quot;--add-opens=java.base/java.nio=ALL-UNNAMED&quot; java -jar ...\n</code></pre>\n<p>So if you are using intellij/Docker setting the env var of <code>_JAVA_OPTIONS</code> to be <code>--add-opens=java.base/java.nio=ALL-UNNAMED</code> is probably the best solution.</p>\n"}],"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71494057,"answer_count":3,"score":2,"last_activity_date":1680780807,"creation_date":1647369607,"question_id":71487403,"body_markdown":"I&#39;m trying to connect Snowflake to Spring boot based application. Everything works well however due to some crazy defaults in snowflake, I&#39;m having to deal with the below error:\r\nhttps://community.snowflake.com/s/article/SAP-BW-Java-lang-NoClassDefFoundError-for-Apache-arrow\r\n\r\nI can fire the queries via Spring data JPA but not able to map the results at all. The solution asks for changing the default resultset format from ARROW to JSON:\r\n\r\n```\r\nCustomer can use this property (jdbc_query_result_format=json) in datasouce property of Application server or session property in application like\r\n\r\nStatement = connection.createStatement();\r\nStatement.executeQuery(&quot;ALTER SESSION SET JDBC_QUERY_RESULT_FORMAT=&#39;JSON&#39;&quot;);\r\n```\r\n\r\nI&#39;m just wondering how could I achieve that with Spring ie. run the above SQL in the bootstrap period. I&#39;m using Spring data JPA queries.","title":"Spring boot - Snowflake JDBC - Alter session automatically when application loads","body":"<p>I'm trying to connect Snowflake to Spring boot based application. Everything works well however due to some crazy defaults in snowflake, I'm having to deal with the below error:\n<a href=\"https://community.snowflake.com/s/article/SAP-BW-Java-lang-NoClassDefFoundError-for-Apache-arrow\" rel=\"nofollow noreferrer\">https://community.snowflake.com/s/article/SAP-BW-Java-lang-NoClassDefFoundError-for-Apache-arrow</a></p>\n<p>I can fire the queries via Spring data JPA but not able to map the results at all. The solution asks for changing the default resultset format from ARROW to JSON:</p>\n<pre><code>Customer can use this property (jdbc_query_result_format=json) in datasouce property of Application server or session property in application like\n\nStatement = connection.createStatement();\nStatement.executeQuery(&quot;ALTER SESSION SET JDBC_QUERY_RESULT_FORMAT='JSON'&quot;);\n</code></pre>\n<p>I'm just wondering how could I achieve that with Spring ie. run the above SQL in the bootstrap period. I'm using Spring data JPA queries.</p>\n"},{"tags":["java","jasper-reports","export-to-excel","dynamic-jasper"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680768278,"post_id":75947079,"comment_id":133954921,"body_markdown":"An issue which relates to this was [reported](https://community.jaspersoft.com/jasperreports-library/issues/14316) and resolved as far as I know in 6.20.0. Try to upgrage the latest Jasper version.","body":"An issue which relates to this was <a href=\"https://community.jaspersoft.com/jasperreports-library/issues/14316\" rel=\"nofollow noreferrer\">reported</a> and resolved as far as I know in 6.20.0. Try to upgrage the latest Jasper version."},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1680769872,"post_id":75947079,"comment_id":133955311,"body_markdown":"@zforgo thanks but I&#39;ve tried this and it didn&#39;t work . :(","body":"@zforgo thanks but I&#39;ve tried this and it didn&#39;t work . :("},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1681164356,"post_id":75947079,"comment_id":134009663,"body_markdown":"As @Axel Richter\nnotes [here](https://stackoverflow.com/questions/75975141/xlsx-files-are-opening-with-error-popup-using-apache-poi-and-jasperreports#comment134000187_75975141), see the [_Component Map_](https://poi.apache.org/components/index.html#components).","body":"As @Axel Richter notes <a href=\"https://stackoverflow.com/questions/75975141/xlsx-files-are-opening-with-error-popup-using-apache-poi-and-jasperreports#comment134000187_75975141\">here</a>, see the <a href=\"https://poi.apache.org/components/index.html#components\" rel=\"nofollow noreferrer\"><i>Component Map</i></a>."}],"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680780598,"creation_date":1680767540,"question_id":75947079,"body_markdown":"I&#39;m working on jasper reports and the .xlxs file that gets generated from the jasper gives this error\r\n**We found a problem with some content in &#39;DetailedQuoteReport ISX003178-001.xlsx. Do you want us to try to recover as much as we can? If you trust the source of this workbook, click Yes.**\r\nHowever the PDF, word, .xls file are getting generated and opened fine.\r\nI&#39;m unable to rectify the cause. The code in order to generate the excel is below\r\n```\r\n    public ByteArrayOutputStream export(JasperPrint jp) {\r\n    Exporter exporter =exporter = new JRXlsxExporter();\r\n    \t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \r\n    \t\t// Here we assign the parameters jp and baos to the exporter\r\n    \t\texporter.setParameter(JRExporterParameter.JASPER_PRINT, jp);\r\n    \t\texporter.setParameter(JRExporterParameter.OUTPUT_STREAM, baos);\r\n    \t\tif (ReportOutputType.XLS.equals(reportOutputType) || ReportOutputType.XLSX.equals(reportOutputType)) {\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_DETECT_CELL_TYPE, Boolean.TRUE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_WHITE_PAGE_BACKGROUND, Boolean.FALSE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_IGNORE_GRAPHICS, Boolean.FALSE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_COLUMNS, Boolean.TRUE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_ROWS, Boolean.TRUE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_COLLAPSE_ROW_SPAN, Boolean.TRUE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_FONT_SIZE_FIX_ENABLED, Boolean.TRUE);\r\n    \t\t\texporter.setParameter(JRXlsExporterParameter.IS_IGNORE_CELL_BORDER, Boolean.TRUE);\r\n    \t\t\t \r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\texporter.exportReport();\r\n    \r\n    \t\t} catch (JRException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \r\n    \t\treturn baos;\r\n    \t}\r\n```\r\nThe jasper Version that I&#39;m using is 6.17.0 ,\r\n Dynamic jasper = 5.3.3 , \r\n poi =  5.2.0 ,\r\n poi-ooxml ,ooxml-schemas - 1.4 .\r\nAs soon as I click on yes in the excel popup the excel opens successfully but why the error prompt is coming? Please help","title":".XLSX files which are generated using jasper report 6.17.0 are opening with error","body":"<p>I'm working on jasper reports and the .xlxs file that gets generated from the jasper gives this error\n<strong>We found a problem with some content in 'DetailedQuoteReport ISX003178-001.xlsx. Do you want us to try to recover as much as we can? If you trust the source of this workbook, click Yes.</strong>\nHowever the PDF, word, .xls file are getting generated and opened fine.\nI'm unable to rectify the cause. The code in order to generate the excel is below</p>\n<pre><code>    public ByteArrayOutputStream export(JasperPrint jp) {\n    Exporter exporter =exporter = new JRXlsxExporter();\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    \n            // Here we assign the parameters jp and baos to the exporter\n            exporter.setParameter(JRExporterParameter.JASPER_PRINT, jp);\n            exporter.setParameter(JRExporterParameter.OUTPUT_STREAM, baos);\n            if (ReportOutputType.XLS.equals(reportOutputType) || ReportOutputType.XLSX.equals(reportOutputType)) {\n                exporter.setParameter(JRXlsExporterParameter.IS_DETECT_CELL_TYPE, Boolean.TRUE);\n                exporter.setParameter(JRXlsExporterParameter.IS_WHITE_PAGE_BACKGROUND, Boolean.FALSE);\n                exporter.setParameter(JRXlsExporterParameter.IS_IGNORE_GRAPHICS, Boolean.FALSE);\n                exporter.setParameter(JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_COLUMNS, Boolean.TRUE);\n                exporter.setParameter(JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_ROWS, Boolean.TRUE);\n                exporter.setParameter(JRXlsExporterParameter.IS_COLLAPSE_ROW_SPAN, Boolean.TRUE);\n                exporter.setParameter(JRXlsExporterParameter.IS_FONT_SIZE_FIX_ENABLED, Boolean.TRUE);\n                exporter.setParameter(JRXlsExporterParameter.IS_IGNORE_CELL_BORDER, Boolean.TRUE);\n                 \n            }\n    \n            try {\n                exporter.exportReport();\n    \n            } catch (JRException e) {\n                throw new RuntimeException(e);\n            }\n    \n            return baos;\n        }\n</code></pre>\n<p>The jasper Version that I'm using is 6.17.0 ,\nDynamic jasper = 5.3.3 ,\npoi =  5.2.0 ,\npoi-ooxml ,ooxml-schemas - 1.4 .\nAs soon as I click on yes in the excel popup the excel opens successfully but why the error prompt is coming? Please help</p>\n"},{"tags":["java","playwright","playwright-java"],"answers":[{"tags":[],"owner":{"account_id":26567053,"reputation":41,"user_id":20193901,"display_name":"Hamza Bouhelal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669908291,"creation_date":1669908281,"answer_id":74644290,"question_id":74598850,"body_markdown":"Since this is your website, you could set some hidden input to indicate whether the table is loading or not using javascript, and wait for that input value to be what you expect in playwright. ","title":"Wait until element change state in Playwright with Java","body":"<p>Since this is your website, you could set some hidden input to indicate whether the table is loading or not using javascript, and wait for that input value to be what you expect in playwright.</p>\n"},{"tags":[],"owner":{"account_id":7400870,"reputation":48,"user_id":5631359,"display_name":"RoRO"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677380350,"creation_date":1677380350,"answer_id":75569755,"question_id":74598850,"body_markdown":"Try a utility function like this to wait for Javascript and JQuery animations to finish\r\n\r\n```\r\n    public static void waitForJsAndJquery(Page page) {\r\n        String jsScript = &quot;document.readyState === &#39;complete&#39;&quot;;\r\n        String jqueryScript = &quot;window.jQuery &amp;&amp; window.jQuery.active == 0 &amp;&amp; $(\\&quot;:animated\\&quot;).length == 0&quot;;\r\n\r\n        Boolean javascript = (Boolean) page.evaluate(jsScript);\r\n        Boolean jquery = (Boolean) page.evaluate(jqueryScript);\r\n\r\n        while (!javascript &amp;&amp; jquery != null &amp;&amp; !jquery) {\r\n            javascript = (Boolean) page.evaluate(jsScript);\r\n            jquery = (Boolean) page.evaluate(jqueryScript);\r\n        }\r\n    }\r\n```\r\n\r\nIf this still doesn&#39;t work, then try in conjunction with your\r\n```\r\npage.waitForLoadState(LoadState.DOMCONTENTLOADED);\r\npage.waitForLoadState(LoadState.NETWORKIDLE);\r\n```","title":"Wait until element change state in Playwright with Java","body":"<p>Try a utility function like this to wait for Javascript and JQuery animations to finish</p>\n<pre><code>    public static void waitForJsAndJquery(Page page) {\n        String jsScript = &quot;document.readyState === 'complete'&quot;;\n        String jqueryScript = &quot;window.jQuery &amp;&amp; window.jQuery.active == 0 &amp;&amp; $(\\&quot;:animated\\&quot;).length == 0&quot;;\n\n        Boolean javascript = (Boolean) page.evaluate(jsScript);\n        Boolean jquery = (Boolean) page.evaluate(jqueryScript);\n\n        while (!javascript &amp;&amp; jquery != null &amp;&amp; !jquery) {\n            javascript = (Boolean) page.evaluate(jsScript);\n            jquery = (Boolean) page.evaluate(jqueryScript);\n        }\n    }\n</code></pre>\n<p>If this still doesn't work, then try in conjunction with your</p>\n<pre><code>page.waitForLoadState(LoadState.DOMCONTENTLOADED);\npage.waitForLoadState(LoadState.NETWORKIDLE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7583167,"reputation":26,"user_id":5753228,"display_name":"Elayaraja K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680779997,"creation_date":1680779920,"answer_id":75948913,"question_id":74598850,"body_markdown":"You can use Awaitility (import org.awaitility.Awaitility;) with polling until your specified conditions are met. It solves most of my conditional based requirement in my app implementation.\r\n\r\n    Callable&lt;Boolean&gt; wait = () -&gt; page.locator(&quot;yourLocator&quot;).isVisible(); //you can code your condition here.\r\n    Awaitility.waitAtMost(Duration.ofSeconds(30)).pollDelay(Duration.ofMillis(500)).until(wait); \r\n\r\n","title":"Wait until element change state in Playwright with Java","body":"<p>You can use Awaitility (import org.awaitility.Awaitility;) with polling until your specified conditions are met. It solves most of my conditional based requirement in my app implementation.</p>\n<pre><code>Callable&lt;Boolean&gt; wait = () -&gt; page.locator(&quot;yourLocator&quot;).isVisible(); //you can code your condition here.\nAwaitility.waitAtMost(Duration.ofSeconds(30)).pollDelay(Duration.ofMillis(500)).until(wait); \n</code></pre>\n"}],"owner":{"account_id":8945947,"reputation":94,"user_id":6673431,"accept_rate":64,"display_name":"Hamza Amami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75948913,"answer_count":3,"score":0,"last_activity_date":1680779997,"creation_date":1669629445,"question_id":74598850,"body_markdown":"I have an issue with tables. Let&#39;s say that I have a table with column and rows, I get the need to verify a value before and after\r\n\r\n    //get the value before\r\n    String randomStuff = page.locate(columnSelector).textContent() //This will give us for example Activate\r\n\r\n    // click on deactivate button\r\n    page.locate(deactivateButton).click()\r\n\r\n    // get the value after\r\n    String randomStuff = page.locate(columnSelector).textContent() //This will give us for example Deactivate\r\n\r\nThe problem is as the element exist anyway, the script give me randomly activate or deactivate, so it generate flakiness.\r\n\r\nI have tried\r\n\r\n    page.waitForLoadState(LoadState.DOMCONTENTLOADED);\r\n    page.waitForLoadState(LoadState.NETWORKIDLE);\r\n\r\nTo wait for element to change, but nothing works.\r\n\r\nI even waited for ready state = complete, but nothing works\r\n\r\n    String state = page.evaluate(&quot;document.readyState&quot;).toString();\r\n    outerloop:while(time&lt;timeout) {\r\n    \ttry {\r\n    \t\tThread.sleep(200);\r\n    \t} catch (InterruptedException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \ttime+=200;\r\n    \tstate = page.evaluate(&quot;document.readyState&quot;).toString();\r\n    \tif (state.equals(&quot;complete&quot;)) \r\n    \t\tbreak outerloop;\r\n    }\r\n\r\nI want to wait (dynamically) until the element change the state. When searching for existence or absence of an element in a table for example, tables and column exist even before the search, so Playwright doesn&#39;t wait until the table finish loading with search result.\r\n\r\nI have many example like this in my web app, and I can&#39;t figure out a simple solution that Playwright offers.","title":"Wait until element change state in Playwright with Java","body":"<p>I have an issue with tables. Let's say that I have a table with column and rows, I get the need to verify a value before and after</p>\n<pre><code>//get the value before\nString randomStuff = page.locate(columnSelector).textContent() //This will give us for example Activate\n\n// click on deactivate button\npage.locate(deactivateButton).click()\n\n// get the value after\nString randomStuff = page.locate(columnSelector).textContent() //This will give us for example Deactivate\n</code></pre>\n<p>The problem is as the element exist anyway, the script give me randomly activate or deactivate, so it generate flakiness.</p>\n<p>I have tried</p>\n<pre><code>page.waitForLoadState(LoadState.DOMCONTENTLOADED);\npage.waitForLoadState(LoadState.NETWORKIDLE);\n</code></pre>\n<p>To wait for element to change, but nothing works.</p>\n<p>I even waited for ready state = complete, but nothing works</p>\n<pre><code>String state = page.evaluate(&quot;document.readyState&quot;).toString();\nouterloop:while(time&lt;timeout) {\n    try {\n        Thread.sleep(200);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    time+=200;\n    state = page.evaluate(&quot;document.readyState&quot;).toString();\n    if (state.equals(&quot;complete&quot;)) \n        break outerloop;\n}\n</code></pre>\n<p>I want to wait (dynamically) until the element change the state. When searching for existence or absence of an element in a table for example, tables and column exist even before the search, so Playwright doesn't wait until the table finish loading with search result.</p>\n<p>I have many example like this in my web app, and I can't figure out a simple solution that Playwright offers.</p>\n"},{"tags":["java","spring","spring-boot","java-8","veracode"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680780112,"post_id":75948840,"comment_id":133957568,"body_markdown":"Use of `stmt.executeQuery(sql)` indicates your queries would contain values already which is a huge vulnerability. Not sure if that&#39;s the only thing that triggers vera code though. You should try to use `PreparedStatement` instead and try passing a list of positional parameters and set them via `setObject(index + 1, parameters[index])`","body":"Use of <code>stmt.executeQuery(sql)</code> indicates your queries would contain values already which is a huge vulnerability. Not sure if that&#39;s the only thing that triggers vera code though. You should try to use <code>PreparedStatement</code> instead and try passing a list of positional parameters and set them via <code>setObject(index + 1, parameters[index])</code>"},{"owner":{"account_id":16724652,"reputation":11,"user_id":12088519,"display_name":"Sanket Shirsat"},"score":0,"creation_date":1680783639,"post_id":75948840,"comment_id":133958385,"body_markdown":"@Thomas As I am using this method in multiple locations so I can&#39;t send a proper positional parameters and set in that method only. Is there any way that we can sanitize this input (String sql) in this method only","body":"@Thomas As I am using this method in multiple locations so I can&#39;t send a proper positional parameters and set in that method only. Is there any way that we can sanitize this input (String sql) in this method only"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680788647,"post_id":75948840,"comment_id":133959639,"body_markdown":"Sanitizing the SQL may be hard as you probably don&#39;t know what queries to allow. You could use some parsing to see just keep the first select query (as injection attacks could insert malicious queries into the data) but that can become quite complex and might mean a significant performance hit. In any case you&#39;d probably still get the vulnerability flag as this doesn&#39;t fix the basic problem.","body":"Sanitizing the SQL may be hard as you probably don&#39;t know what queries to allow. You could use some parsing to see just keep the first select query (as injection attacks could insert malicious queries into the data) but that can become quite complex and might mean a significant performance hit. In any case you&#39;d probably still get the vulnerability flag as this doesn&#39;t fix the basic problem."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680788807,"post_id":75948840,"comment_id":133959679,"body_markdown":"So I&#39;d rather work on getting rid of this method and fix all the code instead trying to work around this tech debt (the workaround could be used as an intermediate measure but should not be the ultimate &quot;fix&quot;).","body":"So I&#39;d rather work on getting rid of this method and fix all the code instead trying to work around this tech debt (the workaround could be used as an intermediate measure but should not be the ultimate &quot;fix&quot;)."}],"owner":{"account_id":16724652,"reputation":11,"user_id":12088519,"display_name":"Sanket Shirsat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680779775,"creation_date":1680779424,"question_id":75948840,"body_markdown":"After running a Vercode report \r\nAfter R&amp;D I didn&#39;t get solution for this.\r\n \r\n**Description**\r\nThis database query contains a SQL injection flaw. The function call constructs a dynamic SQL query using a variable\r\nderived from untrusted input. An attacker could exploit this flaw to execute arbitrary SQL queries against the database.\r\n\r\n**Recommendations**\r\nAvoid dynamically constructing SQL queries. Instead, use parameterized prepared statements to prevent the database\r\nfrom interpreting the contents of bind variables as part of the query. Always validate untrusted input to ensure that it\r\nconforms to the expected format, using centralized data validation routines when possible\r\n\r\nI am using a common method to get the Resultset from database in many modules so I cant create my sql query in this method only, Is there any way to sanitize this user input in this method itself in order to resolve this High Veracode vulnerabiliy.\r\nplease suggest.\r\n\r\n------------------------------------------------------------\r\n\r\n     public ResultSet fetchDB(String sql){\r\n        ResultSet rs = null;\r\n        try {\r\n            logger.info(&quot;DB connection checking&quot;);\r\n            if(con == null || con.isClosed()) {\r\n            \tcon = getDBConnection();\r\n            \tlogger.info(&quot;DB connection established&quot;);\r\n            }\r\n            logger.info(&quot;Executing statement&quot;);\r\n            stmt = con.createStatement();\r\n            rs = stmt.executeQuery(sql);\r\n            logger.info(&quot;DB data fetching completed&quot;);\r\n            return rs;\r\n\t\t} catch (Exception e) {\r\n                            }\r\n      }","title":"Java- Improper Neutralization of Special Elements used in an SQL Command (&#39;SQL Injection&#39;) (CWE ID 89) Veracode Static issue","body":"<p>After running a Vercode report\nAfter R&amp;D I didn't get solution for this.</p>\n<p><strong>Description</strong>\nThis database query contains a SQL injection flaw. The function call constructs a dynamic SQL query using a variable\nderived from untrusted input. An attacker could exploit this flaw to execute arbitrary SQL queries against the database.</p>\n<p><strong>Recommendations</strong>\nAvoid dynamically constructing SQL queries. Instead, use parameterized prepared statements to prevent the database\nfrom interpreting the contents of bind variables as part of the query. Always validate untrusted input to ensure that it\nconforms to the expected format, using centralized data validation routines when possible</p>\n<p>I am using a common method to get the Resultset from database in many modules so I cant create my sql query in this method only, Is there any way to sanitize this user input in this method itself in order to resolve this High Veracode vulnerabiliy.\nplease suggest.</p>\n<hr />\n<pre><code> public ResultSet fetchDB(String sql){\n    ResultSet rs = null;\n    try {\n        logger.info(&quot;DB connection checking&quot;);\n        if(con == null || con.isClosed()) {\n            con = getDBConnection();\n            logger.info(&quot;DB connection established&quot;);\n        }\n        logger.info(&quot;Executing statement&quot;);\n        stmt = con.createStatement();\n        rs = stmt.executeQuery(sql);\n        logger.info(&quot;DB data fetching completed&quot;);\n        return rs;\n    } catch (Exception e) {\n                        }\n  }\n</code></pre>\n"},{"tags":["java","unit-testing","java-bytecode-asm"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1680767494,"post_id":75945271,"comment_id":133954731,"body_markdown":"Yes, it can modify the bytecode.","body":"Yes, it can modify the bytecode."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1680770471,"post_id":75945271,"comment_id":133955436,"body_markdown":"Theres a contradiction between your questions title (How to check the whole execution flow) and the question eventually asked (is it able to modify the bytecode). Further, theres a lot of context missing. To analyze the bytecode, you need access to it, which depends on the environment your analyzer is running in. You can always modify it, producing new modified bytecode, but how you can pass it to an execution environment to use it, depends on the environment supposed to use it (and again, on the environment your analyzer is running in).","body":"Theres a contradiction between your questions title (How to check the whole execution flow) and the question eventually asked (is it able to modify the bytecode). Further, theres a lot of context missing. To analyze the bytecode, you need access to it, which depends on the environment your analyzer is running in. You can always modify it, producing new modified bytecode, but how you can pass it to an execution environment to use it, depends on the environment supposed to use it (and again, on the environment your analyzer is running in)."},{"owner":{"account_id":28227726,"reputation":11,"user_id":21577432,"display_name":"castysishi"},"score":0,"creation_date":1680779846,"post_id":75945271,"comment_id":133957501,"body_markdown":"@Holger I am sorry for I didn&#39;t clearify my question. Thanks for your reply. and  what I want to ask is, the bytecode of test unit is the only bytecode passed to ASM transformer, in this scenario, can I modify the bytecode of class A and class B? If I did not misunderstand what you mean, do you mean that the answer to my question is based on the environment that my analyzer in running in?","body":"@Holger I am sorry for I didn&#39;t clearify my question. Thanks for your reply. and  what I want to ask is, the bytecode of test unit is the only bytecode passed to ASM transformer, in this scenario, can I modify the bytecode of class A and class B? If I did not misunderstand what you mean, do you mean that the answer to my question is based on the environment that my analyzer in running in?"},{"owner":{"account_id":28227726,"reputation":11,"user_id":21577432,"display_name":"castysishi"},"score":0,"creation_date":1680779893,"post_id":75945271,"comment_id":133957516,"body_markdown":"@JohannesKuhn thanks to your reply. I am sorry I didn&#39;t clearify my question. What I want to ask is, the bytecode of test unit is the only bytecode passed to ASM transformer, in this scenario, can I modify the bytecode of class A and class B?","body":"@JohannesKuhn thanks to your reply. I am sorry I didn&#39;t clearify my question. What I want to ask is, the bytecode of test unit is the only bytecode passed to ASM transformer, in this scenario, can I modify the bytecode of class A and class B?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1680789363,"post_id":75945271,"comment_id":133959812,"body_markdown":"A transformer only modifies one class per call. You can of course record information that is used by other transformations later on. I don&#39;t know how you execute the transformer (static tool, java agent...).","body":"A transformer only modifies one class per call. You can of course record information that is used by other transformations later on. I don&#39;t know how you execute the transformer (static tool, java agent...)."},{"owner":{"account_id":28227726,"reputation":11,"user_id":21577432,"display_name":"castysishi"},"score":0,"creation_date":1680871970,"post_id":75945271,"comment_id":133973148,"body_markdown":"@JohannesKuhn thanks a lot. I am using a tool executing the transformer with java agent,  is there anything I can do to reach my aim?  In the scenario, the tool only modifies the passed test unit bytecode, but I would like to modify the bytecode of other classes that is invoked in the test unit bytecode.","body":"@JohannesKuhn thanks a lot. I am using a tool executing the transformer with java agent,  is there anything I can do to reach my aim?  In the scenario, the tool only modifies the passed test unit bytecode, but I would like to modify the bytecode of other classes that is invoked in the test unit bytecode."}],"owner":{"account_id":28227726,"reputation":11,"user_id":21577432,"display_name":"castysishi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680779693,"creation_date":1680746512,"question_id":75945271,"body_markdown":"I am wondering what to do to take a deeper insight into the execution flow when running a test unit. \r\n\r\n\r\nFor example, \r\nbelow should be a body of a **test unit.**\r\n```\r\nA.methodA(1,2,false);\r\nB b = new B(&quot;foo&quot;);\r\nboolean c = b.testFoo(&quot;abc&quot;,true);\r\n```\r\n\r\nBelow bodies are found by JVM on classpath.\r\n\r\nWhat I want to ask is, the bytecode of **test unit** is the only bytecode passed to ASM transformer, in this scenario, can I modify the bytecode of class A and class B?\r\n\r\nbelow should be the body of A\r\n```\r\nClass A{\r\npublic static methodA(int a,int b, boolean c){\r\n    if(c) System.out.println(a+b);\r\n    else System.out.println(a-b);\r\n}\r\n}\r\n```\r\n\r\nbelow should be the body of B\r\n\r\n```\r\nClass B\r\n{\r\n  String n;\r\n  public B(String c) {this.n = c;}\r\n  public boolean testFoo(String temp,boolean b)\r\n  {\r\n    boolean tested = temp.equals(this.n);\r\n    return tested.equals(b);\r\n  }\r\n}\r\n```\r\nWhen I pass the bytecode of **test unit** to the ASM transformer, can it be able to modify the bytecode of Class A and Class B?","title":"How to check the whole execution flow of a running program using ASM?","body":"<p>I am wondering what to do to take a deeper insight into the execution flow when running a test unit.</p>\n<p>For example,\nbelow should be a body of a <strong>test unit.</strong></p>\n<pre><code>A.methodA(1,2,false);\nB b = new B(&quot;foo&quot;);\nboolean c = b.testFoo(&quot;abc&quot;,true);\n</code></pre>\n<p>Below bodies are found by JVM on classpath.</p>\n<p>What I want to ask is, the bytecode of <strong>test unit</strong> is the only bytecode passed to ASM transformer, in this scenario, can I modify the bytecode of class A and class B?</p>\n<p>below should be the body of A</p>\n<pre><code>Class A{\npublic static methodA(int a,int b, boolean c){\n    if(c) System.out.println(a+b);\n    else System.out.println(a-b);\n}\n}\n</code></pre>\n<p>below should be the body of B</p>\n<pre><code>Class B\n{\n  String n;\n  public B(String c) {this.n = c;}\n  public boolean testFoo(String temp,boolean b)\n  {\n    boolean tested = temp.equals(this.n);\n    return tested.equals(b);\n  }\n}\n</code></pre>\n<p>When I pass the bytecode of <strong>test unit</strong> to the ASM transformer, can it be able to modify the bytecode of Class A and Class B?</p>\n"},{"tags":["java","jooq","jooq-codegen"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680779516,"creation_date":1680779516,"answer_id":75948856,"question_id":75947749,"body_markdown":"You probably misunderstood [my previous answer][1]. All you do in a `Converter` is:\r\n\r\n- 100% client based, so you cannot apply any SQL functions in there\r\n- 100% single column expression based, so you cannot access any other column values\r\n\r\nThere&#39;s no way to achieve what you want to do with a `Converter`. [My previous suggestion of using a `Converter`][1] was meant to hint at doing all the encryption / decryption completely in the client, not partially in the client. This means you have to have that key available in memory to do any encryption / decryption using Java API, not using MySQL API.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75939555/521799","title":"How to convert a Field in jooq custom converter using other fields in the same Record?","body":"<p>You probably misunderstood <a href=\"https://stackoverflow.com/a/75939555/521799\">my previous answer</a>. All you do in a <code>Converter</code> is:</p>\n<ul>\n<li>100% client based, so you cannot apply any SQL functions in there</li>\n<li>100% single column expression based, so you cannot access any other column values</li>\n</ul>\n<p>There's no way to achieve what you want to do with a <code>Converter</code>. <a href=\"https://stackoverflow.com/a/75939555/521799\">My previous suggestion of using a <code>Converter</code></a> was meant to hint at doing all the encryption / decryption completely in the client, not partially in the client. This means you have to have that key available in memory to do any encryption / decryption using Java API, not using MySQL API.</p>\n"}],"owner":{"account_id":12199095,"reputation":57,"user_id":8903828,"display_name":"introvertkernel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75948856,"answer_count":1,"score":0,"last_activity_date":1680779516,"creation_date":1680772098,"question_id":75947749,"body_markdown":"- Need to apply custom field conversion logic in ```org.jooq.Converter``` implementation.\r\n- The custom conversion is a encrypt / decrypt the field\r\n- The key for encryption / decryption will be available in the same ```org.jooq.RecordContext ``` i.e: In the same table another column will have key.\r\n\r\nIf below is not possible what are the other ways to achieve this?\r\n\r\n```\r\npublic class CustomFieldConverter implements Converter&lt;String, String&gt; {\r\n\r\n    \r\n    @Override\r\n\tpublic String from(String databaseObject) {\r\n\r\n\t\t// do MySQLDSL.aesDecrypt(databaseObject, Field(&#39;keyColumn&#39;)\r\n        // How to access keyColumn field here?\r\n        // \r\n\t}\r\n\r\n\t@Override\r\n\tpublic String to(String userObject) {\r\n\t\t// do MySQLDSL.aesEncrypt(databaseObject, Field(&#39;keyColumn&#39;)\r\n        // How to access keyColumn field here?\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Class&lt;String&gt; fromType() {\r\n\t\treturn String.class;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Class&lt;String&gt; toType() {\r\n\t\treturn String.class;\r\n\t}\r\n}\r\n\r\n```","title":"How to convert a Field in jooq custom converter using other fields in the same Record?","body":"<ul>\n<li>Need to apply custom field conversion logic in <code>org.jooq.Converter</code> implementation.</li>\n<li>The custom conversion is a encrypt / decrypt the field</li>\n<li>The key for encryption / decryption will be available in the same <code>org.jooq.RecordContext </code> i.e: In the same table another column will have key.</li>\n</ul>\n<p>If below is not possible what are the other ways to achieve this?</p>\n<pre><code>public class CustomFieldConverter implements Converter&lt;String, String&gt; {\n\n    \n    @Override\n    public String from(String databaseObject) {\n\n        // do MySQLDSL.aesDecrypt(databaseObject, Field('keyColumn')\n        // How to access keyColumn field here?\n        // \n    }\n\n    @Override\n    public String to(String userObject) {\n        // do MySQLDSL.aesEncrypt(databaseObject, Field('keyColumn')\n        // How to access keyColumn field here?\n    }\n\n    @Override\n    public Class&lt;String&gt; fromType() {\n        return String.class;\n    }\n\n    @Override\n    public Class&lt;String&gt; toType() {\n        return String.class;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","swing","jedit"],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680779480,"creation_date":1680772087,"answer_id":75947743,"question_id":75855751,"body_markdown":"With the following BeanShell script you can save a PNG of the jEdit text area:\r\n```java\r\nimport java.awt.image.BufferedImage;\r\nimport javax.imageio.ImageIO;\r\n\r\nimg = new BufferedImage(textArea.getWidth(), textArea.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\ng = img.getGraphics();\r\ntextArea.paint(g);\r\ng.dispose();\r\nImageIO.write(img, &quot;png&quot;, new File(&quot;.../textArea.png&quot;));\r\n```\r\n\r\nYou can save that as action and map it to some shortcut, even adding a dialog that asks for the location where to save the image to.\r\n\r\nYou can also save it as a file somewhere and then invoke it from outside using `jedit -run=path/to/snapshot-textArea.bsh` to record the currently active text area.\r\n\r\nYou can do the same with any Swing component, not just with the text area.","title":"Calling into jEdit to get a bitmap of the rendered text","body":"<p>With the following BeanShell script you can save a PNG of the jEdit text area:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\n\nimg = new BufferedImage(textArea.getWidth(), textArea.getHeight(), BufferedImage.TYPE_INT_ARGB);\ng = img.getGraphics();\ntextArea.paint(g);\ng.dispose();\nImageIO.write(img, &quot;png&quot;, new File(&quot;.../textArea.png&quot;));\n</code></pre>\n<p>You can save that as action and map it to some shortcut, even adding a dialog that asks for the location where to save the image to.</p>\n<p>You can also save it as a file somewhere and then invoke it from outside using <code>jedit -run=path/to/snapshot-textArea.bsh</code> to record the currently active text area.</p>\n<p>You can do the same with any Swing component, not just with the text area.</p>\n"}],"owner":{"account_id":1876608,"reputation":6989,"user_id":1697709,"accept_rate":78,"display_name":"Gergely"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75947743,"answer_count":1,"score":0,"last_activity_date":1680779480,"creation_date":1679920122,"question_id":75855751,"body_markdown":"In Swift, it is possible to get the bitmap of generated graphical content:\r\n\r\nhttps://stackoverflow.com/questions/7787027/create-bitmap-of-uitextviews-entire-content\r\n\r\nI would like to have this for the jEdit text area. How could I do it?","title":"Calling into jEdit to get a bitmap of the rendered text","body":"<p>In Swift, it is possible to get the bitmap of generated graphical content:</p>\n<p><a href=\"https://stackoverflow.com/questions/7787027/create-bitmap-of-uitextviews-entire-content\">Create bitmap of UITextView&#39;s entire content</a></p>\n<p>I would like to have this for the jEdit text area. How could I do it?</p>\n"},{"tags":["java","oauth-2.0","azure-active-directory","azure-web-app-service","microsoft-partnercenter-java"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1677068985,"post_id":75532641,"comment_id":133263643,"body_markdown":"Check the logs of your app for the complete stack trace and verify where that cast is happening. You didn&#39;t provide enough information to identify the source and no one is going to clone the project and reproduce it like that. It&#39;s on you to provide a [mre].","body":"Check the logs of your app for the complete stack trace and verify where that cast is happening. You didn&#39;t provide enough information to identify the source and no one is going to clone the project and reproduce it like that. It&#39;s on you to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1677072566,"post_id":75532641,"comment_id":133264826,"body_markdown":"@JoachimSauer - Although there is no stack trace in the logs but I have updated the question with the code which seems to be the source.","body":"@JoachimSauer - Although there is no stack trace in the logs but I have updated the question with the code which seems to be the source."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1677072968,"post_id":75532641,"comment_id":133264965,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1677073962,"post_id":75532641,"comment_id":133265256,"body_markdown":"Replaced image with actual code. For error, just wanted to show where I saw the it. Hence, added the image. Hope the code helps in finding the source.","body":"Replaced image with actual code. For error, just wanted to show where I saw the it. Hence, added the image. Hope the code helps in finding the source."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677074391,"post_id":75532641,"comment_id":133265410,"body_markdown":"Since the line you mention doesn&#39;t handle `String` or `List`, it can&#39;t be the one that actually throws the exception. Did you try adding a catch block for `Exception` and print the full stack trace there?","body":"Since the line you mention doesn&#39;t handle <code>String</code> or <code>List</code>, it can&#39;t be the one that actually throws the exception. Did you try adding a catch block for <code>Exception</code> and print the full stack trace there?"},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1677076345,"post_id":75532641,"comment_id":133266074,"body_markdown":"Done, I just printed the stack trace in the catch block from where it was redirected to the error JSP. Updated the question with it.\nJust FYI, all the invocations in the stack trace are from library classes and not directly from project. So, I cannot modify those.","body":"Done, I just printed the stack trace in the catch block from where it was redirected to the error JSP. Updated the question with it. Just FYI, all the invocations in the stack trace are from library classes and not directly from project. So, I cannot modify those."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677076497,"post_id":75532641,"comment_id":133266131,"body_markdown":"That stack trace is pretty deep in code that I assume is not yours. That means there&#39;s either a bug in the code or it&#39;s been misconfigured somehow. I&#39;m don&#39;t really know any of the software involved, so I can&#39;t give you more specific suggestions.","body":"That stack trace is pretty deep in code that I assume is not yours. That means there&#39;s either a bug in the code or it&#39;s been misconfigured somehow. I&#39;m don&#39;t really know any of the software involved, so I can&#39;t give you more specific suggestions."},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1677077373,"post_id":75532641,"comment_id":133266449,"body_markdown":"Created an issue for this project in GIT because I see that for another GIT project which is also microsoft partner center related, a similar issue had been posted and it was fixed - https://github.com/microsoft/Partner-Center-Java/issues/85\nBut I&#39;m not able to check what exactly was that fix.","body":"Created an issue for this project in GIT because I see that for another GIT project which is also microsoft partner center related, a similar issue had been posted and it was fixed - <a href=\"https://github.com/microsoft/Partner-Center-Java/issues/85\" rel=\"nofollow noreferrer\">github.com/microsoft/Partner-Center-Java/issues/85</a> But I&#39;m not able to check what exactly was that fix."},{"owner":{"account_id":26324592,"reputation":4900,"user_id":19986107,"display_name":"Aswin"},"score":0,"creation_date":1678448643,"post_id":75532641,"comment_id":133538896,"body_markdown":"@ab.it.gcp Did you got this fixed?","body":"@ab.it.gcp Did you got this fixed?"},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1678448997,"post_id":75532641,"comment_id":133538966,"body_markdown":"@Aswin - No. There&#39;s no response on the GIT issue as well.","body":"@Aswin - No. There&#39;s no response on the GIT issue as well."}],"answers":[{"tags":[],"owner":{"account_id":21189004,"reputation":59,"user_id":15581823,"display_name":"Ave Maria - Hail Mary"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680779316,"creation_date":1680629040,"answer_id":75932189,"question_id":75532641,"body_markdown":"Java\r\n\r\n    string str = &quot;A&quot;; // No space character.\r\n    (string) str.split(&quot; &quot;); // Error\r\n    (ArrayList&lt;string&gt;) str.split(&quot; &quot;); // Error\r\n    (List&lt;string&gt;) str.split(&quot; &quot;); // No Error\r\nKotlin\r\n\r\n    val str = &quot;A&quot; // No space character.\r\n    str.split(&quot; &quot;) as String // Error\r\n    str.split(&quot; &quot;) as ArrayList&lt;String&gt; // Error\r\n    str.split(&quot; &quot;) as List&lt;String&gt; // No Error","title":"How to resolve class java.util.Collections$SingletonList cannot be cast to class java.lang.String?","body":"<p>Java</p>\n<pre><code>string str = &quot;A&quot;; // No space character.\n(string) str.split(&quot; &quot;); // Error\n(ArrayList&lt;string&gt;) str.split(&quot; &quot;); // Error\n(List&lt;string&gt;) str.split(&quot; &quot;); // No Error\n</code></pre>\n<p>Kotlin</p>\n<pre><code>val str = &quot;A&quot; // No space character.\nstr.split(&quot; &quot;) as String // Error\nstr.split(&quot; &quot;) as ArrayList&lt;String&gt; // Error\nstr.split(&quot; &quot;) as List&lt;String&gt; // No Error\n</code></pre>\n"}],"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1568,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680779316,"creation_date":1677068625,"question_id":75532641,"body_markdown":"I have cloned the project - https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault from GIT to my local Eclipse.\r\n\r\nWhen I run the partnerconsent project on my local server, I am getting this exception :-\r\n\r\nclass java.util.Collections$SingletonList cannot be cast to class java.lang.String (java.util.Collections$SingletonList and java.lang.String are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n\r\n[![Screenshot for reference][1]][1]\r\n\r\n\r\nStack trace\r\n\r\n  [1]: https://i.stack.imgur.com/5rlgO.png\r\n   \r\n\r\n    java.lang.ClassCastException: class java.util.Collections$SingletonList cannot be cast to class java.lang.String (java.util.Collections$SingletonList and java.lang.String are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat com.nimbusds.oauth2.sdk.util.URLUtils.serializeParameters(URLUtils.java:103)\r\n    \tat com.microsoft.aad.adal4j.AdalTokenRequest.toOAuthRequest(AdalTokenRequest.java:160)\r\n    \tat com.microsoft.aad.adal4j.AdalTokenRequest.executeOAuthRequestAndProcessResponse(AdalTokenRequest.java:86)\r\n    \tat com.microsoft.aad.adal4j.AuthenticationContext.acquireTokenCommon(AuthenticationContext.java:930)\r\n    \tat com.microsoft.aad.adal4j.AcquireTokenCallable.execute(AcquireTokenCallable.java:70)\r\n    \tat com.microsoft.aad.adal4j.AcquireTokenCallable.execute(AcquireTokenCallable.java:38)\r\n    \tat com.microsoft.aad.adal4j.AdalCallable.call(AdalCallable.java:47)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)","title":"How to resolve class java.util.Collections$SingletonList cannot be cast to class java.lang.String?","body":"<p>I have cloned the project - <a href=\"https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault</a> from GIT to my local Eclipse.</p>\n<p>When I run the partnerconsent project on my local server, I am getting this exception :-</p>\n<p>class java.util.Collections$SingletonList cannot be cast to class java.lang.String (java.util.Collections$SingletonList and java.lang.String are in module java.base of loader 'bootstrap')</p>\n<p><a href=\"https://i.stack.imgur.com/5rlgO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5rlgO.png\" alt=\"Screenshot for reference\" /></a></p>\n<p>Stack trace</p>\n<pre><code>java.lang.ClassCastException: class java.util.Collections$SingletonList cannot be cast to class java.lang.String (java.util.Collections$SingletonList and java.lang.String are in module java.base of loader 'bootstrap')\n    at com.nimbusds.oauth2.sdk.util.URLUtils.serializeParameters(URLUtils.java:103)\n    at com.microsoft.aad.adal4j.AdalTokenRequest.toOAuthRequest(AdalTokenRequest.java:160)\n    at com.microsoft.aad.adal4j.AdalTokenRequest.executeOAuthRequestAndProcessResponse(AdalTokenRequest.java:86)\n    at com.microsoft.aad.adal4j.AuthenticationContext.acquireTokenCommon(AuthenticationContext.java:930)\n    at com.microsoft.aad.adal4j.AcquireTokenCallable.execute(AcquireTokenCallable.java:70)\n    at com.microsoft.aad.adal4j.AcquireTokenCallable.execute(AcquireTokenCallable.java:38)\n    at com.microsoft.aad.adal4j.AdalCallable.call(AdalCallable.java:47)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1680534335,"post_id":75920929,"comment_id":133910668,"body_markdown":"You cannot fix that inside the method. Both the list and the array get passed to the method, so the caller is in control over the lengths of these parameters. Call you can do inside the method is check if the lengths match.","body":"You cannot fix that inside the method. Both the list and the array get passed to the method, so the caller is in control over the lengths of these parameters. Call you can do inside the method is check if the lengths match."},{"owner":{"account_id":22782349,"reputation":89,"user_id":16938087,"display_name":"Corvus"},"score":1,"creation_date":1680534673,"post_id":75920929,"comment_id":133910778,"body_markdown":"Did you write this code? Don&#39;t pass separate lists or arrays of primitive data like `double`s and try to synchronize them; create a class that encapsulates the object data including price, and put the logic in the class. And prices should be fixed-point, not `double`.","body":"Did you write this code? Don&#39;t pass separate lists or arrays of primitive data like <code>double</code>s and try to synchronize them; create a class that encapsulates the object data including price, and put the logic in the class. And prices should be fixed-point, not <code>double</code>."},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":1,"creation_date":1680537184,"post_id":75920929,"comment_id":133911419,"body_markdown":"The only solution is to check and throw and IllegalArgumentException if the two don&#39;t match.","body":"The only solution is to check and throw and IllegalArgumentException if the two don&#39;t match."},{"owner":{"account_id":14234571,"reputation":662,"user_id":10282739,"display_name":"Noryn Basaya"},"score":0,"creation_date":1680537291,"post_id":75920929,"comment_id":133911447,"body_markdown":"as they said, it&#39;s not possible.  you should try inside curly brackets {} what you are trying to do and not in the parameter of the method.","body":"as they said, it&#39;s not possible.  you should try inside curly brackets {} what you are trying to do and not in the parameter of the method."},{"owner":{"account_id":11603,"reputation":21560,"user_id":22437,"accept_rate":88,"display_name":"Dour High Arch"},"score":0,"creation_date":1680621761,"post_id":75920929,"comment_id":133927419,"body_markdown":"This is called an [XY Problem](https://meta.stackexchange.com/a/66378/135230); you want X but you don&#39;t know how to get it. You thought that create an Array that is dependent upon the size of an ArrayList would X, but now you find that won&#39;t X. You need to explain what X is. Why are you doing that? What is your goal?","body":"This is called an <a href=\"https://meta.stackexchange.com/a/66378/135230\">XY Problem</a>; you want X but you don&#39;t know how to get it. You thought that create an Array that is dependent upon the size of an ArrayList would X, but now you find that won&#39;t X. You need to explain what X is. Why are you doing that? What is your goal?"}],"answers":[{"tags":[],"owner":{"account_id":27636740,"reputation":44,"user_id":21094524,"display_name":"VaporXP"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680536719,"creation_date":1680536533,"answer_id":75921313,"question_id":75920929,"body_markdown":"You can not do that. Since the method receives the array as a parameter you can not change its size. You can however check inside the method if both lengths match depending on what you wish to accomplish. I am not sure what your constraints are, but it seems like this can be easily done where the method is called before the call.","title":"How can I create an array that is dependent upon the size of an ArrayList?","body":"<p>You can not do that. Since the method receives the array as a parameter you can not change its size. You can however check inside the method if both lengths match depending on what you wish to accomplish. I am not sure what your constraints are, but it seems like this can be easily done where the method is called before the call.</p>\n"}],"owner":{"account_id":28204088,"reputation":11,"user_id":21557443,"display_name":"glum"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680779273,"creation_date":1680534219,"question_id":75920929,"body_markdown":"```lang-java\r\npublic void methodName(ArrayList&lt;Object&gt; list, double[] priceList){...}\r\n```\r\n        \r\nThis method is supposed to take an `ArrayList` of objects paired with their price as an array of double values. I need the array to be the same size as the `ArrayList`. \r\n\r\nIs it possible to call a method within the declaration? `(double[list.size()])` What are other solutions to this problem? ","title":"How can I create an array that is dependent upon the size of an ArrayList?","body":"<pre class=\"lang-java prettyprint-override\"><code>public void methodName(ArrayList&lt;Object&gt; list, double[] priceList){...}\n</code></pre>\n<p>This method is supposed to take an <code>ArrayList</code> of objects paired with their price as an array of double values. I need the array to be the same size as the <code>ArrayList</code>.</p>\n<p>Is it possible to call a method within the declaration? <code>(double[list.size()])</code> What are other solutions to this problem?</p>\n"},{"tags":["java","list","filter","java-stream"],"comments":[{"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"score":3,"creation_date":1680768247,"post_id":75947012,"comment_id":133954912,"body_markdown":"Try using map instead of peek, it has better performance since it avoids modifying the objects in place and creates new instances only when needed.","body":"Try using map instead of peek, it has better performance since it avoids modifying the objects in place and creates new instances only when needed."},{"owner":{"account_id":15722688,"reputation":315,"user_id":11345193,"display_name":"Danilo Giovannico"},"score":0,"creation_date":1680769449,"post_id":75947012,"comment_id":133955219,"body_markdown":"Un example about coding of this?","body":"Un example about coding of this?"},{"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"score":0,"creation_date":1680769735,"post_id":75947012,"comment_id":133955288,"body_markdown":"see this https://stackoverflow.com/a/44371170/9772107","body":"see this <a href=\"https://stackoverflow.com/a/44371170/9772107\">stackoverflow.com/a/44371170/9772107</a>"}],"answers":[{"comments":[{"owner":{"account_id":15722688,"reputation":315,"user_id":11345193,"display_name":"Danilo Giovannico"},"score":0,"creation_date":1680773154,"post_id":75947397,"comment_id":133956000,"body_markdown":"I added a version with the map in the previous example.","body":"I added a version with the map in the previous example."}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680779210,"creation_date":1680769986,"answer_id":75947397,"question_id":75947012,"body_markdown":"from a design point of view, I would say you can try to encapsulate the filtering logic inside this Attivita class. \r\n\r\nFor a simplified example, if you see something like this:\r\n```pawn.setPosition(pawn.getPosition() + x)```\r\nThis is an anti-pattern known as &quot;feature envy&quot; and it is a sign that this logic belongs inside the Pawn class: ```pawn.advance(x)```.\r\n\r\nIn your case, maybe you can add something like ```activita.filterLavorazioniById(idIstanza)```\r\n\r\n\r\nIn regards to performance, how large are these collections? if they are not very large, the overhead of using parallel streams might not be worth it, especially since you are using mutable data.\r\n\r\nAs suggested in the comments, it can be a good idea to use immutable objects if you want to safely process these collections in parallel. So, if you&#39;ll introduce this ```filterLavorazioniById()``` method, it can potentially return a new ```activita``` with the filtered data. the final code can look something like this:\r\n\r\n    return servizioGenerico.ottieniCall(prefixCall).getListaAttivita()\r\n    \t.stream().parallel()\r\n        .map(attivita -&gt; attivita.filterLavorazioniById(idIstanza)\r\n    \t.collect(Collectors.toList());","title":"Stream on objects list that cointains a child list need to be filtered Java Stream","body":"<p>from a design point of view, I would say you can try to encapsulate the filtering logic inside this Attivita class.</p>\n<p>For a simplified example, if you see something like this:\n<code>pawn.setPosition(pawn.getPosition() + x)</code>\nThis is an anti-pattern known as &quot;feature envy&quot; and it is a sign that this logic belongs inside the Pawn class: <code>pawn.advance(x)</code>.</p>\n<p>In your case, maybe you can add something like <code>activita.filterLavorazioniById(idIstanza)</code></p>\n<p>In regards to performance, how large are these collections? if they are not very large, the overhead of using parallel streams might not be worth it, especially since you are using mutable data.</p>\n<p>As suggested in the comments, it can be a good idea to use immutable objects if you want to safely process these collections in parallel. So, if you'll introduce this <code>filterLavorazioniById()</code> method, it can potentially return a new <code>activita</code> with the filtered data. the final code can look something like this:</p>\n<pre><code>return servizioGenerico.ottieniCall(prefixCall).getListaAttivita()\n    .stream().parallel()\n    .map(attivita -&gt; attivita.filterLavorazioniById(idIstanza)\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":15722688,"reputation":315,"user_id":11345193,"display_name":"Danilo Giovannico"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75947397,"answer_count":1,"score":0,"last_activity_date":1680779210,"creation_date":1680767066,"question_id":75947012,"body_markdown":"I would like to ask you what was the most elegant and performant way to execute the following piece of code:\r\n \r\n\r\n    return servizioGenerico.ottieniCall(prefixCall).getListaAttivita().stream().parallel()\r\n                .peek(attivita -&gt; {\r\n                    attivita.setListaLavorazioni(attivita.getListaLavorazioni().stream().parallel().filter(lavorazione -&gt; lavorazione.getIstanza().getId().equals(idIstanza)).collect(Collectors.toList()));\r\n                }).collect(Collectors.toList());\r\n\r\nthe following code iterates over a list of objects containing a child that must be filtered and reset on each object of the parent stream.\r\n\r\nAlso posted a new version of the code using map:\r\n\r\n    @CachePut(value=&quot;sdipp-cache&quot;)\r\n    public List&lt;Attivita&gt; ottieniListaAttivita(String prefixCall, Long idIstanza) throws DefaultException {\r\n        return servizioGenerico.ottieniCall(prefixCall).getListaAttivita().stream().parallel()\r\n            .map(attivita -&gt; filtroLavorazioniAttivitaSuIstanza(attivita, idIstanza)).collect(Collectors.toList());\r\n    }\r\n\r\n    private Attivita filtroLavorazioniAttivitaSuIstanza(Attivita attivita, Long idIstanza) {\r\n        attivita.setListaLavorazioni(attivita.getListaLavorazioni().stream().parallel()\r\n            .filter(lavorazione -&gt; lavorazione.getIstanza().getId().equals(idIstanza)).collect(Collectors.toList()));\r\n        return attivita;\r\n    }\r\n\r\nThanks.","title":"Stream on objects list that cointains a child list need to be filtered Java Stream","body":"<p>I would like to ask you what was the most elegant and performant way to execute the following piece of code:</p>\n<pre><code>return servizioGenerico.ottieniCall(prefixCall).getListaAttivita().stream().parallel()\n            .peek(attivita -&gt; {\n                attivita.setListaLavorazioni(attivita.getListaLavorazioni().stream().parallel().filter(lavorazione -&gt; lavorazione.getIstanza().getId().equals(idIstanza)).collect(Collectors.toList()));\n            }).collect(Collectors.toList());\n</code></pre>\n<p>the following code iterates over a list of objects containing a child that must be filtered and reset on each object of the parent stream.</p>\n<p>Also posted a new version of the code using map:</p>\n<pre><code>@CachePut(value=&quot;sdipp-cache&quot;)\npublic List&lt;Attivita&gt; ottieniListaAttivita(String prefixCall, Long idIstanza) throws DefaultException {\n    return servizioGenerico.ottieniCall(prefixCall).getListaAttivita().stream().parallel()\n        .map(attivita -&gt; filtroLavorazioniAttivitaSuIstanza(attivita, idIstanza)).collect(Collectors.toList());\n}\n\nprivate Attivita filtroLavorazioniAttivitaSuIstanza(Attivita attivita, Long idIstanza) {\n    attivita.setListaLavorazioni(attivita.getListaLavorazioni().stream().parallel()\n        .filter(lavorazione -&gt; lavorazione.getIstanza().getId().equals(idIstanza)).collect(Collectors.toList()));\n    return attivita;\n}\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","algorithm","loops","nested-loops","primes"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1680771130,"post_id":75947533,"comment_id":133955567,"body_markdown":"`num_primes` is defined as 0 in every iteration of the loop so `primes[num_primes] = prime;` will never update anything else than `primes[1]`","body":"<code>num_primes</code> is defined as 0 in every iteration of the loop so <code>primes[num_primes] = prime;</code> will never update anything else than <code>primes[1]</code>"},{"owner":{"account_id":28230271,"reputation":13,"user_id":21579599,"display_name":"Pranshu"},"score":1,"creation_date":1680771954,"post_id":75947533,"comment_id":133955751,"body_markdown":"Thanks Now my problem is solved it was my first independent java project","body":"Thanks Now my problem is solved it was my first independent java project"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680771471,"creation_date":1680771471,"answer_id":75947629,"question_id":75947533,"body_markdown":"There are two issues:\r\n\r\n* `num_primes` is redefined with value 0 at *every* iteration of the `do` loop and so `primes[num_primes] = prime;` is always doing `primes[1] = prime;`. `num_primes` should only be initialised once -- outside the loop.\r\n* `num_primes++` is executed in every iteration of the loop, but this should only happen if a prime was found.\r\n* Not a problem, but `continue` as the last statement in a loop body is useless.\r\n\r\nCorrected code:\r\n\r\n```\r\n        if (num &gt; 1) {\r\n            int num_primes = 0; // Initialise before loop\r\n            do {\r\n                prime ++;\r\n                if (PrimeNumberFinder.is_prime(prime, primes)) {\r\n                    // Only increment when prime\r\n                    primes[++num_primes] = prime;\r\n                }\r\n            } while (primes[num - 1] == 0);\r\n        }\r\n```\r\n","title":"generating a nth prime number without using &#39;isprime()&#39; function","body":"<p>There are two issues:</p>\n<ul>\n<li><code>num_primes</code> is redefined with value 0 at <em>every</em> iteration of the <code>do</code> loop and so <code>primes[num_primes] = prime;</code> is always doing <code>primes[1] = prime;</code>. <code>num_primes</code> should only be initialised once -- outside the loop.</li>\n<li><code>num_primes++</code> is executed in every iteration of the loop, but this should only happen if a prime was found.</li>\n<li>Not a problem, but <code>continue</code> as the last statement in a loop body is useless.</li>\n</ul>\n<p>Corrected code:</p>\n<pre><code>        if (num &gt; 1) {\n            int num_primes = 0; // Initialise before loop\n            do {\n                prime ++;\n                if (PrimeNumberFinder.is_prime(prime, primes)) {\n                    // Only increment when prime\n                    primes[++num_primes] = prime;\n                }\n            } while (primes[num - 1] == 0);\n        }\n</code></pre>\n"}],"owner":{"account_id":28230271,"reputation":13,"user_id":21579599,"display_name":"Pranshu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75947629,"answer_count":1,"score":0,"last_activity_date":1680778174,"creation_date":1680770882,"question_id":75947533,"body_markdown":"there is no output for the code when the input exceeds two.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\n\r\nclass PrimeNumberFinder {\r\n    static boolean is_prime(int number ,int[] prime_numbers) {\r\n        boolean is_prime = true;\r\n        for (int primeNumber : prime_numbers) {\r\n            if( primeNumber != 0) {\r\n                if ((number % primeNumber) == 0) {\r\n                    is_prime = false;\r\n                    break;\r\n                }else {continue;}\r\n            }else {continue ;}\r\n        }\r\n        return is_prime;\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String []args){\r\n        Scanner n = new Scanner(System.in) ;\r\n        System.out.println(&quot;Enter the nth prime number you want: &quot;);\r\n\r\n        int num = n.nextInt();\r\n\r\n        int[] primes = new int[num];\r\n        int prime = 2;\r\n        primes[0] = 2;\r\n        if (num &gt; 1) {\r\n        do {\r\n            int num_primes = 0;\r\n            num_primes ++;\r\n            prime ++;\r\n            if (PrimeNumberFinder.is_prime(prime, primes)) {primes[num_primes] = prime;}\r\n            continue;\r\n        } while (primes[num - 1] == 0);}\r\n        System.out.printf(&quot;Your Prime number is %d&quot;,primes[num -1]);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI was trying to create a cli application that generates a nth prime number with input n.\r\nthe above code is not generating any output after 2 i guess any one of the loop is not functioning properly.","title":"generating a nth prime number without using &#39;isprime()&#39; function","body":"<p>there is no output for the code when the input exceeds two.</p>\n<pre><code>import java.util.Scanner;\n\n\nclass PrimeNumberFinder {\n    static boolean is_prime(int number ,int[] prime_numbers) {\n        boolean is_prime = true;\n        for (int primeNumber : prime_numbers) {\n            if( primeNumber != 0) {\n                if ((number % primeNumber) == 0) {\n                    is_prime = false;\n                    break;\n                }else {continue;}\n            }else {continue ;}\n        }\n        return is_prime;\n    }\n}\n\npublic class Main {\n    public static void main(String []args){\n        Scanner n = new Scanner(System.in) ;\n        System.out.println(&quot;Enter the nth prime number you want: &quot;);\n\n        int num = n.nextInt();\n\n        int[] primes = new int[num];\n        int prime = 2;\n        primes[0] = 2;\n        if (num &gt; 1) {\n        do {\n            int num_primes = 0;\n            num_primes ++;\n            prime ++;\n            if (PrimeNumberFinder.is_prime(prime, primes)) {primes[num_primes] = prime;}\n            continue;\n        } while (primes[num - 1] == 0);}\n        System.out.printf(&quot;Your Prime number is %d&quot;,primes[num -1]);\n    }\n}\n</code></pre>\n<p>I was trying to create a cli application that generates a nth prime number with input n.\nthe above code is not generating any output after 2 i guess any one of the loop is not functioning properly.</p>\n"},{"tags":["java","android","dart","gradle"],"owner":{"account_id":26716566,"reputation":1,"user_id":20321089,"display_name":"Asif Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680778123,"answer_count":0,"score":0,"last_activity_date":1680778062,"creation_date":1680777314,"question_id":75948540,"body_markdown":"* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;/Users/macbook/Desktop/psych_diagnosis/android/settings.gradle&#39; (/Users/macbook/.gradle/caches/7.4/scripts/9cj2juayyzdzoy7ot69w9men4).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 64\r\n\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;/Users/macbook/Desktop/psych_diagnosis/android/settings.gradle&#39; (/Users/macbook/.gradle/caches/7.4/scripts/9cj2juayyzdzoy7ot69w9men4).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 64\r\n","title":"A java error come in my Project my java version is 70","body":"<ul>\n<li>What went wrong:\nCould not open settings generic class cache for settings file '/Users/macbook/Desktop/psych_diagnosis/android/settings.gradle' (/Users/macbook/.gradle/caches/7.4/scripts/9cj2juayyzdzoy7ot69w9men4).</li>\n</ul>\n<blockquote>\n<p>BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 64</p>\n</blockquote>\n<ul>\n<li>What went wrong:\nCould not open settings generic class cache for settings file '/Users/macbook/Desktop/psych_diagnosis/android/settings.gradle' (/Users/macbook/.gradle/caches/7.4/scripts/9cj2juayyzdzoy7ot69w9men4).</li>\n</ul>\n<blockquote>\n<p>BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 64</p>\n</blockquote>\n"},{"tags":["java","generator","barcode"],"comments":[{"owner":{"account_id":428239,"reputation":2242,"user_id":810435,"accept_rate":82,"display_name":"naeemgik"},"score":1,"creation_date":1503379569,"post_id":1700597,"comment_id":78576447,"body_markdown":"you can use barcode4j. A good example [here](http://naeemgik.blogspot.com/2013/10/generating-barcode-in-java-using.html)","body":"you can use barcode4j. A good example <a href=\"http://naeemgik.blogspot.com/2013/10/generating-barcode-in-java-using.html\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"comments":[{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1382331517,"post_id":1700616,"comment_id":28902253,"body_markdown":"@Chris Dail. Iwould like to clear my doubt. Is iText is free? can we use it for commercial projects","body":"@Chris Dail. Iwould like to clear my doubt. Is iText is free? can we use it for commercial projects"},{"owner":{"account_id":3519,"reputation":25773,"user_id":5077,"accept_rate":71,"display_name":"Chris Dail"},"score":0,"creation_date":1382726842,"post_id":1700616,"comment_id":29087857,"body_markdown":"@Manish iText used to be free. It looks like it now requires a commercial license for commercial products.","body":"@Manish iText used to be free. It looks like it now requires a commercial license for commercial products."},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1382767427,"post_id":1700616,"comment_id":29098351,"body_markdown":"@ChrisDail I am developing a software product for sale. Can I use iText for free","body":"@ChrisDail I am developing a software product for sale. Can I use iText for free"},{"owner":{"account_id":183592,"reputation":16214,"user_id":2048448,"accept_rate":82,"display_name":"sksamuel"},"score":0,"creation_date":1410198387,"post_id":1700616,"comment_id":40226731,"body_markdown":"The problem is the iText barcode AWT image creator doesn&#39;t support options like text, or changing the width. You can do this for the PDF output but not AWT.","body":"The problem is the iText barcode AWT image creator doesn&#39;t support options like text, or changing the width. You can do this for the PDF output but not AWT."},{"owner":{"account_id":953854,"reputation":1820,"user_id":979507,"display_name":"Dominik Dorn"},"score":0,"creation_date":1464776008,"post_id":1700616,"comment_id":62618546,"body_markdown":"I&#39;m wondering how you can suggest using iText without mentioning the implications the AGPL has..","body":"I&#39;m wondering how you can suggest using iText without mentioning the implications the AGPL has.."},{"owner":{"account_id":3296009,"reputation":181,"user_id":2773257,"display_name":"vicco"},"score":0,"creation_date":1553656022,"post_id":1700616,"comment_id":97461488,"body_markdown":"According to their page iText com.lowagie classes has been deprecated in 2012. And seems it no longer an open API.","body":"According to their page iText com.lowagie classes has been deprecated in 2012. And seems it no longer an open API."}],"tags":[],"owner":{"account_id":3519,"reputation":25773,"user_id":5077,"accept_rate":71,"display_name":"Chris Dail"},"comment_count":6,"down_vote_count":2,"up_vote_count":43,"is_accepted":true,"score":41,"last_activity_date":1257768662,"creation_date":1257768662,"answer_id":1700616,"question_id":1700597,"body_markdown":"[iText][1] is a great Java PDF library. They also have an API for creating barcodes. You don&#39;t need to be creating a PDF to use it.\r\n\r\nThis page has the details on [creating barcodes][2]. Here is an example from that site:\r\n\r\n    BarcodeEAN codeEAN = new BarcodeEAN();\r\n    codeEAN.setCodeType(codeEAN.EAN13);\r\n    codeEAN.setCode(&quot;9780201615883&quot;);\r\n    Image imageEAN = codeEAN.createImageWithBarcode(cb, null, null);\r\n\r\nThe biggest thing you will need to determine is what type of barcode you need. There are many different barcode formats and iText does support a lot of them. You will need to know what format you need before you can determine if this API will work for you.\r\n\r\n\r\n  [1]: http://www.lowagie.com/iText/\r\n  [2]: http://itextdocs.lowagie.com/tutorial/objects/images/tiff/index.php","title":"BarCode Image Generator in Java","body":"<p><a href=\"http://www.lowagie.com/iText/\" rel=\"noreferrer\">iText</a> is a great Java PDF library. They also have an API for creating barcodes. You don't need to be creating a PDF to use it.</p>\n\n<p>This page has the details on <a href=\"http://itextdocs.lowagie.com/tutorial/objects/images/tiff/index.php\" rel=\"noreferrer\">creating barcodes</a>. Here is an example from that site:</p>\n\n<pre><code>BarcodeEAN codeEAN = new BarcodeEAN();\ncodeEAN.setCodeType(codeEAN.EAN13);\ncodeEAN.setCode(\"9780201615883\");\nImage imageEAN = codeEAN.createImageWithBarcode(cb, null, null);\n</code></pre>\n\n<p>The biggest thing you will need to determine is what type of barcode you need. There are many different barcode formats and iText does support a lot of them. You will need to know what format you need before you can determine if this API will work for you.</p>\n"},{"comments":[{"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"score":0,"creation_date":1340770658,"post_id":1700623,"comment_id":14734086,"body_markdown":"Barcode4J is dependent on Avalon.. requires it for configuration at startup. Barbecue is only dependent on JDOM.","body":"Barcode4J is dependent on Avalon.. requires it for configuration at startup. Barbecue is only dependent on JDOM."},{"owner":{"account_id":28062,"reputation":1727,"user_id":74580,"display_name":"Jeremias M&#228;rki"},"score":10,"creation_date":1342423322,"post_id":1700623,"comment_id":15192095,"body_markdown":"Avalon Framework is only needed if you want to configure Barcode4J using XML. If you work with [plain Java](http://barcode4j.sourceforge.net/latest/embedding-bean.html), it doesn&#39;t require JDOM nor Avalon.","body":"Avalon Framework is only needed if you want to configure Barcode4J using XML. If you work with <a href=\"http://barcode4j.sourceforge.net/latest/embedding-bean.html\" rel=\"nofollow noreferrer\">plain Java</a>, it doesn&#39;t require JDOM nor Avalon."},{"owner":{"account_id":229776,"reputation":2576,"user_id":589302,"accept_rate":83,"display_name":"Andras Bal&#225;zs Lajtha"},"score":0,"creation_date":1486313632,"post_id":1700623,"comment_id":71281570,"body_markdown":"It seems like Barcode4j only supports a subset of all available barcode formats when using beans.\nAlso Avalon framework had been retired for a whie.\nBarbecue is still in beta with no updates since 2007. Things don&#39;t look promising.","body":"It seems like Barcode4j only supports a subset of all available barcode formats when using beans. Also Avalon framework had been retired for a whie. Barbecue is still in beta with no updates since 2007. Things don&#39;t look promising."}],"tags":[],"owner":{"account_id":46515,"reputation":8715,"user_id":137483,"accept_rate":96,"display_name":"True Soft"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1257768715,"creation_date":1257768715,"answer_id":1700623,"question_id":1700597,"body_markdown":"There is a free library called [barcode4j][1]\r\n\r\n\r\n  [1]: http://barcode4j.sourceforge.net/","title":"BarCode Image Generator in Java","body":"<p>There is a free library called <a href=\"http://barcode4j.sourceforge.net/\" rel=\"noreferrer\">barcode4j</a></p>\n"},{"comments":[{"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"score":0,"creation_date":1340770593,"post_id":1700629,"comment_id":14734075,"body_markdown":"Barbecue is only dependent on JDOM..  looked at it and Barcode4J, but didn&#39;t really like adding an Avalon dependency :-/","body":"Barbecue is only dependent on JDOM..  looked at it and Barcode4J, but didn&#39;t really like adding an Avalon dependency :-/"}],"tags":[],"owner":{"account_id":71458,"reputation":1889,"user_id":206715,"accept_rate":84,"display_name":"Arto Uusikangas"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1257768781,"creation_date":1257768781,"answer_id":1700629,"question_id":1700597,"body_markdown":"There is also this free API that you can use to make free barcodes in java.\r\n\r\n[Barbecue][1]\r\n\r\n\r\n  [1]: http://barbecue.sourceforge.net/","title":"BarCode Image Generator in Java","body":"<p>There is also this free API that you can use to make free barcodes in java.</p>\n\n<p><a href=\"http://barbecue.sourceforge.net/\" rel=\"noreferrer\">Barbecue</a></p>\n"},{"tags":[],"owner":{"account_id":66479,"reputation":27633,"user_id":194982,"accept_rate":65,"display_name":"bguiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1408969739,"creation_date":1257769301,"answer_id":1700670,"question_id":1700597,"body_markdown":"I use \r\n[barbeque][1]\r\n, it&#39;s great, and supports a very wide range of different barcode formats.  \r\nSee if you like \r\n[its API][2]\r\n.\r\n\r\nSample API:\r\n\r\n&lt;pre&gt;public static &lt;a bitly=&quot;BITLY_PROCESSED&quot; href=&quot;../../../net/sourceforge/barbecue/Barcode.html&quot; title=&quot;class in net.sourceforge.barbecue&quot;&gt;Barcode&lt;/a&gt; &lt;b&gt;createCode128&lt;/b&gt;(java.lang.String&amp;nbsp;data)\r\n                             throws &lt;a bitly=&quot;BITLY_PROCESSED&quot; href=&quot;../../../net/sourceforge/barbecue/BarcodeException.html&quot; title=&quot;class in net.sourceforge.barbecue&quot;&gt;BarcodeException&lt;/a&gt;&lt;/pre&gt;\r\n\r\n&gt;  Creates a Code 128 barcode that\r\n&gt; dynamically switches between character\r\n&gt; sets  to give the smallest possible\r\n&gt; encoding. This will encode  all\r\n&gt; numeric characters, upper and lower\r\n&gt; case alpha characters and control\r\n&gt; characters  from the standard ASCII\r\n&gt; character set. The size of the barcode\r\n&gt; created will be the  smallest possible\r\n&gt; for the given data, and use of this\r\n&gt; &quot;optimal&quot; encoding will  generally\r\n&gt; give smaller barcodes than any of the\r\n&gt; other 3 &quot;vanilla&quot; encodings.\r\n\r\n\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/barbecue/\r\n  [2]: http://barbecue.sourceforge.net/apidocs/overview-tree.html","title":"BarCode Image Generator in Java","body":"<p>I use \n<a href=\"http://sourceforge.net/projects/barbecue/\" rel=\"nofollow noreferrer\">barbeque</a>\n, it's great, and supports a very wide range of different barcode formats.<br>\nSee if you like \n<a href=\"http://barbecue.sourceforge.net/apidocs/overview-tree.html\" rel=\"nofollow noreferrer\">its API</a>\n.</p>\n\n<p>Sample API:</p>\n\n<pre>public static Barcode <b>createCode128</b>(java.lang.String&nbsp;data)\n                             throws BarcodeException</pre>\n\n<blockquote>\n  <p>Creates a Code 128 barcode that\n  dynamically switches between character\n  sets  to give the smallest possible\n  encoding. This will encode  all\n  numeric characters, upper and lower\n  case alpha characters and control\n  characters  from the standard ASCII\n  character set. The size of the barcode\n  created will be the  smallest possible\n  for the given data, and use of this\n  \"optimal\" encoding will  generally\n  give smaller barcodes than any of the\n  other 3 \"vanilla\" encodings.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1008897,"reputation":5355,"user_id":1021915,"accept_rate":72,"display_name":"Liam M"},"score":1,"creation_date":1514861635,"post_id":3806065,"comment_id":83082498,"body_markdown":"Is available on maven central. of the recommendations given, this appears to be (by a huge margin), the best choice.","body":"Is available on maven central. of the recommendations given, this appears to be (by a huge margin), the best choice."}],"tags":[],"owner":{"account_id":31844,"reputation":358,"user_id":87789,"display_name":"Vineet Manohar"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1287683969,"creation_date":1285607126,"answer_id":3806065,"question_id":1700597,"body_markdown":"[ZXing][1] is a free open source Java library to read and generate barcode images. You need to get the source code and build the jars yourself. Here&#39;s a [simple tutorial][2] that I wrote for building with ZXing jars and writing your first program with ZXing.\r\n\r\n[http://www.vineetmanohar.com/2010/09/java-barcode-api/]\r\n\r\n\r\n  [1]: http://code.google.com/p/zxing/\r\n  [2]: http://www.vineetmanohar.com/2010/09/java-barcode-api/","title":"BarCode Image Generator in Java","body":"<p><a href=\"http://code.google.com/p/zxing/\" rel=\"noreferrer\">ZXing</a> is a free open source Java library to read and generate barcode images. You need to get the source code and build the jars yourself. Here's a <a href=\"http://www.vineetmanohar.com/2010/09/java-barcode-api/\" rel=\"noreferrer\">simple tutorial</a> that I wrote for building with ZXing jars and writing your first program with ZXing.</p>\n\n<p>[<a href=\"http://www.vineetmanohar.com/2010/09/java-barcode-api/]\" rel=\"noreferrer\">http://www.vineetmanohar.com/2010/09/java-barcode-api/]</a></p>\n"}],"owner":{"account_id":56246,"reputation":4189,"user_id":168461,"accept_rate":35,"display_name":"om."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113518,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":1700616,"answer_count":5,"score":58,"last_activity_date":1680777970,"creation_date":1257768427,"question_id":1700597,"body_markdown":"How can I create a barcode image in Java?  I need something that will allow me to enter a number and produce the corresponding barcode image.  Is there a free library available for this type of task?","title":"BarCode Image Generator in Java","body":"<p>How can I create a barcode image in Java?  I need something that will allow me to enter a number and produce the corresponding barcode image.  Is there a free library available for this type of task?</p>\n"},{"tags":["java","barcode"],"answers":[{"tags":[],"owner":{"account_id":47259,"reputation":21919,"user_id":139909,"accept_rate":87,"display_name":"bdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1277270213,"creation_date":1277270213,"answer_id":3099072,"question_id":3099053,"body_markdown":"I have tried [Barcode4J][1]. Nice one\r\n\r\n\r\n  [1]: http://barcode4j.sourceforge.net/","title":"Bar code generation in Java","body":"<p>I have tried <a href=\"http://barcode4j.sourceforge.net/\" rel=\"nofollow noreferrer\">Barcode4J</a>. Nice one</p>\n"},{"tags":[],"owner":{"account_id":156573,"reputation":217,"user_id":373938,"accept_rate":71,"display_name":"Sonal Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1277280329,"creation_date":1277280329,"answer_id":3099909,"question_id":3099053,"body_markdown":"I think Barbecue is an open-source &amp; easy Java library so it is best.Also ZXing (pronounced zebra crossing) is an open-source, multi-format 1D/2D barcode image processing library implemented in Java.See this link http://code.google.com/p/zxing/","title":"Bar code generation in Java","body":"<p>I think Barbecue is an open-source &amp; easy Java library so it is best.Also ZXing (pronounced zebra crossing) is an open-source, multi-format 1D/2D barcode image processing library implemented in Java.See this link <a href=\"http://code.google.com/p/zxing/\" rel=\"nofollow noreferrer\">http://code.google.com/p/zxing/</a></p>\n"},{"tags":[],"owner":{"account_id":425049,"reputation":426,"user_id":805412,"display_name":"Taras Matyashovskyy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348133086,"creation_date":1348133086,"answer_id":12509696,"question_id":3099053,"body_markdown":"I&#39;ve used [Barbecue][1].\r\n\r\n\r\n  [1]: http://barbecue.sourceforge.net\r\n\r\nSimple example is really trivial:\r\n\r\n    BufferedImage image = BarcodeImageHandler.getImage(BarcodeFactory.createCode128(&quot;BARCODE&quot;));\r\n\r\nAfterwards you can convert *image* to a *byte[]* via *ByteArrayOutputStream*.","title":"Bar code generation in Java","body":"<p>I've used <a href=\"http://barbecue.sourceforge.net\" rel=\"nofollow\">Barbecue</a>.</p>\n\n<p>Simple example is really trivial:</p>\n\n<pre><code>BufferedImage image = BarcodeImageHandler.getImage(BarcodeFactory.createCode128(\"BARCODE\"));\n</code></pre>\n\n<p>Afterwards you can convert <em>image</em> to a <em>byte[]</em> via <em>ByteArrayOutputStream</em>.</p>\n"},{"tags":[],"owner":{"account_id":4751779,"reputation":78,"user_id":3841643,"display_name":"jous32"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405607662,"creation_date":1405607662,"answer_id":24806435,"question_id":3099053,"body_markdown":"I prefer barbecue, is more stable and simple\r\n\r\n[example here(http://bethecoder.com/applications/tutorials/barcodes/barbecue/barcode-size.html)\r\n\r\n    public class BarCodeSizeTest {\r\n\r\n    public static void main (String [] args) throws Exception {\r\n\r\n    //Get 128B Barcode instance from the Factory\r\n    Barcode barcode = BarcodeFactory.createCode128B(&quot;be the coder&quot;);\r\n    barcode.setBarHeight(60);\r\n    barcode.setBarWidth(2);\r\n\r\n    File imgFile = new File(&quot;testsize.png&quot;);\r\n\r\n    //Write the bar code to PNG file\r\n    BarcodeImageHandler.savePNG(barcode, imgFile);\r\n      }\r\n    }","title":"Bar code generation in Java","body":"<p>I prefer barbecue, is more stable and simple</p>\n\n<p>[example here(<a href=\"http://bethecoder.com/applications/tutorials/barcodes/barbecue/barcode-size.html\" rel=\"nofollow\">http://bethecoder.com/applications/tutorials/barcodes/barbecue/barcode-size.html</a>)</p>\n\n<pre><code>public class BarCodeSizeTest {\n\npublic static void main (String [] args) throws Exception {\n\n//Get 128B Barcode instance from the Factory\nBarcode barcode = BarcodeFactory.createCode128B(\"be the coder\");\nbarcode.setBarHeight(60);\nbarcode.setBarWidth(2);\n\nFile imgFile = new File(\"testsize.png\");\n\n//Write the bar code to PNG file\nBarcodeImageHandler.savePNG(barcode, imgFile);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10712651,"reputation":1,"user_id":7884435,"display_name":"Thilak G Vishwanath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540461478,"creation_date":1540460660,"answer_id":52986210,"question_id":3099053,"body_markdown":"I have used &quot;**zxing**&quot;\r\n\r\nHave the following dependencies,\r\n\r\nhttps://mvnrepository.com/artifact/com.google.zxing/core\r\nhttps://mvnrepository.com/artifact/com.google.zxing/javase\r\n\r\n    QRCodeWriter qrCodeWriter = new QRCodeWriter();\r\n    BitMatrix bitMatrix = qrCodeWriter.encode(inputText, BarcodeFormat.QR_CODE, width, height);\r\n    Path path = FileSystems.getDefault().getPath(filePath);\r\n    MatrixToImageWriter.writeToPath(bitMatrix, &quot;PNG&quot;, path);\r\n\r\n\r\nyou can convert into image using,\r\n \r\n\r\n    Image image = MatrixToImageWriter.toBufferedImage(bitMatrix); \r\n\r\n","title":"Bar code generation in Java","body":"<p>I have used \"<strong>zxing</strong>\"</p>\n\n<p>Have the following dependencies,</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/com.google.zxing/core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.zxing/core</a>\n<a href=\"https://mvnrepository.com/artifact/com.google.zxing/javase\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.zxing/javase</a></p>\n\n<pre><code>QRCodeWriter qrCodeWriter = new QRCodeWriter();\nBitMatrix bitMatrix = qrCodeWriter.encode(inputText, BarcodeFormat.QR_CODE, width, height);\nPath path = FileSystems.getDefault().getPath(filePath);\nMatrixToImageWriter.writeToPath(bitMatrix, \"PNG\", path);\n</code></pre>\n\n<p>you can convert into image using,</p>\n\n<pre><code>Image image = MatrixToImageWriter.toBufferedImage(bitMatrix); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2115257,"reputation":779,"user_id":1879731,"accept_rate":50,"display_name":"Olivier Masseau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680777883,"creation_date":1680777883,"answer_id":75948610,"question_id":3099053,"body_markdown":"Nowadays, I would consider https://github.com/woo-j/OkapiBarcode\r\n\r\nBarbecue and Barcode4j are not maintained since a very long time.","title":"Bar code generation in Java","body":"<p>Nowadays, I would consider <a href=\"https://github.com/woo-j/OkapiBarcode\" rel=\"nofollow noreferrer\">https://github.com/woo-j/OkapiBarcode</a></p>\n<p>Barbecue and Barcode4j are not maintained since a very long time.</p>\n"}],"owner":{"account_id":177751,"reputation":1485,"user_id":409283,"accept_rate":29,"display_name":"lalit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10270,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":6,"score":0,"last_activity_date":1680777883,"creation_date":1277269841,"question_id":3099053,"body_markdown":"Which is a better bar code generation library in Java. I see two options as JBar and Barbecue.\r\nAny real life usage is greatly appreciated.","title":"Bar code generation in Java","body":"<p>Which is a better bar code generation library in Java. I see two options as JBar and Barbecue.\nAny real life usage is greatly appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9705,"page":520,"page_size":100}
