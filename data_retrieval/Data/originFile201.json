{"items":[{"tags":["java","android","android-studio","gradle","aapt"],"answers":[{"comments":[{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":3,"creation_date":1605090580,"post_id":64783065,"comment_id":114543727,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/low-quality-posts/27594874)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/low-quality-posts/27594874\">From Review</a>"},{"owner":{"account_id":19947781,"reputation":31,"user_id":14618074,"display_name":"Tyler"},"score":2,"creation_date":1605146656,"post_id":64783065,"comment_id":114564948,"body_markdown":"OK, maybe it needs to be more clear. If you are using encryption software, please temporarily disable it. Then, please check whether the files related to the error are encrypted (maybe jar, aar, xml, etc.). If they are encrypted, delete these files, download the unencrypted files and try again.\nE.g:\n.gradle\\caches\\transforms-2\\files-2.1\\4f9c7f78c15bb692cf0895b881aafbad\\appcompat-1.2.0\\res\\anim\\abc_fade_in.xml:1: AAPT: error: not well-formed (invalid token).\nDisable the encryption software, delete the encrypted appcompat-1.2.0, download the unencrypted appcompat-1.2.0, and try again.","body":"OK, maybe it needs to be more clear. If you are using encryption software, please temporarily disable it. Then, please check whether the files related to the error are encrypted (maybe jar, aar, xml, etc.). If they are encrypted, delete these files, download the unencrypted files and try again. E.g: .gradle\\caches\\transforms-2\\files-2.1\\4f9c7f78c15bb692cf0895&zwnj;&#8203;b881aafbad\\appcompat&zwnj;&#8203;-1.2.0\\res\\anim\\abc_&zwnj;&#8203;fade_in.xml:1: AAPT: error: not well-formed (invalid token). Disable the encryption software, delete the encrypted appcompat-1.2.0, download the unencrypted appcompat-1.2.0, and try again."},{"owner":{"account_id":7525035,"reputation":2156,"user_id":5715546,"accept_rate":75,"display_name":"eyoeldefare"},"score":0,"creation_date":1624323179,"post_id":64783065,"comment_id":120321792,"body_markdown":"@Tyler You&#39;re absolutely correct. Of all the things I would have never expected that. In my case, my project was under protected folder and a this along with some things were failing to compile because they&#39;re outside libraries and not approved to run inside my directory. Thanks for the help.","body":"@Tyler You&#39;re absolutely correct. Of all the things I would have never expected that. In my case, my project was under protected folder and a this along with some things were failing to compile because they&#39;re outside libraries and not approved to run inside my directory. Thanks for the help."}],"tags":[],"owner":{"account_id":19947781,"reputation":31,"user_id":14618074,"display_name":"Tyler"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605084067,"creation_date":1605084067,"answer_id":64783065,"question_id":63997710,"body_markdown":"If some files have been encrypted, AAPT may not work properly. Please check whether the files related to the compilation error are encrypted. In your case, these are PNG files.","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>If some files have been encrypted, AAPT may not work properly. Please check whether the files related to the compilation error are encrypted. In your case, these are PNG files.</p>\n"},{"tags":[],"owner":{"account_id":19612315,"reputation":1,"user_id":14354596,"display_name":"avnish mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632392520,"creation_date":1632375161,"answer_id":69294501,"question_id":63997710,"body_markdown":"In Windows, try to keep your project in a drive apart from windows (C drive). You can use D drive and try keeping the path short (eg. D:\\Projects\\XyzProject). This might resolve your issue.","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>In Windows, try to keep your project in a drive apart from windows (C drive). You can use D drive and try keeping the path short (eg. D:\\Projects\\XyzProject). This might resolve your issue.</p>\n"},{"tags":[],"owner":{"account_id":2526176,"reputation":998,"user_id":2195518,"display_name":"Kapitein Witbaard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635331682,"creation_date":1635331682,"answer_id":69737245,"question_id":63997710,"body_markdown":"I had exactly the same error. Tried everything including pulling my own hear out, but nothing worked. Then someone mentioned running Android Studio as `admin` would solve the problem... So it has something to do with `write access` problems. Bingo! Try this:\r\n\r\n    In windows go to Ransomware protection and disable it!\r\n\r\nThen try building again. If that works then use `Allow an app through Controlled folder access` to give gradle the right access rights. And then enable your Ransomware protection again.","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>I had exactly the same error. Tried everything including pulling my own hear out, but nothing worked. Then someone mentioned running Android Studio as <code>admin</code> would solve the problem... So it has something to do with <code>write access</code> problems. Bingo! Try this:</p>\n<pre><code>In windows go to Ransomware protection and disable it!\n</code></pre>\n<p>Then try building again. If that works then use <code>Allow an app through Controlled folder access</code> to give gradle the right access rights. And then enable your Ransomware protection again.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1660730566,"post_id":73350142,"comment_id":129599730,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73350142/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26059346,"reputation":1,"user_id":19760955,"display_name":"Hussain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660465468,"creation_date":1660465468,"answer_id":73350142,"question_id":63997710,"body_markdown":"i face same problem ,and solved .this error is due to windows security , select the file properties which causing issue  and unblock it.","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>i face same problem ,and solved .this error is due to windows security , select the file properties which causing issue  and unblock it.</p>\n"},{"comments":[{"owner":{"account_id":1747079,"reputation":177,"user_id":1597004,"display_name":"bvmobileapps"},"score":2,"creation_date":1676963693,"post_id":75391299,"comment_id":133237489,"body_markdown":"Same issue.  The file already had a PNG extension, but it was really a JPG so I had to resave it as a PNG.  The error went away after that.","body":"Same issue.  The file already had a PNG extension, but it was really a JPG so I had to resave it as a PNG.  The error went away after that."},{"owner":{"account_id":7499973,"reputation":4603,"user_id":5698756,"accept_rate":88,"display_name":"Parsania Hardik"},"score":2,"creation_date":1680925957,"post_id":75391299,"comment_id":133980908,"body_markdown":"Your solution Saved my day!","body":"Your solution Saved my day!"}],"tags":[],"owner":{"account_id":84890,"reputation":1051,"user_id":237043,"accept_rate":75,"display_name":"John Michelau"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1675887419,"creation_date":1675887419,"answer_id":75391299,"question_id":63997710,"body_markdown":"I encountered a similar problem to this, and the root cause was that a JPEG file was named with a PNG file extension.  Once I fixed the file extension AAPT was happy.","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>I encountered a similar problem to this, and the root cause was that a JPEG file was named with a PNG file extension.  Once I fixed the file extension AAPT was happy.</p>\n"},{"tags":[],"owner":{"account_id":8352063,"reputation":59,"user_id":6273824,"display_name":"yago"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676331683,"creation_date":1676331683,"answer_id":75442187,"question_id":63997710,"body_markdown":"im my case i tried to use some png images that i downloaded from whatsapp and they were  encrypted.\r\n\r\nto fix it follow this steps:\r\n\r\n1-open paint\r\n2-open your images\r\n3-save them\r\n\r\nand you are ready to go!","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>im my case i tried to use some png images that i downloaded from whatsapp and they were  encrypted.</p>\n<p>to fix it follow this steps:</p>\n<p>1-open paint\n2-open your images\n3-save them</p>\n<p>and you are ready to go!</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690121467,"post_id":76715628,"comment_id":135306065,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76715628/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":1234435,"reputation":477,"user_id":1198341,"display_name":"rodrix"},"score":0,"creation_date":1692820848,"post_id":76715628,"comment_id":135677866,"body_markdown":"This was the point for me. Some assets was named as .PNG but actually it&#39;s a JPEG. Renaming it to .jpg and ran `eas build` again solve this issue. Thanks!","body":"This was the point for me. Some assets was named as .PNG but actually it&#39;s a JPEG. Renaming it to .jpg and ran <code>eas build</code> again solve this issue. Thanks!"}],"tags":[],"owner":{"account_id":23249888,"reputation":51,"user_id":17337864,"display_name":"Shawn Barbel"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689704746,"creation_date":1689704746,"answer_id":76715628,"question_id":63997710,"body_markdown":"If it&#39;s an expo app remove whatever png assets you just added. You can rename them as jpg and that would work","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>If it's an expo app remove whatever png assets you just added. You can rename them as jpg and that would work</p>\n"},{"tags":[],"owner":{"account_id":29379010,"reputation":1,"user_id":22509935,"display_name":"The Bong Developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694004177,"creation_date":1694001098,"answer_id":77051615,"question_id":63997710,"body_markdown":"This issue is nothing but a image file extension problem. My image was in jpeg format, but I saved it in my drawable folder as png format. That&#39;s why this conflict was thrown by android.\r\n\r\nI just convert my image to png version and implemented in my android project and deleted that old jpg image. Then android worked properly.","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>This issue is nothing but a image file extension problem. My image was in jpeg format, but I saved it in my drawable folder as png format. That's why this conflict was thrown by android.</p>\n<p>I just convert my image to png version and implemented in my android project and deleted that old jpg image. Then android worked properly.</p>\n"}],"owner":{"account_id":15949124,"reputation":3270,"user_id":11508914,"display_name":"Panagiss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20056,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":8,"score":11,"last_activity_date":1694004177,"creation_date":1600711451,"question_id":63997710,"body_markdown":"I was working on Ubuntu linux and recently i pulled my project and started working on Win10.\r\n\r\nFrom now on i cannot Build/Run my app. There must be a problem with those PNG files in the resources folder.\r\n\r\nThat is the **Error output** while trying to build the app :\r\n```\r\nExecuting tasks: [:app:assembleDebug] in project C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\r\n\r\n&gt; Task :app:preBuild UP-TO-DATE\r\n&gt; Task :app:preDebugBuild UP-TO-DATE\r\n&gt; Task :app:compileDebugAidl NO-SOURCE\r\n&gt; Task :app:generateDebugBuildConfig UP-TO-DATE\r\n&gt; Task :app:compileDebugRenderscript NO-SOURCE\r\n&gt; Task :app:javaPreCompileDebug UP-TO-DATE\r\n&gt; Task :app:generateDebugResValues UP-TO-DATE\r\n&gt; Task :app:generateDebugResources UP-TO-DATE\r\n&gt; Task :app:createDebugCompatibleScreenManifests UP-TO-DATE\r\n&gt; Task :app:extractDeepLinksDebug UP-TO-DATE\r\n&gt; Task :app:processDebugManifest UP-TO-DATE\r\n&gt; Task :app:mergeDebugShaders UP-TO-DATE\r\n&gt; Task :app:compileDebugShaders NO-SOURCE\r\n&gt; Task :app:generateDebugAssets UP-TO-DATE\r\n&gt; Task :app:mergeDebugAssets UP-TO-DATE\r\n&gt; Task :app:processDebugJavaRes NO-SOURCE\r\n\r\n&gt; Task :app:mergeDebugResources FAILED\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_launcher_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_launcher_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xhdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xhdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_launcher_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_launcher_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_launcher_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_launcher_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xxhdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xxhdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\n\r\n&gt; Task :app:mergeDebugJavaResource\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:mergeDebugResources&#39;.\r\n&gt; Multiple task action failures occurred:\r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-ldpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-mdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-ldpi\\ic_launcher_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-hdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-mdpi\\ic_launcher_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-xhdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-hdpi\\ic_launcher_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-xxhdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\r\n            \r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1s\r\n10 actionable tasks: 2 executed, 8 up-to-date\r\n ```\r\n**build.gradle(:app)** file: \r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n\r\n    configurations.all {\r\n        resolutionStrategy.eachDependency{\r\n            DependencyResolveDetails details -&gt;\r\n                def requested = details.requested\r\n                if (requested.group==&quot;com.android.support&quot;){\r\n                    if (!requested.name.startsWith(&quot;multidex&quot;)){\r\n                        details.useVersion(&quot;26.+&quot;)\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\n    buildToolsVersion &quot;30.0.2&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.myname.greenskychatroom&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.2.1&#39;\r\n    implementation &#39;androidx.annotation:annotation:1.1.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    implementation files(&#39;libs/json-simple-1.1.jar&#39;)\r\n    testImplementation &#39;junit:junit:4.13&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n}\r\n```\r\n\r\nI don&#39;t know what is causing it. I cleaned cache, delete and pull project again. Also i couldn&#39;t find a solution online. \r\n\r\n**Update**\r\nFound out that Android Studio on Linux(Ubuntu) works just fine and as a matter of fact this error occurs only on Windows&#39; Android Studio..","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>I was working on Ubuntu linux and recently i pulled my project and started working on Win10.</p>\n<p>From now on i cannot Build/Run my app. There must be a problem with those PNG files in the resources folder.</p>\n<p>That is the <strong>Error output</strong> while trying to build the app :</p>\n<pre><code>Executing tasks: [:app:assembleDebug] in project C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\n\n&gt; Task :app:preBuild UP-TO-DATE\n&gt; Task :app:preDebugBuild UP-TO-DATE\n&gt; Task :app:compileDebugAidl NO-SOURCE\n&gt; Task :app:generateDebugBuildConfig UP-TO-DATE\n&gt; Task :app:compileDebugRenderscript NO-SOURCE\n&gt; Task :app:javaPreCompileDebug UP-TO-DATE\n&gt; Task :app:generateDebugResValues UP-TO-DATE\n&gt; Task :app:generateDebugResources UP-TO-DATE\n&gt; Task :app:createDebugCompatibleScreenManifests UP-TO-DATE\n&gt; Task :app:extractDeepLinksDebug UP-TO-DATE\n&gt; Task :app:processDebugManifest UP-TO-DATE\n&gt; Task :app:mergeDebugShaders UP-TO-DATE\n&gt; Task :app:compileDebugShaders NO-SOURCE\n&gt; Task :app:generateDebugAssets UP-TO-DATE\n&gt; Task :app:mergeDebugAssets UP-TO-DATE\n&gt; Task :app:processDebugJavaRes NO-SOURCE\n\n&gt; Task :app:mergeDebugResources FAILED\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_launcher_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_launcher_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xhdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xhdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_launcher_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_launcher_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_launcher_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_launcher_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xxhdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xxhdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\n\n&gt; Task :app:mergeDebugJavaResource\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:mergeDebugResources'.\n&gt; Multiple task action failures occurred:\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-ldpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-mdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-ldpi\\ic_launcher_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-hdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-mdpi\\ic_launcher_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-xhdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-hdpi\\ic_launcher_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-xxhdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\n            \n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n10 actionable tasks: 2 executed, 8 up-to-date\n</code></pre>\n<p><strong>build.gradle(:app)</strong> file:</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 30\n\n    configurations.all {\n        resolutionStrategy.eachDependency{\n            DependencyResolveDetails details -&gt;\n                def requested = details.requested\n                if (requested.group==&quot;com.android.support&quot;){\n                    if (!requested.name.startsWith(&quot;multidex&quot;)){\n                        details.useVersion(&quot;26.+&quot;)\n                    }\n                }\n        }\n    }\n\n    buildToolsVersion &quot;30.0.2&quot;\n\n    defaultConfig {\n        applicationId &quot;com.myname.greenskychatroom&quot;\n        minSdkVersion 16\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.2.1'\n    implementation 'androidx.annotation:annotation:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.1'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation files('libs/json-simple-1.1.jar')\n    testImplementation 'junit:junit:4.13'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n}\n</code></pre>\n<p>I don't know what is causing it. I cleaned cache, delete and pull project again. Also i couldn't find a solution online.</p>\n<p><strong>Update</strong>\nFound out that Android Studio on Linux(Ubuntu) works just fine and as a matter of fact this error occurs only on Windows' Android Studio..</p>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661259272,"post_id":73459083,"comment_id":129725050,"body_markdown":"By properly starting the scheduler from Spring instead of outside of Spring. Or just use the Spring configured one (and use the properties to configure it).","body":"By properly starting the scheduler from Spring instead of outside of Spring. Or just use the Spring configured one (and use the properties to configure it)."},{"owner":{"account_id":107400,"reputation":558,"user_id":285608,"accept_rate":100,"display_name":"Daniel Rodr&#237;guez"},"score":0,"creation_date":1661259736,"post_id":73459083,"comment_id":129725242,"body_markdown":"But then I can&#39;t give the jobs autowire capabilities. I implemented it as described in this article: https://dzone.com/articles/adding-quartz-to-spring-boot but there it doesn&#39;t say how to disable the default one.","body":"But then I can&#39;t give the jobs autowire capabilities. I implemented it as described in this article: <a href=\"https://dzone.com/articles/adding-quartz-to-spring-boot\" rel=\"nofollow noreferrer\">dzone.com/articles/adding-quartz-to-spring-boot</a> but there it doesn&#39;t say how to disable the default one."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661260047,"post_id":73459083,"comment_id":129725378,"body_markdown":"See my answer, and you didn&#39;t do as in the article as they used an `@Configuration` which would have made Spring Boot backoff as there was already a scheduler. But just leveraging the Spring Boot capabilities is easier, as it doesn&#39;t need that much code.","body":"See my answer, and you didn&#39;t do as in the article as they used an <code>@Configuration</code> which would have made Spring Boot backoff as there was already a scheduler. But just leveraging the Spring Boot capabilities is easier, as it doesn&#39;t need that much code."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661259977,"creation_date":1661259977,"answer_id":73459286,"question_id":73459083,"body_markdown":"The easiest way is to use the Spring configured scheduler instead of doing it yourself. Move the `quartz.properties` to the `spring.quartz` namespace in the `application.properties`. \r\n\r\n```\r\nspring.quartz.scheduler-name=MyQuartzScheduler\r\n\r\nspring.quartz.properties.org.quartz.threadPool.threadCount=12\r\nspring.quartz.properties.org.quartz.threadPool.threadPriority=5\r\nspring.quartz.properties.org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\r\n\r\nspring.quartz.properties.org.quartz.jobStore.misfireThreshold=60000\r\n```\r\n\r\nTo configure your own `JobFactory` write a `SchedulerFactoryBeanCustomizer` to configure it on the `SchedulerFactoryBean`. \r\n\r\n```java\r\n@Component\r\nclass MySchedulerFactoryBeanCustomizer implements SchedulerFactoryBeanCustomizer {\r\n\r\n  void customize(SchedulerFactoryBean schedulerFactoryBean) {\r\n    schedulerFactoryBean.setJobFactory(new MyQuartzJobFactory());\r\n  }\r\n}\r\n```\r\n\r\nNow ditch the `quartz.properties`, `MyLifecycleListener` and the `SchedulerManager` and let Spring handle all that for you. ","title":"How to avoid default Quartz Scheduler in Spring Boot application?","body":"<p>The easiest way is to use the Spring configured scheduler instead of doing it yourself. Move the <code>quartz.properties</code> to the <code>spring.quartz</code> namespace in the <code>application.properties</code>.</p>\n<pre><code>spring.quartz.scheduler-name=MyQuartzScheduler\n\nspring.quartz.properties.org.quartz.threadPool.threadCount=12\nspring.quartz.properties.org.quartz.threadPool.threadPriority=5\nspring.quartz.properties.org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\n\nspring.quartz.properties.org.quartz.jobStore.misfireThreshold=60000\n</code></pre>\n<p>To configure your own <code>JobFactory</code> write a <code>SchedulerFactoryBeanCustomizer</code> to configure it on the <code>SchedulerFactoryBean</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass MySchedulerFactoryBeanCustomizer implements SchedulerFactoryBeanCustomizer {\n\n  void customize(SchedulerFactoryBean schedulerFactoryBean) {\n    schedulerFactoryBean.setJobFactory(new MyQuartzJobFactory());\n  }\n}\n</code></pre>\n<p>Now ditch the <code>quartz.properties</code>, <code>MyLifecycleListener</code> and the <code>SchedulerManager</code> and let Spring handle all that for you.</p>\n"},{"tags":[],"owner":{"account_id":5440348,"reputation":247,"user_id":4328601,"display_name":"Alexander Prisadkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694003547,"creation_date":1694003547,"answer_id":77051939,"question_id":73459083,"body_markdown":"just add in your application.yml\r\n\r\n    spring:\r\n        autoconfigure:\r\n            exclude: org.springframework.boot.autoconfigure.quartz.QuartzAutoConfiguration\r\n\r\n","title":"How to avoid default Quartz Scheduler in Spring Boot application?","body":"<p>just add in your application.yml</p>\n<pre><code>spring:\n    autoconfigure:\n        exclude: org.springframework.boot.autoconfigure.quartz.QuartzAutoConfiguration\n</code></pre>\n"}],"owner":{"account_id":107400,"reputation":558,"user_id":285608,"accept_rate":100,"display_name":"Daniel Rodr&#237;guez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73459286,"answer_count":2,"score":0,"last_activity_date":1694003547,"creation_date":1661259189,"question_id":73459083,"body_markdown":"I&#39;m setting up a Quartz Scheduler in Spring Boot. I want the scheduled Jobs to be able to inject Beans from the Application Context. For that I created my own Quartz Job Factory:\r\n\r\n```\r\npublic final class MyQuartzJobFactory extends SpringBeanJobFactory implements ApplicationContextAware {\r\n\r\n    private transient AutowireCapableBeanFactory beanFactory;\r\n\r\n    @Override\r\n    public void setApplicationContext(final ApplicationContext context) throws BeansException {\r\n        beanFactory = context.getAutowireCapableBeanFactory();\r\n    }\r\n\r\n    @Override\r\n    protected Object createJobInstance(final TriggerFiredBundle bundle) throws Exception {\r\n        final Object job = super.createJobInstance(bundle);\r\n        beanFactory.autowireBean(job);\r\n        return job;\r\n    }\r\n\r\n}\r\n```\r\n\r\nFor keeping a reference to the Scheduler, I have a SchedulerManager Bean that initializes the Scheduler:\r\n\r\n```\r\n    public void initScheduler() {\r\n        try (InputStream propsInputStream = Thread.currentThread().getContextClassLoader()\r\n                .getResourceAsStream(&quot;my-quartz.properties&quot;)) {\r\n            log.info(&quot;Creating Quartz scheduler...&quot;);\r\n            Properties myQuartzProperties = new Properties();\r\n            myQuartzProperties.load(propsInputStream);\r\n\r\n            SchedulerFactoryBean schedulerFactory = new SchedulerFactoryBean();\r\n            schedulerFactory.setQuartzProperties(myQuartzProperties);\r\n            schedulerFactory.afterPropertiesSet();\r\n            schedulerFactory.setJobFactory(quartzJobFactory);\r\n\r\n            this.scheduler = schedulerFactory.getScheduler();\r\n            this.schedulingConfigMap = new HashMap&lt;&gt;();\r\n\r\n            log.info(&quot;Quartz scheduler created.&quot;);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Unable to create Quartz scheduler&quot;, e);\r\n            throw new RuntimeException(&quot;Scheduler extension initialization error&quot;, e);\r\n        }\r\n    }\r\n```\r\n\r\nI do the initialization of the Scheduler once the context has been initialized:\r\n```\r\npublic class MyLifecycleListener implements ServletContextListener {\r\n\r\n    private final SchedulerManager schedulerManager;\r\n\r\n    @Override\r\n    public void contextInitialized(ServletContextEvent sce) {\r\n        schedulerManager.initScheduler();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe quartz configuration file is as follows:\r\n```\r\norg.quartz.scheduler.instanceName=MyQuartzScheduler\r\n\r\norg.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\r\norg.quartz.threadPool.threadCount=12\r\norg.quartz.threadPool.threadPriority=5\r\norg.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\r\n\r\norg.quartz.jobStore.class=org.quartz.simpl.RAMJobStore\r\norg.quartz.jobStore.misfireThreshold=60000\r\n```\r\n\r\nWhen starting the application I see my Quartz Scheduler is initialized, but the problem is that I see a second Quartz Scheduler initialized (maybe a Spring default one?).\r\n\r\nMine: &#39;MyQuartzScheduler&#39; with 12 threads\r\n```\r\n2022-08-23 14:13:03.239  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.\r\n2022-08-23 14:13:03.240  INFO 24788 --- [           main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.\r\n2022-08-23 14:13:03.241  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) &#39;MyQuartzScheduler&#39; with instanceId &#39;NON_CLUSTERED&#39;\r\n  Scheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally.\r\n  NOT STARTED.\r\n  Currently in standby mode.\r\n  Number of jobs executed: 0\r\n  Using thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 12 threads.\r\n  Using job-store &#39;org.quartz.simpl.RAMJobStore&#39; - which does not support persistence. and is not clustered.\r\n\r\n2022-08-23 14:13:03.241  INFO 24788 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler &#39;MyQuartzScheduler&#39; initialized from an externally provided properties instance.\r\n```\r\n\r\nSome milliseconds later, another one called &#39;quartzScheduler&#39; with 10 threads.\r\n\r\n```\r\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.\r\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.\r\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) &#39;quartzScheduler&#39; with instanceId &#39;NON_CLUSTERED&#39;\r\n  Scheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally.\r\n  NOT STARTED.\r\n  Currently in standby mode.\r\n  Number of jobs executed: 0\r\n  Using thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 10 threads.\r\n  Using job-store &#39;org.quartz.simpl.RAMJobStore&#39; - which does not support persistence. and is not clustered.\r\n\r\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler &#39;quartzScheduler&#39; initialized from an externally provided properties instance.\r\n```\r\n\r\nHow can I disable this second one?\r\n\r\nSample project can be found here: https://github.com/dajoropo/spring-quartz-demo/tree/stackoverflow_question_73459083\r\n","title":"How to avoid default Quartz Scheduler in Spring Boot application?","body":"<p>I'm setting up a Quartz Scheduler in Spring Boot. I want the scheduled Jobs to be able to inject Beans from the Application Context. For that I created my own Quartz Job Factory:</p>\n<pre><code>public final class MyQuartzJobFactory extends SpringBeanJobFactory implements ApplicationContextAware {\n\n    private transient AutowireCapableBeanFactory beanFactory;\n\n    @Override\n    public void setApplicationContext(final ApplicationContext context) throws BeansException {\n        beanFactory = context.getAutowireCapableBeanFactory();\n    }\n\n    @Override\n    protected Object createJobInstance(final TriggerFiredBundle bundle) throws Exception {\n        final Object job = super.createJobInstance(bundle);\n        beanFactory.autowireBean(job);\n        return job;\n    }\n\n}\n</code></pre>\n<p>For keeping a reference to the Scheduler, I have a SchedulerManager Bean that initializes the Scheduler:</p>\n<pre><code>    public void initScheduler() {\n        try (InputStream propsInputStream = Thread.currentThread().getContextClassLoader()\n                .getResourceAsStream(&quot;my-quartz.properties&quot;)) {\n            log.info(&quot;Creating Quartz scheduler...&quot;);\n            Properties myQuartzProperties = new Properties();\n            myQuartzProperties.load(propsInputStream);\n\n            SchedulerFactoryBean schedulerFactory = new SchedulerFactoryBean();\n            schedulerFactory.setQuartzProperties(myQuartzProperties);\n            schedulerFactory.afterPropertiesSet();\n            schedulerFactory.setJobFactory(quartzJobFactory);\n\n            this.scheduler = schedulerFactory.getScheduler();\n            this.schedulingConfigMap = new HashMap&lt;&gt;();\n\n            log.info(&quot;Quartz scheduler created.&quot;);\n        } catch (Exception e) {\n            log.error(&quot;Unable to create Quartz scheduler&quot;, e);\n            throw new RuntimeException(&quot;Scheduler extension initialization error&quot;, e);\n        }\n    }\n</code></pre>\n<p>I do the initialization of the Scheduler once the context has been initialized:</p>\n<pre><code>public class MyLifecycleListener implements ServletContextListener {\n\n    private final SchedulerManager schedulerManager;\n\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        schedulerManager.initScheduler();\n    }\n\n}\n</code></pre>\n<p>The quartz configuration file is as follows:</p>\n<pre><code>org.quartz.scheduler.instanceName=MyQuartzScheduler\n\norg.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\norg.quartz.threadPool.threadCount=12\norg.quartz.threadPool.threadPriority=5\norg.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\n\norg.quartz.jobStore.class=org.quartz.simpl.RAMJobStore\norg.quartz.jobStore.misfireThreshold=60000\n</code></pre>\n<p>When starting the application I see my Quartz Scheduler is initialized, but the problem is that I see a second Quartz Scheduler initialized (maybe a Spring default one?).</p>\n<p>Mine: 'MyQuartzScheduler' with 12 threads</p>\n<pre><code>2022-08-23 14:13:03.239  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.\n2022-08-23 14:13:03.240  INFO 24788 --- [           main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.\n2022-08-23 14:13:03.241  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'MyQuartzScheduler' with instanceId 'NON_CLUSTERED'\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 12 threads.\n  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.\n\n2022-08-23 14:13:03.241  INFO 24788 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'MyQuartzScheduler' initialized from an externally provided properties instance.\n</code></pre>\n<p>Some milliseconds later, another one called 'quartzScheduler' with 10 threads.</p>\n<pre><code>2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.\n  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.\n\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.\n</code></pre>\n<p>How can I disable this second one?</p>\n<p>Sample project can be found here: <a href=\"https://github.com/dajoropo/spring-quartz-demo/tree/stackoverflow_question_73459083\" rel=\"nofollow noreferrer\">https://github.com/dajoropo/spring-quartz-demo/tree/stackoverflow_question_73459083</a></p>\n"},{"tags":["java","spring","mapping"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1694001559,"post_id":77051250,"comment_id":135833185,"body_markdown":"Cant&#39;t you just check for blank inside getCurrencyById() method?","body":"Cant&#39;t you just check for blank inside getCurrencyById() method?"},{"owner":{"account_id":16228733,"reputation":26,"user_id":11718232,"display_name":"tabool"},"score":0,"creation_date":1694002812,"post_id":77051250,"comment_id":135833462,"body_markdown":"@hermit No. In this case, I have to return something, but I need to leave the old value. I even can not use Uftermapping","body":"@hermit No. In this case, I have to return something, but I need to leave the old value. I even can not use Uftermapping"}],"owner":{"account_id":16228733,"reputation":26,"user_id":11718232,"display_name":"tabool"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694002849,"creation_date":1693997739,"question_id":77051250,"body_markdown":"I have a problem using both - condition and expression in single field mapping with @Mapping annotation. I need some simple solution to check incoming field on null and blank value. \r\n\r\nI have 2 interfaces responsible for such checks.\r\n```\r\n@Qualifier\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.CLASS)\r\npublic @interface UtilConditions {\r\n}\r\n\r\n@UtilConditions\r\npublic interface StaticUtil {\r\n\r\n    @Condition()\r\n    @Named(&quot;isNotBlank&quot;)\r\n    static boolean isNotBlank(String value) {\r\n        return StringUtils.isNotBlank(value);\r\n    }\r\n\r\n    @Condition()\r\n    @Named(&quot;isNotNull&quot;)\r\n    static boolean isNotNull(Object value) {\r\n        return value != null;\r\n    }\r\n\r\n    @Condition()\r\n    @Named(&quot;isCollectionNotEmpty&quot;)\r\n    static boolean isCollectionNotEmpty(Collection&lt;?&gt; collection) {\r\n        return collection != null &amp;&amp; !collection.isEmpty();\r\n    }\r\n}\r\n```\r\nThat gives me an elegant way to check values.\r\n\r\nFor example\r\n```\r\n    @Mapping(target = &quot;name&quot;, conditionQualifiedByName = &quot;isNotBlank&quot;)\r\n    @Mapping(target = &quot;firstName&quot;, conditionQualifiedByName = &quot;isNotBlank&quot;)\r\n    @Mapping(target = &quot;rateCurrency&quot;, conditionQualifiedByName = &quot;isNotBlank&quot;,\r\n        expression = &quot;java(getCurrencyById(dto.getRateCurrency()))&quot;)\r\n    public abstract Entity toEntity(EntityDto dto);\r\n\r\n    public Currency getCurrencyById(String currencyName) {\r\n        return currencyRepository.findById(currencyName)\r\n            .orElseThrow(() -&gt; new EntityNotFoundException(Currency.class, currencyName));\r\n    }\r\n```\r\nBut Mapstruct doesn&#39;t allow to use condition and expression in one mapping, conditionQualifiedByName just ignoring.\r\nAlso i have tried to use different arguments in @Mapping annotation witch are responsible for conditions and expressions but unsuccessfully.\r\n\r\n\r\nPlease tell me how can i use isNotBlank() method from StaticUtil first, to prevent blank parameter passing to getCurrencyById() method.\r\n\r\nThank you in advance for your help\r\n","title":"Mapstruct! @Mapping with conditionQualifiedByName and expression parameters in one @Mapping","body":"<p>I have a problem using both - condition and expression in single field mapping with @Mapping annotation. I need some simple solution to check incoming field on null and blank value.</p>\n<p>I have 2 interfaces responsible for such checks.</p>\n<pre><code>@Qualifier\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.CLASS)\npublic @interface UtilConditions {\n}\n\n@UtilConditions\npublic interface StaticUtil {\n\n    @Condition()\n    @Named(&quot;isNotBlank&quot;)\n    static boolean isNotBlank(String value) {\n        return StringUtils.isNotBlank(value);\n    }\n\n    @Condition()\n    @Named(&quot;isNotNull&quot;)\n    static boolean isNotNull(Object value) {\n        return value != null;\n    }\n\n    @Condition()\n    @Named(&quot;isCollectionNotEmpty&quot;)\n    static boolean isCollectionNotEmpty(Collection&lt;?&gt; collection) {\n        return collection != null &amp;&amp; !collection.isEmpty();\n    }\n}\n</code></pre>\n<p>That gives me an elegant way to check values.</p>\n<p>For example</p>\n<pre><code>    @Mapping(target = &quot;name&quot;, conditionQualifiedByName = &quot;isNotBlank&quot;)\n    @Mapping(target = &quot;firstName&quot;, conditionQualifiedByName = &quot;isNotBlank&quot;)\n    @Mapping(target = &quot;rateCurrency&quot;, conditionQualifiedByName = &quot;isNotBlank&quot;,\n        expression = &quot;java(getCurrencyById(dto.getRateCurrency()))&quot;)\n    public abstract Entity toEntity(EntityDto dto);\n\n    public Currency getCurrencyById(String currencyName) {\n        return currencyRepository.findById(currencyName)\n            .orElseThrow(() -&gt; new EntityNotFoundException(Currency.class, currencyName));\n    }\n</code></pre>\n<p>But Mapstruct doesn't allow to use condition and expression in one mapping, conditionQualifiedByName just ignoring.\nAlso i have tried to use different arguments in @Mapping annotation witch are responsible for conditions and expressions but unsuccessfully.</p>\n<p>Please tell me how can i use isNotBlank() method from StaticUtil first, to prevent blank parameter passing to getCurrencyById() method.</p>\n<p>Thank you in advance for your help</p>\n"},{"tags":["java","android","maps"],"answers":[{"tags":[],"owner":{"account_id":2700180,"reputation":727,"user_id":2474681,"accept_rate":53,"display_name":"salih"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694001775,"creation_date":1694001775,"answer_id":77051709,"question_id":76203082,"body_markdown":"I think you are creating new marker at your every attempt, so you see the previous one. I think your implementation would be like below. \r\n\r\n    public class MainActivity2 extends AppCompatActivity implements OnMapReadyCallback {\r\n        GoogleMap gMap;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main2);\r\n    \r\n            SupportMapFragment supportMapFragment = (SupportMapFragment)\r\n                    getSupportFragmentManager().findFragmentById(R.id.google_map);\r\n            supportMapFragment.getMapAsync(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onMapReady(GoogleMap googleMap) {\r\n            gMap = googleMap;\r\n         MarkerOptions markerOptions = new MarkerOptions(); --&gt; Marker options should be here \r\n            gMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\r\n                @Override\r\n                public void onMapClick(LatLng latLng) {\r\n                    markerOptions.position(latLng);\r\n                    markerOptions.title(latLng.latitude+ &quot; : &quot; + latLng.longitude);\r\n                    gMap.clear();\r\n                    gMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 10));\r\n                    gMap.addMarker(markerOptions);\r\n                }\r\n            });\r\n        }\r\n    }","title":"Android studio java coordinate marker","body":"<p>I think you are creating new marker at your every attempt, so you see the previous one. I think your implementation would be like below.</p>\n<pre><code>public class MainActivity2 extends AppCompatActivity implements OnMapReadyCallback {\n    GoogleMap gMap;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n        SupportMapFragment supportMapFragment = (SupportMapFragment)\n                getSupportFragmentManager().findFragmentById(R.id.google_map);\n        supportMapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        gMap = googleMap;\n     MarkerOptions markerOptions = new MarkerOptions(); --&gt; Marker options should be here \n        gMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n            @Override\n            public void onMapClick(LatLng latLng) {\n                markerOptions.position(latLng);\n                markerOptions.title(latLng.latitude+ &quot; : &quot; + latLng.longitude);\n                gMap.clear();\n                gMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 10));\n                gMap.addMarker(markerOptions);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28529649,"reputation":1,"user_id":21837242,"display_name":"Dimondikus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694001775,"creation_date":1683568258,"question_id":76203082,"body_markdown":"how can I make it so that when I click on a button, I can select a specific point on Google Maps, the coordinates of which will be stored in the textview field near the button, and after clicking on the text of these coordinates, the map will open with the previously selected marker displayed?\r\n\r\nCode im using to including Google maps in my application:\r\n```\r\nimplementation &#39;com.google.android.gms:play-services-maps:17.0.0&#39;\r\nimplementation &#39;com.google.android.gms:play-services-location:17.1.0&#39;\r\n```\r\nThis code im using to open map : \r\n\r\n```\r\npublic class MainActivity2 extends AppCompatActivity implements OnMapReadyCallback {\r\n    GoogleMap gMap;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n\r\n        SupportMapFragment supportMapFragment = (SupportMapFragment)\r\n                getSupportFragmentManager().findFragmentById(R.id.google_map);\r\n        supportMapFragment.getMapAsync(this);\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        gMap = googleMap;\r\n        gMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\r\n            @Override\r\n            public void onMapClick(LatLng latLng) {\r\n                MarkerOptions markerOptions = new MarkerOptions();\r\n                markerOptions.position(latLng);\r\n                markerOptions.title(latLng.latitude+ &quot; : &quot; + latLng.longitude);\r\n                gMap.clear();\r\n                gMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 10));\r\n                gMap.addMarker(markerOptions);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nHere are the dependencies I added to my `AndroidManifest.xml` : \r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n\r\n\r\n&lt;meta-data\r\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n                android:value=&quot;REDACTED&quot;/&gt;\r\n```","title":"Android studio java coordinate marker","body":"<p>how can I make it so that when I click on a button, I can select a specific point on Google Maps, the coordinates of which will be stored in the textview field near the button, and after clicking on the text of these coordinates, the map will open with the previously selected marker displayed?</p>\n<p>Code im using to including Google maps in my application:</p>\n<pre><code>implementation 'com.google.android.gms:play-services-maps:17.0.0'\nimplementation 'com.google.android.gms:play-services-location:17.1.0'\n</code></pre>\n<p>This code im using to open map :</p>\n<pre><code>public class MainActivity2 extends AppCompatActivity implements OnMapReadyCallback {\n    GoogleMap gMap;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n        SupportMapFragment supportMapFragment = (SupportMapFragment)\n                getSupportFragmentManager().findFragmentById(R.id.google_map);\n        supportMapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        gMap = googleMap;\n        gMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n            @Override\n            public void onMapClick(LatLng latLng) {\n                MarkerOptions markerOptions = new MarkerOptions();\n                markerOptions.position(latLng);\n                markerOptions.title(latLng.latitude+ &quot; : &quot; + latLng.longitude);\n                gMap.clear();\n                gMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 10));\n                gMap.addMarker(markerOptions);\n            }\n        });\n    }\n}\n</code></pre>\n<p>Here are the dependencies I added to my <code>AndroidManifest.xml</code> :</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n\n\n&lt;meta-data\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\n                android:value=&quot;REDACTED&quot;/&gt;\n</code></pre>\n"},{"tags":["java","reactjs","spring","rest","architecture"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685491697,"post_id":76368345,"comment_id":134666787,"body_markdown":"By the way, the [ThreeTen-Extra](https://www.threeten.org/threeten-extra/) library provides classes for `Quarter` and `YearQuarter`. These interoperate with the *java.time* classes.","body":"By the way, the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> library provides classes for <code>Quarter</code> and <code>YearQuarter</code>. These interoperate with the <i>java.time</i> classes."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685520723,"post_id":76368345,"comment_id":134670062,"body_markdown":"In your second paragraph, what are we switching? What photos? You’ve lost me there.","body":"In your second paragraph, what are we switching? What photos? You’ve lost me there."},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1685521248,"post_id":76368345,"comment_id":134670188,"body_markdown":"@BasilBourque. I have a list of competencies(Developer, tester, manager). When we click Developer I need to have a table with the salary for this competency. when i switch to tester then I need a table with the salary for tester for every quarter. I hope this is clearer. about photo: the first picture is how the should look table with salaries. and in the second switcher of competencies which will show these tables.","body":"@BasilBourque. I have a list of competencies(Developer, tester, manager). When we click Developer I need to have a table with the salary for this competency. when i switch to tester then I need a table with the salary for tester for every quarter. I hope this is clearer. about photo: the first picture is how the should look table with salaries. and in the second switcher of competencies which will show these tables."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685491772,"post_id":76368445,"comment_id":134666795,"body_markdown":"Some example code would improve this Answer.","body":"Some example code would improve this Answer."}],"tags":[],"owner":{"account_id":28713645,"reputation":1,"user_id":21988689,"display_name":"krusty"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685494698,"creation_date":1685478865,"answer_id":76368445,"question_id":76368345,"body_markdown":"I would suggest making an 1x4 array for each individual employee and store the quarter competence.\r\n\r\nHope this helps!\r\n","title":"How can I effectively store and manage data related to quarters in a year for competency levels?","body":"<p>I would suggest making an 1x4 array for each individual employee and store the quarter competence.</p>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694001608,"creation_date":1694001608,"answer_id":77051684,"question_id":76368345,"body_markdown":"You could flatten the table and have independent enums for each type of values.This will help you easily modify if we have new role or levels.\r\n\r\n```\r\n\r\nenum Competency{\r\n    DEV,TEST,MANAGER\r\n}\r\n  enum Level {\r\n    TRAINEE, JUNIOR, INTERMEDIATE, SENIOR, EXPERT, TL;\r\n }\r\n enum Quater{\r\n    q1,q2,q3,q4\r\n }\r\n @Getter\r\n @Setter\r\n //@IdClass(DbRecordExcludingMaxvalue.class)//if using jpa/hibernate \r\n class DbRecord {\r\n    Integer year;\r\n    Quater quater;\r\n    Competency competency;\r\n    Level level;\r\n    Double maxValue;\r\n\r\n     public DbRecord(Integer year, Quater quater, Competency competency, Level level) {\r\n         this.year = year;\r\n         this.quater = quater;\r\n         this.competency = competency;\r\n         this.level = level;\r\n     }\r\n }\r\n\r\n class RecordHelper{\r\n\r\n    public static List&lt;DbRecord&gt; getAllCombination(Integer year){\r\n        //validation for year\r\n        ArrayList&lt;DbRecord&gt; dbRecords = new ArrayList&lt;&gt;();\r\n        for (Quater quater : Quater.values()) {\r\n            for (Competency competency : Competency.values()) {\r\n                for (Level level : Level.values()) {\r\n                    dbRecords.add(new DbRecord(year,quater,competency,level));\r\n                }\r\n            }\r\n        }\r\n        return dbRecords;\r\n     }\r\n\r\n }\r\n\r\npublic class DesignCompetencyQuater {\r\n    public static void main(String[] args) {\r\n        List&lt;DbRecord&gt; list = RecordHelper.getAllCombination(2023);\r\n\r\n        Predicate&lt;DbRecord&gt; yearFilter = dbRecord -&gt; dbRecord.getYear() ==2023;\r\n        Predicate&lt;DbRecord&gt; competencyFilter = dbRecord -&gt; dbRecord.getCompetency() == Competency.DEV;\r\n        Predicate&lt;DbRecord&gt; level = dbRecord -&gt; dbRecord.getLevel() == Level.TRAINEE;\r\n        Predicate&lt;DbRecord&gt; quater = dbRecord -&gt; dbRecord.getQuater() == Quater.q1;\r\n\r\n        Predicate&lt;DbRecord&gt; filter = Stream.of(yearFilter, competencyFilter,level)\r\n                                            .reduce(Predicate::and)\r\n                                            .get();\r\n\r\n        List&lt;DbRecord&gt; dev_Trainee_AllQuaters_2023 = list.stream()\r\n                                                    .filter(filter)\r\n                                                    .collect(Collectors.toList());\r\n        // since in ui you can pass the entire filtered list to display in pivot table format\r\n\r\n        Predicate&lt;DbRecord&gt; filter2 = Stream.of(yearFilter, competencyFilter,quater)\r\n                                        .reduce(Predicate::and)\r\n                                        .get();\r\n\r\n        List&lt;DbRecord&gt; dev_q1_2023 = list.stream()\r\n                                    .filter(filter2)\r\n                                    .collect(Collectors.toList());\r\n        \r\n    }\r\n}\r\n\r\n```\r\nTo avoid splitting of each type of enum values across same table you could have different lookup tables for each enums.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k6mQN.png","title":"How can I effectively store and manage data related to quarters in a year for competency levels?","body":"<p>You could flatten the table and have independent enums for each type of values.This will help you easily modify if we have new role or levels.</p>\n<pre><code>\nenum Competency{\n    DEV,TEST,MANAGER\n}\n  enum Level {\n    TRAINEE, JUNIOR, INTERMEDIATE, SENIOR, EXPERT, TL;\n }\n enum Quater{\n    q1,q2,q3,q4\n }\n @Getter\n @Setter\n //@IdClass(DbRecordExcludingMaxvalue.class)//if using jpa/hibernate \n class DbRecord {\n    Integer year;\n    Quater quater;\n    Competency competency;\n    Level level;\n    Double maxValue;\n\n     public DbRecord(Integer year, Quater quater, Competency competency, Level level) {\n         this.year = year;\n         this.quater = quater;\n         this.competency = competency;\n         this.level = level;\n     }\n }\n\n class RecordHelper{\n\n    public static List&lt;DbRecord&gt; getAllCombination(Integer year){\n        //validation for year\n        ArrayList&lt;DbRecord&gt; dbRecords = new ArrayList&lt;&gt;();\n        for (Quater quater : Quater.values()) {\n            for (Competency competency : Competency.values()) {\n                for (Level level : Level.values()) {\n                    dbRecords.add(new DbRecord(year,quater,competency,level));\n                }\n            }\n        }\n        return dbRecords;\n     }\n\n }\n\npublic class DesignCompetencyQuater {\n    public static void main(String[] args) {\n        List&lt;DbRecord&gt; list = RecordHelper.getAllCombination(2023);\n\n        Predicate&lt;DbRecord&gt; yearFilter = dbRecord -&gt; dbRecord.getYear() ==2023;\n        Predicate&lt;DbRecord&gt; competencyFilter = dbRecord -&gt; dbRecord.getCompetency() == Competency.DEV;\n        Predicate&lt;DbRecord&gt; level = dbRecord -&gt; dbRecord.getLevel() == Level.TRAINEE;\n        Predicate&lt;DbRecord&gt; quater = dbRecord -&gt; dbRecord.getQuater() == Quater.q1;\n\n        Predicate&lt;DbRecord&gt; filter = Stream.of(yearFilter, competencyFilter,level)\n                                            .reduce(Predicate::and)\n                                            .get();\n\n        List&lt;DbRecord&gt; dev_Trainee_AllQuaters_2023 = list.stream()\n                                                    .filter(filter)\n                                                    .collect(Collectors.toList());\n        // since in ui you can pass the entire filtered list to display in pivot table format\n\n        Predicate&lt;DbRecord&gt; filter2 = Stream.of(yearFilter, competencyFilter,quater)\n                                        .reduce(Predicate::and)\n                                        .get();\n\n        List&lt;DbRecord&gt; dev_q1_2023 = list.stream()\n                                    .filter(filter2)\n                                    .collect(Collectors.toList());\n        \n    }\n}\n\n</code></pre>\n<p>To avoid splitting of each type of enum values across same table you could have different lookup tables for each enums.</p>\n<p><a href=\"https://i.stack.imgur.com/k6mQN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6mQN.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694001608,"creation_date":1685477814,"question_id":76368345,"body_markdown":"I have an architectural question about how to properly store data for future use. In general, I have a list of competencies, for example, developer, tester, manager, etc., and each competency has a level, for example, junior, middle, or senior.\r\n\r\n We need to develop a page where there will be a competence switch, and when we click on a competency, we get the salary limit for each level of competence. For example, a photos\r\n(In excel the exactly how it should look like and in another photo i display a competencies. Like switch between them and we have another salaries).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mcGxw.png\r\n  [2]: https://i.stack.imgur.com/6v7mP.png\r\n\r\n**So here is the main question, how to store data for quarters and levels? I have a guess that I need to store quarters in the map. But then my Competency entity should look like:**\r\n\r\n    @Entity\r\n    @Builder(toBuilder = true)\r\n    @Audited\r\n    @TypeDef(\r\n            name = &quot;pgsql_enum&quot;,\r\n            typeClass = PostgreSQLEnumType.class\r\n    )\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    @Setter\r\n    @Getter\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class Competency implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(generator = &quot;UUID&quot;)\r\n        @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n        private UUID id;\r\n    \r\n        @NotNull\r\n        private String name;\r\n    \r\n        private Level level;\r\n    \r\n        @Type( type = &quot;json&quot; )\r\n        private HashMap&lt;String, Integer&gt; salaryCap;\r\n        \r\n        // Should I add year? because i need to have ability to change salary caps for the next years. \r\n    \r\n    }\r\n\r\n**Here is Level class**\r\n\r\n    @RequiredArgsConstructor\r\n    @Getter\r\n    public enum Level {\r\n    \r\n      TRAINEE(&quot;Trainee&quot;),\r\n      JUNIOR(&quot;Junior&quot;),\r\n      INTERMEDIATE(&quot;Intermediate&quot;),\r\n      SENIOR(&quot;Senior&quot;),\r\n      EXPERT(&quot;Expert&quot;),\r\n      TL(&quot;Tech lead&quot;);\r\n    \r\n      private final String name;\r\n    \r\n      public static final Map&lt;String, Level&gt; LEVELS = Stream.of(values())\r\n              .collect(Collectors.toMap(Level::getName, k -&gt; k));\r\n    \r\n    }\r\n\r\nIn the frontend, I have tsx/typescript files. So I need to know if is this a good approach for this case or if I have a better solution for it. \r\n","title":"How can I effectively store and manage data related to quarters in a year for competency levels?","body":"<p>I have an architectural question about how to properly store data for future use. In general, I have a list of competencies, for example, developer, tester, manager, etc., and each competency has a level, for example, junior, middle, or senior.</p>\n<p>We need to develop a page where there will be a competence switch, and when we click on a competency, we get the salary limit for each level of competence. For example, a photos\n(In excel the exactly how it should look like and in another photo i display a competencies. Like switch between them and we have another salaries).</p>\n<p><a href=\"https://i.stack.imgur.com/mcGxw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mcGxw.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6v7mP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6v7mP.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>So here is the main question, how to store data for quarters and levels? I have a guess that I need to store quarters in the map. But then my Competency entity should look like:</strong></p>\n<pre><code>@Entity\n@Builder(toBuilder = true)\n@Audited\n@TypeDef(\n        name = &quot;pgsql_enum&quot;,\n        typeClass = PostgreSQLEnumType.class\n)\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@Setter\n@Getter\n@EntityListeners(AuditingEntityListener.class)\npublic class Competency implements Serializable {\n\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    private UUID id;\n\n    @NotNull\n    private String name;\n\n    private Level level;\n\n    @Type( type = &quot;json&quot; )\n    private HashMap&lt;String, Integer&gt; salaryCap;\n    \n    // Should I add year? because i need to have ability to change salary caps for the next years. \n\n}\n</code></pre>\n<p><strong>Here is Level class</strong></p>\n<pre><code>@RequiredArgsConstructor\n@Getter\npublic enum Level {\n\n  TRAINEE(&quot;Trainee&quot;),\n  JUNIOR(&quot;Junior&quot;),\n  INTERMEDIATE(&quot;Intermediate&quot;),\n  SENIOR(&quot;Senior&quot;),\n  EXPERT(&quot;Expert&quot;),\n  TL(&quot;Tech lead&quot;);\n\n  private final String name;\n\n  public static final Map&lt;String, Level&gt; LEVELS = Stream.of(values())\n          .collect(Collectors.toMap(Level::getName, k -&gt; k));\n\n}\n</code></pre>\n<p>In the frontend, I have tsx/typescript files. So I need to know if is this a good approach for this case or if I have a better solution for it.</p>\n"},{"tags":["java","spring","spring-boot","jar"],"comments":[{"owner":{"account_id":263358,"reputation":253,"user_id":3358586,"display_name":"Nord"},"score":0,"creation_date":1581987767,"post_id":58981148,"comment_id":106612909,"body_markdown":"Either give permissions to the user to write to tmp or change the tmp directory with the jvm option -Djava.io.tmpdir=&lt;some dir with rw privileges&gt;.","body":"Either give permissions to the user to write to tmp or change the tmp directory with the jvm option -Djava.io.tmpdir=&lt;some dir with rw privileges&gt;."}],"answers":[{"comments":[{"owner":{"account_id":13310072,"reputation":581,"user_id":9608620,"display_name":"Erent"},"score":0,"creation_date":1574360446,"post_id":58981352,"comment_id":104215474,"body_markdown":"any idea on how I can give it permission","body":"any idea on how I can give it permission"},{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1574360663,"post_id":58981352,"comment_id":104215568,"body_markdown":"at first try if you really don&#39;t have permissions... command like `touch /tmp/testfile.txt` could give you a result. If it tells you that you don&#39;t have permissions try `chmod 1777 /tmp`","body":"at first try if you really don&#39;t have permissions... command like <code>touch &#47;tmp&#47;testfile.txt</code> could give you a result. If it tells you that you don&#39;t have permissions try <code>chmod 1777 &#47;tmp</code>"},{"owner":{"account_id":13310072,"reputation":581,"user_id":9608620,"display_name":"Erent"},"score":0,"creation_date":1574360934,"post_id":58981352,"comment_id":104215723,"body_markdown":"I get this error when I run the first command ``` touch: cannot touch &#39;/tmp/testfile.txt&#39;: Read-only file system ```","body":"I get this error when I run the first command ``` touch: cannot touch &#39;/tmp/testfile.txt&#39;: Read-only file system ```"},{"owner":{"account_id":13310072,"reputation":581,"user_id":9608620,"display_name":"Erent"},"score":0,"creation_date":1574360975,"post_id":58981352,"comment_id":104215741,"body_markdown":"and when I run the last command I get chmod: changing permissions of &#39;/tmp&#39;: Read-only file system","body":"and when I run the last command I get chmod: changing permissions of &#39;/tmp&#39;: Read-only file system"}],"tags":[],"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574360337,"creation_date":1574360337,"answer_id":58981352,"question_id":58981148,"body_markdown":"your application user probably does not have sufficient permissions to crate anything in `/tmp` directory ... see last message `Caused by: java.io.IOException: Read-only file system`","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>your application user probably does not have sufficient permissions to crate anything in <code>/tmp</code> directory ... see last message <code>Caused by: java.io.IOException: Read-only file system</code></p>\n"},{"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1694006018,"post_id":58982233,"comment_id":135834309,"body_markdown":"None of that will help.  It&#39;s not a permissions problem.  It&#39;s a **read-only file system**.","body":"None of that will help.  It&#39;s not a permissions problem.  It&#39;s a <b>read-only file system</b>."}],"tags":[],"owner":{"account_id":17040681,"reputation":61,"user_id":12328657,"display_name":"Dilip G"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574363825,"creation_date":1574363825,"answer_id":58982233,"question_id":58981148,"body_markdown":"Try any of the following: \r\n\r\n1) Change permissions of /tmp to give access to your user.\r\nchmod -R 777 /tmp\r\nmake you sure you run above command with sudo access (root)\r\n\r\n2) add the user who is to the sudo group. \r\n","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>Try any of the following: </p>\n\n<p>1) Change permissions of /tmp to give access to your user.\nchmod -R 777 /tmp\nmake you sure you run above command with sudo access (root)</p>\n\n<p>2) add the user who is to the sudo group. </p>\n"},{"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619482515,"creation_date":1619482515,"answer_id":67275307,"question_id":58981148,"body_markdown":"For ones who are getting same exception while running from Intellij IDEA when providing env variables as part of run/debug configuration:\r\nplease look if &quot;Include parent environment variables&quot; is checked","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>For ones who are getting same exception while running from Intellij IDEA when providing env variables as part of run/debug configuration:\nplease look if &quot;Include parent environment variables&quot; is checked</p>\n"},{"comments":[{"owner":{"account_id":9737031,"reputation":513,"user_id":7219960,"accept_rate":80,"display_name":"Ninad Kulkarni"},"score":0,"creation_date":1684850334,"post_id":70182630,"comment_id":134575348,"body_markdown":"What if i want to run container with readOnlyRootFilesystem : true","body":"What if i want to run container with readOnlyRootFilesystem : true"}],"tags":[],"owner":{"account_id":9641139,"reputation":616,"user_id":7364381,"display_name":"Sukhmeet Sethi"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1638354747,"creation_date":1638354747,"answer_id":70182630,"question_id":58981148,"body_markdown":"In case you are getting this issue while deploying Spring boot application in Kubernetes, one of configuration worth checking is *readOnlyRootFilesystem*. It must be set to false until you are trying to intentionally run read only containers.\r\n\r\nIt can be used in deployment config as following:\r\n\r\n```yaml\r\ntemplate:\r\n    metadata:\r\n      labels:\r\n        app: hello\r\n    spec:\r\n      containers:\r\n      - name: hello\r\n        image: hello-world\r\n        securityContext:\r\n          runAsUser: 1000\r\n          readOnlyRootFilesystem: false ## this should not be true\r\n```","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>In case you are getting this issue while deploying Spring boot application in Kubernetes, one of configuration worth checking is <em>readOnlyRootFilesystem</em>. It must be set to false until you are trying to intentionally run read only containers.</p>\n<p>It can be used in deployment config as following:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>template:\n    metadata:\n      labels:\n        app: hello\n    spec:\n      containers:\n      - name: hello\n        image: hello-world\n        securityContext:\n          runAsUser: 1000\n          readOnlyRootFilesystem: false ## this should not be true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2090919,"reputation":899,"user_id":1860791,"accept_rate":81,"display_name":"Lefteris008"},"score":0,"creation_date":1686815186,"post_id":71747101,"comment_id":134851872,"body_markdown":"Thanks! The diskspace assigned to Docker (which is seen internally by it, as a separate hard disk) was full! I increased the space, and it worked.","body":"Thanks! The diskspace assigned to Docker (which is seen internally by it, as a separate hard disk) was full! I increased the space, and it worked."}],"tags":[],"owner":{"account_id":2200013,"reputation":883,"user_id":1944636,"accept_rate":92,"display_name":"MikeKulls"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649139756,"creation_date":1649139756,"answer_id":71747101,"question_id":58981148,"body_markdown":"The most likely explanation for this is that the root filesystem is full. It was the issue for me.","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>The most likely explanation for this is that the root filesystem is full. It was the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":15567971,"reputation":11,"user_id":11231187,"display_name":"G. Ionut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666350132,"creation_date":1666350132,"answer_id":74152670,"question_id":58981148,"body_markdown":"One reason for this error is that you not include system environments variables. Maybe you try to define a new configuration with different system variables that are defined in your java IDE and you disable default environments variable.\r\n \r\n[![enter image description here][1]][1] \r\n\r\nPlease enable checkbox:\r\nRun/Debug Configuration -&gt; select your configuration -&gt; press on the environment variables -&gt; check Include system environment variables (as in the picture added above).\r\n\r\nKeep in mind that you need to check if you have added the path of the Temp file in the system variables.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kZbMj.png\r\n  [2]: https://i.stack.imgur.com/O9SwX.png","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>One reason for this error is that you not include system environments variables. Maybe you try to define a new configuration with different system variables that are defined in your java IDE and you disable default environments variable.</p>\n<p><a href=\"https://i.stack.imgur.com/kZbMj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kZbMj.png\" alt=\"enter image description here\" /></a></p>\n<p>Please enable checkbox:\nRun/Debug Configuration -&gt; select your configuration -&gt; press on the environment variables -&gt; check Include system environment variables (as in the picture added above).</p>\n<p>Keep in mind that you need to check if you have added the path of the Temp file in the system variables.\n<a href=\"https://i.stack.imgur.com/O9SwX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O9SwX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19400038,"reputation":11,"user_id":14186808,"display_name":"Alexey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694001390,"creation_date":1694001390,"answer_id":77051645,"question_id":58981148,"body_markdown":"In case you are deploying to Kubernetes and you need to set `securityContext.readOnlyRootFilesystem` to `true` you can create tmp dir by mounting volume\r\n\r\n    template:\r\n        metadata:\r\n          labels:\r\n            app: hello\r\n        spec:\r\n          containers:\r\n            - name: hello\r\n              image: hello-world\r\n              volumeMounts:\r\n                - name: tmp\r\n                  mountPath: /tmp\r\n              securityContext:\r\n                readOnlyRootFilesystem: true\r\n          volumes:\r\n            - name: tmp\r\n              emptyDir: { }\r\n\r\n","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>In case you are deploying to Kubernetes and you need to set <code>securityContext.readOnlyRootFilesystem</code> to <code>true</code> you can create tmp dir by mounting volume</p>\n<pre><code>template:\n    metadata:\n      labels:\n        app: hello\n    spec:\n      containers:\n        - name: hello\n          image: hello-world\n          volumeMounts:\n            - name: tmp\n              mountPath: /tmp\n          securityContext:\n            readOnlyRootFilesystem: true\n      volumes:\n        - name: tmp\n          emptyDir: { }\n</code></pre>\n"}],"owner":{"account_id":13310072,"reputation":581,"user_id":9608620,"display_name":"Erent"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21928,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":7,"score":4,"last_activity_date":1694001390,"creation_date":1574359543,"question_id":58981148,"body_markdown":"Running my springboot web service java jar app on ubuntu server results in the error shown below, I have done a bit of research about the error however I cannot get a solution. The command I am using to run the jar file is \r\n\r\n```\r\njava -jar mySpringBootApp.jar\r\n```\r\n\r\n\r\n\r\n```\r\n\r\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:157) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat aacctt.payments.org.Application.main(Application.java:18) [classes!/:0.0.1-SNAPSHOT]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_191]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_191]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_191]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_191]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\r\n\tat org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:182) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:162) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\t... 16 common frames omitted\r\nCaused by: java.io.IOException: Read-only file system\r\n\tat java.io.UnixFileSystem.createFileExclusively(Native Method) ~[na:1.8.0_191]\r\n\tat java.io.File.createTempFile(File.java:2024) ~[na:1.8.0_191]\r\n\tat java.io.File.createTempFile(File.java:2070) ~[na:1.8.0_191]\r\n\tat org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:173) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\t... 19 common frames omitted\r\n\r\n```","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>Running my springboot web service java jar app on ubuntu server results in the error shown below, I have done a bit of research about the error however I cannot get a solution. The command I am using to run the jar file is </p>\n\n<pre><code>java -jar mySpringBootApp.jar\n</code></pre>\n\n<pre><code>\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:157) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at aacctt.payments.org.Application.main(Application.java:18) [classes!/:0.0.1-SNAPSHOT]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_191]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_191]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_191]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_191]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\n    at org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:182) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:162) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    ... 16 common frames omitted\nCaused by: java.io.IOException: Read-only file system\n    at java.io.UnixFileSystem.createFileExclusively(Native Method) ~[na:1.8.0_191]\n    at java.io.File.createTempFile(File.java:2024) ~[na:1.8.0_191]\n    at java.io.File.createTempFile(File.java:2070) ~[na:1.8.0_191]\n    at org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:173) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    ... 19 common frames omitted\n\n</code></pre>\n"},{"tags":["java","android","kotlin","firebase-realtime-database"],"owner":{"account_id":29379029,"reputation":11,"user_id":22509948,"display_name":"Elisha Prashanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694001341,"creation_date":1694001341,"question_id":77051639,"body_markdown":"I’m beginner level coder I’m a trying to build an application to take video from the YouTube put it on the recycler view and on click plays the video in the exoplayer. And also update the recycler view when a new video is uploaded. I’ll be adding new video regularly and needs to be updated inside the app. \r\n\r\nPlease help!!!\r\n\r\nI’ve tried using exoplayer but I didn’t knew it was migrated until now (like I said I am newbie at this) so please help me!","title":"Can I use YouTube video url to play it in exoplayer and update it everyday","body":"<p>I’m beginner level coder I’m a trying to build an application to take video from the YouTube put it on the recycler view and on click plays the video in the exoplayer. And also update the recycler view when a new video is uploaded. I’ll be adding new video regularly and needs to be updated inside the app.</p>\n<p>Please help!!!</p>\n<p>I’ve tried using exoplayer but I didn’t knew it was migrated until now (like I said I am newbie at this) so please help me!</p>\n"},{"tags":["java","maven","jar","properties"],"answers":[{"tags":[],"owner":{"account_id":328273,"reputation":14391,"user_id":651140,"display_name":"Andrzej Jozwik"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1401691966,"creation_date":1401691966,"answer_id":23988772,"question_id":23987633,"body_markdown":"Add file in the same package (folder) in `src/main/resources` instead of `src/main/java` or see my answer [With maven - clean package, xml source files are not included in classpath][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9800196/651140","title":"Maven add properties file to jar file","body":"<p>Add file in the same package (folder) in <code>src/main/resources</code> instead of <code>src/main/java</code> or see my answer <a href=\"https://stackoverflow.com/a/9800196/651140\">With maven - clean package, xml source files are not included in classpath</a></p>\n"},{"comments":[{"owner":{"account_id":19277,"reputation":2651,"user_id":45051,"accept_rate":53,"display_name":"jennykwan"},"score":8,"creation_date":1487202293,"post_id":28611662,"comment_id":71681967,"body_markdown":"Do *not* do this. Files you load at runtime from the classpath are resources, not Java code. See the other answer.","body":"Do <i>not</i> do this. Files you load at runtime from the classpath are resources, not Java code. See the other answer."}],"tags":[],"owner":{"account_id":2473440,"reputation":4508,"user_id":2154661,"display_name":"Ronald Coarite"},"comment_count":1,"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1424363466,"creation_date":1424363466,"answer_id":28611662,"question_id":23987633,"body_markdown":"I did it this way and function perfectly.\r\n\r\n        &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.properties&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.6&lt;/source&gt;\r\n                    &lt;target&gt;1.6&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;","title":"Maven add properties file to jar file","body":"<p>I did it this way and function perfectly.</p>\n\n<pre><code>    &lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/java&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.6&lt;/source&gt;\n                &lt;target&gt;1.6&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":2892776,"reputation":3221,"user_id":2481153,"display_name":"HungNM2"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694000685,"creation_date":1694000685,"answer_id":77051568,"question_id":23987633,"body_markdown":"    &lt;build&gt;\r\n    \t&lt;resources&gt;\r\n    \t\t&lt;resource&gt;\r\n    \t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n    \t\t\t&lt;includes&gt;\r\n    \t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n    \t\t\t\t&lt;include&gt;**/*.yaml&lt;/include&gt;\r\n    \t\t\t&lt;/includes&gt;\r\n    \t\t&lt;/resource&gt;\r\n    \t\t&lt;resource&gt;\r\n    \t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t&lt;includes&gt;\r\n    \t\t\t\t&lt;include&gt;**/*&lt;/include&gt;\r\n    \t\t\t&lt;/includes&gt;\r\n    \t\t&lt;/resource&gt;\r\n    \t&lt;/resources&gt;\r\n    \r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;!-- java 8 = 1.8 --&gt;\r\n    \t\t\t\t&lt;!-- java 11 = 11 --&gt;\r\n    \t\t\t\t&lt;!-- java 17 = 17 --&gt;\r\n    \t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Maven add properties file to jar file","body":"<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/java&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n                &lt;include&gt;**/*.yaml&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;!-- java 8 = 1.8 --&gt;\n                &lt;!-- java 11 = 11 --&gt;\n                &lt;!-- java 17 = 17 --&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n            &lt;/configuration&gt;\n\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":273516,"reputation":856,"user_id":1409362,"accept_rate":39,"display_name":"AKZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53228,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":23988772,"answer_count":3,"score":11,"last_activity_date":1694000685,"creation_date":1401685546,"question_id":23987633,"body_markdown":"I am using the following plugin configuration to make a jar file and I want to include non-java src files in the same place in the output jar as described [here][1].\r\n\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;${java.version}&lt;/source&gt;\r\n                &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\r\n                &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;   \r\n\t\t\t\t&lt;!-- include non-java src files in the same place in the output jar --&gt;\r\n\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t&lt;/resources&gt;                                     \r\n            &lt;/configuration&gt;  \r\n\r\nThe above does not work and neither does the following:\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;!-- include non-java src files in the same place in the output jar --&gt;\r\n\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t&lt;/resources&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;        \r\n    \r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;${java.version}&lt;/source&gt;\r\n                &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\r\n                &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;                    \r\n            &lt;/configuration&gt;                \r\n        &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4509309/in-maven-how-can-i-include-non-java-src-files-in-the-same-place-in-the-output-ja","title":"Maven add properties file to jar file","body":"<p>I am using the following plugin configuration to make a jar file and I want to include non-java src files in the same place in the output jar as described <a href=\"https://stackoverflow.com/questions/4509309/in-maven-how-can-i-include-non-java-src-files-in-the-same-place-in-the-output-ja\">here</a>.</p>\n\n<pre><code>        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;${java.version}&lt;/source&gt;\n            &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\n            &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n            &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;   \n            &lt;!-- include non-java src files in the same place in the output jar --&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/java&lt;/directory&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*.properties&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;                                     \n        &lt;/configuration&gt;  \n</code></pre>\n\n<p>The above does not work and neither does the following:</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;!-- include non-java src files in the same place in the output jar --&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/java&lt;/directory&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*.properties&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;        \n\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;${java.version}&lt;/source&gt;\n            &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\n            &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n            &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;                    \n        &lt;/configuration&gt;                \n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","alarm","lockscreen"],"owner":{"account_id":7993567,"reputation":23,"user_id":6030693,"display_name":"Hossam Maarek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694000424,"creation_date":1694000424,"question_id":77051547,"body_markdown":"I have an android alarm app that was working nice up to SDK 32. When I set the targetSdkVersion to 33 now when the alarm fires, and the app is in the background, system is locked, the Alarm sound is audible but the app cannot show on screen (screen keeps locked). The activity that should have been started with the AlarmReceiver is not even created. That activity is used to **dismiss** the alarm and display some other info to the user (*only when the screen is locked*).\r\nany one can help please? code snippets are below\r\n\r\nAndroidManifest.xml:\r\n```\r\n&lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\r\n&lt;!--\t&lt;uses-permission android:name=&quot;&quot;--&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.USE_FULL_SCREEN_INTENT&quot;/&gt;\r\n\r\n\t&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\r\n```\r\n\r\nAlarmReciver.java:\r\n```\r\nif (isDeviceLocked(context))\r\n        {\r\n            Intent detailsIntent = new Intent(context, AlarmDetails.class);\r\n\r\n//do some extra stuff like setting text for the intent...\r\n//.....\r\n//...\r\ndetailsIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK |Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n            detailsIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            context.startActivity(detailsIntent); //this doesn&#39;t even call create in the activity!!!\r\n}\r\nelse\r\n{ \r\n//display notifications only....\r\n}\r\n```\r\n\r\nfunction isDeviceLocked checks the status of the lock screen as documentation suggested (works very well).\r\n\r\nAppreciate any help I can get. This is wasting my time so far and I have to release against SDK 33 as per Mr. Google","title":"Alarm App not able to start Activity when Alarm fires and app is in background in SDK 33 and screen is locked","body":"<p>I have an android alarm app that was working nice up to SDK 32. When I set the targetSdkVersion to 33 now when the alarm fires, and the app is in the background, system is locked, the Alarm sound is audible but the app cannot show on screen (screen keeps locked). The activity that should have been started with the AlarmReceiver is not even created. That activity is used to <strong>dismiss</strong> the alarm and display some other info to the user (<em>only when the screen is locked</em>).\nany one can help please? code snippets are below</p>\n<p>AndroidManifest.xml:</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\n&lt;!--    &lt;uses-permission android:name=&quot;&quot;--&gt;\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.USE_FULL_SCREEN_INTENT&quot;/&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\n</code></pre>\n<p>AlarmReciver.java:</p>\n<pre><code>if (isDeviceLocked(context))\n        {\n            Intent detailsIntent = new Intent(context, AlarmDetails.class);\n\n//do some extra stuff like setting text for the intent...\n//.....\n//...\ndetailsIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK |Intent.FLAG_ACTIVITY_CLEAR_TASK);\n            detailsIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n            context.startActivity(detailsIntent); //this doesn't even call create in the activity!!!\n}\nelse\n{ \n//display notifications only....\n}\n</code></pre>\n<p>function isDeviceLocked checks the status of the lock screen as documentation suggested (works very well).</p>\n<p>Appreciate any help I can get. This is wasting my time so far and I have to release against SDK 33 as per Mr. Google</p>\n"},{"tags":["java","android","okhttp"],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570496201,"creation_date":1570496201,"answer_id":58278874,"question_id":58276056,"body_markdown":"Use `newBuilder(String)` to resolve relative links.\r\n\r\n     HttpUrl.get(&quot;https://example.com/a.html&quot;)\r\n         .newBuilder(&quot;b.html&quot;)\r\n\r\n ","title":"HttpUrl newBuilder(String) usage","body":"<p>Use <code>newBuilder(String)</code> to resolve relative links.</p>\n\n<pre><code> HttpUrl.get(\"https://example.com/a.html\")\n     .newBuilder(\"b.html\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6593338,"reputation":737,"user_id":5093897,"display_name":"Andriy"},"score":0,"creation_date":1579257414,"post_id":59715876,"comment_id":105714262,"body_markdown":"Yes, this is the workaround I&#39;m using at the moment, was looking for a better approach","body":"Yes, this is the workaround I&#39;m using at the moment, was looking for a better approach"}],"tags":[],"owner":{"account_id":4894139,"reputation":28944,"user_id":3944322,"accept_rate":75,"display_name":"Stef"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578915384,"creation_date":1578915384,"answer_id":59715876,"question_id":58276056,"body_markdown":"Use [`parse`][1] to create a new builder from an existing well-formed URL string:\r\n\r\n    HttpUrl.Builder urlBuilder = HttpUrl.parse(savedUrl).newBuilder();\r\n\r\nHere, you can add query parameters etc. and then call `urlBuilder.build()` to get the final `HttpUrl`.\r\n\r\n  [1]: https://square.github.io/okhttp/3.x/okhttp/okhttp3/HttpUrl.html#parse-java.lang.String-","title":"HttpUrl newBuilder(String) usage","body":"<p>Use <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/HttpUrl.html#parse-java.lang.String-\" rel=\"nofollow noreferrer\"><code>parse</code></a> to create a new builder from an existing well-formed URL string:</p>\n\n<pre><code>HttpUrl.Builder urlBuilder = HttpUrl.parse(savedUrl).newBuilder();\n</code></pre>\n\n<p>Here, you can add query parameters etc. and then call <code>urlBuilder.build()</code> to get the final <code>HttpUrl</code>.</p>\n"},{"comments":[{"owner":{"account_id":6593338,"reputation":737,"user_id":5093897,"display_name":"Andriy"},"score":0,"creation_date":1694508989,"post_id":77051538,"comment_id":135896498,"body_markdown":"Thank you for the response, however please note that question is about Java.","body":"Thank you for the response, however please note that question is about Java."}],"tags":[],"owner":{"account_id":23631176,"reputation":1,"user_id":17662887,"display_name":"arkuzo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694000341,"creation_date":1694000341,"answer_id":77051538,"question_id":58276056,"body_markdown":"Okhttp v3 provides String extension for Kotlin, so with Kotlin creating builder from URL string is as easy as:\r\n```kotlin\r\nsavedUrl.toHttpUrl().newBuilder()\r\n```\r\n","title":"HttpUrl newBuilder(String) usage","body":"<p>Okhttp v3 provides String extension for Kotlin, so with Kotlin creating builder from URL string is as easy as:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>savedUrl.toHttpUrl().newBuilder()\n</code></pre>\n"}],"owner":{"account_id":6593338,"reputation":737,"user_id":5093897,"display_name":"Andriy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2623,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1694000341,"creation_date":1570476909,"question_id":58276056,"body_markdown":"To create new HttpUrl.Builder instance from existing URL I use [HttpUrl.newBuilder(String)][1]:\r\n\r\n    new HttpUrl().build().newBuilder(savedUrl)\r\n\r\nwhere savedUrl is a String containing well-formed URL.\r\n\r\nThe above fragment crashes in HttpUrl constructor because of scheme is undefined. As a workaround I use existing HttpUrl instance - less than ideal.\r\n\r\nThe questions are: \r\n\r\n 1. is newBuilder(String) the right tool for the job?\r\n 2. how newBuilder(String) should be used properly?\r\n\r\n\r\n\r\n  [1]: https://square.github.io/okhttp/4.x/okhttp/okhttp3/-http-url/new-builder/","title":"HttpUrl newBuilder(String) usage","body":"<p>To create new HttpUrl.Builder instance from existing URL I use <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-http-url/new-builder/\" rel=\"noreferrer\">HttpUrl.newBuilder(String)</a>:</p>\n\n<pre><code>new HttpUrl().build().newBuilder(savedUrl)\n</code></pre>\n\n<p>where savedUrl is a String containing well-formed URL.</p>\n\n<p>The above fragment crashes in HttpUrl constructor because of scheme is undefined. As a workaround I use existing HttpUrl instance - less than ideal.</p>\n\n<p>The questions are: </p>\n\n<ol>\n<li>is newBuilder(String) the right tool for the job?</li>\n<li>how newBuilder(String) should be used properly?</li>\n</ol>\n"},{"tags":["java","spring","annotations","lombok"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692628359,"post_id":76946275,"comment_id":135645807,"body_markdown":"You need to configure the [Lombok compiler plugin](https://projectlombok.org/setup/maven) in that POM file too","body":"You need to configure the <a href=\"https://projectlombok.org/setup/maven\" rel=\"nofollow noreferrer\">Lombok compiler plugin</a> in that POM file too"},{"owner":{"account_id":29010985,"reputation":151,"user_id":22222503,"display_name":"Yana Aziamblouskaya"},"score":0,"creation_date":1692634739,"post_id":76946275,"comment_id":135647265,"body_markdown":"I have lombok dependency and plugin in pom.xml,  but it doesn&#39;t work","body":"I have lombok dependency and plugin in pom.xml,  but it doesn&#39;t work"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1692683903,"post_id":76946275,"comment_id":135653490,"body_markdown":"Does this answer your question? [MapStruct and Lombok not working together](https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together\">MapStruct and Lombok not working together</a>"},{"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"score":0,"creation_date":1694000019,"post_id":76946275,"comment_id":135832895,"body_markdown":"where are you getting the &quot;issue&quot;?","body":"where are you getting the &quot;issue&quot;?"}],"answers":[{"comments":[{"owner":{"account_id":29010985,"reputation":151,"user_id":22222503,"display_name":"Yana Aziamblouskaya"},"score":0,"creation_date":1692634826,"post_id":76946524,"comment_id":135647291,"body_markdown":"I have added EnableJpaRepositories to my config file, and checked there is Repository in UserRepository class, but it doesn&#39;t work too","body":"I have added EnableJpaRepositories to my config file, and checked there is Repository in UserRepository class, but it doesn&#39;t work too"}],"tags":[],"owner":{"display_name":"user22423960"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692629952,"creation_date":1692629952,"answer_id":76946524,"question_id":76946275,"body_markdown":"I&#39;m not sure if your wording is slightly off here but when you say &quot;variable usersRepository not initialized in the default constructor&quot;, this implies you&#39;re creating an instance of UsersDetailsService by calling an empty constructor (no arguments).\r\n\r\nIf this is the case then usersRepository will be null since it is only initialized in the constructor created from @RequiredArgsConstructor.\r\n\r\nIf you are expecting the constructor created from @RequiredArgsConstructor to be called automatically through dependency injection and usersRepository is still null then check that you are creating a UsersRepository bean that can be injected. Annotating UsersRepository with @Repository will accomplish this if you are using a JPA repository.\r\n\r\nAlso, if you are using a JPA repository then ensure you have the @EnableJpaRepositories annotation in your app config, that points to the base package of your repositories.","title":"variable not initialized in the default constructor Lombok Spring","body":"<p>I'm not sure if your wording is slightly off here but when you say &quot;variable usersRepository not initialized in the default constructor&quot;, this implies you're creating an instance of UsersDetailsService by calling an empty constructor (no arguments).</p>\n<p>If this is the case then usersRepository will be null since it is only initialized in the constructor created from @RequiredArgsConstructor.</p>\n<p>If you are expecting the constructor created from @RequiredArgsConstructor to be called automatically through dependency injection and usersRepository is still null then check that you are creating a UsersRepository bean that can be injected. Annotating UsersRepository with @Repository will accomplish this if you are using a JPA repository.</p>\n<p>Also, if you are using a JPA repository then ensure you have the @EnableJpaRepositories annotation in your app config, that points to the base package of your repositories.</p>\n"},{"tags":[],"owner":{"account_id":1010706,"reputation":1264,"user_id":1023341,"display_name":"gkephorus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693999864,"creation_date":1693999864,"answer_id":77051483,"question_id":76946275,"body_markdown":"I bumped into this as well. I had to add the Maven artifact lombok-mapstruct-binding to the maven-compiler-plugin like so:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;annotationProcessorPaths&gt;\r\n    \t\t\t&lt;path&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    \t\t\t&lt;/path&gt;\r\n    \t\t\t&lt;path&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t\t\t&lt;/path&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/annotationProcessorPaths&gt;\r\n    \t\t&lt;compilerArgs&gt;\r\n    \t\t\t&lt;arg&gt;-parameters&lt;/arg&gt;\r\n    \t\t&lt;/compilerArgs&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThis solved the issue for me. I read in the [changelog of lombok][1] I should have done this ever since version v1.18.16 (January 28th, 2021). I was just lucky I guess.\r\n\r\n\r\n  [1]: https://projectlombok.org/changelog","title":"variable not initialized in the default constructor Lombok Spring","body":"<p>I bumped into this as well. I had to add the Maven artifact lombok-mapstruct-binding to the maven-compiler-plugin like so:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                &lt;version&gt;0.2.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/annotationProcessorPaths&gt;\n        &lt;compilerArgs&gt;\n            &lt;arg&gt;-parameters&lt;/arg&gt;\n        &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This solved the issue for me. I read in the <a href=\"https://projectlombok.org/changelog\" rel=\"nofollow noreferrer\">changelog of lombok</a> I should have done this ever since version v1.18.16 (January 28th, 2021). I was just lucky I guess.</p>\n"}],"owner":{"account_id":29010985,"reputation":151,"user_id":22222503,"display_name":"Yana Aziamblouskaya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693999864,"creation_date":1692628224,"question_id":76946275,"body_markdown":"There is an issue **variable usersRepository not initialized in the default constructor** called in this class\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UsersDetailsService implements UserDetailsService {\r\n\r\n    private final UsersRepository usersRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Optional&lt;User&gt; user = usersRepository.findByEmail(username);\r\n\r\n        if(user.isEmpty())\r\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n\r\n        return new UsersDetails(user.get());\r\n    }\r\n}\r\n```\r\n\r\nAlso I have problems with all Lombok annotations during compilation my program. I think there is a problem with some versions. **I have already installed and updated lombok plugin, but the problem still hasn&#39;t solved**\r\n\r\nThere is my **pom.xml file**\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.14&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;CharityOrganizationSpringApp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;CharityOrganizationSpringApp&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;modelmapper.version&gt;3.0.0&lt;/modelmapper.version&gt;\r\n\t\t&lt;java-jwt.version&gt;4.4.0&lt;/java-jwt.version&gt;\r\n\t\t&lt;mapstruct.version&gt;1.5.3.final&lt;/mapstruct.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${modelmapper.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${java-jwt.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;16&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;16&lt;/target&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n ```\r\n\r\n\r\n\r\n","title":"variable not initialized in the default constructor Lombok Spring","body":"<p>There is an issue <strong>variable usersRepository not initialized in the default constructor</strong> called in this class</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class UsersDetailsService implements UserDetailsService {\n\n    private final UsersRepository usersRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;User&gt; user = usersRepository.findByEmail(username);\n\n        if(user.isEmpty())\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n\n        return new UsersDetails(user.get());\n    }\n}\n</code></pre>\n<p>Also I have problems with all Lombok annotations during compilation my program. I think there is a problem with some versions. <strong>I have already installed and updated lombok plugin, but the problem still hasn't solved</strong></p>\n<p>There is my <strong>pom.xml file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;CharityOrganizationSpringApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;CharityOrganizationSpringApp&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;modelmapper.version&gt;3.0.0&lt;/modelmapper.version&gt;\n        &lt;java-jwt.version&gt;4.4.0&lt;/java-jwt.version&gt;\n        &lt;mapstruct.version&gt;1.5.3.final&lt;/mapstruct.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;${modelmapper.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;${java-jwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":4018615,"reputation":2239,"user_id":3309799,"accept_rate":33,"display_name":"Chris Neve"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693998126,"creation_date":1693993769,"answer_id":77050826,"question_id":77050300,"body_markdown":"The way I see it, an &quot;orthogonal concern&quot; is not a specifically Spring concept. I think the documentation here uses the idiom as meaning that the priorities determined when loading beans are distinct from the order in which beans are loaded by the Spring context. From http://veryfancy.net/blog/orthogonal-concerns/ : \r\n\r\n&gt; When a programmer refers to two factors as “orthogonal concerns”, it means that a change with regard to one factor doesn’t affect the other. We use the term “orthogonal” to mean something like “independent” or “unrelated”.\r\n\r\nWhat this means is that using the `@Order` annotation on beans will change the priority in which beans are used, and not the literal order in which they are loaded by the Spring framework.","title":"What&#39;s the orthogonal concern in Spring Framework?","body":"<p>The way I see it, an &quot;orthogonal concern&quot; is not a specifically Spring concept. I think the documentation here uses the idiom as meaning that the priorities determined when loading beans are distinct from the order in which beans are loaded by the Spring context. From <a href=\"http://veryfancy.net/blog/orthogonal-concerns/\" rel=\"nofollow noreferrer\">http://veryfancy.net/blog/orthogonal-concerns/</a> :</p>\n<blockquote>\n<p>When a programmer refers to two factors as “orthogonal concerns”, it means that a change with regard to one factor doesn’t affect the other. We use the term “orthogonal” to mean something like “independent” or “unrelated”.</p>\n</blockquote>\n<p>What this means is that using the <code>@Order</code> annotation on beans will change the priority in which beans are used, and not the literal order in which they are loaded by the Spring framework.</p>\n"},{"tags":[],"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693999728,"creation_date":1693999728,"answer_id":77051465,"question_id":77050300,"body_markdown":"As [freecodecamp][1] points out orthogonal in software means that &quot;a change in one does not affect the other&quot;.\r\n\r\nThus orthogonal is used here to mean that if the &quot;Order&quot; of the beans in the list is changed it does not affect the order in which they are instantiated and vice versa.\r\n\r\nFor further explanation on @Order see [here][2]\r\n\r\n\r\n  [1]: https://www.freecodecamp.org/news/orthogonality-in-software-engineering/#:~:text=In%20software%20design%2C%20two%20components,also%20cannot%20share%20global%20data.\r\n  [2]: https://www.baeldung.com/spring-order","title":"What&#39;s the orthogonal concern in Spring Framework?","body":"<p>As <a href=\"https://www.freecodecamp.org/news/orthogonality-in-software-engineering/#:%7E:text=In%20software%20design%2C%20two%20components,also%20cannot%20share%20global%20data.\" rel=\"nofollow noreferrer\">freecodecamp</a> points out orthogonal in software means that &quot;a change in one does not affect the other&quot;.</p>\n<p>Thus orthogonal is used here to mean that if the &quot;Order&quot; of the beans in the list is changed it does not affect the order in which they are instantiated and vice versa.</p>\n<p>For further explanation on @Order see <a href=\"https://www.baeldung.com/spring-order\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":19439755,"reputation":394,"user_id":14218416,"display_name":"OnlyWick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77050826,"answer_count":2,"score":1,"last_activity_date":1693999728,"creation_date":1693989626,"question_id":77050300,"body_markdown":"[Documentation is here!](https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/autowired.html)\r\n\r\n&gt; You can declare the @Order annotation at the target class level and on @Bean methods, potentially for individual bean definitions (in case of multiple definitions that use the same bean class). @Order values may influence priorities at injection points, but be aware that they do not influence singleton startup order, which is an orthogonal concern determined by dependency relationships and @DependsOn declarations.\r\n\r\nI think I understand &quot;orthogonal concern&quot;, `Changing A does not change B`, just like Functional Programming, such as pure function.\r\n\r\nI just started learning the Spring framework, so I&#39;m not very familiar with some concepts.\r\n\r\nI have these ideas about orthogonal concerns, These ideas could be completely wrong, and I would appreciate it if you could point out my mistakes and let me know what concepts I might be missing.\r\n\r\nIf Bean B depends on Bean A, will Bean B be affected if Bean A undergoes changes? I think Bean B will be affect, but (I think) this goes against orthogonal concerns.\r\n\r\nOr if they have a dependency relationship, are they considered as a whole? If that&#39;s the case, then it wouldn&#39;t violate orthogonal concerns.\r\n\r\nIt would be even better if you could provide some examples!\r\n","title":"What&#39;s the orthogonal concern in Spring Framework?","body":"<p><a href=\"https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/autowired.html\" rel=\"nofollow noreferrer\">Documentation is here!</a></p>\n<blockquote>\n<p>You can declare the @Order annotation at the target class level and on @Bean methods, potentially for individual bean definitions (in case of multiple definitions that use the same bean class). @Order values may influence priorities at injection points, but be aware that they do not influence singleton startup order, which is an orthogonal concern determined by dependency relationships and @DependsOn declarations.</p>\n</blockquote>\n<p>I think I understand &quot;orthogonal concern&quot;, <code>Changing A does not change B</code>, just like Functional Programming, such as pure function.</p>\n<p>I just started learning the Spring framework, so I'm not very familiar with some concepts.</p>\n<p>I have these ideas about orthogonal concerns, These ideas could be completely wrong, and I would appreciate it if you could point out my mistakes and let me know what concepts I might be missing.</p>\n<p>If Bean B depends on Bean A, will Bean B be affected if Bean A undergoes changes? I think Bean B will be affect, but (I think) this goes against orthogonal concerns.</p>\n<p>Or if they have a dependency relationship, are they considered as a whole? If that's the case, then it wouldn't violate orthogonal concerns.</p>\n<p>It would be even better if you could provide some examples!</p>\n"},{"tags":["java","xml","memory"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1693987938,"post_id":77049917,"comment_id":135830506,"body_markdown":"I doubt you&#39;ll be generating dynamic XSLT. Much more likely the XSLT will be static, and that you will merge some dynamic XML with the static XSLT to create HTML","body":"I doubt you&#39;ll be generating dynamic XSLT. Much more likely the XSLT will be static, and that you will merge some dynamic XML with the static XSLT to create HTML"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1693988053,"post_id":77049917,"comment_id":135830539,"body_markdown":"Have you considered using [freemarker](https://freemarker.apache.org/index.html) instead of XSLT? Much simpler to understand, and less verbose to maintain","body":"Have you considered using <a href=\"https://freemarker.apache.org/index.html\" rel=\"nofollow noreferrer\">freemarker</a> instead of XSLT? Much simpler to understand, and less verbose to maintain"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1694074080,"post_id":77049917,"comment_id":135844025,"body_markdown":"For a &quot;web application with many users&quot;, if the same XSLT stylesheet is being used again and again, then it&#39;s important to compile it once at start-of-day and reuse the compiled version. You approach doesn&#39;t seem to achieve that.","body":"For a &quot;web application with many users&quot;, if the same XSLT stylesheet is being used again and again, then it&#39;s important to compile it once at start-of-day and reuse the compiled version. You approach doesn&#39;t seem to achieve that."}],"answers":[{"comments":[{"owner":{"account_id":24655790,"reputation":11,"user_id":18552475,"display_name":"neylersin"},"score":0,"creation_date":1694005839,"post_id":77051096,"comment_id":135834264,"body_markdown":"I didn&#39;t understand this part:&quot;Completely in memory, but be aware that someone may use the XSLT to call Java code from your application&quot;","body":"I didn&#39;t understand this part:&quot;Completely in memory, but be aware that someone may use the XSLT to call Java code from your application&quot;"},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1694007002,"post_id":77051096,"comment_id":135834536,"body_markdown":"1. The above function happens completely in memory. 2. It&#39;s possible to execute Java code from inside an XSLT stylesheet. If the stylesheet comes from outside of your application you&#39;ll have to be aware, that someone may have bad intentions.","body":"1. The above function happens completely in memory. 2. It&#39;s possible to execute Java code from inside an XSLT stylesheet. If the stylesheet comes from outside of your application you&#39;ll have to be aware, that someone may have bad intentions."}],"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693999439,"creation_date":1693996407,"answer_id":77051096,"question_id":77049917,"body_markdown":"As I understand you have an XML document containing some data alongside a BASE64 encoded XSLT which should be used to format that data.\r\n\r\nThen this should do the job:\r\n```\r\n@Test\r\nbyte [] test() throws Exception {\r\n    byte[] incoming = ...; // Your XML document\r\n    \r\n    Document doc;\r\n    try(ByteArrayInputStream is = new ByteArrayInputStream(incoming)) {\r\n        doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(is);\r\n    }\r\n    \r\n    String encodedXslt = doc....getTextContent(); // Somehow fetch the encoded XSLT from the DOM.\r\n    byte[] xslt = Base64.getDecoder().decode(encodedXslt);\r\n    \r\n    Templates templates;\r\n    try(ByteArrayInputStream is = new ByteArrayInputStream(xslt)) {\r\n        templates = TransformerFactory.newInstance().newTemplates(new StreamSource(is));\r\n    }\r\n    \r\n    try(ByteArrayOutputStream os = new ByteArrayOutputStream()) {\r\n        templates.newTransformer().transform(new DOMSource(doc), new StreamResult(os));\r\n        return os.toByteArray(); // The HTML document\r\n    }\r\n}\r\n```\r\nCompletely in memory, but be aware that someone may use the XSLT to call Java code from your application.","title":"XML operations in memory","body":"<p>As I understand you have an XML document containing some data alongside a BASE64 encoded XSLT which should be used to format that data.</p>\n<p>Then this should do the job:</p>\n<pre><code>@Test\nbyte [] test() throws Exception {\n    byte[] incoming = ...; // Your XML document\n    \n    Document doc;\n    try(ByteArrayInputStream is = new ByteArrayInputStream(incoming)) {\n        doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(is);\n    }\n    \n    String encodedXslt = doc....getTextContent(); // Somehow fetch the encoded XSLT from the DOM.\n    byte[] xslt = Base64.getDecoder().decode(encodedXslt);\n    \n    Templates templates;\n    try(ByteArrayInputStream is = new ByteArrayInputStream(xslt)) {\n        templates = TransformerFactory.newInstance().newTemplates(new StreamSource(is));\n    }\n    \n    try(ByteArrayOutputStream os = new ByteArrayOutputStream()) {\n        templates.newTransformer().transform(new DOMSource(doc), new StreamResult(os));\n        return os.toByteArray(); // The HTML document\n    }\n}\n</code></pre>\n<p>Completely in memory, but be aware that someone may use the XSLT to call Java code from your application.</p>\n"}],"owner":{"account_id":24655790,"reputation":11,"user_id":18552475,"display_name":"neylersin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693999439,"creation_date":1693986241,"question_id":77049917,"body_markdown":"I want to process in memory to show a file with an invoice XML to users. I will generate XSLT from this XML file (embedded in XSLT as base64). With this XSLT, I will show HTML production to the user. After the user views it, it will be removed from memory.\r\n\r\nWhat is the best way to do this and how to do it?\r\n\r\nDoes it make sense to do these operations in memory for a web application with many users? If not, I am open to another method suggestion, but I still wonder how to do these operations in memory with XML.","title":"XML operations in memory","body":"<p>I want to process in memory to show a file with an invoice XML to users. I will generate XSLT from this XML file (embedded in XSLT as base64). With this XSLT, I will show HTML production to the user. After the user views it, it will be removed from memory.</p>\n<p>What is the best way to do this and how to do it?</p>\n<p>Does it make sense to do these operations in memory for a web application with many users? If not, I am open to another method suggestion, but I still wonder how to do these operations in memory with XML.</p>\n"},{"tags":["java","sql-server","spring-boot","kerberos","integrated-security"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1694004326,"post_id":77051339,"comment_id":135833857,"body_markdown":"Have you tried using `userName=user@REALM;` as per the [Kerberos connection using principal name, password, and realm](https://learn.microsoft.com/en-us/sql/connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server#kerberos-connection-using-principal-name-password-and-realm) documentation?","body":"Have you tried using <code>userName=user@REALM;</code> as per the <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server#kerberos-connection-using-principal-name-password-and-realm\" rel=\"nofollow noreferrer\">Kerberos connection using principal name, password, and realm</a> documentation?"},{"owner":{"account_id":15303853,"reputation":93,"user_id":11041310,"display_name":"santal"},"score":0,"creation_date":1694010245,"post_id":77051339,"comment_id":135835341,"body_markdown":"Yes I have tried:\nCannot login with Kerberos principal user@REALM, check your credentials. Kerberos Login failed: Integrated authentication failed.","body":"Yes I have tried: Cannot login with Kerberos principal user@REALM, check your credentials. Kerberos Login failed: Integrated authentication failed."}],"owner":{"account_id":15303853,"reputation":93,"user_id":11041310,"display_name":"santal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1694007413,"answer_count":0,"score":0,"last_activity_date":1693998693,"creation_date":1693998693,"question_id":77051339,"body_markdown":"I&#39;m trying to connect to sql server using integrated security with JavaKerberos authenticationScheme. It&#39;s because we want to connect from linux docker to ms sql.\r\n\r\nI read the documentation from: https://learn.microsoft.com/en-us/sql/connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server?view=sql-server-ver16&amp;redirectedfrom=MSDN\r\n\r\nI created new java project (spring-boot) and my code looks like this:\r\n```\r\n@SpringBootApplication\r\npublic class TestApplication implements CommandLineRunner {\r\n    private static Logger LOG = LoggerFactory\r\n            .getLogger(TestApplication.class);\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(TestApplication.class, args);\r\n    }\r\n    @Override\r\n    public void run(String... args) throws SQLException {\r\n        DriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\r\n        String dbURL = &quot;jdbc:sqlserver://xxx.ad.xxx.net;integratedSecurity=true;databaseName=xxxx;trustServerCertificate=true;&quot; +\r\n                &quot;authenticationScheme=JavaKerberos;userName=xxx;password=xxx;realm=REALM&quot;;\r\n        Connection conn = DriverManager.getConnection(dbURL);\r\n        if (conn != null) {\r\n            System.out.println(&quot;Connected&quot;);\r\n            Statement statement = conn.createStatement();\r\n            ResultSet rs = statement.executeQuery(&quot;select Id from xxx.Test&quot;);\r\n            while(rs.next())\r\n            {\r\n                System.out.println(&quot;id = &quot; + rs.getString(&quot;Id&quot;));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn documentation I can see, that I have to run my application with args like:\r\n```\r\nJava.exe -Djava.security.auth.login.config=SQLJDBCDriver.conf -Djava.security.krb5.conf=krb5.ini &lt;APPLICATION_NAME&gt;\r\n```\r\n\r\nBut I have an error:\r\n```\r\nPS C:\\xxx\\target&gt; Java.exe -Djava.security.auth.login.config=SQLJDBCDriver.conf -Djava.security.krb5.conf=krb5.ini MyAPP.jar\r\nError: Could not find or load main class .security.auth.login.config=SQLJDBCDriver.conf\r\nCaused by: java.lang.ClassNotFoundException: /security/auth/login/config=SQLJDBCDriver/conf\r\n```\r\n\r\nHow can I fix it?","title":"Connecting to SqlServer using integrated security and java kerberos","body":"<p>I'm trying to connect to sql server using integrated security with JavaKerberos authenticationScheme. It's because we want to connect from linux docker to ms sql.</p>\n<p>I read the documentation from: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server?view=sql-server-ver16&amp;redirectedfrom=MSDN\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server?view=sql-server-ver16&amp;redirectedfrom=MSDN</a></p>\n<p>I created new java project (spring-boot) and my code looks like this:</p>\n<pre><code>@SpringBootApplication\npublic class TestApplication implements CommandLineRunner {\n    private static Logger LOG = LoggerFactory\n            .getLogger(TestApplication.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n    @Override\n    public void run(String... args) throws SQLException {\n        DriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\n        String dbURL = &quot;jdbc:sqlserver://xxx.ad.xxx.net;integratedSecurity=true;databaseName=xxxx;trustServerCertificate=true;&quot; +\n                &quot;authenticationScheme=JavaKerberos;userName=xxx;password=xxx;realm=REALM&quot;;\n        Connection conn = DriverManager.getConnection(dbURL);\n        if (conn != null) {\n            System.out.println(&quot;Connected&quot;);\n            Statement statement = conn.createStatement();\n            ResultSet rs = statement.executeQuery(&quot;select Id from xxx.Test&quot;);\n            while(rs.next())\n            {\n                System.out.println(&quot;id = &quot; + rs.getString(&quot;Id&quot;));\n            }\n        }\n    }\n}\n</code></pre>\n<p>In documentation I can see, that I have to run my application with args like:</p>\n<pre><code>Java.exe -Djava.security.auth.login.config=SQLJDBCDriver.conf -Djava.security.krb5.conf=krb5.ini &lt;APPLICATION_NAME&gt;\n</code></pre>\n<p>But I have an error:</p>\n<pre><code>PS C:\\xxx\\target&gt; Java.exe -Djava.security.auth.login.config=SQLJDBCDriver.conf -Djava.security.krb5.conf=krb5.ini MyAPP.jar\nError: Could not find or load main class .security.auth.login.config=SQLJDBCDriver.conf\nCaused by: java.lang.ClassNotFoundException: /security/auth/login/config=SQLJDBCDriver/conf\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694022879,"post_id":77051324,"comment_id":135838040,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29378678,"reputation":1,"user_id":22509663,"display_name":"Jes&#250;s Morilla Ib&#225;&#241;ez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693998542,"creation_date":1693998542,"question_id":77051324,"body_markdown":"I&#39;m working on a project using Duo Navigation Drawer, and I want the edges of the Linear Layout to be rounded when the menu is opened. How can I achieve this?\r\n\r\nI tried with shape on the linear layout but i have an image in the background","title":"Styling corners Duo drawer navigation menu in android","body":"<p>I'm working on a project using Duo Navigation Drawer, and I want the edges of the Linear Layout to be rounded when the menu is opened. How can I achieve this?</p>\n<p>I tried with shape on the linear layout but i have an image in the background</p>\n"},{"tags":["javascript","java","websocket","java-websocket"],"comments":[{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":2,"creation_date":1489520926,"post_id":42779658,"comment_id":72705014,"body_markdown":"To keep the session active, use a timer to send data periodically.  The WebSocket protocol defines a ping/pong mechanism, but the WebSocket API in HTML5 does not expose direct access to that mechanism, though web browsers may handle it internally in their WebSocket implementation.","body":"To keep the session active, use a timer to send data periodically.  The WebSocket protocol defines a ping/pong mechanism, but the WebSocket API in HTML5 does not expose direct access to that mechanism, though web browsers may handle it internally in their WebSocket implementation."},{"owner":{"account_id":7097751,"reputation":151,"user_id":7509808,"display_name":"Shubham Dwivedi"},"score":0,"creation_date":1489578276,"post_id":42779658,"comment_id":72729819,"body_markdown":"Right now I am sending some value using websocket.send periodically but if it is a proper way? Is there any idle timeout or something?","body":"Right now I am sending some value using websocket.send periodically but if it is a proper way? Is there any idle timeout or something?"},{"owner":{"account_id":6317022,"reputation":3182,"user_id":4906586,"accept_rate":88,"display_name":"Al-un"},"score":0,"creation_date":1505002264,"post_id":42779658,"comment_id":79234733,"body_markdown":"you can configure the timeout of a websocket session: https://docs.oracle.com/javaee/7/api/javax/websocket/Session.html#setMaxIdleTimeout-long- but the client can be guilty as well (connectivity lost, application killed if on mobile, etc)","body":"you can configure the timeout of a websocket session: <a href=\"https://docs.oracle.com/javaee/7/api/javax/websocket/Session.html#setMaxIdleTimeout-long-\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/websocket/&hellip;</a> but the client can be guilty as well (connectivity lost, application killed if on mobile, etc)"}],"answers":[{"tags":[],"owner":{"account_id":26843306,"reputation":1,"user_id":20429448,"display_name":"Mehdi "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667699393,"creation_date":1667699393,"answer_id":74332796,"question_id":42779658,"body_markdown":"you can disable the timeout in the server using a negative number in the IdleTimout\r\n\r\n    session.setMaxIdleTimeout(-1)\r\n\r\nSet the non-zero number of milliseconds before this session will be closed by the container if it is inactive, ie no messages are either sent or received. A value that is 0 or negative indicates the session will never timeout due to inactivity.","title":"How to keep websocket alive","body":"<p>you can disable the timeout in the server using a negative number in the IdleTimout</p>\n<pre><code>session.setMaxIdleTimeout(-1)\n</code></pre>\n<p>Set the non-zero number of milliseconds before this session will be closed by the container if it is inactive, ie no messages are either sent or received. A value that is 0 or negative indicates the session will never timeout due to inactivity.</p>\n"}],"owner":{"account_id":7097751,"reputation":151,"user_id":7509808,"display_name":"Shubham Dwivedi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14477,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1693998145,"creation_date":1489475119,"question_id":42779658,"body_markdown":"I am establishing WebSocket connectivity where the server is built using `javax.websocket` and the client is in JavaScript.\r\n\r\nThis code is working fine. But after some time session is closed. I want to keep this session alive. \r\n\r\nI have two questions:\r\n\r\n 1. If this connection is getting closed because of session idle time\r\n    out \r\n 2. How to keep this session alive.\r\n\r\nFollowing is the JavaScript code:\r\n\r\n&lt;!-- language: javascript --&gt;\r\n\r\n    var wsUri=&quot;ws://localhost/&quot;;\r\n    var websocket = new WebSocket(wsUri);\r\n\r\n    var datasocket;\r\n    var username;\r\n    websocket.onopen = function(evt) { onOpen(evt) };\r\n    websocket.onmessage = function(evt) { onMessage(evt) };\r\n    websocket.onerror = function(evt) { onError(evt) };\r\n    function join() {\r\n        username = textField.value;\r\n        websocket.send(username + &quot; joined&quot;);\r\n        console.log(&quot;joined&quot;);\r\n    }\r\n\r\n    function send_message() {\r\n        websocket.send(username + &quot;: &quot; + textField.value);\r\n    }\r\n\r\n    function onOpen() {\r\n        console.log(&quot;connected to url&quot;);\r\n        websocket.send(&quot;Hello&quot;);\r\n        //  writeToScreen(&quot;Connected to &quot; + wsUri);\r\n    }\r\n\r\n    function onMessage(evt) {\r\n    var res = {};\r\n        console.log(&quot;onMessage: &quot; + evt.data);\r\n        if (evt.data.indexOf(&quot;joined&quot;) != -1) {   \r\n        } else {\r\n            datasocket=evt.data\r\n            //getLatestData();\r\n            res = JSON.parse(event.data);\r\n            $scope.Impact = res[&quot;Impact&quot;];\r\n            $scope.Temperature = res[&quot;Temperature&quot;];\r\n            $scope.Humidity = res[&quot;Humidity&quot;];\r\n        }\r\n    }\r\n\r\n    function onError(evt) {\r\n        writeToScreen(&#39;&lt;span style=&quot;color: red;&quot;&gt;ERROR:&lt;/span&gt; &#39; + evt.data);\r\n    } \r\n\r\n    function writeToScreen(message) {\r\n    //    output.innerHTML += message + &quot;&lt;br&gt;&quot;;\r\n    }\r\n    function onClose(evt)\r\n    {\r\n        console.log(&quot;Disconnected&quot;);\r\n    }\r\n\r\nAnd Java code is following:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @javax.websocket.server.ServerEndpoint(&quot;/&quot;)\r\n    public class Endpoint {\r\n    \t \r\n        private static Queue&lt;Session&gt; queue = new ConcurrentLinkedQueue&lt;Session&gt;();\r\n        static StringBuilder sb = null;\r\n        ByteArrayOutputStream bytes = null;\r\n    \r\n        \r\n        @OnMessage\r\n        public void onMessage(Session session, String msg) {\r\n            // provided for completeness, in out scenario clients don&#39;t send any msg.\r\n            try {   \r\n                // System.out.println(&quot;received msg &quot;+msg+&quot; from &quot;+session.getId());\r\n        \r\n               sendAll(msg);  \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        \r\n       \r\n        private static void sendAll(String msg) {\r\n    \r\n            JSONParser parser = new JSONParser();\r\n            Object obj = null ;\r\n\r\n            try {\r\n                obj = parser.parse(msg);\r\n            } catch (ParseException e1) {\r\n                // TODO Auto-generated catch block\r\n                e1.printStackTrace();\r\n            }\r\n            JSONObject jsonObject = (JSONObject) obj;\r\n            \r\n            if (sb == null) {\r\n                sb = new StringBuilder();\r\n            }\r\n            sb.append(jsonObject.toString());\r\n         \r\n            //     System.out.println(jsonObject.toJSONString());\r\n            try {\r\n                /* Send the new rate to all open WebSocket sessions */  \r\n                ArrayList&lt;Session &gt; closedSessions= new ArrayList&lt;&gt;();\r\n                for (Session session : queue) {\r\n                    if(!session.isOpen()) {\r\n                         System.err.println(&quot;Closed session: &quot;+session.getId());\r\n                         closedSessions.add(session);\r\n                    }\r\n                    else {\r\n                        session.getBasicRemote().sendText(msg);\r\n                    }\r\n                }\r\n                queue.removeAll(closedSessions);\r\n                //\t   System.out.println(&quot;Sending &quot;+msg+&quot; to &quot;+queue.size()+&quot; clients&quot;);\r\n            } catch (Throwable e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n            sb = null;\r\n            \r\n        }\r\n        \r\n        @OnOpen\r\n        public void open(Session session) {\r\n             queue.add(session);\r\n             System.out.println(&quot;New session opened: &quot;+session.getId());\r\n        }\r\n         \r\n        @OnError\r\n        public void error(Session session, Throwable t) {\r\n            queue.remove(session);\r\n            System.err.println(&quot;Error on session &quot;+session.getId());  \r\n        }\r\n        \r\n        @OnClose\r\n        public void closedConnection(Session session) { \r\n            queue.remove(session);\r\n            System.out.println(&quot;session closed: &quot;+session.getId());\r\n        }\r\n        \r\n    }\r\n\r\n","title":"How to keep websocket alive","body":"<p>I am establishing WebSocket connectivity where the server is built using <code>javax.websocket</code> and the client is in JavaScript.</p>\n<p>This code is working fine. But after some time session is closed. I want to keep this session alive.</p>\n<p>I have two questions:</p>\n<ol>\n<li>If this connection is getting closed because of session idle time\nout</li>\n<li>How to keep this session alive.</li>\n</ol>\n<p>Following is the JavaScript code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var wsUri=&quot;ws://localhost/&quot;;\nvar websocket = new WebSocket(wsUri);\n\nvar datasocket;\nvar username;\nwebsocket.onopen = function(evt) { onOpen(evt) };\nwebsocket.onmessage = function(evt) { onMessage(evt) };\nwebsocket.onerror = function(evt) { onError(evt) };\nfunction join() {\n    username = textField.value;\n    websocket.send(username + &quot; joined&quot;);\n    console.log(&quot;joined&quot;);\n}\n\nfunction send_message() {\n    websocket.send(username + &quot;: &quot; + textField.value);\n}\n\nfunction onOpen() {\n    console.log(&quot;connected to url&quot;);\n    websocket.send(&quot;Hello&quot;);\n    //  writeToScreen(&quot;Connected to &quot; + wsUri);\n}\n\nfunction onMessage(evt) {\nvar res = {};\n    console.log(&quot;onMessage: &quot; + evt.data);\n    if (evt.data.indexOf(&quot;joined&quot;) != -1) {   \n    } else {\n        datasocket=evt.data\n        //getLatestData();\n        res = JSON.parse(event.data);\n        $scope.Impact = res[&quot;Impact&quot;];\n        $scope.Temperature = res[&quot;Temperature&quot;];\n        $scope.Humidity = res[&quot;Humidity&quot;];\n    }\n}\n\nfunction onError(evt) {\n    writeToScreen('&lt;span style=&quot;color: red;&quot;&gt;ERROR:&lt;/span&gt; ' + evt.data);\n} \n\nfunction writeToScreen(message) {\n//    output.innerHTML += message + &quot;&lt;br&gt;&quot;;\n}\nfunction onClose(evt)\n{\n    console.log(&quot;Disconnected&quot;);\n}\n</code></pre>\n<p>And Java code is following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@javax.websocket.server.ServerEndpoint(&quot;/&quot;)\npublic class Endpoint {\n     \n    private static Queue&lt;Session&gt; queue = new ConcurrentLinkedQueue&lt;Session&gt;();\n    static StringBuilder sb = null;\n    ByteArrayOutputStream bytes = null;\n\n    \n    @OnMessage\n    public void onMessage(Session session, String msg) {\n        // provided for completeness, in out scenario clients don't send any msg.\n        try {   \n            // System.out.println(&quot;received msg &quot;+msg+&quot; from &quot;+session.getId());\n    \n           sendAll(msg);  \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n   \n    private static void sendAll(String msg) {\n\n        JSONParser parser = new JSONParser();\n        Object obj = null ;\n\n        try {\n            obj = parser.parse(msg);\n        } catch (ParseException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n        JSONObject jsonObject = (JSONObject) obj;\n        \n        if (sb == null) {\n            sb = new StringBuilder();\n        }\n        sb.append(jsonObject.toString());\n     \n        //     System.out.println(jsonObject.toJSONString());\n        try {\n            /* Send the new rate to all open WebSocket sessions */  \n            ArrayList&lt;Session &gt; closedSessions= new ArrayList&lt;&gt;();\n            for (Session session : queue) {\n                if(!session.isOpen()) {\n                     System.err.println(&quot;Closed session: &quot;+session.getId());\n                     closedSessions.add(session);\n                }\n                else {\n                    session.getBasicRemote().sendText(msg);\n                }\n            }\n            queue.removeAll(closedSessions);\n            //     System.out.println(&quot;Sending &quot;+msg+&quot; to &quot;+queue.size()+&quot; clients&quot;);\n        } catch (Throwable e) {\n            e.printStackTrace();\n        }\n        \n        sb = null;\n        \n    }\n    \n    @OnOpen\n    public void open(Session session) {\n         queue.add(session);\n         System.out.println(&quot;New session opened: &quot;+session.getId());\n    }\n     \n    @OnError\n    public void error(Session session, Throwable t) {\n        queue.remove(session);\n        System.err.println(&quot;Error on session &quot;+session.getId());  \n    }\n    \n    @OnClose\n    public void closedConnection(Session session) { \n        queue.remove(session);\n        System.out.println(&quot;session closed: &quot;+session.getId());\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","jpa","java-8"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":2,"creation_date":1693988601,"post_id":77049942,"comment_id":135830646,"body_markdown":"If I understand your question correctly you are trying to parse the date `12/28/2022` (taken from your `fromDate`) using format `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX`. Your input date does not match the format. That won&#39;t work and you will get a Parse exception. It looks more like you should use format `MM/dd/yyyy` for parsing that input. \nAlso on a significant side note. Do not use SimpleDateFormat. It has been superseeded long ago. Use classes in the java.time.* package instead.","body":"If I understand your question correctly you are trying to parse the date <code>12&#47;28&#47;2022</code> (taken from your <code>fromDate</code>) using format <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX</code>. Your input date does not match the format. That won&#39;t work and you will get a Parse exception. It looks more like you should use format <code>MM&#47;dd&#47;yyyy</code> for parsing that input.  Also on a significant side note. Do not use SimpleDateFormat. It has been superseeded long ago. Use classes in the java.time.* package instead."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1693989111,"post_id":77049942,"comment_id":135830748,"body_markdown":"basically you need two *formatters*, one for parsing, a second for formatting (if you really need input and output as `String`) As already commented, it is better to **not** use the old `SimpleDateTime`, `Date`, and related classes - better use the classes from the `java.time` package (these also use ISO8601 as standard format, so you can avoid the 2nd formatter)","body":"basically you need two <i>formatters</i>, one for parsing, a second for formatting (if you really need input and output as <code>String</code>) As already commented, it is better to <b>not</b> use the old <code>SimpleDateTime</code>, <code>Date</code>, and related classes - better use the classes from the <code>java.time</code> package (these also use ISO8601 as standard format, so you can avoid the 2nd formatter)"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693998055,"creation_date":1693998055,"answer_id":77051284,"question_id":77049942,"body_markdown":"&gt; _&quot;How to convert String Date MM/DD/YYYY to IsoDateTime Format to fetch the Date from MongoDB which is in the mongoDB database ..._\r\n&gt;\r\n&gt; _... in format of_\r\n&gt;\r\n&gt; _e.g. this : `1991-01-29T11:01:43.577+00:00` ...&quot;_\r\n\r\nThe _[DateTimeFormatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html)_ class provides _[predefined formats](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#predefined)_, this specifically is available via the _[DateTimeFormatter#ISO_OFFSET_DATE_TIME](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_OFFSET_DATE_TIME)_ field.\r\n\r\nYou&#39;ll need to parse the values with the _[LocalDate#parse](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence,java.time.format.DateTimeFormatter))_ method.  \r\nAdditionally, apply a _[ZoneOffset](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneOffset.html)_ value.\r\n\r\n```java\r\nString fromDate = &quot;12/28/2022&quot;;\r\nString toDate = &quot;12/28/2023&quot;;\r\nDateTimeFormatter f = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\r\nDateTimeFormatter f1 = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\r\nLocalDateTime fromDateCalculated = LocalDate.parse(fromDate, f1).atStartOfDay();\r\nLocalDateTime toDateCalculated = LocalDate.parse(toDate, f1).atStartOfDay();\r\nOffsetDateTime x = fromDateCalculated.atOffset(ZoneOffset.UTC);\r\nOffsetDateTime y = toDateCalculated.atOffset(ZoneOffset.UTC);\r\nSystem.out.println(&quot;x = &quot; + f.format(x));\r\nSystem.out.println(&quot;y = &quot; + f.format(y));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nx = 2022-12-28T00:00:00Z\r\ny = 2023-12-28T00:00:00Z\r\n```","title":"How to convert String Date MM/DD/YYYY to IsoDateTime Format to fetch the Date from MongoDB which is in the mongoDB database","body":"<blockquote>\n<p><em>&quot;How to convert String Date MM/DD/YYYY to IsoDateTime Format to fetch the Date from MongoDB which is in the mongoDB database ...</em></p>\n<p><em>... in format of</em></p>\n<p><em>e.g. this : <code>1991-01-29T11:01:43.577+00:00</code> ...&quot;</em></p>\n</blockquote>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a></em> class provides <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#predefined\" rel=\"nofollow noreferrer\">predefined formats</a></em>, this specifically is available via the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_OFFSET_DATE_TIME\" rel=\"nofollow noreferrer\">DateTimeFormatter#ISO_OFFSET_DATE_TIME</a></em> field.</p>\n<p>You'll need to parse the values with the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence,java.time.format.DateTimeFormatter)\" rel=\"nofollow noreferrer\">LocalDate#parse</a></em> method.<br />\nAdditionally, apply a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"nofollow noreferrer\">ZoneOffset</a></em> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fromDate = &quot;12/28/2022&quot;;\nString toDate = &quot;12/28/2023&quot;;\nDateTimeFormatter f = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\nDateTimeFormatter f1 = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\nLocalDateTime fromDateCalculated = LocalDate.parse(fromDate, f1).atStartOfDay();\nLocalDateTime toDateCalculated = LocalDate.parse(toDate, f1).atStartOfDay();\nOffsetDateTime x = fromDateCalculated.atOffset(ZoneOffset.UTC);\nOffsetDateTime y = toDateCalculated.atOffset(ZoneOffset.UTC);\nSystem.out.println(&quot;x = &quot; + f.format(x));\nSystem.out.println(&quot;y = &quot; + f.format(y));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>x = 2022-12-28T00:00:00Z\ny = 2023-12-28T00:00:00Z\n</code></pre>\n"}],"owner":{"account_id":27597790,"reputation":11,"user_id":21063641,"display_name":"Vinod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693998055,"creation_date":1693986440,"question_id":77049942,"body_markdown":"      String fromDate = requestObject.get(&quot;fromDate&quot;);\r\n      String toDate = requestObject.get(&quot;toDate&quot;);\r\n    \r\n    \r\n      SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n    \r\n      Date fromDateCalculated = simpleDateFormat.parse(fromDate);\r\n      Date toDateCalculated = simpleDateFormat.parse(toDate);\r\n\r\ni tried this but it did not worked its giving me parceExcpetion \r\n\r\nmy input string date is like MM/DD/YYYY format \r\n\r\n    {    \r\n        &quot;fromDate&quot;:&quot;12/28/2022&quot;;\r\n        &quot;toDate&quot;:&quot;12/28/2023&quot;;  \r\n    }\r\n\r\nhowever to retreive the date from mongoDB its in format of \r\n\r\ne.g. this : `1991-01-29T11:01:43.577+00:00`\r\n\r\nor u can say `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX`","title":"How to convert String Date MM/DD/YYYY to IsoDateTime Format to fetch the Date from MongoDB which is in the mongoDB database","body":"<pre><code>  String fromDate = requestObject.get(&quot;fromDate&quot;);\n  String toDate = requestObject.get(&quot;toDate&quot;);\n\n\n  SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\n\n  Date fromDateCalculated = simpleDateFormat.parse(fromDate);\n  Date toDateCalculated = simpleDateFormat.parse(toDate);\n</code></pre>\n<p>i tried this but it did not worked its giving me parceExcpetion</p>\n<p>my input string date is like MM/DD/YYYY format</p>\n<pre><code>{    \n    &quot;fromDate&quot;:&quot;12/28/2022&quot;;\n    &quot;toDate&quot;:&quot;12/28/2023&quot;;  \n}\n</code></pre>\n<p>however to retreive the date from mongoDB its in format of</p>\n<p>e.g. this : <code>1991-01-29T11:01:43.577+00:00</code></p>\n<p>or u can say <code>yyyy-MM-dd'T'HH:mm:ss.SSSXXX</code></p>\n"},{"tags":["java","spring","apache-httpcomponents"],"answers":[{"comments":[{"owner":{"account_id":10235727,"reputation":183,"user_id":7554773,"display_name":"thomasters"},"score":2,"creation_date":1624008785,"post_id":61214191,"comment_id":120245656,"body_markdown":"I have just attempted to do this and I believe as of June 2021, this is still the case.","body":"I have just attempted to do this and I believe as of June 2021, this is still the case."},{"owner":{"account_id":6344230,"reputation":101,"user_id":4925274,"display_name":"l__LG__l"},"score":0,"creation_date":1652712964,"post_id":61214191,"comment_id":127666105,"body_markdown":"Hello guys, we&#39;re having the same problem here. Do you know if any progress were made in the last 12 months? Cheers","body":"Hello guys, we&#39;re having the same problem here. Do you know if any progress were made in the last 12 months? Cheers"},{"owner":{"account_id":16602563,"reputation":1019,"user_id":11997814,"display_name":"ifredom"},"score":0,"creation_date":1660899912,"post_id":61214191,"comment_id":129647588,"body_markdown":"Up to now, it still cannot be integrated. Mainly because of the lhttpcomponentsclienthttprequestfactory","body":"Up to now, it still cannot be integrated. Mainly because of the lhttpcomponentsclienthttprequestfactory"},{"owner":{"account_id":2332857,"reputation":486,"user_id":2045810,"accept_rate":20,"display_name":"Sudhakar Kummarasetty"},"score":2,"creation_date":1667970582,"post_id":61214191,"comment_id":131292447,"body_markdown":"Nov 9th 2022 ..still no compatible..","body":"Nov 9th 2022 ..still no compatible.."},{"owner":{"account_id":2452403,"reputation":144,"user_id":2138350,"display_name":"Samir"},"score":0,"creation_date":1683902625,"post_id":61214191,"comment_id":134442436,"body_markdown":"this is now possible with a small change using the connection manager:\nhttps://www.baeldung.com/httpclient-ssl","body":"this is now possible with a small change using the connection manager: <a href=\"https://www.baeldung.com/httpclient-ssl\" rel=\"nofollow noreferrer\">baeldung.com/httpclient-ssl</a>"}],"tags":[],"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1586887192,"creation_date":1586887192,"answer_id":61214191,"question_id":61210545,"body_markdown":"Apache HttpClient 4.5 and HttpClient 5.0 classic are very similar but are fully API _incompatible_.  \r\n\r\nUntil Spring provides Apache HttpClient 5.x based `RequestFactory` implementation one cannot integrate HttpClient 5.x with Spring.","title":"How to set Spring HttpComponentsClientHttpRequestFactory with Apache httpcomponent5?","body":"<p>Apache HttpClient 4.5 and HttpClient 5.0 classic are very similar but are fully API <em>incompatible</em>.  </p>\n\n<p>Until Spring provides Apache HttpClient 5.x based <code>RequestFactory</code> implementation one cannot integrate HttpClient 5.x with Spring.</p>\n"},{"comments":[{"owner":{"account_id":1300282,"reputation":1845,"user_id":1250358,"accept_rate":40,"display_name":"Ben M"},"score":0,"creation_date":1674657976,"post_id":74519399,"comment_id":132761590,"body_markdown":"yay, makes supporting libraries across both spring 5 / 6 completely impossible. yippee. :|","body":"yay, makes supporting libraries across both spring 5 / 6 completely impossible. yippee. :|"}],"tags":[],"owner":{"account_id":26648222,"reputation":31,"user_id":20262886,"display_name":"Michał Maj"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669035770,"creation_date":1669035770,"answer_id":74519399,"question_id":61210545,"body_markdown":"&gt; NOTE: Requires Apache HttpComponents 5.1 or higher, as of Spring 6.0.\r\n\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/HttpComponentsClientHttpRequestFactory.html\r\n","title":"How to set Spring HttpComponentsClientHttpRequestFactory with Apache httpcomponent5?","body":"<blockquote>\n<p>NOTE: Requires Apache HttpComponents 5.1 or higher, as of Spring 6.0.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/HttpComponentsClientHttpRequestFactory.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/HttpComponentsClientHttpRequestFactory.html</a></p>\n"},{"comments":[{"owner":{"account_id":20342623,"reputation":91,"user_id":14921458,"display_name":"sudhansu"},"score":0,"creation_date":1693997612,"post_id":77051232,"comment_id":135832476,"body_markdown":"I have done the changes by this way. and it is working fine.","body":"I have done the changes by this way. and it is working fine."},{"owner":{"account_id":20342623,"reputation":91,"user_id":14921458,"display_name":"sudhansu"},"score":1,"creation_date":1693997666,"post_id":77051232,"comment_id":135832481,"body_markdown":"dependency was httpclient5","body":"dependency was httpclient5"}],"tags":[],"owner":{"account_id":20342623,"reputation":91,"user_id":14921458,"display_name":"sudhansu"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693997572,"creation_date":1693997572,"answer_id":77051232,"question_id":61210545,"body_markdown":"    public RestTemplate restTemplate(RestTemplateBuilder builder) {\r\n    \t\treturn new RestTemplate(getClientHttpRequestFactory());\r\n    \t}\r\n    \r\n    \tprivate ClientHttpRequestFactory getClientHttpRequestFactory() {\r\n    \t\tSSLContext sslContext = null;\r\n    \t\ttry {\r\n    \t\t\tsslContext = SSLContextBuilder.create()\r\n    \t\t\t\t\t.loadKeyMaterial(ResourceUtils.getFile(keyStore), keyStorePassword.toCharArray(), keyPassword.toCharArray())\r\n    \t\t\t\t\t.loadTrustMaterial(ResourceUtils.getFile(trustStore), trustStorePassword.toCharArray()).build();\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tthrow new BatchException(ex, &quot;Unable to create SSL context&quot;);\r\n    \t\t}\r\n    \t\tRequestConfig config = RequestConfig.custom()\r\n    \t\t\t\t.setConnectTimeout(TIME_OUT,TimeUnit.MILLISECONDS)\r\n    \t\t\t\t.setResponseTimeout(TIME_OUT,TimeUnit.MILLISECONDS)\r\n    \t\t\t\t.setConnectionRequestTimeout(TIME_OUT,TimeUnit.MILLISECONDS)\r\n    \t\t\t\t.build();\r\n    \t\tCloseableHttpClient httpClient = HttpClients.custom()\r\n    \t\t\t\t.setDefaultRequestConfig(config)\r\n    \t\t\t\t.setConnectionManager(PoolingHttpClientConnectionManagerBuilder.create()\r\n    \t\t\t\t\t\t.setSSLSocketFactory(SSLConnectionSocketFactoryBuilder.create()\r\n    \t\t\t\t\t\t\t\t.setSslContext(sslContext)\r\n    \t\t\t\t\t\t\t\t.setHostnameVerifier(NoopHostnameVerifier.INSTANCE)\r\n    \t\t\t\t\t\t\t\t.build())\r\n    \t\t\t\t\t\t.build())\r\n    \t\t\t\t.build();\r\n    \t\treturn new HttpComponentsClientHttpRequestFactory(httpClient);\r\n    \r\n    \t}","title":"How to set Spring HttpComponentsClientHttpRequestFactory with Apache httpcomponent5?","body":"<pre><code>public RestTemplate restTemplate(RestTemplateBuilder builder) {\n        return new RestTemplate(getClientHttpRequestFactory());\n    }\n\n    private ClientHttpRequestFactory getClientHttpRequestFactory() {\n        SSLContext sslContext = null;\n        try {\n            sslContext = SSLContextBuilder.create()\n                    .loadKeyMaterial(ResourceUtils.getFile(keyStore), keyStorePassword.toCharArray(), keyPassword.toCharArray())\n                    .loadTrustMaterial(ResourceUtils.getFile(trustStore), trustStorePassword.toCharArray()).build();\n        } catch (Exception ex) {\n            throw new BatchException(ex, &quot;Unable to create SSL context&quot;);\n        }\n        RequestConfig config = RequestConfig.custom()\n                .setConnectTimeout(TIME_OUT,TimeUnit.MILLISECONDS)\n                .setResponseTimeout(TIME_OUT,TimeUnit.MILLISECONDS)\n                .setConnectionRequestTimeout(TIME_OUT,TimeUnit.MILLISECONDS)\n                .build();\n        CloseableHttpClient httpClient = HttpClients.custom()\n                .setDefaultRequestConfig(config)\n                .setConnectionManager(PoolingHttpClientConnectionManagerBuilder.create()\n                        .setSSLSocketFactory(SSLConnectionSocketFactoryBuilder.create()\n                                .setSslContext(sslContext)\n                                .setHostnameVerifier(NoopHostnameVerifier.INSTANCE)\n                                .build())\n                        .build())\n                .build();\n        return new HttpComponentsClientHttpRequestFactory(httpClient);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7812280,"reputation":141,"user_id":5908133,"display_name":"fsimone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15051,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1693997572,"creation_date":1586875660,"question_id":61210545,"body_markdown":"I&#39;m trying to set httpClient5 in Spring ... I have the following code:\r\n\r\n    PoolingHttpClientConnectionManager connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\r\n                    .setSSLSocketFactory(SSLConnectionSocketFactoryBuilder.create()\r\n                            .setSslContext(SSLContexts.createSystemDefault())\r\n                            .setTlsVersions(TLS.V_1_3, TLS.V_1_2)\r\n                            .build())\r\n                    .setDefaultSocketConfig(SocketConfig.custom()\r\n                            .setSoTimeout(Timeout.ofSeconds(5))\r\n                            .build())\r\n                    .setPoolConcurrencyPolicy(PoolConcurrencyPolicy.STRICT)\r\n                    .setConnPoolPolicy(PoolReusePolicy.LIFO)\r\n                    .setConnectionTimeToLive(TimeValue.ofMinutes(1L))\r\n                    .build();\r\n            \r\n            CloseableHttpClient client = HttpClients.custom()\r\n                    .setConnectionManager(connectionManager)\r\n                    .setDefaultRequestConfig(RequestConfig.custom()\r\n                            .setConnectTimeout(Timeout.ofSeconds(5))\r\n                            .setResponseTimeout(Timeout.ofSeconds(5))\r\n                            .setCookieSpec(StandardCookieSpec.STRICT)\r\n                            .build())\r\n                    .build();\r\n            \r\n            CookieStore cookieStore = new BasicCookieStore();\r\n            \r\n            CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n               \r\n            HttpClientContext clientContext = HttpClientContext.create();\r\n            clientContext.setCookieStore(cookieStore);\r\n            clientContext.setCredentialsProvider(credentialsProvider);\r\n            clientContext.setRequestConfig(RequestConfig.custom()\r\n                    .setConnectTimeout(Timeout.ofSeconds(5000))\r\n                    .setResponseTimeout(Timeout.ofSeconds(5000))\r\n                    .build());\r\n    \r\n            \r\n            \r\n            // connect Spring httpComponent (client-side) with Apache httpClient\r\n            HttpComponentsClientHttpRequestFactory httpRequestFactory = new HttpComponentsClientHttpRequestFactory();\r\n            httpRequestFactory.setReadTimeout(60000);\r\n            httpRequestFactory.setConnectTimeout(60000);\r\n            httpRequestFactory.setHttpClient(client);\r\n\r\nthe class ClosableHttpClient implements the interface org.apache.hc.client5.http.classic.HttpClient that is not compatible with setHttpClient(client); this the runtime error:\r\n\r\n    java.lang.ClassCastException: class org.apache.hc.client5.http.impl.classic.InternalHttpClient cannot be cast to class org.apache.http.client.HttpClient (org.apache.hc.client5.http.impl.classic.InternalHttpClient and org.apache.http.client.HttpClient are in unnamed module of loader &#39;app&#39;)\r\n\r\n\r\nI&#39;m using Spring 5.0 and HttpComponents-client-5. How to convert HttpClient 4.X to HttpClient 5 ?","title":"How to set Spring HttpComponentsClientHttpRequestFactory with Apache httpcomponent5?","body":"<p>I'm trying to set httpClient5 in Spring ... I have the following code:</p>\n\n<pre><code>PoolingHttpClientConnectionManager connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\n                .setSSLSocketFactory(SSLConnectionSocketFactoryBuilder.create()\n                        .setSslContext(SSLContexts.createSystemDefault())\n                        .setTlsVersions(TLS.V_1_3, TLS.V_1_2)\n                        .build())\n                .setDefaultSocketConfig(SocketConfig.custom()\n                        .setSoTimeout(Timeout.ofSeconds(5))\n                        .build())\n                .setPoolConcurrencyPolicy(PoolConcurrencyPolicy.STRICT)\n                .setConnPoolPolicy(PoolReusePolicy.LIFO)\n                .setConnectionTimeToLive(TimeValue.ofMinutes(1L))\n                .build();\n\n        CloseableHttpClient client = HttpClients.custom()\n                .setConnectionManager(connectionManager)\n                .setDefaultRequestConfig(RequestConfig.custom()\n                        .setConnectTimeout(Timeout.ofSeconds(5))\n                        .setResponseTimeout(Timeout.ofSeconds(5))\n                        .setCookieSpec(StandardCookieSpec.STRICT)\n                        .build())\n                .build();\n\n        CookieStore cookieStore = new BasicCookieStore();\n\n        CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n\n        HttpClientContext clientContext = HttpClientContext.create();\n        clientContext.setCookieStore(cookieStore);\n        clientContext.setCredentialsProvider(credentialsProvider);\n        clientContext.setRequestConfig(RequestConfig.custom()\n                .setConnectTimeout(Timeout.ofSeconds(5000))\n                .setResponseTimeout(Timeout.ofSeconds(5000))\n                .build());\n\n\n\n        // connect Spring httpComponent (client-side) with Apache httpClient\n        HttpComponentsClientHttpRequestFactory httpRequestFactory = new HttpComponentsClientHttpRequestFactory();\n        httpRequestFactory.setReadTimeout(60000);\n        httpRequestFactory.setConnectTimeout(60000);\n        httpRequestFactory.setHttpClient(client);\n</code></pre>\n\n<p>the class ClosableHttpClient implements the interface org.apache.hc.client5.http.classic.HttpClient that is not compatible with setHttpClient(client); this the runtime error:</p>\n\n<pre><code>java.lang.ClassCastException: class org.apache.hc.client5.http.impl.classic.InternalHttpClient cannot be cast to class org.apache.http.client.HttpClient (org.apache.hc.client5.http.impl.classic.InternalHttpClient and org.apache.http.client.HttpClient are in unnamed module of loader 'app')\n</code></pre>\n\n<p>I'm using Spring 5.0 and HttpComponents-client-5. How to convert HttpClient 4.X to HttpClient 5 ?</p>\n"},{"tags":["java","spring","intellij-idea","annotations","autowired"],"comments":[{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1530608167,"post_id":51150316,"comment_id":89284385,"body_markdown":"You can&#39;t. `@Autowired` on a field means that Spring will set/init that field at some time. There is nothing to warn about :)","body":"You can&#39;t. <code>@Autowired</code> on a field means that Spring will set/init that field at some time. There is nothing to warn about :)"}],"answers":[{"comments":[{"owner":{"account_id":6485389,"reputation":467,"user_id":5021136,"display_name":"John"},"score":0,"creation_date":1530610558,"post_id":51150514,"comment_id":89285822,"body_markdown":"I don&#39;t see any &quot;enable warnings&quot; checkbox there.","body":"I don&#39;t see any &quot;enable warnings&quot; checkbox there."}],"tags":[],"owner":{"account_id":11774788,"reputation":440,"user_id":8616670,"display_name":"Mehul Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530608384,"creation_date":1530608384,"answer_id":51150514,"question_id":51150316,"body_markdown":"Use Spring-Facet in (File-&gt;Project Structure-&gt; facets) to enable Warnings. ","title":"Show warning for unused autowired field in IntelliJ IDEA","body":"<p>Use Spring-Facet in (File->Project Structure-> facets) to enable Warnings. </p>\n"},{"comments":[{"owner":{"account_id":6485389,"reputation":467,"user_id":5021136,"display_name":"John"},"score":1,"creation_date":1530612307,"post_id":51151416,"comment_id":89286990,"body_markdown":"It is ticked. IntellJ shows warning for unused  fields, unless the field is autowired. I want to extend the use of this warning to autowired fields as well. (However I don&#39;t even understand why warning is turned off for autowired fields in the first place.)","body":"It is ticked. IntellJ shows warning for unused  fields, unless the field is autowired. I want to extend the use of this warning to autowired fields as well. (However I don&#39;t even understand why warning is turned off for autowired fields in the first place.)"},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1530612698,"post_id":51151416,"comment_id":89287248,"body_markdown":"That&#39;s strange. When I untick it, the warning message disappears on my unused `@Autowired` field. Is your `Highlighting level`set on `Inspections` ?","body":"That&#39;s strange. When I untick it, the warning message disappears on my unused <code>@Autowired</code> field. Is your <code>Highlighting level</code>set on <code>Inspections</code> ?"},{"owner":{"account_id":6485389,"reputation":467,"user_id":5021136,"display_name":"John"},"score":0,"creation_date":1530613845,"post_id":51151416,"comment_id":89288003,"body_markdown":"What do you mean, `Highlighting level` ? Where can I find it? If you mean visibility - it&#39;s all public.","body":"What do you mean, <code>Highlighting level</code> ? Where can I find it? If you mean visibility - it&#39;s all public."},{"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"score":0,"creation_date":1530620014,"post_id":51151416,"comment_id":89291793,"body_markdown":"Right click on the bar on the right (showing problems, on the scroll bar) -&gt; Customize highlight level -&gt; Inspections.","body":"Right click on the bar on the right (showing problems, on the scroll bar) -&gt; Customize highlight level -&gt; Inspections."}],"tags":[],"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530611149,"creation_date":1530611149,"answer_id":51151416,"question_id":51150316,"body_markdown":"You have to tick the inspection `Unused declaration` (inside `Java/Declaration redundancy` category).\r\n\r\n&gt; This inspection reports classes, methods or fields in the specified\r\n&gt; inspection scope that are not used or not reachable from entry points.\r\n\r\nYou can find this in Settings -&gt; Editor -&gt; Inspections.","title":"Show warning for unused autowired field in IntelliJ IDEA","body":"<p>You have to tick the inspection <code>Unused declaration</code> (inside <code>Java/Declaration redundancy</code> category).</p>\n\n<blockquote>\n  <p>This inspection reports classes, methods or fields in the specified\n  inspection scope that are not used or not reachable from entry points.</p>\n</blockquote>\n\n<p>You can find this in Settings -> Editor -> Inspections.</p>\n"},{"tags":[],"owner":{"account_id":14863303,"reputation":25,"user_id":10733300,"display_name":"Zhou Liu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693997043,"creation_date":1693997043,"answer_id":77051168,"question_id":51150316,"body_markdown":"Check the Settings | Editor | Inspections | Java -&gt; Unused declaration -&gt; Entry points -&gt; Annotations...","title":"Show warning for unused autowired field in IntelliJ IDEA","body":"<p>Check the Settings | Editor | Inspections | Java -&gt; Unused declaration -&gt; Entry points -&gt; Annotations...</p>\n"}],"owner":{"account_id":6485389,"reputation":467,"user_id":5021136,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1983,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1693997043,"creation_date":1530607804,"question_id":51150316,"body_markdown":"IntelliJ does not show &quot;Field is never used&quot; warning if it have `@Autowired` annotation. How to make it show warning?","title":"Show warning for unused autowired field in IntelliJ IDEA","body":"<p>IntelliJ does not show \"Field is never used\" warning if it have <code>@Autowired</code> annotation. How to make it show warning?</p>\n"},{"tags":["java","ant","ivy","antbuilder"],"owner":{"account_id":25868194,"reputation":1,"user_id":19599468,"display_name":"SkClass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693997041,"answer_count":0,"score":0,"last_activity_date":1693996735,"creation_date":1693996735,"question_id":77051132,"body_markdown":"I am trying to build the application but I am getting this error :\r\njava.lang.NoClassDefFoundError: org/apache/bcel/classfile/Visitor\r\n\r\nI have added the jar in ivy.xml \r\n\r\n```\r\n&lt;dependency org=&quot;org.apache.bcel&quot; name=&quot;bcel&quot; rev=&quot;6.7.0&quot;/&gt;\r\n```\r\n\r\nBut, When I am doing Ant build it is giving error.\r\n\r\nI tried with other version as well , added this as well :\r\n\r\n```\r\n&lt;jar destfile=&quot;output/atut.jar&quot; duplicate=&quot;preserve&quot; comment=&quot;Version: ${version}, Status: ${status}&quot;&gt;\r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Version&quot; value=&quot;${version}&quot;/&gt;\r\n                &lt;attribute name=&quot;Status&quot; value=&quot;${status}&quot;/&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;fileset refid=&quot;atut.classes&quot;/&gt;\r\n           \r\n            &lt;fileset dir=&quot;classes/Core&quot;/&gt;\r\n        \t\r\n        \t&lt;fileset dir=&quot;lib/compile&quot;&gt;\r\n        \t\t&lt;include name=&quot;bcel.jar&quot;/&gt;\r\n        \t&lt;/fileset&gt;\r\n        \t\r\n        &lt;/jar&gt;\r\n```\r\n\r\nBut, still unable to build it. \r\n","title":"java.lang.NoClassDefFoundError: org/apache/bcel/classfile/Visitor","body":"<p>I am trying to build the application but I am getting this error :\njava.lang.NoClassDefFoundError: org/apache/bcel/classfile/Visitor</p>\n<p>I have added the jar in ivy.xml</p>\n<pre><code>&lt;dependency org=&quot;org.apache.bcel&quot; name=&quot;bcel&quot; rev=&quot;6.7.0&quot;/&gt;\n</code></pre>\n<p>But, When I am doing Ant build it is giving error.</p>\n<p>I tried with other version as well , added this as well :</p>\n<pre><code>&lt;jar destfile=&quot;output/atut.jar&quot; duplicate=&quot;preserve&quot; comment=&quot;Version: ${version}, Status: ${status}&quot;&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Version&quot; value=&quot;${version}&quot;/&gt;\n                &lt;attribute name=&quot;Status&quot; value=&quot;${status}&quot;/&gt;\n            &lt;/manifest&gt;\n            &lt;fileset refid=&quot;atut.classes&quot;/&gt;\n           \n            &lt;fileset dir=&quot;classes/Core&quot;/&gt;\n            \n            &lt;fileset dir=&quot;lib/compile&quot;&gt;\n                &lt;include name=&quot;bcel.jar&quot;/&gt;\n            &lt;/fileset&gt;\n            \n        &lt;/jar&gt;\n</code></pre>\n<p>But, still unable to build it.</p>\n"},{"tags":["java","android","kotlin","user-interface","android-jetpack-compose"],"answers":[{"comments":[{"owner":{"account_id":26459081,"reputation":13,"user_id":20101274,"display_name":"x_Kronos"},"score":0,"creation_date":1693996038,"post_id":77050872,"comment_id":135832184,"body_markdown":"This works for moving the shape itself but the shadow is left behind, is there a way to fix that? https://imgur.com/tjHedcq (Correct image)","body":"This works for moving the shape itself but the shadow is left behind, is there a way to fix that? <a href=\"https://imgur.com/tjHedcq\" rel=\"nofollow noreferrer\">imgur.com/tjHedcq</a> (Correct image)"},{"owner":{"account_id":7139664,"reputation":50276,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"score":0,"creation_date":1693996420,"post_id":77050872,"comment_id":135832256,"body_markdown":"It doesn&#39;t leave shadow behind. Any Modifier, for instance shadow, border, background, clickable, assigned after Modifier.offset or Modifier graphicsLayer is moved. You can verify it by changing order of  Modifier.graphicsLayer and shadow to see how it will look when shadow is not moved. The reason you experience is how shadows drawn in jetpack Compose. They are drawn as a shape with some blur. You need to implement custom shadows for transparent backgrdouns","body":"It doesn&#39;t leave shadow behind. Any Modifier, for instance shadow, border, background, clickable, assigned after Modifier.offset or Modifier graphicsLayer is moved. You can verify it by changing order of  Modifier.graphicsLayer and shadow to see how it will look when shadow is not moved. The reason you experience is how shadows drawn in jetpack Compose. They are drawn as a shape with some blur. You need to implement custom shadows for transparent backgrdouns"},{"owner":{"account_id":7139664,"reputation":50276,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"score":0,"creation_date":1693996706,"post_id":77050872,"comment_id":135832319,"body_markdown":"https://stackoverflow.com/a/75951945/5457853 You can refere this answer how shadow works, or simply try it in a Composable with no background to see how it&#39;s drawn","body":"<a href=\"https://stackoverflow.com/a/75951945/5457853\">stackoverflow.com/a/75951945/5457853</a> You can refere this answer how shadow works, or simply try it in a Composable with no background to see how it&#39;s drawn"},{"owner":{"account_id":7139664,"reputation":50276,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"score":0,"creation_date":1693996751,"post_id":77050872,"comment_id":135832325,"body_markdown":"Also in images, shadow clips, if i set clip=false in second image it would be drawing it without clipping","body":"Also in images, shadow clips, if i set clip=false in second image it would be drawing it without clipping"},{"owner":{"account_id":7139664,"reputation":50276,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"score":0,"creation_date":1693996933,"post_id":77050872,"comment_id":135832361,"body_markdown":"You can pick same non-transparent color to use default shadow modifier or implement your own shadow using frameworkPaint for circles. But for input section i think you should implement your own shadow.","body":"You can pick same non-transparent color to use default shadow modifier or implement your own shadow using frameworkPaint for circles. But for input section i think you should implement your own shadow."}],"tags":[],"owner":{"account_id":7139664,"reputation":50276,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693996636,"creation_date":1693994175,"answer_id":77050872,"question_id":77050547,"body_markdown":"You can use Modifier.offset or Modifier.graphicsLayer to move a Composable.\r\n\r\n    @Preview\r\n    @Composable\r\n    fun OffsetSample() {\r\n        Box(\r\n            Modifier\r\n                // Alternative 1\r\n                .graphicsLayer {\r\n                    translationX = -355.dp.toPx() / 2\r\n                }\r\n                // Alternative 2\r\n    //            .offset((-355).dp / 2)\r\n                .shadow(\r\n                    elevation = 4.dp,\r\n                    spotColor = Color(0x40000000),\r\n                    ambientColor = Color(0x40000000),\r\n                    shape = RoundedCornerShape(size = 355.dp)\r\n                )\r\n    \r\n                .width(355.dp)\r\n                .height(355.dp)\r\n    \r\n                .background(\r\n                    color = Color(0xA300C2FF),\r\n                    shape = RoundedCornerShape(\r\n                        size = 355.dp\r\n                    ),\r\n                )\r\n        )\r\n    }\r\n\r\nAlso you can draw both Circles as\r\n\r\n\r\n    @Preview\r\n    @Composable\r\n    fun OffsetSample2() {\r\n        Box(\r\n            modifier = Modifier.fillMaxSize()\r\n        ) {\r\n            Box(\r\n                Modifier\r\n                    .padding(top =  30.dp)\r\n                    .align(Alignment.TopStart)\r\n                    .graphicsLayer {\r\n                        translationX = -355.dp.toPx() / 2\r\n                    }\r\n                    .shadow(\r\n                        elevation = 4.dp,\r\n                        spotColor = Color(0x40000000),\r\n                        ambientColor = Color(0x40000000),\r\n                        shape = RoundedCornerShape(size = 355.dp)\r\n                    )\r\n    \r\n                    .width(355.dp)\r\n                    .height(355.dp)\r\n    \r\n                    .background(\r\n                        color = Color(0xA300C2FF),\r\n                        shape = RoundedCornerShape(\r\n                            size = 355.dp\r\n                        ),\r\n                    )\r\n            )\r\n    \r\n            Box(\r\n                Modifier\r\n                    .padding(bottom =  30.dp)\r\n                    .align(Alignment.BottomEnd)\r\n                    .graphicsLayer {\r\n                        translationX = 355.dp.toPx() / 2\r\n                    }\r\n                    .shadow(\r\n                        elevation = 4.dp,\r\n                        spotColor = Color(0x40000000),\r\n                        ambientColor = Color(0x40000000),\r\n                        shape = RoundedCornerShape(size = 355.dp)\r\n                    )\r\n    \r\n                    .width(355.dp)\r\n                    .height(355.dp)\r\n    \r\n                    .background(\r\n                        color = Color(0xA300C2FF),\r\n                        shape = RoundedCornerShape(\r\n                            size = 355.dp\r\n                        ),\r\n                    )\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n&lt;h2&gt;Edit&lt;/h2&gt;\r\n\r\nShadow as other modifiers also is moved when it&#39;s placed after offset or graphicsLayer.\r\n\r\n\r\n    @Preview\r\n    @Composable\r\n    fun OffsetSample3() {\r\n       Column {\r\n    \r\n           Box(\r\n               Modifier\r\n                   .graphicsLayer {\r\n                       translationX = -355.dp.toPx() / 2\r\n                   }\r\n                   .shadow(\r\n                       elevation = 8.dp,\r\n                       spotColor = Color(0x40000000),\r\n                       ambientColor = Color(0x40000000),\r\n                       shape = RoundedCornerShape(size = 355.dp)\r\n                   )\r\n                   .width(355.dp)\r\n                   .height(355.dp)\r\n    \r\n                   .background(\r\n                       color = Color(0xA300C2FF),\r\n                       shape = RoundedCornerShape(\r\n                           size = 355.dp\r\n                       ),\r\n                   )\r\n           )\r\n           Box(\r\n               Modifier\r\n                   .shadow(\r\n                       elevation = 8.dp,\r\n                       spotColor = Color(0x40000000),\r\n                       ambientColor = Color(0x40000000),\r\n                       shape = RoundedCornerShape(size = 355.dp)\r\n                   )\r\n                   .graphicsLayer {\r\n                       translationX = -355.dp.toPx() / 2\r\n                   }\r\n    \r\n                   .width(355.dp)\r\n                   .height(355.dp)\r\n    \r\n                   .background(\r\n                       color = Color(0xA300C2FF),\r\n                       shape = RoundedCornerShape(\r\n                           size = 355.dp\r\n                       ),\r\n                   )\r\n           )\r\n       }\r\n    }\r\n\r\nSecond one doesn&#39;t move shadow and shadows in Jetpack Compose are similar to shapes assigned that are drawn with spot and ambient color and with some blur.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWithout shadow clip in second one\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7ao09.png\r\n  [2]: https://i.stack.imgur.com/fOIx3.png\r\n  [3]: https://i.stack.imgur.com/dlJFD.png","title":"Problem moving a shape off partly off screen","body":"<p>You can use Modifier.offset or Modifier.graphicsLayer to move a Composable.</p>\n<pre><code>@Preview\n@Composable\nfun OffsetSample() {\n    Box(\n        Modifier\n            // Alternative 1\n            .graphicsLayer {\n                translationX = -355.dp.toPx() / 2\n            }\n            // Alternative 2\n//            .offset((-355).dp / 2)\n            .shadow(\n                elevation = 4.dp,\n                spotColor = Color(0x40000000),\n                ambientColor = Color(0x40000000),\n                shape = RoundedCornerShape(size = 355.dp)\n            )\n\n            .width(355.dp)\n            .height(355.dp)\n\n            .background(\n                color = Color(0xA300C2FF),\n                shape = RoundedCornerShape(\n                    size = 355.dp\n                ),\n            )\n    )\n}\n</code></pre>\n<p>Also you can draw both Circles as</p>\n<pre><code>@Preview\n@Composable\nfun OffsetSample2() {\n    Box(\n        modifier = Modifier.fillMaxSize()\n    ) {\n        Box(\n            Modifier\n                .padding(top =  30.dp)\n                .align(Alignment.TopStart)\n                .graphicsLayer {\n                    translationX = -355.dp.toPx() / 2\n                }\n                .shadow(\n                    elevation = 4.dp,\n                    spotColor = Color(0x40000000),\n                    ambientColor = Color(0x40000000),\n                    shape = RoundedCornerShape(size = 355.dp)\n                )\n\n                .width(355.dp)\n                .height(355.dp)\n\n                .background(\n                    color = Color(0xA300C2FF),\n                    shape = RoundedCornerShape(\n                        size = 355.dp\n                    ),\n                )\n        )\n\n        Box(\n            Modifier\n                .padding(bottom =  30.dp)\n                .align(Alignment.BottomEnd)\n                .graphicsLayer {\n                    translationX = 355.dp.toPx() / 2\n                }\n                .shadow(\n                    elevation = 4.dp,\n                    spotColor = Color(0x40000000),\n                    ambientColor = Color(0x40000000),\n                    shape = RoundedCornerShape(size = 355.dp)\n                )\n\n                .width(355.dp)\n                .height(355.dp)\n\n                .background(\n                    color = Color(0xA300C2FF),\n                    shape = RoundedCornerShape(\n                        size = 355.dp\n                    ),\n                )\n        )\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7ao09.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7ao09.png\" alt=\"enter image description here\" /></a></p>\n<h2>Edit</h2>\n<p>Shadow as other modifiers also is moved when it's placed after offset or graphicsLayer.</p>\n<pre><code>@Preview\n@Composable\nfun OffsetSample3() {\n   Column {\n\n       Box(\n           Modifier\n               .graphicsLayer {\n                   translationX = -355.dp.toPx() / 2\n               }\n               .shadow(\n                   elevation = 8.dp,\n                   spotColor = Color(0x40000000),\n                   ambientColor = Color(0x40000000),\n                   shape = RoundedCornerShape(size = 355.dp)\n               )\n               .width(355.dp)\n               .height(355.dp)\n\n               .background(\n                   color = Color(0xA300C2FF),\n                   shape = RoundedCornerShape(\n                       size = 355.dp\n                   ),\n               )\n       )\n       Box(\n           Modifier\n               .shadow(\n                   elevation = 8.dp,\n                   spotColor = Color(0x40000000),\n                   ambientColor = Color(0x40000000),\n                   shape = RoundedCornerShape(size = 355.dp)\n               )\n               .graphicsLayer {\n                   translationX = -355.dp.toPx() / 2\n               }\n\n               .width(355.dp)\n               .height(355.dp)\n\n               .background(\n                   color = Color(0xA300C2FF),\n                   shape = RoundedCornerShape(\n                       size = 355.dp\n                   ),\n               )\n       )\n   }\n}\n</code></pre>\n<p>Second one doesn't move shadow and shadows in Jetpack Compose are similar to shapes assigned that are drawn with spot and ambient color and with some blur.</p>\n<p><a href=\"https://i.stack.imgur.com/fOIx3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fOIx3.png\" alt=\"enter image description here\" /></a></p>\n<p>Without shadow clip in second one</p>\n<p><a href=\"https://i.stack.imgur.com/dlJFD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dlJFD.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26459081,"reputation":13,"user_id":20101274,"display_name":"x_Kronos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77050872,"answer_count":1,"score":0,"last_activity_date":1693996636,"creation_date":1693991499,"question_id":77050547,"body_markdown":"I have recently started migrating an Android XML app to Jetpack Compose. As I have not used compose prior to this I still trying to get familiar to it.\r\n\r\nThe UI I have designed for the application incorporates circles that are partially cur off screen :\r\n[![Base UI of with partially cut off circles](https://i.stack.imgur.com/t7Mmj.jpg)](https://i.stack.imgur.com/t7Mmj.jpg)\r\n\r\nWhen trying to replicate this inside compose I have been able to make the circle but I can&#39;t quite position it without morphing the shape. Here is what I have in compose:\r\n[![Compose version of the UI](https://i.stack.imgur.com/ogrU0.png)](https://i.stack.imgur.com/ogrU0.png)\r\n\r\nHere is the code for the circle :\r\n\r\n```\r\nBox(\r\n            Modifier\r\n                .shadow(\r\n                    elevation = 4.dp,\r\n                    spotColor = Color(0x40000000),\r\n                    ambientColor = Color(0x40000000),\r\n                    shape = RoundedCornerShape(size = 355.dp)\r\n                )\r\n                .padding(\r\n                    end = 0.dp, // Ignore this as it was a placeholder while testing                     )\r\n                .width(355.dp)\r\n                .height(355.dp)\r\n                .background(\r\n                    color = Color(0xA300C2FF),\r\n                    shape = RoundedCornerShape(\r\n                        size = 355.dp\r\n                    ),\r\n                )\r\n        )\r\n```\r\n\r\nAny help would be greatly appreciated\r\nThanks","title":"Problem moving a shape off partly off screen","body":"<p>I have recently started migrating an Android XML app to Jetpack Compose. As I have not used compose prior to this I still trying to get familiar to it.</p>\n<p>The UI I have designed for the application incorporates circles that are partially cur off screen :\n<a href=\"https://i.stack.imgur.com/t7Mmj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t7Mmj.jpg\" alt=\"Base UI of with partially cut off circles\" /></a></p>\n<p>When trying to replicate this inside compose I have been able to make the circle but I can't quite position it without morphing the shape. Here is what I have in compose:\n<a href=\"https://i.stack.imgur.com/ogrU0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ogrU0.png\" alt=\"Compose version of the UI\" /></a></p>\n<p>Here is the code for the circle :</p>\n<pre><code>Box(\n            Modifier\n                .shadow(\n                    elevation = 4.dp,\n                    spotColor = Color(0x40000000),\n                    ambientColor = Color(0x40000000),\n                    shape = RoundedCornerShape(size = 355.dp)\n                )\n                .padding(\n                    end = 0.dp, // Ignore this as it was a placeholder while testing                     )\n                .width(355.dp)\n                .height(355.dp)\n                .background(\n                    color = Color(0xA300C2FF),\n                    shape = RoundedCornerShape(\n                        size = 355.dp\n                    ),\n                )\n        )\n</code></pre>\n<p>Any help would be greatly appreciated\nThanks</p>\n"},{"tags":["java","module","jar","resources","jpackage"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693681238,"post_id":77029614,"comment_id":135793778,"body_markdown":"As someone [just asked](https://stackoverflow.com/questions/77024408/i-cant-load-ressources-within-a-jar-even-though-i-used-getressourcesasstream), using getResource or getResourceAsStream to read a ‘directory’ was *never* supported functionality.  If it happened to work for you in the past, that was because you got lucky.  (Jar files and zip files do not actually have a concept of a directory.  Their entries are just strings, nothing more.)","body":"As someone <a href=\"https://stackoverflow.com/questions/77024408/i-cant-load-ressources-within-a-jar-even-though-i-used-getressourcesasstream\">just asked</a>, using getResource or getResourceAsStream to read a ‘directory’ was <i>never</i> supported functionality.  If it happened to work for you in the past, that was because you got lucky.  (Jar files and zip files do not actually have a concept of a directory.  Their entries are just strings, nothing more.)"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1693681283,"post_id":77029614,"comment_id":135793788,"body_markdown":"`--input src/main/resources` – This should not be there. Resources are embedded &quot;in&quot; the module, whether that&#39;s as a JAR or in the JRT image. Normal resource lookup should &quot;just work&quot;. But as noted by VGR, looking up a directory resource was never guaranteed to work, and in fact I believe it breaks in JRT images.","body":"<code>--input src&#47;main&#47;resources</code> – This should not be there. Resources are embedded &quot;in&quot; the module, whether that&#39;s as a JAR or in the JRT image. Normal resource lookup should &quot;just work&quot;. But as noted by VGR, looking up a directory resource was never guaranteed to work, and in fact I believe it breaks in JRT images."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693681474,"post_id":77029614,"comment_id":135793809,"body_markdown":"Thank you both for the response. I will type up an answer that goes into more depth, then vote to close this question as a duplicate.","body":"Thank you both for the response. I will type up an answer that goes into more depth, then vote to close this question as a duplicate."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693688265,"post_id":77029614,"comment_id":135794415,"body_markdown":"Hey, I am still working on the answer, but I asked another question in a new post. I am going to use the answer from that question to help me construct this one, so if either of you are available to take a look at it, I would appreciate it. Here is the link -- https://stackoverflow.com/questions/77030026/modulelayer-cant-find-my-resources-when-running-my-modular-program-but-it-can","body":"Hey, I am still working on the answer, but I asked another question in a new post. I am going to use the answer from that question to help me construct this one, so if either of you are available to take a look at it, I would appreciate it. Here is the link -- <a href=\"https://stackoverflow.com/questions/77030026/modulelayer-cant-find-my-resources-when-running-my-modular-program-but-it-can\" title=\"modulelayer cant find my resources when running my modular program but it can\">stackoverflow.com/questions/77030026/&hellip;</a>"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693700099,"post_id":77029614,"comment_id":135795216,"body_markdown":"@Slaw Thank you for answering it! If both of you could review my answer to this question, I would appreciate it! Posted below.","body":"@Slaw Thank you for answering it! If both of you could review my answer to this question, I would appreciate it! Posted below."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693700149,"post_id":77029614,"comment_id":135795221,"body_markdown":"@VGR mentioning you so you get the notification for the above comment. Annoyingly enough, StackOverflow only lets me @ one person at a time.","body":"@VGR mentioning you so you get the notification for the above comment. Annoyingly enough, StackOverflow only lets me @ one person at a time."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693863752,"post_id":77029614,"comment_id":135813163,"body_markdown":"Ok, I&#39;m flagging my post as a duplicate. ty both for your help! @Slaw","body":"Ok, I&#39;m flagging my post as a duplicate. ty both for your help! @Slaw"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693863767,"post_id":77029614,"comment_id":135813165,"body_markdown":"and @VGR, if both of you could flag","body":"and @VGR, if both of you could flag"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693996635,"creation_date":1693700049,"answer_id":77030475,"question_id":77029614,"body_markdown":"You should not use `.getResource()` or `.getResourceAsStream()` to walk directories or view their contents. That was never part of their design. They are only meant to fetch files, not scan or see the contents of the directories.\r\n\r\nThat was the source of my bug. Yes, I can simply view the folder contents by doing `.getResource()` or `.getResourceAsStream()`, but that works for plain folders and jar files only because plain folders (obviously) have that functionality built in and jars can halfway simulate the same thing. But trying to do that for an executable file (.exe file), will just plain not work. Here is the real way to do it.\r\n\r\nModules are a beautiful thing. If you want to read the contents of your Module, just get an instance of a [`java.lang.module.ModuleReader`][1]. From there, you can get the directory searching abilities I was trying to get with `getResource()` or `.getResourceAsStream()`. Just call [`ModuleReader.list()`][2]. ***Please note, it implements AutoCloseable, so use Try-with-resources.*** I am also following suit with what @Slaw did in this answer. https://stackoverflow.com/a/77030323/10118965\r\n\r\n```java\r\npackage PackageName;\r\n\r\npublic class Main\r\n{\r\n\r\n   public static void main(String[] args) throws Exception\r\n   {\r\n   \r\n      new Main();\r\n   \r\n   }\r\n\r\n   public Main() throws Exception\r\n   {\r\n      var module = Main.class.getModule();\r\n      var reference = module.getLayer()\r\n              .configuration()\r\n              .findModule(module.getName())\r\n              .orElseThrow()\r\n              .reference();\r\n      try (var reader = reference.open()) {\r\n          reader.list().forEach(System.out::println);\r\n      }\r\n   }\r\n```\r\n\r\nFrom there, I can scan my directories and see the contents of my modules, and all I need to do is use a `ModuleReader`. I can pass the values into a `getResource` or `getResourceAsStream` call and it should work just fine. Ideally, one of the Module specific ones.\r\n\r\nSo, let&#39;s apply these new strategies to my problem. I have already pasted @Slaw &#39;s `Main.java` above in this answer. Here are my new shell scripts.\r\n\r\nFirst is the raw compile command. That remains unchanged for me.\r\n\r\n```\r\njavac                                      \\\r\n        --module-source-path=src/main/java \\\r\n        --module=ModuleName                \\\r\n        -d classes\r\n```\r\n\r\nNext is running the modular source code. This one needs to change slightly.\r\n\r\n```\r\njava                                                 \\\r\n        --module-path=&quot;classes&quot;                      \\\r\n        --module=ModuleName/PackageName.Main         \\\r\n        --patch-module ModuleName=src/main/resources\r\n```\r\n\r\nAs you can see, I added a `--patch-module` command line there. Special thanks (yet again!) to @Slaw &#39;s answer -- https://stackoverflow.com/a/77030323/10118965\r\n\r\nThe `--patch-module` command has documentation here -- https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html (Ctrl+F &quot;--patch-module&quot;)\r\n\r\nThis command is what you use to insert resources into modules. All you do is specify the module you want to &quot;patch&quot; on the left side of the equals, and then on the right, put the directory that you want to copy over, recursively.\r\n\r\nSo, in my case, I want to copy ***the contents of*** src/main/resources (not the directory itself, but its contents) into my module. So, I just call the above command when doing my run command, and things are good!\r\n\r\nI would encourage reading @Slaw &#39;s answer, it goes into more detail.\r\n\r\nNext is the script to create my jar file. This one will also change slightly.\r\n\r\n```\r\njar                                               \\\r\n        --verbose                                 \\\r\n        --create                                  \\\r\n        --file run/executable/jar/ProjectName.jar \\\r\n        --main-class PackageName.Main             \\\r\n        -C classes/ModuleName .                   \\\r\n        -C src/main/resources .\r\n```\r\n\r\nThe only new addition is the second `-C` call. The jar command does not have the `--patch-module` option, but you can think of the `-C` option as essentially an alias for `--patch-module`. By doing this, I achieve the exact same effect (to my understanding).\r\n\r\nNext is my run command for the jar. This one remains unchanged.\r\n\r\n```\r\njava                                                      \\\r\n        --module-path=&quot;run/executable/jar&quot;                \\\r\n        --module=ModuleName/PackageName.Main\r\n```\r\n\r\nThe reason why it is unchanged is because `-C` actually inserts the `src/main/resources` ***into*** the jar. So, no need to insert any special commands! Since we are ingesting the jar, then we are ingesting all of its contents too - which means that we get the resources too!\r\n\r\nFinally, is the jpackage shell script. This one actually gets simpler!\r\n\r\n```\r\njpackage                                                  \\\r\n    --verbose                                             \\\r\n    --type msi                                            \\\r\n    --name ProjectName                                    \\\r\n    --install-dir davidalayachew_applications/ProjectName \\\r\n    --vendor &quot;David Alayachew&quot;                            \\\r\n    --win-dir-chooser                                     \\\r\n    --module-path run/executable/jar                      \\\r\n    --module ModuleName/PackageName.Main                  \\\r\n    --win-console                                         \\\r\n    --java-options &quot;--enable-preview&quot;                     \\\r\n    --dest run/executable/installer\r\n```\r\n\r\nThe only change here is that I removed the `--input` option from the jpackage script. Special thanks to @VGR for pointing this out! `--input` is now redundant because we already have the resources inside of our jar -- no need to manually insert it!\r\n\r\nNow, when I run all of the above, things work out beautifully!\r\n\r\nHere is the output when I run my modular code (not a jar).\r\n\r\n```\r\nmodule-info.class\r\nPackageName/\r\nPackageName/Main.class\r\nResourceParentFolder/\r\nResourceParentFolder/ResourceSubFolderA/\r\nResourceParentFolder/ResourceSubFolderA/Resource1A.png\r\nResourceParentFolder/ResourceSubFolderA/Resource2A.png\r\nResourceParentFolder/ResourceSubFolderA/Resource3A.png\r\nResourceParentFolder/ResourceSubFolderB/\r\nResourceParentFolder/ResourceSubFolderB/Resource1B.png\r\nResourceParentFolder/ResourceSubFolderB/Resource2B.png\r\nResourceParentFolder/ResourceSubFolderB/Resource3B.png\r\n```\r\n\r\nRemember, I changed my output command to simply list the locations of all of my module contents. If I wanted to fetch any of these resources, I would just call my `getResource` or `getResourceAsStream` methods.\r\n\r\nBut to be absolutely sure, I can instead, make a call to actually fetch one of the resources.\r\n\r\nHere is my new `Main.java`.\r\n\r\n```java\r\npackage PackageName;\r\n   \r\npublic class Main\r\n{\r\n\r\n   public static void main(String[] args) throws Exception\r\n   {\r\n   \r\n      new Main();\r\n   \r\n   }\r\n\r\n   public Main() throws Exception\r\n   {\r\n   \r\n   \r\n      try\r\n      (\r\n         final java.lang.module.ModuleReader reader =\r\n            ModuleLayer\r\n            \t.boot()\r\n            \t.configuration()\r\n            \t.findModule(&quot;ModuleName&quot;)\r\n            \t.get()\r\n            \t.reference()\r\n            \t.open()\r\n      )\r\n      {\r\n      \r\n         final String firstResource =\r\n            reader\r\n               .list()\r\n               .filter(each -&gt; each.contains(&quot;ResourceParentFolder/ResourceSubFolderA/Resource1A.png&quot;))\r\n               .findFirst()\r\n               .orElseThrow()\r\n               ;\r\n      \r\n         final var myModule =\r\n            ModuleLayer\r\n               .boot()\r\n               .findModule(&quot;ModuleName&quot;)\r\n               .orElseThrow()\r\n               ;\r\n      \r\n         final var inputStream = myModule.getResourceAsStream(firstResource);\r\n      \r\n         final java.awt.Image image = javax.imageio.ImageIO.read(inputStream);\r\n      \r\n         System.out.println(image);\r\n      \r\n      }\r\n   \r\n   \r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nNow, instead of printing all resources with a [`Stream&lt;String&gt;`][3], I simply filter down to the one I want, and then load it.\r\n\r\nAnd when I do it like this, it all just works!\r\n\r\nHere is the output for my run command (no jar).\r\n\r\n```\r\nBufferedImage@3ecd23d9: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@569cfc36 transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 96 height = 88 #numDataElements 4 dataOff[0] = 3\r\n```\r\n\r\nIt successfully fetched the image! I can take the returned object and put into my GUI, and everything works just fine!\r\n\r\nHere is the output for my run command (yes jar).\r\n\r\n```\r\nBufferedImage@de0a01f: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@4c75cab9 transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 96 height = 88 #numDataElements 4 dataOff[0] = 3\r\n```\r\n\r\nA 1-to-1 match!\r\n\r\nAnd here is the output for my jpackage installation.\r\n\r\n```\r\nBufferedImage@1f554b06: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@694e1548 transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 96 height = 88 #numDataElements 4 dataOff[0] = 3\r\n```\r\n\r\nIt&#39;s a match! I now have a solution for querying my module and fetching resources from it! And the solution is uniform across all execution contexts -- whether I am running some just-compiled .class files, or I am running a jar file, or I am executing the application as a jpackage created executable binary, I am set!\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleReader.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleReader.html#list()\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html","title":"How to make images, properties, and other resources available to my modular application after jpackage?","body":"<p>You should not use <code>.getResource()</code> or <code>.getResourceAsStream()</code> to walk directories or view their contents. That was never part of their design. They are only meant to fetch files, not scan or see the contents of the directories.</p>\n<p>That was the source of my bug. Yes, I can simply view the folder contents by doing <code>.getResource()</code> or <code>.getResourceAsStream()</code>, but that works for plain folders and jar files only because plain folders (obviously) have that functionality built in and jars can halfway simulate the same thing. But trying to do that for an executable file (.exe file), will just plain not work. Here is the real way to do it.</p>\n<p>Modules are a beautiful thing. If you want to read the contents of your Module, just get an instance of a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleReader.html\" rel=\"nofollow noreferrer\"><code>java.lang.module.ModuleReader</code></a>. From there, you can get the directory searching abilities I was trying to get with <code>getResource()</code> or <code>.getResourceAsStream()</code>. Just call <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleReader.html#list()\" rel=\"nofollow noreferrer\"><code>ModuleReader.list()</code></a>. <em><strong>Please note, it implements AutoCloseable, so use Try-with-resources.</strong></em> I am also following suit with what @Slaw did in this answer. <a href=\"https://stackoverflow.com/a/77030323/10118965\">https://stackoverflow.com/a/77030323/10118965</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package PackageName;\n\npublic class Main\n{\n\n   public static void main(String[] args) throws Exception\n   {\n   \n      new Main();\n   \n   }\n\n   public Main() throws Exception\n   {\n      var module = Main.class.getModule();\n      var reference = module.getLayer()\n              .configuration()\n              .findModule(module.getName())\n              .orElseThrow()\n              .reference();\n      try (var reader = reference.open()) {\n          reader.list().forEach(System.out::println);\n      }\n   }\n</code></pre>\n<p>From there, I can scan my directories and see the contents of my modules, and all I need to do is use a <code>ModuleReader</code>. I can pass the values into a <code>getResource</code> or <code>getResourceAsStream</code> call and it should work just fine. Ideally, one of the Module specific ones.</p>\n<p>So, let's apply these new strategies to my problem. I have already pasted @Slaw 's <code>Main.java</code> above in this answer. Here are my new shell scripts.</p>\n<p>First is the raw compile command. That remains unchanged for me.</p>\n<pre><code>javac                                      \\\n        --module-source-path=src/main/java \\\n        --module=ModuleName                \\\n        -d classes\n</code></pre>\n<p>Next is running the modular source code. This one needs to change slightly.</p>\n<pre><code>java                                                 \\\n        --module-path=&quot;classes&quot;                      \\\n        --module=ModuleName/PackageName.Main         \\\n        --patch-module ModuleName=src/main/resources\n</code></pre>\n<p>As you can see, I added a <code>--patch-module</code> command line there. Special thanks (yet again!) to @Slaw 's answer -- <a href=\"https://stackoverflow.com/a/77030323/10118965\">https://stackoverflow.com/a/77030323/10118965</a></p>\n<p>The <code>--patch-module</code> command has documentation here -- <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html</a> (Ctrl+F &quot;--patch-module&quot;)</p>\n<p>This command is what you use to insert resources into modules. All you do is specify the module you want to &quot;patch&quot; on the left side of the equals, and then on the right, put the directory that you want to copy over, recursively.</p>\n<p>So, in my case, I want to copy <em><strong>the contents of</strong></em> src/main/resources (not the directory itself, but its contents) into my module. So, I just call the above command when doing my run command, and things are good!</p>\n<p>I would encourage reading @Slaw 's answer, it goes into more detail.</p>\n<p>Next is the script to create my jar file. This one will also change slightly.</p>\n<pre><code>jar                                               \\\n        --verbose                                 \\\n        --create                                  \\\n        --file run/executable/jar/ProjectName.jar \\\n        --main-class PackageName.Main             \\\n        -C classes/ModuleName .                   \\\n        -C src/main/resources .\n</code></pre>\n<p>The only new addition is the second <code>-C</code> call. The jar command does not have the <code>--patch-module</code> option, but you can think of the <code>-C</code> option as essentially an alias for <code>--patch-module</code>. By doing this, I achieve the exact same effect (to my understanding).</p>\n<p>Next is my run command for the jar. This one remains unchanged.</p>\n<pre><code>java                                                      \\\n        --module-path=&quot;run/executable/jar&quot;                \\\n        --module=ModuleName/PackageName.Main\n</code></pre>\n<p>The reason why it is unchanged is because <code>-C</code> actually inserts the <code>src/main/resources</code> <em><strong>into</strong></em> the jar. So, no need to insert any special commands! Since we are ingesting the jar, then we are ingesting all of its contents too - which means that we get the resources too!</p>\n<p>Finally, is the jpackage shell script. This one actually gets simpler!</p>\n<pre><code>jpackage                                                  \\\n    --verbose                                             \\\n    --type msi                                            \\\n    --name ProjectName                                    \\\n    --install-dir davidalayachew_applications/ProjectName \\\n    --vendor &quot;David Alayachew&quot;                            \\\n    --win-dir-chooser                                     \\\n    --module-path run/executable/jar                      \\\n    --module ModuleName/PackageName.Main                  \\\n    --win-console                                         \\\n    --java-options &quot;--enable-preview&quot;                     \\\n    --dest run/executable/installer\n</code></pre>\n<p>The only change here is that I removed the <code>--input</code> option from the jpackage script. Special thanks to @VGR for pointing this out! <code>--input</code> is now redundant because we already have the resources inside of our jar -- no need to manually insert it!</p>\n<p>Now, when I run all of the above, things work out beautifully!</p>\n<p>Here is the output when I run my modular code (not a jar).</p>\n<pre><code>module-info.class\nPackageName/\nPackageName/Main.class\nResourceParentFolder/\nResourceParentFolder/ResourceSubFolderA/\nResourceParentFolder/ResourceSubFolderA/Resource1A.png\nResourceParentFolder/ResourceSubFolderA/Resource2A.png\nResourceParentFolder/ResourceSubFolderA/Resource3A.png\nResourceParentFolder/ResourceSubFolderB/\nResourceParentFolder/ResourceSubFolderB/Resource1B.png\nResourceParentFolder/ResourceSubFolderB/Resource2B.png\nResourceParentFolder/ResourceSubFolderB/Resource3B.png\n</code></pre>\n<p>Remember, I changed my output command to simply list the locations of all of my module contents. If I wanted to fetch any of these resources, I would just call my <code>getResource</code> or <code>getResourceAsStream</code> methods.</p>\n<p>But to be absolutely sure, I can instead, make a call to actually fetch one of the resources.</p>\n<p>Here is my new <code>Main.java</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package PackageName;\n   \npublic class Main\n{\n\n   public static void main(String[] args) throws Exception\n   {\n   \n      new Main();\n   \n   }\n\n   public Main() throws Exception\n   {\n   \n   \n      try\n      (\n         final java.lang.module.ModuleReader reader =\n            ModuleLayer\n                .boot()\n                .configuration()\n                .findModule(&quot;ModuleName&quot;)\n                .get()\n                .reference()\n                .open()\n      )\n      {\n      \n         final String firstResource =\n            reader\n               .list()\n               .filter(each -&gt; each.contains(&quot;ResourceParentFolder/ResourceSubFolderA/Resource1A.png&quot;))\n               .findFirst()\n               .orElseThrow()\n               ;\n      \n         final var myModule =\n            ModuleLayer\n               .boot()\n               .findModule(&quot;ModuleName&quot;)\n               .orElseThrow()\n               ;\n      \n         final var inputStream = myModule.getResourceAsStream(firstResource);\n      \n         final java.awt.Image image = javax.imageio.ImageIO.read(inputStream);\n      \n         System.out.println(image);\n      \n      }\n   \n   \n   \n   }\n\n}\n</code></pre>\n<p>Now, instead of printing all resources with a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream&lt;String&gt;</code></a>, I simply filter down to the one I want, and then load it.</p>\n<p>And when I do it like this, it all just works!</p>\n<p>Here is the output for my run command (no jar).</p>\n<pre><code>BufferedImage@3ecd23d9: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@569cfc36 transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 96 height = 88 #numDataElements 4 dataOff[0] = 3\n</code></pre>\n<p>It successfully fetched the image! I can take the returned object and put into my GUI, and everything works just fine!</p>\n<p>Here is the output for my run command (yes jar).</p>\n<pre><code>BufferedImage@de0a01f: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@4c75cab9 transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 96 height = 88 #numDataElements 4 dataOff[0] = 3\n</code></pre>\n<p>A 1-to-1 match!</p>\n<p>And here is the output for my jpackage installation.</p>\n<pre><code>BufferedImage@1f554b06: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@694e1548 transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 96 height = 88 #numDataElements 4 dataOff[0] = 3\n</code></pre>\n<p>It's a match! I now have a solution for querying my module and fetching resources from it! And the solution is uniform across all execution contexts -- whether I am running some just-compiled .class files, or I am running a jar file, or I am executing the application as a jpackage created executable binary, I am set!</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1693905489,"accepted_answer_id":77030475,"answer_count":1,"score":1,"last_activity_date":1693996635,"creation_date":1693680216,"question_id":77029614,"body_markdown":"I have the following project structure.\r\n\r\n```\r\nProjectName\r\n|\r\n|---src\r\n\t|\r\n\t|---main\r\n\t\t|\r\n\t\t|---java\r\n\t\t|\t|\r\n\t\t|\t|---ModuleName\r\n\t\t|\t\t|\r\n\t\t|\t\t|---module-info.java\r\n\t\t|\t\t|\r\n\t\t|\t\t|---PackageName\r\n\t\t|\t\t\t|\r\n\t\t|\t\t\t|---Main.java\r\n\t\t|\r\n\t\t|---resources\r\n\t\t\t|\r\n\t\t\t|---ResourceParentFolder\r\n\t\t\t\t|\r\n\t\t\t\t|---ResourceSubFolderA\r\n\t\t\t\t|\t|\r\n\t\t\t\t|\t|---Resource1A.png\r\n\t\t\t\t|\t|---Resource2A.png\r\n\t\t\t\t|\t|---Resource3A.png\r\n\t\t\t\t|\r\n\t\t\t\t|---ResourceSubFolderB\r\n\t\t\t\t\t|\r\n\t\t\t\t\t|---Resource1B.png\r\n\t\t\t\t\t|---Resource2B.png\r\n\t\t\t\t\t|---Resource3B.png\r\n```\r\n\r\nHere is my `Main.java`.\r\n\r\n```java\r\npackage PackageName;\r\n\r\npublic class Main\r\n{\r\n\r\n   public static void main(String[] args) throws Exception\r\n   {\r\n   \r\n      new Main();\r\n   \r\n   }\r\n\r\n   public Main() throws Exception\r\n   {\r\n   \r\n      System.out.println(&quot;0  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;PackageName/Main.class&quot;)));\r\n      System.out.println(&quot;1  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;ResourceParentFolder&quot;)));\r\n      System.out.println(&quot;2  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;ResourceParentFolder/ResourceSubFolderA&quot;)));\r\n      System.out.println(&quot;3  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;/ResourceParentFolder&quot;)));\r\n      System.out.println(&quot;4  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;/ResourceParentFolder/ResourceSubFolderA&quot;)));\r\n      System.out.println(&quot;4b - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getPackages()));\r\n      System.out.println(&quot;5  - &quot; + ModuleLayer.boot().modules());\r\n      System.out.println(&quot;6  - &quot; + ModuleLayer.boot().parents());\r\n      System.out.println(&quot;7  - &quot; + ModuleLayer.boot().toString());\r\n      System.out.println(&quot;8  - &quot; + Main.class.getClassLoader().getResource(&quot;ResourceParentFolder&quot;));\r\n      System.out.println(&quot;9  - &quot; + Main.class.getClassLoader().getResource(&quot;/ResourceParentFolder&quot;));\r\n      System.out.println(&quot;10 - &quot; + Main.class.getClassLoader().getResource(&quot;ResourceParentFolder/ResourceSubFolderA&quot;));\r\n      System.out.println(&quot;11 - &quot; + Main.class.getClassLoader().getResource(&quot;/ResourceParentFolder/ResourceSubFolderA&quot;));\r\n      System.out.println(&quot;12 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;ResourceParentFolder&quot;));\r\n      System.out.println(&quot;13 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;/ResourceParentFolder&quot;));\r\n      System.out.println(&quot;14 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;ResourceParentFolder/ResourceSubFolderA&quot;));\r\n      System.out.println(&quot;15 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;/ResourceParentFolder/ResourceSubFolderA&quot;));\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\n```java\r\nmodule ModuleName\r\n{\r\n\r\n   requires java.base;\r\n\r\n}\r\n```\r\n\r\nHere is my shell script which performs compilation, executes it, creates a modular jar, executes that, and then calls `jpackage`.\r\n\r\n```bash\r\necho &quot;STARTING TO COMPILE MODULAR SOURCE CODE&quot;\r\n\r\njavac                                      \\\r\n        --module-source-path=src/main/java \\\r\n        --module=ModuleName            \\\r\n        -d classes\r\n\r\necho &quot;STARTING TO RUN  MODULAR SOURCE CODE&quot;\r\n\r\njava                                             \\\r\n        --module-path=&quot;classes&quot;                  \\\r\n        --module=ModuleName/PackageName.Main\r\n\r\necho &quot;STARTING TO BUILD A MODULAR JAR&quot;\r\n\r\njar                                               \\\r\n        --verbose                                 \\\r\n        --create                                  \\\r\n        --file run/executable/jar/ProjectName.jar \\\r\n        --main-class PackageName.Main             \\\r\n        -C classes/ModuleName .\r\n\r\necho &quot;STARTING TO RUN  A MODULAR JAR&quot;\r\n\r\njava                                                      \\\r\n        --module-path=&quot;run/executable/jar&quot;                \\\r\n        --module=ModuleName/PackageName.Main\r\n\r\necho &quot;STARTING TO RUN JPACKAGE&quot;\r\n\r\njpackage                                                  \\\r\n    --verbose                                             \\\r\n    --type msi                                            \\\r\n    --name ProjectName                                    \\\r\n    --input src/main/resources                            \\\r\n    --install-dir davidalayachew_applications/ProjectName \\\r\n    --vendor &quot;David Alayachew&quot;                            \\\r\n    --win-dir-chooser                                     \\\r\n    --module-path run/executable/jar                      \\\r\n    --module ModuleName/PackageName.Main                  \\\r\n    --win-console                                         \\\r\n    --java-options &quot;--enable-preview&quot;                     \\\r\n    --dest run/executable/installer\r\n\r\n```\r\n\r\nAs you can see, it creates a few directories.\r\n\r\nNow, the output during executions is where my frustration is.\r\n\r\nHere is the output when running immediately after compiling.\r\n\r\n```\r\nSTARTING TO RUN  MODULAR SOURCE CODE\r\n0  - Optional[file:**ignore**/ProjectName/classes/ModuleName/PackageName/Main.class]\r\n1  - Optional[file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder]\r\n2  - Optional[file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder/ResourceSubFolderA]\r\n3  - Optional.empty\r\n4  - Optional.empty\r\n4b - Optional[[PackageName]]\r\n5  - [**ignore**]\r\n6  - []\r\n7  - **ignore**\r\n8  - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder\r\n9  - null\r\n10 - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder/ResourceSubFolderA\r\n11 - null\r\n12 - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder\r\n13 - null\r\n14 - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder/ResourceSubFolderA\r\n15 - null\r\n```\r\n\r\nOk, it found the folders. And since it is [`java.net.URLConnection`][1], I can traverse the directory by modifying the `URL`. So, things worked running the code immediately after compile.\r\n\r\nHere is the output when running the created jar file.\r\n\r\n```\r\nSTARTING TO RUN  A MODULAR JAR\r\n0  - Optional[jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/PackageName/Main.class]\r\n1  - Optional[jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/]\r\n2  - Optional[jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/ResourceSubFolderA/]\r\n3  - Optional.empty\r\n4  - Optional.empty\r\n4b - Optional[[ResourceParentFolder.ResourceSubFolderB, ResourceParentFolder.ResourceSubFolderA, ResourceParentFolder, PackageName]]\r\n5  - [**ignore**]\r\n6  - []\r\n7  - **ignore**\r\n8  - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/\r\n9  - null\r\n10 - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/ResourceSubFolderA/\r\n11 - null\r\n12 - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/\r\n13 - null\r\n14 - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/ResourceSubFolderA/\r\n15 - null\r\n```\r\n\r\nOk, a different type of connection, but we still found the same folders. I will likely have to do `URL` construction a little differently, but the path forward is fairly clear.\r\n\r\nNow, here is what happens after I run my newly installed `jpackage` version of my application.\r\n\r\n```\r\n0  - Optional[jrt:/ModuleName/PackageName/Main.class]\r\n1  - Optional.empty\r\n2  - Optional.empty\r\n3  - Optional.empty\r\n4  - Optional.empty\r\n4b - Optional[[ResourceParentFolder, PackageName, ResourceParentFolder.ResourceSubFolderA, ResourceParentFolder.ResourceSubFolderB]]\r\n5  - [module ModuleName, module java.base]\r\n6  - []\r\n7  - ModuleName, java.base\r\n8  - null\r\n9  - null\r\n10 - null\r\n11 - null\r\n12 - null\r\n13 - null\r\n14 - null\r\n15 - null\r\n```\r\n\r\nNothing can be found aside from the `.class` file I put as a sanity check.\r\n\r\nSo, I opened up the installation directory, and I see that my resources are definitely there. The whole directory, subdirectories, and files. Everything inside of and including `ResourceParentFolder` from my tree structure has been copied over to the C:/Program File/davidalayachew_applications/ProjectName/app folder.\r\n\r\nI tried a laundry list of configurations, like prepending the `getResource` parameters with app, but that was no good. I have cycled through &gt;100 permutations, and truthfully, I have forgotten most of them.\r\n\r\nCan someone give me a pointer on how to get my resources to be accessible to my application after calling jpackage? I specifically need to be able to see the contents of a folder. Not just fetching individual files.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLConnection.html","title":"How to make images, properties, and other resources available to my modular application after jpackage?","body":"<p>I have the following project structure.</p>\n<pre><code>ProjectName\n|\n|---src\n    |\n    |---main\n        |\n        |---java\n        |   |\n        |   |---ModuleName\n        |       |\n        |       |---module-info.java\n        |       |\n        |       |---PackageName\n        |           |\n        |           |---Main.java\n        |\n        |---resources\n            |\n            |---ResourceParentFolder\n                |\n                |---ResourceSubFolderA\n                |   |\n                |   |---Resource1A.png\n                |   |---Resource2A.png\n                |   |---Resource3A.png\n                |\n                |---ResourceSubFolderB\n                    |\n                    |---Resource1B.png\n                    |---Resource2B.png\n                    |---Resource3B.png\n</code></pre>\n<p>Here is my <code>Main.java</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package PackageName;\n\npublic class Main\n{\n\n   public static void main(String[] args) throws Exception\n   {\n   \n      new Main();\n   \n   }\n\n   public Main() throws Exception\n   {\n   \n      System.out.println(&quot;0  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;PackageName/Main.class&quot;)));\n      System.out.println(&quot;1  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;ResourceParentFolder&quot;)));\n      System.out.println(&quot;2  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;ResourceParentFolder/ResourceSubFolderA&quot;)));\n      System.out.println(&quot;3  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;/ResourceParentFolder&quot;)));\n      System.out.println(&quot;4  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;/ResourceParentFolder/ResourceSubFolderA&quot;)));\n      System.out.println(&quot;4b - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getPackages()));\n      System.out.println(&quot;5  - &quot; + ModuleLayer.boot().modules());\n      System.out.println(&quot;6  - &quot; + ModuleLayer.boot().parents());\n      System.out.println(&quot;7  - &quot; + ModuleLayer.boot().toString());\n      System.out.println(&quot;8  - &quot; + Main.class.getClassLoader().getResource(&quot;ResourceParentFolder&quot;));\n      System.out.println(&quot;9  - &quot; + Main.class.getClassLoader().getResource(&quot;/ResourceParentFolder&quot;));\n      System.out.println(&quot;10 - &quot; + Main.class.getClassLoader().getResource(&quot;ResourceParentFolder/ResourceSubFolderA&quot;));\n      System.out.println(&quot;11 - &quot; + Main.class.getClassLoader().getResource(&quot;/ResourceParentFolder/ResourceSubFolderA&quot;));\n      System.out.println(&quot;12 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;ResourceParentFolder&quot;));\n      System.out.println(&quot;13 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;/ResourceParentFolder&quot;));\n      System.out.println(&quot;14 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;ResourceParentFolder/ResourceSubFolderA&quot;));\n      System.out.println(&quot;15 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;/ResourceParentFolder/ResourceSubFolderA&quot;));\n   \n   }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>module ModuleName\n{\n\n   requires java.base;\n\n}\n</code></pre>\n<p>Here is my shell script which performs compilation, executes it, creates a modular jar, executes that, and then calls <code>jpackage</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>echo &quot;STARTING TO COMPILE MODULAR SOURCE CODE&quot;\n\njavac                                      \\\n        --module-source-path=src/main/java \\\n        --module=ModuleName            \\\n        -d classes\n\necho &quot;STARTING TO RUN  MODULAR SOURCE CODE&quot;\n\njava                                             \\\n        --module-path=&quot;classes&quot;                  \\\n        --module=ModuleName/PackageName.Main\n\necho &quot;STARTING TO BUILD A MODULAR JAR&quot;\n\njar                                               \\\n        --verbose                                 \\\n        --create                                  \\\n        --file run/executable/jar/ProjectName.jar \\\n        --main-class PackageName.Main             \\\n        -C classes/ModuleName .\n\necho &quot;STARTING TO RUN  A MODULAR JAR&quot;\n\njava                                                      \\\n        --module-path=&quot;run/executable/jar&quot;                \\\n        --module=ModuleName/PackageName.Main\n\necho &quot;STARTING TO RUN JPACKAGE&quot;\n\njpackage                                                  \\\n    --verbose                                             \\\n    --type msi                                            \\\n    --name ProjectName                                    \\\n    --input src/main/resources                            \\\n    --install-dir davidalayachew_applications/ProjectName \\\n    --vendor &quot;David Alayachew&quot;                            \\\n    --win-dir-chooser                                     \\\n    --module-path run/executable/jar                      \\\n    --module ModuleName/PackageName.Main                  \\\n    --win-console                                         \\\n    --java-options &quot;--enable-preview&quot;                     \\\n    --dest run/executable/installer\n\n</code></pre>\n<p>As you can see, it creates a few directories.</p>\n<p>Now, the output during executions is where my frustration is.</p>\n<p>Here is the output when running immediately after compiling.</p>\n<pre><code>STARTING TO RUN  MODULAR SOURCE CODE\n0  - Optional[file:**ignore**/ProjectName/classes/ModuleName/PackageName/Main.class]\n1  - Optional[file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder]\n2  - Optional[file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder/ResourceSubFolderA]\n3  - Optional.empty\n4  - Optional.empty\n4b - Optional[[PackageName]]\n5  - [**ignore**]\n6  - []\n7  - **ignore**\n8  - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder\n9  - null\n10 - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder/ResourceSubFolderA\n11 - null\n12 - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder\n13 - null\n14 - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder/ResourceSubFolderA\n15 - null\n</code></pre>\n<p>Ok, it found the folders. And since it is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLConnection.html\" rel=\"nofollow noreferrer\"><code>java.net.URLConnection</code></a>, I can traverse the directory by modifying the <code>URL</code>. So, things worked running the code immediately after compile.</p>\n<p>Here is the output when running the created jar file.</p>\n<pre><code>STARTING TO RUN  A MODULAR JAR\n0  - Optional[jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/PackageName/Main.class]\n1  - Optional[jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/]\n2  - Optional[jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/ResourceSubFolderA/]\n3  - Optional.empty\n4  - Optional.empty\n4b - Optional[[ResourceParentFolder.ResourceSubFolderB, ResourceParentFolder.ResourceSubFolderA, ResourceParentFolder, PackageName]]\n5  - [**ignore**]\n6  - []\n7  - **ignore**\n8  - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/\n9  - null\n10 - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/ResourceSubFolderA/\n11 - null\n12 - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/\n13 - null\n14 - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/ResourceSubFolderA/\n15 - null\n</code></pre>\n<p>Ok, a different type of connection, but we still found the same folders. I will likely have to do <code>URL</code> construction a little differently, but the path forward is fairly clear.</p>\n<p>Now, here is what happens after I run my newly installed <code>jpackage</code> version of my application.</p>\n<pre><code>0  - Optional[jrt:/ModuleName/PackageName/Main.class]\n1  - Optional.empty\n2  - Optional.empty\n3  - Optional.empty\n4  - Optional.empty\n4b - Optional[[ResourceParentFolder, PackageName, ResourceParentFolder.ResourceSubFolderA, ResourceParentFolder.ResourceSubFolderB]]\n5  - [module ModuleName, module java.base]\n6  - []\n7  - ModuleName, java.base\n8  - null\n9  - null\n10 - null\n11 - null\n12 - null\n13 - null\n14 - null\n15 - null\n</code></pre>\n<p>Nothing can be found aside from the <code>.class</code> file I put as a sanity check.</p>\n<p>So, I opened up the installation directory, and I see that my resources are definitely there. The whole directory, subdirectories, and files. Everything inside of and including <code>ResourceParentFolder</code> from my tree structure has been copied over to the C:/Program File/davidalayachew_applications/ProjectName/app folder.</p>\n<p>I tried a laundry list of configurations, like prepending the <code>getResource</code> parameters with app, but that was no good. I have cycled through &gt;100 permutations, and truthfully, I have forgotten most of them.</p>\n<p>Can someone give me a pointer on how to get my resources to be accessible to my application after calling jpackage? I specifically need to be able to see the contents of a folder. Not just fetching individual files.</p>\n"},{"tags":["java","pst"],"answers":[{"tags":[],"owner":{"account_id":95329,"reputation":2406,"user_id":259686,"display_name":"James McLeod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693996483,"creation_date":1602819088,"answer_id":64382549,"question_id":27374152,"body_markdown":"You have misinterpreted how PST files work. The [Message Store][1] contains very little data; in fact, [only five properties][2] are required to be present. The Display Name (returned by [com.pff.PSTMessageStore.getDisplayName][3] is the name of the PST file, but data the mailbox owner&#39;s identity (including email address and full name) is not stored here or in any other place in the PST file.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/openspecs/office_file_formats/ms-pst/aa0539bd-e7bf-4cec-8bde-0b87c2a86baf\r\n  [2]: https://learn.microsoft.com/en-us/openspecs/office_file_formats/ms-pst/5493a0eb-0356-4e88-b4f5-0433ce0a93fa\r\n  [3]: http://rjohnsondev.github.io/java-libpst/com/pff/PSTMessageStore.html#getDisplayName--","title":"How can I get PST email address and name?","body":"<p>You have misinterpreted how PST files work. The <a href=\"https://learn.microsoft.com/en-us/openspecs/office_file_formats/ms-pst/aa0539bd-e7bf-4cec-8bde-0b87c2a86baf\" rel=\"nofollow noreferrer\">Message Store</a> contains very little data; in fact, <a href=\"https://learn.microsoft.com/en-us/openspecs/office_file_formats/ms-pst/5493a0eb-0356-4e88-b4f5-0433ce0a93fa\" rel=\"nofollow noreferrer\">only five properties</a> are required to be present. The Display Name (returned by <a href=\"http://rjohnsondev.github.io/java-libpst/com/pff/PSTMessageStore.html#getDisplayName--\" rel=\"nofollow noreferrer\">com.pff.PSTMessageStore.getDisplayName</a> is the name of the PST file, but data the mailbox owner's identity (including email address and full name) is not stored here or in any other place in the PST file.</p>\n"}],"owner":{"account_id":190607,"reputation":2765,"user_id":1053182,"accept_rate":48,"display_name":"Neelam Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1693996483,"creation_date":1418112841,"question_id":27374152,"body_markdown":"We are working on stuff that deal with PST, so we are trying to create using [java-libpst][1] sample code. It work fine for me, but we need to show the details of PST, like PST name, configured email account on given PST.\r\n\r\nI want to show email address and the name of given address of given PST.\r\n\r\n    public Test(String filename) {\r\n    \t\ttry {\r\n    \t\t\tPSTFile pstFile = new PSTFile(filename);\r\n                PSTFolder pstFolder=pstFile.getRootFolder();\r\n    \t\t\tSystem.out.println(pstFile.getMessageStore().getDisplayName());\r\n    \t\t\tprocessFolder(pstFile.getRootFolder());\r\n    \t\t} catch (Exception err) {\r\n    \t\t\terr.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n\r\n`pstFile.getMessageStore().getDisplayName()` show **imap.gmail.com** and we want two more thing like my email address configured is : mymail@gmail.com and name is : My Name.\r\n\r\nHow can I get this two properties using java-libpst?\r\n\r\n  [1]: https://code.google.com/p/java-libpst/","title":"How can I get PST email address and name?","body":"<p>We are working on stuff that deal with PST, so we are trying to create using <a href=\"https://code.google.com/p/java-libpst/\" rel=\"nofollow\">java-libpst</a> sample code. It work fine for me, but we need to show the details of PST, like PST name, configured email account on given PST.</p>\n\n<p>I want to show email address and the name of given address of given PST.</p>\n\n<pre><code>public Test(String filename) {\n        try {\n            PSTFile pstFile = new PSTFile(filename);\n            PSTFolder pstFolder=pstFile.getRootFolder();\n            System.out.println(pstFile.getMessageStore().getDisplayName());\n            processFolder(pstFile.getRootFolder());\n        } catch (Exception err) {\n            err.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p><code>pstFile.getMessageStore().getDisplayName()</code> show <strong>imap.gmail.com</strong> and we want two more thing like my email address configured is : mymail@gmail.com and name is : My Name.</p>\n\n<p>How can I get this two properties using java-libpst?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1693984028,"post_id":77049672,"comment_id":135829838,"body_markdown":"In your last line, you&#39;re combining successfully strings and variables. Why don&#39;t you do the same with the line with `ausgabedSqrt`?","body":"In your last line, you&#39;re combining successfully strings and variables. Why don&#39;t you do the same with the line with <code>ausgabedSqrt</code>?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1693984540,"post_id":77049672,"comment_id":135829907,"body_markdown":"Note that you are creating an excessive amount of `Scanner` objects. `System.in` is one input stream and you should create only one `Scanner` for reading it.","body":"Note that you are creating an excessive amount of <code>Scanner</code> objects. <code>System.in</code> is one input stream and you should create only one <code>Scanner</code> for reading it."}],"answers":[{"tags":[],"owner":{"account_id":18357258,"reputation":11,"user_id":13370035,"display_name":"Aman Chaturvedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693984965,"creation_date":1693984965,"answer_id":77049778,"question_id":77049672,"body_markdown":"Try creating a String or Integer/int variable (say decimalPlaces) and take its value from the user.\r\n\r\nThen, replace `&quot;%.5f&quot;` by `&quot;%.&quot; + decimalPlaces + &quot;f&quot;`\r\n\r\nYou can store this in a String like this:\r\n\r\n```\r\nString sf = &quot;%.&quot; + decimalPlaces + &quot;f&quot;;\r\n\r\nString AusgabedSqrt = String.format(sf, dSqrt);\r\n```\r\n","title":"Java String Format with Scanner Double","body":"<p>Try creating a String or Integer/int variable (say decimalPlaces) and take its value from the user.</p>\n<p>Then, replace <code>&quot;%.5f&quot;</code> by <code>&quot;%.&quot; + decimalPlaces + &quot;f&quot;</code></p>\n<p>You can store this in a String like this:</p>\n<pre><code>String sf = &quot;%.&quot; + decimalPlaces + &quot;f&quot;;\n\nString AusgabedSqrt = String.format(sf, dSqrt);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23587351,"reputation":60,"user_id":17625629,"display_name":"Vled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693985046,"creation_date":1693985046,"answer_id":77049789,"question_id":77049672,"body_markdown":"You can ask the user to enter the number of decimal digits, then use it to **create a String** that will be **passed as the format**.\r\n\r\n        System.out.println(&quot;Enter the number of decimal digits you want to round to: &quot;);\r\n        Scanner digitsScanner = new Scanner(System.in);\r\n        int digits = digitsScanner.nextInt();\r\n\r\n        String format = &quot;%.&quot; + digits + &quot;f&quot;;\r\n\r\n        // RIGHT HERE!\r\n        String AusgabedSqrt = String.format(format, dSqrt);\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T0aC6.png\r\n\r\n\r\nHope this helps !!","title":"Java String Format with Scanner Double","body":"<p>You can ask the user to enter the number of decimal digits, then use it to <strong>create a String</strong> that will be <strong>passed as the format</strong>.</p>\n<pre><code>    System.out.println(&quot;Enter the number of decimal digits you want to round to: &quot;);\n    Scanner digitsScanner = new Scanner(System.in);\n    int digits = digitsScanner.nextInt();\n\n    String format = &quot;%.&quot; + digits + &quot;f&quot;;\n\n    // RIGHT HERE!\n    String AusgabedSqrt = String.format(format, dSqrt);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/T0aC6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T0aC6.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope this helps !!</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693996364,"creation_date":1693991084,"answer_id":77050490,"question_id":77049672,"body_markdown":"&gt; _&quot;... I also want the user to enter how many decimal places should be calculated.\r\nI entered 5 as a placeholder. I want the `String.format` to only show the amount of decimal places entered in `sc2`.&quot;_\r\n\r\nI would just concatenate the values.\r\n\r\n```java\r\nString AusgabedSqrt = &quot;%%.%df&quot;.formatted((int) nKomma).formatted(dSqrt);\r\n```\r\n\r\nYou could also use the _[BigDecimal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html)_ class, to assure the decimal is computed.  \r\n\r\n```java\r\nSystem.out.printf(&quot;Bitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll! &quot;);\r\n\r\n//Scanner Funktionen\r\nScanner sc = new Scanner(System.in);\r\n\r\nSystem.out.println(&quot; &quot;);\r\nBigDecimal dVar = sc.nextBigDecimal().setScale(100, RoundingMode.HALF_UP);\r\nBigDecimal dSqrt = dVar.sqrt(MathContext.DECIMAL128);\r\n\r\n//Frage nach Nachkommastellen\r\n\r\nSystem.out.println(&quot;Bitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von %.1f&quot;.formatted(dVar) + &quot; Berechnet werden soll!&quot;);\r\nScanner sc2 = new Scanner(System.in);\r\nint nKomma = sc2.nextInt();\r\n\r\n// RIGHT HERE!\r\nString AusgabedSqrt = &quot;%%.%df&quot;.formatted(nKomma).formatted(dSqrt);\r\n// RIGHT HERE!\r\n\r\nSystem.out.println(&quot; &quot;);\r\nSystem.out.println(&quot;Die Quadratwurzel von %.1f&quot;.formatted(dVar) +\r\n                   &quot; ist: %%.%df&quot;.formatted(nKomma).formatted(dSqrt));\r\n```\r\nHere are two example input and outputs.\r\n\r\n```none\r\nBitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll!  \r\n2\r\nBitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von 2.0 Berechnet werden soll!\r\n10\r\n \r\nDie Quadratwurzel von 2.0 ist: 1.4142135624\r\n```\r\n\r\n```none\r\nBitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll!  \r\n9\r\nBitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von 9.0 Berechnet werden soll!\r\n5\r\n \r\nDie Quadratwurzel von 9.0 ist: 3.00000\r\n```","title":"Java String Format with Scanner Double","body":"<blockquote>\n<p><em>&quot;... I also want the user to enter how many decimal places should be calculated.\nI entered 5 as a placeholder. I want the <code>String.format</code> to only show the amount of decimal places entered in <code>sc2</code>.&quot;</em></p>\n</blockquote>\n<p>I would just concatenate the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String AusgabedSqrt = &quot;%%.%df&quot;.formatted((int) nKomma).formatted(dSqrt);\n</code></pre>\n<p>You could also use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a></em> class, to assure the decimal is computed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;Bitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll! &quot;);\n\n//Scanner Funktionen\nScanner sc = new Scanner(System.in);\n\nSystem.out.println(&quot; &quot;);\nBigDecimal dVar = sc.nextBigDecimal().setScale(100, RoundingMode.HALF_UP);\nBigDecimal dSqrt = dVar.sqrt(MathContext.DECIMAL128);\n\n//Frage nach Nachkommastellen\n\nSystem.out.println(&quot;Bitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von %.1f&quot;.formatted(dVar) + &quot; Berechnet werden soll!&quot;);\nScanner sc2 = new Scanner(System.in);\nint nKomma = sc2.nextInt();\n\n// RIGHT HERE!\nString AusgabedSqrt = &quot;%%.%df&quot;.formatted(nKomma).formatted(dSqrt);\n// RIGHT HERE!\n\nSystem.out.println(&quot; &quot;);\nSystem.out.println(&quot;Die Quadratwurzel von %.1f&quot;.formatted(dVar) +\n                   &quot; ist: %%.%df&quot;.formatted(nKomma).formatted(dSqrt));\n</code></pre>\n<p>Here are two example input and outputs.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Bitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll!  \n2\nBitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von 2.0 Berechnet werden soll!\n10\n \nDie Quadratwurzel von 2.0 ist: 1.4142135624\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Bitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll!  \n9\nBitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von 9.0 Berechnet werden soll!\n5\n \nDie Quadratwurzel von 9.0 ist: 3.00000\n</code></pre>\n"}],"owner":{"account_id":29362075,"reputation":3,"user_id":22496613,"display_name":"Johannes Achter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1693998375,"accepted_answer_id":77050490,"answer_count":3,"score":-1,"last_activity_date":1693996364,"creation_date":1693983915,"question_id":77049672,"body_markdown":"In this program the square root of the double `dVar` gets calculated. Everything&#39;s fine here.\r\n\r\n\r\n```java\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        System.out.printf(&quot;Bitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll! &quot;);\r\n\r\n        //Scanner Funktionen\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(new Scanner(System.in));\r\n\r\n        System.out.println(&quot; &quot;);\r\n        double dVar = sc.nextDouble();\r\n        double dSqrt = Math.sqrt(dVar);\r\n\r\n        //Frage nach Nachkommastellen\r\n\r\n        System.out.println(&quot;Bitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von &quot; + dVar + &quot; Berechnet werden soll!&quot;);\r\n        Scanner sc2 = new Scanner(System.in);\r\n        double nKomma = sc2.nextDouble();\r\n\r\n        // RIGHT HERE!\r\n        String AusgabedSqrt = String.format(&quot;%.5f&quot;, dSqrt);\r\n        // RIGHT HERE!\r\n\r\n        System.out.println(&quot; &quot;);\r\n        System.out.println(&quot;Die Quadratwurzel von &quot; + dVar + &quot; ist: &quot; + AusgabedSqrt);\r\n    }\r\n}\r\n```\r\n\r\n\r\nBut I also want the user to enter how many decimal places should be calculated.\r\nI entered 5 as a placeholder. I want the `String.format` to only show the amount of decimal places entered in `sc2`. ","title":"Java String Format with Scanner Double","body":"<p>In this program the square root of the double <code>dVar</code> gets calculated. Everything's fine here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        System.out.printf(&quot;Bitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll! &quot;);\n\n        //Scanner Funktionen\n        Scanner sc = new Scanner(System.in);\n        System.out.println(new Scanner(System.in));\n\n        System.out.println(&quot; &quot;);\n        double dVar = sc.nextDouble();\n        double dSqrt = Math.sqrt(dVar);\n\n        //Frage nach Nachkommastellen\n\n        System.out.println(&quot;Bitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von &quot; + dVar + &quot; Berechnet werden soll!&quot;);\n        Scanner sc2 = new Scanner(System.in);\n        double nKomma = sc2.nextDouble();\n\n        // RIGHT HERE!\n        String AusgabedSqrt = String.format(&quot;%.5f&quot;, dSqrt);\n        // RIGHT HERE!\n\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;Die Quadratwurzel von &quot; + dVar + &quot; ist: &quot; + AusgabedSqrt);\n    }\n}\n</code></pre>\n<p>But I also want the user to enter how many decimal places should be calculated.\nI entered 5 as a placeholder. I want the <code>String.format</code> to only show the amount of decimal places entered in <code>sc2</code>.</p>\n"},{"tags":["java","visual-studio-code","javafx","intellisense","openjfx"],"comments":[{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":2,"creation_date":1693269703,"post_id":76996609,"comment_id":135735535,"body_markdown":"JPMS module is not supported for the project without build tools right now. But you may have other options, see: &quot;JavaFX and Visual Studio Code&quot; in https://openjfx.io/openjfx-docs/","body":"JPMS module is not supported for the project without build tools right now. But you may have other options, see: &quot;JavaFX and Visual Studio Code&quot; in <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1693277533,"post_id":76996609,"comment_id":135736172,"body_markdown":"I don’t know VS code, but perhaps if you use a JDK that includes JavaFX like Azul Zulu JDK FX or BellSoft Liberica Full JDK, the Intellisense might work as you wish. That should require no VM options, IDE library settings or other configuration.","body":"I don’t know VS code, but perhaps if you use a JDK that includes JavaFX like Azul Zulu JDK FX or BellSoft Liberica Full JDK, the Intellisense might work as you wish. That should require no VM options, IDE library settings or other configuration."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":2,"creation_date":1693299265,"post_id":76996609,"comment_id":135738964,"body_markdown":"Does this [question](https://stackoverflow.com/questions/72625811/how-to-add-javafx-javadocs-to-vscode-when-not-using-build-tools) help?","body":"Does this <a href=\"https://stackoverflow.com/questions/72625811/how-to-add-javafx-javadocs-to-vscode-when-not-using-build-tools\">question</a> help?"},{"owner":{"account_id":26759950,"reputation":33,"user_id":20358077,"display_name":"StckSmsh"},"score":0,"creation_date":1693995798,"post_id":76996609,"comment_id":135832135,"body_markdown":"@JialeDu I have added the sources to the settings.json file as described in the question you linked, and it is now showing me javadocs for JavaFX. However it still says that the packages &quot;do not exist&quot; and that it &quot;Cannot find symbol&quot;s.","body":"@JialeDu I have added the sources to the settings.json file as described in the question you linked, and it is now showing me javadocs for JavaFX. However it still says that the packages &quot;do not exist&quot; and that it &quot;Cannot find symbol&quot;s."}],"owner":{"account_id":26759950,"reputation":33,"user_id":20358077,"display_name":"StckSmsh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1693996272,"creation_date":1693267086,"question_id":76996609,"body_markdown":"I have made an OpenJFX project and am running it with the following options:\r\n\r\n\r\n```sh\r\n--module-path ${JAVAFX_HOME} --add-modules=javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web\r\n```\r\n\r\nThis works as expected and creates the application upon running. The problem is with VSCode linting. It says that &quot;package javafx.application does not exist&quot; amongst other packages. Is there a way to point VSCode to the packages or something along those lines. How can I get intellisense to work with OpenJFX. \r\n\r\nI am running on Ubuntu 22.04.3 with java version openjdk 20.0.1.\r\n\r\nI have tried changing the classpath in VSCode and adding the jars to the referenced libraries.\r\n\r\nEdit:&lt;br&gt;\r\nAdded sources to settings.json as recommended by @JialeDu&lt;br&gt;\r\n```\r\n{\r\n    &quot;java.project.referencedLibraries&quot;: {\r\n        &quot;include&quot;: [\r\n            &quot;/usr/share/openjfx/lib/*.jar&quot;\r\n        ],\r\n        &quot;sources&quot;: {\r\n            &quot;/usr/share/openjfx/lib/javafx-swt.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.web.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.swing.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.media.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.graphics.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.fxml.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.controls.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.base.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;\r\n        }    \r\n    }\r\n}\r\n```\r\nI still have red lines under half of my code, even tough it runs properly\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f9nhp.png","title":"VSCode support for OpenJFX","body":"<p>I have made an OpenJFX project and am running it with the following options:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>--module-path ${JAVAFX_HOME} --add-modules=javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web\n</code></pre>\n<p>This works as expected and creates the application upon running. The problem is with VSCode linting. It says that &quot;package javafx.application does not exist&quot; amongst other packages. Is there a way to point VSCode to the packages or something along those lines. How can I get intellisense to work with OpenJFX.</p>\n<p>I am running on Ubuntu 22.04.3 with java version openjdk 20.0.1.</p>\n<p>I have tried changing the classpath in VSCode and adding the jars to the referenced libraries.</p>\n<p>Edit:<br>\nAdded sources to settings.json as recommended by @JialeDu<br></p>\n<pre><code>{\n    &quot;java.project.referencedLibraries&quot;: {\n        &quot;include&quot;: [\n            &quot;/usr/share/openjfx/lib/*.jar&quot;\n        ],\n        &quot;sources&quot;: {\n            &quot;/usr/share/openjfx/lib/javafx-swt.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.web.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.swing.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.media.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.graphics.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.fxml.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.controls.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.base.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;\n        }    \n    }\n}\n</code></pre>\n<p>I still have red lines under half of my code, even tough it runs properly\n<a href=\"https://i.stack.imgur.com/f9nhp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f9nhp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","logging"],"answers":[{"comments":[{"owner":{"account_id":310373,"reputation":2413,"user_id":623316,"display_name":"Jon Wolski"},"score":0,"creation_date":1558646369,"post_id":56272441,"comment_id":99180103,"body_markdown":"FWIW, I learned that there&#39;s also `with(MetadataKey&lt;T&gt;, T)`, which is slightly different from what I asked, but may do the job. https://groups.google.com/d/msg/flogger-discuss/J1pM68LpVvA/Y3pmcld-BQAJ","body":"FWIW, I learned that there&#39;s also <code>with(MetadataKey&lt;T&gt;, T)</code>, which is slightly different from what I asked, but may do the job. <a href=\"https://groups.google.com/d/msg/flogger-discuss/J1pM68LpVvA/Y3pmcld-BQAJ\" rel=\"nofollow noreferrer\">groups.google.com/d/msg/flogger-discuss/J1pM68LpVvA/&hellip;</a>"},{"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"score":1,"creation_date":1693534935,"post_id":56272441,"comment_id":135777179,"body_markdown":"As Flogger&#39;s author and designer, I don&#39;t ever recommend subclassing loggers (in fact I&#39;d have thought `FluentLogger` would be final, and if it isn&#39;t that&#39;s a bug).","body":"As Flogger&#39;s author and designer, I don&#39;t ever recommend subclassing loggers (in fact I&#39;d have thought <code>FluentLogger</code> would be final, and if it isn&#39;t that&#39;s a bug)."},{"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"score":1,"creation_date":1693535288,"post_id":56272441,"comment_id":135777206,"body_markdown":"Ah yes, `FluentLogger` is (correctly) a final class.","body":"Ah yes, <code>FluentLogger</code> is (correctly) a final class."}],"tags":[],"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1558604696,"creation_date":1558604696,"answer_id":56272441,"question_id":56262887,"body_markdown":"You create a new class (e.g. ``UserLogger``) that extends the Logger and implements your methods, and instantiate your logger with this class.\r\n```java\r\npublic class UserLogger extends FluentLogger {\r\n\r\n  public UserLogger forUser(Object userId) {\r\n    return super.log(&quot;User %s&quot;);\r\n  }\r\n...\r\n}","title":"How does one extend the Flogger fluent API for domain-specific attributes?","body":"<p>You create a new class (e.g. <code>UserLogger</code>) that extends the Logger and implements your methods, and instantiate your logger with this class.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class UserLogger extends FluentLogger {\n\n  public UserLogger forUser(Object userId) {\n    return super.log(\"User %s\");\n  }\n...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":310373,"reputation":2413,"user_id":623316,"display_name":"Jon Wolski"},"score":0,"creation_date":1693890088,"post_id":77020174,"comment_id":135815148,"body_markdown":"I appreciate the answer. This certainly shows me how to populate the context of a log record, but I don&#39;t understand if this enables me to make a fluent API for logging. It seems the keys and values are still arbitrary (as they should be in this API). I had hoped to further constrain the API to a specific schema with a fluent interface.","body":"I appreciate the answer. This certainly shows me how to populate the context of a log record, but I don&#39;t understand if this enables me to make a fluent API for logging. It seems the keys and values are still arbitrary (as they should be in this API). I had hoped to further constrain the API to a specific schema with a fluent interface."},{"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"score":1,"creation_date":1693994969,"post_id":77020174,"comment_id":135831989,"body_markdown":"Originally when I designed Flogger I was also thinking that it would be good to have the ability to constrain the API in interesting ways for different use cases, but over time I&#39;ve changed my mind somewhat. The cost of seeing distinct logging APIs (in terms of core API methods) is a non-trivial cognitive load on developers. It means you need to migrate log statements as code is refactored between code, and it causes issues when two or more use cases clash in the same code.","body":"Originally when I designed Flogger I was also thinking that it would be good to have the ability to constrain the API in interesting ways for different use cases, but over time I&#39;ve changed my mind somewhat. The cost of seeing distinct logging APIs (in terms of core API methods) is a non-trivial cognitive load on developers. It means you need to migrate log statements as code is refactored between code, and it causes issues when two or more use cases clash in the same code."}],"tags":[],"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693996099,"creation_date":1693535201,"answer_id":77020174,"question_id":56262887,"body_markdown":"Use `ScopedLoggingContexts` to add the metadata to every log statement automatically within a scoped context.\r\n\r\nThat way you don&#39;t need to change any existing log statements and it will even work for Flogger log statements in library code you might be using.\r\n\r\n```java\r\nScopedLoggingContexts.newContext().withMetadata(TASK_KEY, value).run(mySubTask(...));\r\n```\r\n\r\nor with the simpler &quot;tags&quot; mechanism:\r\n\r\n```java\r\nScopedLoggingContexts.newContext().withTags(Tags.of(&quot;label&quot;, &quot;value&quot;)).run(mySubTask(...));\r\n```\r\n\r\nYou can also use contexts to do things like enable extra logging during debugging on a per-request basis.\r\n\r\nSee my new site dedicated to providing better Flogger documentation:&lt;br&gt;\r\nhttps://hagbard.github.io/the-flogger-manual/advanced/#metadata-contexts-and-scopes\r\n\r\nUpdate (discussing `MetadataKey` and extending the API):\r\n\r\nThe other way to get slightly more type safety with the API is to use `MetadataKey` instead of `Tags`. A `MetadataKey` is strongly typed, accepts any value type, and can be customized (by making subclasses of `MetadataKey`) as to what it emits.\r\n\r\n```java\r\nlogger.atInfo().forUser(userId).withSession(sessionId).withCart(cartId).log(&quot;product added to cart: %s&quot;, productId);\r\n```\r\n\r\ncould then be:\r\n\r\n```java\r\nlogger.atInfo().with(SESSION_ID, session).log(&quot;product added to cart: %s&quot;, productId);\r\n```\r\n\r\nwhere `SESSION_ID` is a `MetadataKey&lt;SessionInfo&gt;`, which contains the user, session and cart IDs. And if the key is a subclass with the `emit()` method overridden, it can control how the IDs are presented.\r\n\r\nBut if session information is something you want to add to every log statement, save yourself a lot of hassle and use `ScopedLoggingContents` to add it (automatically) to every log statement in the session.\r\n\r\nHowever, if you really want to, you can also create your own subclass of `AbstractLogger` with an extended API (this is what `GoogleLogger` is). This lets you change things like parsing, formatting, and the available API methods.\r\n\r\nIf you do this however, you probably still want to avoid using that custom logger in common libraries since it forces a new dependency on users. My philosophy in Google was always that &quot;if you really have a great use case that&#39;s helping your project do logging better, we should just roll it into the core library rather than having teams each make their own APIs&quot;. Logging is a very cross cutting concern and it&#39;s unlikely one project will have a problem nobody else has.\r\n\r\nIn Google many hundreds of projects use Flogger, and only one or two ever had a sufficiently distinct use case which made it worth extending the core API itself. API extension, while &quot;cool&quot; was considered a &quot;last resort&quot; due to the extra maintenance burden it created.\r\n\r\nOne *BIG* warning about extending the API however is that it opens you up to a new class of breaking changes (i.e. if Flogger ever also happens to pick a new API method with the same name/signature). So, make sure to name new methods with names that are very unlikely to be useful in the core API.","title":"How does one extend the Flogger fluent API for domain-specific attributes?","body":"<p>Use <code>ScopedLoggingContexts</code> to add the metadata to every log statement automatically within a scoped context.</p>\n<p>That way you don't need to change any existing log statements and it will even work for Flogger log statements in library code you might be using.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ScopedLoggingContexts.newContext().withMetadata(TASK_KEY, value).run(mySubTask(...));\n</code></pre>\n<p>or with the simpler &quot;tags&quot; mechanism:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ScopedLoggingContexts.newContext().withTags(Tags.of(&quot;label&quot;, &quot;value&quot;)).run(mySubTask(...));\n</code></pre>\n<p>You can also use contexts to do things like enable extra logging during debugging on a per-request basis.</p>\n<p>See my new site dedicated to providing better Flogger documentation:<br>\n<a href=\"https://hagbard.github.io/the-flogger-manual/advanced/#metadata-contexts-and-scopes\" rel=\"nofollow noreferrer\">https://hagbard.github.io/the-flogger-manual/advanced/#metadata-contexts-and-scopes</a></p>\n<p>Update (discussing <code>MetadataKey</code> and extending the API):</p>\n<p>The other way to get slightly more type safety with the API is to use <code>MetadataKey</code> instead of <code>Tags</code>. A <code>MetadataKey</code> is strongly typed, accepts any value type, and can be customized (by making subclasses of <code>MetadataKey</code>) as to what it emits.</p>\n<pre class=\"lang-java prettyprint-override\"><code>logger.atInfo().forUser(userId).withSession(sessionId).withCart(cartId).log(&quot;product added to cart: %s&quot;, productId);\n</code></pre>\n<p>could then be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>logger.atInfo().with(SESSION_ID, session).log(&quot;product added to cart: %s&quot;, productId);\n</code></pre>\n<p>where <code>SESSION_ID</code> is a <code>MetadataKey&lt;SessionInfo&gt;</code>, which contains the user, session and cart IDs. And if the key is a subclass with the <code>emit()</code> method overridden, it can control how the IDs are presented.</p>\n<p>But if session information is something you want to add to every log statement, save yourself a lot of hassle and use <code>ScopedLoggingContents</code> to add it (automatically) to every log statement in the session.</p>\n<p>However, if you really want to, you can also create your own subclass of <code>AbstractLogger</code> with an extended API (this is what <code>GoogleLogger</code> is). This lets you change things like parsing, formatting, and the available API methods.</p>\n<p>If you do this however, you probably still want to avoid using that custom logger in common libraries since it forces a new dependency on users. My philosophy in Google was always that &quot;if you really have a great use case that's helping your project do logging better, we should just roll it into the core library rather than having teams each make their own APIs&quot;. Logging is a very cross cutting concern and it's unlikely one project will have a problem nobody else has.</p>\n<p>In Google many hundreds of projects use Flogger, and only one or two ever had a sufficiently distinct use case which made it worth extending the core API itself. API extension, while &quot;cool&quot; was considered a &quot;last resort&quot; due to the extra maintenance burden it created.</p>\n<p>One <em>BIG</em> warning about extending the API however is that it opens you up to a new class of breaking changes (i.e. if Flogger ever also happens to pick a new API method with the same name/signature). So, make sure to name new methods with names that are very unlikely to be useful in the core API.</p>\n"}],"owner":{"account_id":310373,"reputation":2413,"user_id":623316,"display_name":"Jon Wolski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77020174,"answer_count":2,"score":1,"last_activity_date":1693996099,"creation_date":1558549607,"question_id":56262887,"body_markdown":"Suppose in my domain, every log statement occurs in the context of a Web request and every request has the context of a user ID, session ID, and cart ID.\r\n\r\nRather than log something like the following:\r\n\r\n    logger.atInfo().log(&quot;User %s (session: %s) added product %s to cart %s.&quot;, userId, sessionId, productId, cartId);\r\n\r\n\r\nI would prefer something more structured like the following:\r\n\r\n    logger.atInfo().forUser(userId).withSession(sessionId).withCart(cartId).log(&quot;product added to cart: %s&quot;, productId);\r\n\r\nor better yet\r\n\r\n    logger.atInfo().forUser(userId).withSession(sessionId).withCart(cartId).product(productId).action(PRODUCT_ADDED).log();\r\n\r\nhttps://google.github.io/flogger/benefits#extensibility seems to imply this is possible, but I don&#39;t see where.\r\n\r\nMy hope is that my logging back-end can send a JSON serialization of this info to my ELK stack.","title":"How does one extend the Flogger fluent API for domain-specific attributes?","body":"<p>Suppose in my domain, every log statement occurs in the context of a Web request and every request has the context of a user ID, session ID, and cart ID.</p>\n\n<p>Rather than log something like the following:</p>\n\n<pre><code>logger.atInfo().log(\"User %s (session: %s) added product %s to cart %s.\", userId, sessionId, productId, cartId);\n</code></pre>\n\n<p>I would prefer something more structured like the following:</p>\n\n<pre><code>logger.atInfo().forUser(userId).withSession(sessionId).withCart(cartId).log(\"product added to cart: %s\", productId);\n</code></pre>\n\n<p>or better yet</p>\n\n<pre><code>logger.atInfo().forUser(userId).withSession(sessionId).withCart(cartId).product(productId).action(PRODUCT_ADDED).log();\n</code></pre>\n\n<p><a href=\"https://google.github.io/flogger/benefits#extensibility\" rel=\"nofollow noreferrer\">https://google.github.io/flogger/benefits#extensibility</a> seems to imply this is possible, but I don't see where.</p>\n\n<p>My hope is that my logging back-end can send a JSON serialization of this info to my ELK stack.</p>\n"},{"tags":["java","android","android-studio","kotlin","screen-orientation"],"comments":[{"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"score":4,"creation_date":1509728555,"post_id":47100741,"comment_id":81151951,"body_markdown":"If you are using android studio (3.0 +), go to `Code` -&gt; `Convert Java File to Kotlin File`, or simply copy-paste the code in a kotlin file","body":"If you are using android studio (3.0 +), go to <code>Code</code> -&gt; <code>Convert Java File to Kotlin File</code>, or simply copy-paste the code in a kotlin file"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1559115171,"post_id":47100741,"comment_id":99314665,"body_markdown":"Currently copy-paste often doesn&#39;t convert.","body":"Currently copy-paste often doesn&#39;t convert."},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1559115216,"post_id":47100741,"comment_id":99314689,"body_markdown":"See https://stackoverflow.com/questions/34588117/how-can-i-convert-a-part-of-java-source-file-to-kotlin.","body":"See <a href=\"https://stackoverflow.com/questions/34588117/how-can-i-convert-a-part-of-java-source-file-to-kotlin\" title=\"how can i convert a part of java source file to kotlin\">stackoverflow.com/questions/34588117/&hellip;</a>."},{"owner":{"account_id":9022704,"reputation":164,"user_id":6723193,"display_name":"Amg91"},"score":0,"creation_date":1579550269,"post_id":47100741,"comment_id":105796640,"body_markdown":"Check [this](https://stackoverflow.com/a/47125184/6723193) out.","body":"Check <a href=\"https://stackoverflow.com/a/47125184/6723193\">this</a> out."}],"answers":[{"tags":[],"owner":{"account_id":366024,"reputation":2524,"user_id":711299,"accept_rate":71,"display_name":"lase"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1509728568,"creation_date":1509728568,"answer_id":47100958,"question_id":47100741,"body_markdown":"If you&#39;ve got Kotlin already configured in your Android Studio project, you can follow the steps outlined here to automatically convert with the instructions [here][1]. \r\n\r\nFrom the site:\r\n\r\n - On the main menu, point to Code menu.\r\n - Choose Convert Java File to Kotlin File.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2016.3/converting-a-java-file-to-kotlin-file.html &quot;Jetbrains Help&quot;","title":"Converting code from Java to Kotlin in Android Studio","body":"<p>If you've got Kotlin already configured in your Android Studio project, you can follow the steps outlined here to automatically convert with the instructions <a href=\"https://www.jetbrains.com/help/idea/2016.3/converting-a-java-file-to-kotlin-file.html\" rel=\"noreferrer\" title=\"Jetbrains Help\">here</a>. </p>\n\n<p>From the site:</p>\n\n<ul>\n<li>On the main menu, point to Code menu.</li>\n<li>Choose Convert Java File to Kotlin File.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1442869,"reputation":2289,"user_id":1362418,"accept_rate":57,"display_name":"Khaled Saifullah"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1573556841,"creation_date":1573556841,"answer_id":58817408,"question_id":47100741,"body_markdown":"If you are using **android studio 3.5+**, Just select your java file from your package, right click on it and select **Convert Java file to Kotlin file** from the bottom of popup menu","title":"Converting code from Java to Kotlin in Android Studio","body":"<p>If you are using <strong>android studio 3.5+</strong>, Just select your java file from your package, right click on it and select <strong>Convert Java file to Kotlin file</strong> from the bottom of popup menu</p>\n"},{"tags":[],"owner":{"account_id":2053243,"reputation":833,"user_id":1831722,"accept_rate":56,"display_name":"vesperto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693995750,"creation_date":1693995750,"answer_id":77051037,"question_id":47100741,"body_markdown":"If you just want to convert a code block and not a whole file, see [this answer](https://stackoverflow.com/a/43308666/1831722) (TL;DR using a Java scratch file let&#39;s your code be interpreted as such by the IDE and when pasting will trigger the _Do you want to convert to Kotlin?_ pop-up).","title":"Converting code from Java to Kotlin in Android Studio","body":"<p>If you just want to convert a code block and not a whole file, see <a href=\"https://stackoverflow.com/a/43308666/1831722\">this answer</a> (TL;DR using a Java scratch file let's your code be interpreted as such by the IDE and when pasting will trigger the <em>Do you want to convert to Kotlin?</em> pop-up).</p>\n"}],"owner":{"account_id":11059864,"reputation":153,"user_id":8121548,"accept_rate":25,"display_name":"Flugrek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17736,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1693995750,"creation_date":1509727721,"question_id":47100741,"body_markdown":"Can anyone explain how to replace existing Java code with Kotlin within Android Studio?","title":"Converting code from Java to Kotlin in Android Studio","body":"<p>Can anyone explain how to replace existing Java code with Kotlin within Android Studio?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":13894074,"reputation":123,"user_id":10031362,"display_name":"WorkingAccount"},"score":0,"creation_date":1693993661,"post_id":77050629,"comment_id":135831700,"body_markdown":"Thank you for the fast reply.  Considering the getOne-method always returns a lazy proxy, the test case earlier only worked out of luck.\n\nAs a fix, i&#39;ll change the test to test for existence by ID. It should satisfy the test. \n\nHave a great day :)","body":"Thank you for the fast reply.  Considering the getOne-method always returns a lazy proxy, the test case earlier only worked out of luck.  As a fix, i&#39;ll change the test to test for existence by ID. It should satisfy the test.   Have a great day :)"}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693992098,"creation_date":1693992098,"answer_id":77050629,"question_id":77050233,"body_markdown":"That seems not to be related to Hibernate 6:\r\n\r\n\r\n`repository.getOne(storedSample.getId())` method returns proxy object, actually not backed up by live entity, so any interaction with such proxy object is expected to fail with `EntityNotFoundException`, but the problem is your test case is actually checking junit assertions module. \r\n\r\n[Previous implementation](https://github.com/junit-team/junit5/commit/e91e5dc26b86d0fc0a92f747f0b5dcdc9e5fbec2#diff-56e4e14d0fd342fdb67f149ee65409cc54635a57fd382ce4dc166c9abef47fdbL48) of `assertNull` method was trying to report assertion failure via:\r\n\r\n```java\r\nString stringRepresentation = actual.toString();\r\nif (stringRepresentation == null || stringRepresentation.equals(&quot;null&quot;)) {\r\n    fail(format(null, actual, message), null, actual);\r\n} else {\r\n    fail(buildPrefix(message) + &quot;expected: &lt;null&gt; but was: &lt;&quot; + actual + &quot;&gt;&quot;, null, actual);\r\n}\r\n```\r\n\r\nwhere `actual.toString()` call was throwing `EntityNotFoundException`, now junit calls `#toString()` method using [more accurate way](https://github.com/junit-team/junit5/blob/cb3445283961678a18ada304d7a33aba4cc6736d/junit-platform-commons/src/main/java/org/junit/platform/commons/util/StringUtils.java#L197):\r\n\r\n```java\r\ncatch (Throwable throwable) {\r\n  UnrecoverableExceptions.rethrowIfUnrecoverable(throwable);\r\n\r\n  return defaultToString(obj);\r\n}\r\n```","title":"Hibernate does not throw EntityNotFoundException after deleting Entity","body":"<p>That seems not to be related to Hibernate 6:</p>\n<p><code>repository.getOne(storedSample.getId())</code> method returns proxy object, actually not backed up by live entity, so any interaction with such proxy object is expected to fail with <code>EntityNotFoundException</code>, but the problem is your test case is actually checking junit assertions module.</p>\n<p><a href=\"https://github.com/junit-team/junit5/commit/e91e5dc26b86d0fc0a92f747f0b5dcdc9e5fbec2#diff-56e4e14d0fd342fdb67f149ee65409cc54635a57fd382ce4dc166c9abef47fdbL48\" rel=\"nofollow noreferrer\">Previous implementation</a> of <code>assertNull</code> method was trying to report assertion failure via:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String stringRepresentation = actual.toString();\nif (stringRepresentation == null || stringRepresentation.equals(&quot;null&quot;)) {\n    fail(format(null, actual, message), null, actual);\n} else {\n    fail(buildPrefix(message) + &quot;expected: &lt;null&gt; but was: &lt;&quot; + actual + &quot;&gt;&quot;, null, actual);\n}\n</code></pre>\n<p>where <code>actual.toString()</code> call was throwing <code>EntityNotFoundException</code>, now junit calls <code>#toString()</code> method using <a href=\"https://github.com/junit-team/junit5/blob/cb3445283961678a18ada304d7a33aba4cc6736d/junit-platform-commons/src/main/java/org/junit/platform/commons/util/StringUtils.java#L197\" rel=\"nofollow noreferrer\">more accurate way</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>catch (Throwable throwable) {\n  UnrecoverableExceptions.rethrowIfUnrecoverable(throwable);\n\n  return defaultToString(obj);\n}\n</code></pre>\n"}],"owner":{"account_id":13894074,"reputation":123,"user_id":10031362,"display_name":"WorkingAccount"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77050629,"answer_count":1,"score":1,"last_activity_date":1693994086,"creation_date":1693989067,"question_id":77050233,"body_markdown":"In our Spring application, we use a set of generic repository tests to validate our most basic use cases for using Spring repositories. One of those tests validates that an EntityNotFoundException is thrown if you try to get a previously deleted entity.\r\n\r\nBefore our migration to Spring Boot 3 and Hibernate 6, these tests worked correctly, but after the update, the expected exception was not thrown anymore.\r\n\r\nYou can reproduce this behavior with the following setup:\r\n\r\n 1. Entity.java (A simple Entity) \r\n```\r\npackage de.test.hibernate_delete.repository;\r\nimport jakarta.persistence.*;\r\n@jakarta.persistence.Entity\r\n@Table(name = &quot;entity&quot;)\r\npublic class Entity {\r\n    @Id @GeneratedValue(strategy = GenerationType.SEQUENCE) Long id;\r\n    @Version long version;\r\n    @Column(name = &quot;data&quot;) String data;\r\n    public Entity(String data) {this.data = data;}\r\n    public Entity() {}\r\n    public Long getId() {return id;}\r\n    public void setId(Long id) {this.id = id;}\r\n    public long getVersion() {return version;}\r\n    public void setVersion(long version) {this.version = version;}\r\n    public String getData() {return data;}\r\n    public void setData(String data) {this.data = data;}\r\n}\r\n\r\n```\r\n 2. EntiryRepository.java (A simple JpaRepository)\r\n```\r\npackage de.test.hibernate_delete.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface EntityRepository extends JpaRepository&lt;Entity, Long&gt; {\r\n}\r\n\r\n```\r\n 3. EntityDeleteTest.java (The testcase resulting in the error)\r\n```\r\npackage de.test.hibernate_delete;\r\n\r\nimport de.test.hibernate_delete.repository.Entity;\r\nimport de.test.hibernate_delete.repository.EntityRepository;\r\nimport jakarta.persistence.EntityNotFoundException;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(classes = HibernateDeleteApplication.class)\r\npublic class EntityDeleteTest {\r\n    @Autowired private EntityRepository repository;\r\n    @Test public void testDelete() {\r\n        Entity storedSample = repository.saveAndFlush(new Entity(&quot;data&quot;));\r\n        assertNotNull(storedSample.getId());\r\n        repository.delete(storedSample);\r\n        repository.flush();\r\n        assertThrows(EntityNotFoundException.class, () -&gt; assertNull(repository.getOne(storedSample.getId())));\r\n    }\r\n}\r\n```\r\n\r\nThe test results in the following fail-message:\r\n\r\n    org.opentest4j.AssertionFailedError: Unexpected exception type thrown, \r\n    Expected :class jakarta.persistence.EntityNotFoundException\r\n    Actual   :class org.opentest4j.AssertionFailedError\r\n\r\nI have also pushed my minimal example to a github repo: https://github.com/LorenzSLA/hibernate_delete_minimal_exampel\r\nThe failed test can be seen in this GitHub Actions Build: https://github.com/LorenzSLA/hibernate_delete_minimal_exampel/actions/runs/6094606983/job/16536481715\r\n\r\n*Has anyone had similar problems after migrating to Spring Boot 3?*\r\n\r\n## Update:\r\nThanks to [Andreys comment](https://stackoverflow.com/a/77050629/10031362) I changed the test case:\r\n\r\n```\r\n\t@Test\r\n\tpublic void testDelete() {\r\n\t\tT storedSample = getRepository().saveAndFlush(getSample());\r\n\t\tassertNotNull(storedSample.getId());\r\n\t\tgetRepository().delete(storedSample);\r\n\t\tgetRepository().flush();\r\n\r\n\t\tassertFalse(getRepository().existsById(storedSample.getId()));\r\n\t}\r\n```","title":"Hibernate does not throw EntityNotFoundException after deleting Entity","body":"<p>In our Spring application, we use a set of generic repository tests to validate our most basic use cases for using Spring repositories. One of those tests validates that an EntityNotFoundException is thrown if you try to get a previously deleted entity.</p>\n<p>Before our migration to Spring Boot 3 and Hibernate 6, these tests worked correctly, but after the update, the expected exception was not thrown anymore.</p>\n<p>You can reproduce this behavior with the following setup:</p>\n<ol>\n<li>Entity.java (A simple Entity)</li>\n</ol>\n<pre><code>package de.test.hibernate_delete.repository;\nimport jakarta.persistence.*;\n@jakarta.persistence.Entity\n@Table(name = &quot;entity&quot;)\npublic class Entity {\n    @Id @GeneratedValue(strategy = GenerationType.SEQUENCE) Long id;\n    @Version long version;\n    @Column(name = &quot;data&quot;) String data;\n    public Entity(String data) {this.data = data;}\n    public Entity() {}\n    public Long getId() {return id;}\n    public void setId(Long id) {this.id = id;}\n    public long getVersion() {return version;}\n    public void setVersion(long version) {this.version = version;}\n    public String getData() {return data;}\n    public void setData(String data) {this.data = data;}\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>EntiryRepository.java (A simple JpaRepository)</li>\n</ol>\n<pre><code>package de.test.hibernate_delete.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface EntityRepository extends JpaRepository&lt;Entity, Long&gt; {\n}\n\n</code></pre>\n<ol start=\"3\">\n<li>EntityDeleteTest.java (The testcase resulting in the error)</li>\n</ol>\n<pre><code>package de.test.hibernate_delete;\n\nimport de.test.hibernate_delete.repository.Entity;\nimport de.test.hibernate_delete.repository.EntityRepository;\nimport jakarta.persistence.EntityNotFoundException;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = HibernateDeleteApplication.class)\npublic class EntityDeleteTest {\n    @Autowired private EntityRepository repository;\n    @Test public void testDelete() {\n        Entity storedSample = repository.saveAndFlush(new Entity(&quot;data&quot;));\n        assertNotNull(storedSample.getId());\n        repository.delete(storedSample);\n        repository.flush();\n        assertThrows(EntityNotFoundException.class, () -&gt; assertNull(repository.getOne(storedSample.getId())));\n    }\n}\n</code></pre>\n<p>The test results in the following fail-message:</p>\n<pre><code>org.opentest4j.AssertionFailedError: Unexpected exception type thrown, \nExpected :class jakarta.persistence.EntityNotFoundException\nActual   :class org.opentest4j.AssertionFailedError\n</code></pre>\n<p>I have also pushed my minimal example to a github repo: <a href=\"https://github.com/LorenzSLA/hibernate_delete_minimal_exampel\" rel=\"nofollow noreferrer\">https://github.com/LorenzSLA/hibernate_delete_minimal_exampel</a>\nThe failed test can be seen in this GitHub Actions Build: <a href=\"https://github.com/LorenzSLA/hibernate_delete_minimal_exampel/actions/runs/6094606983/job/16536481715\" rel=\"nofollow noreferrer\">https://github.com/LorenzSLA/hibernate_delete_minimal_exampel/actions/runs/6094606983/job/16536481715</a></p>\n<p><em>Has anyone had similar problems after migrating to Spring Boot 3?</em></p>\n<h2>Update:</h2>\n<p>Thanks to <a href=\"https://stackoverflow.com/a/77050629/10031362\">Andreys comment</a> I changed the test case:</p>\n<pre><code>    @Test\n    public void testDelete() {\n        T storedSample = getRepository().saveAndFlush(getSample());\n        assertNotNull(storedSample.getId());\n        getRepository().delete(storedSample);\n        getRepository().flush();\n\n        assertFalse(getRepository().existsById(storedSample.getId()));\n    }\n</code></pre>\n"},{"tags":["java","swagger","swagger-ui","vert.x"],"answers":[{"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693993910,"creation_date":1693993910,"answer_id":77050839,"question_id":77050265,"body_markdown":"If you look into the `*-bundle.js`-files in browser, you will see that at the `262464` line there are some invalid characters.\r\nThis is a consequence of the encoding problem on your machine. I.e. the `StaticHandler` delivers the resources with header `Content-Type` of e.g. `text/html;charset=Windows1251` instead of `UTF-8`.\r\n\r\nTo fix this problem I added a system property into my Gradle config:\r\n```\r\nplugins {\r\n  id &#39;application&#39;\r\n}\r\n\r\napplicationDefaultJvmArgs = [ \r\n  &#39;-Dfile.encoding=UTF-8&#39;,\r\n]\r\n```\r\nOther options of setting file encoding are [described here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding","title":"Swagger UI not loading in Vert.X with Java","body":"<p>If you look into the <code>*-bundle.js</code>-files in browser, you will see that at the <code>262464</code> line there are some invalid characters.\nThis is a consequence of the encoding problem on your machine. I.e. the <code>StaticHandler</code> delivers the resources with header <code>Content-Type</code> of e.g. <code>text/html;charset=Windows1251</code> instead of <code>UTF-8</code>.</p>\n<p>To fix this problem I added a system property into my Gradle config:</p>\n<pre><code>plugins {\n  id 'application'\n}\n\napplicationDefaultJvmArgs = [ \n  '-Dfile.encoding=UTF-8',\n]\n</code></pre>\n<p>Other options of setting file encoding are <a href=\"https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding\">described here</a></p>\n"}],"owner":{"account_id":14262420,"reputation":23,"user_id":10302726,"display_name":"Soumak Poddar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693993910,"creation_date":1693989343,"question_id":77050265,"body_markdown":"I have copied all files from https://github.com/swagger-api/swagger-ui/tree/master/dist in my resources/webroot folder. When I try to open Swagger UI on chrome I get these 3 errors with blank white screen. Also static handler is created to point at this folder.\r\n\r\n```\r\nrouter.route(&quot;/doc/*&quot;).handler(StaticHandler.create().setCachingEnabled(false).setWebRoot(&quot;webroot&quot;));\r\n```\r\n\r\n[![enter image description here](https://i.stack.imgur.com/aGw1w.png)](https://i.stack.imgur.com/aGw1w.png)","title":"Swagger UI not loading in Vert.X with Java","body":"<p>I have copied all files from <a href=\"https://github.com/swagger-api/swagger-ui/tree/master/dist\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-ui/tree/master/dist</a> in my resources/webroot folder. When I try to open Swagger UI on chrome I get these 3 errors with blank white screen. Also static handler is created to point at this folder.</p>\n<pre><code>router.route(&quot;/doc/*&quot;).handler(StaticHandler.create().setCachingEnabled(false).setWebRoot(&quot;webroot&quot;));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aGw1w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aGw1w.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","glassfish","guice","jersey-2.0","jersey-1.0"],"answers":[{"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693993374,"creation_date":1693993374,"answer_id":77050779,"question_id":76914923,"body_markdown":"Jersey 2 relies on HK2 with injection. It is the [HK2-Guice bridge][1] that serves as a support for Guice integration if needed in Jersey 2.\r\n\r\n\r\n  [1]: https://javaee.github.io/hk2/guice-bridge.html","title":"With what to replace com.sun.jersey.guice.spi.container.servlet.GuiceContainer in Jersey version 2?","body":"<p>Jersey 2 relies on HK2 with injection. It is the <a href=\"https://javaee.github.io/hk2/guice-bridge.html\" rel=\"nofollow noreferrer\">HK2-Guice bridge</a> that serves as a support for Guice integration if needed in Jersey 2.</p>\n"}],"owner":{"account_id":14573074,"reputation":15,"user_id":10525801,"display_name":"Lia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693993374,"creation_date":1692198754,"question_id":76914923,"body_markdown":"I have a Java web application using Google Guice as a framework which is currently on Java 8, and I need to upgrade it to Java 17. I am currently replacing all old classes from com.sun.jersey version 1.19.4 to org.glassfish.jersey.core version 2.35 which is compatible with Java 17. I have a class which extends GuiceServletContextListener, and in this class I configure jersey. So I have this statement declared in the class which uses GuiceContainer from import com.sun.jersey.guice.spi.container.servlet.GuiceContainer;\r\n\r\n```Java\r\n            serve(&quot;/test/*&quot;).with(GuiceContainer.class, jerseyParams);\r\n```\r\n\r\nThe GuiceContainer is not available in jersey version 2. So I do not know how to replace it with something else in order for the application to run.Or do I need to implement something custom in order for this serve to work\r\n\r\nI tried looking for feasible solutions or ideas on how to replace the GuiceContainer but I could not find anything which could help me in any way. I could not find anything similar on stackOverflow.","title":"With what to replace com.sun.jersey.guice.spi.container.servlet.GuiceContainer in Jersey version 2?","body":"<p>I have a Java web application using Google Guice as a framework which is currently on Java 8, and I need to upgrade it to Java 17. I am currently replacing all old classes from com.sun.jersey version 1.19.4 to org.glassfish.jersey.core version 2.35 which is compatible with Java 17. I have a class which extends GuiceServletContextListener, and in this class I configure jersey. So I have this statement declared in the class which uses GuiceContainer from import com.sun.jersey.guice.spi.container.servlet.GuiceContainer;</p>\n<pre><code>            serve(&quot;/test/*&quot;).with(GuiceContainer.class, jerseyParams);\n</code></pre>\n<p>The GuiceContainer is not available in jersey version 2. So I do not know how to replace it with something else in order for the application to run.Or do I need to implement something custom in order for this serve to work</p>\n<p>I tried looking for feasible solutions or ideas on how to replace the GuiceContainer but I could not find anything which could help me in any way. I could not find anything similar on stackOverflow.</p>\n"},{"tags":["java","linux","opendj","cacerts"],"answers":[{"tags":[],"owner":{"account_id":383083,"reputation":4808,"user_id":738708,"display_name":"Ludovic Poitou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692172257,"creation_date":1692172257,"answer_id":76911535,"question_id":76874945,"body_markdown":"A change in JavaVM shouldn&#39;t affect the admin truststore which is located under the opends folder.\r\nI would suggest that you try to use the Java SSL debugging flag to obtain a more specific error message that will help you understand where the issue lies (for details see https://ludopoitou.com/2011/06/29/opendj-troubleshooting-ldap-ssl-connections/).\r\n","title":"OpenDJ Administration Port (4444) not able to authenticate Default User(Directory Manager) /any user","body":"<p>A change in JavaVM shouldn't affect the admin truststore which is located under the opends folder.\nI would suggest that you try to use the Java SSL debugging flag to obtain a more specific error message that will help you understand where the issue lies (for details see <a href=\"https://ludopoitou.com/2011/06/29/opendj-troubleshooting-ldap-ssl-connections/\" rel=\"nofollow noreferrer\">https://ludopoitou.com/2011/06/29/opendj-troubleshooting-ldap-ssl-connections/</a>).</p>\n"},{"tags":[],"owner":{"account_id":29378092,"reputation":11,"user_id":22509208,"display_name":"Rajthilak Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693992644,"creation_date":1693992644,"answer_id":77050702,"question_id":76874945,"body_markdown":"I was having the same issue:\r\n\r\n2 things to resolve:\r\n\r\n1. disable ipv6( not sure was this the reason)\r\n2. on java (conf/java.security) comment out the jdk.tls.disabledAlgorithms","title":"OpenDJ Administration Port (4444) not able to authenticate Default User(Directory Manager) /any user","body":"<p>I was having the same issue:</p>\n<p>2 things to resolve:</p>\n<ol>\n<li>disable ipv6( not sure was this the reason)</li>\n<li>on java (conf/java.security) comment out the jdk.tls.disabledAlgorithms</li>\n</ol>\n"}],"owner":{"account_id":9657790,"reputation":35,"user_id":7166828,"display_name":"salim ep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693992644,"creation_date":1691663925,"question_id":76874945,"body_markdown":"Dears,\r\n\r\nCould you advise me on below situation, am having an issue with OpenDJ DS after change JVM to OpenJDK\r\nseems like the admin-certs has been removed from trusted store in Java \r\ncould you advise how we can recreate admin connector/certs in OpenDJ without re installing\r\n\r\n\r\n\r\nconfig.ldif\r\n\r\n```\r\ndn: cn=Administration Connector,cn=config\r\nobjectClass: top\r\nobjectClass: ds-cfg-administration-connector\r\nds-cfg-trust-manager-provider: cn=Administration,cn=Trust Manager Providers,cn=config\r\ncn: Administration Connector\r\nds-cfg-key-manager-provider: cn=Administration,cn=Key Manager Providers,cn=config\r\nds-cfg-listen-address: 0.0.0.0\r\nds-cfg-listen-port: 4444\r\nds-cfg-ssl-cert-nickname: admin-cert\r\n```\r\nError even i put correct password\r\n```\r\n./dsconfig -v\r\n\r\n\r\n&gt;&gt;&gt;&gt; Specify OpenDJ LDAP connection parameters\r\n\r\nDirectory server hostname or IP address [XXXX.XXX.XX]:\r\n\r\nDirectory server administration port number [4444]:\r\n\r\nAdministrator user bind DN [cn=Directory Manager]:\r\n\r\nPassword for user &#39;cn=Directory Manager&#39;:\r\nUnable to connect to the server at XXXX.XXX.XX on port 4444.\r\nCheck this port is an administration port\r\n```\r\nPort status\r\n\r\n```\r\nlsof -nPi :4444\r\n\r\nCOMMAND   PID USER   FD   TYPE  DEVICE SIZE/OFF NODE NAME\r\njava    14530 ldap   87u  IPv6 4618018      0t0  TCP *:4444 (LISTEN)\r\n\r\n```","title":"OpenDJ Administration Port (4444) not able to authenticate Default User(Directory Manager) /any user","body":"<p>Dears,</p>\n<p>Could you advise me on below situation, am having an issue with OpenDJ DS after change JVM to OpenJDK\nseems like the admin-certs has been removed from trusted store in Java\ncould you advise how we can recreate admin connector/certs in OpenDJ without re installing</p>\n<p>config.ldif</p>\n<pre><code>dn: cn=Administration Connector,cn=config\nobjectClass: top\nobjectClass: ds-cfg-administration-connector\nds-cfg-trust-manager-provider: cn=Administration,cn=Trust Manager Providers,cn=config\ncn: Administration Connector\nds-cfg-key-manager-provider: cn=Administration,cn=Key Manager Providers,cn=config\nds-cfg-listen-address: 0.0.0.0\nds-cfg-listen-port: 4444\nds-cfg-ssl-cert-nickname: admin-cert\n</code></pre>\n<p>Error even i put correct password</p>\n<pre><code>./dsconfig -v\n\n\n&gt;&gt;&gt;&gt; Specify OpenDJ LDAP connection parameters\n\nDirectory server hostname or IP address [XXXX.XXX.XX]:\n\nDirectory server administration port number [4444]:\n\nAdministrator user bind DN [cn=Directory Manager]:\n\nPassword for user 'cn=Directory Manager':\nUnable to connect to the server at XXXX.XXX.XX on port 4444.\nCheck this port is an administration port\n</code></pre>\n<p>Port status</p>\n<pre><code>lsof -nPi :4444\n\nCOMMAND   PID USER   FD   TYPE  DEVICE SIZE/OFF NODE NAME\njava    14530 ldap   87u  IPv6 4618018      0t0  TCP *:4444 (LISTEN)\n\n</code></pre>\n"},{"tags":["java","properties","resources","resourcebundle"],"answers":[{"comments":[{"owner":{"account_id":5218768,"reputation":683,"user_id":4172836,"accept_rate":75,"display_name":"DeMo"},"score":3,"creation_date":1515581356,"post_id":48185438,"comment_id":83351121,"body_markdown":"This worked, thank you! As you said my mistake was that the resource bundle was not added to the output directory of my (compiled) project. Regarding your last sentence: `logic/strings` or `logic.strings` works, `logic/strings.properties` does not.","body":"This worked, thank you! As you said my mistake was that the resource bundle was not added to the output directory of my (compiled) project. Regarding your last sentence: <code>logic&#47;strings</code> or <code>logic.strings</code> works, <code>logic&#47;strings.properties</code> does not."},{"owner":{"account_id":11432941,"reputation":3304,"user_id":8381155,"display_name":"ochs.tobi"},"score":0,"creation_date":1651660417,"post_id":48185438,"comment_id":127414394,"body_markdown":"How did you manage to get the resource bundle to the output directory? I have the same problem. The properties files are not in the jar file in classes/packagename/","body":"How did you manage to get the resource bundle to the output directory? I have the same problem. The properties files are not in the jar file in classes/packagename/"}],"tags":[],"owner":{"account_id":9235262,"reputation":780,"user_id":6860091,"accept_rate":100,"display_name":"krund"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1593650982,"creation_date":1515580598,"answer_id":48185438,"question_id":48184900,"body_markdown":"You probably using wrong `baseName` for your bundle. According to [documentation](https://docs.oracle.com/javase/8/docs/api/java/util/ResourceBundle.html#getBundle-java.lang.String-java.util.Locale-):\r\n\r\n&gt; Gets a resource bundle using the specified base name, the default\r\n&gt; locale, and the caller&#39;s class loader\r\n\r\n&quot;Class loader&quot; means that resource loaded from folder with compiled classes. In the screenshot, the path to your resource is `src/logic/strings.properties`, so it should be located in `classes/logic/` folder, and as baseName you should use `logic/strings` (or `logic/strings.properties`, I&#39;m not sure about that).","title":"Can&#39;t find resource bundle exception","body":"<p>You probably using wrong <code>baseName</code> for your bundle. According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ResourceBundle.html#getBundle-java.lang.String-java.util.Locale-\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Gets a resource bundle using the specified base name, the default\nlocale, and the caller's class loader</p>\n</blockquote>\n<p>&quot;Class loader&quot; means that resource loaded from folder with compiled classes. In the screenshot, the path to your resource is <code>src/logic/strings.properties</code>, so it should be located in <code>classes/logic/</code> folder, and as baseName you should use <code>logic/strings</code> (or <code>logic/strings.properties</code>, I'm not sure about that).</p>\n"}],"owner":{"account_id":5218768,"reputation":683,"user_id":4172836,"accept_rate":75,"display_name":"DeMo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6944,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48185438,"answer_count":1,"score":4,"last_activity_date":1693992454,"creation_date":1515578885,"question_id":48184900,"body_markdown":"I want to use a resource bundle called `strings` but I get following error when running my main method in `MainApplication.java`:\r\n\r\n    java.util.MissingResourceException: Can&#39;t find bundle for base name strings, locale de_DE\r\n    \tat java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1564)\r\n    \tat java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1387)\r\n    \tat java.util.ResourceBundle.getBundle(ResourceBundle.java:845)\r\n    \tat logic.MainApplication.start(MainApplication.java:20) (...)\r\n\r\nMy project structure:\r\n\r\n[![project structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l8uIS.png\r\n\r\nThe two files `strings.properties` and `strings_de_DE.properties` are stored in the same directory as `MainApplication.java` and all three files are in the directory `pi_display/src/logic/` (IntelliJ puts them into a virtual &quot;Resource Bundle&quot; directory for a clearer display of the project structure).\r\n\r\nMain class/method: \r\n\r\n    public class MainApplication {\r\n        public static void main(String[] args) {\r\n            Locale locale = Locale.GERMANY;\r\n            ResourceBundle resources = ResourceBundle.getBundle(&quot;strings&quot;, locale);\r\n            // ...\r\n        }\r\n\r\nI&#39;ve already tried to move the files to other packages and specify the `baseName` of the bundle (i.e. `logic.strings` or other package structures if I moved them elsewhere). \r\n\r\nI don&#39;t understand why the bundle can&#39;t be found given `MainApplication` and the bundle files are in the same directory.","title":"Can&#39;t find resource bundle exception","body":"<p>I want to use a resource bundle called <code>strings</code> but I get following error when running my main method in <code>MainApplication.java</code>:</p>\n<pre><code>java.util.MissingResourceException: Can't find bundle for base name strings, locale de_DE\n    at java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1564)\n    at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1387)\n    at java.util.ResourceBundle.getBundle(ResourceBundle.java:845)\n    at logic.MainApplication.start(MainApplication.java:20) (...)\n</code></pre>\n<p>My project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/l8uIS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l8uIS.png\" alt=\"project structure\" /></a></p>\n<p>The two files <code>strings.properties</code> and <code>strings_de_DE.properties</code> are stored in the same directory as <code>MainApplication.java</code> and all three files are in the directory <code>pi_display/src/logic/</code> (IntelliJ puts them into a virtual &quot;Resource Bundle&quot; directory for a clearer display of the project structure).</p>\n<p>Main class/method:</p>\n<pre><code>public class MainApplication {\n    public static void main(String[] args) {\n        Locale locale = Locale.GERMANY;\n        ResourceBundle resources = ResourceBundle.getBundle(&quot;strings&quot;, locale);\n        // ...\n    }\n</code></pre>\n<p>I've already tried to move the files to other packages and specify the <code>baseName</code> of the bundle (i.e. <code>logic.strings</code> or other package structures if I moved them elsewhere).</p>\n<p>I don't understand why the bundle can't be found given <code>MainApplication</code> and the bundle files are in the same directory.</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1693976576,"post_id":77049101,"comment_id":135828900,"body_markdown":"the correct folder is `src/test/resources`. BTW: please share a [MCVE]","body":"the correct folder is <code>src&#47;test&#47;resources</code>. BTW: please share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693992296,"creation_date":1693978486,"answer_id":77049230,"question_id":77049101,"body_markdown":"By convention Maven uses the following directory structure:\r\n```none\r\nsrc\r\n|__ main            // production \r\n|    |__ java       // production code \r\n|    |__ resources  // production resources\r\n|\r\n|__ test            // test \r\n     |__ java       // test code \r\n     |__ resources  // test resources \r\n```\r\n\r\nSo the chances are that you&#39;ve placed your properties file in the wrong place.","title":"properties file in src/main/test is not being recognized by doing mvn clean test","body":"<p>By convention Maven uses the following directory structure:</p>\n<pre class=\"lang-none prettyprint-override\"><code>src\n|__ main            // production \n|    |__ java       // production code \n|    |__ resources  // production resources\n|\n|__ test            // test \n     |__ java       // test code \n     |__ resources  // test resources \n</code></pre>\n<p>So the chances are that you've placed your properties file in the wrong place.</p>\n"}],"owner":{"account_id":19160563,"reputation":39,"user_id":13996409,"display_name":"usha duddu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1693992296,"creation_date":1693976266,"question_id":77049101,"body_markdown":"Failed to parse configuration class [com.visa.vbv.ds.dao.TestHibernateConfig]; nested exception is java.io.FileNotFoundException: class path resource [test.properties] cannot be opened because it does not exist\r\n\r\nI get above error on doing mvn test. File is present in my src/main/test","title":"properties file in src/main/test is not being recognized by doing mvn clean test","body":"<p>Failed to parse configuration class [com.visa.vbv.ds.dao.TestHibernateConfig]; nested exception is java.io.FileNotFoundException: class path resource [test.properties] cannot be opened because it does not exist</p>\n<p>I get above error on doing mvn test. File is present in my src/main/test</p>\n"},{"tags":["java","database","hibernate","jdbc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694033344,"post_id":77048746,"comment_id":135839818,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1693978931,"post_id":77049146,"comment_id":135829121,"body_markdown":"Surrounding `Session` in try catch block automatically closes it after transaction is complete without requiring you to close it manually","body":"Surrounding <code>Session</code> in try catch block automatically closes it after transaction is complete without requiring you to close it manually"}],"tags":[],"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693992285,"creation_date":1693977057,"answer_id":77049146,"question_id":77048746,"body_markdown":"I have already figured out where the error is.\r\n\r\nSo the error based on the `animalDAO` class.\r\nIn the methods `selectAll`, `selectByID`, `insert`, `update` and `delete`, I forgot to surround with `try...catch`. The very important step so as to check if the methods got an error or not.\r\nSo after I surrounded all the methods in `try...catch`, the project can work properly.\r\n\r\nHere is an update of `animalDAO` class:\r\n\r\n    package DAO;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Query;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    \r\n    import model.animal;\r\n    import util.hibernateUtil;\r\n    \r\n    public class animalDAO implements interfaceDAO&lt;animal&gt; {\r\n    \r\n    // this is previous method code\r\n    //\t@Override\r\n    //\tpublic List&lt;animal&gt; sellectAll() {\r\n    //\t\tList&lt;animal&gt; list = new ArrayList();\r\n    //\t\ttry {\r\n    //\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    //\t\t\tif (sf != null) {\r\n    //\t\t\t\t// open &amp; begin transaction\r\n    //\t\t\t\tSession s = sf.openSession();\r\n    //\t\t\t\tTransaction trans = s.beginTransaction();\r\n    //\t\t\t\t\r\n    //\t\t\t\t// transaction\r\n    //\t\t\t\tString hql = &quot;from animal&quot;;\r\n    //\t\t\t\tQuery q = s.createQuery(hql);\r\n    //\t\t\t\tlist = q.getResultList();\r\n    //\t\t\t\t\r\n    //\t\t\t\t// commit &amp; close transaction\r\n    //\t\t\t\ttrans.commit();\r\n    //\t\t\t\tsf.close();\r\n    //\t\t\t}\r\n    //\t\t} catch (Exception e) {\r\n    //\t\t\te.printStackTrace();\r\n    //\t\t}\r\n    //\t\treturn list;\r\n    //\t}\r\n    //\r\n    //\t@Override\r\n    //\tpublic animal selectByID(animal t) {\r\n    //\t\tList&lt;animal&gt; list = new ArrayList&lt;&gt;();\r\n    //\t\t\r\n    //\t\ttry {\r\n    //\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    //\t\t\tif (sf != null) {\r\n    //\t\t\t\tSession s = sf.openSession();\r\n    //\t\t\t\tTransaction trans = s.beginTransaction();\r\n    //\t\t\t\t\r\n    //\t\t\t\tString hql = &quot;from animal a where a.id=:id&quot;;\r\n    //\t\t\t\tQuery q = s.createQuery(hql);\r\n    //\t\t\t\tq.setParameter(&quot;id&quot;, t.getId());\r\n    //\t\t\t\tlist = q.getResultList();\r\n    //\t\t\t\t\r\n    //\t\t\t\ttrans.commit();\r\n    //\t\t\t\tsf.close();\r\n    //\t\t\t}\r\n    //\t\t} catch (Exception e) {\r\n    //\t\t\te.printStackTrace();\r\n    //\t\t}\r\n    //\t\t\r\n    //\t\tif (list.size() &gt; 0) {\r\n    //\t\t\treturn list.get(0);\r\n    //\t\t}else {\r\n    //\t\t\treturn null;\r\n    //\t\t}\r\n    //\t}\r\n    //\r\n    //\r\n    //\t@Override\r\n    //\tpublic boolean insert(animal t) {\r\n    //\t\tboolean result = false;\r\n    //\t\t\r\n    //\t\ttry {\r\n    //\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    //\t\t\tif (sf != null) {\r\n    //\t\t\t\tSession s = sf.openSession();\r\n    //\t\t\t\tTransaction trans = s.beginTransaction();\r\n    //\t\t\t\t\r\n    //\t\t\t\t// save: chỉ lưu khi chưa tồn tại\r\n    ////\t\t\t\ts.save(t);\r\n    //\t\t\t\t\r\n    //\t\t\t\t//saveOrUpdate: th&#234;m mới khi chưa tồn tại, cập nhật dữ liệu khi đ&#227; tồn tại\r\n    //\t\t\t\ts.saveOrUpdate(t);\r\n    //\t\t\t\t\r\n    //\t\t\t\ttrans.commit();\r\n    //\t\t\t\tsf.close();\r\n    //\t\t\t\t\r\n    //\t\t\t\treturn true;\r\n    //\t\t\t}\r\n    //\t\t\t\r\n    //\t\t\t\r\n    //\t\t} catch (Exception e) {\r\n    //\t\t\te.printStackTrace();\r\n    //\t\t}\r\n    //\t\treturn false;\r\n    //\t}\r\n    //\r\n    //\t@Override\r\n    //\tpublic boolean update(animal t) {\r\n    //\t\tboolean result = false;\r\n    //\t\t\r\n    //\t\ttry {\r\n    //\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    //\t\t\tif (sf != null) {\r\n    //\t\t\t\tSession s = sf.openSession();\r\n    //\t\t\t\tTransaction trans = s.beginTransaction();\r\n    //\t\t\t\t\r\n    //\t\t\t\t// save: chỉ lưu khi chưa tồn tại\r\n    ////\t\t\t\ts.save(t);\r\n    //\t\t\t\t\r\n    //\t\t\t\t//saveOrUpdate: th&#234;m mới khi chưa tồn tại, cập nhật dữ liệu khi đ&#227; tồn tại\r\n    //\t\t\t\ts.saveOrUpdate(t);\r\n    //\t\t\t\t\r\n    //\t\t\t\ttrans.commit();\r\n    //\t\t\t\tsf.close();\r\n    //\t\t\t\t\r\n    //\t\t\t\treturn true;\r\n    //\t\t\t}\r\n    //\t\t\t\r\n    //\t\t\t\r\n    //\t\t} catch (Exception e) {\r\n    //\t\t\te.printStackTrace();\r\n    //\t\t}\r\n    //\t\treturn false;\r\n    //\t}\r\n    //\r\n    //\t@Override\r\n    //\tpublic boolean delete(animal t) {\r\n    //\t\ttry (SessionFactory sf = hibernateUtil.getSessionFactory()) {\r\n    //\t\t\tif (sf != null) {\r\n    //\t\t\t\ttry(Session s = sf.openSession()){\r\n    //\t\t\t\t\t\r\n    //\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n    //\t\t\t\t\t\r\n    //\t\t\t\t\ts.delete(t);\r\n    //\t\t\t\t\t\r\n    //\t\t\t\t\ttrans.commit();\r\n    //\t\t\t\t\tsf.close();\r\n    //\t\t\t\t}\r\n    //\t\t\t}\r\n    //\t\t} catch (Exception e) {\r\n    //\t\t\te.printStackTrace();\r\n    //\t\t\treturn false;\r\n    //\t\t}\r\n    //\t\treturn true;\r\n    //\t}\r\n    \t\r\n    \r\n    // this is new code after update\r\n    \t@Override\r\n    \tpublic List&lt;animal&gt; sellectAll() {\r\n    \t\tList&lt;animal&gt; list = new ArrayList();\r\n    \t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    \t\tif (sf != null) {\r\n    \t\t\ttry(Session s = sf.openSession();) {\r\n    \t\t\t\tTransaction trans = s.beginTransaction();\r\n    \t\t\t\t\r\n    \t\t\t\t// transaction\r\n    \t\t\t\tString hql = &quot;from animal&quot;;\r\n    \t\t\t\tQuery q = s.createQuery(hql);\r\n    \t\t\t\tlist = q.getResultList();\r\n    \t\t\t\ttrans.commit();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tsf.close();\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn list;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic animal selectByID(animal t) {\r\n    \t\tList&lt;animal&gt; list = new ArrayList&lt;&gt;();\r\n    \t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    \t\tif (sf != null) {\r\n    \t\t\ttry(Session s = sf.openSession();) {\r\n    \t\t\t\tTransaction trans = s.beginTransaction();\r\n    \t\t\t\t\r\n    \t\t\t\tString hql = &quot;from animal a where a.id=:id&quot;;\r\n    \t\t\t\tQuery q = s.createQuery(hql);\r\n    \t\t\t\tq.setParameter(&quot;id&quot;, t.getId());\r\n    \t\t\t\tlist = q.getResultList();\r\n    \t\t\t\t\r\n    \t\t\t\ttrans.commit();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tsf.close();\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (list.size() &gt; 0) {\r\n    \t\t\treturn list.get(0);\r\n    \t\t}else {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic boolean insert(animal t) {\r\n    \t\tboolean result = false;\r\n    \t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    \t\tif (sf != null) {\r\n    \t\t\ttry(Session s = sf.openSession();) {\r\n    \t\t\t\tTransaction trans = s.beginTransaction();\r\n    \t\t\t\ts.saveOrUpdate(t);\r\n    \t\t\t\t\r\n    \t\t\t\ttrans.commit();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tsf.close();\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean update(animal t) {\r\n    \t\tboolean result = false;\r\n    \t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    \t\tif (sf != null) {\r\n    \t\t\ttry(Session s = sf.openSession();) {\r\n    \t\t\t\tTransaction trans = s.beginTransaction();\r\n    \t\t\t\ts.saveOrUpdate(t);\r\n    \t\t\t\t\r\n    \t\t\t\ttrans.commit();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tsf.close();\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean delete(animal t) {\r\n    \t\ttry (SessionFactory sf = hibernateUtil.getSessionFactory()) {\r\n    \t\t\tif (sf != null) {\r\n    \t\t\t\ttry(Session s = sf.openSession()){\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tTransaction trans = s.beginTransaction();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\ts.delete(t);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\ttrans.commit();\r\n    \t\t\t\t\tsf.close();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    }\r\n\r\nSo the error has been fixed. Thanks.\r\n","title":"Java hibernate Unable to commit against JDBC Connection","body":"<p>I have already figured out where the error is.</p>\n<p>So the error based on the <code>animalDAO</code> class.\nIn the methods <code>selectAll</code>, <code>selectByID</code>, <code>insert</code>, <code>update</code> and <code>delete</code>, I forgot to surround with <code>try...catch</code>. The very important step so as to check if the methods got an error or not.\nSo after I surrounded all the methods in <code>try...catch</code>, the project can work properly.</p>\n<p>Here is an update of <code>animalDAO</code> class:</p>\n<pre><code>package DAO;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.persistence.Query;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\n\nimport model.animal;\nimport util.hibernateUtil;\n\npublic class animalDAO implements interfaceDAO&lt;animal&gt; {\n\n// this is previous method code\n//  @Override\n//  public List&lt;animal&gt; sellectAll() {\n//      List&lt;animal&gt; list = new ArrayList();\n//      try {\n//          SessionFactory sf = hibernateUtil.getSessionFactory();\n//          if (sf != null) {\n//              // open &amp; begin transaction\n//              Session s = sf.openSession();\n//              Transaction trans = s.beginTransaction();\n//              \n//              // transaction\n//              String hql = &quot;from animal&quot;;\n//              Query q = s.createQuery(hql);\n//              list = q.getResultList();\n//              \n//              // commit &amp; close transaction\n//              trans.commit();\n//              sf.close();\n//          }\n//      } catch (Exception e) {\n//          e.printStackTrace();\n//      }\n//      return list;\n//  }\n//\n//  @Override\n//  public animal selectByID(animal t) {\n//      List&lt;animal&gt; list = new ArrayList&lt;&gt;();\n//      \n//      try {\n//          SessionFactory sf = hibernateUtil.getSessionFactory();\n//          if (sf != null) {\n//              Session s = sf.openSession();\n//              Transaction trans = s.beginTransaction();\n//              \n//              String hql = &quot;from animal a where a.id=:id&quot;;\n//              Query q = s.createQuery(hql);\n//              q.setParameter(&quot;id&quot;, t.getId());\n//              list = q.getResultList();\n//              \n//              trans.commit();\n//              sf.close();\n//          }\n//      } catch (Exception e) {\n//          e.printStackTrace();\n//      }\n//      \n//      if (list.size() &gt; 0) {\n//          return list.get(0);\n//      }else {\n//          return null;\n//      }\n//  }\n//\n//\n//  @Override\n//  public boolean insert(animal t) {\n//      boolean result = false;\n//      \n//      try {\n//          SessionFactory sf = hibernateUtil.getSessionFactory();\n//          if (sf != null) {\n//              Session s = sf.openSession();\n//              Transaction trans = s.beginTransaction();\n//              \n//              // save: chỉ lưu khi chưa tồn tại\n////                s.save(t);\n//              \n//              //saveOrUpdate: thêm mới khi chưa tồn tại, cập nhật dữ liệu khi đã tồn tại\n//              s.saveOrUpdate(t);\n//              \n//              trans.commit();\n//              sf.close();\n//              \n//              return true;\n//          }\n//          \n//          \n//      } catch (Exception e) {\n//          e.printStackTrace();\n//      }\n//      return false;\n//  }\n//\n//  @Override\n//  public boolean update(animal t) {\n//      boolean result = false;\n//      \n//      try {\n//          SessionFactory sf = hibernateUtil.getSessionFactory();\n//          if (sf != null) {\n//              Session s = sf.openSession();\n//              Transaction trans = s.beginTransaction();\n//              \n//              // save: chỉ lưu khi chưa tồn tại\n////                s.save(t);\n//              \n//              //saveOrUpdate: thêm mới khi chưa tồn tại, cập nhật dữ liệu khi đã tồn tại\n//              s.saveOrUpdate(t);\n//              \n//              trans.commit();\n//              sf.close();\n//              \n//              return true;\n//          }\n//          \n//          \n//      } catch (Exception e) {\n//          e.printStackTrace();\n//      }\n//      return false;\n//  }\n//\n//  @Override\n//  public boolean delete(animal t) {\n//      try (SessionFactory sf = hibernateUtil.getSessionFactory()) {\n//          if (sf != null) {\n//              try(Session s = sf.openSession()){\n//                  \n//                  Transaction trans = s.beginTransaction();\n//                  \n//                  s.delete(t);\n//                  \n//                  trans.commit();\n//                  sf.close();\n//              }\n//          }\n//      } catch (Exception e) {\n//          e.printStackTrace();\n//          return false;\n//      }\n//      return true;\n//  }\n    \n\n// this is new code after update\n    @Override\n    public List&lt;animal&gt; sellectAll() {\n        List&lt;animal&gt; list = new ArrayList();\n        SessionFactory sf = hibernateUtil.getSessionFactory();\n        if (sf != null) {\n            try(Session s = sf.openSession();) {\n                Transaction trans = s.beginTransaction();\n                \n                // transaction\n                String hql = &quot;from animal&quot;;\n                Query q = s.createQuery(hql);\n                list = q.getResultList();\n                trans.commit();\n            } catch (Exception e) {\n                sf.close();\n                e.printStackTrace();\n            }\n        }\n        return list;\n    }\n\n    @Override\n    public animal selectByID(animal t) {\n        List&lt;animal&gt; list = new ArrayList&lt;&gt;();\n        SessionFactory sf = hibernateUtil.getSessionFactory();\n        if (sf != null) {\n            try(Session s = sf.openSession();) {\n                Transaction trans = s.beginTransaction();\n                \n                String hql = &quot;from animal a where a.id=:id&quot;;\n                Query q = s.createQuery(hql);\n                q.setParameter(&quot;id&quot;, t.getId());\n                list = q.getResultList();\n                \n                trans.commit();\n            } catch (Exception e) {\n                sf.close();\n                e.printStackTrace();\n            }\n        }\n        if (list.size() &gt; 0) {\n            return list.get(0);\n        }else {\n            return null;\n        }\n    }\n\n\n    @Override\n    public boolean insert(animal t) {\n        boolean result = false;\n        SessionFactory sf = hibernateUtil.getSessionFactory();\n        if (sf != null) {\n            try(Session s = sf.openSession();) {\n                Transaction trans = s.beginTransaction();\n                s.saveOrUpdate(t);\n                \n                trans.commit();\n            } catch (Exception e) {\n                sf.close();\n                e.printStackTrace();\n                return true;\n            }\n        }\n        return false;\n    }\n\n    @Override\n    public boolean update(animal t) {\n        boolean result = false;\n        SessionFactory sf = hibernateUtil.getSessionFactory();\n        if (sf != null) {\n            try(Session s = sf.openSession();) {\n                Transaction trans = s.beginTransaction();\n                s.saveOrUpdate(t);\n                \n                trans.commit();\n            } catch (Exception e) {\n                sf.close();\n                e.printStackTrace();\n                return true;\n            }\n            \n        }\n        return false;\n    }\n\n    @Override\n    public boolean delete(animal t) {\n        try (SessionFactory sf = hibernateUtil.getSessionFactory()) {\n            if (sf != null) {\n                try(Session s = sf.openSession()){\n                    \n                    Transaction trans = s.beginTransaction();\n                    \n                    s.delete(t);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            return false;\n        }\n        return true;\n    }\n\n}\n</code></pre>\n<p>So the error has been fixed. Thanks.</p>\n"}],"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693992285,"creation_date":1693968491,"question_id":77048746,"body_markdown":"`I have created a Hibernate project named &quot;animal&quot; in which I utilize Hibernate Query Language (HQL) to establish a connection with a SQL Server database. Within the project, I&#39;ve organized my code into packages, including &quot;DAO,&quot; which contains two classes: &quot;interfaceDAO&quot; and &quot;animalDAO.&quot; The latter class implements the methods defined in the &quot;interfaceDAO.&quot;\r\n\r\nInside the &quot;animalDAO,&quot; I&#39;ve implemented several functions to manage animal data, including:\r\n\r\nSelect All: Retrieve all animal records.\r\nSelect by ID: Fetch a specific animal by its ID.\r\nInsert: Add new animal records.\r\nUpdate: Modify existing animal records.\r\nDelete: Remove animal records from the database.\r\nTo facilitate database connectivity, I&#39;ve created a &quot;hibernate.cfg.xml&quot; configuration file. Additionally, I&#39;ve developed a &quot;hibernateUtil.java&quot; class to create a &quot;SessionFactory,&quot; a critical component for managing Hibernate sessions.\r\n\r\nFinally, I&#39;ve created a main test class, &quot;testAnimal.java,&quot; within the &quot;test&quot; package. This class allows me to execute the functions I&#39;ve defined in the &quot;animalDAO&quot; class. Despite successfully connecting to the database and displaying the menu, an error message persists.`\r\n\r\n\r\n\r\n```\r\nanimalDAO class\r\n\r\npackage DAO;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.persistence.Query;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\n\r\nimport model.animal;\r\nimport util.hibernateUtil;\r\n\r\npublic class animalDAO implements interfaceDAO&lt;animal&gt; {\r\n\r\n\t@Override\r\n\tpublic List&lt;animal&gt; sellectAll() {\r\n\t\tList&lt;animal&gt; list = new ArrayList();\r\n\t\ttry {\r\n\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n\t\t\tif (sf != null) {\r\n\t\t\t\t// open &amp; begin transaction\r\n\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\r\n\t\t\t\t// transaction\r\n\t\t\t\tString hql = &quot;from animal&quot;;\r\n\t\t\t\tQuery q = s.createQuery(hql);\r\n\t\t\t\tlist = q.getResultList();\r\n\t\t\t\t\r\n\t\t\t\t// comit &amp; close transaction\r\n\t\t\t\ttrans.commit();\r\n\t\t\t\tsf.close();\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic animal selectByID(animal t) {\r\n\t\tList&lt;animal&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n\t\t\tif (sf != null) {\r\n\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\r\n\t\t\t\tString hql = &quot;from animal a where a.id=:id&quot;;\r\n\t\t\t\tQuery q = s.createQuery(hql);\r\n\t\t\t\tq.setParameter(&quot;id&quot;, t.getId());\r\n\t\t\t\tlist = q.getResultList();\r\n\t\t\t\t\r\n\t\t\t\ttrans.commit();\r\n\t\t\t\tsf.close();\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tif (list.size() &gt; 0) {\r\n\t\t\treturn list.get(0);\r\n\t\t}else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic boolean insert(animal t) {\r\n\t\tboolean result = false;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n\t\t\tif (sf != null) {\r\n\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\r\n\t\t\t\t// save: chỉ lưu khi chưa tồn tại\r\n//\t\t\t\ts.save(t);\r\n\t\t\t\t\r\n\t\t\t\t//saveOrUpdate: th&#234;m mới khi chưa tồn tại, cập nhật dữ liệu khi đ&#227; tồn tại\r\n\t\t\t\ts.saveOrUpdate(t);\r\n\t\t\t\t\r\n\t\t\t\ttrans.commit();\r\n\t\t\t\tsf.close();\r\n\t\t\t\t\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean update(animal t) {\r\n\t\tboolean result = false;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n\t\t\tif (sf != null) {\r\n\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\r\n\t\t\t\t// save: chỉ lưu khi chưa tồn tại\r\n//\t\t\t\ts.save(t);\r\n\t\t\t\t\r\n\t\t\t\t//saveOrUpdate: th&#234;m mới khi chưa tồn tại, cập nhật dữ liệu khi đ&#227; tồn tại\r\n\t\t\t\ts.saveOrUpdate(t);\r\n\t\t\t\t\r\n\t\t\t\ttrans.commit();\r\n\t\t\t\tsf.close();\r\n\t\t\t\t\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean delete(animal t) {\r\n\t\ttry (SessionFactory sf = hibernateUtil.getSessionFactory()) {\r\n\t\t\tif (sf != null) {\r\n\t\t\t\ttry(Session s = sf.openSession()){\r\n\t\t\t\t\t\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\ts.delete(t);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\nhibernateUtil.java\r\n\r\npackage util;\r\n\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.cfg.Configuration;\r\n\r\npublic class hibernateUtil {\r\n\tprivate static final SessionFactory sessionFactory = buildSessionFactory();\r\n\r\n\tprivate static SessionFactory buildSessionFactory() {\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\treturn new Configuration().configure().buildSessionFactory();\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Error&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static SessionFactory getSessionFactory() {\r\n\t\treturn sessionFactory;\r\n\t}\r\n\t\r\n\tpublic static void shutdown() {\r\n\t\tgetSessionFactory().close();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\nhibernate.cfg.xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n\t\t&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n\t\t&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n    \t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;sa&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;123456789Thien_Phu&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        \r\n        &lt;mapping class=&quot;model.animal&quot;/&gt;\r\n        \r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n\r\n```\r\n\r\n\r\n\r\n```\r\ntestAnimal.java class\r\n\r\npackage test;\r\n\r\nimport java.sql.Date;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\n\r\nimport DAO.animalDAO;\r\nimport model.animal;\r\nimport util.hibernateUtil;\r\n\r\npublic class testAnimal {\r\n\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n\t\tint choice = 0;\r\n\t\t\r\n\t\tdo {\r\n\t\t\tSystem.out.println(&quot;============================== \\r\\n&quot;\r\n\t\t\t\t\t+ &quot;1. Select All \\r\\n&quot;\r\n\t\t\t\t\t+ &quot;2. Select by id \\r\\n&quot;\r\n\t\t\t\t\t+ &quot;3. Insert \\r\\n&quot;\r\n\t\t\t\t\t+ &quot;4. Update \\r\\n&quot;\r\n\t\t\t\t\t+ &quot;5. Delete \\r\\n&quot;);\r\n\t\t\tchoice = sc.nextInt();\r\n\t\t\tsc.nextLine();\r\n\t\t\t\r\n\t\t\tswitch (choice) {\r\n\t\t\tcase 0:\r\n\t\t\t\tSystem.out.println(&quot;exit!&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 1:\r\n\t\t\t\t\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t\tList&lt;animal&gt; list = ad.sellectAll();\r\n\t\t\t\t\tfor (animal a : list) {\r\n\t\t\t\t\t\tSystem.out.println(a);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 2:\r\n\t\t\t\t\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t\tSystem.out.println(&quot;Enter ID: &quot;);\r\n\t\t\t\t\tint id = sc.nextInt();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimal a = new animal();\r\n\t\t\t\t\ta.setId(id);\r\n\t\t\t\t\tanimal result = ad.selectByID(a);\t\r\n\t\t\t\t\tSystem.out.println(result);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 3:\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t    System.out.println(&quot;Enter animal name: &quot;);\r\n\t\t\t\t    String name = sc.nextLine();\r\n\t\t\t\t    \r\n\t\t\t\t    System.out.println(&quot;Enter animal date of birth [yyyy MM dd]: &quot;);\r\n\t\t\t\t    int year = sc.nextInt();\r\n\t\t\t\t    int month = sc.nextInt();\r\n\t\t\t\t    int day = sc.nextInt();\r\n\t\t\t\t    sc.nextLine();\r\n\t\t\t\t    \r\n\t\t\t\t    Date dob = new Date(year - 1900, month - 1, day);\r\n\r\n\t\t\t\t    System.out.println(&quot;Enter sex/gender [true / false]: &quot;);\r\n\t\t\t\t    boolean sex = sc.nextBoolean();\r\n\t\t\t\t    \r\n\t\t\t\t    animal a1 = new animal(name, dob, sex);\r\n\t\t\t\t    ad.insert(a1);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t    break;\r\n\t\t\t    \r\n\t\t\tcase 4:\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t\tSystem.out.println(&quot;enter new name for animal: &quot;);\r\n\t\t\t\t\tString name = sc.nextLine();\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Enter new date of birth for animal [xxxx xx xx]: &quot;);\r\n\t\t\t\t\tint year = sc.nextInt();\r\n\t\t\t\t\tint month = sc.nextInt();\r\n\t\t\t\t\tint day = sc.nextInt();\r\n\t\t\t\t\tsc.nextLine();\r\n\t\t\t\t\tDate dob = new Date(year - 1900, month - 1, day);\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;enter new sex/gender [true / false]: &quot;);\r\n\t\t\t\t\tboolean sex = sc.nextBoolean();\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Enter ID: &quot;);\r\n\t\t\t\t\tint id = sc.nextInt();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimal a2 = new animal(name, dob, sex);\r\n\t\t\t\t\ta2.setId(id);\r\n\t\t\t\t\tad.update(a2);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 5:\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t\tSystem.out.println(&quot;Enter ID: &quot;);\r\n\t\t\t\t\tint id = sc.nextInt();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimal a3 = new animal(id);\r\n\t\t\t\t\ta3.setId(id);\r\n\t\t\t\t\tad.delete(a3);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} while (choice != 0);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nError log\r\n\r\nSep 06, 2023 9:04:46 AM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate ORM core version 5.6.15.Final\r\nSep 06, 2023 9:04:46 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001005: using driver [com.microsoft.sqlserver.jdbc.SQLServerDriver] at URL [jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;]\r\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001001: Connection properties: {password=****, user=sa}\r\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001003: Autocommit mode: false\r\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\nSep 06, 2023 9:04:47 AM org.hibernate.dialect.Dialect &lt;init&gt;\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect\r\nSep 06, 2023 9:04:47 AM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3b8ec001] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\nSep 06, 2023 9:04:48 AM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n============================== \r\n1. Select All \r\n2. Select by id \r\n3. Insert \r\n4. Update \r\n5. Delete \r\n\r\n1\r\nHibernate: select animal0_.id as id1_0_, animal0_.dateOfBirth as dateofbi2_0_, animal0_.name as name3_0_, animal0_.sex as sex4_0_ from animal animal0_\r\nSep 06, 2023 9:04:50 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\r\nINFO: HHH10001008: Cleaning up connection pool [jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;]\r\nSep 06, 2023 9:04:50 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections close\r\nERROR: Connection leak detected: there are 1 unclosed connections upon shutting down pool jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;\r\nSep 06, 2023 9:04:50 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl validateConnectionsReturned\r\nERROR: Connection leak detected: there are 1 unclosed connections!\r\nanimal [id=1, name=cat, dateOfBirth=null, sex=false]\r\nanimal [id=2, name=fish, dateOfBirth=2003-04-05, sex=true]\r\nanimal [id=6, name=carrovet, dateOfBirth=2003-12-02, sex=false]\r\nException in thread &quot;main&quot; org.hibernate.TransactionException: Unable to commit against JDBC Connection\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:92)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n\tat test.testAnimal.main(testAnimal.java:49)\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The connection is closed.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:231)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.checkClosed(SQLServerConnection.java:1728)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.commit(SQLServerConnection.java:4451)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.commit(SQLServerConnection.java:4432)\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:86)\r\n\t... 3 more\r\n\r\n```\r\n\r\n`in the error log it said Exception in thread &quot;main&quot; org.hibernate.TransactionException: Unable to commit against JDBC Connection\r\nI try may way check all the jdbc connection but still not work`\r\n\r\n\r\nI try t change some main thing in the test class, \r\nI create a SessionFactory outside the loop do while\r\nthen invery case I open a new session and begin a new transaction \r\ncommit and close in that case also \r\n\r\n\r\n```\r\ncase 1:\r\n\t\t\t\t\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t\tList&lt;animal&gt; list = ad.sellectAll();\r\n\t\t\t\t\tfor (animal a : list) {\r\n\t\t\t\t\t\tSystem.out.println(a);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 2:\r\n\t\t\t\t\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t\tSystem.out.println(&quot;Enter ID: &quot;);\r\n\t\t\t\t\tint id = sc.nextInt();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimal a = new animal();\r\n\t\t\t\t\ta.setId(id);\r\n\t\t\t\t\tanimal result = ad.selectByID(a);\t\r\n\t\t\t\t\tSystem.out.println(result);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 3:\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t    System.out.println(&quot;Enter animal name: &quot;);\r\n\t\t\t\t    String name = sc.nextLine();\r\n\t\t\t\t    \r\n\t\t\t\t    System.out.println(&quot;Enter animal date of birth [yyyy MM dd]: &quot;);\r\n\t\t\t\t    int year = sc.nextInt();\r\n\t\t\t\t    int month = sc.nextInt();\r\n\t\t\t\t    int day = sc.nextInt();\r\n\t\t\t\t    sc.nextLine();\r\n\t\t\t\t    \r\n\t\t\t\t    Date dob = new Date(year - 1900, month - 1, day);\r\n\r\n\t\t\t\t    System.out.println(&quot;Enter sex/gender [true / false]: &quot;);\r\n\t\t\t\t    boolean sex = sc.nextBoolean();\r\n\t\t\t\t    \r\n\t\t\t\t    animal a1 = new animal(name, dob, sex);\r\n\t\t\t\t    ad.insert(a1);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t    break;\r\n```\r\n\r\nbut seem it it wont work as this way\r\n","title":"Java hibernate Unable to commit against JDBC Connection","body":"<p>`I have created a Hibernate project named &quot;animal&quot; in which I utilize Hibernate Query Language (HQL) to establish a connection with a SQL Server database. Within the project, I've organized my code into packages, including &quot;DAO,&quot; which contains two classes: &quot;interfaceDAO&quot; and &quot;animalDAO.&quot; The latter class implements the methods defined in the &quot;interfaceDAO.&quot;</p>\n<p>Inside the &quot;animalDAO,&quot; I've implemented several functions to manage animal data, including:</p>\n<p>Select All: Retrieve all animal records.\nSelect by ID: Fetch a specific animal by its ID.\nInsert: Add new animal records.\nUpdate: Modify existing animal records.\nDelete: Remove animal records from the database.\nTo facilitate database connectivity, I've created a &quot;hibernate.cfg.xml&quot; configuration file. Additionally, I've developed a &quot;hibernateUtil.java&quot; class to create a &quot;SessionFactory,&quot; a critical component for managing Hibernate sessions.</p>\n<p>Finally, I've created a main test class, &quot;testAnimal.java,&quot; within the &quot;test&quot; package. This class allows me to execute the functions I've defined in the &quot;animalDAO&quot; class. Despite successfully connecting to the database and displaying the menu, an error message persists.`</p>\n<pre><code>animalDAO class\n\npackage DAO;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.persistence.Query;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\n\nimport model.animal;\nimport util.hibernateUtil;\n\npublic class animalDAO implements interfaceDAO&lt;animal&gt; {\n\n    @Override\n    public List&lt;animal&gt; sellectAll() {\n        List&lt;animal&gt; list = new ArrayList();\n        try {\n            SessionFactory sf = hibernateUtil.getSessionFactory();\n            if (sf != null) {\n                // open &amp; begin transaction\n                Session s = sf.openSession();\n                Transaction trans = s.beginTransaction();\n                \n                // transaction\n                String hql = &quot;from animal&quot;;\n                Query q = s.createQuery(hql);\n                list = q.getResultList();\n                \n                // comit &amp; close transaction\n                trans.commit();\n                sf.close();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return list;\n    }\n\n    @Override\n    public animal selectByID(animal t) {\n        List&lt;animal&gt; list = new ArrayList&lt;&gt;();\n        \n        try {\n            SessionFactory sf = hibernateUtil.getSessionFactory();\n            if (sf != null) {\n                Session s = sf.openSession();\n                Transaction trans = s.beginTransaction();\n                \n                String hql = &quot;from animal a where a.id=:id&quot;;\n                Query q = s.createQuery(hql);\n                q.setParameter(&quot;id&quot;, t.getId());\n                list = q.getResultList();\n                \n                trans.commit();\n                sf.close();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        if (list.size() &gt; 0) {\n            return list.get(0);\n        }else {\n            return null;\n        }\n    }\n\n\n    @Override\n    public boolean insert(animal t) {\n        boolean result = false;\n        \n        try {\n            SessionFactory sf = hibernateUtil.getSessionFactory();\n            if (sf != null) {\n                Session s = sf.openSession();\n                Transaction trans = s.beginTransaction();\n                \n                // save: chỉ lưu khi chưa tồn tại\n//              s.save(t);\n                \n                //saveOrUpdate: thêm mới khi chưa tồn tại, cập nhật dữ liệu khi đã tồn tại\n                s.saveOrUpdate(t);\n                \n                trans.commit();\n                sf.close();\n                \n                return true;\n            }\n            \n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return false;\n    }\n\n    @Override\n    public boolean update(animal t) {\n        boolean result = false;\n        \n        try {\n            SessionFactory sf = hibernateUtil.getSessionFactory();\n            if (sf != null) {\n                Session s = sf.openSession();\n                Transaction trans = s.beginTransaction();\n                \n                // save: chỉ lưu khi chưa tồn tại\n//              s.save(t);\n                \n                //saveOrUpdate: thêm mới khi chưa tồn tại, cập nhật dữ liệu khi đã tồn tại\n                s.saveOrUpdate(t);\n                \n                trans.commit();\n                sf.close();\n                \n                return true;\n            }\n            \n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return false;\n    }\n\n    @Override\n    public boolean delete(animal t) {\n        try (SessionFactory sf = hibernateUtil.getSessionFactory()) {\n            if (sf != null) {\n                try(Session s = sf.openSession()){\n                    \n                    Transaction trans = s.beginTransaction();\n                    \n                    s.delete(t);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            return false;\n        }\n        return true;\n    }\n\n}\n\n</code></pre>\n<pre><code>hibernateUtil.java\n\npackage util;\n\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\n\npublic class hibernateUtil {\n    private static final SessionFactory sessionFactory = buildSessionFactory();\n\n    private static SessionFactory buildSessionFactory() {\n        try {\n            \n            return new Configuration().configure().buildSessionFactory();\n            \n        } catch (Exception e) {\n            System.out.println(&quot;Error&quot;);\n            return null;\n        }\n    }\n    \n    public static SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n    \n    public static void shutdown() {\n        getSessionFactory().close();\n    }\n}\n</code></pre>\n<pre><code>hibernate.cfg.xml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;sa&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;123456789Thien_Phu&lt;/property&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        \n        &lt;mapping class=&quot;model.animal&quot;/&gt;\n        \n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n\n</code></pre>\n<pre><code>testAnimal.java class\n\npackage test;\n\nimport java.sql.Date;\nimport java.util.List;\nimport java.util.Scanner;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\n\nimport DAO.animalDAO;\nimport model.animal;\nimport util.hibernateUtil;\n\npublic class testAnimal {\n    @SuppressWarnings(&quot;deprecation&quot;)\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        SessionFactory sf = hibernateUtil.getSessionFactory();\n        int choice = 0;\n        \n        do {\n            System.out.println(&quot;============================== \\r\\n&quot;\n                    + &quot;1. Select All \\r\\n&quot;\n                    + &quot;2. Select by id \\r\\n&quot;\n                    + &quot;3. Insert \\r\\n&quot;\n                    + &quot;4. Update \\r\\n&quot;\n                    + &quot;5. Delete \\r\\n&quot;);\n            choice = sc.nextInt();\n            sc.nextLine();\n            \n            switch (choice) {\n            case 0:\n                System.out.println(&quot;exit!&quot;);\n                break;\n                \n            case 1:\n                \n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    List&lt;animal&gt; list = ad.sellectAll();\n                    for (animal a : list) {\n                        System.out.println(a);\n                    }\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n                \n            case 2:\n                \n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    System.out.println(&quot;Enter ID: &quot;);\n                    int id = sc.nextInt();\n                    \n                    animal a = new animal();\n                    a.setId(id);\n                    animal result = ad.selectByID(a);   \n                    System.out.println(result);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n                \n            case 3:\n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    System.out.println(&quot;Enter animal name: &quot;);\n                    String name = sc.nextLine();\n                    \n                    System.out.println(&quot;Enter animal date of birth [yyyy MM dd]: &quot;);\n                    int year = sc.nextInt();\n                    int month = sc.nextInt();\n                    int day = sc.nextInt();\n                    sc.nextLine();\n                    \n                    Date dob = new Date(year - 1900, month - 1, day);\n\n                    System.out.println(&quot;Enter sex/gender [true / false]: &quot;);\n                    boolean sex = sc.nextBoolean();\n                    \n                    animal a1 = new animal(name, dob, sex);\n                    ad.insert(a1);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n                \n            case 4:\n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    System.out.println(&quot;enter new name for animal: &quot;);\n                    String name = sc.nextLine();\n                    \n                    System.out.println(&quot;Enter new date of birth for animal [xxxx xx xx]: &quot;);\n                    int year = sc.nextInt();\n                    int month = sc.nextInt();\n                    int day = sc.nextInt();\n                    sc.nextLine();\n                    Date dob = new Date(year - 1900, month - 1, day);\n                    \n                    System.out.println(&quot;enter new sex/gender [true / false]: &quot;);\n                    boolean sex = sc.nextBoolean();\n                    \n                    System.out.println(&quot;Enter ID: &quot;);\n                    int id = sc.nextInt();\n                    \n                    animal a2 = new animal(name, dob, sex);\n                    a2.setId(id);\n                    ad.update(a2);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                \n                \n                break;\n                \n            case 5:\n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    System.out.println(&quot;Enter ID: &quot;);\n                    int id = sc.nextInt();\n                    \n                    animal a3 = new animal(id);\n                    a3.setId(id);\n                    ad.delete(a3);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n\n            default:\n                break;\n            }\n        } while (choice != 0);\n    }\n}\n\n</code></pre>\n<pre><code>Error log\n\nSep 06, 2023 9:04:46 AM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 5.6.15.Final\nSep 06, 2023 9:04:46 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [com.microsoft.sqlserver.jdbc.SQLServerDriver] at URL [jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;]\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {password=****, user=sa}\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nSep 06, 2023 9:04:47 AM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect\nSep 06, 2023 9:04:47 AM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3b8ec001] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nSep 06, 2023 9:04:48 AM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n============================== \n1. Select All \n2. Select by id \n3. Insert \n4. Update \n5. Delete \n\n1\nHibernate: select animal0_.id as id1_0_, animal0_.dateOfBirth as dateofbi2_0_, animal0_.name as name3_0_, animal0_.sex as sex4_0_ from animal animal0_\nSep 06, 2023 9:04:50 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\nINFO: HHH10001008: Cleaning up connection pool [jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;]\nSep 06, 2023 9:04:50 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections close\nERROR: Connection leak detected: there are 1 unclosed connections upon shutting down pool jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;\nSep 06, 2023 9:04:50 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl validateConnectionsReturned\nERROR: Connection leak detected: there are 1 unclosed connections!\nanimal [id=1, name=cat, dateOfBirth=null, sex=false]\nanimal [id=2, name=fish, dateOfBirth=2003-04-05, sex=true]\nanimal [id=6, name=carrovet, dateOfBirth=2003-12-02, sex=false]\nException in thread &quot;main&quot; org.hibernate.TransactionException: Unable to commit against JDBC Connection\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:92)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at test.testAnimal.main(testAnimal.java:49)\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The connection is closed.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:231)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.checkClosed(SQLServerConnection.java:1728)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.commit(SQLServerConnection.java:4451)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.commit(SQLServerConnection.java:4432)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:86)\n    ... 3 more\n\n</code></pre>\n<p><code>in the error log it said Exception in thread &quot;main&quot; org.hibernate.TransactionException: Unable to commit against JDBC Connection I try may way check all the jdbc connection but still not work</code></p>\n<p>I try t change some main thing in the test class,\nI create a SessionFactory outside the loop do while\nthen invery case I open a new session and begin a new transaction\ncommit and close in that case also</p>\n<pre><code>case 1:\n                \n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    List&lt;animal&gt; list = ad.sellectAll();\n                    for (animal a : list) {\n                        System.out.println(a);\n                    }\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n                \n            case 2:\n                \n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    System.out.println(&quot;Enter ID: &quot;);\n                    int id = sc.nextInt();\n                    \n                    animal a = new animal();\n                    a.setId(id);\n                    animal result = ad.selectByID(a);   \n                    System.out.println(result);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n                \n            case 3:\n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    System.out.println(&quot;Enter animal name: &quot;);\n                    String name = sc.nextLine();\n                    \n                    System.out.println(&quot;Enter animal date of birth [yyyy MM dd]: &quot;);\n                    int year = sc.nextInt();\n                    int month = sc.nextInt();\n                    int day = sc.nextInt();\n                    sc.nextLine();\n                    \n                    Date dob = new Date(year - 1900, month - 1, day);\n\n                    System.out.println(&quot;Enter sex/gender [true / false]: &quot;);\n                    boolean sex = sc.nextBoolean();\n                    \n                    animal a1 = new animal(name, dob, sex);\n                    ad.insert(a1);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n</code></pre>\n<p>but seem it it wont work as this way</p>\n"},{"tags":["java","android","geolocation","location"],"owner":{"account_id":8674669,"reputation":19,"user_id":6492394,"display_name":"hashim fajar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693992111,"creation_date":1693985296,"question_id":77049811,"body_markdown":"I am experiencing difficulties obtaining my current location when I am inside a building, and my SIM card is subject to IP filtering. However, when I switch my SIM card to public access, I am able to obtain my location successfully.\r\n\r\nI am curious if there are specific IP addresses that I should whitelist in order to acquire my location while indoors within any building?\r\n\r\n\r\n```\r\n@Override\r\npublic void onLocationChanged(@NonNull Location location) {\r\n    double latitude = location.getLatitude();\r\n    double longitude = location.getLongitude();\r\n    \r\n    String provider = location.getProvider();\r\n\r\n    Log.e(&quot;Latitude&quot;, String.valueOf(latitude));\r\n    Log.e(&quot;Longitude&quot;, String.valueOf(longitude));\r\n    Log.e(&quot;provider&quot;, provider);\r\n\r\n    if (LocationManager.GPS_PROVIDER.equals(provider)) {\r\n        editText1.setText(String.valueOf(latitude));\r\n        editText2.setText(String.valueOf(longitude));\r\n        editText3.setText(provider);\r\n    } else if (LocationManager.NETWORK_PROVIDER.equals(provider)) {\r\n        editText4.setText(String.valueOf(latitude));\r\n        editText5.setText(String.valueOf(longitude));\r\n        editText6.setText(provider);\r\n    }\r\n}\r\n```","title":"Location tracking issue inside buildings with IP filtered SIM card (NETWORK_PROVIDER)","body":"<p>I am experiencing difficulties obtaining my current location when I am inside a building, and my SIM card is subject to IP filtering. However, when I switch my SIM card to public access, I am able to obtain my location successfully.</p>\n<p>I am curious if there are specific IP addresses that I should whitelist in order to acquire my location while indoors within any building?</p>\n<pre><code>@Override\npublic void onLocationChanged(@NonNull Location location) {\n    double latitude = location.getLatitude();\n    double longitude = location.getLongitude();\n    \n    String provider = location.getProvider();\n\n    Log.e(&quot;Latitude&quot;, String.valueOf(latitude));\n    Log.e(&quot;Longitude&quot;, String.valueOf(longitude));\n    Log.e(&quot;provider&quot;, provider);\n\n    if (LocationManager.GPS_PROVIDER.equals(provider)) {\n        editText1.setText(String.valueOf(latitude));\n        editText2.setText(String.valueOf(longitude));\n        editText3.setText(provider);\n    } else if (LocationManager.NETWORK_PROVIDER.equals(provider)) {\n        editText4.setText(String.valueOf(latitude));\n        editText5.setText(String.valueOf(longitude));\n        editText6.setText(provider);\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1651587739,"post_id":72092996,"comment_id":127395423,"body_markdown":"My experiences have me believe this error is commonly because of class paths. Where is the persistence.xml file itself: are you able to load it in your java app&#39;s main method? Are you able to load the org.eclipse.persistence.jpa.PersistenceProvider class in it (new PersistenceProvider()) ? https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging shows how to turn on logging, but only helps if EclipseLink is trying to load the file and throwing an error doing so - you might have to use a debugger to see where and what the Persistence class is loading and if it gets that far.","body":"My experiences have me believe this error is commonly because of class paths. Where is the persistence.xml file itself: are you able to load it in your java app&#39;s main method? Are you able to load the org.eclipse.persistence.jpa.PersistenceProvider class in it (new PersistenceProvider()) ? <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a> shows how to turn on logging, but only helps if EclipseLink is trying to load the file and throwing an error doing so - you might have to use a debugger to see where and what the Persistence class is loading and if it gets that far."}],"answers":[{"tags":[],"owner":{"account_id":4018975,"reputation":11,"user_id":3310034,"display_name":"Said"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657025477,"creation_date":1656957721,"answer_id":72860543,"question_id":72092996,"body_markdown":"You use a latest version of persistence xml based on jakarta xsd (3.0) but you use javax.persistence to connect to your database. \r\n\r\nYou juste have to use :\r\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\r\n    &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;Driver ...&quot;/&gt;\r\n    &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:...&quot;/&gt;\r\n    &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;user&quot;/&gt;\r\n    &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;psw&quot;/&gt;  \r\n\r\nand include the folloin artifacte in you&#39;r pom.xml\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n\t    &lt;version&gt;3.0.2&lt;/version&gt;\r\n\t &lt;/dependency&gt;\r\n\r\n    -- Or\r\n      \r\n\r\n\r\n     &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;hibernate-core-jakarta&lt;/artifactId&gt;\r\n\t    &lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n\t &lt;/dependency&gt;   \r\n","title":"EclipseLink &quot;No Persistence provider for EntityManager named ...&quot; exception","body":"<p>You use a latest version of persistence xml based on jakarta xsd (3.0) but you use javax.persistence to connect to your database.</p>\n<p>You juste have to use :\norg.hibernate.jpa.HibernatePersistenceProvider</p>\n<pre><code>&lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;Driver ...&quot;/&gt;\n&lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:...&quot;/&gt;\n&lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;user&quot;/&gt;\n&lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;psw&quot;/&gt;  \n</code></pre>\n<p>and include the folloin artifacte in you'r pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n &lt;/dependency&gt;\n\n-- Or\n  \n\n\n &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core-jakarta&lt;/artifactId&gt;\n    &lt;version&gt;5.6.9.Final&lt;/version&gt;\n &lt;/dependency&gt;   \n</code></pre>\n"}],"owner":{"account_id":23687021,"reputation":23,"user_id":18851366,"display_name":"0410"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693992066,"creation_date":1651530122,"question_id":72092996,"body_markdown":"I&#39;m trying to create a simple Java app, using JPA to communicate with a MySQL database, that allows me to insert new rows into the tables found in the database, retrieve the data inside them, etc. But when I try running it, I get this error:\r\n```\r\nException in thread &quot;main&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named default\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:85)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat com.lab9.Main.main(Main.java:9)\r\n```\r\n\r\nI know this question has already been asked a few times on here, but none of the older threads have been of any help to me. Usually, people seem to get this exception because they have their &lt;code&gt;persistence.xml&lt;/code&gt; file in the wrong directory, or because they forgot to specify a &lt;code&gt;\\&lt;provider\\&gt;&lt;/code&gt; in said file, neither of which is the case for me. This is what my project structure looks like in IntelliJ:\r\n&lt;br&gt;\r\n[![enter image description here][1]][1] \r\n\r\n  [1]: https://i.stack.imgur.com/5fYMj.png\r\n\r\nAs you can see, I have &lt;code&gt;persistence.xml&lt;/code&gt; in &lt;code&gt;src/main/resources/META-INF&lt;/code&gt;, where it&#39;s supposed to be. Inside this file, I have this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\r\n             version=&quot;3.0&quot;&gt;\r\n    &lt;persistence-unit name=&quot;default&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n        &lt;class&gt;com.lab9.Continent&lt;/class&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/cities&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\nAnd finally, in my &lt;code&gt;pom.xml&lt;/code&gt; file, I added these dependencies:\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.28&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\nI&#39;ve tried pretty much everything: moving files around, adding and deleting dependencies, re-writing the whole program from scratch, yet nothing seems to work.","title":"EclipseLink &quot;No Persistence provider for EntityManager named ...&quot; exception","body":"<p>I'm trying to create a simple Java app, using JPA to communicate with a MySQL database, that allows me to insert new rows into the tables found in the database, retrieve the data inside them, etc. But when I try running it, I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named default\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:85)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at com.lab9.Main.main(Main.java:9)\n</code></pre>\n<p>I know this question has already been asked a few times on here, but none of the older threads have been of any help to me. Usually, people seem to get this exception because they have their <code>persistence.xml</code> file in the wrong directory, or because they forgot to specify a <code>&lt;provider&gt;</code> in said file, neither of which is the case for me. This is what my project structure looks like in IntelliJ:\n<br>\n<a href=\"https://i.stack.imgur.com/5fYMj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5fYMj.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, I have <code>persistence.xml</code> in <code>src/main/resources/META-INF</code>, where it's supposed to be. Inside this file, I have this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\n             version=&quot;3.0&quot;&gt;\n    &lt;persistence-unit name=&quot;default&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n        &lt;class&gt;com.lab9.Continent&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/cities&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>And finally, in my <code>pom.xml</code> file, I added these dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.28&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>I've tried pretty much everything: moving files around, adding and deleting dependencies, re-writing the whole program from scratch, yet nothing seems to work.</p>\n"},{"tags":["java","intellij-idea","console","jline3"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1693989373,"post_id":77050180,"comment_id":135830808,"body_markdown":"Ensure that JLine-console-3.23.0.jar was added to the project / module libraries. Please see https://www.jetbrains.com/help/idea/library.html#define-a-project-library","body":"Ensure that JLine-console-3.23.0.jar was added to the project / module libraries. Please see <a href=\"https://www.jetbrains.com/help/idea/library.html#define-a-project-library\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/library.html#define-a-project-librar&zwnj;&#8203;y</a>"},{"owner":{"account_id":29328318,"reputation":1,"user_id":22470318,"display_name":"BE9INE"},"score":0,"creation_date":1693990988,"post_id":77050180,"comment_id":135831165,"body_markdown":"I did this, restarted IntelliJ and it still shows me the errors... :(","body":"I did this, restarted IntelliJ and it still shows me the errors... :("}],"owner":{"account_id":29328318,"reputation":1,"user_id":22470318,"display_name":"BE9INE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693992016,"answer_count":0,"score":0,"last_activity_date":1693991989,"creation_date":1693988559,"question_id":77050180,"body_markdown":"I&#39;ve been trying to build a console clear command into my final assignment for school.\r\n\r\nBeforehand I was trying to use a TerminalClear command; but this does not work as IntelliJ uses a Console instead of Terminal when running my application.\r\n\r\nWhen researching my issue, I came across this [Quora Post](https://www.quora.com/Is-there-any-way-to-clear-the-console-screen-in-Java-using-intellij-For-example-I-am-trying-to-make-it-look-like-how-it-happens-when-we-use-system-cls-in-C), and I saw Philip Gust&#39;s answer to it. \r\n\r\n \r\n\r\nI downloaded JLine-console-3.23.0.jar and I have been trying to get this to work based on the limited documentation on its functionalities (that I could find).\r\n\r\n\r\n```\r\nimport org.jline.*;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class TerminalClear {\r\n    public static void main(String[] args) throws IOException {\r\n        Terminal terminal = TerminalBuilder.builder().build();\r\n\r\n        // Clear the terminal screen using JLine\r\n        terminal.puts(InfoCmp.Capability.clear_screen);\r\n        terminal.flush();\r\n\r\n        // Display a message to indicate that the console has been cleared\r\n        System.out.println(&quot;Terminal cleared!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHowever its stricken with &quot;Cannot resolve method / symbol &#39;x&#39; &quot; errors.\r\nDoes anyone know how to fix this?","title":"Is there a way to use a console clear method in IntelliJ IDEA","body":"<p>I've been trying to build a console clear command into my final assignment for school.</p>\n<p>Beforehand I was trying to use a TerminalClear command; but this does not work as IntelliJ uses a Console instead of Terminal when running my application.</p>\n<p>When researching my issue, I came across this <a href=\"https://www.quora.com/Is-there-any-way-to-clear-the-console-screen-in-Java-using-intellij-For-example-I-am-trying-to-make-it-look-like-how-it-happens-when-we-use-system-cls-in-C\" rel=\"nofollow noreferrer\">Quora Post</a>, and I saw Philip Gust's answer to it.</p>\n<p>I downloaded JLine-console-3.23.0.jar and I have been trying to get this to work based on the limited documentation on its functionalities (that I could find).</p>\n<pre><code>import org.jline.*;\n\nimport java.io.IOException;\n\npublic class TerminalClear {\n    public static void main(String[] args) throws IOException {\n        Terminal terminal = TerminalBuilder.builder().build();\n\n        // Clear the terminal screen using JLine\n        terminal.puts(InfoCmp.Capability.clear_screen);\n        terminal.flush();\n\n        // Display a message to indicate that the console has been cleared\n        System.out.println(&quot;Terminal cleared!&quot;);\n    }\n}\n</code></pre>\n<p>However its stricken with &quot;Cannot resolve method / symbol 'x' &quot; errors.\nDoes anyone know how to fix this?</p>\n"},{"tags":["java","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":25644832,"reputation":11,"user_id":22124017,"display_name":"Ahmed Mohamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693991648,"creation_date":1693991648,"answer_id":77050568,"question_id":77044851,"body_markdown":"I found that class `InputFile` has a constructor with this signature `public InputFile(InputStream mediaStream, String fileName)` which accepts input stream of the file and the file path as parameters so I tried this and it worked.\r\n\r\n    InputStream stream = new URL(myUrl).openStream();\r\n    SendPhoto sendPhoto = new SendPhoto();\r\n    sendPhoto.setChatId(chatId);\r\n    sendPhoto.setPhoto(new InputFile(stream, myUrl));\r\n\r\n","title":"How to send photo with Telegram bot API in Java","body":"<p>I found that class <code>InputFile</code> has a constructor with this signature <code>public InputFile(InputStream mediaStream, String fileName)</code> which accepts input stream of the file and the file path as parameters so I tried this and it worked.</p>\n<pre><code>InputStream stream = new URL(myUrl).openStream();\nSendPhoto sendPhoto = new SendPhoto();\nsendPhoto.setChatId(chatId);\nsendPhoto.setPhoto(new InputFile(stream, myUrl));\n</code></pre>\n"}],"owner":{"account_id":25644832,"reputation":11,"user_id":22124017,"display_name":"Ahmed Mohamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693991882,"creation_date":1693919914,"question_id":77044851,"body_markdown":"I have some API endpoint that contains photo and I want to send it to Telegram bot using my Telegram bot controller using `SendPhoto` class and I tried with the following code \r\n\r\n    SendPhoto sendPhoto = new SendPhoto();\r\n    sendPhoto.setChatId(chatId);\r\n    sendPhoto.setPhoto(&quot;http://localhost:3000/media/photo_97@05-06-2023_00-22-51.jpg&quot;);\r\n\r\nThis resulted in error of method setPhoto doesn&#39;t support String parameters and only supports InputFile type \r\n\r\nSo I tried the following \r\n\r\n    SendPhoto sendPhoto = new SendPhoto();\r\n    sendPhoto.setChatId(chatId);\r\n    sendPhoto.setPhoto(new InputFile(&quot;http://localhost:3000/media/photo_97@05-06-2023_00-22-51.jpg&quot;));\r\n\r\nThis gave me this error which I don&#39;t understand \r\n\r\n    Error executing org.telegram.telegrambots.meta.api.methods.send.SendPhoto query: [400] Bad Request: wrong HTTP URL specified\r\n\r\nI also tried to test the endpoint using Postman more than once and it seems to work properly.","title":"How to send photo with Telegram bot API in Java","body":"<p>I have some API endpoint that contains photo and I want to send it to Telegram bot using my Telegram bot controller using <code>SendPhoto</code> class and I tried with the following code</p>\n<pre><code>SendPhoto sendPhoto = new SendPhoto();\nsendPhoto.setChatId(chatId);\nsendPhoto.setPhoto(&quot;http://localhost:3000/media/photo_97@05-06-2023_00-22-51.jpg&quot;);\n</code></pre>\n<p>This resulted in error of method setPhoto doesn't support String parameters and only supports InputFile type</p>\n<p>So I tried the following</p>\n<pre><code>SendPhoto sendPhoto = new SendPhoto();\nsendPhoto.setChatId(chatId);\nsendPhoto.setPhoto(new InputFile(&quot;http://localhost:3000/media/photo_97@05-06-2023_00-22-51.jpg&quot;));\n</code></pre>\n<p>This gave me this error which I don't understand</p>\n<pre><code>Error executing org.telegram.telegrambots.meta.api.methods.send.SendPhoto query: [400] Bad Request: wrong HTTP URL specified\n</code></pre>\n<p>I also tried to test the endpoint using Postman more than once and it seems to work properly.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1165929,"reputation":7226,"user_id":1144248,"accept_rate":78,"display_name":"Alex Coleman"},"score":2,"creation_date":1346000026,"post_id":12132003,"comment_id":16226096,"body_markdown":"Do you have the HUD class imported in both?","body":"Do you have the HUD class imported in both?"},{"owner":{"account_id":11834942,"reputation":71,"user_id":8660553,"display_name":"Sahil SInghal"},"score":1,"creation_date":1562646523,"post_id":12132003,"comment_id":100430242,"body_markdown":"this is the only solution for this problem which worked for me\nhttps://stackoverflow.com/a/56473166/8660553","body":"this is the only solution for this problem which worked for me <a href=\"https://stackoverflow.com/a/56473166/8660553\">stackoverflow.com/a/56473166/8660553</a>"}],"answers":[{"comments":[{"owner":{"account_id":1165929,"reputation":7226,"user_id":1144248,"accept_rate":78,"display_name":"Alex Coleman"},"score":0,"creation_date":1346000153,"post_id":12132027,"comment_id":16226141,"body_markdown":"1 is a possiblity, but wouldn&#39;t 2 not give him an error saying it couldn&#39;t find HUD, but rather an error saying it doesn&#39;t have getInstance/update method?","body":"1 is a possiblity, but wouldn&#39;t 2 not give him an error saying it couldn&#39;t find HUD, but rather an error saying it doesn&#39;t have getInstance/update method?"},{"owner":{"account_id":501769,"reputation":9256,"user_id":1022707,"accept_rate":63,"display_name":"clankill3r"},"score":0,"creation_date":1378913804,"post_id":12132027,"comment_id":27628517,"body_markdown":"this option seems to be gone.","body":"this option seems to be gone."},{"owner":{"account_id":367326,"reputation":4244,"user_id":713454,"accept_rate":100,"display_name":"Dracontis"},"score":0,"creation_date":1385721833,"post_id":12132027,"comment_id":30260950,"body_markdown":"No, it transform to popup options: &quot;Mark Directory As &gt;&quot;","body":"No, it transform to popup options: &quot;Mark Directory As &gt;&quot;"},{"owner":{"account_id":4224855,"reputation":1633,"user_id":3458608,"accept_rate":82,"display_name":"Se Song"},"score":0,"creation_date":1509418312,"post_id":12132027,"comment_id":81001398,"body_markdown":"My src contain test folder inside, and multi modules, after mark it as Source Root my issue is worst.","body":"My src contain test folder inside, and multi modules, after mark it as Source Root my issue is worst."},{"owner":{"account_id":433134,"reputation":4959,"user_id":818300,"display_name":"Lawrence"},"score":0,"creation_date":1515021657,"post_id":12132027,"comment_id":83148056,"body_markdown":"For me this was close to the right answer. My source root was already marked, but I had to &quot;Unmark as Sources Root&quot; and then mark it as the Sources root again in order to fix the error.","body":"For me this was close to the right answer. My source root was already marked, but I had to &quot;Unmark as Sources Root&quot; and then mark it as the Sources root again in order to fix the error."}],"tags":[],"owner":{"account_id":138907,"reputation":10999,"user_id":344155,"accept_rate":84,"display_name":"Paul Sanwald"},"comment_count":5,"down_vote_count":2,"up_vote_count":37,"is_accepted":false,"score":35,"last_activity_date":1346000523,"creation_date":1346000067,"answer_id":12132027,"question_id":12132003,"body_markdown":"This is likely to be  your ../src folder is not marked as a &quot;source&quot; folder in Intellij IDEA, so it doesn&#39;t know to look there to find your class. You can right click the folder in the project explorer and choose &quot;mark as source folder&quot; to fix this.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>This is likely to be  your ../src folder is not marked as a \"source\" folder in Intellij IDEA, so it doesn't know to look there to find your class. You can right click the folder in the project explorer and choose \"mark as source folder\" to fix this.</p>\n"},{"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1346005645,"post_id":12132633,"comment_id":16227433,"body_markdown":"IntelliJ can handle multiple classes in a single file just fine, it just needs to be sure that the file was compiled at some point.","body":"IntelliJ can handle multiple classes in a single file just fine, it just needs to be sure that the file was compiled at some point."},{"owner":{"account_id":2652350,"reputation":834,"user_id":2293700,"accept_rate":100,"display_name":"nihilon"},"score":0,"creation_date":1426858367,"post_id":12132633,"comment_id":46553990,"body_markdown":"Yeah, except that I just had the same issue with a single class file. Oddly enough, it had been running just fine right before I ran this maven command: `mvn com.zenjava:javafx-maven-plugin:2.0:fix-classpath`. It&#39;s meant to move the javafx jar from the libs directory to the ext directory for the current JDK. I found it [here](http://zenjava.com/javafx/maven/fix-classpath.html).","body":"Yeah, except that I just had the same issue with a single class file. Oddly enough, it had been running just fine right before I ran this maven command: <code>mvn com.zenjava:javafx-maven-plugin:2.0:fix-classpath</code>. It&#39;s meant to move the javafx jar from the libs directory to the ext directory for the current JDK. I found it <a href=\"http://zenjava.com/javafx/maven/fix-classpath.html\" rel=\"nofollow noreferrer\">here</a>."}],"tags":[],"owner":{"account_id":329940,"reputation":2209,"user_id":653755,"display_name":"joe"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1346004599,"creation_date":1346004599,"answer_id":12132633,"question_id":12132003,"body_markdown":"Thanks for the help so far, turns out the fix was to compile HUD.java first (right click on the file-&gt; Compile HUD.java). After compiling the java file the rest of the project could be  compiled without any problems.\r\n\r\nI don&#39;t really know why this fixed it, or why IntelliJ wouldn&#39;t do this automatically, but root error seems it has to do with IntelliJ not correctly handling having multiple classes in a single .java file.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Thanks for the help so far, turns out the fix was to compile HUD.java first (right click on the file-> Compile HUD.java). After compiling the java file the rest of the project could be  compiled without any problems.</p>\n\n<p>I don't really know why this fixed it, or why IntelliJ wouldn't do this automatically, but root error seems it has to do with IntelliJ not correctly handling having multiple classes in a single .java file.</p>\n"},{"tags":[],"owner":{"account_id":1009199,"reputation":709,"user_id":1022221,"display_name":"Sjoerd K"},"comment_count":0,"down_vote_count":1,"up_vote_count":61,"is_accepted":false,"score":60,"last_activity_date":1362561210,"creation_date":1362561210,"answer_id":15243151,"question_id":12132003,"body_markdown":"I had the same problem, and turns out I had never completely compiled the fresh project. So right-clicking and selecting Compile&#39;&lt;default&gt;&#39; (shift-cmd-F9 on mac) fixed it. It seems the compile on save does not &#39;see&#39; non-compiled files.\r\n\r\nMarking the src folder as source did _not_ help in my case.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I had the same problem, and turns out I had never completely compiled the fresh project. So right-clicking and selecting Compile'' (shift-cmd-F9 on mac) fixed it. It seems the compile on save does not 'see' non-compiled files.</p>\n\n<p>Marking the src folder as source did <em>not</em> help in my case.</p>\n"},{"comments":[{"owner":{"account_id":184453,"reputation":5652,"user_id":420504,"accept_rate":61,"display_name":"Moiz Raja"},"score":1,"creation_date":1378916264,"post_id":16223665,"comment_id":27630090,"body_markdown":"clean is a maven lifecycle. You use it if you want to clean up all the output files that have been created by the maven project.","body":"clean is a maven lifecycle. You use it if you want to clean up all the output files that have been created by the maven project."}],"tags":[],"owner":{"account_id":184453,"reputation":5652,"user_id":420504,"accept_rate":61,"display_name":"Moiz Raja"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1366919931,"creation_date":1366919931,"answer_id":16223665,"question_id":12132003,"body_markdown":"I use maven in my project. For some reason IntelliJ was giving me these kind of wierd errors. I ran mvn clean and tried a resync and these errors disappeared.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I use maven in my project. For some reason IntelliJ was giving me these kind of wierd errors. I ran mvn clean and tried a resync and these errors disappeared.</p>\n"},{"tags":[],"owner":{"account_id":2132099,"reputation":171,"user_id":1892719,"accept_rate":75,"display_name":"Matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405352475,"creation_date":1405352475,"answer_id":24740392,"question_id":12132003,"body_markdown":"I know this is an old question, but as per my recent experience, this happens because the build resources are either deleted or Idea cannot recognize them as the source.\r\n\r\nWherever the error appears, provide sources for the folder/directory and this error must be resolved.\r\n\r\nSometimes even when we assign sources for the whole folder, individual classes might still be unavailable. For novice users simple solution is to import a fresh copy and build the application again to be good to go.\r\n\r\nIt is advisable to do a clean install after this.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I know this is an old question, but as per my recent experience, this happens because the build resources are either deleted or Idea cannot recognize them as the source.</p>\n\n<p>Wherever the error appears, provide sources for the folder/directory and this error must be resolved.</p>\n\n<p>Sometimes even when we assign sources for the whole folder, individual classes might still be unavailable. For novice users simple solution is to import a fresh copy and build the application again to be good to go.</p>\n\n<p>It is advisable to do a clean install after this.</p>\n"},{"comments":[{"owner":{"account_id":3242158,"reputation":2795,"user_id":2734863,"accept_rate":75,"display_name":"Frikster"},"score":0,"creation_date":1611706057,"post_id":26346769,"comment_id":116536510,"body_markdown":"Similarly you can also delete your offending module (a gradle one in my case) and then reimport with File -&gt; New -&gt; Module from existing sources which is what I had to do.\n\nThough I also had to modify the .idea file manually for reimport to finally work: https://stackoverflow.com/questions/18881062/intellij-12-cant-reimport-module","body":"Similarly you can also delete your offending module (a gradle one in my case) and then reimport with File -&gt; New -&gt; Module from existing sources which is what I had to do.  Though I also had to modify the .idea file manually for reimport to finally work: <a href=\"https://stackoverflow.com/questions/18881062/intellij-12-cant-reimport-module\" title=\"intellij 12 cant reimport module\">stackoverflow.com/questions/18881062/&hellip;</a>"}],"tags":[],"owner":{"account_id":332110,"reputation":3723,"user_id":657205,"accept_rate":100,"display_name":"Christian Wilkie"},"comment_count":1,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1413226096,"creation_date":1413225790,"answer_id":26346769,"question_id":12132003,"body_markdown":"I was getting the same &quot;cannot find symbol&quot; error when I did `Build -&gt; Make Project`. I fixed this by deleting my Maven `/target` folder, right clicking my project module and doing `Maven -&gt; Reimport`, and doing `Build -&gt; Rebuild Project`. This was on IntelliJ Idea 13.1.5.\r\n\r\nIt turns out the `Maven -&gt; Reimport` was key, since the problem resurfaced a few times before I finally did that.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I was getting the same \"cannot find symbol\" error when I did <code>Build -&gt; Make Project</code>. I fixed this by deleting my Maven <code>/target</code> folder, right clicking my project module and doing <code>Maven -&gt; Reimport</code>, and doing <code>Build -&gt; Rebuild Project</code>. This was on IntelliJ Idea 13.1.5.</p>\n\n<p>It turns out the <code>Maven -&gt; Reimport</code> was key, since the problem resurfaced a few times before I finally did that.</p>\n"},{"comments":[{"owner":{"account_id":1295670,"reputation":1028,"user_id":3281722,"display_name":"fxnn"},"score":0,"creation_date":1512473901,"post_id":33468930,"comment_id":82263489,"body_markdown":"Downvoted, as classes can be imported from other packages. Generally, the target class must be imported and in classpath; when using Maven, the dependency must be set correctly.","body":"Downvoted, as classes can be imported from other packages. Generally, the target class must be imported and in classpath; when using Maven, the dependency must be set correctly."}],"tags":[],"owner":{"account_id":6026139,"reputation":69,"user_id":4731786,"accept_rate":100,"display_name":"Pasha Shestakov"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1446424119,"creation_date":1446424119,"answer_id":33468930,"question_id":12132003,"body_markdown":"I know this is old, but for anyone else, make sure that the class that&#39;s missing is in the same package as the class where you get the error/where your calling it from.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I know this is old, but for anyone else, make sure that the class that's missing is in the same package as the class where you get the error/where your calling it from.</p>\n"},{"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":28,"creation_date":1578329019,"post_id":37135250,"comment_id":105394945,"body_markdown":"Invalidating caches does not result in lost changes. I&#39;m not even sure how that would work. If you save a file, it&#39;s saved, regardless of IntelliJ caching or committing to a repository.","body":"Invalidating caches does not result in lost changes. I&#39;m not even sure how that would work. If you save a file, it&#39;s saved, regardless of IntelliJ caching or committing to a repository."},{"owner":{"account_id":170189,"reputation":13749,"user_id":396732,"accept_rate":73,"display_name":"Kawu"},"score":0,"creation_date":1605545033,"post_id":37135250,"comment_id":114676396,"body_markdown":"One of the latest answers here did it for a rather old question.","body":"One of the latest answers here did it for a rather old question."},{"owner":{"account_id":2965471,"reputation":923,"user_id":2518705,"display_name":"RAM237"},"score":0,"creation_date":1656494163,"post_id":37135250,"comment_id":128584146,"body_markdown":"OMG, I have Tomcat and a bunch of Spring Boot apps running, I don&#39;t want to restart :( All I need is to re-compile one single class which was recently successfully compiled and deployed and all I changed is a boolean condition... Why, Intellij, why ?!","body":"OMG, I have Tomcat and a bunch of Spring Boot apps running, I don&#39;t want to restart :( All I need is to re-compile one single class which was recently successfully compiled and deployed and all I changed is a boolean condition... Why, Intellij, why ?!"}],"tags":[],"owner":{"account_id":2866905,"reputation":1561,"user_id":2461045,"accept_rate":65,"display_name":"ganninu93"},"comment_count":3,"down_vote_count":2,"up_vote_count":93,"is_accepted":false,"score":91,"last_activity_date":1462874598,"creation_date":1462874598,"answer_id":37135250,"question_id":12132003,"body_markdown":"I had the same problem and fixed it by clicking File&gt;Invalidate caches/ restart","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I had the same problem and fixed it by clicking File>Invalidate caches/ restart</p>\n"},{"tags":[],"owner":{"account_id":3297374,"reputation":57,"user_id":2774333,"accept_rate":86,"display_name":"Nimbrod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464599448,"creation_date":1464599448,"answer_id":37521799,"question_id":12132003,"body_markdown":"Since this is the first hit on Google searching for &quot;intelliJ cannot find symbol&quot; error, I&#39;m gonna throw in my solution as well. \r\n\r\nThe problem for me was that my project originated from Eclipse, and some files contained dependency on classes that were generated in `src/generated-sources` by specifications in pom.xml. For some reason, this was not properly executed when I first opened the project and rebuilding/re-importing did not help, so the files were never generated. \r\n\r\nThe solution was to right-click on the module, and select `Maven -&gt; Generate Sources and Update Folders` That solved the issue and I could compile. ","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Since this is the first hit on Google searching for \"intelliJ cannot find symbol\" error, I'm gonna throw in my solution as well. </p>\n\n<p>The problem for me was that my project originated from Eclipse, and some files contained dependency on classes that were generated in <code>src/generated-sources</code> by specifications in pom.xml. For some reason, this was not properly executed when I first opened the project and rebuilding/re-importing did not help, so the files were never generated. </p>\n\n<p>The solution was to right-click on the module, and select <code>Maven -&gt; Generate Sources and Update Folders</code> That solved the issue and I could compile. </p>\n"},{"tags":[],"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465939402,"creation_date":1465939402,"answer_id":37822367,"question_id":12132003,"body_markdown":"Make sure the source file of the java class you are trying to refer to has a `.java` extension. It was `.aj` in my case (I must have hit &quot;Create aspect&quot; instead of &quot;Create class&quot; when creating it). IntelliJ shows the same icon for this file as for &quot;normal&quot; class, but compiler does not see it when building.\r\n\r\nChanging `.aj` to `.java` fixed it in my case.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Make sure the source file of the java class you are trying to refer to has a <code>.java</code> extension. It was <code>.aj</code> in my case (I must have hit \"Create aspect\" instead of \"Create class\" when creating it). IntelliJ shows the same icon for this file as for \"normal\" class, but compiler does not see it when building.</p>\n\n<p>Changing <code>.aj</code> to <code>.java</code> fixed it in my case.</p>\n"},{"comments":[{"owner":{"account_id":6879766,"reputation":91,"user_id":5286861,"display_name":"hiljusti"},"score":48,"creation_date":1533447372,"post_id":41072533,"comment_id":90344955,"body_markdown":"Note for complete noobs to Java/IntelliJ: above is different from &quot;Build Project&quot;","body":"Note for complete noobs to Java/IntelliJ: above is different from &quot;Build Project&quot;"},{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":5,"creation_date":1550322409,"post_id":41072533,"comment_id":96230918,"body_markdown":"@JustinHill - I am well versed with eclipse and new to IntelliJ. Can you help me with respects to what&#39;s the difference between the two and any points/links that help me settle my time with IntellJ.","body":"@JustinHill - I am well versed with eclipse and new to IntelliJ. Can you help me with respects to what&#39;s the difference between the two and any points/links that help me settle my time with IntellJ."},{"owner":{"account_id":6879766,"reputation":91,"user_id":5286861,"display_name":"hiljusti"},"score":1,"creation_date":1554518589,"post_id":41072533,"comment_id":97793468,"body_markdown":"I&#39;m probably a worse resource than a google search, I haven&#39;t used Eclipse. My comment is just that &quot;Rebuild Project&quot; and &quot;Build Project&quot; are different options (I was helping someone who came across this and they didn&#39;t notice the difference between the options)","body":"I&#39;m probably a worse resource than a google search, I haven&#39;t used Eclipse. My comment is just that &quot;Rebuild Project&quot; and &quot;Build Project&quot; are different options (I was helping someone who came across this and they didn&#39;t notice the difference between the options)"},{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":8,"creation_date":1559151683,"post_id":41072533,"comment_id":99335030,"body_markdown":"Why did this work?  Invalidating caches and restarting didn&#39;t even work.","body":"Why did this work?  Invalidating caches and restarting didn&#39;t even work."},{"owner":{"account_id":416949,"reputation":2931,"user_id":792664,"accept_rate":67,"display_name":"Omtara"},"score":0,"creation_date":1575803613,"post_id":41072533,"comment_id":104681625,"body_markdown":"Worked.... Tried running &quot;maven clean compile&quot; but that was not solving the problem","body":"Worked.... Tried running &quot;maven clean compile&quot; but that was not solving the problem"},{"owner":{"account_id":2598298,"reputation":1279,"user_id":2251411,"accept_rate":33,"display_name":"Ashwani Agarwal"},"score":0,"creation_date":1600077008,"post_id":41072533,"comment_id":112963822,"body_markdown":"Why this answer is not showing as top answer despite having highest number of upvotes? I wasted an hour figuring this out.","body":"Why this answer is not showing as top answer despite having highest number of upvotes? I wasted an hour figuring this out."},{"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"score":0,"creation_date":1600774232,"post_id":41072533,"comment_id":113187822,"body_markdown":"Exactly this is causing the issue!","body":"Exactly this is causing the issue!"},{"owner":{"account_id":1685857,"reputation":560,"user_id":1549172,"display_name":"Leonardo Brambilla"},"score":0,"creation_date":1634830217,"post_id":41072533,"comment_id":123137588,"body_markdown":"I used &quot;build&quot;, clean cache, restarted, reload... nothing. I found this, I thought it won&#39;t do much but that&#39;s the trick! The magic word &quot;Rebuild&quot;, depending in your settings, you may get a couple of &quot;rebuild...&quot; options. Thanks!","body":"I used &quot;build&quot;, clean cache, restarted, reload... nothing. I found this, I thought it won&#39;t do much but that&#39;s the trick! The magic word &quot;Rebuild&quot;, depending in your settings, you may get a couple of &quot;rebuild...&quot; options. Thanks!"},{"owner":{"account_id":2965471,"reputation":923,"user_id":2518705,"display_name":"RAM237"},"score":0,"creation_date":1656493919,"post_id":41072533,"comment_id":128584055,"body_markdown":"LUL, this also failed with &quot;cannot find Symbol&quot; for me, but in different module.","body":"LUL, this also failed with &quot;cannot find Symbol&quot; for me, but in different module."},{"owner":{"account_id":4405015,"reputation":634,"user_id":3589678,"accept_rate":25,"display_name":"Ashu"},"score":0,"creation_date":1685153898,"post_id":41072533,"comment_id":134625997,"body_markdown":"Not worked. I have the right pom.xml but still having the same issue","body":"Not worked. I have the right pom.xml but still having the same issue"}],"tags":[],"owner":{"account_id":104821,"reputation":8403,"user_id":280041,"accept_rate":84,"display_name":"zeroboo"},"comment_count":10,"down_vote_count":9,"up_vote_count":315,"is_accepted":false,"score":306,"last_activity_date":1481348066,"creation_date":1481348066,"answer_id":41072533,"question_id":12132003,"body_markdown":"Select Build-&gt;Rebuild Project will solve it","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Select Build->Rebuild Project will solve it</p>\n"},{"tags":[],"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486430119,"creation_date":1486430119,"answer_id":42080059,"question_id":12132003,"body_markdown":"Sometimes the class you want is in the `test` source directory. Happened to me, anyway…","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Sometimes the class you want is in the <code>test</code> source directory. Happened to me, anyway…</p>\n"},{"tags":[],"owner":{"account_id":1728052,"reputation":25,"user_id":1582290,"display_name":"MoneeK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534773150,"creation_date":1534773150,"answer_id":51932265,"question_id":12132003,"body_markdown":"I was having the same problem except that I was importing the classes for which dependencies were not resolving somehow. I refreshed maven projects, Rebuild Project. It still did not resolve.\r\nLooks like IntelliJ was caching something incorrectly.\r\nI restarted IntelliJ and that resolved the dependencies. I guess it cleared the cache somehow.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I was having the same problem except that I was importing the classes for which dependencies were not resolving somehow. I refreshed maven projects, Rebuild Project. It still did not resolve.\nLooks like IntelliJ was caching something incorrectly.\nI restarted IntelliJ and that resolved the dependencies. I guess it cleared the cache somehow.</p>\n"},{"tags":[],"owner":{"account_id":1002869,"reputation":391,"user_id":1017333,"accept_rate":78,"display_name":"bitsmcgee77"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1537387098,"creation_date":1537387098,"answer_id":52413367,"question_id":12132003,"body_markdown":"I had to right-click the project, and select &quot;Reimport&quot; under the &quot;Run Maven&quot; submenu.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I had to right-click the project, and select \"Reimport\" under the \"Run Maven\" submenu.</p>\n"},{"tags":[],"owner":{"account_id":483027,"reputation":191,"user_id":897832,"accept_rate":17,"display_name":"Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538511642,"creation_date":1538511642,"answer_id":52615836,"question_id":12132003,"body_markdown":"For my case, the issue was with using Lombok&#39;s experimental feature @UtilityClass in my java project in Intellij Idea, to annotate a class methods as &quot;static&quot;. When I explicitly made each method of the class as &quot;static&quot; instead of using the annotation, all the compilation issues disappeared.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>For my case, the issue was with using Lombok's experimental feature @UtilityClass in my java project in Intellij Idea, to annotate a class methods as \"static\". When I explicitly made each method of the class as \"static\" instead of using the annotation, all the compilation issues disappeared.</p>\n"},{"tags":[],"owner":{"account_id":7282472,"reputation":2550,"user_id":5551731,"accept_rate":52,"display_name":"Taranjit Kang"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547965699,"creation_date":1547965699,"answer_id":54274139,"question_id":12132003,"body_markdown":"recompiling the main Application.java class did it for me, right click on class &gt; Recompile","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>recompiling the main Application.java class did it for me, right click on class > Recompile</p>\n"},{"comments":[{"owner":{"account_id":3653621,"reputation":1782,"user_id":3045181,"accept_rate":73,"display_name":"tokosh"},"score":0,"creation_date":1564383054,"post_id":57113424,"comment_id":100997119,"body_markdown":"In my case there were autogenerated classes (based on XML files) that other parts of the code referenced. While building with maven works, if not `mvn install`ed, IntelliJ did not see those references and failed the run-environment.","body":"In my case there were autogenerated classes (based on XML files) that other parts of the code referenced. While building with maven works, if not <code>mvn install</code>ed, IntelliJ did not see those references and failed the run-environment."}],"tags":[],"owner":{"account_id":3579641,"reputation":36,"user_id":2988149,"display_name":"edmar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563542603,"creation_date":1563542603,"answer_id":57113424,"question_id":12132003,"body_markdown":"I know this thread is old but, another solution was to run\r\n```\r\n$ mvn clean install -Dmaven.test.skip=true\r\n```\r\n\r\nAnd on IntelliJ do CMD + Shift + A (mac os) -&gt; type &quot;Reimport all Maven projects&quot;.\r\n\r\nIf that doesn&#39;t work, try forcing maven dependencies to be re-downloaded\r\n```\r\n$ mvn clean -U install -Dmaven.test.skip=true\r\n```","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I know this thread is old but, another solution was to run</p>\n\n<pre><code>$ mvn clean install -Dmaven.test.skip=true\n</code></pre>\n\n<p>And on IntelliJ do CMD + Shift + A (mac os) -> type \"Reimport all Maven projects\".</p>\n\n<p>If that doesn't work, try forcing maven dependencies to be re-downloaded</p>\n\n<pre><code>$ mvn clean -U install -Dmaven.test.skip=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11016286,"reputation":1993,"user_id":8092044,"accept_rate":80,"display_name":"Tomas Lukac"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1565339154,"creation_date":1565339154,"answer_id":57426173,"question_id":12132003,"body_markdown":"This happened to me when I deleted a folder and then copy-pasted it back to the project.\r\n\r\n```Right-click project folder -&gt; Rebuild``` worked for me.\r\n","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>This happened to me when I deleted a folder and then copy-pasted it back to the project.</p>\n\n<p><code>Right-click project folder -&gt; Rebuild</code> worked for me.</p>\n"},{"comments":[{"owner":{"account_id":11015002,"reputation":73,"user_id":8091125,"display_name":"Daniel D."},"score":10,"creation_date":1578997805,"post_id":58566532,"comment_id":105612892,"body_markdown":"Deleting the `.idea` folder did it for me.","body":"Deleting the <code>.idea</code> folder did it for me."},{"owner":{"account_id":79530,"reputation":2608,"user_id":225437,"accept_rate":50,"display_name":"Andrew"},"score":1,"creation_date":1625753201,"post_id":58566532,"comment_id":120715681,"body_markdown":"This worked as I had a couple of libraries on a second drive and windows update (oh the gift that keeps giving) created a boot partition that changed the drive letter. Even removing the old links and re adding them under project settings libraries didn&#39;t work until I deleted the .idea folder. Then option to recompile modules appears under the build menu.","body":"This worked as I had a couple of libraries on a second drive and windows update (oh the gift that keeps giving) created a boot partition that changed the drive letter. Even removing the old links and re adding them under project settings libraries didn&#39;t work until I deleted the .idea folder. Then option to recompile modules appears under the build menu."},{"owner":{"account_id":9997192,"reputation":587,"user_id":7394417,"accept_rate":79,"display_name":"jMan"},"score":0,"creation_date":1665565894,"post_id":58566532,"comment_id":130728423,"body_markdown":"I deleted .idea, .build, .gradle and this solved the issue for me","body":"I deleted .idea, .build, .gradle and this solved the issue for me"}],"tags":[],"owner":{"account_id":1588685,"reputation":1941,"user_id":1472493,"accept_rate":42,"display_name":"R11G"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1572043092,"creation_date":1572043092,"answer_id":58566532,"question_id":12132003,"body_markdown":"For me - I tried these steps(Invalidate Cache &amp; Restart, Maven Reimport)) but they didn&#39;t work. So I deleted the `.idea`, `.settings`, and `.project` folder and tried - it worked.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>For me - I tried these steps(Invalidate Cache &amp; Restart, Maven Reimport)) but they didn't work. So I deleted the <code>.idea</code>, <code>.settings</code>, and <code>.project</code> folder and tried - it worked.</p>\n"},{"tags":[],"owner":{"account_id":1117217,"reputation":427,"user_id":1106294,"display_name":"Muzammil"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580744809,"creation_date":1580744809,"answer_id":60042598,"question_id":12132003,"body_markdown":"If you are using Lombok, make sure you have enabled annotation processing.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>If you are using Lombok, make sure you have enabled annotation processing.</p>\n"},{"tags":[],"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581603565,"creation_date":1581603565,"answer_id":60209963,"question_id":12132003,"body_markdown":"I&#39;m seeing a lot of answers proposing a build or a re-build but just in case this don&#39;t fix your problem just notice that IDEA can detect a method but it will not compile in case you have a `new` before as it will be expecting the instance.\r\n\r\n   \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XDYlj.png","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I'm seeing a lot of answers proposing a build or a re-build but just in case this don't fix your problem just notice that IDEA can detect a method but it will not compile in case you have a <code>new</code> before as it will be expecting the instance.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XDYlj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XDYlj.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":4268353,"reputation":1129,"user_id":3490881,"accept_rate":80,"display_name":"nyarasha"},"score":0,"creation_date":1587678667,"post_id":60429696,"comment_id":108613989,"body_markdown":"Thank you! This fixed it for me.","body":"Thank you! This fixed it for me."}],"tags":[],"owner":{"account_id":7761380,"reputation":1421,"user_id":5874033,"display_name":"RaulDanielPopa"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582794584,"creation_date":1582794584,"answer_id":60429696,"question_id":12132003,"body_markdown":"For me was a problem with Lombok, because it requires Annotation Processing to be enabled. You can find this checkbox on `Settings &gt; Build &gt; Compiler &gt; Annotation Processors`","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>For me was a problem with Lombok, because it requires Annotation Processing to be enabled. You can find this checkbox on <code>Settings &gt; Build &gt; Compiler &gt; Annotation Processors</code></p>\n"},{"comments":[{"owner":{"account_id":2965471,"reputation":923,"user_id":2518705,"display_name":"RAM237"},"score":0,"creation_date":1634552643,"post_id":60833489,"comment_id":123046776,"body_markdown":"Isn&#39;t removing the scope still means &quot;compile&quot; ..?","body":"Isn&#39;t removing the scope still means &quot;compile&quot; ..?"}],"tags":[],"owner":{"account_id":3880403,"reputation":507,"user_id":7948652,"display_name":"nikiforovpizza"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585061543,"creation_date":1585061543,"answer_id":60833489,"question_id":12132003,"body_markdown":"In my case, I had a problem with finding a class from another module. In `pom.xml`, I just had this dependency with `&lt;scope&gt;compile&lt;/scope&gt;` specified. Removing this line helped.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>In my case, I had a problem with finding a class from another module. In <code>pom.xml</code>, I just had this dependency with <code>&lt;scope&gt;compile&lt;/scope&gt;</code> specified. Removing this line helped.</p>\n"},{"comments":[{"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"score":2,"creation_date":1596098434,"post_id":62448630,"comment_id":111703782,"body_markdown":"works : Try invalidating the IntelliJ cache and restarting the IDE, using File &gt; Invalidate caches/ restart","body":"works : Try invalidating the IntelliJ cache and restarting the IDE, using File &gt; Invalidate caches/ restart"}],"tags":[],"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1598948128,"creation_date":1592478632,"answer_id":62448630,"question_id":12132003,"body_markdown":"I faced the same problem, and there are a lot of solutions given in the answer, trying all these solutions took me quite some time, so here I would like to propose a methodical approach if you get this error.\r\n\r\n **Check for the following things, create/update if something is missing**\r\n\r\n 1. src folder is marked as the source folder\r\n 2. .imls files are present\r\n 3. Annotation processing is enabled\r\n 4. If you recently used @UtilityClass then it can also be the reason, [Bug Link](https://github.com/rzwitserloot/lombok/issues/2044)\r\n\r\n**If everything is fine, you can try following solutions in given order**\r\n\r\n 1. Recompile the file/module\r\n\r\n 2. If that didn&#39;t fix the issue, try refreshing maven dependency and building the project using `Maven -&gt; Reimport` and `Build -&gt; Rebuild Project`\r\n\r\n 3. Try `mvn clean install -DskipTests`\r\n\r\n 4. Try invalidating the IntelliJ cache and restarting the IDE, using `File &gt; Invalidate caches/ restart`\r\n\r\n 5. Delete the .idea folder and reimport the project\r\n\r\n\r\nCredit and Thanks to everyone who answered this question, you can refer to their answers for more description regarding each point.\r\n\r\n ","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I faced the same problem, and there are a lot of solutions given in the answer, trying all these solutions took me quite some time, so here I would like to propose a methodical approach if you get this error.</p>\n<p><strong>Check for the following things, create/update if something is missing</strong></p>\n<ol>\n<li>src folder is marked as the source folder</li>\n<li>.imls files are present</li>\n<li>Annotation processing is enabled</li>\n<li>If you recently used @UtilityClass then it can also be the reason, <a href=\"https://github.com/rzwitserloot/lombok/issues/2044\" rel=\"noreferrer\">Bug Link</a></li>\n</ol>\n<p><strong>If everything is fine, you can try following solutions in given order</strong></p>\n<ol>\n<li><p>Recompile the file/module</p>\n</li>\n<li><p>If that didn't fix the issue, try refreshing maven dependency and building the project using <code>Maven -&gt; Reimport</code> and <code>Build -&gt; Rebuild Project</code></p>\n</li>\n<li><p>Try <code>mvn clean install -DskipTests</code></p>\n</li>\n<li><p>Try invalidating the IntelliJ cache and restarting the IDE, using <code>File &gt; Invalidate caches/ restart</code></p>\n</li>\n<li><p>Delete the .idea folder and reimport the project</p>\n</li>\n</ol>\n<p>Credit and Thanks to everyone who answered this question, you can refer to their answers for more description regarding each point.</p>\n"},{"tags":[],"owner":{"account_id":6981729,"reputation":69,"user_id":5354382,"accept_rate":80,"display_name":"Raja aar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611409395,"creation_date":1611409395,"answer_id":65859872,"question_id":12132003,"body_markdown":"This works for me, say class A depends on class B(and class c, d etc) but the error throws on class A which does not have any errors. So I try to compile class A alone first -&gt;it shows error on the **package of class B**. So tried to compile whole package of class B. Now it throws which is the exact error class(on my case class B had error). Usually Intellj shows the exact error class with line number when compile/build. On some occasions it throws error in wrong place/class. Have a try.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>This works for me, say class A depends on class B(and class c, d etc) but the error throws on class A which does not have any errors. So I try to compile class A alone first -&gt;it shows error on the <strong>package of class B</strong>. So tried to compile whole package of class B. Now it throws which is the exact error class(on my case class B had error). Usually Intellj shows the exact error class with line number when compile/build. On some occasions it throws error in wrong place/class. Have a try.</p>\n"},{"tags":[],"owner":{"account_id":9019934,"reputation":51,"user_id":6721361,"display_name":"Sergei Ryzhov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628154634,"creation_date":1614881061,"answer_id":66480621,"question_id":12132003,"body_markdown":"Once when *Maven Reimport*,  *Rebuild Project*, *Invalidate caches* didn&#39;t help I deleted subfolders `artifacts` and `libraries` from .idea folder, not whole one, so I saved custom project settings.\r\n\r\n...and when nothing written here helps check *idea.log* file as posted [here](https://stackoverflow.com/a/42427510/6721361)","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Once when <em>Maven Reimport</em>,  <em>Rebuild Project</em>, <em>Invalidate caches</em> didn't help I deleted subfolders <code>artifacts</code> and <code>libraries</code> from .idea folder, not whole one, so I saved custom project settings.</p>\n<p>...and when nothing written here helps check <em>idea.log</em> file as posted <a href=\"https://stackoverflow.com/a/42427510/6721361\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1304524,"reputation":405,"user_id":3255453,"display_name":"learnerer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621474318,"creation_date":1621474318,"answer_id":67612837,"question_id":12132003,"body_markdown":"For me, the error was coming from ```@RequiredArgsConstructor(onConstructor = @__(@Inject))```, and the message was ```cannot find symbol __```. The error message right above this was &quot;java: You aren&#39;t using a compiler supported by lombok, so lombok will not work and has been disabled&quot;. \r\n\r\nAdding argument below in VM options worked as suggested [here](https://stackoverflow.com/a/65188047/3255453) worked for me.\r\n\r\n```\r\n-Djps.track.ap.dependencies=false\r\n```\r\n\r\n","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>For me, the error was coming from <code>@RequiredArgsConstructor(onConstructor = @__(@Inject))</code>, and the message was <code>cannot find symbol __</code>. The error message right above this was &quot;java: You aren't using a compiler supported by lombok, so lombok will not work and has been disabled&quot;.</p>\n<p>Adding argument below in VM options worked as suggested <a href=\"https://stackoverflow.com/a/65188047/3255453\">here</a> worked for me.</p>\n<pre><code>-Djps.track.ap.dependencies=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628158854,"creation_date":1628158854,"answer_id":68664784,"question_id":12132003,"body_markdown":"I tried everything and nothing worked for me. So, after wasting a couple of hours, I decided to **upgrade the IntelliJ** idea version, and finally, it worked!","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I tried everything and nothing worked for me. So, after wasting a couple of hours, I decided to <strong>upgrade the IntelliJ</strong> idea version, and finally, it worked!</p>\n"},{"tags":[],"owner":{"account_id":2736975,"reputation":1201,"user_id":2359447,"display_name":"Federico Traiman"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1637582471,"creation_date":1637582471,"answer_id":70065422,"question_id":12132003,"body_markdown":"I solved this problem doing right click on Java Folder and Rebuild &lt;default&gt;\r\n\r\n[![IntelliJ screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ghbag.png","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I solved this problem doing right click on Java Folder and Rebuild </p>\n<p><a href=\"https://i.stack.imgur.com/ghbag.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ghbag.png\" alt=\"IntelliJ screenshot\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1527660,"reputation":2400,"user_id":1579915,"display_name":"dr0i"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647362941,"creation_date":1647362941,"answer_id":71486001,"question_id":12132003,"body_markdown":"Delete all the contents inside `~/.m2` . Start `intellij-idea`.\r\n(Using IntelliJ IDEA 2021.3 (Community Edition))","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Delete all the contents inside <code>~/.m2</code> . Start <code>intellij-idea</code>.\n(Using IntelliJ IDEA 2021.3 (Community Edition))</p>\n"},{"tags":[],"owner":{"account_id":14556785,"reputation":392,"user_id":10514096,"display_name":"SpongeBob"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656568826,"creation_date":1656568826,"answer_id":72810952,"question_id":12132003,"body_markdown":"For me: I ran an `mvn clean install` in console(not with embedded IntelliJ maven). Then when I tried again in Intellji maven, it was working fine.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>For me: I ran an <code>mvn clean install</code> in console(not with embedded IntelliJ maven). Then when I tried again in Intellji maven, it was working fine.</p>\n"},{"tags":[],"owner":{"account_id":334900,"reputation":61,"user_id":331946,"accept_rate":60,"display_name":"coverboy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680395824,"creation_date":1680395824,"answer_id":75909566,"question_id":12132003,"body_markdown":"In my case,\r\n\r\n 1. close intelliJ.\r\n 2. delete &quot;.idea&quot; (which are hidden folders by default) from project root.\r\n 3. open IntelliJ\r\n 4. open settings --&gt; find annotation processors --&gt; check &quot;Enable annotation processing&quot;\r\n 5. Open Project structure from &quot;File&quot; menu. Set the appropriate JDK version.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>In my case,</p>\n<ol>\n<li>close intelliJ.</li>\n<li>delete &quot;.idea&quot; (which are hidden folders by default) from project root.</li>\n<li>open IntelliJ</li>\n<li>open settings --&gt; find annotation processors --&gt; check &quot;Enable annotation processing&quot;</li>\n<li>Open Project structure from &quot;File&quot; menu. Set the appropriate JDK version.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10974567,"reputation":101,"user_id":8063630,"display_name":"Prashant_Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682230700,"creation_date":1682230700,"answer_id":76083404,"question_id":12132003,"body_markdown":"In my case, it had nothing to do with the project build or the JDK version mismatch for the project and modules. Giving some context about what I was building:\r\n\r\n 1. I was creating a REST Controller, and a PostMapping in that controller.\r\n2. Method accepts a couple of path parameters.\r\n3. @Valid and @Size(min, max) constraints were applied on these params.\r\n4. What I did wrong was that I used a non-constant type from the service constant file to pass in the value for the min and max allowed in the @Size() annotation. In the service constant I by mistake had defined min/max as the `public static final Integer` type instead of the `**int**` type. This is a compilation issue as @Size would need constant values for min and max. \r\n5. So, check for such silly mistakes as well. Might save you time and effort.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>In my case, it had nothing to do with the project build or the JDK version mismatch for the project and modules. Giving some context about what I was building:</p>\n<ol>\n<li>I was creating a REST Controller, and a PostMapping in that controller.</li>\n<li>Method accepts a couple of path parameters.</li>\n<li>@Valid and @Size(min, max) constraints were applied on these params.</li>\n<li>What I did wrong was that I used a non-constant type from the service constant file to pass in the value for the min and max allowed in the @Size() annotation. In the service constant I by mistake had defined min/max as the <code>public static final Integer</code> type instead of the <code>**int**</code> type. This is a compilation issue as @Size would need constant values for min and max.</li>\n<li>So, check for such silly mistakes as well. Might save you time and effort.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":979607,"reputation":15,"user_id":999701,"display_name":"littlebooboo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686354289,"creation_date":1686354289,"answer_id":76444177,"question_id":12132003,"body_markdown":"Make sure the &quot;Target bytecode version&quot; in the Java Compiler settings is set to a java version that contains the feature you&#39;re trying to use. This value is normally set to &quot;Same as language level&quot; but can be overridden for individual modules. When that happens the code editor will show warnings based on the other language settings but the compiler will generate bytecode for the specified java version. If those language settings don&#39;t match it can be difficult to diagnose the problem.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Make sure the &quot;Target bytecode version&quot; in the Java Compiler settings is set to a java version that contains the feature you're trying to use. This value is normally set to &quot;Same as language level&quot; but can be overridden for individual modules. When that happens the code editor will show warnings based on the other language settings but the compiler will generate bytecode for the specified java version. If those language settings don't match it can be difficult to diagnose the problem.</p>\n"},{"tags":[],"owner":{"account_id":13572135,"reputation":44,"user_id":9790600,"display_name":"Jack Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688404032,"creation_date":1688404032,"answer_id":76606878,"question_id":12132003,"body_markdown":"In my case, I accidentally added a file to the compiler exclusion list somehow. I went to Preferences -&gt; Compiler -&gt; Excludes, and then removed the file from the exclusion list.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>In my case, I accidentally added a file to the compiler exclusion list somehow. I went to Preferences -&gt; Compiler -&gt; Excludes, and then removed the file from the exclusion list.</p>\n"},{"tags":[],"owner":{"account_id":358938,"reputation":611,"user_id":700043,"accept_rate":75,"display_name":"Seunghoon Baek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688480255,"creation_date":1688480255,"answer_id":76613556,"question_id":12132003,"body_markdown":"In my case, all packages of lombok were imported\r\nI removed this code and imported each required package separately and the problem was solved.\r\n\r\n    import lombok.*; // &lt;-- I just removed this line and reimport packages\r\n\r\nI also don&#39;t know why this solved the problem\r\nI tried all the solutions in the comments here, but it didn&#39;t work.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>In my case, all packages of lombok were imported\nI removed this code and imported each required package separately and the problem was solved.</p>\n<pre><code>import lombok.*; // &lt;-- I just removed this line and reimport packages\n</code></pre>\n<p>I also don't know why this solved the problem\nI tried all the solutions in the comments here, but it didn't work.</p>\n"},{"tags":[],"owner":{"account_id":10771996,"reputation":67,"user_id":19547282,"display_name":"blm99"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693991441,"creation_date":1693991441,"answer_id":77050543,"question_id":12132003,"body_markdown":"I had this problem and it was resolved by adding the following highlighted block into the pom.xml file.\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nRemember to update maven afterwards\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QsQHa.png\r\n  [2]: https://i.stack.imgur.com/Ao24y.png","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I had this problem and it was resolved by adding the following highlighted block into the pom.xml file.</p>\n<p><a href=\"https://i.stack.imgur.com/QsQHa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QsQHa.png\" alt=\"enter image description here\" /></a></p>\n<p>Remember to update maven afterwards</p>\n<p><a href=\"https://i.stack.imgur.com/Ao24y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ao24y.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":329940,"reputation":2209,"user_id":653755,"display_name":"joe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285906,"favorite_count":0,"down_vote_count":0,"up_vote_count":173,"answer_count":37,"score":173,"last_activity_date":1693991441,"creation_date":1345999833,"question_id":12132003,"body_markdown":"I make this call to a static singleton instance from the class `GameManager.java`.\r\n\r\n    HUD.getInstance().update(timeDelta);\r\n\r\n`HUD.java` contains the `HUD` class as well as two other related classes, `HUDTextElement` and `HUDElement`. All the classes are in the same root path `../src/org/mypackage`.\r\n\r\nHowever, when compiling this project in IntelliJ I get **cannot find Symbol HUD** on the line I make the `HUD.getInstance()` call.\r\n\r\nThis exact same code compiles just fine in Eclipse, any idea what the problem is?","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I make this call to a static singleton instance from the class <code>GameManager.java</code>.</p>\n<pre><code>HUD.getInstance().update(timeDelta);\n</code></pre>\n<p><code>HUD.java</code> contains the <code>HUD</code> class as well as two other related classes, <code>HUDTextElement</code> and <code>HUDElement</code>. All the classes are in the same root path <code>../src/org/mypackage</code>.</p>\n<p>However, when compiling this project in IntelliJ I get <strong>cannot find Symbol HUD</strong> on the line I make the <code>HUD.getInstance()</code> call.</p>\n<p>This exact same code compiles just fine in Eclipse, any idea what the problem is?</p>\n"},{"tags":["java","spring-boot","unit-testing","spring-boot-test","spring-context"],"answers":[{"comments":[{"owner":{"account_id":2650647,"reputation":1354,"user_id":3514976,"accept_rate":71,"display_name":"nonzaprej"},"score":0,"creation_date":1693985364,"post_id":77047079,"comment_id":135830047,"body_markdown":"Yeah it was getting instanced because otherwise I wouldn&#39;t have that conflict between beans of the same type (at least when specifying the test configuration class in the &quot;classes&quot; property of the `@SpringBootTest` annotation. Without that, I would get an exception even sooner due to some of the non-test beans failing to initialize).","body":"Yeah it was getting instanced because otherwise I wouldn&#39;t have that conflict between beans of the same type (at least when specifying the test configuration class in the &quot;classes&quot; property of the <code>@SpringBootTest</code> annotation. Without that, I would get an exception even sooner due to some of the non-test beans failing to initialize)."}],"tags":[],"owner":{"account_id":8608634,"reputation":36,"user_id":6447862,"display_name":"Pat Mogianesi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693940072,"creation_date":1693940072,"answer_id":77047079,"question_id":77045175,"body_markdown":"Check if the test configuration class is getting instanced and the beans are available to be injected. For test configuration classes I&#39;ve needed to use import annotation to describe which test configuration classes to use.\r\n\r\nFor example, to include the test-only configurations that I have under my test directory, I use the import like here:\r\n```\r\n@Slf4j\r\n@Import({ DynamoDbLocalServerConfig.class, RestMockServerConfig.class, DynamoDbTestClientConfig.class,\r\n        TestKafkaTemplateConfig.class })\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n        classes = PodsProcessorApplication.class)\r\n@EmbeddedKafka(brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9093&quot;, &quot;port=9093&quot; },\r\n        topics = { PROCESS_MARKER, PROCESS_MARKER_DEAD_LETTER })\r\n```","title":"Spring Boot tests: exclude one specific @Configuration class without using the @Profile annotation","body":"<p>Check if the test configuration class is getting instanced and the beans are available to be injected. For test configuration classes I've needed to use import annotation to describe which test configuration classes to use.</p>\n<p>For example, to include the test-only configurations that I have under my test directory, I use the import like here:</p>\n<pre><code>@Slf4j\n@Import({ DynamoDbLocalServerConfig.class, RestMockServerConfig.class, DynamoDbTestClientConfig.class,\n        TestKafkaTemplateConfig.class })\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n        classes = PodsProcessorApplication.class)\n@EmbeddedKafka(brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9093&quot;, &quot;port=9093&quot; },\n        topics = { PROCESS_MARKER, PROCESS_MARKER_DEAD_LETTER })\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2650647,"reputation":1354,"user_id":3514976,"accept_rate":71,"display_name":"nonzaprej"},"score":0,"creation_date":1693985047,"post_id":77047136,"comment_id":135829989,"body_markdown":"&quot;but probably you&#39;ve decided to unify them into one configuration class for some business reason&quot; No I didn&#39;t, I wrote the pseudo-code and it has 2 separate (non-test) configuration classes, the `@SpringBootApplication` one and the `@Configuration` one. Anyway, there are no beans that need to be conditionally disabled outside of tests, and I won&#39;t use the `@ConditionalOnProperty` annotation to disable beans during tests only. That would mean writing test-related code in the main app code, and I don&#39;t want to do it. But thank you anyway for helping.","body":"&quot;but probably you&#39;ve decided to unify them into one configuration class for some business reason&quot; No I didn&#39;t, I wrote the pseudo-code and it has 2 separate (non-test) configuration classes, the <code>@SpringBootApplication</code> one and the <code>@Configuration</code> one. Anyway, there are no beans that need to be conditionally disabled outside of tests, and I won&#39;t use the <code>@ConditionalOnProperty</code> annotation to disable beans during tests only. That would mean writing test-related code in the main app code, and I don&#39;t want to do it. But thank you anyway for helping."}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693940679,"creation_date":1693940679,"answer_id":77047136,"question_id":77045175,"body_markdown":"You say you have two configuration classes, each class contains definitions of some beans, but probably you&#39;ve decided to unify them into one configuration class for some business reason...\r\n\r\nSo here is my suggestion:\r\n\r\nUse `@ConditionalOnProperty` annotation on your configuration classes. The property will make sense because it can turn on / off some **business feature**\r\n\r\n```\r\n@ConditionalOnProperty(name=&quot;myFeature1&quot;, hasValue=true, matchIfMissing=true)\r\n@Configuration\r\npublic class MyConfigurationA {\r\n   ....\r\n}\r\n\r\n@ConditionalOnProperty(name=&quot;myFeature2&quot;, hasValue=true, matchIfMissing=true)\r\n@Configuration\r\npublic class MyConfigurationB {\r\n   ....\r\n}\r\n```\r\n\r\nIn runtime it will be resolved to be &quot;true&quot; and load all the beans.\r\n\r\nIn tests, however, let&#39;s say you want to exclude beans defined in `MyConfigurationB` from being loaded\r\n\r\nSo define `src/test/resources/application.yml` (or use any other way of property definitions in tests) where you you can write something like this:\r\n\r\n```\r\nmyFeature2=false\r\n```\r\nNow all beans from `MyConfigurationB` won&#39;t be loaded at all","title":"Spring Boot tests: exclude one specific @Configuration class without using the @Profile annotation","body":"<p>You say you have two configuration classes, each class contains definitions of some beans, but probably you've decided to unify them into one configuration class for some business reason...</p>\n<p>So here is my suggestion:</p>\n<p>Use <code>@ConditionalOnProperty</code> annotation on your configuration classes. The property will make sense because it can turn on / off some <strong>business feature</strong></p>\n<pre><code>@ConditionalOnProperty(name=&quot;myFeature1&quot;, hasValue=true, matchIfMissing=true)\n@Configuration\npublic class MyConfigurationA {\n   ....\n}\n\n@ConditionalOnProperty(name=&quot;myFeature2&quot;, hasValue=true, matchIfMissing=true)\n@Configuration\npublic class MyConfigurationB {\n   ....\n}\n</code></pre>\n<p>In runtime it will be resolved to be &quot;true&quot; and load all the beans.</p>\n<p>In tests, however, let's say you want to exclude beans defined in <code>MyConfigurationB</code> from being loaded</p>\n<p>So define <code>src/test/resources/application.yml</code> (or use any other way of property definitions in tests) where you you can write something like this:</p>\n<pre><code>myFeature2=false\n</code></pre>\n<p>Now all beans from <code>MyConfigurationB</code> won't be loaded at all</p>\n"},{"comments":[{"owner":{"account_id":2650647,"reputation":1354,"user_id":3514976,"accept_rate":71,"display_name":"nonzaprej"},"score":0,"creation_date":1693983985,"post_id":77047434,"comment_id":135829830,"body_markdown":"I did not say that I thought that the non-primary beans don&#39;t get created. I said that the @Primary annotation would solve my problems if some beans didn&#39;t fail to initialize because I know that they wouldn&#39;t have impacted the tests when not used, anyway.","body":"I did not say that I thought that the non-primary beans don&#39;t get created. I said that the @Primary annotation would solve my problems if some beans didn&#39;t fail to initialize because I know that they wouldn&#39;t have impacted the tests when not used, anyway."},{"owner":{"account_id":2650647,"reputation":1354,"user_id":3514976,"accept_rate":71,"display_name":"nonzaprej"},"score":0,"creation_date":1693984522,"post_id":77047434,"comment_id":135829902,"body_markdown":"For the rest, thank you, I hadn&#39;t tried the `allow-bean-definition-overriding` property yet because I thought it wasn&#39;t useful in this case but actually I had misunderstood how it worked. Now all the test beans have the same names as the real ones and they do replace them successfully.","body":"For the rest, thank you, I hadn&#39;t tried the <code>allow-bean-definition-overriding</code> property yet because I thought it wasn&#39;t useful in this case but actually I had misunderstood how it worked. Now all the test beans have the same names as the real ones and they do replace them successfully."}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693991175,"creation_date":1693944144,"answer_id":77047434,"question_id":77045175,"body_markdown":"You may have a misconception about `@Primary`. If multiple beans of the same type are defined, it does not mean that the one with `@Primary` will be created while the non-primary are ignored. `@Primary` is just useful for injection by type (e.g. `@Autowired`) which you have multiple beans of the same type defined but no `@Qualifier` are used to specify which bean to inject , then the `@Primary` one will be chosen to inject.\r\n\r\n\r\nThe current exception `BeanDefinitionOverrideException` is because you define multiple beans with the same bean name. It is not allowed because bean name is required to be a unique identifier. \r\n\r\n\r\nYou can configure `spring.main.allow-bean-definition-overriding=true` such that spring will not throw exception if it detects a bean with the same name is already defined before. Instead , it will override \r\nthe previous one with the current one. \r\n\r\nMeaning that change to the following should solve your problem : \r\n\r\n\r\n``` java\r\n@SpringBootTest(properties = {&quot;spring.main.allow-bean-definition-overriding=true&quot;}\r\n        , classes = {MyApplication.class, TestBeansConfiguration.class})\r\npublic class AppTest {\r\n\r\n\r\n}\r\n```\r\n\r\nThe bean processing order are based on the order of the context classes that are specified in `@SpringBootTest` .So beans defined due to the `TestBeansConfiguration` will override those due to `MyApplication` in case they have the same bean name.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot tests: exclude one specific @Configuration class without using the @Profile annotation","body":"<p>You may have a misconception about <code>@Primary</code>. If multiple beans of the same type are defined, it does not mean that the one with <code>@Primary</code> will be created while the non-primary are ignored. <code>@Primary</code> is just useful for injection by type (e.g. <code>@Autowired</code>) which you have multiple beans of the same type defined but no <code>@Qualifier</code> are used to specify which bean to inject , then the <code>@Primary</code> one will be chosen to inject.</p>\n<p>The current exception <code>BeanDefinitionOverrideException</code> is because you define multiple beans with the same bean name. It is not allowed because bean name is required to be a unique identifier.</p>\n<p>You can configure <code>spring.main.allow-bean-definition-overriding=true</code> such that spring will not throw exception if it detects a bean with the same name is already defined before. Instead , it will override\nthe previous one with the current one.</p>\n<p>Meaning that change to the following should solve your problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(properties = {&quot;spring.main.allow-bean-definition-overriding=true&quot;}\n        , classes = {MyApplication.class, TestBeansConfiguration.class})\npublic class AppTest {\n\n\n}\n</code></pre>\n<p>The bean processing order are based on the order of the context classes that are specified in <code>@SpringBootTest</code> .So beans defined due to the <code>TestBeansConfiguration</code> will override those due to <code>MyApplication</code> in case they have the same bean name.</p>\n"}],"owner":{"account_id":2650647,"reputation":1354,"user_id":3514976,"accept_rate":71,"display_name":"nonzaprej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77047434,"answer_count":3,"score":0,"last_activity_date":1693991175,"creation_date":1693922390,"question_id":77045175,"body_markdown":"My situation is this: I have a `@SpringBootApplication` class that defines some beans and configurations that are needed both at runtime and during tests, and (in the same package) a `@Configuration` class that defines the application&#39;s own beans.  \r\nIn unit tests, there are several of those beans that cannot be initialized and that I need to re-define and (partially) mock in a `@TestConfiguration` class.  \r\n  \r\nNow, using the `@Profile` annotation would easily solve my problem but I&#39;d prefer not writing any test-related code in the main application code. That includes the `&quot;test&quot;` profile in that annotation (or, well, `&quot;!test&quot;` I guess). Also I&#39;ve read that using it to manage beans like this is an anti-pattern.  \r\n  \r\nHere&#39;s some pseudo-code to make things clearer before saying what I tried:  \r\n  \r\nApplication class:\r\n\r\n```java\r\n    @SpringBootApplication\r\n    public class MyApplication extends SpringBootServletInitializer implements WebMvcConfigurer {\r\n        \r\n        public static void main(String[] args) throws IOException {\r\n            SpringApplication.run(MyApplication.class, args);\r\n        }\r\n        \r\n        // overrides some configuration methods and default Spring beans\r\n    }\r\n```\r\nConfiguration class with the app&#39;s own beans:\r\n```java\r\n    @Configuration\r\n    public class BeansConfiguration {\r\n        \r\n        @Bean\r\n        BeanInterface1 bean1(DataSource dataSource) {\r\n            return new BeanClass1(dataSource);\r\n        }\r\n\r\n        @Bean\r\n        BeanInterface2 bean2(SomeOtherDependency otherDep) {\r\n            return new BeanClass2(otherDep);\r\n        }\r\n        \r\n        // other beans...\r\n    }\r\n```\r\nTest configuration class that redefines these beans:\r\n```java\r\n    @TestConfiguration\r\n    public class TestBeansConfiguration {\r\n        \r\n        @Bean\r\n        @Primary\r\n        BeanInterface1 bean1(DataSource dataSource) {\r\n            // partial mock of the &quot;BeanClass1&quot; class, with a lot of custom code for tests\r\n            return new TestBeanClass1(dataSource);\r\n        }\r\n        \r\n        @Bean\r\n        @Primary\r\n        BeanInterface2 bean2(SomeOtherDependency otherDep) {\r\n            return new TestBeanClass2(otherDep);// same here\r\n        }\r\n        \r\n        // other beans more or less like this...\r\n    }\r\n```\r\nAnnotations on the abstract test class that is extended by most test classes:\r\n```java\r\n    @AutoConfigureMockMvc\r\n    @TestInstance(Lifecycle.PER_CLASS)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public abstract class MyTestClass {\r\n        // ...\r\n    }\r\n```\r\nIf you noticed the `@Primary` annotation on the test beans: it would work if I didn&#39;t have some beans in the `BeansConfiguration` class that completely fail to initialize and throw an exception in the test environment...  \r\n  \r\nNow, before you ask me &quot;why aren&#39;t you mocking these beans instead?&quot; it&#39;s because this application didn&#39;t have Spring, previously. There was A LOT of test code in the &quot;manual mocks&quot; that were made, that can&#39;t just be thrown away. I&#39;ve already adapted all such code to work in `@SpringBootTest`s, but I&#39;m having trouble here initializing the Spring context. \r\n  \r\nOne thing that I tried was defining the &quot;classes&quot; field in the `@SpringBootTest` annotation like so:  \r\n```java\r\n@SpringBootTest(classes = { MyApplication.class, TestBeansConfiguration.class },\r\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n```\r\nUnfortunately it seems that the `BeansConfiguration` class is still found and used because I get this error:  \r\n```\r\norg.springframework.beans.factory.support.BeanDefinitionOverrideException: \r\nInvalid bean definition with name &#39;bean1&#39; defined in com.example.TestBeansConfiguration:\r\nCannot register bean definition\r\n\r\n[Root bean: class [null]; scope=; abstract=false;\r\nlazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true;\r\nfactoryBeanName=testBeansConfiguration; factoryMethodName=bean1; initMethodName=null;\r\ndestroyMethodName=(inferred);\r\n\r\ndefined in com.example.TestBeansConfiguration] for bean &#39;bean1&#39;: There is already\r\n\r\n[Root bean: class [null]; scope=; abstract=false;\r\nlazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false;\r\nfactoryBeanName=beansConfiguration; factoryMethodName=bean1; initMethodName=null;\r\ndestroyMethodName=(inferred);\r\n\r\ndefined in class path resource [com/example/BeansConfiguration.class]] bound.\r\n```\r\n(I&#39;ve formatted the error message to make it easier to read)  \r\n  \r\nI&#39;ve also tried defining an `ApplicationContextInitializer` class to try to manually exclude the `BeansConfiguration` class, like so:  \r\n```java\r\n    public class ConfigExcludingContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext applicationContext) {\r\n            applicationContext.getBeanFactory().registerResolvableDependency(BeansConfiguration.class, null);\r\n        }\r\n    }\r\n```\r\n```java\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @ContextConfiguration(classes = {SpringMainConfiguration.class, TestSpringConfiguration.class}, \r\n            initializers = ConfigExcludingContextInitializer.class)\r\n```\r\nBut the result is the same.  \r\n\r\nI&#39;d really like to leave the `@Profile` annotation as a last resource. Is there really no other easy way to exclude a specific `@Configuration` class from unit tests?  \r\n\r\nThanks for any help.","title":"Spring Boot tests: exclude one specific @Configuration class without using the @Profile annotation","body":"<p>My situation is this: I have a <code>@SpringBootApplication</code> class that defines some beans and configurations that are needed both at runtime and during tests, and (in the same package) a <code>@Configuration</code> class that defines the application's own beans.<br />\nIn unit tests, there are several of those beans that cannot be initialized and that I need to re-define and (partially) mock in a <code>@TestConfiguration</code> class.</p>\n<p>Now, using the <code>@Profile</code> annotation would easily solve my problem but I'd prefer not writing any test-related code in the main application code. That includes the <code>&quot;test&quot;</code> profile in that annotation (or, well, <code>&quot;!test&quot;</code> I guess). Also I've read that using it to manage beans like this is an anti-pattern.</p>\n<p>Here's some pseudo-code to make things clearer before saying what I tried:</p>\n<p>Application class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SpringBootApplication\n    public class MyApplication extends SpringBootServletInitializer implements WebMvcConfigurer {\n        \n        public static void main(String[] args) throws IOException {\n            SpringApplication.run(MyApplication.class, args);\n        }\n        \n        // overrides some configuration methods and default Spring beans\n    }\n</code></pre>\n<p>Configuration class with the app's own beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    public class BeansConfiguration {\n        \n        @Bean\n        BeanInterface1 bean1(DataSource dataSource) {\n            return new BeanClass1(dataSource);\n        }\n\n        @Bean\n        BeanInterface2 bean2(SomeOtherDependency otherDep) {\n            return new BeanClass2(otherDep);\n        }\n        \n        // other beans...\n    }\n</code></pre>\n<p>Test configuration class that redefines these beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @TestConfiguration\n    public class TestBeansConfiguration {\n        \n        @Bean\n        @Primary\n        BeanInterface1 bean1(DataSource dataSource) {\n            // partial mock of the &quot;BeanClass1&quot; class, with a lot of custom code for tests\n            return new TestBeanClass1(dataSource);\n        }\n        \n        @Bean\n        @Primary\n        BeanInterface2 bean2(SomeOtherDependency otherDep) {\n            return new TestBeanClass2(otherDep);// same here\n        }\n        \n        // other beans more or less like this...\n    }\n</code></pre>\n<p>Annotations on the abstract test class that is extended by most test classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @AutoConfigureMockMvc\n    @TestInstance(Lifecycle.PER_CLASS)\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n    public abstract class MyTestClass {\n        // ...\n    }\n</code></pre>\n<p>If you noticed the <code>@Primary</code> annotation on the test beans: it would work if I didn't have some beans in the <code>BeansConfiguration</code> class that completely fail to initialize and throw an exception in the test environment...</p>\n<p>Now, before you ask me &quot;why aren't you mocking these beans instead?&quot; it's because this application didn't have Spring, previously. There was A LOT of test code in the &quot;manual mocks&quot; that were made, that can't just be thrown away. I've already adapted all such code to work in <code>@SpringBootTest</code>s, but I'm having trouble here initializing the Spring context.</p>\n<p>One thing that I tried was defining the &quot;classes&quot; field in the <code>@SpringBootTest</code> annotation like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = { MyApplication.class, TestBeansConfiguration.class },\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n</code></pre>\n<p>Unfortunately it seems that the <code>BeansConfiguration</code> class is still found and used because I get this error:</p>\n<pre><code>org.springframework.beans.factory.support.BeanDefinitionOverrideException: \nInvalid bean definition with name 'bean1' defined in com.example.TestBeansConfiguration:\nCannot register bean definition\n\n[Root bean: class [null]; scope=; abstract=false;\nlazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true;\nfactoryBeanName=testBeansConfiguration; factoryMethodName=bean1; initMethodName=null;\ndestroyMethodName=(inferred);\n\ndefined in com.example.TestBeansConfiguration] for bean 'bean1': There is already\n\n[Root bean: class [null]; scope=; abstract=false;\nlazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false;\nfactoryBeanName=beansConfiguration; factoryMethodName=bean1; initMethodName=null;\ndestroyMethodName=(inferred);\n\ndefined in class path resource [com/example/BeansConfiguration.class]] bound.\n</code></pre>\n<p>(I've formatted the error message to make it easier to read)</p>\n<p>I've also tried defining an <code>ApplicationContextInitializer</code> class to try to manually exclude the <code>BeansConfiguration</code> class, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class ConfigExcludingContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n        @Override\n        public void initialize(ConfigurableApplicationContext applicationContext) {\n            applicationContext.getBeanFactory().registerResolvableDependency(BeansConfiguration.class, null);\n        }\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n    @ContextConfiguration(classes = {SpringMainConfiguration.class, TestSpringConfiguration.class}, \n            initializers = ConfigExcludingContextInitializer.class)\n</code></pre>\n<p>But the result is the same.</p>\n<p>I'd really like to leave the <code>@Profile</code> annotation as a last resource. Is there really no other easy way to exclude a specific <code>@Configuration</code> class from unit tests?</p>\n<p>Thanks for any help.</p>\n"},{"tags":["java","naming-conventions","javabeans","getter-setter"],"comments":[{"owner":{"display_name":"user719662"},"score":8,"creation_date":1415522896,"post_id":2948083,"comment_id":42221183,"body_markdown":"Name your field &quot;indexX&quot; or whatever else, your problem is solved... don&#39;t overcomplicate things - even if `setxIndex` is the correct way for Beans, having method named `setxIndex` increases the *WTF factor* of the code without giving you anything in return. If your car driver is sick, don&#39;t think how to fix the car, replace the driver.","body":"Name your field &quot;indexX&quot; or whatever else, your problem is solved... don&#39;t overcomplicate things - even if <code>setxIndex</code> is the correct way for Beans, having method named <code>setxIndex</code> increases the <i>WTF factor</i> of the code without giving you anything in return. If your car driver is sick, don&#39;t think how to fix the car, replace the driver."}],"answers":[{"comments":[{"owner":{"account_id":35714,"reputation":10973,"user_id":101251,"accept_rate":59,"display_name":"kctang"},"score":2,"creation_date":1352300664,"post_id":2948102,"comment_id":18090895,"body_markdown":"If this is the right answer, why IDEs (tested Intellij, read Eclipse too) generate something else? They generate getxIndex() and setxIndex(). Can someone clarify?","body":"If this is the right answer, why IDEs (tested Intellij, read Eclipse too) generate something else? They generate getxIndex() and setxIndex(). Can someone clarify?"},{"owner":{"account_id":14894,"reputation":8953,"user_id":30967,"accept_rate":67,"display_name":"Thomas Einwaller"},"score":9,"creation_date":1366630453,"post_id":2948102,"comment_id":23068059,"body_markdown":"not correct, those getters are not conform with the Java Bean naming conventions","body":"not correct, those getters are not conform with the Java Bean naming conventions"},{"owner":{"account_id":10242,"reputation":12230,"user_id":19246,"accept_rate":82,"display_name":"Martin C."},"score":5,"creation_date":1387181438,"post_id":2948102,"comment_id":30834225,"body_markdown":"This answer is not correct, the one from @ThomasEinwaller is, because this is clearly specified, and not something we need to argue about :)","body":"This answer is not correct, the one from @ThomasEinwaller is, because this is clearly specified, and not something we need to argue about :)"},{"owner":{"account_id":4916508,"reputation":696,"user_id":3960315,"accept_rate":100,"display_name":"Arash"},"score":1,"creation_date":1693988313,"post_id":2948102,"comment_id":135830593,"body_markdown":"@kctang! because the right way to name the property is what [Thomas](https://stackoverflow.com/a/16146215/3960315) is wrote. I named the property of `cDate`, `getCDate()` and i got `PropertyNotFoundException`: **Property [cDate] not readable on type**.","body":"@kctang! because the right way to name the property is what <a href=\"https://stackoverflow.com/a/16146215/3960315\">Thomas</a> is wrote. I named the property of <code>cDate</code>, <code>getCDate()</code> and i got <code>PropertyNotFoundException</code>: <b>Property [cDate] not readable on type</b>."}],"tags":[],"owner":{"account_id":128218,"reputation":804,"user_id":325886,"display_name":"Samuel Yung"},"comment_count":4,"down_vote_count":16,"up_vote_count":20,"is_accepted":false,"score":4,"last_activity_date":1438924665,"creation_date":1275379423,"answer_id":2948102,"question_id":2948083,"body_markdown":"Should be:\r\n\r\n    getXIndex()\r\n    setXIndex(final int xIndex)\r\n\r\n","title":"Naming convention for getters/setters in Java","body":"<p>Should be:</p>\n\n<pre><code>getXIndex()\nsetXIndex(final int xIndex)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1275380611,"post_id":2948124,"comment_id":3004593,"body_markdown":"@m_pGladiator: re immutable: while this is obviously desirable, not all classes can be made immutable. but of course: setters should only be present if needed. @Simon: the main reason is thread safety. if a class is immutable, no problems of concurrent modification through separate threads can ever arise","body":"@m_pGladiator: re immutable: while this is obviously desirable, not all classes can be made immutable. but of course: setters should only be present if needed. @Simon: the main reason is thread safety. if a class is immutable, no problems of concurrent modification through separate threads can ever arise"},{"owner":{"account_id":200318,"reputation":8482,"user_id":446104,"accept_rate":87,"display_name":"m_pGladiator"},"score":0,"creation_date":1275391837,"post_id":2948124,"comment_id":3005784,"body_markdown":"Sorry, I didn&#39;t read the &quot;javabeans&quot; tag. The beans architecture presumes getters and setters and does not favor immutability","body":"Sorry, I didn&#39;t read the &quot;javabeans&quot; tag. The beans architecture presumes getters and setters and does not favor immutability"},{"owner":{"account_id":10242,"reputation":12230,"user_id":19246,"accept_rate":82,"display_name":"Martin C."},"score":0,"creation_date":1387181738,"post_id":2948124,"comment_id":30834339,"body_markdown":"Downvote, as the case mentioned in the question is specified in the spec, see other answers.","body":"Downvote, as the case mentioned in the question is specified in the spec, see other answers."}],"tags":[],"owner":{"account_id":200318,"reputation":8482,"user_id":446104,"accept_rate":87,"display_name":"m_pGladiator"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1275379788,"creation_date":1275379788,"answer_id":2948124,"question_id":2948083,"body_markdown":"I think `getXindex()` is the best way. The getter should start with &#39;get&#39;, followed by the member name, with its first letter capitalized. Also the latest conventions I heard of, say that we should avoid multiple capital letters one after another. For example `getHTMLtooltip` is wrong. it should be `getHtmlTooltip` instead. Also you should try to make all your members `final` and there should not be a need of setters, since the class will be immutable ;)\r\n","title":"Naming convention for getters/setters in Java","body":"<p>I think <code>getXindex()</code> is the best way. The getter should start with 'get', followed by the member name, with its first letter capitalized. Also the latest conventions I heard of, say that we should avoid multiple capital letters one after another. For example <code>getHTMLtooltip</code> is wrong. it should be <code>getHtmlTooltip</code> instead. Also you should try to make all your members <code>final</code> and there should not be a need of setters, since the class will be immutable ;)</p>\n"},{"tags":[],"owner":{"account_id":206144,"reputation":14410,"user_id":455257,"accept_rate":56,"display_name":"ayush"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1275382516,"creation_date":1275382516,"answer_id":2948385,"question_id":2948083,"body_markdown":"Methods should be verbs, in mixed case with the first letter lowercase, with the first letter of each internal word capitalized. ","title":"Naming convention for getters/setters in Java","body":"<p>Methods should be verbs, in mixed case with the first letter lowercase, with the first letter of each internal word capitalized. </p>\n"},{"comments":[{"owner":{"account_id":14894,"reputation":8953,"user_id":30967,"accept_rate":67,"display_name":"Thomas Einwaller"},"score":8,"creation_date":1386921396,"post_id":16146215,"comment_id":30752532,"body_markdown":"I wrote a blog post about it: http://dertompson.com/2013/04/29/java-bean-getterssetters/","body":"I wrote a blog post about it: <a href=\"http://dertompson.com/2013/04/29/java-bean-getterssetters/\" rel=\"nofollow noreferrer\">dertompson.com/2013/04/29/java-bean-getterssetters</a>"},{"owner":{"account_id":166063,"reputation":1467,"user_id":389950,"accept_rate":58,"display_name":"Mirza Dobric"},"score":2,"creation_date":1396654296,"post_id":16146215,"comment_id":34902684,"body_markdown":"I don&#39;t think this is correct. Section 8.8 refers to capitalization of a property name inferred from the method name.  This question is asking about the reverse process of naming the method based on the property name. The javadoc for Inspector.decapitalize() states that it is a &quot;method to take a string and convert it to normal Java **variable name**&quot;, not method name as in this case.","body":"I don&#39;t think this is correct. Section 8.8 refers to capitalization of a property name inferred from the method name.  This question is asking about the reverse process of naming the method based on the property name. The javadoc for Inspector.decapitalize() states that it is a &quot;method to take a string and convert it to normal Java <b>variable name</b>&quot;, not method name as in this case."},{"owner":{"account_id":14894,"reputation":8953,"user_id":30967,"accept_rate":67,"display_name":"Thomas Einwaller"},"score":0,"creation_date":1398263975,"post_id":16146215,"comment_id":35571550,"body_markdown":"Trust me, it is correct. In the meanwhile even all the IDEs are generating these getters and setters correct (IntelliJ, Eclipse, Netbeans, ...)","body":"Trust me, it is correct. In the meanwhile even all the IDEs are generating these getters and setters correct (IntelliJ, Eclipse, Netbeans, ...)"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1398783222,"post_id":16146215,"comment_id":35793013,"body_markdown":"The specification states `we check if the first two characters of the name are both upper case and if so leave it alone.` In the case of `xIndex`, only the first one is. How am I misreading this (I assume I am)?","body":"The specification states <code>we check if the first two characters of the name are both upper case and if so leave it alone.</code> In the case of <code>xIndex</code>, only the first one is. How am I misreading this (I assume I am)?"},{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":1,"creation_date":1429643856,"post_id":16146215,"comment_id":47692450,"body_markdown":"@SotiriosDelimanolis the sentence from the spec you quote takes about _upper_ case. Hence, it shouldn&#39;t apply here.","body":"@SotiriosDelimanolis the sentence from the spec you quote takes about <i>upper</i> case. Hence, it shouldn&#39;t apply here."},{"owner":{"account_id":14894,"reputation":8953,"user_id":30967,"accept_rate":67,"display_name":"Thomas Einwaller"},"score":1,"creation_date":1429699153,"post_id":16146215,"comment_id":47718017,"body_markdown":"you have to think “the other way around”:\n\nIf you would make the getter getXIndex the decapitalize method would look at XIndex and decide there is nothing to decapitalize – so it returns XIndex and this property does not exist.","body":"you have to think “the other way around”:  If you would make the getter getXIndex the decapitalize method would look at XIndex and decide there is nothing to decapitalize – so it returns XIndex and this property does not exist."},{"owner":{"account_id":9925458,"reputation":107,"user_id":7347206,"display_name":"Mahmoud Turki"},"score":1,"creation_date":1571525104,"post_id":16146215,"comment_id":103271559,"body_markdown":"actually this is a wrong answer .. the correct answer is getXIndex();\n&quot;The method name must have a prefix\nof set/get/is, followed by the first\nletter of the property in uppercase, followed\nby the rest of the property name.&quot; JAVA SE 8 OCA","body":"actually this is a wrong answer .. the correct answer is getXIndex(); &quot;The method name must have a prefix of set/get/is, followed by the first letter of the property in uppercase, followed by the rest of the property name.&quot; JAVA SE 8 OCA"},{"owner":{"account_id":4916508,"reputation":696,"user_id":3960315,"accept_rate":100,"display_name":"Arash"},"score":0,"creation_date":1693987807,"post_id":16146215,"comment_id":135830475,"body_markdown":"@Mahmoud Turki! It&#39;s indeed the correct answer. I named the property of `cDate`, `getCDate()` and i got `PropertyNotFoundException`: **Property [cDate] not readable on type**.","body":"@Mahmoud Turki! It&#39;s indeed the correct answer. I named the property of <code>cDate</code>, <code>getCDate()</code> and i got <code>PropertyNotFoundException</code>: <b>Property [cDate] not readable on type</b>."}],"tags":[],"owner":{"account_id":14894,"reputation":8953,"user_id":30967,"accept_rate":67,"display_name":"Thomas Einwaller"},"comment_count":8,"down_vote_count":1,"up_vote_count":43,"is_accepted":true,"score":42,"last_activity_date":1507535137,"creation_date":1366630565,"answer_id":16146215,"question_id":2948083,"body_markdown":"The correct answer is\r\n\r\n    getxIndex()\r\n    setxIndex(int value)\r\n\r\nif you want them to be used as properties according to section ***8.8: Capitalization of inferred names*** of the [JavaBeans API specification](http://download.oracle.com/otn-pub/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/beans.101.pdf) (e.g. access them via ${object.xIndex} in a JSP.\r\n\r\n","title":"Naming convention for getters/setters in Java","body":"<p>The correct answer is</p>\n\n<pre><code>getxIndex()\nsetxIndex(int value)\n</code></pre>\n\n<p>if you want them to be used as properties according to section <strong><em>8.8: Capitalization of inferred names</em></strong> of the <a href=\"http://download.oracle.com/otn-pub/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/beans.101.pdf\" rel=\"noreferrer\">JavaBeans API specification</a> (e.g. access them via ${object.xIndex} in a JSP.</p>\n"},{"tags":[],"owner":{"account_id":464241,"reputation":441,"user_id":3849963,"accept_rate":62,"display_name":"Herv&#233; Darritchon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424703579,"creation_date":1424703579,"answer_id":28676628,"question_id":2948083,"body_markdown":"You should use  Introspector.decapitalize from package java.beans and you have no problem beacause it is compliant with java rules.\r\n","title":"Naming convention for getters/setters in Java","body":"<p>You should use  Introspector.decapitalize from package java.beans and you have no problem beacause it is compliant with java rules.</p>\n"},{"tags":[],"owner":{"account_id":6820142,"reputation":149,"user_id":5247559,"display_name":"Bipin Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463943156,"creation_date":1463942099,"answer_id":37378091,"question_id":2948083,"body_markdown":"Eclipse ide automatically generates setters and getters as:\r\n\r\n    getxIndex()\r\n    setxIndex(int value)\r\n\r\nWhich is according to the java beans API specification. ","title":"Naming convention for getters/setters in Java","body":"<p>Eclipse ide automatically generates setters and getters as:</p>\n\n<pre><code>getxIndex()\nsetxIndex(int value)\n</code></pre>\n\n<p>Which is according to the java beans API specification. </p>\n"},{"comments":[{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":0,"creation_date":1612443510,"post_id":49348966,"comment_id":116771906,"body_markdown":"I&#39;d use `setXIndex` and add a BeanInfo class to deal with this unintuitive corner case of the spec, if `setIndexX` isn&#39;t possible.","body":"I&#39;d use <code>setXIndex</code> and add a BeanInfo class to deal with this unintuitive corner case of the spec, if <code>setIndexX</code> isn&#39;t possible."}],"tags":[],"owner":{"account_id":1007528,"reputation":1729,"user_id":1020871,"accept_rate":86,"display_name":"Love"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1616923880,"creation_date":1521383132,"answer_id":49348966,"question_id":2948083,"body_markdown":"In accordance with [JavaBeans API specification from 1997](http://download.oracle.com/otn-pub/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/beans.101.pdf)\r\nit should be as Thomas Einwaller describes:\r\n\r\n    // According to JavaBeans API specification\r\n    public int getxIndex() { return xIndex; }\r\n    public void setxIndex(int xIndex) { this.xIndex = xIndex; }\r\n\r\nThis is unfortunate, *getx* and *setx* are not words. In the rare case when this would form a word or acronym it would be disinformative, eg the method `setiMessage` most\r\nlikely has nothing to do with [SETI](https://en.wikipedia.org/wiki/Search_for_extraterrestrial_intelligence).\r\nUsing [the only valid measurement of code quality](http://www.osnews.com/story/19266/WTFs_m) (WTFs per minute),\r\nI assess that **this is bad code**.\r\n\r\nIf we modify this to follow the convention for\r\n[naming a method](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html) it would be:\r\n\r\n    // According to Java naming convention\r\n    public int getXIndex() { return xIndex; }\r\n    public void setXIndex(int xIndex) { this.xIndex = xIndex; }\r\n\r\nWhy does the JavaBeans specification violate the convention? It all comes down to this sentence of the JavaBeans specification:\r\n\r\n&gt; However to support the occasional use of all upper-case names, we check if the first two characters of the name are \r\n  both upper case and if so leave it alone.\r\n\r\nExactly what kind of use of all upper-case names this refers to is unclear to me. Field names should, according to\r\n[convention](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html#naming), be camel cased. It seems\r\nto me that we generate unconventional method names in order to support unconventional field names as decided by a\r\n20+ year old document.\r\n\r\nIt should also be noted that even though it seems to be an overwhelming support for the JavaBeans specification in tools,\r\nit is not exclusively used. Eg. Kotlin will not recognize `xIndex` as a property in the above example. Reversely, the\r\nKotlin property `var xIndex = 0` will result in the Java methods `getXIndex` and `setXIndex`. This seems to be a bug\r\naccording to the JetBrains support, but I fail to see how they can fix that without making a breaking change.\r\n\r\nSome tools that does support the JavaBeans specification has not always done so, eg [Jackson](https://github.com/fasterxml/jackson-databind/issues/653)\r\nand [Swagger Code Generator](https://github.com/swagger-api/swagger-codegen/issues/445) have been patched to conform to it.\r\nEven though IntelliJ generate accessors according to the JavaBeans specification, the [example](https://www.jetbrains.com/help/idea/generating-getters-and-setters.html#d258091e78)\r\nin the documentation differs from it. Probably because people don&#39;t know about the standard and naturally prefers the\r\nnormal method naming convention.\r\n\r\n*So when should we follow the JavaBeans specification?* When property names should be inferred by accessors by tools that\r\nrely on this standard, then we might want to use it. For instance, [Jackson](https://github.com/FasterXML/jackson) will rely\r\non the property `xIndex` being accessed through `getxIndex` and `setxIndex` methods unless we use annotations.\r\n\r\n*When should we avoid this standard?* Per my recommendation: When the code should be read and understood by humans.\r\nBecause to not use proper camel casing when naming methods is disinformative.\r\n\r\nIf I would have it my way, we would use normal naming conventions, ie `getXIndex` and `setXIndex`. But, given the state\r\nof things, the best solution I see is suggested by @vaxquis:\r\n\r\n&gt; Name your field &quot;indexX&quot; or whatever else, your problem is solved... don&#39;t overcomplicate things - even if setxIndex \r\n  is the correct way for Beans, having method named setxIndex increases the WTF factor of the code without giving you\r\n  anything in return.\r\n\r\nAny comments regarding the JavaBeans specification should, according the specification itself, be sent to\r\njava-beans@java.sun.com.","title":"Naming convention for getters/setters in Java","body":"<p>In accordance with <a href=\"http://download.oracle.com/otn-pub/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/beans.101.pdf\" rel=\"nofollow noreferrer\">JavaBeans API specification from 1997</a>\nit should be as Thomas Einwaller describes:</p>\n<pre><code>// According to JavaBeans API specification\npublic int getxIndex() { return xIndex; }\npublic void setxIndex(int xIndex) { this.xIndex = xIndex; }\n</code></pre>\n<p>This is unfortunate, <em>getx</em> and <em>setx</em> are not words. In the rare case when this would form a word or acronym it would be disinformative, eg the method <code>setiMessage</code> most\nlikely has nothing to do with <a href=\"https://en.wikipedia.org/wiki/Search_for_extraterrestrial_intelligence\" rel=\"nofollow noreferrer\">SETI</a>.\nUsing <a href=\"http://www.osnews.com/story/19266/WTFs_m\" rel=\"nofollow noreferrer\">the only valid measurement of code quality</a> (WTFs per minute),\nI assess that <strong>this is bad code</strong>.</p>\n<p>If we modify this to follow the convention for\n<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">naming a method</a> it would be:</p>\n<pre><code>// According to Java naming convention\npublic int getXIndex() { return xIndex; }\npublic void setXIndex(int xIndex) { this.xIndex = xIndex; }\n</code></pre>\n<p>Why does the JavaBeans specification violate the convention? It all comes down to this sentence of the JavaBeans specification:</p>\n<blockquote>\n<p>However to support the occasional use of all upper-case names, we check if the first two characters of the name are\nboth upper case and if so leave it alone.</p>\n</blockquote>\n<p>Exactly what kind of use of all upper-case names this refers to is unclear to me. Field names should, according to\n<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html#naming\" rel=\"nofollow noreferrer\">convention</a>, be camel cased. It seems\nto me that we generate unconventional method names in order to support unconventional field names as decided by a\n20+ year old document.</p>\n<p>It should also be noted that even though it seems to be an overwhelming support for the JavaBeans specification in tools,\nit is not exclusively used. Eg. Kotlin will not recognize <code>xIndex</code> as a property in the above example. Reversely, the\nKotlin property <code>var xIndex = 0</code> will result in the Java methods <code>getXIndex</code> and <code>setXIndex</code>. This seems to be a bug\naccording to the JetBrains support, but I fail to see how they can fix that without making a breaking change.</p>\n<p>Some tools that does support the JavaBeans specification has not always done so, eg <a href=\"https://github.com/fasterxml/jackson-databind/issues/653\" rel=\"nofollow noreferrer\">Jackson</a>\nand <a href=\"https://github.com/swagger-api/swagger-codegen/issues/445\" rel=\"nofollow noreferrer\">Swagger Code Generator</a> have been patched to conform to it.\nEven though IntelliJ generate accessors according to the JavaBeans specification, the <a href=\"https://www.jetbrains.com/help/idea/generating-getters-and-setters.html#d258091e78\" rel=\"nofollow noreferrer\">example</a>\nin the documentation differs from it. Probably because people don't know about the standard and naturally prefers the\nnormal method naming convention.</p>\n<p><em>So when should we follow the JavaBeans specification?</em> When property names should be inferred by accessors by tools that\nrely on this standard, then we might want to use it. For instance, <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> will rely\non the property <code>xIndex</code> being accessed through <code>getxIndex</code> and <code>setxIndex</code> methods unless we use annotations.</p>\n<p><em>When should we avoid this standard?</em> Per my recommendation: When the code should be read and understood by humans.\nBecause to not use proper camel casing when naming methods is disinformative.</p>\n<p>If I would have it my way, we would use normal naming conventions, ie <code>getXIndex</code> and <code>setXIndex</code>. But, given the state\nof things, the best solution I see is suggested by @vaxquis:</p>\n<blockquote>\n<p>Name your field &quot;indexX&quot; or whatever else, your problem is solved... don't overcomplicate things - even if setxIndex\nis the correct way for Beans, having method named setxIndex increases the WTF factor of the code without giving you\nanything in return.</p>\n</blockquote>\n<p>Any comments regarding the JavaBeans specification should, according the specification itself, be sent to\njava-beans@java.sun.com.</p>\n"},{"tags":[],"owner":{"account_id":4916508,"reputation":696,"user_id":3960315,"accept_rate":100,"display_name":"Arash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693991134,"creation_date":1693990582,"answer_id":77050424,"question_id":2948083,"body_markdown":"I just wanted to point out the problem I encountered. I named the property of `cDate`, `getCDate()` and i got `PropertyNotFoundException`: **Property [cDate] not readable on type**. So The correct answer is:\r\n\r\n    public int getxIndex(){...}\r\n    public MyClass setxIndex(final int xIndex){...}\r\n\r\n[Thomas](https://stackoverflow.com/a/16146215/3960315) has explained more.","title":"Naming convention for getters/setters in Java","body":"<p>I just wanted to point out the problem I encountered. I named the property of <code>cDate</code>, <code>getCDate()</code> and i got <code>PropertyNotFoundException</code>: <strong>Property [cDate] not readable on type</strong>. So The correct answer is:</p>\n<pre><code>public int getxIndex(){...}\npublic MyClass setxIndex(final int xIndex){...}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/16146215/3960315\">Thomas</a> has explained more.</p>\n"}],"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27987,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":16146215,"answer_count":8,"score":39,"last_activity_date":1693991134,"creation_date":1275379273,"question_id":2948083,"body_markdown":"if I have the following private member:\r\n\r\n    private int xIndex;\r\n\r\nHow should I name my getter/setter:\r\n\r\n    getXindex()\r\n    setXindex(int value)\r\n\r\nor \r\n\r\n    getxIndex()\r\n    setxIndex(int value)\r\n\r\nEDIT: or\r\n\r\n    getXIndex()\r\n    setXIndex(int value);\r\n\r\n?","title":"Naming convention for getters/setters in Java","body":"<p>if I have the following private member:</p>\n\n<pre><code>private int xIndex;\n</code></pre>\n\n<p>How should I name my getter/setter:</p>\n\n<pre><code>getXindex()\nsetXindex(int value)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>getxIndex()\nsetxIndex(int value)\n</code></pre>\n\n<p>EDIT: or</p>\n\n<pre><code>getXIndex()\nsetXIndex(int value);\n</code></pre>\n\n<p>?</p>\n"},{"tags":["java","netbeans","glassfish"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1656563064,"post_id":72809401,"comment_id":128604614,"body_markdown":"Try activating Java SE first? Also, update your question to specify the version of Java being used.","body":"Try activating Java SE first? Also, update your question to specify the version of Java being used."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1656637399,"post_id":72809401,"comment_id":128627338,"body_markdown":"[1] I am also using NetBeans 14 and **Base IDE** is shown as installed but not active, yet if I check that entry my only option is to click **Uninstall**. That&#39;s not directly relevant to your question, but I see that you have successful activated **Base IDE**. [2] In my case, however, I can and have activated **Java Web and EE**. [3] So there is some evidence of a possible issue with plugin activation in NetBeans 14. Beyond raising it as [an issue with NetBeans on GitHub](https://github.com/apache/netbeans/issues/3447) I have no suggestions.","body":"[1] I am also using NetBeans 14 and <b>Base IDE</b> is shown as installed but not active, yet if I check that entry my only option is to click <b>Uninstall</b>. That&#39;s not directly relevant to your question, but I see that you have successful activated <b>Base IDE</b>. [2] In my case, however, I can and have activated <b>Java Web and EE</b>. [3] So there is some evidence of a possible issue with plugin activation in NetBeans 14. Beyond raising it as <a href=\"https://github.com/apache/netbeans/issues/3447\" rel=\"nofollow noreferrer\">an issue with NetBeans on GitHub</a> I have no suggestions."}],"answers":[{"tags":[],"owner":{"account_id":25702276,"reputation":121,"user_id":19462159,"display_name":"BigIO"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656754049,"creation_date":1656754049,"answer_id":72837958,"question_id":72809401,"body_markdown":"You can try to uninstall netbeans and re-install then try activating Java Web &amp; EE .\r\nSometimes other 3rd party installed plugins creates issue with main features . Before uninstalling take a backup of all your projects in your system .\r\nIf the issue still persists then try to downgrade it to netbeans 12 or in the worst case Netbeans 8.2.","title":"Netbeans 14 - Won&#39;t Let Me Activate Java Web and EE","body":"<p>You can try to uninstall netbeans and re-install then try activating Java Web &amp; EE .\nSometimes other 3rd party installed plugins creates issue with main features . Before uninstalling take a backup of all your projects in your system .\nIf the issue still persists then try to downgrade it to netbeans 12 or in the worst case Netbeans 8.2.</p>\n"},{"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":3,"creation_date":1693988303,"post_id":77050131,"comment_id":135830590,"body_markdown":"FYI: you can [delete your previous post](/help/deleted-questions), given it&#39;s not an answer. Also there&#39;s the possibility of [edit]ing post, which you could&#39;ve done instead of posting a new answer.","body":"FYI: you can <a href=\"/help/deleted-questions\">delete your previous post</a>, given it&#39;s not an answer. Also there&#39;s the possibility of <a href=\"https://stackoverflow.com/posts/77050131/edit\">edit</a>ing post, which you could&#39;ve done instead of posting a new answer."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693990006,"post_id":77050131,"comment_id":135830960,"body_markdown":"This answer does not seem relevant for this question, which was about NetBeans 14.","body":"This answer does not seem relevant for this question, which was about NetBeans 14."},{"owner":{"account_id":19518288,"reputation":3,"user_id":14280700,"display_name":"perere"},"score":0,"creation_date":1694081266,"post_id":77050131,"comment_id":135845529,"body_markdown":"Do as you want. My problem is already resolve and you are doing the &quot;answer to the problem&quot; absolutely irrelevant.","body":"Do as you want. My problem is already resolve and you are doing the &quot;answer to the problem&quot; absolutely irrelevant."}],"tags":[],"owner":{"account_id":19518288,"reputation":3,"user_id":14280700,"display_name":"perere"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693989985,"creation_date":1693988116,"answer_id":77050131,"question_id":72809401,"body_markdown":"The problem was I was running NetBeans 18, which requires Java 11+, with Java 8.\r\n\r\nOnce I modified netbeans.conf with the proper JDK path, plugin activation came back to life.\r\n","title":"Netbeans 14 - Won&#39;t Let Me Activate Java Web and EE","body":"<p>The problem was I was running NetBeans 18, which requires Java 11+, with Java 8.</p>\n<p>Once I modified netbeans.conf with the proper JDK path, plugin activation came back to life.</p>\n"}],"owner":{"account_id":18020424,"reputation":31,"user_id":13097794,"display_name":"Arktos Uro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693989985,"creation_date":1656552519,"question_id":72809401,"body_markdown":"I can&#39;t activate the Java Web and EE. I&#39;m trying to start a project using Glassfish. Currently using Apache Netbeans 14.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DrwZh.png","title":"Netbeans 14 - Won&#39;t Let Me Activate Java Web and EE","body":"<p>I can't activate the Java Web and EE. I'm trying to start a project using Glassfish. Currently using Apache Netbeans 14.</p>\n<p><a href=\"https://i.stack.imgur.com/DrwZh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DrwZh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-manifest","android-permissions","android-13"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693985114,"post_id":77049448,"comment_id":135830005,"body_markdown":"`&quot;Please manually change permissions from phone settings&quot;.` Never saw that message. Where does it come from?","body":"<code>&quot;Please manually change permissions from phone settings&quot;.</code> Never saw that message. Where does it come from?"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1693989695,"post_id":77049448,"comment_id":135830878,"body_markdown":"@blackapps - Hi, I have updated my question, sorry for incorrect info earlier","body":"@blackapps - Hi, I have updated my question, sorry for incorrect info earlier"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693989891,"post_id":77049448,"comment_id":135830925,"body_markdown":"You should not talk abou your message alone. You should explain why and when your app displays a message. Now you let it to us to decode your code and find out what is going on. Tell us what happens!","body":"You should not talk abou your message alone. You should explain why and when your app displays a message. Now you let it to us to decode your code and find out what is going on. Tell us what happens!"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693989980,"post_id":77049448,"comment_id":135830955,"body_markdown":"We cannot even zee and you did not tell when this happens. Which permission are you requesting? All is unknown.","body":"We cannot even zee and you did not tell when this happens. Which permission are you requesting? All is unknown."},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1693990053,"post_id":77049448,"comment_id":135830977,"body_markdown":"@blackapps - I have stated &quot;This message is triggered when user denies any permission&quot;..","body":"@blackapps - I have stated &quot;This message is triggered when user denies any permission&quot;.."}],"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693989644,"creation_date":1693981620,"question_id":77049448,"body_markdown":"My android app is working fine on devices with OS 12 and below but the same is throwing a message &quot;Please manually change permissions from phone settings&quot; for device with OS 13 though at the begining all location and storage permissions are granted. This message is triggered when user denies any permission. I added the new permissions READ_MEDIA_IMAGES, READ_MEDIA_VIDEO, and READ_MEDIA_AUDIO in manifest file but still unable to use the app due to the above message. What could I be missing out? Please guide. \r\n\r\n    if (ActivityCompat.checkSelfPermission(getApplicationContext(), Datafields.sPermission) != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(FileMainPage.this, new String[]{Datafields.sPermission}, Datafields.REQUEST_CODE_PERMISSION);\r\n                    // If any permission above not allowed by user, this condition will execute every time, else your else part will work\r\n                } else {\r\n                    Intent intent = new Intent(getApplicationContext(), FileLeave.class);\r\n                    startActivity(intent);\r\n                }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == Datafields.REQUEST_CODE_PERMISSION) {\r\n            if (grantResults.length == 1 &amp;&amp;\r\n                    grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n\r\n            } else {\r\n                System.out.println(&quot;denial of permssion&quot;);\r\n                String permission = permissions[0];\r\n                if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n                    boolean showRationale = shouldShowRequestPermissionRationale(permission);\r\n                    if (!showRationale) {\r\n                        Toast.makeText(FileMainPage.this, &quot;please manually change the permissions from Phone settings&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.wifi&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALENDAR&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;in.globalspace.android.gst_communicator_permission&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot; /&gt;","title":"Android OS 13 permission updates","body":"<p>My android app is working fine on devices with OS 12 and below but the same is throwing a message &quot;Please manually change permissions from phone settings&quot; for device with OS 13 though at the begining all location and storage permissions are granted. This message is triggered when user denies any permission. I added the new permissions READ_MEDIA_IMAGES, READ_MEDIA_VIDEO, and READ_MEDIA_AUDIO in manifest file but still unable to use the app due to the above message. What could I be missing out? Please guide.</p>\n<pre><code>if (ActivityCompat.checkSelfPermission(getApplicationContext(), Datafields.sPermission) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(FileMainPage.this, new String[]{Datafields.sPermission}, Datafields.REQUEST_CODE_PERMISSION);\n                // If any permission above not allowed by user, this condition will execute every time, else your else part will work\n            } else {\n                Intent intent = new Intent(getApplicationContext(), FileLeave.class);\n                startActivity(intent);\n            }\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    if (requestCode == Datafields.REQUEST_CODE_PERMISSION) {\n        if (grantResults.length == 1 &amp;&amp;\n                grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n        } else {\n            System.out.println(&quot;denial of permssion&quot;);\n            String permission = permissions[0];\n            if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n                boolean showRationale = shouldShowRequestPermissionRationale(permission);\n                if (!showRationale) {\n                    Toast.makeText(FileMainPage.this, &quot;please manually change the permissions from Phone settings&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n            }\n\n        }\n    }\n}\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n\n&lt;uses-feature android:name=&quot;android.hardware.wifi&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_CALENDAR&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;in.globalspace.android.gst_communicator_permission&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1571484796,"creation_date":1571484318,"answer_id":58463182,"question_id":58463137,"body_markdown":"To get polymorphism you need to add an abstract method `getName()` to your base class, like so:\r\n\r\n    abstract class Animal {\r\n        abstract String getName();\r\n    }\r\n\r\nAnd then implement that method in your derived classes:\r\n\r\n    class Dog extends Animal {\r\n        private final String name;\r\n    \r\n        Dog(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\n    class Cat extends Animal {\r\n        private final String name;\r\n    \r\n        Cat(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\nFinally, you can use that method in your application:\r\n\r\n    class Application {\r\n        static String getAnimalName(Animal a) {\r\n            return a.getName();\r\n        }\r\n    }\r\n\r\nYou could also implement that method directly in your `Animal` class:\r\n\r\n    abstract class Animal {\r\n        private final String name;\r\n    \r\n        Animal(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        final String getName() {\r\n            return this.name;\r\n        }\r\n    }\r\n\r\n    class Dog extends Animal {\r\n        Dog(String name) {\r\n            super(name);\r\n        }\r\n    }\r\n\r\n    class Cat extends Animal {\r\n        Cat(String name) {\r\n            super(name);\r\n        }\r\n    }\r\n\r\nThis way, you don&#39;t have to implement the `getName` method multiple times, if the only thing is does anyway is to return the name.","title":"How can I modify a polymorphism program in java","body":"<p>To get polymorphism you need to add an abstract method <code>getName()</code> to your base class, like so:</p>\n\n<pre><code>abstract class Animal {\n    abstract String getName();\n}\n</code></pre>\n\n<p>And then implement that method in your derived classes:</p>\n\n<pre><code>class Dog extends Animal {\n    private final String name;\n\n    Dog(String name) {\n        this.name = name;\n    }\n\n    @Override\n    String getName() {\n        return name;\n    }\n}\n\nclass Cat extends Animal {\n    private final String name;\n\n    Cat(String name) {\n        this.name = name;\n    }\n\n    @Override\n    String getName() {\n        return name;\n    }\n}\n</code></pre>\n\n<p>Finally, you can use that method in your application:</p>\n\n<pre><code>class Application {\n    static String getAnimalName(Animal a) {\n        return a.getName();\n    }\n}\n</code></pre>\n\n<p>You could also implement that method directly in your <code>Animal</code> class:</p>\n\n<pre><code>abstract class Animal {\n    private final String name;\n\n    Animal(String name) {\n        this.name = name;\n    }\n\n    final String getName() {\n        return this.name;\n    }\n}\n\nclass Dog extends Animal {\n    Dog(String name) {\n        super(name);\n    }\n}\n\nclass Cat extends Animal {\n    Cat(String name) {\n        super(name);\n    }\n}\n</code></pre>\n\n<p>This way, you don't have to implement the <code>getName</code> method multiple times, if the only thing is does anyway is to return the name.</p>\n"},{"tags":[],"owner":{"account_id":6089782,"reputation":11,"user_id":4752497,"display_name":"captainprice"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571507760,"creation_date":1571507760,"answer_id":58466504,"question_id":58463137,"body_markdown":"Abstract classes are used to define a behavioural framework. In this case, returning a name for cat is not different than returning it for the dog. If it was about their food habits then we would definitely require distinct implementations. For this reason, from design perspective, it makes sense to push all the common logic into the abstract class. \r\n\r\nThere is fundamental difference between abstraction and interfaces, you can read about it on lots of articles (e.g. https://www.geeksforgeeks.org/difference-between-abstract-class-and-interface-in-java/ )\r\n\r\nExample code as below -\r\n\r\n    abstract class Animal {\r\n    \r\n        String name;\r\n    \r\n        Animal(){\r\n    \r\n        }\r\n    \r\n        Animal(String name){\r\n            this.name = name;\r\n        }\r\n    \r\n        String getName(){\r\n            return this.name;\r\n        }\r\n    }\r\n\r\nAnd the deriving classes do not need to have the common logic re-defined in them. Note the commented out conditional logic - \r\n\r\n\r\n    class Dog extends Animal {\r\n    \r\n        Dog(String name){\r\n            this.name=name;\r\n        }\r\n    \r\n    }\r\n    \r\n    class Cat extends Animal {\r\n    \r\n        Cat(String name){\r\n            this.name=name;\r\n        }\r\n    \r\n    }\r\n    \r\n    class Application{\r\n        static String getAnimalName(Animal a){\r\n            String name=null;\r\n            /*if(a instanceof Dog){\r\n                name=((Dog)a).getName();\r\n            }\r\n            else if(a instanceof Cat){\r\n                name=((Cat)a).getName();\r\n            }*/\r\n            name=a.getName();\r\n            return name;\r\n        }\r\n    }\r\n\r\nFinally the Main class remains as it was -\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            // write your code here\r\n            System.out.println(&quot;Hello PolyMorphism!!&quot;);\r\n    \r\n            Dog alex =new Dog(&quot;Alex&quot;);\r\n            Cat catty = new Cat(&quot;Catty&quot;);\r\n            System.out.println(Application.getAnimalName(alex));   //=&gt; Alex\r\n            System.out.println(Application.getAnimalName(catty)); //=&gt; Catty\r\n            System.out.println(&quot;Press &#39;Enter&#39; to continue. &quot;);\r\n            try {\r\n                System.in.read();\r\n            }catch(IOException ex){\r\n                System.out.println(&quot;IOException!!!&quot;);\r\n            }\r\n        }\r\n    }","title":"How can I modify a polymorphism program in java","body":"<p>Abstract classes are used to define a behavioural framework. In this case, returning a name for cat is not different than returning it for the dog. If it was about their food habits then we would definitely require distinct implementations. For this reason, from design perspective, it makes sense to push all the common logic into the abstract class. </p>\n\n<p>There is fundamental difference between abstraction and interfaces, you can read about it on lots of articles (e.g. <a href=\"https://www.geeksforgeeks.org/difference-between-abstract-class-and-interface-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/difference-between-abstract-class-and-interface-in-java/</a> )</p>\n\n<p>Example code as below -</p>\n\n<pre><code>abstract class Animal {\n\n    String name;\n\n    Animal(){\n\n    }\n\n    Animal(String name){\n        this.name = name;\n    }\n\n    String getName(){\n        return this.name;\n    }\n}\n</code></pre>\n\n<p>And the deriving classes do not need to have the common logic re-defined in them. Note the commented out conditional logic - </p>\n\n<pre><code>class Dog extends Animal {\n\n    Dog(String name){\n        this.name=name;\n    }\n\n}\n\nclass Cat extends Animal {\n\n    Cat(String name){\n        this.name=name;\n    }\n\n}\n\nclass Application{\n    static String getAnimalName(Animal a){\n        String name=null;\n        /*if(a instanceof Dog){\n            name=((Dog)a).getName();\n        }\n        else if(a instanceof Cat){\n            name=((Cat)a).getName();\n        }*/\n        name=a.getName();\n        return name;\n    }\n}\n</code></pre>\n\n<p>Finally the Main class remains as it was -</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n        // write your code here\n        System.out.println(\"Hello PolyMorphism!!\");\n\n        Dog alex =new Dog(\"Alex\");\n        Cat catty = new Cat(\"Catty\");\n        System.out.println(Application.getAnimalName(alex));   //=&gt; Alex\n        System.out.println(Application.getAnimalName(catty)); //=&gt; Catty\n        System.out.println(\"Press 'Enter' to continue. \");\n        try {\n            System.in.read();\n        }catch(IOException ex){\n            System.out.println(\"IOException!!!\");\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5942025,"reputation":575,"user_id":4672898,"accept_rate":68,"display_name":"mak_doni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1885,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":58463182,"answer_count":2,"score":-1,"last_activity_date":1693989628,"creation_date":1571484035,"question_id":58463137,"body_markdown":"I have a question in a test, but I didn&#39;t find the solution. \r\nThe question is  how can I improve this code while maintaining the current behavior of the program :\r\n\r\n    class abstarct Animal {\r\n    }\r\n    \r\n    class Dog extends Animal {\r\n        String name;\r\n    \r\n        Dog(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        String getName() {\r\n            return name;\r\n        }\r\n    }\r\n    \r\n    class Cat extends Animal {\r\n        String name;\r\n    \r\n        Cat(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        String getName() {\r\n            return name;\r\n        }\r\n    }\r\n    \r\n    class Application {\r\n        static String getAnimalName(Animal a) {\r\n            String name = null;\r\n            if (a instanceof Dog) {\r\n                name = ((Dog) a).getName();\r\n            } else if (a instanceof Cat) {\r\n                name = ((Cat) a).getName();\r\n            }\r\n            return name;\r\n        }\r\n    }\r\n\r\nresult of code : \r\n\r\n    Dog alex =new Dog(&quot;Alex&quot;);\r\n    Cat catty = new Cat(&quot;Catty&quot;);\r\n    System.out.println(Application.getAnimalName(alex)); // Alex\r\n    System.out.println(Application.getAnimalName(catty )); // Catty \r\n","title":"How can I modify a polymorphism program in java","body":"<p>I have a question in a test, but I didn't find the solution.\nThe question is  how can I improve this code while maintaining the current behavior of the program :</p>\n<pre><code>class abstarct Animal {\n}\n\nclass Dog extends Animal {\n    String name;\n\n    Dog(String name) {\n        this.name = name;\n    }\n\n    String getName() {\n        return name;\n    }\n}\n\nclass Cat extends Animal {\n    String name;\n\n    Cat(String name) {\n        this.name = name;\n    }\n\n    String getName() {\n        return name;\n    }\n}\n\nclass Application {\n    static String getAnimalName(Animal a) {\n        String name = null;\n        if (a instanceof Dog) {\n            name = ((Dog) a).getName();\n        } else if (a instanceof Cat) {\n            name = ((Cat) a).getName();\n        }\n        return name;\n    }\n}\n</code></pre>\n<p>result of code :</p>\n<pre><code>Dog alex =new Dog(&quot;Alex&quot;);\nCat catty = new Cat(&quot;Catty&quot;);\nSystem.out.println(Application.getAnimalName(alex)); // Alex\nSystem.out.println(Application.getAnimalName(catty )); // Catty \n</code></pre>\n"},{"tags":["java","unit-testing","redis","mockito","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":2375461,"reputation":61,"user_id":2991432,"display_name":"MaximSadym"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493326612,"creation_date":1493326612,"answer_id":43667766,"question_id":43303212,"body_markdown":"You are creating redisTemplate via constructor, and it was not got by DI. Try to use @Spy annotation:\r\n\r\n    @Spy\r\n    private RedisTemplate redisTemplate = new RedisTemplate();\r\n\r\nIt will allow DI to inject your instance of RedisTemplate.","title":"Mock redis template","body":"<p>You are creating redisTemplate via constructor, and it was not got by DI. Try to use @Spy annotation:</p>\n\n<pre><code>@Spy\nprivate RedisTemplate redisTemplate = new RedisTemplate();\n</code></pre>\n\n<p>It will allow DI to inject your instance of RedisTemplate.</p>\n"},{"tags":[],"owner":{"account_id":12855824,"reputation":191,"user_id":9299201,"display_name":"张泽光"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1568705255,"creation_date":1517479373,"answer_id":48559985,"question_id":43303212,"body_markdown":"you can mock redisTemplate like this:\r\n\r\n    @Mock\r\n    RedisTemplate&lt;String, String&gt; redisTemplate;\r\n\r\n    @Mock\r\n    private ValueOperations valueOperations;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n        Mockito.when(redisTemplate.opsForValue()).thenReturn(valueOperations);\r\n        Mockito.doNothing().when(valueOperations).set(anyString(), anyString());\r\n    }","title":"Mock redis template","body":"<p>you can mock redisTemplate like this:</p>\n\n<pre><code>@Mock\nRedisTemplate&lt;String, String&gt; redisTemplate;\n\n@Mock\nprivate ValueOperations valueOperations;\n\n@Before\npublic void setUp() {\n    MockitoAnnotations.initMocks(this);\n    Mockito.when(redisTemplate.opsForValue()).thenReturn(valueOperations);\n    Mockito.doNothing().when(valueOperations).set(anyString(), anyString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17222077,"reputation":101,"user_id":12468633,"display_name":"Viacheslav Pryimak"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575294581,"creation_date":1575294581,"answer_id":59140299,"question_id":43303212,"body_markdown":"While I faced with a similar task, I&#39;ve made a tool(annotation) based on [mock-jedis][1] to solve it in easy way. You could read about it here: https://github.com/incu6us/redis-mock-template or just add a dependency to your project:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.incu6us.redis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;redis-mock-template&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/50onRed/mock-jedis","title":"Mock redis template","body":"<p>While I faced with a similar task, I've made a tool(annotation) based on <a href=\"https://github.com/50onRed/mock-jedis\" rel=\"nofollow noreferrer\">mock-jedis</a> to solve it in easy way. You could read about it here: <a href=\"https://github.com/incu6us/redis-mock-template\" rel=\"nofollow noreferrer\">https://github.com/incu6us/redis-mock-template</a> or just add a dependency to your project:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.incu6us.redis&lt;/groupId&gt;\n  &lt;artifactId&gt;redis-mock-template&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":118450,"reputation":1667,"user_id":309489,"accept_rate":67,"display_name":"webjockey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586836002,"creation_date":1586836002,"answer_id":61200404,"question_id":43303212,"body_markdown":"I tried various jedis mock libraries, this is the only one worked with pooled resource. Other libraries, the server did not even start and some required local redis to be up and running. this is the best for junit\r\n\r\nhttps://github.com/50onRed/mock-jedis","title":"Mock redis template","body":"<p>I tried various jedis mock libraries, this is the only one worked with pooled resource. Other libraries, the server did not even start and some required local redis to be up and running. this is the best for junit</p>\n\n<p><a href=\"https://github.com/50onRed/mock-jedis\" rel=\"nofollow noreferrer\">https://github.com/50onRed/mock-jedis</a></p>\n"},{"tags":[],"owner":{"account_id":9639998,"reputation":177,"user_id":7154585,"display_name":"Mitali Bhokare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597689588,"creation_date":1597689588,"answer_id":63456810,"question_id":43303212,"body_markdown":"Even I was facing a similar issue.\r\n\r\nSteps to the way I fixed it - \r\n1. Added @ExtendWith(SpringExtension.class) annotation to my test class.\r\n2. Anotated the RedisTemplate with @MockBean\r\n```\r\n@MockBean\r\nprivate RedisTemplate&lt;Integer, String&gt; redisTemplate;\r\n```\r\n3. In my test method, I used ReflectionTestUtils to set the redisTemplate field.\r\n```\r\nReflectionTestUtils.setField(rm, &quot;redisTemplate&quot;, redisTemplate);\r\n```","title":"Mock redis template","body":"<p>Even I was facing a similar issue.</p>\n<p>Steps to the way I fixed it -</p>\n<ol>\n<li>Added @ExtendWith(SpringExtension.class) annotation to my test class.</li>\n<li>Anotated the RedisTemplate with @MockBean</li>\n</ol>\n<pre><code>@MockBean\nprivate RedisTemplate&lt;Integer, String&gt; redisTemplate;\n</code></pre>\n<ol start=\"3\">\n<li>In my test method, I used ReflectionTestUtils to set the redisTemplate field.</li>\n</ol>\n<pre><code>ReflectionTestUtils.setField(rm, &quot;redisTemplate&quot;, redisTemplate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10855584,"reputation":531,"user_id":10597842,"display_name":"Adarsh D"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637928098,"creation_date":1637928098,"answer_id":70124093,"question_id":43303212,"body_markdown":"For those who want to do the same with `HashOperations` `get()` and `put()` \r\n\r\n        @Mock\r\n        RedisTemplate&lt;String, String&gt; redisTemplate;\r\n        \r\n        @Mock\r\n        private HashOperations hashOperations;\r\n         \r\n        @Test\r\n        void getFromCache() {\r\n             Mockito.when(redisTemplate.opsForHash()).thenReturn(hashOperations);\r\n             when(hashOperations.get(&quot;test-key&quot;, &quot;test-hash-key&quot;)).thenReturn(&quot;value123&quot;);\r\n             RedisCacheServiceImpl cacheService = new RedisCacheServiceImpl(redisTemplate);\r\n             assertEquals(&quot;value123&quot;, cacheService.getFromCache(&quot;test-key&quot;, &quot;test-hash-key&quot;));\r\n        }\r\n\r\nHope it helps you ;)","title":"Mock redis template","body":"<p>For those who want to do the same with <code>HashOperations</code> <code>get()</code> and <code>put()</code></p>\n<pre><code>    @Mock\n    RedisTemplate&lt;String, String&gt; redisTemplate;\n    \n    @Mock\n    private HashOperations hashOperations;\n     \n    @Test\n    void getFromCache() {\n         Mockito.when(redisTemplate.opsForHash()).thenReturn(hashOperations);\n         when(hashOperations.get(&quot;test-key&quot;, &quot;test-hash-key&quot;)).thenReturn(&quot;value123&quot;);\n         RedisCacheServiceImpl cacheService = new RedisCacheServiceImpl(redisTemplate);\n         assertEquals(&quot;value123&quot;, cacheService.getFromCache(&quot;test-key&quot;, &quot;test-hash-key&quot;));\n    }\n</code></pre>\n<p>Hope it helps you ;)</p>\n"},{"tags":[],"owner":{"account_id":14086976,"reputation":13,"user_id":10176491,"display_name":"Nikhil Rao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651044754,"creation_date":1651044754,"answer_id":72024903,"question_id":43303212,"body_markdown":"Arriving bit late here . My answer below with Junit5\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class CashRepoTest {\r\n       @InjectMocks\r\n       CashRepo cashRepo;\r\n\r\n       @Mock\r\n       RedisTemplate&lt;String, Object&gt; template;\r\n\r\n       @Mock\r\n\t   ValueOperations&lt;String, Object&gt; valueOperations;\r\n\r\n       @Test\r\n\t   void getTest() {\r\n          Mockito.when(template.opsForValue())\r\n            .thenReturn(valueOperations);\r\n\t\t  String expectedValue = &quot;ev&quot;;\r\n\t\t  when(valueOperations.get(&quot;test&quot;)).thenReturn(expectedValue);\r\n\t\t  assertEquals(expectedValue, cashRepo.getObject(&quot;test&quot;));\r\n\t  }\r\n    }","title":"Mock redis template","body":"<p>Arriving bit late here . My answer below with Junit5</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass CashRepoTest {\n   @InjectMocks\n   CashRepo cashRepo;\n\n   @Mock\n   RedisTemplate&lt;String, Object&gt; template;\n\n   @Mock\n   ValueOperations&lt;String, Object&gt; valueOperations;\n\n   @Test\n   void getTest() {\n      Mockito.when(template.opsForValue())\n        .thenReturn(valueOperations);\n      String expectedValue = &quot;ev&quot;;\n      when(valueOperations.get(&quot;test&quot;)).thenReturn(expectedValue);\n      assertEquals(expectedValue, cashRepo.getObject(&quot;test&quot;));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693989500,"creation_date":1693989500,"answer_id":77050282,"question_id":43303212,"body_markdown":"If you are using JUnit-5, these are the things which you need to take care of.\r\n\r\n        @BeforeEach\r\n        void setUp() {\r\n            MockitoAnnotations.openMocks(this);\r\n            Mockito.when(redisTemplate.opsForHash()).thenReturn(hashOperations);\r\n            \r\n        }\r\n\r\nHashOperations or ValueOperations is based on the requirement you have.","title":"Mock redis template","body":"<p>If you are using JUnit-5, these are the things which you need to take care of.</p>\n<pre><code>    @BeforeEach\n    void setUp() {\n        MockitoAnnotations.openMocks(this);\n        Mockito.when(redisTemplate.opsForHash()).thenReturn(hashOperations);\n        \n    }\n</code></pre>\n<p>HashOperations or ValueOperations is based on the requirement you have.</p>\n"}],"owner":{"account_id":4807604,"reputation":173,"user_id":3882105,"display_name":"lahirumw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32203,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":8,"score":13,"last_activity_date":1693989500,"creation_date":1491713866,"question_id":43303212,"body_markdown":"I am facing a issue in mock redis template.\r\nCan any one help me to write unit test for below class.\r\n\r\n\r\n    @Repository\r\n    public class CasheRepo {\r\n    \r\n        @Autowired\r\n        private RedisTemplate&lt;String, Object&gt; template;\r\n    \r\n        public Object getObject(final String key) {\r\n    \treturn template.opsForValue().get(key);\r\n        }\r\n    }\r\n\r\nAnd below is unit test class. But it is not working. It shows null point exceptions\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class CashRepoTest {\r\n        @InjectMocks\r\n        private CasheRepo casheRepo = new CasheRepo();\r\n    \r\n        private @Mock RedisConnection redisConnectionMock;\r\n        private @Mock RedisConnectionFactory redisConnectionFactoryMock;\r\n    \r\n        private RedisTemplate redisTemplate;\r\n    \r\n        @Before\r\n        public void setUp() { \tMockito.when(redisConnectionFactoryMock.getConnection()).thenReturn(redisConnectionMock);   \r\n    \tredisTemplate = new RedisTemplate();\r\n    \tredisTemplate.setConnectionFactory(redisConnectionFactoryMock);\r\n    \tredisTemplate.afterPropertiesSet();\r\n        }\r\n    \r\n        @Test\r\n        public void getObjectTest() {\r\n    \tMockito.doNothing().when(redisTemplate).opsForValue().set(&quot;spring&quot;, &quot;data&quot;);\r\n    \tredisTemplate.afterPropertiesSet();  \r\n    \tSystem.out.println(redisTemplate.opsForValue().get(&quot;spring&quot;));   \r\n        }    \r\n    }\r\n\r\n","title":"Mock redis template","body":"<p>I am facing a issue in mock redis template.\nCan any one help me to write unit test for below class.</p>\n\n<pre><code>@Repository\npublic class CasheRepo {\n\n    @Autowired\n    private RedisTemplate&lt;String, Object&gt; template;\n\n    public Object getObject(final String key) {\n    return template.opsForValue().get(key);\n    }\n}\n</code></pre>\n\n<p>And below is unit test class. But it is not working. It shows null point exceptions</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class CashRepoTest {\n    @InjectMocks\n    private CasheRepo casheRepo = new CasheRepo();\n\n    private @Mock RedisConnection redisConnectionMock;\n    private @Mock RedisConnectionFactory redisConnectionFactoryMock;\n\n    private RedisTemplate redisTemplate;\n\n    @Before\n    public void setUp() {   Mockito.when(redisConnectionFactoryMock.getConnection()).thenReturn(redisConnectionMock);   \n    redisTemplate = new RedisTemplate();\n    redisTemplate.setConnectionFactory(redisConnectionFactoryMock);\n    redisTemplate.afterPropertiesSet();\n    }\n\n    @Test\n    public void getObjectTest() {\n    Mockito.doNothing().when(redisTemplate).opsForValue().set(\"spring\", \"data\");\n    redisTemplate.afterPropertiesSet();  \n    System.out.println(redisTemplate.opsForValue().get(\"spring\"));   \n    }    \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1693984300,"post_id":77049699,"comment_id":135829872,"body_markdown":"all the code that is commented out in your question, is that also commented out in the code you run?","body":"all the code that is commented out in your question, is that also commented out in the code you run?"},{"owner":{"account_id":29377026,"reputation":33,"user_id":22508348,"display_name":"user22508348"},"score":0,"creation_date":1693986808,"post_id":77049699,"comment_id":135830303,"body_markdown":"yes, they are all commented out","body":"yes, they are all commented out"},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1694002451,"post_id":77049699,"comment_id":135833365,"body_markdown":"I don&#39;t know what AbstractGame does but the error message is complaining that it cannot load textures in the current GL Context or there is no Context. Too bad it doesn&#39;t tell you which of those things were the case! Most likely there is something wrong with the setup that gets the OpenGL native libraries loaded.","body":"I don&#39;t know what AbstractGame does but the error message is complaining that it cannot load textures in the current GL Context or there is no Context. Too bad it doesn&#39;t tell you which of those things were the case! Most likely there is something wrong with the setup that gets the OpenGL native libraries loaded."},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1694002608,"post_id":77049699,"comment_id":135833407,"body_markdown":"also, I would add the tags OpenGL and whatever framework AbstractGame comes from to the tag list","body":"also, I would add the tags OpenGL and whatever framework AbstractGame comes from to the tag list"}],"owner":{"account_id":29377026,"reputation":33,"user_id":22508348,"display_name":"user22508348"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693989124,"creation_date":1693984153,"question_id":77049699,"body_markdown":"How can I fix this error message in java?\r\n\r\nThe notes will descend from the top vertically in the 4 lanes. The player has to press the corresponding arrow key\r\nwhen the note overlaps with the stationary note symbol at the bottom. The accuracy of how close\r\nthe note was to the stationary note when the key was pressed, will determine the points given.\r\nThere will be special hold notes that require the player to hold down the key. To win, the player\r\nneeds to beat the target score when all the notes have fallen. If the player’s score is lower, the\r\ngame ends.\r\n\r\nThanks\r\n\r\n`FATAL ERROR in native method: Thread[main,5,main]: No context is current or a function that is not available in the current context was called. The JVM will abort execution.\r\n\tat org.lwjgl.opengl.GL11C.nglGenTextures(Native Method)\r\n\tat org.lwjgl.opengl.GL11C.glGenTextures(GL11C.java:667)\r\n\tat org.lwjgl.opengl.GL11.glGenTextures(GL11.java:2439)`\r\n\r\n\r\n```\r\nimport bagel.*;\r\nimport bagel.util.Point;\r\nimport java.io.FileReader;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\n\r\n\r\n\r\npublic class ShadowDance extends AbstractGame  {\r\n    private final static int WINDOW_WIDTH = 1024;\r\n    private final static int WINDOW_HEIGHT = 768;\r\n    private final static String GAME_TITLE = &quot;SHADOW DANCE&quot;;\r\n    private final Image BACKGROUND_IMAGE = new Image(&quot;res/background.png&quot;);\r\n\r\n    private final static Font TITLE_FONT = new Font(&quot;res/FSO8BITR.ttf&quot;, 64);\r\n    private final static Font INSTRUCTION_FONT = new Font(&quot;res/FSO8BITR.ttf&quot;, 24);\r\n    private final static String INSTRUCTION = &quot;PRESS SPACE TO START\\nUSE ARROW KEYS TO PLAY&quot;;\r\n    private final static Point TITLE_POINT = new Point(220,260);\r\n    private final static Point INSTRUCTION_POINT = new Point(320,450);\r\n\r\n    private final static String WORLD_FILE = &quot;res/level1.csv&quot;;\r\n\r\n    //a value to indicate the game has started or not\r\n    private boolean start = false;\r\n\r\n    private LaneLeft laneLeft;\r\n    private LaneRight laneRight;\r\n    private LaneDown laneDown;\r\n    private LaneUp laneUp;\r\n    private final static String LEFT = &quot;Left&quot;;\r\n    private final static String RIGHT = &quot;Right&quot;;\r\n    private final static String DOWN = &quot;Down&quot;;\r\n    private final static String UP = &quot;Up&quot;;\r\n\r\n    public ShadowDance(){\r\n        super(WINDOW_WIDTH, WINDOW_HEIGHT, GAME_TITLE);\r\n        this.start = start;\r\n        readCSV();\r\n    }\r\n\r\n    /**\r\n     * Method used to read file and create objects (you can change\r\n     * this method as you wish).\r\n     */\r\n    private boolean readCSV() {\r\n       try (BufferedReader br = new BufferedReader(new FileReader(WORLD_FILE))) {\r\n            String text;\r\n            //find each lane&#39;s x coordinate\r\n\r\n            while ((text = br.readLine()) != null) {\r\n                String lanes[] = text.split(&quot;,&quot;);\r\n                if(lanes[0].equals(&quot;Lane&quot;)){\r\n                    if (lanes[1].equals(LEFT)){\r\n                        laneLeft = new LaneLeft(Double.parseDouble(lanes[2]));\r\n                    }else if (lanes[1].equals(RIGHT)){\r\n                        laneRight = new LaneRight(Double.parseDouble(lanes[2]));\r\n                    }else if (lanes[1].equals(UP)){\r\n                        laneUp = new LaneUp(Double.parseDouble(lanes[2]));\r\n                    }else if (lanes[1].equals(DOWN)){\r\n                        laneDown = new LaneDown(Double.parseDouble(lanes[2]));\r\n                    }\r\n                    start = true;\r\n                }       \r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return start;\r\n    }\r\n\r\n\r\n    /**\r\n     * The entry point for the program.\r\n     */\r\n    public static void main(String[] args) {\r\n        ShadowDance game = new ShadowDance();\r\n        game.run();\r\n    }\r\n\r\n    /**\r\n     * Performs a state update.\r\n     * Allows the game to exit when the escape key is pressed.\r\n     */\r\n    @Override\r\n    protected void update(Input input) {\r\n        if (input.wasPressed(Keys.ESCAPE)){\r\n            Window.close();\r\n        }\r\n\r\n        BACKGROUND_IMAGE.draw(Window.getWidth()/2.0, Window.getHeight()/2.0);\r\n\r\n        if (start == false){\r\n            /**\r\n             *render title and instruction message\r\n             */\r\n            TITLE_FONT .drawString(GAME_TITLE, TITLE_POINT.x, TITLE_POINT.y);\r\n            INSTRUCTION_FONT.drawString(INSTRUCTION, INSTRUCTION_POINT.x, INSTRUCTION_POINT.y);\r\n            if(input.wasPressed(Keys.SPACE)){\r\n                start = true;\r\n            }\r\n        }\r\n        else{\r\n            laneLeft.update();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried make a game called shadow dance now I am trying to load lane images","title":"how to fix FATAL ERROR in native method in java","body":"<p>How can I fix this error message in java?</p>\n<p>The notes will descend from the top vertically in the 4 lanes. The player has to press the corresponding arrow key\nwhen the note overlaps with the stationary note symbol at the bottom. The accuracy of how close\nthe note was to the stationary note when the key was pressed, will determine the points given.\nThere will be special hold notes that require the player to hold down the key. To win, the player\nneeds to beat the target score when all the notes have fallen. If the player’s score is lower, the\ngame ends.</p>\n<p>Thanks</p>\n<p><code>FATAL ERROR in native method: Thread[main,5,main]: No context is current or a function that is not available in the current context was called. The JVM will abort execution. at org.lwjgl.opengl.GL11C.nglGenTextures(Native Method) at org.lwjgl.opengl.GL11C.glGenTextures(GL11C.java:667) at org.lwjgl.opengl.GL11.glGenTextures(GL11.java:2439)</code></p>\n<pre><code>import bagel.*;\nimport bagel.util.Point;\nimport java.io.FileReader;\nimport java.io.BufferedReader;\nimport java.io.IOException;\n\n\n\npublic class ShadowDance extends AbstractGame  {\n    private final static int WINDOW_WIDTH = 1024;\n    private final static int WINDOW_HEIGHT = 768;\n    private final static String GAME_TITLE = &quot;SHADOW DANCE&quot;;\n    private final Image BACKGROUND_IMAGE = new Image(&quot;res/background.png&quot;);\n\n    private final static Font TITLE_FONT = new Font(&quot;res/FSO8BITR.ttf&quot;, 64);\n    private final static Font INSTRUCTION_FONT = new Font(&quot;res/FSO8BITR.ttf&quot;, 24);\n    private final static String INSTRUCTION = &quot;PRESS SPACE TO START\\nUSE ARROW KEYS TO PLAY&quot;;\n    private final static Point TITLE_POINT = new Point(220,260);\n    private final static Point INSTRUCTION_POINT = new Point(320,450);\n\n    private final static String WORLD_FILE = &quot;res/level1.csv&quot;;\n\n    //a value to indicate the game has started or not\n    private boolean start = false;\n\n    private LaneLeft laneLeft;\n    private LaneRight laneRight;\n    private LaneDown laneDown;\n    private LaneUp laneUp;\n    private final static String LEFT = &quot;Left&quot;;\n    private final static String RIGHT = &quot;Right&quot;;\n    private final static String DOWN = &quot;Down&quot;;\n    private final static String UP = &quot;Up&quot;;\n\n    public ShadowDance(){\n        super(WINDOW_WIDTH, WINDOW_HEIGHT, GAME_TITLE);\n        this.start = start;\n        readCSV();\n    }\n\n    /**\n     * Method used to read file and create objects (you can change\n     * this method as you wish).\n     */\n    private boolean readCSV() {\n       try (BufferedReader br = new BufferedReader(new FileReader(WORLD_FILE))) {\n            String text;\n            //find each lane's x coordinate\n\n            while ((text = br.readLine()) != null) {\n                String lanes[] = text.split(&quot;,&quot;);\n                if(lanes[0].equals(&quot;Lane&quot;)){\n                    if (lanes[1].equals(LEFT)){\n                        laneLeft = new LaneLeft(Double.parseDouble(lanes[2]));\n                    }else if (lanes[1].equals(RIGHT)){\n                        laneRight = new LaneRight(Double.parseDouble(lanes[2]));\n                    }else if (lanes[1].equals(UP)){\n                        laneUp = new LaneUp(Double.parseDouble(lanes[2]));\n                    }else if (lanes[1].equals(DOWN)){\n                        laneDown = new LaneDown(Double.parseDouble(lanes[2]));\n                    }\n                    start = true;\n                }       \n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return start;\n    }\n\n\n    /**\n     * The entry point for the program.\n     */\n    public static void main(String[] args) {\n        ShadowDance game = new ShadowDance();\n        game.run();\n    }\n\n    /**\n     * Performs a state update.\n     * Allows the game to exit when the escape key is pressed.\n     */\n    @Override\n    protected void update(Input input) {\n        if (input.wasPressed(Keys.ESCAPE)){\n            Window.close();\n        }\n\n        BACKGROUND_IMAGE.draw(Window.getWidth()/2.0, Window.getHeight()/2.0);\n\n        if (start == false){\n            /**\n             *render title and instruction message\n             */\n            TITLE_FONT .drawString(GAME_TITLE, TITLE_POINT.x, TITLE_POINT.y);\n            INSTRUCTION_FONT.drawString(INSTRUCTION, INSTRUCTION_POINT.x, INSTRUCTION_POINT.y);\n            if(input.wasPressed(Keys.SPACE)){\n                start = true;\n            }\n        }\n        else{\n            laneLeft.update();\n        }\n    }\n}\n\n</code></pre>\n<p>I tried make a game called shadow dance now I am trying to load lane images</p>\n"},{"tags":["java","hibernate","criteriaquery","criteriabuilder"],"answers":[{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1693986082,"post_id":77049867,"comment_id":135830170,"body_markdown":"`and` is not needed when used directly with `where`, you can just use `where(predicates.toArray(...))`. I also prefer `Predicate[]::new` over `new Predicate[0]` these days, because it removes the need to use reflection inside `toArray`.","body":"<code>and</code> is not needed when used directly with <code>where</code>, you can just use <code>where(predicates.toArray(...))</code>. I also prefer <code>Predicate[]::new</code> over <code>new Predicate[0]</code> these days, because it removes the need to use reflection inside <code>toArray</code>."}],"tags":[],"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693988281,"creation_date":1693985828,"answer_id":77049867,"question_id":77049500,"body_markdown":"That is probably because you use `Predicate.getExpressions` to gather the predicates. According to the [documentation](https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Predicate.html#getExpressions--), adding predicates directly to this list does not affect the query, i.e., the method most likely returns a defensive copy of the list of predicates. To fix it, I would create a list of `Predicate`s manually:\r\n```java\r\nfinal List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n```\r\nadd the individual predicates to it (based on the `if` conditions) and then use the `CriteriaBuilder.and` to get a conjunction:\r\n```java\r\ncriteria.select(root).where(predicates.toArray(Predicate[]::new));\r\n```\r\n","title":"CriteriaQuery and CriteriaBuilder not giving expected result","body":"<p>That is probably because you use <code>Predicate.getExpressions</code> to gather the predicates. According to the <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Predicate.html#getExpressions--\" rel=\"nofollow noreferrer\">documentation</a>, adding predicates directly to this list does not affect the query, i.e., the method most likely returns a defensive copy of the list of predicates. To fix it, I would create a list of <code>Predicate</code>s manually:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n</code></pre>\n<p>add the individual predicates to it (based on the <code>if</code> conditions) and then use the <code>CriteriaBuilder.and</code> to get a conjunction:</p>\n<pre class=\"lang-java prettyprint-override\"><code>criteria.select(root).where(predicates.toArray(Predicate[]::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693985957,"creation_date":1693985957,"answer_id":77049878,"question_id":77049500,"body_markdown":"You can&#39;t update the expressions of a `Predicate`. From [Predicate.getExpressions()][1] (emphasis added):\r\n&gt; Return the top-level conjuncts or disjuncts of the predicate. Returns empty list if there are no top-level conjuncts or disjuncts of the predicate. **Modifications to the list do not affect the query.**\r\n\r\nIt seems like [conjuction()][2] is not the way to go:\r\n&gt; Create a conjunction (with zero conjuncts). A conjunction with zero conjuncts is true.\r\n\r\nSo instead of using `conjuction()`, create a `List&lt;Predicate&gt;`, add to that, and then use it:\r\n```\r\ncriteria.where(predicateList.toArray(Predicate[]::new));\r\n```\r\n\r\nAlternatively, and I think this is why `conjuction()` exists, don&#39;t add to its expressions but replace the predicate itself:\r\n```\r\n// predFinal.getExpressions().add(predClasificacion);\r\npredFinal = builder.and(predFinal, predClasificacion);\r\n```\r\n\r\n  [1]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/persistence/criteria/predicate#getExpressions--\r\n  [2]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/persistence/criteria/criteriabuilder#conjunction--","title":"CriteriaQuery and CriteriaBuilder not giving expected result","body":"<p>You can't update the expressions of a <code>Predicate</code>. From <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/persistence/criteria/predicate#getExpressions--\" rel=\"nofollow noreferrer\">Predicate.getExpressions()</a> (emphasis added):</p>\n<blockquote>\n<p>Return the top-level conjuncts or disjuncts of the predicate. Returns empty list if there are no top-level conjuncts or disjuncts of the predicate. <strong>Modifications to the list do not affect the query.</strong></p>\n</blockquote>\n<p>It seems like <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/persistence/criteria/criteriabuilder#conjunction--\" rel=\"nofollow noreferrer\">conjuction()</a> is not the way to go:</p>\n<blockquote>\n<p>Create a conjunction (with zero conjuncts). A conjunction with zero conjuncts is true.</p>\n</blockquote>\n<p>So instead of using <code>conjuction()</code>, create a <code>List&lt;Predicate&gt;</code>, add to that, and then use it:</p>\n<pre><code>criteria.where(predicateList.toArray(Predicate[]::new));\n</code></pre>\n<p>Alternatively, and I think this is why <code>conjuction()</code> exists, don't add to its expressions but replace the predicate itself:</p>\n<pre><code>// predFinal.getExpressions().add(predClasificacion);\npredFinal = builder.and(predFinal, predClasificacion);\n</code></pre>\n"}],"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693988281,"creation_date":1693982162,"question_id":77049500,"body_markdown":"I&#39;m using CriteriaQuery and CriteriaBuilder to mount a dynamic where. I have some filtering values that user selects and can be informed or not. But using a conjunction predicate doesn&#39;t return a correct where clause.\r\nThis is my code:\r\n\r\n    // Create CriteriaBuilder\r\n    CriteriaBuilder builder = session.getCriteriaBuilder();\r\n    // Create CriteriaQuery\r\n    CriteriaQuery&lt;Tarea&gt; criteria = builder.createQuery(Tarea.class);\r\n    // Set root\r\n    Root&lt;Tarea&gt; root = criteria.from(Tarea.class);\r\n    criteria.select(root);\r\n    if(getSortColumn()!= null &amp;&amp; !getSortColumn().equals(&quot;&quot;)) {\r\n    \tcriteria.orderBy(builder.asc(root.get(getSortColumn())));\r\n    }\r\n    Predicate predFinal = builder.conjunction();\r\n    if(filtro.getClasificacionTarea() != null &amp;&amp; filtro.getClasificacionTarea().size()&gt;0) {\r\n    \tPredicate predClasificacion = builder.disjunction();\r\n    \tfor(Clasificacion clas : filtro.getClasificacionTarea()) {\r\n    \t\tpredClasificacion.getExpressions().add(builder.equal(root.get(&quot;clasificacion&quot;).get(&quot;id&quot;), clas.getId()));\r\n    \t}\r\n    \tpredFinal.getExpressions().add(predClasificacion);\r\n    }\r\n    if(filtro.getProyecto() != null) {\r\n    \tPredicate predicateProyecto;\r\n    \tpredicateProyecto = builder.and(builder.equal(root.get(&quot;OT&quot;).get(&quot;proyecto&quot;), filtro.getProyecto()));\r\n    \tpredFinal.getExpressions().add(predicateProyecto);\r\n    }\r\n    if(filtro.getCliente() != null) {\r\n    \tPredicate predicateCliente;\r\n    \tpredicateCliente = builder.and(builder.equal(root.get(&quot;ot&quot;).get(&quot;cliente&quot;).get(&quot;id&quot;), filtro.getCliente().getId()));\r\n    \tpredFinal.getExpressions().add(predicateCliente);\r\n    }\r\n    if(filtro.getProvincia() != null) {\r\n    \tPredicate predicateProvincia;\r\n    \tpredicateProvincia = builder.and(builder.equal(root.get(&quot;ot&quot;).get(&quot;provincia&quot;).get(&quot;id&quot;), filtro.getProvincia().getId()));\r\n    \tpredFinal.getExpressions().add(predicateProvincia);\r\n    }\r\n    if(filtro.getPais() != null) {\r\n    \tPredicate predicatePais;\r\n    \tpredicatePais = builder.and(builder.equal(root.get(&quot;ot&quot;).get(&quot;pais&quot;).get(&quot;id&quot;), filtro.getPais().getId()));\r\n    \tpredFinal.getExpressions().add(predicatePais);\r\n    }\r\n    predFinal.getExpressions().add(builder.and(builder.isNull(root.get(&quot;fechaBaja&quot;))));\r\n    criteria.where(predFinal);\r\n    // Query execution\r\n    Query&lt;Tarea&gt; query = session.createQuery(criteria);\r\n\r\nAnd the resulting query, when filtering by any of the fields:\r\n\r\n    Hibernate: \r\n        select\r\n            t1_0.id,\r\n            t1_0.fk_idPedidoVenta,\r\n            t1_0.fk_idClasificacionTarea,\r\n            t1_0.confirmado,\r\n            t1_0.fk_idUsuarioCreacion,\r\n            t1_0.fechaCreacion,\r\n            t1_0.fechaBaja,\r\n            t1_0.fechaInicio,\r\n            t1_0.fechaFin,\r\n            t1_0.finalizado,\r\n            t1_0.horaInicio,\r\n            t1_0.horaFin,\r\n            t1_0.observaciones,\r\n            t1_0.fk_idTipoTarea \r\n        from\r\n            Tarea t1_0 \r\n        where\r\n            1=1 \r\n        order by\r\n            t1_0.fechaInicio\r\n\r\nWhere clause is always 1=1 so it returns all records.\r\n\r\nIt&#39;s my first time using CriteriaBuilder so maybe I&#39;m using it wrong?\r\nThanks for your help","title":"CriteriaQuery and CriteriaBuilder not giving expected result","body":"<p>I'm using CriteriaQuery and CriteriaBuilder to mount a dynamic where. I have some filtering values that user selects and can be informed or not. But using a conjunction predicate doesn't return a correct where clause.\nThis is my code:</p>\n<pre><code>// Create CriteriaBuilder\nCriteriaBuilder builder = session.getCriteriaBuilder();\n// Create CriteriaQuery\nCriteriaQuery&lt;Tarea&gt; criteria = builder.createQuery(Tarea.class);\n// Set root\nRoot&lt;Tarea&gt; root = criteria.from(Tarea.class);\ncriteria.select(root);\nif(getSortColumn()!= null &amp;&amp; !getSortColumn().equals(&quot;&quot;)) {\n    criteria.orderBy(builder.asc(root.get(getSortColumn())));\n}\nPredicate predFinal = builder.conjunction();\nif(filtro.getClasificacionTarea() != null &amp;&amp; filtro.getClasificacionTarea().size()&gt;0) {\n    Predicate predClasificacion = builder.disjunction();\n    for(Clasificacion clas : filtro.getClasificacionTarea()) {\n        predClasificacion.getExpressions().add(builder.equal(root.get(&quot;clasificacion&quot;).get(&quot;id&quot;), clas.getId()));\n    }\n    predFinal.getExpressions().add(predClasificacion);\n}\nif(filtro.getProyecto() != null) {\n    Predicate predicateProyecto;\n    predicateProyecto = builder.and(builder.equal(root.get(&quot;OT&quot;).get(&quot;proyecto&quot;), filtro.getProyecto()));\n    predFinal.getExpressions().add(predicateProyecto);\n}\nif(filtro.getCliente() != null) {\n    Predicate predicateCliente;\n    predicateCliente = builder.and(builder.equal(root.get(&quot;ot&quot;).get(&quot;cliente&quot;).get(&quot;id&quot;), filtro.getCliente().getId()));\n    predFinal.getExpressions().add(predicateCliente);\n}\nif(filtro.getProvincia() != null) {\n    Predicate predicateProvincia;\n    predicateProvincia = builder.and(builder.equal(root.get(&quot;ot&quot;).get(&quot;provincia&quot;).get(&quot;id&quot;), filtro.getProvincia().getId()));\n    predFinal.getExpressions().add(predicateProvincia);\n}\nif(filtro.getPais() != null) {\n    Predicate predicatePais;\n    predicatePais = builder.and(builder.equal(root.get(&quot;ot&quot;).get(&quot;pais&quot;).get(&quot;id&quot;), filtro.getPais().getId()));\n    predFinal.getExpressions().add(predicatePais);\n}\npredFinal.getExpressions().add(builder.and(builder.isNull(root.get(&quot;fechaBaja&quot;))));\ncriteria.where(predFinal);\n// Query execution\nQuery&lt;Tarea&gt; query = session.createQuery(criteria);\n</code></pre>\n<p>And the resulting query, when filtering by any of the fields:</p>\n<pre><code>Hibernate: \n    select\n        t1_0.id,\n        t1_0.fk_idPedidoVenta,\n        t1_0.fk_idClasificacionTarea,\n        t1_0.confirmado,\n        t1_0.fk_idUsuarioCreacion,\n        t1_0.fechaCreacion,\n        t1_0.fechaBaja,\n        t1_0.fechaInicio,\n        t1_0.fechaFin,\n        t1_0.finalizado,\n        t1_0.horaInicio,\n        t1_0.horaFin,\n        t1_0.observaciones,\n        t1_0.fk_idTipoTarea \n    from\n        Tarea t1_0 \n    where\n        1=1 \n    order by\n        t1_0.fechaInicio\n</code></pre>\n<p>Where clause is always 1=1 so it returns all records.</p>\n<p>It's my first time using CriteriaBuilder so maybe I'm using it wrong?\nThanks for your help</p>\n"},{"tags":["java","search","subdirectory"],"comments":[{"owner":{"display_name":"user456814"},"score":0,"creation_date":1307362307,"post_id":6251762,"comment_id":7290504,"body_markdown":"Could you provide a link to where you found this code from?  I&#39;m not sure that FileUtils is part of the Java library, it might be someone else&#39;s custom class...never mind, found it, http://commons.apache.org/io/apidocs/org/apache/commons/io/FileUtils.html","body":"Could you provide a link to where you found this code from?  I&#39;m not sure that FileUtils is part of the Java library, it might be someone else&#39;s custom class...never mind, found it, <a href=\"http://commons.apache.org/io/apidocs/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/io/apidocs/org/apache/commons/io/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user456814"},"score":0,"creation_date":1307362651,"post_id":6251802,"comment_id":7290586,"body_markdown":"Docs for java.io.file can be found at http://download.oracle.com/javase/6/docs/api/java/io/File.html","body":"Docs for java.io.file can be found at <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/6/docs/api/java/io/File.html</a>"}],"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1307362291,"creation_date":1307362291,"answer_id":6251802,"question_id":6251762,"body_markdown":"Recursive directory search in Java is pretty darn easy. The `java.io.File` class has a `listFiles()` method that gives all the `File` children of a directory; there&#39;s also an `isDirectory()` method you call on a `File` to determine whether you should recursively search through a particular child.","title":"java: search file according to its name in directory and subdirectories","body":"<p>Recursive directory search in Java is pretty darn easy. The <code>java.io.File</code> class has a <code>listFiles()</code> method that gives all the <code>File</code> children of a directory; there's also an <code>isDirectory()</code> method you call on a <code>File</code> to determine whether you should recursively search through a particular child.</p>\n"},{"comments":[{"owner":{"display_name":"user456814"},"score":0,"creation_date":1307362616,"post_id":6251828,"comment_id":7290578,"body_markdown":"FileUtils comes from an apache java library, apparently, http://commons.apache.org/io/apidocs/org/apache/commons/io/FileUtils.html","body":"FileUtils comes from an apache java library, apparently, <a href=\"http://commons.apache.org/io/apidocs/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/io/apidocs/org/apache/commons/io/&hellip;</a>"}],"tags":[],"owner":{"account_id":61770,"reputation":1090,"user_id":183912,"accept_rate":64,"display_name":"Udi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1307362464,"creation_date":1307362464,"answer_id":6251828,"question_id":6251762,"body_markdown":"I don&#39;t really know what FileUtils does, but how about changing &quot;txt&quot; in extenstions to &quot;yourfile.whatever&quot;?","title":"java: search file according to its name in directory and subdirectories","body":"<p>I don't really know what FileUtils does, but how about changing \"txt\" in extenstions to \"yourfile.whatever\"?</p>\n"},{"comments":[{"owner":{"account_id":61770,"reputation":1090,"user_id":183912,"accept_rate":64,"display_name":"Udi"},"score":0,"creation_date":1307363569,"post_id":6251894,"comment_id":7290811,"body_markdown":"@skaryu - Works for me... Did you add the whole block including the condition?","body":"@skaryu - Works for me... Did you add the whole block including the condition?"},{"owner":{"account_id":761634,"reputation":141,"user_id":776013,"accept_rate":60,"display_name":"skaryu"},"score":0,"creation_date":1307364384,"post_id":6251894,"comment_id":7291058,"body_markdown":"but there is one problem...I need to find file which has no extension","body":"but there is one problem...I need to find file which has no extension"},{"owner":{"account_id":761634,"reputation":141,"user_id":776013,"accept_rate":60,"display_name":"skaryu"},"score":0,"creation_date":1307364845,"post_id":6251894,"comment_id":7291198,"body_markdown":"ok...now it works like this: \nCollection files = FileUtils.listFiles(root, null, recursive);\nthanks again","body":"ok...now it works like this:  Collection files = FileUtils.listFiles(root, null, recursive); thanks again"},{"owner":{"account_id":761634,"reputation":141,"user_id":776013,"accept_rate":60,"display_name":"skaryu"},"score":0,"creation_date":1307366517,"post_id":6251894,"comment_id":7291629,"body_markdown":"what if I want to find just one file...how should it look without FOR cyclus?","body":"what if I want to find just one file...how should it look without FOR cyclus?"}],"tags":[],"owner":{"account_id":61770,"reputation":1090,"user_id":183912,"accept_rate":64,"display_name":"Udi"},"comment_count":4,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1307364721,"creation_date":1307362824,"answer_id":6251894,"question_id":6251762,"body_markdown":"    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tFile root = new File(&quot;c:\\\\test&quot;);\r\n    \t\tString fileName = &quot;a.txt&quot;;\r\n    \t\ttry {\r\n    \t\t\tboolean recursive = true;\r\n    \r\n    \t\t\tCollection files = FileUtils.listFiles(root, null, recursive);\r\n    \r\n    \t\t\tfor (Iterator iterator = files.iterator(); iterator.hasNext();) {\r\n    \t\t\t\tFile file = (File) iterator.next();\r\n    \t\t\t\tif (file.getName().equals(fileName))\r\n    \t\t\t\t\tSystem.out.println(file.getAbsolutePath());\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"java: search file according to its name in directory and subdirectories","body":"<pre><code>public class Test {\n    public static void main(String[] args) {\n        File root = new File(\"c:\\\\test\");\n        String fileName = \"a.txt\";\n        try {\n            boolean recursive = true;\n\n            Collection files = FileUtils.listFiles(root, null, recursive);\n\n            for (Iterator iterator = files.iterator(); iterator.hasNext();) {\n                File file = (File) iterator.next();\n                if (file.getName().equals(fileName))\n                    System.out.println(file.getAbsolutePath());\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":761634,"reputation":141,"user_id":776013,"accept_rate":60,"display_name":"skaryu"},"score":0,"creation_date":1307363336,"post_id":6251899,"comment_id":7290748,"body_markdown":"there is a problem with this: files = f.list(new MyFileNameFilter());","body":"there is a problem with this: files = f.list(new MyFileNameFilter());"},{"owner":{"account_id":761634,"reputation":141,"user_id":776013,"accept_rate":60,"display_name":"skaryu"},"score":0,"creation_date":1307363745,"post_id":6251899,"comment_id":7290861,"body_markdown":"No enclosing instance of type recursiveSearch is accesible. Must qualify the allocation with an enclosing instance of type recursiveSearch","body":"No enclosing instance of type recursiveSearch is accesible. Must qualify the allocation with an enclosing instance of type recursiveSearch"},{"owner":{"account_id":384475,"reputation":2036,"user_id":741015,"display_name":"sudmong"},"score":0,"creation_date":1307364180,"post_id":6251899,"comment_id":7290997,"body_markdown":"that can be implemented on the top of it.","body":"that can be implemented on the top of it."},{"owner":{"account_id":761634,"reputation":141,"user_id":776013,"accept_rate":60,"display_name":"skaryu"},"score":0,"creation_date":1307364537,"post_id":6251899,"comment_id":7291109,"body_markdown":"yes...but I don&#39;t know what does it mean...I work with java like 10 days :)","body":"yes...but I don&#39;t know what does it mean...I work with java like 10 days :)"}],"tags":[],"owner":{"account_id":384475,"reputation":2036,"user_id":741015,"display_name":"sudmong"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620108846,"creation_date":1307362862,"answer_id":6251899,"question_id":6251762,"body_markdown":"You can use FileFilter Like this.\r\n\r\n    public class MyFileNameFilter implements FilenameFilter {\r\n\r\n\t@Override\r\n\tpublic boolean accept(File arg0, String arg1) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tboolean result =false;\r\n\t\tif(arg1.startsWith(&quot;KB24&quot;))\r\n\t\t\tresult = true;\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n\r\nAnd call it like this\r\n\r\n    File f = new File(&quot;C:\\\\WINDOWS&quot;);\r\n\t\tString []  files  = null;\r\n\t\tif(f.isDirectory()) {  \r\n\t\t\t\r\n\t\t\tfiles = f.list(new MyFileNameFilter());\r\n\t\t}\r\n\t\t\r\n\t\tfor(String s: files) {\r\n\t\t\t\r\n\t\t\tSystem.out.print(s);\r\n\t\t\tSystem.out.print(&quot;\\t&quot;);\r\n\t\t}\r\n\r\nJava 8 Lamda make this easier instead of using FileNameFilter, pass lambda expression\r\n\r\n       File[] filteredFiles =  f.listFiles((file, name) -&gt;name.endsWith(extn));\r\n       ","title":"java: search file according to its name in directory and subdirectories","body":"<p>You can use FileFilter Like this.</p>\n<pre><code>public class MyFileNameFilter implements FilenameFilter {\n\n@Override\npublic boolean accept(File arg0, String arg1) {\n    // TODO Auto-generated method stub\n    boolean result =false;\n    if(arg1.startsWith(&quot;KB24&quot;))\n        result = true;\n    return result;\n}\n</code></pre>\n<p>}</p>\n<p>And call it like this</p>\n<pre><code>File f = new File(&quot;C:\\\\WINDOWS&quot;);\n    String []  files  = null;\n    if(f.isDirectory()) {  \n        \n        files = f.list(new MyFileNameFilter());\n    }\n    \n    for(String s: files) {\n        \n        System.out.print(s);\n        System.out.print(&quot;\\t&quot;);\n    }\n</code></pre>\n<p>Java 8 Lamda make this easier instead of using FileNameFilter, pass lambda expression</p>\n<pre><code>   File[] filteredFiles =  f.listFiles((file, name) -&gt;name.endsWith(extn));\n   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1168425,"reputation":391,"user_id":1146178,"display_name":"Mar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431506087,"creation_date":1431506087,"answer_id":30209664,"question_id":6251762,"body_markdown":"    public static File find(String path, String fName) {\r\n        File f = new File(path);\r\n        if (fName.equalsIgnoreCase(f.getName())) return f;\r\n        if (f.isDirectory()) {\r\n            for (String aChild : f.list()) {\r\n                File ff = find(path + File.separator + aChild, fName);\r\n                if (ff != null) return ff;\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"java: search file according to its name in directory and subdirectories","body":"<pre><code>public static File find(String path, String fName) {\n    File f = new File(path);\n    if (fName.equalsIgnoreCase(f.getName())) return f;\n    if (f.isDirectory()) {\n        for (String aChild : f.list()) {\n            File ff = find(path + File.separator + aChild, fName);\n            if (ff != null) return ff;\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693988255,"creation_date":1693988255,"answer_id":77050148,"question_id":6251762,"body_markdown":"Find File in a Directory and Nested Sub-Directories :\r\n\r\n    import java.io.File;\r\n    import java.util.Objects;\r\n    \r\n    public class Solution_LocateUniverseFormula {\r\n        public static void main(String[] args) {\r\n            System.out.println(locateUniverseFormula());\r\n        }\r\n    \r\n        public static String locateUniverseFormula() {\r\n            File root = new File(&quot;C:/tmp/documents/&quot;);\r\n            String fileName = &quot;universe-formula&quot;;\r\n    \r\n            File[] files = root.listFiles();\r\n    \r\n            for (File childFile : files) {\r\n                String filePath = find(childFile, fileName);\r\n                if (!Objects.isNull(filePath)) return filePath;\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public static String find(File file, String fileName) {\r\n            if (file.getName().startsWith(fileName)) return file.getAbsolutePath();\r\n            if (file.isDirectory()) {\r\n                for (File childFile : file.listFiles()) {\r\n                    String filePath = find(childFile, fileName);\r\n                    if (!Objects.isNull(childFile)) return filePath;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }","title":"java: search file according to its name in directory and subdirectories","body":"<p>Find File in a Directory and Nested Sub-Directories :</p>\n<pre><code>import java.io.File;\nimport java.util.Objects;\n\npublic class Solution_LocateUniverseFormula {\n    public static void main(String[] args) {\n        System.out.println(locateUniverseFormula());\n    }\n\n    public static String locateUniverseFormula() {\n        File root = new File(&quot;C:/tmp/documents/&quot;);\n        String fileName = &quot;universe-formula&quot;;\n\n        File[] files = root.listFiles();\n\n        for (File childFile : files) {\n            String filePath = find(childFile, fileName);\n            if (!Objects.isNull(filePath)) return filePath;\n        }\n\n        return null;\n    }\n\n    public static String find(File file, String fileName) {\n        if (file.getName().startsWith(fileName)) return file.getAbsolutePath();\n        if (file.isDirectory()) {\n            for (File childFile : file.listFiles()) {\n                String filePath = find(childFile, fileName);\n                if (!Objects.isNull(childFile)) return filePath;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":761634,"reputation":141,"user_id":776013,"accept_rate":60,"display_name":"skaryu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49817,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":6251894,"answer_count":6,"score":11,"last_activity_date":1693988255,"creation_date":1307362070,"question_id":6251762,"body_markdown":"I need a to find file according to its name in directory tree. And then show a path to this file. I found something like this, but it search according extension. Could anybody help me how can I rework this code to my needs...thanks\r\n\r\n    public class filesFinder {\r\n    public static void main(String[] args) {\r\n        File root = new File(&quot;c:\\\\test&quot;);\r\n\r\n        try {\r\n            String[] extensions = {&quot;txt&quot;};\r\n            boolean recursive = true;\r\n\r\n\r\n            Collection files = FileUtils.listFiles(root, extensions, recursive);\r\n\r\n            for (Iterator iterator = files.iterator(); iterator.hasNext();) {\r\n                File file = (File) iterator.next();\r\n                System.out.println(file.getAbsolutePath());\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    }","title":"java: search file according to its name in directory and subdirectories","body":"<p>I need a to find file according to its name in directory tree. And then show a path to this file. I found something like this, but it search according extension. Could anybody help me how can I rework this code to my needs...thanks</p>\n\n<pre><code>public class filesFinder {\npublic static void main(String[] args) {\n    File root = new File(\"c:\\\\test\");\n\n    try {\n        String[] extensions = {\"txt\"};\n        boolean recursive = true;\n\n\n        Collection files = FileUtils.listFiles(root, extensions, recursive);\n\n        for (Iterator iterator = files.iterator(); iterator.hasNext();) {\n            File file = (File) iterator.next();\n            System.out.println(file.getAbsolutePath());\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n"},{"tags":["javascript","java","html","ajax","spring-thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":22215254,"reputation":146,"user_id":16453806,"display_name":"wnotunas"},"score":1,"creation_date":1693988113,"post_id":77050097,"comment_id":135830550,"body_markdown":"Thanks but this way seems to work temporarily.","body":"Thanks but this way seems to work temporarily."},{"owner":{"account_id":9130655,"reputation":118,"user_id":6792412,"display_name":"Nguyễn Ngọc T&#226;n"},"score":0,"creation_date":1693988170,"post_id":77050097,"comment_id":135830565,"body_markdown":"Yah but at least it work.","body":"Yah but at least it work."}],"tags":[],"owner":{"account_id":9130655,"reputation":118,"user_id":6792412,"display_name":"Nguyễn Ngọc T&#226;n"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693988028,"creation_date":1693987878,"answer_id":77050097,"question_id":76848607,"body_markdown":"It seems that you already have a Thymeleaf object called user in your code. To conditionally show the link based on the role attribute of this object and also authorize it using Spring Security, you can use both `th:if` and `sec:authorize` attributes together.\r\n\r\nHere&#39;s how you can modify the code:\r\n\r\n    actionColumn.append(&quot;&lt;a th:if=\\&quot;${user.role == &#39;ADMIN&#39;}\\&quot; sec:authorize=\\&quot;hasAuthority(&#39;ADMIN&#39;)\\&quot; href=&#39;/api/update/&#39;&quot; + ${user.userName} + &quot; class=&#39;settings&#39; title=&#39;Update&#39; data-toggle=&#39;tooltip&#39;&gt;&lt;/a&gt;&quot;);\r\n\r\nThis code will only render the link if the user object&#39;s role attribute is set to `&#39;ADMIN&#39;`, and it will also check if the currently authenticated user has the authority `&#39;ADMIN&#39;` using Spring Security&#39;s `sec:authorize`. This should help you control the visibility of the link based on distinct roles.","title":"sec:authorize in js append html as string not work","body":"<p>It seems that you already have a Thymeleaf object called user in your code. To conditionally show the link based on the role attribute of this object and also authorize it using Spring Security, you can use both <code>th:if</code> and <code>sec:authorize</code> attributes together.</p>\n<p>Here's how you can modify the code:</p>\n<pre><code>actionColumn.append(&quot;&lt;a th:if=\\&quot;${user.role == 'ADMIN'}\\&quot; sec:authorize=\\&quot;hasAuthority('ADMIN')\\&quot; href='/api/update/'&quot; + ${user.userName} + &quot; class='settings' title='Update' data-toggle='tooltip'&gt;&lt;/a&gt;&quot;);\n</code></pre>\n<p>This code will only render the link if the user object's role attribute is set to <code>'ADMIN'</code>, and it will also check if the currently authenticated user has the authority <code>'ADMIN'</code> using Spring Security's <code>sec:authorize</code>. This should help you control the visibility of the link based on distinct roles.</p>\n"}],"owner":{"account_id":22215254,"reputation":146,"user_id":16453806,"display_name":"wnotunas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77050097,"answer_count":1,"score":1,"last_activity_date":1693988028,"creation_date":1691378249,"question_id":76848607,"body_markdown":"I&#39;m new to JS HTML JQuery ajax and I currently have an issue with my HTML case. To describe the most exactly what I&#39;m facing right now first I&#39;ll talk about the process. The project is about SpringMVC + Thymeleaf &amp; Thymeleaf Security5 + Spring Security.\r\n\r\n- The time the user logs in, the user with role USER won&#39;t see the &lt;a&gt; tag by `sec:acthorize`, which works fine at first\r\n\r\nThe origin code work fine first when the user with role USER load into the page ( mean not show the &lt;a&gt; tag for the user with role USER):\r\n\r\n```\r\n&lt;tbody id=&quot;tableBody&quot;&gt;\r\n   &lt;tr&gt;\r\n      &lt;td&gt;\r\n         &lt;a sec:authorize=&quot;hasAuthority(&#39;ADMIN&#39;)&quot; href=&quot;#&quot; th:attr=&quot;onclick=&#39;showConfirmationPopup(\\&#39;&#39; + ${user.userName} + &#39;\\&#39;);&#39;&quot; class=&quot;delete&quot; title=&quot;Delete&quot; data-toggle=&quot;tooltip&quot;&gt;&lt;/a&gt;\r\n      &lt;/td&gt;\r\n   &lt;/tr&gt;\r\n&lt;/tbody&gt;\r\n```\r\n\r\n- But then after I sort the table of content which call Ajax JQuery for recreate the view like this :\r\n\r\n```\r\nfunction populateTable(data) {\r\n   $(&quot;#tableBody&quot;).empty();\r\n   var row = $(&quot;&lt;tr&gt;&quot;);\r\n   var actionColumn = $(&quot;&lt;td&gt;&quot;);\r\n   actionColumn.append(&quot;&lt;a sec:authorize=\\&quot;hasAuthority(&#39;ADMIN&#39;)\\&quot; href=&#39;/api/update/&quot; + user.userName + &quot;&#39; class=&#39;settings&#39; title=&#39;Update&#39; data-toggle=&#39;tooltip&#39;&gt;&lt;/a&gt;&quot;);\r\n   row.append(actionColumn);\r\n   $(&quot;#tableBody&quot;).append(row);\r\n}\r\n```\r\n\r\nAnd the result is it still shows the &lt;a&gt; tag although the current authentication user has the role USER.\r\n\r\nThe code which calls the function above is:\r\n\r\n```\r\n   $.ajax({\r\n      url: &quot;/rest/api/pagination-by-search&quot;,\r\n      type: &quot;GET&quot;,\r\n      data: formData,\r\n      success: function(data) {\r\n         populateTable(data);\r\n      }\r\n   });\r\n   function populateTable(data) {\r\n      $(&quot;#tableBody&quot;).empty();\r\n      var row = $(&quot;&lt;tr&gt;&quot;);\r\n      var actionColumn = $(&quot;&lt;td&gt;&quot;);\r\n      actionColumn.append(&quot;&lt;a sec:authorize=\\&quot;hasAuthority(&#39;ADMIN&#39;)\\&quot; href=&#39;/api/update/&quot; + user.userName + &quot;&#39; class=&#39;settings&#39; title=&#39;Update&#39; data-toggle=&#39;tooltip&#39;&gt;&lt;/a&gt;&quot;);\r\n      row.append(actionColumn);\r\n      $(&quot;#tableBody&quot;).append(row);\r\n   }\r\n```\r\n\r\nI tried to log the user&#39;s role, and it logs the role USER as expected. However, the view still shows for the user with role USER.\r\nThe version I used:\r\n\r\n - SpringBoot version: 2.7.14\r\n - thymeleaf-extras-springsecurity5\r\n - java-version: 1.8","title":"sec:authorize in js append html as string not work","body":"<p>I'm new to JS HTML JQuery ajax and I currently have an issue with my HTML case. To describe the most exactly what I'm facing right now first I'll talk about the process. The project is about SpringMVC + Thymeleaf &amp; Thymeleaf Security5 + Spring Security.</p>\n<ul>\n<li>The time the user logs in, the user with role USER won't see the  tag by <code>sec:acthorize</code>, which works fine at first</li>\n</ul>\n<p>The origin code work fine first when the user with role USER load into the page ( mean not show the  tag for the user with role USER):</p>\n<pre><code>&lt;tbody id=&quot;tableBody&quot;&gt;\n   &lt;tr&gt;\n      &lt;td&gt;\n         &lt;a sec:authorize=&quot;hasAuthority('ADMIN')&quot; href=&quot;#&quot; th:attr=&quot;onclick='showConfirmationPopup(\\'' + ${user.userName} + '\\');'&quot; class=&quot;delete&quot; title=&quot;Delete&quot; data-toggle=&quot;tooltip&quot;&gt;&lt;/a&gt;\n      &lt;/td&gt;\n   &lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n<ul>\n<li>But then after I sort the table of content which call Ajax JQuery for recreate the view like this :</li>\n</ul>\n<pre><code>function populateTable(data) {\n   $(&quot;#tableBody&quot;).empty();\n   var row = $(&quot;&lt;tr&gt;&quot;);\n   var actionColumn = $(&quot;&lt;td&gt;&quot;);\n   actionColumn.append(&quot;&lt;a sec:authorize=\\&quot;hasAuthority('ADMIN')\\&quot; href='/api/update/&quot; + user.userName + &quot;' class='settings' title='Update' data-toggle='tooltip'&gt;&lt;/a&gt;&quot;);\n   row.append(actionColumn);\n   $(&quot;#tableBody&quot;).append(row);\n}\n</code></pre>\n<p>And the result is it still shows the  tag although the current authentication user has the role USER.</p>\n<p>The code which calls the function above is:</p>\n<pre><code>   $.ajax({\n      url: &quot;/rest/api/pagination-by-search&quot;,\n      type: &quot;GET&quot;,\n      data: formData,\n      success: function(data) {\n         populateTable(data);\n      }\n   });\n   function populateTable(data) {\n      $(&quot;#tableBody&quot;).empty();\n      var row = $(&quot;&lt;tr&gt;&quot;);\n      var actionColumn = $(&quot;&lt;td&gt;&quot;);\n      actionColumn.append(&quot;&lt;a sec:authorize=\\&quot;hasAuthority('ADMIN')\\&quot; href='/api/update/&quot; + user.userName + &quot;' class='settings' title='Update' data-toggle='tooltip'&gt;&lt;/a&gt;&quot;);\n      row.append(actionColumn);\n      $(&quot;#tableBody&quot;).append(row);\n   }\n</code></pre>\n<p>I tried to log the user's role, and it logs the role USER as expected. However, the view still shows for the user with role USER.\nThe version I used:</p>\n<ul>\n<li>SpringBoot version: 2.7.14</li>\n<li>thymeleaf-extras-springsecurity5</li>\n<li>java-version: 1.8</li>\n</ul>\n"},{"tags":["java","eclipse-rcp","eclipse-plugin"],"comments":[{"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"score":0,"creation_date":1411023808,"post_id":25906182,"comment_id":40548573,"body_markdown":"what are jars included..???","body":"what are jars included..???"},{"owner":{"account_id":4869392,"reputation":41,"user_id":3926459,"accept_rate":67,"display_name":"MdKamil"},"score":0,"creation_date":1411125207,"post_id":25906182,"comment_id":40596635,"body_markdown":"I added the jersey archive jars.The issue is resolved , it was because i didnt include some sort of &quot;.&quot; extension in the classPath in Runtime ... After i added it , it was resolved .","body":"I added the jersey archive jars.The issue is resolved , it was because i didnt include some sort of &quot;.&quot; extension in the classPath in Runtime ... After i added it , it was resolved ."}],"answers":[{"comments":[{"owner":{"account_id":4869392,"reputation":41,"user_id":3926459,"accept_rate":67,"display_name":"MdKamil"},"score":0,"creation_date":1411125169,"post_id":25906808,"comment_id":40596616,"body_markdown":"Thanks for your suggestion :) .... The issue is resolved , it was because i didnt include some sort of &quot;.&quot; extension in the classPath in Runtime ... After i added it , it was resolved","body":"Thanks for your suggestion :) .... The issue is resolved , it was because i didnt include some sort of &quot;.&quot; extension in the classPath in Runtime ... After i added it , it was resolved"}],"tags":[],"owner":{"account_id":1051387,"reputation":14943,"user_id":1055241,"accept_rate":86,"display_name":"gprathour"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411025652,"creation_date":1411025652,"answer_id":25906808,"question_id":25906182,"body_markdown":"You need to include the `jersey-client.jar` file for the same\r\n\r\nYou can download it from [here](http://www.java2s.com/Code/Jar/j/Downloadjerseyclientjar.htm)","title":"java.lang.NoClassDefFoundError: com/sun/jersey/api/client/Client","body":"<p>You need to include the <code>jersey-client.jar</code> file for the same</p>\n\n<p>You can download it from <a href=\"http://www.java2s.com/Code/Jar/j/Downloadjerseyclientjar.htm\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":11069155,"reputation":23,"user_id":8127954,"display_name":"y.z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660072777,"creation_date":1660072777,"answer_id":73297037,"question_id":25906182,"body_markdown":"Or if you&#180;re using maven write:\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\r\n\r\nWhere version is the adecuate version.","title":"java.lang.NoClassDefFoundError: com/sun/jersey/api/client/Client","body":"<p>Or if you´re using maven write:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n        &lt;version&gt;1.9&lt;/version&gt;\n    &lt;/dependency&gt;   \n</code></pre>\n<p>Where version is the adecuate version.</p>\n"}],"owner":{"account_id":4869392,"reputation":41,"user_id":3926459,"accept_rate":67,"display_name":"MdKamil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9665,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693987635,"creation_date":1411023475,"question_id":25906182,"body_markdown":"I am using Eclipse Indigo (version 3.7) for my Plug in development. I have created a plug-in and added Jersey archive jars in my Build Path . When i try to debug or run the application I am getting......      \r\n\r\n    org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NoClassDefFoundError: com/sun/jersey/api/client/Client)\r\n    \tat org.eclipse.swt.SWT.error(SWT.java:4282)\r\n    \tat org.eclipse.swt.SWT.error(SWT.java:4197)\r\n    \tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:138)\r\n    \tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4140)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3757)\r\n    \tat org.eclipse.jface.operation.ModalContext$ModalContextThread.block(ModalContext.java:173)\r\n    \tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:388)\r\n    \tat org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:1029)\r\n    \tat com.cts.adpart.testmanagement.jira.configwizard.JiraConnectionPage.connect(JiraConnectionPage.java:256)\r\n    \tat com.cts.adpart.testmanagement.jira.configwizard.JiraConnectionPage.access$0(JiraConnectionPage.java:249)\r\n    \tat com.cts.adpart.testmanagement.jira.configwizard.JiraConnectionPage$1.widgetSelected(JiraConnectionPage.java:142)\r\n    \tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:240)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4165)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3754)\r\n    \tat org.eclipse.jface.window.Window.runEventLoop(Window.java:825)\r\n    \tat org.eclipse.jface.window.Window.open(Window.java:801)\r\n    \tat com.cts.adpart.ui.configuration.pages.management.ManagementConfigurationBlock.showAddConfigurationWizard(ManagementConfigurationBlock.java:171)\r\n    \tat com.cts.adpart.ui.configuration.pages.management.ManagementConfigurationBlock.access$1(ManagementConfigurationBlock.java:153)\r\n    \tat com.cts.adpart.ui.configuration.pages.management.ManagementConfigurationBlock$2.linkActivated(ManagementConfigurationBlock.java:133)\r\n    \tat org.eclipse.ui.forms.widgets.AbstractHyperlink.handleActivate(AbstractHyperlink.java:233)\r\n    \tat org.eclipse.ui.forms.widgets.AbstractHyperlink.handleMouseUp(AbstractHyperlink.java:327)\r\n    \tat org.eclipse.ui.forms.widgets.AbstractHyperlink.access$2(AbstractHyperlink.java:311)\r\n    \tat org.eclipse.ui.forms.widgets.AbstractHyperlink$4.handleEvent(AbstractHyperlink.java:125)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4165)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3754)\r\n    \tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2701)\r\n    \tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2665)\r\n    \tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)\r\n    \tat org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\r\n    \tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)\r\n    \tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\r\n    \tat com.cts.adpart.standalone.Application.start(Application.java:94)\r\n    \tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:577)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1410)\r\n    \tat org.eclipse.equinox.launcher.Main.main(Main.java:1386)\r\n    Caused by: java.lang.NoClassDefFoundError: com/sun/jersey/api/client/Client\r\n    \tat com.cts.adpart.testmanagement.jira.api.JiraConnection.connect(JiraConnection.java:34)\r\n    \tat com.cts.adpart.testmanagement.jira.configwizard.JiraConnectionPage$3$1.run(JiraConnectionPage.java:268)\r\n    \tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\r\n    \tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)\r\n    \t... 47 more\r\n   \r\n \r\n\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.jersey.api.client.Client\r\n        \tat org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:513)\r\n        \tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:429)\r\n        \tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:417)\r\n        \tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)\r\n        \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n        \t... 51 more\r\n\r\nException . I have no idea on how to resolve this issue. Any suggestion ? ","title":"java.lang.NoClassDefFoundError: com/sun/jersey/api/client/Client","body":"<p>I am using Eclipse Indigo (version 3.7) for my Plug in development. I have created a plug-in and added Jersey archive jars in my Build Path . When i try to debug or run the application I am getting......      </p>\n\n<pre><code>org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NoClassDefFoundError: com/sun/jersey/api/client/Client)\n    at org.eclipse.swt.SWT.error(SWT.java:4282)\n    at org.eclipse.swt.SWT.error(SWT.java:4197)\n    at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:138)\n    at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4140)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3757)\n    at org.eclipse.jface.operation.ModalContext$ModalContextThread.block(ModalContext.java:173)\n    at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:388)\n    at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:1029)\n    at com.cts.adpart.testmanagement.jira.configwizard.JiraConnectionPage.connect(JiraConnectionPage.java:256)\n    at com.cts.adpart.testmanagement.jira.configwizard.JiraConnectionPage.access$0(JiraConnectionPage.java:249)\n    at com.cts.adpart.testmanagement.jira.configwizard.JiraConnectionPage$1.widgetSelected(JiraConnectionPage.java:142)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:240)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4165)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3754)\n    at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)\n    at org.eclipse.jface.window.Window.open(Window.java:801)\n    at com.cts.adpart.ui.configuration.pages.management.ManagementConfigurationBlock.showAddConfigurationWizard(ManagementConfigurationBlock.java:171)\n    at com.cts.adpart.ui.configuration.pages.management.ManagementConfigurationBlock.access$1(ManagementConfigurationBlock.java:153)\n    at com.cts.adpart.ui.configuration.pages.management.ManagementConfigurationBlock$2.linkActivated(ManagementConfigurationBlock.java:133)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink.handleActivate(AbstractHyperlink.java:233)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink.handleMouseUp(AbstractHyperlink.java:327)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink.access$2(AbstractHyperlink.java:311)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink$4.handleEvent(AbstractHyperlink.java:125)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4165)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3754)\n    at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2701)\n    at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2665)\n    at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)\n    at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n    at com.cts.adpart.standalone.Application.start(Application.java:94)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1410)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1386)\nCaused by: java.lang.NoClassDefFoundError: com/sun/jersey/api/client/Client\n    at com.cts.adpart.testmanagement.jira.api.JiraConnection.connect(JiraConnection.java:34)\n    at com.cts.adpart.testmanagement.jira.configwizard.JiraConnectionPage$3$1.run(JiraConnectionPage.java:268)\n    at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n    at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)\n    ... 47 more\n\n\n\nCaused by: java.lang.ClassNotFoundException: com.sun.jersey.api.client.Client\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:513)\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:429)\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:417)\n        at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 51 more\n</code></pre>\n\n<p>Exception . I have no idea on how to resolve this issue. Any suggestion ? </p>\n"},{"tags":["java","maven","owasp-dependency-check"],"answers":[{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1693987804,"post_id":77050020,"comment_id":135830474,"body_markdown":"Thanks for the suggestion. This doesn&#39;t really solve my problem but it is interesting to hear other peoples&#39; thoughts about this.","body":"Thanks for the suggestion. This doesn&#39;t really solve my problem but it is interesting to hear other peoples&#39; thoughts about this."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1693988101,"post_id":77050020,"comment_id":135830546,"body_markdown":"Sometimes the solution is to change the problem statement. :-)","body":"Sometimes the solution is to change the problem statement. :-)"}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693987181,"creation_date":1693987181,"answer_id":77050020,"question_id":76127249,"body_markdown":"No, for this scenario you have to use different suppression files.\r\n\r\nHowever I use a different approach.  I have some multi-module maven-based web applications.  Instead of scanning each module of each app (it would be time consuming and not necessary) I scan only the module that generates the final `war` (or fat `jar` if you use spring-boot) because this module inherits all the dependencies of the other ones.  If the check finds a CVE in one library, it is easy to understand where this library comes from: just examine the dependency tree.","title":"Suppress vulnurability detection for single dependency","body":"<p>No, for this scenario you have to use different suppression files.</p>\n<p>However I use a different approach.  I have some multi-module maven-based web applications.  Instead of scanning each module of each app (it would be time consuming and not necessary) I scan only the module that generates the final <code>war</code> (or fat <code>jar</code> if you use spring-boot) because this module inherits all the dependencies of the other ones.  If the check finds a CVE in one library, it is easy to understand where this library comes from: just examine the dependency tree.</p>\n"}],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693987181,"creation_date":1682667378,"question_id":76127249,"body_markdown":"I use the [OWASP Dependency Check Maven plug-in](https://jeremylong.github.io/DependencyCheck/dependency-check-maven/) to scan my project dependencies for reported vulnerabilities.\r\n\r\n* I have developed three projects that I scan, lets call them App1, App2 and and internal library IntLib.\r\n* Both App1 and App2 has a dependency on IntLib.\r\n* IntLib in its turn has a dependency on the external library ExtLib.\r\n* The OWASP check reports a vulnerability in ExtLib, let&#39;s call it Vul1.\r\n* As a result, the scan of both App1 and App2 also report Vul1.\r\n* I have a global suppression file where I like to add a rule that suppresses Vul1.\r\n* But! The suppression rule should ONLY apply when the report results from a dependency on IntLib.\r\n* If App1 or App2 adds a _direct_ dependency on ExtLib then the rule should NOT apply.\r\n\r\nIs there any way to create a rule in a OWASP Check [suppression file](https://jeremylong.github.io/DependencyCheck/general/suppression.html) that works in this way?","title":"Suppress vulnurability detection for single dependency","body":"<p>I use the <a href=\"https://jeremylong.github.io/DependencyCheck/dependency-check-maven/\" rel=\"nofollow noreferrer\">OWASP Dependency Check Maven plug-in</a> to scan my project dependencies for reported vulnerabilities.</p>\n<ul>\n<li>I have developed three projects that I scan, lets call them App1, App2 and and internal library IntLib.</li>\n<li>Both App1 and App2 has a dependency on IntLib.</li>\n<li>IntLib in its turn has a dependency on the external library ExtLib.</li>\n<li>The OWASP check reports a vulnerability in ExtLib, let's call it Vul1.</li>\n<li>As a result, the scan of both App1 and App2 also report Vul1.</li>\n<li>I have a global suppression file where I like to add a rule that suppresses Vul1.</li>\n<li>But! The suppression rule should ONLY apply when the report results from a dependency on IntLib.</li>\n<li>If App1 or App2 adds a <em>direct</em> dependency on ExtLib then the rule should NOT apply.</li>\n</ul>\n<p>Is there any way to create a rule in a OWASP Check <a href=\"https://jeremylong.github.io/DependencyCheck/general/suppression.html\" rel=\"nofollow noreferrer\">suppression file</a> that works in this way?</p>\n"},{"tags":["java","android","xml","drawerlayout"],"answers":[{"comments":[{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":1,"creation_date":1694053483,"post_id":77050003,"comment_id":135841750,"body_markdown":"That was it - to be honest I am not sure exactly what did the trick but using what you provided and tweaking around the edges everything now displays.  What a relief and so many thanks to you!!","body":"That was it - to be honest I am not sure exactly what did the trick but using what you provided and tweaking around the edges everything now displays.  What a relief and so many thanks to you!!"}],"tags":[],"owner":{"account_id":21195640,"reputation":108,"user_id":15587264,"display_name":"ANDROID PRIME"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693987027,"creation_date":1693987027,"answer_id":77050003,"question_id":77046767,"body_markdown":"First menu xml files is different from layout files and you just have to change it and make it like this i mean `drawer_menu.xml`:\r\n\r\n    \r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/your_id&quot;\r\n            android:title=&quot;Title&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;  \r\n            android:showAsAction=&quot;always&quot; /&gt;\r\n    \r\n    &lt;/menu&gt;\r\nand add `openDrawer` attribute in the drawer layout: \r\n\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    tools:openDrawer=&quot;start&quot;&gt;","title":"Drawer Menu Not Displaying in Android Activity Welcome Page","body":"<p>First menu xml files is different from layout files and you just have to change it and make it like this i mean <code>drawer_menu.xml</code>:</p>\n<pre><code>&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/your_id&quot;\n        android:title=&quot;Title&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;  \n        android:showAsAction=&quot;always&quot; /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>and add <code>openDrawer</code> attribute in the drawer layout:</p>\n<pre><code>&lt;androidx.drawerlayout.widget.DrawerLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:id=&quot;@+id/drawer_layout&quot;\ntools:openDrawer=&quot;start&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77050003,"answer_count":1,"score":1,"last_activity_date":1693987027,"creation_date":1693936593,"question_id":77046767,"body_markdown":"I am currently facing an issue with the display of the main menu in my Android activity, specifically in the activity_welcome.xml layout file.\r\n\r\nAfter a user logs in, they are directed to the activity_welcome page, which should display a welcome message followed by a menu of options. The menu is implemented using a DrawerLayout with a NavigationView.\r\n\r\nThe issue: The welcome message (within a RelativeLayout) displays correctly, but the menu does not appear on the screen.\r\n\r\n**Below are the relevant XML layout files:**\r\n\r\n`activity_welcome.xml`: This layout file contains the DrawerLayout and the NavigationView for the menu.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:visibility=&quot;visible&quot;&gt;\r\n\r\n    &lt;!-- Content View --&gt;\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:visibility=&quot;visible&quot;&gt;&lt;!----&gt;\r\n\r\n        &lt;!-- Large Welcome Text --&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/welcomeText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;32dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Welcome [User Name]&quot;\r\n            android:textSize=&quot;24sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;&lt;!----&gt;\r\n\r\n        &lt;!-- User Information --&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/userNameText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/welcomeText&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:text=&quot;User Name: &quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/userEmailText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/userNameText&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:text=&quot;Email: &quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/userIdText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/userEmailText&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:text=&quot;User ID: &quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;&lt;!----&gt;\r\n\r\n\r\n    &lt;/RelativeLayout&gt;&lt;!----&gt;\r\n    &lt;!-- Navigation Drawer --&gt;\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        app:headerLayout=&quot;@layout/nav_header&quot;\r\n        app:menu=&quot;@menu/drawer_menu&quot;\r\n         /&gt;\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\n\r\n`nav_header.xml`: This is the layout for the header of the navigation view.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!-- nav_header.xml --&gt;\r\n\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;160dp&quot;\r\n    &gt;\r\n\r\n    &lt;!-- Your app&#39;s logo or an icon --&gt;\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/nav_header_icon&quot;\r\n        android:layout_width=&quot;96dp&quot;\r\n        android:layout_height=&quot;96dp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:src=&quot;@mipmap/ic_launcher&quot; /&gt;\r\n\r\n    &lt;!-- A title or app name --&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/nav_header_title&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/nav_header_icon&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:text=&quot;SongTracker&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n&lt;/RelativeLayout&gt;\r\n\r\n```\r\n`drawer_menu.xml`: This file defines the menu items in the navigation view.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!-- nav_header.xml --&gt;\r\n\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;160dp&quot;\r\n    &gt;\r\n\r\n    &lt;!-- Your app&#39;s logo or an icon --&gt;\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/nav_header_icon&quot;\r\n        android:layout_width=&quot;96dp&quot;\r\n        android:layout_height=&quot;96dp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:src=&quot;@mipmap/ic_launcher&quot; /&gt;\r\n\r\n    &lt;!-- A title or app name --&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/nav_header_title&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/nav_header_icon&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:text=&quot;SongTracker&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n&lt;/RelativeLayout&gt;\r\n\r\n```\r\nAnd just to cover all bases - here is my `themes.xml`\r\n```\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.SongTracker&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\n    &lt;style name=&quot;SplashTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash_background&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    &lt;style name=&quot;BackgroundLightGray&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/light_gray&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    &lt;style name=&quot;OrangeTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/orange&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    &lt;style name=&quot;AppTheme.NavigationView&quot; parent=&quot;Base.Theme.AppCompat.Light&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n\r\n&lt;/resources&gt;\r\n```\r\n\r\nTroubleshooting Steps Taken:\r\n\r\n - I have ensured that the visibility attributes (android:visibility)\r\n   for both the DrawerLayout and the RelativeLayout are set to\r\n   &quot;visible&quot;.\r\n   \r\n - I have defined a custom theme (AppTheme.NavigationView) for the   \r\n   NavigationView to specify text and background colors (see themes.xml above).\r\n\r\n - reviewed my layout hierarchy using Android Studio&#39;s Layout   \r\n   Inspector and didn&#39;t find any overlapping views or issues.\r\n\r\n - tested the app on different emulators and devices to rule out \r\n   device-specific problems.\r\n\r\n - reviewed my Java code for any programmatic conditions   \r\n   affecting the visibility of the NavigationView.\r\n\r\n**Request for Assistance:**\r\n\r\n    I kindly request assistance in identifying and resolving the issue causing the main menu not to display in the activity_welcome layout. Any insights, suggestions, or troubleshooting steps would be greatly appreciated.\r\n\r\nThank you in advance for your help!","title":"Drawer Menu Not Displaying in Android Activity Welcome Page","body":"<p>I am currently facing an issue with the display of the main menu in my Android activity, specifically in the activity_welcome.xml layout file.</p>\n<p>After a user logs in, they are directed to the activity_welcome page, which should display a welcome message followed by a menu of options. The menu is implemented using a DrawerLayout with a NavigationView.</p>\n<p>The issue: The welcome message (within a RelativeLayout) displays correctly, but the menu does not appear on the screen.</p>\n<p><strong>Below are the relevant XML layout files:</strong></p>\n<p><code>activity_welcome.xml</code>: This layout file contains the DrawerLayout and the NavigationView for the menu.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n\n    android:layout_height=&quot;match_parent&quot;\n    android:visibility=&quot;visible&quot;&gt;\n\n    &lt;!-- Content View --&gt;\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:visibility=&quot;visible&quot;&gt;&lt;!----&gt;\n\n        &lt;!-- Large Welcome Text --&gt;\n        &lt;TextView\n            android:id=&quot;@+id/welcomeText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_marginTop=&quot;32dp&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Welcome [User Name]&quot;\n            android:textSize=&quot;24sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;&lt;!----&gt;\n\n        &lt;!-- User Information --&gt;\n        &lt;TextView\n            android:id=&quot;@+id/userNameText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/welcomeText&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:text=&quot;User Name: &quot;\n            android:textSize=&quot;18sp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/userEmailText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/userNameText&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:text=&quot;Email: &quot;\n            android:textSize=&quot;18sp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/userIdText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/userEmailText&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:text=&quot;User ID: &quot;\n            android:textSize=&quot;18sp&quot; /&gt;&lt;!----&gt;\n\n\n    &lt;/RelativeLayout&gt;&lt;!----&gt;\n    &lt;!-- Navigation Drawer --&gt;\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        app:headerLayout=&quot;@layout/nav_header&quot;\n        app:menu=&quot;@menu/drawer_menu&quot;\n         /&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p><code>nav_header.xml</code>: This is the layout for the header of the navigation view.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!-- nav_header.xml --&gt;\n\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;160dp&quot;\n    &gt;\n\n    &lt;!-- Your app's logo or an icon --&gt;\n    &lt;ImageView\n        android:id=&quot;@+id/nav_header_icon&quot;\n        android:layout_width=&quot;96dp&quot;\n        android:layout_height=&quot;96dp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:src=&quot;@mipmap/ic_launcher&quot; /&gt;\n\n    &lt;!-- A title or app name --&gt;\n    &lt;TextView\n        android:id=&quot;@+id/nav_header_title&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/nav_header_icon&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:text=&quot;SongTracker&quot;\n        android:textColor=&quot;#FFFFFF&quot;\n        android:textSize=&quot;18sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n<p><code>drawer_menu.xml</code>: This file defines the menu items in the navigation view.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!-- nav_header.xml --&gt;\n\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;160dp&quot;\n    &gt;\n\n    &lt;!-- Your app's logo or an icon --&gt;\n    &lt;ImageView\n        android:id=&quot;@+id/nav_header_icon&quot;\n        android:layout_width=&quot;96dp&quot;\n        android:layout_height=&quot;96dp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:src=&quot;@mipmap/ic_launcher&quot; /&gt;\n\n    &lt;!-- A title or app name --&gt;\n    &lt;TextView\n        android:id=&quot;@+id/nav_header_title&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/nav_header_icon&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:text=&quot;SongTracker&quot;\n        android:textColor=&quot;#FFFFFF&quot;\n        android:textSize=&quot;18sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n<p>And just to cover all bases - here is my <code>themes.xml</code></p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.SongTracker&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;SplashTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash_background&lt;/item&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;BackgroundLightGray&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/light_gray&lt;/item&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;OrangeTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/orange&lt;/item&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;AppTheme.NavigationView&quot; parent=&quot;Base.Theme.AppCompat.Light&quot;&gt;\n        &lt;item name=&quot;android:background&quot;&gt;@color/black&lt;/item&gt;\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\n    &lt;/style&gt;\n\n\n&lt;/resources&gt;\n</code></pre>\n<p>Troubleshooting Steps Taken:</p>\n<ul>\n<li><p>I have ensured that the visibility attributes (android:visibility)\nfor both the DrawerLayout and the RelativeLayout are set to\n&quot;visible&quot;.</p>\n</li>\n<li><p>I have defined a custom theme (AppTheme.NavigationView) for the<br />\nNavigationView to specify text and background colors (see themes.xml above).</p>\n</li>\n<li><p>reviewed my layout hierarchy using Android Studio's Layout<br />\nInspector and didn't find any overlapping views or issues.</p>\n</li>\n<li><p>tested the app on different emulators and devices to rule out\ndevice-specific problems.</p>\n</li>\n<li><p>reviewed my Java code for any programmatic conditions<br />\naffecting the visibility of the NavigationView.</p>\n</li>\n</ul>\n<p><strong>Request for Assistance:</strong></p>\n<pre><code>I kindly request assistance in identifying and resolving the issue causing the main menu not to display in the activity_welcome layout. Any insights, suggestions, or troubleshooting steps would be greatly appreciated.\n</code></pre>\n<p>Thank you in advance for your help!</p>\n"},{"tags":["java","junit","junit5","parameterized","parameterized-unit-test"],"comments":[{"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"score":0,"creation_date":1588231529,"post_id":61517640,"comment_id":108820889,"body_markdown":"I do not know about such feature. If you elaborate *why* you need it, we can think of a different approach to solve your problem. For example you could keep that method `limit`-free and create another method calling `create64RandomBytes().limit(100)` and use this as `@MethodSource`.","body":"I do not know about such feature. If you elaborate <i>why</i> you need it, we can think of a different approach to solve your problem. For example you could keep that method <code>limit</code>-free and create another method calling <code>create64RandomBytes().limit(100)</code> and use this as <code>@MethodSource</code>."},{"owner":{"account_id":4992892,"reputation":4470,"user_id":4014509,"accept_rate":77,"display_name":"Sebastian S"},"score":0,"creation_date":1588234589,"post_id":61517640,"comment_id":108822318,"body_markdown":"Reusability is obviously one reason, but more important: The method should care about data generation, not about the test setup. I just think it would be cleaner.","body":"Reusability is obviously one reason, but more important: The method should care about data generation, not about the test setup. I just think it would be cleaner."},{"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"score":0,"creation_date":1588240125,"post_id":61517640,"comment_id":108825134,"body_markdown":"Then I would add method to prepare test setup that limits the results and this method can be a `@MethodSource`.","body":"Then I would add method to prepare test setup that limits the results and this method can be a <code>@MethodSource</code>."}],"answers":[{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693986083,"creation_date":1693986083,"answer_id":77049896,"question_id":61517640,"body_markdown":"Would the following be good for you?\r\n\r\n```java\r\n@RegisterExtension\r\nstatic final IntegerResolver integerResolver = new IntegerResolver();\r\n\r\nstatic class IntegerResolver implements ParameterResolver {\r\n    @Override\r\n    public boolean supportsParameter(\r\n        ParameterContext parameterContext,\r\n        ExtensionContext extensionContext\r\n    ) {\r\n        return parameterContext.getParameter().getType() == int.class;\r\n    }\r\n\r\n    @Override\r\n    public Object resolveParameter(\r\n        ParameterContext parameterContext,\r\n        ExtensionContext extensionContext\r\n    ) {\r\n        return 100;\r\n    }\r\n}\r\n\r\n@ParameterizedTest\r\n@MethodSource(&quot;create64RandomBytes&quot;)\r\nvoid myTest(byte[] randomBytes) {\r\n    // ...\r\n}\r\n\r\nstatic Stream&lt;Arguments&gt; create64RandomBytes(int count) {\r\n    Random rnd = new Random(42l);\r\n    return Stream.generate(() -&gt; {\r\n        byte[] bytes = new byte[64];\r\n        rnd.nextBytes(bytes);\r\n        return Arguments.of(bytes);\r\n    }).limit(count);\r\n}\r\n```","title":"Limit infinite stream of arguments in parameterized test","body":"<p>Would the following be good for you?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RegisterExtension\nstatic final IntegerResolver integerResolver = new IntegerResolver();\n\nstatic class IntegerResolver implements ParameterResolver {\n    @Override\n    public boolean supportsParameter(\n        ParameterContext parameterContext,\n        ExtensionContext extensionContext\n    ) {\n        return parameterContext.getParameter().getType() == int.class;\n    }\n\n    @Override\n    public Object resolveParameter(\n        ParameterContext parameterContext,\n        ExtensionContext extensionContext\n    ) {\n        return 100;\n    }\n}\n\n@ParameterizedTest\n@MethodSource(&quot;create64RandomBytes&quot;)\nvoid myTest(byte[] randomBytes) {\n    // ...\n}\n\nstatic Stream&lt;Arguments&gt; create64RandomBytes(int count) {\n    Random rnd = new Random(42l);\n    return Stream.generate(() -&gt; {\n        byte[] bytes = new byte[64];\n        rnd.nextBytes(bytes);\n        return Arguments.of(bytes);\n    }).limit(count);\n}\n</code></pre>\n"}],"owner":{"account_id":4992892,"reputation":4470,"user_id":4014509,"accept_rate":77,"display_name":"Sebastian S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693986194,"creation_date":1588230150,"question_id":61517640,"body_markdown":"I want to write a ParameterizedTest that facilitates a MethodSource to generate a sequence of random values. Now I&#39;m wondering, if there is any _declarative_ approach to limit the number of tests run.\r\n\r\n```java\r\n@ParameterizedTest\r\n@MethodSource(&quot;create64RandomBytes&quot;)\r\n// @SomeLimitAnnotation(100) wanted here\r\nvoid testStuff(byte[] randomBytes) {\r\n\t// ...\r\n}\r\n\r\nstatic Stream&lt;Arguments&gt; create64RandomBytes() {\r\n\tRandom rnd = new Random(42l);\r\n\treturn Stream.generate(() -&gt; {\r\n\t\tbyte[] bytes = new byte[64];\r\n\t\trnd.nextBytes(bytes);\r\n\t\treturn Arguments.of(bytes);\r\n\t}).limit(100); // I want to avoid this &quot;limit&quot; call\r\n}\r\n```\r\n\r\nOf course I can limit the number of items in the stream, but since `@MethodSource` is built for consuming streams (and surely the JUnit devs are aware of infinite streams), I wonder if there is a better way of doing this.\r\n\r\nTLDR: Can I replace the `limit(100)` call with an annotation on my test method?\r\n","title":"Limit infinite stream of arguments in parameterized test","body":"<p>I want to write a ParameterizedTest that facilitates a MethodSource to generate a sequence of random values. Now I'm wondering, if there is any <em>declarative</em> approach to limit the number of tests run.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@MethodSource(&quot;create64RandomBytes&quot;)\n// @SomeLimitAnnotation(100) wanted here\nvoid testStuff(byte[] randomBytes) {\n    // ...\n}\n\nstatic Stream&lt;Arguments&gt; create64RandomBytes() {\n    Random rnd = new Random(42l);\n    return Stream.generate(() -&gt; {\n        byte[] bytes = new byte[64];\n        rnd.nextBytes(bytes);\n        return Arguments.of(bytes);\n    }).limit(100); // I want to avoid this &quot;limit&quot; call\n}\n</code></pre>\n<p>Of course I can limit the number of items in the stream, but since <code>@MethodSource</code> is built for consuming streams (and surely the JUnit devs are aware of infinite streams), I wonder if there is a better way of doing this.</p>\n<p>TLDR: Can I replace the <code>limit(100)</code> call with an annotation on my test method?</p>\n"},{"tags":["java","maven","maven-dependency-check-plugin","owasp-dependency-check"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691768725,"post_id":76884086,"comment_id":135541066,"body_markdown":"It&#39;s a kind of circular issue.. because to get up-to-date information you have to access external information sources... if being off-line you can get them..","body":"It&#39;s a kind of circular issue.. because to get up-to-date information you have to access external information sources... if being off-line you can get them.."}],"answers":[{"tags":[],"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691767068,"creation_date":1691767068,"answer_id":76884811,"question_id":76884086,"body_markdown":"Per the [documentation](https://jeremylong.github.io/DependencyCheck/dependency-check-maven/), this plugin\r\n\r\n    downloads and processes the data from the \r\n    National Vulnerability Database (NVD) hosted by NIST: \r\n    https://nvd.nist.gov\r\n\r\nIn order to reach https://nvd.nist.gov, it must have an internet connection. The plugin needs the source data in order to do the desired checking.","title":"Dependency-Check Offline Issue (mvn -o)","body":"<p>Per the <a href=\"https://jeremylong.github.io/DependencyCheck/dependency-check-maven/\" rel=\"nofollow noreferrer\">documentation</a>, this plugin</p>\n<pre><code>downloads and processes the data from the \nNational Vulnerability Database (NVD) hosted by NIST: \nhttps://nvd.nist.gov\n</code></pre>\n<p>In order to reach <a href=\"https://nvd.nist.gov\" rel=\"nofollow noreferrer\">https://nvd.nist.gov</a>, it must have an internet connection. The plugin needs the source data in order to do the desired checking.</p>\n"}],"owner":{"account_id":29193017,"reputation":1,"user_id":22364764,"display_name":"badr dahmane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693986083,"creation_date":1691761314,"question_id":76884086,"body_markdown":"I am currently facing a challenge with running the Dependency-Check plugin in offline mode using &quot;mvn -o.&quot; \r\n\r\nAlthough I have mirrored all external resources locally, I encounter an issue that prevents successful execution. The specific error message I&#39;m encountering is:\r\n\r\n&quot;(default-cli) on project parent: Goal requires online mode for execution but Maven is currently offline.&quot;\r\n\r\nGiven the specific context of my project, offline operations are a requirement due to security considerations. I would greatly appreciate any insights, workarounds, or suggestions from the community on how to make Dependency-Check compatible with the &quot;mvn -o&quot; flag and resolve this offline issue.\r\n\r\nThank you in advance for your expertise and assistance.","title":"Dependency-Check Offline Issue (mvn -o)","body":"<p>I am currently facing a challenge with running the Dependency-Check plugin in offline mode using &quot;mvn -o.&quot;</p>\n<p>Although I have mirrored all external resources locally, I encounter an issue that prevents successful execution. The specific error message I'm encountering is:</p>\n<p>&quot;(default-cli) on project parent: Goal requires online mode for execution but Maven is currently offline.&quot;</p>\n<p>Given the specific context of my project, offline operations are a requirement due to security considerations. I would greatly appreciate any insights, workarounds, or suggestions from the community on how to make Dependency-Check compatible with the &quot;mvn -o&quot; flag and resolve this offline issue.</p>\n<p>Thank you in advance for your expertise and assistance.</p>\n"},{"tags":["java","c++","c","design-patterns","typedef"],"comments":[{"owner":{"account_id":32461,"reputation":2688,"user_id":90127,"display_name":"PanCrit"},"score":6,"creation_date":1248799651,"post_id":1195206,"comment_id":1018145,"body_markdown":"typedef can be used or many things, good and bad, though not everyone agrees on which is which.  Would you mind saying which aspects of typedef you think are valuable?  That way we can either tell you how to get similar effects in Java or why it&#39;s something you don&#39;t want to do in Java.  The collection of answers below each assumes you are talking about the author&#39;s favorite (or most-hated) use.","body":"typedef can be used or many things, good and bad, though not everyone agrees on which is which.  Would you mind saying which aspects of typedef you think are valuable?  That way we can either tell you how to get similar effects in Java or why it&#39;s something you don&#39;t want to do in Java.  The collection of answers below each assumes you are talking about the author&#39;s favorite (or most-hated) use."},{"owner":{"account_id":11793,"reputation":3192,"user_id":22917,"accept_rate":88,"display_name":"JR Lawhorne"},"score":3,"creation_date":1282267349,"post_id":1195206,"comment_id":3690382,"body_markdown":"I like to typedef native types if I might later turn it into a class.  typedef IndexT int; for example.  Later, if I want IndexT to be a class, I just implement it and remove the typedef.  It helps with information hiding.","body":"I like to typedef native types if I might later turn it into a class.  typedef IndexT int; for example.  Later, if I want IndexT to be a class, I just implement it and remove the typedef.  It helps with information hiding."},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":13,"creation_date":1312230058,"post_id":1195206,"comment_id":8220684,"body_markdown":"@Alexander - updated link: http://www.ibm.com/developerworks/java/library/j-jtp02216/index.html","body":"@Alexander - updated link: <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp02216/index.html\" rel=\"nofollow noreferrer\">ibm.com/developerworks/java/library/j-jtp02216/index.html</a>"},{"owner":{"account_id":71119,"reputation":1335,"user_id":205694,"accept_rate":100,"display_name":"ScootyPuff"},"score":1,"creation_date":1314106981,"post_id":1195206,"comment_id":8593981,"body_markdown":"I&#39;m not sure what the downsides of this are, but: `public interface ScopeFactory {\n\n\t&lt;Scope extends Map&lt;String, Object&gt;&gt; Scope create(...)\n\t  throws Exception;\n\n}`","body":"I&#39;m not sure what the downsides of this are, but: <code>public interface ScopeFactory {  \t&lt;Scope extends Map&lt;String, Object&gt;&gt; Scope create(...) \t  throws Exception;  }</code>"},{"owner":{"account_id":70285,"reputation":17694,"user_id":203968,"accept_rate":88,"display_name":"oluies"},"score":2,"creation_date":1394302890,"post_id":1195206,"comment_id":33833731,"body_markdown":"You might like Scala http://stackoverflow.com/a/21223102/203968","body":"You might like Scala <a href=\"http://stackoverflow.com/a/21223102/203968\">stackoverflow.com/a/21223102/203968</a>"}],"answers":[{"comments":[{"owner":{"account_id":300331,"reputation":50767,"user_id":607407,"accept_rate":71,"display_name":"Tom&#225;š Zato"},"score":47,"creation_date":1398686415,"post_id":1195221,"comment_id":35741886,"body_markdown":"I guess most of people want `typedef` to redefine `boolean` to `bool`.","body":"I guess most of people want <code>typedef</code> to redefine <code>boolean</code> to <code>bool</code>."},{"owner":{"account_id":223867,"reputation":7510,"user_id":483347,"accept_rate":71,"display_name":"weberc2"},"score":81,"creation_date":1420242222,"post_id":1195221,"comment_id":43911316,"body_markdown":"@Tom&#225;šZato I don&#39;t know most people, but in my experience, it&#39;s useful for adding semantics like: `typedef int PlayerID` which enables the compiler to make sure PlayerIDs aren&#39;t being used interchangeably with other ints, and it also makes code much more readable for humans. Basically, it&#39;s like an enum but without a limited set of values.","body":"@Tom&#225;šZato I don&#39;t know most people, but in my experience, it&#39;s useful for adding semantics like: <code>typedef int PlayerID</code> which enables the compiler to make sure PlayerIDs aren&#39;t being used interchangeably with other ints, and it also makes code much more readable for humans. Basically, it&#39;s like an enum but without a limited set of values."},{"owner":{"account_id":1649465,"reputation":511,"user_id":1520331,"display_name":"Alex Medveshchek"},"score":94,"creation_date":1424436450,"post_id":1195221,"comment_id":45558865,"body_markdown":"@Tom&#225;šZato It&#39;s also usefull to shorten long types such as `typedef MegaLongTemplateClass&lt;With, Many, Params&gt; IsShorten;`.","body":"@Tom&#225;šZato It&#39;s also usefull to shorten long types such as <code>typedef MegaLongTemplateClass&lt;With, Many, Params&gt; IsShorten;</code>."},{"owner":{"account_id":4180297,"reputation":41806,"user_id":3425536,"accept_rate":72,"display_name":"Emil Laine"},"score":41,"creation_date":1450254295,"post_id":1195221,"comment_id":56355707,"body_markdown":"@weberc2 &quot;which enables the compiler to make sure PlayerIDs aren&#39;t being used interchangeably with other ints&quot; – `typedef` doesn&#39;t enable any such thing. It just gives another name for a type.","body":"@weberc2 &quot;which enables the compiler to make sure PlayerIDs aren&#39;t being used interchangeably with other ints&quot; – <code>typedef</code> doesn&#39;t enable any such thing. It just gives another name for a type."},{"owner":{"account_id":1088977,"reputation":2656,"user_id":1353391,"accept_rate":88,"display_name":"John Gowers"},"score":6,"creation_date":1513206237,"post_id":1195221,"comment_id":82568265,"body_markdown":"A &#39;typedef&#39; is not the same sort of thing as a &#39;primitive type&#39;, &#39;object&#39; or &#39;array&#39;.  The last three are all types of types, while a typedef is the same as an alias for giving a new name to an existing type.  &#39;Java has primitive types, objects and arrays and that&#39;s it.&#39; and &#39;Java has no typedefs&#39; are both true statements.  It&#39;s just that the second has nothing to do with the first.","body":"A &#39;typedef&#39; is not the same sort of thing as a &#39;primitive type&#39;, &#39;object&#39; or &#39;array&#39;.  The last three are all types of types, while a typedef is the same as an alias for giving a new name to an existing type.  &#39;Java has primitive types, objects and arrays and that&#39;s it.&#39; and &#39;Java has no typedefs&#39; are both true statements.  It&#39;s just that the second has nothing to do with the first."},{"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"score":14,"creation_date":1514888125,"post_id":1195221,"comment_id":83090367,"body_markdown":"Also useful if, for instance, you have some ID of type `int` and you need to change it to `long`, you have to change it in every place in code where you work with the ID. If you had `typedef`, you&#39;d only have to change it in 1 place.","body":"Also useful if, for instance, you have some ID of type <code>int</code> and you need to change it to <code>long</code>, you have to change it in every place in code where you work with the ID. If you had <code>typedef</code>, you&#39;d only have to change it in 1 place."},{"owner":{"account_id":237563,"reputation":1592,"user_id":505843,"accept_rate":94,"display_name":"Chris Browne"},"score":2,"creation_date":1530438948,"post_id":1195221,"comment_id":89229604,"body_markdown":"Also also useful if you want to get compile errors when you try to pass two long arguments in the wrong order - if they have semantic typedefs then you can ensure that they will always be passed in the right order because the caller has to use the same typedefs to declare them.  For example, you might have a typedef `long` -&gt; `microdollars` so that the *price* of something and the *amount* you want to buy are passed in the correct order to the `buy` function.","body":"Also also useful if you want to get compile errors when you try to pass two long arguments in the wrong order - if they have semantic typedefs then you can ensure that they will always be passed in the right order because the caller has to use the same typedefs to declare them.  For example, you might have a typedef <code>long</code> -&gt; <code>microdollars</code> so that the <i>price</i> of something and the <i>amount</i> you want to buy are passed in the correct order to the <code>buy</code> function."}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":7,"down_vote_count":7,"up_vote_count":131,"is_accepted":true,"score":124,"last_activity_date":1248798397,"creation_date":1248798397,"answer_id":1195221,"question_id":1195206,"body_markdown":"Java has primitive types, objects and arrays and that&#39;s it. No typedefs.","title":"Is there a Java equivalent or methodology for the typedef keyword in C++?","body":"<p>Java has primitive types, objects and arrays and that's it. No typedefs.</p>\n"},{"comments":[{"owner":{"account_id":2029052,"reputation":561,"user_id":1813300,"display_name":"englebart"},"score":7,"creation_date":1484318577,"post_id":1195226,"comment_id":70473847,"body_markdown":"The referenced anti-pattern article is based on the assumption that you just want to shorten your typing (which would actually hide the helpful type information).  The real use most people want is to disambiguate types and let the compiler do its job for you.  See IndexT above.\n\n    public Invoice fetchInvoiceItem(String, String, String);  \n      versus  \n    public Invoice fetchInvoiceItem(CustomerId, InvoiceId, InvoiceLineItemId);  \n\nExplicit types plus Converters/Validators makes programming Web APIs where EVERYTHING starts out as a String a lot safer.","body":"The referenced anti-pattern article is based on the assumption that you just want to shorten your typing (which would actually hide the helpful type information).  The real use most people want is to disambiguate types and let the compiler do its job for you.  See IndexT above.      public Invoice fetchInvoiceItem(String, String, String);         versus       public Invoice fetchInvoiceItem(CustomerId, InvoiceId, InvoiceLineItemId);    Explicit types plus Converters/Validators makes programming Web APIs where EVERYTHING starts out as a String a lot safer."},{"owner":{"account_id":5843454,"reputation":1888,"user_id":4604259,"accept_rate":38,"display_name":"mils"},"score":2,"creation_date":1519290277,"post_id":1195226,"comment_id":84852939,"body_markdown":"No operator oveloading in java, so it gets ugly","body":"No operator oveloading in java, so it gets ugly"}],"tags":[],"owner":{"account_id":17205,"reputation":7140,"user_id":38264,"accept_rate":67,"display_name":"z  -"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1248798435,"creation_date":1248798435,"answer_id":1195226,"question_id":1195206,"body_markdown":"There is no typedef in java as of 1.6, what you can do is make a wrapper class for what you want  since you can&#39;t subclass final classes (Integer, Double, etc)","title":"Is there a Java equivalent or methodology for the typedef keyword in C++?","body":"<p>There is no typedef in java as of 1.6, what you can do is make a wrapper class for what you want  since you can't subclass final classes (Integer, Double, etc)</p>\n"},{"comments":[{"owner":{"account_id":15628,"reputation":244161,"user_id":33213,"accept_rate":76,"display_name":"jalf"},"score":24,"creation_date":1248798874,"post_id":1195231,"comment_id":1018040,"body_markdown":"&quot;Typedef allows items to be implicitly assigned to types they are not&quot; What? Typedef simply allows you to create another name as an alias for the type. The type is still the exact same, you just get a shorter name for it. It has nothing to do with type inference. -1","body":"&quot;Typedef allows items to be implicitly assigned to types they are not&quot; What? Typedef simply allows you to create another name as an alias for the type. The type is still the exact same, you just get a shorter name for it. It has nothing to do with type inference. -1"},{"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"score":0,"creation_date":1248799838,"post_id":1195231,"comment_id":1018163,"body_markdown":"@jalf: Actually, type inference is used as the solution to exactly what you&#39;re talking about, but I&#39;ve given another example where you can use a &quot;typedef&quot; to get around a name collision.","body":"@jalf: Actually, type inference is used as the solution to exactly what you&#39;re talking about, but I&#39;ve given another example where you can use a &quot;typedef&quot; to get around a name collision."},{"owner":{"account_id":97323,"reputation":3443,"user_id":264047,"accept_rate":89,"display_name":"Alexander Malakhov"},"score":1,"creation_date":1312256897,"post_id":1195231,"comment_id":8225213,"body_markdown":"updated link: http://www.ibm.com/developerworks/java/library/j-jtp02216/index.html","body":"updated link: <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp02216/index.html\" rel=\"nofollow noreferrer\">ibm.com/developerworks/java/library/j-jtp02216/index.html</a>"},{"owner":{"account_id":53607,"reputation":3395,"user_id":160300,"accept_rate":100,"display_name":"Dave McClelland"},"score":0,"creation_date":1341233116,"post_id":1195231,"comment_id":14857414,"body_markdown":"@AlexanderMalakhov Thanks, I went ahead and updated the answer with your link","body":"@AlexanderMalakhov Thanks, I went ahead and updated the answer with your link"}],"tags":[],"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"comment_count":4,"down_vote_count":12,"up_vote_count":5,"is_accepted":false,"score":-7,"last_activity_date":1341233093,"creation_date":1248798469,"answer_id":1195231,"question_id":1195206,"body_markdown":"Typedef allows items to be implicitly assigned to types they are not. Some people try to get around this with extensions; [read here at IBM for an explanation of why this is a bad idea.][1]\r\n\r\nEdit: While strong type inference is a useful thing, I don&#39;t think (and hope we won&#39;t) see `typedef` rearing it&#39;s ugly head in managed languages (ever?).\r\n\r\nEdit 2: In C#, you can use a using statement like this at the top of a source file. It&#39;s used so you don&#39;t have to do the second item shown. The only time you see the name change is when a scope introduces a name collision between two types. The renaming is limited to one file, outside of which every variable/parameter type which used it is known by its full name.\r\n\r\n    using Path = System.IO.Path;\r\n    using System.IO;\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-jtp02216/index.html","title":"Is there a Java equivalent or methodology for the typedef keyword in C++?","body":"<p>Typedef allows items to be implicitly assigned to types they are not. Some people try to get around this with extensions; <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp02216/index.html\" rel=\"nofollow noreferrer\">read here at IBM for an explanation of why this is a bad idea.</a></p>\n\n<p>Edit: While strong type inference is a useful thing, I don't think (and hope we won't) see <code>typedef</code> rearing it's ugly head in managed languages (ever?).</p>\n\n<p>Edit 2: In C#, you can use a using statement like this at the top of a source file. It's used so you don't have to do the second item shown. The only time you see the name change is when a scope introduces a name collision between two types. The renaming is limited to one file, outside of which every variable/parameter type which used it is known by its full name.</p>\n\n<pre><code>using Path = System.IO.Path;\nusing System.IO;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15628,"reputation":244161,"user_id":33213,"accept_rate":76,"display_name":"jalf"},"score":22,"creation_date":1248798965,"post_id":1195235,"comment_id":1018050,"body_markdown":"No, the need for typedef still exists if you want a shorter name for a type. Or just if you want to be able to replace the use of one type with another by changing one place in the source code.","body":"No, the need for typedef still exists if you want a shorter name for a type. Or just if you want to be able to replace the use of one type with another by changing one place in the source code."},{"owner":{"account_id":48094,"reputation":609,"user_id":142722,"display_name":"Markus Koivisto"},"score":2,"creation_date":1248799177,"post_id":1195235,"comment_id":1018077,"body_markdown":"The latter hinders readability, since a new programmer will have to look up the definitions of all the types.\n\nThe OO way is to use polymorphism instead. The source code uses the superclass or the abstract class/interface and the specific type is only changed where the object is created.","body":"The latter hinders readability, since a new programmer will have to look up the definitions of all the types.  The OO way is to use polymorphism instead. The source code uses the superclass or the abstract class/interface and the specific type is only changed where the object is created."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":2,"creation_date":1248802314,"post_id":1195235,"comment_id":1018384,"body_markdown":"The most important part of code is making your code readable.  Renaming (Duplicating!) a type for shortness has to be the absolutely worst coding concept I&#39;ve come across in a while!","body":"The most important part of code is making your code readable.  Renaming (Duplicating!) a type for shortness has to be the absolutely worst coding concept I&#39;ve come across in a while!"},{"owner":{"account_id":560383,"reputation":660,"user_id":145877,"display_name":"Joel"},"score":31,"creation_date":1248965111,"post_id":1195235,"comment_id":1030340,"body_markdown":"@Bill K: meh, say that after you&#39;ve had to type something like std::map&lt;int, std::map&lt;std::string, boost::shared_ptr&lt;std::string&gt; &gt; &gt;::const_iterator a few times. In that case, a name-shortening typedef enhances readability, not hinders it.","body":"@Bill K: meh, say that after you&#39;ve had to type something like std::map&lt;int, std::map&lt;std::string, boost::shared_ptr&lt;std::string&gt; &gt; &gt;::const_iterator a few times. In that case, a name-shortening typedef enhances readability, not hinders it."},{"owner":{"account_id":560383,"reputation":660,"user_id":145877,"display_name":"Joel"},"score":2,"creation_date":1248965381,"post_id":1195235,"comment_id":1030365,"body_markdown":"Many uses of typedef deal with portability. There is less need for typedef in Java (although I would not agree that there is no need for it) because - for example - int is 32 bits on the one and only platform that Java runs on, the JVM.","body":"Many uses of typedef deal with portability. There is less need for typedef in Java (although I would not agree that there is no need for it) because - for example - int is 32 bits on the one and only platform that Java runs on, the JVM."},{"owner":{"account_id":6921,"reputation":9295,"user_id":11797,"accept_rate":81,"display_name":"Aleksandar Dimitrov"},"score":26,"creation_date":1299187909,"post_id":1195235,"comment_id":5828539,"body_markdown":"Renaming a type can improve readability drastically. What is easier to read and comprehend (and thus more readable:) `UnmodifiableDirectedGraph&lt;IncrediblyFancyEdgeType, IncrediblyFancyAbstractNode.EvenFancierConcreteNode&gt;` or `IncrediblyFancyGraph`? I can always refer to the definition to find out what it&#39;s actually about. That way I can also be sure I won&#39;t miss `UnmodifiableDirectedGraph&lt;IncrediblyFancyEdge,IncredilyFancyAbstractNode.SlightlyLessFancyConcreteNode&gt;` out of sheer boredom.","body":"Renaming a type can improve readability drastically. What is easier to read and comprehend (and thus more readable:) <code>UnmodifiableDirectedGraph&lt;IncrediblyFancyEdgeType, IncrediblyFancyAbstractNode.EvenFancierConcreteNode&gt;</code> or <code>IncrediblyFancyGraph</code>? I can always refer to the definition to find out what it&#39;s actually about. That way I can also be sure I won&#39;t miss <code>UnmodifiableDirectedGraph&lt;IncrediblyFancyEdge,IncredilyFancy&zwnj;&#8203;AbstractNode.Slightl&zwnj;&#8203;yLessFancyConcreteNo&zwnj;&#8203;de&gt;</code> out of sheer boredom."},{"owner":{"account_id":873534,"reputation":41677,"user_id":923854,"display_name":"Casey"},"score":11,"creation_date":1392736938,"post_id":1195235,"comment_id":33089465,"body_markdown":"@AleksandarDimitrov I know that your comment is almost 3 years old as I type this, but I feel it&#39;s very important to point out how contrived and unrealistic that example is: none of those class names contains the word `Enterprise`.","body":"@AleksandarDimitrov I know that your comment is almost 3 years old as I type this, but I feel it&#39;s very important to point out how contrived and unrealistic that example is: none of those class names contains the word <code>Enterprise</code>."},{"owner":{"account_id":133281,"reputation":2590,"user_id":334526,"accept_rate":20,"display_name":"Christopher Barber"},"score":5,"creation_date":1393949274,"post_id":1195235,"comment_id":33659985,"body_markdown":"Bad names hinder readability. Good names help. Typedefs can help if there is full name is so long that it becomes hard to read or screws up your code formatting. It also would help when interacting with someone else&#39;s poorly choosen or ambiguous class names. If you really believe that a typedef is inherently going to make your code unreadable, then you should also believe that you should never use import statements and should always refer to fully qualified class names.","body":"Bad names hinder readability. Good names help. Typedefs can help if there is full name is so long that it becomes hard to read or screws up your code formatting. It also would help when interacting with someone else&#39;s poorly choosen or ambiguous class names. If you really believe that a typedef is inherently going to make your code unreadable, then you should also believe that you should never use import statements and should always refer to fully qualified class names."},{"owner":{"account_id":5063932,"reputation":3400,"user_id":4441547,"accept_rate":86,"display_name":"Aaron Franke"},"score":0,"creation_date":1535693410,"post_id":1195235,"comment_id":91168555,"body_markdown":"Then what if I want to create a typedef for primitives?","body":"Then what if I want to create a typedef for primitives?"}],"tags":[],"owner":{"account_id":48094,"reputation":609,"user_id":142722,"display_name":"Markus Koivisto"},"comment_count":9,"down_vote_count":17,"up_vote_count":3,"is_accepted":false,"score":-14,"last_activity_date":1248798511,"creation_date":1248798511,"answer_id":1195235,"question_id":1195206,"body_markdown":"There is no need for typedef in Java. Everything is an Object except for the primitives. There are no pointers, only references. The scenarios where you normally would use typedefs are instances in which you create objects instead.","title":"Is there a Java equivalent or methodology for the typedef keyword in C++?","body":"<p>There is no need for typedef in Java. Everything is an Object except for the primitives. There are no pointers, only references. The scenarios where you normally would use typedefs are instances in which you create objects instead.</p>\n"},{"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"comment_count":0,"down_vote_count":10,"up_vote_count":4,"is_accepted":false,"score":-6,"last_activity_date":1364778806,"creation_date":1248798519,"answer_id":1195236,"question_id":1195206,"body_markdown":"You could use an Enum, although that&#39;s semantically a bit different than a typedef in that it only allows a restricted set of values. Another possible solution is a named wrapper class, e.g.\r\n\r\n    public class Apple {\r\n          public Apple(Integer i){this.i=i; }\r\n    }\r\n\r\nbut that seems way more clunky, especially given that it&#39;s not clear from the code that the class has no other function than as an alias. ","title":"Is there a Java equivalent or methodology for the typedef keyword in C++?","body":"<p>You could use an Enum, although that's semantically a bit different than a typedef in that it only allows a restricted set of values. Another possible solution is a named wrapper class, e.g.</p>\n\n<pre><code>public class Apple {\n      public Apple(Integer i){this.i=i; }\n}\n</code></pre>\n\n<p>but that seems way more clunky, especially given that it's not clear from the code that the class has no other function than as an alias. </p>\n"},{"comments":[{"owner":{"account_id":48455,"reputation":57218,"user_id":143972,"accept_rate":100,"display_name":"Zed"},"score":7,"creation_date":1248799282,"post_id":1195242,"comment_id":1018092,"body_markdown":"I&#39;d argue whether this is any more anti-pattern than using typedef in C.","body":"I&#39;d argue whether this is any more anti-pattern than using typedef in C."},{"owner":{"account_id":38725,"reputation":100233,"user_id":111335,"accept_rate":75,"display_name":"Pavel Minaev"},"score":23,"creation_date":1248800483,"post_id":1195242,"comment_id":1018239,"body_markdown":"It definitely is - `typedef` has none of the problems that article describes for those fake classes (and they are very real).","body":"It definitely is - <code>typedef</code> has none of the problems that article describes for those fake classes (and they are very real)."},{"owner":{"account_id":50566,"reputation":9545,"user_id":150884,"accept_rate":83,"display_name":"hertzsprung"},"score":2,"creation_date":1329856836,"post_id":1195242,"comment_id":11855381,"body_markdown":"Also, it&#39;s not even possible with final classes such as `java.lang.String`","body":"Also, it&#39;s not even possible with final classes such as <code>java.lang.String</code>"},{"owner":{"account_id":118444,"reputation":20516,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"score":30,"creation_date":1357944815,"post_id":1195242,"comment_id":19841842,"body_markdown":"@Andreas_D: your link, fixed: http://www.ibm.com/developerworks/java/library/j-jtp02216/index.html","body":"@Andreas_D: your link, fixed: <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp02216/index.html\" rel=\"nofollow noreferrer\">ibm.com/developerworks/java/library/j-jtp02216/index.html</a>"},{"owner":{"account_id":192998,"reputation":22700,"user_id":434460,"accept_rate":99,"display_name":"Leonid"},"score":0,"creation_date":1362588739,"post_id":1195242,"comment_id":21511308,"body_markdown":"you can do that but not simply, because it may require to define the constructor, which is code duplication.","body":"you can do that but not simply, because it may require to define the constructor, which is code duplication."},{"owner":{"account_id":1264833,"reputation":5628,"user_id":1623645,"accept_rate":73,"display_name":"Jim Pivarski"},"score":0,"creation_date":1376427384,"post_id":1195242,"comment_id":26706826,"body_markdown":"This may be an antipattern in some contexts, but not all.  Jython doesn&#39;t handle parameterized types, so there&#39;s no typesafe way to pass an instance to it without either encapsulating it or subclassing it as shown above.  The article calls this an anti-pattern because it inhibits code reuse, but for this purpose (giving Jython a one-time callback), code reuse is undesirable.","body":"This may be an antipattern in some contexts, but not all.  Jython doesn&#39;t handle parameterized types, so there&#39;s no typesafe way to pass an instance to it without either encapsulating it or subclassing it as shown above.  The article calls this an anti-pattern because it inhibits code reuse, but for this purpose (giving Jython a one-time callback), code reuse is undesirable."},{"owner":{"account_id":524692,"reputation":9401,"user_id":1131254,"accept_rate":85,"display_name":"Josh Petitt"},"score":8,"creation_date":1381076012,"post_id":1195242,"comment_id":28428897,"body_markdown":"I like this for the same reason I like typedefs.  If you have a container of objects, it is easy to swap container types by changing the typedef.  Also, it can abstract the container to the end user (which is sometimes desirable).  I would usually do this inside of another class, so then the type becomes more obvious (i.e. MyTree.Branches, where class Branches extends HashSet&lt;MyTree&gt;{})","body":"I like this for the same reason I like typedefs.  If you have a container of objects, it is easy to swap container types by changing the typedef.  Also, it can abstract the container to the end user (which is sometimes desirable).  I would usually do this inside of another class, so then the type becomes more obvious (i.e. MyTree.Branches, where class Branches extends HashSet&lt;MyTree&gt;{})"},{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":11,"creation_date":1396992280,"post_id":1195242,"comment_id":35035887,"body_markdown":"Although the _main_ problem with this approach is that you can&#39;t use it with `final` classes.","body":"Although the <i>main</i> problem with this approach is that you can&#39;t use it with <code>final</code> classes."},{"owner":{"account_id":5818495,"reputation":786,"user_id":4587281,"accept_rate":50,"display_name":"HarshaXsoad"},"score":4,"creation_date":1463628099,"post_id":1195242,"comment_id":62147436,"body_markdown":"The exact reason i searched for &quot;typedef in java&quot; is for a HashMap declaration like above. So i can use something like HashMap&lt;Person, Detail&gt; instead of using generic declaration like this HashMap&lt;String, String&gt; or without creating and extending Person and Detail classes with String Class.","body":"The exact reason i searched for &quot;typedef in java&quot; is for a HashMap declaration like above. So i can use something like HashMap&lt;Person, Detail&gt; instead of using generic declaration like this HashMap&lt;String, String&gt; or without creating and extending Person and Detail classes with String Class."},{"owner":{"account_id":3491466,"reputation":611,"user_id":3116635,"display_name":"Jeff Schwab"},"score":1,"creation_date":1594209562,"post_id":1195242,"comment_id":111045175,"body_markdown":"This creates a new type, not a type alias.  For example, a function signature modified to accept MyMap can no longer be passed an ordinary HashMap&lt;String, String&gt;.  It also fails to inherit constructors, and has other inheritance-specific shortcomings.","body":"This creates a new type, not a type alias.  For example, a function signature modified to accept MyMap can no longer be passed an ordinary HashMap&lt;String, String&gt;.  It also fails to inherit constructors, and has other inheritance-specific shortcomings."},{"owner":{"account_id":58516,"reputation":1378,"user_id":175153,"display_name":"hellectronic"},"score":0,"creation_date":1625751170,"post_id":1195242,"comment_id":120714562,"body_markdown":"New Archive link to the above IBM article: [Java theory and practice: The pseudo-typedef antipattern](https://web.archive.org/web/20170206190605/ibm.com/developerworks/java/library/j-jtp02216/index.html)","body":"New Archive link to the above IBM article: <a href=\"https://web.archive.org/web/20170206190605/ibm.com/developerworks/java/library/j-jtp02216/index.html\" rel=\"nofollow noreferrer\">Java theory and practice: The pseudo-typedef antipattern</a>"},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1662816388,"post_id":1195242,"comment_id":130096059,"body_markdown":"I can&#39;t believe I been coding in Java for so many years without realizing this.","body":"I can&#39;t believe I been coding in Java for so many years without realizing this."}],"tags":[],"owner":{"account_id":48455,"reputation":57218,"user_id":143972,"accept_rate":100,"display_name":"Zed"},"comment_count":12,"down_vote_count":13,"up_vote_count":131,"is_accepted":false,"score":118,"last_activity_date":1248798608,"creation_date":1248798608,"answer_id":1195242,"question_id":1195206,"body_markdown":"If this is what you mean, you can simply extend the class you would like to typedef, e.g.:\r\n\r\n    public class MyMap extends HashMap&lt;String, String&gt; {}\r\n\r\n\r\n","title":"Is there a Java equivalent or methodology for the typedef keyword in C++?","body":"<p>If this is what you mean, you can simply extend the class you would like to typedef, e.g.:</p>\n\n<pre><code>public class MyMap extends HashMap&lt;String, String&gt; {}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1151754,"reputation":350,"user_id":1133296,"display_name":"igorrs"},"score":15,"creation_date":1336695852,"post_id":7323266,"comment_id":13642963,"body_markdown":"Having `typedef` would also be useful to create aliases for invocations of generic types. For example: `typedef A&lt;Long,String&gt; B;` (this may be a special case of what you&#39;ve described, but it shows the appeal of the idea a little more clearly).","body":"Having <code>typedef</code> would also be useful to create aliases for invocations of generic types. For example: <code>typedef A&lt;Long,String&gt; B;</code> (this may be a special case of what you&#39;ve described, but it shows the appeal of the idea a little more clearly)."},{"owner":{"account_id":5063932,"reputation":3400,"user_id":4441547,"accept_rate":86,"display_name":"Aaron Franke"},"score":0,"creation_date":1535693272,"post_id":7323266,"comment_id":91168512,"body_markdown":"In my use case, I want to give aliases to primitive types. `real_t` for `double` and `bool` for `boolean`.","body":"In my use case, I want to give aliases to primitive types. <code>real_t</code> for <code>double</code> and <code>bool</code> for <code>boolean</code>."}],"tags":[],"owner":{"account_id":756836,"reputation":211,"user_id":768488,"display_name":"Zack Yezek"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1315327123,"creation_date":1315327123,"answer_id":7323266,"question_id":1195206,"body_markdown":"&lt;p&gt;Really, the only use of typedef that carries over to Javaland is aliasing- that is, giving the same class multiple names. That is, you&#39;ve got a class &quot;A&quot; and you want &quot;B&quot; to refer to the same thing. In C++, you&#39;d be doing &quot;typedef B A;&quot;&lt;/p&gt;\r\n\r\n&lt;p&gt;Unfortunately, they just don&#39;t support it. However, if you control all the types involved you CAN pull a nasty hack at the library level- you either extend B from A or have B implement A.","title":"Is there a Java equivalent or methodology for the typedef keyword in C++?","body":"<p>Really, the only use of typedef that carries over to Javaland is aliasing- that is, giving the same class multiple names. That is, you've got a class \"A\" and you want \"B\" to refer to the same thing. In C++, you'd be doing \"typedef B A;\"</p>\n\n<p><p>Unfortunately, they just don't support it. However, if you control all the types involved you CAN pull a nasty hack at the library level- you either extend B from A or have B implement A.</p>\n"},{"tags":[],"owner":{"account_id":1578571,"reputation":4109,"user_id":1464455,"accept_rate":38,"display_name":"Yair Zaslavsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1439944979,"creation_date":1439944979,"answer_id":32084756,"question_id":1195206,"body_markdown":"As others have mentioned before, &lt;BR&gt;\r\nThere is no typedef mechanism in Java. &lt;BR&gt;\r\nI also do not support &quot;fake classes&quot; in general, but there should not be a general strict rule of thumb here: &lt;BR&gt;\r\nIf your code for example uses over and over and over a &quot;generic based type&quot; for example: &lt;BR&gt;\r\n\r\n    Map&lt;String, List&lt;Integer&gt;&gt; \r\n\r\nYou should definitely consider having a subclass for that purpose. &lt;BR&gt;\r\nAnother approach one can consider, is for example to have in your code a deceleration like:\r\n\r\n    //@Alias Map&lt;String, List&lt;Integer&gt;&gt;  NameToNumbers;\r\n\r\nAnd then use in your code NameToNumbers and have a pre compiler task (ANT/Gradle/Maven) to process and generate relevant java code. &lt;BR&gt;\r\nI know that to some of the readers of this answer this might sound strange, but this is how many frameworks implemented &quot;annotations&quot; prior to JDK 5, this is what project [lombok][1] is doing and other frameworks.\r\n\r\n\r\n\r\n  [1]: https://projectlombok.org/","title":"Is there a Java equivalent or methodology for the typedef keyword in C++?","body":"<p>As others have mentioned before, <BR>\nThere is no typedef mechanism in Java. <BR>\nI also do not support \"fake classes\" in general, but there should not be a general strict rule of thumb here: <BR>\nIf your code for example uses over and over and over a \"generic based type\" for example: <BR></p>\n\n<pre><code>Map&lt;String, List&lt;Integer&gt;&gt; \n</code></pre>\n\n<p>You should definitely consider having a subclass for that purpose. <BR>\nAnother approach one can consider, is for example to have in your code a deceleration like:</p>\n\n<pre><code>//@Alias Map&lt;String, List&lt;Integer&gt;&gt;  NameToNumbers;\n</code></pre>\n\n<p>And then use in your code NameToNumbers and have a pre compiler task (ANT/Gradle/Maven) to process and generate relevant java code. <BR>\nI know that to some of the readers of this answer this might sound strange, but this is how many frameworks implemented \"annotations\" prior to JDK 5, this is what project <a href=\"https://projectlombok.org/\" rel=\"noreferrer\">lombok</a> is doing and other frameworks.</p>\n"},{"comments":[{"owner":{"account_id":6272887,"reputation":1391,"user_id":4929809,"accept_rate":52,"display_name":"mercury0114"},"score":2,"creation_date":1479420151,"post_id":35888636,"comment_id":68562879,"body_markdown":"Don&#39;t you think that this now has a problem because whenever you define `myMap` instance of type `MyMap`, you can operate on actual HashMap only by typing `myMapInstance.value.SomeOperation()` instead of `myMapInstance.SomeOperation()`. This is annoying, isn&#39;t it?","body":"Don&#39;t you think that this now has a problem because whenever you define <code>myMap</code> instance of type <code>MyMap</code>, you can operate on actual HashMap only by typing <code>myMapInstance.value.SomeOperation()</code> instead of <code>myMapInstance.SomeOperation()</code>. This is annoying, isn&#39;t it?"},{"owner":{"account_id":2053623,"reputation":551,"user_id":1832003,"accept_rate":41,"display_name":"shrewquest"},"score":3,"creation_date":1516207608,"post_id":35888636,"comment_id":83597173,"body_markdown":"you can still do myMapInstance.SomeOperation() - this is what the @Delegate is for","body":"you can still do myMapInstance.SomeOperation() - this is what the @Delegate is for"},{"owner":{"account_id":102809,"reputation":27813,"user_id":275737,"display_name":"David Gelhar"},"score":0,"creation_date":1597671504,"post_id":35888636,"comment_id":112201378,"body_markdown":"Note that currently (8/2020) @Delegate is &quot;experimental&quot; in lombok https://projectlombok.org/features/experimental/Delegate ```Current status: negative - Currently we feel this feature will not move out of experimental status anytime soon, and support for this feature may be dropped ...```","body":"Note that currently (8/2020) @Delegate is &quot;experimental&quot; in lombok <a href=\"https://projectlombok.org/features/experimental/Delegate\" rel=\"nofollow noreferrer\">projectlombok.org/features/experimental/Delegate</a> <code>Current status: negative - Currently we feel this feature will not move out of experimental status anytime soon, and support for this feature may be dropped ...</code>"}],"tags":[],"owner":{"account_id":2053623,"reputation":551,"user_id":1832003,"accept_rate":41,"display_name":"shrewquest"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1480377955,"creation_date":1457518436,"answer_id":35888636,"question_id":1195206,"body_markdown":"Perhaps this could be another possible replace :\r\n\r\n    @Data\r\n    public class MyMap {\r\n        @Delegate //lombok\r\n        private HashMap&lt;String, String&gt; value;\r\n    }","title":"Is there a Java equivalent or methodology for the typedef keyword in C++?","body":"<p>Perhaps this could be another possible replace :</p>\n\n<pre><code>@Data\npublic class MyMap {\n    @Delegate //lombok\n    private HashMap&lt;String, String&gt; value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1707840,"reputation":9,"user_id":1566544,"display_name":"dzs0000"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1461018576,"creation_date":1461018576,"answer_id":36705421,"question_id":1195206,"body_markdown":"In some cases, a binding annotation may be just what you&#39;re looking for:\r\n\r\nhttps://github.com/google/guice/wiki/BindingAnnotations\r\n\r\nOr if you don&#39;t want to depend on Guice, just a regular annotation might do.","title":"Is there a Java equivalent or methodology for the typedef keyword in C++?","body":"<p>In some cases, a binding annotation may be just what you're looking for:</p>\n\n<p><a href=\"https://github.com/google/guice/wiki/BindingAnnotations\" rel=\"nofollow\">https://github.com/google/guice/wiki/BindingAnnotations</a></p>\n\n<p>Or if you don't want to depend on Guice, just a regular annotation might do.</p>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1693985931,"creation_date":1480513646,"answer_id":40890065,"question_id":1195206,"body_markdown":"As noted in other answers, you should avoid the [pseudo-typedef antipattern](http://www.ibm.com/developerworks/library/j-jtp02216/).  However, typedefs are still useful even if that is not the way to achieve them.  You want to distinguish between different abstract types that have the same Java representation.  You don&#39;t want to mix up strings that are passwords with those that are street addresses, or integers that represent an offset with those that represent an absolute value.\r\n\r\nThe [Checker Framework](http://CheckerFramework.org/) enables you to define a typedef in a backward-compatible way.  It works even for primitive classes such as `int` and final classes such as `String`.  It has no run-time overhead and does not break equality tests.\r\n\r\nSection [Type aliases and typedefs](http://types.cs.washington.edu/checker-framework/current/checker-framework-manual.html#subtyping-type-alias) in the Checker Framework manual describes several ways to create typedefs, depending on your needs.\r\n","title":"Is there a Java equivalent or methodology for the typedef keyword in C++?","body":"<p>As noted in other answers, you should avoid the <a href=\"http://www.ibm.com/developerworks/library/j-jtp02216/\" rel=\"nofollow noreferrer\">pseudo-typedef antipattern</a>.  However, typedefs are still useful even if that is not the way to achieve them.  You want to distinguish between different abstract types that have the same Java representation.  You don't want to mix up strings that are passwords with those that are street addresses, or integers that represent an offset with those that represent an absolute value.</p>\n<p>The <a href=\"http://CheckerFramework.org/\" rel=\"nofollow noreferrer\">Checker Framework</a> enables you to define a typedef in a backward-compatible way.  It works even for primitive classes such as <code>int</code> and final classes such as <code>String</code>.  It has no run-time overhead and does not break equality tests.</p>\n<p>Section <a href=\"http://types.cs.washington.edu/checker-framework/current/checker-framework-manual.html#subtyping-type-alias\" rel=\"nofollow noreferrer\">Type aliases and typedefs</a> in the Checker Framework manual describes several ways to create typedefs, depending on your needs.</p>\n"},{"comments":[{"owner":{"account_id":1401254,"reputation":449,"user_id":1330001,"display_name":"Jason Smith"},"score":0,"creation_date":1647010892,"post_id":61682213,"comment_id":126272406,"body_markdown":"So do several other languages, however, OP asked about Java, so this answer is not relevant","body":"So do several other languages, however, OP asked about Java, so this answer is not relevant"}],"tags":[],"owner":{"account_id":98882,"reputation":8173,"user_id":267398,"accept_rate":63,"display_name":"sebnukem"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588950606,"creation_date":1588950606,"answer_id":61682213,"question_id":1195206,"body_markdown":"Kotlin supports type aliases https://kotlinlang.org/docs/reference/type-aliases.html. You can rename types and function types.","title":"Is there a Java equivalent or methodology for the typedef keyword in C++?","body":"<p>Kotlin supports type aliases <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/type-aliases.html</a>. You can rename types and function types.</p>\n"}],"owner":{"account_id":32264,"reputation":7769,"user_id":89339,"accept_rate":100,"display_name":"bn."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141272,"favorite_count":0,"down_vote_count":0,"up_vote_count":286,"accepted_answer_id":1195221,"answer_count":12,"score":286,"last_activity_date":1693985931,"creation_date":1248798202,"question_id":1195206,"body_markdown":"Coming from a C and C++ background, I found judicious use of **`typedef`** to be incredibly helpful.  Do you know of a way to achieve similar functionality in Java, whether that be a Java mechanism, pattern, or some other effective way you have used?","title":"Is there a Java equivalent or methodology for the typedef keyword in C++?","body":"<p>Coming from a C and C++ background, I found judicious use of <strong><code>typedef</code></strong> to be incredibly helpful.  Do you know of a way to achieve similar functionality in Java, whether that be a Java mechanism, pattern, or some other effective way you have used?</p>\n"},{"tags":["java","asynchronous","completable-future","java-threads"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1693985978,"post_id":77049439,"comment_id":135830149,"body_markdown":"Why do you think `thenApply()` should be blocking? It registers a function to be applied to the `future` similarly to the way `Stream.map()` registers a function to be applied to a stream without actually executing it.","body":"Why do you think <code>thenApply()</code> should be blocking? It registers a function to be applied to the <code>future</code> similarly to the way <code>Stream.map()</code> registers a function to be applied to a stream without actually executing it."},{"owner":{"account_id":29376730,"reputation":1,"user_id":22508104,"display_name":"Ivan M"},"score":0,"creation_date":1693989953,"post_id":77049439,"comment_id":135830950,"body_markdown":"This is the way I understood from the documentation it should work. Then what is the difference with thenApplyAsync?","body":"This is the way I understood from the documentation it should work. Then what is the difference with thenApplyAsync?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694166156,"post_id":77049439,"comment_id":135858670,"body_markdown":"`thenApply` means there is no policy regarding which thread will be used to evaluate the function. `thenApplyAsync` guarantees that the provided `Executor` (or the default executor if none was provided) will be used.","body":"<code>thenApply</code> means there is no policy regarding which thread will be used to evaluate the function. <code>thenApplyAsync</code> guarantees that the provided <code>Executor</code> (or the default executor if none was provided) will be used."}],"answers":[{"comments":[{"owner":{"account_id":29376730,"reputation":1,"user_id":22508104,"display_name":"Ivan M"},"score":0,"creation_date":1693990038,"post_id":77049872,"comment_id":135830972,"body_markdown":"Thank you. So this is the main difference between thenApply and thenApplyAsync? And what would be the scenario of thenApply blocking the thread if the previous stage HAS been completed?","body":"Thank you. So this is the main difference between thenApply and thenApplyAsync? And what would be the scenario of thenApply blocking the thread if the previous stage HAS been completed?"},{"owner":{"account_id":6891945,"reputation":43,"user_id":21354715,"display_name":"Dylan Bradshaw"},"score":0,"creation_date":1694050476,"post_id":77049872,"comment_id":135841481,"body_markdown":"@IvanM from my testing thenApply always blocked when the previous stage was already completed.","body":"@IvanM from my testing thenApply always blocked when the previous stage was already completed."}],"tags":[],"owner":{"account_id":6891945,"reputation":43,"user_id":21354715,"display_name":"Dylan Bradshaw"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693985895,"creation_date":1693985895,"answer_id":77049872,"question_id":77049439,"body_markdown":"`thenApply` *may* block the thread if the previous stage has already completed (in your case it has not). `thenApplyAsync` is guaranteed to not block the current thread even if it has already completed.\r\n\r\n\r\n\r\n","title":"Java Unexpected Async Behavior","body":"<p><code>thenApply</code> <em>may</em> block the thread if the previous stage has already completed (in your case it has not). <code>thenApplyAsync</code> is guaranteed to not block the current thread even if it has already completed.</p>\n"}],"owner":{"account_id":29376730,"reputation":1,"user_id":22508104,"display_name":"Ivan M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693985895,"creation_date":1693981501,"question_id":77049439,"body_markdown":"Im expecting unexpected behaviour in Java(Java 17, Spring Boot app). This method is for test and Im calling it directly from the main method. \r\n\r\nShouldnt the main thread get blocked at the line of thenApply() and why it doesn&#39;t? \r\n\r\nTo my Java knowledge and all I checked and researched so far **thenApply()** should be blocking, gut in my case it behaves like **thenApplyAsync()**.\r\n\r\n\r\n```\r\n`\t\tSystem.out.println(&quot;Main Thread: &quot; + Thread.currentThread().getName());\r\n\r\n\t\tCompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tTimeUnit.SECONDS.sleep(5);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\r\n\t\t\tvar otherThread = Thread.currentThread().getName();\r\n\t\t\tSystem.out.println(&quot;Future Thread: &quot; + otherThread);\r\n\r\n\t\t\treturn otherThread;\r\n\t\t});\r\n\r\n\t\tSystem.out.println(&quot;Code before thenApply: &quot; + Thread.currentThread().getName());\r\n\t\tvar result = future.thenApply(res -&gt; {\r\n\t\t\tSystem.out.println(&quot;Future Thread in Result: &quot; + res);\r\n\r\n\t\t\tSystem.out.println(&quot;Then Apply Thread: &quot; + Thread.currentThread().getName());\r\n\r\n\t\t\treturn res;\r\n\t\t});\r\n\r\n\t\tSystem.out.println(&quot;Code after thenApply: &quot; + Thread.currentThread().getName());\r\n\r\n\t\ttry {\r\n\t\t\tvar finalResult = result.get();\r\n\t\t\tSystem.out.println(&quot;Code after get: &quot; + Thread.currentThread().getName());\r\n\t\t\tSystem.out.println(&quot;After get result:&quot; + finalResult);\r\n\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t} catch (ExecutionException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\r\nLogs:\r\nMain Thread: main\r\nCode before thenApply: main\r\nCode after thenApply: main\r\nFuture Thread: ForkJoinPool.commonPool-worker-1\r\nFuture Thread in Result: ForkJoinPool.commonPool-worker-1\r\nThen Apply Thread: ForkJoinPool.commonPool-worker-1\r\nCode after get: main\r\nAfter get...ForkJoinPool.commonPool-worker-1`\r\n```\r\n\r\n","title":"Java Unexpected Async Behavior","body":"<p>Im expecting unexpected behaviour in Java(Java 17, Spring Boot app). This method is for test and Im calling it directly from the main method.</p>\n<p>Shouldnt the main thread get blocked at the line of thenApply() and why it doesn't?</p>\n<p>To my Java knowledge and all I checked and researched so far <strong>thenApply()</strong> should be blocking, gut in my case it behaves like <strong>thenApplyAsync()</strong>.</p>\n<pre><code>`       System.out.println(&quot;Main Thread: &quot; + Thread.currentThread().getName());\n\n        CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                TimeUnit.SECONDS.sleep(5);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n\n            var otherThread = Thread.currentThread().getName();\n            System.out.println(&quot;Future Thread: &quot; + otherThread);\n\n            return otherThread;\n        });\n\n        System.out.println(&quot;Code before thenApply: &quot; + Thread.currentThread().getName());\n        var result = future.thenApply(res -&gt; {\n            System.out.println(&quot;Future Thread in Result: &quot; + res);\n\n            System.out.println(&quot;Then Apply Thread: &quot; + Thread.currentThread().getName());\n\n            return res;\n        });\n\n        System.out.println(&quot;Code after thenApply: &quot; + Thread.currentThread().getName());\n\n        try {\n            var finalResult = result.get();\n            System.out.println(&quot;Code after get: &quot; + Thread.currentThread().getName());\n            System.out.println(&quot;After get result:&quot; + finalResult);\n\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        } catch (ExecutionException e) {\n            throw new RuntimeException(e);\n        }\n\nLogs:\nMain Thread: main\nCode before thenApply: main\nCode after thenApply: main\nFuture Thread: ForkJoinPool.commonPool-worker-1\nFuture Thread in Result: ForkJoinPool.commonPool-worker-1\nThen Apply Thread: ForkJoinPool.commonPool-worker-1\nCode after get: main\nAfter get...ForkJoinPool.commonPool-worker-1`\n</code></pre>\n"},{"tags":["java","graph-algorithm","bellman-ford"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1606392119,"post_id":65021413,"comment_id":114953290,"body_markdown":"Wouldn’t it be easier to write a test and find out yourself?","body":"Wouldn’t it be easier to write a test and find out yourself?"},{"owner":{"account_id":359278,"reputation":1774,"user_id":700597,"accept_rate":44,"display_name":"runeks"},"score":0,"creation_date":1606580536,"post_id":65021413,"comment_id":115005611,"body_markdown":"@AbhijitSarkar I wrote a property test which managed to generate test data that causes a crash. See my answer below.","body":"@AbhijitSarkar I wrote a property test which managed to generate test data that causes a crash. See my answer below."}],"answers":[{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1606621384,"post_id":65051801,"comment_id":115014700,"body_markdown":"&quot;_if the weight of the 1→2 edge is changed...algorithm terminates successfully_&quot; This sounds like a floating-point arithmetic issue rather than algorithm issue.","body":"&quot;<i>if the weight of the 1→2 edge is changed...algorithm terminates successfully</i>&quot; This sounds like a floating-point arithmetic issue rather than algorithm issue."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1606627844,"post_id":65051801,"comment_id":115015415,"body_markdown":"See [this paper](https://blog.asarkar.com/assets/docs/algorithms-curated/Negative-Weight%20Cycle%20Algorithms%20-%20Huang.pdf) for detecting -ve weight cycles. A Python impl can be found on [my GitHub](https://github.com/asarkar/daily-coding-problem/blob/master/graph/bellman_ford.py).","body":"See <a href=\"https://blog.asarkar.com/assets/docs/algorithms-curated/Negative-Weight%20Cycle%20Algorithms%20-%20Huang.pdf\" rel=\"nofollow noreferrer\">this paper</a> for detecting -ve weight cycles. A Python impl can be found on <a href=\"https://github.com/asarkar/daily-coding-problem/blob/master/graph/bellman_ford.py\" rel=\"nofollow noreferrer\">my GitHub</a>."},{"owner":{"account_id":359278,"reputation":1774,"user_id":700597,"accept_rate":44,"display_name":"runeks"},"score":0,"creation_date":1606673625,"post_id":65051801,"comment_id":115025681,"body_markdown":"@AbhijitSarkar You&#39;re right. The cause is a floating-point rounding error. I&#39;ve added a detailed explanation of why this ends up causing the zero-weight cycle to be found instead of the negative-weight one.","body":"@AbhijitSarkar You&#39;re right. The cause is a floating-point rounding error. I&#39;ve added a detailed explanation of why this ends up causing the zero-weight cycle to be found instead of the negative-weight one."}],"tags":[],"owner":{"account_id":359278,"reputation":1774,"user_id":700597,"accept_rate":44,"display_name":"runeks"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693985656,"creation_date":1606580459,"answer_id":65051801,"question_id":65021413,"body_markdown":"**UPDATE:** *This bug has been fixed by Kevin Wayne after I emailed him about the issue, by making the weight check in `relax` include the `EPSILON` constant ([link to code][1]).*\r\n\r\nThe linked Bellman-Ford implementation does not guarantee that the negative-weight cycle is returned in the presence of both a negative-weight and zero-weight cycle.\r\n\r\nThe below graph will cause `BellmanFordSP.java` to crash (with an `AssertionError`) when the start vertex is **2**, because the weight of the found cycle equals zero (command `java -ea BellmanFordSP.java &lt;graph.txt&gt; 2`):\r\n\r\n```\r\n8\r\n9\r\n0 1 3.0\r\n1 2 -3.430337482745286\r\n2 3 0\r\n3 4 -2\r\n4 5 -5\r\n5 0 0\r\n3 6 -4\r\n6 7 -5\r\n7 3 9\r\n```\r\n\r\nHere&#39;s the above graph visualized: [![graph visualization][2]][2]\r\n\r\nThe error is ultimately caused by a floating-point rounding error.\r\n\r\nWhen vertex **3** is relaxed for the second time, the current distance to this vertex equals `-7.430337482745286`. The edge 3→6 (of weight `-4.0`) will cause the distance to **6** to be updated to `-7.430337482745286 + -4.0`, which (when using \r\ndouble-precision floating-point numbers) equals `-11.430337482745287` (note the ending digit is 7 and not 6).\r\nWhen **6** is relaxed, the distance to **7** is updated to `-16.430337482745287`   (`-11.430337482745287 + -5.0`) which, finally, causes the relaxation of vertex **7** to update the distance to **3** to `-7.430337482745287` (`-16.430337482745287 + 9.0`). This new distance to **3** is less than the previous distance of `-7.430337482745286` (due to the floating-point rounding error), which means the 7→3 edge replaces the 2→3 edge in the shortest path tree. This results in the shortest path tree no longer containing the negative cycle (because it no longer contains 2→3), but the zero-weight cycle instead.\r\n\r\n\r\n  [1]: https://algs4.cs.princeton.edu/44sp/BellmanFordSP.java.html\r\n  [2]: https://i.stack.imgur.com/ZceyW.png","title":"Sedgewick/Wayne &quot;BellmanFordSP.java&quot;: how does &quot;findNegativeCycle&quot; make sure a negative cycle is returned?","body":"<p><strong>UPDATE:</strong> <em>This bug has been fixed by Kevin Wayne after I emailed him about the issue, by making the weight check in <code>relax</code> include the <code>EPSILON</code> constant (<a href=\"https://algs4.cs.princeton.edu/44sp/BellmanFordSP.java.html\" rel=\"nofollow noreferrer\">link to code</a>).</em></p>\n<p>The linked Bellman-Ford implementation does not guarantee that the negative-weight cycle is returned in the presence of both a negative-weight and zero-weight cycle.</p>\n<p>The below graph will cause <code>BellmanFordSP.java</code> to crash (with an <code>AssertionError</code>) when the start vertex is <strong>2</strong>, because the weight of the found cycle equals zero (command <code>java -ea BellmanFordSP.java &lt;graph.txt&gt; 2</code>):</p>\n<pre><code>8\n9\n0 1 3.0\n1 2 -3.430337482745286\n2 3 0\n3 4 -2\n4 5 -5\n5 0 0\n3 6 -4\n6 7 -5\n7 3 9\n</code></pre>\n<p>Here's the above graph visualized: <a href=\"https://i.stack.imgur.com/ZceyW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZceyW.png\" alt=\"graph visualization\" /></a></p>\n<p>The error is ultimately caused by a floating-point rounding error.</p>\n<p>When vertex <strong>3</strong> is relaxed for the second time, the current distance to this vertex equals <code>-7.430337482745286</code>. The edge 3→6 (of weight <code>-4.0</code>) will cause the distance to <strong>6</strong> to be updated to <code>-7.430337482745286 + -4.0</code>, which (when using\ndouble-precision floating-point numbers) equals <code>-11.430337482745287</code> (note the ending digit is 7 and not 6).\nWhen <strong>6</strong> is relaxed, the distance to <strong>7</strong> is updated to <code>-16.430337482745287</code>   (<code>-11.430337482745287 + -5.0</code>) which, finally, causes the relaxation of vertex <strong>7</strong> to update the distance to <strong>3</strong> to <code>-7.430337482745287</code> (<code>-16.430337482745287 + 9.0</code>). This new distance to <strong>3</strong> is less than the previous distance of <code>-7.430337482745286</code> (due to the floating-point rounding error), which means the 7→3 edge replaces the 2→3 edge in the shortest path tree. This results in the shortest path tree no longer containing the negative cycle (because it no longer contains 2→3), but the zero-weight cycle instead.</p>\n"}],"owner":{"account_id":359278,"reputation":1774,"user_id":700597,"accept_rate":44,"display_name":"runeks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65051801,"answer_count":1,"score":4,"last_activity_date":1693985656,"creation_date":1606390943,"question_id":65021413,"body_markdown":"In the Sedgewick and Wayne implementation of the Bellman-Ford algorithm (https://algs4.cs.princeton.edu/44sp/BellmanFordSP.java) the method `findNegativeCycle` uses `EdgeWeightedDirectedCycle` (https://algs4.cs.princeton.edu/44sp/EdgeWeightedDirectedCycle.java) to find a directed cycle in the shortest path tree (the edges in the `edgeTo` array).\r\n\r\nAlso, in the `check` method, it is asserted that the weight of this directed cycle is negative. Thus, if Java assertions are enabled, the `BellmanFordSP` constructor will throw an exception if the `negativeCycle` method returns a cycle whose weight is not negative.\r\n\r\n**Question:** if the shortest path tree contains *both* a zero-weight cycle and a negative-weight cycle, what makes sure that `EdgeWeightedDirectedCycle` doesn&#39;t return the zero-weight cycle (thus causing an assertion failure)?","title":"Sedgewick/Wayne &quot;BellmanFordSP.java&quot;: how does &quot;findNegativeCycle&quot; make sure a negative cycle is returned?","body":"<p>In the Sedgewick and Wayne implementation of the Bellman-Ford algorithm (<a href=\"https://algs4.cs.princeton.edu/44sp/BellmanFordSP.java\" rel=\"nofollow noreferrer\">https://algs4.cs.princeton.edu/44sp/BellmanFordSP.java</a>) the method <code>findNegativeCycle</code> uses <code>EdgeWeightedDirectedCycle</code> (<a href=\"https://algs4.cs.princeton.edu/44sp/EdgeWeightedDirectedCycle.java\" rel=\"nofollow noreferrer\">https://algs4.cs.princeton.edu/44sp/EdgeWeightedDirectedCycle.java</a>) to find a directed cycle in the shortest path tree (the edges in the <code>edgeTo</code> array).</p>\n<p>Also, in the <code>check</code> method, it is asserted that the weight of this directed cycle is negative. Thus, if Java assertions are enabled, the <code>BellmanFordSP</code> constructor will throw an exception if the <code>negativeCycle</code> method returns a cycle whose weight is not negative.</p>\n<p><strong>Question:</strong> if the shortest path tree contains <em>both</em> a zero-weight cycle and a negative-weight cycle, what makes sure that <code>EdgeWeightedDirectedCycle</code> doesn't return the zero-weight cycle (thus causing an assertion failure)?</p>\n"},{"tags":["java","spring","validation","annotations","lombok"],"owner":{"account_id":27598382,"reputation":11,"user_id":21064118,"display_name":"Wired5149"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693985319,"creation_date":1693985319,"question_id":77049814,"body_markdown":"I&#39;ve discovered a weird Spring bug or at least a strange behavior when investigating a bug in our project. At runtime, whenever somebody called one particular endpoint, they got back error 500 with cause being:\r\n\r\n&gt; &quot;ExistsSomeEntity defines multiple validators for the type java.util.UUID: com.example.validation.ExistsSomeEntityValidator, com.example.validation.ExistsSomeEntityValidator. Only one is allowed \r\n\r\nThe code of the method called by the endpoint is as such:\r\n\r\n\r\n```\r\npublic void doSomethingWithAnEntity(@ExistsSomeEntity UUID id, WhatToDoRequest request) {\r\ndoSomething(id,request);\r\n    }\r\n```\r\n\r\nValidation:\r\n```\r\n@Constraint(validatedBy = ExistsSomeEntityValidator.class)\r\n@Target({ElementType.PARAMETER, ElementType.FIELD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface ExistsSomeEntity {\r\n\r\n    String message() default &quot;{error.validation.ExistsSomeEntity.message}&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default { };\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default { };\r\n}\r\n```\r\n\r\nValidator:\r\n\r\n```\r\npublic class ExistsSomeEntityValidator implements ConstraintValidator&lt;ExistsSomeEntity, UUID&gt; {\r\n\r\n    @SuppressWarnings(&quot;SpringJavaInjectionPointsAutowiringInspection&quot;)\r\n    @Autowired\r\n    private someDAO SomeEntityDAO;\r\n\r\n\r\n    @Override\r\n    public boolean isValid(UUID id, ConstraintValidatorContext constraintValidatorContext) {\r\n        checkForEntity(id, someDAO);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAs you can see, there is only a single validator defined and there doesn&#39;t seem to be any obvious problem with it. This code was in use for about half a year without triggering this error... \r\n\r\n\r\n\r\nAfter multiple attempts at finding the cause, I&#39;ve noticed that the validation annotation is only ever used for parameter and never for a field, so I&#39;ve modified it like this:\r\n\r\nValidation:\r\n```\r\n@Constraint(validatedBy = ExistsSomeEntityValidator.class)\r\n@Target(ElementType.PARAMETER)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface ExistsSomeEntity {\r\n\r\n    String message() default &quot;{error.validation.ExistsSomeEntity.message}&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default { };\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default { };\r\n}\r\n```\r\n\r\nValidator:\r\n\r\n```\r\n@RequiredArgsConstructor\r\npublic class ExistsSomeEntityValidator implements ConstraintValidator&lt;ExistsSomeEntity, UUID&gt; {\r\n\r\n    private final someDAO SomeEntityDAO;\r\n\r\n    @Override\r\n    public boolean isValid(UUID id, ConstraintValidatorContext constraintValidatorContext) {\r\n        checkForEntity(id, someDAO);\r\n    }\r\n}\r\n```\r\nGetting rid of the @Autowired and using Lombok seems to have solved the issue, as the validation works as intended now, but I can&#39;t find any reason, why it would behave like that. I can&#39;t imagine that somebody not using Lombok would be prevented from using annotation validators in Spring. Any ideas? \r\n","title":"Error &#39;Constraint defines multiple validators for the type java.util.UUID&quot;, despite using only a single validator","body":"<p>I've discovered a weird Spring bug or at least a strange behavior when investigating a bug in our project. At runtime, whenever somebody called one particular endpoint, they got back error 500 with cause being:</p>\n<blockquote>\n<p>&quot;ExistsSomeEntity defines multiple validators for the type java.util.UUID: com.example.validation.ExistsSomeEntityValidator, com.example.validation.ExistsSomeEntityValidator. Only one is allowed</p>\n</blockquote>\n<p>The code of the method called by the endpoint is as such:</p>\n<pre><code>public void doSomethingWithAnEntity(@ExistsSomeEntity UUID id, WhatToDoRequest request) {\ndoSomething(id,request);\n    }\n</code></pre>\n<p>Validation:</p>\n<pre><code>@Constraint(validatedBy = ExistsSomeEntityValidator.class)\n@Target({ElementType.PARAMETER, ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ExistsSomeEntity {\n\n    String message() default &quot;{error.validation.ExistsSomeEntity.message}&quot;;\n\n    Class&lt;?&gt;[] groups() default { };\n\n    Class&lt;? extends Payload&gt;[] payload() default { };\n}\n</code></pre>\n<p>Validator:</p>\n<pre><code>public class ExistsSomeEntityValidator implements ConstraintValidator&lt;ExistsSomeEntity, UUID&gt; {\n\n    @SuppressWarnings(&quot;SpringJavaInjectionPointsAutowiringInspection&quot;)\n    @Autowired\n    private someDAO SomeEntityDAO;\n\n\n    @Override\n    public boolean isValid(UUID id, ConstraintValidatorContext constraintValidatorContext) {\n        checkForEntity(id, someDAO);\n    }\n}\n\n</code></pre>\n<p>As you can see, there is only a single validator defined and there doesn't seem to be any obvious problem with it. This code was in use for about half a year without triggering this error...</p>\n<p>After multiple attempts at finding the cause, I've noticed that the validation annotation is only ever used for parameter and never for a field, so I've modified it like this:</p>\n<p>Validation:</p>\n<pre><code>@Constraint(validatedBy = ExistsSomeEntityValidator.class)\n@Target(ElementType.PARAMETER)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ExistsSomeEntity {\n\n    String message() default &quot;{error.validation.ExistsSomeEntity.message}&quot;;\n\n    Class&lt;?&gt;[] groups() default { };\n\n    Class&lt;? extends Payload&gt;[] payload() default { };\n}\n</code></pre>\n<p>Validator:</p>\n<pre><code>@RequiredArgsConstructor\npublic class ExistsSomeEntityValidator implements ConstraintValidator&lt;ExistsSomeEntity, UUID&gt; {\n\n    private final someDAO SomeEntityDAO;\n\n    @Override\n    public boolean isValid(UUID id, ConstraintValidatorContext constraintValidatorContext) {\n        checkForEntity(id, someDAO);\n    }\n}\n</code></pre>\n<p>Getting rid of the @Autowired and using Lombok seems to have solved the issue, as the validation works as intended now, but I can't find any reason, why it would behave like that. I can't imagine that somebody not using Lombok would be prevented from using annotation validators in Spring. Any ideas?</p>\n"},{"tags":["java","hibernate","jpa","hibernate-mapping","hibernate-annotations"],"answers":[{"comments":[{"owner":{"account_id":2087330,"reputation":413,"user_id":1857975,"display_name":"Philiph Bruno"},"score":0,"creation_date":1354054850,"post_id":13594108,"comment_id":18634471,"body_markdown":"Unfortunately it didn&#39;t help. Only BIT type has changed to TINYINT in database. But all the same it&#39;s not received the default value. Thanks for your suggestion!","body":"Unfortunately it didn&#39;t help. Only BIT type has changed to TINYINT in database. But all the same it&#39;s not received the default value. Thanks for your suggestion!"},{"owner":{"account_id":2087330,"reputation":413,"user_id":1857975,"display_name":"Philiph Bruno"},"score":0,"creation_date":1354055745,"post_id":13594108,"comment_id":18634778,"body_markdown":"Yes, of course. I still use **create-drop** of `hibernate.hbm2ddl.auto` in test mode. And now I have `IS_ACTIVE TINYINT(1) NOT NULL DEFAULT &#39;0&#39;,` in database. It&#39;s very well! But why is default value NULL? Do you have any ideas?","body":"Yes, of course. I still use <b>create-drop</b> of <code>hibernate.hbm2ddl.auto</code> in test mode. And now I have <code>IS_ACTIVE TINYINT(1) NOT NULL DEFAULT &#39;0&#39;,</code> in database. It&#39;s very well! But why is default value NULL? Do you have any ideas?"},{"owner":{"account_id":2087330,"reputation":413,"user_id":1857975,"display_name":"Philiph Bruno"},"score":1,"creation_date":1354055968,"post_id":13594108,"comment_id":18634859,"body_markdown":"And I again get the exception `com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column &#39;IS_ACTIVE&#39; cannot be null` when I am trying to save an instance of this class...","body":"And I again get the exception <code>com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViol&zwnj;&#8203;ationException: Column &#39;IS_ACTIVE&#39; cannot be null</code> when I am trying to save an instance of this class..."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1354056085,"post_id":13594108,"comment_id":18634904,"body_markdown":"Try to initialize boolean value in class as well. Updated my asnwer.","body":"Try to initialize boolean value in class as well. Updated my asnwer."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1354056276,"post_id":13594108,"comment_id":18634969,"body_markdown":"Or change Boolean to primitive boolean.","body":"Or change Boolean to primitive boolean."},{"owner":{"account_id":2087330,"reputation":413,"user_id":1857975,"display_name":"Philiph Bruno"},"score":0,"creation_date":1354056547,"post_id":13594108,"comment_id":18635069,"body_markdown":"It&#39;s work properly. Thank you! Is this approach  good practice? (initialize a variable in the Java code and not in the database) Or is this issue cannot be solved by different way?","body":"It&#39;s work properly. Thank you! Is this approach  good practice? (initialize a variable in the Java code and not in the database) Or is this issue cannot be solved by different way?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1354096305,"post_id":13594108,"comment_id":18647040,"body_markdown":"If you want to set default to some entity variable you need to do it in Java code and in database. Then you need not worry about how do you put your object to database by executing SQL `insert` or persisting entity with ORM.","body":"If you want to set default to some entity variable you need to do it in Java code and in database. Then you need not worry about how do you put your object to database by executing SQL <code>insert</code> or persisting entity with ORM."},{"owner":{"account_id":992337,"reputation":158,"user_id":1009245,"display_name":"Osama.070032"},"score":0,"creation_date":1583245042,"post_id":13594108,"comment_id":107045607,"body_markdown":"@AleksandrM but wouldn&#39;t that create a maintenance overhead, it will be maintained in both db and java code ?","body":"@AleksandrM but wouldn&#39;t that create a maintenance overhead, it will be maintained in both db and java code ?"}],"tags":[],"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"comment_count":8,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1354056050,"creation_date":1354054419,"answer_id":13594108,"question_id":13593990,"body_markdown":"Try using `BOOLEAN` data type, define your `@Column` annotation like that:\r\n\r\n    @Column(name = &quot;IS_ACTIVE&quot;, columnDefinition = &quot;boolean default true&quot;, nullable = false)\r\n    private Boolean active = true;","title":"Doesn&#39;t work setting default value of property in Hibernate","body":"<p>Try using <code>BOOLEAN</code> data type, define your <code>@Column</code> annotation like that:</p>\n\n<pre><code>@Column(name = \"IS_ACTIVE\", columnDefinition = \"boolean default true\", nullable = false)\nprivate Boolean active = true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1916933,"reputation":8906,"user_id":1729347,"display_name":"Peter Tadros"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398852756,"creation_date":1398852756,"answer_id":23385365,"question_id":13593990,"body_markdown":"reference to the correct answer in this link [How to set default value in Hibernate][1]\r\n\r\nIf you want a real database default value, use columnDefinition - @Column(name = “myColumn”, nullable = false, columnDefinition = “int default 100&quot;). Notice that the string in columnDefinition is database dependent. Also if you choose this option, **you have to use dynamic-insert, so Hibernate doesn&#39;t include columns with null values on insert. Otherwise talking about default is irrelevant.**\r\n\r\nThe key of the solution is dynamic-insert annotation. You can add it to your entity class as this example: `@org.hibernate.annotations.Entity(dynamicInsert = true)`\r\n\r\n  [1]: https://stackoverflow.com/questions/3110266/how-to-set-default-value-in-hibernate","title":"Doesn&#39;t work setting default value of property in Hibernate","body":"<p>reference to the correct answer in this link <a href=\"https://stackoverflow.com/questions/3110266/how-to-set-default-value-in-hibernate\">How to set default value in Hibernate</a></p>\n\n<p>If you want a real database default value, use columnDefinition - @Column(name = “myColumn”, nullable = false, columnDefinition = “int default 100\"). Notice that the string in columnDefinition is database dependent. Also if you choose this option, <strong>you have to use dynamic-insert, so Hibernate doesn't include columns with null values on insert. Otherwise talking about default is irrelevant.</strong></p>\n\n<p>The key of the solution is dynamic-insert annotation. You can add it to your entity class as this example: <code>@org.hibernate.annotations.Entity(dynamicInsert = true)</code></p>\n"}],"owner":{"account_id":2087330,"reputation":413,"user_id":1857975,"display_name":"Philiph Bruno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50394,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":13594108,"answer_count":2,"score":19,"last_activity_date":1693985139,"creation_date":1354053930,"question_id":13593990,"body_markdown":"I have a boolean property in my entity. Here&#39;s my annotations for it:\r\n\r\n    \r\n    @Column(name = &quot;IS_ACTIVE&quot;, nullable = false, columnDefinition=&quot;BIT DEFAULT 1&quot;, length = 1)\r\n    public Boolean getActive() {\r\n        return isActive;\r\n    }\r\n\r\nBut `columnDefinition=&quot;BIT DEFAULT 1&quot;` doen&#39;t work perfectly. Here&#39;s SQL code I get as result for generated table:\r\n\r\n    IS_ACTIVE BIT(1) NOT NULL,\r\n\r\nWhat am I doing wrong?\r\n\r\nAnd so when I try to save an instance of this class to the database  I get the exception:\r\n\r\n    `com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column &#39;IS_ACTIVE&#39; cannot be null`\r\n\r\nIf I remove `nullable = false` property:\r\n\r\n    @Column(name = &quot;IS_ACTIVE&quot;, columnDefinition=&quot;BIT DEFAULT 1&quot;, length = 1)\r\n    public Boolean getActive() {\r\n        return isActive;\r\n    }\r\n\r\nso I can save a created object in this case. But it&#39;s still the **default value is not set** and I get NULL in the value of this field in database.\r\n\r\nAny ideas please? I use MySQL Server 5.1 if it&#39;s important. I would be very grateful for any help. Thanks in advance!\r\n    ","title":"Doesn&#39;t work setting default value of property in Hibernate","body":"<p>I have a boolean property in my entity. Here's my annotations for it:</p>\n\n<pre><code>@Column(name = \"IS_ACTIVE\", nullable = false, columnDefinition=\"BIT DEFAULT 1\", length = 1)\npublic Boolean getActive() {\n    return isActive;\n}\n</code></pre>\n\n<p>But <code>columnDefinition=\"BIT DEFAULT 1\"</code> doen't work perfectly. Here's SQL code I get as result for generated table:</p>\n\n<pre><code>IS_ACTIVE BIT(1) NOT NULL,\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>And so when I try to save an instance of this class to the database  I get the exception:</p>\n\n<pre><code>`com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'IS_ACTIVE' cannot be null`\n</code></pre>\n\n<p>If I remove <code>nullable = false</code> property:</p>\n\n<pre><code>@Column(name = \"IS_ACTIVE\", columnDefinition=\"BIT DEFAULT 1\", length = 1)\npublic Boolean getActive() {\n    return isActive;\n}\n</code></pre>\n\n<p>so I can save a created object in this case. But it's still the <strong>default value is not set</strong> and I get NULL in the value of this field in database.</p>\n\n<p>Any ideas please? I use MySQL Server 5.1 if it's important. I would be very grateful for any help. Thanks in advance!</p>\n"},{"tags":["java","azure-sql-database","azure-aks","azure-managed-identity"],"comments":[{"owner":{"account_id":5210616,"reputation":26054,"user_id":4167200,"accept_rate":91,"display_name":"Thomas"},"score":0,"creation_date":1693942964,"post_id":77047099,"comment_id":135825545,"body_markdown":"So you d like to have a single managed identity with multiple sql role or multiple managed identity with a single sql role ?","body":"So you d like to have a single managed identity with multiple sql role or multiple managed identity with a single sql role ?"},{"owner":{"account_id":9021500,"reputation":720,"user_id":6814764,"display_name":"Debugger"},"score":0,"creation_date":1693962469,"post_id":77047099,"comment_id":135827804,"body_markdown":"Hi, Multiple or single mange’s identity with multiple roles(reader,Admin)would be helpful","body":"Hi, Multiple or single mange’s identity with multiple roles(reader,Admin)would be helpful"},{"owner":{"account_id":5210616,"reputation":26054,"user_id":4167200,"accept_rate":91,"display_name":"Thomas"},"score":0,"creation_date":1693964440,"post_id":77047099,"comment_id":135828009,"body_markdown":"ok so what did not work following the documentation ?","body":"ok so what did not work following the documentation ?"},{"owner":{"account_id":9021500,"reputation":720,"user_id":6814764,"display_name":"Debugger"},"score":0,"creation_date":1693965401,"post_id":77047099,"comment_id":135828089,"body_markdown":"In Above doc they suggested to use any one role only for single managed identity, like it might be reader or writer or admin. Since we are not passing the username or user I’d we are not able choose the user role via application.","body":"In Above doc they suggested to use any one role only for single managed identity, like it might be reader or writer or admin. Since we are not passing the username or user I’d we are not able choose the user role via application."},{"owner":{"account_id":9021500,"reputation":720,"user_id":6814764,"display_name":"Debugger"},"score":0,"creation_date":1693965558,"post_id":77047099,"comment_id":135828093,"body_markdown":"For example - we need to use same database with different roles via password  less authentication for different app which we hosted in AKS.  Currently it’s taking managed identity user, we could able to set db permissions but we couldn’t able use multiple user roles like I mentioned above","body":"For example - we need to use same database with different roles via password  less authentication for different app which we hosted in AKS.  Currently it’s taking managed identity user, we could able to set db permissions but we couldn’t able use multiple user roles like I mentioned above"},{"owner":{"account_id":5210616,"reputation":26054,"user_id":4167200,"accept_rate":91,"display_name":"Thomas"},"score":0,"creation_date":1693965812,"post_id":77047099,"comment_id":135828111,"body_markdown":"sorry i dont really understand you mean. do you have script to share to explain what is not working ?","body":"sorry i dont really understand you mean. do you have script to share to explain what is not working ?"},{"owner":{"account_id":9021500,"reputation":720,"user_id":6814764,"display_name":"Debugger"},"score":0,"creation_date":1693977435,"post_id":77047099,"comment_id":135828972,"body_markdown":"Sorry for that, I will update the question with detail diagram shortly, mean time I will explain you, In above document link(question) they mentioned script for db user creation and permission, we need two separate users like below for same database\n\nalter role db_datareader add member [&lt;read-user&gt;];\nalter role db_datawriter add member [&lt;write-user&gt;];\n\nbut unfortunately we are not sure how to achieve that using aks managed identity","body":"Sorry for that, I will update the question with detail diagram shortly, mean time I will explain you, In above document link(question) they mentioned script for db user creation and permission, we need two separate users like below for same database  alter role db_datareader add member [&lt;read-user&gt;]; alter role db_datawriter add member [&lt;write-user&gt;];  but unfortunately we are not sure how to achieve that using aks managed identity"},{"owner":{"account_id":5210616,"reputation":26054,"user_id":4167200,"accept_rate":91,"display_name":"Thomas"},"score":0,"creation_date":1693978575,"post_id":77047099,"comment_id":135829081,"body_markdown":"did you create the two sql users: `create user [&lt;managed-identity-name1&gt;] from external provider;` ?","body":"did you create the two sql users: <code>create user [&lt;managed-identity-name1&gt;] from external provider;</code> ?"},{"owner":{"account_id":9021500,"reputation":720,"user_id":6814764,"display_name":"Debugger"},"score":0,"creation_date":1693980003,"post_id":77047099,"comment_id":135829245,"body_markdown":"Only one managed-idenity will be mapped to AKS cluster right ? So not sure how to create another managed identity and map it via app ?  Shall we create two managed identity for single cluster ? Any way to tell app like which user to choose explicitly ?","body":"Only one managed-idenity will be mapped to AKS cluster right ? So not sure how to create another managed identity and map it via app ?  Shall we create two managed identity for single cluster ? Any way to tell app like which user to choose explicitly ?"},{"owner":{"account_id":5210616,"reputation":26054,"user_id":4167200,"accept_rate":91,"display_name":"Thomas"},"score":0,"creation_date":1693982075,"post_id":77047099,"comment_id":135829516,"body_markdown":"each pod/app can use it&#39;s own identity so it s not a problem.","body":"each pod/app can use it&#39;s own identity so it s not a problem."},{"owner":{"account_id":5210616,"reputation":26054,"user_id":4167200,"accept_rate":91,"display_name":"Thomas"},"score":0,"creation_date":1693982119,"post_id":77047099,"comment_id":135829526,"body_markdown":"See the documentation here: https://learn.microsoft.com/en-us/azure/aks/workload-identity-overview?tabs=dotnet","body":"See the documentation here: <a href=\"https://learn.microsoft.com/en-us/azure/aks/workload-identity-overview?tabs=dotnet\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/aks/&hellip;</a>"}],"owner":{"account_id":9021500,"reputation":720,"user_id":6814764,"display_name":"Debugger"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693985007,"creation_date":1693940245,"question_id":77047099,"body_markdown":"I&#39;m working on implementing Azure passwordless authentication for my Java app, which is hosted on AKS, and I&#39;m using Azure SQL Single Database. I was able to achieve this by following the steps outlined in this article:\r\n\r\nhttps://learn.microsoft.com/en-us/samples/azure-samples/azure-sql-db-who-am-i/azure-sql-db-passwordless-connections/\r\n\r\nHowever, I&#39;ve encountered an issue where I can&#39;t use multiple database accounts with different roles (such as reader role or admin role) for the same database using Managed Identity. I&#39;m wondering if there are any possibilities to map multiple managed identities for different roles in passwordless authentication?\r\n\r\nAny suggestions would be greatly appreciated.\r\n\r\nThank you!&quot;\r\n","title":"Azure SQL password less authentication with multiple user role","body":"<p>I'm working on implementing Azure passwordless authentication for my Java app, which is hosted on AKS, and I'm using Azure SQL Single Database. I was able to achieve this by following the steps outlined in this article:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/samples/azure-samples/azure-sql-db-who-am-i/azure-sql-db-passwordless-connections/\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/samples/azure-samples/azure-sql-db-who-am-i/azure-sql-db-passwordless-connections/</a></p>\n<p>However, I've encountered an issue where I can't use multiple database accounts with different roles (such as reader role or admin role) for the same database using Managed Identity. I'm wondering if there are any possibilities to map multiple managed identities for different roles in passwordless authentication?</p>\n<p>Any suggestions would be greatly appreciated.</p>\n<p>Thank you!&quot;</p>\n"},{"tags":["java","wix","jpackage"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684752824,"post_id":76305166,"comment_id":134557897,"body_markdown":"If you&#39;re intending to create a 32-bit installer, I&#39;m guessing you&#39;re going to have to do that on a 32 machine with an appropriate JDK. Hope you can find one with jpackage","body":"If you&#39;re intending to create a 32-bit installer, I&#39;m guessing you&#39;re going to have to do that on a 32 machine with an appropriate JDK. Hope you can find one with jpackage"},{"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"score":1,"creation_date":1684753831,"post_id":76305166,"comment_id":134558081,"body_markdown":"yes, i created a 32bit jvm and using a 32bit openjdk version with jpackage. That&#39;s the starting point of the question","body":"yes, i created a 32bit jvm and using a 32bit openjdk version with jpackage. That&#39;s the starting point of the question"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684754362,"post_id":76305166,"comment_id":134558169,"body_markdown":"Confusion: you *created* a 32 bit vm, not a jvm ;) I&#39;m saying you might need 32-bit metal, not virtualization. Even if you *could* get it to work, it wouldn&#39;t be as trustworthy","body":"Confusion: you <i>created</i> a 32 bit vm, not a jvm ;) I&#39;m saying you might need 32-bit metal, not virtualization. Even if you <i>could</i> get it to work, it wouldn&#39;t be as trustworthy"},{"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"score":0,"creation_date":1684758975,"post_id":76305166,"comment_id":134559150,"body_markdown":"No confusion: I created a 32bit VM of windows 10, then I downloaded a version of the jdk 15 that is x86 https://www.azul.com/downloads/?version=java-15-mts&amp;os=windows&amp;architecture=x86-32-bit#zulu and went through jpackage. The issue here is with jpackage that creates a x64 installer (see the command -arch !)","body":"No confusion: I created a 32bit VM of windows 10, then I downloaded a version of the jdk 15 that is x86 <a href=\"https://www.azul.com/downloads/?version=java-15-mts&amp;os=windows&amp;architecture=x86-32-bit#zulu\" rel=\"nofollow noreferrer\">azul.com/downloads/&hellip;</a> and went through jpackage. The issue here is with jpackage that creates a x64 installer (see the command -arch !)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684759617,"post_id":76305166,"comment_id":134559271,"body_markdown":"If your x86 jpackage cannot create a 32 bit installer, then you&#39;ll need to fall back on 3rd party tools","body":"If your x86 jpackage cannot create a 32 bit installer, then you&#39;ll need to fall back on 3rd party tools"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1684765178,"post_id":76305166,"comment_id":134560552,"body_markdown":"There&#39;s code that should handle this in jpackage: https://github.com/openjdk/jdk/blob/master/src/jdk.jpackage/windows/classes/jdk/jpackage/internal/WixFragmentBuilder.java#L104 If you launch `jshell` from the x86 JDK, and enter `System.getProperty(&quot;os.arch&quot;)` what does it print?","body":"There&#39;s code that should handle this in jpackage: <a href=\"https://github.com/openjdk/jdk/blob/master/src/jdk.jpackage/windows/classes/jdk/jpackage/internal/WixFragmentBuilder.java#L104\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/jdk.jpackage/windows/&zwnj;&#8203;&hellip;</a> If you launch <code>jshell</code> from the x86 JDK, and enter <code>System.getProperty(&quot;os.arch&quot;)</code> what does it print?"},{"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"score":0,"creation_date":1684768813,"post_id":76305166,"comment_id":134561451,"body_markdown":"Thanks, I&#39;ll try to launch it but i&#39;m quite sure it will give x86. On this, I see from the commits that the file has been added in 2021, so maybe it is not part of jdk15, so i&#39;ll have to find out since when it has been added!","body":"Thanks, I&#39;ll try to launch it but i&#39;m quite sure it will give x86. On this, I see from the commits that the file has been added in 2021, so maybe it is not part of jdk15, so i&#39;ll have to find out since when it has been added!"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1684769791,"post_id":76305166,"comment_id":134561667,"body_markdown":"You&#39;re right, it was fixed in JDK 17: https://bugs.openjdk.org/browse/JDK-8258755 If you&#39;re an Azul customer, you might be able to ask them to backport the fix to JDK 15.","body":"You&#39;re right, it was fixed in JDK 17: <a href=\"https://bugs.openjdk.org/browse/JDK-8258755\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8258755</a> If you&#39;re an Azul customer, you might be able to ask them to backport the fix to JDK 15."},{"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"score":0,"creation_date":1684826845,"post_id":76305166,"comment_id":134569723,"body_markdown":"Ok, it should not be a problem as I can use JDK 17 to build the package but attach my custom created runtime with java15! Thank you very much for the link!","body":"Ok, it should not be a problem as I can use JDK 17 to build the package but attach my custom created runtime with java15! Thank you very much for the link!"},{"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"score":0,"creation_date":1684859776,"post_id":76305166,"comment_id":134577835,"body_markdown":"I tried with Zulu jdk17 32bit but was not successful, Zulu says 17.0.7 and looking at the commits it seems a newer version... I&#39;ll try to find another jdk or search for a jdk 19! I&#39;ll try temurin jdk 18 or 19. Let&#39;s see!","body":"I tried with Zulu jdk17 32bit but was not successful, Zulu says 17.0.7 and looking at the commits it seems a newer version... I&#39;ll try to find another jdk or search for a jdk 19! I&#39;ll try temurin jdk 18 or 19. Let&#39;s see!"},{"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"score":0,"creation_date":1684867809,"post_id":76305166,"comment_id":134579356,"body_markdown":"Nothing to do, now jdks 17,18 and 19 correctly call &quot;candle&quot; with arch -x86 but the installer hangs (a small window opens for some milliseconds then hides and I see the process in activity manager). I&#39;ll give up and go for Innosetup if noone have clues... \nToo bad, the 32bit installer works on my Windows11 64bit machine (saying it is 32bit), so I dont&#39; know what to do","body":"Nothing to do, now jdks 17,18 and 19 correctly call &quot;candle&quot; with arch -x86 but the installer hangs (a small window opens for some milliseconds then hides and I see the process in activity manager). I&#39;ll give up and go for Innosetup if noone have clues...  Too bad, the 32bit installer works on my Windows11 64bit machine (saying it is 32bit), so I dont&#39; know what to do"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693987932,"post_id":77049761,"comment_id":135830505,"body_markdown":"My guess is that you didn&#39;t have the correct/latest versions of .NET and supporting software","body":"My guess is that you didn&#39;t have the correct/latest versions of .NET and supporting software"},{"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"score":1,"creation_date":1694005598,"post_id":77049761,"comment_id":135834214,"body_markdown":"Don&#39;t think so, the problem was on jpackage not sending correct arch, then there was something on the created installer (hangs), so Innosetup helped.\nThe funny thing is that the 32bit exe works on x64 machine but not on 32bit. Funny :D","body":"Don&#39;t think so, the problem was on jpackage not sending correct arch, then there was something on the created installer (hangs), so Innosetup helped. The funny thing is that the 32bit exe works on x64 machine but not on 32bit. Funny :D"}],"tags":[],"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693984830,"creation_date":1693984830,"answer_id":77049761,"question_id":76305166,"body_markdown":"I ended up using a different software for preparing the installer following the guide of the SweetHome3D ( https://sweethome3d.com/ ) creator:\r\n\r\nhttp://www.eteks.com/tips/tipCreationExe.html\r\n\r\nIt did not work using candle and wxs so there is no real solution, just the alternative for 32bit.","title":"jpackage (java15) can&#39;t create a Windows x86 Installer","body":"<p>I ended up using a different software for preparing the installer following the guide of the SweetHome3D ( <a href=\"https://sweethome3d.com/\" rel=\"nofollow noreferrer\">https://sweethome3d.com/</a> ) creator:</p>\n<p><a href=\"http://www.eteks.com/tips/tipCreationExe.html\" rel=\"nofollow noreferrer\">http://www.eteks.com/tips/tipCreationExe.html</a></p>\n<p>It did not work using candle and wxs so there is no real solution, just the alternative for 32bit.</p>\n"}],"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77049761,"answer_count":1,"score":1,"last_activity_date":1693984830,"creation_date":1684750694,"question_id":76305166,"body_markdown":"I tried a lot of different approaches but always failed.\r\n\r\nI successfully generated an x64 installer for my java jar (spring boot runnable), but I&#39;m unable to create the x86 version of the installer.\r\n\r\nAfter moving to a x86 virtual machine, I downloaded the zulu jdk 15 whom is able to run my software (manually), so I tried to run the jpackage tool, but it creates an installer for an x64 system.\r\n\r\nAs I could not find any additional parameter, i tried to verbose log the jpackage tool and found that &#39;candle&#39; is called with the wrong arch (I replaced paths and variables to shorten path!\r\n```\r\n [candle.exe, -nologo, TMPDIR\\config\\main.wxs,\r\n -ext, WixUtilExtension, -arch, x64, \r\n -out, TMPDIR\\wixobj\\main.wixobj,\r\n -dJpAppDescription=DESCRIPTION, -dJpProductCode=UUID, -dJpAppName=APPNAME, \r\n -dJpIsSystemWide=yes, -dJpAllowDowngrades=yes, -dJpIcon=TMPDIR\\images\\win-msi.image\\APPNAME\\APPNAME.exe, \r\n -dJpAppVersion=1.0.0, -dJpInstallDirChooser=yes, -dJpAllowUpgrades=yes, -dJpProductUpgradeCode=UUID2,\r\n -dJpAppVendor=VENDOR, -dJpConfigDir=TMPDIR\\config]\r\n```\r\n\r\nif I manually launch the command with -arch x86 it fails telling that Intelx64 files are missing (there is a preparation of wxs file before candle i suppose).\r\n\r\nDoes anyone fixed this issue?","title":"jpackage (java15) can&#39;t create a Windows x86 Installer","body":"<p>I tried a lot of different approaches but always failed.</p>\n<p>I successfully generated an x64 installer for my java jar (spring boot runnable), but I'm unable to create the x86 version of the installer.</p>\n<p>After moving to a x86 virtual machine, I downloaded the zulu jdk 15 whom is able to run my software (manually), so I tried to run the jpackage tool, but it creates an installer for an x64 system.</p>\n<p>As I could not find any additional parameter, i tried to verbose log the jpackage tool and found that 'candle' is called with the wrong arch (I replaced paths and variables to shorten path!</p>\n<pre><code> [candle.exe, -nologo, TMPDIR\\config\\main.wxs,\n -ext, WixUtilExtension, -arch, x64, \n -out, TMPDIR\\wixobj\\main.wixobj,\n -dJpAppDescription=DESCRIPTION, -dJpProductCode=UUID, -dJpAppName=APPNAME, \n -dJpIsSystemWide=yes, -dJpAllowDowngrades=yes, -dJpIcon=TMPDIR\\images\\win-msi.image\\APPNAME\\APPNAME.exe, \n -dJpAppVersion=1.0.0, -dJpInstallDirChooser=yes, -dJpAllowUpgrades=yes, -dJpProductUpgradeCode=UUID2,\n -dJpAppVendor=VENDOR, -dJpConfigDir=TMPDIR\\config]\n</code></pre>\n<p>if I manually launch the command with -arch x86 it fails telling that Intelx64 files are missing (there is a preparation of wxs file before candle i suppose).</p>\n<p>Does anyone fixed this issue?</p>\n"},{"tags":["java","hdf5"],"answers":[{"comments":[{"owner":{"account_id":1186865,"reputation":742,"user_id":1160650,"accept_rate":80,"display_name":"HigiPha"},"score":0,"creation_date":1421858473,"post_id":28071383,"comment_id":44524106,"body_markdown":"Thank you for your answer! Alas, this is not the setup I was looking for, and perhaps I was too vague in my question (which I will edit later when I have time). The key thing is that the values need to correspond to the names. When I write to my log file, the values should be inserted in a new row and each value in their corresponding name column.","body":"Thank you for your answer! Alas, this is not the setup I was looking for, and perhaps I was too vague in my question (which I will edit later when I have time). The key thing is that the values need to correspond to the names. When I write to my log file, the values should be inserted in a new row and each value in their corresponding name column."}],"tags":[],"owner":{"account_id":5452365,"reputation":490,"user_id":4336776,"display_name":"Aaryn Tonita"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421855525,"creation_date":1421855525,"answer_id":28071383,"question_id":28067732,"body_markdown":"I don&#39;t think that will work. It is not quite clear to me, but I believe the getInferredType() you are using is creating a data set with 2 name -&gt; value entries. So it is effectively creating an object inside the hdf5. The best solution I could come up with was to read the previous values add them to the valueList before outputting:\r\n\r\n        ArrayList&lt;String&gt; valueList = new ArrayList&lt;&gt;();\r\n\r\n        valueList.add(&quot;Value1&quot;);\r\n        valueList.add(&quot;Value2&quot;);\r\n\r\n        try (IHDF5Reader reader = HDF5Factory.configure(&quot;My_Log.h5&quot;).reader()) {\r\n            String[] previous = reader.string().readArray(&quot;log1&quot;);\r\n            for (int i = 0; i &lt; previous.length; i++) {\r\n                valueList.add(i, previous[i]);\r\n            }\r\n        } catch (HDF5FileNotFoundException ex) {\r\n            // Nothing to do here.\r\n        }\r\n\r\n        MDArray&lt;String&gt; values = new MDArray&lt;&gt;(String.class, new long[]{valueList.size()});\r\n        for (int i = 0; i &lt; valueList.size(); i++) {\r\n            values.set(valueList.get(i), i);\r\n        }\r\n\r\n        try (IHDF5Writer writer = HDF5Factory.configure(&quot;My_Log.h5&quot;).writer()) {\r\n            writer.string().writeMDArray(&quot;log1&quot;, values);\r\n        }\r\n\r\nIf you call this code a second time with &quot;Value3&quot; and &quot;Value4&quot; instead, you will get 4 values. This sort of solution might become unpleasant if you start to have hierarchies of datasets however.","title":"JHDF5 - How to avoid dataset being overwritten","body":"<p>I don't think that will work. It is not quite clear to me, but I believe the getInferredType() you are using is creating a data set with 2 name -> value entries. So it is effectively creating an object inside the hdf5. The best solution I could come up with was to read the previous values add them to the valueList before outputting:</p>\n\n<pre><code>    ArrayList&lt;String&gt; valueList = new ArrayList&lt;&gt;();\n\n    valueList.add(\"Value1\");\n    valueList.add(\"Value2\");\n\n    try (IHDF5Reader reader = HDF5Factory.configure(\"My_Log.h5\").reader()) {\n        String[] previous = reader.string().readArray(\"log1\");\n        for (int i = 0; i &lt; previous.length; i++) {\n            valueList.add(i, previous[i]);\n        }\n    } catch (HDF5FileNotFoundException ex) {\n        // Nothing to do here.\n    }\n\n    MDArray&lt;String&gt; values = new MDArray&lt;&gt;(String.class, new long[]{valueList.size()});\n    for (int i = 0; i &lt; valueList.size(); i++) {\n        values.set(valueList.get(i), i);\n    }\n\n    try (IHDF5Writer writer = HDF5Factory.configure(\"My_Log.h5\").writer()) {\n        writer.string().writeMDArray(\"log1\", values);\n    }\n</code></pre>\n\n<p>If you call this code a second time with \"Value3\" and \"Value4\" instead, you will get 4 values. This sort of solution might become unpleasant if you start to have hierarchies of datasets however.</p>\n"},{"tags":[],"owner":{"account_id":9685157,"reputation":884,"user_id":7185263,"display_name":"SOG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693984428,"creation_date":1625215615,"answer_id":68222236,"question_id":28067732,"body_markdown":"To solve your issue, you need to define the dataset `log1` as extendible so that it can store an unknown number of log entries (that are generated over time) and write these using a point or hyperslab selection (otherwise, the dataset will be overwritten).\r\n\r\nIf you are not bound to a specific technology to handle HDF5 files, you may wish to give a look at [HDFql][1] which is an high-level language to manage HDF5 files easily. A possible solution for your use-case using HDFql (in Java) is:\r\n\r\n    public class Example\r\n    {\r\n\r\n        public Class Log\r\n        {\r\n            String name1;\r\n            String name2;\r\n        }\r\n\r\n        public boolean doSomething(Log log)\r\n        {\r\n            log.name1 = &quot;Value1&quot;;\r\n            log.name2 = &quot;Value2&quot;;\r\n            return true;\r\n        }\r\n\r\n        public static void main(String args[])\r\n        {\r\n            // declare variables\r\n            Log log = new Log();\r\n            int variableNumber;\r\n\r\n            // create an HDF5 file named &#39;My_Log.h5&#39; and use (i.e. open) it\r\n            HDFql.execute(&quot;CREATE AND USE FILE My_Log.h5&quot;);\r\n\r\n            // create an extendible HDF5 dataset named &#39;log1&#39; of data type compound\r\n            HDFql.execute(&quot;CREATE DATASET log1 AS COMPOUND(name1 AS VARCHAR, name2 AS VARCHAR)(0 TO UNLIMITED)&quot;);\r\n\r\n            // register variable &#39;log&#39; for subsequent usage (by HDFql)\r\n\t\t    variableNumber = HDFql.variableRegister(log);\r\n\r\n            // call function &#39;doSomething&#39; that does something and populates variable &#39;log&#39; with an entry\r\n            while(doSomething(log))\r\n            {\r\n                // alter (i.e. extend) dataset &#39;log1&#39; to +1 (i.e. add a new row)\r\n\t\t\t    HDFql.execute(&quot;ALTER DIMENSION log1 TO +1&quot;);\r\n\r\n                // insert (i.e. write) data stored in variable &#39;log&#39; into dataset &#39;log1&#39; using a point selection\r\n\t\t\t    HDFql.execute(&quot;INSERT INTO log1[-1] VALUES FROM MEMORY &quot; + variableNumber);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://www.hdfql.com","title":"JHDF5 - How to avoid dataset being overwritten","body":"<p>To solve your issue, you need to define the dataset <code>log1</code> as extendible so that it can store an unknown number of log entries (that are generated over time) and write these using a point or hyperslab selection (otherwise, the dataset will be overwritten).</p>\n<p>If you are not bound to a specific technology to handle HDF5 files, you may wish to give a look at <a href=\"https://www.hdfql.com\" rel=\"nofollow noreferrer\">HDFql</a> which is an high-level language to manage HDF5 files easily. A possible solution for your use-case using HDFql (in Java) is:</p>\n<pre><code>public class Example\n{\n\n    public Class Log\n    {\n        String name1;\n        String name2;\n    }\n\n    public boolean doSomething(Log log)\n    {\n        log.name1 = &quot;Value1&quot;;\n        log.name2 = &quot;Value2&quot;;\n        return true;\n    }\n\n    public static void main(String args[])\n    {\n        // declare variables\n        Log log = new Log();\n        int variableNumber;\n\n        // create an HDF5 file named 'My_Log.h5' and use (i.e. open) it\n        HDFql.execute(&quot;CREATE AND USE FILE My_Log.h5&quot;);\n\n        // create an extendible HDF5 dataset named 'log1' of data type compound\n        HDFql.execute(&quot;CREATE DATASET log1 AS COMPOUND(name1 AS VARCHAR, name2 AS VARCHAR)(0 TO UNLIMITED)&quot;);\n\n        // register variable 'log' for subsequent usage (by HDFql)\n        variableNumber = HDFql.variableRegister(log);\n\n        // call function 'doSomething' that does something and populates variable 'log' with an entry\n        while(doSomething(log))\n        {\n            // alter (i.e. extend) dataset 'log1' to +1 (i.e. add a new row)\n            HDFql.execute(&quot;ALTER DIMENSION log1 TO +1&quot;);\n\n            // insert (i.e. write) data stored in variable 'log' into dataset 'log1' using a point selection\n            HDFql.execute(&quot;INSERT INTO log1[-1] VALUES FROM MEMORY &quot; + variableNumber);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1186865,"reputation":742,"user_id":1160650,"accept_rate":80,"display_name":"HigiPha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693984428,"creation_date":1421844758,"question_id":28067732,"body_markdown":"I am using JHDF5 to log a collection of values to a hdf5 file. I am currently using two ArrayLists to do this, one with the values and one with the names of the values. \r\n\r\n    ArrayList&lt;String&gt; valueList = new ArrayList&lt;String&gt;(); \r\n    ArrayList&lt;String&gt; nameList = new ArrayList&lt;String&gt;();\r\n    \r\n    valueList.add(&quot;Value1&quot;);\r\n    valueList.add(&quot;Value2&quot;);\r\n    nameList.add(&quot;Name1&quot;);\r\n    nameList.add(&quot;Name2&quot;);\r\n\r\n    IHDF5Writer writer = HDF5Factory.configure(&quot;My_Log&quot;).keepDataSetsIfTheyExist().writer();    \r\n    HDF5CompoundType&lt;List&lt;?&gt;&gt; type = writer.compound().getInferredType(&quot;&quot;, nameList, valueList);\t\t\r\n    \t\t\r\n    writer.compound().write(&quot;log1&quot;, type, valueList);\t\t\r\n    writer.close();\r\n\r\nThis will log the values in the correct way to the file My_Log and in the dataset &quot;log1&quot;. However, this example always overwrites the previous log of the values in the dataset &quot;log1&quot;. I want to be able to log to the same dataset everytime, adding the latest log to the next line/index of the dataset. For example, if I were to change the value of `&quot;Name2&quot;` to `&quot;Value3&quot;` and log the values, and then change `&quot;Name1&quot;` to `&quot;Value4&quot;` and `&quot;Name2&quot;` to `&quot;Value5&quot;` and log the values, the dataset should look like this: \r\n\r\n![enter image description here][1]\r\n\r\nI thought the `keepDataSetsIfTheyExist()` option to would prevent the dataset to be overwritten, but apparently it doesn&#39;t work that way.\r\n\r\nSomething similar to what I want can be achieved in some cases with `writer.compound().writeArrayBlock()`, and specify by what index the array block shall be written. However, this solution doesn&#39;t seem to be compatible with my current code, where I have to use lists for handling my data. \r\n\r\nIs there some option to achieve this that I have overlooked, or can&#39;t this be done with JHDF5?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qfXRD.png","title":"JHDF5 - How to avoid dataset being overwritten","body":"<p>I am using JHDF5 to log a collection of values to a hdf5 file. I am currently using two ArrayLists to do this, one with the values and one with the names of the values. </p>\n\n<pre><code>ArrayList&lt;String&gt; valueList = new ArrayList&lt;String&gt;(); \nArrayList&lt;String&gt; nameList = new ArrayList&lt;String&gt;();\n\nvalueList.add(\"Value1\");\nvalueList.add(\"Value2\");\nnameList.add(\"Name1\");\nnameList.add(\"Name2\");\n\nIHDF5Writer writer = HDF5Factory.configure(\"My_Log\").keepDataSetsIfTheyExist().writer();    \nHDF5CompoundType&lt;List&lt;?&gt;&gt; type = writer.compound().getInferredType(\"\", nameList, valueList);        \n\nwriter.compound().write(\"log1\", type, valueList);       \nwriter.close();\n</code></pre>\n\n<p>This will log the values in the correct way to the file My_Log and in the dataset \"log1\". However, this example always overwrites the previous log of the values in the dataset \"log1\". I want to be able to log to the same dataset everytime, adding the latest log to the next line/index of the dataset. For example, if I were to change the value of <code>\"Name2\"</code> to <code>\"Value3\"</code> and log the values, and then change <code>\"Name1\"</code> to <code>\"Value4\"</code> and <code>\"Name2\"</code> to <code>\"Value5\"</code> and log the values, the dataset should look like this: </p>\n\n<p><img src=\"https://i.stack.imgur.com/qfXRD.png\" alt=\"enter image description here\"></p>\n\n<p>I thought the <code>keepDataSetsIfTheyExist()</code> option to would prevent the dataset to be overwritten, but apparently it doesn't work that way.</p>\n\n<p>Something similar to what I want can be achieved in some cases with <code>writer.compound().writeArrayBlock()</code>, and specify by what index the array block shall be written. However, this solution doesn't seem to be compatible with my current code, where I have to use lists for handling my data. </p>\n\n<p>Is there some option to achieve this that I have overlooked, or can't this be done with JHDF5?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1693985094,"post_id":77049648,"comment_id":135829999,"body_markdown":"Can you control that writing process?","body":"Can you control that writing process?"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1693985216,"post_id":77049648,"comment_id":135830020,"body_markdown":"In general I suggest to make a list of files (including subfolders) ordered alphabetically: `/a/b/a.txt, /a/b/b.txt /a/c/c.txt` Compare the lists and find the diffs. Do you have any specific issue with an algorithm written in any particular programming language?","body":"In general I suggest to make a list of files (including subfolders) ordered alphabetically: <code>&#47;a&#47;b&#47;a.txt, &#47;a&#47;b&#47;b.txt &#47;a&#47;c&#47;c.txt</code> Compare the lists and find the diffs. Do you have any specific issue with an algorithm written in any particular programming language?"},{"owner":{"account_id":1305044,"reputation":8301,"user_id":1254208,"display_name":"GregHNZ"},"score":0,"creation_date":1693986895,"post_id":77049648,"comment_id":135830321,"body_markdown":"Is this a one-off process, or something you need to automate?  If it&#39;s a one-off I&#39;d use WinMerge which will tell you the dfference between the folders.   If you want to script it, check out `rdiff` - https://serverfault.com/questions/39534/best-way-to-compare-diff-a-full-directory-structure   If you need to do it regularly, could you use a version control system (like `git`) and get it to do it for you?","body":"Is this a one-off process, or something you need to automate?  If it&#39;s a one-off I&#39;d use WinMerge which will tell you the dfference between the folders.   If you want to script it, check out <code>rdiff</code> - <a href=\"https://serverfault.com/questions/39534/best-way-to-compare-diff-a-full-directory-structure\" title=\"best way to compare diff a full directory structure\">serverfault.com/questions/39534/&hellip;</a>   If you need to do it regularly, could you use a version control system (like <code>git</code>) and get it to do it for you?"},{"owner":{"account_id":28480293,"reputation":95,"user_id":21794356,"display_name":"Emiya Elien"},"score":0,"creation_date":1693986898,"post_id":77049648,"comment_id":135830322,"body_markdown":"the write process can&#39;t be controlled(at leaset i don&#39;t know how to control it), acutally I want to make this diff func working as fast as possible","body":"the write process can&#39;t be controlled(at leaset i don&#39;t know how to control it), acutally I want to make this diff func working as fast as possible"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1693991527,"post_id":77049648,"comment_id":135831268,"body_markdown":"Perhaps utilizing Java&#39;s [Watch Service API](https://docs.oracle.com/javase/tutorial/essential/io/notification.html#name) may be of some use. This could at least potentially let you know when changes are made which can then be acted upon.","body":"Perhaps utilizing Java&#39;s <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/notification.html#name\" rel=\"nofollow noreferrer\">Watch Service API</a> may be of some use. This could at least potentially let you know when changes are made which can then be acted upon."}],"owner":{"account_id":28480293,"reputation":95,"user_id":21794356,"display_name":"Emiya Elien"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693984294,"creation_date":1693983717,"question_id":77049648,"body_markdown":"Assume that we have a one-root file structure\r\n\r\n```\r\nrepository\r\n    |\r\n    |---com\r\n    |    |\r\n    |    |---google\r\n    |    |     |\r\n    |    |     |---cloud\r\n    |    |     |     |\r\n    |    |    ...   ...\r\n    |    |---github\r\n    |    |     |\r\n    |    |    ...\r\n    |   ...\r\n    |---org\r\n    |    |\r\n    |    |---spring\r\n    |    |     |\r\n    |    |     |---boot\r\n    |    |     |    |\r\n    |    |     |   ...\r\n    |    |     |---cloud\r\n    |    |     |    |\r\n    |    |     |   ...\r\n    |    |    ...\r\n    |   ...\r\n   ...\r\n```\r\n\r\nJust call it `folder A` to represent the root [repository] and [its structure]\r\n\r\nNow make a copy for folder A, and rename `folder B`. \r\n\r\nFolder B has the same structure as folder A, that means they all have folder com,org; \r\n\r\nin sub-folder com, they all have folder google,github; ... ; \r\n\r\nand in the bottom folder, they have the same file\r\n\r\nNow things have some changed, a process puts some new folder and file at folder A, such as\r\n\r\n`com/google/cloud/google-cloud-bom/0.146.0/google-cloud-bom-0.146.0.pom` \r\n\r\nwhich different from the existing structure \r\n\r\n`com/google/cloud.google-cloud-bom/0.141.0/google-cloud-bom-0.141.0.pom`\r\n\r\nand also new structure in root\r\n\r\n`io/minio/minio/8.5.1/minio-8.5.1.jar`\r\n\r\nI don&#39;t know how many files, folders, sub-folders have been added in folder A, but I would like to threw the duplicate file and empty folder to catch them. In above case, the target folder C would be like\r\n\r\n```\r\nrepository\r\n    |\r\n    |---com\r\n    |    |\r\n    |    |---google\r\n    |          |\r\n    |          |---cloud\r\n    |                |\r\n    |                |---google-cloud-bom\r\n    |                            |\r\n    |                            |---0.146.0\r\n    |                                   |\r\n    |                                   |---google-cloud-bom-0.146.0.pom\r\n    |---io\r\n        |\r\n        |---minio\r\n              |\r\n              |---minio\r\n                    |\r\n                    |---8.5.1\r\n                          |\r\n                          |---minio-8.5.1.jar\r\n```\r\n\r\nHow to operate the file system through powershell/java/python/others to achieve this function?","title":"How to do file system difference through program or script?","body":"<p>Assume that we have a one-root file structure</p>\n<pre><code>repository\n    |\n    |---com\n    |    |\n    |    |---google\n    |    |     |\n    |    |     |---cloud\n    |    |     |     |\n    |    |    ...   ...\n    |    |---github\n    |    |     |\n    |    |    ...\n    |   ...\n    |---org\n    |    |\n    |    |---spring\n    |    |     |\n    |    |     |---boot\n    |    |     |    |\n    |    |     |   ...\n    |    |     |---cloud\n    |    |     |    |\n    |    |     |   ...\n    |    |    ...\n    |   ...\n   ...\n</code></pre>\n<p>Just call it <code>folder A</code> to represent the root [repository] and [its structure]</p>\n<p>Now make a copy for folder A, and rename <code>folder B</code>.</p>\n<p>Folder B has the same structure as folder A, that means they all have folder com,org;</p>\n<p>in sub-folder com, they all have folder google,github; ... ;</p>\n<p>and in the bottom folder, they have the same file</p>\n<p>Now things have some changed, a process puts some new folder and file at folder A, such as</p>\n<p><code>com/google/cloud/google-cloud-bom/0.146.0/google-cloud-bom-0.146.0.pom</code></p>\n<p>which different from the existing structure</p>\n<p><code>com/google/cloud.google-cloud-bom/0.141.0/google-cloud-bom-0.141.0.pom</code></p>\n<p>and also new structure in root</p>\n<p><code>io/minio/minio/8.5.1/minio-8.5.1.jar</code></p>\n<p>I don't know how many files, folders, sub-folders have been added in folder A, but I would like to threw the duplicate file and empty folder to catch them. In above case, the target folder C would be like</p>\n<pre><code>repository\n    |\n    |---com\n    |    |\n    |    |---google\n    |          |\n    |          |---cloud\n    |                |\n    |                |---google-cloud-bom\n    |                            |\n    |                            |---0.146.0\n    |                                   |\n    |                                   |---google-cloud-bom-0.146.0.pom\n    |---io\n        |\n        |---minio\n              |\n              |---minio\n                    |\n                    |---8.5.1\n                          |\n                          |---minio-8.5.1.jar\n</code></pre>\n<p>How to operate the file system through powershell/java/python/others to achieve this function?</p>\n"},{"tags":["java","gradle","junit","ant","junit5"],"answers":[{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693983995,"creation_date":1693983626,"answer_id":77049637,"question_id":57223851,"body_markdown":"Here is a solution using Ant Task JUnitReport grabbed from [this SO answer](https://stackoverflow.com/a/39180709/8583692):\r\n\r\n```groovy\r\nconfigurations {\r\n    antJUnit\r\n}\r\n\r\ndependencies {\r\n    antJUnit &#39;org.apache.ant:ant-junit:1.9.7&#39;\r\n}\r\n\r\ntask mergeJUnitReports {\r\n    ext {\r\n        resultsDir = file(&quot;$buildDir/allreports&quot;)\r\n        targetDir = file(&quot;$buildDir/test-results/merged&quot;)\r\n    }\r\n\r\n    doLast {\r\n        ant.taskdef(\r\n            name: &#39;junitreport&#39;,\r\n            classname: &#39;org.apache.tools.ant.taskdefs.optional.junit.XMLResultAggregator&#39;,\r\n            classpath: configurations.antJUnit.asPath\r\n        )\r\n\r\n        ant.junitreport(todir: resultsDir) {\r\n            fileset(dir: resultsDir, includes: &#39;TEST-*.xml&#39;)\r\n            report(todir: targetDir, format: &#39;frames&#39;)\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Is there a way to make Gradle test results go to one xml file?","body":"<p>Here is a solution using Ant Task JUnitReport grabbed from <a href=\"https://stackoverflow.com/a/39180709/8583692\">this SO answer</a>:</p>\n<pre><code>configurations {\n    antJUnit\n}\n\ndependencies {\n    antJUnit 'org.apache.ant:ant-junit:1.9.7'\n}\n\ntask mergeJUnitReports {\n    ext {\n        resultsDir = file(&quot;$buildDir/allreports&quot;)\n        targetDir = file(&quot;$buildDir/test-results/merged&quot;)\n    }\n\n    doLast {\n        ant.taskdef(\n            name: 'junitreport',\n            classname: 'org.apache.tools.ant.taskdefs.optional.junit.XMLResultAggregator',\n            classpath: configurations.antJUnit.asPath\n        )\n\n        ant.junitreport(todir: resultsDir) {\n            fileset(dir: resultsDir, includes: 'TEST-*.xml')\n            report(todir: targetDir, format: 'frames')\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16394598,"reputation":138,"user_id":11842525,"display_name":"Luke Shay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1693983995,"creation_date":1564158277,"question_id":57223851,"body_markdown":"Gradle XML test results are currently being output into separate files based on the class name. Is there a way to make the XML test results all go to one file for all the classes? The Gradle version I am using is 5.5.1.\r\n\r\nI have combed through the Gradle website and have not found anything related to this.\r\n","title":"Is there a way to make Gradle test results go to one xml file?","body":"<p>Gradle XML test results are currently being output into separate files based on the class name. Is there a way to make the XML test results all go to one file for all the classes? The Gradle version I am using is 5.5.1.</p>\n<p>I have combed through the Gradle website and have not found anything related to this.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":17679173,"reputation":1273,"user_id":12833551,"display_name":"Pratik Fagadiya"},"score":0,"creation_date":1693299876,"post_id":76998760,"comment_id":135739066,"body_markdown":"Is it in custom view from kotlin/java class or Jetpack compose ? Please specify it","body":"Is it in custom view from kotlin/java class or Jetpack compose ? Please specify it"},{"owner":{"account_id":15502362,"reputation":65,"user_id":11291132,"display_name":"Rakesh"},"score":0,"creation_date":1693301174,"post_id":76998760,"comment_id":135739298,"body_markdown":"@PratikFagadiya Java/Kotlin class","body":"@PratikFagadiya Java/Kotlin class"},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1693308455,"post_id":76998760,"comment_id":135740618,"body_markdown":"@Rakesh A quick hack can be to use another ImageView on top of your main imageView and add the svg to upper imageView, and match your svg color to background color of screen, the svg will hide the image view at relevant places, making it appear rounded.","body":"@Rakesh A quick hack can be to use another ImageView on top of your main imageView and add the svg to upper imageView, and match your svg color to background color of screen, the svg will hide the image view at relevant places, making it appear rounded."}],"answers":[{"tags":[],"owner":{"account_id":2278328,"reputation":2637,"user_id":2004073,"accept_rate":80,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693378480,"creation_date":1693378480,"answer_id":77005578,"question_id":76998760,"body_markdown":"For that you need to create a custom ImageView with overriden onDraw method. \r\nIn this method you should create a path using bezier curve and then draw image inside. \r\nMore information about custom drawing is on https://www.kodeco.com/9556022-drawing-custom-shapes-in-android?page=2#toc-anchor-011\r\nand https://medium.com/@pranjalg2308/understanding-bezier-curve-in-android-and-moddinggraphview-library-a9b1f0f95cd0","title":"Custom rectangle Imageview with curve from top and bottom","body":"<p>For that you need to create a custom ImageView with overriden onDraw method.\nIn this method you should create a path using bezier curve and then draw image inside.\nMore information about custom drawing is on <a href=\"https://www.kodeco.com/9556022-drawing-custom-shapes-in-android?page=2#toc-anchor-011\" rel=\"nofollow noreferrer\">https://www.kodeco.com/9556022-drawing-custom-shapes-in-android?page=2#toc-anchor-011</a>\nand <a href=\"https://medium.com/@pranjalg2308/understanding-bezier-curve-in-android-and-moddinggraphview-library-a9b1f0f95cd0\" rel=\"nofollow noreferrer\">https://medium.com/@pranjalg2308/understanding-bezier-curve-in-android-and-moddinggraphview-library-a9b1f0f95cd0</a></p>\n"},{"tags":[],"owner":{"account_id":4868030,"reputation":1930,"user_id":3925552,"accept_rate":40,"display_name":"HassanUsman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693382650,"creation_date":1693382650,"answer_id":77006031,"question_id":76998760,"body_markdown":"First you need to create a **Curved Shape Drawable:**\r\n\r\n    class CurvedShapeDrawable : Drawable() {\r\n    private val paint = Paint(Paint.ANTI_ALIAS_FLAG).apply {\r\n        color = Color.BLUE // Set your desired color here\r\n    }\r\n\r\n    override fun draw(canvas: Canvas) {\r\n        val width = bounds.width().toFloat()\r\n        val height = bounds.height().toFloat()\r\n        \r\n        val path = Path().apply {\r\n            moveTo(0f, height)\r\n            lineTo(0f, height * 0.8f)\r\n            quadTo(width * 0.5f, height * 0.6f, width, height * 0.8f)\r\n            lineTo(width, height)\r\n            close()\r\n        }\r\n\r\n        canvas.drawPath(path, paint)\r\n    }\r\n\r\n    // Override other methods like `setAlpha`, `setColorFilter`, and `getOpacity`\r\n    }\r\n\r\nAfter creating the custom `Drawable`, apply it to your `ImageView` using the background property.\r\n\r\n    val curvedShapeDrawable = CurvedShapeDrawable()\r\n    imageView.background = curvedShapeDrawable\r\n\r\nTo load `images` from an API and display them in your `ViewPager`, you&#39;ll need an image loading library like `Glide` or `Picasso`. \r\n\r\n    // Add Glide dependency to your build.gradle\r\n    implementation &#39;com.github.bumptech.glide:glide:4.12.0&#39;\r\n    kapt &#39;com.github.bumptech.glide:compiler:4.12.0&#39;\r\n    \r\n    // Load images using Glide\r\n    Glide.with(context)\r\n        .load(imageUrl) // Replace with your image URL from the API\r\n        .into(imageView)\r\n\r\nTry this, hope so it&#39;ll solved your problem.\r\n\r\n","title":"Custom rectangle Imageview with curve from top and bottom","body":"<p>First you need to create a <strong>Curved Shape Drawable:</strong></p>\n<pre><code>class CurvedShapeDrawable : Drawable() {\nprivate val paint = Paint(Paint.ANTI_ALIAS_FLAG).apply {\n    color = Color.BLUE // Set your desired color here\n}\n\noverride fun draw(canvas: Canvas) {\n    val width = bounds.width().toFloat()\n    val height = bounds.height().toFloat()\n    \n    val path = Path().apply {\n        moveTo(0f, height)\n        lineTo(0f, height * 0.8f)\n        quadTo(width * 0.5f, height * 0.6f, width, height * 0.8f)\n        lineTo(width, height)\n        close()\n    }\n\n    canvas.drawPath(path, paint)\n}\n\n// Override other methods like `setAlpha`, `setColorFilter`, and `getOpacity`\n}\n</code></pre>\n<p>After creating the custom <code>Drawable</code>, apply it to your <code>ImageView</code> using the background property.</p>\n<pre><code>val curvedShapeDrawable = CurvedShapeDrawable()\nimageView.background = curvedShapeDrawable\n</code></pre>\n<p>To load <code>images</code> from an API and display them in your <code>ViewPager</code>, you'll need an image loading library like <code>Glide</code> or <code>Picasso</code>.</p>\n<pre><code>// Add Glide dependency to your build.gradle\nimplementation 'com.github.bumptech.glide:glide:4.12.0'\nkapt 'com.github.bumptech.glide:compiler:4.12.0'\n\n// Load images using Glide\nGlide.with(context)\n    .load(imageUrl) // Replace with your image URL from the API\n    .into(imageView)\n</code></pre>\n<p>Try this, hope so it'll solved your problem.</p>\n"},{"comments":[{"owner":{"account_id":15502362,"reputation":65,"user_id":11291132,"display_name":"Rakesh"},"score":1,"creation_date":1694194742,"post_id":77049681,"comment_id":135864097,"body_markdown":"It worked like a charm thanks a lot","body":"It worked like a charm thanks a lot"}],"tags":[],"owner":{"account_id":19715420,"reputation":8505,"user_id":14434976,"display_name":"MariosP"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693983965,"creation_date":1693983965,"answer_id":77049681,"question_id":76998760,"body_markdown":"You can achieve this kind of shape in `ImageView` by extending the `com.google.android.material.imageview.ShapeableImageView` and change the default `ShapeAppearanceModel`. Using the `ShapeAppearanceModel` you can apply a custom `EdgeTreatment` to draw a curve in the top edge and bottom edge. Also it has helper methods to draw the corners to `CornerFamily.ROUNDED` or `CornerFamily.CUT`. Example is like the below:\r\n\r\n1.Create a subclass of **ShapeableImageView**:\r\n\r\n    public class CustomImageView extends ShapeableImageView {\r\n    \r\n        public CustomImageView(Context context) {\r\n            super(context);\r\n            init();\r\n        }\r\n    \r\n        public CustomImageView(Context context, @Nullable AttributeSet attrs) {\r\n            super(context, attrs);\r\n            init();\r\n        }\r\n    \r\n        public CustomImageView(Context context, @Nullable AttributeSet attrs, int defStyle) {\r\n            super(context, attrs, defStyle);\r\n            init();\r\n        }\r\n    \r\n        private void init(){\r\n    \r\n            //set the curveOffset and cornerRadius in pixels\r\n            int curveOffset = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\r\n            int cornerRadius = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 20, getResources().getDisplayMetrics());\r\n    \r\n            //set the new ShapeAppearanceModel\r\n            ShapeAppearanceModel shapeAppearanceModel = getShapeAppearanceModel()\r\n                    .toBuilder()\r\n                    .setAllCorners(CornerFamily.ROUNDED, cornerRadius)\r\n                    .setTopEdge(new EdgeTreatment(){\r\n                        @Override\r\n                        public void getEdgePath(float length, float center, float interpolation, @NonNull ShapePath shapePath) {\r\n                            shapePath.quadToPoint(length/2, curveOffset, length, 0f);\r\n                        }\r\n                    })\r\n                    .setBottomEdge(new EdgeTreatment(){\r\n                        @Override\r\n                        public void getEdgePath(float length, float center, float interpolation, @NonNull ShapePath shapePath) {\r\n                            shapePath.quadToPoint(length/2, curveOffset, length, 0f);\r\n                        }\r\n                    })\r\n                    .build();\r\n            setShapeAppearanceModel(shapeAppearanceModel);\r\n        }\r\n    }\r\n\r\n2.Use it in your xml like below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;my.package.name.CustomImageView\r\n            android:id=&quot;@+id/shapeImageView&quot;\r\n            android:layout_width=&quot;250dp&quot;\r\n            android:layout_height=&quot;150dp&quot;\r\n            android:background=&quot;@android:color/darker_gray&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            app:srcCompat=&quot;@android:drawable/sym_action_chat&quot;/&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n**Result:**\r\n\r\n[![shape_image_view][1]][1]\r\n\r\n**Sample usage in a `RecyclerView` using **Glide** image loading library:**\r\n\r\n1.Declare the `CustomImageView` in your list item xml in the same way as above:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/white&quot;\r\n        android:paddingTop=&quot;20dp&quot;&gt;\r\n    \r\n        &lt;my.package.name.CustomImageView\r\n            android:id=&quot;@+id/imageView&quot;\r\n            android:layout_width=&quot;250dp&quot;\r\n            android:layout_height=&quot;150dp&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n2.Load the images into the **CustomImageView** using **Glide** in on `onBindViewHolder` like the below:\r\n\r\n    int width = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 250, context.getResources().getDisplayMetrics());\r\n    int height = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 150, context.getResources().getDisplayMetrics());\r\n    Glide.with(context)\r\n            .load(model.getUrl())\r\n            .override(width, height)\r\n            .centerCrop()\r\n            .into(holder.imageView);\r\n\r\n**Result in a RecyclerView:**\r\n\r\n[![recyclerview_sample][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nPGTV.png\r\n  [2]: https://i.stack.imgur.com/i2AYa.jpg","title":"Custom rectangle Imageview with curve from top and bottom","body":"<p>You can achieve this kind of shape in <code>ImageView</code> by extending the <code>com.google.android.material.imageview.ShapeableImageView</code> and change the default <code>ShapeAppearanceModel</code>. Using the <code>ShapeAppearanceModel</code> you can apply a custom <code>EdgeTreatment</code> to draw a curve in the top edge and bottom edge. Also it has helper methods to draw the corners to <code>CornerFamily.ROUNDED</code> or <code>CornerFamily.CUT</code>. Example is like the below:</p>\n<p>1.Create a subclass of <strong>ShapeableImageView</strong>:</p>\n<pre><code>public class CustomImageView extends ShapeableImageView {\n\n    public CustomImageView(Context context) {\n        super(context);\n        init();\n    }\n\n    public CustomImageView(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    public CustomImageView(Context context, @Nullable AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n        init();\n    }\n\n    private void init(){\n\n        //set the curveOffset and cornerRadius in pixels\n        int curveOffset = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\n        int cornerRadius = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 20, getResources().getDisplayMetrics());\n\n        //set the new ShapeAppearanceModel\n        ShapeAppearanceModel shapeAppearanceModel = getShapeAppearanceModel()\n                .toBuilder()\n                .setAllCorners(CornerFamily.ROUNDED, cornerRadius)\n                .setTopEdge(new EdgeTreatment(){\n                    @Override\n                    public void getEdgePath(float length, float center, float interpolation, @NonNull ShapePath shapePath) {\n                        shapePath.quadToPoint(length/2, curveOffset, length, 0f);\n                    }\n                })\n                .setBottomEdge(new EdgeTreatment(){\n                    @Override\n                    public void getEdgePath(float length, float center, float interpolation, @NonNull ShapePath shapePath) {\n                        shapePath.quadToPoint(length/2, curveOffset, length, 0f);\n                    }\n                })\n                .build();\n        setShapeAppearanceModel(shapeAppearanceModel);\n    }\n}\n</code></pre>\n<p>2.Use it in your xml like below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;my.package.name.CustomImageView\n        android:id=&quot;@+id/shapeImageView&quot;\n        android:layout_width=&quot;250dp&quot;\n        android:layout_height=&quot;150dp&quot;\n        android:background=&quot;@android:color/darker_gray&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        app:srcCompat=&quot;@android:drawable/sym_action_chat&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>Result:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/nPGTV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nPGTV.png\" alt=\"shape_image_view\" /></a></p>\n<p><strong>Sample usage in a <code>RecyclerView</code> using <strong>Glide</strong> image loading library:</strong></p>\n<p>1.Declare the <code>CustomImageView</code> in your list item xml in the same way as above:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@android:color/white&quot;\n    android:paddingTop=&quot;20dp&quot;&gt;\n\n    &lt;my.package.name.CustomImageView\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;250dp&quot;\n        android:layout_height=&quot;150dp&quot;\n        android:layout_centerHorizontal=&quot;true&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>2.Load the images into the <strong>CustomImageView</strong> using <strong>Glide</strong> in on <code>onBindViewHolder</code> like the below:</p>\n<pre><code>int width = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 250, context.getResources().getDisplayMetrics());\nint height = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 150, context.getResources().getDisplayMetrics());\nGlide.with(context)\n        .load(model.getUrl())\n        .override(width, height)\n        .centerCrop()\n        .into(holder.imageView);\n</code></pre>\n<p><strong>Result in a RecyclerView:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/i2AYa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i2AYa.jpg\" alt=\"recyclerview_sample\" /></a></p>\n"}],"owner":{"account_id":15502362,"reputation":65,"user_id":11291132,"display_name":"Rakesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77049681,"answer_count":3,"score":1,"last_activity_date":1693983965,"creation_date":1693299548,"question_id":76998760,"body_markdown":"[![Expected Imageview UI](https://i.stack.imgur.com/ecbFh.jpg)](https://i.stack.imgur.com/ecbFh.jpg)\r\n\r\nHello, I am creating a image slider with viewpager and want to create a custom Imageview with curve from top and bottom for the item list in Java/Kotlin and set images from api I am able to create custom rectangle image but I am not aware of how to create curve from top and bottom.\r\n\r\nTried\r\n1. Svg set to ImageView but shape changes once image is set dynamically.\r\n2. Custom Image class by extending Imageview","title":"Custom rectangle Imageview with curve from top and bottom","body":"<p><a href=\"https://i.stack.imgur.com/ecbFh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ecbFh.jpg\" alt=\"Expected Imageview UI\" /></a></p>\n<p>Hello, I am creating a image slider with viewpager and want to create a custom Imageview with curve from top and bottom for the item list in Java/Kotlin and set images from api I am able to create custom rectangle image but I am not aware of how to create curve from top and bottom.</p>\n<p>Tried</p>\n<ol>\n<li>Svg set to ImageView but shape changes once image is set dynamically.</li>\n<li>Custom Image class by extending Imageview</li>\n</ol>\n"},{"tags":["java","key"],"answers":[{"tags":[],"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693983844,"creation_date":1693917054,"answer_id":77046194,"question_id":77046193,"body_markdown":"After some hours of digging into it, I found the solution.\r\nThe key retrieval was ok (I improved a bit, see below the code), but the real issue was that I had to use the public affineX (not from private key) and that value must be converted to an unsignedByteArray. That gave me the correct sha256 and the key was obtained correctly without any header needed.\r\n\r\nProvide the *privateKey* param as the full Private key String (as in PEM file):\r\n``` lang-kt\r\nfun load_pkcs_ec_key_pairs(privateKey: String): Pair&lt;ECPublicKey, ECPrivateKey&gt; {\r\n        StringReader(privateKey).use { keyReader -&gt;\r\n            val pemParser = PEMParser(keyReader)\r\n            val converter = JcaPEMKeyConverter()\r\n            val pemPair = pemParser.readObject() as PEMKeyPair\r\n            val privateKeyInfo = PrivateKeyInfo.getInstance(pemPair.privateKeyInfo)\r\n            val publicKeyInfo = SubjectPublicKeyInfo.getInstance(pemPair.publicKeyInfo)\r\n            val ecpublicKey = converter.getPublicKey(publicKeyInfo) as ECPublicKey\r\n            val ecprivateKey=  converter.getPrivateKey(privateKeyInfo) as ECPrivateKey\r\n            return Pair(ecpublicKey, ecprivateKey)\r\n        }\r\n    }\r\n```\r\n\r\nThen use the pair obtained in this way:\r\n``` lang-kt\r\n        val privateKey = pairKeys.second\r\n        val publicKey = pairKeys.first\r\n\r\n        val xCoord = publicKey.w.affineX\r\n        val reversedX = Utils.toByteArrayUnsigned(xCoord)\r\n        val calculateSha256 = VASUtils.calculateSha256(reversedX)\r\n        val hint = calculateSha256.copyOfRange(0, 4)\r\n        println(&quot;[decrypt] Hint calculated is: ${Hex.toHexString(hint)} device: $expected&quot;)\r\n        assertEquals(Hex.toHexString(hint), expected)\r\n```\r\n\r\nwhere \r\n``` lang-kt\r\nfun toByteArrayUnsigned(bi: BigInteger): ByteArray {\r\n    var extractedBytes = bi.toByteArray()\r\n    var skipped = 0\r\n    var skip = true\r\n    for (b in extractedBytes) {\r\n        val signByte = b == 0x00.toByte()\r\n        if (skip &amp;&amp; signByte) {\r\n            skipped++\r\n             continue\r\n        } else if (skip) {\r\n            skip = false\r\n        }\r\n     }\r\n     extractedBytes = Arrays.copyOfRange(\r\n         extractedBytes, skipped, extractedBytes.size\r\n     )\r\n     return extractedBytes\r\n}\r\n```\r\n\r\n","title":"Parsing and loading EC Private key, curve secp256r1","body":"<p>After some hours of digging into it, I found the solution.\nThe key retrieval was ok (I improved a bit, see below the code), but the real issue was that I had to use the public affineX (not from private key) and that value must be converted to an unsignedByteArray. That gave me the correct sha256 and the key was obtained correctly without any header needed.</p>\n<p>Provide the <em>privateKey</em> param as the full Private key String (as in PEM file):</p>\n<pre class=\"lang-kt prettyprint-override\"><code>fun load_pkcs_ec_key_pairs(privateKey: String): Pair&lt;ECPublicKey, ECPrivateKey&gt; {\n        StringReader(privateKey).use { keyReader -&gt;\n            val pemParser = PEMParser(keyReader)\n            val converter = JcaPEMKeyConverter()\n            val pemPair = pemParser.readObject() as PEMKeyPair\n            val privateKeyInfo = PrivateKeyInfo.getInstance(pemPair.privateKeyInfo)\n            val publicKeyInfo = SubjectPublicKeyInfo.getInstance(pemPair.publicKeyInfo)\n            val ecpublicKey = converter.getPublicKey(publicKeyInfo) as ECPublicKey\n            val ecprivateKey=  converter.getPrivateKey(privateKeyInfo) as ECPrivateKey\n            return Pair(ecpublicKey, ecprivateKey)\n        }\n    }\n</code></pre>\n<p>Then use the pair obtained in this way:</p>\n<pre class=\"lang-kt prettyprint-override\"><code>        val privateKey = pairKeys.second\n        val publicKey = pairKeys.first\n\n        val xCoord = publicKey.w.affineX\n        val reversedX = Utils.toByteArrayUnsigned(xCoord)\n        val calculateSha256 = VASUtils.calculateSha256(reversedX)\n        val hint = calculateSha256.copyOfRange(0, 4)\n        println(&quot;[decrypt] Hint calculated is: ${Hex.toHexString(hint)} device: $expected&quot;)\n        assertEquals(Hex.toHexString(hint), expected)\n</code></pre>\n<p>where</p>\n<pre class=\"lang-kt prettyprint-override\"><code>fun toByteArrayUnsigned(bi: BigInteger): ByteArray {\n    var extractedBytes = bi.toByteArray()\n    var skipped = 0\n    var skip = true\n    for (b in extractedBytes) {\n        val signByte = b == 0x00.toByte()\n        if (skip &amp;&amp; signByte) {\n            skipped++\n             continue\n        } else if (skip) {\n            skip = false\n        }\n     }\n     extractedBytes = Arrays.copyOfRange(\n         extractedBytes, skipped, extractedBytes.size\n     )\n     return extractedBytes\n}\n</code></pre>\n"}],"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77046194,"answer_count":1,"score":0,"last_activity_date":1693983844,"creation_date":1693903230,"question_id":77046193,"body_markdown":"I&#39;m doing a spin-off request from this: [EC Key request](https://security.stackexchange.com/questions/260145/what-format-is-this-private-key-in-and-how-can-i-process-it-using-bouncycastle/266785?noredirect=1#comment566137_266785)\r\n\r\nAs my problem is a bit different but similar.\r\nI have the following private key (in this format, not a file):\r\n`MHcCAQEEID0VR/I814rQUqWIYPEhno+3kexN/jN2n1ub+mJ6ZWyhoAoGCCqGSM49AwEHoUQDQgAEwKMBv29ByaSLiGF0FctuyB+Hs2oZ1kDIYhTVllPexNGudAlm8IWOH0e+Exc97/zBdawu7Yl+XytQONszGzAK7w==`\r\n\r\nAnd I want to load it to an ECPrivateKey (possibly to have an ECPublicKey too).\r\nFollowing a bunch of links and ideas, i got two possible code hints:\r\n1- Bouncy castle:\r\n\r\n```\r\nval privateKey = &quot;PRIVATE KEY ABOVE, MHc...&quot;\r\nval rdr = StringReader(privateKey)\r\nval parsed = PEMParser(rdr).readObject()\r\nval pair = JcaPEMKeyConverter().getKeyPair(parsed as PEMKeyPair)\r\nprintln(&quot;[load_ec_pair_keys] Algorithm: ${pair.private.algorithm} , Private Key: ${pair.private} , Public Key: ${pair.public}&quot;)\r\nreturn pair\r\n```\r\n\r\nThe output gives:\r\n&gt; Algorithm: ECDSA , Private Key: EC Private Key &gt;[fe:60:f6:24:f9:ba:61:4f:60:98:d9:72:b2:14:87:c8:13:c2:3f:f4]\r\n&gt;\r\n&gt;    X: c0a301bf6f41c9a48b88617415cb6ec81f87b36a19d640c86214d59653dec4d1\r\n&gt;\r\n&gt;    Y: ae740966f0858e1f47be13173deffcc175ac2eed897e5f2b5038db331b300aef\r\n\r\nBut if I save that private key to a pem file and use openssl:\r\n**openssl ec -noout -text -inform PEM -in private.pem**\r\nThe result is:\r\n&gt;read EC key\r\n&gt;Private-Key: (256 bit)\r\n&gt;\r\n&gt;priv:\r\n&gt;    3d:15:47:f2:3c:d7:8a:d0:52:a5:88:60:f1:21:9e:\r\n&gt;    8f:b7:91:ec:4d:fe:33:76:9f:5b:9b:fa:62:7a:65:\r\n&gt;    6c:a1\r\n&gt; \r\n&gt; pub:\r\n&gt;    04:c0:a3:01:bf:6f:41:c9:a4:8b:88:61:74:15:cb:\r\n&gt;    6e:c8:1f:87:b3:6a:19:d6:40:c8:62:14:d5:96:53:\r\n&gt;    de:c4:d1:ae:74:09:66:f0:85:8e:1f:47:be:13:17:\r\n&gt;    3d:ef:fc:c1:75:ac:2e:ed:89:7e:5f:2b:50:38:db:\r\n&gt;    33:1b:30:0a:ef\r\n&gt; \r\n&gt;ASN1 OID: prime256v1\r\n&gt;\r\n&gt;NIST CURVE: P-256\r\n\r\n\r\nSo those seems different to me, and using the help (see comments too) of @dave_thompson_085 I ended up with the following code:\r\n2 - No BouncyCastle, java.security package:\r\n```\r\nfun load_ec_full(): ECPrivateKey {\r\n        val a = AlgorithmParameters.getInstance(&quot;EC&quot;)\r\n        a.init(ECGenParameterSpec(&quot;secp256r1&quot;))\r\n        val p: ECParameterSpec = a.getParameterSpec(ECParameterSpec::class.java)\r\n        println(&quot;p=(dec)&quot; + (p.curve.field as ECFieldFp).p)\r\n        val G: ECPoint = p.generator\r\n        System.out.format(&quot;Gx=(hex)%032x%n&quot;, G.affineX)\r\n        System.out.format(&quot;Gy=(hex)%032x%n&quot;, G.affineY)\r\n\r\n//        val headerPrefix = Hex.decode(&quot;303E020100301006072A8648CE3D020106052B8104000A042730250201010420&quot;) //secp256k1 \r\n        val headerPrefix = Hex.decode(&quot;308187020100301306072a8648ce3d020106082a8648ce3d030107046d306b02&quot;) //secp256r1 \r\n        val privateKSimple =\r\n            &quot;MHcCAQEEID0VR/I814rQUqWIYPEhno+3kexN/jN2n1ub+mJ6ZWyhoAoGCCqGSM49AwEHoUQDQgAEwKMBv29ByaSLiGF0FctuyB+Hs2oZ1kDIYhTVllPexNGudAlm8IWO&quot; +\r\n                    &quot;H0e+Exc97/zBdawu7Yl+XytQONszGzAK7w==&quot;\r\n        val decodedPK = java.util.Base64.getDecoder().decode(privateKSimple)\r\n        val kf: KeyFactory = KeyFactory.getInstance(&quot;EC&quot;)\r\n        val k1 = kf.generatePrivate(PKCS8EncodedKeySpec(headerPrefix + decodedPK)) as ECPrivateKey\r\n        val p2 = k1.params\r\n        println(&quot;again p=(dec)&quot; + (p2.curve.field as ECFieldFp).p)\r\n        println(&quot;KEY: $k1&quot;)\r\n```\r\n\r\nIf i use the first headerPrefix (secp256k1) i got a key with output:\r\n\r\n&gt;p=(dec)115792089210356248762697446949407573530086143415290314195533631308867097853951\r\n&gt;\r\n&gt; Gx=(hex)6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296\r\n&gt;\r\n&gt; Gy=(hex)4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5\r\n&gt;\r\n&gt; again p=(dec)115792089237316195423570985008687907853269984665640564039457584007908834671663\r\n&gt;\r\n&gt; KEY: sun.security.ec.ECPrivateKeyImpl@b8485def\r\n\r\nSo the key is not written out, but is different for the one generated above).\r\n\r\nIf I use the headerPrefix generated using the openssl command hinted in the other response: **openssl pkcs8 -topk8 -nocrypt -in private.pem -out pkcs8der -outform der**\r\nthat i obtained as: &quot;308187020100301306072a8648ce3d020106082a8648ce3d030107046d306b02&quot;\r\nthis breaks the code:\r\n&gt;java.security.InvalidKeyException: Invalid EC private key\r\njava.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: Invalid EC private key\r\n\tat jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(Unknown Source)\r\n\tat java.base/java.security.KeyFactory.generatePrivate(Unknown Source)\r\n\tat com.mhamdaoui.smartcardreader.ExampleUnitTest.load_ec_full(ExampleUnitTest.kt:249)\r\n\tat com.mhamdaoui.smartcardreader.ExampleUnitTest.test load rsa key(ExampleUnitTest.kt:273)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:55)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:100)\r\n\tat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:107)\r\n\tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:41)\r\n\tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:108)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:40)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:60)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:52)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: java.security.InvalidKeyException: Invalid EC private key\r\n\tat jdk.crypto.ec/sun.security.ec.ECPrivateKeyImpl.parseKeyBits(Unknown Source)\r\n\tat jdk.crypto.ec/sun.security.ec.ECPrivateKeyImpl.&lt;init&gt;(Unknown Source)\r\n\tat jdk.crypto.ec/sun.security.ec.ECKeyFactory.implGeneratePrivate(Unknown Source)\r\n\t... 52 more\r\nCaused by: java.io.IOException: Integer exceeds maximum valid value\r\n\tat java.base/sun.security.util.DerValue.getIntegerInternal(Unknown Source)\r\n\tat java.base/sun.security.util.DerValue.getInteger(Unknown Source)\r\n\tat java.base/sun.security.util.DerInputStream.getInteger(Unknown Source)\r\n\t... 55 more\r\n\r\nI&#39;m quite lost now as I&#39;m new on the field, and honestly this is only a small side of my project.\r\nThe only thing I know is that in oder to be sure the key is parsed correctly, the following code on the key should give the result: &quot;c0b77375&quot;\r\n```\r\nval xCoord = privateKey.params.generator.affineX\r\nval calculateSha256 = VASUtils.calculateSha256(xCoord.toByteArray())\r\nval result = calculateSha256.copyOfRange(0, 4)\r\n```\r\n\r\nTo give you a bit more context, I&#39;m trying to replicate on Android (Kotlin, but is JVM...) the AppleVAS reading code that can be found here:\r\nhttps://github.com/RfidResearchGroup/proxmark3/blob/32f892e512d97be402c0abaf6f00675686ed0893/client/src/cmdhfvas.c#L280\r\n\r\nI have the correct *cryptogram* data and other variables, but method **GetPrivateKeyHint** in Java fails for me and the given key. \r\n\r\nIf someone can help me, or can check what I&#39;m doing wrong it would be very helpful, I&#39;m planning to put all my work on a github open repository at the end, so it&#39;s not a commercial action.","title":"Parsing and loading EC Private key, curve secp256r1","body":"<p>I'm doing a spin-off request from this: <a href=\"https://security.stackexchange.com/questions/260145/what-format-is-this-private-key-in-and-how-can-i-process-it-using-bouncycastle/266785?noredirect=1#comment566137_266785\">EC Key request</a></p>\n<p>As my problem is a bit different but similar.\nI have the following private key (in this format, not a file):\n<code>MHcCAQEEID0VR/I814rQUqWIYPEhno+3kexN/jN2n1ub+mJ6ZWyhoAoGCCqGSM49AwEHoUQDQgAEwKMBv29ByaSLiGF0FctuyB+Hs2oZ1kDIYhTVllPexNGudAlm8IWOH0e+Exc97/zBdawu7Yl+XytQONszGzAK7w==</code></p>\n<p>And I want to load it to an ECPrivateKey (possibly to have an ECPublicKey too).\nFollowing a bunch of links and ideas, i got two possible code hints:\n1- Bouncy castle:</p>\n<pre><code>val privateKey = &quot;PRIVATE KEY ABOVE, MHc...&quot;\nval rdr = StringReader(privateKey)\nval parsed = PEMParser(rdr).readObject()\nval pair = JcaPEMKeyConverter().getKeyPair(parsed as PEMKeyPair)\nprintln(&quot;[load_ec_pair_keys] Algorithm: ${pair.private.algorithm} , Private Key: ${pair.private} , Public Key: ${pair.public}&quot;)\nreturn pair\n</code></pre>\n<p>The output gives:</p>\n<blockquote>\n<p>Algorithm: ECDSA , Private Key: EC Private Key &gt;[fe:60:f6:24:f9:ba:61:4f:60:98:d9:72:b2:14:87:c8:13:c2:3f:f4]</p>\n<p>X: c0a301bf6f41c9a48b88617415cb6ec81f87b36a19d640c86214d59653dec4d1</p>\n<p>Y: ae740966f0858e1f47be13173deffcc175ac2eed897e5f2b5038db331b300aef</p>\n</blockquote>\n<p>But if I save that private key to a pem file and use openssl:\n<strong>openssl ec -noout -text -inform PEM -in private.pem</strong>\nThe result is:</p>\n<blockquote>\n<p>read EC key\nPrivate-Key: (256 bit)</p>\n<p>priv:\n3d:15:47:f2:3c:d7:8a:d0:52:a5:88:60:f1:21:9e:\n8f:b7:91:ec:4d:fe:33:76:9f:5b:9b:fa:62:7a:65:\n6c:a1</p>\n<p>pub:\n04:c0:a3:01:bf:6f:41:c9:a4:8b:88:61:74:15:cb:\n6e:c8:1f:87:b3:6a:19:d6:40:c8:62:14:d5:96:53:\nde:c4:d1:ae:74:09:66:f0:85:8e:1f:47:be:13:17:\n3d:ef:fc:c1:75:ac:2e:ed:89:7e:5f:2b:50:38:db:\n33:1b:30:0a:ef</p>\n<p>ASN1 OID: prime256v1</p>\n<p>NIST CURVE: P-256</p>\n</blockquote>\n<p>So those seems different to me, and using the help (see comments too) of @dave_thompson_085 I ended up with the following code:\n2 - No BouncyCastle, java.security package:</p>\n<pre><code>fun load_ec_full(): ECPrivateKey {\n        val a = AlgorithmParameters.getInstance(&quot;EC&quot;)\n        a.init(ECGenParameterSpec(&quot;secp256r1&quot;))\n        val p: ECParameterSpec = a.getParameterSpec(ECParameterSpec::class.java)\n        println(&quot;p=(dec)&quot; + (p.curve.field as ECFieldFp).p)\n        val G: ECPoint = p.generator\n        System.out.format(&quot;Gx=(hex)%032x%n&quot;, G.affineX)\n        System.out.format(&quot;Gy=(hex)%032x%n&quot;, G.affineY)\n\n//        val headerPrefix = Hex.decode(&quot;303E020100301006072A8648CE3D020106052B8104000A042730250201010420&quot;) //secp256k1 \n        val headerPrefix = Hex.decode(&quot;308187020100301306072a8648ce3d020106082a8648ce3d030107046d306b02&quot;) //secp256r1 \n        val privateKSimple =\n            &quot;MHcCAQEEID0VR/I814rQUqWIYPEhno+3kexN/jN2n1ub+mJ6ZWyhoAoGCCqGSM49AwEHoUQDQgAEwKMBv29ByaSLiGF0FctuyB+Hs2oZ1kDIYhTVllPexNGudAlm8IWO&quot; +\n                    &quot;H0e+Exc97/zBdawu7Yl+XytQONszGzAK7w==&quot;\n        val decodedPK = java.util.Base64.getDecoder().decode(privateKSimple)\n        val kf: KeyFactory = KeyFactory.getInstance(&quot;EC&quot;)\n        val k1 = kf.generatePrivate(PKCS8EncodedKeySpec(headerPrefix + decodedPK)) as ECPrivateKey\n        val p2 = k1.params\n        println(&quot;again p=(dec)&quot; + (p2.curve.field as ECFieldFp).p)\n        println(&quot;KEY: $k1&quot;)\n</code></pre>\n<p>If i use the first headerPrefix (secp256k1) i got a key with output:</p>\n<blockquote>\n<p>p=(dec)115792089210356248762697446949407573530086143415290314195533631308867097853951</p>\n<p>Gx=(hex)6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296</p>\n<p>Gy=(hex)4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5</p>\n<p>again p=(dec)115792089237316195423570985008687907853269984665640564039457584007908834671663</p>\n<p>KEY: sun.security.ec.ECPrivateKeyImpl@b8485def</p>\n</blockquote>\n<p>So the key is not written out, but is different for the one generated above).</p>\n<p>If I use the headerPrefix generated using the openssl command hinted in the other response: <strong>openssl pkcs8 -topk8 -nocrypt -in private.pem -out pkcs8der -outform der</strong>\nthat i obtained as: &quot;308187020100301306072a8648ce3d020106082a8648ce3d030107046d306b02&quot;\nthis breaks the code:</p>\n<blockquote>\n<p>java.security.InvalidKeyException: Invalid EC private key\njava.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: Invalid EC private key\nat jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(Unknown Source)\nat java.base/java.security.KeyFactory.generatePrivate(Unknown Source)\nat com.mhamdaoui.smartcardreader.ExampleUnitTest.load_ec_full(ExampleUnitTest.kt:249)\nat com.mhamdaoui.smartcardreader.ExampleUnitTest.test load rsa key(ExampleUnitTest.kt:273)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.base/java.lang.reflect.Method.invoke(Unknown Source)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:55)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\nat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\nat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:100)\nat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:107)\nat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:41)\nat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\nat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:108)\nat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\nat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:40)\nat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:60)\nat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:52)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.base/java.lang.reflect.Method.invoke(Unknown Source)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\nat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\nat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\nat jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\nat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\nat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\nat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\nat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\nat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.security.InvalidKeyException: Invalid EC private key\nat jdk.crypto.ec/sun.security.ec.ECPrivateKeyImpl.parseKeyBits(Unknown Source)\nat jdk.crypto.ec/sun.security.ec.ECPrivateKeyImpl.(Unknown Source)\nat jdk.crypto.ec/sun.security.ec.ECKeyFactory.implGeneratePrivate(Unknown Source)\n... 52 more\nCaused by: java.io.IOException: Integer exceeds maximum valid value\nat java.base/sun.security.util.DerValue.getIntegerInternal(Unknown Source)\nat java.base/sun.security.util.DerValue.getInteger(Unknown Source)\nat java.base/sun.security.util.DerInputStream.getInteger(Unknown Source)\n... 55 more</p>\n</blockquote>\n<p>I'm quite lost now as I'm new on the field, and honestly this is only a small side of my project.\nThe only thing I know is that in oder to be sure the key is parsed correctly, the following code on the key should give the result: &quot;c0b77375&quot;</p>\n<pre><code>val xCoord = privateKey.params.generator.affineX\nval calculateSha256 = VASUtils.calculateSha256(xCoord.toByteArray())\nval result = calculateSha256.copyOfRange(0, 4)\n</code></pre>\n<p>To give you a bit more context, I'm trying to replicate on Android (Kotlin, but is JVM...) the AppleVAS reading code that can be found here:\n<a href=\"https://github.com/RfidResearchGroup/proxmark3/blob/32f892e512d97be402c0abaf6f00675686ed0893/client/src/cmdhfvas.c#L280\" rel=\"nofollow noreferrer\">https://github.com/RfidResearchGroup/proxmark3/blob/32f892e512d97be402c0abaf6f00675686ed0893/client/src/cmdhfvas.c#L280</a></p>\n<p>I have the correct <em>cryptogram</em> data and other variables, but method <strong>GetPrivateKeyHint</strong> in Java fails for me and the given key.</p>\n<p>If someone can help me, or can check what I'm doing wrong it would be very helpful, I'm planning to put all my work on a github open repository at the end, so it's not a commercial action.</p>\n"},{"tags":["java","exception","arraylist"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1631592800,"post_id":69171680,"comment_id":122256718,"body_markdown":"I think it would be good for you, if you debug it. That will help you to understand it better. And what you are trying to do here in code?","body":"I think it would be good for you, if you debug it. That will help you to understand it better. And what you are trying to do here in code?"},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":1,"creation_date":1631593273,"post_id":69171680,"comment_id":122256805,"body_markdown":"`al.get(i).get(0)` is the culprit. Visually, that&#39;s line 32 of what you posted. The ith element of al is an empty array. The 3 if statements in the for loop don&#39;t guarantee anything is added.","body":"<code>al.get(i).get(0)</code> is the culprit. Visually, that&#39;s line 32 of what you posted. The ith element of al is an empty array. The 3 if statements in the for loop don&#39;t guarantee anything is added."},{"owner":{"account_id":4959604,"reputation":8469,"user_id":3991211,"display_name":"Garr Godfrey"},"score":0,"creation_date":1631593679,"post_id":69171680,"comment_id":122256880,"body_markdown":"Not sure what your algorithm does, but the problem is the last time through the loop. It sets flag=0 but does not increment `idx`, and immediately after it will add a new element to the arraylist, but idx still references the previous entry, and nothing is added to the last arraylist","body":"Not sure what your algorithm does, but the problem is the last time through the loop. It sets flag=0 but does not increment <code>idx</code>, and immediately after it will add a new element to the arraylist, but idx still references the previous entry, and nothing is added to the last arraylist"},{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":0,"creation_date":1631596869,"post_id":69171680,"comment_id":122257550,"body_markdown":"Subtract one unit from `al.size()` in your last for loop: `for(int i=0;i&lt;al.size()-1;i++)...`","body":"Subtract one unit from <code>al.size()</code> in your last for loop: <code>for(int i=0;i&lt;al.size()-1;i++)...</code>"}],"answers":[{"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1631594147,"post_id":69171829,"comment_id":122256964,"body_markdown":"Array is initialized in the code, it&#39;s length is not matching in  System.out.println(al.get(i).get(0)+&quot; &quot;+al.get(i).get(1));. Here get(0) and get(1) are breaking in code.","body":"Array is initialized in the code, it&#39;s length is not matching in  System.out.println(al.get(i).get(0)+&quot; &quot;+al.get(i).get(1));. Here get(0) and get(1) are breaking in code."},{"owner":{"account_id":5977652,"reputation":394,"user_id":4697928,"display_name":"Abishek Stephen"},"score":0,"creation_date":1631594417,"post_id":69171829,"comment_id":122257019,"body_markdown":"It is always advised not to hardcode any index values for accessing and even if you must, you should check if the value is present before accessing it.","body":"It is always advised not to hardcode any index values for accessing and even if you must, you should check if the value is present before accessing it."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1631595105,"post_id":69171829,"comment_id":122257159,"body_markdown":"Your outer arraylist is initialized in the code, but you have added an arrayList that is still empty when you try to read it. I&#39;m not sure what this code is supposed to do, but I would advise stepping through it in a debugger to figure out where it&#39;s not behaving the way you expect. I would also suggest using a boolean for &quot;flag&quot; instead of alternating between 1 and 0. This makes the code easier to read and understand. More descriptive variable names would be helpful, too, if you&#39;re going to ask for help.","body":"Your outer arraylist is initialized in the code, but you have added an arrayList that is still empty when you try to read it. I&#39;m not sure what this code is supposed to do, but I would advise stepping through it in a debugger to figure out where it&#39;s not behaving the way you expect. I would also suggest using a boolean for &quot;flag&quot; instead of alternating between 1 and 0. This makes the code easier to read and understand. More descriptive variable names would be helpful, too, if you&#39;re going to ask for help."}],"tags":[],"owner":{"account_id":5977652,"reputation":394,"user_id":4697928,"display_name":"Abishek Stephen"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1631594626,"creation_date":1631594007,"answer_id":69171829,"question_id":69171680,"body_markdown":"Your arraylist is having some empty list and if you access it, it will throw IndexOutOfBoundsException.\r\n\r\n[![Empty][1]][1]\r\n\r\nAlways check if data is present in that index before accessing it.\r\n\r\n  [1]: https://i.stack.imgur.com/osIyV.png","title":"java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0","body":"<p>Your arraylist is having some empty list and if you access it, it will throw IndexOutOfBoundsException.</p>\n<p><a href=\"https://i.stack.imgur.com/osIyV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/osIyV.png\" alt=\"Empty\" /></a></p>\n<p>Always check if data is present in that index before accessing it.</p>\n"},{"tags":[],"owner":{"account_id":16933574,"reputation":109,"user_id":12247187,"display_name":"unpluggeDloop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670505392,"creation_date":1670505392,"answer_id":74730877,"question_id":69171680,"body_markdown":"if you run this code\r\n\r\nSystem.out.println(arrayListName.get(arrayListName.size()-1));\r\n\r\n&gt; It compiled successfully, while running it shows:  Exception in thread\r\n&gt; &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\r\nWhen array list is empty and you search value from it in that way you get error. \r\nBut if you check does your array list is empty. When array list have at least one element in it, run code and you get your value - no compiler error.\r\n\r\n        \tpublic static void functionNameHere(){\r\n\t\tif (!arrayListName.isEmpty() ){\r\n                //execute code\r\n                System.out.println(arrayListName.get(arrayListName.size()-1));\r\n                }\t\t\r\n\t}","title":"java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0","body":"<p>if you run this code</p>\n<p>System.out.println(arrayListName.get(arrayListName.size()-1));</p>\n<blockquote>\n<p>It compiled successfully, while running it shows:  Exception in thread\n&quot;main&quot; java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0</p>\n</blockquote>\n<p>When array list is empty and you search value from it in that way you get error.\nBut if you check does your array list is empty. When array list have at least one element in it, run code and you get your value - no compiler error.</p>\n<pre><code>        public static void functionNameHere(){\n    if (!arrayListName.isEmpty() ){\n            //execute code\n            System.out.println(arrayListName.get(arrayListName.size()-1));\n            }       \n}\n</code></pre>\n"}],"owner":{"account_id":18076324,"reputation":11,"user_id":13274967,"display_name":"Pavan venkata sai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693983655,"creation_date":1631592447,"question_id":69171680,"body_markdown":" \r\n\r\n    import java.util.*;\r\n     class stockbuysell{\r\n        //Function to find the days of buying and selling stock for max profit.\r\n    \tpublic static void main(String []args){\r\n    \t\tint A[] = {100,180,260,310,40,535,695};\r\n    \t\t ArrayList&lt;ArrayList&lt;Integer&gt;&gt; al = stockBuySell(A,7);\r\n    \t}\r\n        static ArrayList&lt;ArrayList&lt;Integer&gt; &gt; stockBuySell(int A[], int n) {\r\n            // code here\r\n           // buy = 0;\r\n            //sell = 1\r\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; al = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n            int flag = 0;\r\n            int idx = 0;\r\n            for(int i=1;i&lt;n;i++){\r\n                if(i==n-1 &amp;&amp; flag==1){\r\n                    al.get(idx).add(i);\r\n                    flag = 0;\r\n                }\r\n                if(flag == 0 &amp;&amp; A[i]&gt;A[i-1]){//\r\n                    al.add(new ArrayList&lt;Integer&gt;());\r\n                    al.get(idx).add(i-1);\r\n                    flag = 1;\r\n                }\r\n                if(flag == 1 &amp;&amp; A[i]&lt;A[i-1]){//\r\n                    al.get(idx).add(i-1);\r\n                    flag = 0;\r\n                    idx++;\r\n                }\r\n            }\r\n            for(int i=0;i&lt;al.size();i++){\r\n                System.out.println(al.get(i).get(0)+&quot; &quot;+al.get(i).get(1));\r\n            }\r\n            return al;\r\n        }\r\n    }\r\n\r\nI don&#39;t know where I get an error. It compiled successfully, while running it shows:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n            at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n            at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n            at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\r\n            at java.base/java.util.Objects.checkIndex(Objects.java:359)\r\n            at java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n            at stockbuysell.stockBuySell(stockBuySell.java:32)\r\n            at stockbuysell.main(stockBuySell.java:6)\r\n\r\n","title":"java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0","body":"<pre><code>import java.util.*;\n class stockbuysell{\n    //Function to find the days of buying and selling stock for max profit.\n    public static void main(String []args){\n        int A[] = {100,180,260,310,40,535,695};\n         ArrayList&lt;ArrayList&lt;Integer&gt;&gt; al = stockBuySell(A,7);\n    }\n    static ArrayList&lt;ArrayList&lt;Integer&gt; &gt; stockBuySell(int A[], int n) {\n        // code here\n       // buy = 0;\n        //sell = 1\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; al = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n        int flag = 0;\n        int idx = 0;\n        for(int i=1;i&lt;n;i++){\n            if(i==n-1 &amp;&amp; flag==1){\n                al.get(idx).add(i);\n                flag = 0;\n            }\n            if(flag == 0 &amp;&amp; A[i]&gt;A[i-1]){//\n                al.add(new ArrayList&lt;Integer&gt;());\n                al.get(idx).add(i-1);\n                flag = 1;\n            }\n            if(flag == 1 &amp;&amp; A[i]&lt;A[i-1]){//\n                al.get(idx).add(i-1);\n                flag = 0;\n                idx++;\n            }\n        }\n        for(int i=0;i&lt;al.size();i++){\n            System.out.println(al.get(i).get(0)+&quot; &quot;+al.get(i).get(1));\n        }\n        return al;\n    }\n}\n</code></pre>\n<p>I don't know where I get an error. It compiled successfully, while running it shows:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\n        at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n        at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n        at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\n        at java.base/java.util.Objects.checkIndex(Objects.java:359)\n        at java.base/java.util.ArrayList.get(ArrayList.java:427)\n        at stockbuysell.stockBuySell(stockBuySell.java:32)\n        at stockbuysell.main(stockBuySell.java:6)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12142689,"reputation":9,"user_id":8865952,"display_name":"Jonathan Soledad"},"score":0,"creation_date":1509510210,"post_id":47048192,"comment_id":81043482,"body_markdown":"Ignore the while loop towards the top i forgot to delete that.","body":"Ignore the while loop towards the top i forgot to delete that."},{"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"score":0,"creation_date":1509510843,"post_id":47048192,"comment_id":81043625,"body_markdown":"Walk yourself through the steps you would use to do it then think about how you can program an algorithm to do the same steps. Think about the fact that you have a fixed number of coins to deal with and they have a fixed value - 25, 10, 5, 1. Write out the math somewhere to make sure you understand how it will work and/or try to solve small pieces first (e.g. figure out how to calculate just the number of quarters needed then add more coins later)","body":"Walk yourself through the steps you would use to do it then think about how you can program an algorithm to do the same steps. Think about the fact that you have a fixed number of coins to deal with and they have a fixed value - 25, 10, 5, 1. Write out the math somewhere to make sure you understand how it will work and/or try to solve small pieces first (e.g. figure out how to calculate just the number of quarters needed then add more coins later)"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1509515787,"post_id":47048192,"comment_id":81045021,"body_markdown":"Best way to get the &quot;cents&quot; out of `dollar`, since `dollar` is a `double`: (1) Multiply by 100 to get the total number of cents, which could be &gt; 100 (2) Use `Math.round()` to convert to an integer (3) Use the `%` operator--I&#39;ll let you figure out how.  You need to use `round` because `double` cannot represent most dollar values exactly, and multiplying by 100 could give you an answer that&#39;s a little less or a little more than the actual integer value.","body":"Best way to get the &quot;cents&quot; out of <code>dollar</code>, since <code>dollar</code> is a <code>double</code>: (1) Multiply by 100 to get the total number of cents, which could be &gt; 100 (2) Use <code>Math.round()</code> to convert to an integer (3) Use the <code>%</code> operator--I&#39;ll let you figure out how.  You need to use <code>round</code> because <code>double</code> cannot represent most dollar values exactly, and multiplying by 100 could give you an answer that&#39;s a little less or a little more than the actual integer value."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1509516167,"post_id":47048192,"comment_id":81045161,"body_markdown":"I wrote the above before realizing that the assignment asked you to use a substring to extract the cents.  I think that is a really bad way to do things.  So now you know what the right way to do it is, even if you can&#39;t use it on this assignment.","body":"I wrote the above before realizing that the assignment asked you to use a substring to extract the cents.  I think that is a really bad way to do things.  So now you know what the right way to do it is, even if you can&#39;t use it on this assignment."}],"answers":[{"comments":[{"owner":{"account_id":12142689,"reputation":9,"user_id":8865952,"display_name":"Jonathan Soledad"},"score":0,"creation_date":1509518702,"post_id":47049173,"comment_id":81046063,"body_markdown":"Hey D.B. I got my code to work using the suggestions from earlier, yours included. my code works fine now, The sample codes you provided are really nice and i would like to study them a bit more and try to play around with it. However the things you used are a little too advanced for where we are at in the course so it wouldn&#39;t really help me for this specific assignment, but like i said i can play around with this code and just learn what i can from it for the time being. Thanks for all the help.","body":"Hey D.B. I got my code to work using the suggestions from earlier, yours included. my code works fine now, The sample codes you provided are really nice and i would like to study them a bit more and try to play around with it. However the things you used are a little too advanced for where we are at in the course so it wouldn&#39;t really help me for this specific assignment, but like i said i can play around with this code and just learn what i can from it for the time being. Thanks for all the help."},{"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"score":0,"creation_date":1509548459,"post_id":47049173,"comment_id":81062756,"body_markdown":"Glad to help. I wasn&#39;t sure how much you knew about the principles of Object Oriented Programming but I thought this would be a great chance for you to see how it could be implemented using a more object oriented approach. For some further reading you could take a look at the [Java Tutorials](http://docs.oracle.com/javase/tutorial/java/)","body":"Glad to help. I wasn&#39;t sure how much you knew about the principles of Object Oriented Programming but I thought this would be a great chance for you to see how it could be implemented using a more object oriented approach. For some further reading you could take a look at the <a href=\"http://docs.oracle.com/javase/tutorial/java/\" rel=\"nofollow noreferrer\">Java Tutorials</a>"}],"tags":[],"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509517125,"creation_date":1509516630,"answer_id":47049173,"question_id":47048192,"body_markdown":"Here&#39;s some example code for you to look at. Note that I renamed your `Dollar` variable to `dollarStr` since variables shouldn&#39;t begin with a capital letter per [Java Naming Conventions](http://www.oracle.com/technetwork/java/codeconventions-135099.html). I also want to point out that ajb is quite correct in that using `double` to represent currency is not a good idea. However, since this is a simple homework assignment I doubt that it&#39;s going to be an issue for you.\r\n\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Scanner;\r\n    \r\n    ...\r\n    \t\r\n    public static void main(String[] args){\r\n    \t//omitting extra code to shorten the answer\r\n    \t...\r\n    \r\n    \t}else if(conversion == 1) {\r\n    \t\tSystem.out.print(&quot;Enter the Yuan amount: &quot;);\r\n    \t\tyuan = key.nextDouble();\r\n    \t\tdollar = yuan / exchangeRate;\r\n    \r\n    \t\tSystem.out.printf(yuan + &quot; yuan is%8.3f dollars.&quot;, dollar);\r\n    \t\tSystem.out.println();\r\n    \r\n    \t\tdollarStr = String.valueOf(dollar);\r\n    \t\tSystem.out.println(dollarStr.substring(0, dollarStr.indexOf(&quot;.&quot;)) + &quot; dollars&quot;);\r\n    \t   \r\n    \t    //Get the &quot;cents&quot; part of the converted value\r\n    \t\tString centsStr = dollarStr.substring(dollarStr.indexOf(&quot;.&quot;));\r\n    \t\t//Convert the value into a double\r\n    \t\tdouble cents = Double.parseDouble(centsStr);\r\n    \t\t//Multiplying by 100 so that something like 0.173 dollars \r\n    \t\t// becomes 17.3 cents\r\n    \t\tcents *= 100;\r\n    \t\t\r\n    \t\t//Assuming you want to round to nearest penny, \r\n    \t\t//  but it&#39;s unclear from your question if this is correct.\r\n    \t\tcents = Math.round(cents); \r\n    \t\t\r\n    \t\t//quick and dirty conversion of the rounded cents to an integer value\r\n    \t\tint change = (int) cents;\r\n    \t\t\r\n    \t\t//For demonstration purposes, feel free to remove it.\r\n    \t\tSystem.out.println(cents+ &quot; cents&quot;);\r\n    \t\t\r\n    \t\t//Calculate how many of each kind of coin and display results.\r\n    \t\tMap&lt;Coin, Integer&gt; changeMap = makeChange(change);\r\n    \t\tfor(Coin coin: changeMap.keySet()){\r\n    \t\t\tint numCoins = changeMap.get(coin);\r\n    \t\t\tSystem.out.print(numCoins +&quot; &quot;+ (numCoins != 1 ? coin.getPlural() : coin.name().toLowerCase())+&quot; &quot;);\r\n    \t\t}\r\n    \t\tSystem.out.print(&quot;\\n&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    //Calculates the number of each kind of Coin to use\r\n    // in order to make the specified amount of change.\r\n    public static Map&lt;Coin,Integer&gt; makeChange(int cents){\r\n    \tMap&lt;Coin,Integer&gt; results = new HashMap&lt;&gt;();\r\n    \tfor(Coin coin: Coin.values()){\r\n    \t\tint numCoins = cents/coin.getValue();\r\n    \t\tcents = cents % coin.getValue();\r\n    \t\t\r\n    \t\tresults.put(coin, numCoins);\r\n    \t}\r\n    \treturn results;\r\n    }\r\n\r\nHere is the `Coin` [enumeration][1] that goes along with the above code: \r\n\r\n    public enum Coin {\r\n    \tQUARTER(25, &quot;quarters&quot;), DIME(10, &quot;dimes&quot;), NICKEL(5, &quot;nickels&quot;), PENNY(1, &quot;pennies&quot;);\r\n    \t\r\n    \tprivate int value;\r\n    \tprivate String plural;\r\n    \t\r\n    \tprivate Coin(int val, String plur){\r\n    \t\tvalue = val;\r\n    \t\tplural = plur;\r\n    \t}\r\n    \t\r\n    \tpublic int getValue(){\r\n    \t\treturn value;\r\n    \t}\r\n    \t\r\n    \tpublic String getPlural(){\r\n    \t\treturn plural;\r\n    \t}\r\n    }\r\n\r\nIf you&#39;re not comfortable with enums then feel free to convert that into a traditional class and define some constants instead.\r\n\r\nSome things you still need to worry about are: \r\n\r\n 1. Testing your code thoroughly\r\n 2. Handling bad user input - negative numbers, strings instead of numbers, etc.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","title":"Currency exchange rate java assignment","body":"<p>Here's some example code for you to look at. Note that I renamed your <code>Dollar</code> variable to <code>dollarStr</code> since variables shouldn't begin with a capital letter per <a href=\"http://www.oracle.com/technetwork/java/codeconventions-135099.html\" rel=\"nofollow noreferrer\">Java Naming Conventions</a>. I also want to point out that ajb is quite correct in that using <code>double</code> to represent currency is not a good idea. However, since this is a simple homework assignment I doubt that it's going to be an issue for you.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\n\n...\n\npublic static void main(String[] args){\n    //omitting extra code to shorten the answer\n    ...\n\n    }else if(conversion == 1) {\n        System.out.print(\"Enter the Yuan amount: \");\n        yuan = key.nextDouble();\n        dollar = yuan / exchangeRate;\n\n        System.out.printf(yuan + \" yuan is%8.3f dollars.\", dollar);\n        System.out.println();\n\n        dollarStr = String.valueOf(dollar);\n        System.out.println(dollarStr.substring(0, dollarStr.indexOf(\".\")) + \" dollars\");\n\n        //Get the \"cents\" part of the converted value\n        String centsStr = dollarStr.substring(dollarStr.indexOf(\".\"));\n        //Convert the value into a double\n        double cents = Double.parseDouble(centsStr);\n        //Multiplying by 100 so that something like 0.173 dollars \n        // becomes 17.3 cents\n        cents *= 100;\n\n        //Assuming you want to round to nearest penny, \n        //  but it's unclear from your question if this is correct.\n        cents = Math.round(cents); \n\n        //quick and dirty conversion of the rounded cents to an integer value\n        int change = (int) cents;\n\n        //For demonstration purposes, feel free to remove it.\n        System.out.println(cents+ \" cents\");\n\n        //Calculate how many of each kind of coin and display results.\n        Map&lt;Coin, Integer&gt; changeMap = makeChange(change);\n        for(Coin coin: changeMap.keySet()){\n            int numCoins = changeMap.get(coin);\n            System.out.print(numCoins +\" \"+ (numCoins != 1 ? coin.getPlural() : coin.name().toLowerCase())+\" \");\n        }\n        System.out.print(\"\\n\");\n    }\n\n}\n\n//Calculates the number of each kind of Coin to use\n// in order to make the specified amount of change.\npublic static Map&lt;Coin,Integer&gt; makeChange(int cents){\n    Map&lt;Coin,Integer&gt; results = new HashMap&lt;&gt;();\n    for(Coin coin: Coin.values()){\n        int numCoins = cents/coin.getValue();\n        cents = cents % coin.getValue();\n\n        results.put(coin, numCoins);\n    }\n    return results;\n}\n</code></pre>\n\n<p>Here is the <code>Coin</code> <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">enumeration</a> that goes along with the above code: </p>\n\n<pre><code>public enum Coin {\n    QUARTER(25, \"quarters\"), DIME(10, \"dimes\"), NICKEL(5, \"nickels\"), PENNY(1, \"pennies\");\n\n    private int value;\n    private String plural;\n\n    private Coin(int val, String plur){\n        value = val;\n        plural = plur;\n    }\n\n    public int getValue(){\n        return value;\n    }\n\n    public String getPlural(){\n        return plural;\n    }\n}\n</code></pre>\n\n<p>If you're not comfortable with enums then feel free to convert that into a traditional class and define some constants instead.</p>\n\n<p>Some things you still need to worry about are: </p>\n\n<ol>\n<li>Testing your code thoroughly</li>\n<li>Handling bad user input - negative numbers, strings instead of numbers, etc.</li>\n</ol>\n"}],"owner":{"account_id":12142689,"reputation":9,"user_id":8865952,"display_name":"Jonathan Soledad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13071,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693983655,"creation_date":1509510109,"question_id":47048192,"body_markdown":"Hello I am looking for help on my homework assignment!\r\nSo the prompt is as follows:\r\n\r\n&quot; Write a program that prompts the user to enter the exchange rate from currency in US dollars to Chinese RMB. Prompt the user to enter 0 to convert from US dollars to Chinese RMB and 1 to convert from Chinese RMB to US dollars. Prompt the user to enter the amount in US dollars or Chinese RMB to convert it to Chinese RMB or US dollars, respectively. When the user enters &quot;1&quot; (yuans to dollars) the program should extract the dollar amount before the decimal point, and the cents after the decimal amount using the indexOf() and substring() methods.Here are the sample runs, user&#39;s input is underlined:\r\n \r\nEnter the exchange rate from dollars to RMB: 6.81\r\nEnter 0 to convert dollars to RMB and 1 vice versa: 0\r\nEnter the dollar amount: 100\r\n$100.0 is 681.0 yuan.\r\nEnter the exchange rate from dollars to RMB: 6.81\r\nEnter 0 to convert dollars to RMB and 1 vice versa: 1\r\nEnter the yuan amount: 1000\r\n1000.0 yuan is $146.843 dollar\r\n 146 dollars\r\n 3 quarters\r\n 0 dimes\r\n 1 nickel\r\n 4 pennies&quot;\r\n\r\nSo i got my code to do all of the things before it separates the money into cent US cent values. This is where my problem comes in, I don&#39;t know how to work with the decimal values (or cents) to make it display how many of each are in the amount. \r\nThis is my code\r\n\r\n    import java.util.Scanner;\r\n    public class LabTask6 {\r\n    private static Scanner key = new Scanner(System.in);\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tdouble exchangeRate = 0;\r\n\t\tint conversion;\r\n\t\tdouble dollar = 0;\r\n\t\tdouble yuan = 0;\r\n\t\tString Dollar = &quot; &quot;;\r\n\t\tint quarter = 0;\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.print(&quot;Enter the exchange rate from dollars to RMB: &quot;);\r\n\t\texchangeRate = key.nextDouble();\r\n\t\t\r\n\t\tSystem.out.print(&quot;Enter 0 to convert dollars to RMB or &quot;\r\n\t\t\t\t+ &quot; 1 for RMB to dollars: &quot;);\r\n\t\tconversion = key.nextInt();\r\n\t\t\r\n\t\t\r\n\t\t//while(conversion == 0 || conversion == 1) {\r\n\t\tif(conversion == 0) {\r\n\t\t\tSystem.out.print(&quot;Enter the dollar amount: &quot;);\r\n\t\t\tdollar = key.nextDouble();\r\n\t\t\tyuan = dollar * exchangeRate;\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;$&quot; + dollar + &quot; is &quot; + yuan + &quot; yuan.&quot;);\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t}else if(conversion == 1) {\r\n\t\t\tSystem.out.print(&quot;Enter the Yuan amount: &quot;);\r\n\t\t\tyuan = key.nextDouble();\r\n\t\t\tdollar = yuan / exchangeRate;\r\n\t\t\t\r\n\t\t\tSystem.out.printf(yuan + &quot; yuan is%8.3f dollars.&quot;, dollar);\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t\tDollar = dollar + &quot;&quot;;\r\n\t\t\tSystem.out.println(Dollar.substring(0, Dollar.indexOf(&quot;.&quot;)) + &quot; dollars&quot;);\r\n\t\t}\r\n\t\t\t\t\r\n\t}\r\n\r\n    }\r\n\r\nAs you can see, in the second if statement i tried to get the &quot;dollar&quot; amount by converting the number into a string and displaying only the things from index(0) to the &#39;.&#39; char. However that will not work for the rest of the required items like nickels, dimes, quarters, and pennies.\r\nMy initial idea was to make a while loop that prevented the decimals (cents) from reaching zero and incrementing the cent value, declared as variables, so long as they were divisible by the cent value i.e. number was 126.47, i would take the 47 and see if it was divisible by 25 then if the result was &gt;0 then it would add 1 to quarter, or quarter++. Two problems come up with this, one is that the end value would not be 47 cents, and also that i am trying to figure out how to isolate and manipulate those cent values in the first place.\r\nI know i wrote a freaking essay but i am completely stumped now, and i was trying to be as clear as possible, can anyone help? \r\n\r\nRecap, i want to print the dollar, quarter, nickel, dime, and penny amounts. but have no clue how.","title":"Currency exchange rate java assignment","body":"<p>Hello I am looking for help on my homework assignment!\nSo the prompt is as follows:</p>\n\n<p>\" Write a program that prompts the user to enter the exchange rate from currency in US dollars to Chinese RMB. Prompt the user to enter 0 to convert from US dollars to Chinese RMB and 1 to convert from Chinese RMB to US dollars. Prompt the user to enter the amount in US dollars or Chinese RMB to convert it to Chinese RMB or US dollars, respectively. When the user enters \"1\" (yuans to dollars) the program should extract the dollar amount before the decimal point, and the cents after the decimal amount using the indexOf() and substring() methods.Here are the sample runs, user's input is underlined:</p>\n\n<p>Enter the exchange rate from dollars to RMB: 6.81\nEnter 0 to convert dollars to RMB and 1 vice versa: 0\nEnter the dollar amount: 100\n$100.0 is 681.0 yuan.\nEnter the exchange rate from dollars to RMB: 6.81\nEnter 0 to convert dollars to RMB and 1 vice versa: 1\nEnter the yuan amount: 1000\n1000.0 yuan is $146.843 dollar\n 146 dollars\n 3 quarters\n 0 dimes\n 1 nickel\n 4 pennies\"</p>\n\n<p>So i got my code to do all of the things before it separates the money into cent US cent values. This is where my problem comes in, I don't know how to work with the decimal values (or cents) to make it display how many of each are in the amount. \nThis is my code</p>\n\n<pre><code>import java.util.Scanner;\npublic class LabTask6 {\nprivate static Scanner key = new Scanner(System.in);\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    double exchangeRate = 0;\n    int conversion;\n    double dollar = 0;\n    double yuan = 0;\n    String Dollar = \" \";\n    int quarter = 0;\n\n\n    System.out.print(\"Enter the exchange rate from dollars to RMB: \");\n    exchangeRate = key.nextDouble();\n\n    System.out.print(\"Enter 0 to convert dollars to RMB or \"\n            + \" 1 for RMB to dollars: \");\n    conversion = key.nextInt();\n\n\n    //while(conversion == 0 || conversion == 1) {\n    if(conversion == 0) {\n        System.out.print(\"Enter the dollar amount: \");\n        dollar = key.nextDouble();\n        yuan = dollar * exchangeRate;\n\n        System.out.println(\"$\" + dollar + \" is \" + yuan + \" yuan.\");\n        System.out.println();\n\n    }else if(conversion == 1) {\n        System.out.print(\"Enter the Yuan amount: \");\n        yuan = key.nextDouble();\n        dollar = yuan / exchangeRate;\n\n        System.out.printf(yuan + \" yuan is%8.3f dollars.\", dollar);\n        System.out.println();\n\n        Dollar = dollar + \"\";\n        System.out.println(Dollar.substring(0, Dollar.indexOf(\".\")) + \" dollars\");\n    }\n\n}\n\n}\n</code></pre>\n\n<p>As you can see, in the second if statement i tried to get the \"dollar\" amount by converting the number into a string and displaying only the things from index(0) to the '.' char. However that will not work for the rest of the required items like nickels, dimes, quarters, and pennies.\nMy initial idea was to make a while loop that prevented the decimals (cents) from reaching zero and incrementing the cent value, declared as variables, so long as they were divisible by the cent value i.e. number was 126.47, i would take the 47 and see if it was divisible by 25 then if the result was >0 then it would add 1 to quarter, or quarter++. Two problems come up with this, one is that the end value would not be 47 cents, and also that i am trying to figure out how to isolate and manipulate those cent values in the first place.\nI know i wrote a freaking essay but i am completely stumped now, and i was trying to be as clear as possible, can anyone help? </p>\n\n<p>Recap, i want to print the dollar, quarter, nickel, dime, and penny amounts. but have no clue how.</p>\n"},{"tags":["java","exception","tcp","socket.io","client-server"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1693989430,"post_id":77049640,"comment_id":135830822,"body_markdown":"1. Can you ping `172.13.0.1`? 2. Can you Telnet to `172.13.0.1 port 61616`? Hint: this is not a coding problem.","body":"1. Can you ping <code>172.13.0.1</code>? 2. Can you Telnet to <code>172.13.0.1 port 61616</code>? Hint: this is not a coding problem."},{"owner":{"account_id":4112149,"reputation":1,"user_id":21115947,"display_name":"user61815"},"score":0,"creation_date":1694003080,"post_id":77049640,"comment_id":135833541,"body_markdown":"yes, its reachable. I can connect to the port. I added dos.writeUTF(data + &quot;\\n&quot;); to my code and I think it has worked. have not seen this error since then, still observing.","body":"yes, its reachable. I can connect to the port. I added dos.writeUTF(data + &quot;\\n&quot;); to my code and I think it has worked. have not seen this error since then, still observing."}],"owner":{"account_id":4112149,"reputation":1,"user_id":21115947,"display_name":"user61815"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693983645,"creation_date":1693983645,"question_id":77049640,"body_markdown":"I&#39;m new to java and building a microservice in java that reads messages from ActiveMQ and send the message as a TCP packet to another server using socker programming. I&#39;m able to successfully read the message from ActiveMQ however after sending a few TCP packets I get &#39;Operation timed out&#39; exception.  Please let me know what can be done to resolve this?\r\n\r\n    App.java\r\n\r\n\r\n    package com.example;\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    import javax.jms.*;\r\n    import java.io.*;\r\n    import java.net.Socket;\r\n    import org.apache.activemq.ActiveMQConnectionFactory;\r\n\r\n    public class App\r\n    {\r\n    private static String url = &quot;tcp://172.13.0.1:61616&quot;;\r\n    private static String topicName = &quot;topic/CNAAlarms&quot;;\r\n    public static void main(String[] args)\r\n    {\r\n        try {\r\n            connectToActiveMQ(url, topicName);\r\n        }catch(Exception e){\r\n            System.out.println(&quot;for connectToActiveMQ == &quot; + e.getMessage());\r\n            System.out.println(&quot;------------&quot;);\r\n        }\r\n    }\r\n    public static void connectToActiveMQ(String url, String topicName) throws JMSException {\r\n        System.out.println(&quot;inside connectToActiveMQ&quot;);\r\n        System.out.println(&quot;url = &quot; + url);\r\n        System.out.println(&quot;topicName = &quot; + topicName);\r\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\r\n        connectionFactory.setUserName(&quot;abc@abc&quot;);\r\n        connectionFactory.setPassword(&quot;abc&quot;);\r\n        connectionFactory.setClientID(&quot;testingClient&quot;);\r\n        connectionFactory.setBrokerURL(url);\r\n        Connection connection = connectionFactory.createConnection();\r\n        System.out.println(&quot;connected&quot;);\r\n        connection.start(); \r\n        Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n        System.out.println(&quot;session created&quot;);\r\n        Topic topic = session.createTopic(topicName);\r\n        TopicSubscriber durablSubscriber = session.createDurableSubscriber(topic, topicName);\r\n        System.out.println(&quot;durable subscriber created&quot;);\r\n        MessageListener listener = new Listener();\r\n        durablSubscriber.setMessageListener(listener);\r\n      \r\n    }\r\n    public static void sendDataToTCPServer(String data){\r\n       // initialize socket and output streams\r\n        try {\r\n            System.out.println(&quot;Inside SendDataToTCPServer&quot;);\r\n            Socket s = new Socket(&quot;abc123d.it.internal&quot;, 11201);\r\n            DataOutputStream dos = new DataOutputStream(s.getOutputStream());\r\n            dos.writeUTF(data);\r\n            dos.close();\r\n            s.close();\r\n    \r\n        }catch(IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    }\r\n\r\n    Listener.java\r\n\r\n\r\n    package com.example;\r\n    import javax.jms.*;\r\n    public class Listener implements MessageListener{\r\n    public void onMessage(Message message){\r\n        try{\r\n            if (message instanceof TextMessage) {\r\n                TextMessage textMessage = (TextMessage) message;\r\n                String text = textMessage.getText();\r\n                System.out.println(&quot;Received text: &quot; + text);\r\n                App.sendDataToTCPServer(&quot;activemq-bridge :&quot; + text + &quot;\\n&quot;);\r\n    \r\n            } else {\r\n                System.out.println(&quot;Received: &quot; + message);\r\n                App.sendDataToTCPServer(&quot;activemq-bridge :&quot; +message + &quot;\\n&quot;);\r\n            }\r\n        }catch(Exception e){\r\n            System.out.println(&quot;for onMessage Listener: &quot; + e.getMessage());\r\n        }\r\n    }\r\n    }\r\n\r\n\r\n\r\n    Output:\r\n\r\n    Received text: {&quot;userName&quot;:null,&quot;enterpriseName&quot;:&quot;ABC&quot;}\r\n    Inside SendDataToTCPServer\r\n    java.net.ConnectException: Operation timed out\r\n        at java.base/sun.nio.ch.Net.connect0(Native Method)\r\n        at java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n        at java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n        at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:585)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n        at java.base/java.net.Socket.connect(Socket.java:633)\r\n        at java.base/java.net.Socket.connect(Socket.java:583)\r\n        at java.base/java.net.Socket.&lt;init&gt;(Socket.java:507)\r\n        at java.base/java.net.Socket.&lt;init&gt;(Socket.java:287)\r\n        at com.example.App.sendDataToTCPServer(App.java:98)\r\n        at com.example.Listener.onMessage(Listener.java:12)\r\n        at    org.apache.activemq.ActiveMQMessageConsumer.dispatch(ActiveMQMessageConsumer.java:1321)\r\n        at org.apache.activemq.ActiveMQSessionExecutor.dispatch(ActiveMQSessionExecutor.java:131)\r\n        at org.apache.activemq.ActiveMQSessionExecutor.iterate(ActiveMQSessionExecutor.java:202)\r\n        at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:129)\r\n        at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:47)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n","title":"Java Socket programming java.net.ConnectException: Operation timed out","body":"<p>I'm new to java and building a microservice in java that reads messages from ActiveMQ and send the message as a TCP packet to another server using socker programming. I'm able to successfully read the message from ActiveMQ however after sending a few TCP packets I get 'Operation timed out' exception.  Please let me know what can be done to resolve this?</p>\n<pre><code>App.java\n\n\npackage com.example;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport javax.jms.*;\nimport java.io.*;\nimport java.net.Socket;\nimport org.apache.activemq.ActiveMQConnectionFactory;\n\npublic class App\n{\nprivate static String url = &quot;tcp://172.13.0.1:61616&quot;;\nprivate static String topicName = &quot;topic/CNAAlarms&quot;;\npublic static void main(String[] args)\n{\n    try {\n        connectToActiveMQ(url, topicName);\n    }catch(Exception e){\n        System.out.println(&quot;for connectToActiveMQ == &quot; + e.getMessage());\n        System.out.println(&quot;------------&quot;);\n    }\n}\npublic static void connectToActiveMQ(String url, String topicName) throws JMSException {\n    System.out.println(&quot;inside connectToActiveMQ&quot;);\n    System.out.println(&quot;url = &quot; + url);\n    System.out.println(&quot;topicName = &quot; + topicName);\n    ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\n    connectionFactory.setUserName(&quot;abc@abc&quot;);\n    connectionFactory.setPassword(&quot;abc&quot;);\n    connectionFactory.setClientID(&quot;testingClient&quot;);\n    connectionFactory.setBrokerURL(url);\n    Connection connection = connectionFactory.createConnection();\n    System.out.println(&quot;connected&quot;);\n    connection.start(); \n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n    System.out.println(&quot;session created&quot;);\n    Topic topic = session.createTopic(topicName);\n    TopicSubscriber durablSubscriber = session.createDurableSubscriber(topic, topicName);\n    System.out.println(&quot;durable subscriber created&quot;);\n    MessageListener listener = new Listener();\n    durablSubscriber.setMessageListener(listener);\n  \n}\npublic static void sendDataToTCPServer(String data){\n   // initialize socket and output streams\n    try {\n        System.out.println(&quot;Inside SendDataToTCPServer&quot;);\n        Socket s = new Socket(&quot;abc123d.it.internal&quot;, 11201);\n        DataOutputStream dos = new DataOutputStream(s.getOutputStream());\n        dos.writeUTF(data);\n        dos.close();\n        s.close();\n\n    }catch(IOException e) {\n        e.printStackTrace();\n    }\n}\n}\n\nListener.java\n\n\npackage com.example;\nimport javax.jms.*;\npublic class Listener implements MessageListener{\npublic void onMessage(Message message){\n    try{\n        if (message instanceof TextMessage) {\n            TextMessage textMessage = (TextMessage) message;\n            String text = textMessage.getText();\n            System.out.println(&quot;Received text: &quot; + text);\n            App.sendDataToTCPServer(&quot;activemq-bridge :&quot; + text + &quot;\\n&quot;);\n\n        } else {\n            System.out.println(&quot;Received: &quot; + message);\n            App.sendDataToTCPServer(&quot;activemq-bridge :&quot; +message + &quot;\\n&quot;);\n        }\n    }catch(Exception e){\n        System.out.println(&quot;for onMessage Listener: &quot; + e.getMessage());\n    }\n}\n}\n\n\n\nOutput:\n\nReceived text: {&quot;userName&quot;:null,&quot;enterpriseName&quot;:&quot;ABC&quot;}\nInside SendDataToTCPServer\njava.net.ConnectException: Operation timed out\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:585)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/java.net.Socket.connect(Socket.java:583)\n    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:507)\n    at java.base/java.net.Socket.&lt;init&gt;(Socket.java:287)\n    at com.example.App.sendDataToTCPServer(App.java:98)\n    at com.example.Listener.onMessage(Listener.java:12)\n    at    org.apache.activemq.ActiveMQMessageConsumer.dispatch(ActiveMQMessageConsumer.java:1321)\n    at org.apache.activemq.ActiveMQSessionExecutor.dispatch(ActiveMQSessionExecutor.java:131)\n    at org.apache.activemq.ActiveMQSessionExecutor.iterate(ActiveMQSessionExecutor.java:202)\n    at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:129)\n    at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:47)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","javafx","libraries","compatibility"],"owner":{"account_id":202644,"reputation":859,"user_id":449845,"accept_rate":61,"display_name":"schmimona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693983634,"creation_date":1693983634,"question_id":77049638,"body_markdown":"I trying to update the libraries in a JavaFX project. Unfortunately after updating them, one functionality - creating a DOC file - doesn&#39;t work anymore.\r\n\r\nThe code goes into this line of code :\r\n\r\n    resultDocument = new XWPFDocument();\r\n\r\nand doesn&#39;t come out. There is no exception and it doesn&#39;t freeze.\r\n\r\nI think there is a compatibility issue with the libraries. This are the libraries that I am using:\r\n\r\n- commons-codec-1.16.0 \r\n- commons-compress-1.23.0 \r\n- commons-io-2.13.0\r\n- commons-lang3-3.13.0 \r\n- commons-logging-1.2 \r\n- controlsfx-8.40.16\r\n- dom4j-2.1.4 \r\n- gembox-spreadsheet \r\n- geronimo-stax-api_1.0_spec-1.0\r\n- guava-32.1.2-jre \r\n- jsoup-1.16.1\r\n- jsr305-3.0.2 \r\n- log4j-1.2-api-2.20.0\r\n- log4j-api-2.20.0 \r\n- log4j-core-2.20.0 \r\n- poi-5.2.3 \r\n- poi-ooxml-5.2.3\r\n- poi-ooxml-full-5.2.3 \r\n- poi-ooxml-schemas-4.1.2 \r\n- saxon-9.1.0.8\r\n- saxon-dom-9.1.0.8 \r\n- stax-api-1.0.1 \r\n- xbean \r\n- xbean_xpath \r\n- xml-apis-1.4.1\r\n- xmlbeans-5.1.1 \r\n- zip4j-2.11.5\r\n\r\nI am using jre1.8.0_361 fr this project.\r\nDo you have any ideas?","title":"Creating a new XWPFDocument after updating libraries does not work","body":"<p>I trying to update the libraries in a JavaFX project. Unfortunately after updating them, one functionality - creating a DOC file - doesn't work anymore.</p>\n<p>The code goes into this line of code :</p>\n<pre><code>resultDocument = new XWPFDocument();\n</code></pre>\n<p>and doesn't come out. There is no exception and it doesn't freeze.</p>\n<p>I think there is a compatibility issue with the libraries. This are the libraries that I am using:</p>\n<ul>\n<li>commons-codec-1.16.0</li>\n<li>commons-compress-1.23.0</li>\n<li>commons-io-2.13.0</li>\n<li>commons-lang3-3.13.0</li>\n<li>commons-logging-1.2</li>\n<li>controlsfx-8.40.16</li>\n<li>dom4j-2.1.4</li>\n<li>gembox-spreadsheet</li>\n<li>geronimo-stax-api_1.0_spec-1.0</li>\n<li>guava-32.1.2-jre</li>\n<li>jsoup-1.16.1</li>\n<li>jsr305-3.0.2</li>\n<li>log4j-1.2-api-2.20.0</li>\n<li>log4j-api-2.20.0</li>\n<li>log4j-core-2.20.0</li>\n<li>poi-5.2.3</li>\n<li>poi-ooxml-5.2.3</li>\n<li>poi-ooxml-full-5.2.3</li>\n<li>poi-ooxml-schemas-4.1.2</li>\n<li>saxon-9.1.0.8</li>\n<li>saxon-dom-9.1.0.8</li>\n<li>stax-api-1.0.1</li>\n<li>xbean</li>\n<li>xbean_xpath</li>\n<li>xml-apis-1.4.1</li>\n<li>xmlbeans-5.1.1</li>\n<li>zip4j-2.11.5</li>\n</ul>\n<p>I am using jre1.8.0_361 fr this project.\nDo you have any ideas?</p>\n"},{"tags":["java","python","key"],"answers":[{"comments":[{"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"score":0,"creation_date":1693982697,"post_id":77048398,"comment_id":135829623,"body_markdown":"Thank you for your help! I managed to resolve right before your answer, but wasn&#39;t fully clear to me, now with your explanation is more clear, I&#39;ll add an EDIT with solution and accept your kind answer! Thanks!","body":"Thank you for your help! I managed to resolve right before your answer, but wasn&#39;t fully clear to me, now with your explanation is more clear, I&#39;ll add an EDIT with solution and accept your kind answer! Thanks!"}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693960349,"creation_date":1693960349,"answer_id":77048398,"question_id":77046197,"body_markdown":"**That format is not a point** and trying to use or decode it as a point won&#39;t work. Also, the first byte of an X9-compressed point, what you call &#39;signbyte&#39;, for a point with y-coordinate even, is 0x02 not 0x03. And the language you posted isn&#39;t Java, although it is apparently calling Java.\r\n\r\nThere are two approaches:\r\n\r\n1. use the format you&#39;ve built, which is **actually the ASN.1 structure SubjectPublicKeyInfo** [defined in X.509/PKIX](https://www.rfc-editor.org/rfc/rfc5280#section-4.1.2.7) supplemented [for ECC by RFC5480](https://www.rfc-editor.org/rfc/rfc5480#section-2):\r\n```none\r\n$ xxd -r -p &lt;&lt;END | openssl asn1parse -inform der -i -dump\r\n3039301306072a8648ce3d020106082a8648ce3d030107032200\r\n02d97d3b7c269bfa720f01605be5e46585d39f474064ae1c7b4e03377066d1df58\r\nEND\r\n    0:d=0  hl=2 l=  57 cons: SEQUENCE\r\n    2:d=1  hl=2 l=  19 cons:  SEQUENCE\r\n    4:d=2  hl=2 l=   7 prim:   OBJECT            :id-ecPublicKey\r\n   13:d=2  hl=2 l=   8 prim:   OBJECT            :prime256v1\r\n   23:d=1  hl=2 l=  34 prim:  BIT STRING\r\n      0000 - 00 02 d9 7d 3b 7c 26 9b-fa 72 0f 01 60 5b e5 e4   ...};|&amp;..r..`[..\r\n      0010 - 65 85 d3 9f 47 40 64 ae-1c 7b 4e 03 37 70 66 d1   e...G@d..{N.7pf.\r\n      0020 - df 58                                             .X\r\n# observe that this contains an AlgorithmIdentifier for (X9-style) ECC with the desired curve\r\n# and a BIT STRING _containing_ (after the first byte 0x00 which is actually part of \r\n# the ASN.1 encoding but OpenSSL displays as part of the value) the point 0x02 + 32 bytes\r\n```\r\n\r\nThis is the format used by (standard) Java crypto for publickey encoding, as well as by OpenSSL and things using OpenSSL like pyca and many others, and (thus) can be processed as-is by a suitable JCA `KeyFactory`:\r\n```Java\r\n        byte[] spki = unhex(&quot;3039301306072a8648ce3d020106082a8648ce3d030107032200&quot;\r\n            + &quot;02d97d3b7c269bfa720f01605be5e46585d39f474064ae1c7b4e03377066d1df58&quot;);\r\n        KeyFactory kf1 = KeyFactory.getInstance(&quot;EC&quot;,&quot;BC&quot;);\r\n        PublicKey pub1 = kf1.generatePublic(new X509EncodedKeySpec(spki));\r\n```\r\n\r\n2. use the approach you posted, but pass it ONLY the point NOT the whole structure (i.e. WITHOUT the &#39;fixed prefix&#39;). Also you don&#39;t need to convert the spec:\r\n```Java\r\nimport org.bouncycastle.jce.ECNamedCurveTable;\r\nimport org.bouncycastle.jce.spec.ECNamedCurveParameterSpec;\r\nimport org.bouncycastle.jce.spec.ECPublicKeySpec;\r\nimport org.bouncycastle.math.ec.ECPoint; // NOT the JCA one!\r\n...\r\n        byte[] raw = unhex(&quot;02d97d3b7c269bfa720f01605be5e46585d39f474064ae1c7b4e03377066d1df58&quot;);\r\n        ECNamedCurveParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec (&quot;prime256v1&quot;);\r\n        ECPoint point = ecSpec.getCurve().decodePoint (raw);\r\n        KeyFactory kf2 = KeyFactory.getInstance(&quot;EC&quot;, &quot;BC&quot;);\r\n        PublicKey pub2 = kf2.generatePublic(new ECPublicKeySpec(point, ecSpec));\r\n```\r\n","title":"Read EC Public Key, works in python, error in java","body":"<p><strong>That format is not a point</strong> and trying to use or decode it as a point won't work. Also, the first byte of an X9-compressed point, what you call 'signbyte', for a point with y-coordinate even, is 0x02 not 0x03. And the language you posted isn't Java, although it is apparently calling Java.</p>\n<p>There are two approaches:</p>\n<ol>\n<li>use the format you've built, which is <strong>actually the ASN.1 structure SubjectPublicKeyInfo</strong> <a href=\"https://www.rfc-editor.org/rfc/rfc5280#section-4.1.2.7\" rel=\"nofollow noreferrer\">defined in X.509/PKIX</a> supplemented <a href=\"https://www.rfc-editor.org/rfc/rfc5480#section-2\" rel=\"nofollow noreferrer\">for ECC by RFC5480</a>:</li>\n</ol>\n<pre class=\"lang-none prettyprint-override\"><code>$ xxd -r -p &lt;&lt;END | openssl asn1parse -inform der -i -dump\n3039301306072a8648ce3d020106082a8648ce3d030107032200\n02d97d3b7c269bfa720f01605be5e46585d39f474064ae1c7b4e03377066d1df58\nEND\n    0:d=0  hl=2 l=  57 cons: SEQUENCE\n    2:d=1  hl=2 l=  19 cons:  SEQUENCE\n    4:d=2  hl=2 l=   7 prim:   OBJECT            :id-ecPublicKey\n   13:d=2  hl=2 l=   8 prim:   OBJECT            :prime256v1\n   23:d=1  hl=2 l=  34 prim:  BIT STRING\n      0000 - 00 02 d9 7d 3b 7c 26 9b-fa 72 0f 01 60 5b e5 e4   ...};|&amp;..r..`[..\n      0010 - 65 85 d3 9f 47 40 64 ae-1c 7b 4e 03 37 70 66 d1   e...G@d..{N.7pf.\n      0020 - df 58                                             .X\n# observe that this contains an AlgorithmIdentifier for (X9-style) ECC with the desired curve\n# and a BIT STRING _containing_ (after the first byte 0x00 which is actually part of \n# the ASN.1 encoding but OpenSSL displays as part of the value) the point 0x02 + 32 bytes\n</code></pre>\n<p>This is the format used by (standard) Java crypto for publickey encoding, as well as by OpenSSL and things using OpenSSL like pyca and many others, and (thus) can be processed as-is by a suitable JCA <code>KeyFactory</code>:</p>\n<pre><code>        byte[] spki = unhex(&quot;3039301306072a8648ce3d020106082a8648ce3d030107032200&quot;\n            + &quot;02d97d3b7c269bfa720f01605be5e46585d39f474064ae1c7b4e03377066d1df58&quot;);\n        KeyFactory kf1 = KeyFactory.getInstance(&quot;EC&quot;,&quot;BC&quot;);\n        PublicKey pub1 = kf1.generatePublic(new X509EncodedKeySpec(spki));\n</code></pre>\n<ol start=\"2\">\n<li>use the approach you posted, but pass it ONLY the point NOT the whole structure (i.e. WITHOUT the 'fixed prefix'). Also you don't need to convert the spec:</li>\n</ol>\n<pre><code>import org.bouncycastle.jce.ECNamedCurveTable;\nimport org.bouncycastle.jce.spec.ECNamedCurveParameterSpec;\nimport org.bouncycastle.jce.spec.ECPublicKeySpec;\nimport org.bouncycastle.math.ec.ECPoint; // NOT the JCA one!\n...\n        byte[] raw = unhex(&quot;02d97d3b7c269bfa720f01605be5e46585d39f474064ae1c7b4e03377066d1df58&quot;);\n        ECNamedCurveParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec (&quot;prime256v1&quot;);\n        ECPoint point = ecSpec.getCurve().decodePoint (raw);\n        KeyFactory kf2 = KeyFactory.getInstance(&quot;EC&quot;, &quot;BC&quot;);\n        PublicKey pub2 = kf2.generatePublic(new ECPublicKeySpec(point, ecSpec));\n</code></pre>\n"}],"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77048398,"answer_count":1,"score":0,"last_activity_date":1693983512,"creation_date":1693924802,"question_id":77046197,"body_markdown":"I have this issue moving some code from python to java.\r\nThe following public key:\r\n&gt; MDkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDIgAC2X07fCab+nIPAWBb5eRlhdOfR0Bkrhx7TgM3cGbR31g=\r\n\r\ncan be succesfully read from this python code:\r\n``` lang-py\r\nkey = bytearray.fromhex(\r\n   &quot;3039301306072a8648ce3d020106082a8648ce3d030107032200&quot;\r\n) + bytearray([0x03]) + bytearray.fromhex(&quot;d97d3b7c269bfa720f01605be5e46585d39f474064ae1c7b4e03377066d1df58&quot;)\r\ndevice_public_key = load_der_public_key(\r\n                key\r\n            )\r\n```\r\nprinting out device_public_key I see:\r\n&gt; &lt;cryptography.hazmat.backends.openssl.ec._EllipticCurvePublicKey object at 0x102372cd0&gt;\r\n\r\nWhen trying to do the same in Java, I fail in every possibile try:\r\n``` lang-kt\r\n    fun loadKey() {\r\n       \r\n        val key  = Hex.decode(&quot;3039301306072a8648ce3d020106082a8648ce3d03010703220003d97d3b7c269bfa720f01605be5e46585d39f474064ae1c7b4e03377066d1df58&quot;)\r\n        try {\r\n            read(key)\r\n        } catch (e: Exception) {\r\n            println(&quot;Failed to load for sign $sign: $e&quot;)\r\n        }\r\n    }\r\n\r\n    private fun read(publicKey: ByteArray) {\r\n        val spec: ECNamedCurveParameterSpec = ECNamedCurveTable.getParameterSpec(&quot;prime256v1&quot;)\r\n        val kf = KeyFactory.getInstance(&quot;ECDSA&quot;, BouncyCastleProvider())\r\n        val params = ECNamedCurveSpec(&quot;prime256v1&quot;, spec.curve, spec.g, spec.n)\r\n        val point: ECPoint = ECPointUtil.decodePoint(params.curve, publicKey)\r\n        val pubKeySpec = ECPublicKeySpec(point, params)\r\n        val t =  kf.generatePublic(pubKeySpec) as ECPublicKey\r\n        println(t)\r\n    }\r\n\r\n```\r\n\r\nThe exception i get is:\r\n&gt; java.lang.IllegalArgumentException: Invalid point encoding 0x30\r\n\r\nI can&#39;t undestand what&#39;s wrong since the key is correct (works in python).\r\nI tryed to Byte64 encode/decode but it always fail.\r\n\r\nThis post is linked to my previous question (next step):\r\nhttps://security.stackexchange.com/questions/272048/parsing-and-loading-ec-private-key-curve-secp256r1\r\n\r\nThe public key is different, the one i&#39;m trying to load is defined as a concatenation of a fixed header, a signbyte and the variable I receive:\r\n&gt;Compressed ephemeral public key used for ECDH w/ reader private key, 32 byte X coordinate. Note: when uncompressing, the Y coordinate is always even\r\n\r\nEDIT: Thanks to @dave_thompson_085 for the explanation!\r\nIndeed the code is not Java but Kotlin (JVM compatible), I forgot to mention it (code runs on Android).\r\nMy solution is similar to 2nd option, but the curve is obtained from the private key, and the compressed key (as explained) is only the sign byte (0x02) plus the body (as I understood, the body is the xCoordinate of the point).\r\n\r\n``` lang-kt\r\nfun load_compressed_public_key(privateKey: ECPrivateKey, compressedKey: ByteArray): ECPublicKey {\r\n            val decodePoint = org.bouncycastle.jce.ECPointUtil.decodePoint(privateKey.params.curve, compressedKey)\r\n            val spec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;)\r\n            val kf = java.security.KeyFactory.getInstance(&quot;ECDSA&quot;, BouncyCastleProvider())\r\n            val params = ECNamedCurveSpec(&quot;secp256r1&quot;, spec.curve, spec.g, spec.n)\r\n            val pubKeySpec = java.security.spec.ECPublicKeySpec(decodePoint, params)\r\n            val uncompressed = kf.generatePublic(pubKeySpec) as ECPublicKey\r\n            return uncompressed\r\n        }\r\n```\r\n\r\nI also tried to use approach 1 (was my first attempt) but I failed just because I did not add BouncyCastleProvider when obtaining the KeyFactory! I did a quick test, with &quot;BC&quot; works, without fails with &quot;Invalid EC Key&quot;\r\nBelow the working test (in kotlin):\r\n\r\n``` lang-kt\r\n    @Test\r\n    fun `test load ephemeral x509`(){\r\n        val spki: ByteArray = Hex.decode(\r\n            &quot;3039301306072a8648ce3d020106082a8648ce3d030107032200&quot;\r\n                    + &quot;02d97d3b7c269bfa720f01605be5e46585d39f474064ae1c7b4e03377066d1df58&quot;\r\n        )\r\n        val kf1: KeyFactory = KeyFactory.getInstance(&quot;EC&quot;, BouncyCastleProvider())\r\n        val pub1: PublicKey = kf1.generatePublic(X509EncodedKeySpec(spki))\r\n        println(pub1)\r\n    }\r\n```\r\n\r\n\r\nThanks again for the help and for the explanation, I appreciate it instead of raw code!","title":"Read EC Public Key, works in python, error in java","body":"<p>I have this issue moving some code from python to java.\nThe following public key:</p>\n<blockquote>\n<p>MDkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDIgAC2X07fCab+nIPAWBb5eRlhdOfR0Bkrhx7TgM3cGbR31g=</p>\n</blockquote>\n<p>can be succesfully read from this python code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>key = bytearray.fromhex(\n   &quot;3039301306072a8648ce3d020106082a8648ce3d030107032200&quot;\n) + bytearray([0x03]) + bytearray.fromhex(&quot;d97d3b7c269bfa720f01605be5e46585d39f474064ae1c7b4e03377066d1df58&quot;)\ndevice_public_key = load_der_public_key(\n                key\n            )\n</code></pre>\n<p>printing out device_public_key I see:</p>\n<blockquote>\n<p>&lt;cryptography.hazmat.backends.openssl.ec._EllipticCurvePublicKey object at 0x102372cd0&gt;</p>\n</blockquote>\n<p>When trying to do the same in Java, I fail in every possibile try:</p>\n<pre class=\"lang-kt prettyprint-override\"><code>    fun loadKey() {\n       \n        val key  = Hex.decode(&quot;3039301306072a8648ce3d020106082a8648ce3d03010703220003d97d3b7c269bfa720f01605be5e46585d39f474064ae1c7b4e03377066d1df58&quot;)\n        try {\n            read(key)\n        } catch (e: Exception) {\n            println(&quot;Failed to load for sign $sign: $e&quot;)\n        }\n    }\n\n    private fun read(publicKey: ByteArray) {\n        val spec: ECNamedCurveParameterSpec = ECNamedCurveTable.getParameterSpec(&quot;prime256v1&quot;)\n        val kf = KeyFactory.getInstance(&quot;ECDSA&quot;, BouncyCastleProvider())\n        val params = ECNamedCurveSpec(&quot;prime256v1&quot;, spec.curve, spec.g, spec.n)\n        val point: ECPoint = ECPointUtil.decodePoint(params.curve, publicKey)\n        val pubKeySpec = ECPublicKeySpec(point, params)\n        val t =  kf.generatePublic(pubKeySpec) as ECPublicKey\n        println(t)\n    }\n\n</code></pre>\n<p>The exception i get is:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Invalid point encoding 0x30</p>\n</blockquote>\n<p>I can't undestand what's wrong since the key is correct (works in python).\nI tryed to Byte64 encode/decode but it always fail.</p>\n<p>This post is linked to my previous question (next step):\n<a href=\"https://security.stackexchange.com/questions/272048/parsing-and-loading-ec-private-key-curve-secp256r1\">https://security.stackexchange.com/questions/272048/parsing-and-loading-ec-private-key-curve-secp256r1</a></p>\n<p>The public key is different, the one i'm trying to load is defined as a concatenation of a fixed header, a signbyte and the variable I receive:</p>\n<blockquote>\n<p>Compressed ephemeral public key used for ECDH w/ reader private key, 32 byte X coordinate. Note: when uncompressing, the Y coordinate is always even</p>\n</blockquote>\n<p>EDIT: Thanks to @dave_thompson_085 for the explanation!\nIndeed the code is not Java but Kotlin (JVM compatible), I forgot to mention it (code runs on Android).\nMy solution is similar to 2nd option, but the curve is obtained from the private key, and the compressed key (as explained) is only the sign byte (0x02) plus the body (as I understood, the body is the xCoordinate of the point).</p>\n<pre class=\"lang-kt prettyprint-override\"><code>fun load_compressed_public_key(privateKey: ECPrivateKey, compressedKey: ByteArray): ECPublicKey {\n            val decodePoint = org.bouncycastle.jce.ECPointUtil.decodePoint(privateKey.params.curve, compressedKey)\n            val spec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;)\n            val kf = java.security.KeyFactory.getInstance(&quot;ECDSA&quot;, BouncyCastleProvider())\n            val params = ECNamedCurveSpec(&quot;secp256r1&quot;, spec.curve, spec.g, spec.n)\n            val pubKeySpec = java.security.spec.ECPublicKeySpec(decodePoint, params)\n            val uncompressed = kf.generatePublic(pubKeySpec) as ECPublicKey\n            return uncompressed\n        }\n</code></pre>\n<p>I also tried to use approach 1 (was my first attempt) but I failed just because I did not add BouncyCastleProvider when obtaining the KeyFactory! I did a quick test, with &quot;BC&quot; works, without fails with &quot;Invalid EC Key&quot;\nBelow the working test (in kotlin):</p>\n<pre class=\"lang-kt prettyprint-override\"><code>    @Test\n    fun `test load ephemeral x509`(){\n        val spki: ByteArray = Hex.decode(\n            &quot;3039301306072a8648ce3d020106082a8648ce3d030107032200&quot;\n                    + &quot;02d97d3b7c269bfa720f01605be5e46585d39f474064ae1c7b4e03377066d1df58&quot;\n        )\n        val kf1: KeyFactory = KeyFactory.getInstance(&quot;EC&quot;, BouncyCastleProvider())\n        val pub1: PublicKey = kf1.generatePublic(X509EncodedKeySpec(spki))\n        println(pub1)\n    }\n</code></pre>\n<p>Thanks again for the help and for the explanation, I appreciate it instead of raw code!</p>\n"},{"tags":["java","matlab","hdf5"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1687296879,"post_id":76518422,"comment_id":134916260,"body_markdown":"You could try using JMatio.","body":"You could try using JMatio."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1687298814,"post_id":76518422,"comment_id":134916525,"body_markdown":"What have you tried? You should share your code and ask for an specific example. Note that recommendation of libraries is off topic in Stackoverlow.","body":"What have you tried? You should share your code and ask for an specific example. Note that recommendation of libraries is off topic in Stackoverlow."},{"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"score":0,"creation_date":1687331367,"post_id":76518422,"comment_id":134919872,"body_markdown":"@AliasCartellano JMatIO does not support .mat v7.3 files. I tried to use it, without success.","body":"@AliasCartellano JMatIO does not support .mat v7.3 files. I tried to use it, without success."},{"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"score":1,"creation_date":1688121507,"post_id":76518422,"comment_id":135034622,"body_markdown":"Hi I am the jhdf developer and would be happy to help. Im not exactly clear on the structure of your file and what part you want to open. Maybe try opening a example file in HDFView, and then add the tree to the question, or open an issue on github. Seeing an example file would really help. I should a an example to the docs but try looking at `Dataset#getData(long[] sliceOffset, int[] sliceDimensions)` that reads part of a dataset.","body":"Hi I am the jhdf developer and would be happy to help. Im not exactly clear on the structure of your file and what part you want to open. Maybe try opening a example file in HDFView, and then add the tree to the question, or open an issue on github. Seeing an example file would really help. I should a an example to the docs but try looking at <code>Dataset#getData(long[] sliceOffset, int[] sliceDimensions)</code> that reads part of a dataset."},{"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"score":0,"creation_date":1688678500,"post_id":76518422,"comment_id":135110091,"body_markdown":"Hi @JamesMudd, I edited the question, adding more info about the file structure and the code.","body":"Hi @JamesMudd, I edited the question, adding more info about the file structure and the code."},{"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"score":0,"creation_date":1689842407,"post_id":76518422,"comment_id":135271516,"body_markdown":"Hi @JamesMudd, is there a better way to code what I implemented, with JHDF?","body":"Hi @JamesMudd, is there a better way to code what I implemented, with JHDF?"},{"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"score":0,"creation_date":1689858582,"post_id":76518422,"comment_id":135274912,"body_markdown":"As you need to search through the `Date` dataset to find the required points you need to load all the data in that case. If the `Duration` dataset is significantly larger (I suspect its not in this case) then you could load only the data you want there but that wouldn&#39;t be a significant improvement here.","body":"As you need to search through the <code>Date</code> dataset to find the required points you need to load all the data in that case. If the <code>Duration</code> dataset is significantly larger (I suspect its not in this case) then you could load only the data you want there but that wouldn&#39;t be a significant improvement here."}],"answers":[{"comments":[{"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"score":0,"creation_date":1687505220,"post_id":76526160,"comment_id":134949031,"body_markdown":"If I correctly understood, you suggest me to use MATLAB Builder JA or to write my own library using MATLAB LIBMAT","body":"If I correctly understood, you suggest me to use MATLAB Builder JA or to write my own library using MATLAB LIBMAT"},{"owner":{"account_id":13741585,"reputation":701,"user_id":9927941,"display_name":"John BG"},"score":0,"creation_date":1687561776,"post_id":76526160,"comment_id":134959485,"body_markdown":"I have added an additional comment that answers this.","body":"I have added an additional comment that answers this."}],"tags":[],"owner":{"account_id":13741585,"reputation":701,"user_id":9927941,"display_name":"John BG"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687561496,"creation_date":1687372045,"answer_id":76526160,"question_id":76518422,"body_markdown":"**1.-**\r\n\r\nif the `.mat` file was created with `matfile` and `&#39;Writable&#39;` was set to `false` then you have do\r\n\r\n    matfile(filename,&#39;Writable&#39;,true)\r\n\r\notherwise `filename` is read only.\r\n\r\nIf the .mat file was created like this\r\n\r\n    hm=matfile(&#39;filename.mat&#39;)\r\n\r\n`hm` being the handle to such newly created `.mat` file then check `&#39;Writable&#39;` status with\r\n\r\n    m.Properties.Writable\r\n\r\n**2.-** \r\n\r\nIn the following link you will find out that precisely to interface .mat files at Mathworks there&#39;s a product called **MATLAB builder JA**\r\n\r\n[https://uk.mathworks.com/support/search.html/answers/100293-how-can-i-read-mat-files-from-java.html?fq%5B%5D=asset_type_name:answer&amp;fq%5B%5D=category:compiler_sdk/java_packages&amp;page=1][1]\r\n\r\n\r\n**3.-**\r\n\r\nIf it&#39;s not `&#39;Writable&#39;` and **MATLAB builder JA** is out of range, the same QA in the link I just supplied points at going down to C/C++ and writting your own function to connect **MATLAB LIBMAT** with **JNI API**.\r\n\r\nFor either **2.-** or **3.-** you are going to need **MATLAB Compiler**.\r\n\r\n**Additional Comment**\r\n\r\nIn this page \r\n\r\n[https://uk.mathworks.com/help/matlab/matlab_external/list-of-examples.html][2]\r\n\r\nyou will find links to functions in C that you can use from JAVA to import `.mat` files.\r\n\r\nHowever since Mathworks has a toolbox to such purpose, **Builder JA**, it may be the case that you will have to modify the free  functions available in the last link I supply in this answer, or add something, which would be the work already solved in the toolbox **Builder JA** suggested in point 2. \r\n\r\nWhy don&#39;t you install the **Builder JA** trial that is free for 30 days and assess whether you really need **Builder JA**? \r\n\r\nThen you will be able to consider whether keeping **Builder JA**, at a price, or go for the do-it-yourself option.\r\n\r\n\r\n  [1]: https://uk.mathworks.com/support/search.html/answers/100293-how-can-i-read-mat-files-from-java.html?fq%5B%5D=asset_type_name:answer&amp;fq%5B%5D=category:compiler_sdk/java_packages&amp;page=1\r\n  [2]: https://uk.mathworks.com/help/matlab/matlab_external/list-of-examples.html","title":"Java - Read only parts of .mat file","body":"<p><strong>1.-</strong></p>\n<p>if the <code>.mat</code> file was created with <code>matfile</code> and <code>'Writable'</code> was set to <code>false</code> then you have do</p>\n<pre><code>matfile(filename,'Writable',true)\n</code></pre>\n<p>otherwise <code>filename</code> is read only.</p>\n<p>If the .mat file was created like this</p>\n<pre><code>hm=matfile('filename.mat')\n</code></pre>\n<p><code>hm</code> being the handle to such newly created <code>.mat</code> file then check <code>'Writable'</code> status with</p>\n<pre><code>m.Properties.Writable\n</code></pre>\n<p><strong>2.-</strong></p>\n<p>In the following link you will find out that precisely to interface .mat files at Mathworks there's a product called <strong>MATLAB builder JA</strong></p>\n<p><a href=\"https://uk.mathworks.com/support/search.html/answers/100293-how-can-i-read-mat-files-from-java.html?fq%5B%5D=asset_type_name:answer&amp;fq%5B%5D=category:compiler_sdk/java_packages&amp;page=1\" rel=\"nofollow noreferrer\">https://uk.mathworks.com/support/search.html/answers/100293-how-can-i-read-mat-files-from-java.html?fq%5B%5D=asset_type_name:answer&amp;fq%5B%5D=category:compiler_sdk/java_packages&amp;page=1</a></p>\n<p><strong>3.-</strong></p>\n<p>If it's not <code>'Writable'</code> and <strong>MATLAB builder JA</strong> is out of range, the same QA in the link I just supplied points at going down to C/C++ and writting your own function to connect <strong>MATLAB LIBMAT</strong> with <strong>JNI API</strong>.</p>\n<p>For either <strong>2.-</strong> or <strong>3.-</strong> you are going to need <strong>MATLAB Compiler</strong>.</p>\n<p><strong>Additional Comment</strong></p>\n<p>In this page</p>\n<p><a href=\"https://uk.mathworks.com/help/matlab/matlab_external/list-of-examples.html\" rel=\"nofollow noreferrer\">https://uk.mathworks.com/help/matlab/matlab_external/list-of-examples.html</a></p>\n<p>you will find links to functions in C that you can use from JAVA to import <code>.mat</code> files.</p>\n<p>However since Mathworks has a toolbox to such purpose, <strong>Builder JA</strong>, it may be the case that you will have to modify the free  functions available in the last link I supply in this answer, or add something, which would be the work already solved in the toolbox <strong>Builder JA</strong> suggested in point 2.</p>\n<p>Why don't you install the <strong>Builder JA</strong> trial that is free for 30 days and assess whether you really need <strong>Builder JA</strong>?</p>\n<p>Then you will be able to consider whether keeping <strong>Builder JA</strong>, at a price, or go for the do-it-yourself option.</p>\n"},{"comments":[{"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"score":0,"creation_date":1688109621,"post_id":76537069,"comment_id":135032442,"body_markdown":"How can I import HDFql in a Spring Boot application?","body":"How can I import HDFql in a Spring Boot application?"}],"tags":[],"owner":{"account_id":9685157,"reputation":884,"user_id":7185263,"display_name":"SOG"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693982929,"creation_date":1687494079,"answer_id":76537069,"question_id":76518422,"body_markdown":"Based on the title and description of your use-case, it seems that you need to use HDF5 point or hyperslab selections to read data partially (i.e. some parts of it).\r\n\r\nIf you are not bound to a particular HDF5 library, you may want to try [HDFql][1], a high-level (declarative) programming language to manage HDF5 data, which is used below to illustrate the aforementioned type of selections in Java.\r\n\r\n    // create a chunked dataset named &#39;dset&#39; of type int with one dimension (size 1000) \r\n    HDFql.Execute(&quot;CREATE CHUNKED DATASET dset AS INT(1000)&quot;);\r\n\r\n    // read element stored in position #50 of &#39;dset&#39; using a point selection\r\n    HDFql.Execute(&quot;SELECT FROM dset[49]&quot;);\r\n\r\n    // read elements stored in positions #100 and #200 of &#39;dset&#39; using a point selection\r\n    HDFql.Execute(&quot;SELECT FROM dset[99; 199]&quot;);\r\n\r\n    // read elements stored in positions #50 through #70 of &#39;dset&#39; using an (regular) hyperslab selection\r\n    HDFql.Execute(&quot;SELECT FROM dset[49:::20]&quot;);\r\n\r\n    // read elements stored in positions #10 through #20 and positions #200 through #500 of &#39;dset&#39; using an (irregular) hyperslab selection\r\n    HDFql.Execute(&quot;SELECT FROM dset[9:::10 OR 199:::300]&quot;);\r\n\r\n  [1]: https://www.hdfql.com","title":"Java - Read only parts of .mat file","body":"<p>Based on the title and description of your use-case, it seems that you need to use HDF5 point or hyperslab selections to read data partially (i.e. some parts of it).</p>\n<p>If you are not bound to a particular HDF5 library, you may want to try <a href=\"https://www.hdfql.com\" rel=\"nofollow noreferrer\">HDFql</a>, a high-level (declarative) programming language to manage HDF5 data, which is used below to illustrate the aforementioned type of selections in Java.</p>\n<pre><code>// create a chunked dataset named 'dset' of type int with one dimension (size 1000) \nHDFql.Execute(&quot;CREATE CHUNKED DATASET dset AS INT(1000)&quot;);\n\n// read element stored in position #50 of 'dset' using a point selection\nHDFql.Execute(&quot;SELECT FROM dset[49]&quot;);\n\n// read elements stored in positions #100 and #200 of 'dset' using a point selection\nHDFql.Execute(&quot;SELECT FROM dset[99; 199]&quot;);\n\n// read elements stored in positions #50 through #70 of 'dset' using an (regular) hyperslab selection\nHDFql.Execute(&quot;SELECT FROM dset[49:::20]&quot;);\n\n// read elements stored in positions #10 through #20 and positions #200 through #500 of 'dset' using an (irregular) hyperslab selection\nHDFql.Execute(&quot;SELECT FROM dset[9:::10 OR 199:::300]&quot;);\n</code></pre>\n"}],"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693982929,"creation_date":1687295441,"question_id":76518422,"body_markdown":"I&#39;m trying to read some portions of a .mat file, **version v7.3**, inside my Java application.\r\n\r\nIn particular, I&#39;d like to load only some parts of a variable stored inside the .mat file.\r\n\r\nMatlab supports this feature for that version of file, by using the command **matfile** (more info [here](https://it.mathworks.com/help/matlab/import_export/load-parts-of-variables-from-mat-files.html)).\r\n\r\nA good example of what I want to achieve is in this [answer](https://stackoverflow.com/a/17524044/4948006). \r\n\r\nThe file I have to process contains 1xN rows, like the field Date, as you can see in the following picture:\r\n[![enter image description here][1]][1]\r\n\r\nI couldn&#39;t find any Java library able to support .mat v7.3, but since that version of file is **HDF5-based**, I tried to implement a solution that processes the file considering it as HDF5 one.\r\nI&#39;m using [**JHDF** libray](https://github.com/jamesmudd/jhdf), but I can&#39;t understand if it supports a matfile like command.\r\n\r\n\r\nIn particular, I&#39;d like to extract data from Duration field, only when Date field assumes a particular value. Date contains dates in the format yyyymmdd, as integer values, in ascending order. \r\n\r\nLet&#39;s say I want to read data from Duration, when Date = 20230211. I implemented this with JHDF, as follows:\r\n\r\n    HdfFile hdfFile = new HdfFile(Paths.get(&quot;file.mat&quot;));\r\n    int[] dateArr = (int[]) hdfFile.getDatasetByPath(&quot;/Task/Date&quot;).getDataFlat();\r\n    if (dateArr.length &gt; 0) {\r\n        int startIdx = 0;\r\n        int finalIdx = dateArr.length - 1;\r\n        for (int i = 0; i &lt; dateArr.length; i++) {\r\n            if (dateArr[i] == 20230211) {\r\n                startIdx = i;\r\n                break;\r\n            }\r\n        }\r\n        for (int i = startIdx + 1; i &lt; dateArr.length; i++) {\r\n            if (dateArr[i] &gt; 20230211) {\r\n                finalIdx = i - 1;\r\n                break;\r\n            }\r\n        }\r\n        float[] duration = (float[]) hdfFile.getDatasetByPath(&quot;/Task/Duration&quot;).getDataFlat();\r\n        float[] desiredDuration = Arrays.copyOfRange(duration, startIdx, finalIdx + 1);\r\n    }\r\n\r\nDo you know what I can do to emulate the matfile command in Java?\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3FVRR.png","title":"Java - Read only parts of .mat file","body":"<p>I'm trying to read some portions of a .mat file, <strong>version v7.3</strong>, inside my Java application.</p>\n<p>In particular, I'd like to load only some parts of a variable stored inside the .mat file.</p>\n<p>Matlab supports this feature for that version of file, by using the command <strong>matfile</strong> (more info <a href=\"https://it.mathworks.com/help/matlab/import_export/load-parts-of-variables-from-mat-files.html\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>A good example of what I want to achieve is in this <a href=\"https://stackoverflow.com/a/17524044/4948006\">answer</a>.</p>\n<p>The file I have to process contains 1xN rows, like the field Date, as you can see in the following picture:\n<a href=\"https://i.stack.imgur.com/3FVRR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3FVRR.png\" alt=\"enter image description here\" /></a></p>\n<p>I couldn't find any Java library able to support .mat v7.3, but since that version of file is <strong>HDF5-based</strong>, I tried to implement a solution that processes the file considering it as HDF5 one.\nI'm using <a href=\"https://github.com/jamesmudd/jhdf\" rel=\"nofollow noreferrer\"><strong>JHDF</strong> libray</a>, but I can't understand if it supports a matfile like command.</p>\n<p>In particular, I'd like to extract data from Duration field, only when Date field assumes a particular value. Date contains dates in the format yyyymmdd, as integer values, in ascending order.</p>\n<p>Let's say I want to read data from Duration, when Date = 20230211. I implemented this with JHDF, as follows:</p>\n<pre><code>HdfFile hdfFile = new HdfFile(Paths.get(&quot;file.mat&quot;));\nint[] dateArr = (int[]) hdfFile.getDatasetByPath(&quot;/Task/Date&quot;).getDataFlat();\nif (dateArr.length &gt; 0) {\n    int startIdx = 0;\n    int finalIdx = dateArr.length - 1;\n    for (int i = 0; i &lt; dateArr.length; i++) {\n        if (dateArr[i] == 20230211) {\n            startIdx = i;\n            break;\n        }\n    }\n    for (int i = startIdx + 1; i &lt; dateArr.length; i++) {\n        if (dateArr[i] &gt; 20230211) {\n            finalIdx = i - 1;\n            break;\n        }\n    }\n    float[] duration = (float[]) hdfFile.getDatasetByPath(&quot;/Task/Duration&quot;).getDataFlat();\n    float[] desiredDuration = Arrays.copyOfRange(duration, startIdx, finalIdx + 1);\n}\n</code></pre>\n<p>Do you know what I can do to emulate the matfile command in Java?</p>\n"},{"tags":["java","arrays","arraylist","primitive-types"],"comments":[{"owner":{"account_id":2055900,"reputation":7174,"user_id":1889720,"accept_rate":78,"display_name":"Evorlor"},"score":3,"creation_date":1433966856,"post_id":718554,"comment_id":49584624,"body_markdown":"If you don&#39;t need primitive ints, you can use:\n    `List&lt;Integer&gt; x = new ArrayList&lt;Integer&gt;();`\n    `Integer[] n = x.toArray(new Integer[0]);`","body":"If you don&#39;t need primitive ints, you can use:     <code>List&lt;Integer&gt; x = new ArrayList&lt;Integer&gt;();</code>     <code>Integer[] n = x.toArray(new Integer[0]);</code>"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1540327091,"post_id":718554,"comment_id":92822449,"body_markdown":"Possible duplicate of [Converting an array of objects to an array of their primitive types](https://stackoverflow.com/questions/564392/converting-an-array-of-objects-to-an-array-of-their-primitive-types)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/564392/converting-an-array-of-objects-to-an-array-of-their-primitive-types\">Converting an array of objects to an array of their primitive types</a>"},{"owner":{"account_id":13165284,"reputation":521,"user_id":9509713,"display_name":"Nosrep"},"score":2,"creation_date":1594133236,"post_id":718554,"comment_id":111016038,"body_markdown":"@cellepo That question is about converting between an Object and primitive array, this is about converting between an ArrayList and primitive array","body":"@cellepo That question is about converting between an Object and primitive array, this is about converting between an ArrayList and primitive array"}],"answers":[{"comments":[{"owner":{"account_id":129700,"reputation":44876,"user_id":328445,"accept_rate":100,"display_name":"Matthew"},"score":23,"creation_date":1301777541,"post_id":718558,"comment_id":6276973,"body_markdown":"It might be better to iterate using the List&#39;s iterator (with for each) so as to avoid performance hits on lists whose access is not O(1).","body":"It might be better to iterate using the List&#39;s iterator (with for each) so as to avoid performance hits on lists whose access is not O(1)."},{"owner":{"account_id":187853,"reputation":3134,"user_id":426213,"accept_rate":83,"display_name":"gardarh"},"score":1,"creation_date":1392390284,"post_id":718558,"comment_id":32955827,"body_markdown":"You can also utilize the fact the ArrayList implements Iterable (via Collection inheritance) and do: for(int n : integer) { ret[counter++] = n; } ... and initialize int counter = 0;","body":"You can also utilize the fact the ArrayList implements Iterable (via Collection inheritance) and do: for(int n : integer) { ret[counter++] = n; } ... and initialize int counter = 0;"},{"owner":{"account_id":2780361,"reputation":4421,"user_id":2393012,"accept_rate":78,"display_name":"Manish Patel"},"score":15,"creation_date":1445635101,"post_id":718558,"comment_id":54422083,"body_markdown":"much easier now in Java8: `integers.stream().mapToInt(Integer::valueOf).toArray`","body":"much easier now in Java8: <code>integers.stream().mapToInt(Integer::valueOf).toArray</code>"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":2,"up_vote_count":268,"is_accepted":true,"score":266,"last_activity_date":1326390009,"creation_date":1238918648,"answer_id":718558,"question_id":718554,"body_markdown":"You can convert, but I don&#39;t think there&#39;s anything built in to do it automatically:\r\n\r\n    public static int[] convertIntegers(List&lt;Integer&gt; integers)\r\n    {\r\n        int[] ret = new int[integers.size()];\r\n        for (int i=0; i &lt; ret.length; i++)\r\n        {\r\n            ret[i] = integers.get(i).intValue();\r\n        }\r\n        return ret;\r\n    }\r\n\r\n(Note that this will throw a NullPointerException if either `integers` or any element within it is `null`.)\r\n\r\nEDIT: As per comments, you may want to use the list iterator to avoid nasty costs with lists such as `LinkedList`:\r\n\r\n\r\n    public static int[] convertIntegers(List&lt;Integer&gt; integers)\r\n    {\r\n        int[] ret = new int[integers.size()];\r\n        Iterator&lt;Integer&gt; iterator = integers.iterator();\r\n        for (int i = 0; i &lt; ret.length; i++)\r\n        {\r\n            ret[i] = iterator.next().intValue();\r\n        }\r\n        return ret;\r\n    }\r\n","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>You can convert, but I don't think there's anything built in to do it automatically:</p>\n\n<pre><code>public static int[] convertIntegers(List&lt;Integer&gt; integers)\n{\n    int[] ret = new int[integers.size()];\n    for (int i=0; i &lt; ret.length; i++)\n    {\n        ret[i] = integers.get(i).intValue();\n    }\n    return ret;\n}\n</code></pre>\n\n<p>(Note that this will throw a NullPointerException if either <code>integers</code> or any element within it is <code>null</code>.)</p>\n\n<p>EDIT: As per comments, you may want to use the list iterator to avoid nasty costs with lists such as <code>LinkedList</code>:</p>\n\n<pre><code>public static int[] convertIntegers(List&lt;Integer&gt; integers)\n{\n    int[] ret = new int[integers.size()];\n    Iterator&lt;Integer&gt; iterator = integers.iterator();\n    for (int i = 0; i &lt; ret.length; i++)\n    {\n        ret[i] = iterator.next().intValue();\n    }\n    return ret;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":48479,"reputation":639,"user_id":144067,"display_name":"paraquat"},"score":3,"creation_date":1287427697,"post_id":718606,"comment_id":4235458,"body_markdown":"Note that this approach will make two complete copies of the sequence:  one Integer[] created by toArray, and one int[] created inside toPrimitive.  The other answer from Jon only creates and fills one array.  Something to consider if you have large lists, and performance is important.","body":"Note that this approach will make two complete copies of the sequence:  one Integer[] created by toArray, and one int[] created inside toPrimitive.  The other answer from Jon only creates and fills one array.  Something to consider if you have large lists, and performance is important."},{"owner":{"account_id":193872,"reputation":349,"user_id":435860,"accept_rate":100,"display_name":"Oskar Lund"},"score":1,"creation_date":1365092795,"post_id":718606,"comment_id":22496831,"body_markdown":"I measured performance using ArrayUtils vs pure java and on small lists (&lt;25 elements) pure java is more than 100 times faster. For 3k elements pure java is still almost 2 times faster... (ArrayList&lt;Integer&gt; --&gt; int[])","body":"I measured performance using ArrayUtils vs pure java and on small lists (&lt;25 elements) pure java is more than 100 times faster. For 3k elements pure java is still almost 2 times faster... (ArrayList&lt;Integer&gt; --&gt; int[])"},{"owner":{"account_id":2149740,"reputation":5736,"user_id":1906491,"accept_rate":59,"display_name":"Sean Connolly"},"score":0,"creation_date":1366719054,"post_id":718606,"comment_id":23108588,"body_markdown":"@paraquat &amp; Oskar Lund that is not actually correct. Yes, the code provided will create two arrays, but this **approach** does not. The problem in this code here is the use of a zero length array as the argument. The [ArrayList.toArray source code](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java#ArrayList.toArray%28java.lang.Object%5B%5D%29) shows that if the contents will fit, the original array will be used. I think in a fair comparison you&#39;ll find this method to be as efficient (if not more) and, of course, less code to maintain.","body":"@paraquat &amp; Oskar Lund that is not actually correct. Yes, the code provided will create two arrays, but this <b>approach</b> does not. The problem in this code here is the use of a zero length array as the argument. The <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java#ArrayList.toArray%28java.lang.Object%5B%5D%29\" rel=\"nofollow noreferrer\">ArrayList.toArray source code</a> shows that if the contents will fit, the original array will be used. I think in a fair comparison you&#39;ll find this method to be as efficient (if not more) and, of course, less code to maintain."},{"owner":{"account_id":2149740,"reputation":5736,"user_id":1906491,"accept_rate":59,"display_name":"Sean Connolly"},"score":0,"creation_date":1366719649,"post_id":718606,"comment_id":23108989,"body_markdown":"PS: [a nice related post](http://stackoverflow.com/questions/174093/toarraynew-myclass0-or-toarraynew-myclassmylist-size)","body":"PS: <a href=\"http://stackoverflow.com/questions/174093/toarraynew-myclass0-or-toarraynew-myclassmylist-size\">a nice related post</a>"},{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":1,"creation_date":1452611587,"post_id":718606,"comment_id":57240179,"body_markdown":"Waht is the purpose of new Integer[0]?","body":"Waht is the purpose of new Integer[0]?"},{"owner":{"account_id":13165284,"reputation":521,"user_id":9509713,"display_name":"Nosrep"},"score":0,"creation_date":1594133416,"post_id":718606,"comment_id":111016143,"body_markdown":"@AdamHughes I believe it is to give a hint to `toArray` of which type of array to create","body":"@AdamHughes I believe it is to give a hint to <code>toArray</code> of which type of array to create"}],"tags":[],"owner":{"account_id":25166,"reputation":29119,"user_id":64495,"accept_rate":67,"display_name":"Bj&#246;rn"},"comment_count":6,"down_vote_count":1,"up_vote_count":69,"is_accepted":false,"score":68,"last_activity_date":1238922032,"creation_date":1238922032,"answer_id":718606,"question_id":718554,"body_markdown":"Apache Commons has a ArrayUtils class, which has a method toPrimitive() that does exactly this.\r\n\r\n    import org.apache.commons.lang.ArrayUtils;\r\n    ...\r\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n        list.add(new Integer(1));\r\n        list.add(new Integer(2));\r\n        int[] intArray = ArrayUtils.toPrimitive(list.toArray(new Integer[0]));\r\n\r\nHowever, as Jon showed, it is pretty easy to do this by yourself instead of using external libraries.","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>Apache Commons has a ArrayUtils class, which has a method toPrimitive() that does exactly this.</p>\n\n<pre><code>import org.apache.commons.lang.ArrayUtils;\n...\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n    list.add(new Integer(1));\n    list.add(new Integer(2));\n    int[] intArray = ArrayUtils.toPrimitive(list.toArray(new Integer[0]));\n</code></pre>\n\n<p>However, as Jon showed, it is pretty easy to do this by yourself instead of using external libraries.</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1265055268,"creation_date":1265055268,"answer_id":2179730,"question_id":718554,"body_markdown":"using [Dollar][1] should be quite simple:\r\n\r\n    List&lt;Integer&gt; list = $(5).toList(); // the list 0, 1, 2, 3, 4  \r\n    int[] array = $($(list).toArray()).toIntArray();\r\n\r\nI&#39;m planning to improve the DSL in order to remove the intermediate `toArray()` call\r\n   \r\n\r\n\r\n  [1]: http://bitbucket.org/dfa/dollar","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>using <a href=\"http://bitbucket.org/dfa/dollar\" rel=\"noreferrer\">Dollar</a> should be quite simple:</p>\n\n<pre><code>List&lt;Integer&gt; list = $(5).toList(); // the list 0, 1, 2, 3, 4  \nint[] array = $($(list).toArray()).toIntArray();\n</code></pre>\n\n<p>I'm planning to improve the DSL in order to remove the intermediate <code>toArray()</code> call</p>\n"},{"comments":[{"owner":{"account_id":88135,"reputation":15266,"user_id":243991,"accept_rate":22,"display_name":"Peter Kriens"},"score":9,"creation_date":1288363537,"post_id":2744759,"comment_id":4352362,"body_markdown":"I do agree with the previous commenter. Not only do you drag in Apache Commons, but it easily translates into a large set of transitive dependencies that also need to be dragged in. Recently I could remove an amazing # of dependencies by replacing one line of code :-( Dependencies are costly and writing basic code like this is good practice","body":"I do agree with the previous commenter. Not only do you drag in Apache Commons, but it easily translates into a large set of transitive dependencies that also need to be dragged in. Recently I could remove an amazing # of dependencies by replacing one line of code :-( Dependencies are costly and writing basic code like this is good practice"},{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":1,"creation_date":1520192181,"post_id":2744759,"comment_id":85204382,"body_markdown":"Agreed with @PeterKriens.  If anything, the fault is in Java for not supporting simple conversions like this in its standard data types","body":"Agreed with @PeterKriens.  If anything, the fault is in Java for not supporting simple conversions like this in its standard data types"}],"tags":[],"owner":{"account_id":613039,"reputation":85,"user_id":329780,"display_name":"Andrew F."},"comment_count":2,"down_vote_count":5,"up_vote_count":9,"is_accepted":false,"score":4,"last_activity_date":1340043596,"creation_date":1272633761,"answer_id":2744759,"question_id":718554,"body_markdown":"It bewilders me that we encourage one-off custom methods whenever a perfectly good, well used library like Apache Commons has solved the problem already.  Though the solution is trivial if not absurd, it is irresponsible to encourage such a behavior due to long term maintenance and accessibility.\r\n\r\nJust go with [Apache Commons][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/ArrayUtils.html#toPrimitive%28java.lang.Integer%5B%5D,%20int%29","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>It bewilders me that we encourage one-off custom methods whenever a perfectly good, well used library like Apache Commons has solved the problem already.  Though the solution is trivial if not absurd, it is irresponsible to encourage such a behavior due to long term maintenance and accessibility.</p>\n\n<p>Just go with <a href=\"http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/ArrayUtils.html#toPrimitive%28java.lang.Integer%5B%5D,%20int%29\" rel=\"nofollow noreferrer\">Apache Commons</a></p>\n"},{"tags":[],"owner":{"account_id":129700,"reputation":44876,"user_id":328445,"accept_rate":100,"display_name":"Matthew"},"comment_count":0,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1397242619,"creation_date":1301777794,"answer_id":5525814,"question_id":718554,"body_markdown":"I believe iterating using the List&#39;s iterator is a better idea, as `list.get(i)` can have poor performance depending on the List implementation:\r\n\r\n    private int[] buildIntArray(List&lt;Integer&gt; integers) {\r\n        int[] ints = new int[integers.size()];\r\n        int i = 0;\r\n        for (Integer n : integers) {\r\n            ints[i++] = n;\r\n        }\r\n        return ints;\r\n    }","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>I believe iterating using the List's iterator is a better idea, as <code>list.get(i)</code> can have poor performance depending on the List implementation:</p>\n\n<pre><code>private int[] buildIntArray(List&lt;Integer&gt; integers) {\n    int[] ints = new int[integers.size()];\n    int i = 0;\n    for (Integer n : integers) {\n        ints[i++] = n;\n    }\n    return ints;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":178996,"reputation":6452,"user_id":411326,"accept_rate":75,"display_name":"Asaf"},"score":7,"creation_date":1351380064,"post_id":7421850,"comment_id":17813166,"body_markdown":"this does not answer the question, the question was about converting to primitive type (int)","body":"this does not answer the question, the question was about converting to primitive type (int)"}],"tags":[],"owner":{"account_id":911686,"reputation":9,"user_id":945376,"display_name":"snn"},"comment_count":1,"down_vote_count":9,"up_vote_count":2,"is_accepted":false,"score":-7,"last_activity_date":1316031724,"creation_date":1316028366,"answer_id":7421850,"question_id":718554,"body_markdown":"    Integer[] arr = (Integer[]) x.toArray(new Integer[x.size()]);\r\n\r\naccess `arr` like normal `int[]`.","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<pre><code>Integer[] arr = (Integer[]) x.toArray(new Integer[x.size()]);\n</code></pre>\n\n<p>access <code>arr</code> like normal <code>int[]</code>.</p>\n"},{"tags":[],"owner":{"account_id":19996,"reputation":7356,"user_id":47361,"accept_rate":83,"display_name":"Snehal"},"comment_count":0,"down_vote_count":3,"up_vote_count":90,"is_accepted":false,"score":87,"last_activity_date":1467233020,"creation_date":1324153872,"answer_id":8547729,"question_id":718554,"body_markdown":"# Google Guava\r\n\r\n[Google Guava](https://en.m.wikipedia.org/wiki/Google_Guava) provides a neat way to do this by calling [`Ints.toArray`](http://google.github.io/guava/releases/19.0/api/docs/com/google/common/primitives/Ints.html#toArray(java.util.Collection)).\r\n\r\n    List&lt;Integer&gt; list = ...;\r\n    int[] values = Ints.toArray(list);","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<h1>Google Guava</h1>\n\n<p><a href=\"https://en.m.wikipedia.org/wiki/Google_Guava\">Google Guava</a> provides a neat way to do this by calling <a href=\"http://google.github.io/guava/releases/19.0/api/docs/com/google/common/primitives/Ints.html#toArray(java.util.Collection)\"><code>Ints.toArray</code></a>.</p>\n\n<pre><code>List&lt;Integer&gt; list = ...;\nint[] values = Ints.toArray(list);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":559988,"reputation":466349,"user_id":922184,"display_name":"Mysticial"},"score":1,"creation_date":1367568932,"post_id":16336520,"comment_id":23429501,"body_markdown":"This answer does not work, it returns an array with a single element instead of multiple elements.","body":"This answer does not work, it returns an array with a single element instead of multiple elements."},{"owner":{"account_id":87708,"reputation":3120,"user_id":243089,"accept_rate":100,"display_name":"Victor Zamanian"},"score":0,"creation_date":1455105461,"post_id":16336520,"comment_id":58337867,"body_markdown":"Why use a StringBuffer? Why convert the Integer to a String and then to an Integer and then to an int and then to an Integer again? Why use an array with a single element in it, and why loop over that single-element array when it contains just one element? Why cast the Integers to Objects in the outer loop? There are so many questions here. Is @CodeMadness just a troll account?","body":"Why use a StringBuffer? Why convert the Integer to a String and then to an Integer and then to an int and then to an Integer again? Why use an array with a single element in it, and why loop over that single-element array when it contains just one element? Why cast the Integers to Objects in the outer loop? There are so many questions here. Is @CodeMadness just a troll account?"}],"tags":[],"owner":{"account_id":2711114,"reputation":1,"user_id":2339550,"display_name":"CodeMadness"},"comment_count":2,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1367585347,"creation_date":1367492940,"answer_id":16336520,"question_id":718554,"body_markdown":"       List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\r\n\t\tlist.add(1);\r\n\t\tlist.add(2);\r\n\r\n\t\tint[] result = null;\r\n\t\tStringBuffer strBuffer = new StringBuffer();\r\n\t\tfor (Object o : list) {\r\n\t\t\tstrBuffer.append(o);\r\n\t\t\tresult = new int[] { Integer.parseInt(strBuffer.toString()) };\r\n\t\t\tfor (Integer i : result) {\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t}\r\n\t\t\tstrBuffer.delete(0, strBuffer.length());\r\n\t\t}","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<pre><code>   List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\n    list.add(1);\n    list.add(2);\n\n    int[] result = null;\n    StringBuffer strBuffer = new StringBuffer();\n    for (Object o : list) {\n        strBuffer.append(o);\n        result = new int[] { Integer.parseInt(strBuffer.toString()) };\n        for (Integer i : result) {\n            System.out.println(i);\n        }\n        strBuffer.delete(0, strBuffer.length());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488683754,"creation_date":1377772344,"answer_id":18508549,"question_id":718554,"body_markdown":"If you&#39;re using [Eclipse Collections][1], you can use the `collectInt()` method to switch from an object container to a primitive int container.\r\n\r\n    List&lt;Integer&gt; integers = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5));\r\n    MutableIntList intList =\r\n      ListAdapter.adapt(integers).collectInt(i -&gt; i);\r\n    Assert.assertArrayEquals(new int[]{1, 2, 3, 4, 5}, intList.toArray());\r\n\r\nIf you can convert your `ArrayList` to a `FastList`, you can get rid of the adapter.\r\n\r\n    Assert.assertArrayEquals(\r\n      new int[]{1, 2, 3, 4, 5},\r\n      Lists.mutable.with(1, 2, 3, 4, 5)\r\n        .collectInt(i -&gt; i).toArray());\r\n\r\n\r\n**Note:** I am a committer for Eclipse collections.\r\n\r\n\r\n  [1]: http://www.eclipse.org/collections/","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>If you're using <a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, you can use the <code>collectInt()</code> method to switch from an object container to a primitive int container.</p>\n\n<pre><code>List&lt;Integer&gt; integers = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5));\nMutableIntList intList =\n  ListAdapter.adapt(integers).collectInt(i -&gt; i);\nAssert.assertArrayEquals(new int[]{1, 2, 3, 4, 5}, intList.toArray());\n</code></pre>\n\n<p>If you can convert your <code>ArrayList</code> to a <code>FastList</code>, you can get rid of the adapter.</p>\n\n<pre><code>Assert.assertArrayEquals(\n  new int[]{1, 2, 3, 4, 5},\n  Lists.mutable.with(1, 2, 3, 4, 5)\n    .collectInt(i -&gt; i).toArray());\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse collections.</p>\n"},{"comments":[{"owner":{"account_id":5827467,"reputation":5935,"user_id":4594973,"accept_rate":71,"display_name":"code_dredd"},"score":0,"creation_date":1505147093,"post_id":23688547,"comment_id":79282526,"body_markdown":"I see this can be used for `double` types; are there no equivalent for `float` types?","body":"I see this can be used for <code>double</code> types; are there no equivalent for <code>float</code> types?"}],"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":1,"down_vote_count":0,"up_vote_count":408,"is_accepted":false,"score":408,"last_activity_date":1468950557,"creation_date":1400187715,"answer_id":23688547,"question_id":718554,"body_markdown":"If you are using [tag:java-8] there&#39;s also another way to do this.\r\n\r\n    int[] arr = list.stream().mapToInt(i -&gt; i).toArray();\r\n\r\nWhat it does is:\r\n\r\n - getting a `Stream&lt;Integer&gt;` from the list\r\n - obtaining an `IntStream` by mapping each element to itself (identity function), unboxing the `int` value hold by each `Integer` object (done automatically since Java 5)\r\n - getting the array of `int` by calling `toArray`\r\n\r\nYou could also explicitly call `intValue` via a method reference, i.e:\r\n   \r\n\r\n    int[] arr = list.stream().mapToInt(Integer::intValue).toArray();\r\n\r\nIt&#39;s also worth mentioning that you could get a `NullPointerException` if you have any `null` reference in the list. This could be easily avoided by adding a filtering condition to the stream pipeline like this:\r\n\r\n                           //.filter(Objects::nonNull) also works\r\n    int[] arr = list.stream().filter(i -&gt; i != null).mapToInt(i -&gt; i).toArray();\r\n\r\nExample:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4);\r\n    int[] arr = list.stream().mapToInt(i -&gt; i).toArray(); //[1, 2, 3, 4]\r\n\r\n    list.set(1, null); //[1, null, 3, 4]\r\n    arr = list.stream().filter(i -&gt; i != null).mapToInt(i -&gt; i).toArray(); //[1, 3, 4]","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>If you are using <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\">java-8</a> there's also another way to do this.</p>\n\n<pre><code>int[] arr = list.stream().mapToInt(i -&gt; i).toArray();\n</code></pre>\n\n<p>What it does is:</p>\n\n<ul>\n<li>getting a <code>Stream&lt;Integer&gt;</code> from the list</li>\n<li>obtaining an <code>IntStream</code> by mapping each element to itself (identity function), unboxing the <code>int</code> value hold by each <code>Integer</code> object (done automatically since Java 5)</li>\n<li>getting the array of <code>int</code> by calling <code>toArray</code></li>\n</ul>\n\n<p>You could also explicitly call <code>intValue</code> via a method reference, i.e:</p>\n\n<pre><code>int[] arr = list.stream().mapToInt(Integer::intValue).toArray();\n</code></pre>\n\n<p>It's also worth mentioning that you could get a <code>NullPointerException</code> if you have any <code>null</code> reference in the list. This could be easily avoided by adding a filtering condition to the stream pipeline like this:</p>\n\n<pre><code>                       //.filter(Objects::nonNull) also works\nint[] arr = list.stream().filter(i -&gt; i != null).mapToInt(i -&gt; i).toArray();\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4);\nint[] arr = list.stream().mapToInt(i -&gt; i).toArray(); //[1, 2, 3, 4]\n\nlist.set(1, null); //[1, null, 3, 4]\narr = list.stream().filter(i -&gt; i != null).mapToInt(i -&gt; i).toArray(); //[1, 3, 4]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4782738,"reputation":143,"user_id":3864041,"display_name":"sagiksp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439479706,"creation_date":1439478613,"answer_id":31992122,"question_id":718554,"body_markdown":"You can simply copy it to an array:\r\n\r\n    int[] arr = new int[list.size()];\r\n    for(int i = 0; i &lt; list.size(); i++) {\r\n        arr[i] = list.get(i);\r\n    }\r\n\r\nNot too fancy; but, hey, it works...","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>You can simply copy it to an array:</p>\n\n<pre><code>int[] arr = new int[list.size()];\nfor(int i = 0; i &lt; list.size(); i++) {\n    arr[i] = list.get(i);\n}\n</code></pre>\n\n<p>Not too fancy; but, hey, it works...</p>\n"},{"comments":[{"owner":{"account_id":10758308,"reputation":5714,"user_id":7915557,"accept_rate":71,"display_name":"OLIVER.KOO"},"score":12,"creation_date":1514100882,"post_id":35388292,"comment_id":82886934,"body_markdown":"Hello just a gentle reminder that OP wants a primitive array not an Object array.","body":"Hello just a gentle reminder that OP wants a primitive array not an Object array."},{"owner":{"account_id":159605,"reputation":2778,"user_id":379119,"accept_rate":79,"display_name":"Bartzilla"},"score":4,"creation_date":1519296078,"post_id":35388292,"comment_id":84856760,"body_markdown":"Primitive int not wrapper Integer!","body":"Primitive int not wrapper Integer!"}],"tags":[],"owner":{"account_id":4205825,"reputation":720,"user_id":3444748,"display_name":"Harshan Morawaka"},"comment_count":2,"down_vote_count":9,"up_vote_count":9,"is_accepted":false,"score":0,"last_activity_date":1559401275,"creation_date":1455423345,"answer_id":35388292,"question_id":718554,"body_markdown":"This code segment is working for me, try this:\r\n\r\n    Integer[] arr = x.toArray(new Integer[x.size()]);\r\n\r\nWorth to mention ArrayList should be declared like this:\r\n\r\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>This code segment is working for me, try this:</p>\n\n<pre><code>Integer[] arr = x.toArray(new Integer[x.size()]);\n</code></pre>\n\n<p>Worth to mention ArrayList should be declared like this:</p>\n\n<pre><code>ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4443197,"reputation":8014,"user_id":3617234,"accept_rate":89,"display_name":"EssaidiM"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1589741209,"creation_date":1580727758,"answer_id":60037893,"question_id":718554,"body_markdown":"Java 8:\r\n\r\n    int[] intArr = Arrays.stream(integerList).mapToInt(i-&gt;i).toArray();","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>Java 8:</p>\n\n<pre><code>int[] intArr = Arrays.stream(integerList).mapToInt(i-&gt;i).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1581861440,"creation_date":1581861136,"answer_id":60249173,"question_id":718554,"body_markdown":"## Arrays.setAll()\r\n\r\n\t\tList&lt;Integer&gt; x = new ArrayList&lt;&gt;(Arrays.asList(7, 9, 13));\r\n\t\tint[] n = new int[x.size()];\r\n\t\tArrays.setAll(n, x::get);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Array of primitive ints: &quot; + Arrays.toString(n));\r\n\r\nOutput:\r\n\r\n&gt; Array of primitive ints: [7, 9, 13]\r\n\r\nThe same works for an array of `long` or `double`, but not for arrays of `boolean`, `char`, `byte`, `short` or `float`. If you’ve got a really huge list, there’s even a `parallelSetAll` method that you may use instead.\r\n\r\nTo me this is good and elgant enough that I wouldn’t want to get an external library nor use streams for it.\r\n\r\n**Documentation link:** [`Arrays.setAll(int[], IntUnaryOperator)`](https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#setAll(int%5B%5D,java.util.function.IntUnaryOperator))","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<h2>Arrays.setAll()</h2>\n\n<pre><code>    List&lt;Integer&gt; x = new ArrayList&lt;&gt;(Arrays.asList(7, 9, 13));\n    int[] n = new int[x.size()];\n    Arrays.setAll(n, x::get);\n\n    System.out.println(\"Array of primitive ints: \" + Arrays.toString(n));\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>Array of primitive ints: [7, 9, 13]</p>\n</blockquote>\n\n<p>The same works for an array of <code>long</code> or <code>double</code>, but not for arrays of <code>boolean</code>, <code>char</code>, <code>byte</code>, <code>short</code> or <code>float</code>. If you’ve got a really huge list, there’s even a <code>parallelSetAll</code> method that you may use instead.</p>\n\n<p>To me this is good and elgant enough that I wouldn’t want to get an external library nor use streams for it.</p>\n\n<p><strong>Documentation link:</strong> <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#setAll(int%5B%5D,java.util.function.IntUnaryOperator)\" rel=\"noreferrer\"><code>Arrays.setAll(int[], IntUnaryOperator)</code></a></p>\n"},{"comments":[{"owner":{"account_id":7794943,"reputation":1880,"user_id":5896420,"accept_rate":90,"display_name":"luckyguy73"},"score":3,"creation_date":1600725366,"post_id":60680319,"comment_id":113172993,"body_markdown":"op said primitive array meaning int[] not the Integer[] wrapper object, lol","body":"op said primitive array meaning int[] not the Integer[] wrapper object, lol"}],"tags":[],"owner":{"account_id":9817090,"reputation":40,"user_id":7273261,"display_name":"PramodG"},"comment_count":1,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1584168681,"creation_date":1584167120,"answer_id":60680319,"question_id":718554,"body_markdown":"A very simple one-line solution is:\r\n```\r\nInteger[] i = arrlist.stream().toArray(Integer[]::new);\r\n```","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>A very simple one-line solution is:</p>\n\n<pre><code>Integer[] i = arrlist.stream().toArray(Integer[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16288566,"reputation":327,"user_id":11762632,"display_name":"Miguel Carrillo"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1585855246,"creation_date":1585855246,"answer_id":60999431,"question_id":718554,"body_markdown":"This works nice for me :)\r\n\r\nFound at https://www.techiedelight.com/convert-list-integer-array-int/\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    class ListUtil\r\n    {\r\n    \t// Program to convert list of integer to array of int in Java\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tList&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5);\r\n    \r\n    \t\tint[] primitive = list.stream()\r\n    \t\t\t\t\t\t\t.mapToInt(Integer::intValue)\r\n    \t\t\t\t\t\t\t.toArray();\r\n    \r\n    \t\tSystem.out.println(Arrays.toString(primitive));\r\n    \t}\r\n    }","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>This works nice for me :)</p>\n\n<p>Found at <a href=\"https://www.techiedelight.com/convert-list-integer-array-int/\" rel=\"noreferrer\">https://www.techiedelight.com/convert-list-integer-array-int/</a></p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\nclass ListUtil\n{\n    // Program to convert list of integer to array of int in Java\n    public static void main(String args[])\n    {\n        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5);\n\n        int[] primitive = list.stream()\n                            .mapToInt(Integer::intValue)\n                            .toArray();\n\n        System.out.println(Arrays.toString(primitive));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10535144,"reputation":11,"user_id":7763291,"display_name":"Sherlock"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594394028,"creation_date":1594394028,"answer_id":62837289,"question_id":718554,"body_markdown":"Next lines you can find convertion from int[] -&gt; List&lt;Integer&gt; -&gt; int[]   \r\n\r\n       private static int[] convert(int[] arr) {\r\n            List&lt;Integer&gt; myList=new ArrayList&lt;Integer&gt;();\r\n            for(int number:arr){\r\n                   myList.add(number);\r\n                }\r\n            }\r\n            int[] myArray=new int[myList.size()];\r\n            for(int i=0;i&lt;myList.size();i++){\r\n               myArray[i]=myList.get(i);\r\n            }\r\n            return myArray;\r\n        }","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>Next lines you can find convertion from int[] -&gt; List -&gt; int[]</p>\n<pre><code>   private static int[] convert(int[] arr) {\n        List&lt;Integer&gt; myList=new ArrayList&lt;Integer&gt;();\n        for(int number:arr){\n               myList.add(number);\n            }\n        }\n        int[] myArray=new int[myList.size()];\n        for(int i=0;i&lt;myList.size();i++){\n           myArray[i]=myList.get(i);\n        }\n        return myArray;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":452040,"reputation":16772,"user_id":848253,"accept_rate":62,"display_name":"PerracoLabs"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1600867780,"creation_date":1600867780,"answer_id":64029115,"question_id":718554,"body_markdown":"**Arrays.setAll()** will work for most scenarios:\r\n\r\n1) Integer List to primitive int array:\r\n\r\n       public static int[] convert(final List&lt;Integer&gt; list)\r\n       {\r\n          final int[] out = new int[list.size()];\r\n          Arrays.setAll(out, list::get);\r\n          return out;\r\n       }\r\n\r\n2) Integer List (made of Strings) to primitive int array:\r\n\r\n       public static int[] convert(final List&lt;String&gt; list)\r\n       {\r\n          final int[] out = new int[list.size()];\r\n          Arrays.setAll(out, i -&gt; Integer.parseInt(list.get(i)));\r\n          return out;\r\n       }\r\n\r\n\r\n3) Integer array to primitive int array:\r\n\r\n       public static int[] convert(final Integer[] array)\r\n       {\r\n          final int[] out = new int[array.length];\r\n          Arrays.setAll(out, i -&gt; array[i]);\r\n          return out;\r\n       }\r\n\r\n4) Primitive int array to Integer array:\r\n\r\n       public static Integer[] convert(final int[] array)\r\n       {\r\n          final Integer[] out = new Integer[array.length];\r\n          Arrays.setAll(out, i -&gt; array[i]);\r\n          return out;\r\n       }\r\n","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p><strong>Arrays.setAll()</strong> will work for most scenarios:</p>\n<ol>\n<li><p>Integer List to primitive int array:</p>\n<pre><code>public static int[] convert(final List&lt;Integer&gt; list)\n{\n   final int[] out = new int[list.size()];\n   Arrays.setAll(out, list::get);\n   return out;\n}\n</code></pre>\n</li>\n<li><p>Integer List (made of Strings) to primitive int array:</p>\n<pre><code>public static int[] convert(final List&lt;String&gt; list)\n{\n   final int[] out = new int[list.size()];\n   Arrays.setAll(out, i -&gt; Integer.parseInt(list.get(i)));\n   return out;\n}\n</code></pre>\n</li>\n<li><p>Integer array to primitive int array:</p>\n<pre><code>public static int[] convert(final Integer[] array)\n{\n   final int[] out = new int[array.length];\n   Arrays.setAll(out, i -&gt; array[i]);\n   return out;\n}\n</code></pre>\n</li>\n<li><p>Primitive int array to Integer array:</p>\n<pre><code>public static Integer[] convert(final int[] array)\n{\n   final Integer[] out = new Integer[array.length];\n   Arrays.setAll(out, i -&gt; array[i]);\n   return out;\n}\n</code></pre>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":1,"creation_date":1619457354,"post_id":67270729,"comment_id":118906396,"body_markdown":"Your answer is a duplicate of [this one](https://stackoverflow.com/a/23688547/6367213). Please delete your post and try to avoid doing that in the future.","body":"Your answer is a duplicate of <a href=\"https://stackoverflow.com/a/23688547/6367213\">this one</a>. Please delete your post and try to avoid doing that in the future."}],"tags":[],"owner":{"account_id":14248225,"reputation":657,"user_id":10292570,"display_name":"Sneha Mule"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1619456015,"creation_date":1619456015,"answer_id":67270729,"question_id":718554,"body_markdown":"Java 8\r\n\r\n    int[] array = list.stream().mapToInt(i-&gt;i).toArray();\r\n\r\n    OR \r\n \r\n    int[] array = list.stream().mapToInt(Integer::intValue).toArray();","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>Java 8</p>\n<pre><code>int[] array = list.stream().mapToInt(i-&gt;i).toArray();\n\nOR \n\nint[] array = list.stream().mapToInt(Integer::intValue).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7262327,"reputation":130,"user_id":5538511,"display_name":"Mohammad Yasin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693982057,"creation_date":1693982057,"answer_id":77049491,"question_id":718554,"body_markdown":"**Don&#39;t use java stream for this task if time is critical for your task**\r\n&lt;br /&gt;\r\nIt is slower than using for-each loop. Use the same as:\r\n\r\n        List&lt;Integer&gt; modes = new ArrayList&lt;&gt;();\r\n        int[] m = new int[modes.size()];\r\n        for (int i = 0; i &lt; m.length; i++) {\r\n            m[i] = modes.get(i);\r\n        }\r\n\r\nYou can measure it with ***jmh***","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p><strong>Don't use java stream for this task if time is critical for your task</strong>\n<br />\nIt is slower than using for-each loop. Use the same as:</p>\n<pre><code>    List&lt;Integer&gt; modes = new ArrayList&lt;&gt;();\n    int[] m = new int[modes.size()];\n    for (int i = 0; i &lt; m.length; i++) {\n        m[i] = modes.get(i);\n    }\n</code></pre>\n<p>You can measure it with <em><strong>jmh</strong></em></p>\n"}],"owner":{"account_id":19996,"reputation":7356,"user_id":47361,"accept_rate":83,"display_name":"Snehal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577961,"favorite_count":0,"down_vote_count":1,"up_vote_count":441,"accepted_answer_id":718558,"answer_count":20,"score":440,"last_activity_date":1693982057,"creation_date":1238918369,"question_id":718554,"body_markdown":"I&#39;m trying to convert an ArrayList containing Integer objects to primitive int[] with the following piece of code, but it is throwing compile time error. Is it possible to convert in Java?\r\n\r\n    List&lt;Integer&gt; x =  new ArrayList&lt;Integer&gt;();\r\n    int[] n = (int[])x.toArray(int[x.size()]);\r\n\r\n","title":"How to convert an ArrayList containing Integers to primitive int array?","body":"<p>I'm trying to convert an ArrayList containing Integer objects to primitive int[] with the following piece of code, but it is throwing compile time error. Is it possible to convert in Java?</p>\n\n<pre><code>List&lt;Integer&gt; x =  new ArrayList&lt;Integer&gt;();\nint[] n = (int[])x.toArray(int[x.size()]);\n</code></pre>\n"},{"tags":["java","mysql","insert","mybatis"],"answers":[{"tags":[],"owner":{"account_id":3135077,"reputation":3704,"user_id":2651741,"display_name":"Larry.Z"},"comment_count":0,"down_vote_count":8,"up_vote_count":3,"is_accepted":true,"score":-5,"last_activity_date":1377825515,"creation_date":1377825515,"answer_id":18523424,"question_id":18507508,"body_markdown":"If you want to get the generated primary key, you should pass the arguments by `Map` or `POJO Object` \r\n\r\n    public void insertRecord(Map&lt;String, Object&gt; map);\r\nWhen call the mapping method, put values to map.\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n    map.put(&quot;returnedId&quot;, 0);\r\n    map.put(&quot;message&quot;, message);\r\n    // other paramters\r\n    mapper.insertRecord(map);\r\n    return map.get(&quot;returnedId&quot;);\r\n\r\n    ","title":"MyBatis, how to get the auto generated key of an insert? [MySql]","body":"<p>If you want to get the generated primary key, you should pass the arguments by <code>Map</code> or <code>POJO Object</code> </p>\n\n<pre><code>public void insertRecord(Map&lt;String, Object&gt; map);\n</code></pre>\n\n<p>When call the mapping method, put values to map.</p>\n\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\nmap.put(\"returnedId\", 0);\nmap.put(\"message\", message);\n// other paramters\nmapper.insertRecord(map);\nreturn map.get(\"returnedId\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":46051,"reputation":36790,"user_id":135946,"accept_rate":92,"display_name":"Bostone"},"score":1,"creation_date":1456503755,"post_id":18526754,"comment_id":58993916,"body_markdown":"One should never use error.id for anything but the error ID. Hacks like that make code dirty and unreadable","body":"One should never use error.id for anything but the error ID. Hacks like that make code dirty and unreadable"}],"tags":[],"owner":{"account_id":2401103,"reputation":704,"user_id":2098735,"display_name":"shola"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1446448971,"creation_date":1377845698,"answer_id":18526754,"question_id":18507508,"body_markdown":"Please follow below steps:\r\n\r\n1. Create Error POJO with id as attribute\r\n\r\n2. Replace returnId to error as below,\r\n\r\n&gt; public void insertRecord(@Param(&quot;error&quot;) Error error,\r\n&gt; @Param(&quot;timestamp&quot;)Timestamp timestamp,@Param(&quot;type&quot;) String\r\n&gt; type,@Param(&quot;message&quot;) String message,@Param(&quot;source&quot;) String source);\r\n\r\n3. Change  keyProperty=&quot;ID_ERROR&quot; to  keyProperty=&quot;error.id&quot;\r\n\r\n4. Remove  \r\n\r\n        &lt;selectKey resultType=&quot;long&quot; order=&quot;AFTER&quot; keyProperty=&quot;returnedId&quot;&gt;\r\n            SELECT LAST_INSERT_ID() as returnedId\r\n        &lt;/selectKey&gt;\r\n\r\nYou will get inserted `id` in `error.id`","title":"MyBatis, how to get the auto generated key of an insert? [MySql]","body":"<p>Please follow below steps:</p>\n\n<ol>\n<li><p>Create Error POJO with id as attribute</p></li>\n<li><p>Replace returnId to error as below,</p></li>\n</ol>\n\n<blockquote>\n  <p>public void insertRecord(@Param(\"error\") Error error,\n  @Param(\"timestamp\")Timestamp timestamp,@Param(\"type\") String\n  type,@Param(\"message\") String message,@Param(\"source\") String source);</p>\n</blockquote>\n\n<ol start=\"3\">\n<li><p>Change  keyProperty=\"ID_ERROR\" to  keyProperty=\"error.id\"</p></li>\n<li><p>Remove  </p>\n\n<pre><code>&lt;selectKey resultType=\"long\" order=\"AFTER\" keyProperty=\"returnedId\"&gt;\n    SELECT LAST_INSERT_ID() as returnedId\n&lt;/selectKey&gt;\n</code></pre></li>\n</ol>\n\n<p>You will get inserted <code>id</code> in <code>error.id</code></p>\n"},{"comments":[{"owner":{"account_id":6797655,"reputation":975,"user_id":5232255,"display_name":"Jason Law"},"score":1,"creation_date":1633397814,"post_id":18566434,"comment_id":122743184,"body_markdown":"Why do you use `useGeneratedKeys=&quot;true&quot;, keyProperty=&quot;id&quot;, keyColumn=&quot;id&quot;`? It should be `useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot; keyColumn=&quot;id&quot;`.","body":"Why do you use <code>useGeneratedKeys=&quot;true&quot;, keyProperty=&quot;id&quot;, keyColumn=&quot;id&quot;</code>? It should be <code>useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot; keyColumn=&quot;id&quot;</code>."}],"tags":[],"owner":{"account_id":147167,"reputation":2559,"user_id":358099,"accept_rate":47,"display_name":"bharanitharan"},"comment_count":1,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1484564982,"creation_date":1378101093,"answer_id":18566434,"question_id":18507508,"body_markdown":"You can achieve this by two ways,\r\n\r\n1. By using `useGeneratedKeys=&quot;true&quot;, keyProperty=&quot;id&quot;, keyColumn=&quot;id&quot;`\r\n\r\n   `keyProperty` refers to the POJO variable name and `keyColumn` refers to generated column name  in database\r\n\r\n2. By using `&lt;selectKey/&gt;` inside insert tag ","title":"MyBatis, how to get the auto generated key of an insert? [MySql]","body":"<p>You can achieve this by two ways,</p>\n\n<ol>\n<li><p>By using <code>useGeneratedKeys=\"true\", keyProperty=\"id\", keyColumn=\"id\"</code></p>\n\n<p><code>keyProperty</code> refers to the POJO variable name and <code>keyColumn</code> refers to generated column name  in database</p></li>\n<li><p>By using <code>&lt;selectKey/&gt;</code> inside insert tag </p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5226191,"reputation":2965,"user_id":4178170,"accept_rate":55,"display_name":"Humoyun Ahmad"},"score":1,"creation_date":1508478667,"post_id":20954027,"comment_id":80633611,"body_markdown":"you should remove object name, here project, from keyProperty=&quot;project.projectId&quot;","body":"you should remove object name, here project, from keyProperty=&quot;project.projectId&quot;"},{"owner":{"account_id":2202091,"reputation":436,"user_id":1946236,"accept_rate":50,"display_name":"Aluthren"},"score":1,"creation_date":1580841840,"post_id":20954027,"comment_id":106228227,"body_markdown":"@HumoyunAhmad Removing the parameter name from the keyProperty value (i.e.: keyProperty=&quot;projectId&quot;) caused the id property not to get populated. I&#39;m using Mybatis version 3.4.5.","body":"@HumoyunAhmad Removing the parameter name from the keyProperty value (i.e.: keyProperty=&quot;projectId&quot;) caused the id property not to get populated. I&#39;m using Mybatis version 3.4.5."},{"owner":{"account_id":1111116,"reputation":786,"user_id":1101564,"accept_rate":55,"display_name":"kivikall"},"score":0,"creation_date":1591706060,"post_id":20954027,"comment_id":110151928,"body_markdown":"This answer sounds weird. I&#39;d like to know how to return simply a value like int. Like in T-SQL you would wrote something like OUTPUT Inserted.id. Now we are passing project object so that it can receive that id that we can then retrieve using getProjectId(); Why wouldn&#39;t we then just populate project&#39;s title and description beforehand and only pass project object to create method... This works in this case yes, but to me this doesn&#39;t seem quite right.","body":"This answer sounds weird. I&#39;d like to know how to return simply a value like int. Like in T-SQL you would wrote something like OUTPUT Inserted.id. Now we are passing project object so that it can receive that id that we can then retrieve using getProjectId(); Why wouldn&#39;t we then just populate project&#39;s title and description beforehand and only pass project object to create method... This works in this case yes, but to me this doesn&#39;t seem quite right."}],"tags":[],"owner":{"account_id":1217455,"reputation":1009,"user_id":1184757,"display_name":"T M"},"comment_count":3,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1457338795,"creation_date":1389024273,"answer_id":20954027,"question_id":18507508,"body_markdown":"For me it is working like this (mybatis 3.x) .. \r\nThe id must be set auto increment in mysql table\r\n\r\n    \r\n\t&lt;insert id=&quot;createEmpty&quot; parameterType=&quot;Project&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;project.projectId&quot; keyColumn=&quot;PROJECT_ID&quot;&gt;\r\n\t\tINSERT INTO PROJECT (TITLE,DESCRIPTION)\r\n\t\tVALUES\r\n\t\t(#{title},#{description})\r\n    &lt;/insert&gt;\r\n\r\n[NOTE](http://www.mybatis.org/mybatis-3/sqlmap-xml.html#Auto-mapping) `keyProperty=&quot;project.projectId&quot;` and `useGeneratedKeys=&quot;true&quot;`\r\n\r\nmy interface is:\r\n\r\n    public int createEmpty(@Param(&quot;project&quot;) Project project, @Param(&quot;title&quot;) String title,\r\n        @Param(&quot;description&quot;) String description);\r\n\r\nfinally to get the value (that will be automatically assigned to the pojo&#39;s id property) i use:\r\n\r\n    projectRepository.createEmpty(p, &quot;one&quot;, &quot;two&quot;);\r\n    System.err.print(p.getProjectId() + &quot;\\n&quot;);","title":"MyBatis, how to get the auto generated key of an insert? [MySql]","body":"<p>For me it is working like this (mybatis 3.x) .. \nThe id must be set auto increment in mysql table</p>\n\n<pre><code>&lt;insert id=\"createEmpty\" parameterType=\"Project\" useGeneratedKeys=\"true\" keyProperty=\"project.projectId\" keyColumn=\"PROJECT_ID\"&gt;\n    INSERT INTO PROJECT (TITLE,DESCRIPTION)\n    VALUES\n    (#{title},#{description})\n&lt;/insert&gt;\n</code></pre>\n\n<p><a href=\"http://www.mybatis.org/mybatis-3/sqlmap-xml.html#Auto-mapping\">NOTE</a> <code>keyProperty=\"project.projectId\"</code> and <code>useGeneratedKeys=\"true\"</code></p>\n\n<p>my interface is:</p>\n\n<pre><code>public int createEmpty(@Param(\"project\") Project project, @Param(\"title\") String title,\n    @Param(\"description\") String description);\n</code></pre>\n\n<p>finally to get the value (that will be automatically assigned to the pojo's id property) i use:</p>\n\n<pre><code>projectRepository.createEmpty(p, \"one\", \"two\");\nSystem.err.print(p.getProjectId() + \"\\n\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1136185,"reputation":8141,"user_id":1121225,"accept_rate":62,"display_name":"Md. Naushad Alam"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1446449781,"creation_date":1432100682,"answer_id":30341197,"question_id":18507508,"body_markdown":"Easy Solution:\r\n\r\nUse `KeyProperty` attribute as `objectName.AutoincrementId`\r\nLike  below...\r\n\r\n`useGeneratedKeys=&quot;true&quot;, KeyProperty=&quot;person.id&quot;, KeyColumn=&quot;id&quot;`","title":"MyBatis, how to get the auto generated key of an insert? [MySql]","body":"<p>Easy Solution:</p>\n\n<p>Use <code>KeyProperty</code> attribute as <code>objectName.AutoincrementId</code>\nLike  below...</p>\n\n<p><code>useGeneratedKeys=\"true\", KeyProperty=\"person.id\", KeyColumn=\"id\"</code></p>\n"},{"tags":[],"owner":{"account_id":6462334,"reputation":997,"user_id":5005676,"display_name":"Shubham Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463107385,"creation_date":1463107385,"answer_id":37200418,"question_id":18507508,"body_markdown":"Under the Mapper Xml, use the query : \r\n\r\n        &lt;insert id=&quot;saveDemo&quot; parameterType=&quot;com.abc.demo&quot;\r\n\t\t   useGeneratedKeys=&quot;true&quot; keyProperty=&quot;demoId&quot; keyColumn=&quot;DEMOID&quot;&gt;\r\n\t\t   INSERT INTO TBL_DEMO (DEMONAME,DEMODESCRIPTION)\r\n\t\t   VALUE (#{demoName},#{demoDescription})\r\n\t\t   &lt;selectKey keyProperty=&quot;demoId&quot; resultType=&quot;int&quot; order=&quot;AFTER&quot;&gt;\r\n\t\t\tSELECT LAST_INSERT_ID();\r\n\t\t   &lt;/selectKey&gt;\r\n\t    &lt;/insert&gt;\r\n\r\n\r\n\r\nJava Side \r\n\r\n    @Override\r\n    public boolean saveDemo(Demo demo) {\r\n        boolean status = false;\r\n        SqlSession session = this.sqlSessionFactory.openSession();\r\n        try {\r\n            DemoMapper mapper = session.getMapper(DemoMapper.class);\r\n            mapper.saveDemo(demo);\r\n            session.commit();\r\n            status = true;\r\n        } catch(PersistenceException e) {\r\n            System.out.println(e);\r\n        } finally {\r\n            session.close();\r\n        }\r\n        return status;\r\n    }\r\n\r\n\r\n","title":"MyBatis, how to get the auto generated key of an insert? [MySql]","body":"<p>Under the Mapper Xml, use the query : </p>\n\n<pre><code>    &lt;insert id=\"saveDemo\" parameterType=\"com.abc.demo\"\n       useGeneratedKeys=\"true\" keyProperty=\"demoId\" keyColumn=\"DEMOID\"&gt;\n       INSERT INTO TBL_DEMO (DEMONAME,DEMODESCRIPTION)\n       VALUE (#{demoName},#{demoDescription})\n       &lt;selectKey keyProperty=\"demoId\" resultType=\"int\" order=\"AFTER\"&gt;\n        SELECT LAST_INSERT_ID();\n       &lt;/selectKey&gt;\n    &lt;/insert&gt;\n</code></pre>\n\n<p>Java Side </p>\n\n<pre><code>@Override\npublic boolean saveDemo(Demo demo) {\n    boolean status = false;\n    SqlSession session = this.sqlSessionFactory.openSession();\n    try {\n        DemoMapper mapper = session.getMapper(DemoMapper.class);\n        mapper.saveDemo(demo);\n        session.commit();\n        status = true;\n    } catch(PersistenceException e) {\n        System.out.println(e);\n    } finally {\n        session.close();\n    }\n    return status;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2605706,"reputation":1336,"user_id":2256913,"accept_rate":29,"display_name":"Mrinal Bhattacharjee"},"score":1,"creation_date":1566337173,"post_id":50292489,"comment_id":101623123,"body_markdown":"If I have a mapper.java instead of mapper.xml how to achieve this?","body":"If I have a mapper.java instead of mapper.xml how to achieve this?"}],"tags":[],"owner":{"account_id":6765248,"reputation":168,"user_id":5210448,"display_name":"Audrey Carval"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1526042103,"creation_date":1526042103,"answer_id":50292489,"question_id":18507508,"body_markdown":"If you take a look at &lt;a href=&quot;http://www.mybatis.org/mybatis-3/sqlmap-xml.html#insert_update_and_delete&quot;&gt;MyBatis documentation&lt;/a&gt;, &lt;strong&gt;useGeneratedKeys&lt;/strong&gt; and &lt;strong&gt;keyProperty&lt;/strong&gt; is what you need at least to get auto increment data (for some database, you will need to add &lt;strong&gt;keyColumn&lt;/strong&gt;).\r\n\r\nAs you can see, useGeneratedKeys depends on if/how is implemented the getGeneretadKeys method of the dataBase&#39;s JDBC.\r\n\r\nFor exemple,  with &lt;a href=&quot;https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-usagenotes-last-insert-id.html&quot;&gt;mysql&lt;/a&gt;  or H2, getGeneretadKeys support only one column. The last generated key will be the one return by getGeneretadKeys.\r\n\r\nIn conclusion, in your case you need to add only useGeneratedKeys and keyProperty (with ID_ERROR auto_increment):\r\n\r\nMapper.xml\r\n\r\n\t&lt;resultMap type=&#39;pathToJavaClass/Error&#39; id=&#39;error&#39;&gt;\r\n\t\t&lt;id property=&#39;id&#39; column=&#39;ID_ERROR&#39; /&gt;\r\n\t\t&lt;result property=&#39;timestamp&#39; column=&#39;DATE&#39; /&gt;\r\n\t\t&lt;result property=&#39;type&#39; column=&#39;TYPE&#39;/&gt;\r\n\t\t&lt;result property=&#39;message&#39; column=&#39;MESSAGE&#39;/&gt;\r\n\t\t&lt;result property=&#39;source&#39; column=&#39;SOURCE&#39;/&gt;\r\n\t&lt;/resultMap&gt;\r\n    &lt;insert id=&quot;insertRecord&quot; parameterType=&quot;error&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;\r\n    INSERT INTO errors (\r\n        DATE,\r\n        TYPE,\r\n        MESSAGE,\r\n        SOURCE\r\n    )\r\n    VALUES (\r\n        #{timestamp},\r\n        #{type},\r\n        #{message},\r\n        #{source}\r\n    )\r\n    &lt;/insert&gt;\r\n\r\nInterface.java\r\n\r\n    public void insertRecord(@Param(&quot;error&quot;) Error error);\r\n\r\nIf you still get some issue to retrieve generated Keys, check also the documentation of mysql&#39;s JDBC (older version may not implement getGeneretadKeys).\r\n\r\n","title":"MyBatis, how to get the auto generated key of an insert? [MySql]","body":"<p>If you take a look at <a href=\"http://www.mybatis.org/mybatis-3/sqlmap-xml.html#insert_update_and_delete\" rel=\"noreferrer\">MyBatis documentation</a>, <strong>useGeneratedKeys</strong> and <strong>keyProperty</strong> is what you need at least to get auto increment data (for some database, you will need to add <strong>keyColumn</strong>).</p>\n\n<p>As you can see, useGeneratedKeys depends on if/how is implemented the getGeneretadKeys method of the dataBase's JDBC.</p>\n\n<p>For exemple,  with <a href=\"https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-usagenotes-last-insert-id.html\" rel=\"noreferrer\">mysql</a>  or H2, getGeneretadKeys support only one column. The last generated key will be the one return by getGeneretadKeys.</p>\n\n<p>In conclusion, in your case you need to add only useGeneratedKeys and keyProperty (with ID_ERROR auto_increment):</p>\n\n<p>Mapper.xml</p>\n\n<pre><code>&lt;resultMap type='pathToJavaClass/Error' id='error'&gt;\n    &lt;id property='id' column='ID_ERROR' /&gt;\n    &lt;result property='timestamp' column='DATE' /&gt;\n    &lt;result property='type' column='TYPE'/&gt;\n    &lt;result property='message' column='MESSAGE'/&gt;\n    &lt;result property='source' column='SOURCE'/&gt;\n&lt;/resultMap&gt;\n&lt;insert id=\"insertRecord\" parameterType=\"error\" useGeneratedKeys=\"true\" keyProperty=\"id\"&gt;\nINSERT INTO errors (\n    DATE,\n    TYPE,\n    MESSAGE,\n    SOURCE\n)\nVALUES (\n    #{timestamp},\n    #{type},\n    #{message},\n    #{source}\n)\n&lt;/insert&gt;\n</code></pre>\n\n<p>Interface.java</p>\n\n<pre><code>public void insertRecord(@Param(\"error\") Error error);\n</code></pre>\n\n<p>If you still get some issue to retrieve generated Keys, check also the documentation of mysql's JDBC (older version may not implement getGeneretadKeys).</p>\n"},{"tags":[],"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539580103,"creation_date":1539578574,"answer_id":52809875,"question_id":18507508,"body_markdown":"In the xml file Put below 5 lines: \r\n\r\n    &lt;insert id=&quot;createPet&quot; parameterType=&quot;java.util.Map&quot;\r\n    \tuseGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;\r\n    \tINSERT INTO Pet (NAME, OWNER, SPECIES, SEX, BIRTH)\r\n    \tVALUES (#{name}, #{owner}, #{species}, #{sex}, #{birth})\r\n    &lt;/insert&gt;\r\n\r\nCreate this method in Java main class and call it in the main method:\r\n\r\n    public int createPet(PetDVO petDVO) throws Exception {\r\n    \tHashMap&lt;String, Object&gt; inputMap = new HashMap&lt;String, Object&gt;();\r\n    \tinputMap.put(&quot;name&quot;, petDVO.getName());\r\n    \tinputMap.put(&quot;owner&quot;, petDVO.getOwner());\r\n    \tinputMap.put(&quot;species&quot;, petDVO.getSpecies());\r\n    \tinputMap.put(&quot;sex&quot;, petDVO.getSex());\r\n    \tinputMap.put(&quot;birth&quot;, petDVO.getBirth());\r\n    \r\n    \t/**\r\n    \t * Get the sql session and commit the data\r\n    \t */\r\n    \tSqlSession sqlSession = getSqlSession();\r\n    \tsqlSession.insert(&quot;createPet&quot;, inputMap);\r\n    \tsqlSession.commit();\r\n    \r\n    \tBigInteger newID = (BigInteger)inputMap.get(&quot;id&quot;);\r\n    \treturn newID.intValue();\r\n    }\r\n\r\nBut you should create PetDVO class yourself. That is it.","title":"MyBatis, how to get the auto generated key of an insert? [MySql]","body":"<p>In the xml file Put below 5 lines: </p>\n\n<pre><code>&lt;insert id=\"createPet\" parameterType=\"java.util.Map\"\n    useGeneratedKeys=\"true\" keyProperty=\"id\"&gt;\n    INSERT INTO Pet (NAME, OWNER, SPECIES, SEX, BIRTH)\n    VALUES (#{name}, #{owner}, #{species}, #{sex}, #{birth})\n&lt;/insert&gt;\n</code></pre>\n\n<p>Create this method in Java main class and call it in the main method:</p>\n\n<pre><code>public int createPet(PetDVO petDVO) throws Exception {\n    HashMap&lt;String, Object&gt; inputMap = new HashMap&lt;String, Object&gt;();\n    inputMap.put(\"name\", petDVO.getName());\n    inputMap.put(\"owner\", petDVO.getOwner());\n    inputMap.put(\"species\", petDVO.getSpecies());\n    inputMap.put(\"sex\", petDVO.getSex());\n    inputMap.put(\"birth\", petDVO.getBirth());\n\n    /**\n     * Get the sql session and commit the data\n     */\n    SqlSession sqlSession = getSqlSession();\n    sqlSession.insert(\"createPet\", inputMap);\n    sqlSession.commit();\n\n    BigInteger newID = (BigInteger)inputMap.get(\"id\");\n    return newID.intValue();\n}\n</code></pre>\n\n<p>But you should create PetDVO class yourself. That is it.</p>\n"},{"tags":[],"owner":{"account_id":4623279,"reputation":752,"user_id":3747762,"display_name":"david euler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679485262,"creation_date":1679485262,"answer_id":75811817,"question_id":18507508,"body_markdown":"Use Select annotation with insert sql and a RETURNING indication.\r\n\r\nThe following code works for me for Postgres, MyBatis 3.5.0.\r\n\r\n```\r\n    @Select(&quot;insert into db_mutil_route(user_id, pk, instance_id, name, create_time, update_time) values(#{userId}, #{pk}, #{instanceId}, #{name}, now(), now()) RETURNING id&quot;)\r\n    @Options(flushCache = Options.FlushCachePolicy.TRUE, useGeneratedKeys = true, keyProperty = &quot;id&quot;, keyColumn=&quot;id&quot;)\r\n    Route insert(Route dbRoute);\r\n```\r\n\r\nReference:\r\nhttps://github.com/mybatis/mybatis-3/issues/1293","title":"MyBatis, how to get the auto generated key of an insert? [MySql]","body":"<p>Use Select annotation with insert sql and a RETURNING indication.</p>\n<p>The following code works for me for Postgres, MyBatis 3.5.0.</p>\n<pre><code>    @Select(&quot;insert into db_mutil_route(user_id, pk, instance_id, name, create_time, update_time) values(#{userId}, #{pk}, #{instanceId}, #{name}, now(), now()) RETURNING id&quot;)\n    @Options(flushCache = Options.FlushCachePolicy.TRUE, useGeneratedKeys = true, keyProperty = &quot;id&quot;, keyColumn=&quot;id&quot;)\n    Route insert(Route dbRoute);\n</code></pre>\n<p>Reference:\n<a href=\"https://github.com/mybatis/mybatis-3/issues/1293\" rel=\"nofollow noreferrer\">https://github.com/mybatis/mybatis-3/issues/1293</a></p>\n"},{"tags":[],"owner":{"account_id":2570597,"reputation":1648,"user_id":2229437,"display_name":"kai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693981917,"creation_date":1693981917,"answer_id":77049481,"question_id":18507508,"body_markdown":"In generatorConfig.xml\r\n```\r\n        &lt;table tableName=&quot;models&quot; domainObjectName=&quot;Model&quot;&gt;\r\n            &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;MySql&quot; identity=&quot;true&quot;/&gt;\r\n        &lt;/table&gt;\r\n```\r\n\r\nafter insert by `modelMapper().insertSelective(model)`, the primary key can get by `model.getId()`","title":"MyBatis, how to get the auto generated key of an insert? [MySql]","body":"<p>In generatorConfig.xml</p>\n<pre><code>        &lt;table tableName=&quot;models&quot; domainObjectName=&quot;Model&quot;&gt;\n            &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;MySql&quot; identity=&quot;true&quot;/&gt;\n        &lt;/table&gt;\n</code></pre>\n<p>after insert by <code>modelMapper().insertSelective(model)</code>, the primary key can get by <code>model.getId()</code></p>\n"}],"owner":{"account_id":3034022,"reputation":1229,"user_id":2572526,"accept_rate":60,"display_name":"user2572526"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130150,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":18523424,"answer_count":10,"score":42,"last_activity_date":1693981917,"creation_date":1377769577,"question_id":18507508,"body_markdown":"how can I get the generated key of an insert with MyBatis?\r\nI read many pages about this question but I&#39;m still blocked, could anyone help me, please?\r\nThis is my code:\r\n\r\nThe table:\r\n\r\n    ID_ERROR long primary key\r\n    DATE timestamp\r\n    TYPE varchar\r\n    MESSAGE varchar\r\n    SOURCE varchar\r\n\r\nThe dao:\r\n\r\n    Long returnedId = 0L;\r\n    MyMapper myMapper = this.sqlSession.getMapper(MyMapper.class);\r\n    myMapper.insertRecord(returnedId, Utils.now(), t.getClass().getName(), t.getMessage(), c.getName());\r\n    return returnedId;\r\n\r\nThe mapper.java:\r\n\r\n    public void insertRecord(@Param(&quot;returnedId&quot;) Long returnedId, @Param(&quot;timestamp&quot;)Timestamp timestamp,@Param(&quot;type&quot;) String type,@Param(&quot;message&quot;) String message,@Param(&quot;source&quot;) String source);\r\n\r\nThe mapper.xml\r\n\r\n     &lt;insert id=&quot;insertRecord&quot; parameterType=&quot;map&quot; useGeneratedKeys=&quot;true&quot;  keyProperty=&quot;ID_ERROR&quot;&gt;\r\n\t\tINSERT INTO errors (\r\n\t\t\tDATE,\r\n\t\t\tTYPE,\r\n\t\t\tMESSAGE,\r\n\t\t\tSOURCE\r\n\t\t)\r\n\t\tVALUES (\r\n\t\t\t#{timestamp},\r\n\t\t\t#{type},\r\n\t\t\t#{message},\r\n\t\t\t#{source}\r\n\t\t)\r\n\t\t&lt;selectKey resultType=&quot;long&quot; order=&quot;AFTER&quot; keyProperty=&quot;returnedId&quot;&gt;\r\n\t\t\tSELECT LAST_INSERT_ID() as returnedId\r\n\t\t&lt;/selectKey&gt;\r\n\t&lt;/insert&gt;\r\n\r\nWhat is wrong? How can I get the generated key of this insert?\r\nThanks!","title":"MyBatis, how to get the auto generated key of an insert? [MySql]","body":"<p>how can I get the generated key of an insert with MyBatis?\nI read many pages about this question but I'm still blocked, could anyone help me, please?\nThis is my code:</p>\n\n<p>The table:</p>\n\n<pre><code>ID_ERROR long primary key\nDATE timestamp\nTYPE varchar\nMESSAGE varchar\nSOURCE varchar\n</code></pre>\n\n<p>The dao:</p>\n\n<pre><code>Long returnedId = 0L;\nMyMapper myMapper = this.sqlSession.getMapper(MyMapper.class);\nmyMapper.insertRecord(returnedId, Utils.now(), t.getClass().getName(), t.getMessage(), c.getName());\nreturn returnedId;\n</code></pre>\n\n<p>The mapper.java:</p>\n\n<pre><code>public void insertRecord(@Param(\"returnedId\") Long returnedId, @Param(\"timestamp\")Timestamp timestamp,@Param(\"type\") String type,@Param(\"message\") String message,@Param(\"source\") String source);\n</code></pre>\n\n<p>The mapper.xml</p>\n\n<pre><code> &lt;insert id=\"insertRecord\" parameterType=\"map\" useGeneratedKeys=\"true\"  keyProperty=\"ID_ERROR\"&gt;\n    INSERT INTO errors (\n        DATE,\n        TYPE,\n        MESSAGE,\n        SOURCE\n    )\n    VALUES (\n        #{timestamp},\n        #{type},\n        #{message},\n        #{source}\n    )\n    &lt;selectKey resultType=\"long\" order=\"AFTER\" keyProperty=\"returnedId\"&gt;\n        SELECT LAST_INSERT_ID() as returnedId\n    &lt;/selectKey&gt;\n&lt;/insert&gt;\n</code></pre>\n\n<p>What is wrong? How can I get the generated key of this insert?\nThanks!</p>\n"},{"tags":["java","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1693896988,"post_id":77041699,"comment_id":135816034,"body_markdown":"You set up a Target Platform which can be any version you like. Preferences &gt; Plug-in Development &gt; Target Platform. Don&#39;t try and mix versions from different releases, always use a target platform for a particular release.","body":"You set up a Target Platform which can be any version you like. Preferences &gt; Plug-in Development &gt; Target Platform. Don&#39;t try and mix versions from different releases, always use a target platform for a particular release."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1693904771,"post_id":77041699,"comment_id":135817547,"body_markdown":"The Eclipse [archive](https://archive.eclipse.org/eclipse/downloads/) has every release of Eclipse.","body":"The Eclipse <a href=\"https://archive.eclipse.org/eclipse/downloads/\" rel=\"nofollow noreferrer\">archive</a> has every release of Eclipse."},{"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"score":0,"creation_date":1693959968,"post_id":77041699,"comment_id":135827565,"body_markdown":"Thanks @greg-449, that was the way to go! You could change the comment to a proper answer.","body":"Thanks @greg-449, that was the way to go! You could change the comment to a proper answer."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693981899,"creation_date":1693981899,"answer_id":77049479,"question_id":77041699,"body_markdown":"You use a &quot;Target Platform&quot; to specify which version of plug-ins to use. It is recommended that you always do this even when developing for the current Eclipse as it give you better control of exactly what is available.\r\n\r\nTarget Platforms are set up in the Preferences (Settings on macOS) in the &quot;Plug-in Development &gt; Target Platform&quot; page. You can have multiple target platforms but only one is active at a time.\r\n\r\nThe Eclipse [archive](https://archive.eclipse.org/eclipse/downloads/) has downloads for every version of Eclipse. These can be used as target platforms. \r\n\r\nDon&#39;t try and mix plug-ins from different Eclipse versions.\r\n","title":"Eclipse RCP plugin repository - old versions of plugins?","body":"<p>You use a &quot;Target Platform&quot; to specify which version of plug-ins to use. It is recommended that you always do this even when developing for the current Eclipse as it give you better control of exactly what is available.</p>\n<p>Target Platforms are set up in the Preferences (Settings on macOS) in the &quot;Plug-in Development &gt; Target Platform&quot; page. You can have multiple target platforms but only one is active at a time.</p>\n<p>The Eclipse <a href=\"https://archive.eclipse.org/eclipse/downloads/\" rel=\"nofollow noreferrer\">archive</a> has downloads for every version of Eclipse. These can be used as target platforms.</p>\n<p>Don't try and mix plug-ins from different Eclipse versions.</p>\n"}],"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77049479,"answer_count":1,"score":0,"last_activity_date":1693981899,"creation_date":1693887170,"question_id":77041699,"body_markdown":"I&#39;m about to start modernization of a very old Eclipse RCP application, which uses Eclipse Helios (2011) as an IDE and runs on Java 1.6.\r\n\r\nThe first step I&#39;d like to do is to take a newer version of Eclipse IDE and force it to load that ancient project. What I came across is the following problem: old plugin dependencies are present:\r\n```lang:none\r\norg.eclipse.ui (3.203.100.v20230417-1307)\r\n```\r\nbut their minor versions have gone through a lot, too. What I need, for the example above, is:\r\n```lang:none\r\norg.eclipse.ui (3.6.2.M20110203-1100)\r\n```\r\n\r\nIs it really the case, that **I can&#39;t get core plugin versions in any version I desire**, only in the one bundled with the IDE?","title":"Eclipse RCP plugin repository - old versions of plugins?","body":"<p>I'm about to start modernization of a very old Eclipse RCP application, which uses Eclipse Helios (2011) as an IDE and runs on Java 1.6.</p>\n<p>The first step I'd like to do is to take a newer version of Eclipse IDE and force it to load that ancient project. What I came across is the following problem: old plugin dependencies are present:</p>\n<pre><code>org.eclipse.ui (3.203.100.v20230417-1307)\n</code></pre>\n<p>but their minor versions have gone through a lot, too. What I need, for the example above, is:</p>\n<pre><code>org.eclipse.ui (3.6.2.M20110203-1100)\n</code></pre>\n<p>Is it really the case, that <strong>I can't get core plugin versions in any version I desire</strong>, only in the one bundled with the IDE?</p>\n"},{"tags":["java","spring-boot","log4j","slf4j"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1693982282,"post_id":77049475,"comment_id":135829553,"body_markdown":"Could you add the current pattern you have in your configuration ?","body":"Could you add the current pattern you have in your configuration ?"}],"owner":{"account_id":13266298,"reputation":1211,"user_id":9578985,"display_name":"Jerald Baker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693981857,"creation_date":1693981857,"question_id":77049475,"body_markdown":"I am using SLf4J and springboot. \r\nI see that in logs, I see some lines of exception&#39;s stacktrace suppressed.\r\n\r\n    at org.x.x.Method$$EnhancerBySpringCGLIB$$c5ed3cb4.create(&lt;generated&gt;) ~[app-core-0.9.3-SNAPSHOT.jar!/:?]|\r\n    at org.x.x.Method$$FastClassBySpringCGLIB$$495e8f0c.invoke(&lt;generated&gt;) ~[app-core-0.9.3-SNAPSHOT.jar!/:?]|\r\n    ... suppressed 9 lines|\r\n    at org.x.x.Method$$EnhancerBySpringCGLIB$$ddbb65ef.create(&lt;generated&gt;) ~[app-core-0.9.3-SNAPSHOT.jar!/:?]|\r\n    ... suppressed 2 lines|\r\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_372]|\r\n    ... suppressed 7 lines|\r\n    ... 94 more|Caused by: java.lang.NullPointerException|\r\n\r\n\r\nHow to NOT suppress these &quot;suppressed X lines&quot; and elaborate the &quot;94 more&quot; in the logs?\r\n","title":"How to not suppress parts of exception stacktrace in Logs?","body":"<p>I am using SLf4J and springboot.\nI see that in logs, I see some lines of exception's stacktrace suppressed.</p>\n<pre><code>at org.x.x.Method$$EnhancerBySpringCGLIB$$c5ed3cb4.create(&lt;generated&gt;) ~[app-core-0.9.3-SNAPSHOT.jar!/:?]|\nat org.x.x.Method$$FastClassBySpringCGLIB$$495e8f0c.invoke(&lt;generated&gt;) ~[app-core-0.9.3-SNAPSHOT.jar!/:?]|\n... suppressed 9 lines|\nat org.x.x.Method$$EnhancerBySpringCGLIB$$ddbb65ef.create(&lt;generated&gt;) ~[app-core-0.9.3-SNAPSHOT.jar!/:?]|\n... suppressed 2 lines|\nat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_372]|\n... suppressed 7 lines|\n... 94 more|Caused by: java.lang.NullPointerException|\n</code></pre>\n<p>How to NOT suppress these &quot;suppressed X lines&quot; and elaborate the &quot;94 more&quot; in the logs?</p>\n"},{"tags":["java","apache-camel","jms","enterprise-integration"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1693920458,"post_id":77000642,"comment_id":135820893,"body_markdown":"This question is off-topic and should either be re-worded or closed. Asking for the _best_ way to accomplish a particular task is going to elicit opinion-based answers rather than fact-based ones since it&#39;s a relative measure based almost entirely on your specific use-case.","body":"This question is off-topic and should either be re-worded or closed. Asking for the <i>best</i> way to accomplish a particular task is going to elicit opinion-based answers rather than fact-based ones since it&#39;s a relative measure based almost entirely on your specific use-case."},{"owner":{"account_id":1581346,"reputation":11,"user_id":1466675,"display_name":"hans lux"},"score":0,"creation_date":1693993838,"post_id":77000642,"comment_id":135831735,"body_markdown":"Thanks for the comment. I re-worded the question.\nI am not interested in an opnion-based answer, but the correct way of using the apache-camel api to handle exceptions and retries.","body":"Thanks for the comment. I re-worded the question. I am not interested in an opnion-based answer, but the correct way of using the apache-camel api to handle exceptions and retries."}],"owner":{"account_id":1581346,"reputation":11,"user_id":1466675,"display_name":"hans lux"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693981817,"creation_date":1693315481,"question_id":77000642,"body_markdown":"I receive a message via a message queue.\r\nThe message should be persisted and sent to a SOAP endpoint.\r\n\r\nWhen that SOAP endpoint is not available, delivery to that endpoint should be retried until\r\nit is sucessfully delivered.\r\nRetries should happen with a delay of 10 seconds.\r\n\r\nI tried several ways to achieve this.\r\n\r\nonException, errorHandler(noErrorHandler), transacted(), rollback()....\r\n\r\n\r\n\r\nWhat finally works is this.\r\n\r\n       \r\n```\r\nfrom(incomingQueue)\r\n                .routeId(&quot;incomingQueue&quot;)\r\n                .log(&quot;sending to partner&quot;)\r\n                .wireTap(persistOutgoingUri)\r\n                .doTry()\r\n                .to(sendViaSoap)\r\n                .log(&quot;Got Response for SOAP: ${body}&quot;)\r\n                .doCatch(IOException.class)\r\n                .log(&quot;SOAP delivery failed, requeuing the message...&quot;)\r\n                .delay(10000)\r\n                .to(incomingQueue);\r\n```\r\n\r\nBut I wonder, if that is the idiomatic way to do it in apache camel.","title":"Re-Queue/Re-Try a message on failure","body":"<p>I receive a message via a message queue.\nThe message should be persisted and sent to a SOAP endpoint.</p>\n<p>When that SOAP endpoint is not available, delivery to that endpoint should be retried until\nit is sucessfully delivered.\nRetries should happen with a delay of 10 seconds.</p>\n<p>I tried several ways to achieve this.</p>\n<p>onException, errorHandler(noErrorHandler), transacted(), rollback()....</p>\n<p>What finally works is this.</p>\n<pre><code>from(incomingQueue)\n                .routeId(&quot;incomingQueue&quot;)\n                .log(&quot;sending to partner&quot;)\n                .wireTap(persistOutgoingUri)\n                .doTry()\n                .to(sendViaSoap)\n                .log(&quot;Got Response for SOAP: ${body}&quot;)\n                .doCatch(IOException.class)\n                .log(&quot;SOAP delivery failed, requeuing the message...&quot;)\n                .delay(10000)\n                .to(incomingQueue);\n</code></pre>\n<p>But I wonder, if that is the idiomatic way to do it in apache camel.</p>\n"},{"tags":["java","selenium","selenium-webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":1516059,"reputation":303,"user_id":1417038,"display_name":"Escay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415280500,"creation_date":1415280500,"answer_id":26780717,"question_id":23149807,"body_markdown":"The option &#39;allow-return-values&#39; is not meant to test the return value &quot;hai&quot;. It is meant to allow @Test annotation on methods that have return values.\r\n\r\nBy default TestNG follows best practices for unit testing, which means a unit test method should not have a return value. However sometimes you want to add the @Test annotation to a method with a return value. If you do not specify &#39;allow-return-values&#39; in your Suite configuration TestNG will print out a warning and will not run the method as tests.\r\n\r\nThe warning TestNG gives is something like:\r\n\r\n&gt; Method public java.util.List a.B.getC(java.util.List) has a @Test annotation but also a return value: ignoring it. Use &#39;suite allow-return-values=&quot;true&quot;&#39; to fix this\r\n\r\nThe only useful example of allowing return values I have found so far is when your test class implements a certain interface and you want to test all interface methods by adding @Test annotations.\r\n\r\nSee [http://testng.org/doc/documentation-main.html][1] for the real documentation.\r\n\r\n\r\n  [1]: http://testng.org/doc/documentation-main.html","title":"How to use &quot;allow-return-values=&quot;true&quot;&quot; in TestNG test methods?","body":"<p>The option 'allow-return-values' is not meant to test the return value \"hai\". It is meant to allow @Test annotation on methods that have return values.</p>\n\n<p>By default TestNG follows best practices for unit testing, which means a unit test method should not have a return value. However sometimes you want to add the @Test annotation to a method with a return value. If you do not specify 'allow-return-values' in your Suite configuration TestNG will print out a warning and will not run the method as tests.</p>\n\n<p>The warning TestNG gives is something like:</p>\n\n<blockquote>\n  <p>Method public java.util.List a.B.getC(java.util.List) has a @Test annotation but also a return value: ignoring it. Use 'suite allow-return-values=\"true\"' to fix this</p>\n</blockquote>\n\n<p>The only useful example of allowing return values I have found so far is when your test class implements a certain interface and you want to test all interface methods by adding @Test annotations.</p>\n\n<p>See <a href=\"http://testng.org/doc/documentation-main.html\" rel=\"nofollow\">http://testng.org/doc/documentation-main.html</a> for the real documentation.</p>\n"}],"owner":{"account_id":4005953,"reputation":2281,"user_id":3300593,"accept_rate":81,"display_name":"Vinod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693981507,"creation_date":1397807337,"question_id":23149807,"body_markdown":"I am beginner to [TestNG][1]. I about test method in official TestNG documentation. I am not clear with the use of `allow-return-values=&quot;true&quot;` can any one explain it briefly with example. I did one example I didn&#39;t get way the way of using,\r\n\r\nThis is my .xml\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\r\n    \r\n    &lt;suite name=&quot;newSuite&quot; parallel=&quot;methods&quot; thread-count=&quot;5&quot; allow-return-values=&quot;true&quot;&gt;\r\n    &lt;parameter name=&quot;browser&quot; value=&quot;Firefox&quot;&gt;&lt;/parameter&gt;\r\n    &lt;test name=&quot;dataprovider&quot; allow-return-values=&quot;true&quot;&gt;\r\n       &lt;classes&gt;\r\n          &lt;class name=&quot;com.tets.SampleTest&quot;&gt;&lt;/class&gt;\r\n       &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n    &lt;/suite&gt;\r\nand my test class is as follows,\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class SampleTest {\r\n    \r\n    @AfterMethod\r\n    public void teardown(Object returnValueFromTest){\r\n        //inspect returnValueFromTest and perform necessary clean up.\r\n    }\r\n    \r\n    \r\n    @Test\r\n    public String testEventGeneration(){\r\n        //generate event\r\n    \r\n        //returning generated e\tvent id.\r\n        return &quot;E1234&quot;;\r\n       \r\n    }\r\n    \r\n    @Test\r\n    public String testMarketGeneration(){\r\n        //generate market\r\n    \r\n        //returning generated market.\r\n        return &quot;hai&quot;;\r\n    }}\r\n\r\nHow and where can I get the return value from `testMarketGeneration` test method ?\r\n\r\n\r\n  [1]: http://testng.org/doc/index.html","title":"How to use &quot;allow-return-values=&quot;true&quot;&quot; in TestNG test methods?","body":"<p>I am beginner to <a href=\"http://testng.org/doc/index.html\" rel=\"nofollow\">TestNG</a>. I about test method in official TestNG documentation. I am not clear with the use of <code>allow-return-values=\"true\"</code> can any one explain it briefly with example. I did one example I didn't get way the way of using,</p>\n\n<p>This is my .xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\" &gt;\n\n&lt;suite name=\"newSuite\" parallel=\"methods\" thread-count=\"5\" allow-return-values=\"true\"&gt;\n&lt;parameter name=\"browser\" value=\"Firefox\"&gt;&lt;/parameter&gt;\n&lt;test name=\"dataprovider\" allow-return-values=\"true\"&gt;\n   &lt;classes&gt;\n      &lt;class name=\"com.tets.SampleTest\"&gt;&lt;/class&gt;\n   &lt;/classes&gt;\n&lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n\n<p>and my test class is as follows,</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SampleTest {\n\n@AfterMethod\npublic void teardown(Object returnValueFromTest){\n    //inspect returnValueFromTest and perform necessary clean up.\n}\n\n\n@Test\npublic String testEventGeneration(){\n    //generate event\n\n    //returning generated e vent id.\n    return \"E1234\";\n\n}\n\n@Test\npublic String testMarketGeneration(){\n    //generate market\n\n    //returning generated market.\n    return \"hai\";\n}}\n</code></pre>\n\n<p>How and where can I get the return value from <code>testMarketGeneration</code> test method ?</p>\n"},{"tags":["java","aiml"],"comments":[{"owner":{"account_id":9739137,"reputation":886,"user_id":7221393,"accept_rate":89,"display_name":"Dev_Man"},"score":0,"creation_date":1494479383,"post_id":43463390,"comment_id":74847139,"body_markdown":"were you able to find any solution?","body":"were you able to find any solution?"},{"owner":{"account_id":5700535,"reputation":441,"user_id":4915000,"accept_rate":71,"display_name":"Kavipriya"},"score":0,"creation_date":1494568154,"post_id":43463390,"comment_id":74893037,"body_markdown":"No, I haven&#39;t found any solution for this problem. Luckily for my project that was not that important.","body":"No, I haven&#39;t found any solution for this problem. Luckily for my project that was not that important."},{"owner":{"account_id":3893766,"reputation":1244,"user_id":3223340,"accept_rate":38,"display_name":"Jugi"},"score":0,"creation_date":1505988263,"post_id":43463390,"comment_id":79641790,"body_markdown":"hi kavipriya. Did u find a solution for this ?","body":"hi kavipriya. Did u find a solution for this ?"},{"owner":{"account_id":5700535,"reputation":441,"user_id":4915000,"accept_rate":71,"display_name":"Kavipriya"},"score":0,"creation_date":1506083351,"post_id":43463390,"comment_id":79688922,"body_markdown":"No.. I couldn&#39;t make it work.. I shifted to other project and left that.. so haven&#39;t tried again.. please let me know if you get any solution.","body":"No.. I couldn&#39;t make it work.. I shifted to other project and left that.. so haven&#39;t tried again.. please let me know if you get any solution."}],"answers":[{"comments":[{"owner":{"account_id":5700535,"reputation":441,"user_id":4915000,"accept_rate":71,"display_name":"Kavipriya"},"score":1,"creation_date":1497262025,"post_id":44482099,"comment_id":75986492,"body_markdown":"Can you be more specific?  explain or put your code.","body":"Can you be more specific?  explain or put your code."}],"tags":[],"owner":{"account_id":6959701,"reputation":89,"user_id":5339590,"display_name":"Hamza Idrees"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1497171734,"creation_date":1497171734,"answer_id":44482099,"question_id":43463390,"body_markdown":"Explore program-ab and see how its tags work. I created a tag by replicating code for person tag in program ab code.","title":"AIMLProcessorExtension: tag not working in aiml","body":"<p>Explore program-ab and see how its tags work. I created a tag by replicating code for person tag in program ab code.</p>\n"},{"tags":[],"owner":{"account_id":25335219,"reputation":11,"user_id":19154464,"display_name":"Ahmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693981342,"creation_date":1693981342,"answer_id":77049422,"question_id":43463390,"body_markdown":"I faced the same problem and after a long time of trying different solutions I could find the solution for the problem why you get the no answer from java side when you put your made up tag &lt;check&gt; in your aiml file, and instead the tag is converted automatically to &lt;check/&gt; tag.\r\n\r\nIt was an issue of getting the dependencies wight in the pom.xml file. you should use the dependencies used in the following [pom.xml][1]. This pom.xml is from the same [repository][2] where you found the example of AIMLExtension.\r\n\r\nI added the following lines to the properties in my pom.xml:\r\n\r\n        &lt;slf4j.version&gt;1.7.5&lt;/slf4j.version&gt;\r\n\t\t&lt;httpclient.version&gt;4.2.5&lt;/httpclient.version&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\r\nand the following lines to the dependencies: \r\n\r\n        &lt;dependency&gt;\r\n\t    \t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t    \t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t    \t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t    \t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t    \t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t    \t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n\t    \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t    \t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t    \t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t    \t&lt;version&gt;1.0.13&lt;/version&gt;\r\n\t    \t&lt;optional&gt;true&lt;/optional&gt;\r\n\t     &lt;/dependency&gt;\r\n    \r\n\r\n\r\nYou should make sure that you have defined a class to write the new aiml files as shown in ([3.1. Adding Custom Patterns][3]) before running and testing your chat bot \r\n\r\n\r\n  [1]: https://github.com/lumenrobot/program-ab/blob/master/pom.xml\r\n  [2]: https://github.com/lumenrobot/program-ab/blob/master/src/main/java/org/alicebot/ab/PCAIMLProcessorExtension.java\r\n  [3]: https://howtodoinjava.com/java/library/java-aiml-chatbot-example/","title":"AIMLProcessorExtension: tag not working in aiml","body":"<p>I faced the same problem and after a long time of trying different solutions I could find the solution for the problem why you get the no answer from java side when you put your made up tag  in your aiml file, and instead the tag is converted automatically to  tag.</p>\n<p>It was an issue of getting the dependencies wight in the pom.xml file. you should use the dependencies used in the following <a href=\"https://github.com/lumenrobot/program-ab/blob/master/pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a>. This pom.xml is from the same <a href=\"https://github.com/lumenrobot/program-ab/blob/master/src/main/java/org/alicebot/ab/PCAIMLProcessorExtension.java\" rel=\"nofollow noreferrer\">repository</a> where you found the example of AIMLExtension.</p>\n<p>I added the following lines to the properties in my pom.xml:</p>\n<pre><code>    &lt;slf4j.version&gt;1.7.5&lt;/slf4j.version&gt;\n    &lt;httpclient.version&gt;4.2.5&lt;/httpclient.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n</code></pre>\n<p>and the following lines to the dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;1.0.13&lt;/version&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n     &lt;/dependency&gt;\n</code></pre>\n<p>You should make sure that you have defined a class to write the new aiml files as shown in (<a href=\"https://howtodoinjava.com/java/library/java-aiml-chatbot-example/\" rel=\"nofollow noreferrer\">3.1. Adding Custom Patterns</a>) before running and testing your chat bot</p>\n"}],"owner":{"account_id":5700535,"reputation":441,"user_id":4915000,"accept_rate":71,"display_name":"Kavipriya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693981342,"creation_date":1492488389,"question_id":43463390,"body_markdown":"I am trying to create my own tag in `aiml` using program tab. The tag is not working. What is the problem?\r\n\r\nJava code:\r\n\r\n    public class AIMLExtension implements AIMLProcessorExtension{\r\n\t  public Set&lt;String&gt; extensionTagNames = Utilities.stringSet(&quot;check&quot;);\r\n\t  @Override\r\n\t  public Set&lt;String&gt; extensionTagSet() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn extensionTagNames;\r\n\t  }\r\n\r\n\t  private String contactId(Node node, ParseState ps) {\r\n        return &quot;Success :P&quot;;\r\n      }\r\n\t\r\n\t  @Override\r\n\t  public String recursEval(Node node, ParseState ps) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n            String nodeName = node.getNodeName();\r\n            if (nodeName.equals(&quot;check&quot;))\r\n                return contactId(node, ps);\r\n            else return (AIMLProcessor.genericXML(node, ps));\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n\t  }\r\n    }\r\n\r\nAIML code: I am getting `I have no answer`for the below code.\r\n\r\n    &lt;category&gt;\r\n      &lt;pattern&gt;CHECKING EXTENSION&lt;/pattern&gt;\r\n      &lt;template&gt;RESTCALL &lt;check&gt; &lt;/template&gt;\r\n    &lt;/category&gt;\r\n\r\n\r\n\r\nAIML code : I am getting `RESTCALL &lt;check/&gt;` itself for the below code.\r\n\r\n    &lt;category&gt;\r\n      &lt;pattern&gt;CHECKING EXTENSION&lt;/pattern&gt;\r\n      &lt;template&gt;RESTCALL &lt;check/&gt; &lt;/template&gt;\r\n    &lt;/category&gt;","title":"AIMLProcessorExtension: tag not working in aiml","body":"<p>I am trying to create my own tag in <code>aiml</code> using program tab. The tag is not working. What is the problem?</p>\n\n<p>Java code:</p>\n\n<pre><code>public class AIMLExtension implements AIMLProcessorExtension{\n  public Set&lt;String&gt; extensionTagNames = Utilities.stringSet(\"check\");\n  @Override\n  public Set&lt;String&gt; extensionTagSet() {\n    // TODO Auto-generated method stub\n    return extensionTagNames;\n  }\n\n  private String contactId(Node node, ParseState ps) {\n    return \"Success :P\";\n  }\n\n  @Override\n  public String recursEval(Node node, ParseState ps) {\n    // TODO Auto-generated method stub\n    try {\n        String nodeName = node.getNodeName();\n        if (nodeName.equals(\"check\"))\n            return contactId(node, ps);\n        else return (AIMLProcessor.genericXML(node, ps));\n    } catch (Exception ex) {\n        ex.printStackTrace();\n        return \"\";\n    }\n  }\n}\n</code></pre>\n\n<p>AIML code: I am getting <code>I have no answer</code>for the below code.</p>\n\n<pre><code>&lt;category&gt;\n  &lt;pattern&gt;CHECKING EXTENSION&lt;/pattern&gt;\n  &lt;template&gt;RESTCALL &lt;check&gt; &lt;/template&gt;\n&lt;/category&gt;\n</code></pre>\n\n<p>AIML code : I am getting <code>RESTCALL &lt;check/&gt;</code> itself for the below code.</p>\n\n<pre><code>&lt;category&gt;\n  &lt;pattern&gt;CHECKING EXTENSION&lt;/pattern&gt;\n  &lt;template&gt;RESTCALL &lt;check/&gt; &lt;/template&gt;\n&lt;/category&gt;\n</code></pre>\n"},{"tags":["java","collections","set"],"comments":[{"owner":{"account_id":224454,"reputation":9570,"user_id":484293,"accept_rate":97,"display_name":"blubb"},"score":0,"creation_date":1466783315,"post_id":38015282,"comment_id":63476636,"body_markdown":"Are you looking for Guava&#39;s `Sets.symmetricDifference(source.keySet(), target.keySet())`?","body":"Are you looking for Guava&#39;s <code>Sets.symmetricDifference(source.keySet(), target.keySet())</code>?"}],"answers":[{"comments":[{"owner":{"account_id":8698646,"reputation":203,"user_id":6509273,"display_name":"Robot"},"score":0,"creation_date":1466777380,"post_id":38015376,"comment_id":63472913,"body_markdown":"set1.retainAll(set2) will provide the mapping keys in both the sets. But for  set1.removeAll(set2), it will remove the keys that are in set2 from set1. I want the way to do the same for set2 also.","body":"set1.retainAll(set2) will provide the mapping keys in both the sets. But for  set1.removeAll(set2), it will remove the keys that are in set2 from set1. I want the way to do the same for set2 also."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1466777415,"post_id":38015376,"comment_id":63472937,"body_markdown":"And what prevents you to do the reverse &quot;removing&quot; on set2?","body":"And what prevents you to do the reverse &quot;removing&quot; on set2?"},{"owner":{"account_id":8698646,"reputation":203,"user_id":6509273,"display_name":"Robot"},"score":0,"creation_date":1466778382,"post_id":38015376,"comment_id":63473546,"body_markdown":"I applied the same, see the edited question but didnt solve my problem","body":"I applied the same, see the edited question but didnt solve my problem"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1466779494,"post_id":38015376,"comment_id":63474305,"body_markdown":"I really do not understand your problem. If you do: A-B; you get A-B; and when you do B-A; you get B-A. Of course, the one point to be aware of is that you should be making copies of A B for those remove operations.","body":"I really do not understand your problem. If you do: A-B; you get A-B; and when you do B-A; you get B-A. Of course, the one point to be aware of is that you should be making copies of A B for those remove operations."},{"owner":{"account_id":8698646,"reputation":203,"user_id":6509273,"display_name":"Robot"},"score":0,"creation_date":1466780359,"post_id":38015376,"comment_id":63474833,"body_markdown":"got it thanks.. exactly this was the problem. Before removing i have to make a copy which i missed.","body":"got it thanks.. exactly this was the problem. Before removing i have to make a copy which i missed."}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":5,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1693981273,"creation_date":1466777192,"answer_id":38015376,"question_id":38015282,"body_markdown":"Sets allow you to **remove** elements as well.\r\n\r\nIf generating &quot;helper&quot; sets is not a problem for you (because of too many entries; what about:\r\n\r\n    Set&lt;String&gt; sources = get a copy of all source entries\r\n    Set&lt;String&gt; targets = get a copy of all target entries\r\n\r\nthen:\r\n\r\n    sources.removeAll(targets) ... leaves only entries in sources that are only in sources, not in target\r\n\r\nwhereas \r\n\r\n    sources.retainAll(targets) ... leaves only entries that are in both sets\r\n\r\nYou can work your way from here ...","title":"How to get the difference between two maps Java?","body":"<p>Sets allow you to <strong>remove</strong> elements as well.</p>\n<p>If generating &quot;helper&quot; sets is not a problem for you (because of too many entries; what about:</p>\n<pre><code>Set&lt;String&gt; sources = get a copy of all source entries\nSet&lt;String&gt; targets = get a copy of all target entries\n</code></pre>\n<p>then:</p>\n<pre><code>sources.removeAll(targets) ... leaves only entries in sources that are only in sources, not in target\n</code></pre>\n<p>whereas</p>\n<pre><code>sources.retainAll(targets) ... leaves only entries that are in both sets\n</code></pre>\n<p>You can work your way from here ...</p>\n"},{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466777245,"creation_date":1466777245,"answer_id":38015391,"question_id":38015282,"body_markdown":"You may use a copy `Set` and `removeAll` :\r\n\r\n\r\n    Set&lt;String&gt; difference = new HashSet&lt;String&gt;(sourceKeysList);\r\n    difference.removeAll(targetKeysList);\r\n\r\n\r\nSee [The Set Interface][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/collections/interfaces/set.html","title":"How to get the difference between two maps Java?","body":"<p>You may use a copy <code>Set</code> and <code>removeAll</code> :</p>\n\n<pre><code>Set&lt;String&gt; difference = new HashSet&lt;String&gt;(sourceKeysList);\ndifference.removeAll(targetKeysList);\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/set.html\" rel=\"noreferrer\">The Set Interface</a></p>\n"},{"comments":[{"owner":{"account_id":8698646,"reputation":203,"user_id":6509273,"display_name":"Robot"},"score":0,"creation_date":1466778250,"post_id":38015475,"comment_id":63473467,"body_markdown":"The above code prints only difference in targetKeyList but not in sourceKeyList. Editing the question as per the instructions, applied but didnt solve my problem.","body":"The above code prints only difference in targetKeyList but not in sourceKeyList. Editing the question as per the instructions, applied but didnt solve my problem."}],"tags":[],"owner":{"account_id":7127146,"reputation":3476,"user_id":5449709,"accept_rate":77,"display_name":"Daniel Stradowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466777485,"creation_date":1466777485,"answer_id":38015475,"question_id":38015282,"body_markdown":"1. It shows mapping keys available in sourceRecords but not in targetRecords.\r\n\r\n`sourceKeysList.removeAll(targetKeysList)`\r\n\r\n2. It shows mapping keys available in targetRecords but not in sourceRecords.\r\n\r\n`targetKeysList.removeAll(sourceKeysList)`","title":"How to get the difference between two maps Java?","body":"<ol>\n<li>It shows mapping keys available in sourceRecords but not in targetRecords.</li>\n</ol>\n\n<p><code>sourceKeysList.removeAll(targetKeysList)</code></p>\n\n<ol start=\"2\">\n<li>It shows mapping keys available in targetRecords but not in sourceRecords.</li>\n</ol>\n\n<p><code>targetKeysList.removeAll(sourceKeysList)</code></p>\n"},{"comments":[{"owner":{"account_id":4060777,"reputation":673,"user_id":3337391,"accept_rate":42,"display_name":"pjain"},"score":2,"creation_date":1498684507,"post_id":42950187,"comment_id":76605914,"body_markdown":"How to get difference for nested values, for example \n{val1: {val2: {val3: 1, val3:2}}} and {val1: {val2: {val3: 5, val3:2}}}, Here, difference is at val3&#39;s value and its hierarchy is val1:val2:val3.","body":"How to get difference for nested values, for example  {val1: {val2: {val3: 1, val3:2}}} and {val1: {val2: {val3: 5, val3:2}}}, Here, difference is at val3&#39;s value and its hierarchy is val1:val2:val3."},{"owner":{"account_id":170188,"reputation":11294,"user_id":396730,"accept_rate":90,"display_name":"Philipp Wendler"},"score":3,"creation_date":1498719581,"post_id":42950187,"comment_id":76616632,"body_markdown":"@PriyalJain That should be asked as its own question, check [ask].","body":"@PriyalJain That should be asked as its own question, check <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"tags":[],"owner":{"account_id":170188,"reputation":11294,"user_id":396730,"accept_rate":90,"display_name":"Philipp Wendler"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1693981093,"creation_date":1490181638,"answer_id":42950187,"question_id":38015282,"body_markdown":"You can use [Guava](https://github.com/google/guava)&#39;s [`Maps.difference(Map&lt;K, V&gt; left, Map&lt;K, V&gt; right)`][2] method. It returns a [`MapDifference`](https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/MapDifference.html) object, which has methods for getting all four kinds of map entries:\r\n\r\n- equally present in left and right map\r\n- only in left map\r\n- only in right map\r\n- key present in both maps, but with different values\r\n\r\nSo in your case, it could be solved with only 3 lines of code:\r\n\r\n    MapDifference&lt;String, Record&gt; diff = Maps.difference(sourceRecords, targetRecords);\r\n    Set&lt;String&gt; keysOnlyInSource = diff.entriesOnlyOnLeft().keySet();\r\n    Set&lt;String&gt; keysOnlyInTarget = diff.entriesOnlyOnRight().keySet();\r\n\r\n\r\n\r\n[2]: https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Maps.html#difference(java.util.Map,java.util.Map)","title":"How to get the difference between two maps Java?","body":"<p>You can use <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a>'s <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Maps.html#difference(java.util.Map,java.util.Map)\" rel=\"nofollow noreferrer\"><code>Maps.difference(Map&lt;K, V&gt; left, Map&lt;K, V&gt; right)</code></a> method. It returns a <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/MapDifference.html\" rel=\"nofollow noreferrer\"><code>MapDifference</code></a> object, which has methods for getting all four kinds of map entries:</p>\n<ul>\n<li>equally present in left and right map</li>\n<li>only in left map</li>\n<li>only in right map</li>\n<li>key present in both maps, but with different values</li>\n</ul>\n<p>So in your case, it could be solved with only 3 lines of code:</p>\n<pre><code>MapDifference&lt;String, Record&gt; diff = Maps.difference(sourceRecords, targetRecords);\nSet&lt;String&gt; keysOnlyInSource = diff.entriesOnlyOnLeft().keySet();\nSet&lt;String&gt; keysOnlyInTarget = diff.entriesOnlyOnRight().keySet();\n</code></pre>\n"}],"owner":{"account_id":8698646,"reputation":203,"user_id":6509273,"display_name":"Robot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38592,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":38015376,"answer_count":4,"score":19,"last_activity_date":1693981273,"creation_date":1466776895,"question_id":38015282,"body_markdown":"I have two maps as below : \r\n\r\n    Map&lt;String, Record&gt; sourceRecords;\r\n    Map&lt;String, Record&gt; targetRecords;\r\n\r\nI want to get the keys differ from each of the maps.i.e. \r\n\r\n 1. It shows mapping keys available in sourceRecords but not in targetRecords.\r\n 2. It shows mapping keys available in targetRecords but not in sourceRecords.\r\n\r\n\r\nI did it as below :\r\n\r\n    Set&lt;String&gt; sourceKeysList = new HashSet&lt;String&gt;(sourceRecords.keySet());\r\n    Set&lt;String&gt; targetKeysList = new HashSet&lt;String&gt;(targetRecords.keySet());\r\n    \r\n    SetView&lt;String&gt; intersection = Sets.intersection(sourceKeysList, targetKeysList);\r\n    Iterator it = intersection.iterator();\r\n    while (it.hasNext()) {\r\n    \tObject object = (Object) it.next();\r\n    \tSystem.out.println(object.toString());\r\n    }\r\n    \t\t\r\n    SetView&lt;String&gt; difference = Sets.symmetricDifference(sourceKeysList, targetKeysList);\r\n    ImmutableSet&lt;String&gt; immutableSet = difference.immutableCopy();\r\n\r\n\r\n**EDIT**\r\n\r\n    if(sourceKeysList.removeAll(targetKeysList)){\r\n    \t\t\t//distinct sourceKeys\r\n    \t\t\tIterator&lt;String&gt; it1 = sourceKeysList.iterator();\r\n    \t\t\twhile (it1.hasNext()) {\r\n    \t\t\t\tString id = (String) it1.next();\r\n    \t\t\t\tString resultMessage = &quot;This ID exists in source file but not in target file&quot;;\r\n    \t\t\t\tSystem.out.println(resultMessage);\r\n    \t\t\t\tvalues = createMessageRow(id, resultMessage);\r\n    \t\t\t\tresult.add(values);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif(targetKeysList.removeAll(sourceKeysList)){\r\n    \t\t\t//distinct targetKeys\r\n    \t\t\tIterator&lt;String&gt; it1 = targetKeysList.iterator();\r\n    \t\t\twhile (it1.hasNext()) {\r\n    \t\t\t\tString id = (String) it1.next();\r\n    \t\t\t\tString resultMessage = &quot;This ID exists in target file but not in source file&quot;;\r\n    \t\t\t\tSystem.out.println(resultMessage);\r\n    \t\t\t\tvalues = createMessageRow(id, resultMessage);\r\n    \t\t\t\tresult.add(values);\r\n    \t\t\t}\r\n    \t\t}\r\n\r\nI am able to find the common keys but not distinct keys. Please help.\r\n","title":"How to get the difference between two maps Java?","body":"<p>I have two maps as below : </p>\n\n<pre><code>Map&lt;String, Record&gt; sourceRecords;\nMap&lt;String, Record&gt; targetRecords;\n</code></pre>\n\n<p>I want to get the keys differ from each of the maps.i.e. </p>\n\n<ol>\n<li>It shows mapping keys available in sourceRecords but not in targetRecords.</li>\n<li>It shows mapping keys available in targetRecords but not in sourceRecords.</li>\n</ol>\n\n<p>I did it as below :</p>\n\n<pre><code>Set&lt;String&gt; sourceKeysList = new HashSet&lt;String&gt;(sourceRecords.keySet());\nSet&lt;String&gt; targetKeysList = new HashSet&lt;String&gt;(targetRecords.keySet());\n\nSetView&lt;String&gt; intersection = Sets.intersection(sourceKeysList, targetKeysList);\nIterator it = intersection.iterator();\nwhile (it.hasNext()) {\n    Object object = (Object) it.next();\n    System.out.println(object.toString());\n}\n\nSetView&lt;String&gt; difference = Sets.symmetricDifference(sourceKeysList, targetKeysList);\nImmutableSet&lt;String&gt; immutableSet = difference.immutableCopy();\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>if(sourceKeysList.removeAll(targetKeysList)){\n            //distinct sourceKeys\n            Iterator&lt;String&gt; it1 = sourceKeysList.iterator();\n            while (it1.hasNext()) {\n                String id = (String) it1.next();\n                String resultMessage = \"This ID exists in source file but not in target file\";\n                System.out.println(resultMessage);\n                values = createMessageRow(id, resultMessage);\n                result.add(values);\n            }\n        }\n        if(targetKeysList.removeAll(sourceKeysList)){\n            //distinct targetKeys\n            Iterator&lt;String&gt; it1 = targetKeysList.iterator();\n            while (it1.hasNext()) {\n                String id = (String) it1.next();\n                String resultMessage = \"This ID exists in target file but not in source file\";\n                System.out.println(resultMessage);\n                values = createMessageRow(id, resultMessage);\n                result.add(values);\n            }\n        }\n</code></pre>\n\n<p>I am able to find the common keys but not distinct keys. Please help.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","hibernate-criteria"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1467864394,"post_id":38237321,"comment_id":63895946,"body_markdown":"Show your entity classes. Joins like this are typically handled for you.","body":"Show your entity classes. Joins like this are typically handled for you."},{"owner":{"account_id":8753643,"reputation":61,"user_id":6545864,"display_name":"Nicolas Ding"},"score":0,"creation_date":1467865056,"post_id":38237321,"comment_id":63896077,"body_markdown":"I added the student and the school class.","body":"I added the student and the school class."},{"owner":{"account_id":7951510,"reputation":584,"user_id":6002202,"accept_rate":42,"display_name":"subbu royal"},"score":0,"creation_date":1467866282,"post_id":38237321,"comment_id":63896342,"body_markdown":"can you give full stack trace of exception?","body":"can you give full stack trace of exception?"},{"owner":{"account_id":21375357,"reputation":82,"user_id":15742199,"display_name":"baumeister"},"score":0,"creation_date":1620761575,"post_id":38237321,"comment_id":119295724,"body_markdown":"I&#39;ve not tried it out and maybe there&#39;s also another mistake: from looking at the code fragments your Specification does `root.join(&quot;student&quot;, JoinType.LEFT);` whereas the attribute in class School is called students (with an s at the end). That would also fit to the error message.","body":"I&#39;ve not tried it out and maybe there&#39;s also another mistake: from looking at the code fragments your Specification does <code>root.join(&quot;student&quot;, JoinType.LEFT);</code> whereas the attribute in class School is called students (with an s at the end). That would also fit to the error message."}],"answers":[{"comments":[{"owner":{"account_id":8753643,"reputation":61,"user_id":6545864,"display_name":"Nicolas Ding"},"score":1,"creation_date":1467866199,"post_id":38237581,"comment_id":63896316,"body_markdown":"Hi ! First of all, thanks for your answer, I will try them right now. To answer your question, the problem is that the code is in reality more complex and someone has already used a Specification. I coudn&#39;t find a way to mix JPA and Specification","body":"Hi ! First of all, thanks for your answer, I will try them right now. To answer your question, the problem is that the code is in reality more complex and someone has already used a Specification. I coudn&#39;t find a way to mix JPA and Specification"},{"owner":{"account_id":8753643,"reputation":61,"user_id":6545864,"display_name":"Nicolas Ding"},"score":0,"creation_date":1467866276,"post_id":38237581,"comment_id":63896339,"body_markdown":"Why are you not using h ? And where do you test if the name is John ?","body":"Why are you not using h ? And where do you test if the name is John ?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1467866338,"post_id":38237581,"comment_id":63896351,"body_markdown":"Sorry, in my code `h` was used for adding a `group by` to it.","body":"Sorry, in my code <code>h</code> was used for adding a <code>group by</code> to it."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1467873214,"post_id":38237581,"comment_id":63898668,"body_markdown":"Just for technical completeness, the Specifications API is a wrapper of the Criteria API which is part of JPA. So technically you are using JPA when you use specifications. You probably meant JPQL.","body":"Just for technical completeness, the Specifications API is a wrapper of the Criteria API which is part of JPA. So technically you are using JPA when you use specifications. You probably meant JPQL."}],"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467866008,"creation_date":1467866008,"answer_id":38237581,"question_id":38237321,"body_markdown":"This is how I do it\r\n\r\n\t\tEntityManager em = emf.createEntityManager();\r\n\t\tCriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;Object&gt; cq = cb.createQuery();\r\n\t\tRoot&lt;Item&gt; ri = cq.from(School.class);\r\n\r\n\t\t// joins\r\n\t\tJoin&lt;Object, Object&gt; h = ri.join(&quot;Student&quot;);\r\n        Query query = em.createQuery(cq);\r\n\t\tList&lt;Object[]&gt; result = query.getResultList();\r\n\r\nBut as you have your Entities setup, which not just use JPA?\r\n\r\n","title":"How to join two tables using JPA Criteria Builder?","body":"<p>This is how I do it</p>\n\n<pre><code>    EntityManager em = emf.createEntityManager();\n    CriteriaBuilder cb = em.getCriteriaBuilder();\n    CriteriaQuery&lt;Object&gt; cq = cb.createQuery();\n    Root&lt;Item&gt; ri = cq.from(School.class);\n\n    // joins\n    Join&lt;Object, Object&gt; h = ri.join(\"Student\");\n    Query query = em.createQuery(cq);\n    List&lt;Object[]&gt; result = query.getResultList();\n</code></pre>\n\n<p>But as you have your Entities setup, which not just use JPA?</p>\n"}],"owner":{"account_id":8753643,"reputation":61,"user_id":6545864,"display_name":"Nicolas Ding"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11195,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1693980190,"creation_date":1467863806,"question_id":38237321,"body_markdown":"I have an sql table called school, and another called student. Every school has an ID, and every student has a &quot;school ID&quot;, which is the ID of the school they belong to.\r\nNow I want to find all schools in which there is a student called &quot;John&quot;.\r\nThe SQL syntax would be something like : \r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    SELECT * FROM school \r\n    INNER JOIN student\r\n       on student.school_id = school.id\r\n    where student.name = &quot;John&quot;\r\n\r\nHowever, I have to use the Spring Boot Specification to make my Query (ie use it like) : \r\n\r\n    schoolDao.findAll(new mySpecification(&quot;John&quot;));\r\n\r\nI have to use that because there is already a Specification and I just want to add a new on top of it : \r\n\r\n    schoolDao.findAll(\r\n        (Specification) Specifications.where(new oldSpecification(), new mySpecification(&quot;John&quot;));\r\n\r\nSo how can I do that ? \r\n\r\nI tried \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\r\n    \tif (this.filterTag == &quot;&quot;) {\r\n    \t\treturn null;\r\n    \t}\r\n    \tClass clazz = query.getResultType();\r\n        if (clazz.equals(Long.class) || clazz.equals(long.class)) {\r\n            return null;\r\n        }\r\n        Join&lt;School,Student&gt; tags = root.join(&quot;student&quot;, JoinType.LEFT);\r\n        \r\n    \treturn cb.equal(tags.get(&quot;name&quot;), &quot;John&quot;);\r\n    }\r\n\r\nbut it doesn&#39;t work. Anyone can help ?\r\n\r\nEDIT : The Student class\r\n\r\n    @Entity\r\n    @Table(name = &quot;student&quot;)\r\n    public class Student implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @ManyToOne\r\n        private Long schoolId;\r\n    \r\n        private String name;\r\n    \r\n        public Long getSchoolId() {\r\n            return schoolId;\r\n        }\r\n    \r\n        public void setSchoolId(Long schoolId) {\r\n            this.schoolId = schoolId;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nand the School class : \r\n\r\n    @Entity\r\n    @Table(name = &quot;school&quot;)\r\n    public class School implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        //other fields\r\n        \r\n        @OneToMany(targetEntity = Student.class, mappedBy = &quot;schoolId&quot;)\r\n        @Transient\r\n        private List&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\r\n        \r\n       //all getters and setters\r\n    }\r\n\r\nEDIT 2 : \r\n\r\nThe error is \r\n\r\n    java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name [student] on this ManagedType [School]\r\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:384) ~[spring-orm-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:227) ~[spring-orm-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417) ~[spring-orm-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:131) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat com.sun.proxy.$Proxy113.findAll(Unknown Source) ~[na:na]\r\n    \tat com.visenze.evaluation.service.SearchExperimentService.getSearchExperiments(SearchExperimentService.java:132) ~[classes!/:na]\r\n    \tat com.visenze.evaluation.service.SearchExperimentService$$FastClassBySpringCGLIB$$30203a2c.invoke(&lt;generated&gt;) ~[classes!/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:650) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat com.visenze.evaluation.service.SearchExperimentService$$EnhancerBySpringCGLIB$$2cf73334.getSearchExperiments(&lt;generated&gt;) ~[classes!/:na]\r\n    \tat com.visenze.evaluation.controller.SearchExperimentController.getSearchExperiments(SearchExperimentController.java:126) ~[classes!/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_92]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_92]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_92]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_92]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222) ~[spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) ~[spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) ~[spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:814) ~[spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:737) ~[spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959) ~[spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893) ~[spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:622) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:242) [spring-boot-actuator-1.3.0.RELEASE.jar!/:1.3.0.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:111) [spring-boot-actuator-1.3.0.RELEASE.jar!/:1.3.0.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:316) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:122) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:48) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:103) [spring-boot-actuator-1.3.0.RELEASE.jar!/:1.3.0.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:217) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_92]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_92]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\r\n    \tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_92]\r\n    Caused by: java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name [ExperimentTag] on this ManagedType [com.visenze.evaluation.model.base.IdEntity]\r\n    \tat org.hibernate.jpa.internal.metamodel.AbstractManagedType.checkNotNull(AbstractManagedType.java:144) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\r\n    \tat org.hibernate.jpa.internal.metamodel.AbstractManagedType.getAttribute(AbstractManagedType.java:130) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\r\n    \tat org.hibernate.jpa.internal.metamodel.AbstractManagedType.getAttribute(AbstractManagedType.java:128) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\r\n    \tat org.hibernate.jpa.internal.metamodel.AbstractManagedType.getAttribute(AbstractManagedType.java:128) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\r\n    \tat org.hibernate.jpa.criteria.path.AbstractFromImpl.locateAttributeInternal(AbstractFromImpl.java:133) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\r\n    \tat org.hibernate.jpa.criteria.path.AbstractPathImpl.locateAttribute(AbstractPathImpl.java:221) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\r\n    \tat org.hibernate.jpa.criteria.path.AbstractFromImpl.join(AbstractFromImpl.java:419) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\r\n    \tat org.hibernate.jpa.criteria.path.AbstractFromImpl.join(AbstractFromImpl.java:405) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\r\n    \tat com.visenze.evaluation.dao.jpa.TagFilterSpecification.toPredicate(TagFilterSpecification.java:39) ~[classes!/:na]\r\n    \tat org.springframework.data.jpa.domain.Specifications$ComposedSpecification.toPredicate(Specifications.java:189) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\r\n    \tat org.springframework.data.jpa.domain.Specifications.toPredicate(Specifications.java:99) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.applySpecificationToCriteria(SimpleJpaRepository.java:583) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:534) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:519) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:401) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_92]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_92]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_92]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_92]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:483) ~[spring-data-commons-1.11.1.RELEASE.jar!/:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:468) ~[spring-data-commons-1.11.1.RELEASE.jar!/:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:440) ~[spring-data-commons-1.11.1.RELEASE.jar!/:na]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.11.1.RELEASE.jar!/:na]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\r\n    \t... 111 common frames omitted\r\n\r\nThanks\r\n\r\n","title":"How to join two tables using JPA Criteria Builder?","body":"<p>I have an sql table called school, and another called student. Every school has an ID, and every student has a &quot;school ID&quot;, which is the ID of the school they belong to.\nNow I want to find all schools in which there is a student called &quot;John&quot;.\nThe SQL syntax would be something like :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM school \nINNER JOIN student\n   on student.school_id = school.id\nwhere student.name = &quot;John&quot;\n</code></pre>\n<p>However, I have to use the Spring Boot Specification to make my Query (ie use it like) :</p>\n<pre><code>schoolDao.findAll(new mySpecification(&quot;John&quot;));\n</code></pre>\n<p>I have to use that because there is already a Specification and I just want to add a new on top of it :</p>\n<pre><code>schoolDao.findAll(\n    (Specification) Specifications.where(new oldSpecification(), new mySpecification(&quot;John&quot;));\n</code></pre>\n<p>So how can I do that ?</p>\n<p>I tried</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\n    if (this.filterTag == &quot;&quot;) {\n        return null;\n    }\n    Class clazz = query.getResultType();\n    if (clazz.equals(Long.class) || clazz.equals(long.class)) {\n        return null;\n    }\n    Join&lt;School,Student&gt; tags = root.join(&quot;student&quot;, JoinType.LEFT);\n    \n    return cb.equal(tags.get(&quot;name&quot;), &quot;John&quot;);\n}\n</code></pre>\n<p>but it doesn't work. Anyone can help ?</p>\n<p>EDIT : The Student class</p>\n<pre><code>@Entity\n@Table(name = &quot;student&quot;)\npublic class Student implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @ManyToOne\n    private Long schoolId;\n\n    private String name;\n\n    public Long getSchoolId() {\n        return schoolId;\n    }\n\n    public void setSchoolId(Long schoolId) {\n        this.schoolId = schoolId;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>and the School class :</p>\n<pre><code>@Entity\n@Table(name = &quot;school&quot;)\npublic class School implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    //other fields\n    \n    @OneToMany(targetEntity = Student.class, mappedBy = &quot;schoolId&quot;)\n    @Transient\n    private List&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\n    \n   //all getters and setters\n}\n</code></pre>\n<p>EDIT 2 :</p>\n<p>The error is</p>\n<pre><code>java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name [student] on this ManagedType [School]\nat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:384) ~[spring-orm-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:227) ~[spring-orm-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417) ~[spring-orm-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:131) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at com.sun.proxy.$Proxy113.findAll(Unknown Source) ~[na:na]\n    at com.visenze.evaluation.service.SearchExperimentService.getSearchExperiments(SearchExperimentService.java:132) ~[classes!/:na]\n    at com.visenze.evaluation.service.SearchExperimentService$$FastClassBySpringCGLIB$$30203a2c.invoke(&lt;generated&gt;) ~[classes!/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:650) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at com.visenze.evaluation.service.SearchExperimentService$$EnhancerBySpringCGLIB$$2cf73334.getSearchExperiments(&lt;generated&gt;) ~[classes!/:na]\n    at com.visenze.evaluation.controller.SearchExperimentController.getSearchExperiments(SearchExperimentController.java:126) ~[classes!/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_92]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_92]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_92]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_92]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222) ~[spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) ~[spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) ~[spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:814) ~[spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:737) ~[spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959) ~[spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893) ~[spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:622) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:242) [spring-boot-actuator-1.3.0.RELEASE.jar!/:1.3.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:111) [spring-boot-actuator-1.3.0.RELEASE.jar!/:1.3.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:316) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:122) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:48) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176) [spring-security-web-4.0.3.RELEASE.jar!/:4.0.3.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:103) [spring-boot-actuator-1.3.0.RELEASE.jar!/:1.3.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:217) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_92]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_92]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.0.28.jar!/:8.0.28]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_92]\nCaused by: java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name [ExperimentTag] on this ManagedType [com.visenze.evaluation.model.base.IdEntity]\n    at org.hibernate.jpa.internal.metamodel.AbstractManagedType.checkNotNull(AbstractManagedType.java:144) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\n    at org.hibernate.jpa.internal.metamodel.AbstractManagedType.getAttribute(AbstractManagedType.java:130) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\n    at org.hibernate.jpa.internal.metamodel.AbstractManagedType.getAttribute(AbstractManagedType.java:128) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\n    at org.hibernate.jpa.internal.metamodel.AbstractManagedType.getAttribute(AbstractManagedType.java:128) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\n    at org.hibernate.jpa.criteria.path.AbstractFromImpl.locateAttributeInternal(AbstractFromImpl.java:133) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\n    at org.hibernate.jpa.criteria.path.AbstractPathImpl.locateAttribute(AbstractPathImpl.java:221) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\n    at org.hibernate.jpa.criteria.path.AbstractFromImpl.join(AbstractFromImpl.java:419) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\n    at org.hibernate.jpa.criteria.path.AbstractFromImpl.join(AbstractFromImpl.java:405) ~[hibernate-entitymanager-4.3.11.Final.jar!/:4.3.11.Final]\n    at com.visenze.evaluation.dao.jpa.TagFilterSpecification.toPredicate(TagFilterSpecification.java:39) ~[classes!/:na]\n    at org.springframework.data.jpa.domain.Specifications$ComposedSpecification.toPredicate(Specifications.java:189) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\n    at org.springframework.data.jpa.domain.Specifications.toPredicate(Specifications.java:99) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.applySpecificationToCriteria(SimpleJpaRepository.java:583) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:534) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:519) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:401) ~[spring-data-jpa-1.9.1.RELEASE.jar!/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_92]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_92]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_92]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_92]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:483) ~[spring-data-commons-1.11.1.RELEASE.jar!/:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:468) ~[spring-data-commons-1.11.1.RELEASE.jar!/:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:440) ~[spring-data-commons-1.11.1.RELEASE.jar!/:na]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.11.1.RELEASE.jar!/:na]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.2.3.RELEASE.jar!/:4.2.3.RELEASE]\n    ... 111 common frames omitted\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","selenium","webdriver"],"comments":[{"owner":{"account_id":8359997,"reputation":129,"user_id":6278738,"accept_rate":50,"display_name":"Mahesh"},"score":0,"creation_date":1464887229,"post_id":37598041,"comment_id":62681103,"body_markdown":"I want to click in a particular cell in the table as there would be some requirement where the cells in the table might have dropdowns or text fields which needs input","body":"I want to click in a particular cell in the table as there would be some requirement where the cells in the table might have dropdowns or text fields which needs input"}],"answers":[{"comments":[{"owner":{"account_id":8359997,"reputation":129,"user_id":6278738,"accept_rate":50,"display_name":"Mahesh"},"score":0,"creation_date":1465053525,"post_id":37599180,"comment_id":62745423,"body_markdown":"Thanks for your suggestion @sircapsalot. But i want to click on any cell in  a table using row and column numbers. It would be great if you could help me out. Thanks","body":"Thanks for your suggestion @sircapsalot. But i want to click on any cell in  a table using row and column numbers. It would be great if you could help me out. Thanks"}],"tags":[],"owner":{"account_id":1873413,"reputation":28421,"user_id":1695163,"accept_rate":79,"display_name":"ddavison"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464890850,"creation_date":1464890850,"answer_id":37599180,"question_id":37598041,"body_markdown":"You could modify your loop to click, instead of contat&#39;ing a giant string\r\n\r\n    for(WebElement row: allrows){\r\n        List&lt;WebElement&gt; Cells = row.findElements(By.tagName(&quot;td&quot;));\r\n        for(WebElement Cell:Cells){\r\n            if (Cell.getText().contains(&quot;Jackson&quot;))\r\n                Cell.click();\r\n        }\r\n    }\r\n\r\nKeep in mind though, that clicking the `&lt;td&gt;` may not actually trigger as the `&lt;td&gt;` may not be listening for the click event.  If it has a link in the TD, then you can do something like:\r\n\r\n    Cell.findElement(&quot;a&quot;).click();","title":"Selenium Webdriver Java: How to click on a particular cell in table using row and column numbers","body":"<p>You could modify your loop to click, instead of contat'ing a giant string</p>\n\n<pre><code>for(WebElement row: allrows){\n    List&lt;WebElement&gt; Cells = row.findElements(By.tagName(\"td\"));\n    for(WebElement Cell:Cells){\n        if (Cell.getText().contains(\"Jackson\"))\n            Cell.click();\n    }\n}\n</code></pre>\n\n<p>Keep in mind though, that clicking the <code>&lt;td&gt;</code> may not actually trigger as the <code>&lt;td&gt;</code> may not be listening for the click event.  If it has a link in the TD, then you can do something like:</p>\n\n<pre><code>Cell.findElement(\"a\").click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1470096,"reputation":123,"user_id":1381879,"display_name":"Srikanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512560557,"creation_date":1512560557,"answer_id":47673457,"question_id":37598041,"body_markdown":"You will have to build a dynamic selector to achieve this.\r\n\r\nFor example: \r\n\r\n    private String rowRootSelector = &quot;tr&quot;;\r\n    private String specificCellRoot = rowRootSelector + &quot;:nth-of-type(%d) &gt; td:nth-of-type(%d)&quot;;\r\n\r\nAnd in the method where you take Row and Column as input parameter, the selector has to be built.\r\n\r\n    String selector = String.format(specificCellRoot, rowIndex, columnIndex);\r\n\r\nAnd, now you can click or do any other operation on that web element.\r\n\r\n    driver.findElement(By.cssSelector(selector));\r\n\r\n","title":"Selenium Webdriver Java: How to click on a particular cell in table using row and column numbers","body":"<p>You will have to build a dynamic selector to achieve this.</p>\n\n<p>For example: </p>\n\n<pre><code>private String rowRootSelector = \"tr\";\nprivate String specificCellRoot = rowRootSelector + \":nth-of-type(%d) &gt; td:nth-of-type(%d)\";\n</code></pre>\n\n<p>And in the method where you take Row and Column as input parameter, the selector has to be built.</p>\n\n<pre><code>String selector = String.format(specificCellRoot, rowIndex, columnIndex);\n</code></pre>\n\n<p>And, now you can click or do any other operation on that web element.</p>\n\n<pre><code>driver.findElement(By.cssSelector(selector));\n</code></pre>\n"}],"owner":{"account_id":8359997,"reputation":129,"user_id":6278738,"accept_rate":50,"display_name":"Mahesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15854,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693980190,"creation_date":1464887146,"question_id":37598041,"body_markdown":"I have written a code to verify if a given text is present in that row or not but how do i click in a  particular cell? Please help me.  \r\nBelow is the code i have written for verifying the text.\r\n\r\n    package com.Tables;\r\n\r\n    import java.util.List;\r\n\r\n    public class HandlingTables {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tString s=&quot;&quot;;\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:/chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;http://www.w3schools.com/html/html_tables.asp&quot;);\r\n\t\tWebElement table = driver.findElement(By.className(&quot;w3-table-all&quot;));\r\n\t\tList&lt;WebElement&gt; allrows = table.findElements(By.tagName(&quot;tr&quot;));\r\n\t\tList&lt;WebElement&gt; allcols = table.findElements(By.tagName(&quot;td&quot;));\r\n\t\tSystem.out.println(&quot;Number of rows in the table &quot;+allrows.size());\r\n\t\tSystem.out.println(&quot;Number of columns in the table &quot;+allcols.size());\r\n\t\t\r\n\t\tfor(WebElement row: allrows){\r\n\t\t\tList&lt;WebElement&gt; Cells = row.findElements(By.tagName(&quot;td&quot;));\r\n\t\t\tfor(WebElement Cell:Cells){\r\n\t\t\t\ts = s.concat(Cell.getText());\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(s);\r\n\t\tif(s.contains(&quot;Jackson&quot;)){\r\n\t\t\tSystem.out.println(&quot;Jackson is present in the table&quot;);\r\n\t\t}else{\r\n\t\t\tSystem.out.println(&quot;Jackson is not available in the table&quot;);\r\n\t\t}\r\n\t\tThread.sleep(10000);\r\n\t\tdriver.quit();\r\n      }\r\n    }  \r\n\r\n\r\n","title":"Selenium Webdriver Java: How to click on a particular cell in table using row and column numbers","body":"<p>I have written a code to verify if a given text is present in that row or not but how do i click in a  particular cell? Please help me.<br>\nBelow is the code i have written for verifying the text.</p>\n\n<pre><code>package com.Tables;\n\nimport java.util.List;\n\npublic class HandlingTables {\n\npublic static void main(String[] args) throws InterruptedException {\n    String s=\"\";\n    System.setProperty(\"webdriver.chrome.driver\", \"D:/chromedriver.exe\");\n    WebDriver driver = new ChromeDriver();\n    driver.get(\"http://www.w3schools.com/html/html_tables.asp\");\n    WebElement table = driver.findElement(By.className(\"w3-table-all\"));\n    List&lt;WebElement&gt; allrows = table.findElements(By.tagName(\"tr\"));\n    List&lt;WebElement&gt; allcols = table.findElements(By.tagName(\"td\"));\n    System.out.println(\"Number of rows in the table \"+allrows.size());\n    System.out.println(\"Number of columns in the table \"+allcols.size());\n\n    for(WebElement row: allrows){\n        List&lt;WebElement&gt; Cells = row.findElements(By.tagName(\"td\"));\n        for(WebElement Cell:Cells){\n            s = s.concat(Cell.getText());   \n        }\n    }\n    System.out.println(s);\n    if(s.contains(\"Jackson\")){\n        System.out.println(\"Jackson is present in the table\");\n    }else{\n        System.out.println(\"Jackson is not available in the table\");\n    }\n    Thread.sleep(10000);\n    driver.quit();\n  }\n}  \n</code></pre>\n"},{"tags":["java","asynchronous","intellij-idea","google-drive-api","okhttp"],"owner":{"account_id":29376601,"reputation":1,"user_id":22507998,"display_name":"Sourab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693980119,"creation_date":1693980119,"question_id":77049326,"body_markdown":"Here is a REST client code which is uploading a file to a Google drive asynchronously using CompletableFuture and okhttp&#39;s enqueue method-\r\n\r\n\r\n```\r\nclass GoogleDriveClient {\r\n    private static String GDRIVE_METADATA_BASE_URL = &quot;https://www.googleapis.com/drive/v3/files&quot;;\r\n    private static String GDRIVE_FILE_BASE_URL = &quot;https://www.googleapis.com/upload/drive/v3/files&quot;;\r\n    private static final String BEARER_TOKEN = &quot;ya29.a0AfB_byAMRXUSSIKjn10pIWLecuFGOwdxpn1OML3zs2dSjZxxSDBCz5sDcGrtlS935pkBp_MwnhwE7YskL5CaFpmWzUrx6k_ynvE8yqnt2CRo01ACk_2fcCZAdzdrQVd5V6oys88O-9zVXBhrRvhEIE7410sFf01hANKnbQaCgYKATsSARASFQHsvYlssCibTKLmy1KIRVwL9Cr7Vw0173&quot;;\r\n\r\n    private final OkHttpClient client = new OkHttpClient();\r\n\r\n\r\n    public CompletableFuture&lt;HttpResponse&gt; createFile(File file) {\r\n        CompletableFuture&lt;HttpResponse&gt; futureHttpResponse = new CompletableFuture&lt;&gt;();\r\n\r\n        String metadata = &quot;{\\&quot;name\\&quot;: \\&quot;&quot; + file.getName() + &quot;\\&quot;}&quot;;\r\n\r\n        RequestBody metadataBody = RequestBody.create(metadata, MediaType.parse(&quot;application/json&quot;));\r\n        RequestBody fileDataBody = RequestBody.create(file, MediaType.parse(&quot;application/octet-stream&quot;)); //application/octet-stream\r\n\r\n        MultipartBody body = new MultipartBody.Builder()\r\n                .setType(MultipartBody.FORM)\r\n                .addPart(metadataBody)\r\n                .addPart(fileDataBody)\r\n                .build();\r\n\r\n        Request request = new Request.Builder()\r\n                .url(GDRIVE_FILE_BASE_URL + &quot;?uploadType=multipart&quot;)\r\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + BEARER_TOKEN)\r\n                .post(body)\r\n                .build();\r\n\r\n        client.newCall(request).enqueue(new HttpResponseCallback(futureHttpResponse));\r\n\r\n        return futureHttpResponse;\r\n    }\r\n\r\n    private static class HttpResponseCallback implements Callback {\r\n        private final CompletableFuture&lt;HttpResponse&gt; futureHttpResponse;\r\n\r\n        public HttpResponseCallback(CompletableFuture&lt;HttpResponse&gt; futureHttpResponse) {\r\n            this.futureHttpResponse = futureHttpResponse;\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(@NotNull Call call, @NotNull IOException e) {\r\n            futureHttpResponse.completeExceptionally(e);\r\n        }\r\n\r\n        @Override\r\n        public void onResponse(@NotNull Call call, @NotNull Response response) throws IOException {\r\n            if (!response.isSuccessful())\r\n                System.out.println(&quot;Response not successful&quot;);\r\n            else {\r\n                futureHttpResponse.complete(new HttpResponse(response.code(), response.body().string()));\r\n                System.out.println(&quot;Response successful&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\r\n        GoogleDriveClient googleDriveClient = new GoogleDriveClient();\r\n\r\n        String filePath = &quot;C:\\\\Files\\\\sample.bat&quot;;\r\n        File newFile = new File(filePath);\r\n        CompletableFuture&lt;HttpResponse&gt; future = googleDriveClient.createFile(newFile);\r\n        HttpResponse response = future.get();\r\n        System.out.println(response.getCode());\r\n        System.out.println(response.getBody());\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe problem is that its uploading a file successfully but the execution is not terminating after uploading the file. Its terminating after 1 minute or so. \r\n\r\nI Tried to close the client connection but its of no use. Am I missing something or anything I am not aware of? Please help. Thank you.\r\n\r\n","title":"Execution terminating after 1 minute of delay","body":"<p>Here is a REST client code which is uploading a file to a Google drive asynchronously using CompletableFuture and okhttp's enqueue method-</p>\n<pre><code>class GoogleDriveClient {\n    private static String GDRIVE_METADATA_BASE_URL = &quot;https://www.googleapis.com/drive/v3/files&quot;;\n    private static String GDRIVE_FILE_BASE_URL = &quot;https://www.googleapis.com/upload/drive/v3/files&quot;;\n    private static final String BEARER_TOKEN = &quot;ya29.a0AfB_byAMRXUSSIKjn10pIWLecuFGOwdxpn1OML3zs2dSjZxxSDBCz5sDcGrtlS935pkBp_MwnhwE7YskL5CaFpmWzUrx6k_ynvE8yqnt2CRo01ACk_2fcCZAdzdrQVd5V6oys88O-9zVXBhrRvhEIE7410sFf01hANKnbQaCgYKATsSARASFQHsvYlssCibTKLmy1KIRVwL9Cr7Vw0173&quot;;\n\n    private final OkHttpClient client = new OkHttpClient();\n\n\n    public CompletableFuture&lt;HttpResponse&gt; createFile(File file) {\n        CompletableFuture&lt;HttpResponse&gt; futureHttpResponse = new CompletableFuture&lt;&gt;();\n\n        String metadata = &quot;{\\&quot;name\\&quot;: \\&quot;&quot; + file.getName() + &quot;\\&quot;}&quot;;\n\n        RequestBody metadataBody = RequestBody.create(metadata, MediaType.parse(&quot;application/json&quot;));\n        RequestBody fileDataBody = RequestBody.create(file, MediaType.parse(&quot;application/octet-stream&quot;)); //application/octet-stream\n\n        MultipartBody body = new MultipartBody.Builder()\n                .setType(MultipartBody.FORM)\n                .addPart(metadataBody)\n                .addPart(fileDataBody)\n                .build();\n\n        Request request = new Request.Builder()\n                .url(GDRIVE_FILE_BASE_URL + &quot;?uploadType=multipart&quot;)\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + BEARER_TOKEN)\n                .post(body)\n                .build();\n\n        client.newCall(request).enqueue(new HttpResponseCallback(futureHttpResponse));\n\n        return futureHttpResponse;\n    }\n\n    private static class HttpResponseCallback implements Callback {\n        private final CompletableFuture&lt;HttpResponse&gt; futureHttpResponse;\n\n        public HttpResponseCallback(CompletableFuture&lt;HttpResponse&gt; futureHttpResponse) {\n            this.futureHttpResponse = futureHttpResponse;\n        }\n\n        @Override\n        public void onFailure(@NotNull Call call, @NotNull IOException e) {\n            futureHttpResponse.completeExceptionally(e);\n        }\n\n        @Override\n        public void onResponse(@NotNull Call call, @NotNull Response response) throws IOException {\n            if (!response.isSuccessful())\n                System.out.println(&quot;Response not successful&quot;);\n            else {\n                futureHttpResponse.complete(new HttpResponse(response.code(), response.body().string()));\n                System.out.println(&quot;Response successful&quot;);\n            }\n        }\n    }\n\n\n}\n\n\npublic class Main {\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        GoogleDriveClient googleDriveClient = new GoogleDriveClient();\n\n        String filePath = &quot;C:\\\\Files\\\\sample.bat&quot;;\n        File newFile = new File(filePath);\n        CompletableFuture&lt;HttpResponse&gt; future = googleDriveClient.createFile(newFile);\n        HttpResponse response = future.get();\n        System.out.println(response.getCode());\n        System.out.println(response.getBody());\n    }\n}\n\n</code></pre>\n<p>The problem is that its uploading a file successfully but the execution is not terminating after uploading the file. Its terminating after 1 minute or so.</p>\n<p>I Tried to close the client connection but its of no use. Am I missing something or anything I am not aware of? Please help. Thank you.</p>\n"},{"tags":["java","intellij-idea","java-module","openjfx","module-info"],"comments":[{"owner":{"account_id":14391463,"reputation":682,"user_id":10395952,"display_name":"Guest 21"},"score":4,"creation_date":1537734568,"post_id":52469803,"comment_id":91881967,"body_markdown":"Your Main class isn&#39;t in any package (or to be precise, it uses unnamed package), and that&#39;s not allowed in modular app. Add package declaration to Main.java (e.g. &quot;package main;&quot;).","body":"Your Main class isn&#39;t in any package (or to be precise, it uses unnamed package), and that&#39;s not allowed in modular app. Add package declaration to Main.java (e.g. &quot;package main;&quot;)."},{"owner":{"account_id":4031788,"reputation":1873,"user_id":3317592,"accept_rate":64,"display_name":"AlwaysNeedingHelp"},"score":0,"creation_date":1537734680,"post_id":52469803,"comment_id":91882000,"body_markdown":"@Guest21 I get an error &quot;Package main does not correspond to the file path&quot;","body":"@Guest21 I get an error &quot;Package main does not correspond to the file path&quot;"},{"owner":{"account_id":14391463,"reputation":682,"user_id":10395952,"display_name":"Guest 21"},"score":0,"creation_date":1537734995,"post_id":52469803,"comment_id":91882070,"body_markdown":"IDE should offer you to move the file - put mouse cursor on package name, hit Alt+Enter, and click on &quot;Move to package main&quot;. Or move the file manually - make new package &quot;main&quot; and move the file into it.","body":"IDE should offer you to move the file - put mouse cursor on package name, hit Alt+Enter, and click on &quot;Move to package main&quot;. Or move the file manually - make new package &quot;main&quot; and move the file into it."},{"owner":{"account_id":4031788,"reputation":1873,"user_id":3317592,"accept_rate":64,"display_name":"AlwaysNeedingHelp"},"score":0,"creation_date":1537735143,"post_id":52469803,"comment_id":91882100,"body_markdown":"@Guest21 thanks, I created a new package called main and moved it in, I got a new error which again has me confused, mind taking a look? I put it in the OP.","body":"@Guest21 thanks, I created a new package called main and moved it in, I got a new error which again has me confused, mind taking a look? I put it in the OP."}],"answers":[{"tags":[],"owner":{"account_id":14391463,"reputation":682,"user_id":10395952,"display_name":"Guest 21"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1537736096,"creation_date":1537735654,"answer_id":52470126,"question_id":52469803,"body_markdown":"In order for a JavaFx to launch your app, it needs access to its main class, so you need to export the package in which the main class is located.\r\n\r\nAdd export declaration to module-info:\r\n\r\n    module Game.main {\r\n        ...\r\n\r\n        exports main;\r\n    }","title":"Error: Main.class found in top-level directory (unnamed package not allowed in module)","body":"<p>In order for a JavaFx to launch your app, it needs access to its main class, so you need to export the package in which the main class is located.</p>\n\n<p>Add export declaration to module-info:</p>\n\n<pre><code>module Game.main {\n    ...\n\n    exports main;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13051807,"reputation":1191,"user_id":9431874,"display_name":"NL23codes"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1576001828,"creation_date":1575321931,"answer_id":59146894,"question_id":52469803,"body_markdown":"If you move a class to a different folder, before the class declaration line, you need to have a reference to the folder where this class is/should be located - telling the system where to look. For example:\r\n\r\n    //This line below is important\r\n    package main.java.main.Main;\r\n\r\n    public class Main extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n        }\r\n    }","title":"Error: Main.class found in top-level directory (unnamed package not allowed in module)","body":"<p>If you move a class to a different folder, before the class declaration line, you need to have a reference to the folder where this class is/should be located - telling the system where to look. For example:</p>\n\n<pre><code>//This line below is important\npackage main.java.main.Main;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11475936,"reputation":2345,"user_id":8411453,"display_name":"Marco D.G."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678095980,"creation_date":1678095980,"answer_id":75649280,"question_id":52469803,"body_markdown":"If your class is under `(default package)` :\r\n----------------------------------------\r\nUnrelated to the specific question.\r\n\r\nYou could encounter this error while trying to run a class for example `HelloWorld.java` inside the package `(default package)`.\r\n\r\nTo solve the issue create a new package under the `src` folder *(at least in a generic case)* and **give it a name** then move your class into the new package and try running it again:\r\n\r\n Right-lick on the class (under the named package) -&gt; Run As -&gt; Java Application.","title":"Error: Main.class found in top-level directory (unnamed package not allowed in module)","body":"<h2>If your class is under <code>(default package)</code> :</h2>\n<p>Unrelated to the specific question.</p>\n<p>You could encounter this error while trying to run a class for example <code>HelloWorld.java</code> inside the package <code>(default package)</code>.</p>\n<p>To solve the issue create a new package under the <code>src</code> folder <em>(at least in a generic case)</em> and <strong>give it a name</strong> then move your class into the new package and try running it again:</p>\n<p>Right-lick on the class (under the named package) -&gt; Run As -&gt; Java Application.</p>\n"},{"tags":[],"owner":{"account_id":23119134,"reputation":44,"user_id":17400037,"display_name":"brandon v"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693979284,"creation_date":1693979284,"answer_id":77049279,"question_id":52469803,"body_markdown":"I was experiencing this Exception when trying to run my javafx application with the javafx-maven-plugin after adding some new classes.\r\n\r\nAnd executing `mvn clean` solved the issue. Then I successfully executed the application with `mvn javafx:run`","title":"Error: Main.class found in top-level directory (unnamed package not allowed in module)","body":"<p>I was experiencing this Exception when trying to run my javafx application with the javafx-maven-plugin after adding some new classes.</p>\n<p>And executing <code>mvn clean</code> solved the issue. Then I successfully executed the application with <code>mvn javafx:run</code></p>\n"}],"owner":{"account_id":4031788,"reputation":1873,"user_id":3317592,"accept_rate":64,"display_name":"AlwaysNeedingHelp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18608,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":52470126,"answer_count":4,"score":7,"last_activity_date":1693979284,"creation_date":1537733031,"question_id":52469803,"body_markdown":"Trying to update an application to Java 11 and after sorting through hell with modules I thought I had got rid of all the red errors and now I&#39;m getting this one I&#39;ve never seen before:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nLooking around I&#39;ve seen people suggest it is possible to do with the application structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nor the module-info.java file:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nCan anybody see what I need to do to get rid of this?\r\n\r\nEdit:\r\nError after moving Main.java to a package called &#39;main&#39; and trying to run it:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FtSx2.png\r\n  [2]: https://i.stack.imgur.com/nhlw6.png\r\n  [3]: https://i.stack.imgur.com/qtTO5.png\r\n  [4]: https://i.stack.imgur.com/GrSBM.png","title":"Error: Main.class found in top-level directory (unnamed package not allowed in module)","body":"<p>Trying to update an application to Java 11 and after sorting through hell with modules I thought I had got rid of all the red errors and now I'm getting this one I've never seen before:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FtSx2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FtSx2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Looking around I've seen people suggest it is possible to do with the application structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nhlw6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nhlw6.png\" alt=\"enter image description here\"></a></p>\n\n<p>or the module-info.java file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qtTO5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qtTO5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can anybody see what I need to do to get rid of this?</p>\n\n<p>Edit:\nError after moving Main.java to a package called 'main' and trying to run it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GrSBM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GrSBM.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","arrays","performance","optimization","hashmap"],"comments":[{"owner":{"account_id":11603,"reputation":21560,"user_id":22437,"accept_rate":88,"display_name":"Dour High Arch"},"score":7,"creation_date":1308874826,"post_id":6462055,"comment_id":7591213,"body_markdown":"Waitaminnit; if you &quot;really need performance&quot; you would already know the answer to this question because you would have profiled your app to determine that this Hashmap vs. Array issue was actually relevant. If you have not, you need to do so to determine this really does affect your performance and is not actually a waste of time.","body":"Waitaminnit; if you &quot;really need performance&quot; you would already know the answer to this question because you would have profiled your app to determine that this Hashmap vs. Array issue was actually relevant. If you have not, you need to do so to determine this really does affect your performance and is not actually a waste of time."},{"owner":{"account_id":371708,"reputation":2260,"user_id":720386,"accept_rate":94,"display_name":"Timotheus"},"score":3,"creation_date":1308875160,"post_id":6462055,"comment_id":7591258,"body_markdown":"Good point, but as a novice programmer it&#39;s always nice to get some reflection in case you miss something or get suggestions on better strategies","body":"Good point, but as a novice programmer it&#39;s always nice to get some reflection in case you miss something or get suggestions on better strategies"},{"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1308875401,"post_id":6462055,"comment_id":7591287,"body_markdown":"How often is doSomethingToObject called? And yes, the advice, a novice programmer should take seriously, is Dour High Arch&#39;s advice.","body":"How often is doSomethingToObject called? And yes, the advice, a novice programmer should take seriously, is Dour High Arch&#39;s advice."},{"owner":{"display_name":"user780363"},"score":4,"creation_date":1308876426,"post_id":6462055,"comment_id":7591402,"body_markdown":"if you &quot;really need performance&quot; you should not write in java...","body":"if you &quot;really need performance&quot; you should not write in java..."},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1308876797,"post_id":6462055,"comment_id":7591449,"body_markdown":"@Franklin: Huh?  Java is quite fast these days.","body":"@Franklin: Huh?  Java is quite fast these days."},{"owner":{"account_id":371708,"reputation":2260,"user_id":720386,"accept_rate":94,"display_name":"Timotheus"},"score":0,"creation_date":1308879077,"post_id":6462055,"comment_id":7591728,"body_markdown":"@Franklin I&#39;ve seen benchmarks where Java was nearly equal to C++","body":"@Franklin I&#39;ve seen benchmarks where Java was nearly equal to C++"},{"owner":{"display_name":"user780363"},"score":0,"creation_date":1308882912,"post_id":6462055,"comment_id":7592268,"body_markdown":"@Dasdasd there are lies, damn lies, statistics and benchmarks...","body":"@Dasdasd there are lies, damn lies, statistics and benchmarks..."},{"owner":{"account_id":11603,"reputation":21560,"user_id":22437,"accept_rate":88,"display_name":"Dour High Arch"},"score":3,"creation_date":1308933442,"post_id":6462055,"comment_id":7603152,"body_markdown":"Dasdasd, you have to benchmark your actual app running with real data. Making up fake &quot;benchmarks&quot; using two sample points will only mislead you. You must benchmark your whole application and optimize bottlenecks, not pick lines of code that look like fun to change. If this issue is not a bottleneck, optimizing it will not improve performance no matter how fast you make it.","body":"Dasdasd, you have to benchmark your actual app running with real data. Making up fake &quot;benchmarks&quot; using two sample points will only mislead you. You must benchmark your whole application and optimize bottlenecks, not pick lines of code that look like fun to change. If this issue is not a bottleneck, optimizing it will not improve performance no matter how fast you make it."},{"owner":{"account_id":357086,"reputation":2586,"user_id":697031,"display_name":"Michael Krussel"},"score":0,"creation_date":1308936252,"post_id":6462055,"comment_id":7603937,"body_markdown":"If there values are known, I&#39;d suggest making the values an enum and using an EnumMap","body":"If there values are known, I&#39;d suggest making the values an enum and using an EnumMap"},{"owner":{"account_id":159474,"reputation":16722,"user_id":378874,"accept_rate":98,"display_name":"Rick"},"score":0,"creation_date":1322087039,"post_id":6462055,"comment_id":10150740,"body_markdown":"@Dour High Arch his question is valid, your point isn&#39;t, your logic of writing an app and then profiling it to determine bottlenecks is backwards in the context of this question, perhaps SO isn&#39;t the right place to ask a question like this but its valid to want to learn the underlying mechanics / performance of a specific data structure, everything shouldn&#39;t be done using trial and error, which is basically what you are suggesting","body":"@Dour High Arch his question is valid, your point isn&#39;t, your logic of writing an app and then profiling it to determine bottlenecks is backwards in the context of this question, perhaps SO isn&#39;t the right place to ask a question like this but its valid to want to learn the underlying mechanics / performance of a specific data structure, everything shouldn&#39;t be done using trial and error, which is basically what you are suggesting"},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":2,"creation_date":1358962803,"post_id":6462055,"comment_id":20185031,"body_markdown":"Your benchmarking is flawed. You need to do each test in its own JVM invocation. As is now, if you reversed ProcessArray and ProcessHash you&#39;ll see different values.","body":"Your benchmarking is flawed. You need to do each test in its own JVM invocation. As is now, if you reversed ProcessArray and ProcessHash you&#39;ll see different values."}],"answers":[{"comments":[{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":2,"creation_date":1308877506,"post_id":6462063,"comment_id":7591528,"body_markdown":"&quot;arrays are faster&quot; is at best a gross oversimplification, and at worst flat-out wrong.  Arrays and hashtables are apples and oranges.  Lookup of a value in an array given its array index and lookup of an item in a hashtable given its key are both asymptotically equivalent: O(1) (well, amortized O(1) in the hashtable case).  But looping through an array to find a given key is much worse: O(n/2) on average, which is asymptotically O(n).  True, the array implementation may win *in this case*, but your answer implies that it&#39;s a general rule.","body":"&quot;arrays are faster&quot; is at best a gross oversimplification, and at worst flat-out wrong.  Arrays and hashtables are apples and oranges.  Lookup of a value in an array given its array index and lookup of an item in a hashtable given its key are both asymptotically equivalent: O(1) (well, amortized O(1) in the hashtable case).  But looping through an array to find a given key is much worse: O(n/2) on average, which is asymptotically O(n).  True, the array implementation may win <i>in this case</i>, but your answer implies that it&#39;s a general rule."},{"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"score":0,"creation_date":1308878950,"post_id":6462063,"comment_id":7591713,"body_markdown":"@daniel well the &quot;when the indexes of the Array are known&quot; points to arrays being the winner but I&#39;ll edit the caveat explicitly in the answer","body":"@daniel well the &quot;when the indexes of the Array are known&quot; points to arrays being the winner but I&#39;ll edit the caveat explicitly in the answer"}],"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1308878936,"creation_date":1308874573,"answer_id":6462063,"question_id":6462055,"body_markdown":"arrays when the indexes are know are faster (HashMap uses an array of linked lists behind the scenes which adds a bit of overhead above the array accesses not to mention the hashing operations that need to be done)\r\n\r\nand FYI `HashMap&lt;String,SomeObject&gt; objects = HashMap&lt;String,SomeObject&gt;();` makes it so you won&#39;t have to cast\r\n","title":"Hashmap vs Array performance","body":"<p>arrays when the indexes are know are faster (HashMap uses an array of linked lists behind the scenes which adds a bit of overhead above the array accesses not to mention the hashing operations that need to be done)</p>\n\n<p>and FYI <code>HashMap&lt;String,SomeObject&gt; objects = HashMap&lt;String,SomeObject&gt;();</code> makes it so you won't have to cast</p>\n"},{"comments":[{"owner":{"account_id":275035,"reputation":10896,"user_id":567650,"accept_rate":86,"display_name":"jwd"},"score":2,"creation_date":1308874740,"post_id":6462067,"comment_id":7591201,"body_markdown":"Just mincing words - For the example shown, array probably wins. But for a different example where there are more `Identifier` values to check against, what you say holds.","body":"Just mincing words - For the example shown, array probably wins. But for a different example where there are more <code>Identifier</code> values to check against, what you say holds."},{"owner":{"account_id":371708,"reputation":2260,"user_id":720386,"accept_rate":94,"display_name":"Timotheus"},"score":0,"creation_date":1308874870,"post_id":6462067,"comment_id":7591221,"body_markdown":"The array&#39;s length is known too (6 if it matters)","body":"The array&#39;s length is known too (6 if it matters)"}],"tags":[],"owner":{"account_id":31164,"reputation":378689,"user_id":85371,"accept_rate":43,"display_name":"sehe"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308874613,"creation_date":1308874613,"answer_id":6462067,"question_id":6462055,"body_markdown":"For the example shown, HashTable wins, I believe. The problem with the array approach is that it doesn&#39;t scale. I imagine you want to have more than two entries in the table, and the condition branch tree in doSomethingToObject will quickly get unwieldly and slow.\r\n\r\n","title":"Hashmap vs Array performance","body":"<p>For the example shown, HashTable wins, I believe. The problem with the array approach is that it doesn't scale. I imagine you want to have more than two entries in the table, and the condition branch tree in doSomethingToObject will quickly get unwieldly and slow.</p>\n"},{"tags":[],"owner":{"account_id":388401,"reputation":6292,"user_id":747320,"accept_rate":100,"display_name":"Basanth Roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308874752,"creation_date":1308874752,"answer_id":6462075,"question_id":6462055,"body_markdown":"Arrays will usually be faster than Collections classes.\r\n\r\nPS. You mentioned HashTable in your post. HashTable has even worse performance thatn HashMap. I assume your mention of HashTable was a typo\r\n\r\n&gt; &quot;The HashTable one looks much much\r\n&gt; better &quot;","title":"Hashmap vs Array performance","body":"<p>Arrays will usually be faster than Collections classes.</p>\n\n<p>PS. You mentioned HashTable in your post. HashTable has even worse performance thatn HashMap. I assume your mention of HashTable was a typo</p>\n\n<blockquote>\n  <p>\"The HashTable one looks much much\n  better \"</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":371708,"reputation":2260,"user_id":720386,"accept_rate":94,"display_name":"Timotheus"},"score":0,"creation_date":1308875322,"post_id":6462084,"comment_id":7591274,"body_markdown":"Well with that in mind I think I&#39;ll run some tests to see what approach is the best. Thanks for the information","body":"Well with that in mind I think I&#39;ll run some tests to see what approach is the best. Thanks for the information"},{"owner":{"account_id":371054,"reputation":24474,"user_id":719363,"accept_rate":75,"display_name":"Alex Gitelman"},"score":1,"creation_date":1308875476,"post_id":6462084,"comment_id":7591295,"body_markdown":"Please add results once you have them. For data set size 6 resizing obviously does not matter.","body":"Please add results once you have them. For data set size 6 resizing obviously does not matter."}],"tags":[],"owner":{"account_id":371054,"reputation":24474,"user_id":719363,"accept_rate":75,"display_name":"Alex Gitelman"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308874837,"creation_date":1308874837,"answer_id":6462084,"question_id":6462055,"body_markdown":"Logically, `HashMap` is definitely a fit in your case. From performance standpoint is also wins since in case of arrays you will need to do number of string comparisons (in your algorithm) while in HashMap you just use a hash code if load factor is not too high. Both array and HashMap will need to be resized if you add many elements, but in case of HashMap you will need to also redistribute elements. In this use case HashMap loses.","title":"Hashmap vs Array performance","body":"<p>Logically, <code>HashMap</code> is definitely a fit in your case. From performance standpoint is also wins since in case of arrays you will need to do number of string comparisons (in your algorithm) while in HashMap you just use a hash code if load factor is not too high. Both array and HashMap will need to be resized if you add many elements, but in case of HashMap you will need to also redistribute elements. In this use case HashMap loses.</p>\n"},{"comments":[{"owner":{"account_id":371708,"reputation":2260,"user_id":720386,"accept_rate":94,"display_name":"Timotheus"},"score":0,"creation_date":1308879198,"post_id":6462348,"comment_id":7591745,"body_markdown":"As stated the data is created in another class so the array/hashmap indeed function as a data holder","body":"As stated the data is created in another class so the array/hashmap indeed function as a data holder"}],"tags":[],"owner":{"account_id":430085,"reputation":41,"user_id":813317,"display_name":"BlueGuitar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308878347,"creation_date":1308878347,"answer_id":6462348,"question_id":6462055,"body_markdown":"The example is strange. The key problem is whether your data is dynamic. If it is, you could not write you program that way (as in the array case). In order words, comparing between your array and hash implementation is not fair. The hash implementation works for dynamic data, but the array implementation does not. \r\n\r\n\r\nIf you only have static data (6 fixed objects), array or hash just work as data holder. You could even define static objects.","title":"Hashmap vs Array performance","body":"<p>The example is strange. The key problem is whether your data is dynamic. If it is, you could not write you program that way (as in the array case). In order words, comparing between your array and hash implementation is not fair. The hash implementation works for dynamic data, but the array implementation does not. </p>\n\n<p>If you only have static data (6 fixed objects), array or hash just work as data holder. You could even define static objects.</p>\n"},{"comments":[{"owner":{"account_id":159474,"reputation":16722,"user_id":378874,"accept_rate":98,"display_name":"Rick"},"score":4,"creation_date":1322087185,"post_id":6464004,"comment_id":10150777,"body_markdown":"good point, Java is basically smart enough to do nothing if its not needed","body":"good point, Java is basically smart enough to do nothing if its not needed"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1366357698,"post_id":6464004,"comment_id":22987998,"body_markdown":"@PeterLawrey is there a way to tell which code was &quot;JIT&quot;ed out? I usually use caliper framework for this benchmarks, but they suggest the same thing - &quot;be careful&quot;..","body":"@PeterLawrey is there a way to tell which code was &quot;JIT&quot;ed out? I usually use caliper framework for this benchmarks, but they suggest the same thing - &quot;be careful&quot;.."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1366575815,"post_id":6464004,"comment_id":23050729,"body_markdown":"@Eugene The way I tell is the code is now impossibly fast. e.g. taking much less than one clock cycle per iteration.  This shows up best on repeated tests.","body":"@Eugene The way I tell is the code is now impossibly fast. e.g. taking much less than one clock cycle per iteration.  This shows up best on repeated tests."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":3,"down_vote_count":2,"up_vote_count":46,"is_accepted":true,"score":44,"last_activity_date":1522658630,"creation_date":1308895090,"answer_id":6464004,"question_id":6462055,"body_markdown":"HashMap uses an array underneath so it can never be faster than using an array correctly.\r\n\r\n`Random.nextInt()` is many times slower than what you are testing, even using array to test an array is going to bias your results. \r\n\r\nThe reason your array benchmark is so slow is due to the equals comparisons, not the array access itself.\r\n\r\n`HashTable` is usually much slower than `HashMap` because it does much the same thing but is also synchronized.\r\n\r\nA common problem with micro-benchmarks is the JIT which is very good at removing code which doesn&#39;t do anything. If you are not careful you will only be testing whether you have confused the JIT enough that it cannot workout your code doesn&#39;t do anything.\r\n\r\nThis is one of the reason you can write micro-benchmarks which out perform C++ systems.  This is because Java is a simpler language and easier to reason about and thus detect code which does nothing useful.  This can lead to tests which show that Java does &quot;nothing useful&quot; much faster than C++ ;)","title":"Hashmap vs Array performance","body":"<p>HashMap uses an array underneath so it can never be faster than using an array correctly.</p>\n\n<p><code>Random.nextInt()</code> is many times slower than what you are testing, even using array to test an array is going to bias your results. </p>\n\n<p>The reason your array benchmark is so slow is due to the equals comparisons, not the array access itself.</p>\n\n<p><code>HashTable</code> is usually much slower than <code>HashMap</code> because it does much the same thing but is also synchronized.</p>\n\n<p>A common problem with micro-benchmarks is the JIT which is very good at removing code which doesn't do anything. If you are not careful you will only be testing whether you have confused the JIT enough that it cannot workout your code doesn't do anything.</p>\n\n<p>This is one of the reason you can write micro-benchmarks which out perform C++ systems.  This is because Java is a simpler language and easier to reason about and thus detect code which does nothing useful.  This can lead to tests which show that Java does \"nothing useful\" much faster than C++ ;)</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1693994972,"post_id":77049269,"comment_id":135831991,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77049269/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":29376579,"reputation":1,"user_id":22507980,"display_name":"user22507980"},"score":0,"creation_date":1694149839,"post_id":77049269,"comment_id":135855984,"body_markdown":"My answer is direct related to the topic &quot;Hashmap vs Array performance&quot;. Can&#39;t get what is unclear to you. You may practice to start ask clever questions or write less meaningles posts. just read the help center.","body":"My answer is direct related to the topic &quot;Hashmap vs Array performance&quot;. Can&#39;t get what is unclear to you. You may practice to start ask clever questions or write less meaningles posts. just read the help center."}],"tags":[],"owner":{"account_id":29376579,"reputation":1,"user_id":22507980,"display_name":"user22507980"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693979130,"creation_date":1693979130,"answer_id":77049269,"question_id":6462055,"body_markdown":"I wonder no one tell about performance of Hashmap&#39;s. Don&#39;t forget the fact a hash-function called each time one put data on Hashmap and getting data from a hashmap behind the scene. Each function call uses stack. And even hash function is not simple one primitive operation. The smarter hash-function the more complex code it implements. The same time using trees behind the scene takes a time and a code for pasting data and rearranging hives. Take note no one answered the question when using a hashtable become more efficient over simple array.","title":"Hashmap vs Array performance","body":"<p>I wonder no one tell about performance of Hashmap's. Don't forget the fact a hash-function called each time one put data on Hashmap and getting data from a hashmap behind the scene. Each function call uses stack. And even hash function is not simple one primitive operation. The smarter hash-function the more complex code it implements. The same time using trees behind the scene takes a time and a code for pasting data and rearranging hives. Take note no one answered the question when using a hashtable become more efficient over simple array.</p>\n"}],"owner":{"account_id":371708,"reputation":2260,"user_id":720386,"accept_rate":94,"display_name":"Timotheus"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83856,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"accepted_answer_id":6464004,"answer_count":7,"score":36,"last_activity_date":1693979130,"creation_date":1308874423,"question_id":6462055,"body_markdown":"Is it (performance-wise) better to use Arrays or HashMaps when the indexes of the Array are known? Keep in mind that the &#39;objects array/map&#39; in the example is just an example, in my real project it is generated by another class so I cant use individual variables.\r\n\r\nArrayExample:\r\n\r\n    SomeObject[] objects = new SomeObject[2];\r\n    objects[0] = new SomeObject(&quot;Obj1&quot;);\r\n    objects[1] = new SomeObject(&quot;Obj2&quot;);\r\n    \r\n    void doSomethingToObject(String Identifier){\r\n        SomeObject object;\r\n        if(Identifier.equals(&quot;Obj1&quot;)){\r\n            object=objects[0];\r\n        }else if(){\r\n            object=objects[1];\r\n        }\r\n        //do stuff\r\n    }\r\n\r\nHashMapExample:\r\n\r\n    HashMap objects = HashMap();\r\n    objects.put(&quot;Obj1&quot;,new SomeObject());\r\n    objects.put(&quot;Obj2&quot;,new SomeObject());\r\n    \r\n    void doSomethingToObject(String Identifier){\r\n        SomeObject object = (SomeObject) objects.get(Identifier);\r\n        //do stuff\r\n    }\r\n\r\n\r\nThe HashMap one looks much much better but I really need performance on this so that has priority.\r\n\r\n**EDIT:** Well Array&#39;s it is then, suggestions are still welcome\r\n\r\n**EDIT:** I forgot to mention, the size of the Array/HashMap is always the same (6)\r\n\r\n\r\n\r\n**EDIT:** It appears that HashMaps are faster\r\nArray: 128ms\r\nHash: 103ms\r\n\r\nWhen using less cycles the HashMaps was even twice as fast\r\n\r\n\r\n\r\n\r\ntest code:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Random;\r\n\r\n    public class Optimizationsest {\r\n\tprivate static Random r = new Random();\r\n\t\r\n    private static HashMap&lt;String,SomeObject&gt; hm = new HashMap&lt;String,SomeObject&gt;();\r\n    private static SomeObject[] o = new SomeObject[6];\r\n    \r\n    private static String[] Indentifiers = {&quot;Obj1&quot;,&quot;Obj2&quot;,&quot;Obj3&quot;,&quot;Obj4&quot;,&quot;Obj5&quot;,&quot;Obj6&quot;};\r\n    \r\n    private static int t = 1000000;\r\n    \r\n    public static void main(String[] args){\r\n    \tCreateHash();\r\n    \tCreateArray();\r\n        long loopTime = ProcessArray();\r\n        long hashTime = ProcessHash();\r\n        System.out.println(&quot;Array: &quot; + loopTime + &quot;ms&quot;);\r\n        System.out.println(&quot;Hash: &quot; + hashTime + &quot;ms&quot;);\r\n    }\r\n\r\n    public static void CreateHash(){\r\n    \tfor(int i=0; i &lt;= 5; i++){\r\n        \thm.put(&quot;Obj&quot;+(i+1), new SomeObject());\r\n    \t}\r\n    }\r\n    \r\n    public static void CreateArray(){\r\n    \tfor(int i=0; i &lt;= 5; i++){\r\n        \to[i]=new SomeObject();\r\n    \t}\r\n    }\r\n    \r\n    public static long ProcessArray(){\r\n        StopWatch sw = new StopWatch();\r\n        sw.start();\r\n        for(int i = 1;i&lt;=t;i++){\r\n        \tcheckArray(Indentifiers[r.nextInt(6)]);\r\n        }\r\n        sw.stop();\r\n        return sw.getElapsedTime();\r\n    }\r\n    \r\n    \r\n\r\n    private static void checkArray(String Identifier) {\r\n        SomeObject object;\r\n        if(Identifier.equals(&quot;Obj1&quot;)){\r\n            object=o[0];\r\n        }else if(Identifier.equals(&quot;Obj2&quot;)){\r\n            object=o[1];\r\n        }else if(Identifier.equals(&quot;Obj3&quot;)){\r\n            object=o[2];\r\n        }else if(Identifier.equals(&quot;Obj4&quot;)){\r\n            object=o[3];\r\n        }else if(Identifier.equals(&quot;Obj5&quot;)){\r\n            object=o[4];\r\n        }else if(Identifier.equals(&quot;Obj6&quot;)){\r\n            object=o[5];\r\n        }else{\r\n        \tobject = new SomeObject();\r\n        }\r\n        object.kill();\r\n\t}\r\n\r\n\tpublic static long ProcessHash(){\r\n        StopWatch sw = new StopWatch();\r\n        sw.start();\r\n        for(int i = 1;i&lt;=t;i++){\r\n        \tcheckHash(Indentifiers[r.nextInt(6)]);\r\n        }\r\n        sw.stop();\r\n        return sw.getElapsedTime();\r\n    }\r\n\r\n\tprivate static void checkHash(String Identifier) {\r\n\t\tSomeObject object = (SomeObject) hm.get(Identifier);\r\n\t\tobject.kill();\r\n\t}\r\n}\r\n    \r\n","title":"Hashmap vs Array performance","body":"<p>Is it (performance-wise) better to use Arrays or HashMaps when the indexes of the Array are known? Keep in mind that the 'objects array/map' in the example is just an example, in my real project it is generated by another class so I cant use individual variables.</p>\n\n<p>ArrayExample:</p>\n\n<pre><code>SomeObject[] objects = new SomeObject[2];\nobjects[0] = new SomeObject(\"Obj1\");\nobjects[1] = new SomeObject(\"Obj2\");\n\nvoid doSomethingToObject(String Identifier){\n    SomeObject object;\n    if(Identifier.equals(\"Obj1\")){\n        object=objects[0];\n    }else if(){\n        object=objects[1];\n    }\n    //do stuff\n}\n</code></pre>\n\n<p>HashMapExample:</p>\n\n<pre><code>HashMap objects = HashMap();\nobjects.put(\"Obj1\",new SomeObject());\nobjects.put(\"Obj2\",new SomeObject());\n\nvoid doSomethingToObject(String Identifier){\n    SomeObject object = (SomeObject) objects.get(Identifier);\n    //do stuff\n}\n</code></pre>\n\n<p>The HashMap one looks much much better but I really need performance on this so that has priority.</p>\n\n<p><strong>EDIT:</strong> Well Array's it is then, suggestions are still welcome</p>\n\n<p><strong>EDIT:</strong> I forgot to mention, the size of the Array/HashMap is always the same (6)</p>\n\n<p><strong>EDIT:</strong> It appears that HashMaps are faster\nArray: 128ms\nHash: 103ms</p>\n\n<p>When using less cycles the HashMaps was even twice as fast</p>\n\n<p>test code:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Random;\n\npublic class Optimizationsest {\nprivate static Random r = new Random();\n\nprivate static HashMap&lt;String,SomeObject&gt; hm = new HashMap&lt;String,SomeObject&gt;();\nprivate static SomeObject[] o = new SomeObject[6];\n\nprivate static String[] Indentifiers = {\"Obj1\",\"Obj2\",\"Obj3\",\"Obj4\",\"Obj5\",\"Obj6\"};\n\nprivate static int t = 1000000;\n\npublic static void main(String[] args){\n    CreateHash();\n    CreateArray();\n    long loopTime = ProcessArray();\n    long hashTime = ProcessHash();\n    System.out.println(\"Array: \" + loopTime + \"ms\");\n    System.out.println(\"Hash: \" + hashTime + \"ms\");\n}\n\npublic static void CreateHash(){\n    for(int i=0; i &lt;= 5; i++){\n        hm.put(\"Obj\"+(i+1), new SomeObject());\n    }\n}\n\npublic static void CreateArray(){\n    for(int i=0; i &lt;= 5; i++){\n        o[i]=new SomeObject();\n    }\n}\n\npublic static long ProcessArray(){\n    StopWatch sw = new StopWatch();\n    sw.start();\n    for(int i = 1;i&lt;=t;i++){\n        checkArray(Indentifiers[r.nextInt(6)]);\n    }\n    sw.stop();\n    return sw.getElapsedTime();\n}\n\n\n\nprivate static void checkArray(String Identifier) {\n    SomeObject object;\n    if(Identifier.equals(\"Obj1\")){\n        object=o[0];\n    }else if(Identifier.equals(\"Obj2\")){\n        object=o[1];\n    }else if(Identifier.equals(\"Obj3\")){\n        object=o[2];\n    }else if(Identifier.equals(\"Obj4\")){\n        object=o[3];\n    }else if(Identifier.equals(\"Obj5\")){\n        object=o[4];\n    }else if(Identifier.equals(\"Obj6\")){\n        object=o[5];\n    }else{\n        object = new SomeObject();\n    }\n    object.kill();\n}\n\npublic static long ProcessHash(){\n    StopWatch sw = new StopWatch();\n    sw.start();\n    for(int i = 1;i&lt;=t;i++){\n        checkHash(Indentifiers[r.nextInt(6)]);\n    }\n    sw.stop();\n    return sw.getElapsedTime();\n}\n\nprivate static void checkHash(String Identifier) {\n    SomeObject object = (SomeObject) hm.get(Identifier);\n    object.kill();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","spring-boot","hibernate","unit-testing","integration-testing"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1693908891,"post_id":77043355,"comment_id":135818329,"body_markdown":"You may want to check out [this question](https://stackoverflow.com/questions/28455078).","body":"You may want to check out <a href=\"https://stackoverflow.com/questions/28455078\">this question</a>."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1693909814,"post_id":77043355,"comment_id":135818504,"body_markdown":"do you mean the entities changes which are mapped to database tables / columns? Stuff like column renaming?","body":"do you mean the entities changes which are mapped to database tables / columns? Stuff like column renaming?"},{"owner":{"account_id":14424207,"reputation":21,"user_id":10419469,"display_name":"Kundan Kumar"},"score":0,"creation_date":1693912198,"post_id":77043355,"comment_id":135819000,"body_markdown":"@MarkBramnik Yes, the column renaming.","body":"@MarkBramnik Yes, the column renaming."},{"owner":{"account_id":14424207,"reputation":21,"user_id":10419469,"display_name":"Kundan Kumar"},"score":0,"creation_date":1693914366,"post_id":77043355,"comment_id":135819421,"body_markdown":"@MarkBramnik any approach regarding how to check the column renaming/deletion using code/unit test/integration test ?","body":"@MarkBramnik any approach regarding how to check the column renaming/deletion using code/unit test/integration test ?"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1693986889,"post_id":77043355,"comment_id":135830320,"body_markdown":"What do you mean by &#39;check&#39;? If someone renames a column without also preparing an appropriate DB migration to adjust the DB tables, then the integration tests will fail, thus &#39;checking&#39; the change (you are, of course, using DB migrations for managing the schema, right?)","body":"What do you mean by &#39;check&#39;? If someone renames a column without also preparing an appropriate DB migration to adjust the DB tables, then the integration tests will fail, thus &#39;checking&#39; the change (you are, of course, using DB migrations for managing the schema, right?)"},{"owner":{"account_id":14424207,"reputation":21,"user_id":10419469,"display_name":"Kundan Kumar"},"score":0,"creation_date":1695189120,"post_id":77043355,"comment_id":135988924,"body_markdown":"@crizzis Yes, using flyway db tool for db migration using sql scripts.","body":"@crizzis Yes, using flyway db tool for db migration using sql scripts."}],"answers":[{"comments":[{"owner":{"account_id":14424207,"reputation":21,"user_id":10419469,"display_name":"Kundan Kumar"},"score":0,"creation_date":1695189027,"post_id":77049216,"comment_id":135988910,"body_markdown":"Thanks ! Yes, this is the exactly what I needed. I am using flyway db as data migration tool and got the way how to check if columns are changed or not. I am just checking the migration sql scripts and checking if it contains the column name updation condition.","body":"Thanks ! Yes, this is the exactly what I needed. I am using flyway db as data migration tool and got the way how to check if columns are changed or not. I am just checking the migration sql scripts and checking if it contains the column name updation condition."}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693978267,"creation_date":1693978267,"answer_id":77049216,"question_id":77043355,"body_markdown":"First, let me express some general thoughts:\r\n\r\nIt basically depends on what is your baseline, when you change the column, where do you maintain such a change and how does the change made in code propagates to the actual database. \r\nSince usually the code is &quot;static&quot; and represents the state of the project in time, you might need an external database with the previous version of the code deployed to compare to. This in general complicates the  tests because tests usually need to check a functionality of the current version of code and not to compare it with the previous versions or something. \r\n\r\nSo I would consider implementing such a check not as a test but as an external verification tool that can run during the build (say in CI). \r\nAlso what happens if this tool fails? Like ok, someone has indeed changed the column, so what? Should the whole build fail? If so how will the project evolve? After all the db changes happen and probably for good reasons...\r\n\r\nSo, assuming you still want to implement such a tool, read on:\r\n\r\nOne approach is to maintain migrations, tools like Flyway and Liquibase come to the rescue here.\r\n\r\nThe idea is that each change will be documented in code by means of a special &quot;migration&quot; script / file. \r\nFor example in Flyway there is a special table in db that contains the state of applied migrations so you can query it in the test and see whether you have more recent migrations to apply for example (each migration will change the db schema)\r\n\r\n\r\nAnother approach is using hibernate mappings in the entity annotations for example. \r\nIn this case You can try to check whether the current mapping can be applied to the current database state (its called mappings validation): Technically there is a property `hibernate.hbm2ddl.auto` that can be set to `validate` (read [this question][1] for more details)\r\n\r\nThe last possible option concept that comes to my mind:\r\nCompare the metadata of 2 schemas: One baseline (prepared in advance - this is the one you verify your mappings against) - query its metadata (tables, column names, indices, constraints, whatever you need)\r\nThen create a &quot;sample schema&quot; our of your hibernate mappings (you might want to use testcontainers for the db, if its possible) or even the real database to create a &quot;mock&quot; schema. \r\nNow Query the metadata of this new schema and compare with the first &quot;baseline&quot; schema. Probably it will use some custom solutions because you&#39;ll end up with some custom checks sooner or later (this change is ok, but that change is not) I believe.. \r\n\r\n  [1]: https://stackoverflow.com/questions/2116625/how-to-validate-hibernate-mapping-against-database","title":"Unit test to catch the situation where if we rename or delete an attribute in a Java/Spring Boot data model","body":"<p>First, let me express some general thoughts:</p>\n<p>It basically depends on what is your baseline, when you change the column, where do you maintain such a change and how does the change made in code propagates to the actual database.\nSince usually the code is &quot;static&quot; and represents the state of the project in time, you might need an external database with the previous version of the code deployed to compare to. This in general complicates the  tests because tests usually need to check a functionality of the current version of code and not to compare it with the previous versions or something.</p>\n<p>So I would consider implementing such a check not as a test but as an external verification tool that can run during the build (say in CI).\nAlso what happens if this tool fails? Like ok, someone has indeed changed the column, so what? Should the whole build fail? If so how will the project evolve? After all the db changes happen and probably for good reasons...</p>\n<p>So, assuming you still want to implement such a tool, read on:</p>\n<p>One approach is to maintain migrations, tools like Flyway and Liquibase come to the rescue here.</p>\n<p>The idea is that each change will be documented in code by means of a special &quot;migration&quot; script / file.\nFor example in Flyway there is a special table in db that contains the state of applied migrations so you can query it in the test and see whether you have more recent migrations to apply for example (each migration will change the db schema)</p>\n<p>Another approach is using hibernate mappings in the entity annotations for example.\nIn this case You can try to check whether the current mapping can be applied to the current database state (its called mappings validation): Technically there is a property <code>hibernate.hbm2ddl.auto</code> that can be set to <code>validate</code> (read <a href=\"https://stackoverflow.com/questions/2116625/how-to-validate-hibernate-mapping-against-database\">this question</a> for more details)</p>\n<p>The last possible option concept that comes to my mind:\nCompare the metadata of 2 schemas: One baseline (prepared in advance - this is the one you verify your mappings against) - query its metadata (tables, column names, indices, constraints, whatever you need)\nThen create a &quot;sample schema&quot; our of your hibernate mappings (you might want to use testcontainers for the db, if its possible) or even the real database to create a &quot;mock&quot; schema.\nNow Query the metadata of this new schema and compare with the first &quot;baseline&quot; schema. Probably it will use some custom solutions because you'll end up with some custom checks sooner or later (this change is ok, but that change is not) I believe..</p>\n"}],"owner":{"account_id":14424207,"reputation":21,"user_id":10419469,"display_name":"Kundan Kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77049216,"answer_count":1,"score":-1,"last_activity_date":1693978267,"creation_date":1693906433,"question_id":77043355,"body_markdown":"I have to catch the situation whenever any attribute name is renamed or deleted from a java/spring boot data model. My project uses java, spring boot and hibernate.\r\n\r\n**How can I know when an attribute is renamed/deleted ?**\r\n\r\nAny hint/idea will be very helpful. ","title":"Unit test to catch the situation where if we rename or delete an attribute in a Java/Spring Boot data model","body":"<p>I have to catch the situation whenever any attribute name is renamed or deleted from a java/spring boot data model. My project uses java, spring boot and hibernate.</p>\n<p><strong>How can I know when an attribute is renamed/deleted ?</strong></p>\n<p>Any hint/idea will be very helpful.</p>\n"},{"tags":["java","regex","regex-group"],"answers":[{"comments":[{"owner":{"account_id":4620709,"reputation":8655,"user_id":3745896,"accept_rate":93,"display_name":"River"},"score":0,"creation_date":1693978622,"post_id":77048878,"comment_id":135829091,"body_markdown":"Thanks, it does seem like my workaround or reimplementation is the only way. Personally, I strongly prefer the workaround since it is less code and uses Java&#39;s implementation which is guaranteed to handle edge cases and support future enhancements. For example, here you don&#39;t support escaping (though easily could, the point is more about having to fix unaccounted for bugs later).","body":"Thanks, it does seem like my workaround or reimplementation is the only way. Personally, I strongly prefer the workaround since it is less code and uses Java&#39;s implementation which is guaranteed to handle edge cases and support future enhancements. For example, here you don&#39;t support escaping (though easily could, the point is more about having to fix unaccounted for bugs later)."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693982205,"post_id":77048878,"comment_id":135829538,"body_markdown":"@River, I believe there is a syntax specification for the replacement pattern, although I haven&#39;t been able to find it.  In the mean time just provide error handling. The _Matcher#replaceAll_ method uses the _Matcher#appendExpandedReplacement_ method, you could link it in a _JavaDoc_ comment for your class.  Here is the _OpenJDK_ source, _https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/regex/Matcher.java#L1055_.","body":"@River, I believe there is a syntax specification for the replacement pattern, although I haven&#39;t been able to find it.  In the mean time just provide error handling. The <i>Matcher#replaceAll</i> method uses the <i>Matcher#appendExpandedReplacement</i> method, you could link it in a <i>JavaDoc</i> comment for your class.  Here is the <i>OpenJDK</i> source, <i><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/regex/Matcher.java#L1055\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/java.base/share/class&zwnj;&#8203;es/&hellip;</a></i>."},{"owner":{"account_id":4620709,"reputation":8655,"user_id":3745896,"accept_rate":93,"display_name":"River"},"score":0,"creation_date":1694148823,"post_id":77048878,"comment_id":135855897,"body_markdown":"I haven&#39;t seen any spec like that either. This is all more to my point though, with my workaround you just wrap your regex and don&#39;t need to worry about a spec, or error handling, or linking the canonical implementation; you get all that for free by using that canonical implementation.","body":"I haven&#39;t seen any spec like that either. This is all more to my point though, with my workaround you just wrap your regex and don&#39;t need to worry about a spec, or error handling, or linking the canonical implementation; you get all that for free by using that canonical implementation."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693971647,"creation_date":1693971303,"answer_id":77048878,"question_id":77010760,"body_markdown":"&gt; _&quot;... how can I achieve it in Java without reimplementing the parsing of $ capture group syntax? ...&quot;_\r\n\r\nThe only way to return captured values would be through the _Pattern_ and _Matcher_ class.  \r\nOr, with the appended `.*`, as you mentioned.\r\n\r\n&gt; _&quot;... I want the other string to be able to use matching groups from the regex, but I can&#39;t find a way to do this in Java. ..._\r\n&gt;\r\n&gt; ```java\r\n&gt; // Outputs &quot;https://www.taco&amp;temp=1&quot; want &quot;taco&quot;\r\n&gt; ```\r\n\r\nImplementing the template syntax is not difficult.  \r\nThe _[Matcher#namedGroups](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#namedGroups())_ method returns a _Map_ of capture group names and their group numbers.\r\n\r\n```java\r\nString string = template;\r\nfor (int i = 1; i &lt;= m.groupCount(); i++)\r\n    string = string.replaceAll(&quot;\\\\$&quot; + i, m.group(i));\r\nfor (Map.Entry&lt;String, Integer&gt; e : m.namedGroups().entrySet())\r\n    string = string.replaceAll(&quot;\\\\$\\\\{&quot; + e.getKey() + &quot;}&quot;, m.group(e.getValue()));\r\n```\r\n\r\nHere is the full re-factor.\r\n\r\n```java\r\npublic static Function&lt;String, AbstractMap.SimpleEntry&lt;String, String&gt;&gt; process(String regex, String template){\r\n    return input -&gt; {\r\n        Matcher m = Pattern.compile(regex).matcher(input);\r\n        if(!m.find()) return null;\r\n        String string = template;\r\n        for (int i = 1; i &lt;= m.groupCount(); i++)\r\n            string = string.replaceAll(&quot;\\\\$&quot; + i, m.group(i));\r\n        for (Map.Entry&lt;String, Integer&gt; e : m.namedGroups().entrySet())\r\n            string = string.replaceAll(&quot;\\\\$\\\\{&quot; + e.getKey() + &quot;}&quot;, m.group(e.getValue()));\r\n        return new AbstractMap.SimpleEntry&lt;&gt;(string, input);\r\n    };\r\n}\r\n\r\npublic static void main (String[] args) throws Exception {\r\n    String text = &quot;https://www.myaddress.com?x=y&amp;w=z&amp;other=other&amp;q=taco&amp;temp=1&quot;;\r\n    Function&lt;String, AbstractMap.SimpleEntry&lt;String, String&gt;&gt; func1 = process(&quot;myaddress.com.*[?&amp;]q=(\\\\w+)&quot;, &quot;$1&quot;);\r\n    Function&lt;String, AbstractMap.SimpleEntry&lt;String, String&gt;&gt; func2 = process(&quot;myaddress.com.*[?&amp;]q=(?&lt;query&gt;\\\\w+)&quot;, &quot;query: ${query}&quot;);\r\n    System.out.println(func1.apply(text).getKey());\r\n    // Outputs &quot;https://www.taco&amp;temp=1&quot; want &quot;taco&quot;\r\n    System.out.println(func2.apply(text).getKey());\r\n    // Outputs &quot;https://www.query: taco&amp;temp=1&quot; want &quot;query: taco&quot;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\ntaco\r\nquery: taco\r\n```","title":"Expand Regex SubGroup Matches in Java","body":"<blockquote>\n<p><em>&quot;... how can I achieve it in Java without reimplementing the parsing of $ capture group syntax? ...&quot;</em></p>\n</blockquote>\n<p>The only way to return captured values would be through the <em>Pattern</em> and <em>Matcher</em> class.<br />\nOr, with the appended <code>.*</code>, as you mentioned.</p>\n<blockquote>\n<p><em>&quot;... I want the other string to be able to use matching groups from the regex, but I can't find a way to do this in Java. ...</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Outputs &quot;https://www.taco&amp;temp=1&quot; want &quot;taco&quot;\n</code></pre>\n</blockquote>\n<p>Implementing the template syntax is not difficult.<br />\nThe <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#namedGroups()\" rel=\"nofollow noreferrer\">Matcher#namedGroups</a></em> method returns a <em>Map</em> of capture group names and their group numbers.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = template;\nfor (int i = 1; i &lt;= m.groupCount(); i++)\n    string = string.replaceAll(&quot;\\\\$&quot; + i, m.group(i));\nfor (Map.Entry&lt;String, Integer&gt; e : m.namedGroups().entrySet())\n    string = string.replaceAll(&quot;\\\\$\\\\{&quot; + e.getKey() + &quot;}&quot;, m.group(e.getValue()));\n</code></pre>\n<p>Here is the full re-factor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Function&lt;String, AbstractMap.SimpleEntry&lt;String, String&gt;&gt; process(String regex, String template){\n    return input -&gt; {\n        Matcher m = Pattern.compile(regex).matcher(input);\n        if(!m.find()) return null;\n        String string = template;\n        for (int i = 1; i &lt;= m.groupCount(); i++)\n            string = string.replaceAll(&quot;\\\\$&quot; + i, m.group(i));\n        for (Map.Entry&lt;String, Integer&gt; e : m.namedGroups().entrySet())\n            string = string.replaceAll(&quot;\\\\$\\\\{&quot; + e.getKey() + &quot;}&quot;, m.group(e.getValue()));\n        return new AbstractMap.SimpleEntry&lt;&gt;(string, input);\n    };\n}\n\npublic static void main (String[] args) throws Exception {\n    String text = &quot;https://www.myaddress.com?x=y&amp;w=z&amp;other=other&amp;q=taco&amp;temp=1&quot;;\n    Function&lt;String, AbstractMap.SimpleEntry&lt;String, String&gt;&gt; func1 = process(&quot;myaddress.com.*[?&amp;]q=(\\\\w+)&quot;, &quot;$1&quot;);\n    Function&lt;String, AbstractMap.SimpleEntry&lt;String, String&gt;&gt; func2 = process(&quot;myaddress.com.*[?&amp;]q=(?&lt;query&gt;\\\\w+)&quot;, &quot;query: ${query}&quot;);\n    System.out.println(func1.apply(text).getKey());\n    // Outputs &quot;https://www.taco&amp;temp=1&quot; want &quot;taco&quot;\n    System.out.println(func2.apply(text).getKey());\n    // Outputs &quot;https://www.query: taco&amp;temp=1&quot; want &quot;query: taco&quot;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>taco\nquery: taco\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4620709,"reputation":8655,"user_id":3745896,"accept_rate":93,"display_name":"River"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693978215,"creation_date":1693978215,"answer_id":77049213,"question_id":77010760,"body_markdown":"Answering my question with my workaround as it seems the most elegant solution available.\r\n\r\n------------\r\nThere is currently no method for this in Java; the best workaround is to expand the match to the entire string.\r\n\r\nExpanding the match looks a little different depending on which of [Java&#39;s three match operations][1] you&#39;re using:\r\n\r\n- [`matches`][2] - This already matches against the full string; a match will necessarily include all input.\r\n- [`lookingAt`][3] - Matches from start of input, append `.*` to your regex to include the full input in your match&lt;sup&gt;1&lt;/sup&gt;.\r\n- [`find`][4] - Matches any substring in the input, append *and* prepend `.*` to your regex to match the full input.\r\n\r\nThen you can use the original solution with [`replaceFirst`][5] and it will work as expected.\r\n\r\nNote that since you&#39;re expanding the match to the whole input, once you do so, any match operation becomes equivalent to using `matches`.\r\n\r\n\r\n&lt;sub&gt;&lt;sup&gt;1&lt;/sup&gt; Equivalently, in this case you can use [`appendReplacement`][6] without calling `appendTail` instead of expanding the match.&lt;/sub&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#matches()\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#lookingAt()\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#find()\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#replaceFirst(java.lang.String)\r\n  [6]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuilder,java.lang.String)","title":"Expand Regex SubGroup Matches in Java","body":"<p>Answering my question with my workaround as it seems the most elegant solution available.</p>\n<hr />\n<p>There is currently no method for this in Java; the best workaround is to expand the match to the entire string.</p>\n<p>Expanding the match looks a little different depending on which of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Java's three match operations</a> you're using:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#matches()\" rel=\"nofollow noreferrer\"><code>matches</code></a> - This already matches against the full string; a match will necessarily include all input.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#lookingAt()\" rel=\"nofollow noreferrer\"><code>lookingAt</code></a> - Matches from start of input, append <code>.*</code> to your regex to include the full input in your match<sup>1</sup>.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#find()\" rel=\"nofollow noreferrer\"><code>find</code></a> - Matches any substring in the input, append <em>and</em> prepend <code>.*</code> to your regex to match the full input.</li>\n</ul>\n<p>Then you can use the original solution with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#replaceFirst(java.lang.String)\" rel=\"nofollow noreferrer\"><code>replaceFirst</code></a> and it will work as expected.</p>\n<p>Note that since you're expanding the match to the whole input, once you do so, any match operation becomes equivalent to using <code>matches</code>.</p>\n<p><sub><sup>1</sup> Equivalently, in this case you can use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuilder,java.lang.String)\" rel=\"nofollow noreferrer\"><code>appendReplacement</code></a> without calling <code>appendTail</code> instead of expanding the match.</sub></p>\n"}],"owner":{"account_id":4620709,"reputation":8655,"user_id":3745896,"accept_rate":93,"display_name":"River"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77049213,"answer_count":2,"score":0,"last_activity_date":1693978215,"creation_date":1693421101,"question_id":77010760,"body_markdown":"I have a function that takes a regex and another string and returns a lambda that matches the regex against whatever input. I want the other string to be able to use matching groups from the regex, but I can&#39;t find a way to do this in Java.\r\n\r\nMinimal example:\r\n\r\n```java\r\npublic static Function&lt;String, AbstractMap.SimpleEntry&gt; process(String regex, String template){\r\n  return input -&gt; {\r\n\tMatcher m = Pattern.compile(regex).matcher(input);\r\n\tif(!m.find()){\r\n\t  return null;\r\n\t}\r\n\t// Want something like:\r\n\t// String key = m.expand(template);\r\n\t// That *only* expands template and doesn&#39;t add anything else.\r\n\t\t\r\n\t// **Doesn&#39;t work**\r\n\t// m.replaceFirst/appendReplacement keep parts of the original input\r\n\tString key = m.replaceFirst(template);\r\n\t\t\r\n\treturn Map.entry(key, input);\r\n  };\r\n}\r\n\t\r\npublic static void main (String[] args) throws Exception {\r\n  String text = &quot;https://www.myaddress.com?x=y&amp;w=z&amp;other=other&amp;q=taco&amp;temp=1&quot;;\r\n  Function&lt;String, AbstractMap.SimpleEntry&gt; func1 = process(&quot;myaddress.com.*[?&amp;]q=(\\\\w+)&quot;, &quot;$1&quot;);\r\n  Function&lt;String, AbstractMap.SimpleEntry&gt; func2 = process(&quot;myaddress.com.*[?&amp;]q=(?&lt;query&gt;\\\\w+)&quot;, &quot;query: ${query}&quot;);\r\n  System.out.println(func1.apply(text).getKey());\r\n  // Outputs &quot;https://www.taco&amp;temp=1&quot; want &quot;taco&quot;\r\n  System.out.println(func2.apply(text).getKey());\r\n  // Outputs &quot;https://www.query: taco&amp;temp=1&quot; want &quot;query: taco&quot;\r\n}\r\n```\r\n\r\nThis example only uses a single capture group, but `regex`/`template` could be anything and we should support it generically (e.g. process should handle `$1 $4 ${mygroup}` as a `template` for a compatible `regex`). Forcing the user to match the entire URL is also undesirable.\r\n\r\nGolang has an [`Expand` function for this](https://pkg.go.dev/regexp#Regexp.ExpandString), how can I achieve it in Java without reimplementing the parsing of `$` capture group syntax?\r\n\r\nThe best workaround I currently have is simply to prepend and append `.*` to the regex string when compiling it.","title":"Expand Regex SubGroup Matches in Java","body":"<p>I have a function that takes a regex and another string and returns a lambda that matches the regex against whatever input. I want the other string to be able to use matching groups from the regex, but I can't find a way to do this in Java.</p>\n<p>Minimal example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Function&lt;String, AbstractMap.SimpleEntry&gt; process(String regex, String template){\n  return input -&gt; {\n    Matcher m = Pattern.compile(regex).matcher(input);\n    if(!m.find()){\n      return null;\n    }\n    // Want something like:\n    // String key = m.expand(template);\n    // That *only* expands template and doesn't add anything else.\n        \n    // **Doesn't work**\n    // m.replaceFirst/appendReplacement keep parts of the original input\n    String key = m.replaceFirst(template);\n        \n    return Map.entry(key, input);\n  };\n}\n    \npublic static void main (String[] args) throws Exception {\n  String text = &quot;https://www.myaddress.com?x=y&amp;w=z&amp;other=other&amp;q=taco&amp;temp=1&quot;;\n  Function&lt;String, AbstractMap.SimpleEntry&gt; func1 = process(&quot;myaddress.com.*[?&amp;]q=(\\\\w+)&quot;, &quot;$1&quot;);\n  Function&lt;String, AbstractMap.SimpleEntry&gt; func2 = process(&quot;myaddress.com.*[?&amp;]q=(?&lt;query&gt;\\\\w+)&quot;, &quot;query: ${query}&quot;);\n  System.out.println(func1.apply(text).getKey());\n  // Outputs &quot;https://www.taco&amp;temp=1&quot; want &quot;taco&quot;\n  System.out.println(func2.apply(text).getKey());\n  // Outputs &quot;https://www.query: taco&amp;temp=1&quot; want &quot;query: taco&quot;\n}\n</code></pre>\n<p>This example only uses a single capture group, but <code>regex</code>/<code>template</code> could be anything and we should support it generically (e.g. process should handle <code>$1 $4 ${mygroup}</code> as a <code>template</code> for a compatible <code>regex</code>). Forcing the user to match the entire URL is also undesirable.</p>\n<p>Golang has an <a href=\"https://pkg.go.dev/regexp#Regexp.ExpandString\" rel=\"nofollow noreferrer\"><code>Expand</code> function for this</a>, how can I achieve it in Java without reimplementing the parsing of <code>$</code> capture group syntax?</p>\n<p>The best workaround I currently have is simply to prepend and append <code>.*</code> to the regex string when compiling it.</p>\n"},{"tags":["java","http","dns","dialogflow-es","unknown-host"],"comments":[{"owner":{"account_id":2256817,"reputation":12199,"user_id":1987838,"accept_rate":100,"display_name":"Hackerman"},"score":0,"creation_date":1503598696,"post_id":45868239,"comment_id":78695590,"body_markdown":"Can you post the output of `dig api.api.ai`....also run the command multiple times in order to check if it gets the right answer every time...","body":"Can you post the output of <code>dig api.api.ai</code>....also run the command multiple times in order to check if it gets the right answer every time..."},{"owner":{"account_id":529467,"reputation":193,"user_id":8485541,"display_name":"Aman ZeeK Verma"},"score":0,"creation_date":1503599901,"post_id":45868239,"comment_id":78696330,"body_markdown":"Always got a reply:\nzeek@zeek:$ dig api.api.ai\n\n; &lt;&lt;&gt;&gt; DiG 9.10.3-P4-Ubuntu &lt;&lt;&gt;&gt; api.api.ai\n;; global options: +cmd\n;; Got answer:\n;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 2451\n;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 4096\n;; QUESTION SECTION:\n;api.api.ai.\t\t\tIN\tA\n\n;; ANSWER SECTION:\napi.api.ai.\t\t262\tIN\tA\t35.190.15.252\n\n;; Query time: 3 msec\n;; SERVER: 127.0.1.1#53(127.0.1.1)\n;; WHEN: Thu Aug 24 14:38:08 EDT 2017\n;; MSG SIZE  rcvd: 55\nSORRY ABOUT THE FORMAT HERE","body":"Always got a reply: zeek@zeek:$ dig api.api.ai  ; &lt;&lt;&gt;&gt; DiG 9.10.3-P4-Ubuntu &lt;&lt;&gt;&gt; api.api.ai ;; global options: +cmd ;; Got answer: ;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 2451 ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1  ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 4096 ;; QUESTION SECTION: ;api.api.ai.\t\t\tIN\tA  ;; ANSWER SECTION: api.api.ai.\t\t262\tIN\tA\t35.190.15.252  ;; Query time: 3 msec ;; SERVER: 127.0.1.1#53(127.0.1.1) ;; WHEN: Thu Aug 24 14:38:08 EDT 2017 ;; MSG SIZE  rcvd: 55 SORRY ABOUT THE FORMAT HERE"},{"owner":{"account_id":2256817,"reputation":12199,"user_id":1987838,"accept_rate":100,"display_name":"Hackerman"},"score":1,"creation_date":1503600232,"post_id":45868239,"comment_id":78696499,"body_markdown":"For what I am seeing, it seems that resolves to ip4 without issues...but your app sometimes try to resolve using ipv6 and that is why it is failing...","body":"For what I am seeing, it seems that resolves to ip4 without issues...but your app sometimes try to resolve using ipv6 and that is why it is failing..."},{"owner":{"account_id":529467,"reputation":193,"user_id":8485541,"display_name":"Aman ZeeK Verma"},"score":0,"creation_date":1503600327,"post_id":45868239,"comment_id":78696548,"body_markdown":"Is there a way to force ipv4 resolution ?","body":"Is there a way to force ipv4 resolution ?"},{"owner":{"account_id":529467,"reputation":193,"user_id":8485541,"display_name":"Aman ZeeK Verma"},"score":0,"creation_date":1503600421,"post_id":45868239,"comment_id":78696602,"body_markdown":"-Djava.net.preferIPv4Stack=true   is doing the trick so far!!!!     I will confirm after few more tries","body":"-Djava.net.preferIPv4Stack=true   is doing the trick so far!!!!     I will confirm after few more tries"},{"owner":{"account_id":529467,"reputation":193,"user_id":8485541,"display_name":"Aman ZeeK Verma"},"score":0,"creation_date":1503601107,"post_id":45868239,"comment_id":78697002,"body_markdown":"I think I have executed it many times to &quot;confirm&quot; preferIPv4Stack works. Is there a way to fix ipv6 translation? Why does the code attempting ipv6? Is that my problem or api.api.ai problem?","body":"I think I have executed it many times to &quot;confirm&quot; preferIPv4Stack works. Is there a way to fix ipv6 translation? Why does the code attempting ipv6? Is that my problem or api.api.ai problem?"},{"owner":{"account_id":529467,"reputation":193,"user_id":8485541,"display_name":"Aman ZeeK Verma"},"score":0,"creation_date":1503605374,"post_id":45868239,"comment_id":78699075,"body_markdown":"ADDITIONAL INFO: \nWhen I unplug my Ethernet (which is via Wifi Extender) and connect to my main wifi. I dont get this resolution problem","body":"ADDITIONAL INFO:  When I unplug my Ethernet (which is via Wifi Extender) and connect to my main wifi. I dont get this resolution problem"},{"owner":{"account_id":2256817,"reputation":12199,"user_id":1987838,"accept_rate":100,"display_name":"Hackerman"},"score":0,"creation_date":1503607224,"post_id":45868239,"comment_id":78699986,"body_markdown":"I assume that you are in a Linux environment...since both network cards are different, it seems then that your wifi card has some extra configurations that your eth0 card lacks....finding what makes one different from the other one should do the trick...you can call me Sherlock xD","body":"I assume that you are in a Linux environment...since both network cards are different, it seems then that your wifi card has some extra configurations that your eth0 card lacks....finding what makes one different from the other one should do the trick...you can call me Sherlock xD"},{"owner":{"account_id":2881485,"reputation":3449,"user_id":2472282,"display_name":"mattcarrollcode"},"score":0,"creation_date":1503707186,"post_id":45868239,"comment_id":78741251,"body_markdown":"Please post an answer if you figured out a solution for other!  If not, please add more to your question so we can help!","body":"Please post an answer if you figured out a solution for other!  If not, please add more to your question so we can help!"}],"answers":[{"tags":[],"owner":{"account_id":529467,"reputation":193,"user_id":8485541,"display_name":"Aman ZeeK Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1504962574,"creation_date":1504962574,"answer_id":46131050,"question_id":45868239,"body_markdown":"Posting solution to help others facing same problem,\r\n\r\nOn the lines of what @Hackerman said:\r\n\r\nMy wifi-extender was not capable to handle IPV6 translation. Always check the wifi-extender spec when encountered with similar problem.\r\n\r\nAs a solution/hack (if you HAVE to use IPV4-only router) use following when starting java\r\n\r\n    -DpreferIPv4Stack","title":"api.api.ai: Temporary failure in name resolution","body":"<p>Posting solution to help others facing same problem,</p>\n\n<p>On the lines of what @Hackerman said:</p>\n\n<p>My wifi-extender was not capable to handle IPV6 translation. Always check the wifi-extender spec when encountered with similar problem.</p>\n\n<p>As a solution/hack (if you HAVE to use IPV4-only router) use following when starting java</p>\n\n<pre><code>-DpreferIPv4Stack\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693977250,"creation_date":1693977250,"answer_id":77049157,"question_id":45868239,"body_markdown":"If you are using ubuntu system then just Disable IPv6 using GRUB and update details.\r\n\r\n     sudo nano /etc/default/grub\r\n     \r\nupdate details:\r\n\r\n     GRUB_CMDLINE_LINUX_DEFAULT=”ipv6.disable=1 quiet splash”\r\n     \r\n     GRUB_CMDLINE_LINUX=”ipv6.disable=1″\r\n\r\nAfter updating changes use command\r\n    \r\n     sudo update-grub\r\n\r\nFollow link for more details - [link][1] \r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/how-to-disable-ipv6-in-linux/","title":"api.api.ai: Temporary failure in name resolution","body":"<p>If you are using ubuntu system then just Disable IPv6 using GRUB and update details.</p>\n<pre><code> sudo nano /etc/default/grub\n \n</code></pre>\n<p>update details:</p>\n<pre><code> GRUB_CMDLINE_LINUX_DEFAULT=”ipv6.disable=1 quiet splash”\n \n GRUB_CMDLINE_LINUX=”ipv6.disable=1″\n</code></pre>\n<p>After updating changes use command</p>\n<pre><code> sudo update-grub\n</code></pre>\n<p>Follow link for more details - <a href=\"https://www.geeksforgeeks.org/how-to-disable-ipv6-in-linux/\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":529467,"reputation":193,"user_id":8485541,"display_name":"Aman ZeeK Verma"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13689,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46131050,"answer_count":2,"score":5,"last_activity_date":1693977250,"creation_date":1503597935,"question_id":45868239,"body_markdown":"With my code (shown below), I get proper result *randomly*. But most of the time I get error.\r\n\r\nEXCEPTION: \r\n\r\n    java.net.UnknownHostException: api.api.ai: Temporary failure in name resolution\r\n\tat java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\r\n\tat java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:928)\r\n    ..&lt;snip&gt;...\r\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\r\n    at PostJSON.main(PostJSON.java:34)\r\n\r\n\r\nSSCCE CODE:\r\n\r\n    private static final String URL = &quot;https://api.api.ai/v1/query?v=20150910&quot;;\r\n\tprivate static final String ACCESS_CODE = &quot;XXXXXX&quot;;\r\n\tpublic static final HttpClient client = HttpClientBuilder.create().build();\r\n\tpublic static final HttpPost httppost = new HttpPost(URL);\r\n\r\n\tprivate static final String str_json = &quot;{ query: \\&quot;how are you\\&quot;, lang: \\&quot;en\\&quot;, sessionId: \\&quot;somerandomthing\\&quot; }&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tHttpEntity entity = new ByteArrayEntity(str_json.getBytes(&quot;UTF-8&quot;));\r\n\t\t\thttppost.setHeader(&quot;Content-Type&quot;,\r\n\t\t\t\t\t&quot;application/json; charset=utf-8&quot;);\r\n\t\t\thttppost.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + ACCESS_CODE);\r\n\t\t\thttppost.setEntity(entity);\r\n\t\t\tHttpResponse response = client.execute(httppost);\r\n\t\t\tString result = EntityUtils.toString(response.getEntity());\r\n\t\t\tSystem.out.println(result);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t} \r\n\t}\r\n\r\nNSLOOKUP:\r\n\r\n    zeek@zeek:$ nslookup api.ai.ai\r\n    Server:\t\t127.0.1.1  \r\n    Address:\t127.0.1.1#53\r\n    \r\n    Non-authoritative answer:  \r\n    Name:\tapi.ai.ai  \r\n    Address: 92.242.140.21\r\n\r\n/ETC/HOSTS\r\n\r\n    127.0.0.1\tlocalhost\r\n    127.0.1.1\tzeek\r\n    \r\n    # The following lines are desirable for IPv6 capable hosts\r\n    ::1     ip6-localhost ip6-loopback\r\n    fe00::0 ip6-localnet\r\n    ff00::0 ip6-mcastprefix\r\n    ff02::1 ip6-allnodes\r\n    ff02::2 ip6-allrouters\r\n\r\nNote: It does work sometime.\r\n\r\nPlease suggest what setting/config should I be checking from my side.\r\n\r\nalso note, my ping to api.api.ai works fine.","title":"api.api.ai: Temporary failure in name resolution","body":"<p>With my code (shown below), I get proper result <em>randomly</em>. But most of the time I get error.</p>\n\n<p>EXCEPTION: </p>\n\n<pre><code>java.net.UnknownHostException: api.api.ai: Temporary failure in name resolution\nat java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\nat java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:928)\n..&lt;snip&gt;...\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\nat PostJSON.main(PostJSON.java:34)\n</code></pre>\n\n<p>SSCCE CODE:</p>\n\n<pre><code>private static final String URL = \"https://api.api.ai/v1/query?v=20150910\";\nprivate static final String ACCESS_CODE = \"XXXXXX\";\npublic static final HttpClient client = HttpClientBuilder.create().build();\npublic static final HttpPost httppost = new HttpPost(URL);\n\nprivate static final String str_json = \"{ query: \\\"how are you\\\", lang: \\\"en\\\", sessionId: \\\"somerandomthing\\\" }\";\n\npublic static void main(String[] args) {\n\n    try {\n\n        HttpEntity entity = new ByteArrayEntity(str_json.getBytes(\"UTF-8\"));\n        httppost.setHeader(\"Content-Type\",\n                \"application/json; charset=utf-8\");\n        httppost.setHeader(\"Authorization\", \"Bearer \" + ACCESS_CODE);\n        httppost.setEntity(entity);\n        HttpResponse response = client.execute(httppost);\n        String result = EntityUtils.toString(response.getEntity());\n        System.out.println(result);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    } \n}\n</code></pre>\n\n<p>NSLOOKUP:</p>\n\n<pre><code>zeek@zeek:$ nslookup api.ai.ai\nServer:     127.0.1.1  \nAddress:    127.0.1.1#53\n\nNon-authoritative answer:  \nName:   api.ai.ai  \nAddress: 92.242.140.21\n</code></pre>\n\n<p>/ETC/HOSTS</p>\n\n<pre><code>127.0.0.1   localhost\n127.0.1.1   zeek\n\n# The following lines are desirable for IPv6 capable hosts\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n</code></pre>\n\n<p>Note: It does work sometime.</p>\n\n<p>Please suggest what setting/config should I be checking from my side.</p>\n\n<p>also note, my ping to api.api.ai works fine.</p>\n"},{"tags":["java","spring-boot","encryption","jdbc","tomcat9"],"comments":[{"owner":{"account_id":12359057,"reputation":103,"user_id":9013909,"display_name":"RancidCrab"},"score":0,"creation_date":1693936867,"post_id":77046688,"comment_id":135824525,"body_markdown":"Where are you going to host your app? The large cloud providers all offer managed secret handling like AWS Secrets Manager.","body":"Where are you going to host your app? The large cloud providers all offer managed secret handling like AWS Secrets Manager."},{"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"score":0,"creation_date":1693937356,"post_id":77046688,"comment_id":135824609,"body_markdown":"@RancidCrab The application will be running in an Ubuntu environment hosted in AWS. Storing a secret isn&#39;t the problem, I need to figure out how to access that data in the context of my application.","body":"@RancidCrab The application will be running in an Ubuntu environment hosted in AWS. Storing a secret isn&#39;t the problem, I need to figure out how to access that data in the context of my application."},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":5,"creation_date":1693938278,"post_id":77046688,"comment_id":135824738,"body_markdown":"Call the Java impl of the AWS Secrets Manager API https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/secretsmanager/SecretsManagerClient.html#getSecretValue(software.amazon.awssdk.services.secretsmanager.model.GetSecretValueRequest)","body":"Call the Java impl of the AWS Secrets Manager API <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/secretsmanager/SecretsManagerClient.html#getSecretValue(software.amazon.awssdk.services.secretsmanager.model.GetSecretValueRequest)\" rel=\"nofollow noreferrer\">sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/&hellip;</a>"},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1696344088,"post_id":77046688,"comment_id":136138982,"body_markdown":"You may add more context and limitations. `Jasyp` is safe and good enough for most of the cases. Then the question is - where/how do you store and configure the decryption key. usually it has to be part of the environment parameters (variable, ...). . When using an external service (AWS SecretManager, Azure KeyVault, ...)  you need to store thes service credentials somewhere too.. (except when running on the cloud, when a runtime role could be used).","body":"You may add more context and limitations. <code>Jasyp</code> is safe and good enough for most of the cases. Then the question is - where/how do you store and configure the decryption key. usually it has to be part of the environment parameters (variable, ...). . When using an external service (AWS SecretManager, Azure KeyVault, ...)  you need to store thes service credentials somewhere too.. (except when running on the cloud, when a runtime role could be used)."}],"answers":[{"tags":[],"owner":{"account_id":29241064,"reputation":26,"user_id":22402580,"display_name":"linden"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693977176,"creation_date":1693977176,"answer_id":77049153,"question_id":77046688,"body_markdown":"Just to elaborate more, the answer given by Richard is 100% valid, and not only we can use AWS Secret Manager to secure sensitive data but also vaults like HashiCorp, or if budget/requirement permits we can use a solution based on HSM (Hardware security module) which could be overkill.\r\n\r\nLimitations given by you are not a problem cause this is the standard procedure for deployment of application WAR.\r\n\r\nBut if you have decided that you want to encrypt the Sensitive data what you can do is.\r\n\r\nEncrypt the sensitive data using Some encryption algorithm and save the actual key in AWS secret manager itself. Post deployment of the application when you have access to your AWS secrets manager from your code, you can always ask for an encryption key from the secrets manager and decrypt your data on the fly.\r\n\r\nThis again has one issue where in the above operation we are assuming our AWS secret credentials are safe in the first place. (standard chicken and egg problem)\r\n\r\nAs you can see there&#39;s no one solution fits all scenario. One needs to make sure that we follow all the standards related to maintaining sensitive data at every level. (key rotation, monitoring, service authorization, auditing ...the list goes on)\r\n\r\nHope this helps. Thanks.","title":"How to encrypt/decrypt sensitive properties in a Tomcat web application","body":"<p>Just to elaborate more, the answer given by Richard is 100% valid, and not only we can use AWS Secret Manager to secure sensitive data but also vaults like HashiCorp, or if budget/requirement permits we can use a solution based on HSM (Hardware security module) which could be overkill.</p>\n<p>Limitations given by you are not a problem cause this is the standard procedure for deployment of application WAR.</p>\n<p>But if you have decided that you want to encrypt the Sensitive data what you can do is.</p>\n<p>Encrypt the sensitive data using Some encryption algorithm and save the actual key in AWS secret manager itself. Post deployment of the application when you have access to your AWS secrets manager from your code, you can always ask for an encryption key from the secrets manager and decrypt your data on the fly.</p>\n<p>This again has one issue where in the above operation we are assuming our AWS secret credentials are safe in the first place. (standard chicken and egg problem)</p>\n<p>As you can see there's no one solution fits all scenario. One needs to make sure that we follow all the standards related to maintaining sensitive data at every level. (key rotation, monitoring, service authorization, auditing ...the list goes on)</p>\n<p>Hope this helps. Thanks.</p>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693977176,"creation_date":1693935815,"question_id":77046688,"body_markdown":"I&#39;m working on moving a java web application from development to pre-production. As part of that process, there are some fields in the tomcat &#39;application.properties&#39; file like the database password and API tokens that need to be encrypted. I&#39;m struggling to find a secure way to do this. I was originally planning on using [Jasypt][1], but from what I can tell, that library hasn&#39;t seen a substantial update in several years. I&#39;m not sure what the alternatives are. The best I can come up with is querying a stored private key variable from gitlab, but I would still need to figure out how to actually do the encryption/decription.\r\n\r\nAny help or suggestions would be appreciated.\r\n\r\nSome notes about the limitations I&#39;m working with:\r\n\r\n - The application is compiled as a WAR and then copied to the webapps directory of the tomcat server.\r\n - Tomcat is being started/stopped as a service using a systemctl command.\r\n - Eventually, the deployment will be done as part of a CI pipline, but for now I need to be able to build and deploy manually from a local environment.\r\n\r\n \r\n\r\n\r\n  [1]: http://www.jasypt.org/","title":"How to encrypt/decrypt sensitive properties in a Tomcat web application","body":"<p>I'm working on moving a java web application from development to pre-production. As part of that process, there are some fields in the tomcat 'application.properties' file like the database password and API tokens that need to be encrypted. I'm struggling to find a secure way to do this. I was originally planning on using <a href=\"http://www.jasypt.org/\" rel=\"nofollow noreferrer\">Jasypt</a>, but from what I can tell, that library hasn't seen a substantial update in several years. I'm not sure what the alternatives are. The best I can come up with is querying a stored private key variable from gitlab, but I would still need to figure out how to actually do the encryption/decription.</p>\n<p>Any help or suggestions would be appreciated.</p>\n<p>Some notes about the limitations I'm working with:</p>\n<ul>\n<li>The application is compiled as a WAR and then copied to the webapps directory of the tomcat server.</li>\n<li>Tomcat is being started/stopped as a service using a systemctl command.</li>\n<li>Eventually, the deployment will be done as part of a CI pipline, but for now I need to be able to build and deploy manually from a local environment.</li>\n</ul>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693952814,"post_id":77047972,"comment_id":135826911,"body_markdown":"In the processConnect method of NonBlockingClientRead, add some println statements to inform you of whether the method is returning and what value it is returning.","body":"In the processConnect method of NonBlockingClientRead, add some println statements to inform you of whether the method is returning and what value it is returning."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1693952917,"post_id":77047972,"comment_id":135826927,"body_markdown":"I added those println messages and it works for me.  Can you characterize better why you think this code doesn&#39;t work?  (The code does have a problem when the client closes its connection, but that&#39;s not directly the problem here.)","body":"I added those println messages and it works for me.  Can you characterize better why you think this code doesn&#39;t work?  (The code does have a problem when the client closes its connection, but that&#39;s not directly the problem here.)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1693955998,"post_id":77047972,"comment_id":135827213,"body_markdown":"You should not register for `SelectionKey.OP_READ | SelectionKey.OP_WRITE);``OP_WRITE` is true as long as there is space in the send buffer, which is nearly always the case. You only use `OP_WRITE` after a zero-length write, and you stop using it immediately the send buffer starts accepting writes again. And after processing `OP_CONNECT` successfully you should remove it from the key&#39;s `interestOps`.","body":"You should not register for <code>SelectionKey.OP_READ | SelectionKey.OP_WRITE);``OP_WRITE</code> is true as long as there is space in the send buffer, which is nearly always the case. You only use <code>OP_WRITE</code> after a zero-length write, and you stop using it immediately the send buffer starts accepting writes again. And after processing <code>OP_CONNECT</code> successfully you should remove it from the key&#39;s <code>interestOps</code>."}],"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693976567,"answer_count":0,"score":0,"last_activity_date":1693976709,"creation_date":1693951111,"question_id":77047972,"body_markdown":"I have Socket server using non-blocking sockets:\r\n\r\n    public class NonBlockingMessageQueue implements MessageQueue {\r\n    \r\n        private final Map&lt;SelectionKey, LocalDateTime&gt; keyMap = new HashMap&lt;&gt;();\r\n        private final List&lt;String&gt; messages = new ArrayList&lt;&gt;();\r\n    \r\n        private Selector selector;\r\n        private ServerSocketChannel serverSocketChannel;\r\n    \r\n        @Override\r\n        public void start(int port) {\r\n            try {\r\n                initSelector();\r\n                listenToSockets();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        private void initSelector() throws IOException {\r\n            this.selector = Selector.open();\r\n            this.serverSocketChannel = ServerSocketChannel.open();\r\n            serverSocketChannel.configureBlocking(false);\r\n    \r\n            InetAddress ip = InetAddress.getByName(&quot;localhost&quot;);\r\n            serverSocketChannel.bind(new InetSocketAddress(ip, 1234));\r\n            serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\r\n        }\r\n    \r\n        private void listenToSockets() throws IOException {\r\n            while (true) {\r\n                if (selector.select() &lt;= 0)\r\n                    continue;\r\n                Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\r\n                Iterator&lt;SelectionKey&gt; iterator = selectedKeys.iterator();\r\n                while (iterator.hasNext()) {\r\n                    SelectionKey key = iterator.next();\r\n                    iterator.remove();\r\n                    keyMap.put(key, LocalDateTime.now());\r\n                    if (key.isAcceptable()) {\r\n                        SocketChannel sc = serverSocketChannel.accept();\r\n                        sc.configureBlocking(false);\r\n                        sc.register(selector, SelectionKey.OP_READ | SelectionKey.OP_WRITE);\r\n                        System.out.println(&quot;Connection Accepted: &quot; + sc.getLocalAddress() + &quot;n&quot;);\r\n                    }\r\n    \r\n                    if (key.isReadable()) {\r\n                        boolean exists = keyMap.containsKey(key);\r\n                        SocketChannel sc = (SocketChannel) key.channel();\r\n                        ByteBuffer bb = ByteBuffer.allocate(1024);\r\n                        sc.read(bb);\r\n                        String result = new String(bb.array()).trim();\r\n                        messages.add(result);\r\n    \r\n    \r\n                        for( SelectionKey channel : keyMap.keySet()) {\r\n                            try {\r\n                                SelectableChannel chan = channel.channel();\r\n                                if( (chan.validOps() &amp; SelectionKey.OP_WRITE ) &gt; 0) {\r\n                                    ByteBuffer bbb = ByteBuffer.wrap(messages.get(0).getBytes());\r\n                                                                 ((SocketChannel)chan).write(bbb);\r\n                                }\r\n                            }catch (Throwable e ){\r\n                                System.out.println(&quot;Error &quot; + e);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd then i have two clients, one for writing and one for reading:\r\n\r\n\r\n        public class NonBlockingClientWrite {\r\n            private static BufferedReader input = null;\r\n            public static void main(String[] args) throws Exception {\r\n                InetSocketAddress addr = new InetSocketAddress(\r\n                        InetAddress.getByName(&quot;localhost&quot;), 1234);\r\n                Selector selector = Selector.open();\r\n                SocketChannel sc = SocketChannel.open();\r\n                sc.configureBlocking(false);\r\n                sc.connect(addr);\r\n                sc.register(selector, SelectionKey.OP_CONNECT | SelectionKey.OP_WRITE);\r\n                input = new BufferedReader(new InputStreamReader(System.in));\r\n                while (true) {\r\n                    if (selector.select() &gt; 0) {\r\n                        Boolean doneStatus = processReadySet\r\n                                (selector.selectedKeys());\r\n                        if (doneStatus) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                sc.close();\r\n            }\r\n            public static Boolean processReadySet(Set readySet)\r\n                    throws Exception {\r\n                SelectionKey key = null;\r\n                Iterator iterator = null;\r\n                iterator = readySet.iterator();\r\n                while (iterator.hasNext()) {\r\n                    key = (SelectionKey) iterator.next();\r\n                    iterator.remove();\r\n                }\r\n                if (key.isConnectable()) {\r\n                    Boolean connected = processConnect(key);\r\n                    if (!connected) {\r\n                        return true;\r\n                    }\r\n                }\r\n                if (key.isWritable()) {\r\n                    System.out.print(&quot;Type a message (type quit to stop): &quot;);\r\n                    String msg = input.readLine();\r\n                    if (msg.equalsIgnoreCase(&quot;quit&quot;)) {\r\n                        return true;\r\n                    }\r\n                    SocketChannel sc = (SocketChannel) key.channel();\r\n                    ByteBuffer bb = ByteBuffer.wrap(msg.getBytes());\r\n                    sc.write(bb);\r\n                }\r\n                return false;\r\n            }\r\n            public static Boolean processConnect(SelectionKey key) {\r\n                SocketChannel sc = (SocketChannel) key.channel();\r\n                try {\r\n                    while (sc.isConnectionPending()) {\r\n                        sc.finishConnect();\r\n                    }\r\n                } catch (IOException e) {\r\n                    key.cancel();\r\n                    e.printStackTrace();\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n    \r\n\r\nAnd read:\r\n\r\n    \r\n    public class NonBlockingClientRead {\r\n        private static BufferedReader input = null;\r\n        public static void main(String[] args) throws Exception {\r\n            InetSocketAddress addr = new InetSocketAddress(InetAddress.getByName(&quot;localhost&quot;), 1234);\r\n            Selector selector = Selector.open();\r\n            SocketChannel sc = SocketChannel.open();\r\n            sc.configureBlocking(false);\r\n            sc.connect(addr);\r\n            sc.register(selector, SelectionKey.OP_CONNECT | SelectionKey.OP_READ);\r\n            while (true) {\r\n                if (selector.select() &gt; 0) {\r\n                    Boolean doneStatus = processReadySet(selector.selectedKeys());\r\n                    if (doneStatus) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            sc.close();\r\n        }\r\n        public static Boolean processReadySet(Set readySet) throws Exception {\r\n            SelectionKey key = null;\r\n            Iterator iterator = null;\r\n            iterator = readySet.iterator();\r\n            while (iterator.hasNext()) {\r\n                key = (SelectionKey) iterator.next();\r\n                iterator.remove();\r\n            }\r\n            if (key.isConnectable()) {\r\n                Boolean connected = processConnect(key);\r\n                if (!connected) {\r\n                    return true;\r\n                }\r\n            }\r\n            if (key.isReadable()) {\r\n                SocketChannel sc = (SocketChannel) key.channel();\r\n                ByteBuffer bb = ByteBuffer.allocate(1024);\r\n                sc.read(bb);\r\n                String result = new String(bb.array()).trim();\r\n                System.out.println(&quot;Message received from Server: &quot; + result + &quot; Message length= &quot;\r\n                        + result.length());\r\n            }\r\n            return false;\r\n        }\r\n        public static Boolean processConnect(SelectionKey key) {\r\n            SocketChannel sc = (SocketChannel) key.channel();\r\n            try {\r\n                while (sc.isConnectionPending()) {\r\n                    sc.finishConnect();\r\n                }\r\n            } catch (IOException e) {\r\n                key.cancel();\r\n                e.printStackTrace();\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\nBasicly, whenever i receive message from write client, i want to send it to read server ( the most primitive MQ example), however whenver i send data to the client, it is not receiving any messages, why?\r\n\r\nAlso \r\n  1) when i store the `SelectionKey` in a map , i have two types ,`SocketChannel` and `ServerSocketChannelImpl` , where does the `ServerSocketChannelImpl` comes from?\r\n\r\n[![enter image description here][1]][1]\r\n  \r\n  2) When i check ops for writing the socket, both `SocketChannel` in map ( i assume they are from clients have OP_WRITE flag set , e.g\r\n\r\n    chan.validOps() &amp; SelectionKey.OP_WRITE \r\n\r\nresults true for both of them , even tho i explicitly set one for `OP_READ` and one for `OP_WRITE`, how is this possible?\r\n\r\n 3) if i add `if( key.isWritable())` in server logic, it always goes into this branch, white? I assume `isReadable()` is true only when there is message in channel, so what is the purpose of `isWritable()` if we send directly messages with `channel.write(buffer)` ? And why is it always true? \r\n\r\nThanks for help!\r\n\r\n  [1]: https://i.stack.imgur.com/KOJwI.png","title":"Non blocking sockets arent receiving any writes from server","body":"<p>I have Socket server using non-blocking sockets:</p>\n<pre><code>public class NonBlockingMessageQueue implements MessageQueue {\n\n    private final Map&lt;SelectionKey, LocalDateTime&gt; keyMap = new HashMap&lt;&gt;();\n    private final List&lt;String&gt; messages = new ArrayList&lt;&gt;();\n\n    private Selector selector;\n    private ServerSocketChannel serverSocketChannel;\n\n    @Override\n    public void start(int port) {\n        try {\n            initSelector();\n            listenToSockets();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void initSelector() throws IOException {\n        this.selector = Selector.open();\n        this.serverSocketChannel = ServerSocketChannel.open();\n        serverSocketChannel.configureBlocking(false);\n\n        InetAddress ip = InetAddress.getByName(&quot;localhost&quot;);\n        serverSocketChannel.bind(new InetSocketAddress(ip, 1234));\n        serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\n    }\n\n    private void listenToSockets() throws IOException {\n        while (true) {\n            if (selector.select() &lt;= 0)\n                continue;\n            Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\n            Iterator&lt;SelectionKey&gt; iterator = selectedKeys.iterator();\n            while (iterator.hasNext()) {\n                SelectionKey key = iterator.next();\n                iterator.remove();\n                keyMap.put(key, LocalDateTime.now());\n                if (key.isAcceptable()) {\n                    SocketChannel sc = serverSocketChannel.accept();\n                    sc.configureBlocking(false);\n                    sc.register(selector, SelectionKey.OP_READ | SelectionKey.OP_WRITE);\n                    System.out.println(&quot;Connection Accepted: &quot; + sc.getLocalAddress() + &quot;n&quot;);\n                }\n\n                if (key.isReadable()) {\n                    boolean exists = keyMap.containsKey(key);\n                    SocketChannel sc = (SocketChannel) key.channel();\n                    ByteBuffer bb = ByteBuffer.allocate(1024);\n                    sc.read(bb);\n                    String result = new String(bb.array()).trim();\n                    messages.add(result);\n\n\n                    for( SelectionKey channel : keyMap.keySet()) {\n                        try {\n                            SelectableChannel chan = channel.channel();\n                            if( (chan.validOps() &amp; SelectionKey.OP_WRITE ) &gt; 0) {\n                                ByteBuffer bbb = ByteBuffer.wrap(messages.get(0).getBytes());\n                                                             ((SocketChannel)chan).write(bbb);\n                            }\n                        }catch (Throwable e ){\n                            System.out.println(&quot;Error &quot; + e);\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>And then i have two clients, one for writing and one for reading:</p>\n<pre><code>    public class NonBlockingClientWrite {\n        private static BufferedReader input = null;\n        public static void main(String[] args) throws Exception {\n            InetSocketAddress addr = new InetSocketAddress(\n                    InetAddress.getByName(&quot;localhost&quot;), 1234);\n            Selector selector = Selector.open();\n            SocketChannel sc = SocketChannel.open();\n            sc.configureBlocking(false);\n            sc.connect(addr);\n            sc.register(selector, SelectionKey.OP_CONNECT | SelectionKey.OP_WRITE);\n            input = new BufferedReader(new InputStreamReader(System.in));\n            while (true) {\n                if (selector.select() &gt; 0) {\n                    Boolean doneStatus = processReadySet\n                            (selector.selectedKeys());\n                    if (doneStatus) {\n                        break;\n                    }\n                }\n            }\n            sc.close();\n        }\n        public static Boolean processReadySet(Set readySet)\n                throws Exception {\n            SelectionKey key = null;\n            Iterator iterator = null;\n            iterator = readySet.iterator();\n            while (iterator.hasNext()) {\n                key = (SelectionKey) iterator.next();\n                iterator.remove();\n            }\n            if (key.isConnectable()) {\n                Boolean connected = processConnect(key);\n                if (!connected) {\n                    return true;\n                }\n            }\n            if (key.isWritable()) {\n                System.out.print(&quot;Type a message (type quit to stop): &quot;);\n                String msg = input.readLine();\n                if (msg.equalsIgnoreCase(&quot;quit&quot;)) {\n                    return true;\n                }\n                SocketChannel sc = (SocketChannel) key.channel();\n                ByteBuffer bb = ByteBuffer.wrap(msg.getBytes());\n                sc.write(bb);\n            }\n            return false;\n        }\n        public static Boolean processConnect(SelectionKey key) {\n            SocketChannel sc = (SocketChannel) key.channel();\n            try {\n                while (sc.isConnectionPending()) {\n                    sc.finishConnect();\n                }\n            } catch (IOException e) {\n                key.cancel();\n                e.printStackTrace();\n                return false;\n            }\n            return true;\n        }\n    }\n</code></pre>\n<p>And read:</p>\n<pre><code>public class NonBlockingClientRead {\n    private static BufferedReader input = null;\n    public static void main(String[] args) throws Exception {\n        InetSocketAddress addr = new InetSocketAddress(InetAddress.getByName(&quot;localhost&quot;), 1234);\n        Selector selector = Selector.open();\n        SocketChannel sc = SocketChannel.open();\n        sc.configureBlocking(false);\n        sc.connect(addr);\n        sc.register(selector, SelectionKey.OP_CONNECT | SelectionKey.OP_READ);\n        while (true) {\n            if (selector.select() &gt; 0) {\n                Boolean doneStatus = processReadySet(selector.selectedKeys());\n                if (doneStatus) {\n                    break;\n                }\n            }\n        }\n        sc.close();\n    }\n    public static Boolean processReadySet(Set readySet) throws Exception {\n        SelectionKey key = null;\n        Iterator iterator = null;\n        iterator = readySet.iterator();\n        while (iterator.hasNext()) {\n            key = (SelectionKey) iterator.next();\n            iterator.remove();\n        }\n        if (key.isConnectable()) {\n            Boolean connected = processConnect(key);\n            if (!connected) {\n                return true;\n            }\n        }\n        if (key.isReadable()) {\n            SocketChannel sc = (SocketChannel) key.channel();\n            ByteBuffer bb = ByteBuffer.allocate(1024);\n            sc.read(bb);\n            String result = new String(bb.array()).trim();\n            System.out.println(&quot;Message received from Server: &quot; + result + &quot; Message length= &quot;\n                    + result.length());\n        }\n        return false;\n    }\n    public static Boolean processConnect(SelectionKey key) {\n        SocketChannel sc = (SocketChannel) key.channel();\n        try {\n            while (sc.isConnectionPending()) {\n                sc.finishConnect();\n            }\n        } catch (IOException e) {\n            key.cancel();\n            e.printStackTrace();\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>Basicly, whenever i receive message from write client, i want to send it to read server ( the most primitive MQ example), however whenver i send data to the client, it is not receiving any messages, why?</p>\n<p>Also</p>\n<ol>\n<li>when i store the <code>SelectionKey</code> in a map , i have two types ,<code>SocketChannel</code> and <code>ServerSocketChannelImpl</code> , where does the <code>ServerSocketChannelImpl</code> comes from?</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/KOJwI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KOJwI.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>When i check ops for writing the socket, both <code>SocketChannel</code> in map ( i assume they are from clients have OP_WRITE flag set , e.g</li>\n</ol>\n<pre><code>chan.validOps() &amp; SelectionKey.OP_WRITE \n</code></pre>\n<p>results true for both of them , even tho i explicitly set one for <code>OP_READ</code> and one for <code>OP_WRITE</code>, how is this possible?</p>\n<ol start=\"3\">\n<li>if i add <code>if( key.isWritable())</code> in server logic, it always goes into this branch, white? I assume <code>isReadable()</code> is true only when there is message in channel, so what is the purpose of <code>isWritable()</code> if we send directly messages with <code>channel.write(buffer)</code> ? And why is it always true?</li>\n</ol>\n<p>Thanks for help!</p>\n"},{"tags":["java","android","gradle","build","butterknife"],"answers":[{"tags":[],"owner":{"account_id":14096747,"reputation":696,"user_id":10183294,"display_name":"SVK"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1614315599,"creation_date":1614315599,"answer_id":66380380,"question_id":66380187,"body_markdown":"Please note that, as per official documentation the Butter Knife tool is now deprecated.  \r\n And they have recommended to switch to [View Binding](https://developer.android.com/topic/libraries/view-binding). \r\n\r\nHence, I request you to revisit your decision of using Butter Knife.\r\n\r\nAnd in your gradle files, please ensure that below lines are added properly.  \r\nAdd these changes and then click on File &gt; Invalidate Cache and Restart in Android Studio.\r\n\r\n```\r\nandroid {\r\n  ...\r\n  // Butterknife requires Java 8.\r\n  compileOptions {\r\n    sourceCompatibility JavaVersion.VERSION_1_8\r\n    targetCompatibility JavaVersion.VERSION_1_8\r\n  }\r\n}\r\n```\r\nDependency\r\n```\r\ndependencies {\r\n  implementation &#39;com.jakewharton:butterknife:10.2.3&#39;\r\n  annotationProcessor &#39;com.jakewharton:butterknife-compiler:10.2.3&#39;\r\n}\r\n```\r\nIf you are using Kotlin, replace annotationProcessor with kapt.\r\n\r\nAnd to use Butter Knife in a library, please follow the steps provided in section **Library Projects** inside [official documentation](https://github.com/JakeWharton/butterknife)","title":"not able to build android project with butterknife dependency","body":"<p>Please note that, as per official documentation the Butter Knife tool is now deprecated.<br />\nAnd they have recommended to switch to <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">View Binding</a>.</p>\n<p>Hence, I request you to revisit your decision of using Butter Knife.</p>\n<p>And in your gradle files, please ensure that below lines are added properly.<br />\nAdd these changes and then click on File &gt; Invalidate Cache and Restart in Android Studio.</p>\n<pre><code>android {\n  ...\n  // Butterknife requires Java 8.\n  compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n  }\n}\n</code></pre>\n<p>Dependency</p>\n<pre><code>dependencies {\n  implementation 'com.jakewharton:butterknife:10.2.3'\n  annotationProcessor 'com.jakewharton:butterknife-compiler:10.2.3'\n}\n</code></pre>\n<p>If you are using Kotlin, replace annotationProcessor with kapt.</p>\n<p>And to use Butter Knife in a library, please follow the steps provided in section <strong>Library Projects</strong> inside <a href=\"https://github.com/JakeWharton/butterknife\" rel=\"nofollow noreferrer\">official documentation</a></p>\n"}],"owner":{"display_name":"user14979907"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7078,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66380380,"answer_count":1,"score":3,"last_activity_date":1693976553,"creation_date":1614314157,"question_id":66380187,"body_markdown":"I am not able to build android project due to error of butterknife dependency.\r\n\r\nERROR\r\n\r\n&gt; Execution failed for task &#39;:app:javaPreCompileDebug&#39;.\r\n&gt; &gt; Could not resolve all files for configuration &#39;:app:debugAnnotationProcessorClasspath&#39;.\r\n&gt;    &gt; Failed to transform butterknife-compiler-8.6.0.jar (com.jakewharton:butterknife-compiler:8.6.0) to match attributes\r\n&gt; {artifactType=processed-jar, org.gradle.category=library,\r\n&gt; org.gradle.libraryelements=jar, org.gradle.status=release,\r\n&gt; org.gradle.usage=java-runtime}.\r\n&gt;       &gt; Execution failed for JetifyTransform: /Users/jordan/.gradle/caches/modules-2/files-2.1/com.jakewharton/butterknife-compiler/8.6.0/d3defb48a63aa0591117d0cec09f47a13fffda19/butterknife-compiler-8.6.0.jar.\r\n&gt;          &gt; Failed to transform &#39;/Users/jordan/.gradle/caches/modules-2/files-2.1/com.jakewharton/butterknife-compiler/8.6.0/d3defb48a63aa0591117d0cec09f47a13fffda19/butterknife-compiler-8.6.0.jar&#39;\r\n&gt; using Jetifier. Reason: AmbiguousStringJetifierException, message: The\r\n&gt; given artifact contains a string literal with a package reference\r\n&gt; &#39;android.support.v4.content&#39; that cannot be safely rewritten.\r\n&gt; Libraries using reflection such as annotation processors need to be\r\n&gt; updated manually to add support for androidx.. (Run with --stacktrace\r\n&gt; for more details.)\r\n&gt;            This is a known exception, and Jetifier won&#39;t be able to jetify this library.\r\n&gt;            Suggestions:\r\n&gt;             - If you believe this library doesn&#39;t need to be jetified (e.g., if it already supports AndroidX, or if it doesn&#39;t use support\r\n&gt; libraries/AndroidX at all), add android.jetifier.blacklist =\r\n&gt; {comma-separated list of regular expressions (or simply names) of the\r\n&gt; libraries that you don&#39;t want to be jetified} to the gradle.properties\r\n&gt; file.\r\n&gt;             - If you believe this library needs to be jetified (e.g., if it uses old support libraries and breaks your app if it isn&#39;t\r\n&gt; jetified), contact the library&#39;s authors to update this library to\r\n&gt; support AndroidX and use the supported version once it is released.\r\n&gt;            If you need further help, please leave a comment at \r\n\r\n\r\nDependency in Gradle Build File in App Level\r\n\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n        implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n        implementation &#39;androidx.recyclerview:recyclerview:1.2.0-beta02&#39;\r\n        implementation &#39;com.melnykov:floatingactionbutton:1.3.0&#39;\r\n      //  implementation &#39;com.android.support:design:28.0.0&#39;\r\n     //   implementation &#39;com.android.support:support-v13:28.0.0&#39;\r\n        implementation &#39;com.jpardogo.materialtabstrip:library:1.0.6&#39;\r\n        implementation &#39;com.jakewharton:butterknife:8.6.0&#39;\r\n        annotationProcessor &#39;com.jakewharton:butterknife-compiler:8.6.0&#39;\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nhow should I resolve it ?\r\n","title":"not able to build android project with butterknife dependency","body":"<p>I am not able to build android project due to error of butterknife dependency.</p>\n<p>ERROR</p>\n<blockquote>\n<p>Execution failed for task ':app:javaPreCompileDebug'.</p>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:debugAnnotationProcessorClasspath'.\nFailed to transform butterknife-compiler-8.6.0.jar (com.jakewharton:butterknife-compiler:8.6.0) to match attributes\n{artifactType=processed-jar, org.gradle.category=library,\norg.gradle.libraryelements=jar, org.gradle.status=release,\norg.gradle.usage=java-runtime}.\n&gt; Execution failed for JetifyTransform: /Users/jordan/.gradle/caches/modules-2/files-2.1/com.jakewharton/butterknife-compiler/8.6.0/d3defb48a63aa0591117d0cec09f47a13fffda19/butterknife-compiler-8.6.0.jar.\n&gt; Failed to transform '/Users/jordan/.gradle/caches/modules-2/files-2.1/com.jakewharton/butterknife-compiler/8.6.0/d3defb48a63aa0591117d0cec09f47a13fffda19/butterknife-compiler-8.6.0.jar'\nusing Jetifier. Reason: AmbiguousStringJetifierException, message: The\ngiven artifact contains a string literal with a package reference\n'android.support.v4.content' that cannot be safely rewritten.\nLibraries using reflection such as annotation processors need to be\nupdated manually to add support for androidx.. (Run with --stacktrace\nfor more details.)\nThis is a known exception, and Jetifier won't be able to jetify this library.\nSuggestions:\n- If you believe this library doesn't need to be jetified (e.g., if it already supports AndroidX, or if it doesn't use support\nlibraries/AndroidX at all), add android.jetifier.blacklist =\n{comma-separated list of regular expressions (or simply names) of the\nlibraries that you don't want to be jetified} to the gradle.properties\nfile.\n- If you believe this library needs to be jetified (e.g., if it uses old support libraries and breaks your app if it isn't\njetified), contact the library's authors to update this library to\nsupport AndroidX and use the supported version once it is released.\nIf you need further help, please leave a comment at</p>\n</blockquote>\n</blockquote>\n<p>Dependency in Gradle Build File in App Level</p>\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.2.0-beta02'\n    implementation 'com.melnykov:floatingactionbutton:1.3.0'\n  //  implementation 'com.android.support:design:28.0.0'\n //   implementation 'com.android.support:support-v13:28.0.0'\n    implementation 'com.jpardogo.materialtabstrip:library:1.0.6'\n    implementation 'com.jakewharton:butterknife:8.6.0'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:8.6.0'\n\n\n\n}\n</code></pre>\n<p>how should I resolve it ?</p>\n"},{"tags":["java","algorithm","sorting","hashmap","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693949993,"creation_date":1693947982,"answer_id":77047747,"question_id":77047591,"body_markdown":"Your try-with-resources blocks are causing problems as try with resources closes the open `InputStream` when done (which one should not do with a Scanner for the console). Once a console Scanner is open, if you close it in the same program you won&#39;t be able to re-open it.\r\n\r\nTry the following to see this behavior.\r\n```\r\ntry (Scanner scanner = new Scanner(System.in)) {\r\n     System.out.print(&quot;Prompting for input:&quot;);\r\n     if (scanner.hasNextLine()) {\r\n         String s = scanner.nextLine();\r\n         System.out.println(s);\r\n     }         \r\n }\r\n try (Scanner scan = new Scanner(System.in)) {\r\n     System.out.print(&quot;Prompting for input again: &quot;);\r\n     if (scan.hasNextLine()) {\r\n         String s = scan.nextLine();\r\n         System.out.println(s);\r\n     }         \r\n }\r\n```\r\nJust use one scanner and pass it to the methods. And eliminate the try-with resources blocks.\r\n```\r\n// Prompt user input\r\nScanner scanner = new Scanner(System.in);\r\nSorter.getName(scanner);\r\nSorter.dict();\r\nSorter.counter(scanner);\r\n```\r\n","title":"How do I correct my Sorter methods to allow for more user input?","body":"<p>Your try-with-resources blocks are causing problems as try with resources closes the open <code>InputStream</code> when done (which one should not do with a Scanner for the console). Once a console Scanner is open, if you close it in the same program you won't be able to re-open it.</p>\n<p>Try the following to see this behavior.</p>\n<pre><code>try (Scanner scanner = new Scanner(System.in)) {\n     System.out.print(&quot;Prompting for input:&quot;);\n     if (scanner.hasNextLine()) {\n         String s = scanner.nextLine();\n         System.out.println(s);\n     }         \n }\n try (Scanner scan = new Scanner(System.in)) {\n     System.out.print(&quot;Prompting for input again: &quot;);\n     if (scan.hasNextLine()) {\n         String s = scan.nextLine();\n         System.out.println(s);\n     }         \n }\n</code></pre>\n<p>Just use one scanner and pass it to the methods. And eliminate the try-with resources blocks.</p>\n<pre><code>// Prompt user input\nScanner scanner = new Scanner(System.in);\nSorter.getName(scanner);\nSorter.dict();\nSorter.counter(scanner);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693976496,"creation_date":1693965508,"answer_id":77048615,"question_id":77047591,"body_markdown":"&gt; _&quot;... when I run the code, it asks for name input, but then it terminates right as it says to input a numeric value. ...&quot;_\r\n\r\nThis is because _scanner.hasNextLine_ is returning _false_ within the _counter_ method.\r\n\r\nAfter removing the condition, an exception will occur, from the _scanner.nextLine_ call.\r\n\r\n```none\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n\tat java.base/java.util.Scanner.nextLine(Scanner.java:1660)\r\n\tat Sorter.counter ...\r\n```\r\n\r\nThis is because you&#39;re _try-with-resources_ statements are closing the _static_ _[System#in](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#in)_ stream.\r\n\r\nUse a single _Scanner_ instance; place _scanner_ as a _static_ field of _Sorter_.  \r\nAnd, utilize this object in _getName_ and _counter_.\r\n\r\nAnd, instead checking _hasNextLine_, use _[String#isBlank](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#isBlank())_ on _nextLine_.\r\n\r\n```java\r\nclass Sorter {\r\n    static Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void dict() {...}\r\n\r\n    public static String getName() {\r\n        System.out.print(&quot;Enter your name: &quot;);\r\n        String nameInput = scanner.nextLine();\r\n        if (!nameInput.isBlank()) {\r\n            System.out.println(&quot;Hello, &quot; + nameInput + &quot;.&quot;);\r\n            return nameInput;\r\n        } else {\r\n            // handle no input available\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public static void counter() {\r\n        System.out.print(&quot;Enter a numerical value: &quot;);\r\n        String userInputString = scanner.nextLine();\r\n        try {\r\n            if (userInputString.isBlank()) throw new Exception(); \r\n            int userInput = Integer.parseInt(userInputString);\r\n            String whatFamily = getGroup(userInput);\r\n            System.out.println(&quot;Family: &quot; + whatFamily);\r\n        } catch (NumberFormatException e) {\r\n            System.out.println(&quot;No Family LOL get rekt&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n    }\r\n...\r\n}\r\n```\r\n\r\nAs a recommendation, _encapsulate_ a _[LinkedHashMap](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashMap.html)_ class in order to provide functionality to the _Range_ object.\r\n\r\n```java\r\nclass RangeMap&lt;K, V extends Range&gt; extends LinkedHashMap&lt;K, Range&gt; {\r\n    Range put(K key, int i, int n) {\r\n        return super.put(key, new Range(i, n));\r\n    }\r\n\r\n    Range get(int i, int n) {\r\n        return super.get(new Range(i, n));\r\n    }\r\n\r\n    AbstractMap.SimpleEntry&lt;K, Range&gt; find(int x) {\r\n        Range copy;\r\n        for (Map.Entry&lt;K, Range&gt; e : entrySet()) {\r\n            copy = e.getValue();\r\n            if (x &gt;= copy.getStart() &amp;&amp; x &lt;= copy.getEnd())\r\n                return new SimpleEntry&lt;&gt;(e.getKey(), e.getValue());\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nNow you can re-factor the _getGroup_ method.  \r\nYou&#39;ll need to increase the scope, and switch the context, of _dictionary_.\r\n\r\n```java\r\nclass Sorter {\r\n    static Scanner scanner = new Scanner(System.in);\r\n    // Create a dictionary\r\n    static RangeMap&lt;String, Range&gt; dictionary = new RangeMap&lt;&gt;();\r\n...\r\n    public static String getGroup(int value) {\r\n        AbstractMap.SimpleEntry&lt;String, Range&gt; r = dictionary.find(value);\r\n        if (r != null) return r.getKey();\r\n        return &quot;No Family LOL get rekt&quot;;\r\n    }\r\n...\r\n}\r\n```\r\n\r\nAdditionally, you can modify the _dict_ method.\r\n\r\n```java\r\npublic static void dict() {\r\n    // Add groups and their corresponding value ranges\r\n    dictionary.put(&quot;Family A&quot;, 0, 10);\r\n    dictionary.put(&quot;Family B&quot;, 11, 20);\r\n    dictionary.put(&quot;Family C&quot;, 21, 30);\r\n\r\n    // Retrieve the value range for a specific group\r\n    Range range;\r\n    for (Map.Entry&lt;String, Range&gt; e : dictionary.entrySet()) {\r\n        range = e.getValue();\r\n        System.out.printf(&quot;Value range for %s: %d - %d%n&quot;,\r\n                          e.getKey(), range.start(), range.end());\r\n    }\r\n}\r\n```\r\n\r\nOn a final note, you can utilize a _[record](https://docs.oracle.com/en/java/javase/20/language/records.html)_ for the _Range_ class.  \r\nThis will force the names _getStart_ to _start_ and _getEnd_ to _end_.\r\n\r\n```java\r\nrecord Range(int start, int end) { }\r\n```","title":"How do I correct my Sorter methods to allow for more user input?","body":"<blockquote>\n<p><em>&quot;... when I run the code, it asks for name input, but then it terminates right as it says to input a numeric value. ...&quot;</em></p>\n</blockquote>\n<p>This is because <em>scanner.hasNextLine</em> is returning <em>false</em> within the <em>counter</em> method.</p>\n<p>After removing the condition, an exception will occur, from the <em>scanner.nextLine</em> call.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n    at java.base/java.util.Scanner.nextLine(Scanner.java:1660)\n    at Sorter.counter ...\n</code></pre>\n<p>This is because you're <em>try-with-resources</em> statements are closing the <em>static</em> <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#in\" rel=\"nofollow noreferrer\">System#in</a></em> stream.</p>\n<p>Use a single <em>Scanner</em> instance; place <em>scanner</em> as a <em>static</em> field of <em>Sorter</em>.<br />\nAnd, utilize this object in <em>getName</em> and <em>counter</em>.</p>\n<p>And, instead checking <em>hasNextLine</em>, use <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"nofollow noreferrer\">String#isBlank</a></em> on <em>nextLine</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Sorter {\n    static Scanner scanner = new Scanner(System.in);\n\n    public static void dict() {...}\n\n    public static String getName() {\n        System.out.print(&quot;Enter your name: &quot;);\n        String nameInput = scanner.nextLine();\n        if (!nameInput.isBlank()) {\n            System.out.println(&quot;Hello, &quot; + nameInput + &quot;.&quot;);\n            return nameInput;\n        } else {\n            // handle no input available\n            return null;\n        }\n    }\n\n    public static void counter() {\n        System.out.print(&quot;Enter a numerical value: &quot;);\n        String userInputString = scanner.nextLine();\n        try {\n            if (userInputString.isBlank()) throw new Exception(); \n            int userInput = Integer.parseInt(userInputString);\n            String whatFamily = getGroup(userInput);\n            System.out.println(&quot;Family: &quot; + whatFamily);\n        } catch (NumberFormatException e) {\n            System.out.println(&quot;No Family LOL get rekt&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n    }\n...\n}\n</code></pre>\n<p>As a recommendation, <em>encapsulate</em> a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">LinkedHashMap</a></em> class in order to provide functionality to the <em>Range</em> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class RangeMap&lt;K, V extends Range&gt; extends LinkedHashMap&lt;K, Range&gt; {\n    Range put(K key, int i, int n) {\n        return super.put(key, new Range(i, n));\n    }\n\n    Range get(int i, int n) {\n        return super.get(new Range(i, n));\n    }\n\n    AbstractMap.SimpleEntry&lt;K, Range&gt; find(int x) {\n        Range copy;\n        for (Map.Entry&lt;K, Range&gt; e : entrySet()) {\n            copy = e.getValue();\n            if (x &gt;= copy.getStart() &amp;&amp; x &lt;= copy.getEnd())\n                return new SimpleEntry&lt;&gt;(e.getKey(), e.getValue());\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Now you can re-factor the <em>getGroup</em> method.<br />\nYou'll need to increase the scope, and switch the context, of <em>dictionary</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Sorter {\n    static Scanner scanner = new Scanner(System.in);\n    // Create a dictionary\n    static RangeMap&lt;String, Range&gt; dictionary = new RangeMap&lt;&gt;();\n...\n    public static String getGroup(int value) {\n        AbstractMap.SimpleEntry&lt;String, Range&gt; r = dictionary.find(value);\n        if (r != null) return r.getKey();\n        return &quot;No Family LOL get rekt&quot;;\n    }\n...\n}\n</code></pre>\n<p>Additionally, you can modify the <em>dict</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void dict() {\n    // Add groups and their corresponding value ranges\n    dictionary.put(&quot;Family A&quot;, 0, 10);\n    dictionary.put(&quot;Family B&quot;, 11, 20);\n    dictionary.put(&quot;Family C&quot;, 21, 30);\n\n    // Retrieve the value range for a specific group\n    Range range;\n    for (Map.Entry&lt;String, Range&gt; e : dictionary.entrySet()) {\n        range = e.getValue();\n        System.out.printf(&quot;Value range for %s: %d - %d%n&quot;,\n                          e.getKey(), range.start(), range.end());\n    }\n}\n</code></pre>\n<p>On a final note, you can utilize a <em><a href=\"https://docs.oracle.com/en/java/javase/20/language/records.html\" rel=\"nofollow noreferrer\">record</a></em> for the <em>Range</em> class.<br />\nThis will force the names <em>getStart</em> to <em>start</em> and <em>getEnd</em> to <em>end</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Range(int start, int end) { }\n</code></pre>\n"}],"owner":{"account_id":26717768,"reputation":43,"user_id":20322128,"display_name":"L4w1i3t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77047747,"answer_count":2,"score":1,"last_activity_date":1693976496,"creation_date":1693946106,"question_id":77047591,"body_markdown":"I am trying to build a sorting algorithm for a few friends of mine, and I am making a test build for it right now. Eventually I will have it more dynamic, but currently I just have it to where it takes in user input for one&#39;s name and whatever number they enter. However, when I run the code, it asks for name input, but then it terminates right as it says to input a numeric value. I&#39;ve been dealing with this for half an hour now and, honestly, I&#39;m a bit stumped.\r\n\r\nMy code is as follows:\r\n```\r\n//Sorter.java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\n\r\npublic class Sorter {\r\n\r\n    public static void dict() {\r\n\r\n        // Create a dictionary\r\n        Map&lt;String, Range&gt; dictionary = new HashMap&lt;&gt;();\r\n\r\n        // Add groups and their corresponding value ranges\r\n        dictionary.put(&quot;Family A&quot;, new Range(0, 10));\r\n        dictionary.put(&quot;Family B&quot;, new Range(11, 20));\r\n        dictionary.put(&quot;Family C&quot;, new Range(21, 30));\r\n\r\n        // Retrieve the value range for a specific group\r\n        Range rangea = dictionary.get(&quot;Family A&quot;);\r\n        System.out.println(&quot;Value range for Family A: &quot; + rangea.getStart() + &quot; - &quot; + rangea.getEnd());\r\n        Range rangeb = dictionary.get(&quot;Family B&quot;);\r\n        System.out.println(&quot;Value range for Family B: &quot; + rangeb.getStart() + &quot; - &quot; + rangeb.getEnd());\r\n        Range rangec = dictionary.get(&quot;Family C&quot;);\r\n        System.out.println(&quot;Value range for Family C: &quot; + rangec.getStart() + &quot; - &quot; + rangec.getEnd());\r\n\r\n    }\r\n\r\n    public static String getName() {\r\n        try (Scanner scanner = new Scanner(System.in)) {\r\n            System.out.print(&quot;Enter your name: &quot;);\r\n            if (scanner.hasNextLine()) {\r\n                String nameInput = scanner.nextLine();\r\n                System.out.println(&quot;Hello, &quot; + nameInput + &quot;.&quot;);\r\n                return nameInput;\r\n            } else {\r\n                // handle no input available\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n/**\r\n * Prompts the user to enter a numerical value and prints the corresponding family group.\r\n */\r\n    public static void counter() {\r\n        try (Scanner scanner = new Scanner(System.in)) {\r\n            System.out.print(&quot;Enter a numerical value: &quot;);\r\n            if (scanner.hasNextLine()) {\r\n                String userInputString = scanner.nextLine();\r\n                try {\r\n                    int userInput = Integer.parseInt(userInputString);\r\n                    String whatFamily = getGroup(userInput);\r\n                    System.out.println(&quot;Family: &quot; + whatFamily);\r\n                } catch (NumberFormatException e) {\r\n                    System.out.println(&quot;No Family LOL get rekt&quot;);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Determines the group based on the given value.\r\n     *\r\n     * @param  value  the value to be evaluated\r\n     * @return        the group corresponding to the value\r\n     */\r\n    public static String getGroup(int value) {\r\n        // Check if the value is less than 0\r\n        if (value &lt; 0) {\r\n            return &quot;Family A&quot;;\r\n        }\r\n        // Check if the value is within the range of Family A\r\n        else if (value &gt;= 1 &amp;&amp; value &lt;= 10) {\r\n            return &quot;Family A&quot;;\r\n        }\r\n        // Check if the value is within the range of Family B\r\n        else if (value &gt;= 11 &amp;&amp; value &lt;= 20) {\r\n            return &quot;Family B&quot;;\r\n        }\r\n        // Check if the value is within the range of Family C\r\n        else if (value &gt;= 21 &amp;&amp; value &lt;= 30) {\r\n            return &quot;Family C&quot;;\r\n        }\r\n        // Check if the value is greater than 30\r\n        else if (value &gt; 30) {\r\n            return &quot;Family C&quot;;\r\n        }\r\n        // Value is outside the range of any family\r\n        else {\r\n            return &quot;No Family LOL get rekt&quot;;\r\n        }\r\n    }\r\n}\r\n\r\nclass Range {\r\n    private int start;\r\n    private int end;\r\n\r\n    public Range(int start, int end) {\r\n        this.start = start;\r\n        this.end = end;\r\n    }\r\n\r\n    public int getStart() {\r\n        return start;\r\n    }\r\n\r\n    public int getEnd() {\r\n        return end;\r\n    }\r\n}\r\n```\r\n```\r\n//Exec.java\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Exec {\r\n    /**\r\n     * Initializes a dictionary with groups and their corresponding value ranges.\r\n     * Prints the value range for each group and prompts user input.\r\n     *\r\n     * @param  args  command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n\r\n        // Prompt user input\r\n        Sorter.getName();\r\n        Sorter.dict();\r\n        Sorter.counter();\r\n    }\r\n}\r\n```","title":"How do I correct my Sorter methods to allow for more user input?","body":"<p>I am trying to build a sorting algorithm for a few friends of mine, and I am making a test build for it right now. Eventually I will have it more dynamic, but currently I just have it to where it takes in user input for one's name and whatever number they enter. However, when I run the code, it asks for name input, but then it terminates right as it says to input a numeric value. I've been dealing with this for half an hour now and, honestly, I'm a bit stumped.</p>\n<p>My code is as follows:</p>\n<pre><code>//Sorter.java\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\n\npublic class Sorter {\n\n    public static void dict() {\n\n        // Create a dictionary\n        Map&lt;String, Range&gt; dictionary = new HashMap&lt;&gt;();\n\n        // Add groups and their corresponding value ranges\n        dictionary.put(&quot;Family A&quot;, new Range(0, 10));\n        dictionary.put(&quot;Family B&quot;, new Range(11, 20));\n        dictionary.put(&quot;Family C&quot;, new Range(21, 30));\n\n        // Retrieve the value range for a specific group\n        Range rangea = dictionary.get(&quot;Family A&quot;);\n        System.out.println(&quot;Value range for Family A: &quot; + rangea.getStart() + &quot; - &quot; + rangea.getEnd());\n        Range rangeb = dictionary.get(&quot;Family B&quot;);\n        System.out.println(&quot;Value range for Family B: &quot; + rangeb.getStart() + &quot; - &quot; + rangeb.getEnd());\n        Range rangec = dictionary.get(&quot;Family C&quot;);\n        System.out.println(&quot;Value range for Family C: &quot; + rangec.getStart() + &quot; - &quot; + rangec.getEnd());\n\n    }\n\n    public static String getName() {\n        try (Scanner scanner = new Scanner(System.in)) {\n            System.out.print(&quot;Enter your name: &quot;);\n            if (scanner.hasNextLine()) {\n                String nameInput = scanner.nextLine();\n                System.out.println(&quot;Hello, &quot; + nameInput + &quot;.&quot;);\n                return nameInput;\n            } else {\n                // handle no input available\n                return null;\n            }\n        }\n    }\n\n/**\n * Prompts the user to enter a numerical value and prints the corresponding family group.\n */\n    public static void counter() {\n        try (Scanner scanner = new Scanner(System.in)) {\n            System.out.print(&quot;Enter a numerical value: &quot;);\n            if (scanner.hasNextLine()) {\n                String userInputString = scanner.nextLine();\n                try {\n                    int userInput = Integer.parseInt(userInputString);\n                    String whatFamily = getGroup(userInput);\n                    System.out.println(&quot;Family: &quot; + whatFamily);\n                } catch (NumberFormatException e) {\n                    System.out.println(&quot;No Family LOL get rekt&quot;);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    /**\n     * Determines the group based on the given value.\n     *\n     * @param  value  the value to be evaluated\n     * @return        the group corresponding to the value\n     */\n    public static String getGroup(int value) {\n        // Check if the value is less than 0\n        if (value &lt; 0) {\n            return &quot;Family A&quot;;\n        }\n        // Check if the value is within the range of Family A\n        else if (value &gt;= 1 &amp;&amp; value &lt;= 10) {\n            return &quot;Family A&quot;;\n        }\n        // Check if the value is within the range of Family B\n        else if (value &gt;= 11 &amp;&amp; value &lt;= 20) {\n            return &quot;Family B&quot;;\n        }\n        // Check if the value is within the range of Family C\n        else if (value &gt;= 21 &amp;&amp; value &lt;= 30) {\n            return &quot;Family C&quot;;\n        }\n        // Check if the value is greater than 30\n        else if (value &gt; 30) {\n            return &quot;Family C&quot;;\n        }\n        // Value is outside the range of any family\n        else {\n            return &quot;No Family LOL get rekt&quot;;\n        }\n    }\n}\n\nclass Range {\n    private int start;\n    private int end;\n\n    public Range(int start, int end) {\n        this.start = start;\n        this.end = end;\n    }\n\n    public int getStart() {\n        return start;\n    }\n\n    public int getEnd() {\n        return end;\n    }\n}\n</code></pre>\n<pre><code>//Exec.java\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Exec {\n    /**\n     * Initializes a dictionary with groups and their corresponding value ranges.\n     * Prints the value range for each group and prompts user input.\n     *\n     * @param  args  command line arguments\n     */\n    public static void main(String[] args) {\n\n        // Prompt user input\n        Sorter.getName();\n        Sorter.dict();\n        Sorter.counter();\n    }\n}\n</code></pre>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":366370,"reputation":2002,"user_id":711855,"display_name":"juanmf"},"score":1,"creation_date":1458394097,"post_id":52353,"comment_id":59847408,"body_markdown":"I added my Agent with mvn configs and explained how here: http://stackoverflow.com/a/36102269/711855","body":"I added my Agent with mvn configs and explained how here: <a href=\"http://stackoverflow.com/a/36102269/711855\">stackoverflow.com/a/36102269/711855</a>"}],"answers":[{"comments":[{"owner":{"account_id":988,"reputation":85941,"user_id":1310,"accept_rate":98,"display_name":"ScArcher2"},"score":3,"creation_date":1220980907,"post_id":52362,"comment_id":1040,"body_markdown":"I&#39;d serialize it to a byte[] using a ByteArrayOutputStream. It would be a lot faster than writing it out to a file.","body":"I&#39;d serialize it to a byte[] using a ByteArrayOutputStream. It would be a lot faster than writing it out to a file."},{"owner":{"account_id":1789488,"reputation":1711,"user_id":1630224,"display_name":"HammerNL"},"score":0,"creation_date":1513679090,"post_id":52362,"comment_id":82735267,"body_markdown":"@KorayTugay Determining the byte size of an object is already a costly operation. Writing each object to disk to determine the size, is just going to make it crawl...","body":"@KorayTugay Determining the byte size of an object is already a costly operation. Writing each object to disk to determine the size, is just going to make it crawl..."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1525866651,"post_id":52362,"comment_id":87522537,"body_markdown":"The serialized object format is entirely different to the object’s format in the heap memory. Most notably, a descriptor for the object’s class (and all of its serializable superclasses) is written to the stream. So writing a simple instance of `java.lang.Integer` produces around 80 bytes, where the heap representation usually is 32 (unlike the object stream representation, the heap representation depends on pointer sizes and object alignment). In contrast, a serialized `null` reference requires one byte instead of the four or eight bytes in the heap memory.","body":"The serialized object format is entirely different to the object’s format in the heap memory. Most notably, a descriptor for the object’s class (and all of its serializable superclasses) is written to the stream. So writing a simple instance of <code>java.lang.Integer</code> produces around 80 bytes, where the heap representation usually is 32 (unlike the object stream representation, the heap representation depends on pointer sizes and object alignment). In contrast, a serialized <code>null</code> reference requires one byte instead of the four or eight bytes in the heap memory."}],"tags":[],"owner":{"account_id":2978,"reputation":49999,"user_id":4223,"accept_rate":93,"display_name":"jodonnell"},"comment_count":3,"down_vote_count":15,"up_vote_count":9,"is_accepted":false,"score":-6,"last_activity_date":1220980295,"creation_date":1220980295,"answer_id":52362,"question_id":52353,"body_markdown":"I doubt you want to do it programmatically unless you just want to do it once and store it for future use.  It&#39;s a costly thing to do.  There&#39;s no sizeof() operator in Java, and even if there was, it would only count the cost of the references to other objects and the size of the primitives.\r\n\r\nOne way you could do it is to serialize the thing to a File and look at the size of the file, like this:\r\n\r\n    Serializable myObject;\r\n    ObjectOutputStream oos = new ObjectOutputStream (new FileOutputStream (&quot;obj.ser&quot;));\r\n    oos.write (myObject);\r\n    oos.close ();\r\n\r\nOf course, this assumes that each object is distinct and doesn&#39;t contain non-transient references to anything else.\r\n\r\nAnother strategy would be to take each object and examine its members by reflection and add up the sizes (boolean &amp; byte = 1 byte, short &amp; char = 2 bytes, etc.), working your way down the membership hierarchy.  But that&#39;s tedious and expensive and ends up doing the same thing the serialization strategy would do.\r\n","title":"How to determine the size of an object in Java","body":"<p>I doubt you want to do it programmatically unless you just want to do it once and store it for future use.  It's a costly thing to do.  There's no sizeof() operator in Java, and even if there was, it would only count the cost of the references to other objects and the size of the primitives.</p>\n\n<p>One way you could do it is to serialize the thing to a File and look at the size of the file, like this:</p>\n\n<pre><code>Serializable myObject;\nObjectOutputStream oos = new ObjectOutputStream (new FileOutputStream (\"obj.ser\"));\noos.write (myObject);\noos.close ();\n</code></pre>\n\n<p>Of course, this assumes that each object is distinct and doesn't contain non-transient references to anything else.</p>\n\n<p>Another strategy would be to take each object and examine its members by reflection and add up the sizes (boolean &amp; byte = 1 byte, short &amp; char = 2 bytes, etc.), working your way down the membership hierarchy.  But that's tedious and expensive and ends up doing the same thing the serialization strategy would do.</p>\n"},{"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1220980540,"creation_date":1220980540,"answer_id":52377,"question_id":52353,"body_markdown":"There isn&#39;t a method call, if that&#39;s what you&#39;re asking for. With a little research, I suppose you could write your own. A particular instance has a fixed sized derived from the number of references and primitive values plus instance bookkeeping data. You would simply walk the object graph. The less varied the row types, the easier.\r\n\r\nIf that&#39;s too slow or just more trouble than it&#39;s worth, there&#39;s always good old-fashioned  row counting rule-of-thumbs.","title":"How to determine the size of an object in Java","body":"<p>There isn't a method call, if that's what you're asking for. With a little research, I suppose you could write your own. A particular instance has a fixed sized derived from the number of references and primitive values plus instance bookkeeping data. You would simply walk the object graph. The less varied the row types, the easier.</p>\n\n<p>If that's too slow or just more trouble than it's worth, there's always good old-fashioned  row counting rule-of-thumbs.</p>\n"},{"comments":[{"owner":{"account_id":3684,"reputation":43315,"user_id":5346,"accept_rate":84,"display_name":"Nick Fortescue"},"score":29,"creation_date":1220981074,"post_id":52391,"comment_id":1041,"body_markdown":"This is not a good solution, as you never know when a garbage collect will happen, or how much extra memory will be allocated to the heap at once.","body":"This is not a good solution, as you never know when a garbage collect will happen, or how much extra memory will be allocated to the heap at once."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":5,"creation_date":1220981155,"post_id":52391,"comment_id":1043,"body_markdown":"That is true, and I wouldn&#39;t intend this to address the main question of this post, but it might help him to know programmatically when he is getting somewhat close to hitting the max heap size.","body":"That is true, and I wouldn&#39;t intend this to address the main question of this post, but it might help him to know programmatically when he is getting somewhat close to hitting the max heap size."},{"owner":{"account_id":90166,"reputation":3781,"user_id":248304,"accept_rate":88,"display_name":"angelcervera"},"score":1,"creation_date":1361702088,"post_id":52391,"comment_id":21157985,"body_markdown":"Other problem of this solution is when you are in a multi-thread environment (like in a web server). It&#39;s possible that other threads was in execution and consuming memory. With this approximation your are calculating used memory in all the virtual machine.","body":"Other problem of this solution is when you are in a multi-thread environment (like in a web server). It&#39;s possible that other threads was in execution and consuming memory. With this approximation your are calculating used memory in all the virtual machine."},{"owner":{"account_id":334798,"reputation":2310,"user_id":1908482,"accept_rate":74,"display_name":"Eugen"},"score":1,"creation_date":1368112130,"post_id":52391,"comment_id":23621852,"body_markdown":"Another disadvantage is that freeMemory returns an approximation. Try creating a javax.crypto.Cipher object. The difference between two calls to freeMemory (to estimate the size of a Cipher) is not constant !","body":"Another disadvantage is that freeMemory returns an approximation. Try creating a javax.crypto.Cipher object. The difference between two calls to freeMemory (to estimate the size of a Cipher) is not constant !"},{"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"score":0,"creation_date":1405661885,"post_id":52391,"comment_id":38526403,"body_markdown":"Hello, why does heapSize +heapFreeSize  &lt;heapMaxSize  ?","body":"Hello, why does heapSize +heapFreeSize  &lt;heapMaxSize  ?"},{"owner":{"account_id":1636318,"reputation":14452,"user_id":1509695,"accept_rate":38,"display_name":"matanster"},"score":1,"creation_date":1423755002,"post_id":52391,"comment_id":45284966,"body_markdown":"I believe you can force a garbage collection, so you _can_ do some stuff in this approach.","body":"I believe you can force a garbage collection, so you <i>can</i> do some stuff in this approach."}],"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":6,"down_vote_count":13,"up_vote_count":52,"is_accepted":false,"score":39,"last_activity_date":1405526927,"creation_date":1220980768,"answer_id":52391,"question_id":52353,"body_markdown":"If you would just like to know how much memory is being used in your JVM, and how much is free, you could try something like this:\r\n\r\n    // Get current size of heap in bytes\r\n    long heapSize = Runtime.getRuntime().totalMemory();\r\n    \r\n    // Get maximum size of heap in bytes. The heap cannot grow beyond this size.\r\n    // Any attempt will result in an OutOfMemoryException.\r\n    long heapMaxSize = Runtime.getRuntime().maxMemory();\r\n    \r\n    // Get amount of free memory within the heap in bytes. This size will increase\r\n    // after garbage collection and decrease as new objects are created.\r\n    long heapFreeSize = Runtime.getRuntime().freeMemory();\r\n\r\n\r\nedit: I thought this might be helpful as the question author also stated he would like to have logic that handles &quot;read as many rows as possible until I&#39;ve used 32MB of memory.&quot;","title":"How to determine the size of an object in Java","body":"<p>If you would just like to know how much memory is being used in your JVM, and how much is free, you could try something like this:</p>\n\n<pre><code>// Get current size of heap in bytes\nlong heapSize = Runtime.getRuntime().totalMemory();\n\n// Get maximum size of heap in bytes. The heap cannot grow beyond this size.\n// Any attempt will result in an OutOfMemoryException.\nlong heapMaxSize = Runtime.getRuntime().maxMemory();\n\n// Get amount of free memory within the heap in bytes. This size will increase\n// after garbage collection and decrease as new objects are created.\nlong heapFreeSize = Runtime.getRuntime().freeMemory();\n</code></pre>\n\n<p>edit: I thought this might be helpful as the question author also stated he would like to have logic that handles \"read as many rows as possible until I've used 32MB of memory.\"</p>\n"},{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1220981103,"post_id":52393,"comment_id":1042,"body_markdown":"Aren&#39;t the sizes of various primitives defined in the Java Specification? (&#167;2.4.1)","body":"Aren&#39;t the sizes of various primitives defined in the Java Specification? (&#167;2.4.1)"},{"owner":{"account_id":3416,"reputation":81767,"user_id":4926,"accept_rate":85,"display_name":"Jason Cohen"},"score":4,"creation_date":1220981255,"post_id":52393,"comment_id":1044,"body_markdown":"Not in the sense of &quot;how much memory does it occupy,&quot; which is the question.  Only in the sense of how they operate.\n\nFor example, bytes, chars, and shorts take up an entire word on the Java stack, even though they operate with rounding etc..","body":"Not in the sense of &quot;how much memory does it occupy,&quot; which is the question.  Only in the sense of how they operate.  For example, bytes, chars, and shorts take up an entire word on the Java stack, even though they operate with rounding etc.."},{"owner":{"account_id":36501,"reputation":9320,"user_id":104143,"accept_rate":86,"display_name":"Peter Kofler"},"score":1,"creation_date":1269163569,"post_id":52393,"comment_id":2479200,"body_markdown":"This sounds similar to measuring the size, as shown by Heinz in his Newsletter #78: http://www.javaspecialists.eu/archive/Issue078.html. I used it. His approach works.","body":"This sounds similar to measuring the size, as shown by Heinz in his Newsletter #78: <a href=\"http://www.javaspecialists.eu/archive/Issue078.html\" rel=\"nofollow noreferrer\">javaspecialists.eu/archive/Issue078.html</a>. I used it. His approach works."}],"tags":[],"owner":{"account_id":3416,"reputation":81767,"user_id":4926,"accept_rate":85,"display_name":"Jason Cohen"},"comment_count":3,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1220980788,"creation_date":1220980788,"answer_id":52393,"question_id":52353,"body_markdown":"You have to walk the objects using reflection.  Be careful as you do:\r\n\r\n  - Just allocating an object has some overhead in the JVM.  The amount varies by JVM so you might make this value a parameter.  At least make it a constant (8 bytes?) and apply to anything allocated.\r\n  - Just because `byte` is theoretically 1 byte doesn&#39;t mean it takes just one in memory.\r\n  - There will be loops in object references, so you&#39;ll need to keep a `HashMap` or somesuch *using object-equals as the comparator* to eliminate infinite loops.\r\n\r\n@jodonnell: I like the simplicity of your solution, but many objects aren&#39;t Serializable (so this would throw an exception), fields can be transient, and objects can override the standard methods.\r\n\r\n","title":"How to determine the size of an object in Java","body":"<p>You have to walk the objects using reflection.  Be careful as you do:</p>\n\n<ul>\n<li>Just allocating an object has some overhead in the JVM.  The amount varies by JVM so you might make this value a parameter.  At least make it a constant (8 bytes?) and apply to anything allocated.</li>\n<li>Just because <code>byte</code> is theoretically 1 byte doesn't mean it takes just one in memory.</li>\n<li>There will be loops in object references, so you'll need to keep a <code>HashMap</code> or somesuch <em>using object-equals as the comparator</em> to eliminate infinite loops.</li>\n</ul>\n\n<p>@jodonnell: I like the simplicity of your solution, but many objects aren't Serializable (so this would throw an exception), fields can be transient, and objects can override the standard methods.</p>\n"},{"comments":[{"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"score":0,"creation_date":1268047335,"post_id":52395,"comment_id":2380512,"body_markdown":"@erickson I wouldn&#39;t be sure about sizeof(boolean)==1 looking at this thread (http://stackoverflow.com/questions/1907318/java-boolean-primitive-type-size). Can you please comment on this?","body":"@erickson I wouldn&#39;t be sure about sizeof(boolean)==1 looking at this thread (<a href=\"http://stackoverflow.com/questions/1907318/java-boolean-primitive-type-size\" title=\"java boolean primitive type size\">stackoverflow.com/questions/1907318/&hellip;</a>). Can you please comment on this?"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":2,"creation_date":1356446582,"post_id":52395,"comment_id":19381863,"body_markdown":"@dma_k, Java doesn&#39;t have real booleans actually. The size of boolean is 4bytes outside arrays and 1byte within `boolean[]`. Actually all primitives non double/long types are 4 bytes. The latter are 8 (the answer wrongly puts them as 4 too)","body":"@dma_k, Java doesn&#39;t have real booleans actually. The size of boolean is 4bytes outside arrays and 1byte within <code>boolean[]</code>. Actually all primitives non double/long types are 4 bytes. The latter are 8 (the answer wrongly puts them as 4 too)"},{"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"score":0,"creation_date":1356774764,"post_id":52395,"comment_id":19469229,"body_markdown":"@bestsss: To be more exact, minimal memory allocation depends on the platform and implementation of JVM. Also objects on heap are aligned, so after summing up all sizes one need to round up.","body":"@bestsss: To be more exact, minimal memory allocation depends on the platform and implementation of JVM. Also objects on heap are aligned, so after summing up all sizes one need to round up."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":3,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1356494656,"creation_date":1220980840,"answer_id":52395,"question_id":52353,"body_markdown":"You have to measure it with a tool, or estimate it by hand, and it depends on the JVM you are using.\r\n\r\nThere is some fixed overhead per object. It&#39;s JVM-specific, but I usually estimate 40 bytes. Then you have to look at the members of the class. Object references are 4 (8) bytes in a 32-bit (64-bit) JVM. Primitive types are: \r\n\r\n  - boolean and byte: 1 byte\r\n  - char and short: 2 bytes\r\n  - int and float: 4 bytes\r\n  - long and double: 8 bytes\r\n\r\nArrays follow the same rules; that is, it&#39;s an object reference so that takes 4 (or 8) bytes in your object, and then its length multiplied by the size of its element.\r\n\r\nTrying to do it programmatically with calls to `Runtime.freeMemory()` just doesn&#39;t give you much accuracy, because of asynchronous calls to the garbage collector, etc. Profiling the heap with -Xrunhprof or other tools will give you the most accurate results.","title":"How to determine the size of an object in Java","body":"<p>You have to measure it with a tool, or estimate it by hand, and it depends on the JVM you are using.</p>\n\n<p>There is some fixed overhead per object. It's JVM-specific, but I usually estimate 40 bytes. Then you have to look at the members of the class. Object references are 4 (8) bytes in a 32-bit (64-bit) JVM. Primitive types are: </p>\n\n<ul>\n<li>boolean and byte: 1 byte</li>\n<li>char and short: 2 bytes</li>\n<li>int and float: 4 bytes</li>\n<li>long and double: 8 bytes</li>\n</ul>\n\n<p>Arrays follow the same rules; that is, it's an object reference so that takes 4 (or 8) bytes in your object, and then its length multiplied by the size of its element.</p>\n\n<p>Trying to do it programmatically with calls to <code>Runtime.freeMemory()</code> just doesn't give you much accuracy, because of asynchronous calls to the garbage collector, etc. Profiling the heap with -Xrunhprof or other tools will give you the most accurate results.</p>\n"},{"comments":[{"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"score":3,"creation_date":1248458165,"post_id":52401,"comment_id":1000144,"body_markdown":"I like this approach.  How far off in terms of object size have you been off.","body":"I like this approach.  How far off in terms of object size have you been off."},{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":1,"creation_date":1335284332,"post_id":52401,"comment_id":13257864,"body_markdown":"Very simple and effective. Other methods are too messy (specially inside of Eclipse RCP). Thanks.","body":"Very simple and effective. Other methods are too messy (specially inside of Eclipse RCP). Thanks."},{"owner":{"account_id":26625,"reputation":3060,"user_id":69471,"display_name":"TMN"},"score":24,"creation_date":1341859557,"post_id":52401,"comment_id":15032251,"body_markdown":"Serialization won&#39;t keep track of transient variables, and the default serialization method writes strings in UTF-8, so any ANSI characters will only take one byte.  If you have many strings, your size will be so far off as to be useless.","body":"Serialization won&#39;t keep track of transient variables, and the default serialization method writes strings in UTF-8, so any ANSI characters will only take one byte.  If you have many strings, your size will be so far off as to be useless."},{"owner":{"account_id":1275170,"reputation":2721,"user_id":1230594,"accept_rate":90,"display_name":"Isaac"},"score":1,"creation_date":1351637866,"post_id":52401,"comment_id":17886649,"body_markdown":"while this may not give the exact size, for my needs I only needed a comparison between 2 object and SizeOf won&#39;t initialize from a web app. Thanks!","body":"while this may not give the exact size, for my needs I only needed a comparison between 2 object and SizeOf won&#39;t initialize from a web app. Thanks!"},{"owner":{"account_id":90166,"reputation":3781,"user_id":248304,"accept_rate":88,"display_name":"angelcervera"},"score":1,"creation_date":1361702804,"post_id":52401,"comment_id":21158148,"body_markdown":"Good recommendation of [YourKit](http://www.yourkit.com/). Other alternatives are [VirtualVM](http://docs.oracle.com/javase/6/docs/technotes/guides/visualvm) and [jvmmonitor](http://code.google.com/a/eclipselabs.org/p/jvmmonitor/)","body":"Good recommendation of <a href=\"http://www.yourkit.com/\" rel=\"nofollow noreferrer\">YourKit</a>. Other alternatives are <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/visualvm\" rel=\"nofollow noreferrer\">VirtualVM</a> and <a href=\"http://code.google.com/a/eclipselabs.org/p/jvmmonitor/\" rel=\"nofollow noreferrer\">jvmmonitor</a>"},{"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"score":0,"creation_date":1502291555,"post_id":52401,"comment_id":78148568,"body_markdown":"Most importantly, the OP wants to know the size of his Objects to avoid hitting a memory ceiling. I do not thing writing the objects to a byte array (and therefore doubling memory consumption) really helps with the original problem.","body":"Most importantly, the OP wants to know the size of his Objects to avoid hitting a memory ceiling. I do not thing writing the objects to a byte array (and therefore doubling memory consumption) really helps with the original problem."},{"owner":{"account_id":3408558,"reputation":2364,"user_id":2859065,"display_name":"Luchostein"},"score":0,"creation_date":1511187332,"post_id":52401,"comment_id":81741114,"body_markdown":"Serialization doesn&#39;t seem to be a good suggestion https://stackoverflow.com/a/52568/2859065","body":"Serialization doesn&#39;t seem to be a good suggestion <a href=\"https://stackoverflow.com/a/52568/2859065\">stackoverflow.com/a/52568/2859065</a>"}],"tags":[],"owner":{"account_id":3684,"reputation":43315,"user_id":5346,"accept_rate":84,"display_name":"Nick Fortescue"},"comment_count":7,"down_vote_count":11,"up_vote_count":85,"is_accepted":false,"score":74,"last_activity_date":1517673179,"creation_date":1220980957,"answer_id":52401,"question_id":52353,"body_markdown":"Firstly &quot;the size of an object&quot; isn&#39;t a well-defined concept in Java. You could mean the object itself, with just its members, the Object and all objects it refers to (the reference graph). You could mean the size in memory or the size on disk. And the JVM is allowed to optimise things like Strings.\r\n\r\nSo the only correct way is to ask the JVM, with a good profiler (I use [YourKit][1]), which probably isn&#39;t what you want.\r\n\r\nHowever, from the description above it sounds like each row will be self-contained, and not have a big dependency tree, so the serialization method will probably be a good approximation on most JVMs. The easiest way to do this is as follows:\r\n\r\n     Serializable ser;\r\n     ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n     ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n     oos.writeObject(ser);\r\n     oos.close();\r\n     return baos.size();\r\n\r\nRemember that if you have objects with common references this *will not* give the correct result, and size of serialization will not always match size in memory, but it is a good approximation. The code will be a bit more efficient if you initialise the ByteArrayOutputStream size to a sensible value.\r\n\r\n  [1]: http://www.yourkit.com","title":"How to determine the size of an object in Java","body":"<p>Firstly \"the size of an object\" isn't a well-defined concept in Java. You could mean the object itself, with just its members, the Object and all objects it refers to (the reference graph). You could mean the size in memory or the size on disk. And the JVM is allowed to optimise things like Strings.</p>\n\n<p>So the only correct way is to ask the JVM, with a good profiler (I use <a href=\"http://www.yourkit.com\" rel=\"noreferrer\">YourKit</a>), which probably isn't what you want.</p>\n\n<p>However, from the description above it sounds like each row will be self-contained, and not have a big dependency tree, so the serialization method will probably be a good approximation on most JVMs. The easiest way to do this is as follows:</p>\n\n<pre><code> Serializable ser;\n ByteArrayOutputStream baos = new ByteArrayOutputStream();\n ObjectOutputStream oos = new ObjectOutputStream(baos);\n oos.writeObject(ser);\n oos.close();\n return baos.size();\n</code></pre>\n\n<p>Remember that if you have objects with common references this <em>will not</em> give the correct result, and size of serialization will not always match size in memory, but it is a good approximation. The code will be a bit more efficient if you initialise the ByteArrayOutputStream size to a sensible value.</p>\n"},{"comments":[{"owner":{"account_id":25902,"reputation":3385,"user_id":66992,"accept_rate":50,"display_name":"Alexandre L Telles"},"score":6,"creation_date":1252449770,"post_id":52568,"comment_id":1237778,"body_markdown":"The sizeof utility is probably the fastest way. It&#39;s basically what Stefan said, but already packed in a jar ready to use.","body":"The sizeof utility is probably the fastest way. It&#39;s basically what Stefan said, but already packed in a jar ready to use."},{"owner":{"account_id":9240438,"reputation":17,"user_id":13569490,"display_name":"nunam"},"score":0,"creation_date":1594423910,"post_id":52568,"comment_id":111131691,"body_markdown":"the link in the answer is broken","body":"the link in the answer is broken"}],"tags":[],"owner":{"account_id":1497,"reputation":10898,"user_id":1996,"accept_rate":78,"display_name":"Boris Terzic"},"comment_count":2,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1594534148,"creation_date":1220985774,"answer_id":52568,"question_id":52353,"body_markdown":"Some years back Javaworld had [an article on determining the size of composite and potentially nested Java objects][1], they basically walk through creating a sizeof() implementation in Java. The approach basically builds on other work where people experimentally identified the size of primitives and typical Java objects and then apply that knowledge to a method that recursively walks an object graph to tally the total size.\r\n\r\nIt is always going to be somewhat less accurate than a native C implementation simply because of the things going on behind the scenes of a class but it should be a good indicator.\r\n\r\nAlternatively a SourceForge project appropriately called [sizeof][2] that offers a Java5 library with a sizeof() implementation.\r\n\r\nP.S. Do not use the serialization approach, there is no correlation between the size of a serialized object and the amount of memory it consumes when live.\r\n\r\n\r\n  [1]: https://www.infoworld.com/article/2077408/sizeof-for-java.html\r\n  [2]: http://sourceforge.net/projects/sizeof","title":"How to determine the size of an object in Java","body":"<p>Some years back Javaworld had <a href=\"https://www.infoworld.com/article/2077408/sizeof-for-java.html\" rel=\"noreferrer\">an article on determining the size of composite and potentially nested Java objects</a>, they basically walk through creating a sizeof() implementation in Java. The approach basically builds on other work where people experimentally identified the size of primitives and typical Java objects and then apply that knowledge to a method that recursively walks an object graph to tally the total size.</p>\n<p>It is always going to be somewhat less accurate than a native C implementation simply because of the things going on behind the scenes of a class but it should be a good indicator.</p>\n<p>Alternatively a SourceForge project appropriately called <a href=\"http://sourceforge.net/projects/sizeof\" rel=\"noreferrer\">sizeof</a> that offers a Java5 library with a sizeof() implementation.</p>\n<p>P.S. Do not use the serialization approach, there is no correlation between the size of a serialized object and the amount of memory it consumes when live.</p>\n"},{"comments":[{"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"score":2,"creation_date":1268047685,"post_id":52682,"comment_id":2380539,"body_markdown":"@Stefan Nice hint! Can you please tell, what will be the size of `byte[0]`, `byte[1]`, `byte[5]`, `int[0]`, `int[1]`, `int[2]` using the approach you described? It would be nice, if results include overhead for length of array and memory alignment.","body":"@Stefan Nice hint! Can you please tell, what will be the size of <code>byte[0]</code>, <code>byte[1]</code>, <code>byte[5]</code>, <code>int[0]</code>, <code>int[1]</code>, <code>int[2]</code> using the approach you described? It would be nice, if results include overhead for length of array and memory alignment."},{"owner":{"account_id":98762,"reputation":131,"user_id":267155,"display_name":"Brel"},"score":12,"creation_date":1316176786,"post_id":52682,"comment_id":9002876,"body_markdown":"I tried this and got strange and unhelpful results. Strings were always 32, regardless of size. I thought this was maybe the pointer size but for another immutable class I created, I got 24. It works well for primitives but then you don&#39;t really need a program to tell you how big a char is.","body":"I tried this and got strange and unhelpful results. Strings were always 32, regardless of size. I thought this was maybe the pointer size but for another immutable class I created, I got 24. It works well for primitives but then you don&#39;t really need a program to tell you how big a char is."},{"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"score":7,"creation_date":1374050028,"post_id":52682,"comment_id":25782548,"body_markdown":"@Brel this solution is only an &quot;approximation of the amount of storage consumed by the specified object&quot;, as specified in the documentation. Also I suppose that the authors decided to set the size of a String as 32 bytes (only the pointer?) because of the Java&#39;s String pool, which makes it difficult to say, whether a String instance is shared (stored in the pool) or local&amp;unique to a class.","body":"@Brel this solution is only an &quot;approximation of the amount of storage consumed by the specified object&quot;, as specified in the documentation. Also I suppose that the authors decided to set the size of a String as 32 bytes (only the pointer?) because of the Java&#39;s String pool, which makes it difficult to say, whether a String instance is shared (stored in the pool) or local&amp;unique to a class."},{"owner":{"account_id":85391,"reputation":5204,"user_id":238089,"accept_rate":76,"display_name":"Yura Shinkarev"},"score":15,"creation_date":1375728001,"post_id":52682,"comment_id":26435318,"body_markdown":"How I can user ObjectSizeFetcher, if don&#39;t export jar? I have test java project in eclipse.","body":"How I can user ObjectSizeFetcher, if don&#39;t export jar? I have test java project in eclipse."},{"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"score":1,"creation_date":1406273916,"post_id":52682,"comment_id":38777510,"body_markdown":"what if I am using tomcat, is it the same? When I add the Premain-Class: ObjectSizeFetcher to the MANIFEST.MF in the webcontent-&gt;meta-inf-&gt;manifest.mf, and I run a scheduler to check my size of the object in ecplise, exception of &quot;Illegal access: this web application instance has been stopped already.  Could not load wodinow.weixin.jaskey.util.ObjectSizeFetcher. The Exception is \njava.lang.IllegalStateException&quot; is thrown","body":"what if I am using tomcat, is it the same? When I add the Premain-Class: ObjectSizeFetcher to the MANIFEST.MF in the webcontent-&gt;meta-inf-&gt;manifest.mf, and I run a scheduler to check my size of the object in ecplise, exception of &quot;Illegal access: this web application instance has been stopped already.  Could not load wodinow.weixin.jaskey.util.ObjectSizeFetcher. The Exception is  java.lang.IllegalStateException&quot; is thrown"},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1418730984,"post_id":52682,"comment_id":43438210,"body_markdown":"What will the size of an object be if it holds two maps such that the contents of the first map is inserted into the second map as-is by iterating over the first map i.e, map2.put(map1.key1,map1.value1), map2.put(map1.key2,map1.value2).. and so on. I tried this out and looks like the program is written in a way such that it calculates the size of both the maps even though the second map only contains references to the contents of the first map","body":"What will the size of an object be if it holds two maps such that the contents of the first map is inserted into the second map as-is by iterating over the first map i.e, map2.put(map1.key1,map1.value1), map2.put(map1.key2,map1.value2).. and so on. I tried this out and looks like the program is written in a way such that it calculates the size of both the maps even though the second map only contains references to the contents of the first map"},{"owner":{"account_id":1877879,"reputation":8454,"user_id":1698695,"accept_rate":63,"display_name":"David Williams"},"score":1,"creation_date":1424825022,"post_id":52682,"comment_id":45707429,"body_markdown":"Where is ObjectSizeFetcherAgent.jar coming from?","body":"Where is ObjectSizeFetcherAgent.jar coming from?"},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":1,"creation_date":1430641371,"post_id":52682,"comment_id":48141549,"body_markdown":"[Example on my GitHub for you to play with](https://github.com/cirosantilli/java-cheat/tree/a907ad2243dce2109c54d27323f9387065b5ca5c/instrument). As mentioned by others, the size calculation is not recursive, e.g. `byte[]` members count only as a single pointer.","body":"<a href=\"https://github.com/cirosantilli/java-cheat/tree/a907ad2243dce2109c54d27323f9387065b5ca5c/instrument\" rel=\"nofollow noreferrer\">Example on my GitHub for you to play with</a>. As mentioned by others, the size calculation is not recursive, e.g. <code>byte[]</code> members count only as a single pointer."},{"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"score":1,"creation_date":1460063145,"post_id":52682,"comment_id":60583620,"body_markdown":"These results seem way off. I deserialized a large CSV into a List&lt;List&lt;String&gt;&gt;. Looped through each item and summed up the size. ObjectSizeOf reported 7.5MB. The source file was 119.6MB! The in-use memory went up by 154MB when I loaded the file, after looping GC calls with pauses in between. Not sure how Instrumentation does its thing, but you might want to verify the numbers you get.","body":"These results seem way off. I deserialized a large CSV into a List&lt;List&lt;String&gt;&gt;. Looped through each item and summed up the size. ObjectSizeOf reported 7.5MB. The source file was 119.6MB! The in-use memory went up by 154MB when I loaded the file, after looping GC calls with pauses in between. Not sure how Instrumentation does its thing, but you might want to verify the numbers you get."},{"owner":{"account_id":3197479,"reputation":27833,"user_id":2700356,"accept_rate":76,"display_name":"Yuci"},"score":1,"creation_date":1472814178,"post_id":52682,"comment_id":65915226,"body_markdown":"There must be something not quite right with this approach when trying to find my web session size: it reports 40, while ObjectGraphMeasurer (https://github.com/DimitrisAndreou/memory-measurer) reports &quot;Footprint{Objects=34, References=52, Primitives=[float, int x 19, char x 257, long x 2, byte x 68557]}&quot;. ObjectGraphMeasurer is clearly the winner.","body":"There must be something not quite right with this approach when trying to find my web session size: it reports 40, while ObjectGraphMeasurer (<a href=\"https://github.com/DimitrisAndreou/memory-measurer\" rel=\"nofollow noreferrer\">github.com/DimitrisAndreou/memory-measurer</a>) reports &quot;Footprint{Objects=34, References=52, Primitives=[float, int x 19, char x 257, long x 2, byte x 68557]}&quot;. ObjectGraphMeasurer is clearly the winner."},{"owner":{"account_id":2345911,"reputation":1174,"user_id":2056182,"accept_rate":88,"display_name":"Karl"},"score":1,"creation_date":1489701113,"post_id":52682,"comment_id":72799401,"body_markdown":"for those who have forgotten, to add the manifest to the jar use\njar -cvfm ObjectSizeFetcherAgent.jar mymanifest.txt C.class\n\npopulate mymanifest.txt with what you need eg a Premain-Class","body":"for those who have forgotten, to add the manifest to the jar use jar -cvfm ObjectSizeFetcherAgent.jar mymanifest.txt C.class  populate mymanifest.txt with what you need eg a Premain-Class"},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1507119576,"post_id":52682,"comment_id":80082799,"body_markdown":"@YShinkarev The documentation doesn&#39;t describe a way of doing this without a jar file. Only this &quot;-javaagent:jarpath[=options]&quot;","body":"@YShinkarev The documentation doesn&#39;t describe a way of doing this without a jar file. Only this &quot;-javaagent:jarpath[=options]&quot;"},{"owner":{"account_id":2050865,"reputation":904,"user_id":1829921,"display_name":"omerhakanbilici"},"score":0,"creation_date":1511414978,"post_id":52682,"comment_id":81851343,"body_markdown":"JDK contains java.lang.instrument package since jdk 1.5","body":"JDK contains java.lang.instrument package since jdk 1.5"},{"owner":{"account_id":146387,"reputation":4170,"user_id":356815,"accept_rate":74,"display_name":"basZero"},"score":1,"creation_date":1520326912,"post_id":52682,"comment_id":85258375,"body_markdown":"What are the side effects when you launch a JVM with this instrumentation agent attached? Performance impact? Memory impact?","body":"What are the side effects when you launch a JVM with this instrumentation agent attached? Performance impact? Memory impact?"},{"owner":{"account_id":4482744,"reputation":492,"user_id":3646366,"display_name":"tombrown52"},"score":6,"creation_date":1527782744,"post_id":52682,"comment_id":88266980,"body_markdown":"@brel The reason a String is only 32 bytes regardless of actual length is because the variable length part of a string is stored in a char[], which is it&#39;s own object. To get the true size of an object, you need to add the size of itself and the size of each object it references.","body":"@brel The reason a String is only 32 bytes regardless of actual length is because the variable length part of a string is stored in a char[], which is it&#39;s own object. To get the true size of an object, you need to add the size of itself and the size of each object it references."},{"owner":{"account_id":2226874,"reputation":759,"user_id":1965404,"display_name":"typeracer"},"score":0,"creation_date":1571030124,"post_id":52682,"comment_id":103090525,"body_markdown":"Another good example here: https://www.baeldung.com/java-size-of-object","body":"Another good example here: <a href=\"https://www.baeldung.com/java-size-of-object\" rel=\"nofollow noreferrer\">baeldung.com/java-size-of-object</a>"},{"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"score":0,"creation_date":1695926432,"post_id":52682,"comment_id":136092364,"body_markdown":"this method used to work with JDK17 (and earlier) but with JDK20 it throws exception (at least for me): https://stackoverflow.com/questions/77055455/java-lang-nullpointerexception-cannot-invoke-java-lang-instrument-instrumentat/77055526#77055526. has anyone gotten it to work with JDK20? would like to know.","body":"this method used to work with JDK17 (and earlier) but with JDK20 it throws exception (at least for me): <a href=\"https://stackoverflow.com/questions/77055455/java-lang-nullpointerexception-cannot-invoke-java-lang-instrument-instrumentat/77055526#77055526\" title=\"java lang nullpointerexception cannot invoke java lang instrument instrumentat\">stackoverflow.com/questions/77055455/&hellip;</a>. has anyone gotten it to work with JDK20? would like to know."}],"tags":[],"owner":{"account_id":3744,"reputation":4970,"user_id":5438,"display_name":"Stefan Karlsson"},"comment_count":17,"down_vote_count":8,"up_vote_count":497,"is_accepted":true,"score":489,"last_activity_date":1623166860,"creation_date":1220988277,"answer_id":52682,"question_id":52353,"body_markdown":"You can use the [`java.lang.instrument` package][1].\r\n\r\nCompile and put this class in a JAR:\r\n\r\n    import java.lang.instrument.Instrumentation;\r\n    \r\n    public class ObjectSizeFetcher {\r\n        private static Instrumentation instrumentation;\r\n    \r\n        public static void premain(String args, Instrumentation inst) {\r\n            instrumentation = inst;\r\n        }\r\n    \r\n        public static long getObjectSize(Object o) {\r\n            return instrumentation.getObjectSize(o);\r\n        }\r\n    }\r\n\r\n\r\nAdd the following to your `MANIFEST.MF`:\r\n\r\n    Premain-Class: ObjectSizeFetcher\r\n\r\nUse the `getObjectSize()` method:\r\n\r\n    public class C {\r\n        private int x;\r\n        private int y;\r\n    \r\n        public static void main(String [] args) {\r\n            System.out.println(ObjectSizeFetcher.getObjectSize(new C()));\r\n        }\r\n    }\r\n\r\nInvoke with:\r\n\r\n    java -javaagent:ObjectSizeFetcherAgent.jar C\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html","title":"How to determine the size of an object in Java","body":"<p>You can use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html\" rel=\"noreferrer\"><code>java.lang.instrument</code> package</a>.</p>\n<p>Compile and put this class in a JAR:</p>\n<pre><code>import java.lang.instrument.Instrumentation;\n\npublic class ObjectSizeFetcher {\n    private static Instrumentation instrumentation;\n\n    public static void premain(String args, Instrumentation inst) {\n        instrumentation = inst;\n    }\n\n    public static long getObjectSize(Object o) {\n        return instrumentation.getObjectSize(o);\n    }\n}\n</code></pre>\n<p>Add the following to your <code>MANIFEST.MF</code>:</p>\n<pre><code>Premain-Class: ObjectSizeFetcher\n</code></pre>\n<p>Use the <code>getObjectSize()</code> method:</p>\n<pre><code>public class C {\n    private int x;\n    private int y;\n\n    public static void main(String [] args) {\n        System.out.println(ObjectSizeFetcher.getObjectSize(new C()));\n    }\n}\n</code></pre>\n<p>Invoke with:</p>\n<pre><code>java -javaagent:ObjectSizeFetcherAgent.jar C\n</code></pre>\n"},{"comments":[{"owner":{"account_id":69515,"reputation":3463,"user_id":202191,"accept_rate":94,"display_name":"nicoulaj"},"score":0,"creation_date":1339421147,"post_id":10587479,"comment_id":14342208,"body_markdown":"Interesting approach, but doesn&#39;t this suppose the object and its fields storage is not fragmented ?","body":"Interesting approach, but doesn&#39;t this suppose the object and its fields storage is not fragmented ?"},{"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"score":0,"creation_date":1340037896,"post_id":10587479,"comment_id":14516697,"body_markdown":"Yes and I don&#39;t know any JVM implementation that makes such fragmentation.","body":"Yes and I don&#39;t know any JVM implementation that makes such fragmentation."},{"owner":{"account_id":69515,"reputation":3463,"user_id":202191,"accept_rate":94,"display_name":"nicoulaj"},"score":0,"creation_date":1340113568,"post_id":10587479,"comment_id":14540628,"body_markdown":"I don&#39;t understand. Fragmentation is not an option :) Let&#39;s take the example of object C which is stored as a field of objects A and B. Doesn&#39;t it shift the whole thing in either A or B ?","body":"I don&#39;t understand. Fragmentation is not an option :) Let&#39;s take the example of object C which is stored as a field of objects A and B. Doesn&#39;t it shift the whole thing in either A or B ?"},{"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"score":0,"creation_date":1340115874,"post_id":10587479,"comment_id":14541795,"body_markdown":"Sorry, but I am not understanding either your point of view. According to my interpretation, in Java objects cannot be stored inside other objects, like happens with C structures or Value Types in .Net. So when you say: “object C which is stored as a field of objects A and B” that means that objects A and B have fields that store references (pointers) to the object C.\n\nThen the size of A and B are equals to the offset of that field plus the size of a reference (pointer) to the object C. And the size of a reference is the size of one word.","body":"Sorry, but I am not understanding either your point of view. According to my interpretation, in Java objects cannot be stored inside other objects, like happens with C structures or Value Types in .Net. So when you say: “object C which is stored as a field of objects A and B” that means that objects A and B have fields that store references (pointers) to the object C.  Then the size of A and B are equals to the offset of that field plus the size of a reference (pointer) to the object C. And the size of a reference is the size of one word."},{"owner":{"account_id":69515,"reputation":3463,"user_id":202191,"accept_rate":94,"display_name":"nicoulaj"},"score":0,"creation_date":1340117301,"post_id":10587479,"comment_id":14542552,"body_markdown":"Oh, OK, we are talking about shallow size. My bad.","body":"Oh, OK, we are talking about shallow size. My bad."},{"owner":{"account_id":285969,"reputation":12256,"user_id":584947,"accept_rate":92,"display_name":"fIwJlxSzApHEZIl"},"score":0,"creation_date":1409351754,"post_id":10587479,"comment_id":39947057,"body_markdown":"Unfortunately sun.misc.Unsafe is not allowed in the Google App Engine JVM! Project won&#39;t compile with the reference :(","body":"Unfortunately sun.misc.Unsafe is not allowed in the Google App Engine JVM! Project won&#39;t compile with the reference :("},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1430574213,"post_id":10587479,"comment_id":48124433,"body_markdown":"A hardcore `Unsafe` method is mentioned at: https://highlyscalable.wordpress.com/2012/02/02/direct-memory-access-in-java/ : he &quot;just&quot; reads an internal object length field.","body":"A hardcore <code>Unsafe</code> method is mentioned at: <a href=\"https://highlyscalable.wordpress.com/2012/02/02/direct-memory-access-in-java/\" rel=\"nofollow noreferrer\">highlyscalable.wordpress.com/2012/02/02/&hellip;</a> : he &quot;just&quot; reads an internal object length field."}],"tags":[],"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"comment_count":7,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1337013433,"creation_date":1337013433,"answer_id":10587479,"question_id":52353,"body_markdown":"The `java.lang.instrument.Instrumentation` class provides a nice way to get the size of a Java Object, but it requires you to define a `premain` and run your program with a java agent. This is very boring when you do not need any agent and then you have to provide a dummy Jar agent to your application.\r\n\r\nSo I got an alternative solution using the `Unsafe` class from the `sun.misc`. So, considering the objects heap alignment according to the processor architecture and calculating the maximum field offset, you can measure the size of a Java Object. In the example below I use an auxiliary class `UtilUnsafe` to get a reference to the `sun.misc.Unsafe` object.\r\n\r\n    private static final int NR_BITS = Integer.valueOf(System.getProperty(&quot;sun.arch.data.model&quot;));\r\n    private static final int BYTE = 8;\r\n    private static final int WORD = NR_BITS/BYTE;\r\n    private static final int MIN_SIZE = 16; \r\n\t\r\n    public static int sizeOf(Class src){\r\n        //\r\n        // Get the instance fields of src class\r\n        // \r\n        List&lt;Field&gt; instanceFields = new LinkedList&lt;Field&gt;();\r\n        do{\r\n            if(src == Object.class) return MIN_SIZE;\r\n            for (Field f : src.getDeclaredFields()) {\r\n                if((f.getModifiers() &amp; Modifier.STATIC) == 0){\r\n                    instanceFields.add(f);\r\n                }\r\n            }\r\n            src = src.getSuperclass();\r\n        }while(instanceFields.isEmpty());\r\n        //\r\n        // Get the field with the maximum offset\r\n        // \t\r\n        long maxOffset = 0;\r\n        for (Field f : instanceFields) {\r\n            long offset = UtilUnsafe.UNSAFE.objectFieldOffset(f);\r\n            if(offset &gt; maxOffset) maxOffset = offset; \r\n        }\r\n        return  (((int)maxOffset/WORD) + 1)*WORD; \r\n    }\r\n    class UtilUnsafe {\r\n        public static final sun.misc.Unsafe UNSAFE;\r\n\r\n        static {\r\n            Object theUnsafe = null;\r\n            Exception exception = null;\r\n            try {\r\n                Class&lt;?&gt; uc = Class.forName(&quot;sun.misc.Unsafe&quot;);\r\n                Field f = uc.getDeclaredField(&quot;theUnsafe&quot;);\r\n                f.setAccessible(true);\r\n                theUnsafe = f.get(uc);\r\n            } catch (Exception e) { exception = e; }\r\n            UNSAFE = (sun.misc.Unsafe) theUnsafe;\r\n            if (UNSAFE == null) throw new Error(&quot;Could not obtain access to sun.misc.Unsafe&quot;, exception);\r\n        }\r\n        private UtilUnsafe() { }\r\n    }\r\n","title":"How to determine the size of an object in Java","body":"<p>The <code>java.lang.instrument.Instrumentation</code> class provides a nice way to get the size of a Java Object, but it requires you to define a <code>premain</code> and run your program with a java agent. This is very boring when you do not need any agent and then you have to provide a dummy Jar agent to your application.</p>\n\n<p>So I got an alternative solution using the <code>Unsafe</code> class from the <code>sun.misc</code>. So, considering the objects heap alignment according to the processor architecture and calculating the maximum field offset, you can measure the size of a Java Object. In the example below I use an auxiliary class <code>UtilUnsafe</code> to get a reference to the <code>sun.misc.Unsafe</code> object.</p>\n\n<pre><code>private static final int NR_BITS = Integer.valueOf(System.getProperty(\"sun.arch.data.model\"));\nprivate static final int BYTE = 8;\nprivate static final int WORD = NR_BITS/BYTE;\nprivate static final int MIN_SIZE = 16; \n\npublic static int sizeOf(Class src){\n    //\n    // Get the instance fields of src class\n    // \n    List&lt;Field&gt; instanceFields = new LinkedList&lt;Field&gt;();\n    do{\n        if(src == Object.class) return MIN_SIZE;\n        for (Field f : src.getDeclaredFields()) {\n            if((f.getModifiers() &amp; Modifier.STATIC) == 0){\n                instanceFields.add(f);\n            }\n        }\n        src = src.getSuperclass();\n    }while(instanceFields.isEmpty());\n    //\n    // Get the field with the maximum offset\n    //  \n    long maxOffset = 0;\n    for (Field f : instanceFields) {\n        long offset = UtilUnsafe.UNSAFE.objectFieldOffset(f);\n        if(offset &gt; maxOffset) maxOffset = offset; \n    }\n    return  (((int)maxOffset/WORD) + 1)*WORD; \n}\nclass UtilUnsafe {\n    public static final sun.misc.Unsafe UNSAFE;\n\n    static {\n        Object theUnsafe = null;\n        Exception exception = null;\n        try {\n            Class&lt;?&gt; uc = Class.forName(\"sun.misc.Unsafe\");\n            Field f = uc.getDeclaredField(\"theUnsafe\");\n            f.setAccessible(true);\n            theUnsafe = f.get(uc);\n        } catch (Exception e) { exception = e; }\n        UNSAFE = (sun.misc.Unsafe) theUnsafe;\n        if (UNSAFE == null) throw new Error(\"Could not obtain access to sun.misc.Unsafe\", exception);\n    }\n    private UtilUnsafe() { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53886,"reputation":321,"user_id":161142,"display_name":"JZeeb"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1365088087,"creation_date":1365088087,"answer_id":15815016,"question_id":52353,"body_markdown":"You could generate a heap dump (with jmap, for example) and then analyze the output to find object sizes.  This is an offline solution, but you can examine shallow and deep sizes, etc.","title":"How to determine the size of an object in Java","body":"<p>You could generate a heap dump (with jmap, for example) and then analyze the output to find object sizes.  This is an offline solution, but you can examine shallow and deep sizes, etc.</p>\n"},{"tags":[],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1450310299,"creation_date":1378412029,"answer_id":18645101,"question_id":52353,"body_markdown":"There is also the **Memory Measurer** tool (formerly at [Google Code][1], now on [GitHub][2]), which is simple and published under the commercial-friendly **Apache 2.0 license**, as discussed in a [similar question][3].\r\n\r\nIt, too, requires a command-line argument to the java interpreter if you want to measure memory byte consumption, but otherwise seems to work just fine, at least in the scenarios I have used it.\r\n\r\n\r\n  [1]: http://code.google.com/p/memory-measurer/\r\n  [2]: https://github.com/DimitrisAndreou/memory-measurer\r\n  [3]: https://stackoverflow.com/questions/9368764/calculate-size-of-object-in-java","title":"How to determine the size of an object in Java","body":"<p>There is also the <strong>Memory Measurer</strong> tool (formerly at <a href=\"http://code.google.com/p/memory-measurer/\" rel=\"nofollow noreferrer\">Google Code</a>, now on <a href=\"https://github.com/DimitrisAndreou/memory-measurer\" rel=\"nofollow noreferrer\">GitHub</a>), which is simple and published under the commercial-friendly <strong>Apache 2.0 license</strong>, as discussed in a <a href=\"https://stackoverflow.com/questions/9368764/calculate-size-of-object-in-java\">similar question</a>.</p>\n\n<p>It, too, requires a command-line argument to the java interpreter if you want to measure memory byte consumption, but otherwise seems to work just fine, at least in the scenarios I have used it.</p>\n"},{"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1384572864,"creation_date":1384572864,"answer_id":20014332,"question_id":52353,"body_markdown":"I wrote a quick test once to estimate on the fly:\r\n\r\n    public class Test1 {\r\n    \r\n        // non-static nested\r\n        class Nested { }\r\n        \r\n        // static nested\r\n        static class StaticNested { }\r\n        \r\n        static long getFreeMemory () {\r\n            // waits for free memory measurement to stabilize\r\n            long init = Runtime.getRuntime().freeMemory(), init2;\r\n            int count = 0;\r\n            do {\r\n                System.out.println(&quot;waiting...&quot; + init);\r\n                System.gc();\r\n                try { Thread.sleep(250); } catch (Exception x) { }\r\n                init2 = init;\r\n                init = Runtime.getRuntime().freeMemory();\r\n                if (init == init2) ++ count; else count = 0;\r\n            } while (count &lt; 5);\r\n            System.out.println(&quot;ok...&quot; + init);\r\n            return init;\r\n        }\r\n        \r\n        Test1 () throws InterruptedException {\r\n    \r\n            Object[] s = new Object[10000];\r\n            Object[] n = new Object[10000];\r\n            Object[] t = new Object[10000];\r\n    \r\n            long init = getFreeMemory();\r\n            \r\n            //for (int j = 0; j &lt; 10000; ++ j)\r\n            //    s[j] = new Separate();\r\n            \r\n            long afters = getFreeMemory();\r\n    \r\n            for (int j = 0; j &lt; 10000; ++ j)\r\n                n[j] = new Nested();\r\n    \r\n            long aftersn = getFreeMemory();\r\n            \r\n            for (int j = 0; j &lt; 10000; ++ j)\r\n                t[j] = new StaticNested();\r\n    \r\n            long aftersnt = getFreeMemory();\r\n    \r\n            System.out.println(&quot;separate:      &quot; + -(afters - init) + &quot; each=&quot; + -(afters - init) / 10000);\r\n            System.out.println(&quot;nested:        &quot; + -(aftersn - afters) + &quot; each=&quot; + -(aftersn - afters) / 10000);\r\n            System.out.println(&quot;static nested: &quot; + -(aftersnt - aftersn) + &quot; each=&quot; + -(aftersnt - aftersn) / 10000);\r\n            \r\n        }\r\n        \r\n        public static void main (String[] args) throws InterruptedException {\r\n            new Test1();\r\n        }\r\n    \r\n    }\r\n\r\nGeneral concept is allocate objects and measure change in free heap space. The key being `getFreeMemory()`, which **requests GC runs and waits for the reported free heap size to stabilize**. The output of the above is:\r\n\r\n    nested:        160000 each=16\r\n    static nested: 160000 each=16\r\n\r\nWhich is what we expect, given alignment behavior and possible heap block header overhead.\r\n\r\nThe instrumentation method detailed in the accepted answer here the most accurate. The method I described is accurate but only under controlled conditions where no other threads are creating/discarding objects.","title":"How to determine the size of an object in Java","body":"<p>I wrote a quick test once to estimate on the fly:</p>\n\n<pre><code>public class Test1 {\n\n    // non-static nested\n    class Nested { }\n\n    // static nested\n    static class StaticNested { }\n\n    static long getFreeMemory () {\n        // waits for free memory measurement to stabilize\n        long init = Runtime.getRuntime().freeMemory(), init2;\n        int count = 0;\n        do {\n            System.out.println(\"waiting...\" + init);\n            System.gc();\n            try { Thread.sleep(250); } catch (Exception x) { }\n            init2 = init;\n            init = Runtime.getRuntime().freeMemory();\n            if (init == init2) ++ count; else count = 0;\n        } while (count &lt; 5);\n        System.out.println(\"ok...\" + init);\n        return init;\n    }\n\n    Test1 () throws InterruptedException {\n\n        Object[] s = new Object[10000];\n        Object[] n = new Object[10000];\n        Object[] t = new Object[10000];\n\n        long init = getFreeMemory();\n\n        //for (int j = 0; j &lt; 10000; ++ j)\n        //    s[j] = new Separate();\n\n        long afters = getFreeMemory();\n\n        for (int j = 0; j &lt; 10000; ++ j)\n            n[j] = new Nested();\n\n        long aftersn = getFreeMemory();\n\n        for (int j = 0; j &lt; 10000; ++ j)\n            t[j] = new StaticNested();\n\n        long aftersnt = getFreeMemory();\n\n        System.out.println(\"separate:      \" + -(afters - init) + \" each=\" + -(afters - init) / 10000);\n        System.out.println(\"nested:        \" + -(aftersn - afters) + \" each=\" + -(aftersn - afters) / 10000);\n        System.out.println(\"static nested: \" + -(aftersnt - aftersn) + \" each=\" + -(aftersnt - aftersn) / 10000);\n\n    }\n\n    public static void main (String[] args) throws InterruptedException {\n        new Test1();\n    }\n\n}\n</code></pre>\n\n<p>General concept is allocate objects and measure change in free heap space. The key being <code>getFreeMemory()</code>, which <strong>requests GC runs and waits for the reported free heap size to stabilize</strong>. The output of the above is:</p>\n\n<pre><code>nested:        160000 each=16\nstatic nested: 160000 each=16\n</code></pre>\n\n<p>Which is what we expect, given alignment behavior and possible heap block header overhead.</p>\n\n<p>The instrumentation method detailed in the accepted answer here the most accurate. The method I described is accurate but only under controlled conditions where no other threads are creating/discarding objects.</p>\n"},{"comments":[{"owner":{"account_id":441389,"reputation":686,"user_id":831454,"accept_rate":60,"display_name":"rajugaadu"},"score":0,"creation_date":1402972520,"post_id":23511330,"comment_id":37467257,"body_markdown":"what if GC runs in the middle during // Code for object construction? Might now yield correct result all the time.","body":"what if GC runs in the middle during // Code for object construction? Might now yield correct result all the time."}],"tags":[],"owner":{"account_id":443771,"reputation":335,"user_id":835199,"accept_rate":0,"display_name":"user835199"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1399447423,"creation_date":1399447423,"answer_id":23511330,"question_id":52353,"body_markdown":"    long heapSizeBefore = Runtime.getRuntime().totalMemory();\r\n\r\n    // Code for object construction\r\n    ...\r\n    long heapSizeAfter = Runtime.getRuntime().totalMemory();\r\n    long size = heapSizeAfter - heapSizeBefore;\r\n\r\nsize gives you the increase in memory usage of the jvm due to object creation and that typically is the size of the object.\r\n","title":"How to determine the size of an object in Java","body":"<pre><code>long heapSizeBefore = Runtime.getRuntime().totalMemory();\n\n// Code for object construction\n...\nlong heapSizeAfter = Runtime.getRuntime().totalMemory();\nlong size = heapSizeAfter - heapSizeBefore;\n</code></pre>\n\n<p>size gives you the increase in memory usage of the jvm due to object creation and that typically is the size of the object.</p>\n"},{"comments":[{"owner":{"account_id":484421,"reputation":5836,"user_id":900081,"accept_rate":58,"display_name":"D&#233;bora"},"score":0,"creation_date":1408285609,"post_id":24423089,"comment_id":39523498,"body_markdown":"Did you tested this class with values ? I tried, but for me, incorrect values !!!.","body":"Did you tested this class with values ? I tried, but for me, incorrect values !!!."},{"owner":{"account_id":23506,"reputation":7505,"user_id":58962,"accept_rate":65,"display_name":"Michael B&#246;ckling"},"score":1,"creation_date":1408626766,"post_id":24423089,"comment_id":39667440,"body_markdown":"The values it gave me for a simple object were about correct, but off by a factor of 10 for a list containing 1mio objects. Still, very nice work!","body":"The values it gave me for a simple object were about correct, but off by a factor of 10 for a list containing 1mio objects. Still, very nice work!"},{"owner":{"account_id":4663661,"reputation":301,"user_id":3777283,"display_name":"dlaudams"},"score":0,"creation_date":1410241383,"post_id":24423089,"comment_id":40241059,"body_markdown":"Interesting. I have tested it using JDK7u67, on Windows 7 x64 and Linux 2.6.16/x86_64, using each of 32bit/64bit/oop address modes. I have compared it to memory dumps analysed in Eclipse Memory Analyzer 1.3.x. What setup are you using? Do you have a specific example I could try?","body":"Interesting. I have tested it using JDK7u67, on Windows 7 x64 and Linux 2.6.16/x86_64, using each of 32bit/64bit/oop address modes. I have compared it to memory dumps analysed in Eclipse Memory Analyzer 1.3.x. What setup are you using? Do you have a specific example I could try?"},{"owner":{"account_id":449705,"reputation":2038,"user_id":844648,"accept_rate":70,"display_name":"Perlos"},"score":0,"creation_date":1536929778,"post_id":24423089,"comment_id":91611628,"body_markdown":"Best choice I can do. I cant use `Instrumentation` because i don&#39;t start tomcat, `ObjectSizeCalculator` because not sure of VM type(HotSpot) and `JOL` bacouse spring beans. I use this and add second parameter for ignoring singletons viz `AbstractRefreshableApplicationContext.getBeanFactory().getSingletonMutex()` and refactor `internalSizeOf` code to ignore Class and Enum","body":"Best choice I can do. I cant use <code>Instrumentation</code> because i don&#39;t start tomcat, <code>ObjectSizeCalculator</code> because not sure of VM type(HotSpot) and <code>JOL</code> bacouse spring beans. I use this and add second parameter for ignoring singletons viz <code>AbstractRefreshableApplicationContext.getBeanFactory().getSi&zwnj;&#8203;ngletonMutex()</code> and refactor <code>internalSizeOf</code> code to ignore Class and Enum"},{"owner":{"account_id":449705,"reputation":2038,"user_id":844648,"accept_rate":70,"display_name":"Perlos"},"score":0,"creation_date":1536930527,"post_id":24423089,"comment_id":91612060,"body_markdown":"For comparing results use ObjectSizeCalculator (Compute whole server 1GB to 10s). JOL cause MemError (6GB not be enaught) and i don&#39;t get same results, probably because enums.","body":"For comparing results use ObjectSizeCalculator (Compute whole server 1GB to 10s). JOL cause MemError (6GB not be enaught) and i don&#39;t get same results, probably because enums."}],"tags":[],"owner":{"account_id":4663661,"reputation":301,"user_id":3777283,"display_name":"dlaudams"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1403762555,"creation_date":1403761007,"answer_id":24423089,"question_id":52353,"body_markdown":"Here is a utility I made using some of the linked examples to handle 32-bit, 64-bit and 64-bit with compressed OOP. It uses `sun.misc.Unsafe`.\r\n\r\nIt uses `Unsafe.addressSize()` to get the size of a native pointer and `Unsafe.arrayIndexScale( Object[].class )` for the size of a Java reference.\r\n\r\nIt uses the field offset of a known class to work out the base size of an object.\r\n\r\n\r\n\r\n    \r\n    import java.lang.reflect.Array;\r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.Modifier;\r\n    import java.util.IdentityHashMap;\r\n    import java.util.Stack;\r\n    import sun.misc.Unsafe;\r\n    \r\n    /** Usage: \r\n     * MemoryUtil.sizeOf( object )\r\n     * MemoryUtil.deepSizeOf( object )\r\n     * MemoryUtil.ADDRESS_MODE\r\n     */\r\n    public class MemoryUtil\r\n    {\r\n        private MemoryUtil()\r\n        {\r\n        }\r\n            \r\n        public static enum AddressMode\r\n        {\r\n            /** Unknown address mode. Size calculations may be unreliable. */\r\n            UNKNOWN,\r\n            /** 32-bit address mode using 32-bit references. */\r\n            MEM_32BIT,\r\n            /** 64-bit address mode using 64-bit references. */\r\n            MEM_64BIT,\r\n            /** 64-bit address mode using 32-bit compressed references. */\r\n            MEM_64BIT_COMPRESSED_OOPS\r\n        }\r\n        \r\n        /** The detected runtime address mode. */\r\n        public static final AddressMode ADDRESS_MODE;\r\n        \r\n        private static final Unsafe UNSAFE;\r\n        \r\n        private static final long ADDRESS_SIZE; // The size in bytes of a native pointer: 4 for 32 bit, 8 for 64 bit\r\n        private static final long REFERENCE_SIZE; // The size of a Java reference: 4 for 32 bit, 4 for 64 bit compressed oops, 8 for 64 bit\r\n        private static final long OBJECT_BASE_SIZE; // The minimum size of an Object: 8 for 32 bit, 12 for 64 bit compressed oops, 16 for 64 bit\r\n        private static final long OBJECT_ALIGNMENT = 8;\r\n        \r\n        /** Use the offset of a known field to determine the minimum size of an object. */\r\n        private static final Object HELPER_OBJECT = new Object() { byte b; };\r\n        \r\n        \r\n        static\r\n        {\r\n            try\r\n            {\r\n                // Use reflection to get a reference to the &#39;Unsafe&#39; object.\r\n                Field f = Unsafe.class.getDeclaredField( &quot;theUnsafe&quot; );\r\n                f.setAccessible( true );\r\n                UNSAFE = (Unsafe) f.get( null );\r\n    \r\n                OBJECT_BASE_SIZE = UNSAFE.objectFieldOffset( HELPER_OBJECT.getClass().getDeclaredField( &quot;b&quot; ) );\r\n\r\n                ADDRESS_SIZE = UNSAFE.addressSize();\r\n                REFERENCE_SIZE = UNSAFE.arrayIndexScale( Object[].class );\r\n                \r\n                if( ADDRESS_SIZE == 4 )\r\n                {\r\n                    ADDRESS_MODE = AddressMode.MEM_32BIT;\r\n                }\r\n                else if( ADDRESS_SIZE == 8 &amp;&amp; REFERENCE_SIZE == 8 )\r\n                {\r\n                    ADDRESS_MODE = AddressMode.MEM_64BIT;\r\n                }\r\n                else if( ADDRESS_SIZE == 8 &amp;&amp; REFERENCE_SIZE == 4 )\r\n                {\r\n                    ADDRESS_MODE = AddressMode.MEM_64BIT_COMPRESSED_OOPS;\r\n                }\r\n                else\r\n                {\r\n                    ADDRESS_MODE = AddressMode.UNKNOWN;\r\n                }\r\n            }\r\n            catch( Exception e )\r\n            {\r\n                throw new Error( e );\r\n            }\r\n        }\r\n        \r\n    \r\n        /** Return the size of the object excluding any referenced objects. */\r\n        public static long shallowSizeOf( final Object object )\r\n        {\r\n            Class&lt;?&gt; objectClass = object.getClass();\r\n            if( objectClass.isArray() )\r\n            {\r\n                // Array size is base offset + length * element size\r\n                long size = UNSAFE.arrayBaseOffset( objectClass )\r\n                        + UNSAFE.arrayIndexScale( objectClass ) * Array.getLength( object );\r\n                return padSize( size );\r\n            }\r\n            else\r\n            {\r\n                // Object size is the largest field offset padded out to 8 bytes\r\n                long size = OBJECT_BASE_SIZE;\r\n                do\r\n                {\r\n                    for( Field field : objectClass.getDeclaredFields() )\r\n                    {\r\n                        if( (field.getModifiers() &amp; Modifier.STATIC) == 0 )\r\n                        {\r\n                            long offset = UNSAFE.objectFieldOffset( field );\r\n                            if( offset &gt;= size )\r\n                            {\r\n                                size = offset + 1; // Field size is between 1 and PAD_SIZE bytes. Padding will round up to padding size.\r\n                            }\r\n                        }\r\n                    }\r\n                    objectClass = objectClass.getSuperclass();\r\n                }\r\n                while( objectClass != null );\r\n                \r\n                return padSize( size );\r\n            }\r\n        }\r\n        \r\n        \r\n        private static final long padSize( final long size )\r\n        {\r\n            return (size + (OBJECT_ALIGNMENT - 1)) &amp; ~(OBJECT_ALIGNMENT - 1);\r\n        }\r\n    \r\n        \r\n        /** Return the size of the object including any referenced objects. */\r\n        public static long deepSizeOf( final Object object )\r\n        {\r\n            IdentityHashMap&lt;Object,Object&gt; visited = new IdentityHashMap&lt;Object,Object&gt;();\r\n            Stack&lt;Object&gt; stack = new Stack&lt;Object&gt;();\r\n            if( object != null ) stack.push( object );\r\n            \r\n            long size = 0;\r\n            while( !stack.isEmpty() )\r\n            {\r\n                size += internalSizeOf( stack.pop(), stack, visited );\r\n            }\r\n            return size;\r\n        }\r\n        \r\n        \r\n        private static long internalSizeOf( final Object object, final Stack&lt;Object&gt; stack, final IdentityHashMap&lt;Object,Object&gt; visited )\r\n        {\r\n            // Scan for object references and add to stack\r\n            Class&lt;?&gt; c = object.getClass();\r\n            if( c.isArray() &amp;&amp; !c.getComponentType().isPrimitive() )\r\n            {\r\n                // Add unseen array elements to stack\r\n                for( int i = Array.getLength( object ) - 1; i &gt;= 0; i-- )\r\n                {\r\n                    Object val = Array.get( object, i );\r\n                    if( val != null &amp;&amp; visited.put( val, val ) == null )\r\n                    {\r\n                        stack.add( val );\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                // Add unseen object references to the stack\r\n                for( ; c != null; c = c.getSuperclass() )\r\n                {\r\n                    for( Field field : c.getDeclaredFields() )\r\n                    {\r\n                        if( (field.getModifiers() &amp; Modifier.STATIC) == 0 \r\n                                &amp;&amp; !field.getType().isPrimitive() )\r\n                        {\r\n                            field.setAccessible( true );\r\n                            try\r\n                            {\r\n                                Object val = field.get( object );\r\n                                if( val != null &amp;&amp; visited.put( val, val ) == null )\r\n                                {\r\n                                    stack.add( val );\r\n                                }\r\n                            }\r\n                            catch( IllegalArgumentException e )\r\n                            {\r\n                                throw new RuntimeException( e );\r\n                            }\r\n                            catch( IllegalAccessException e )\r\n                            {\r\n                                throw new RuntimeException( e );\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return shallowSizeOf( object );\r\n        }\r\n    }\r\n\r\n","title":"How to determine the size of an object in Java","body":"<p>Here is a utility I made using some of the linked examples to handle 32-bit, 64-bit and 64-bit with compressed OOP. It uses <code>sun.misc.Unsafe</code>.</p>\n\n<p>It uses <code>Unsafe.addressSize()</code> to get the size of a native pointer and <code>Unsafe.arrayIndexScale( Object[].class )</code> for the size of a Java reference.</p>\n\n<p>It uses the field offset of a known class to work out the base size of an object.</p>\n\n<pre><code>import java.lang.reflect.Array;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Modifier;\nimport java.util.IdentityHashMap;\nimport java.util.Stack;\nimport sun.misc.Unsafe;\n\n/** Usage: \n * MemoryUtil.sizeOf( object )\n * MemoryUtil.deepSizeOf( object )\n * MemoryUtil.ADDRESS_MODE\n */\npublic class MemoryUtil\n{\n    private MemoryUtil()\n    {\n    }\n\n    public static enum AddressMode\n    {\n        /** Unknown address mode. Size calculations may be unreliable. */\n        UNKNOWN,\n        /** 32-bit address mode using 32-bit references. */\n        MEM_32BIT,\n        /** 64-bit address mode using 64-bit references. */\n        MEM_64BIT,\n        /** 64-bit address mode using 32-bit compressed references. */\n        MEM_64BIT_COMPRESSED_OOPS\n    }\n\n    /** The detected runtime address mode. */\n    public static final AddressMode ADDRESS_MODE;\n\n    private static final Unsafe UNSAFE;\n\n    private static final long ADDRESS_SIZE; // The size in bytes of a native pointer: 4 for 32 bit, 8 for 64 bit\n    private static final long REFERENCE_SIZE; // The size of a Java reference: 4 for 32 bit, 4 for 64 bit compressed oops, 8 for 64 bit\n    private static final long OBJECT_BASE_SIZE; // The minimum size of an Object: 8 for 32 bit, 12 for 64 bit compressed oops, 16 for 64 bit\n    private static final long OBJECT_ALIGNMENT = 8;\n\n    /** Use the offset of a known field to determine the minimum size of an object. */\n    private static final Object HELPER_OBJECT = new Object() { byte b; };\n\n\n    static\n    {\n        try\n        {\n            // Use reflection to get a reference to the 'Unsafe' object.\n            Field f = Unsafe.class.getDeclaredField( \"theUnsafe\" );\n            f.setAccessible( true );\n            UNSAFE = (Unsafe) f.get( null );\n\n            OBJECT_BASE_SIZE = UNSAFE.objectFieldOffset( HELPER_OBJECT.getClass().getDeclaredField( \"b\" ) );\n\n            ADDRESS_SIZE = UNSAFE.addressSize();\n            REFERENCE_SIZE = UNSAFE.arrayIndexScale( Object[].class );\n\n            if( ADDRESS_SIZE == 4 )\n            {\n                ADDRESS_MODE = AddressMode.MEM_32BIT;\n            }\n            else if( ADDRESS_SIZE == 8 &amp;&amp; REFERENCE_SIZE == 8 )\n            {\n                ADDRESS_MODE = AddressMode.MEM_64BIT;\n            }\n            else if( ADDRESS_SIZE == 8 &amp;&amp; REFERENCE_SIZE == 4 )\n            {\n                ADDRESS_MODE = AddressMode.MEM_64BIT_COMPRESSED_OOPS;\n            }\n            else\n            {\n                ADDRESS_MODE = AddressMode.UNKNOWN;\n            }\n        }\n        catch( Exception e )\n        {\n            throw new Error( e );\n        }\n    }\n\n\n    /** Return the size of the object excluding any referenced objects. */\n    public static long shallowSizeOf( final Object object )\n    {\n        Class&lt;?&gt; objectClass = object.getClass();\n        if( objectClass.isArray() )\n        {\n            // Array size is base offset + length * element size\n            long size = UNSAFE.arrayBaseOffset( objectClass )\n                    + UNSAFE.arrayIndexScale( objectClass ) * Array.getLength( object );\n            return padSize( size );\n        }\n        else\n        {\n            // Object size is the largest field offset padded out to 8 bytes\n            long size = OBJECT_BASE_SIZE;\n            do\n            {\n                for( Field field : objectClass.getDeclaredFields() )\n                {\n                    if( (field.getModifiers() &amp; Modifier.STATIC) == 0 )\n                    {\n                        long offset = UNSAFE.objectFieldOffset( field );\n                        if( offset &gt;= size )\n                        {\n                            size = offset + 1; // Field size is between 1 and PAD_SIZE bytes. Padding will round up to padding size.\n                        }\n                    }\n                }\n                objectClass = objectClass.getSuperclass();\n            }\n            while( objectClass != null );\n\n            return padSize( size );\n        }\n    }\n\n\n    private static final long padSize( final long size )\n    {\n        return (size + (OBJECT_ALIGNMENT - 1)) &amp; ~(OBJECT_ALIGNMENT - 1);\n    }\n\n\n    /** Return the size of the object including any referenced objects. */\n    public static long deepSizeOf( final Object object )\n    {\n        IdentityHashMap&lt;Object,Object&gt; visited = new IdentityHashMap&lt;Object,Object&gt;();\n        Stack&lt;Object&gt; stack = new Stack&lt;Object&gt;();\n        if( object != null ) stack.push( object );\n\n        long size = 0;\n        while( !stack.isEmpty() )\n        {\n            size += internalSizeOf( stack.pop(), stack, visited );\n        }\n        return size;\n    }\n\n\n    private static long internalSizeOf( final Object object, final Stack&lt;Object&gt; stack, final IdentityHashMap&lt;Object,Object&gt; visited )\n    {\n        // Scan for object references and add to stack\n        Class&lt;?&gt; c = object.getClass();\n        if( c.isArray() &amp;&amp; !c.getComponentType().isPrimitive() )\n        {\n            // Add unseen array elements to stack\n            for( int i = Array.getLength( object ) - 1; i &gt;= 0; i-- )\n            {\n                Object val = Array.get( object, i );\n                if( val != null &amp;&amp; visited.put( val, val ) == null )\n                {\n                    stack.add( val );\n                }\n            }\n        }\n        else\n        {\n            // Add unseen object references to the stack\n            for( ; c != null; c = c.getSuperclass() )\n            {\n                for( Field field : c.getDeclaredFields() )\n                {\n                    if( (field.getModifiers() &amp; Modifier.STATIC) == 0 \n                            &amp;&amp; !field.getType().isPrimitive() )\n                    {\n                        field.setAccessible( true );\n                        try\n                        {\n                            Object val = field.get( object );\n                            if( val != null &amp;&amp; visited.put( val, val ) == null )\n                            {\n                                stack.add( val );\n                            }\n                        }\n                        catch( IllegalArgumentException e )\n                        {\n                            throw new RuntimeException( e );\n                        }\n                        catch( IllegalAccessException e )\n                        {\n                            throw new RuntimeException( e );\n                        }\n                    }\n                }\n            }\n        }\n\n        return shallowSizeOf( object );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":160345,"reputation":11044,"user_id":380331,"accept_rate":92,"display_name":"Agnius Vasiliauskas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413755622,"creation_date":1413471731,"answer_id":26407668,"question_id":52353,"body_markdown":"My answer is based on the code supplied by Nick. That code measures total amount of bytes which are occupied by the serialized object. So this actually measures serialization stuff + plain object memory footprint (just serialize for example `int` and you will see that total amount of serialized bytes is not `4`). So if you want to get raw byte number used exactly for your object - you need to modify that code a bit. Like so:\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.io.Serializable;\r\n    \r\n    public class ObjectSizeCalculator {\r\n        private Object getFirstObjectReference(Object o) {\r\n            String objectType = o.getClass().getTypeName();\r\n    \r\n            if (objectType.substring(objectType.length()-2).equals(&quot;[]&quot;)) {\r\n                try {\r\n                    if (objectType.equals(&quot;java.lang.Object[]&quot;))\r\n                        return ((Object[])o)[0];\r\n                    else if (objectType.equals(&quot;int[]&quot;))\r\n                        return ((int[])o)[0];\r\n                    else\r\n                        throw new RuntimeException(&quot;Not Implemented !&quot;);\r\n                } catch (IndexOutOfBoundsException e) {\r\n                    return null;\r\n                }\r\n            }\r\n    \r\n            return o;\r\n        } \r\n    \r\n        public int getObjectSizeInBytes(Object o) {\r\n            final String STRING_JAVA_TYPE_NAME = &quot;java.lang.String&quot;;\r\n    \r\n            if (o == null)\r\n                return 0;\r\n    \r\n            String objectType = o.getClass().getTypeName();\r\n            boolean isArray = objectType.substring(objectType.length()-2).equals(&quot;[]&quot;);\r\n    \r\n            Object objRef = getFirstObjectReference(o);\r\n            if (objRef != null &amp;&amp; !(objRef instanceof Serializable))\r\n                throw new RuntimeException(&quot;Object must be serializable for measuring it&#39;s memory footprint using this method !&quot;);\r\n    \r\n            try {\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n                oos.writeObject(o);\r\n                oos.close();\r\n                byte[] bytes = baos.toByteArray();\r\n    \r\n                for (int i = bytes.length - 1, j = 0; i != 0; i--, j++) {\r\n                    if (objectType != STRING_JAVA_TYPE_NAME) {\r\n                        if (bytes[i] == 112)\r\n                            if (isArray)\r\n                                return j - 4;\r\n                            else\r\n                                return j;\r\n                    } else {\r\n                        if (bytes[i] == 0)\r\n                            return j - 1;\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                return -1;\r\n            }\r\n    \r\n            return -1;\r\n        }    \r\n        \r\n    }\r\n\r\nI&#39;ve tested this solution with primitive types, String, and on some trivial classes. There may be not covered cases also.\r\n\r\n&lt;br&gt;**UPDATE:** Example modified to support memory footprint calculation of array objects.","title":"How to determine the size of an object in Java","body":"<p>My answer is based on the code supplied by Nick. That code measures total amount of bytes which are occupied by the serialized object. So this actually measures serialization stuff + plain object memory footprint (just serialize for example <code>int</code> and you will see that total amount of serialized bytes is not <code>4</code>). So if you want to get raw byte number used exactly for your object - you need to modify that code a bit. Like so:</p>\n\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.Serializable;\n\npublic class ObjectSizeCalculator {\n    private Object getFirstObjectReference(Object o) {\n        String objectType = o.getClass().getTypeName();\n\n        if (objectType.substring(objectType.length()-2).equals(\"[]\")) {\n            try {\n                if (objectType.equals(\"java.lang.Object[]\"))\n                    return ((Object[])o)[0];\n                else if (objectType.equals(\"int[]\"))\n                    return ((int[])o)[0];\n                else\n                    throw new RuntimeException(\"Not Implemented !\");\n            } catch (IndexOutOfBoundsException e) {\n                return null;\n            }\n        }\n\n        return o;\n    } \n\n    public int getObjectSizeInBytes(Object o) {\n        final String STRING_JAVA_TYPE_NAME = \"java.lang.String\";\n\n        if (o == null)\n            return 0;\n\n        String objectType = o.getClass().getTypeName();\n        boolean isArray = objectType.substring(objectType.length()-2).equals(\"[]\");\n\n        Object objRef = getFirstObjectReference(o);\n        if (objRef != null &amp;&amp; !(objRef instanceof Serializable))\n            throw new RuntimeException(\"Object must be serializable for measuring it's memory footprint using this method !\");\n\n        try {\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            ObjectOutputStream oos = new ObjectOutputStream(baos);\n            oos.writeObject(o);\n            oos.close();\n            byte[] bytes = baos.toByteArray();\n\n            for (int i = bytes.length - 1, j = 0; i != 0; i--, j++) {\n                if (objectType != STRING_JAVA_TYPE_NAME) {\n                    if (bytes[i] == 112)\n                        if (isArray)\n                            return j - 4;\n                        else\n                            return j;\n                } else {\n                    if (bytes[i] == 0)\n                        return j - 1;\n                }\n            }\n        } catch (Exception e) {\n            return -1;\n        }\n\n        return -1;\n    }    \n\n}\n</code></pre>\n\n<p>I've tested this solution with primitive types, String, and on some trivial classes. There may be not covered cases also.</p>\n\n<p><br><strong>UPDATE:</strong> Example modified to support memory footprint calculation of array objects.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1430702075,"post_id":28825937,"comment_id":48159903,"body_markdown":"How can a 4-byte integer and an object reference of unknown size fit into 4 bytes?","body":"How can a 4-byte integer and an object reference of unknown size fit into 4 bytes?"},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1430715006,"post_id":28825937,"comment_id":48162759,"body_markdown":"@EJP I mean to say all the object REFERENCE needs only 4 bytes of memory. It may be String reference OR Double object reference, But depends on object creation the memory needed will vary.","body":"@EJP I mean to say all the object REFERENCE needs only 4 bytes of memory. It may be String reference OR Double object reference, But depends on object creation the memory needed will vary."}],"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1436758371,"creation_date":1425366298,"answer_id":28825937,"question_id":52353,"body_markdown":"This answer is not related to Object size, but when you are using array to accommodate the objects; how much memory size it will allocate for the object.\r\n\r\nSo arrays, list, or map all those collection won&#39;t be going to store objects really (only at the time of primitives, real object memory size is needed), it will store only references for those objects. \r\n\r\nNow the `Used heap memory = sizeOfObj + sizeOfRef (* 4 bytes) in collection`\r\n\r\n* (4/8 bytes) depends on (32/64 bit) OS\r\n\r\n**PRIMITIVES**\r\n\r\n    int   [] intArray    = new int   [1]; will require 4 bytes.\r\n    long  [] longArray   = new long  [1]; will require 8 bytes.\r\n\r\n**OBJECTS**\r\n\r\n    Object[] objectArray = new Object[1]; will require 4 bytes. The object can be any user defined Object.\r\n    Long  [] longArray   = new Long  [1]; will require 4 bytes.\r\n\r\n\r\nI mean to say all the object REFERENCE needs only 4 bytes of memory. It may be String reference OR Double object reference, But depends on object creation the memory needed will vary.\r\n\r\n\r\ne.g) If i create object for the below class `ReferenceMemoryTest` then 4 + 4 + 4 = 12 bytes of memory will be created. The memory may differ when you are trying to initialize the references.\r\n\r\n     class ReferenceMemoryTest {\r\n        public String refStr;\r\n        public Object refObj;\r\n        public Double refDoub; \r\n    }\r\n\r\n\r\nSo when are creating object/reference array, all its contents will be occupied with NULL references. And we know each reference requires 4 bytes.\r\n\r\n\r\nAnd finally, memory allocation for the below code is 20 bytes.\r\n\r\nReferenceMemoryTest ref1 = new ReferenceMemoryTest(); ( 4(ref1) + 12 = 16 bytes)\r\nReferenceMemoryTest ref2 = ref1;                      ( 4(ref2) + 16 = 20 bytes)","title":"How to determine the size of an object in Java","body":"<p>This answer is not related to Object size, but when you are using array to accommodate the objects; how much memory size it will allocate for the object.</p>\n\n<p>So arrays, list, or map all those collection won't be going to store objects really (only at the time of primitives, real object memory size is needed), it will store only references for those objects. </p>\n\n<p>Now the <code>Used heap memory = sizeOfObj + sizeOfRef (* 4 bytes) in collection</code></p>\n\n<ul>\n<li>(4/8 bytes) depends on (32/64 bit) OS</li>\n</ul>\n\n<p><strong>PRIMITIVES</strong></p>\n\n<pre><code>int   [] intArray    = new int   [1]; will require 4 bytes.\nlong  [] longArray   = new long  [1]; will require 8 bytes.\n</code></pre>\n\n<p><strong>OBJECTS</strong></p>\n\n<pre><code>Object[] objectArray = new Object[1]; will require 4 bytes. The object can be any user defined Object.\nLong  [] longArray   = new Long  [1]; will require 4 bytes.\n</code></pre>\n\n<p>I mean to say all the object REFERENCE needs only 4 bytes of memory. It may be String reference OR Double object reference, But depends on object creation the memory needed will vary.</p>\n\n<p>e.g) If i create object for the below class <code>ReferenceMemoryTest</code> then 4 + 4 + 4 = 12 bytes of memory will be created. The memory may differ when you are trying to initialize the references.</p>\n\n<pre><code> class ReferenceMemoryTest {\n    public String refStr;\n    public Object refObj;\n    public Double refDoub; \n}\n</code></pre>\n\n<p>So when are creating object/reference array, all its contents will be occupied with NULL references. And we know each reference requires 4 bytes.</p>\n\n<p>And finally, memory allocation for the below code is 20 bytes.</p>\n\n<p>ReferenceMemoryTest ref1 = new ReferenceMemoryTest(); ( 4(ref1) + 12 = 16 bytes)\nReferenceMemoryTest ref2 = ref1;                      ( 4(ref2) + 16 = 20 bytes)</p>\n"},{"tags":[],"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1560039890,"creation_date":1425650854,"answer_id":28900509,"question_id":52353,"body_markdown":"Much of the other answers provide shallow sizes - e.g. the size of a HashMap without any of the keys or values, which isn&#39;t likely what you want.\r\n\r\nThe jamm project uses the java.lang.instrumentation package above but walks the tree and so can give you the deep memory use.\r\n\r\n    new MemoryMeter().measureDeep(myHashMap);\r\n\r\nhttps://github.com/jbellis/jamm\r\n\r\n&gt; To use MemoryMeter, start the JVM with &quot;-javaagent:&lt;path to&gt;/jamm.jar&quot;","title":"How to determine the size of an object in Java","body":"<p>Much of the other answers provide shallow sizes - e.g. the size of a HashMap without any of the keys or values, which isn't likely what you want.</p>\n\n<p>The jamm project uses the java.lang.instrumentation package above but walks the tree and so can give you the deep memory use.</p>\n\n<pre><code>new MemoryMeter().measureDeep(myHashMap);\n</code></pre>\n\n<p><a href=\"https://github.com/jbellis/jamm\" rel=\"noreferrer\">https://github.com/jbellis/jamm</a></p>\n\n<blockquote>\n  <p>To use MemoryMeter, start the JVM with \"-javaagent:/jamm.jar\"</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3596675,"reputation":3616,"user_id":3001150,"accept_rate":57,"display_name":"Raildex"},"score":6,"creation_date":1484142179,"post_id":29431949,"comment_id":70388111,"body_markdown":"Doesn&#39;t `System.gc()` just notify that you want to GC?\nIt is not guaranteed that the GC is called at all.","body":"Doesn&#39;t <code>System.gc()</code> just notify that you want to GC? It is not guaranteed that the GC is called at all."},{"owner":{"account_id":2574048,"reputation":1215,"user_id":2232156,"accept_rate":51,"display_name":"Mert Serimer"},"score":0,"creation_date":1513247848,"post_id":29431949,"comment_id":82583710,"body_markdown":"@reallynice. This is not safe because you may never what GC does or affects memory between your lines. So &quot;between&quot; two freeMemory methods  GC can free up more space that you do not consider thus your object will look smaller","body":"@reallynice. This is not safe because you may never what GC does or affects memory between your lines. So &quot;between&quot; two freeMemory methods  GC can free up more space that you do not consider thus your object will look smaller"},{"owner":{"account_id":1629443,"reputation":1299,"user_id":1504300,"accept_rate":71,"display_name":"reallynice"},"score":0,"creation_date":1513262096,"post_id":29431949,"comment_id":82593073,"body_markdown":"@MertSerimer &quot;not safe&quot; is on entire different level for me: at most this isn&#39;t so much accurate, as I also stated. Also, you can&#39;t drive the GC (as Raildex stated), but for this case too I suggested to insert this in a cycle. This is just a quick and dirty and approximate system which works if the result doesn&#39;t need to be very reliable, as stated.","body":"@MertSerimer &quot;not safe&quot; is on entire different level for me: at most this isn&#39;t so much accurate, as I also stated. Also, you can&#39;t drive the GC (as Raildex stated), but for this case too I suggested to insert this in a cycle. This is just a quick and dirty and approximate system which works if the result doesn&#39;t need to be very reliable, as stated."},{"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"score":0,"creation_date":1589818264,"post_id":29431949,"comment_id":109437922,"body_markdown":"There are many problems with this but it does give you a good swag.","body":"There are many problems with this but it does give you a good swag."}],"tags":[],"owner":{"account_id":1629443,"reputation":1299,"user_id":1504300,"accept_rate":71,"display_name":"reallynice"},"comment_count":4,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1428062999,"creation_date":1428062999,"answer_id":29431949,"question_id":52353,"body_markdown":"Without having to mess with instrumentation and so on, and if you don&#39;t need to know the byte-exact size of an object, you could go with the following approach:\r\n    \r\n    System.gc();\r\n    Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();\r\n\r\n    do your job here\r\n\r\n    System.gc();\r\n    Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();\r\n\r\nThis way you read the used memory before and after, and calling the GC just before getting the used memory you lower the &quot;noise&quot; almost to 0.\r\n\r\nFor a more reliable result you can run your job n times, and then divide the used memory by n, obtaining how much memory one run takes. Even more, you can run the whole thing more times and make an average.","title":"How to determine the size of an object in Java","body":"<p>Without having to mess with instrumentation and so on, and if you don't need to know the byte-exact size of an object, you could go with the following approach:</p>\n\n<pre><code>System.gc();\nRuntime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();\n\ndo your job here\n\nSystem.gc();\nRuntime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();\n</code></pre>\n\n<p>This way you read the used memory before and after, and calling the GC just before getting the used memory you lower the \"noise\" almost to 0.</p>\n\n<p>For a more reliable result you can run your job n times, and then divide the used memory by n, obtaining how much memory one run takes. Even more, you can run the whole thing more times and make an average.</p>\n"},{"comments":[{"owner":{"account_id":894842,"reputation":3082,"user_id":932359,"display_name":"Luke Usherwood"},"score":1,"creation_date":1443664694,"post_id":29536817,"comment_id":53587535,"body_markdown":"Szia! I&#39;d just like to shout out your [presentation](http://www.slideshare.net/aszegedi/everything-i-ever-learned-about-jvm-performance-tuning-twitter) too: slides 15-20 are great to help get an instinctive feel for the cost of various data-structure decisions. Thanks for posting that!","body":"Szia! I&#39;d just like to shout out your <a href=\"http://www.slideshare.net/aszegedi/everything-i-ever-learned-about-jvm-performance-tuning-twitter\" rel=\"nofollow noreferrer\">presentation</a> too: slides 15-20 are great to help get an instinctive feel for the cost of various data-structure decisions. Thanks for posting that!"},{"owner":{"account_id":1122289,"reputation":5100,"user_id":1110381,"accept_rate":77,"display_name":"l4mpi"},"score":17,"creation_date":1452522104,"post_id":29536817,"comment_id":57193311,"body_markdown":"&quot;it has no external dependencies&quot; - since when is guava not an external dependency?","body":"&quot;it has no external dependencies&quot; - since when is guava not an external dependency?"},{"owner":{"account_id":3970667,"reputation":857,"user_id":3275354,"accept_rate":85,"display_name":"Francesco"},"score":3,"creation_date":1508853735,"post_id":29536817,"comment_id":80772150,"body_markdown":"looks very similar to https://github.com/JetBrains/jdk8u_nashorn/blob/master/src/jdk/nashorn/internal/ir/debug/ObjectSizeCalculator.java ? :O","body":"looks very similar to <a href=\"https://github.com/JetBrains/jdk8u_nashorn/blob/master/src/jdk/nashorn/internal/ir/debug/ObjectSizeCalculator.java\" rel=\"nofollow noreferrer\">github.com/JetBrains/jdk8u_nashorn/blob/master/src/jdk/nasho&zwnj;&#8203;rn/&hellip;</a> ? :O"},{"owner":{"account_id":2574048,"reputation":1215,"user_id":2232156,"accept_rate":51,"display_name":"Mert Serimer"},"score":0,"creation_date":1513247616,"post_id":29536817,"comment_id":82583533,"body_markdown":"Guave is an external dependency.","body":"Guave is an external dependency."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1645581499,"post_id":29536817,"comment_id":125908194,"body_markdown":"This solution does not work when using OpenJDK 17","body":"This solution does not work when using OpenJDK 17"}],"tags":[],"owner":{"account_id":44768,"reputation":4435,"user_id":131552,"display_name":"Attila Szegedi"},"comment_count":5,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1428577621,"creation_date":1428577621,"answer_id":29536817,"question_id":52353,"body_markdown":"Back when I worked at Twitter, I wrote a utility for calculating deep object size. It takes into account different memory models (32-bit, compressed oops, 64-bit), padding, subclass padding, works correctly on circular data structures and arrays. You can just compile this one .java file; it has no external dependencies:\r\n\r\nhttps://github.com/twitter/commons/blob/master/src/java/com/twitter/common/objectsize/ObjectSizeCalculator.java","title":"How to determine the size of an object in Java","body":"<p>Back when I worked at Twitter, I wrote a utility for calculating deep object size. It takes into account different memory models (32-bit, compressed oops, 64-bit), padding, subclass padding, works correctly on circular data structures and arrays. You can just compile this one .java file; it has no external dependencies:</p>\n\n<p><a href=\"https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/objectsize/ObjectSizeCalculator.java\" rel=\"noreferrer\">https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/objectsize/ObjectSizeCalculator.java</a></p>\n"},{"comments":[{"owner":{"account_id":5116256,"reputation":778,"user_id":4101264,"accept_rate":62,"display_name":"rents"},"score":24,"creation_date":1440962526,"post_id":30021105,"comment_id":52476851,"body_markdown":"This answer should have more upvotes. Definitely a very good option to check. EDIT: Checked that this was added this year while question was asked in &#39;08. Probably the best and easiest option to do what OP asked at the moment.","body":"This answer should have more upvotes. Definitely a very good option to check. EDIT: Checked that this was added this year while question was asked in &#39;08. Probably the best and easiest option to do what OP asked at the moment."},{"owner":{"account_id":1278595,"reputation":323,"user_id":1239389,"display_name":"Mike"},"score":4,"creation_date":1441499848,"post_id":30021105,"comment_id":52704054,"body_markdown":"The tool author wrote [a blog post about Jol](http://shipilev.net/blog/2014/heapdump-is-a-lie/).","body":"The tool author wrote <a href=\"http://shipilev.net/blog/2014/heapdump-is-a-lie/\" rel=\"nofollow noreferrer\">a blog post about Jol</a>."},{"owner":{"account_id":806735,"reputation":251,"user_id":748159,"display_name":"vigor"},"score":3,"creation_date":1484818015,"post_id":30021105,"comment_id":70669464,"body_markdown":"To determine size of Object &quot;obj&quot; use:org.openjdk.jol.info.GraphLayout.parseInstance(obj).totalSize();","body":"To determine size of Object &quot;obj&quot; use:org.openjdk.jol.info.GraphLayout.parseInstance(obj).tota&zwnj;&#8203;lSize();"},{"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"score":0,"creation_date":1526196925,"post_id":30021105,"comment_id":87643583,"body_markdown":"Note that `vmDetails` is now `VM.current().details()`.","body":"Note that <code>vmDetails</code> is now <code>VM.current().details()</code>."},{"owner":{"account_id":1282660,"reputation":8511,"user_id":1236401,"accept_rate":75,"display_name":"Mugen"},"score":0,"creation_date":1585816658,"post_id":30021105,"comment_id":107897415,"body_markdown":"Check out `GraphLayout.parseInstance(instance).toFootprint()` I found it more useful to understand object sizes","body":"Check out <code>GraphLayout.parseInstance(instance).toFootprint()</code> I found it more useful to understand object sizes"}],"tags":[],"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"comment_count":5,"down_vote_count":0,"up_vote_count":169,"is_accepted":false,"score":169,"last_activity_date":1430700412,"creation_date":1430700412,"answer_id":30021105,"question_id":52353,"body_markdown":"You should use [jol](http://openjdk.java.net/projects/code-tools/jol/), a tool developed as part of the OpenJDK project.\r\n\r\n&gt; JOL (Java Object Layout) is the tiny toolbox to analyze object layout schemes in JVMs. These tools are using Unsafe, JVMTI, and Serviceability Agent (SA) heavily to decoder the actual object layout, footprint, and references. This makes JOL much more accurate than other tools relying on heap dumps, specification assumptions, etc.\r\n\r\nTo get the sizes of primitives, references and array elements, use `VMSupport.vmDetails()`.  On Oracle JDK 1.8.0_40 running on 64-bit Windows (used for all following examples), this method returns\r\n\r\n    Running 64-bit HotSpot VM.\r\n    Using compressed oop with 0-bit shift.\r\n    Using compressed klass with 3-bit shift.\r\n    Objects are 8 bytes aligned.\r\n    Field sizes by type: 4, 1, 1, 2, 2, 4, 4, 8, 8 [bytes]\r\n    Array element sizes: 4, 1, 1, 2, 2, 4, 4, 8, 8 [bytes]\r\n\r\nYou can get the shallow size of an object instance using `ClassLayout.parseClass(Foo.class).toPrintable()` (optionally passing an instance to `toPrintable`).  This is only the space consumed by a single instance of that class; it does not include any other objects referenced by that class.  It _does_ include VM overhead for the object header, field alignment and padding.  For `java.util.regex.Pattern`:\r\n\r\n    java.util.regex.Pattern object internals:\r\n     OFFSET  SIZE        TYPE DESCRIPTION                    VALUE\r\n          0     4             (object header)                01 00 00 00 (0000 0001 0000 0000 0000 0000 0000 0000)\r\n          4     4             (object header)                00 00 00 00 (0000 0000 0000 0000 0000 0000 0000 0000)\r\n          8     4             (object header)                cb cf 00 20 (1100 1011 1100 1111 0000 0000 0010 0000)\r\n         12     4         int Pattern.flags                  0\r\n         16     4         int Pattern.capturingGroupCount    1\r\n         20     4         int Pattern.localCount             0\r\n         24     4         int Pattern.cursor                 48\r\n         28     4         int Pattern.patternLength          0\r\n         32     1     boolean Pattern.compiled               true\r\n         33     1     boolean Pattern.hasSupplementary       false\r\n         34     2             (alignment/padding gap)        N/A\r\n         36     4      String Pattern.pattern                (object)\r\n         40     4      String Pattern.normalizedPattern      (object)\r\n         44     4        Node Pattern.root                   (object)\r\n         48     4        Node Pattern.matchRoot              (object)\r\n         52     4       int[] Pattern.buffer                 null\r\n         56     4         Map Pattern.namedGroups            null\r\n         60     4 GroupHead[] Pattern.groupNodes             null\r\n         64     4       int[] Pattern.temp                   null\r\n         68     4             (loss due to the next object alignment)\r\n    Instance size: 72 bytes (reported by Instrumentation API)\r\n    Space losses: 2 bytes internal + 4 bytes external = 6 bytes total\r\n\r\nYou can get a summary view of the deep size of an object instance using `GraphLayout.parseInstance(obj).toFootprint()`.  Of course, some objects in the footprint might be shared (also referenced from other objects), so it is an overapproximation of the space that could be reclaimed when that object is garbage collected.  For the result of `Pattern.compile(&quot;^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\\\.[a-zA-Z0-9-.]+$&quot;)` (taken from [this answer](https://stackoverflow.com/a/719543/3614835)), jol reports a total footprint of 1840 bytes, of which only 72 are the Pattern instance itself.\r\n\r\n    java.util.regex.Pattern instance footprint:\r\n         COUNT       AVG       SUM   DESCRIPTION\r\n             1       112       112   [C\r\n             3       272       816   [Z\r\n             1        24        24   java.lang.String\r\n             1        72        72   java.util.regex.Pattern\r\n             9        24       216   java.util.regex.Pattern$1\r\n            13        24       312   java.util.regex.Pattern$5\r\n             1        16        16   java.util.regex.Pattern$Begin\r\n             3        24        72   java.util.regex.Pattern$BitClass\r\n             3        32        96   java.util.regex.Pattern$Curly\r\n             1        24        24   java.util.regex.Pattern$Dollar\r\n             1        16        16   java.util.regex.Pattern$LastNode\r\n             1        16        16   java.util.regex.Pattern$Node\r\n             2        24        48   java.util.regex.Pattern$Single\r\n            40                1840   (total)\r\n\r\nIf you instead use `GraphLayout.parseInstance(obj).toPrintable()`, jol will tell you the address, size, type, value and path of field dereferences to each referenced object, though that&#39;s usually too much detail to be useful.  For the ongoing pattern example, you might get the following.  (Addresses will likely change between runs.)\r\n\r\n    java.util.regex.Pattern object externals:\r\n              ADDRESS       SIZE TYPE                             PATH                           VALUE\r\n             d5e5f290         16 java.util.regex.Pattern$Node     .root.next.atom.next           (object)\r\n             d5e5f2a0        120 (something else)                 (somewhere else)               (something else)\r\n             d5e5f318         16 java.util.regex.Pattern$LastNode .root.next.next.next.next.next.next.next (object)\r\n             d5e5f328      21664 (something else)                 (somewhere else)               (something else)\r\n             d5e647c8         24 java.lang.String                 .pattern                       (object)\r\n             d5e647e0        112 [C                               .pattern.value                 [^, [, a, -, z, A, -, Z, 0, -, 9, _, ., +, -, ], +, @, [, a, -, z, A, -, Z, 0, -, 9, -, ], +, \\, ., [, a, -, z, A, -, Z, 0, -, 9, -, ., ], +, $]\r\n             d5e64850        448 (something else)                 (somewhere else)               (something else)\r\n             d5e64a10         72 java.util.regex.Pattern                                         (object)\r\n             d5e64a58        416 (something else)                 (somewhere else)               (something else)\r\n             d5e64bf8         16 java.util.regex.Pattern$Begin    .root                          (object)\r\n             d5e64c08         24 java.util.regex.Pattern$BitClass .root.next.atom.val$rhs        (object)\r\n             d5e64c20        272 [Z                               .root.next.atom.val$rhs.bits   [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, true, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false]\r\n             d5e64d30         24 java.util.regex.Pattern$1        .root.next.atom.val$lhs.val$lhs.val$lhs.val$lhs.val$lhs.val$lhs (object)\r\n             d5e64d48         24 java.util.regex.Pattern$1        .root.next.atom.val$lhs.val$lhs.val$lhs.val$lhs.val$lhs.val$rhs (object)\r\n             d5e64d60         24 java.util.regex.Pattern$5        .root.next.atom.val$lhs.val$lhs.val$lhs.val$lhs.val$lhs (object)\r\n             d5e64d78         24 java.util.regex.Pattern$1        .root.next.atom.val$lhs.val$lhs.val$lhs.val$lhs.val$rhs (object)\r\n             d5e64d90         24 java.util.regex.Pattern$5        .root.next.atom.val$lhs.val$lhs.val$lhs.val$lhs (object)\r\n             d5e64da8         24 java.util.regex.Pattern$5        .root.next.atom.val$lhs.val$lhs.val$lhs (object)\r\n             d5e64dc0         24 java.util.regex.Pattern$5        .root.next.atom.val$lhs.val$lhs (object)\r\n             d5e64dd8         24 java.util.regex.Pattern$5        .root.next.atom.val$lhs        (object)\r\n             d5e64df0         24 java.util.regex.Pattern$5        .root.next.atom                (object)\r\n             d5e64e08         32 java.util.regex.Pattern$Curly    .root.next                     (object)\r\n             d5e64e28         24 java.util.regex.Pattern$Single   .root.next.next                (object)\r\n             d5e64e40         24 java.util.regex.Pattern$BitClass .root.next.next.next.atom.val$rhs (object)\r\n             d5e64e58        272 [Z                               .root.next.next.next.atom.val$rhs.bits [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false]\r\n             d5e64f68         24 java.util.regex.Pattern$1        .root.next.next.next.atom.val$lhs.val$lhs.val$lhs (object)\r\n             d5e64f80         24 java.util.regex.Pattern$1        .root.next.next.next.atom.val$lhs.val$lhs.val$rhs (object)\r\n             d5e64f98         24 java.util.regex.Pattern$5        .root.next.next.next.atom.val$lhs.val$lhs (object)\r\n             d5e64fb0         24 java.util.regex.Pattern$1        .root.next.next.next.atom.val$lhs.val$rhs (object)\r\n             d5e64fc8         24 java.util.regex.Pattern$5        .root.next.next.next.atom.val$lhs (object)\r\n             d5e64fe0         24 java.util.regex.Pattern$5        .root.next.next.next.atom      (object)\r\n             d5e64ff8         32 java.util.regex.Pattern$Curly    .root.next.next.next           (object)\r\n             d5e65018         24 java.util.regex.Pattern$Single   .root.next.next.next.next      (object)\r\n             d5e65030         24 java.util.regex.Pattern$BitClass .root.next.next.next.next.next.atom.val$rhs (object)\r\n             d5e65048        272 [Z                               .root.next.next.next.next.next.atom.val$rhs.bits [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false]\r\n             d5e65158         24 java.util.regex.Pattern$1        .root.next.next.next.next.next.atom.val$lhs.val$lhs.val$lhs.val$lhs (object)\r\n             d5e65170         24 java.util.regex.Pattern$1        .root.next.next.next.next.next.atom.val$lhs.val$lhs.val$lhs.val$rhs (object)\r\n             d5e65188         24 java.util.regex.Pattern$5        .root.next.next.next.next.next.atom.val$lhs.val$lhs.val$lhs (object)\r\n             d5e651a0         24 java.util.regex.Pattern$1        .root.next.next.next.next.next.atom.val$lhs.val$lhs.val$rhs (object)\r\n             d5e651b8         24 java.util.regex.Pattern$5        .root.next.next.next.next.next.atom.val$lhs.val$lhs (object)\r\n             d5e651d0         24 java.util.regex.Pattern$5        .root.next.next.next.next.next.atom.val$lhs (object)\r\n             d5e651e8         24 java.util.regex.Pattern$5        .root.next.next.next.next.next.atom (object)\r\n             d5e65200         32 java.util.regex.Pattern$Curly    .root.next.next.next.next.next (object)\r\n             d5e65220        120 (something else)                 (somewhere else)               (something else)\r\n             d5e65298         24 java.util.regex.Pattern$Dollar   .root.next.next.next.next.next.next (object)\r\n\r\nThe &quot;(something else)&quot; entries [describe other objects in the heap that are not part of this object graph](https://stackoverflow.com/questions/30021092/what-is-something-else-in-jol-graphlayout-output).\r\n\r\nThe best jol documentation is the [jol samples](http://hg.openjdk.java.net/code-tools/jol/file/tip/jol-samples/src/main/java/org/openjdk/jol/samples/) in the jol repository.  The samples demonstrate common jol operations and show how you can use jol to analyze VM and garbage collector internals.\r\n","title":"How to determine the size of an object in Java","body":"<p>You should use <a href=\"http://openjdk.java.net/projects/code-tools/jol/\" rel=\"noreferrer\">jol</a>, a tool developed as part of the OpenJDK project.</p>\n\n<blockquote>\n  <p>JOL (Java Object Layout) is the tiny toolbox to analyze object layout schemes in JVMs. These tools are using Unsafe, JVMTI, and Serviceability Agent (SA) heavily to decoder the actual object layout, footprint, and references. This makes JOL much more accurate than other tools relying on heap dumps, specification assumptions, etc.</p>\n</blockquote>\n\n<p>To get the sizes of primitives, references and array elements, use <code>VMSupport.vmDetails()</code>.  On Oracle JDK 1.8.0_40 running on 64-bit Windows (used for all following examples), this method returns</p>\n\n<pre><code>Running 64-bit HotSpot VM.\nUsing compressed oop with 0-bit shift.\nUsing compressed klass with 3-bit shift.\nObjects are 8 bytes aligned.\nField sizes by type: 4, 1, 1, 2, 2, 4, 4, 8, 8 [bytes]\nArray element sizes: 4, 1, 1, 2, 2, 4, 4, 8, 8 [bytes]\n</code></pre>\n\n<p>You can get the shallow size of an object instance using <code>ClassLayout.parseClass(Foo.class).toPrintable()</code> (optionally passing an instance to <code>toPrintable</code>).  This is only the space consumed by a single instance of that class; it does not include any other objects referenced by that class.  It <em>does</em> include VM overhead for the object header, field alignment and padding.  For <code>java.util.regex.Pattern</code>:</p>\n\n<pre><code>java.util.regex.Pattern object internals:\n OFFSET  SIZE        TYPE DESCRIPTION                    VALUE\n      0     4             (object header)                01 00 00 00 (0000 0001 0000 0000 0000 0000 0000 0000)\n      4     4             (object header)                00 00 00 00 (0000 0000 0000 0000 0000 0000 0000 0000)\n      8     4             (object header)                cb cf 00 20 (1100 1011 1100 1111 0000 0000 0010 0000)\n     12     4         int Pattern.flags                  0\n     16     4         int Pattern.capturingGroupCount    1\n     20     4         int Pattern.localCount             0\n     24     4         int Pattern.cursor                 48\n     28     4         int Pattern.patternLength          0\n     32     1     boolean Pattern.compiled               true\n     33     1     boolean Pattern.hasSupplementary       false\n     34     2             (alignment/padding gap)        N/A\n     36     4      String Pattern.pattern                (object)\n     40     4      String Pattern.normalizedPattern      (object)\n     44     4        Node Pattern.root                   (object)\n     48     4        Node Pattern.matchRoot              (object)\n     52     4       int[] Pattern.buffer                 null\n     56     4         Map Pattern.namedGroups            null\n     60     4 GroupHead[] Pattern.groupNodes             null\n     64     4       int[] Pattern.temp                   null\n     68     4             (loss due to the next object alignment)\nInstance size: 72 bytes (reported by Instrumentation API)\nSpace losses: 2 bytes internal + 4 bytes external = 6 bytes total\n</code></pre>\n\n<p>You can get a summary view of the deep size of an object instance using <code>GraphLayout.parseInstance(obj).toFootprint()</code>.  Of course, some objects in the footprint might be shared (also referenced from other objects), so it is an overapproximation of the space that could be reclaimed when that object is garbage collected.  For the result of <code>Pattern.compile(\"^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\\\.[a-zA-Z0-9-.]+$\")</code> (taken from <a href=\"https://stackoverflow.com/a/719543/3614835\">this answer</a>), jol reports a total footprint of 1840 bytes, of which only 72 are the Pattern instance itself.</p>\n\n<pre><code>java.util.regex.Pattern instance footprint:\n     COUNT       AVG       SUM   DESCRIPTION\n         1       112       112   [C\n         3       272       816   [Z\n         1        24        24   java.lang.String\n         1        72        72   java.util.regex.Pattern\n         9        24       216   java.util.regex.Pattern$1\n        13        24       312   java.util.regex.Pattern$5\n         1        16        16   java.util.regex.Pattern$Begin\n         3        24        72   java.util.regex.Pattern$BitClass\n         3        32        96   java.util.regex.Pattern$Curly\n         1        24        24   java.util.regex.Pattern$Dollar\n         1        16        16   java.util.regex.Pattern$LastNode\n         1        16        16   java.util.regex.Pattern$Node\n         2        24        48   java.util.regex.Pattern$Single\n        40                1840   (total)\n</code></pre>\n\n<p>If you instead use <code>GraphLayout.parseInstance(obj).toPrintable()</code>, jol will tell you the address, size, type, value and path of field dereferences to each referenced object, though that's usually too much detail to be useful.  For the ongoing pattern example, you might get the following.  (Addresses will likely change between runs.)</p>\n\n<pre><code>java.util.regex.Pattern object externals:\n          ADDRESS       SIZE TYPE                             PATH                           VALUE\n         d5e5f290         16 java.util.regex.Pattern$Node     .root.next.atom.next           (object)\n         d5e5f2a0        120 (something else)                 (somewhere else)               (something else)\n         d5e5f318         16 java.util.regex.Pattern$LastNode .root.next.next.next.next.next.next.next (object)\n         d5e5f328      21664 (something else)                 (somewhere else)               (something else)\n         d5e647c8         24 java.lang.String                 .pattern                       (object)\n         d5e647e0        112 [C                               .pattern.value                 [^, [, a, -, z, A, -, Z, 0, -, 9, _, ., +, -, ], +, @, [, a, -, z, A, -, Z, 0, -, 9, -, ], +, \\, ., [, a, -, z, A, -, Z, 0, -, 9, -, ., ], +, $]\n         d5e64850        448 (something else)                 (somewhere else)               (something else)\n         d5e64a10         72 java.util.regex.Pattern                                         (object)\n         d5e64a58        416 (something else)                 (somewhere else)               (something else)\n         d5e64bf8         16 java.util.regex.Pattern$Begin    .root                          (object)\n         d5e64c08         24 java.util.regex.Pattern$BitClass .root.next.atom.val$rhs        (object)\n         d5e64c20        272 [Z                               .root.next.atom.val$rhs.bits   [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, true, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false]\n         d5e64d30         24 java.util.regex.Pattern$1        .root.next.atom.val$lhs.val$lhs.val$lhs.val$lhs.val$lhs.val$lhs (object)\n         d5e64d48         24 java.util.regex.Pattern$1        .root.next.atom.val$lhs.val$lhs.val$lhs.val$lhs.val$lhs.val$rhs (object)\n         d5e64d60         24 java.util.regex.Pattern$5        .root.next.atom.val$lhs.val$lhs.val$lhs.val$lhs.val$lhs (object)\n         d5e64d78         24 java.util.regex.Pattern$1        .root.next.atom.val$lhs.val$lhs.val$lhs.val$lhs.val$rhs (object)\n         d5e64d90         24 java.util.regex.Pattern$5        .root.next.atom.val$lhs.val$lhs.val$lhs.val$lhs (object)\n         d5e64da8         24 java.util.regex.Pattern$5        .root.next.atom.val$lhs.val$lhs.val$lhs (object)\n         d5e64dc0         24 java.util.regex.Pattern$5        .root.next.atom.val$lhs.val$lhs (object)\n         d5e64dd8         24 java.util.regex.Pattern$5        .root.next.atom.val$lhs        (object)\n         d5e64df0         24 java.util.regex.Pattern$5        .root.next.atom                (object)\n         d5e64e08         32 java.util.regex.Pattern$Curly    .root.next                     (object)\n         d5e64e28         24 java.util.regex.Pattern$Single   .root.next.next                (object)\n         d5e64e40         24 java.util.regex.Pattern$BitClass .root.next.next.next.atom.val$rhs (object)\n         d5e64e58        272 [Z                               .root.next.next.next.atom.val$rhs.bits [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false]\n         d5e64f68         24 java.util.regex.Pattern$1        .root.next.next.next.atom.val$lhs.val$lhs.val$lhs (object)\n         d5e64f80         24 java.util.regex.Pattern$1        .root.next.next.next.atom.val$lhs.val$lhs.val$rhs (object)\n         d5e64f98         24 java.util.regex.Pattern$5        .root.next.next.next.atom.val$lhs.val$lhs (object)\n         d5e64fb0         24 java.util.regex.Pattern$1        .root.next.next.next.atom.val$lhs.val$rhs (object)\n         d5e64fc8         24 java.util.regex.Pattern$5        .root.next.next.next.atom.val$lhs (object)\n         d5e64fe0         24 java.util.regex.Pattern$5        .root.next.next.next.atom      (object)\n         d5e64ff8         32 java.util.regex.Pattern$Curly    .root.next.next.next           (object)\n         d5e65018         24 java.util.regex.Pattern$Single   .root.next.next.next.next      (object)\n         d5e65030         24 java.util.regex.Pattern$BitClass .root.next.next.next.next.next.atom.val$rhs (object)\n         d5e65048        272 [Z                               .root.next.next.next.next.next.atom.val$rhs.bits [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false]\n         d5e65158         24 java.util.regex.Pattern$1        .root.next.next.next.next.next.atom.val$lhs.val$lhs.val$lhs.val$lhs (object)\n         d5e65170         24 java.util.regex.Pattern$1        .root.next.next.next.next.next.atom.val$lhs.val$lhs.val$lhs.val$rhs (object)\n         d5e65188         24 java.util.regex.Pattern$5        .root.next.next.next.next.next.atom.val$lhs.val$lhs.val$lhs (object)\n         d5e651a0         24 java.util.regex.Pattern$1        .root.next.next.next.next.next.atom.val$lhs.val$lhs.val$rhs (object)\n         d5e651b8         24 java.util.regex.Pattern$5        .root.next.next.next.next.next.atom.val$lhs.val$lhs (object)\n         d5e651d0         24 java.util.regex.Pattern$5        .root.next.next.next.next.next.atom.val$lhs (object)\n         d5e651e8         24 java.util.regex.Pattern$5        .root.next.next.next.next.next.atom (object)\n         d5e65200         32 java.util.regex.Pattern$Curly    .root.next.next.next.next.next (object)\n         d5e65220        120 (something else)                 (somewhere else)               (something else)\n         d5e65298         24 java.util.regex.Pattern$Dollar   .root.next.next.next.next.next.next (object)\n</code></pre>\n\n<p>The \"(something else)\" entries <a href=\"https://stackoverflow.com/questions/30021092/what-is-something-else-in-jol-graphlayout-output\">describe other objects in the heap that are not part of this object graph</a>.</p>\n\n<p>The best jol documentation is the <a href=\"http://hg.openjdk.java.net/code-tools/jol/file/tip/jol-samples/src/main/java/org/openjdk/jol/samples/\" rel=\"noreferrer\">jol samples</a> in the jol repository.  The samples demonstrate common jol operations and show how you can use jol to analyze VM and garbage collector internals.</p>\n"},{"comments":[{"owner":{"account_id":1303940,"reputation":1062,"user_id":1253306,"display_name":"Henrique Gontijo"},"score":3,"creation_date":1476642392,"post_id":39406536,"comment_id":67420963,"body_markdown":"Same here, I was trying the other solutions proposed above and came across ObjectSizeCalculator. I believe no one mentioned if before since it was recently introduced on the JDK 8 as part of the project [Nashorn](http://openjdk.java.net/projects/nashorn/). However I haven&#39;t found any official documentation about this class on the web.","body":"Same here, I was trying the other solutions proposed above and came across ObjectSizeCalculator. I believe no one mentioned if before since it was recently introduced on the JDK 8 as part of the project <a href=\"http://openjdk.java.net/projects/nashorn/\" rel=\"nofollow noreferrer\">Nashorn</a>. However I haven&#39;t found any official documentation about this class on the web."},{"owner":{"account_id":259109,"reputation":2800,"user_id":541755,"accept_rate":71,"display_name":"jontejj"},"score":0,"creation_date":1494147024,"post_id":39406536,"comment_id":74696407,"body_markdown":"It doesn&#39;t seem to consider string lengths. Is it just about size on the stack?","body":"It doesn&#39;t seem to consider string lengths. Is it just about size on the stack?"},{"owner":{"account_id":5123021,"reputation":1495,"user_id":4106030,"accept_rate":85,"display_name":"badera"},"score":1,"creation_date":1495096618,"post_id":39406536,"comment_id":75111085,"body_markdown":"I have a hashmap, where com.carrotsearch.RamUsageEstimator returns about the half of ObjectSizeCalculator. Which one is true? - Which one is more relieable?","body":"I have a hashmap, where com.carrotsearch.RamUsageEstimator returns about the half of ObjectSizeCalculator. Which one is true? - Which one is more relieable?"},{"owner":{"account_id":3945996,"reputation":12375,"user_id":3258600,"accept_rate":88,"display_name":"kellanburket"},"score":16,"creation_date":1517605463,"post_id":39406536,"comment_id":84178865,"body_markdown":"Note that `ObjectSizeCalculator` is only supported on HotSpot VM","body":"Note that <code>ObjectSizeCalculator</code> is only supported on HotSpot VM"},{"owner":{"account_id":158578,"reputation":3109,"user_id":377320,"accept_rate":25,"display_name":"Martin Vysny"},"score":11,"creation_date":1603443318,"post_id":39406536,"comment_id":114045001,"body_markdown":"Also jdk.nashorn.internal.ir.debug.ObjectSizeCalculator is no longer present on JDK 11","body":"Also jdk.nashorn.internal.ir.debug.ObjectSizeCalculator is no longer present on JDK 11"},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1667576461,"post_id":39406536,"comment_id":131206410,"body_markdown":"Using something that has &quot;internal&quot; in its name will always end up in tears. Like this one, for example.","body":"Using something that has &quot;internal&quot; in its name will always end up in tears. Like this one, for example."}],"tags":[],"owner":{"account_id":1961485,"reputation":3248,"user_id":1762932,"accept_rate":84,"display_name":"Tom"},"comment_count":6,"down_vote_count":1,"up_vote_count":124,"is_accepted":false,"score":123,"last_activity_date":1473407600,"creation_date":1473407600,"answer_id":39406536,"question_id":52353,"body_markdown":"I accidentally found a java class\r\n&quot;jdk.nashorn.internal.ir.debug.ObjectSizeCalculator&quot;, already in jdk, \r\nwhich is easy to use and seems quite useful for determining the size of an object.\r\n\r\n    System.out.println(ObjectSizeCalculator.getObjectSize(new gnu.trove.map.hash.TObjectIntHashMap&lt;String&gt;(12000, 0.6f, -1)));\r\n\tSystem.out.println(ObjectSizeCalculator.getObjectSize(new HashMap&lt;String, Integer&gt;(100000)));\r\n\tSystem.out.println(ObjectSizeCalculator.getObjectSize(3));\r\n\tSystem.out.println(ObjectSizeCalculator.getObjectSize(new int[]{1, 2, 3, 4, 5, 6, 7 }));\r\n\tSystem.out.println(ObjectSizeCalculator.getObjectSize(new int[100]));\r\n\r\nresults:\r\n\t\t\r\n    164192\r\n    48\r\n    16\r\n    48\r\n    416\r\n\r\n","title":"How to determine the size of an object in Java","body":"<p>I accidentally found a java class\n\"jdk.nashorn.internal.ir.debug.ObjectSizeCalculator\", already in jdk, \nwhich is easy to use and seems quite useful for determining the size of an object.</p>\n\n<pre><code>System.out.println(ObjectSizeCalculator.getObjectSize(new gnu.trove.map.hash.TObjectIntHashMap&lt;String&gt;(12000, 0.6f, -1)));\nSystem.out.println(ObjectSizeCalculator.getObjectSize(new HashMap&lt;String, Integer&gt;(100000)));\nSystem.out.println(ObjectSizeCalculator.getObjectSize(3));\nSystem.out.println(ObjectSizeCalculator.getObjectSize(new int[]{1, 2, 3, 4, 5, 6, 7 }));\nSystem.out.println(ObjectSizeCalculator.getObjectSize(new int[100]));\n</code></pre>\n\n<p>results:</p>\n\n<pre><code>164192\n48\n16\n48\n416\n</code></pre>\n"},{"comments":[{"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"score":0,"creation_date":1525727531,"post_id":47848790,"comment_id":87462459,"body_markdown":"this would only work for objects that are mostly strings.","body":"this would only work for objects that are mostly strings."}],"tags":[],"owner":{"account_id":4099554,"reputation":301,"user_id":7706962,"display_name":"Sai Kiran"},"comment_count":1,"down_vote_count":7,"up_vote_count":2,"is_accepted":false,"score":-5,"last_activity_date":1533138971,"creation_date":1513449078,"answer_id":47848790,"question_id":52353,"body_markdown":"For JSONObject the below code can help you.\r\n\r\n    `JSONObject.toString().getBytes(&quot;UTF-8&quot;).length`\r\n\r\nreturns size in bytes\r\n\r\nI checked it with my JSONArray object by writing it to a file. It is giving object size.","title":"How to determine the size of an object in Java","body":"<p>For JSONObject the below code can help you.</p>\n\n<pre><code>`JSONObject.toString().getBytes(\"UTF-8\").length`\n</code></pre>\n\n<p>returns size in bytes</p>\n\n<p>I checked it with my JSONArray object by writing it to a file. It is giving object size.</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521806006,"creation_date":1521806006,"answer_id":49449106,"question_id":52353,"body_markdown":"Just use java visual VM. \r\n\r\nIt has everything you need to profile and debug memory problems. \r\n\r\nIt also has a OQL (Object Query Language) console which allows you to do many useful things, one of which being `sizeof(o)`","title":"How to determine the size of an object in Java","body":"<p>Just use java visual VM. </p>\n\n<p>It has everything you need to profile and debug memory problems. </p>\n\n<p>It also has a OQL (Object Query Language) console which allows you to do many useful things, one of which being <code>sizeof(o)</code></p>\n"},{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553795903,"creation_date":1553795903,"answer_id":55404104,"question_id":52353,"body_markdown":"Suppose I declare a class named `Complex` like:\r\n```java\r\npublic class Complex {\r\n\r\n    private final long real;\r\n    private final long imaginary;\r\n\r\n    // omitted\r\n}\r\n\r\n```\r\nIn order to see how much memory is allocated to live instances of this class:\r\n```bash\r\n$ jmap -histo:live &lt;pid&gt; | grep Complex\r\n\r\n num     #instances         #bytes  class name (module)\r\n-------------------------------------------------------\r\n 327:             1             32  Complex\r\n```","title":"How to determine the size of an object in Java","body":"<p>Suppose I declare a class named <code>Complex</code> like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Complex {\n\n    private final long real;\n    private final long imaginary;\n\n    // omitted\n}\n\n</code></pre>\n\n<p>In order to see how much memory is allocated to live instances of this class:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ jmap -histo:live &lt;pid&gt; | grep Complex\n\n num     #instances         #bytes  class name (module)\n-------------------------------------------------------\n 327:             1             32  Complex\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6911355,"reputation":71,"user_id":5307079,"display_name":"David Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662647091,"creation_date":1561610410,"answer_id":56783991,"question_id":52353,"body_markdown":"I was looking for a runtime calculation of an object size that met the following requirements:\r\n\r\n - Available at runtime with no need to include instrumentation.\r\n - Works with Java 9+ without access to Unsafe.\r\n - Is based on the Class only. Not a deep sizeOf that takes into consideration string lengths, array lengths, etc.\r\n\r\nThe following is based on the core code of the original java specialists article (https://www.javaspecialists.eu/archive/Issue078.html) and a few bits from the Unsafe version in another answer to this question.\r\n\r\nI hope someone finds it useful.\r\n```\r\npublic class JavaSize {\r\n\r\n    private static final int NR_BITS = Integer.valueOf(System.getProperty(&quot;sun.arch.data.model&quot;));\r\n    private static final int BYTE = 8;\r\n    private static final int WORD = NR_BITS / BYTE;\r\n    private static final int HEADER_SIZE = 8;\r\n\r\n    public static int sizeOf(Class&lt;?&gt; clazz) {\r\n        int result = 0;\r\n\r\n        while (clazz != null) {\r\n            Field[] fields = clazz.getDeclaredFields();\r\n            for (int i = 0; i &lt; fields.length; i++) {\r\n                if (!Modifier.isStatic(fields[i].getModifiers())) {\r\n                    if (fields[i].getType().isPrimitive()) {\r\n                        Class&lt;?&gt; primitiveClass = fields[i].getType();\r\n                        if (primitiveClass == boolean.class || primitiveClass == byte.class) {\r\n                            result += 1;\r\n                        } else if (primitiveClass == short.class) {\r\n                            result += 2;\r\n                        } else if (primitiveClass == int.class || primitiveClass == float.class) {\r\n                            result += 4;\r\n                        } else if (primitiveClass == double.class || primitiveClass == long.class) {\r\n                            result += 8;\r\n                        }\r\n\r\n                    } else {\r\n                        // assume compressed references.\r\n                        result += 4;\r\n                    }\r\n                }\r\n            }\r\n\r\n            clazz = clazz.getSuperclass();\r\n\r\n            // round up to the nearest WORD length.\r\n            if ((result % WORD) != 0) {\r\n                result += WORD - (result % WORD);\r\n            }\r\n        }\r\n\r\n        result += HEADER_SIZE;\r\n\r\n        return result;\r\n    }\r\n }\r\n```","title":"How to determine the size of an object in Java","body":"<p>I was looking for a runtime calculation of an object size that met the following requirements:</p>\n<ul>\n<li>Available at runtime with no need to include instrumentation.</li>\n<li>Works with Java 9+ without access to Unsafe.</li>\n<li>Is based on the Class only. Not a deep sizeOf that takes into consideration string lengths, array lengths, etc.</li>\n</ul>\n<p>The following is based on the core code of the original java specialists article (<a href=\"https://www.javaspecialists.eu/archive/Issue078.html\" rel=\"nofollow noreferrer\">https://www.javaspecialists.eu/archive/Issue078.html</a>) and a few bits from the Unsafe version in another answer to this question.</p>\n<p>I hope someone finds it useful.</p>\n<pre><code>public class JavaSize {\n\n    private static final int NR_BITS = Integer.valueOf(System.getProperty(&quot;sun.arch.data.model&quot;));\n    private static final int BYTE = 8;\n    private static final int WORD = NR_BITS / BYTE;\n    private static final int HEADER_SIZE = 8;\n\n    public static int sizeOf(Class&lt;?&gt; clazz) {\n        int result = 0;\n\n        while (clazz != null) {\n            Field[] fields = clazz.getDeclaredFields();\n            for (int i = 0; i &lt; fields.length; i++) {\n                if (!Modifier.isStatic(fields[i].getModifiers())) {\n                    if (fields[i].getType().isPrimitive()) {\n                        Class&lt;?&gt; primitiveClass = fields[i].getType();\n                        if (primitiveClass == boolean.class || primitiveClass == byte.class) {\n                            result += 1;\n                        } else if (primitiveClass == short.class) {\n                            result += 2;\n                        } else if (primitiveClass == int.class || primitiveClass == float.class) {\n                            result += 4;\n                        } else if (primitiveClass == double.class || primitiveClass == long.class) {\n                            result += 8;\n                        }\n\n                    } else {\n                        // assume compressed references.\n                        result += 4;\n                    }\n                }\n            }\n\n            clazz = clazz.getSuperclass();\n\n            // round up to the nearest WORD length.\n            if ((result % WORD) != 0) {\n                result += WORD - (result % WORD);\n            }\n        }\n\n        result += HEADER_SIZE;\n\n        return result;\n    }\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3246937,"reputation":408,"user_id":2738206,"accept_rate":0,"display_name":"user2738206"},"score":4,"creation_date":1594774121,"post_id":61397323,"comment_id":111242287,"body_markdown":"I don&#39;t see this in my Intellij - using 2019.2. What version are you using?","body":"I don&#39;t see this in my Intellij - using 2019.2. What version are you using?"},{"owner":{"account_id":128527,"reputation":1611,"user_id":326435,"display_name":"camikiller"},"score":0,"creation_date":1637203221,"post_id":61397323,"comment_id":123765718,"body_markdown":"Got an error with this one:\n\n\nConnected to the target VM, address: &#39;127.0.0.1:49538&#39;, transport: &#39;socket&#39;\n\nJDWP exit error AGENT_ERROR_OUT_OF_MEMORY(188): PushLocalFrame: Unable to push JNI frame [src/jdk.jdwp.agent/share/native/libjdwp/util.c:1560]\n\n\nFATAL ERROR in native method: JDWP PushLocalFrame: Unable to push JNI frame, jvmtiError=AGENT_ERROR_OUT_OF_MEMORY(188)\n\n\nDisconnected from the target VM, address: &#39;127.0.0.1:49538&#39;, transport: &#39;socket&#39;\n\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)","body":"Got an error with this one:   Connected to the target VM, address: &#39;127.0.0.1:49538&#39;, transport: &#39;socket&#39;  JDWP exit error AGENT_ERROR_OUT_OF_MEMORY(188): PushLocalFrame: Unable to push JNI frame [src/jdk.jdwp.agent/share/native/libjdwp/util.c:1560]   FATAL ERROR in native method: JDWP PushLocalFrame: Unable to push JNI frame, jvmtiError=AGENT_ERROR_OUT_OF_MEMORY(188)   Disconnected from the target VM, address: &#39;127.0.0.1:49538&#39;, transport: &#39;socket&#39;  Process finished with exit code 134 (interrupted by signal 6: SIGABRT)"},{"owner":{"account_id":12882725,"reputation":509,"user_id":9317258,"display_name":"V&#237;t Kapitola"},"score":0,"creation_date":1645018863,"post_id":61397323,"comment_id":125758594,"body_markdown":"I am using Android Studio Bumblebee (2021.1.1) and the `Calculate Retained Size` is not shown. Even after checking `Attach memory agent` in options. Is it included in AS? I found it in [Intellij docs](https://www.jetbrains.com/help/idea/analyze-objects-in-the-jvm-heap.html#737669db).","body":"I am using Android Studio Bumblebee (2021.1.1) and the <code>Calculate Retained Size</code> is not shown. Even after checking <code>Attach memory agent</code> in options. Is it included in AS? I found it in <a href=\"https://www.jetbrains.com/help/idea/analyze-objects-in-the-jvm-heap.html#737669db\" rel=\"nofollow noreferrer\">Intellij docs</a>."}],"tags":[],"owner":{"account_id":71092,"reputation":3112,"user_id":205629,"display_name":"simon04"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1587677404,"creation_date":1587677404,"answer_id":61397323,"question_id":52353,"body_markdown":"When using JetBrains IntelliJ, first enable &quot;Attach memory agent&quot; in File | Settings | Build, Execution, Deployment | Debugger.\r\n\r\nWhen debugging, right-click a variable of interest and choose &quot;Calculate Retained Size&quot;: [![Calculate Retained Size][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TvMel.png","title":"How to determine the size of an object in Java","body":"<p>When using JetBrains IntelliJ, first enable \"Attach memory agent\" in File | Settings | Build, Execution, Deployment | Debugger.</p>\n\n<p>When debugging, right-click a variable of interest and choose \"Calculate Retained Size\": <a href=\"https://i.stack.imgur.com/TvMel.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TvMel.png\" alt=\"Calculate Retained Size\"></a></p>\n"},{"comments":[{"owner":{"account_id":5890614,"reputation":1247,"user_id":4637358,"accept_rate":68,"display_name":"1a1a11a"},"score":0,"creation_date":1656892425,"post_id":71230694,"comment_id":128675253,"body_markdown":"does the serialization adds overhead? It seems the serialized byte size depends on the length of variable names","body":"does the serialization adds overhead? It seems the serialized byte size depends on the length of variable names"}],"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1645591907,"creation_date":1645583570,"answer_id":71230694,"question_id":52353,"body_markdown":"If your application has the [Apache commons lang library][1] as a dependency or is using the [Spring framework][2] then you can also use the `SerializationUtils` class to quickly find out the approximate byte size of any given object.\r\n\r\n    byte[] data = SerializationUtils.serialize(user);\r\n    System.out.println(&quot;Approximate object size in bytes &quot; + data.length);\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-commons-lang-3\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/SerializationUtils.html","title":"How to determine the size of an object in Java","body":"<p>If your application has the <a href=\"https://www.baeldung.com/java-commons-lang-3\" rel=\"nofollow noreferrer\">Apache commons lang library</a> as a dependency or is using the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/SerializationUtils.html\" rel=\"nofollow noreferrer\">Spring framework</a> then you can also use the <code>SerializationUtils</code> class to quickly find out the approximate byte size of any given object.</p>\n<pre><code>byte[] data = SerializationUtils.serialize(user);\nSystem.out.println(&quot;Approximate object size in bytes &quot; + data.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1648669811,"creation_date":1648669811,"answer_id":71683336,"question_id":52353,"body_markdown":"A possible year 2022 answer.\r\n\r\nhttps://github.com/ehcache/sizeof\r\n\r\nhttps://mvnrepository.com/artifact/org.ehcache/sizeof\r\n\r\n\r\n\r\nhttps://mvnrepository.com/artifact/org.ehcache/sizeof/0.4.0\r\n\r\nVersion 0.4.0 has only a (compile) dependency on \r\n\r\n\r\nhttps://mvnrepository.com/artifact/org.slf4j/slf4j-api\r\n\r\nwhich is a good thing.\r\n\r\nSample code:\r\n\r\n    //import org.ehcache.sizeof.SizeOf;\r\n    \r\n    SizeOf sizeOf = SizeOf.newInstance(); // (1)\r\n    long shallowSize = sizeOf.sizeOf(someObject); // (2)\r\n    long deepSize = sizeOf.deepSizeOf(someObject); // (3)\r\n\r\n","title":"How to determine the size of an object in Java","body":"<p>A possible year 2022 answer.</p>\n<p><a href=\"https://github.com/ehcache/sizeof\" rel=\"noreferrer\">https://github.com/ehcache/sizeof</a></p>\n<p><a href=\"https://mvnrepository.com/artifact/org.ehcache/sizeof\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.ehcache/sizeof</a></p>\n<p><a href=\"https://mvnrepository.com/artifact/org.ehcache/sizeof/0.4.0\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.ehcache/sizeof/0.4.0</a></p>\n<p>Version 0.4.0 has only a (compile) dependency on</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.slf4j/slf4j-api\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.slf4j/slf4j-api</a></p>\n<p>which is a good thing.</p>\n<p>Sample code:</p>\n<pre><code>//import org.ehcache.sizeof.SizeOf;\n\nSizeOf sizeOf = SizeOf.newInstance(); // (1)\nlong shallowSize = sizeOf.sizeOf(someObject); // (2)\nlong deepSize = sizeOf.deepSizeOf(someObject); // (3)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693976468,"creation_date":1693976468,"answer_id":77049109,"question_id":52353,"body_markdown":"By using Lucene library `org.apache.lucene.util.RamUsageEstimator`\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\r\n            &lt;version&gt;8.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nYou&#39;ll be able to measure the memory size of an object by\r\n\r\n    System.out.println(&quot;Object took &quot; \r\n        + RamUsageEstimator.sizeOfObject(yourObj) / 1024 / 1024 + &quot;mb&quot;);\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to determine the size of an object in Java","body":"<p>By using Lucene library <code>org.apache.lucene.util.RamUsageEstimator</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n            &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\n            &lt;version&gt;8.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>You'll be able to measure the memory size of an object by</p>\n<pre><code>System.out.println(&quot;Object took &quot; \n    + RamUsageEstimator.sizeOfObject(yourObj) / 1024 / 1024 + &quot;mb&quot;);\n</code></pre>\n"}],"owner":{"account_id":3517,"reputation":31981,"user_id":5074,"accept_rate":78,"display_name":"Jay R."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365165,"favorite_count":0,"down_vote_count":2,"up_vote_count":685,"accepted_answer_id":52682,"answer_count":29,"score":683,"last_activity_date":1693976468,"creation_date":1220980023,"question_id":52353,"body_markdown":"I have an application that reads a CSV file with piles of data rows. I give the user a summary of the number of rows based on types of data, but I want to make sure that I don&#39;t read in too many rows of data and cause `OutOfMemoryError`s. Each row translates into an object. Is there a way to find out the size of that object programmatically? Is there a reference that defines how large primitive types and object references are for a `VM`?\r\n\r\nRight now, I have code that says read up to **32,000 rows**, but I&#39;d also like to have code that says read as many rows as possible until I&#39;ve used **32MB** of memory.","title":"How to determine the size of an object in Java","body":"<p>I have an application that reads a CSV file with piles of data rows. I give the user a summary of the number of rows based on types of data, but I want to make sure that I don't read in too many rows of data and cause <code>OutOfMemoryError</code>s. Each row translates into an object. Is there a way to find out the size of that object programmatically? Is there a reference that defines how large primitive types and object references are for a <code>VM</code>?</p>\n<p>Right now, I have code that says read up to <strong>32,000 rows</strong>, but I'd also like to have code that says read as many rows as possible until I've used <strong>32MB</strong> of memory.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1439419763,"post_id":31976602,"comment_id":51859794,"body_markdown":"No. They are completely **ignored** at compile time. Which means **not included**","body":"No. They are completely <b>ignored</b> at compile time. Which means <b>not included</b>"}],"answers":[{"tags":[],"owner":{"account_id":160823,"reputation":3550,"user_id":381161,"display_name":"Malcolm Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1439420578,"creation_date":1439420578,"answer_id":31976852,"question_id":31976602,"body_markdown":"Comments are not preserved in the APK. The APK contains the compiled byte code for the classes in your application and this byte code does not contain source code comments. \r\n\r\nThe byte code does preserve some information about the source code, such as method names, to be used when generating stack traces. This may, or may not include accurate line numbers. See: \r\n\r\nhttps://stackoverflow.com/questions/115008/how-can-we-print-line-numbers-to-the-log-in-java\r\n\r\nhttps://stackoverflow.com/questions/25174761/why-some-stacktrace-do-not-have-line-number-in-java\r\n\r\n","title":"Are comments removed from final apk?","body":"<p>Comments are not preserved in the APK. The APK contains the compiled byte code for the classes in your application and this byte code does not contain source code comments. </p>\n\n<p>The byte code does preserve some information about the source code, such as method names, to be used when generating stack traces. This may, or may not include accurate line numbers. See: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/115008/how-can-we-print-line-numbers-to-the-log-in-java\">How can we print line numbers to the log in java</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/25174761/why-some-stacktrace-do-not-have-line-number-in-java\">Why some stacktrace do not have line number in java</a></p>\n"}],"owner":{"account_id":484049,"reputation":1044,"user_id":899488,"accept_rate":72,"display_name":"Raghav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1008,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":31976852,"answer_count":1,"score":4,"last_activity_date":1693976323,"creation_date":1439419139,"question_id":31976602,"body_markdown":"If comments in java files are removed as part of apk creation, how the log statements are able to print the correct line number? Could someone please explain? I have seen the same behavior in java files as well when they are compiled.","title":"Are comments removed from final apk?","body":"<p>If comments in java files are removed as part of apk creation, how the log statements are able to print the correct line number? Could someone please explain? I have seen the same behavior in java files as well when they are compiled.</p>\n"},{"tags":["java","android","butterknife"],"comments":[{"owner":{"account_id":23702383,"reputation":23,"user_id":17725388,"display_name":"Nikolai Romanov Belliovichksky"},"score":0,"creation_date":1654009957,"post_id":72417437,"comment_id":127987791,"body_markdown":"Is there a fix?","body":"Is there a fix?"}],"answers":[{"comments":[{"owner":{"account_id":23702383,"reputation":23,"user_id":17725388,"display_name":"Nikolai Romanov Belliovichksky"},"score":0,"creation_date":1653822545,"post_id":72419973,"comment_id":127940602,"body_markdown":"There maybe some solution? I cannot rewrite all the codes again","body":"There maybe some solution? I cannot rewrite all the codes again"},{"owner":{"account_id":9200398,"reputation":171,"user_id":6837577,"display_name":"Igor Rom&#225;n"},"score":1,"creation_date":1653836306,"post_id":72419973,"comment_id":127943403,"body_markdown":"What version use? Check this\nbufferknifeVersion = &quot;10.2.0”","body":"What version use? Check this bufferknifeVersion = &quot;10.2.0”"},{"owner":{"account_id":23702383,"reputation":23,"user_id":17725388,"display_name":"Nikolai Romanov Belliovichksky"},"score":0,"creation_date":1653837754,"post_id":72419973,"comment_id":127943727,"body_markdown":"I used 10.1.0 version","body":"I used 10.1.0 version"},{"owner":{"account_id":23702383,"reputation":23,"user_id":17725388,"display_name":"Nikolai Romanov Belliovichksky"},"score":0,"creation_date":1653839699,"post_id":72419973,"comment_id":127944188,"body_markdown":"I&#39;m sorry I&#39;m still getting that error though I updated to 10.2.0 version","body":"I&#39;m sorry I&#39;m still getting that error though I updated to 10.2.0 version"}],"tags":[],"owner":{"account_id":9200398,"reputation":171,"user_id":6837577,"display_name":"Igor Rom&#225;n"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653781383,"creation_date":1653781383,"answer_id":72419973,"question_id":72417437,"body_markdown":"You don&#39;t have much choice, since in order to continue using ButterKnife you would have to downgrade to an older version of gradle (3.+) and that is no longer possible and would limit you too much.","title":"How to solve this Butterknife dependency error? (in unnamed module @0x67c173dd)","body":"<p>You don't have much choice, since in order to continue using ButterKnife you would have to downgrade to an older version of gradle (3.+) and that is no longer possible and would limit you too much.</p>\n"},{"tags":[],"owner":{"account_id":14943891,"reputation":1727,"user_id":10789722,"display_name":"MEGHA RAMOLIYA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693974900,"creation_date":1693713093,"answer_id":77030856,"question_id":72417437,"body_markdown":"    In Android studio Flamingo and above version below code working for butterknife library.\r\n    \r\n     1. add below code in build.gradle(:app) file \r\n    \r\n        tasks.withType(JavaCompile).configureEach {\r\n            options.fork = true\r\n            options.forkOptions.jvmArgs += [\r\n                    &#39;--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&#39;,\r\n                    &#39;--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&#39;,\r\n                    &#39;--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&#39;,\r\n                    &#39;--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&#39;,\r\n                    &#39;--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&#39;,\r\n                    &#39;--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&#39;,\r\n                    &#39;--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&#39;,\r\n                    &#39;--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&#39;,\r\n                    &#39;--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&#39;,\r\n                    &#39;--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED&#39;,\r\n            ]\r\n        }\r\n    \r\n     2. \r\n        android {\r\n          ...\r\n          // Butterknife requires Java 8.\r\n          compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n          }\r\n        }\r\n        \r\n        dependencies {\r\n          implementation &#39;com.jakewharton:butterknife:10.2.3&#39;\r\n          annotationProcessor &#39;com.jakewharton:butterknife-compiler:10.2.3&#39;\r\n        }\r\n        \r\n         3. To use Butter Knife in a library, add the plugin to your buildscript:\r\n        \r\n        buildscript {\r\n          repositories {\r\n            mavenCentral()\r\n            google()\r\n          }\r\n          dependencies {\r\n            classpath &#39;com.jakewharton:butterknife-gradle-plugin:10.2.3&#39;\r\n          }\r\n        }\r\n        \r\n         4. and then apply it in your module:\r\n        apply plugin: &#39;com.android.library&#39;\r\n        apply plugin: &#39;com.jakewharton.butterknife&#39;\r\n        \r\n         5. Now make sure you use R2 instead of R inside all Butter Knife annotations.\r\n        class ExampleActivity extends Activity {\r\n          @BindView(R2.id.user) EditText username;\r\n          @BindView(R2.id.pass) EditText password;\r\n        ...\r\n        }","title":"How to solve this Butterknife dependency error? (in unnamed module @0x67c173dd)","body":"<pre><code>In Android studio Flamingo and above version below code working for butterknife library.\n\n 1. add below code in build.gradle(:app) file \n\n    tasks.withType(JavaCompile).configureEach {\n        options.fork = true\n        options.forkOptions.jvmArgs += [\n                '--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED',\n                '--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED',\n                '--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED',\n                '--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED',\n                '--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED',\n                '--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED',\n                '--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED',\n                '--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED',\n                '--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED',\n                '--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED',\n        ]\n    }\n\n 2. \n    android {\n      ...\n      // Butterknife requires Java 8.\n      compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n      }\n    }\n    \n    dependencies {\n      implementation 'com.jakewharton:butterknife:10.2.3'\n      annotationProcessor 'com.jakewharton:butterknife-compiler:10.2.3'\n    }\n    \n     3. To use Butter Knife in a library, add the plugin to your buildscript:\n    \n    buildscript {\n      repositories {\n        mavenCentral()\n        google()\n      }\n      dependencies {\n        classpath 'com.jakewharton:butterknife-gradle-plugin:10.2.3'\n      }\n    }\n    \n     4. and then apply it in your module:\n    apply plugin: 'com.android.library'\n    apply plugin: 'com.jakewharton.butterknife'\n    \n     5. Now make sure you use R2 instead of R inside all Butter Knife annotations.\n    class ExampleActivity extends Activity {\n      @BindView(R2.id.user) EditText username;\n      @BindView(R2.id.pass) EditText password;\n    ...\n    }\n</code></pre>\n"}],"owner":{"account_id":23702383,"reputation":23,"user_id":17725388,"display_name":"Nikolai Romanov Belliovichksky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2917,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77030856,"answer_count":2,"score":0,"last_activity_date":1693974900,"creation_date":1653755921,"question_id":72417437,"body_markdown":"I used **butterknife** as one of my Dependency in one of my project though I know its deprecated but it&#39;d be a huge work to rewrite the whole code.\r\n\r\n**build.gradle** :\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        maven {\r\n            url &quot;https://jcenter.bintray.com&quot;\r\n        }\r\n\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.0&#39;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n        classpath &#39;com.google.gms:google-services:4.3.2&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\n**AndroidManifest.xml** :\r\n\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;nikolairb.createpdf&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;scopedStorage&quot;/&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera.autofocus&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;androidx.multidex.MultiDexApplication&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_descriptor&quot;\r\n        android:hardwareAccelerated=&quot;true&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppThemeWhite&quot;\r\n        tools:ignore=&quot;GoogleAppIndexingWarning,RtlEnabled&quot;&gt;\r\n        &lt;activity android:name=&quot;.activity.SplashActivity&quot; android:exported=&quot;true&quot;\r\n            android:theme=&quot;@style/SplashTheme&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activity.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;adjustPan&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND_MULTIPLE&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\r\n                &lt;data android:mimeType=&quot;image/*&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\r\n                &lt;data android:mimeType=&quot;image/*&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.shortcuts&quot;\r\n                android:resource=&quot;@xml/shortcuts&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.activity.CropImageActivity&quot; /&gt;\r\n\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.swati4star.shareFile&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\n        &lt;activity android:name=&quot;.activity.WelcomeActivity&quot; android:exported=&quot;true&quot;/&gt;\r\n        &lt;activity android:name=&quot;.activity.ImageEditor&quot; android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity android:name=&quot;.activity.PreviewActivity&quot; android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity android:name=&quot;.activity.RearrangeImages&quot; android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity android:name=&quot;.activity.ImagesPreviewActivity&quot; android:exported=&quot;true&quot;/&gt;\r\n        &lt;activity android:name=&quot;.activity.RearrangePdfPages&quot;  android:exported=&quot;true&quot;/&gt;\r\n        &lt;activity android:name=&quot;.activity.FavouritesActivity&quot;  android:exported=&quot;true&quot;/&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\nThe **ERROR**:\r\n\r\n*Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.*\r\n*&gt; superclass access check failed: class butterknife.compiler.ButterKnifeProcessor$RScanner (in unnamed module @0x67c173dd) cannot access class com.sun.tools.javac.tree.TreeScanner (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x67c173dd*\r\n\r\nTried to update, rebuild project but it didn&#39;t help and please I cannot rewrite the entire project **removing butterknife dependency.**\r\n\r\n","title":"How to solve this Butterknife dependency error? (in unnamed module @0x67c173dd)","body":"<p>I used <strong>butterknife</strong> as one of my Dependency in one of my project though I know its deprecated but it'd be a huge work to rewrite the whole code.</p>\n<p><strong>build.gradle</strong> :</p>\n<pre><code>buildscript {\n    repositories {\n        maven {\n            url &quot;https://jcenter.bintray.com&quot;\n        }\n\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.0'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'com.google.gms:google-services:4.3.2'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>AndroidManifest.xml</strong> :</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;nikolairb.createpdf&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;scopedStorage&quot;/&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera.autofocus&quot;\n        android:required=&quot;false&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;androidx.multidex.MultiDexApplication&quot;\n        android:allowBackup=&quot;true&quot;\n        android:fullBackupContent=&quot;@xml/backup_descriptor&quot;\n        android:hardwareAccelerated=&quot;true&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:largeHeap=&quot;true&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppThemeWhite&quot;\n        tools:ignore=&quot;GoogleAppIndexingWarning,RtlEnabled&quot;&gt;\n        &lt;activity android:name=&quot;.activity.SplashActivity&quot; android:exported=&quot;true&quot;\n            android:theme=&quot;@style/SplashTheme&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.activity.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:windowSoftInputMode=&quot;adjustPan&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEND_MULTIPLE&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n                &lt;data android:mimeType=&quot;image/*&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n                &lt;data android:mimeType=&quot;image/*&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.shortcuts&quot;\n                android:resource=&quot;@xml/shortcuts&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.activity.CropImageActivity&quot; /&gt;\n\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.swati4star.shareFile&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\n        &lt;/provider&gt;\n\n        &lt;activity android:name=&quot;.activity.WelcomeActivity&quot; android:exported=&quot;true&quot;/&gt;\n        &lt;activity android:name=&quot;.activity.ImageEditor&quot; android:exported=&quot;true&quot; /&gt;\n        &lt;activity android:name=&quot;.activity.PreviewActivity&quot; android:exported=&quot;true&quot; /&gt;\n        &lt;activity android:name=&quot;.activity.RearrangeImages&quot; android:exported=&quot;true&quot; /&gt;\n        &lt;activity android:name=&quot;.activity.ImagesPreviewActivity&quot; android:exported=&quot;true&quot;/&gt;\n        &lt;activity android:name=&quot;.activity.RearrangePdfPages&quot;  android:exported=&quot;true&quot;/&gt;\n        &lt;activity android:name=&quot;.activity.FavouritesActivity&quot;  android:exported=&quot;true&quot;/&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>The <strong>ERROR</strong>:</p>\n<p><em>Execution failed for task ':app:compileDebugJavaWithJavac'.</em>\n<em>&gt; superclass access check failed: class butterknife.compiler.ButterKnifeProcessor$RScanner (in unnamed module @0x67c173dd) cannot access class com.sun.tools.javac.tree.TreeScanner (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x67c173dd</em></p>\n<p>Tried to update, rebuild project but it didn't help and please I cannot rewrite the entire project <strong>removing butterknife dependency.</strong></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":74473,"reputation":1561,"user_id":213984,"display_name":"allkenang"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693974277,"creation_date":1625702238,"answer_id":68294107,"question_id":68293940,"body_markdown":"The issue here is that the request scoped bean is not invoked directly by your controller. \r\n\r\nInstead the controller uses a proxy to invoke the request scoped bean (in this case, the proxy is a cglib one based on your proxy mode annotation, ie: `ScopedProxyMode.TARGET_CLASS`\r\n\r\nThe proxy only wraps around **methods** of the request scoped bean and not it&#39;s **variables**.\r\n\r\nSo in short, encapsulate the instance variable of your request scoped bean into a method and call that method from the Controller.\r\n\r\nsomething like this:\r\n\r\n    @Component\r\n    @Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n    public class UserDataContainer {\r\n    \r\n       private int requestCount = 0;\r\n       public int incrementRequestCount(){\r\n            requestCount++;\r\n            return requestCount;\r\n       }\r\n\r\n       public int getRequestCount(){\r\n             return requestCount;\r\n       }\r\n    } \r\n\r\nthen in your Controller, just invoke the public methods \r\n\r\n    @GetMapping\r\n    public String get(Model model) {\r\n        model.addAttribute(&quot;prev&quot;, userData.getRequestCount());\r\n\r\n        model.addAttribute(&quot;curr&quot;, userData.incrementRequestCount());\r\n        \r\n        return &quot;test&quot;;\r\n    }\r\n\r\n","title":"Spring RequestScope bean not working as expected","body":"<p>The issue here is that the request scoped bean is not invoked directly by your controller.</p>\n<p>Instead the controller uses a proxy to invoke the request scoped bean (in this case, the proxy is a cglib one based on your proxy mode annotation, ie: <code>ScopedProxyMode.TARGET_CLASS</code></p>\n<p>The proxy only wraps around <strong>methods</strong> of the request scoped bean and not it's <strong>variables</strong>.</p>\n<p>So in short, encapsulate the instance variable of your request scoped bean into a method and call that method from the Controller.</p>\n<p>something like this:</p>\n<pre><code>@Component\n@Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic class UserDataContainer {\n\n   private int requestCount = 0;\n   public int incrementRequestCount(){\n        requestCount++;\n        return requestCount;\n   }\n\n   public int getRequestCount(){\n         return requestCount;\n   }\n} \n</code></pre>\n<p>then in your Controller, just invoke the public methods</p>\n<pre><code>@GetMapping\npublic String get(Model model) {\n    model.addAttribute(&quot;prev&quot;, userData.getRequestCount());\n\n    model.addAttribute(&quot;curr&quot;, userData.incrementRequestCount());\n    \n    return &quot;test&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":9014691,"reputation":23,"user_id":6718005,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3337,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68294107,"answer_count":1,"score":2,"last_activity_date":1693974277,"creation_date":1625700159,"question_id":68293940,"body_markdown":"I&#39;m trying to learn more about Spring bean scopes for use in a project.  I&#39;ve created a few test classes, and I am not getting the behavior I&#39;d expect.\r\n\r\nI created the following component, and I would like this bean to last for only the duration of the HTTP request.\r\n\r\n    @Component\r\n    @Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n    public class UserDataContainer {\r\n    \t\r\n    \tpublic int requestCount = 0;\r\n    \r\n    }\r\n\r\nThe following controller uses that component.\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/hello&quot;)\r\n    public class HelloController {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UserDataContainer userData;\r\n    \r\n    \t@GetMapping\r\n    \tpublic String get(Model model) {\r\n    \t\tmodel.addAttribute(&quot;prev&quot;, userData.requestCount);\r\n    \t\t\r\n    \t\tuserData.requestCount++;\r\n    \t\t\r\n    \t\tmodel.addAttribute(&quot;curr&quot;, userData.requestCount);\r\n    \t\t\r\n    \t\treturn &quot;test&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nMy trouble is, it doesn&#39;t seem that a new instance of UserDataContainer is created for each request.  Whenever I load this page, I see that the values of &quot;prev&quot; and &quot;curr&quot; keep incrementing, instead of resetting to 0 at the start of each request.  Am I misunderstanding how this is supposed to work, or is something not implemented correctly. ","title":"Spring RequestScope bean not working as expected","body":"<p>I'm trying to learn more about Spring bean scopes for use in a project.  I've created a few test classes, and I am not getting the behavior I'd expect.</p>\n<p>I created the following component, and I would like this bean to last for only the duration of the HTTP request.</p>\n<pre><code>@Component\n@Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic class UserDataContainer {\n    \n    public int requestCount = 0;\n\n}\n</code></pre>\n<p>The following controller uses that component.</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/hello&quot;)\npublic class HelloController {\n    \n    @Autowired\n    private UserDataContainer userData;\n\n    @GetMapping\n    public String get(Model model) {\n        model.addAttribute(&quot;prev&quot;, userData.requestCount);\n        \n        userData.requestCount++;\n        \n        model.addAttribute(&quot;curr&quot;, userData.requestCount);\n        \n        return &quot;test&quot;;\n    }\n\n}\n</code></pre>\n<p>My trouble is, it doesn't seem that a new instance of UserDataContainer is created for each request.  Whenever I load this page, I see that the values of &quot;prev&quot; and &quot;curr&quot; keep incrementing, instead of resetting to 0 at the start of each request.  Am I misunderstanding how this is supposed to work, or is something not implemented correctly.</p>\n"},{"tags":["java","android","smali"],"answers":[{"tags":[],"owner":{"account_id":15648916,"reputation":762,"user_id":11290658,"display_name":"yosra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1560947863,"creation_date":1560947863,"answer_id":56667830,"question_id":56631461,"body_markdown":"This worked for me: \r\n\r\nI just had to find the command dx which is located in `~/Android/Sdk/build-tools/$version` on Linux, but first make sure `android-sdk` is installed\r\n(usually located in `~/android/sdk` on Linux) then run dx using \r\n\r\n`./dx --dex --output=classes.dex path_to_source_file.class` if you are in the same directory as `dx`\r\n","title":"Convert .java to .smali","body":"<p>This worked for me: </p>\n\n<p>I just had to find the command dx which is located in <code>~/Android/Sdk/build-tools/$version</code> on Linux, but first make sure <code>android-sdk</code> is installed\n(usually located in <code>~/android/sdk</code> on Linux) then run dx using </p>\n\n<p><code>./dx --dex --output=classes.dex path_to_source_file.class</code> if you are in the same directory as <code>dx</code></p>\n"},{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1693914078,"post_id":77040947,"comment_id":135819367,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit](https://stackoverflow.com/posts/77040947/edit) to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers in the [help center](https://stackoverflow.com/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77040947/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers in the <a href=\"https://stackoverflow.com/help/how-to-answer\">help center</a>."}],"tags":[],"owner":{"account_id":29366703,"reputation":1,"user_id":22500225,"display_name":"وان فون"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693973899,"creation_date":1693868068,"answer_id":77040947,"question_id":56631461,"body_markdown":"```java\r\npublic final boolean A0H(SharedPreferences sharedPreferences, byte[] bArr) {\r\n    3Hk A06;\r\n    if (A0I(this.A0A.A00(bArr), &quot;client_static_keypair_pwd_enc&quot;) &amp;&amp; (A06 = A06(sharedPreferences)) != null &amp;&amp; Arrays.equals(bArr, A06.A01())) {\r\n        Log.i(&quot;AuthKeyStore/storedAndCanRead/3&quot;);\r\n        return true;\r\n    }\r\n    Log.e(000.A0d(&quot;failed to store and read correct key&quot;, 000.A0n(&quot;EncryptedKeyHelper/reportEncryptedKeyHelperProblem/&quot;)), new RuntimeException());\r\n    return false;\r\n}\r\n```","title":"Convert .java to .smali","body":"<pre class=\"lang-java prettyprint-override\"><code>public final boolean A0H(SharedPreferences sharedPreferences, byte[] bArr) {\n    3Hk A06;\n    if (A0I(this.A0A.A00(bArr), &quot;client_static_keypair_pwd_enc&quot;) &amp;&amp; (A06 = A06(sharedPreferences)) != null &amp;&amp; Arrays.equals(bArr, A06.A01())) {\n        Log.i(&quot;AuthKeyStore/storedAndCanRead/3&quot;);\n        return true;\n    }\n    Log.e(000.A0d(&quot;failed to store and read correct key&quot;, 000.A0n(&quot;EncryptedKeyHelper/reportEncryptedKeyHelperProblem/&quot;)), new RuntimeException());\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":15648916,"reputation":762,"user_id":11290658,"display_name":"yosra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":804,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56667830,"answer_count":2,"score":2,"last_activity_date":1693973899,"creation_date":1560775023,"question_id":56631461,"body_markdown":"As mentioned in the title I am trying to convert a java file into a .smali file, so these are the commands I am trying to launch from Android studio terminal:\r\n\r\n`javac HelloWorld.java`\r\n\r\n`dx --dex --output=classes.dex HelloWorld.class`\r\n\r\n`baksmali classes.dex`\r\n\r\nBut when I launch the second command I get this error:\r\n\r\n&gt;bash: dx : command not found\r\n\r\nAlso, I&#39;ve tried to compile my file directly to smali, by going to: `Build/compile to smali` on Android studio and this is the error I get:\r\n\r\n&gt;Error:Internal error: (java.lang.ClassNotFoundException) com.google.wireless.android.sdk.stats.IntellijIndexingStats$Index\r\njava.lang.ClassNotFoundException: com.google.wireless.android.sdk.stats.IntellijIndexingStats$Index&gt;\r\n&gt;\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n&gt;\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n&gt;\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n&gt;\tat com.intellij.util.indexing.counters.IndexCounters.&lt;clinit&gt;(IndexCounters.java:34)\r\n&gt;\tat com.intellij.util.indexing.impl.MapReduceIndex.&lt;init&gt;(MapReduceIndex.java:86)\r\n&gt;\tat org.jetbrains.jps.backwardRefs.index.CompilerReferenceIndex$CompilerMapReduceIndex.&lt;init&gt;(CompilerReferenceIndex.java:214)\r\n&gt;\tat org.jetbrains.jps.backwardRefs.index.CompilerReferenceIndex.&lt;init&gt;(CompilerReferenceIndex.java:73)\r\n&gt;\tat org.jetbrains.jps.backwardRefs.JavaCompilerBackwardReferenceIndex.&lt;init&gt;(JavaCompilerBackwardReferenceIndex.java:12)\r\n&gt;\tat org.jetbrains.jps.backwardRefs.JavaBackwardReferenceIndexWriter.initialize(JavaBackwardReferenceIndexWriter.java:74)\r\n&gt;\tat org.jetbrains.jps.backwardRefs.JavaBackwardReferenceIndexBuilder.buildStarted(JavaBackwardReferenceIndexBuilder.java:40)\r\n&gt;\tat org.jetbrains.jps.incremental.IncProjectBuilder.runBuild(IncProjectBuilder.java:358)\r\n&gt;\tat org.jetbrains.jps.incremental.IncProjectBuilder.build(IncProjectBuilder.java:178)\r\n&gt;\tat org.jetbrains.jps.cmdline.BuildRunner.runBuild(BuildRunner.java:138)\r\n&gt;\tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:302)\r\n&gt;\tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:135)\r\n&gt;\tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:229)\r\n&gt;\tat org.jetbrains.jps.service.impl.SharedThreadPoolImpl.lambda$executeOnPooledThread$0(SharedThreadPoolImpl.java:42)\r\n&gt;\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n&gt;\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n&gt;\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n&gt;\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n&gt;\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nAny ideas on how I can make this work? or any other tool to convert .java to .smali?","title":"Convert .java to .smali","body":"<p>As mentioned in the title I am trying to convert a java file into a .smali file, so these are the commands I am trying to launch from Android studio terminal:</p>\n\n<p><code>javac HelloWorld.java</code></p>\n\n<p><code>dx --dex --output=classes.dex HelloWorld.class</code></p>\n\n<p><code>baksmali classes.dex</code></p>\n\n<p>But when I launch the second command I get this error:</p>\n\n<blockquote>\n  <p>bash: dx : command not found</p>\n</blockquote>\n\n<p>Also, I've tried to compile my file directly to smali, by going to: <code>Build/compile to smali</code> on Android studio and this is the error I get:</p>\n\n<blockquote>\n  <p>Error:Internal error: (java.lang.ClassNotFoundException) com.google.wireless.android.sdk.stats.IntellijIndexingStats$Index\n  java.lang.ClassNotFoundException: com.google.wireless.android.sdk.stats.IntellijIndexingStats$Index>\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at com.intellij.util.indexing.counters.IndexCounters.(IndexCounters.java:34)\n    at com.intellij.util.indexing.impl.MapReduceIndex.(MapReduceIndex.java:86)\n    at org.jetbrains.jps.backwardRefs.index.CompilerReferenceIndex$CompilerMapReduceIndex.(CompilerReferenceIndex.java:214)\n    at org.jetbrains.jps.backwardRefs.index.CompilerReferenceIndex.(CompilerReferenceIndex.java:73)\n    at org.jetbrains.jps.backwardRefs.JavaCompilerBackwardReferenceIndex.(JavaCompilerBackwardReferenceIndex.java:12)\n    at org.jetbrains.jps.backwardRefs.JavaBackwardReferenceIndexWriter.initialize(JavaBackwardReferenceIndexWriter.java:74)\n    at org.jetbrains.jps.backwardRefs.JavaBackwardReferenceIndexBuilder.buildStarted(JavaBackwardReferenceIndexBuilder.java:40)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.runBuild(IncProjectBuilder.java:358)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.build(IncProjectBuilder.java:178)\n    at org.jetbrains.jps.cmdline.BuildRunner.runBuild(BuildRunner.java:138)\n    at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:302)\n    at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:135)\n    at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:229)\n    at org.jetbrains.jps.service.impl.SharedThreadPoolImpl.lambda$executeOnPooledThread$0(SharedThreadPoolImpl.java:42)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n\n<p>Any ideas on how I can make this work? or any other tool to convert .java to .smali?</p>\n"},{"tags":["java","mysql","mysql-8.0"],"comments":[{"owner":{"account_id":317817,"reputation":2514,"user_id":634698,"accept_rate":11,"display_name":"Thallius"},"score":1,"creation_date":1687435732,"post_id":76531689,"comment_id":134938319,"body_markdown":"Are you sure the table studquesattemptbo (what a cruel name. no one can imagine what this table is good for) is existing in the database &quot;latest&quot;?","body":"Are you sure the table studquesattemptbo (what a cruel name. no one can imagine what this table is good for) is existing in the database &quot;latest&quot;?"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1687491047,"post_id":76531689,"comment_id":134947360,"body_markdown":"yes it exist in db","body":"yes it exist in db"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1687519589,"post_id":76531689,"comment_id":134951834,"body_markdown":"@Thallius i have edited my question if possible can you please provide any inputs","body":"@Thallius i have edited my question if possible can you please provide any inputs"}],"answers":[{"tags":[],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687925492,"creation_date":1687925492,"answer_id":76569981,"question_id":76531689,"body_markdown":"instead of changing the query to native query use &quot;`Pageable firstRecord = PageRequest.of(0, 1);`&quot; and pass this in the parameter of the method call","title":"issue in running the mysql query","body":"<p>instead of changing the query to native query use &quot;<code>Pageable firstRecord = PageRequest.of(0, 1);</code>&quot; and pass this in the parameter of the method call</p>\n"}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76569981,"answer_count":1,"score":-2,"last_activity_date":1693973336,"creation_date":1687435434,"question_id":76531689,"body_markdown":"Query: -\r\n\r\n    @Query(value=&quot;select sqla.questionBO from StudBO sqla where sqa.questionBO.id != null and sqa.lessionId = :lessionId and sqa.studentBO.id=:studentId ORDER BY sqa.attemptedOn DESC limit 1&quot;, nativeQuery=true)\r\n    \tList&lt;QuestionBO&gt; getSQues(@Param(&quot;studentId&quot;) Long studentId,\r\n    \t\t\t@Param(&quot;lessionId&quot;) Long lessionId);\r\n\r\nI&#39;m upgrading my MySQL from v5 to v8 earlier I was not using nativeQuery = true variable and it was working fine, but I think now I have to use native Query as I&#39;m using the limit function.\r\n\r\nIf I don&#39;t use nativeQuery then I get &quot;`antlr.NoViableAltException: unexpected token: limit`&quot;\r\nerror at tomcat startup.\r\n\r\nBut when I use nativeQuery I get the table not found error &quot;`ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Table &#39;latest.studquesattemptbo&#39; doesn&#39;t exist`&quot; when this method is called.\r\n\r\nI checked my.ini file and there &quot;lower_case_table_names=1&quot; is already present as pointed in this link &quot;https://knowledge.broadcom.com/external/article/47334/enterprise-dashboard-error-sqlexceptionh.html&quot;\r\n\r\nEdit1:- \r\nits BO.\r\n\r\n   \r\n\r\n     @Table(name = &quot;student_question_attempt&quot;)\r\n        public class StudQuesAttemptBO implements Serializable {\r\n    @Column(name = &quot;ATTEMPTED_ON&quot;)\r\n        private Timestamp attemptedOn;\r\n    \r\n        //@Column(name = &quot;STUDENT_ID&quot;)\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;STUDENT_ID&quot;)\r\n        private StudentBO studentBO;\r\n    \r\n       // @Column(name = &quot;QUESTION_ID&quot;)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;QUESTION_ID&quot;)\r\n        private QuestionBO questionBO;\r\n        \r\n        @Column(name = &quot;SCORE&quot;)\r\n        private Double score;\r\n        \r\n        @Column(name = &quot;LESSION_ID&quot;)\r\n        private Long lessionId;\r\n\r\nEdit2:-\r\n\r\nif i use table name instead of BO then getting:-\r\n\r\n    ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Unknown column &#39;sqla.questionBO&#39; in &#39;field list&#39;\r\n\r\n\r\n\r\n","title":"issue in running the mysql query","body":"<p>Query: -</p>\n<pre><code>@Query(value=&quot;select sqla.questionBO from StudBO sqla where sqa.questionBO.id != null and sqa.lessionId = :lessionId and sqa.studentBO.id=:studentId ORDER BY sqa.attemptedOn DESC limit 1&quot;, nativeQuery=true)\n    List&lt;QuestionBO&gt; getSQues(@Param(&quot;studentId&quot;) Long studentId,\n            @Param(&quot;lessionId&quot;) Long lessionId);\n</code></pre>\n<p>I'm upgrading my MySQL from v5 to v8 earlier I was not using nativeQuery = true variable and it was working fine, but I think now I have to use native Query as I'm using the limit function.</p>\n<p>If I don't use nativeQuery then I get &quot;<code>antlr.NoViableAltException: unexpected token: limit</code>&quot;\nerror at tomcat startup.</p>\n<p>But when I use nativeQuery I get the table not found error &quot;<code>ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Table 'latest.studquesattemptbo' doesn't exist</code>&quot; when this method is called.</p>\n<p>I checked my.ini file and there &quot;lower_case_table_names=1&quot; is already present as pointed in this link &quot;https://knowledge.broadcom.com/external/article/47334/enterprise-dashboard-error-sqlexceptionh.html&quot;</p>\n<p>Edit1:-\nits BO.</p>\n<pre><code> @Table(name = &quot;student_question_attempt&quot;)\n    public class StudQuesAttemptBO implements Serializable {\n@Column(name = &quot;ATTEMPTED_ON&quot;)\n    private Timestamp attemptedOn;\n\n    //@Column(name = &quot;STUDENT_ID&quot;)\n    @ManyToOne\n    @JoinColumn(name = &quot;STUDENT_ID&quot;)\n    private StudentBO studentBO;\n\n   // @Column(name = &quot;QUESTION_ID&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;QUESTION_ID&quot;)\n    private QuestionBO questionBO;\n    \n    @Column(name = &quot;SCORE&quot;)\n    private Double score;\n    \n    @Column(name = &quot;LESSION_ID&quot;)\n    private Long lessionId;\n</code></pre>\n<p>Edit2:-</p>\n<p>if i use table name instead of BO then getting:-</p>\n<pre><code>ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Unknown column 'sqla.questionBO' in 'field list'\n</code></pre>\n"},{"tags":["java","ffmpeg","terminal","command","processbuilder"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1688143150,"post_id":76590686,"comment_id":135039207,"body_markdown":"Please use [code format](https://stackoverflow.com/editing-help#code) for code, errors and logs.","body":"Please use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for code, errors and logs."},{"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"score":0,"creation_date":1688192388,"post_id":76590686,"comment_id":135043918,"body_markdown":"@user16320675 yes they are needed","body":"@user16320675 yes they are needed"},{"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"score":0,"creation_date":1688192669,"post_id":76590686,"comment_id":135043942,"body_markdown":"@user16320675 ffmpeg -i left.mp3 -i right.mp3 -filter_complex &quot;[0]apad[a];[a][1]amerge[aout]&quot; -map &quot;[aout]&quot; output.mp3","body":"@user16320675 ffmpeg -i left.mp3 -i right.mp3 -filter_complex &quot;[0]apad[a];[a][1]amerge[aout]&quot; -map &quot;[aout]&quot; output.mp3"},{"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"score":0,"creation_date":1688192706,"post_id":76590686,"comment_id":135043949,"body_markdown":"@user16320675 this is the command and left.mp3 and right.mp3 are the audio files","body":"@user16320675 this is the command and left.mp3 and right.mp3 are the audio files"},{"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"score":0,"creation_date":1688192921,"post_id":76590686,"comment_id":135043964,"body_markdown":"@user16320675 https://ffmpeg.org/ffmpeg.html this the documentation and i tried after removing the quotes also, that is not a working command prompt","body":"@user16320675 <a href=\"https://ffmpeg.org/ffmpeg.html\" rel=\"nofollow noreferrer\">ffmpeg.org/ffmpeg.html</a> this the documentation and i tried after removing the quotes also, that is not a working command prompt"},{"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"score":0,"creation_date":1688193392,"post_id":76590686,"comment_id":135044001,"body_markdown":"@user16320675 can you tell me the correct way to write this","body":"@user16320675 can you tell me the correct way to write this"},{"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"score":0,"creation_date":1688193412,"post_id":76590686,"comment_id":135044003,"body_markdown":"@user16320675     /*\n       Mix multiple single channel audio files to give a single file, in MULTIPLE CHANNEL (STEREO),\n       files can be of different length but starting point will be same, the duration of output will be the duration of longest input file.\n       file1  : 1111111111111111111111111\n       file2  : 2222222222222\n       Output : XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX where X = [1,2] combination of audios\n       Command : ffmpeg -i left.mp3 -i right.mp3 -filter_complex &quot;[0]apad[a];[a][1]amerge[aout]&quot; -map &quot;[aout]&quot; output.mp3\n   */ this the task i want to do","body":"@user16320675     /*        Mix multiple single channel audio files to give a single file, in MULTIPLE CHANNEL (STEREO),        files can be of different length but starting point will be same, the duration of output will be the duration of longest input file.        file1  : 1111111111111111111111111        file2  : 2222222222222        Output : XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX where X = [1,2] combination of audios        Command : ffmpeg -i left.mp3 -i right.mp3 -filter_complex &quot;[0]apad[a];[a][1]amerge[aout]&quot; -map &quot;[aout]&quot; output.mp3    */ this the task i want to do"},{"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"score":0,"creation_date":1688197218,"post_id":76590686,"comment_id":135044303,"body_markdown":"@user16320675 can you please send your code","body":"@user16320675 can you please send your code"}],"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693972365,"creation_date":1688142036,"question_id":76590686,"body_markdown":"not able run this coomand \r\n\r\n\r\n\r\n        List&lt;String&gt; command= new ArrayList&lt;&gt;();\r\n        command.add(&quot;ffmpeg&quot;);\r\n        command.add(&quot;-i&quot;);\r\n        command.add(file1Path);\r\n        command.add(&quot;-i&quot;);\r\n        command.add(file2Path);\r\n        command.add(&quot;-filter_complex&quot;);\r\n        command.add(&quot;\\&quot;[0]apad[a];[a][1]amerge[aout]\\&quot;&quot;);\r\n        command.add(&quot;-map&quot;);\r\n        command.add(&quot;\\&quot;[aout]\\&quot;&quot;);\r\n        command.add(outputFilePath);\r\nProcessBuilder processBuilder = new ProcessBuilder(command);\r\nProcess process = processBuilder.start();\r\n\r\n\r\n\r\n\r\nerror   Stream #1:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 8000 Hz, 1 channels, s16, 128 kb/s\r\n[AVFilterGraph @ 0x7f9dd8d05cc0] Trailing garbage after a filter: apad[a];[a][1]amerge[aout]&quot;\r\n[AVFilterGraph @ 0x7f9dd8d05cc0] Error parsing filterchain &#39;&quot;[0]apad[a];[a][1]amerge[aout]&quot;&#39; around: apad[a];[a][1]amerge[aout]&quot;\r\n\r\n\r\n\r\nHow to resolve \r\n\r\nI want to run this command which is basically merging two mono audio file to stereo ","title":"How to resolve this filter Processbuilder error?","body":"<p>not able run this coomand</p>\n<pre><code>    List&lt;String&gt; command= new ArrayList&lt;&gt;();\n    command.add(&quot;ffmpeg&quot;);\n    command.add(&quot;-i&quot;);\n    command.add(file1Path);\n    command.add(&quot;-i&quot;);\n    command.add(file2Path);\n    command.add(&quot;-filter_complex&quot;);\n    command.add(&quot;\\&quot;[0]apad[a];[a][1]amerge[aout]\\&quot;&quot;);\n    command.add(&quot;-map&quot;);\n    command.add(&quot;\\&quot;[aout]\\&quot;&quot;);\n    command.add(outputFilePath);\n</code></pre>\n<p>ProcessBuilder processBuilder = new ProcessBuilder(command);\nProcess process = processBuilder.start();</p>\n<p>error   Stream #1:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 8000 Hz, 1 channels, s16, 128 kb/s\n[AVFilterGraph @ 0x7f9dd8d05cc0] Trailing garbage after a filter: apad[a];[a][1]amerge[aout]&quot;\n[AVFilterGraph @ 0x7f9dd8d05cc0] Error parsing filterchain '&quot;[0]apad[a];[a][1]amerge[aout]&quot;' around: apad[a];[a][1]amerge[aout]&quot;</p>\n<p>How to resolve</p>\n<p>I want to run this command which is basically merging two mono audio file to stereo</p>\n"},{"tags":["java","math","hex","integer-arithmetic"],"comments":[{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":2,"creation_date":1411163945,"post_id":25942910,"comment_id":40616026,"body_markdown":"you can start from Integer.parseInt(s, radix) source code","body":"you can start from Integer.parseInt(s, radix) source code"}],"answers":[{"comments":[{"owner":{"account_id":4849399,"reputation":389,"user_id":3912134,"display_name":"g7k"},"score":0,"creation_date":1411264639,"post_id":25942972,"comment_id":40635422,"body_markdown":"Thanks for your answer. If you could show me where to find some code of Hex implementation, that would be great!","body":"Thanks for your answer. If you could show me where to find some code of Hex implementation, that would be great!"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1411266047,"post_id":25942972,"comment_id":40635660,"body_markdown":"@g7k Why? You&#39;ve just been told you don&#39;t need it.","body":"@g7k Why? You&#39;ve just been told you don&#39;t need it."},{"owner":{"account_id":4849399,"reputation":389,"user_id":3912134,"display_name":"g7k"},"score":0,"creation_date":1411266915,"post_id":25942972,"comment_id":40635815,"body_markdown":"@EJP I have accepted the answer, i know now that i don&#39;t need it and that&#39;s how i will implement it. But i would still love to read how Hex is implemented if that&#39;s ok :-)","body":"@EJP I have accepted the answer, i know now that i don&#39;t need it and that&#39;s how i will implement it. But i would still love to read how Hex is implemented if that&#39;s ok :-)"},{"owner":{"account_id":3455718,"reputation":102,"user_id":2894291,"display_name":"Josef Vesel&#253;"},"score":0,"creation_date":1667220715,"post_id":25942972,"comment_id":131111700,"body_markdown":"note that MAX_RADIS constant is 36 which is ok for system 0-z but not OK if you want to have system with more symbols.","body":"note that MAX_RADIS constant is 36 which is ok for system 0-z but not OK if you want to have system with more symbols."}],"tags":[],"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693971605,"creation_date":1411163998,"answer_id":25942972,"question_id":25942910,"body_markdown":"That&#39;s just integers with a radix of 20 (base 20).  \r\n\r\nRemember the difference between the _value_ (an abstract concept) and its _representation_.  You care about representation only on input and output.  When you input values they will be represented in base-20, and you want to output them in base-20.  As long as that interface is satisfied, how the numbers are represented inside your code shouldn&#39;t matter, so you should use the most convenient representation for the range you need to cover (int, long or BigInteger).\r\n\r\nJava already has all the necessary infrastructure to deal with this. Check out the `Integer.parseInt(String value, int radix)` for input.  For output there&#39;s `Integer.toString(int value, int radix)`","title":"Implement custom Arithmetic System","body":"<p>That's just integers with a radix of 20 (base 20).</p>\n<p>Remember the difference between the <em>value</em> (an abstract concept) and its <em>representation</em>.  You care about representation only on input and output.  When you input values they will be represented in base-20, and you want to output them in base-20.  As long as that interface is satisfied, how the numbers are represented inside your code shouldn't matter, so you should use the most convenient representation for the range you need to cover (int, long or BigInteger).</p>\n<p>Java already has all the necessary infrastructure to deal with this. Check out the <code>Integer.parseInt(String value, int radix)</code> for input.  For output there's <code>Integer.toString(int value, int radix)</code></p>\n"}],"owner":{"account_id":4849399,"reputation":389,"user_id":3912134,"display_name":"g7k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":25942972,"answer_count":1,"score":4,"last_activity_date":1693971605,"creation_date":1411163642,"question_id":25942910,"body_markdown":"I need to implement a custom integer arithmetic system, like Hexadecimal but with 4 more letters.  \r\n  \r\nFor example, Hexadecimal uses `[0-9,A-F]` to represent a number. Mine will use `[0-9,A-J]`.  \r\n\r\n    Sample representations:  \r\n    Decimal(5): Hex(5), MySystem(5)\r\n    Decimal(15): Hex(F), MySystem(F)\r\n    Decimal(16): Hex(10), MySystem(G)\r\n    Decimal(17): Hex(11), MySystem(H)\r\n    Decimal(18): Hex(12), MySystem(I)\r\n    Decimal(19): Hex(13), MySystem(J)\r\n    Decimal(20): Hex(14), MySystem(10)\r\n    ...\r\n  \r\nI cannot decide if i should store numbers as `String` or as `BigInteger`.  \r\nIt would really help if you could point me to somewhere where i could read how Hex is implemented in code. So far, i have only been able to find implementations only for conversions from/to other arithmetic systems.","title":"Implement custom Arithmetic System","body":"<p>I need to implement a custom integer arithmetic system, like Hexadecimal but with 4 more letters.</p>\n<p>For example, Hexadecimal uses <code>[0-9,A-F]</code> to represent a number. Mine will use <code>[0-9,A-J]</code>.</p>\n<pre><code>Sample representations:  \nDecimal(5): Hex(5), MySystem(5)\nDecimal(15): Hex(F), MySystem(F)\nDecimal(16): Hex(10), MySystem(G)\nDecimal(17): Hex(11), MySystem(H)\nDecimal(18): Hex(12), MySystem(I)\nDecimal(19): Hex(13), MySystem(J)\nDecimal(20): Hex(14), MySystem(10)\n...\n</code></pre>\n<p>I cannot decide if i should store numbers as <code>String</code> or as <code>BigInteger</code>.<br />\nIt would really help if you could point me to somewhere where i could read how Hex is implemented in code. So far, i have only been able to find implementations only for conversions from/to other arithmetic systems.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9933,"page":201,"page_size":100}
