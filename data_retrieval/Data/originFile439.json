{"items":[{"tags":["java","android","xml","android-studio","android-studio-3.0"],"comments":[{"owner":{"account_id":5849714,"reputation":86,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1683732562,"post_id":76217438,"comment_id":134412722,"body_markdown":"can you be a bit more clearer on your requirement?","body":"can you be a bit more clearer on your requirement?"},{"owner":{"account_id":27131842,"reputation":11,"user_id":20673937,"display_name":"yondel"},"score":0,"creation_date":1683734791,"post_id":76217438,"comment_id":134413330,"body_markdown":"i want the ImageViews to be linear and have a button appear when you reach the last one, that button then goes to another activity when clicked","body":"i want the ImageViews to be linear and have a button appear when you reach the last one, that button then goes to another activity when clicked"},{"owner":{"account_id":5849714,"reputation":86,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1683738647,"post_id":76217438,"comment_id":134414212,"body_markdown":"That button (goes to ??? OR )TAKES YOU TO another activity? Could you clarify","body":"That button (goes to ??? OR )TAKES YOU TO another activity? Could you clarify"}],"answers":[{"tags":[],"owner":{"account_id":27064186,"reputation":216,"user_id":20615799,"display_name":"DawoleQ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683881740,"creation_date":1683880784,"answer_id":76234563,"question_id":76217438,"body_markdown":"First, make a button that takes you to the next activity and put it where you want it to appear in the XML file then set visibility to gone.\r\n\r\nThen, you could do something like this in your button&#39;s onClick (assuming btn_done is the button to show):\r\n\r\n```\r\nView.OnClickListener btn_gt4_nextChangeImageListener = new View.OnClickListener() {\r\n\r\n        public void onClick(View view) {\r\n            //increase counter to move to next img\r\n            currentImage++;\r\n            currentImage = currentImage % images.length;\r\n\r\n            Sample1.setImageResource(images[currentImage]);\r\n            \r\n            if(currentImage == 5) {\r\n                //set btn_done to visible and btn_gt4_back to gone\r\n            }\r\n        }\r\n    };\r\n```\r\n\r\nIf I understood your question right, this should help to get what you want\r\n\r\n(*Sorry for not including the exact methods to do this, I don&#39;t remember them and I can&#39;t check right now, I&#39;ll edit my answer when I get the chance to check*)","title":"how to go to another activity after an imageview","body":"<p>First, make a button that takes you to the next activity and put it where you want it to appear in the XML file then set visibility to gone.</p>\n<p>Then, you could do something like this in your button's onClick (assuming btn_done is the button to show):</p>\n<pre><code>View.OnClickListener btn_gt4_nextChangeImageListener = new View.OnClickListener() {\n\n        public void onClick(View view) {\n            //increase counter to move to next img\n            currentImage++;\n            currentImage = currentImage % images.length;\n\n            Sample1.setImageResource(images[currentImage]);\n            \n            if(currentImage == 5) {\n                //set btn_done to visible and btn_gt4_back to gone\n            }\n        }\n    };\n</code></pre>\n<p>If I understood your question right, this should help to get what you want</p>\n<p>(<em>Sorry for not including the exact methods to do this, I don't remember them and I can't check right now, I'll edit my answer when I get the chance to check</em>)</p>\n"}],"owner":{"account_id":27131842,"reputation":11,"user_id":20673937,"display_name":"yondel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683881740,"creation_date":1683715324,"question_id":76217438,"body_markdown":"after going through 5 pictures changing in an activity i want a button to appear once you reach the last image\r\n\r\n```\r\npackage com.example.test;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.VideoView;\r\n\r\nimport com.google.android.material.badge.BadgeUtils;\r\n\r\npublic class gt4 extends AppCompatActivity {\r\n\r\n    ImageView Sample1;\r\n    Button btn_gt4_back, btn_gt4_next, btn_settingsLSN, btn_done;\r\n\r\n    private int currentImage = 0;\r\n    int[] images = {R.drawable.gtnframe1, R.drawable.gtnframe2, R.drawable.gtnframe3, R.drawable.gtnframe4, R.drawable.gtnframe5};\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        getSupportActionBar().hide();\r\n        setContentView(R.layout.gt4);\r\n\r\n        Sample1 = (ImageView) findViewById(R.id.Sample1);\r\n        btn_gt4_back = (Button) findViewById(R.id.btn_gt4_back);\r\n        btn_gt4_next = (Button) findViewById(R.id.btn_gt4_next);\r\n\r\n        //set one click listener for image\r\n\r\n        btn_gt4_back.setOnClickListener(btn_gt4_backChangeImageListener);\r\n        btn_gt4_next.setOnClickListener(btn_gt4_nextChangeImageListener);\r\n\r\n    }\r\n    View.OnClickListener btn_gt4_nextChangeImageListener = new View.OnClickListener() {\r\n\r\n        public void onClick(View view) {\r\n            //increase counter to move to next img\r\n            currentImage++;\r\n            currentImage = currentImage % images.length;\r\n\r\n            Sample1.setImageResource(images[currentImage]);\r\n\r\n        }\r\n    };\r\n\r\n    View.OnClickListener btn_gt4_backChangeImageListener = new View.OnClickListener() {\r\n\r\n        public void onClick(View view) {\r\n\r\n            currentImage--;\r\n            currentImage = (currentImage + images.length) % images.length;\r\n\r\n            Sample1.setImageResource(images[currentImage]);\r\n        }\r\n    };\r\n}\r\n```\r\ncurrently it&#39;s continuous and after the last image it goes back to the first one, i also want the back button to dissapear after the new button for the new activity appears \r\n\r\nidk how to do so and i already tried having a button that goes to another activity but it always appear in the screen","title":"how to go to another activity after an imageview","body":"<p>after going through 5 pictures changing in an activity i want a button to appear once you reach the last image</p>\n<pre><code>package com.example.test;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.VideoView;\n\nimport com.google.android.material.badge.BadgeUtils;\n\npublic class gt4 extends AppCompatActivity {\n\n    ImageView Sample1;\n    Button btn_gt4_back, btn_gt4_next, btn_settingsLSN, btn_done;\n\n    private int currentImage = 0;\n    int[] images = {R.drawable.gtnframe1, R.drawable.gtnframe2, R.drawable.gtnframe3, R.drawable.gtnframe4, R.drawable.gtnframe5};\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getSupportActionBar().hide();\n        setContentView(R.layout.gt4);\n\n        Sample1 = (ImageView) findViewById(R.id.Sample1);\n        btn_gt4_back = (Button) findViewById(R.id.btn_gt4_back);\n        btn_gt4_next = (Button) findViewById(R.id.btn_gt4_next);\n\n        //set one click listener for image\n\n        btn_gt4_back.setOnClickListener(btn_gt4_backChangeImageListener);\n        btn_gt4_next.setOnClickListener(btn_gt4_nextChangeImageListener);\n\n    }\n    View.OnClickListener btn_gt4_nextChangeImageListener = new View.OnClickListener() {\n\n        public void onClick(View view) {\n            //increase counter to move to next img\n            currentImage++;\n            currentImage = currentImage % images.length;\n\n            Sample1.setImageResource(images[currentImage]);\n\n        }\n    };\n\n    View.OnClickListener btn_gt4_backChangeImageListener = new View.OnClickListener() {\n\n        public void onClick(View view) {\n\n            currentImage--;\n            currentImage = (currentImage + images.length) % images.length;\n\n            Sample1.setImageResource(images[currentImage]);\n        }\n    };\n}\n</code></pre>\n<p>currently it's continuous and after the last image it goes back to the first one, i also want the back button to dissapear after the new button for the new activity appears</p>\n<p>idk how to do so and i already tried having a button that goes to another activity but it always appear in the screen</p>\n"},{"tags":["java","spring-boot","jersey-2.0","spring-boot-actuator"],"comments":[{"owner":{"account_id":1471892,"reputation":9718,"user_id":1383240,"accept_rate":38,"display_name":"NiVeR"},"score":0,"creation_date":1533064478,"post_id":51620437,"comment_id":90206491,"body_markdown":"`/actuator/info` ?","body":"<code>&#47;actuator&#47;info</code> ?"},{"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"score":0,"creation_date":1558958039,"post_id":51620437,"comment_id":99258641,"body_markdown":"I was able to get this working, please check https://stackoverflow.com/a/56325410/320087","body":"I was able to get this working, please check <a href=\"https://stackoverflow.com/a/56325410/320087\">stackoverflow.com/a/56325410/320087</a>"}],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1539319657,"creation_date":1533066135,"answer_id":51620928,"question_id":51620437,"body_markdown":"It&#39;s because by default Jersey will use the url mapping `/*`, which will hog up all requests, including those to the actuator endpoints, which it will not find. There are two solutions; you can either change the base URL for Jersey to something else, e.g. `/api/*` or you can configure Jersey as a filter (instead of the default servlet) and set a property to make Jersey forward all requests it doesn&#39;t know down to the servlet container. Both examples can be found in [this post][1].\r\n\r\n\r\n[1]: https://stackoverflow.com/a/29670751/2587435","title":"Spring Boot 2 Actuator endpoints inaccessible with Jersey","body":"<p>It's because by default Jersey will use the url mapping <code>/*</code>, which will hog up all requests, including those to the actuator endpoints, which it will not find. There are two solutions; you can either change the base URL for Jersey to something else, e.g. <code>/api/*</code> or you can configure Jersey as a filter (instead of the default servlet) and set a property to make Jersey forward all requests it doesn't know down to the servlet container. Both examples can be found in <a href=\"https://stackoverflow.com/a/29670751/2587435\">this post</a>.</p>\n"}],"owner":{"account_id":390553,"reputation":87,"user_id":750698,"display_name":"Tim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2549,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":51620928,"answer_count":1,"score":5,"last_activity_date":1683881526,"creation_date":1533064159,"question_id":51620437,"body_markdown":"I have a very simple demo application using the Spring Boot 2.0.x.RELEASE\r\n\r\nIn my POM I have:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;Finchley.RELEASE&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;!-- We&#39;re using undertow as our embedded web container instead of tomcat --&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Embedded web container- serves Jersey resources --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Support for Spring Actuator &amp; Health Check Endpoints --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\nMy main application just looks like:\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tResourceConfig getJerseyConfig() {\r\n    \t\tfinal HashMap&lt;String, Object&gt; jerseyProperties = new HashMap&lt;&gt;();\r\n    \t\tjerseyProperties.put(ServerProperties.MEDIA_TYPE_MAPPINGS, &quot;json : application/json&quot;);\r\n    \t\tResourceConfig resourceConfig = new ResourceConfig()\r\n    \t\t\t\t.register(TestEndpoints.class);\r\n    \t\tresourceConfig = resourceConfig.setProperties(jerseyProperties);\r\n    \r\n    \t\treturn resourceConfig;\r\n    \t}\r\n    }\r\n\r\nWhen I then try and hit an actuator endpoint such as `/actuator` I receive a 404, but I can hit the endpoints in `TestEndpoints.java` with no problem. I had this working with Spring Boot 1.5.x, but now it seems that Jersey is not allowing the actuator endpoints through. If I remove the ResourceConfig bean completely, then I can hit the actuator endpoints. Is there some configuration I have to add to allow the actuator endpoints through jersey?\r\n","title":"Spring Boot 2 Actuator endpoints inaccessible with Jersey","body":"<p>I have a very simple demo application using the Spring Boot 2.0.x.RELEASE</p>\n\n<p>In my POM I have:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;Finchley.RELEASE&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;!-- We're using undertow as our embedded web container instead of tomcat --&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Embedded web container- serves Jersey resources --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Support for Spring Actuator &amp; Health Check Endpoints --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>My main application just looks like:</p>\n\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Bean\n    ResourceConfig getJerseyConfig() {\n        final HashMap&lt;String, Object&gt; jerseyProperties = new HashMap&lt;&gt;();\n        jerseyProperties.put(ServerProperties.MEDIA_TYPE_MAPPINGS, \"json : application/json\");\n        ResourceConfig resourceConfig = new ResourceConfig()\n                .register(TestEndpoints.class);\n        resourceConfig = resourceConfig.setProperties(jerseyProperties);\n\n        return resourceConfig;\n    }\n}\n</code></pre>\n\n<p>When I then try and hit an actuator endpoint such as <code>/actuator</code> I receive a 404, but I can hit the endpoints in <code>TestEndpoints.java</code> with no problem. I had this working with Spring Boot 1.5.x, but now it seems that Jersey is not allowing the actuator endpoints through. If I remove the ResourceConfig bean completely, then I can hit the actuator endpoints. Is there some configuration I have to add to allow the actuator endpoints through jersey?</p>\n"},{"tags":["java","windows","windows-7","locale","java-7"],"comments":[{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":2,"creation_date":1313673296,"post_id":7107972,"comment_id":8513785,"body_markdown":"There must be some error. Did you try a simple test app? I&#39;d reinstall it.","body":"There must be some error. Did you try a simple test app? I&#39;d reinstall it."},{"owner":{"account_id":443046,"reputation":1337,"user_id":834035,"accept_rate":63,"display_name":"Neo"},"score":0,"creation_date":1313684405,"post_id":7107972,"comment_id":8517812,"body_markdown":"I set a breakpoint just after having started the app and the default locale is en_US. For all persons in my company is the same","body":"I set a breakpoint just after having started the app and the default locale is en_US. For all persons in my company is the same"}],"answers":[{"tags":[],"owner":{"account_id":450642,"reputation":3399,"user_id":846076,"display_name":"merryprankster"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1313783348,"creation_date":1313756653,"answer_id":7121502,"question_id":7107972,"body_markdown":"There seems to be some changes regarding Locale in Java 7, namely differentiation between UI and &#39;user&#39; locale. See [this][1]. There is [now][2] `setDefault(Locale.Category, Locale)`. However, this does not really explain what you are experiencing - I&#39;m merely pointing out the fact that there has been changes in Java 7 regarding locale handling.\r\n\r\n  [1]: http://openjdk.java.net/projects/jdk7/features/#fa538265\r\n  [2]: http://download.oracle.com/javase/7/docs/api/java/util/Locale.html#setDefault%28java.util.Locale.Category,%20java.util.Locale%29","title":"Java 7 default locale","body":"<p>There seems to be some changes regarding Locale in Java 7, namely differentiation between UI and 'user' locale. See <a href=\"http://openjdk.java.net/projects/jdk7/features/#fa538265\" rel=\"nofollow\">this</a>. There is <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/Locale.html#setDefault%28java.util.Locale.Category,%20java.util.Locale%29\" rel=\"nofollow\">now</a> <code>setDefault(Locale.Category, Locale)</code>. However, this does not really explain what you are experiencing - I'm merely pointing out the fact that there has been changes in Java 7 regarding locale handling.</p>\n"},{"tags":[],"owner":{"account_id":400259,"reputation":1872,"user_id":766149,"accept_rate":73,"display_name":"stracktracer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318497682,"creation_date":1318497682,"answer_id":7751954,"question_id":7107972,"body_markdown":"Check the setting &quot;Location&quot; in Windows control panel Regional and language options (German: &quot;Region und Sprache&quot;, &quot;Aufenthaltsort&quot;).","title":"Java 7 default locale","body":"<p>Check the setting \"Location\" in Windows control panel Regional and language options (German: \"Region und Sprache\", \"Aufenthaltsort\").</p>\n"},{"tags":[],"owner":{"account_id":1026916,"reputation":21,"user_id":1036031,"display_name":"Johan Compagner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1320770264,"creation_date":1320770264,"answer_id":8053896,"question_id":7107972,"body_markdown":"This really looks like a bug to me:\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException, IOException {\r\n\t\r\n\tSystem.err.println(Locale.getDefault());\r\n\t}\r\n\r\nrunning this with java 5 or java 6 prints: &#39;nl_NL&#39;\r\njava7: &#39;en_US&#39;","title":"Java 7 default locale","body":"<p>This really looks like a bug to me:</p>\n\n<pre><code>public static void main(String[] args) throws FileNotFoundException, IOException {\n\nSystem.err.println(Locale.getDefault());\n}\n</code></pre>\n\n<p>running this with java 5 or java 6 prints: 'nl_NL'\njava7: 'en_US'</p>\n"},{"tags":[],"owner":{"account_id":348296,"reputation":511,"user_id":682919,"accept_rate":25,"display_name":"dream_team"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1683881236,"creation_date":1322614871,"answer_id":8319889,"question_id":7107972,"body_markdown":"This is as designed.  Java 7 has changed the way `Locale.getDefault()` works.  A defect has been entered with Oracle, but they basically said this is As Designed.\r\n\r\nTo sum up, you must modify the Display Language of the OS.  Modifying the Region Format only is no longer sufficient.\r\n\r\nRead the bug report here: [Locale.getDefault() returns wrong Locale for Java SE 7][1]\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=7073906","title":"Java 7 default locale","body":"<p>This is as designed.  Java 7 has changed the way <code>Locale.getDefault()</code> works.  A defect has been entered with Oracle, but they basically said this is As Designed.</p>\n<p>To sum up, you must modify the Display Language of the OS.  Modifying the Region Format only is no longer sufficient.</p>\n<p>Read the bug report here: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=7073906\" rel=\"nofollow noreferrer\">Locale.getDefault() returns wrong Locale for Java SE 7</a></p>\n"},{"tags":[],"owner":{"account_id":71958,"reputation":753,"user_id":207935,"display_name":"Jens Borgland"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1479408172,"creation_date":1339575374,"answer_id":11010758,"question_id":7107972,"body_markdown":"The change is described quite well in this [blog post][1] and on the [compatibility page][2].\r\n\r\nNote that you can revert to the old behavior by setting the `sun.locale.formatasdefault` system property to `true`.\r\n\r\n\r\n  [1]: http://wayback.archive.org/web/20141015235927/http://blog.ej-technologies.com/2011/12/default-locale-changes-in-java-7.html\r\n  [2]: http://www.oracle.com/technetwork/java/javase/compatibility-417013.html","title":"Java 7 default locale","body":"<p>The change is described quite well in this <a href=\"http://wayback.archive.org/web/20141015235927/http://blog.ej-technologies.com/2011/12/default-locale-changes-in-java-7.html\" rel=\"nofollow noreferrer\">blog post</a> and on the <a href=\"http://www.oracle.com/technetwork/java/javase/compatibility-417013.html\" rel=\"nofollow noreferrer\">compatibility page</a>.</p>\n\n<p>Note that you can revert to the old behavior by setting the <code>sun.locale.formatasdefault</code> system property to <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":1994975,"reputation":173,"user_id":1788119,"accept_rate":25,"display_name":"maryoush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357300267,"creation_date":1357300267,"answer_id":14156667,"question_id":7107972,"body_markdown":"If you are brave enough you can call the :\r\n\r\n    Locale.setDefault(Locale.getDefault());\r\n\r\n\r\nThis sets the default Locale for both of those categories\r\n\r\n    public static synchronized void setDefault(Locale newLocale) {\r\n       setDefault(Category.DISPLAY, newLocale);\r\n       setDefault(Category.FORMAT, newLocale);\r\n       defaultLocale = newLocale;\r\n    }\r\n\r\nBut this of course could cause side effects.","title":"Java 7 default locale","body":"<p>If you are brave enough you can call the :</p>\n\n<pre><code>Locale.setDefault(Locale.getDefault());\n</code></pre>\n\n<p>This sets the default Locale for both of those categories</p>\n\n<pre><code>public static synchronized void setDefault(Locale newLocale) {\n   setDefault(Category.DISPLAY, newLocale);\n   setDefault(Category.FORMAT, newLocale);\n   defaultLocale = newLocale;\n}\n</code></pre>\n\n<p>But this of course could cause side effects.</p>\n"},{"tags":[],"owner":{"account_id":2583329,"reputation":1846,"user_id":2239537,"accept_rate":100,"display_name":"Alex Kartishev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366978261,"creation_date":1366978261,"answer_id":16236131,"question_id":7107972,"body_markdown":"What about setting your Locale at the start of the program in the following way, depending on java version:\r\n\r\n    public class LocaleFormatter {\r\n\r\n    private static Locale locale;\r\n\r\n    private LocaleFormatter() {\r\n\r\n    }\r\n\r\n    public static Locale setDefaultLocale() {\r\n        if (locale == null) {\r\n            if (!System.getProperty(&quot;java.version&quot;).startsWith(&quot;1.7.&quot;)) {\r\n                locale = Locale.getDefault();\r\n            } else {\r\n                try {\r\n                    Class localeClass = Class.forName(&quot;java.util.Locale&quot;);\r\n                    Class categoryClass = Class.forName(&quot;java.util.Locale$Category&quot;);\r\n                    Object format = null;\r\n                    for (Object constant : categoryClass.getEnumConstants()) {\r\n                        if (constant.toString().equals(&quot;FORMAT&quot;)) {\r\n                            format = constant;\r\n                        }\r\n                    }\r\n                    Method method = localeClass.getMethod(&quot;getDefault&quot;, categoryClass);\r\n\r\n                    locale = (Locale) method.invoke(Locale.getDefault(), format);\r\n                    Locale.setDefault(locale);\r\n                } catch (ClassNotFoundException e) {\r\n                    e.printStackTrace();\r\n                } catch (NoSuchMethodException e) {\r\n                    e.printStackTrace();\r\n                } catch (InvocationTargetException e) {\r\n                    e.printStackTrace();\r\n                } catch (IllegalAccessException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        return locale;\r\n    }\r\n}\r\n","title":"Java 7 default locale","body":"<p>What about setting your Locale at the start of the program in the following way, depending on java version:</p>\n\n<pre><code>public class LocaleFormatter {\n\nprivate static Locale locale;\n\nprivate LocaleFormatter() {\n\n}\n\npublic static Locale setDefaultLocale() {\n    if (locale == null) {\n        if (!System.getProperty(\"java.version\").startsWith(\"1.7.\")) {\n            locale = Locale.getDefault();\n        } else {\n            try {\n                Class localeClass = Class.forName(\"java.util.Locale\");\n                Class categoryClass = Class.forName(\"java.util.Locale$Category\");\n                Object format = null;\n                for (Object constant : categoryClass.getEnumConstants()) {\n                    if (constant.toString().equals(\"FORMAT\")) {\n                        format = constant;\n                    }\n                }\n                Method method = localeClass.getMethod(\"getDefault\", categoryClass);\n\n                locale = (Locale) method.invoke(Locale.getDefault(), format);\n                Locale.setDefault(locale);\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            } catch (NoSuchMethodException e) {\n                e.printStackTrace();\n            } catch (InvocationTargetException e) {\n                e.printStackTrace();\n            } catch (IllegalAccessException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    return locale;\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":443046,"reputation":1337,"user_id":834035,"accept_rate":63,"display_name":"Neo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28631,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":8319889,"answer_count":7,"score":28,"last_activity_date":1683881236,"creation_date":1313673207,"question_id":7107972,"body_markdown":"I have just installed jre7 and I&#39;m surprised to see that my default locale is now en_US. With jre6 it was de_CH.\r\n\r\nWhat is different with jre7? Is the default locale no more the one of the Operating System? (btw, I&#39;m using Windows7)\r\n\r\nThx for your answer. \r\n\r\nEdit:\r\nI have seen the Locale for **Category.FORMAT** is the &quot;old&quot; one (de_CH). The Locale for **Category.DISPLAY** takes the language from the language of the OS (in Windows this is done in Control Panel &gt; Region and Language &gt; Keyboard and Languages &gt; Display Language) and the contry from...?\r\n\r\nWhat seems to be different is the property &quot;**user.country**&quot;. With Java6 I get &quot;CH&quot; and with Java7 I get &quot;US&quot;.","title":"Java 7 default locale","body":"<p>I have just installed jre7 and I'm surprised to see that my default locale is now en_US. With jre6 it was de_CH.</p>\n\n<p>What is different with jre7? Is the default locale no more the one of the Operating System? (btw, I'm using Windows7)</p>\n\n<p>Thx for your answer. </p>\n\n<p>Edit:\nI have seen the Locale for <strong>Category.FORMAT</strong> is the \"old\" one (de_CH). The Locale for <strong>Category.DISPLAY</strong> takes the language from the language of the OS (in Windows this is done in Control Panel > Region and Language > Keyboard and Languages > Display Language) and the contry from...?</p>\n\n<p>What seems to be different is the property \"<strong>user.country</strong>\". With Java6 I get \"CH\" and with Java7 I get \"US\".</p>\n"},{"tags":["java","mysql","spring","hibernate"],"owner":{"account_id":28586902,"reputation":1,"user_id":21886949,"display_name":"Faskot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683881152,"creation_date":1683881152,"question_id":76234609,"body_markdown":"I have a web application in which I have a registration form, and when I try to add a user, I get the following error. [error text ](https://i.stack.imgur.com/22OEi.png)\r\nMy user entity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;t_user&quot;)\r\npublic class User implements UserDetails {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    @Size(min=2, message = &quot;At least 5 characters&quot;)\r\n    private String username;\r\n    @Size(min=2, message = &quot;At least 5 characters&quot;)\r\n    private String password;\r\n    @Transient\r\n    private String passwordConfirm;\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    private Set&lt;Role&gt; roles;\r\n\r\n    public User() {\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return getRoles();\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getPasswordConfirm() {\r\n        return passwordConfirm;\r\n    }\r\n\r\n    public void setPasswordConfirm(String passwordConfirm) {\r\n        this.passwordConfirm = passwordConfirm;\r\n    }\r\n\r\n    public Set&lt;Role&gt; getRoles() {\r\n        return roles;\r\n    }\r\n\r\n    public void setRoles(Set&lt;Role&gt; roles) {\r\n        this.roles = roles;\r\n    }\r\n}\r\n```\r\nRole entity \r\n\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;t_role&quot;)\r\npublic class Role implements GrantedAuthority {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n    @Transient\r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    private Set&lt;User&gt; users;\r\n    public Role() {\r\n\r\n    }\r\n    public Role(Long id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return getName();\r\n    }\r\n}\r\n```\r\nController\r\n\r\n```\r\n@Controller\r\npublic class RegistrationComtroller {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n\r\n    @GetMapping(&quot;/registration&quot;)\r\n    public String registration(Model model) {\r\n        model.addAttribute(&quot;userForm&quot;, new User());\r\n        return &quot;registration&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/registration&quot;)\r\n    public String addUser(@ModelAttribute(&quot;userForm&quot;) @Valid User userForm, BindingResult bindingResult, Model model) {\r\n\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;registration&quot;;\r\n        }\r\n        if (!userForm.getPassword().equals(userForm.getPasswordConfirm())){\r\n            model.addAttribute(&quot;passwordError&quot;, &quot;Паролі не співпадають&quot;);\r\n            return &quot;registration&quot;;\r\n        }\r\n        if (!userService.saveUser(userForm)){\r\n            model.addAttribute(&quot;usernameError&quot;, &quot;Користувач з таким іменем вже існує&quot;);\r\n            return &quot;registration&quot;;\r\n        }\r\n\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n}\r\n```\r\nUserService\r\n\r\n```\r\n@Service\r\npublic class UserService implements UserDetailsService {\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n    @Autowired\r\n    UserRepository userRepository;\r\n    @Autowired\r\n    RoleRepository roleRepository;\r\n\r\n    @Autowired\r\n    BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userRepository.findByUsername(username);\r\n\r\n        if (user == null) {\r\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n        }\r\n        return user;\r\n    }\r\n\r\n    public List&lt;User&gt; allUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public boolean saveUser(User user) {\r\n        User userFromDB = userRepository.findByUsername(user.getUsername());\r\n\r\n        if (userFromDB != null) {\r\n            return false;\r\n        }\r\n\r\n        user.setRoles(Collections.singleton(new Role(1L, &quot;ROLE_USER&quot;)));\r\n        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\r\n        userRepository.save(user);\r\n        return true;\r\n    }\r\n\r\n\r\n    public boolean deleteUser(Long userId) {\r\n        if (userRepository.findById(userId).isPresent()) {\r\n            userRepository.deleteById(userId);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public List&lt;User&gt; usergtList(Long idMin) {\r\n        return em.createQuery(&quot;SELECT u FROM User u WHERE u.id &gt; :paramId&quot;, User.class)\r\n                .setParameter(&quot;paramId&quot;, idMin).getResultList();\r\n    }\r\n}\r\n```\r\nand html page\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:th=&quot;http://thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;title&gt;registrat&lt;/title&gt;\r\n    &lt;link th:href=&quot;@{/resources/css/style.css}&quot; rel=&quot;stylesheet&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class =&quot;regblock&quot;&gt;\r\n&lt;h2&gt;Реєстрація&lt;/h2&gt;\r\n&lt;form action=&quot;/registration&quot; th:action=&quot;@{/registration}&quot; th:object=&quot;${userForm}&quot; method=&quot;post&quot;&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=&quot;text&quot; th:field=&quot;*{username}&quot; placeholder=&quot;Username&quot;\r\n                    autofocus=&quot;true&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=&quot;password&quot; th:field=&quot;*{password}&quot; placeholder=&quot;Password&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=&quot;password&quot; th:field=&quot;*{passwordConfirm}&quot;\r\n                    placeholder=&quot;Confirm your password&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div th:if=&quot;${passwordError}&quot;&gt;\r\n        &lt;p th:text=&quot;${passwordError}&quot;&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;div th:if=&quot;${usernameError}&quot;&gt;\r\n        &lt;p th:text=&quot;${usernameError}&quot;&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;button class=&quot;regbtn&quot; type=&quot;submit&quot;&gt;Зареєструватися&lt;/button&gt;\r\n    &lt;button class=&quot;regbtn&quot; onclick=&quot; window.location.href = &#39;/index&#39;&quot;&gt;Головна&lt;/button&gt;\r\n&lt;/form&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n\r\nBefore that, the code using JSP worked fine, but when I decided to migrate the project to Thymeleaf and finish it, the following happened. ","title":"Cannot add or update a child row: a foreign key constraint fails in web app with Thymeleaf","body":"<p>I have a web application in which I have a registration form, and when I try to add a user, I get the following error. <a href=\"https://i.stack.imgur.com/22OEi.png\" rel=\"nofollow noreferrer\">error text </a>\nMy user entity</p>\n<pre><code>@Entity\n@Table(name = &quot;t_user&quot;)\npublic class User implements UserDetails {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    @Size(min=2, message = &quot;At least 5 characters&quot;)\n    private String username;\n    @Size(min=2, message = &quot;At least 5 characters&quot;)\n    private String password;\n    @Transient\n    private String passwordConfirm;\n    @ManyToMany(fetch = FetchType.EAGER)\n    private Set&lt;Role&gt; roles;\n\n    public User() {\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return getRoles();\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getPasswordConfirm() {\n        return passwordConfirm;\n    }\n\n    public void setPasswordConfirm(String passwordConfirm) {\n        this.passwordConfirm = passwordConfirm;\n    }\n\n    public Set&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Set&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n}\n</code></pre>\n<p>Role entity</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;t_role&quot;)\npublic class Role implements GrantedAuthority {\n    @Id\n    private Long id;\n    private String name;\n    @Transient\n    @ManyToMany(mappedBy = &quot;roles&quot;)\n    private Set&lt;User&gt; users;\n    public Role() {\n\n    }\n    public Role(Long id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    @Override\n    public String getAuthority() {\n        return getName();\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@Controller\npublic class RegistrationComtroller {\n\n    @Autowired\n    private UserService userService;\n\n\n    @GetMapping(&quot;/registration&quot;)\n    public String registration(Model model) {\n        model.addAttribute(&quot;userForm&quot;, new User());\n        return &quot;registration&quot;;\n    }\n\n    @PostMapping(&quot;/registration&quot;)\n    public String addUser(@ModelAttribute(&quot;userForm&quot;) @Valid User userForm, BindingResult bindingResult, Model model) {\n\n        if (bindingResult.hasErrors()) {\n            return &quot;registration&quot;;\n        }\n        if (!userForm.getPassword().equals(userForm.getPasswordConfirm())){\n            model.addAttribute(&quot;passwordError&quot;, &quot;Паролі не співпадають&quot;);\n            return &quot;registration&quot;;\n        }\n        if (!userService.saveUser(userForm)){\n            model.addAttribute(&quot;usernameError&quot;, &quot;Користувач з таким іменем вже існує&quot;);\n            return &quot;registration&quot;;\n        }\n\n        return &quot;redirect:/&quot;;\n    }\n}\n</code></pre>\n<p>UserService</p>\n<pre><code>@Service\npublic class UserService implements UserDetailsService {\n    @PersistenceContext\n    private EntityManager em;\n    @Autowired\n    UserRepository userRepository;\n    @Autowired\n    RoleRepository roleRepository;\n\n    @Autowired\n    BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username);\n\n        if (user == null) {\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n        }\n        return user;\n    }\n\n    public List&lt;User&gt; allUsers() {\n        return userRepository.findAll();\n    }\n\n    public boolean saveUser(User user) {\n        User userFromDB = userRepository.findByUsername(user.getUsername());\n\n        if (userFromDB != null) {\n            return false;\n        }\n\n        user.setRoles(Collections.singleton(new Role(1L, &quot;ROLE_USER&quot;)));\n        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\n        userRepository.save(user);\n        return true;\n    }\n\n\n    public boolean deleteUser(Long userId) {\n        if (userRepository.findById(userId).isPresent()) {\n            userRepository.deleteById(userId);\n            return true;\n        }\n        return false;\n    }\n\n    public List&lt;User&gt; usergtList(Long idMin) {\n        return em.createQuery(&quot;SELECT u FROM User u WHERE u.id &gt; :paramId&quot;, User.class)\n                .setParameter(&quot;paramId&quot;, idMin).getResultList();\n    }\n}\n</code></pre>\n<p>and html page</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;title&gt;registrat&lt;/title&gt;\n    &lt;link th:href=&quot;@{/resources/css/style.css}&quot; rel=&quot;stylesheet&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class =&quot;regblock&quot;&gt;\n&lt;h2&gt;Реєстрація&lt;/h2&gt;\n&lt;form action=&quot;/registration&quot; th:action=&quot;@{/registration}&quot; th:object=&quot;${userForm}&quot; method=&quot;post&quot;&gt;\n    &lt;div&gt;\n        &lt;input type=&quot;text&quot; th:field=&quot;*{username}&quot; placeholder=&quot;Username&quot;\n                    autofocus=&quot;true&quot;&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;input type=&quot;password&quot; th:field=&quot;*{password}&quot; placeholder=&quot;Password&quot;&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;input type=&quot;password&quot; th:field=&quot;*{passwordConfirm}&quot;\n                    placeholder=&quot;Confirm your password&quot;&gt;\n    &lt;/div&gt;\n    &lt;div th:if=&quot;${passwordError}&quot;&gt;\n        &lt;p th:text=&quot;${passwordError}&quot;&gt;&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div th:if=&quot;${usernameError}&quot;&gt;\n        &lt;p th:text=&quot;${usernameError}&quot;&gt;&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;button class=&quot;regbtn&quot; type=&quot;submit&quot;&gt;Зареєструватися&lt;/button&gt;\n    &lt;button class=&quot;regbtn&quot; onclick=&quot; window.location.href = '/index'&quot;&gt;Головна&lt;/button&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Before that, the code using JSP worked fine, but when I decided to migrate the project to Thymeleaf and finish it, the following happened.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"Zod"},"score":0,"creation_date":1683864938,"post_id":76233335,"comment_id":134435348,"body_markdown":"Please know I need the code in springboot","body":"Please know I need the code in springboot"},{"owner":{"display_name":"Zod"},"score":0,"creation_date":1683866053,"post_id":76233335,"comment_id":134435350,"body_markdown":"My code uses DecimalFormat formatter = new DecimalFormat(pattern:#,###.##)\nand I use formatter.format(value)\nIt gives 1,000 for 1000.00 but I need 1,000.00","body":"My code uses DecimalFormat formatter = new DecimalFormat(pattern:#,###.##) and I use formatter.format(value) It gives 1,000 for 1000.00 but I need 1,000.00"},{"owner":{"account_id":96198,"reputation":2592,"user_id":261581,"accept_rate":100,"display_name":"Security Hound"},"score":0,"creation_date":1683868371,"post_id":76233335,"comment_id":134435351,"body_markdown":"Programming questions are out of scope.However, you should, either change your systems locale or specify the locale that should be used.","body":"Programming questions are out of scope.However, you should, either change your systems locale or specify the locale that should be used."},{"owner":{"account_id":1205141,"reputation":5974,"user_id":1174966,"display_name":"jdaz"},"score":2,"creation_date":1683869168,"post_id":76233335,"comment_id":134435398,"body_markdown":"I don&#39;t think what you want to do is possible, since the input to `DecimalFormat` is not a string, it is a number that will not distinguish between `1000` and `1000.00`. If you always want two decimals to show up, use the pattern `#,###.00`.","body":"I don&#39;t think what you want to do is possible, since the input to <code>DecimalFormat</code> is not a string, it is a number that will not distinguish between <code>1000</code> and <code>1000.00</code>. If you always want two decimals to show up, use the pattern <code>#,###.00</code>."},{"owner":{"account_id":7111333,"reputation":211,"user_id":5439097,"display_name":"Tom Yan"},"score":0,"creation_date":1683869478,"post_id":76233335,"comment_id":134435434,"body_markdown":"`but if there are no decimals then it should not return any decimals: Ex: 1000 -&gt; 1,000 1000.00 -&gt; 1,000.00` yeah, in that case you would probably need to stick with String (and some ugly pattern matching and manipulation) if you insist. Or maybe &quot;manually&quot; pad the zeroes back based on the original String after the &quot;normal&quot; formation, meh.","body":"<code>but if there are no decimals then it should not return any decimals: Ex: 1000 -&gt; 1,000 1000.00 -&gt; 1,000.00</code> yeah, in that case you would probably need to stick with String (and some ugly pattern matching and manipulation) if you insist. Or maybe &quot;manually&quot; pad the zeroes back based on the original String after the &quot;normal&quot; formation, meh."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683873117,"post_id":76233335,"comment_id":134435936,"body_markdown":"Are the incoming decimals always zero? If you get 1000.015, do you want it rounded, and if so, up or down?","body":"Are the incoming decimals always zero? If you get 1000.015, do you want it rounded, and if so, up or down?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683873654,"post_id":76233335,"comment_id":134436012,"body_markdown":"Elaborating on what @TomYan has said I would parse into a `BigDecimal` since it keeps track of how many decimals were in the input. Then use some logic to distinguish the cases where the scale is 0 or greater, it is -1 (meaning there was exactly one decimal) and the case where it is -2 or less to choose the format to use for formatting.","body":"Elaborating on what @TomYan has said I would parse into a <code>BigDecimal</code> since it keeps track of how many decimals were in the input. Then use some logic to distinguish the cases where the scale is 0 or greater, it is -1 (meaning there was exactly one decimal) and the case where it is -2 or less to choose the format to use for formatting."}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683881072,"creation_date":1683881072,"answer_id":76234596,"question_id":76233335,"body_markdown":"You can use polymorphism for this: you can have an *Amount* base class and then two derivatives for showing the value with or without the commas. This is  very basic example, you can make it better and find better names:\r\n\r\n``` java\r\n@RequiredArgsConstructor\r\npublic abstract class Amount {\r\n\tprotected final BigDecimal value;\r\n\r\n    // very lite &quot;factory&quot; pattern\r\n\tpublic static Amount of(String value) {\r\n\t\tif (value.contains(&quot;,&quot;)) {\r\n\t\t\treturn new AmountWithComma(value);\r\n            //ps: find better names here\r\n\t\t}\r\n\t\treturn new AmountWithoutComma(value);\r\n\t}\r\n\r\n\tpublic BigDecimal value() {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic abstract String display();\r\n}\r\n```\r\n\r\nAnd now, the derivatives - you can keep them as inner classes (or just package protected classes) and &quot;hide&quot; them from the rest of the project:\r\n\r\n```java\r\nstatic class AmountWithComma extends Amount {\r\n\tAmountWithComma(String value) {\r\n\t\tsuper(new BigDecimal(value.replaceAll(&quot;,&quot;, &quot;&quot;)));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String display() {\r\n\t\treturn value.setScale(2).toString();\r\n\t}\r\n}\r\n\r\n\r\nstatic class AmountWithoutComma extends Amount {\r\n\r\n\tprivate final DecimalFormat decimalFormat = new DecimalFormat(&quot;#,##0.00&quot;);\r\n\r\n\tAmountWithoutComma(String value) {\r\n\t\tsuper(new BigDecimal(value));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String display() {\r\n\t\treturn decimalFormat.format(value.doubleValue());\r\n\t}\r\n}\r\n```\r\nNow, you can use it like this:\r\n\r\n```java\r\n@Test\r\nvoid test() {\r\n\tassertThat(Amount.of(&quot;1,000&quot;).display())\r\n\t\t\t.isEqualTo(&quot;1,000.00&quot;);\r\n\t\r\n\tassertThat(Amount.of(&quot;1000&quot;).display())\r\n\t\t\t.isEqualTo(&quot;1000.00&quot;);\r\n}\r\n```\r\n\r\nFurthermore, you can always use the `amount.value()` accessor to get back the value as a *BigDecimal* so you can potentially pass this object around instead of passing a String and always parse or format it.\r\n","title":"Format string number","body":"<p>You can use polymorphism for this: you can have an <em>Amount</em> base class and then two derivatives for showing the value with or without the commas. This is  very basic example, you can make it better and find better names:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic abstract class Amount {\n    protected final BigDecimal value;\n\n    // very lite &quot;factory&quot; pattern\n    public static Amount of(String value) {\n        if (value.contains(&quot;,&quot;)) {\n            return new AmountWithComma(value);\n            //ps: find better names here\n        }\n        return new AmountWithoutComma(value);\n    }\n\n    public BigDecimal value() {\n        return value;\n    }\n\n    public abstract String display();\n}\n</code></pre>\n<p>And now, the derivatives - you can keep them as inner classes (or just package protected classes) and &quot;hide&quot; them from the rest of the project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class AmountWithComma extends Amount {\n    AmountWithComma(String value) {\n        super(new BigDecimal(value.replaceAll(&quot;,&quot;, &quot;&quot;)));\n    }\n\n    @Override\n    public String display() {\n        return value.setScale(2).toString();\n    }\n}\n\n\nstatic class AmountWithoutComma extends Amount {\n\n    private final DecimalFormat decimalFormat = new DecimalFormat(&quot;#,##0.00&quot;);\n\n    AmountWithoutComma(String value) {\n        super(new BigDecimal(value));\n    }\n\n    @Override\n    public String display() {\n        return decimalFormat.format(value.doubleValue());\n    }\n}\n</code></pre>\n<p>Now, you can use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test() {\n    assertThat(Amount.of(&quot;1,000&quot;).display())\n            .isEqualTo(&quot;1,000.00&quot;);\n    \n    assertThat(Amount.of(&quot;1000&quot;).display())\n            .isEqualTo(&quot;1000.00&quot;);\n}\n</code></pre>\n<p>Furthermore, you can always use the <code>amount.value()</code> accessor to get back the value as a <em>BigDecimal</em> so you can potentially pass this object around instead of passing a String and always parse or format it.</p>\n"}],"owner":{"display_name":"Zod"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683881072,"creation_date":1683864920,"question_id":76233335,"body_markdown":"I have a string number which is an amount variable I want to format it with commas such that 1000 returns 1,000 and 1000.00 returns exactly 1,000.00 and 1000.000 also returns 1,000.00 at max 2 decimals but if there are no decimals then it should not return any decimals:\r\nEx: 1000 -&gt; 1,000\r\n1000.00 -&gt; 1,000.00","title":"Format string number","body":"<p>I have a string number which is an amount variable I want to format it with commas such that 1000 returns 1,000 and 1000.00 returns exactly 1,000.00 and 1000.000 also returns 1,000.00 at max 2 decimals but if there are no decimals then it should not return any decimals:\nEx: 1000 -&gt; 1,000\n1000.00 -&gt; 1,000.00</p>\n"},{"tags":["java","android","androidx","classnotfoundexception","android-preferences"],"answers":[{"tags":[],"owner":{"account_id":2883716,"reputation":765,"user_id":2474036,"accept_rate":64,"display_name":"Trancer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683880424,"creation_date":1683880424,"answer_id":76234516,"question_id":76228114,"body_markdown":"Well, a little more time has been spent and a solution has been found. This happened because of the old version of GRADLE. Who would have thought. Upgrading to version 7.4.2 solved this problem.","title":"Custom androidx preference render problem - java.lang.ClassNotFoundException","body":"<p>Well, a little more time has been spent and a solution has been found. This happened because of the old version of GRADLE. Who would have thought. Upgrading to version 7.4.2 solved this problem.</p>\n"}],"owner":{"account_id":2883716,"reputation":765,"user_id":2474036,"accept_rate":64,"display_name":"Trancer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683880424,"creation_date":1683811228,"question_id":76228114,"body_markdown":"When I try to preview my *settings.xml* in Android Studio - Design it shows me errors:\r\n**com.mypackage.preferences.SwitchPreferenceCompatFix not found.**\r\nBut it is exists there.\r\n\r\nMore detailed error:\r\n\r\n    java.lang.ClassNotFoundException: com.mypackage.preferences.SwitchPreferenceCompatFix not found.\r\n\tat com.android.tools.idea.rendering.LayoutlibCallbackImpl.findClass(LayoutlibCallbackImpl.java:836)\r\n\tat com.android.layoutlib.bridge.android.BridgeContext$1.findClass(BridgeContext.java:642)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:467)\r\n\tat androidx.preference.PreferenceInflater.createItem(PreferenceInflater.java:218)\r\n\tat androidx.preference.PreferenceInflater.createItemFromTag(PreferenceInflater.java:281)\r\n\tat androidx.preference.PreferenceInflater.rInflate(PreferenceInflater.java:349)\r\n\tat androidx.preference.PreferenceInflater.rInflate(PreferenceInflater.java:351)\r\n\tat androidx.preference.PreferenceInflater.inflate(PreferenceInflater.java:161)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.android.layoutlib.common.util.ReflectionUtils.invoke(ReflectionUtils.java:80)\r\n\tat com.android.layoutlib.bridge.android.support.SupportPreferencesUtil.createInflatedPreference(SupportPreferencesUtil.java:106)\r\n\tat com.android.layoutlib.bridge.android.support.SupportPreferencesUtil.inflatePreference(SupportPreferencesUtil.java:285)\r\n\tat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:351)\r\n\tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:450)\r\n\tat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:122)\r\n\tat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:701)\r\n\tat com.android.tools.idea.rendering.RenderTask.lambda$inflate$8(RenderTask.java:848)\r\n\tat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$3.run(RenderExecutor.kt:200)\r\n\tat com.android.tools.idea.rendering.RenderExecutor$PriorityRunnable.run(RenderExecutor.kt:298)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n*settings.xml*:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.preference.PreferenceScreen\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:key=&quot;root&quot;&gt;\r\n\r\n    &lt;PreferenceCategory\r\n        android:key=&quot;cat_main&quot;\r\n        android:title=&quot;@string/pref_settings&quot;&gt;\r\n\r\n        &lt;com.mypackage.preferences.SwitchPreferenceCompatFix\r\n            android:icon=&quot;@drawable/ic_pref&quot;\r\n            android:key=&quot;prefKey&quot;\r\n            android:title=&quot;@string/pref_title&quot;\r\n            android:defaultValue=&quot;true&quot;\r\n            android:summary=&quot;@string/pref_sum&quot;/&gt;\r\n\r\n    &lt;/PreferenceCategory&gt;\r\n\r\n    &lt;/androidx.preference.PreferenceScreen&gt;\r\n\r\n*SwitchPreferenceCompatFix.java*:\r\n\r\n    package com.mypackage.preferences;\r\n    \r\n    import android.content.Context; \r\n    import androidx.preference.PreferenceViewHolder;\r\n    import androidx.preference.SwitchPreferenceCompat;\r\n    import android.util.AttributeSet;\r\n    \r\n    import com.mypackage.R;\r\n    \r\n    public class SwitchPreferenceCompatFix extends SwitchPreferenceCompat {\r\n    \r\n        private final Context context;\r\n    \r\n        public SwitchPreferenceCompatFix(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\r\n            super(context, attrs, defStyleAttr, defStyleRes);\r\n            this.context = context;\r\n        }\r\n    \r\n        public SwitchPreferenceCompatFix(Context context, AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n            this.context = context;\r\n        }\r\n    \r\n        public SwitchPreferenceCompatFix(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n            this.context = context;\r\n        }\r\n    \r\n        public SwitchPreferenceCompatFix(Context context) {\r\n            super(context);\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(PreferenceViewHolder holder) {\r\n            holder.itemView.setPadding((int) context.getResources().getDimension(R.dimen.preference_side_padding), 0,\r\n                    (int) context.getResources().getDimension(R.dimen.preference_side_padding), 0);\r\n            super.onBindViewHolder(holder);\r\n        } \r\n      }\r\n\r\n\r\n\r\n&gt; **Android Studio version:**\r\n&gt; \r\n&gt; Android Studio Giraffe | 2022.3.1 Beta 2 Build\r\n&gt; #AI-223.8836.35.2231.10023527, built on April 27, 2023 Runtime version: 17.0.6+0-b2043.56-9884540 amd64 VM: OpenJDK 64-Bit Server VM\r\n&gt; by JetBrains s.r.o.\r\n\r\nWhat I doing wrong?\r\nLooks like it&#39;s a Android Studio problems but I&#39;m not sure","title":"Custom androidx preference render problem - java.lang.ClassNotFoundException","body":"<p>When I try to preview my <em>settings.xml</em> in Android Studio - Design it shows me errors:\n<strong>com.mypackage.preferences.SwitchPreferenceCompatFix not found.</strong>\nBut it is exists there.</p>\n<p>More detailed error:</p>\n<pre><code>java.lang.ClassNotFoundException: com.mypackage.preferences.SwitchPreferenceCompatFix not found.\nat com.android.tools.idea.rendering.LayoutlibCallbackImpl.findClass(LayoutlibCallbackImpl.java:836)\nat com.android.layoutlib.bridge.android.BridgeContext$1.findClass(BridgeContext.java:642)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:467)\nat androidx.preference.PreferenceInflater.createItem(PreferenceInflater.java:218)\nat androidx.preference.PreferenceInflater.createItemFromTag(PreferenceInflater.java:281)\nat androidx.preference.PreferenceInflater.rInflate(PreferenceInflater.java:349)\nat androidx.preference.PreferenceInflater.rInflate(PreferenceInflater.java:351)\nat androidx.preference.PreferenceInflater.inflate(PreferenceInflater.java:161)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat com.android.layoutlib.common.util.ReflectionUtils.invoke(ReflectionUtils.java:80)\nat com.android.layoutlib.bridge.android.support.SupportPreferencesUtil.createInflatedPreference(SupportPreferencesUtil.java:106)\nat com.android.layoutlib.bridge.android.support.SupportPreferencesUtil.inflatePreference(SupportPreferencesUtil.java:285)\nat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:351)\nat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:450)\nat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:122)\nat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:701)\nat com.android.tools.idea.rendering.RenderTask.lambda$inflate$8(RenderTask.java:848)\nat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$3.run(RenderExecutor.kt:200)\nat com.android.tools.idea.rendering.RenderExecutor$PriorityRunnable.run(RenderExecutor.kt:298)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p><em>settings.xml</em>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.preference.PreferenceScreen\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:key=&quot;root&quot;&gt;\n\n&lt;PreferenceCategory\n    android:key=&quot;cat_main&quot;\n    android:title=&quot;@string/pref_settings&quot;&gt;\n\n    &lt;com.mypackage.preferences.SwitchPreferenceCompatFix\n        android:icon=&quot;@drawable/ic_pref&quot;\n        android:key=&quot;prefKey&quot;\n        android:title=&quot;@string/pref_title&quot;\n        android:defaultValue=&quot;true&quot;\n        android:summary=&quot;@string/pref_sum&quot;/&gt;\n\n&lt;/PreferenceCategory&gt;\n\n&lt;/androidx.preference.PreferenceScreen&gt;\n</code></pre>\n<p><em>SwitchPreferenceCompatFix.java</em>:</p>\n<pre><code>package com.mypackage.preferences;\n\nimport android.content.Context; \nimport androidx.preference.PreferenceViewHolder;\nimport androidx.preference.SwitchPreferenceCompat;\nimport android.util.AttributeSet;\n\nimport com.mypackage.R;\n\npublic class SwitchPreferenceCompatFix extends SwitchPreferenceCompat {\n\n    private final Context context;\n\n    public SwitchPreferenceCompatFix(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\n        super(context, attrs, defStyleAttr, defStyleRes);\n        this.context = context;\n    }\n\n    public SwitchPreferenceCompatFix(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        this.context = context;\n    }\n\n    public SwitchPreferenceCompatFix(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        this.context = context;\n    }\n\n    public SwitchPreferenceCompatFix(Context context) {\n        super(context);\n        this.context = context;\n    }\n\n    @Override\n    public void onBindViewHolder(PreferenceViewHolder holder) {\n        holder.itemView.setPadding((int) context.getResources().getDimension(R.dimen.preference_side_padding), 0,\n                (int) context.getResources().getDimension(R.dimen.preference_side_padding), 0);\n        super.onBindViewHolder(holder);\n    } \n  }\n</code></pre>\n<blockquote>\n<p><strong>Android Studio version:</strong></p>\n<p>Android Studio Giraffe | 2022.3.1 Beta 2 Build\n#AI-223.8836.35.2231.10023527, built on April 27, 2023 Runtime version: 17.0.6+0-b2043.56-9884540 amd64 VM: OpenJDK 64-Bit Server VM\nby JetBrains s.r.o.</p>\n</blockquote>\n<p>What I doing wrong?\nLooks like it's a Android Studio problems but I'm not sure</p>\n"},{"tags":["java","linux","api","ubuntu","nginx"],"owner":{"account_id":17536393,"reputation":63,"user_id":12719428,"display_name":"hritz220"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683880406,"creation_date":1683880406,"question_id":76234512,"body_markdown":"I&#39;ve following java api endpoint, I&#39;m trying to hit with postman:\r\n\r\n    curl --location --request POST &#39;https://demo-api.xxx.in/bsa/external/uploadbankstatement&#39; \\\r\n    --header &#39;cache-control: no-cache&#39; \\\r\n    --form &#39;file=@&quot;/home/anuj/Downloads/Config (1).json&quot;&#39; \\\r\n    --form &#39;data=&quot;{\r\n     \\&quot;entityName\\&quot;: \\&quot;Allied Agencies\\&quot;,\r\n     \\&quot;pan\\&quot;: \\&quot;ABCDE1234F\\&quot;,\r\n     \\&quot;monthlyDrawingPowerLimit\\&quot;: [\r\n     {\r\n     \\&quot;month\\&quot;: \\&quot;06\\&quot;,\r\n     \\&quot;year\\&quot;: \\&quot;2021\\&quot;,\r\n     \\&quot;amount\\&quot;: \\&quot;20000\\&quot;\r\n     }\r\n     ],\r\n     \\&quot;sanctionLimit\\&quot;: \\&quot;245000\\&quot;,\r\n     \\&quot;entityType\\&quot;: \\&quot;company\\&quot;,\r\n     \\&quot;bankCode\\&quot;: \\&quot;FI00002\\&quot;,\r\n     \\&quot;accountType\\&quot;: \\&quot;over_draft\\&quot;,\r\n     \\&quot;accountNumber\\&quot;: \\&quot;123456789\\&quot;,\r\n     \\&quot;relatedPartyKeywords\\&quot;: \\&quot;ARMAN FINANCIAL SERVICES LIMITED\\&quot;,\r\n     \\&quot;userapplicationid\\&quot;: \\&quot;Shub01\\&quot;,\r\n     \\&quot;filePassword\\&quot;: {\r\n     \\&quot;OpTransactionHistory20-10-2021 (4) (1).pdf\\&quot;: \\&quot;1234\\&quot;\r\n     }\r\n    }&quot;&#39;\r\n\r\nI&#39;ve following nginx server location  block where the java backend api running:\r\n\r\n    location /bsa/external/uploadbankstatement{\r\n        \r\n            # Pass the request to the upstream server\r\n         \r\n                        proxy_pass http://localhost:5000;  \r\n      location /bsa/external/uploadbankstatement/ {\r\n        upload_pass /bsa/external/uploadbankstatement;\r\n           if ($request_filename !~* ^.*\\.pdf$) {\r\n                    return 403;\r\n                }\r\n           # proxy_pass http://localhost:5000;\r\n            client_body_temp_path /temp;\r\n            client_body_in_file_only on;\r\n            client_body_buffer_size 128k;\r\n          \r\n        }\r\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n            proxy_set_header X-Forwarded-Proto $scheme;\r\n            proxy_set_header X-Forwarded-Port $server_port;\r\n            proxy_set_header Host $host;\r\n    }\r\n\r\n\r\nI need to configure above location block such that only pdf are allowed to be uploaded, but in above configuration, it is not blocking files other than pdf, all files are accepted in above.\r\nPlease help me out.\r\n","title":"how allow only pdf,xlsx files to upload in java upload api running behind nginx server?","body":"<p>I've following java api endpoint, I'm trying to hit with postman:</p>\n<pre><code>curl --location --request POST 'https://demo-api.xxx.in/bsa/external/uploadbankstatement' \\\n--header 'cache-control: no-cache' \\\n--form 'file=@&quot;/home/anuj/Downloads/Config (1).json&quot;' \\\n--form 'data=&quot;{\n \\&quot;entityName\\&quot;: \\&quot;Allied Agencies\\&quot;,\n \\&quot;pan\\&quot;: \\&quot;ABCDE1234F\\&quot;,\n \\&quot;monthlyDrawingPowerLimit\\&quot;: [\n {\n \\&quot;month\\&quot;: \\&quot;06\\&quot;,\n \\&quot;year\\&quot;: \\&quot;2021\\&quot;,\n \\&quot;amount\\&quot;: \\&quot;20000\\&quot;\n }\n ],\n \\&quot;sanctionLimit\\&quot;: \\&quot;245000\\&quot;,\n \\&quot;entityType\\&quot;: \\&quot;company\\&quot;,\n \\&quot;bankCode\\&quot;: \\&quot;FI00002\\&quot;,\n \\&quot;accountType\\&quot;: \\&quot;over_draft\\&quot;,\n \\&quot;accountNumber\\&quot;: \\&quot;123456789\\&quot;,\n \\&quot;relatedPartyKeywords\\&quot;: \\&quot;ARMAN FINANCIAL SERVICES LIMITED\\&quot;,\n \\&quot;userapplicationid\\&quot;: \\&quot;Shub01\\&quot;,\n \\&quot;filePassword\\&quot;: {\n \\&quot;OpTransactionHistory20-10-2021 (4) (1).pdf\\&quot;: \\&quot;1234\\&quot;\n }\n}&quot;'\n</code></pre>\n<p>I've following nginx server location  block where the java backend api running:</p>\n<pre><code>location /bsa/external/uploadbankstatement{\n    \n        # Pass the request to the upstream server\n     \n                    proxy_pass http://localhost:5000;  \n  location /bsa/external/uploadbankstatement/ {\n    upload_pass /bsa/external/uploadbankstatement;\n       if ($request_filename !~* ^.*\\.pdf$) {\n                return 403;\n            }\n       # proxy_pass http://localhost:5000;\n        client_body_temp_path /temp;\n        client_body_in_file_only on;\n        client_body_buffer_size 128k;\n      \n    }\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_set_header X-Forwarded-Port $server_port;\n        proxy_set_header Host $host;\n}\n</code></pre>\n<p>I need to configure above location block such that only pdf are allowed to be uploaded, but in above configuration, it is not blocking files other than pdf, all files are accepted in above.\nPlease help me out.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683743240,"creation_date":1683741745,"answer_id":76221390,"question_id":76221321,"body_markdown":"Have an `EntryPointActivity` that you set as your launcher activity instead of `MainActivity` in the manifest. It can delegate to one of the others. You can save the state in a `SharedPreference`.\r\n\r\n```java\r\npublic class EntryPointActivity extends Activity {\r\n    public static final String KEY_USE_AUTO_ACTIVITY = &quot;KEY_USE_AUTO_ACTIVITY&quot;;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super(savedInstanceState);\r\n        boolean useAutoActivity = PreferenceManager.getDefaultSharedPreferences(this)\r\n            .getBoolean(KEY_USE_AUTO_ACTIVITY, false);\r\n        Class&lt;?&gt; nextActivity = userAutoActivity ? AutoActivity.class : MainActivity.class;\r\n        startActivity(Intent(this, nextActivity));\r\n        finish();\r\n    }\r\n}\r\n```\r\nAnd in your button click listener in the `MainActivity`:\r\n\r\n```java\r\n// in onClickListener:\r\nPreferenceManager.getDefaultSharedPreferences(MainActivity.this).edit()\r\n    .putBoolean(EntryPointActivity.KEY_USE_AUTO_ACTIVITY, true)\r\n    .apply();\r\nstartActivity(Intent(this, AutoActivity.class));\r\n```","title":"How can I change the startup order of the home screen in Android Studio?","body":"<p>Have an <code>EntryPointActivity</code> that you set as your launcher activity instead of <code>MainActivity</code> in the manifest. It can delegate to one of the others. You can save the state in a <code>SharedPreference</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EntryPointActivity extends Activity {\n    public static final String KEY_USE_AUTO_ACTIVITY = &quot;KEY_USE_AUTO_ACTIVITY&quot;;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super(savedInstanceState);\n        boolean useAutoActivity = PreferenceManager.getDefaultSharedPreferences(this)\n            .getBoolean(KEY_USE_AUTO_ACTIVITY, false);\n        Class&lt;?&gt; nextActivity = userAutoActivity ? AutoActivity.class : MainActivity.class;\n        startActivity(Intent(this, nextActivity));\n        finish();\n    }\n}\n</code></pre>\n<p>And in your button click listener in the <code>MainActivity</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// in onClickListener:\nPreferenceManager.getDefaultSharedPreferences(MainActivity.this).edit()\n    .putBoolean(EntryPointActivity.KEY_USE_AUTO_ACTIVITY, true)\n    .apply();\nstartActivity(Intent(this, AutoActivity.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23544266,"reputation":1,"user_id":17587967,"display_name":"Reza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683880104,"creation_date":1683880104,"answer_id":76234469,"question_id":76221321,"body_markdown":"You can store a flag in `SharedPreferences`. Whenever the app runs, you can check the flag in the `onCreate()` method of the `MainActivity`. If the flag is `true`, the `AutoActivity` will be opened, and the `MainActivity` will be closed.\r\n\r\nhere is the code when clicking on the `button`:\r\n\r\n    Button switchButton = findViewById(R.id.switchButton);\r\n        switchButton.setOnClickListener(v -&gt; {\r\n            SharedPreferences.Editor editor = sharedPref.edit();\r\n            editor.putBoolean(KEY_AUTO_ACTIVITY_AS_HOME, true);\r\n            editor.apply();\r\n\r\n            startActivity(new Intent(this, AutoActivity.class));\r\n            finish();\r\n        });\r\n\r\nhere the code in `onCreate()` of `MainActivity`:\r\n\r\n    sharedPref = getPreferences(Context.MODE_PRIVATE);\r\n\r\n        boolean autoActivityAsHome =\r\n                sharedPref.getBoolean(KEY_AUTO_ACTIVITY_AS_HOME, false);\r\n        if (autoActivityAsHome) {\r\n            startActivity(new Intent(this, AutoActivity.class));\r\n            finish();\r\n        }\r\n\r\nhere is the complete code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private SharedPreferences sharedPref;\r\n    static final String KEY_AUTO_ACTIVITY_AS_HOME = &quot;AUTO_ACTIVITY_AS_HOME&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        sharedPref = getPreferences(Context.MODE_PRIVATE);\r\n\r\n        boolean autoActivityAsHome =\r\n                sharedPref.getBoolean(KEY_AUTO_ACTIVITY_AS_HOME, false);\r\n        if (autoActivityAsHome) {\r\n            startActivity(new Intent(this, AutoActivity.class));\r\n            finish();\r\n        }\r\n\r\n        Button switchButton = findViewById(R.id.switchButton);\r\n        switchButton.setOnClickListener(v -&gt; {\r\n            SharedPreferences.Editor editor = sharedPref.edit();\r\n            editor.putBoolean(KEY_AUTO_ACTIVITY_AS_HOME, true);\r\n            editor.apply();\r\n\r\n            startActivity(new Intent(this, AutoActivity.class));\r\n            finish();\r\n        });\r\n    }\r\n}\r\n\r\n\r\nif you want get back to the previous state, you can just delete the flag in `AutoActivity()` like this:\r\n\r\n    SharedPreferences sharedPref = getPreferences(Context.MODE_PRIVATE);\r\n        boolean autoActivityAsHome = sharedPref.getBoolean(KEY_AUTO_ACTIVITY_AS_HOME, false);\r\n        if (autoActivityAsHome) {\r\n            // Clear the flag\r\n            SharedPreferences.Editor editor = sharedPref.edit();\r\n            editor.remove(KEY_AUTO_ACTIVITY_AS_HOME);\r\n            editor.apply();\r\n        }\r\n\r\n","title":"How can I change the startup order of the home screen in Android Studio?","body":"<p>You can store a flag in <code>SharedPreferences</code>. Whenever the app runs, you can check the flag in the <code>onCreate()</code> method of the <code>MainActivity</code>. If the flag is <code>true</code>, the <code>AutoActivity</code> will be opened, and the <code>MainActivity</code> will be closed.</p>\n<p>here is the code when clicking on the <code>button</code>:</p>\n<pre><code>Button switchButton = findViewById(R.id.switchButton);\n    switchButton.setOnClickListener(v -&gt; {\n        SharedPreferences.Editor editor = sharedPref.edit();\n        editor.putBoolean(KEY_AUTO_ACTIVITY_AS_HOME, true);\n        editor.apply();\n\n        startActivity(new Intent(this, AutoActivity.class));\n        finish();\n    });\n</code></pre>\n<p>here the code in <code>onCreate()</code> of <code>MainActivity</code>:</p>\n<pre><code>sharedPref = getPreferences(Context.MODE_PRIVATE);\n\n    boolean autoActivityAsHome =\n            sharedPref.getBoolean(KEY_AUTO_ACTIVITY_AS_HOME, false);\n    if (autoActivityAsHome) {\n        startActivity(new Intent(this, AutoActivity.class));\n        finish();\n    }\n</code></pre>\n<p>here is the complete code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate SharedPreferences sharedPref;\nstatic final String KEY_AUTO_ACTIVITY_AS_HOME = &quot;AUTO_ACTIVITY_AS_HOME&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    sharedPref = getPreferences(Context.MODE_PRIVATE);\n\n    boolean autoActivityAsHome =\n            sharedPref.getBoolean(KEY_AUTO_ACTIVITY_AS_HOME, false);\n    if (autoActivityAsHome) {\n        startActivity(new Intent(this, AutoActivity.class));\n        finish();\n    }\n\n    Button switchButton = findViewById(R.id.switchButton);\n    switchButton.setOnClickListener(v -&gt; {\n        SharedPreferences.Editor editor = sharedPref.edit();\n        editor.putBoolean(KEY_AUTO_ACTIVITY_AS_HOME, true);\n        editor.apply();\n\n        startActivity(new Intent(this, AutoActivity.class));\n        finish();\n    });\n}\n</code></pre>\n<p>}</p>\n<p>if you want get back to the previous state, you can just delete the flag in <code>AutoActivity()</code> like this:</p>\n<pre><code>SharedPreferences sharedPref = getPreferences(Context.MODE_PRIVATE);\n    boolean autoActivityAsHome = sharedPref.getBoolean(KEY_AUTO_ACTIVITY_AS_HOME, false);\n    if (autoActivityAsHome) {\n        // Clear the flag\n        SharedPreferences.Editor editor = sharedPref.edit();\n        editor.remove(KEY_AUTO_ACTIVITY_AS_HOME);\n        editor.apply();\n    }\n</code></pre>\n"}],"owner":{"account_id":28571227,"reputation":1,"user_id":21873414,"display_name":"dacha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683880104,"creation_date":1683741130,"question_id":76221321,"body_markdown":"I have `AutoActivity` and `MainActivity`. In Manifest, `MainActivity` is the start screen.\r\n\r\nBy clicking on the button in `MainActivity`, you switch to `AutoActivity`, and it becomes the home screen. \r\n\r\nWhen restarting the application, `AutoActivity` will open immediately instead of `MainActivity`. \r\n\r\nHow can this be implemented?\r\n\r\n\r\n\r\n","title":"How can I change the startup order of the home screen in Android Studio?","body":"<p>I have <code>AutoActivity</code> and <code>MainActivity</code>. In Manifest, <code>MainActivity</code> is the start screen.</p>\n<p>By clicking on the button in <code>MainActivity</code>, you switch to <code>AutoActivity</code>, and it becomes the home screen.</p>\n<p>When restarting the application, <code>AutoActivity</code> will open immediately instead of <code>MainActivity</code>.</p>\n<p>How can this be implemented?</p>\n"},{"tags":["java","spring","hibernate","multi-tenant"],"comments":[{"owner":{"account_id":7219924,"reputation":910,"user_id":5955376,"accept_rate":100,"display_name":"nllsdfx"},"score":0,"creation_date":1560352067,"post_id":56563538,"comment_id":99710018,"body_markdown":"Why do you need to have it in single application? Can&#39;t you have multiple applications configured each for its own database? And just choose needed one. Create repository and reuse it across all your apps.","body":"Why do you need to have it in single application? Can&#39;t you have multiple applications configured each for its own database? And just choose needed one. Create repository and reuse it across all your apps."},{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1560503294,"post_id":56563538,"comment_id":99766320,"body_markdown":"**route datasources by web request** , do these web requests have different urls ? What I mean to say is - does service implementation classes different for different customers or you wish to initialize a single service service class with different data sources  ?","body":"<b>route datasources by web request</b> , do these web requests have different urls ? What I mean to say is - does service implementation classes different for different customers or you wish to initialize a single service service class with different data sources  ?"}],"answers":[{"tags":[],"owner":{"account_id":6539693,"reputation":1278,"user_id":5057758,"accept_rate":50,"display_name":"Kadzhaev Marat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683880085,"creation_date":1561406444,"answer_id":56743206,"question_id":56563538,"body_markdown":"I found a solution. You can explicitly tell Hibernate which dialect to choose using `hibernate.dialect` property. So you can implement your own dialect extends `org.hibernate.dialect.Dialect` class, override all public methods and delegate calls to specific dialects. The good thing is Hibernate calls this (`Dialect`&#39;s) methods before performing any database requests. In my specific case I&#39;ve implemented a custom dialect with map of dialects I need for my project and now I can use the same repositories and  freely choose Postgresql, Oracle or MySQL depending on logged in user","title":"Spring multi tenancy","body":"<p>I found a solution. You can explicitly tell Hibernate which dialect to choose using <code>hibernate.dialect</code> property. So you can implement your own dialect extends <code>org.hibernate.dialect.Dialect</code> class, override all public methods and delegate calls to specific dialects. The good thing is Hibernate calls this (<code>Dialect</code>'s) methods before performing any database requests. In my specific case I've implemented a custom dialect with map of dialects I need for my project and now I can use the same repositories and  freely choose Postgresql, Oracle or MySQL depending on logged in user</p>\n"}],"owner":{"account_id":6539693,"reputation":1278,"user_id":5057758,"accept_rate":50,"display_name":"Kadzhaev Marat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56743206,"answer_count":1,"score":3,"last_activity_date":1683880085,"creation_date":1560346473,"question_id":56563538,"body_markdown":"I have two databases: `Oracle` and `PostgreSQL` where I have multiple schemas - one per each customer. I need to have an opportunity to route datasources by web request. I tried to use Spring&#39;s `AbstractRoutingDatasource` but it works only with single dialect. Are there any other solutions for this task?","title":"Spring multi tenancy","body":"<p>I have two databases: <code>Oracle</code> and <code>PostgreSQL</code> where I have multiple schemas - one per each customer. I need to have an opportunity to route datasources by web request. I tried to use Spring's <code>AbstractRoutingDatasource</code> but it works only with single dialect. Are there any other solutions for this task?</p>\n"},{"tags":["java","multithreading","java-8","concurrency","java.util.concurrent"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1683878532,"post_id":76234152,"comment_id":134436914,"body_markdown":"You need replace body of ops with all in one operation such as `map.computeIfAbsent(KEY, k -&gt; new AtomicInteger()). incrementAndGet()`.","body":"You need replace body of ops with all in one operation such as <code>map.computeIfAbsent(KEY, k -&gt; new AtomicInteger()). incrementAndGet()</code>."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1683879948,"creation_date":1683879312,"answer_id":76234384,"question_id":76234152,"body_markdown":"Your code has a race condition. Two threads can decide at same time that `!map.containsKey(KEY)` is false and assign different `new AtomicInteger(1)` to the map.\r\n\r\nTwo threads can decide at same time that `!map.containsKey(KEY)` is true and they both could evaluate `map.get(KEY)` as the same value, so store same new value with `.set(map.get(KEY).intValue() + 1)`. \r\n\r\nAn atomic operation for update can be achieved by use of `Map.computeIfAbsent()` with `AtomicInteger.incrementAndGet()` to ensure consistent counter incrementing without the value being updated by another thread:\r\n\r\n    private static void ops(Map&lt;String, AtomicInteger&gt; map) { \r\n        map.computeIfAbsent(KEY, k -&gt; new AtomicInteger()).incrementAndGet();\r\n    }","title":"How to maintain atomicity with ConcurrentHashMap get and put methods?","body":"<p>Your code has a race condition. Two threads can decide at same time that <code>!map.containsKey(KEY)</code> is false and assign different <code>new AtomicInteger(1)</code> to the map.</p>\n<p>Two threads can decide at same time that <code>!map.containsKey(KEY)</code> is true and they both could evaluate <code>map.get(KEY)</code> as the same value, so store same new value with <code>.set(map.get(KEY).intValue() + 1)</code>.</p>\n<p>An atomic operation for update can be achieved by use of <code>Map.computeIfAbsent()</code> with <code>AtomicInteger.incrementAndGet()</code> to ensure consistent counter incrementing without the value being updated by another thread:</p>\n<pre><code>private static void ops(Map&lt;String, AtomicInteger&gt; map) { \n    map.computeIfAbsent(KEY, k -&gt; new AtomicInteger()).incrementAndGet();\n}\n</code></pre>\n"}],"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76234384,"answer_count":1,"score":1,"last_activity_date":1683879948,"creation_date":1683877411,"question_id":76234152,"body_markdown":"In a multi-threaded environment, I am performing get and put operations on a ConcurrentHashMap implementation. However, the results are un-expected. Please find below code and output.\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.UUID;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class Test {\r\n\r\n    private static final List&lt;String&gt; bars = Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;);\r\n    private static final String KEY = UUID.randomUUID().toString();\r\n    private static ExecutorService executorService = null;\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 1; i &lt;= 20; i++) {\r\n            executorService = Executors.newFixedThreadPool(2);\r\n            Map&lt;String, AtomicInteger&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n            performMapOps(map);\r\n            executorService.shutdown();\r\n            try {\r\n                while (!executorService.awaitTermination(1, TimeUnit.SECONDS));\r\n                System.out.println(map.get(KEY));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void performMapOps(Map&lt;String, AtomicInteger&gt; map) {\r\n        for (int i = 1; i &lt;= bars.size(); i++) {\r\n            executorService.execute(() -&gt; ops(map));\r\n        }\r\n    }\r\n\r\n    private static void ops(Map&lt;String, AtomicInteger&gt; map) {\r\n       if (!map.containsKey(KEY)) {\r\n            AtomicInteger atomicInteger = new AtomicInteger(1);\r\n            map.put(KEY, atomicInteger);\r\n        } else {\r\n            map.get(KEY).set(map.get(KEY).intValue() + 1);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nOUTPUT - It should be 10 always, However it is not true for the above code. Please find below output.\r\n```\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n10\r\n9\r\n10\r\n10\r\n```\r\nSometimes, it gives me value other than 10.\r\nPlease help to understand, why this un-expected behaviour and how to fix this?","title":"How to maintain atomicity with ConcurrentHashMap get and put methods?","body":"<p>In a multi-threaded environment, I am performing get and put operations on a ConcurrentHashMap implementation. However, the results are un-expected. Please find below code and output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.UUID;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class Test {\n\n    private static final List&lt;String&gt; bars = Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;);\n    private static final String KEY = UUID.randomUUID().toString();\n    private static ExecutorService executorService = null;\n\n    public static void main(String[] args) {\n        for (int i = 1; i &lt;= 20; i++) {\n            executorService = Executors.newFixedThreadPool(2);\n            Map&lt;String, AtomicInteger&gt; map = new ConcurrentHashMap&lt;&gt;();\n            performMapOps(map);\n            executorService.shutdown();\n            try {\n                while (!executorService.awaitTermination(1, TimeUnit.SECONDS));\n                System.out.println(map.get(KEY));\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private static void performMapOps(Map&lt;String, AtomicInteger&gt; map) {\n        for (int i = 1; i &lt;= bars.size(); i++) {\n            executorService.execute(() -&gt; ops(map));\n        }\n    }\n\n    private static void ops(Map&lt;String, AtomicInteger&gt; map) {\n       if (!map.containsKey(KEY)) {\n            AtomicInteger atomicInteger = new AtomicInteger(1);\n            map.put(KEY, atomicInteger);\n        } else {\n            map.get(KEY).set(map.get(KEY).intValue() + 1);\n        }\n    }\n}\n\n</code></pre>\n<p>OUTPUT - It should be 10 always, However it is not true for the above code. Please find below output.</p>\n<pre><code>10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n10\n9\n10\n10\n</code></pre>\n<p>Sometimes, it gives me value other than 10.\nPlease help to understand, why this un-expected behaviour and how to fix this?</p>\n"},{"tags":["java","report","jacoco","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"score":0,"creation_date":1444645492,"post_id":33078745,"comment_id":53974197,"body_markdown":"Did you look for the reports at `target/site/jacoco-ut/index.html` ?","body":"Did you look for the reports at <code>target&#47;site&#47;jacoco-ut&#47;index.html</code> ?"},{"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"score":0,"creation_date":1444645626,"post_id":33078745,"comment_id":53974274,"body_markdown":"@SaifAsif, yes. I can see only `jacoco.exec` file and no other folder being created under `target`","body":"@SaifAsif, yes. I can see only <code>jacoco.exec</code> file and no other folder being created under <code>target</code>"},{"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"score":0,"creation_date":1444645855,"post_id":33078745,"comment_id":53974402,"body_markdown":"Pase the logs of `mvn clean install` here from the part when jacoco plugin kicks in","body":"Pase the logs of <code>mvn clean install</code> here from the part when jacoco plugin kicks in"},{"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"score":0,"creation_date":1444646899,"post_id":33078745,"comment_id":53975000,"body_markdown":"@SaifAsif, please check the updated post. How do i generate consolidated report?","body":"@SaifAsif, please check the updated post. How do i generate consolidated report?"}],"answers":[{"tags":[],"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1513202550,"creation_date":1444850547,"answer_id":33133873,"question_id":33078745,"body_markdown":"JaCoCo version 0.7.7 can [generate an aggregate coverage report][1] from multiple Maven modules through a new goal `jacoco:report-aggregate`.\r\n\r\n\r\n  [1]: https://github.com/jacoco/jacoco/wiki/MavenMultiModule","title":"Jacoco Maven multi module project coverage","body":"<p>JaCoCo version 0.7.7 can <a href=\"https://github.com/jacoco/jacoco/wiki/MavenMultiModule\" rel=\"noreferrer\">generate an aggregate coverage report</a> from multiple Maven modules through a new goal <code>jacoco:report-aggregate</code>.</p>\n"},{"tags":[],"owner":{"account_id":1906384,"reputation":51,"user_id":1721171,"display_name":"Michael Remme"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484833668,"creation_date":1484833668,"answer_id":41743375,"question_id":33078745,"body_markdown":"One problem in multimodule projects is caused, if the aggregator pom is used as parent pom for the modules either, like it is the case in the above example:\r\n\r\n    - parentAggregator pom\r\n    ---sub module A pom.xml -&gt; parentAggregator pom\r\n    ---sub module B pom.xml -&gt; parentAggregator pom\r\n    ---sub module C pom.xml -&gt; parentAggregator pom\r\n\r\nIn this case, the build order is:\r\n\r\n    - parentAggregator\r\n    - sub module A\r\n    - sub module B\r\n    - sub module C\r\n\r\nwhich means, that the parent aggregator can not collect complete information. In my case a transfer of data into sonarQube by mvn sonar:sonar resulted in unexpected and uncomplete results.\r\n\r\nChanging the module structure to:\r\n\r\n    - aggregator pom\r\n    -- parent pom\r\n    ---sub module A pom.xml -&gt; parent pom\r\n    ---sub module B pom.xml -&gt; parent pom\r\n    ---sub module C pom.xml -&gt; parent pom\r\n\r\nwill change the build order to:\r\n\r\n    - parent\r\n    - sub module A\r\n    - sub module B\r\n    - sub module C\r\n    - aggregator\r\n\r\nIn this case aggregator will be the last one and work with the results of the modules. In my case the results in SonarQube were like expected.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Jacoco Maven multi module project coverage","body":"<p>One problem in multimodule projects is caused, if the aggregator pom is used as parent pom for the modules either, like it is the case in the above example:</p>\n\n<pre><code>- parentAggregator pom\n---sub module A pom.xml -&gt; parentAggregator pom\n---sub module B pom.xml -&gt; parentAggregator pom\n---sub module C pom.xml -&gt; parentAggregator pom\n</code></pre>\n\n<p>In this case, the build order is:</p>\n\n<pre><code>- parentAggregator\n- sub module A\n- sub module B\n- sub module C\n</code></pre>\n\n<p>which means, that the parent aggregator can not collect complete information. In my case a transfer of data into sonarQube by mvn sonar:sonar resulted in unexpected and uncomplete results.</p>\n\n<p>Changing the module structure to:</p>\n\n<pre><code>- aggregator pom\n-- parent pom\n---sub module A pom.xml -&gt; parent pom\n---sub module B pom.xml -&gt; parent pom\n---sub module C pom.xml -&gt; parent pom\n</code></pre>\n\n<p>will change the build order to:</p>\n\n<pre><code>- parent\n- sub module A\n- sub module B\n- sub module C\n- aggregator\n</code></pre>\n\n<p>In this case aggregator will be the last one and work with the results of the modules. In my case the results in SonarQube were like expected.</p>\n"},{"tags":[],"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1639636055,"creation_date":1527936781,"answer_id":50656152,"question_id":33078745,"body_markdown":"After scanning many solutions I created a simple but complete **Jacoco** demo project showing: \r\n\r\n - Multi module project\r\n - Unit test (via `mvn clean install`)\r\n - Integration test (via `mvn clean install -P integration-test`)\r\n - Jacoco - test coverage ( both aggregate data file and aggregate reporting)\r\n - FindBugs - code quality\r\n\r\nEnjoy the [simple demo project][1]. In this simple project the README.md file contains information you are looking for. An example is: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe simple demo project contains 3 branches: \r\n\r\n 1. Master branch - containing the above functionality\r\n 2. Multi-module-only-unit-tests - contains modules with only unit tests\r\n 3. Multi-module-unit-tests-try2 - contains modules with unit tests, differently. \r\n\r\n\r\n  [1]: https://github.com/johan974/maven-multi-module-unittest-integrationtest-jacoco.git\r\n  [2]: https://i.stack.imgur.com/sEMXm.png","title":"Jacoco Maven multi module project coverage","body":"<p>After scanning many solutions I created a simple but complete <strong>Jacoco</strong> demo project showing:</p>\n<ul>\n<li>Multi module project</li>\n<li>Unit test (via <code>mvn clean install</code>)</li>\n<li>Integration test (via <code>mvn clean install -P integration-test</code>)</li>\n<li>Jacoco - test coverage ( both aggregate data file and aggregate reporting)</li>\n<li>FindBugs - code quality</li>\n</ul>\n<p>Enjoy the <a href=\"https://github.com/johan974/maven-multi-module-unittest-integrationtest-jacoco.git\" rel=\"noreferrer\">simple demo project</a>. In this simple project the README.md file contains information you are looking for. An example is:</p>\n<p><a href=\"https://i.stack.imgur.com/sEMXm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sEMXm.png\" alt=\"enter image description here\" /></a></p>\n<p>The simple demo project contains 3 branches:</p>\n<ol>\n<li>Master branch - containing the above functionality</li>\n<li>Multi-module-only-unit-tests - contains modules with only unit tests</li>\n<li>Multi-module-unit-tests-try2 - contains modules with unit tests, differently.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1704646,"reputation":442,"user_id":1563969,"display_name":"Sarang"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1657720256,"creation_date":1607549055,"answer_id":65225130,"question_id":33078745,"body_markdown":"Follow below-mentioned instructions\r\n\r\n1. Create a new sub-project (usually called maven module). This will be used as report aggregator.  \r\nparent pom will be like:\r\n\r\n\r\n```xml\r\n   &lt;modules&gt;\r\n        &lt;module&gt;A&lt;/module&gt;\r\n        &lt;module&gt;B&lt;/module&gt;\r\n        &lt;module&gt;C&lt;/module&gt;\r\n        &lt;module&gt;ReportAggregator&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n```\r\n\r\n2. In aggregator module pom- add other subprojects dependencies.\r\n\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;xyz&lt;/groupId&gt;\r\n    &lt;artifactId&gt;A&lt;/artifactId&gt;\r\n    &lt;version&gt;${project.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n3. In aggregator module pom- configure jacoco plugin\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.8.6&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;report-aggregate&lt;/id&gt;\r\n            &lt;phase&gt;verify&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;dataFileIncludes&gt;\r\n                    &lt;dataFileInclude&gt;**/jacoco.exec&lt;/dataFileInclude&gt;\r\n                &lt;/dataFileIncludes&gt;\r\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n4. In aggregator module pom- configure surefire plugin as\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;systemPropertyVariables&gt;\r\n            &lt;jacoco-agent.destfile&gt;**/jacoco.exec&lt;/jacoco-agent.destfile&gt;\r\n        &lt;/systemPropertyVariables&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n5. (optional step) If anybody face warning/error like:\r\n**Classes in bundle &#39;***&#39; do no match with execution data. For report generation, the same class files must be used as at runtime.**\r\n\r\nThen add below mentioned lines in aggregator module pom\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.8.6&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;instrument-ut&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;instrument&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;restore-ut&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;report-aggregate&lt;/id&gt;\r\n            &lt;phase&gt;verify&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;dataFileIncludes&gt;\r\n                    &lt;dataFileInclude&gt;**/jacoco.exec&lt;/dataFileInclude&gt;\r\n                &lt;/dataFileIncludes&gt;\r\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n6. run `mvn clean install`","title":"Jacoco Maven multi module project coverage","body":"<p>Follow below-mentioned instructions</p>\n<ol>\n<li>Create a new sub-project (usually called maven module). This will be used as report aggregator.<br />\nparent pom will be like:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;modules&gt;\n        &lt;module&gt;A&lt;/module&gt;\n        &lt;module&gt;B&lt;/module&gt;\n        &lt;module&gt;C&lt;/module&gt;\n        &lt;module&gt;ReportAggregator&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<ol start=\"2\">\n<li>In aggregator module pom- add other subprojects dependencies.</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;xyz&lt;/groupId&gt;\n    &lt;artifactId&gt;A&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"3\">\n<li>In aggregator module pom- configure jacoco plugin</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.6&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report-aggregate&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;dataFileIncludes&gt;\n                    &lt;dataFileInclude&gt;**/jacoco.exec&lt;/dataFileInclude&gt;\n                &lt;/dataFileIncludes&gt;\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ol start=\"4\">\n<li>In aggregator module pom- configure surefire plugin as</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;jacoco-agent.destfile&gt;**/jacoco.exec&lt;/jacoco-agent.destfile&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ol start=\"5\">\n<li>(optional step) If anybody face warning/error like:\n<strong>Classes in bundle '</strong>*' do no match with execution data. For report generation, the same class files must be used as at runtime.**</li>\n</ol>\n<p>Then add below mentioned lines in aggregator module pom</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.6&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;instrument-ut&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;instrument&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;restore-ut&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report-aggregate&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;dataFileIncludes&gt;\n                    &lt;dataFileInclude&gt;**/jacoco.exec&lt;/dataFileInclude&gt;\n                &lt;/dataFileIncludes&gt;\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ol start=\"6\">\n<li>run <code>mvn clean install</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19414861,"reputation":443,"user_id":14198583,"display_name":"Christopher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610030847,"creation_date":1610030847,"answer_id":65614547,"question_id":33078745,"body_markdown":"Run Coverage as... Junit for each module separately. Then create a launch group and add each of the run configurations. There is a popup &quot;Launch Mode&quot; with options Inherit, Profile, Coverage, Debug or Run. Choose Coverage for all of them. You probably also want to select &quot;Wait until terminated&quot;.\r\n\r\nYou can now run all the coverage tests in one click. After they complete you need to go into the Coverage View and select merge sessions (double red/green bar) and merge them all into one report.","title":"Jacoco Maven multi module project coverage","body":"<p>Run Coverage as... Junit for each module separately. Then create a launch group and add each of the run configurations. There is a popup &quot;Launch Mode&quot; with options Inherit, Profile, Coverage, Debug or Run. Choose Coverage for all of them. You probably also want to select &quot;Wait until terminated&quot;.</p>\n<p>You can now run all the coverage tests in one click. After they complete you need to go into the Coverage View and select merge sessions (double red/green bar) and merge them all into one report.</p>\n"},{"tags":[],"owner":{"account_id":9814791,"reputation":73,"user_id":7271622,"display_name":"duhocsinhlienxo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683879077,"creation_date":1683879077,"answer_id":76234358,"question_id":33078745,"body_markdown":"For anyone want to find simple solution for merge Unit test and UI test in one report: \r\n\r\n    task jacocoUiTestReportAllModules(type: JacocoReport, dependsOn: [&#39;testDebugUnitTest&#39;, &#39;createDebugCoverageReport&#39;]) {\r\n    group &quot;Reports&quot;\r\n    description &quot;Generate Jacoco Instrumented Tests coverage reports for all modules&quot;\r\n    reports {\r\n        xml.enabled = true\r\n        html.enabled = true\r\n        html.destination file(&quot;${rootProject.buildDir}/coverage-report&quot;)\r\n    }\r\n    def javaClasses = []\r\n    def kotlinClasses = []\r\n    def javaSrc = []\r\n    def kotlinSrc = []\r\n    def execution = []\r\n    def fileFilter = [&#39;**/R.class&#39;, &#39;**/R$*.class&#39;, &#39;**/BuildConfig.*&#39;, &#39;**/Manifest*.*&#39;, &#39;**/*Test*.*&#39;, &#39;android/**/*.*&#39;]\r\n    rootProject.subprojects.each { proj -&gt;\r\n        javaClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/intermediates/javac/debug&quot;, excludes: fileFilter)\r\n        kotlinClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/tmp/kotlin-classes/debug&quot;, excludes: fileFilter)\r\n        javaSrc &lt;&lt; &quot;$proj.projectDir/src/main/java&quot;\r\n        kotlinSrc &lt;&lt; &quot;$proj.projectDir/src/main/kotlin&quot;\r\n        execution &lt;&lt; fileTree(dir: proj.buildDir, includes: [    &#39;jacoco/testDebugUnitTest.exec&#39;,\r\n                &#39;outputs/code_coverage/debugAndroidTest/connected/**/*.ec&#39;])\r\n    }\r\n    getSourceDirectories().setFrom(files([javaSrc, kotlinSrc]))\r\n    getClassDirectories().setFrom(files([javaClasses, kotlinClasses]))\r\n    getExecutionData().setFrom(execution)\r\n\r\n    doLast() {\r\n        print &quot;file://${reports.html.destination}/index.html&quot;\r\n\r\n    }\r\n}\r\n\r\nImportant: Apply plugin jacoco for module you want to coverage ","title":"Jacoco Maven multi module project coverage","body":"<p>For anyone want to find simple solution for merge Unit test and UI test in one report:</p>\n<pre><code>task jacocoUiTestReportAllModules(type: JacocoReport, dependsOn: ['testDebugUnitTest', 'createDebugCoverageReport']) {\ngroup &quot;Reports&quot;\ndescription &quot;Generate Jacoco Instrumented Tests coverage reports for all modules&quot;\nreports {\n    xml.enabled = true\n    html.enabled = true\n    html.destination file(&quot;${rootProject.buildDir}/coverage-report&quot;)\n}\ndef javaClasses = []\ndef kotlinClasses = []\ndef javaSrc = []\ndef kotlinSrc = []\ndef execution = []\ndef fileFilter = ['**/R.class', '**/R$*.class', '**/BuildConfig.*', '**/Manifest*.*', '**/*Test*.*', 'android/**/*.*']\nrootProject.subprojects.each { proj -&gt;\n    javaClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/intermediates/javac/debug&quot;, excludes: fileFilter)\n    kotlinClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/tmp/kotlin-classes/debug&quot;, excludes: fileFilter)\n    javaSrc &lt;&lt; &quot;$proj.projectDir/src/main/java&quot;\n    kotlinSrc &lt;&lt; &quot;$proj.projectDir/src/main/kotlin&quot;\n    execution &lt;&lt; fileTree(dir: proj.buildDir, includes: [    'jacoco/testDebugUnitTest.exec',\n            'outputs/code_coverage/debugAndroidTest/connected/**/*.ec'])\n}\ngetSourceDirectories().setFrom(files([javaSrc, kotlinSrc]))\ngetClassDirectories().setFrom(files([javaClasses, kotlinClasses]))\ngetExecutionData().setFrom(execution)\n\ndoLast() {\n    print &quot;file://${reports.html.destination}/index.html&quot;\n\n}\n</code></pre>\n<p>}</p>\n<p>Important: Apply plugin jacoco for module you want to coverage</p>\n"}],"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71497,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":33133873,"answer_count":6,"score":38,"last_activity_date":1683879077,"creation_date":1444645296,"question_id":33078745,"body_markdown":"Seems like there are couple of questions, which are quite old and things changed from Java 8 support of Jacoco.\r\n\r\nMy Project contains following structure\r\n\r\n    pom.xml\r\n    |\r\n    |\r\n    -----sub module A pom.xml\r\n    |\r\n    |\r\n    -----sub module B pom.xml\r\n    |\r\n    |\r\n    -----sub module C pom.xml\r\n\r\nI have configured the `main pom` like this\r\n\r\nMain POM.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jacoco-multi&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;projectA&lt;/module&gt;\r\n    \t\t&lt;module&gt;projectB&lt;/module&gt;\r\n    \t&lt;/modules&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;jacoco.version&gt;0.5.7.201204190339&lt;/jacoco.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-dep&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.10&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.RC2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.RC2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.7.5.201505241946&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;destFile&gt;${project.basedir}/../target/jacoco.exec&lt;/destFile&gt;\r\n    \t\t\t\t\t&lt;append&gt;true&lt;/append&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;jacoco-site&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.16&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;default-integration-test&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.16&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nA Pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;artifactId&gt;jacoco-multi&lt;/artifactId&gt;\r\n    \t\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;relativePath&gt;..&lt;/relativePath&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;artifactId&gt;projectA&lt;/artifactId&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.12&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nB pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;jacoco-multi&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;relativePath&gt;..&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;projectB&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n            &lt;artifactId&gt;projectA&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.12&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nI am executing this command `mvn clean package`. I can see jacoco.exec is getting generated, however I am not able to see any HTML reports are being to verify the data.\r\n\r\nPlease help me with this.\r\nAnother point is, my configuration is correct for `Multi-Module` projects?\r\n\r\n**Update**\r\n\r\nIdentified issue.\r\n `&lt;destFile&gt;${project.basedir}/../target/jacoco.exec&lt;/destFile&gt;`\r\nchanged to \r\n`&lt;destFile&gt;${project.basedir}/target/jacoco.exec&lt;/destFile&gt;`\r\n\r\nNow it&#39;s generating reports for individual modules.\r\n**Any idea how to generate consolidated report**","title":"Jacoco Maven multi module project coverage","body":"<p>Seems like there are couple of questions, which are quite old and things changed from Java 8 support of Jacoco.</p>\n\n<p>My Project contains following structure</p>\n\n<pre><code>pom.xml\n|\n|\n-----sub module A pom.xml\n|\n|\n-----sub module B pom.xml\n|\n|\n-----sub module C pom.xml\n</code></pre>\n\n<p>I have configured the <code>main pom</code> like this</p>\n\n<p>Main POM.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-multi&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;modules&gt;\n        &lt;module&gt;projectA&lt;/module&gt;\n        &lt;module&gt;projectB&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;jacoco.version&gt;0.5.7.201204190339&lt;/jacoco.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-dep&lt;/artifactId&gt;\n            &lt;version&gt;4.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3.RC2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n            &lt;version&gt;1.3.RC2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.7.5.201505241946&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;destFile&gt;${project.basedir}/../target/jacoco.exec&lt;/destFile&gt;\n                    &lt;append&gt;true&lt;/append&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-initialize&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.16&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-integration-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.16&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>A Pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;jacoco-multi&lt;/artifactId&gt;\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;..&lt;/relativePath&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;projectA&lt;/artifactId&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.12&lt;/version&gt;\n                &lt;/plugin&gt;\n\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>B pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;artifactId&gt;jacoco-multi&lt;/artifactId&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath&gt;..&lt;/relativePath&gt;\n&lt;/parent&gt;\n&lt;artifactId&gt;projectB&lt;/artifactId&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\n        &lt;artifactId&gt;projectA&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.12&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>I am executing this command <code>mvn clean package</code>. I can see jacoco.exec is getting generated, however I am not able to see any HTML reports are being to verify the data.</p>\n\n<p>Please help me with this.\nAnother point is, my configuration is correct for <code>Multi-Module</code> projects?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Identified issue.\n <code>&lt;destFile&gt;${project.basedir}/../target/jacoco.exec&lt;/destFile&gt;</code>\nchanged to \n<code>&lt;destFile&gt;${project.basedir}/target/jacoco.exec&lt;/destFile&gt;</code></p>\n\n<p>Now it's generating reports for individual modules.\n<strong>Any idea how to generate consolidated report</strong></p>\n"},{"tags":["java","xml","spring-boot"],"comments":[{"owner":{"account_id":2098229,"reputation":425,"user_id":1866530,"display_name":"prembhaskal"},"score":1,"creation_date":1683797156,"post_id":76225981,"comment_id":134422678,"body_markdown":"checkout related question https://stackoverflow.com/a/18694055/1866530","body":"checkout related question <a href=\"https://stackoverflow.com/a/18694055/1866530\">stackoverflow.com/a/18694055/1866530</a>"},{"owner":{"account_id":17769558,"reputation":23,"user_id":12903528,"display_name":"Simo"},"score":1,"creation_date":1683805064,"post_id":76225981,"comment_id":134424417,"body_markdown":"@prembhaskal that helped me solve the problem. Thanks:)","body":"@prembhaskal that helped me solve the problem. Thanks:)"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":1,"creation_date":1683851568,"post_id":76225981,"comment_id":134433815,"body_markdown":"Please remove `json` tag, as it has nothing to do with JSON.","body":"Please remove <code>json</code> tag, as it has nothing to do with JSON."},{"owner":{"account_id":17769558,"reputation":23,"user_id":12903528,"display_name":"Simo"},"score":0,"creation_date":1683878641,"post_id":76225981,"comment_id":134436933,"body_markdown":"Sure xd. @LHCHIN","body":"Sure xd. @LHCHIN"}],"answers":[{"tags":[],"owner":{"account_id":17769558,"reputation":23,"user_id":12903528,"display_name":"Simo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683805297,"creation_date":1683805297,"answer_id":76227257,"question_id":76225981,"body_markdown":"I solved the problem buy adding .replace(&quot;&amp;#xd;&quot;, System.lineSeparator()) method.\r\n\r\nThis is the code\r\n\r\n    xml = xmlMapper.writeValueAsString(inputJsonObject).replace(&quot;&amp;#xd;&quot;, System.lineSeparator()); \r\n\r\nThank you all for help.","title":"How to remove extra added text &amp;#xd; from xml in Springboot application","body":"<p>I solved the problem buy adding .replace(&quot;\r&quot;, System.lineSeparator()) method.</p>\n<p>This is the code</p>\n<pre><code>xml = xmlMapper.writeValueAsString(inputJsonObject).replace(&quot;&amp;#xd;&quot;, System.lineSeparator()); \n</code></pre>\n<p>Thank you all for help.</p>\n"}],"owner":{"account_id":17769558,"reputation":23,"user_id":12903528,"display_name":"Simo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76227257,"answer_count":1,"score":1,"last_activity_date":1683878505,"creation_date":1683796494,"question_id":76225981,"body_markdown":"I am trying to convert JSON object into XML with method:\r\n\r\n    xmlMapper.writeValueAsString()\r\n\r\nThis is the code: \r\n\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        String xml = &quot;&quot;;\r\n\r\n        xmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        xmlMapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n\r\n        try {\r\n            xml = xmlMapper.writeValueAsString(inputJsonObject);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            throw new Exception(&quot;Error!&quot;);\r\n        }\r\n\r\n\r\nThis is the JSON input (inputJsonObject)\r\n  \r\n\r\n     {\r\n         &quot;Atribut&quot;: [\r\n                {\r\n                    &quot;RnatrId&quot;: 71945793,\r\n                    &quot;TxtValue&quot;: &quot;AssetId: 545654, Aktiviran: \r\n                      DA\\r\\nCustomerName: John Wick\\r\\n\r\n                      DSLAM Pozicija: Dawa_daslkads 342&quot;,\r\n                    &quot;NumValue&quot;: 0,\r\n                    &quot;DateValue&quot;: &quot;&quot;,\r\n                    &quot;MultiselectId&quot;: &quot;&quot;,\r\n                    &quot;MultiselectTxt&quot;: &quot;&quot;\r\n                },\r\n               ]\r\n         }\r\n      }\r\n\r\nThis is what I get \r\n\r\n    &lt;Atribut&gt;\r\n       &lt;RnatrId&gt;71945793&lt;/RnatrId&gt;\r\n       &lt;TxtValue&gt;\r\n            AssetId: 545654, Aktiviran: DA&amp;#xd;\r\n            CustomerName: John Wick&amp;#xd;\r\n            DSLAM Pozicija: Dawa_daslkads 342&amp;#xd;\r\n       &lt;/TxtValue&gt;\r\n        &lt;NumValue&gt;0&lt;/NumValue&gt;\r\n        &lt;DateValue&gt;&lt;/DateValue&gt;\r\n        &lt;MultiselectId&gt;&lt;/MultiselectId&gt;\r\n        &lt;MultiselectTxt&gt;&lt;/MultiselectTxt&gt;\r\n    &lt;/Atribut&gt;\r\n\r\nThis is what I am trying to get:\r\n\r\n    &lt;Atribut&gt;\r\n           &lt;RnatrId&gt;71945793&lt;/RnatrId&gt;\r\n           &lt;TxtValue&gt;\r\n                AssetId: 545654, Aktiviran: DA\r\n                CustomerName: John Wick\r\n                DSLAM Pozicija: Dawa_daslkads 342\r\n           &lt;/TxtValue&gt;\r\n            &lt;NumValue&gt;0&lt;/NumValue&gt;\r\n            &lt;DateValue&gt;&lt;/DateValue&gt;\r\n            &lt;MultiselectId&gt;&lt;/MultiselectId&gt;\r\n            &lt;MultiselectTxt&gt;&lt;/MultiselectTxt&gt;\r\n        &lt;/Atribut&gt;\r\n\r\n  With out this extra text **&amp;#xd** for each new line.\r\n\r\n  Any help please?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AF7sD.png\r\n  [2]: https://i.stack.imgur.com/3E1wE.png\r\n","title":"How to remove extra added text &amp;#xd; from xml in Springboot application","body":"<p>I am trying to convert JSON object into XML with method:</p>\n<pre><code>xmlMapper.writeValueAsString()\n</code></pre>\n<p>This is the code:</p>\n<pre><code>    XmlMapper xmlMapper = new XmlMapper();\n    String xml = &quot;&quot;;\n\n    xmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    xmlMapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n\n    try {\n        xml = xmlMapper.writeValueAsString(inputJsonObject);\n    }catch (Exception e){\n        e.printStackTrace();\n        throw new Exception(&quot;Error!&quot;);\n    }\n</code></pre>\n<p>This is the JSON input (inputJsonObject)</p>\n<pre><code> {\n     &quot;Atribut&quot;: [\n            {\n                &quot;RnatrId&quot;: 71945793,\n                &quot;TxtValue&quot;: &quot;AssetId: 545654, Aktiviran: \n                  DA\\r\\nCustomerName: John Wick\\r\\n\n                  DSLAM Pozicija: Dawa_daslkads 342&quot;,\n                &quot;NumValue&quot;: 0,\n                &quot;DateValue&quot;: &quot;&quot;,\n                &quot;MultiselectId&quot;: &quot;&quot;,\n                &quot;MultiselectTxt&quot;: &quot;&quot;\n            },\n           ]\n     }\n  }\n</code></pre>\n<p>This is what I get</p>\n<pre><code>&lt;Atribut&gt;\n   &lt;RnatrId&gt;71945793&lt;/RnatrId&gt;\n   &lt;TxtValue&gt;\n        AssetId: 545654, Aktiviran: DA&amp;#xd;\n        CustomerName: John Wick&amp;#xd;\n        DSLAM Pozicija: Dawa_daslkads 342&amp;#xd;\n   &lt;/TxtValue&gt;\n    &lt;NumValue&gt;0&lt;/NumValue&gt;\n    &lt;DateValue&gt;&lt;/DateValue&gt;\n    &lt;MultiselectId&gt;&lt;/MultiselectId&gt;\n    &lt;MultiselectTxt&gt;&lt;/MultiselectTxt&gt;\n&lt;/Atribut&gt;\n</code></pre>\n<p>This is what I am trying to get:</p>\n<pre><code>&lt;Atribut&gt;\n       &lt;RnatrId&gt;71945793&lt;/RnatrId&gt;\n       &lt;TxtValue&gt;\n            AssetId: 545654, Aktiviran: DA\n            CustomerName: John Wick\n            DSLAM Pozicija: Dawa_daslkads 342\n       &lt;/TxtValue&gt;\n        &lt;NumValue&gt;0&lt;/NumValue&gt;\n        &lt;DateValue&gt;&lt;/DateValue&gt;\n        &lt;MultiselectId&gt;&lt;/MultiselectId&gt;\n        &lt;MultiselectTxt&gt;&lt;/MultiselectTxt&gt;\n    &lt;/Atribut&gt;\n</code></pre>\n<p>With out this extra text <strong>&amp;#xd</strong> for each new line.</p>\n<p>Any help please?</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1683873331,"post_id":76233626,"comment_id":134435968,"body_markdown":"How is WHAT possible?  I can&#39;t tell what you are questioning.","body":"How is WHAT possible?  I can&#39;t tell what you are questioning."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1683874844,"post_id":76233626,"comment_id":134436197,"body_markdown":"@Hulk: therefore, my question could be &quot;_Why could some keys could be removed from my Map_, then. As I&#39;m not doing any remove or putting null value into (if this would have a removal effect).","body":"@Hulk: therefore, my question could be &quot;<i>Why could some keys could be removed from my Map</i>, then. As I&#39;m not doing any remove or putting null value into (if this would have a removal effect)."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1683876753,"post_id":76233626,"comment_id":134436557,"body_markdown":"Related: https://stackoverflow.com/questions/25782057/can-we-have-a-nested-map-as-key-within-other-map","body":"Related: <a href=\"https://stackoverflow.com/questions/25782057/can-we-have-a-nested-map-as-key-within-other-map\" title=\"can we have a nested map as key within other map\">stackoverflow.com/questions/25782057/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683877305,"creation_date":1683877305,"answer_id":76234147,"question_id":76233626,"body_markdown":"You are misunderstanding the information displayed in the debugger - it is not a &quot;pointer&quot;. Instead, it is the output of [`Object.toString()`][1] - the part after the `@` is simply the hashcode. For collections, this depends on the data they contain.\r\n\r\n`LinkedHashMap` and `HashMap` are documented to use the implementation in [`AbstractMap.hashCode()`][1], which is documented to use [`Map.Entry.hashCode()`][2]. It uses both key and value. The hashcode of a `Map` changes when its contents (keys and/or values) change.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/AbstractMap.html#hashCode()\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.Entry.html#hashCode()","title":"A supposed unique instance of an object is changing all the time. [Solution found: use Spark Accumulator to avoid concurrency behavior with threads]","body":"<p>You are misunderstanding the information displayed in the debugger - it is not a &quot;pointer&quot;. Instead, it is the output of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/AbstractMap.html#hashCode()\" rel=\"nofollow noreferrer\"><code>Object.toString()</code></a> - the part after the <code>@</code> is simply the hashcode. For collections, this depends on the data they contain.</p>\n<p><code>LinkedHashMap</code> and <code>HashMap</code> are documented to use the implementation in <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/AbstractMap.html#hashCode()\" rel=\"nofollow noreferrer\"><code>AbstractMap.hashCode()</code></a>, which is documented to use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.Entry.html#hashCode()\" rel=\"nofollow noreferrer\"><code>Map.Entry.hashCode()</code></a>. It uses both key and value. The hashcode of a <code>Map</code> changes when its contents (keys and/or values) change.</p>\n"},{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683878067,"creation_date":1683877723,"answer_id":76234186,"question_id":76233626,"body_markdown":"__Epilog:__ You are right, I&#39;m misleading often with that hashcode...\r\n\r\nBut if I not able to understand clearly the spark behavior, I&#39;ve detected that I was inside a story of threads.\r\n\r\nUsing a Map, how I&#39;ve done, was very dangerous and unsafe.\r\n\r\nI had to change to `LongAccumulator` instead.\r\n\r\n```java\r\n/**\r\n * Renvoyer le taux de champs null par nom de champ.\r\n * @param candidat Dataset &#224; analyser.\r\n * @param ignorerNonNullables true pour ignorer ceux qui sont d&#233;j&#224; marqu&#233;s comme non nullables dans le sch&#233;ma.\r\n * @return Map de champs avec leur taux\r\n */\r\npublic Map&lt;String, Double&gt; tauxNullsParChamp(Dataset&lt;Row&gt; candidat, boolean ignorerNonNullables) {\r\n   long count = candidat.count();\r\n   Map&lt;String, Double&gt; tauxDeChampsNulls = new LinkedHashMap&lt;&gt;();\r\n\r\n   if (count == 0L) {\r\n      LOGGER.warn(&quot;Le dataset soumis pour comptage de champs nuls n&#39;a aucun enregistrement : le comptage ne peut avoir lieu.&quot;);\r\n      return tauxDeChampsNulls;\r\n   }\r\n\r\n   LOGGER.info(&quot;Il y a {} enregistrements dans ce Dataset.&quot;, count);\r\n   StructField[] fields = candidat.schema().fields();\r\n\r\n   SparkContext ctx = candidat.sparkSession().sparkContext();\r\n   Map&lt;String, LongAccumulator&gt; accumulateurs = new HashMap&lt;&gt;();\r\n\r\n   for(StructField field : fields) {\r\n      accumulateurs.put(field.name(), ctx.longAccumulator(field.name()));\r\n   }\r\n\r\n   candidat.foreach((ForeachFunction&lt;Row&gt;)row -&gt; {\r\n      for(int index = 0; index &lt; fields.length; index ++) {\r\n         StructField field = fields[index];\r\n\r\n         // Si le champ est nullable d&#39;apr&#232;s le sch&#233;ma et qu&#39;on nous demande de l&#39;ignorer, passer au suivant.\r\n         if (ignorerNonNullables &amp;&amp; field.nullable()) {\r\n            continue;\r\n         }\r\n\r\n         // D&#233;tecter un champ null et le compter.\r\n         if (row.isNullAt(index)) {\r\n            accumulateurs.get(field.name()).add(1L);\r\n         }\r\n      }\r\n   });\r\n\r\n   // Convertir les nombres de champs nulls en pourcentages\r\n   for(StructField champ : fields) {\r\n      Long nombreDeNulsPourLeChamp = accumulateurs.get(champ.name()).value();\r\n         tauxDeChampsNulls.put(champ.name(), (double)nombreDeNulsPourLeChamp / count);\r\n   }\r\n\r\n   // Trier par taux de nullit&#233; et ordre alphab&#233;tique\r\n    tauxDeChampsNulls = tauxDeChampsNulls.entrySet().stream().sorted((a, b) -&gt; {\r\n      if (Objects.equals(a.getValue(), b.getValue()) == false) {\r\n         return Double.compare(a.getValue(), b.getValue());\r\n      }\r\n      else {\r\n         return a.getKey().compareTo(b.getKey());\r\n      }\r\n   }\r\n\r\n   ).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (x, y) -&gt; y, LinkedHashMap::new));\r\n\r\n   tauxDeChampsNulls.forEach((key, value) -&gt; LOGGER.info(&quot;{} : {}&quot;, key, value));\r\n   return tauxDeChampsNulls;\r\n}\r\n```\r\n\r\nends, correctly with this content:\r\n\r\n```log\r\nIl y a 345935 enregistrements dans ce Dataset.\r\ndate_creation_ressource : 0.0\r\ndate_modification_ressource : 0.0\r\nfiletype_ressource : 0.0\r\nid_catalogue : 0.0\r\nid_ressource : 0.0\r\nnombre_downloads_ressource : 0.0\r\nprive_catalogue : 0.0\r\nslug_catalogue : 0.0\r\ntitre_catalogue : 0.0\r\nurl_catalogue : 0.0\r\nurl_ressource : 0.0\r\ntitre_ressource : 0.0036654284764478877\r\nid_organisation_catalogue : 0.02501336956364635\r\norganisation_catalogue : 0.02501336956364635\r\nlicence_catalogue : 0.04796854900487086\r\nformat_ressource : 0.07015479786665126\r\narchive_catalogue : 0.2990417274921589\r\ndescription_ressource : 0.45873646783355254\r\nmime_ressource : 0.4728287105959212\r\nfilesize_ressource : 0.843233555436715\r\nchecksum_type_ressource : 0.8453553413213465\r\nchecksum_valeur_ressource : 0.8453553413213465\r\nmoissonneur_date_modification_ressource : 0.880619191466605\r\nmoissonneur_date_creation_ressource : 0.9292959660051744\r\n```\r\n\r\nWhich allow me to think that I can declare ten fields not nullable, filter one for few pathological values (`titre_ressource` that is exceptionally empty), and the others: nullable.","title":"A supposed unique instance of an object is changing all the time. [Solution found: use Spark Accumulator to avoid concurrency behavior with threads]","body":"<p><strong>Epilog:</strong> You are right, I'm misleading often with that hashcode...</p>\n<p>But if I not able to understand clearly the spark behavior, I've detected that I was inside a story of threads.</p>\n<p>Using a Map, how I've done, was very dangerous and unsafe.</p>\n<p>I had to change to <code>LongAccumulator</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Renvoyer le taux de champs null par nom de champ.\n * @param candidat Dataset à analyser.\n * @param ignorerNonNullables true pour ignorer ceux qui sont déjà marqués comme non nullables dans le schéma.\n * @return Map de champs avec leur taux\n */\npublic Map&lt;String, Double&gt; tauxNullsParChamp(Dataset&lt;Row&gt; candidat, boolean ignorerNonNullables) {\n   long count = candidat.count();\n   Map&lt;String, Double&gt; tauxDeChampsNulls = new LinkedHashMap&lt;&gt;();\n\n   if (count == 0L) {\n      LOGGER.warn(&quot;Le dataset soumis pour comptage de champs nuls n'a aucun enregistrement : le comptage ne peut avoir lieu.&quot;);\n      return tauxDeChampsNulls;\n   }\n\n   LOGGER.info(&quot;Il y a {} enregistrements dans ce Dataset.&quot;, count);\n   StructField[] fields = candidat.schema().fields();\n\n   SparkContext ctx = candidat.sparkSession().sparkContext();\n   Map&lt;String, LongAccumulator&gt; accumulateurs = new HashMap&lt;&gt;();\n\n   for(StructField field : fields) {\n      accumulateurs.put(field.name(), ctx.longAccumulator(field.name()));\n   }\n\n   candidat.foreach((ForeachFunction&lt;Row&gt;)row -&gt; {\n      for(int index = 0; index &lt; fields.length; index ++) {\n         StructField field = fields[index];\n\n         // Si le champ est nullable d'après le schéma et qu'on nous demande de l'ignorer, passer au suivant.\n         if (ignorerNonNullables &amp;&amp; field.nullable()) {\n            continue;\n         }\n\n         // Détecter un champ null et le compter.\n         if (row.isNullAt(index)) {\n            accumulateurs.get(field.name()).add(1L);\n         }\n      }\n   });\n\n   // Convertir les nombres de champs nulls en pourcentages\n   for(StructField champ : fields) {\n      Long nombreDeNulsPourLeChamp = accumulateurs.get(champ.name()).value();\n         tauxDeChampsNulls.put(champ.name(), (double)nombreDeNulsPourLeChamp / count);\n   }\n\n   // Trier par taux de nullité et ordre alphabétique\n    tauxDeChampsNulls = tauxDeChampsNulls.entrySet().stream().sorted((a, b) -&gt; {\n      if (Objects.equals(a.getValue(), b.getValue()) == false) {\n         return Double.compare(a.getValue(), b.getValue());\n      }\n      else {\n         return a.getKey().compareTo(b.getKey());\n      }\n   }\n\n   ).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (x, y) -&gt; y, LinkedHashMap::new));\n\n   tauxDeChampsNulls.forEach((key, value) -&gt; LOGGER.info(&quot;{} : {}&quot;, key, value));\n   return tauxDeChampsNulls;\n}\n</code></pre>\n<p>ends, correctly with this content:</p>\n<pre><code>Il y a 345935 enregistrements dans ce Dataset.\ndate_creation_ressource : 0.0\ndate_modification_ressource : 0.0\nfiletype_ressource : 0.0\nid_catalogue : 0.0\nid_ressource : 0.0\nnombre_downloads_ressource : 0.0\nprive_catalogue : 0.0\nslug_catalogue : 0.0\ntitre_catalogue : 0.0\nurl_catalogue : 0.0\nurl_ressource : 0.0\ntitre_ressource : 0.0036654284764478877\nid_organisation_catalogue : 0.02501336956364635\norganisation_catalogue : 0.02501336956364635\nlicence_catalogue : 0.04796854900487086\nformat_ressource : 0.07015479786665126\narchive_catalogue : 0.2990417274921589\ndescription_ressource : 0.45873646783355254\nmime_ressource : 0.4728287105959212\nfilesize_ressource : 0.843233555436715\nchecksum_type_ressource : 0.8453553413213465\nchecksum_valeur_ressource : 0.8453553413213465\nmoissonneur_date_modification_ressource : 0.880619191466605\nmoissonneur_date_creation_ressource : 0.9292959660051744\n</code></pre>\n<p>Which allow me to think that I can declare ten fields not nullable, filter one for few pathological values (<code>titre_ressource</code> that is exceptionally empty), and the others: nullable.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683878215,"creation_date":1683872649,"question_id":76233626,"body_markdown":"I am running a test that is willing to see how many records of a dataset have null values for each field, in order to ensure I am declaring my schema with the correct nullable indicators.\r\n\r\n```java\r\n@Test\r\n@DisplayName(&quot;Tester la nullit&#233; des champs&quot;)\r\nvoid nullite() {\r\n   DatasetChecker checker = new DatasetChecker();\r\n   Map&lt;String, Double&gt; champs = checker.tauxNullsParChamp(this.ressourceJeuDeDonneesDataset.rowCatalogueRessources((Verification[]) null), false);\r\n}\r\n```\r\n\r\nI have a `Dataset&lt;Row&gt; candidat` with a schema having fields.\r\n\r\n```java\r\npublic Map&lt;String, Double&gt; tauxNullsParChamp(Dataset&lt;Row&gt; candidat, boolean ignorerNonNullables) {\r\n   long count = candidat.count();\r\n   Map&lt;String, Double&gt; tauxDeChampsNulls = new LinkedHashMap&lt;&gt;();\r\n\r\n   if (count == 0L) {\r\n      LOGGER.warn(&quot;Le dataset soumis pour comptage de champs nuls n&#39;a aucun enregistrement : le comptage ne peut avoir lieu.&quot;);\r\n      return tauxDeChampsNulls;\r\n   }\r\n\r\n   LOGGER.info(&quot;Il y a {} enregistrements dans ce Dataset.&quot;, count);\r\n\r\n   StructField[] fields = candidat.schema().fields();\r\n\r\n   final Map&lt;String, Long&gt; nombreDeChampsNulls = new HashMap&lt;&gt;();\r\n   candidat.foreach((ForeachFunction&lt;Row&gt;)row -&gt; compteNulls(nombreDeChampsNulls, row,  fields, ignorerNonNullables));\r\n\r\n   if (nombreDeChampsNulls.isEmpty()) {\r\n      LOGGER.error(&quot;Le dataset n&#39;a aucun champ&quot;);\r\n   }\r\n[...]\r\n```\r\n\r\nand this method is called for each row:\r\n\r\n```java\r\nprivate void compteNulls(Map&lt;String, Long&gt; nombreDeChampsNulls, Row row, StructField[] fields, boolean ignorerNonNullables) {\r\n   for(int index = 0; index &lt; fields.length; index ++) {\r\n      StructField field = fields[index];\r\n       // Si le champ est nullable d&#39;apr&#232;s le sch&#233;ma et qu&#39;on nous demande de l&#39;ignorer, passer au suivant.\r\n      if (ignorerNonNullables &amp;&amp; field.nullable()) {\r\n         continue;\r\n      }\r\n\r\n      Long nombreDeNulls = nombreDeChampsNulls.computeIfAbsent(field.name(), k -&gt; 0L);\r\n\r\n      // D&#233;tecter un champ null et le compter.\r\n      if (row.isNullAt(index)) {\r\n         nombreDeChampsNulls.put(field.name(), nombreDeNulls + 1L);\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nDebugging it, it executes only one  \r\n `final Map&lt;String, Long&gt; nombreDeChampsNulls = new HashMap&lt;&gt;();`\r\nand one  \r\n`DatasetChecker checker = new DatasetChecker();`  \r\nas expected.\r\n\r\nBut putting a breakpoint on `if (ignorerNonNullables &amp;&amp; field.nullable())` shows me a `nombreDeChampsNulls` changing pointer all the time.\r\n\r\nFor example, this will come during the debug session:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd then, later, in the same debug running:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThat, because my `this` object, the `DatasetChecker checker` instance, has changed between each sub method `compteNulls`: from `Datachecker@28199` to `Datachecker@28280`, in example.\r\n\r\nAnd at the end, the test fails on:  \r\n`LOGGER.error(&quot;Le dataset n&#39;a aucun champ&quot;);`\r\n\r\nIf I change the two `DatasetChecker` methods to static, I have an equivalent behavior, targeting `nombreDeChampsNulls` that still change for each row iteration.\r\n\r\nBut how is that possible that the `checker` instance (or the `nombreDeChampsNulls` instance in the second case, with static) change, if they are only instantiated once? One unique time, by a specific `new` for each, alone, and not in a loop.\r\n\r\n  [1]: https://i.stack.imgur.com/AFqmC.png\r\n  [2]: https://i.stack.imgur.com/ZWLS9.png","title":"A supposed unique instance of an object is changing all the time. [Solution found: use Spark Accumulator to avoid concurrency behavior with threads]","body":"<p>I am running a test that is willing to see how many records of a dataset have null values for each field, in order to ensure I am declaring my schema with the correct nullable indicators.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@DisplayName(&quot;Tester la nullité des champs&quot;)\nvoid nullite() {\n   DatasetChecker checker = new DatasetChecker();\n   Map&lt;String, Double&gt; champs = checker.tauxNullsParChamp(this.ressourceJeuDeDonneesDataset.rowCatalogueRessources((Verification[]) null), false);\n}\n</code></pre>\n<p>I have a <code>Dataset&lt;Row&gt; candidat</code> with a schema having fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;String, Double&gt; tauxNullsParChamp(Dataset&lt;Row&gt; candidat, boolean ignorerNonNullables) {\n   long count = candidat.count();\n   Map&lt;String, Double&gt; tauxDeChampsNulls = new LinkedHashMap&lt;&gt;();\n\n   if (count == 0L) {\n      LOGGER.warn(&quot;Le dataset soumis pour comptage de champs nuls n'a aucun enregistrement : le comptage ne peut avoir lieu.&quot;);\n      return tauxDeChampsNulls;\n   }\n\n   LOGGER.info(&quot;Il y a {} enregistrements dans ce Dataset.&quot;, count);\n\n   StructField[] fields = candidat.schema().fields();\n\n   final Map&lt;String, Long&gt; nombreDeChampsNulls = new HashMap&lt;&gt;();\n   candidat.foreach((ForeachFunction&lt;Row&gt;)row -&gt; compteNulls(nombreDeChampsNulls, row,  fields, ignorerNonNullables));\n\n   if (nombreDeChampsNulls.isEmpty()) {\n      LOGGER.error(&quot;Le dataset n'a aucun champ&quot;);\n   }\n[...]\n</code></pre>\n<p>and this method is called for each row:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void compteNulls(Map&lt;String, Long&gt; nombreDeChampsNulls, Row row, StructField[] fields, boolean ignorerNonNullables) {\n   for(int index = 0; index &lt; fields.length; index ++) {\n      StructField field = fields[index];\n       // Si le champ est nullable d'après le schéma et qu'on nous demande de l'ignorer, passer au suivant.\n      if (ignorerNonNullables &amp;&amp; field.nullable()) {\n         continue;\n      }\n\n      Long nombreDeNulls = nombreDeChampsNulls.computeIfAbsent(field.name(), k -&gt; 0L);\n\n      // Détecter un champ null et le compter.\n      if (row.isNullAt(index)) {\n         nombreDeChampsNulls.put(field.name(), nombreDeNulls + 1L);\n      }\n   }\n}\n</code></pre>\n<p>Debugging it, it executes only one<br />\n<code>final Map&lt;String, Long&gt; nombreDeChampsNulls = new HashMap&lt;&gt;();</code>\nand one<br />\n<code>DatasetChecker checker = new DatasetChecker();</code><br />\nas expected.</p>\n<p>But putting a breakpoint on <code>if (ignorerNonNullables &amp;&amp; field.nullable())</code> shows me a <code>nombreDeChampsNulls</code> changing pointer all the time.</p>\n<p>For example, this will come during the debug session:</p>\n<p><a href=\"https://i.stack.imgur.com/AFqmC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AFqmC.png\" alt=\"enter image description here\" /></a></p>\n<p>And then, later, in the same debug running:</p>\n<p><a href=\"https://i.stack.imgur.com/ZWLS9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZWLS9.png\" alt=\"enter image description here\" /></a></p>\n<p>That, because my <code>this</code> object, the <code>DatasetChecker checker</code> instance, has changed between each sub method <code>compteNulls</code>: from <code>Datachecker@28199</code> to <code>Datachecker@28280</code>, in example.</p>\n<p>And at the end, the test fails on:<br />\n<code>LOGGER.error(&quot;Le dataset n'a aucun champ&quot;);</code></p>\n<p>If I change the two <code>DatasetChecker</code> methods to static, I have an equivalent behavior, targeting <code>nombreDeChampsNulls</code> that still change for each row iteration.</p>\n<p>But how is that possible that the <code>checker</code> instance (or the <code>nombreDeChampsNulls</code> instance in the second case, with static) change, if they are only instantiated once? One unique time, by a specific <code>new</code> for each, alone, and not in a loop.</p>\n"},{"tags":["java","spring-boot","spring-security","authorization"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1683839131,"post_id":76225316,"comment_id":134432278,"body_markdown":"Does this answer your question? [Spring security default configuration always throws 401](https://stackoverflow.com/questions/55812923/spring-security-default-configuration-always-throws-401)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55812923/spring-security-default-configuration-always-throws-401\">Spring security default configuration always throws 401</a>"}],"answers":[{"tags":[],"owner":{"account_id":11907781,"reputation":605,"user_id":8713892,"display_name":"Nemgathos"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683792663,"creation_date":1683791906,"answer_id":76225317,"question_id":76225316,"body_markdown":"I finally found out what the problem was. `Spring Security` was not configured properly. When I added the following package and class, everything started to work just fine:\r\n\r\n    package com.pokemonreview.api.security;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\t\r\n    \t@Bean\r\n    \tpublic SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\t\t\r\n    \t\thttpSecurity.csrf()\r\n    \t\t\t\t\t.disable()\r\n    \t\t\t\t\t.authorizeHttpRequests()\r\n    \t\t\t\t\t.requestMatchers(&quot;/api/pokemon/**&quot;)\r\n    \t\t\t\t\t.permitAll();\r\n    \t\treturn httpSecurity.build();\r\n    \t}\r\n    }","title":"Spring Boot: Only Postman “GET” requests allowed when using Spring Boot but not “POST”, “PUT” or “DELETE”; they yield an “401 Unauthorized” error","body":"<p>I finally found out what the problem was. <code>Spring Security</code> was not configured properly. When I added the following package and class, everything started to work just fine:</p>\n<pre><code>package com.pokemonreview.api.security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {   \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {        \n        httpSecurity.csrf()\n                    .disable()\n                    .authorizeHttpRequests()\n                    .requestMatchers(&quot;/api/pokemon/**&quot;)\n                    .permitAll();\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11907781,"reputation":605,"user_id":8713892,"display_name":"Nemgathos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1683877948,"creation_date":1683791906,"question_id":76225316,"body_markdown":"I am new to `Spring Boot` and right now, I am building an application according to [this tutorial][1]. My code looks as follows.\r\n\r\n---\r\n\r\n# Code snippets #\r\n\r\n## `pom.xml` file: ##\r\n\r\n    &lt;?xml version=&quot;1.0&quot;\r\n    \t  encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.pokemonreview&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;api&lt;/name&gt;\r\n    \t&lt;description&gt;Pokemon Review API Course 2022&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.rungroop&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n---\r\n\r\n## `application.properties` file (the simple passwords are no secret and just used for testing purposes): ##\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/pokemonApiCourse\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=postgres\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.security.user.name=test\r\n    spring.security.user.password=test\r\n    spring.jpa.show-sql=true\r\n\r\n---\r\n\r\n## Model: ##\r\n\r\n    package com.pokemonreview.api.models;\r\n    \r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class PokemonEntity {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \tprivate String name;\r\n    \tprivate String type;\r\n    }\r\n\r\n---\r\n\r\n## Controller: ##\r\n\r\n    package com.pokemonreview.api.controllers;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.DeleteMapping;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.PutMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.pokemonreview.api.models.PokemonEntity;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/&quot;)\r\n    public class PokemonController {\r\n    \t@GetMapping(&quot;pokemon&quot;)\r\n    \tpublic ResponseEntity&lt;List&lt;PokemonEntity&gt;&gt; getPokemons() {\r\n    \t\tList&lt;PokemonEntity&gt; pokemonEntities = new ArrayList&lt;PokemonEntity&gt;();\r\n    \t\tpokemonEntities.add(new PokemonEntity(1L, &quot;Squirtle&quot;, &quot;Water&quot;));\r\n    \t\tpokemonEntities.add(new PokemonEntity(2L, &quot;Pikachu&quot;, &quot;Electric&quot;));\r\n    \t\tpokemonEntities.add(new PokemonEntity(3L, &quot;Charmander&quot;, &quot;Fire&quot;));\r\n    \t\treturn ResponseEntity.ok(pokemonEntities);\r\n    \t}\r\n    \t\r\n    \t@GetMapping(&quot;pokemon/{id}&quot;)\r\n    \tpublic PokemonEntity pokemonDetail(@PathVariable Long id) {\r\n    \t\treturn new PokemonEntity(id, &quot;Squirtle&quot;, &quot;Water&quot;);\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;pokemon/create&quot;)\r\n    \t@ResponseStatus(HttpStatus.CREATED)\r\n    \tpublic ResponseEntity&lt;PokemonEntity&gt; createPokemon(@RequestBody PokemonEntity pokemonEntity) {\r\n    \t\tSystem.out.println(pokemonEntity.getName());\r\n    \t\tSystem.out.println(pokemonEntity.getType());\r\n    \t\treturn new ResponseEntity&lt;PokemonEntity&gt;(pokemonEntity, HttpStatus.CREATED);\r\n    \t}\r\n    \t\r\n    \t@PutMapping(&quot;pokemon/{id}/update&quot;)\r\n    \tpublic ResponseEntity&lt;PokemonEntity&gt; updatePokemon(@RequestBody PokemonEntity pokemonEntity,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t   @PathVariable(&quot;id&quot;) Long id) {\r\n    \t\tSystem.out.println(pokemonEntity.getName());\r\n    \t\tSystem.out.println(pokemonEntity.getType());\r\n    \t\treturn ResponseEntity.ok(pokemonEntity);\r\n    \t}\r\n    \t\r\n    \t@DeleteMapping(&quot;pokemon/{id}/delete&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; deletePokemon(@PathVariable(&quot;id&quot;) Long id) {\r\n    \t\tSystem.out.println(id);\r\n    \t\treturn ResponseEntity.ok(&quot;Pokemon deleted successfully&quot;);\r\n    \t}\r\n    }\r\n\r\n---\r\n\r\n## Modifications I have made ##\r\n\r\nPlease note that …\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n… was added by me to the `pom.xml` file but it does *not* make a difference if it is there or not. An authentication is *always* required – *no matter* if the `Spring Security` dependency is added or not! (Why is that? In the tutorial, *no* authorisation is required!) – and if I do not add the two lines …\r\n\r\n    spring.security.user.name=test\r\n    spring.security.user.password=test\r\n\r\n… to the `application.properties` file, a password for the user `user` is generated every time I start up the `Spring Boot` application.\r\n\r\nAlso, my `id` variable is not an `int`, as demonstrated in the tutorial, but a `Long`.\r\n\r\nFurthermore, please note that `javax.persistence` packages are used in the tutorial. The only packages that are suggested to me are `jakarta.persistence` packages.\r\n\r\n---\r\n\r\n# `Postman` problems: Only `GET` requests are allowed #\r\n\r\nI am using `Postman` in order to test `GET`, `POST`, `PUT` and `DELETE` requests but only `GET` requests work. *Every time*, the options in my `Authorization` tab are set as follows:\r\n\r\n- **`Type:`** `Basic Auth`\r\n  - **`Username:`** `test`\r\n  - **`Password:`** `test`\r\n\r\n## Working `GET` requests ##\r\n\r\nThe first `GET` request on `http://localhost:8080/api/pokemon` yields the following result:\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Squirtle&quot;,\r\n            &quot;type&quot;: &quot;Water&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;name&quot;: &quot;Pikachu&quot;,\r\n            &quot;type&quot;: &quot;Electric&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 3,\r\n            &quot;name&quot;: &quot;Charmander&quot;,\r\n            &quot;type&quot;: &quot;Fire&quot;\r\n        }\r\n    ]\r\n\r\nThe result of the second `GET` request on `http://localhost:8080/api/pokemon/5` is as follows:\r\n\r\n    {\r\n        &quot;id&quot;: 5,\r\n        &quot;name&quot;: &quot;Squirtle&quot;,\r\n        &quot;type&quot;: &quot;Water&quot;\r\n    }\r\n\r\n## Failing `POST`, `PUT` and `DELETE` requests ##\r\n\r\nThe `POST` request is conducted on `http://localhost:8080/api/pokemon/create` and in the `Body` tab, `raw` and `JSON` are selected and the following is inserted:\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Pidgey&quot;,\r\n        &quot;type&quot;: &quot;Earth&quot;\r\n    }\r\n\r\nIf I now click on &lt;kbd&gt;`Send`&lt;/kbd&gt;, nothing is returned and the status `401 Unauthorized` is displayed.\r\n\r\nThe `PUT` (`http://localhost:8080/api/pokemon/5/update`) and `DELETE` (`http://localhost:8080/api/pokemon/5/delete`) requests yield the same results.\r\n\r\nWhat is wrong? In the tutorial, everything works just fine and I already tried tweaking the `pom.xml` and `application.properties` files in many ways according to the solutions I found on the internet but all of this has not solved my problem.\r\n\r\n  [1]: https://www.youtube.com/watch?v=3idkW2fkXKA&amp;t=9m38s","title":"Spring Boot: Only Postman “GET” requests allowed when using Spring Boot but not “POST”, “PUT” or “DELETE”; they yield an “401 Unauthorized” error","body":"<p>I am new to <code>Spring Boot</code> and right now, I am building an application according to <a href=\"https://www.youtube.com/watch?v=3idkW2fkXKA&amp;t=9m38s\" rel=\"nofollow noreferrer\">this tutorial</a>. My code looks as follows.</p>\n<hr />\n<h1>Code snippets</h1>\n<h2><code>pom.xml</code> file:</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot;\n      encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.pokemonreview&lt;/groupId&gt;\n    &lt;artifactId&gt;api&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;api&lt;/name&gt;\n    &lt;description&gt;Pokemon Review API Course 2022&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.rungroop&lt;/groupId&gt;\n            &lt;artifactId&gt;web&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<hr />\n<h2><code>application.properties</code> file (the simple passwords are no secret and just used for testing purposes):</h2>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/pokemonApiCourse\nspring.datasource.username=postgres\nspring.datasource.password=postgres\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.security.user.name=test\nspring.security.user.password=test\nspring.jpa.show-sql=true\n</code></pre>\n<hr />\n<h2>Model:</h2>\n<pre><code>package com.pokemonreview.api.models;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class PokemonEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String type;\n}\n</code></pre>\n<hr />\n<h2>Controller:</h2>\n<pre><code>package com.pokemonreview.api.controllers;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.pokemonreview.api.models.PokemonEntity;\n\n@RestController\n@RequestMapping(&quot;/api/&quot;)\npublic class PokemonController {\n    @GetMapping(&quot;pokemon&quot;)\n    public ResponseEntity&lt;List&lt;PokemonEntity&gt;&gt; getPokemons() {\n        List&lt;PokemonEntity&gt; pokemonEntities = new ArrayList&lt;PokemonEntity&gt;();\n        pokemonEntities.add(new PokemonEntity(1L, &quot;Squirtle&quot;, &quot;Water&quot;));\n        pokemonEntities.add(new PokemonEntity(2L, &quot;Pikachu&quot;, &quot;Electric&quot;));\n        pokemonEntities.add(new PokemonEntity(3L, &quot;Charmander&quot;, &quot;Fire&quot;));\n        return ResponseEntity.ok(pokemonEntities);\n    }\n    \n    @GetMapping(&quot;pokemon/{id}&quot;)\n    public PokemonEntity pokemonDetail(@PathVariable Long id) {\n        return new PokemonEntity(id, &quot;Squirtle&quot;, &quot;Water&quot;);\n    }\n    \n    @PostMapping(&quot;pokemon/create&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n    public ResponseEntity&lt;PokemonEntity&gt; createPokemon(@RequestBody PokemonEntity pokemonEntity) {\n        System.out.println(pokemonEntity.getName());\n        System.out.println(pokemonEntity.getType());\n        return new ResponseEntity&lt;PokemonEntity&gt;(pokemonEntity, HttpStatus.CREATED);\n    }\n    \n    @PutMapping(&quot;pokemon/{id}/update&quot;)\n    public ResponseEntity&lt;PokemonEntity&gt; updatePokemon(@RequestBody PokemonEntity pokemonEntity,\n                                                       @PathVariable(&quot;id&quot;) Long id) {\n        System.out.println(pokemonEntity.getName());\n        System.out.println(pokemonEntity.getType());\n        return ResponseEntity.ok(pokemonEntity);\n    }\n    \n    @DeleteMapping(&quot;pokemon/{id}/delete&quot;)\n    public ResponseEntity&lt;String&gt; deletePokemon(@PathVariable(&quot;id&quot;) Long id) {\n        System.out.println(id);\n        return ResponseEntity.ok(&quot;Pokemon deleted successfully&quot;);\n    }\n}\n</code></pre>\n<hr />\n<h2>Modifications I have made</h2>\n<p>Please note that …</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;version&gt;3.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>… was added by me to the <code>pom.xml</code> file but it does <em>not</em> make a difference if it is there or not. An authentication is <em>always</em> required – <em>no matter</em> if the <code>Spring Security</code> dependency is added or not! (Why is that? In the tutorial, <em>no</em> authorisation is required!) – and if I do not add the two lines …</p>\n<pre><code>spring.security.user.name=test\nspring.security.user.password=test\n</code></pre>\n<p>… to the <code>application.properties</code> file, a password for the user <code>user</code> is generated every time I start up the <code>Spring Boot</code> application.</p>\n<p>Also, my <code>id</code> variable is not an <code>int</code>, as demonstrated in the tutorial, but a <code>Long</code>.</p>\n<p>Furthermore, please note that <code>javax.persistence</code> packages are used in the tutorial. The only packages that are suggested to me are <code>jakarta.persistence</code> packages.</p>\n<hr />\n<h1><code>Postman</code> problems: Only <code>GET</code> requests are allowed</h1>\n<p>I am using <code>Postman</code> in order to test <code>GET</code>, <code>POST</code>, <code>PUT</code> and <code>DELETE</code> requests but only <code>GET</code> requests work. <em>Every time</em>, the options in my <code>Authorization</code> tab are set as follows:</p>\n<ul>\n<li><strong><code>Type:</code></strong> <code>Basic Auth</code>\n<ul>\n<li><strong><code>Username:</code></strong> <code>test</code></li>\n<li><strong><code>Password:</code></strong> <code>test</code></li>\n</ul>\n</li>\n</ul>\n<h2>Working <code>GET</code> requests</h2>\n<p>The first <code>GET</code> request on <code>http://localhost:8080/api/pokemon</code> yields the following result:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Squirtle&quot;,\n        &quot;type&quot;: &quot;Water&quot;\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;Pikachu&quot;,\n        &quot;type&quot;: &quot;Electric&quot;\n    },\n    {\n        &quot;id&quot;: 3,\n        &quot;name&quot;: &quot;Charmander&quot;,\n        &quot;type&quot;: &quot;Fire&quot;\n    }\n]\n</code></pre>\n<p>The result of the second <code>GET</code> request on <code>http://localhost:8080/api/pokemon/5</code> is as follows:</p>\n<pre><code>{\n    &quot;id&quot;: 5,\n    &quot;name&quot;: &quot;Squirtle&quot;,\n    &quot;type&quot;: &quot;Water&quot;\n}\n</code></pre>\n<h2>Failing <code>POST</code>, <code>PUT</code> and <code>DELETE</code> requests</h2>\n<p>The <code>POST</code> request is conducted on <code>http://localhost:8080/api/pokemon/create</code> and in the <code>Body</code> tab, <code>raw</code> and <code>JSON</code> are selected and the following is inserted:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Pidgey&quot;,\n    &quot;type&quot;: &quot;Earth&quot;\n}\n</code></pre>\n<p>If I now click on <kbd><code>Send</code></kbd>, nothing is returned and the status <code>401 Unauthorized</code> is displayed.</p>\n<p>The <code>PUT</code> (<code>http://localhost:8080/api/pokemon/5/update</code>) and <code>DELETE</code> (<code>http://localhost:8080/api/pokemon/5/delete</code>) requests yield the same results.</p>\n<p>What is wrong? In the tutorial, everything works just fine and I already tried tweaking the <code>pom.xml</code> and <code>application.properties</code> files in many ways according to the solutions I found on the internet but all of this has not solved my problem.</p>\n"},{"tags":["java","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683877759,"creation_date":1683877759,"answer_id":76234192,"question_id":76233361,"body_markdown":"From [the documentation]\r\n\r\n&gt; This is a convenience method for local management use and is equivalent to calling:  \r\n&gt; &lt;code&gt;[getThreadAllocatedBytes][1](Thread.currentThread().getId());&lt;/code&gt;\r\n\r\nThe [linked method `getThreadAllocatedBytes​(long id)`][1] does already exists in Java&#160;8. Since `com.sun.management.ThreadMXBean` is a non-standard extension to `java.lang.management.ThreadMXBean` you may invoke the method dynamically, to avoid a hard-coded dependency:\r\n\r\n```java\r\ntry {\r\n  long bytes = (Long)ManagementFactory.getPlatformMBeanServer()\r\n     .invoke(new ObjectName(&quot;java.lang:type=Threading&quot;), &quot;getThreadAllocatedBytes&quot;,\r\n         new Object[] { Thread.currentThread().getId() }, new String[] { &quot;long&quot; });\r\n  System.out.println(bytes);\r\n} catch(JMException ex) {\r\n  ex.printStackTrace();\r\n}\r\n```\r\n\r\nBut if you use a build tool that doesn’t enforce restrictions, to use the official API only, the following would also work with Java&#160;8 and the reference implementation:\r\n\r\n```java\r\nimport java.lang.management.ManagementFactory;\r\nimport com.sun.management.ThreadMXBean;\r\n\r\npublic class MxTest {\r\n  public static void main(String[] args) {\r\n    ThreadMXBean tmxb = (ThreadMXBean)ManagementFactory.getThreadMXBean();\r\n    long bytes = tmxb.getThreadAllocatedBytes(Thread.currentThread().getId());\r\n    System.out.println(bytes);\r\n  }\r\n}\r\n```\r\n\r\nNote that there is a small possibility of failure due to the fact that `getId()` is not `final` and hence, a subclass of `Thread` could override it and return whatever it wants. That’s why JDK&#160;19 has deprecated it and added a new `final` method `threadId()`. But in Java&#160;8, you have to go with `getId()`. Just be aware of this possibility which hopefully never occurs.\r\n\r\n[the documentation]: https://docs.oracle.com/en/java/javase/14/docs/api/jdk.management/com/sun/management/ThreadMXBean.html#getCurrentThreadAllocatedBytes()\r\n[1]: https://docs.oracle.com/en/java/javase/14/docs/api/jdk.management/com/sun/management/ThreadMXBean.html#getThreadAllocatedBytes(long)","title":"ThreadMXBean.getCurrentThreadAllocatedBytes Java 8 alternative?","body":"<p>From <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/jdk.management/com/sun/management/ThreadMXBean.html#getCurrentThreadAllocatedBytes()\" rel=\"nofollow noreferrer\">the documentation</a></p>\n<blockquote>\n<p>This is a convenience method for local management use and is equivalent to calling:<br />\n<code><a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/jdk.management/com/sun/management/ThreadMXBean.html#getThreadAllocatedBytes(long)\" rel=\"nofollow noreferrer\">getThreadAllocatedBytes</a>(Thread.currentThread().getId());</code></p>\n</blockquote>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/jdk.management/com/sun/management/ThreadMXBean.html#getThreadAllocatedBytes(long)\" rel=\"nofollow noreferrer\">linked method <code>getThreadAllocatedBytes​(long id)</code></a> does already exists in Java 8. Since <code>com.sun.management.ThreadMXBean</code> is a non-standard extension to <code>java.lang.management.ThreadMXBean</code> you may invoke the method dynamically, to avoid a hard-coded dependency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  long bytes = (Long)ManagementFactory.getPlatformMBeanServer()\n     .invoke(new ObjectName(&quot;java.lang:type=Threading&quot;), &quot;getThreadAllocatedBytes&quot;,\n         new Object[] { Thread.currentThread().getId() }, new String[] { &quot;long&quot; });\n  System.out.println(bytes);\n} catch(JMException ex) {\n  ex.printStackTrace();\n}\n</code></pre>\n<p>But if you use a build tool that doesn’t enforce restrictions, to use the official API only, the following would also work with Java 8 and the reference implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.management.ManagementFactory;\nimport com.sun.management.ThreadMXBean;\n\npublic class MxTest {\n  public static void main(String[] args) {\n    ThreadMXBean tmxb = (ThreadMXBean)ManagementFactory.getThreadMXBean();\n    long bytes = tmxb.getThreadAllocatedBytes(Thread.currentThread().getId());\n    System.out.println(bytes);\n  }\n}\n</code></pre>\n<p>Note that there is a small possibility of failure due to the fact that <code>getId()</code> is not <code>final</code> and hence, a subclass of <code>Thread</code> could override it and return whatever it wants. That’s why JDK 19 has deprecated it and added a new <code>final</code> method <code>threadId()</code>. But in Java 8, you have to go with <code>getId()</code>. Just be aware of this possibility which hopefully never occurs.</p>\n"}],"owner":{"account_id":400169,"reputation":6286,"user_id":766006,"accept_rate":74,"display_name":"sternr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76234192,"answer_count":1,"score":0,"last_activity_date":1683877759,"creation_date":1683869164,"question_id":76233361,"body_markdown":"In java 11 and up there&#39;s MXBeans.getCurrentThreadAllocatedBytes to get allocation information per thread, but this API isn&#39;t available in Java 8.\r\n\r\nIs there any other way (without triggering a heap dump) I can get the allocation statistics per thread in Java 8?","title":"ThreadMXBean.getCurrentThreadAllocatedBytes Java 8 alternative?","body":"<p>In java 11 and up there's MXBeans.getCurrentThreadAllocatedBytes to get allocation information per thread, but this API isn't available in Java 8.</p>\n<p>Is there any other way (without triggering a heap dump) I can get the allocation statistics per thread in Java 8?</p>\n"},{"tags":["java","maven","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683877700,"creation_date":1683877700,"answer_id":76234183,"question_id":76233381,"body_markdown":"So, first of all, one should try to make the local builds faster, i.e.\r\n\r\n- check if some tests are overly complicated\r\n- move integration tests from the `test` phase to the `integration-test` phase\r\n- Use parallel builds\r\n\r\nWhen the long running tests are only part of `integration-test`, you can avoid running them locally, you just run them on the build server.\r\n\r\nOn the build server, you can try to construct a pattern as you described. How you exactly do this depends of course on the build server you use.\r\n\r\nThe general approach could be:\r\n\r\n1. Find out which modules changed by looking at changed directories in git. This could e.g. be done via a shell script and maybe some perl.\r\n2. Run something `mvn clean deploy -pl module1,module2 -amd`. This will automatically figure out the dependant modules.\r\n\r\n","title":"Is there a maven plugin to analyze the project dependencies before running unit tests?","body":"<p>So, first of all, one should try to make the local builds faster, i.e.</p>\n<ul>\n<li>check if some tests are overly complicated</li>\n<li>move integration tests from the <code>test</code> phase to the <code>integration-test</code> phase</li>\n<li>Use parallel builds</li>\n</ul>\n<p>When the long running tests are only part of <code>integration-test</code>, you can avoid running them locally, you just run them on the build server.</p>\n<p>On the build server, you can try to construct a pattern as you described. How you exactly do this depends of course on the build server you use.</p>\n<p>The general approach could be:</p>\n<ol>\n<li>Find out which modules changed by looking at changed directories in git. This could e.g. be done via a shell script and maybe some perl.</li>\n<li>Run something <code>mvn clean deploy -pl module1,module2 -amd</code>. This will automatically figure out the dependant modules.</li>\n</ol>\n"}],"owner":{"account_id":198567,"reputation":706,"user_id":443309,"accept_rate":25,"display_name":"gkns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683877700,"creation_date":1683869429,"question_id":76233381,"body_markdown":"I have a maven-built java project where the `test` phase takes approximately 1 hour.\r\n\r\nHowever, after moving to `mvnd` (https://github.com/apache/maven-mvnd), tests now take ~32 minutes. (Further, I also tried graalVM with a `native` Profile in POM. However, no noticeable difference is seen.)\r\n\r\nIt is a multi-module project and I have a feeling the test phase can still run within a fraction of 32 minutes If there was a mechanism to analyse the tests needed to be run based on something like the below:\r\n\r\n1. List the changed source files in the current build and the modules containing them. (I understand maven builds entire project and no notion of &#39;changed&#39; files which is best left to git/version control)\r\n2. List the projects that use these modules i.e. those having this module as a dependency)\r\n3. Compile the entire project; however, run the tests only on the set of modules in [1] and [2] \r\n\r\nQuestions:\r\n----------\r\n1. Is this assumption correct?\r\n2. If so, is there already a plugin that can help with such optimization?","title":"Is there a maven plugin to analyze the project dependencies before running unit tests?","body":"<p>I have a maven-built java project where the <code>test</code> phase takes approximately 1 hour.</p>\n<p>However, after moving to <code>mvnd</code> (<a href=\"https://github.com/apache/maven-mvnd\" rel=\"nofollow noreferrer\">https://github.com/apache/maven-mvnd</a>), tests now take ~32 minutes. (Further, I also tried graalVM with a <code>native</code> Profile in POM. However, no noticeable difference is seen.)</p>\n<p>It is a multi-module project and I have a feeling the test phase can still run within a fraction of 32 minutes If there was a mechanism to analyse the tests needed to be run based on something like the below:</p>\n<ol>\n<li>List the changed source files in the current build and the modules containing them. (I understand maven builds entire project and no notion of 'changed' files which is best left to git/version control)</li>\n<li>List the projects that use these modules i.e. those having this module as a dependency)</li>\n<li>Compile the entire project; however, run the tests only on the set of modules in [1] and [2]</li>\n</ol>\n<h2>Questions:</h2>\n<ol>\n<li>Is this assumption correct?</li>\n<li>If so, is there already a plugin that can help with such optimization?</li>\n</ol>\n"},{"tags":["java","web-services","jakarta-ee","wsdl2java"],"comments":[{"owner":{"account_id":354993,"reputation":1344,"user_id":693671,"accept_rate":90,"display_name":"Tim"},"score":0,"creation_date":1422888453,"post_id":28279811,"comment_id":44914585,"body_markdown":"Is this two way SSL or one way?","body":"Is this two way SSL or one way?"},{"owner":{"account_id":354993,"reputation":1344,"user_id":693671,"accept_rate":90,"display_name":"Tim"},"score":0,"creation_date":1422888902,"post_id":28279811,"comment_id":44914865,"body_markdown":"Try adding: -Djavax.net.debug=ssl to your java args, and see if that produces more pertinent logs.","body":"Try adding: -Djavax.net.debug=ssl to your java args, and see if that produces more pertinent logs."},{"owner":{"account_id":5722174,"reputation":11,"user_id":4520299,"display_name":"Subhankar Das"},"score":0,"creation_date":1422953990,"post_id":28279811,"comment_id":44942271,"body_markdown":"No.. It is not generating more logs..I am trying to access http wsdl end points. I can not understand why it is throwing SSLKeyException.","body":"No.. It is not generating more logs..I am trying to access http wsdl end points. I can not understand why it is throwing SSLKeyException."},{"owner":{"account_id":5722174,"reputation":11,"user_id":4520299,"display_name":"Subhankar Das"},"score":0,"creation_date":1422965515,"post_id":28279811,"comment_id":44948970,"body_markdown":"is that I need to have server certificate? If yes then how can I get this?","body":"is that I need to have server certificate? If yes then how can I get this?"},{"owner":{"account_id":16650,"reputation":6289,"user_id":36510,"accept_rate":57,"display_name":"nevster"},"score":0,"creation_date":1432267597,"post_id":28279811,"comment_id":48883417,"body_markdown":"Try turning on Environment &gt; Servers &gt; [my server] &gt; SSL &gt; Advanced &gt; Use JSSE SSL as per http://stackoverflow.com/questions/27928157/cannot-access-https-from-weblogic","body":"Try turning on Environment &gt; Servers &gt; [my server] &gt; SSL &gt; Advanced &gt; Use JSSE SSL as per <a href=\"http://stackoverflow.com/questions/27928157/cannot-access-https-from-weblogic\" title=\"cannot access https from weblogic\">stackoverflow.com/questions/27928157/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7107334,"reputation":1,"user_id":5436561,"display_name":"Ashutosh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1444658478,"creation_date":1444651153,"answer_id":33080570,"question_id":28279811,"body_markdown":"Add this in startup params\r\n\r\n    -DUseSunHttpHandler=true \r\n    -Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl \r\n    -Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl","title":"javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received","body":"<p>Add this in startup params</p>\n\n<pre><code>-DUseSunHttpHandler=true \n-Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl \n-Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5290004,"reputation":577,"user_id":4222875,"display_name":"Yusuf Kapasi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502270002,"creation_date":1502270002,"answer_id":45586370,"question_id":28279811,"body_markdown":"I was able to get resolve the exception by updating \\Oracle\\Middleware\\user_projects\\domains\\my_domain\\bin\\setDomainEnv.cmd with below commands\r\n\r\n    set JAVA_OPTIONS=%JAVA_OPTIONS% -DUseSunHttpHandler=true -Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl -Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl\r\n","title":"javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received","body":"<p>I was able to get resolve the exception by updating \\Oracle\\Middleware\\user_projects\\domains\\my_domain\\bin\\setDomainEnv.cmd with below commands</p>\n\n<pre><code>set JAVA_OPTIONS=%JAVA_OPTIONS% -DUseSunHttpHandler=true -Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl -Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11573339,"reputation":11,"user_id":8479478,"display_name":"shailesh shinde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502990374,"creation_date":1502988364,"answer_id":45740834,"question_id":28279811,"body_markdown":"Fixed this issue by adding following lines in JVM arguments.\r\n\r\n    -Dweblogic.security.SSL.nojce=true \r\n    -Dweblogic.ssl.JSSEEnabled=true \r\n    -Dweblogic.security.SSL.enableJSSE=true\r\n   \r\nDon&#39;t forget to recycle JVM. :)","title":"javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received","body":"<p>Fixed this issue by adding following lines in JVM arguments.</p>\n\n<pre><code>-Dweblogic.security.SSL.nojce=true \n-Dweblogic.ssl.JSSEEnabled=true \n-Dweblogic.security.SSL.enableJSSE=true\n</code></pre>\n\n<p>Don't forget to recycle JVM. :)</p>\n"},{"tags":[],"owner":{"account_id":9533638,"reputation":11,"user_id":7084464,"display_name":"anim8r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683877550,"creation_date":1645768363,"answer_id":71261612,"question_id":28279811,"body_markdown":"I was getting a similar when trying to upload a file to an S3 Bucket on AWS from a WebLogic application.  I added the following lines\r\n\r\n    JAVA_OPTIONS=&quot;${JAVA_OPTIONS} -DUseSunHttpHandler=true -Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl -Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl&quot; \r\n    \r\n    just before this command\r\n    \r\n    JAVA_OPTIONS=&quot;${JAVA_OPTIONS}&quot;\r\n    export JAVA_OPTIONS\r\n\r\nin \r\n\r\n    \\Oracle\\Middleware\\user_projects\\domains\\my_domain\\bin\\setDomainEnv.cmd \r\n\r\nand my issue was resolved.  Just make sure to restart WebLogic after the amendment.\r\n","title":"javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received","body":"<p>I was getting a similar when trying to upload a file to an S3 Bucket on AWS from a WebLogic application.  I added the following lines</p>\n<pre><code>JAVA_OPTIONS=&quot;${JAVA_OPTIONS} -DUseSunHttpHandler=true -Dssl.SocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl -Dssl.ServerSocketFactory.provider=sun.security.ssl.SSLSocketFactoryImpl&quot; \n\njust before this command\n\nJAVA_OPTIONS=&quot;${JAVA_OPTIONS}&quot;\nexport JAVA_OPTIONS\n</code></pre>\n<p>in</p>\n<pre><code>\\Oracle\\Middleware\\user_projects\\domains\\my_domain\\bin\\setDomainEnv.cmd \n</code></pre>\n<p>and my issue was resolved.  Just make sure to restart WebLogic after the amendment.</p>\n"}],"owner":{"account_id":5722174,"reputation":11,"user_id":4520299,"display_name":"Subhankar Das"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15225,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1683877550,"creation_date":1422886887,"question_id":28279811,"body_markdown":"I am getting this below error when trying to access an WSDL endpoint.\r\n\r\nFirst I have created the client jar using cliengen ant task and then created a simple java class to test the wsdl end point and I am getting below error-\r\n\r\n    javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received.\r\n    \tat com.certicom.tls.interfaceimpl.TLSConnectionImpl.fireException(Unknown Source)\r\n    \tat com.certicom.tls.interfaceimpl.TLSConnectionImpl.fireAlertSent(Unknown Source)\r\n    \tat com.certicom.tls.record.handshake.HandshakeHandler.fireAlert(Unknown Source)\r\n    \tat com.certicom.tls.record.handshake.HandshakeHandler.handleHandshakeMessages(Unknown Source)\r\n    \tat com.certicom.tls.record.MessageInterpreter.interpretContent(Unknown Source)\r\n    \tat com.certicom.tls.record.MessageInterpreter.decryptMessage(Unknown Source)\r\n    \tat com.certicom.tls.record.ReadHandler.processRecord(Unknown Source)\r\n    \tat com.certicom.tls.record.ReadHandler.readRecord(Unknown Source)\r\n    \tat com.certicom.tls.record.ReadHandler.readUntilHandshakeComplete(Unknown Source)\r\n    \tat com.certicom.tls.interfaceimpl.TLSConnectionImpl.completeHandshake(Unknown Source)\r\n    \tat com.certicom.tls.record.WriteHandler.write(Unknown Source)\r\n    \tat com.certicom.io.OutputSSLIOStreamWrapper.write(Unknown Source)\r\n    \tat java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:66)\r\n    \tat java.io.BufferedOutputStream.write(BufferedOutputStream.java:105)\r\n    \tat java.io.FilterOutputStream.write(FilterOutputStream.java:80)\r\n    \tat weblogic.webservice.binding.soap.HttpClientBinding.writeToStream(HttpClientBinding.java:430)\r\n    \tat weblogic.webservice.binding.soap.HttpClientBinding.send(HttpClientBinding.java:219)\r\n    \tat weblogic.webservice.core.handler.ClientHandler.handleRequest(ClientHandler.java:37)\r\n    \tat weblogic.webservice.core.HandlerChainImpl.handleRequest(HandlerChainImpl.java:143)\r\n    \tat weblogic.webservice.core.ClientDispatcher.send(ClientDispatcher.java:231)\r\n    \tat weblogic.webservice.core.ClientDispatcher.dispatch(ClientDispatcher.java:143)\r\n    \tat weblogic.webservice.core.DefaultOperation.invoke(DefaultOperation.java:471)\r\n    \tat weblogic.webservice.core.DefaultOperation.invoke(DefaultOperation.java:457)\r\n    \tat weblogic.webservice.core.rpc.StubImpl._invoke(StubImpl.java:303)\r\n\r\n\r\nCan anyone help?","title":"javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received","body":"<p>I am getting this below error when trying to access an WSDL endpoint.</p>\n\n<p>First I have created the client jar using cliengen ant task and then created a simple java class to test the wsdl end point and I am getting below error-</p>\n\n<pre><code>javax.net.ssl.SSLKeyException: FATAL Alert:BAD_CERTIFICATE - A corrupt or unuseable certificate was received.\n    at com.certicom.tls.interfaceimpl.TLSConnectionImpl.fireException(Unknown Source)\n    at com.certicom.tls.interfaceimpl.TLSConnectionImpl.fireAlertSent(Unknown Source)\n    at com.certicom.tls.record.handshake.HandshakeHandler.fireAlert(Unknown Source)\n    at com.certicom.tls.record.handshake.HandshakeHandler.handleHandshakeMessages(Unknown Source)\n    at com.certicom.tls.record.MessageInterpreter.interpretContent(Unknown Source)\n    at com.certicom.tls.record.MessageInterpreter.decryptMessage(Unknown Source)\n    at com.certicom.tls.record.ReadHandler.processRecord(Unknown Source)\n    at com.certicom.tls.record.ReadHandler.readRecord(Unknown Source)\n    at com.certicom.tls.record.ReadHandler.readUntilHandshakeComplete(Unknown Source)\n    at com.certicom.tls.interfaceimpl.TLSConnectionImpl.completeHandshake(Unknown Source)\n    at com.certicom.tls.record.WriteHandler.write(Unknown Source)\n    at com.certicom.io.OutputSSLIOStreamWrapper.write(Unknown Source)\n    at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:66)\n    at java.io.BufferedOutputStream.write(BufferedOutputStream.java:105)\n    at java.io.FilterOutputStream.write(FilterOutputStream.java:80)\n    at weblogic.webservice.binding.soap.HttpClientBinding.writeToStream(HttpClientBinding.java:430)\n    at weblogic.webservice.binding.soap.HttpClientBinding.send(HttpClientBinding.java:219)\n    at weblogic.webservice.core.handler.ClientHandler.handleRequest(ClientHandler.java:37)\n    at weblogic.webservice.core.HandlerChainImpl.handleRequest(HandlerChainImpl.java:143)\n    at weblogic.webservice.core.ClientDispatcher.send(ClientDispatcher.java:231)\n    at weblogic.webservice.core.ClientDispatcher.dispatch(ClientDispatcher.java:143)\n    at weblogic.webservice.core.DefaultOperation.invoke(DefaultOperation.java:471)\n    at weblogic.webservice.core.DefaultOperation.invoke(DefaultOperation.java:457)\n    at weblogic.webservice.core.rpc.StubImpl._invoke(StubImpl.java:303)\n</code></pre>\n\n<p>Can anyone help?</p>\n"},{"tags":["java","spring-boot","authentication","backend"],"answers":[{"tags":[],"owner":{"account_id":28301735,"reputation":61,"user_id":21640328,"display_name":"dannyRouge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683809684,"creation_date":1683809684,"answer_id":76227874,"question_id":76227575,"body_markdown":"Try this \r\n```\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n...\r\n\r\nprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n...\r\n\r\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\nauth.userDetailsService(userDetailsServiceImpl).passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n```","title":"problems adding user with password encoder","body":"<p>Try this</p>\n<pre><code>import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n...\n\nprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\n...\n\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\nauth.userDetailsService(userDetailsServiceImpl).passwordEncoder(bCryptPasswordEncoder);\n    }\n</code></pre>\n"}],"owner":{"account_id":27559452,"reputation":13,"user_id":21032796,"display_name":"Programmer-G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683877513,"creation_date":1683807518,"question_id":76227575,"body_markdown":"This is the error that appears when I try to create a new user\r\n`&quot;message&quot;: &quot;Cannot invoke \\&quot;org.springframework.security.crypto.password.PasswordEncoder.encode(java.lang.CharSequence)\\&quot; because \\&quot;this.passwordEncoder\\&quot; is null&quot;,     &quot;path&quot;: &quot;/auth/nuevo&quot;`\r\n\r\nthis is my code MainSecurity:\r\n\r\n\\`\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class MainSecurity {\r\n\r\n    @Autowired\r\n    UserDetailsImpl userDetailsServiceImpl;\r\n\r\n    @Autowired\r\n    JwtEntryPoint jwtEntryPoint;\r\n\r\n    @Bean\r\n    public JwtTokenFilter jwtTokenFilter() {\r\n        return new JwtTokenFilter();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsServiceImpl).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\r\n            throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(jwtEntryPoint).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n            http\r\n.addFilterBefore(jwtTokenFilter()\r\n, UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\\`\r\n\r\nI can&#39;t find how to solve the error.I am using spring-boot version 3.0.6, if you need more information, please let me know.","title":"problems adding user with password encoder","body":"<p>This is the error that appears when I try to create a new user\n<code>&quot;message&quot;: &quot;Cannot invoke \\&quot;org.springframework.security.crypto.password.PasswordEncoder.encode(java.lang.CharSequence)\\&quot; because \\&quot;this.passwordEncoder\\&quot; is null&quot;,     &quot;path&quot;: &quot;/auth/nuevo&quot;</code></p>\n<p>this is my code MainSecurity:</p>\n<p>`</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class MainSecurity {\n\n    @Autowired\n    UserDetailsImpl userDetailsServiceImpl;\n\n    @Autowired\n    JwtEntryPoint jwtEntryPoint;\n\n    @Bean\n    public JwtTokenFilter jwtTokenFilter() {\n        return new JwtTokenFilter();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsServiceImpl).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\n            throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(jwtEntryPoint).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/**&quot;).permitAll()\n                .anyRequest().authenticated();\n            http\n.addFilterBefore(jwtTokenFilter()\n, UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>`</p>\n<p>I can't find how to solve the error.I am using spring-boot version 3.0.6, if you need more information, please let me know.</p>\n"},{"tags":["java","json","spring-boot","inheritance","json-deserialization"],"owner":{"account_id":18515353,"reputation":1,"user_id":13489609,"display_name":"Mayank Vashishtha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683876594,"creation_date":1683876594,"question_id":76234062,"body_markdown":"Considering a Multi level inheritance scenario among ParentInterface -&gt; ParentClass -&gt; ChildClass POJOs. I need to use return type as Interface in my `ResponseEntity&lt;ParentInterface&gt;` Controller&#39;s `GET` call. Now, as per some logic, I need to either set the object of ParentClass or ChildClass in the Interface variable. But the response always contains the `parentClassProperty`. \r\n\r\n\r\n**Parent Interface**\r\n```\r\ninterface ParentInterface {\r\n  String parentClassProperty;\r\n}\r\n```\r\n\r\n**Parent Class**\r\n```\r\n@Data\r\n@Builder(toBuilder = true)\r\n@JsonInclude\r\n@JsonDeserialize(builder = ParentClass.ParentClassBuilder.class)\r\nclass ParentClass implements ParentInterface {\r\nString parentClassProperty;\r\n\r\n  @JsonPOJOBuilder(withPrefix = &quot;&quot;)\r\n  @JsonIgnoreProperties(ignoreUnknown = true)\r\n  public static class ParentClassBuilder {\r\n    String parentClassProperty;\r\n\r\n    public ParentClassBuilder() {}\r\n\r\n    @Override\r\n    public ParentClassBuilder parentClassProperty(String parentClassProperty) {\r\n      this.parentClassProperty = parentClassProperty;\r\n      return this;\r\n    }\r\n\r\n    public ParentClass build() {\r\n      return new ParentClass(parentClassProperty);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n**Child Class**\r\n\r\n```\r\n@Builder(toBuilder = true)\r\n@JsonInclude\r\n@JsonDeserialize(builder = ChildClass.ChildClassBuilder.class)\r\nclass ChildClass extends ParentClass {\r\nString childClassProperty;\r\n\r\n    @JsonPOJOBuilder(withPrefix = &quot;&quot;)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public static class ChildClassBuilder extends ParentClassBuilder {\r\n      String childClassProperty;\r\n\r\n      public ChildClassBuilder() {}\r\n\r\n      public ChildClassBuilder childClassProperty(String childClassProperty) {\r\n        this.childClassProperty = childClassProperty;\r\n        return this;\r\n      }\r\n\r\n      @Override\r\n      public ChildClassBuilder parentClassProperty(String parentClassProperty) {\r\n       this.parentClassProperty = parentClassProperty;\r\n       return this;\r\n      }\r\n\r\n      public ChildClass build() {\r\n        return new ChildClass(parentClassProperty, childClassProperty);\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nController\r\n\r\n```\r\npublic ResponseEntity&lt;ParentInterface&gt; getValues() {\r\n  ParentInterface parentInterface;\r\n  ParentClass parentClass = getParentClassValuesFromSomeMethod();  \r\n  if (some_boolean == true) {\r\n    parentInterface = parentClass;\r\n  }\r\n  else {\r\n    ChildClass childClass = getChildClassValuesFromSomeMethod();  \r\n    parentInterface = childClass;\r\n  }\r\n  return parentInterface;\r\n}\r\n```\r\n\r\nNow, above method always returns `parentClassProperty` but what I need is to have both `childClassProperty` and `parentClassProperty`. I know that problem is somewhere in the JSONDeserialization but unable to figure it out as where I am making the mistake.","title":"Send child class&#39;s property with parent class&#39;s property in ResponseEntity in Spring Boot","body":"<p>Considering a Multi level inheritance scenario among ParentInterface -&gt; ParentClass -&gt; ChildClass POJOs. I need to use return type as Interface in my <code>ResponseEntity&lt;ParentInterface&gt;</code> Controller's <code>GET</code> call. Now, as per some logic, I need to either set the object of ParentClass or ChildClass in the Interface variable. But the response always contains the <code>parentClassProperty</code>.</p>\n<p><strong>Parent Interface</strong></p>\n<pre><code>interface ParentInterface {\n  String parentClassProperty;\n}\n</code></pre>\n<p><strong>Parent Class</strong></p>\n<pre><code>@Data\n@Builder(toBuilder = true)\n@JsonInclude\n@JsonDeserialize(builder = ParentClass.ParentClassBuilder.class)\nclass ParentClass implements ParentInterface {\nString parentClassProperty;\n\n  @JsonPOJOBuilder(withPrefix = &quot;&quot;)\n  @JsonIgnoreProperties(ignoreUnknown = true)\n  public static class ParentClassBuilder {\n    String parentClassProperty;\n\n    public ParentClassBuilder() {}\n\n    @Override\n    public ParentClassBuilder parentClassProperty(String parentClassProperty) {\n      this.parentClassProperty = parentClassProperty;\n      return this;\n    }\n\n    public ParentClass build() {\n      return new ParentClass(parentClassProperty);\n    }\n  }\n}\n</code></pre>\n<p><strong>Child Class</strong></p>\n<pre><code>@Builder(toBuilder = true)\n@JsonInclude\n@JsonDeserialize(builder = ChildClass.ChildClassBuilder.class)\nclass ChildClass extends ParentClass {\nString childClassProperty;\n\n    @JsonPOJOBuilder(withPrefix = &quot;&quot;)\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public static class ChildClassBuilder extends ParentClassBuilder {\n      String childClassProperty;\n\n      public ChildClassBuilder() {}\n\n      public ChildClassBuilder childClassProperty(String childClassProperty) {\n        this.childClassProperty = childClassProperty;\n        return this;\n      }\n\n      @Override\n      public ChildClassBuilder parentClassProperty(String parentClassProperty) {\n       this.parentClassProperty = parentClassProperty;\n       return this;\n      }\n\n      public ChildClass build() {\n        return new ChildClass(parentClassProperty, childClassProperty);\n      }\n    }\n  }\n</code></pre>\n<p>Controller</p>\n<pre><code>public ResponseEntity&lt;ParentInterface&gt; getValues() {\n  ParentInterface parentInterface;\n  ParentClass parentClass = getParentClassValuesFromSomeMethod();  \n  if (some_boolean == true) {\n    parentInterface = parentClass;\n  }\n  else {\n    ChildClass childClass = getChildClassValuesFromSomeMethod();  \n    parentInterface = childClass;\n  }\n  return parentInterface;\n}\n</code></pre>\n<p>Now, above method always returns <code>parentClassProperty</code> but what I need is to have both <code>childClassProperty</code> and <code>parentClassProperty</code>. I know that problem is somewhere in the JSONDeserialization but unable to figure it out as where I am making the mistake.</p>\n"},{"tags":["java","android","translation"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683874812,"post_id":76233816,"comment_id":134436192,"body_markdown":"You need to provide German translations of these strings as well. Did you expect the system to automagically translate all text to German for you? [This is a good overview](https://developer.android.com/guide/topics/resources/localization).","body":"You need to provide German translations of these strings as well. Did you expect the system to automagically translate all text to German for you? <a href=\"https://developer.android.com/guide/topics/resources/localization\" rel=\"nofollow noreferrer\">This is a good overview</a>."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683874960,"post_id":76233816,"comment_id":134436216,"body_markdown":"Also: due to difference is languages it&#39;s a bad idea to construct messages like you did: You should have a resource for the string &quot;see news&quot; and any other string, not for individual parts. The primary reason is because grammar is different  between languages. In some languages the verb might not come first and if you hard-code that order, then the translation *can&#39;t* be done correctly via resources.","body":"Also: due to difference is languages it&#39;s a bad idea to construct messages like you did: You should have a resource for the string &quot;see news&quot; and any other string, not for individual parts. The primary reason is because grammar is different  between languages. In some languages the verb might not come first and if you hard-code that order, then the translation <i>can&#39;t</i> be done correctly via resources."},{"owner":{"account_id":28131984,"reputation":1,"user_id":21496359,"display_name":"Gu Ro"},"score":0,"creation_date":1683874962,"post_id":76233816,"comment_id":134436220,"body_markdown":"@JoachimSauer Could you write a method for providing German translation and how to translate German?","body":"@JoachimSauer Could you write a method for providing German translation and how to translate German?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683875042,"post_id":76233816,"comment_id":134436230,"body_markdown":"No, if you want German text in your application, someone will have to translate your text. There might be automated tools, but since localization needs a lot of context that isn&#39;t generally available in just the resources, those tools are far from perfect (i.e. they might be a good start to seed your resources, but if that&#39;s all you use, then your app will definitely look wrong in anything but the language you wrote).","body":"No, if you want German text in your application, someone will have to translate your text. There might be automated tools, but since localization needs a lot of context that isn&#39;t generally available in just the resources, those tools are far from perfect (i.e. they might be a good start to seed your resources, but if that&#39;s all you use, then your app will definitely look wrong in anything but the language you wrote)."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683875126,"post_id":76233816,"comment_id":134436241,"body_markdown":"As an example: &quot;see&quot; could be translated as &quot;sehen&quot; and &quot;news&quot; as &quot;Nachrichten&quot;, but &quot;sehen Nachrichten&quot; is  at best gramatically wrong and pretty much garbage. The appropriate term (assuming this is meant as a menu item to see news, for example) would be &quot;Nachrichten ansehen&quot; or something like that.","body":"As an example: &quot;see&quot; could be translated as &quot;sehen&quot; and &quot;news&quot; as &quot;Nachrichten&quot;, but &quot;sehen Nachrichten&quot; is  at best gramatically wrong and pretty much garbage. The appropriate term (assuming this is meant as a menu item to see news, for example) would be &quot;Nachrichten ansehen&quot; or something like that."},{"owner":{"account_id":28131984,"reputation":1,"user_id":21496359,"display_name":"Gu Ro"},"score":0,"creation_date":1683875348,"post_id":76233816,"comment_id":134436287,"body_markdown":"@JoachimSauer I can handle that, but I need the method to translate manually or automatically. If you know how I can fix the code I provided, please help.","body":"@JoachimSauer I can handle that, but I need the method to translate manually or automatically. If you know how I can fix the code I provided, please help."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683875665,"post_id":76233816,"comment_id":134436341,"body_markdown":"Did you read the link in my first comment? It explains in *lots* of detail how to bring translated strings into your code. Besides the concatenating-messages issue, your code isn&#39;t wrong, it&#39;s just that you need additional files to provide the content for the other languages.","body":"Did you read the link in my first comment? It explains in <i>lots</i> of detail how to bring translated strings into your code. Besides the concatenating-messages issue, your code isn&#39;t wrong, it&#39;s just that you need additional files to provide the content for the other languages."}],"answers":[{"tags":[],"owner":{"account_id":10468782,"reputation":1,"user_id":7717357,"display_name":"kico77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683876395,"creation_date":1683876343,"answer_id":76234031,"question_id":76233816,"body_markdown":"For each new language, you have to create new specific values folder. So, if I take german for example, you need to create new folder &quot;values-de&quot; and create new file &quot;strings.xml&quot; inside &quot;values-de&quot; folder. New strings.xml file will look like this:\r\n\r\n    &lt;resources&gt;\r\n        &lt;string name=&quot;app_name&quot;&gt;Newsapp&lt;/string&gt;\r\n        &lt;!-- notification strings --&gt;\r\n        &lt;string name=&quot;see&quot; translatable=&quot;true&quot;&gt;sehen&lt;/string&gt;\r\n        &lt;string name=&quot;news&quot; translatable=&quot;true&quot;&gt;Nachricht&lt;/string&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen, if German language is currently selected on your phone, values-de/strings.xml will be used.","title":"String is not translating to a different language in Android Studio Java?","body":"<p>For each new language, you have to create new specific values folder. So, if I take german for example, you need to create new folder &quot;values-de&quot; and create new file &quot;strings.xml&quot; inside &quot;values-de&quot; folder. New strings.xml file will look like this:</p>\n<pre><code>&lt;resources&gt;\n    &lt;string name=&quot;app_name&quot;&gt;Newsapp&lt;/string&gt;\n    &lt;!-- notification strings --&gt;\n    &lt;string name=&quot;see&quot; translatable=&quot;true&quot;&gt;sehen&lt;/string&gt;\n    &lt;string name=&quot;news&quot; translatable=&quot;true&quot;&gt;Nachricht&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>Then, if German language is currently selected on your phone, values-de/strings.xml will be used.</p>\n"}],"owner":{"account_id":28131984,"reputation":1,"user_id":21496359,"display_name":"Gu Ro"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683876395,"creation_date":1683874459,"question_id":76233816,"body_markdown":"I need to translate the string that is showing using &#39;Toast&#39; in the Android application to the default language of the device.\r\nI defined string resources in the res/string.xml file in English and added the attribute translatable=&quot;true&quot; to the &lt;string&gt; tag.\r\n\r\nLet&#39;s say an app is installed on a device whose default language is German. The app should show toast messages in German.\r\n\r\n**Code in res/string.xml:**\r\n\r\n```\r\n&lt;resources&gt;\r\n    &lt;string name=&quot;app_name&quot;&gt;Newsapp&lt;/string&gt;\r\n    &lt;!-- notification strings --&gt;\r\n    &lt;string name=&quot;see&quot; translatable=&quot;true&quot;&gt;see&lt;/string&gt;\r\n    &lt;string name=&quot;news&quot; translatable=&quot;true&quot;&gt;news&lt;/string&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\n**Code in Activity:**\r\n\r\n```\r\nString see = context.getString(R.string.see).toLowerCase(Locale.ROOT);\r\nString news = context.getString(R.string.news).toLowerCase(Locale.ROOT);\r\n\r\nString str = see + &quot; &quot; + news;\r\n\r\nToast.makeText(context, str, Toast.LENGTH_SHORT).show();\r\n```\r\n\r\n","title":"String is not translating to a different language in Android Studio Java?","body":"<p>I need to translate the string that is showing using 'Toast' in the Android application to the default language of the device.\nI defined string resources in the res/string.xml file in English and added the attribute translatable=&quot;true&quot; to the  tag.</p>\n<p>Let's say an app is installed on a device whose default language is German. The app should show toast messages in German.</p>\n<p><strong>Code in res/string.xml:</strong></p>\n<pre><code>&lt;resources&gt;\n    &lt;string name=&quot;app_name&quot;&gt;Newsapp&lt;/string&gt;\n    &lt;!-- notification strings --&gt;\n    &lt;string name=&quot;see&quot; translatable=&quot;true&quot;&gt;see&lt;/string&gt;\n    &lt;string name=&quot;news&quot; translatable=&quot;true&quot;&gt;news&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n<p><strong>Code in Activity:</strong></p>\n<pre><code>String see = context.getString(R.string.see).toLowerCase(Locale.ROOT);\nString news = context.getString(R.string.news).toLowerCase(Locale.ROOT);\n\nString str = see + &quot; &quot; + news;\n\nToast.makeText(context, str, Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"tags":["java","flutter","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":10271083,"reputation":61,"user_id":7579433,"display_name":"Kirill Levitskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683819386,"creation_date":1683819386,"answer_id":76229355,"question_id":76229338,"body_markdown":"Could you share your `build.gradle` content?\r\n\r\nThe error states that you have: `Illegal character in path at index 62`","title":"updated my gradle properties but now this java error pops up","body":"<p>Could you share your <code>build.gradle</code> content?</p>\n<p>The error states that you have: <code>Illegal character in path at index 62</code></p>\n"},{"tags":[],"owner":{"account_id":10271083,"reputation":61,"user_id":7579433,"display_name":"Kirill Levitskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683875729,"creation_date":1683875729,"answer_id":76233957,"question_id":76229338,"body_markdown":"Could you replace your `gradle-wrapper.properties` with the config below?\r\n\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-all.zip\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\n```","title":"updated my gradle properties but now this java error pops up","body":"<p>Could you replace your <code>gradle-wrapper.properties</code> with the config below?</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-all.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n"}],"owner":{"account_id":28581120,"reputation":1,"user_id":21882054,"display_name":"S R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683875729,"creation_date":1683819235,"question_id":76229338,"body_markdown":"Exception in thread &quot;main&quot; java.lang.RuntimeException: Could not load wrapper properties from \r\n    \r\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:60)Caused by: java.net.URISyntaxException: Illegal character in path at index 62: \r\n        at java.base/java.net.URI$Parser.fail(Unknown Source)        at java.base/java.net.URI$Parser.checkChars(Unknown Source)\r\n        at java.base/java.net.URI$Parser.parseHierarchical(Unknown Source)        at java.base/java.net.URI$Parser.parse(Unknown Source)\r\n        at java.base/java.net.URI.&lt;init&gt;(Unknown So        at org.gradle.wrapper.WrapperExecutor.readDistroUrl(WrapperExecutor.java:81)        at org.gradle.wrapper.WrapperExecutor.prepareDistributionUri(WrapperExecutor.java:70)        at org.gradle.wrapper.WrapperExecutor.&lt;init&gt;(WrapperExecutor.java:57)        ... 2 more\r\n\r\n\r\n\r\n\r\nRunning Gradle task &#39;assembleDebug&#39;...                           2,141ms\r\nException: Gradle task assembleDebug failed with exit code 1\r\n Any thoughts or insight to fix please let me know\r\n\r\n\r\n\r\n\r\n\r\nI updated the gradle properties and this pops up now. I am new to flutter and I getting the packages from GitHub and try to make the app work","title":"updated my gradle properties but now this java error pops up","body":"<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: Could not load wrapper properties from</p>\n<pre><code>    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:60)Caused by: java.net.URISyntaxException: Illegal character in path at index 62: \n    at java.base/java.net.URI$Parser.fail(Unknown Source)        at java.base/java.net.URI$Parser.checkChars(Unknown Source)\n    at java.base/java.net.URI$Parser.parseHierarchical(Unknown Source)        at java.base/java.net.URI$Parser.parse(Unknown Source)\n    at java.base/java.net.URI.&lt;init&gt;(Unknown So        at org.gradle.wrapper.WrapperExecutor.readDistroUrl(WrapperExecutor.java:81)        at org.gradle.wrapper.WrapperExecutor.prepareDistributionUri(WrapperExecutor.java:70)        at org.gradle.wrapper.WrapperExecutor.&lt;init&gt;(WrapperExecutor.java:57)        ... 2 more\n</code></pre>\n<p>Running Gradle task 'assembleDebug'...                           2,141ms\nException: Gradle task assembleDebug failed with exit code 1\nAny thoughts or insight to fix please let me know</p>\n<p>I updated the gradle properties and this pops up now. I am new to flutter and I getting the packages from GitHub and try to make the app work</p>\n"},{"tags":["java","hibernate","caching","ehcache"],"comments":[{"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":2,"creation_date":1355871864,"post_id":13942814,"comment_id":19226532,"body_markdown":"It&#39;s not possible directly. What about using an external CRON trigger ([tag:quartz-scheduler]?) to clear that cache manually?","body":"It&#39;s not possible directly. What about using an external CRON trigger (<a href=\"https://stackoverflow.com/questions/tagged/quartz-scheduler\">quartz-scheduler</a>?) to clear that cache manually?"}],"answers":[{"tags":[],"owner":{"account_id":1745175,"reputation":7808,"user_id":1595578,"display_name":"jcern"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1355872513,"creation_date":1355872513,"answer_id":13943086,"question_id":13942814,"body_markdown":"EHCache only supports eviction after a certain period of time (either being in the cache or due to inactivity). However, you should be able to accomplish that fairly easily by scheduling the removal with something like this:\r\n\r\n        Timer t = new Timer(true);\r\n        Integer interval = 24 * 60 * 60 * 1000; //24 hours\r\n        Calendar c = Calendar.getInstance();\r\n        c.set(Calendar.HOUR, 0);\r\n        c.set(Calendar.MINUTE, 0);\r\n        c.set(Calendar.SECOND, 0);\r\n\r\n\r\n        t.scheduleAtFixedRate( new TimerTask() {\r\n                public void run() {\r\n                    Cache c = //retrieve cache                  \r\n                    c.removeAll();                                            \r\n                }\r\n            }, c.getTime(), interval);\r\n\r\n\r\nThis basic example uses the Java Timer class to illustrate, but any scheduler could be utilized. Every 24 hours, starting from midnight - this would run and remove all the elements from the specified cache. The actual `run` method could be modified to remove elements matching a certain criteria as well. \r\n\r\nYou&#39;d just need to make sure you start it when the application is started.","title":"ehcache based on date","body":"<p>EHCache only supports eviction after a certain period of time (either being in the cache or due to inactivity). However, you should be able to accomplish that fairly easily by scheduling the removal with something like this:</p>\n\n<pre><code>    Timer t = new Timer(true);\n    Integer interval = 24 * 60 * 60 * 1000; //24 hours\n    Calendar c = Calendar.getInstance();\n    c.set(Calendar.HOUR, 0);\n    c.set(Calendar.MINUTE, 0);\n    c.set(Calendar.SECOND, 0);\n\n\n    t.scheduleAtFixedRate( new TimerTask() {\n            public void run() {\n                Cache c = //retrieve cache                  \n                c.removeAll();                                            \n            }\n        }, c.getTime(), interval);\n</code></pre>\n\n<p>This basic example uses the Java Timer class to illustrate, but any scheduler could be utilized. Every 24 hours, starting from midnight - this would run and remove all the elements from the specified cache. The actual <code>run</code> method could be modified to remove elements matching a certain criteria as well. </p>\n\n<p>You'd just need to make sure you start it when the application is started.</p>\n"},{"tags":[],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1355920240,"creation_date":1355920240,"answer_id":13952527,"question_id":13942814,"body_markdown":"I&#39;ve done this by extending Ehcache&#39;s `Element` class like so:\r\n\r\n    class EvictOnGivenTimestampElement extends Element {\r\n\r\n        private static final long serialVersionUID = ...;\r\n        private final long evictOn;\r\n\r\n        EvictOnGivenTimestampElement(final Serializable key, final Serializable value, final long evictOn) {\r\n            super(key, value);\r\n            this.evictOn = evictOn;\r\n        }\r\n\r\n        @Override\r\n        public boolean isExpired() {\r\n            return System.currentTimeMillis() &gt; evictOn;\r\n        }\r\n    }\r\n\r\nThe rest is as easy as putting new instance of `EvictOnGivenTimestampElement` object into the cache instead of `Element`.\r\n\r\nAdvantage of this approach is that you don&#39;t have to worry about external cronjobs, etc. \r\nAnd the obvious disadvantage is the attachment to Ehcache API which I hope won&#39;t change too often.","title":"ehcache based on date","body":"<p>I've done this by extending Ehcache's <code>Element</code> class like so:</p>\n\n<pre><code>class EvictOnGivenTimestampElement extends Element {\n\n    private static final long serialVersionUID = ...;\n    private final long evictOn;\n\n    EvictOnGivenTimestampElement(final Serializable key, final Serializable value, final long evictOn) {\n        super(key, value);\n        this.evictOn = evictOn;\n    }\n\n    @Override\n    public boolean isExpired() {\n        return System.currentTimeMillis() &gt; evictOn;\n    }\n}\n</code></pre>\n\n<p>The rest is as easy as putting new instance of <code>EvictOnGivenTimestampElement</code> object into the cache instead of <code>Element</code>.</p>\n\n<p>Advantage of this approach is that you don't have to worry about external cronjobs, etc. \nAnd the obvious disadvantage is the attachment to Ehcache API which I hope won't change too often.</p>\n"},{"tags":[],"owner":{"account_id":1730590,"reputation":1263,"user_id":1584292,"display_name":"VeenarM"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482021822,"creation_date":1482021822,"answer_id":41204472,"question_id":13942814,"body_markdown":"With Ehcache 3.2 I implemented an Expiry extension.\r\n\r\n        \r\n    public class EvictAtMidnightExpiry implements Expiry {\r\n        \r\n        @Override\r\n        public Duration getExpiryForCreation(Object key, Object value) {\r\n            DateTime now = new DateTime();\r\n            DateTime resetAt = now.plusDays(1).withTimeAtStartOfDay();\r\n            long difference = resetAt.toDateTime().getMillis() - now.getMillis();\r\n            return Duration.of(difference, TimeUnit.MILLISECONDS);\r\n        }\r\n    \r\n        @Override\r\n        public Duration getExpiryForAccess(Object key, ValueSupplier value) {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Duration getExpiryForUpdate(Object key, ValueSupplier oldValue, Object newValue) {\r\n            return null;\r\n        }\r\n    }\r\n\r\nNow, I have logging etc as well but I minimalized my code for cleanness.\r\n\r\nThen you just need to configure it in your configuration builder.\r\n\r\n    CacheConfigurationBuilder.newCacheConfigurationBuilder(String.class, String.class, ResourcePoolsBuilder.heap(1000)).withExpiry(new EvictAtMidnightExpiry()).build()\r\n\r\nClearly Ehcache improved on there API&#39;s somewhat from 2.5 to 3.2 as you don&#39;t need to create your own &#39;element&#39; and ensure it&#39;s usage to initiate expiry or eviction policies. The policies are now cache bound.","title":"ehcache based on date","body":"<p>With Ehcache 3.2 I implemented an Expiry extension.</p>\n\n<pre><code>public class EvictAtMidnightExpiry implements Expiry {\n\n    @Override\n    public Duration getExpiryForCreation(Object key, Object value) {\n        DateTime now = new DateTime();\n        DateTime resetAt = now.plusDays(1).withTimeAtStartOfDay();\n        long difference = resetAt.toDateTime().getMillis() - now.getMillis();\n        return Duration.of(difference, TimeUnit.MILLISECONDS);\n    }\n\n    @Override\n    public Duration getExpiryForAccess(Object key, ValueSupplier value) {\n        return null;\n    }\n\n    @Override\n    public Duration getExpiryForUpdate(Object key, ValueSupplier oldValue, Object newValue) {\n        return null;\n    }\n}\n</code></pre>\n\n<p>Now, I have logging etc as well but I minimalized my code for cleanness.</p>\n\n<p>Then you just need to configure it in your configuration builder.</p>\n\n<pre><code>CacheConfigurationBuilder.newCacheConfigurationBuilder(String.class, String.class, ResourcePoolsBuilder.heap(1000)).withExpiry(new EvictAtMidnightExpiry()).build()\n</code></pre>\n\n<p>Clearly Ehcache improved on there API's somewhat from 2.5 to 3.2 as you don't need to create your own 'element' and ensure it's usage to initiate expiry or eviction policies. The policies are now cache bound.</p>\n"},{"tags":[],"owner":{"account_id":10012878,"reputation":327,"user_id":7405193,"display_name":"radicarl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683875474,"creation_date":1683875474,"answer_id":76233925,"question_id":13942814,"body_markdown":"Implementation for ehcache 3.8 without additional libraries using LocalTime:\r\n\r\n    import java.time.Duration;\r\n    import java.time.LocalTime;\r\n    import java.util.function.Supplier;\r\n    import org.ehcache.expiry.ExpiryPolicy;\r\n    \r\n    /**\r\n     * XML configuration example:\r\n     * &lt;pre&gt;\r\n     *   {@code\r\n     *   &lt;cache alias=&quot;...\r\n     *     &lt;expiry&gt;\r\n     *       &lt;class&gt;org.example.MidnightExpiry&lt;/class&gt;\r\n     *     &lt;/expiry&gt;\r\n     *   &lt;/cache&gt;\r\n     *   }\r\n     * &lt;/pre&gt;\r\n     */\r\n    public class MidnightExpiry implements ExpiryPolicy&lt;Object, Object&gt; {\r\n    \r\n      private static final LocalTime MIDNIGHT = LocalTime.of(23, 59, 59, 999999999);\r\n    \r\n      @Override\r\n      public Duration getExpiryForCreation(Object key, Object value) {\r\n        return Duration.between(LocalTime.now(), MIDNIGHT);\r\n      }\r\n      \r\n      @Override\r\n      public Duration getExpiryForAccess(Object key, Supplier value) {\r\n        // do not change expiry on access\r\n        return null;\r\n      }\r\n    \r\n      @Override\r\n      public Duration getExpiryForUpdate(Object key, Supplier oldValue, Object newValue) {\r\n        // do not change expiry on update\r\n        return null;\r\n      }\r\n    }","title":"ehcache based on date","body":"<p>Implementation for ehcache 3.8 without additional libraries using LocalTime:</p>\n<pre><code>import java.time.Duration;\nimport java.time.LocalTime;\nimport java.util.function.Supplier;\nimport org.ehcache.expiry.ExpiryPolicy;\n\n/**\n * XML configuration example:\n * &lt;pre&gt;\n *   {@code\n *   &lt;cache alias=&quot;...\n *     &lt;expiry&gt;\n *       &lt;class&gt;org.example.MidnightExpiry&lt;/class&gt;\n *     &lt;/expiry&gt;\n *   &lt;/cache&gt;\n *   }\n * &lt;/pre&gt;\n */\npublic class MidnightExpiry implements ExpiryPolicy&lt;Object, Object&gt; {\n\n  private static final LocalTime MIDNIGHT = LocalTime.of(23, 59, 59, 999999999);\n\n  @Override\n  public Duration getExpiryForCreation(Object key, Object value) {\n    return Duration.between(LocalTime.now(), MIDNIGHT);\n  }\n  \n  @Override\n  public Duration getExpiryForAccess(Object key, Supplier value) {\n    // do not change expiry on access\n    return null;\n  }\n\n  @Override\n  public Duration getExpiryForUpdate(Object key, Supplier oldValue, Object newValue) {\n    // do not change expiry on update\n    return null;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1469094,"reputation":11033,"user_id":1381093,"accept_rate":52,"display_name":"JackDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7026,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":13952527,"answer_count":4,"score":11,"last_activity_date":1683875474,"creation_date":1355871180,"question_id":13942814,"body_markdown":"I&#39;m working with ehcache 2.5.4.\r\n\r\nI have an object that needs to be cached through out the day and refreshed with a new value at 00:00am every day.\r\n\r\nCurrently with ehcache configurations I can only set the time to live and time to idle, but that will depend on the time I created the object or when it&#39;s used. ie:\r\n\r\n    \t&lt;cache\r\n\t\tname=&quot;cache.expiry.application.date_status&quot;\r\n\t\tmaxElementsInMemory=&quot;10&quot;\r\n\t\teternal=&quot;false&quot;\r\n\t\ttimeToIdleSeconds=&quot;60&quot;\r\n\t\ttimeToLiveSeconds=&quot;50&quot; /&gt;\r\n\r\nIs there a way to get ehcache to expire specific caches based on specific times.\r\n","title":"ehcache based on date","body":"<p>I'm working with ehcache 2.5.4.</p>\n\n<p>I have an object that needs to be cached through out the day and refreshed with a new value at 00:00am every day.</p>\n\n<p>Currently with ehcache configurations I can only set the time to live and time to idle, but that will depend on the time I created the object or when it's used. ie:</p>\n\n<pre><code>    &lt;cache\n    name=\"cache.expiry.application.date_status\"\n    maxElementsInMemory=\"10\"\n    eternal=\"false\"\n    timeToIdleSeconds=\"60\"\n    timeToLiveSeconds=\"50\" /&gt;\n</code></pre>\n\n<p>Is there a way to get ehcache to expire specific caches based on specific times.</p>\n"},{"tags":["java","spring-boot","multipartform-data","file-rename"],"comments":[{"owner":{"account_id":1540148,"reputation":1578,"user_id":1435014,"display_name":"Abhishek"},"score":0,"creation_date":1547544063,"post_id":54192937,"comment_id":95218505,"body_markdown":"What exception are getting while calling upload API, can you share that as well ?","body":"What exception are getting while calling upload API, can you share that as well ?"}],"answers":[{"tags":[],"owner":{"account_id":1540148,"reputation":1578,"user_id":1435014,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1547544456,"creation_date":1547544456,"answer_id":54195979,"question_id":54192937,"body_markdown":"Below is working snippet with little modification here and there :\r\n\r\n    @PostMapping(value = &quot;/api/file/upload&quot;, headers = {&quot;content-type=multipart/*&quot;})\r\n    public @ResponseBody String uploadMultipartFile(@RequestParam(&quot;uploadfile&quot;) MultipartFile file) {\r\n        Path TO = Paths.get(&quot;/Users/myusername/Desktop/newfileName&quot;);\r\n        try {\r\n            try {\r\n                Files.copy(file.getInputStream(), TO);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;FAIL2! -&gt; message2 = &quot; + e.getMessage());\r\n            }\r\n            return &quot;File uploaded successfully! -&gt; filename = &quot; + file.getOriginalFilename();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;Error -&gt; message = &quot; + e.getMessage();\r\n        }\r\n    }\r\n**OutputScreen:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kNkoW.png","title":"Renaming the original file name of a Multipart file","body":"<p>Below is working snippet with little modification here and there :</p>\n\n<pre><code>@PostMapping(value = \"/api/file/upload\", headers = {\"content-type=multipart/*\"})\npublic @ResponseBody String uploadMultipartFile(@RequestParam(\"uploadfile\") MultipartFile file) {\n    Path TO = Paths.get(\"/Users/myusername/Desktop/newfileName\");\n    try {\n        try {\n            Files.copy(file.getInputStream(), TO);\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new RuntimeException(\"FAIL2! -&gt; message2 = \" + e.getMessage());\n        }\n        return \"File uploaded successfully! -&gt; filename = \" + file.getOriginalFilename();\n    } catch (Exception e) {\n        e.printStackTrace();\n        return \"Error -&gt; message = \" + e.getMessage();\n    }\n}\n</code></pre>\n\n<p><strong>OutputScreen:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/kNkoW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kNkoW.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4403145,"reputation":614,"user_id":3588217,"accept_rate":55,"display_name":"greenhorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683875212,"creation_date":1683875212,"answer_id":76233901,"question_id":54192937,"body_markdown":"Hope below code finds you well.\r\n\r\n    \r\n\r\n&gt; import java.nio.file.Path; \r\n\r\n&gt; import java.nio.file.Files;\r\n\r\n&gt; import org.springframework.web.multipart.MultipartFile;\r\n\r\n     MultipartFile file;//file which you get from the API Request\r\n     String newFileName = &quot;new_file_name&quot;\r\n     String targetDir = &quot;file_path&quot;\r\n     Path path = Paths.get(targetDir, newFileName);\r\n     Files.copy(file.getInputStream(), path);\r\n\r\n\r\n","title":"Renaming the original file name of a Multipart file","body":"<p>Hope below code finds you well.</p>\n<blockquote>\n<p>import java.nio.file.Path;</p>\n</blockquote>\n<blockquote>\n<p>import java.nio.file.Files;</p>\n</blockquote>\n<blockquote>\n<p>import org.springframework.web.multipart.MultipartFile;</p>\n</blockquote>\n<pre><code> MultipartFile file;//file which you get from the API Request\n String newFileName = &quot;new_file_name&quot;\n String targetDir = &quot;file_path&quot;\n Path path = Paths.get(targetDir, newFileName);\n Files.copy(file.getInputStream(), path);\n</code></pre>\n"}],"owner":{"account_id":10189139,"reputation":471,"user_id":7523143,"display_name":"trumanblack1025"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54195979,"answer_count":2,"score":1,"last_activity_date":1683875212,"creation_date":1547528648,"question_id":54192937,"body_markdown":"I have this code where I wanted to rename the before saving it to the file system. I tried other questions here in stack overflow but it doesn&#39;t apply for me. Hoping you could help me this is my code.\r\n\r\n    @PostMapping(&quot;/api/file/upload&quot;)\r\n    public @ResponseBody String uploadMultipartFile(@RequestParam(&quot;uploadfile&quot;) MultipartFile file) {\r\n            try {\r\n        \t\tfileStorage.store(file);\r\n    \t    \treturn &quot;File uploaded successfully! -&gt; filename = &quot; + file.getOriginalFilename();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\treturn &quot;Error -&gt; message = &quot; + e.getMessage();\r\n    \t\t}    \r\n    }\r\n\r\nThis is my store function:\r\n\r\n    @Override\r\n\tpublic void store(MultipartFile file){\r\n\t\ttry {\r\n            Files.copy(file.getInputStream(), this.rootLocation.resolve(file.getOriginalFilename()));\r\n        } catch (Exception e) {\r\n        \tthrow new RuntimeException(&quot;FAIL2! -&gt; message2 = &quot; + e.getMessage());\r\n        }\r\n\t}\r\n\r\n\r\n\r\n\r\nI tried renaming the original file but it doesn&#39;t work.\r\n\r\nHoping you could help me. Thank you so much!!!","title":"Renaming the original file name of a Multipart file","body":"<p>I have this code where I wanted to rename the before saving it to the file system. I tried other questions here in stack overflow but it doesn't apply for me. Hoping you could help me this is my code.</p>\n\n<pre><code>@PostMapping(\"/api/file/upload\")\npublic @ResponseBody String uploadMultipartFile(@RequestParam(\"uploadfile\") MultipartFile file) {\n        try {\n            fileStorage.store(file);\n            return \"File uploaded successfully! -&gt; filename = \" + file.getOriginalFilename();\n        } catch (Exception e) {\n            return \"Error -&gt; message = \" + e.getMessage();\n        }    \n}\n</code></pre>\n\n<p>This is my store function:</p>\n\n<pre><code>@Override\npublic void store(MultipartFile file){\n    try {\n        Files.copy(file.getInputStream(), this.rootLocation.resolve(file.getOriginalFilename()));\n    } catch (Exception e) {\n        throw new RuntimeException(\"FAIL2! -&gt; message2 = \" + e.getMessage());\n    }\n}\n</code></pre>\n\n<p>I tried renaming the original file but it doesn't work.</p>\n\n<p>Hoping you could help me. Thank you so much!!!</p>\n"},{"tags":["java","android","themes"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1611772300,"post_id":65925090,"comment_id":116560674,"body_markdown":"&quot;it is getting recreated&quot; -- change in dark mode is a configuration change, as is rotating the screen, changing the locale in Settings, entering or exiting split-screen mode, etc. Your app needs to be able to handle configuration changes. See [the documentation](https://developer.android.com/guide/topics/resources/runtime-changes).","body":"&quot;it is getting recreated&quot; -- change in dark mode is a configuration change, as is rotating the screen, changing the locale in Settings, entering or exiting split-screen mode, etc. Your app needs to be able to handle configuration changes. See <a href=\"https://developer.android.com/guide/topics/resources/runtime-changes\" rel=\"nofollow noreferrer\">the documentation</a>."},{"owner":{"account_id":17504146,"reputation":179,"user_id":12693743,"display_name":"prsnlme"},"score":0,"creation_date":1611773161,"post_id":65925090,"comment_id":116561087,"body_markdown":"I have implemented onConfigurationChanged method as is shown in the documentation. But, it doesn&#39;t handle the theme configuration change(Tested on MI 8).","body":"I have implemented onConfigurationChanged method as is shown in the documentation. But, it doesn&#39;t handle the theme configuration change(Tested on MI 8)."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1611773585,"post_id":65925090,"comment_id":116561274,"body_markdown":"Note that `onConfigurationChanged()` is only called if you have `android:configChanges` in the manifest entry and that the particular type of configuration change that you try is in the `android:configChanges` list. It is also possible that Xiaomi is doing something different than what we see in standard Android.","body":"Note that <code>onConfigurationChanged()</code> is only called if you have <code>android:configChanges</code> in the manifest entry and that the particular type of configuration change that you try is in the <code>android:configChanges</code> list. It is also possible that Xiaomi is doing something different than what we see in standard Android."}],"answers":[{"tags":[],"owner":{"account_id":20094764,"reputation":2497,"user_id":14734532,"display_name":"DrHowdyDoo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1611772111,"creation_date":1611772111,"answer_id":65925194,"question_id":65925090,"body_markdown":"Don&#39;t stop the theme change instead store your data in viewModels. \r\n\r\nThe ViewModel class is designed to store and manage UI-related data in a lifecycle conscious way. The ViewModel class allows data to survive configuration changes such as screen rotations or theme change.\r\n\r\nHave a look : [viewModel][1]\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/viewmodel","title":"Avoid recreating activity when Dark theme was changed outside of app","body":"<p>Don't stop the theme change instead store your data in viewModels.</p>\n<p>The ViewModel class is designed to store and manage UI-related data in a lifecycle conscious way. The ViewModel class allows data to survive configuration changes such as screen rotations or theme change.</p>\n<p>Have a look : <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">viewModel</a></p>\n"},{"tags":[],"owner":{"account_id":26068435,"reputation":21,"user_id":19768533,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681904644,"creation_date":1668261535,"answer_id":74413552,"question_id":65925090,"body_markdown":"Try the code below in Manifest file\r\n\r\n    &lt;application\r\n    android:allowBackup=&quot;true&quot;\r\n    android:icon=&quot;@mipmap/ic_launcher&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n    android:supportsRtl=&quot;true&quot;\r\n    android:theme=&quot;@style/AppTheme&quot;&gt;\r\n    &lt;activity android:name=&quot;.MainActivity&quot;\r\n        android:configChanges=&quot;uiMode&quot;&gt; //★★★★add this line★★★★\r\n\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n&lt;/application&gt;\r\n\r\n\r\nSources:\r\nhttps://proandroiddev.com/daynight-applying-dark-mode-without-recreating-your-app-c8a62d51092d ","title":"Avoid recreating activity when Dark theme was changed outside of app","body":"<p>Try the code below in Manifest file</p>\n<pre><code>&lt;application\nandroid:allowBackup=&quot;true&quot;\nandroid:icon=&quot;@mipmap/ic_launcher&quot;\nandroid:label=&quot;@string/app_name&quot;\nandroid:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\nandroid:supportsRtl=&quot;true&quot;\nandroid:theme=&quot;@style/AppTheme&quot;&gt;\n&lt;activity android:name=&quot;.MainActivity&quot;\n    android:configChanges=&quot;uiMode&quot;&gt; //★★★★add this line★★★★\n\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>Sources:\n<a href=\"https://proandroiddev.com/daynight-applying-dark-mode-without-recreating-your-app-c8a62d51092d\" rel=\"nofollow noreferrer\">https://proandroiddev.com/daynight-applying-dark-mode-without-recreating-your-app-c8a62d51092d</a></p>\n"}],"owner":{"account_id":17504146,"reputation":179,"user_id":12693743,"display_name":"prsnlme"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2007,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65925194,"answer_count":2,"score":3,"last_activity_date":1683875112,"creation_date":1611771740,"question_id":65925090,"body_markdown":"When the user changes the system theme from the notification menu, my activity getting recreated and data is loaded again, which is not my app&#39;s requirement. \r\n\r\nIs it possible to prevent a system theme change from affecting my application in this way?","title":"Avoid recreating activity when Dark theme was changed outside of app","body":"<p>When the user changes the system theme from the notification menu, my activity getting recreated and data is loaded again, which is not my app's requirement.</p>\n<p>Is it possible to prevent a system theme change from affecting my application in this way?</p>\n"},{"tags":["java","apache-flink","flink-streaming","flink-table-api"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1683828744,"post_id":76228335,"comment_id":134430207,"body_markdown":"Do you have a fixed set of keys in advance, or is the key space dynamic? How many distinct keys might there be?","body":"Do you have a fixed set of keys in advance, or is the key space dynamic? How many distinct keys might there be?"},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1683828803,"post_id":76228335,"comment_id":134430222,"body_markdown":"Can you explain why you need separate, per-key tables? Perhaps there&#39;s a better way to achieve the ultimate goal.","body":"Can you explain why you need separate, per-key tables? Perhaps there&#39;s a better way to achieve the ultimate goal."},{"owner":{"account_id":23460519,"reputation":65,"user_id":17515437,"display_name":"Vinay Cheguri"},"score":0,"creation_date":1683856728,"post_id":76228335,"comment_id":134434262,"body_markdown":"key space is dynamic and it can be around a hundred. The use case is I&#39;m doing some ETL processing by doing keyBy using the tenant. So, I need a separate table for each tenant.","body":"key space is dynamic and it can be around a hundred. The use case is I&#39;m doing some ETL processing by doing keyBy using the tenant. So, I need a separate table for each tenant."},{"owner":{"account_id":23460519,"reputation":65,"user_id":17515437,"display_name":"Vinay Cheguri"},"score":0,"creation_date":1683871844,"post_id":76228335,"comment_id":134435772,"body_markdown":"Any suggestions on how to handle multi-tenancy in Flink while doing ETL processing? Which is suggested, running a separate job for each tenant or doing keyBy operation?","body":"Any suggestions on how to handle multi-tenancy in Flink while doing ETL processing? Which is suggested, running a separate job for each tenant or doing keyBy operation?"},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1684091010,"post_id":76228335,"comment_id":134462458,"body_markdown":"I don’t think there is one best answer to this question. There are lots of factors to consider.","body":"I don’t think there is one best answer to this question. There are lots of factors to consider."}],"owner":{"account_id":23460519,"reputation":65,"user_id":17515437,"display_name":"Vinay Cheguri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683874554,"creation_date":1683812762,"question_id":76228335,"body_markdown":"My requirement is to create separate tables for each key in two different data streams and then join them. I have successfully created two separate tables from the data streams in Flink and performed the join using table api. However, I am facing difficulty in creating separate tables for each key.\r\n\r\nIs there a way to create individual tables for each key in the data stream?\r\n\r\nI have followed [tutorial][1] to create tables from data streams, but I&#39;m not sure how to proceed with creating separate tables for each key. Any guidance or suggestions would be greatly appreciated.\r\n\r\nEdit: I am also interested in receiving suggestions and learning about best practices for managing multi-tenancy in Flink.\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/table/data_stream_api/","title":"Create separate Table for each key in Data Stream after doing keyBy operation in Flink","body":"<p>My requirement is to create separate tables for each key in two different data streams and then join them. I have successfully created two separate tables from the data streams in Flink and performed the join using table api. However, I am facing difficulty in creating separate tables for each key.</p>\n<p>Is there a way to create individual tables for each key in the data stream?</p>\n<p>I have followed <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/table/data_stream_api/\" rel=\"nofollow noreferrer\">tutorial</a> to create tables from data streams, but I'm not sure how to proceed with creating separate tables for each key. Any guidance or suggestions would be greatly appreciated.</p>\n<p>Edit: I am also interested in receiving suggestions and learning about best practices for managing multi-tenancy in Flink.</p>\n"},{"tags":["java","spring","spring-boot","properties-file","spring-context"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683782902,"post_id":76223453,"comment_id":134419949,"body_markdown":"Overridding works perfectly well, it doesn&#39;t work in this case due to `@ConfigurationProperties`. Which are processed very early in the startup process, before `@PropertySource` has been processed. If you want to load additional property files use the `spring.config.additional-location` property (command line property) to specify this and not `@PropertySource`.","body":"Overridding works perfectly well, it doesn&#39;t work in this case due to <code>@ConfigurationProperties</code>. Which are processed very early in the startup process, before <code>@PropertySource</code> has been processed. If you want to load additional property files use the <code>spring.config.additional-location</code> property (command line property) to specify this and not <code>@PropertySource</code>."},{"owner":{"account_id":9781391,"reputation":358,"user_id":7249306,"display_name":"Denis Abakumov"},"score":0,"creation_date":1683820692,"post_id":76223453,"comment_id":134428515,"body_markdown":"@M.Deinum, thanks for your comment. I created a separate branch to test your hypothesis. It appears, the @ConfigurationProperties has nothing to do with the early processing of `application.properties`. Even without this annotation, the same issue takes place: https://github.com/denisab85/spring-property-overriding/tree/NoConfigurationProperties","body":"@M.Deinum, thanks for your comment. I created a separate branch to test your hypothesis. It appears, the @ConfigurationProperties has nothing to do with the early processing of <code>application.properties</code>. Even without this annotation, the same issue takes place: <a href=\"https://github.com/denisab85/spring-property-overriding/tree/NoConfigurationProperties\" rel=\"nofollow noreferrer\">github.com/denisab85/spring-property-overriding/tree/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683836634,"post_id":76223453,"comment_id":134431820,"body_markdown":"`application.properties` (+profiled) has &quot;slightly higher&quot; precedence than `@PropertySource` (3rd lowest vs. 2nd lowest precedence) due to https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config ..which makes it not a bug but rather a feature","body":"<code>application.properties</code> (+profiled) has &quot;slightly higher&quot; precedence than <code>@PropertySource</code> (3rd lowest vs. 2nd lowest precedence) due to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> ..which makes it not a bug but rather a feature"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683874367,"creation_date":1683835278,"answer_id":76231245,"question_id":76223453,"body_markdown":"The problem is that you are using Spring Boot and not plain Spring. Which has certain, opinionated views. As I mentioned in my comment you shouldn&#39;t be using `@PropertySource` but specify the additional configuration files through `--spring.config.additional-locations` or (which I didn&#39;t mention) add them through an `EnvironmentPostProcessor`. \r\n\r\nIf you would inject the `Environment` into your test and obtain the `PropertySources` from it you can print them out to the console. You will then see the following. \r\n\r\n```\r\nConfigurationPropertySourcesPropertySource {name=&#39;configurationProperties&#39;}\r\nMapPropertySource {name=&#39;test&#39;}\r\nMapPropertySource {name=&#39;Inlined Test Properties&#39;}\r\nPropertiesPropertySource {name=&#39;systemProperties&#39;}\r\nOriginAwareSystemEnvironmentPropertySource {name=&#39;systemEnvironment&#39;}\r\nRandomValuePropertySource {name=&#39;random&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;Config resource &#39;class path resource [application.properties]&#39; via location &#39;optional:classpath:/&#39;&#39;}\r\nResourcePropertySource {name=&#39;class path resource [override.properties]&#39;}\r\nResourcePropertySource {name=&#39;class path resource [app.properties]&#39;}\r\nResourcePropertySource {name=&#39;class path resource [application.properties]&#39;}\r\n```\r\n\r\nThis is, regardless of using `@ConfigurationProperties`. Spring Boot will always load the `application.properties` before anything else, so before the `@PropertySource`s in some `@Configuration` files (or where ever you choose to place them). So this file **always** takes precedence, due to Spring Boot. \r\n\r\nNow as I stated you can circumvent this by either specifying configuration locations at startup by adding `--spring.config.additional-location=classpath:app.properties,classpath:override.properties` if you do that the output will change to the following:\r\n\r\n```\r\nConfigurationPropertySourcesPropertySource {name=&#39;configurationProperties&#39;}\r\nMapPropertySource {name=&#39;test&#39;}\r\nMapPropertySource {name=&#39;Inlined Test Properties&#39;}\r\nSimpleCommandLinePropertySource {name=&#39;commandLineArgs&#39;}\r\nPropertiesPropertySource {name=&#39;systemProperties&#39;}\r\nOriginAwareSystemEnvironmentPropertySource {name=&#39;systemEnvironment&#39;}\r\nRandomValuePropertySource {name=&#39;random&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;Config resource &#39;class path resource [override.properties]&#39; via location &#39;classpath:override.properties&#39;&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;Config resource &#39;class path resource [app.properties]&#39; via location &#39;classpath:app.properties&#39;&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;Config resource &#39;class path resource [application.properties]&#39; via location &#39;optional:classpath:/&#39;&#39;}\r\n```\r\n\r\nAnd now your tests will pass (and you will see the overrides will work). \r\n\r\nFinally you could also use an `EnvironmentPostProcessor` to add these files as property sources and have them load automatically by specifying it in a `spring.factories` file. \r\n\r\n```java\r\npackage com.example.springpropertyoverriding;\r\n\r\nimport java.io.IOException;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.env.EnvironmentPostProcessor;\r\nimport org.springframework.core.env.ConfigurableEnvironment;\r\nimport org.springframework.core.env.MutablePropertySources;\r\nimport org.springframework.core.io.support.ResourcePropertySource;\r\n\r\npublic class AdditionalConfigurationFilesAdder implements EnvironmentPostProcessor {\r\n\r\n\tprivate static final String[] locations =\r\n\t\t\tnew String[] { &quot;classpath:app.properties&quot;, &quot;classpath:override.properties&quot;};\r\n\r\n\t@Override\r\n\tpublic void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\r\n\t\tMutablePropertySources propertySources = environment.getPropertySources();\r\n\t\tfor (String location : locations) {\r\n\t\t\ttry {\r\n\t\t\t\tResourcePropertySource source = new ResourcePropertySource(location);\r\n\t\t\t\tpropertySources.addAfter(&quot;random&quot;, source);\r\n\t\t\t} catch (IOException ex) {\r\n\t\t\t\tthrow new IllegalStateException(ex);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nNow you can reference this in a `META-INF/spring.factories` file so that it will add the resources. \r\n\r\n```\r\norg.springframework.boot.env.EnvironmentPostProcessor=com.example.springpropertyoverriding.AdditionalConfigurationFilesAdder\r\n```\r\n\r\nAnd now again when running the tests the output will be (more or less) the same as with specifying `--spring.config.additional-location` and the tests will pass. \r\n\r\nYou have to realize the fact that you are using Spring Boot and that comes with some opinionated views on what to load when. The order is actually also explained in the [Spring Boot Documentation][1]. Which clearly shows that `application.properties` always takes precedence over `@PropertySource`. \r\n\r\n&gt; Spring Boot uses a very particular PropertySource order that is designed to allow sensible overriding of values. Later property sources can override the values defined in earlier ones. Sources are considered in the following order:\r\n&gt;\r\n&gt;1. Default properties (specified by setting `SpringApplication.setDefaultProperties`).\r\n&gt;2. `@PropertySource` annotations on your `@Configuration` classes. Please note that such property sources are not added to the `Environment` until the application context is being refreshed. This is too late to configure certain properties such as `logging.*` and `spring.main.*` which are read before refresh begins.\r\n&gt;3. Config data (such as application.properties files).\r\n&gt;4. A `RandomValuePropertySource` that has properties only in `random.*.`\r\n&gt;5. OS environment variables.\r\n&gt;6. Java System properties (System.getProperties()).\r\n&gt;7. JNDI attributes from `java:comp/env`.\r\n&gt;8. `ServletContext` init parameters.\r\n&gt;9. `ServletConfig` init parameters.\r\n&gt;10. Properties from `SPRING_APPLICATION_JSON` (inline JSON embedded in an environment variable or system property).\r\n&gt;11. Command line arguments.\r\n&gt;12.properties attribute on your tests. Available on `@SpringBootTest` and the test annotations for testing a particular slice of your application.\r\n&gt;13. `@TestPropertySource` annotations on your tests.\r\n&gt;14. Devtools global settings properties in the `$HOME/.config/spring-boot` directory when devtools is active.\r\n&gt;Config data files are considered in the following order:\r\n\r\n&gt;1. Application properties packaged inside your jar (`application.properties` and YAML variants).\r\n&gt;2. Profile-specific application properties packaged inside your jar (`application-{profile}.properties` and YAML variants).\r\n&gt;3. Application properties outside of your packaged jar (`application.properties` and YAML variants).\r\n&gt;4. Profile-specific application properties outside of your packaged jar (`application-{profile}.properties` and YAML variants).\r\n\r\nSo in short no it is not a bug it is described and intended behavior you are seeing when using Spring Boot. \r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config ","title":"@PropertySource doesn&#39;t override properties defined in application.properties","body":"<p>The problem is that you are using Spring Boot and not plain Spring. Which has certain, opinionated views. As I mentioned in my comment you shouldn't be using <code>@PropertySource</code> but specify the additional configuration files through <code>--spring.config.additional-locations</code> or (which I didn't mention) add them through an <code>EnvironmentPostProcessor</code>.</p>\n<p>If you would inject the <code>Environment</code> into your test and obtain the <code>PropertySources</code> from it you can print them out to the console. You will then see the following.</p>\n<pre><code>ConfigurationPropertySourcesPropertySource {name='configurationProperties'}\nMapPropertySource {name='test'}\nMapPropertySource {name='Inlined Test Properties'}\nPropertiesPropertySource {name='systemProperties'}\nOriginAwareSystemEnvironmentPropertySource {name='systemEnvironment'}\nRandomValuePropertySource {name='random'}\nOriginTrackedMapPropertySource {name='Config resource 'class path resource [application.properties]' via location 'optional:classpath:/''}\nResourcePropertySource {name='class path resource [override.properties]'}\nResourcePropertySource {name='class path resource [app.properties]'}\nResourcePropertySource {name='class path resource [application.properties]'}\n</code></pre>\n<p>This is, regardless of using <code>@ConfigurationProperties</code>. Spring Boot will always load the <code>application.properties</code> before anything else, so before the <code>@PropertySource</code>s in some <code>@Configuration</code> files (or where ever you choose to place them). So this file <strong>always</strong> takes precedence, due to Spring Boot.</p>\n<p>Now as I stated you can circumvent this by either specifying configuration locations at startup by adding <code>--spring.config.additional-location=classpath:app.properties,classpath:override.properties</code> if you do that the output will change to the following:</p>\n<pre><code>ConfigurationPropertySourcesPropertySource {name='configurationProperties'}\nMapPropertySource {name='test'}\nMapPropertySource {name='Inlined Test Properties'}\nSimpleCommandLinePropertySource {name='commandLineArgs'}\nPropertiesPropertySource {name='systemProperties'}\nOriginAwareSystemEnvironmentPropertySource {name='systemEnvironment'}\nRandomValuePropertySource {name='random'}\nOriginTrackedMapPropertySource {name='Config resource 'class path resource [override.properties]' via location 'classpath:override.properties''}\nOriginTrackedMapPropertySource {name='Config resource 'class path resource [app.properties]' via location 'classpath:app.properties''}\nOriginTrackedMapPropertySource {name='Config resource 'class path resource [application.properties]' via location 'optional:classpath:/''}\n</code></pre>\n<p>And now your tests will pass (and you will see the overrides will work).</p>\n<p>Finally you could also use an <code>EnvironmentPostProcessor</code> to add these files as property sources and have them load automatically by specifying it in a <code>spring.factories</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.springpropertyoverriding;\n\nimport java.io.IOException;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.env.EnvironmentPostProcessor;\nimport org.springframework.core.env.ConfigurableEnvironment;\nimport org.springframework.core.env.MutablePropertySources;\nimport org.springframework.core.io.support.ResourcePropertySource;\n\npublic class AdditionalConfigurationFilesAdder implements EnvironmentPostProcessor {\n\n    private static final String[] locations =\n            new String[] { &quot;classpath:app.properties&quot;, &quot;classpath:override.properties&quot;};\n\n    @Override\n    public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\n        MutablePropertySources propertySources = environment.getPropertySources();\n        for (String location : locations) {\n            try {\n                ResourcePropertySource source = new ResourcePropertySource(location);\n                propertySources.addAfter(&quot;random&quot;, source);\n            } catch (IOException ex) {\n                throw new IllegalStateException(ex);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Now you can reference this in a <code>META-INF/spring.factories</code> file so that it will add the resources.</p>\n<pre><code>org.springframework.boot.env.EnvironmentPostProcessor=com.example.springpropertyoverriding.AdditionalConfigurationFilesAdder\n</code></pre>\n<p>And now again when running the tests the output will be (more or less) the same as with specifying <code>--spring.config.additional-location</code> and the tests will pass.</p>\n<p>You have to realize the fact that you are using Spring Boot and that comes with some opinionated views on what to load when. The order is actually also explained in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">Spring Boot Documentation</a>. Which clearly shows that <code>application.properties</code> always takes precedence over <code>@PropertySource</code>.</p>\n<blockquote>\n<p>Spring Boot uses a very particular PropertySource order that is designed to allow sensible overriding of values. Later property sources can override the values defined in earlier ones. Sources are considered in the following order:</p>\n<ol>\n<li>Default properties (specified by setting <code>SpringApplication.setDefaultProperties</code>).</li>\n<li><code>@PropertySource</code> annotations on your <code>@Configuration</code> classes. Please note that such property sources are not added to the <code>Environment</code> until the application context is being refreshed. This is too late to configure certain properties such as <code>logging.*</code> and <code>spring.main.*</code> which are read before refresh begins.</li>\n<li>Config data (such as application.properties files).</li>\n<li>A <code>RandomValuePropertySource</code> that has properties only in <code>random.*.</code></li>\n<li>OS environment variables.</li>\n<li>Java System properties (System.getProperties()).</li>\n<li>JNDI attributes from <code>java:comp/env</code>.</li>\n<li><code>ServletContext</code> init parameters.</li>\n<li><code>ServletConfig</code> init parameters.</li>\n<li>Properties from <code>SPRING_APPLICATION_JSON</code> (inline JSON embedded in an environment variable or system property).</li>\n<li>Command line arguments.\n12.properties attribute on your tests. Available on <code>@SpringBootTest</code> and the test annotations for testing a particular slice of your application.</li>\n<li><code>@TestPropertySource</code> annotations on your tests.</li>\n<li>Devtools global settings properties in the <code>$HOME/.config/spring-boot</code> directory when devtools is active.\nConfig data files are considered in the following order:</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol>\n<li>Application properties packaged inside your jar (<code>application.properties</code> and YAML variants).</li>\n<li>Profile-specific application properties packaged inside your jar (<code>application-{profile}.properties</code> and YAML variants).</li>\n<li>Application properties outside of your packaged jar (<code>application.properties</code> and YAML variants).</li>\n<li>Profile-specific application properties outside of your packaged jar (<code>application-{profile}.properties</code> and YAML variants).</li>\n</ol>\n</blockquote>\n<p>So in short no it is not a bug it is described and intended behavior you are seeing when using Spring Boot.</p>\n"}],"owner":{"account_id":9781391,"reputation":358,"user_id":7249306,"display_name":"Denis Abakumov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76231245,"answer_count":1,"score":1,"last_activity_date":1683874367,"creation_date":1683766286,"question_id":76223453,"body_markdown":"If any property is defined in `application.properties`, it cannot be overridden by re-defining it in other `.properties` files using the `@PropertySource` annotation. This bug is only valid if the original value is present in `application.properties`. Any other file (e.g. `app.properties`) will allow to successfully override its values.\r\n\r\nE.g.:\r\n\r\n`application.properties`:\r\n\r\n```\r\ntest.application=original\r\n```\r\n\r\n`app.properties`:\r\n\r\n```\r\ntest.app=original\r\n```\r\n\r\n`override.properties`:\r\n\r\n```\r\ntest.application=overridden\r\ntest.app=overridden\r\n```\r\n\r\n`ApplicationPropertiesConfig.java`:\r\n\r\n```\r\nimport lombok.Data;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.PropertySource;\r\n\r\n@Configuration\r\n@Data\r\n@PropertySource(value = {\r\n        &quot;classpath:application.properties&quot;,\r\n        &quot;classpath:app.properties&quot;,\r\n        &quot;classpath:override.properties&quot;\r\n})\r\n@ConfigurationProperties(prefix = &quot;test&quot;)\r\npublic class ApplicationPropertiesConfig {\r\n\r\n    private String application;  // == &quot;original&quot;   (BAD)\r\n\r\n    private String app;          // == &quot;overridden&quot; (GOOD)\r\n\r\n}\r\n```\r\n\r\nIn the configuration above, the field `application` won&#39;t be overridden upon bean creation and will keep its original value defined in `application.properties`.\r\n\r\nThis was confirmed with the most recent Spring Boot versions: 2.7.11 and 3.0.6.\r\n\r\nThe same behavior is observed even if `application.properties` is not listed under `@PropertySource` or if the `@PropertySources` annotation is used.\r\n\r\nCode reproducing the issue is here: https://github.com/denisab85/spring-property-overriding\r\n\r\n&gt;! A known workaround is renaming `application.properties` to something else (e.g. `app.properties`). Overriding works normally then. But this will not work in my case due to the size of the project where many classes already rely on the default `application.properties`.\r\n&gt;!\r\n&gt;! Source: a comment by Maksim Muruev (mmuruev) in [@PropertySource not overriding in order \\[SPR-13500\\]](https://github.com/spring-projects/spring-framework/issues/18078#issuecomment-711850211).","title":"@PropertySource doesn&#39;t override properties defined in application.properties","body":"<p>If any property is defined in <code>application.properties</code>, it cannot be overridden by re-defining it in other <code>.properties</code> files using the <code>@PropertySource</code> annotation. This bug is only valid if the original value is present in <code>application.properties</code>. Any other file (e.g. <code>app.properties</code>) will allow to successfully override its values.</p>\n<p>E.g.:</p>\n<p><code>application.properties</code>:</p>\n<pre><code>test.application=original\n</code></pre>\n<p><code>app.properties</code>:</p>\n<pre><code>test.app=original\n</code></pre>\n<p><code>override.properties</code>:</p>\n<pre><code>test.application=overridden\ntest.app=overridden\n</code></pre>\n<p><code>ApplicationPropertiesConfig.java</code>:</p>\n<pre><code>import lombok.Data;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\n\n@Configuration\n@Data\n@PropertySource(value = {\n        &quot;classpath:application.properties&quot;,\n        &quot;classpath:app.properties&quot;,\n        &quot;classpath:override.properties&quot;\n})\n@ConfigurationProperties(prefix = &quot;test&quot;)\npublic class ApplicationPropertiesConfig {\n\n    private String application;  // == &quot;original&quot;   (BAD)\n\n    private String app;          // == &quot;overridden&quot; (GOOD)\n\n}\n</code></pre>\n<p>In the configuration above, the field <code>application</code> won't be overridden upon bean creation and will keep its original value defined in <code>application.properties</code>.</p>\n<p>This was confirmed with the most recent Spring Boot versions: 2.7.11 and 3.0.6.</p>\n<p>The same behavior is observed even if <code>application.properties</code> is not listed under <code>@PropertySource</code> or if the <code>@PropertySources</code> annotation is used.</p>\n<p>Code reproducing the issue is here: <a href=\"https://github.com/denisab85/spring-property-overriding\" rel=\"nofollow noreferrer\">https://github.com/denisab85/spring-property-overriding</a></p>\n<blockquote class=\"spoiler\">\n<p> A known workaround is renaming <code>application.properties</code> to something else (e.g. <code>app.properties</code>). Overriding works normally then. But this will not work in my case due to the size of the project where many classes already rely on the default <code>application.properties</code>.\n\n Source: a comment by Maksim Muruev (mmuruev) in <a href=\"https://github.com/spring-projects/spring-framework/issues/18078#issuecomment-711850211\" rel=\"nofollow noreferrer\">@PropertySource not overriding in order [SPR-13500]</a>.</p>\n</blockquote>\n"},{"tags":["c#","java","android"],"answers":[{"tags":[],"owner":{"account_id":91548,"reputation":251015,"user_id":251311,"accept_rate":97,"display_name":"zerkms"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1345881455,"creation_date":1345881455,"answer_id":12120235,"question_id":12120222,"body_markdown":"    class Panel : View\r\n    {\r\n        public Panel(Context context) : base(context)\r\n        {\r\n        }\r\n    }\r\n\r\n[MSDN: Using Constructors (C# Programming Guide)][1]\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/ms173115%28v=vs.100%29.aspx","title":"C# equivalent on java constructor","body":"<pre><code>class Panel : View\n{\n    public Panel(Context context) : base(context)\n    {\n    }\n}\n</code></pre>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/ms173115%28v=vs.100%29.aspx\" rel=\"noreferrer\">MSDN: Using Constructors (C# Programming Guide)</a></p>\n"},{"tags":[],"owner":{"account_id":220462,"reputation":177831,"user_id":477878,"display_name":"Joachim Isaksson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1345881637,"creation_date":1345881637,"answer_id":12120257,"question_id":12120222,"body_markdown":"In C#, calling the base constructor is a bit more explicit (or rather explicitly separate)  \r\n\r\nWhile in Java it would look like just any statement that could be reordered with the other statements in the body, it&#39;s moved outside the normal constructor body in C#.\r\n\r\n    class Panel : View\r\n    {\r\n        public Panel(Context context) : base(context) { }\r\n    }","title":"C# equivalent on java constructor","body":"<p>In C#, calling the base constructor is a bit more explicit (or rather explicitly separate)  </p>\n\n<p>While in Java it would look like just any statement that could be reordered with the other statements in the body, it's moved outside the normal constructor body in C#.</p>\n\n<pre><code>class Panel : View\n{\n    public Panel(Context context) : base(context) { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28355973,"reputation":11,"user_id":21686723,"display_name":"Sathasivam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683874132,"creation_date":1682578431,"answer_id":76117528,"question_id":12120222,"body_markdown":"The syntax for calling base class constructor in java is similar in c sharp. The main difference is the keyword `super` in Java, `base` in C# (with a colon).\r\n\r\nThese will call base class constructor to execute first then derived class\r\n\r\n    class Panel : View\r\n    {\r\n         public Panel(Context context) : base(context)\r\n         {\r\n             // ...\r\n         }\r\n    }","title":"C# equivalent on java constructor","body":"<p>The syntax for calling base class constructor in java is similar in c sharp. The main difference is the keyword <code>super</code> in Java, <code>base</code> in C# (with a colon).</p>\n<p>These will call base class constructor to execute first then derived class</p>\n<pre><code>class Panel : View\n{\n     public Panel(Context context) : base(context)\n     {\n         // ...\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":1750378,"reputation":1586,"user_id":1599611,"accept_rate":86,"display_name":"CodeAndWave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1760,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12120235,"answer_count":3,"score":3,"last_activity_date":1683874184,"creation_date":1345881306,"question_id":12120222,"body_markdown":"Not sure if my title is correct. Forgot what it is code. But here I will explain it through code.\r\n\r\nYou see in Java, you can declare a class like this:\r\n\r\n    class Panel extends View {\r\n    \r\n    \t\tpublic Bitmap mBitmap;\r\n    \r\n    \t\tpublic Panel(Context context) {\r\n    \t\t\tsuper(context);\r\n    \t\t}\r\n    }\r\n\r\nIn C#:\r\n\r\n    class Panel : View\r\n    {\r\n         public Panel(Context context)\r\n         {\r\n             base(context);\r\n         }\r\n    }\r\n\r\nit throws an error.\r\n\r\nHow do you declare a class constructor like that in C# ? ","title":"C# equivalent on java constructor","body":"<p>Not sure if my title is correct. Forgot what it is code. But here I will explain it through code.</p>\n<p>You see in Java, you can declare a class like this:</p>\n<pre><code>class Panel extends View {\n\n        public Bitmap mBitmap;\n\n        public Panel(Context context) {\n            super(context);\n        }\n}\n</code></pre>\n<p>In C#:</p>\n<pre><code>class Panel : View\n{\n     public Panel(Context context)\n     {\n         base(context);\n     }\n}\n</code></pre>\n<p>it throws an error.</p>\n<p>How do you declare a class constructor like that in C# ?</p>\n"},{"tags":["java","json","jackson","immutability"],"answers":[{"tags":[],"owner":{"account_id":2131065,"reputation":639,"user_id":1891891,"display_name":"Sylvain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1459265824,"creation_date":1459265824,"answer_id":36288822,"question_id":35461831,"body_markdown":"Ok so I respond to myself :)\r\n\r\nIt seems that it is not possible to do that using only Jackson. \r\n\r\nBecause I want immutability, I&#39;ve turned myself to the &#39;**immutables**&#39; framework: http://immutables.github.io/ \r\n\r\nWith a little configuration, it will deal with extra parameters as stated in the following report: https://github.com/immutables/immutables/issues/185.\r\n\r\nIn my situation, I&#39;ve got the following code:\r\n\r\n    @Value.Immutable\r\n    @JsonSerialize(as = ImmutableOperation.class)\r\n    @JsonDeserialize(as = ImmutableOperation.class)\r\n    public abstract class Operation {    \r\n\r\n      @JsonAnyGetter\r\n      @Value.Parameter\r\n      public abstract Map&lt;String, String&gt; extra();\r\n    }\r\n\r\nRefer to the documentation of immutables for the details.","title":"Serialize/deserialize immutable objects that carry extra informations with Jackson","body":"<p>Ok so I respond to myself :)</p>\n\n<p>It seems that it is not possible to do that using only Jackson. </p>\n\n<p>Because I want immutability, I've turned myself to the '<strong>immutables</strong>' framework: <a href=\"http://immutables.github.io/\" rel=\"nofollow\">http://immutables.github.io/</a> </p>\n\n<p>With a little configuration, it will deal with extra parameters as stated in the following report: <a href=\"https://github.com/immutables/immutables/issues/185\" rel=\"nofollow\">https://github.com/immutables/immutables/issues/185</a>.</p>\n\n<p>In my situation, I've got the following code:</p>\n\n<pre><code>@Value.Immutable\n@JsonSerialize(as = ImmutableOperation.class)\n@JsonDeserialize(as = ImmutableOperation.class)\npublic abstract class Operation {    \n\n  @JsonAnyGetter\n  @Value.Parameter\n  public abstract Map&lt;String, String&gt; extra();\n}\n</code></pre>\n\n<p>Refer to the documentation of immutables for the details.</p>\n"},{"tags":[],"owner":{"account_id":6402126,"reputation":1833,"user_id":4978865,"accept_rate":87,"display_name":"Praytic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657679653,"creation_date":1657679653,"answer_id":72960295,"question_id":35461831,"body_markdown":"If you want to deserialize immutable entity with extra arguments you can utilize builder pattern:\r\n\r\n    @JsonPOJOBuilder\r\n    public class OperationBuilder {\r\n        \r\n        private String _id;\r\n        \r\n        private String _state;\r\n        \r\n        private Map&lt;String, Object&gt; extra = new HashMap&lt;&gt;();\r\n        \r\n        @JsonAnySetter\r\n        public OperationBuilder addExtra(String key, Object value) {\r\n            this.extra.put(key,value);\r\n            return this;\r\n        }\r\n        \r\n        // setters....\r\n        \r\n        public Operation build() {\r\n            return new Operation(...arguments...)\r\n    }\r\n    \r\nAnd your original class should have this annotation on a class level:\r\n\r\n    @JsonDeserializer(builder = OperationBuilder.class)\r\n\r\nThis way all your known and unknown (extra) fields will be populated inside the builder and then Jackson will call `build()` method at the end of the deserialization.","title":"Serialize/deserialize immutable objects that carry extra informations with Jackson","body":"<p>If you want to deserialize immutable entity with extra arguments you can utilize builder pattern:</p>\n<pre><code>@JsonPOJOBuilder\npublic class OperationBuilder {\n    \n    private String _id;\n    \n    private String _state;\n    \n    private Map&lt;String, Object&gt; extra = new HashMap&lt;&gt;();\n    \n    @JsonAnySetter\n    public OperationBuilder addExtra(String key, Object value) {\n        this.extra.put(key,value);\n        return this;\n    }\n    \n    // setters....\n    \n    public Operation build() {\n        return new Operation(...arguments...)\n}\n</code></pre>\n<p>And your original class should have this annotation on a class level:</p>\n<pre><code>@JsonDeserializer(builder = OperationBuilder.class)\n</code></pre>\n<p>This way all your known and unknown (extra) fields will be populated inside the builder and then Jackson will call <code>build()</code> method at the end of the deserialization.</p>\n"},{"tags":[],"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683873472,"creation_date":1683873472,"answer_id":76233707,"question_id":35461831,"body_markdown":"Yes it is possible. An example is below. The key tricks are that\r\n* you can make the `@JsonAnySetter` method private\r\n* you can use any `Map` classes you like (choose an immutable one if you like)\r\n\r\nIt would be slightly prettier if the map could be marked as `@JsonSetter` in the creator constructor but this feature is not available yet. Discussed https://github.com/FasterXML/jackson-databind/issues/562.\r\n\r\n```java\r\n@JsonInclude(Include.NON_NULL)\r\n@JsonAutoDetect(fieldVisibility = Visibility.ANY, creatorVisibility = Visibility.ANY, setterVisibility = Visibility.ANY)\r\npublic static final class WithMap {\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    private String name;\r\n\r\n    @JsonAnyGetter\r\n    private Map&lt;String, String&gt; map;\r\n\r\n    @JsonCreator\r\n    public WithMap(@JsonProperty(&quot;name&quot;) String name) {\r\n        this.name = name;\r\n        this.map = new HashMap&lt;&gt;();\r\n    }\r\n    \r\n    public WithMap(String name, Map&lt;String, String&gt; map) {\r\n        this.name = name;\r\n        this.map = map;\r\n    }\r\n    \r\n    @JsonAnySetter\r\n    private void put(String key, String value) {\r\n        map.put(key, value);\r\n    }\r\n\r\n    public String name() {\r\n        return name;\r\n    }\r\n\r\n    public Map&lt;String, String&gt; map() {\r\n        return Collections.unmodifiableMap(map);\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s a junit test:\r\n```java\r\n@Test\r\npublic void testWithMap() throws JsonProcessingException {\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;nickname&quot;, &quot;fred&quot;);\r\n    map.put(&quot;suburb&quot;, &quot;crace&quot;);\r\n    WithMap a = new WithMap(&quot;alf&quot;, map);\r\n    String json = m.writeValueAsString(a);\r\n    JsonNode tree = m.readTree(json);\r\n\r\n    // ensure that map entries are top-level properties\r\n    assertEquals(&quot;alf&quot;, tree.get(&quot;name&quot;).asText());\r\n    assertEquals(&quot;fred&quot;, tree.get(&quot;nickname&quot;).asText());\r\n\r\n    WithMap b = m.readValue(json, WithMap.class);\r\n    assertEquals(&quot;alf&quot;, b.name);\r\n    assertEquals(&quot;fred&quot;, b.map.get(&quot;nickname&quot;));\r\n    assertEquals(&quot;crace&quot;, b.map.get(&quot;suburb&quot;));\r\n}\r\n```","title":"Serialize/deserialize immutable objects that carry extra informations with Jackson","body":"<p>Yes it is possible. An example is below. The key tricks are that</p>\n<ul>\n<li>you can make the <code>@JsonAnySetter</code> method private</li>\n<li>you can use any <code>Map</code> classes you like (choose an immutable one if you like)</li>\n</ul>\n<p>It would be slightly prettier if the map could be marked as <code>@JsonSetter</code> in the creator constructor but this feature is not available yet. Discussed <a href=\"https://github.com/FasterXML/jackson-databind/issues/562\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/562</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(Include.NON_NULL)\n@JsonAutoDetect(fieldVisibility = Visibility.ANY, creatorVisibility = Visibility.ANY, setterVisibility = Visibility.ANY)\npublic static final class WithMap {\n\n    @JsonProperty(&quot;name&quot;)\n    private String name;\n\n    @JsonAnyGetter\n    private Map&lt;String, String&gt; map;\n\n    @JsonCreator\n    public WithMap(@JsonProperty(&quot;name&quot;) String name) {\n        this.name = name;\n        this.map = new HashMap&lt;&gt;();\n    }\n    \n    public WithMap(String name, Map&lt;String, String&gt; map) {\n        this.name = name;\n        this.map = map;\n    }\n    \n    @JsonAnySetter\n    private void put(String key, String value) {\n        map.put(key, value);\n    }\n\n    public String name() {\n        return name;\n    }\n\n    public Map&lt;String, String&gt; map() {\n        return Collections.unmodifiableMap(map);\n    }\n}\n</code></pre>\n<p>Here's a junit test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testWithMap() throws JsonProcessingException {\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;nickname&quot;, &quot;fred&quot;);\n    map.put(&quot;suburb&quot;, &quot;crace&quot;);\n    WithMap a = new WithMap(&quot;alf&quot;, map);\n    String json = m.writeValueAsString(a);\n    JsonNode tree = m.readTree(json);\n\n    // ensure that map entries are top-level properties\n    assertEquals(&quot;alf&quot;, tree.get(&quot;name&quot;).asText());\n    assertEquals(&quot;fred&quot;, tree.get(&quot;nickname&quot;).asText());\n\n    WithMap b = m.readValue(json, WithMap.class);\n    assertEquals(&quot;alf&quot;, b.name);\n    assertEquals(&quot;fred&quot;, b.map.get(&quot;nickname&quot;));\n    assertEquals(&quot;crace&quot;, b.map.get(&quot;suburb&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":2131065,"reputation":639,"user_id":1891891,"display_name":"Sylvain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36288822,"answer_count":3,"score":2,"last_activity_date":1683873472,"creation_date":1455725097,"question_id":35461831,"body_markdown":"I try to use only immutables objects in my application. I&#39;ve got a REST service that will take arbitrary JSon objects as input. \r\n\r\nI&#39;ve a Java class that map theses objects, and I want to make them immutable + able to deal with extra parameters (just like using `@JsonAnySetter`).\r\n\r\nHere is my java class:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Operation {\r\n\r\n    private final String _id;\r\n\r\n    private final String state;\r\n\r\n    private final Map&lt;String, Object&gt; extra;\r\n\r\n    public Operation(String _id, String state, Map&lt;String,Object&gt; extra) {\r\n        this._id = _id;\r\n        this.state = state;\r\n        this.extra = extra;\r\n    }\r\n\r\n    // getters....\r\n    }\r\n\r\nUsing `@JsonAnySetter` I would have:\r\n\r\n    public class Operation {\r\n\r\n    private final String _id;\r\n\r\n    private final String state;\r\n\r\n    private Map&lt;String, Object&gt; extra = new HashMap&lt;&gt;();\r\n\r\n    public Operation(String _id, String state) {\r\n        this._id = _id;\r\n        this.state = state;\r\n    }\r\n\r\n    @JsonAnySetter\r\n    public void addExtra(String key, Object value) {\r\n        this.extra.put(key,value);\r\n    }\r\n\r\n    // getters....\r\n    }\r\n\r\nBut this is not immutable anymore !\r\n\r\nThis will not work because Jackson do not find any &quot;extra&quot; json attribute to read. I would like that everything that cannot be mapped be added to my map.\r\n\r\nAny idea of how to do this ? (or is it just possible :)\r\n\r\nNote: I use javac with -parameters option and the `ParameterNameModule` from jackson so that I don&#39;t need `@JsonCreator` option.\r\n","title":"Serialize/deserialize immutable objects that carry extra informations with Jackson","body":"<p>I try to use only immutables objects in my application. I've got a REST service that will take arbitrary JSon objects as input. </p>\n\n<p>I've a Java class that map theses objects, and I want to make them immutable + able to deal with extra parameters (just like using <code>@JsonAnySetter</code>).</p>\n\n<p>Here is my java class:\n</p>\n\n<pre><code>public class Operation {\n\nprivate final String _id;\n\nprivate final String state;\n\nprivate final Map&lt;String, Object&gt; extra;\n\npublic Operation(String _id, String state, Map&lt;String,Object&gt; extra) {\n    this._id = _id;\n    this.state = state;\n    this.extra = extra;\n}\n\n// getters....\n}\n</code></pre>\n\n<p>Using <code>@JsonAnySetter</code> I would have:</p>\n\n<pre><code>public class Operation {\n\nprivate final String _id;\n\nprivate final String state;\n\nprivate Map&lt;String, Object&gt; extra = new HashMap&lt;&gt;();\n\npublic Operation(String _id, String state) {\n    this._id = _id;\n    this.state = state;\n}\n\n@JsonAnySetter\npublic void addExtra(String key, Object value) {\n    this.extra.put(key,value);\n}\n\n// getters....\n}\n</code></pre>\n\n<p>But this is not immutable anymore !</p>\n\n<p>This will not work because Jackson do not find any \"extra\" json attribute to read. I would like that everything that cannot be mapped be added to my map.</p>\n\n<p>Any idea of how to do this ? (or is it just possible :)</p>\n\n<p>Note: I use javac with -parameters option and the <code>ParameterNameModule</code> from jackson so that I don't need <code>@JsonCreator</code> option.</p>\n"},{"tags":["java","arrays","return","arrayindexoutofboundsexception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":5,"creation_date":1683802492,"post_id":76226815,"comment_id":134423854,"body_markdown":"return; will always end the method. But it must be reached first. and, indeed, there is no need to have return; as last statement. The only use case for which to add return statements in a void method, is to prevent the following statements to be executed","body":"return; will always end the method. But it must be reached first. and, indeed, there is no need to have return; as last statement. The only use case for which to add return statements in a void method, is to prevent the following statements to be executed"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1683803173,"post_id":76226815,"comment_id":134424005,"body_markdown":"When you say: &quot;Return values after the arrays don&#39;t work&quot; - this does not make sense. This is a `void` method. It __cannot__ return a value. Your question is unclear; it is likely that you are confused about a few concepts, which naturally means a bunch of things you state in your own terms in this question aren&#39;t understandable. I suggest you edit this question: Show some code (preferably, that compiles on its own), then show the error (exception, or compiler error - whatever the problem is). If no error, show what it outputs and show what you wanted it to output.","body":"When you say: &quot;Return values after the arrays don&#39;t work&quot; - this does not make sense. This is a <code>void</code> method. It <b>cannot</b> return a value. Your question is unclear; it is likely that you are confused about a few concepts, which naturally means a bunch of things you state in your own terms in this question aren&#39;t understandable. I suggest you edit this question: Show some code (preferably, that compiles on its own), then show the error (exception, or compiler error - whatever the problem is). If no error, show what it outputs and show what you wanted it to output."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683805826,"post_id":76226815,"comment_id":134424588,"body_markdown":"Please use text instead of images. See https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question for more details on the reason.","body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683805946,"post_id":76226815,"comment_id":134424615,"body_markdown":"Unless this is an exercise to learn to program data validation, you should use Java library classes from package java.time https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html to work with dates and time.","body":"Unless this is an exercise to learn to program data validation, you should use Java library classes from package java.time <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a> to work with dates and time."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1683813656,"post_id":76226815,"comment_id":134426576,"body_markdown":"Note that _&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method_ is a warning from IntelliJ IDEA. It doesn&#39;t mean that your code is invalid - it just means that you can safely remove that specific return statement without changing the behaviour of the method. If the method is already complete then I would suggest to do so (because that means less code to read). If however the method is not completely implemented then ignore that warning for the moment - maybe you will later add some code that will let the warning disappear.","body":"Note that <i>&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method</i> is a warning from IntelliJ IDEA. It doesn&#39;t mean that your code is invalid - it just means that you can safely remove that specific return statement without changing the behaviour of the method. If the method is already complete then I would suggest to do so (because that means less code to read). If however the method is not completely implemented then ignore that warning for the moment - maybe you will later add some code that will let the warning disappear."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1683816382,"post_id":76226815,"comment_id":134427330,"body_markdown":"The message that you quote, *&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method.* usually is not an error, it’s a hint that you *may* leave out the `retun;` is you desire to. Some IDEs can be set up to flag this as an error and refuse to compile, but it’s unlikely that your IDE is, and if it is, you can search for its settings and change this particular one.","body":"The message that you quote, <i>&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method.</i> usually is not an error, it’s a hint that you <i>may</i> leave out the <code>retun;</code> is you desire to. Some IDEs can be set up to flag this as an error and refuse to compile, but it’s unlikely that your IDE is, and if it is, you can search for its settings and change this particular one."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1683821518,"post_id":76226815,"comment_id":134428726,"body_markdown":"You do not need to repeat the same comment 3 times. `return;` is how you do it. Which you are - that&#39;s not the problem. You&#39;re not going to get more useful answers unless you do what we ask you to do. Help us help you.","body":"You do not need to repeat the same comment 3 times. <code>return;</code> is how you do it. Which you are - that&#39;s not the problem. You&#39;re not going to get more useful answers unless you do what we ask you to do. Help us help you."},{"owner":{"account_id":23553613,"reputation":1,"user_id":17703968,"display_name":"DBG"},"score":0,"creation_date":1683821820,"post_id":76226815,"comment_id":134428805,"body_markdown":"@Stultuske to prevent executing them it&#39;s exactly what I want after a specific condition is true. I have to create some arrays so that I can check more conditions. If I create the queries just after the method declaration, ArrayhIndexOutOfBounds pops up as the array is empty at that time. If I create them after the first checkers, the compiler pops up a message that those return are unnecessary...","body":"@Stultuske to prevent executing them it&#39;s exactly what I want after a specific condition is true. I have to create some arrays so that I can check more conditions. If I create the queries just after the method declaration, ArrayhIndexOutOfBounds pops up as the array is empty at that time. If I create them after the first checkers, the compiler pops up a message that those return are unnecessary..."},{"owner":{"account_id":23553613,"reputation":1,"user_id":17703968,"display_name":"DBG"},"score":0,"creation_date":1683822182,"post_id":76226815,"comment_id":134428872,"body_markdown":"@ThomasKl&#228;ger I use the return statement for preventing more code to be executed and then printed on the console","body":"@ThomasKl&#228;ger I use the return statement for preventing more code to be executed and then printed on the console"},{"owner":{"account_id":23553613,"reputation":1,"user_id":17703968,"display_name":"DBG"},"score":1,"creation_date":1683822245,"post_id":76226815,"comment_id":134428887,"body_markdown":"@OleV.V.return in a void method just jumps up so that it prevents other code to be executed","body":"@OleV.V.return in a void method just jumps up so that it prevents other code to be executed"},{"owner":{"account_id":23553613,"reputation":1,"user_id":17703968,"display_name":"DBG"},"score":0,"creation_date":1683822361,"post_id":76226815,"comment_id":134428906,"body_markdown":"@rzwitserloot I want to jump out when a certain condition evaluates to true so that&#39;s why I use return. I know that a void method does not return anything but it jumps out as shown in the compiler.","body":"@rzwitserloot I want to jump out when a certain condition evaluates to true so that&#39;s why I use return. I know that a void method does not return anything but it jumps out as shown in the compiler."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1683824643,"post_id":76226815,"comment_id":134429420,"body_markdown":"I explained what is needed for us to answer you. Repeating yourself isn&#39;t getting us anywhere. I think you&#39;re beyond my didactic skills to help at this point, I&#39;m afraid.","body":"I explained what is needed for us to answer you. Repeating yourself isn&#39;t getting us anywhere. I think you&#39;re beyond my didactic skills to help at this point, I&#39;m afraid."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":1,"creation_date":1683828037,"post_id":76226815,"comment_id":134430081,"body_markdown":"The warning &quot; &#39;return&#39; is unnecessary&quot; is likely because of a `return` statement that you think is in an `if` branch, is not in reality. That could happen when you misplaced a curly brace somewhere, for example.","body":"The warning &quot; &#39;return&#39; is unnecessary&quot; is likely because of a <code>return</code> statement that you think is in an <code>if</code> branch, is not in reality. That could happen when you misplaced a curly brace somewhere, for example."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683838507,"post_id":76226815,"comment_id":134432170,"body_markdown":"Are you saying that your IDE is marking a `return` statement that is **not** at the end of the method with the message *&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method*?? That would be very weird.","body":"Are you saying that your IDE is marking a <code>return</code> statement that is <b>not</b> at the end of the method with the message <i>&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method</i>?? That would be very weird."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683838777,"post_id":76226815,"comment_id":134432206,"body_markdown":"BTW you also need to put the check `if (arrDiaHora.length != 2)` before `String diamesany = arrDiaHora[0];` to guard against `ArrayIndexOutOfBoundsException`.","body":"BTW you also need to put the check <code>if (arrDiaHora.length != 2)</code> before <code>String diamesany = arrDiaHora[0];</code> to guard against <code>ArrayIndexOutOfBoundsException</code>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1683876281,"post_id":76226815,"comment_id":134436452,"body_markdown":"@DBG either they do prevent it, or your condition doesn&#39;t evaluate to true, meaning the return statement isn&#39;t reached. About your ArrayIndexOutOfBoundsException, this is a good read: https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it","body":"@DBG either they do prevent it, or your condition doesn&#39;t evaluate to true, meaning the return statement isn&#39;t reached. About your ArrayIndexOutOfBoundsException, this is a good read: <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\" title=\"what causes a java lang arrayindexoutofboundsexception and how do i prevent it\">stackoverflow.com/questions/5554734/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683858156,"creation_date":1683826894,"answer_id":76230311,"question_id":76226815,"body_markdown":"It looks like you are trying to split a string that contains a date.  Possibly something like this.  `2023-05-11 12:25:32`.\r\n\r\nRather than trying to reinvent the wheel, check out some of these other options.\r\n\r\n# Option 1: SimpleDateFormat\r\n\r\nWhy not use `SimpleDateFormat` to do the job for you?  This method has been around since the beginning and does the job pretty well. \r\n `SimpleDateFormat` will attempt to parse the date based on a pattern you define.  If it fails to parse, it will throw a checked exception.\r\n\r\n```java\r\npublic static void validar(String data)\r\n{\r\n  DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd h:mm:ss&quot;);\r\n  try \r\n  {\r\n    format.parse(data);\r\n  } \r\n  catch (ParseException e) \r\n  {\r\n    System.out.println(e.getMessage());\r\n    System.out.println(&quot;El format de la data &#233;s incorrecte. Comproveu que la data coincideixi amb el format correcte &quot; +\r\n      &quot;de \\&quot;AAAA-MM-DD hh:mm:ss\\&quot;&quot;);\r\n  }\r\n}\r\n```\r\nThis way you don&#39;t need to worry about all of the complicated logic.  Instead, you try to parse the date, and if your parse fails, then the date fails validation.\r\n\r\n# Option 2: Simple Regex\r\n\r\nIf you aren&#39;t concerned with the numbers actually corresponding to a valid date, and just that they match the format you expect, than you can accomplish this via simple pattern matching.\r\n```java\r\n  public static void validarRegex(String data)\r\n  {\r\n    Pattern pattern = Pattern.compile(&quot;^\\\\d{4}\\\\-\\\\d{2}\\\\-\\\\d{2} \\\\d{2}:\\\\d{2}:\\\\d{2}$&quot;);\r\n    if (!data.matches(pattern.pattern())) {\r\n      System.out.println(data);\r\n      System.out.println(&quot;El format de la data &#233;s incorrecte. Comproveu que la data coincideixi amb el format &quot; +\r\n        &quot;correcte &quot; + &quot;de \\&quot;AAAA-MM-DD hh:mm:ss\\&quot;&quot;);\r\n    }\r\n  }\r\n```\r\n\r\n# Option 3: DateTimeFormatter\r\n\r\nAs user Ole V.V. pointed out, you can also use the updated `DateTimeFormatter` to parse the string as well.  A word of warning here.  The `DateTimeFormatter` throws an unchecked exception, so you should be prepared for this behavior.  My example below does not catch the exception.  You can catch it here, or higher up the chain if you choose.\r\n\r\n```java\r\n  public static void validar(String data)\r\n  {\r\n    System.out.println(data);\r\n    LocalDateTime.parse(data, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;));\r\n  }\r\n```\r\n\r\n# Option 4:  Complex Regex\r\n\r\nI don&#39;t recommend this, because it&#39;s nearly impossible to get a good check due to things like leap years.  However, if you want to give it a go, there are [plenty of examples floating around](https://stackoverflow.com/a/15504877/6860078).\r\n\r\n# Option 5:  String parsing\r\n\r\nThis is essentially what you are already doing, but a bit more concise.\r\n\r\n```java\r\npublic static void validate(String data)\r\n{\r\n  System.out.println(data);\r\n\r\n  if (isValidDate(data)) {\r\n    String[] arrDiaHora = data.split(&quot; &quot;);\r\n    String diamesany = arrDiaHora[0];\r\n    String horaminutsegon = arrDiaHora[1];\r\n\r\n    String[] arrDiaMesAny = diamesany.split(&quot;-&quot;);\r\n    String strany = arrDiaMesAny[0];\r\n    String strmes = arrDiaMesAny[1];\r\n    String strdia = arrDiaMesAny[2];\r\n\r\n    String[] arrHoraMinutSegon = horaminutsegon.split(&quot;:&quot;);\r\n    String strhora = arrHoraMinutSegon[0];\r\n    String strminut = arrHoraMinutSegon[1];\r\n    String strsegon = arrHoraMinutSegon[2];\r\n\r\n    if (arrDiaHora.length != 2) {\r\n      System.out.println(&quot;No hi ha dos blocs formats per data i temps&quot;);\r\n      System.out.println(&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n    }\r\n  }\r\n}\r\n\r\npublic static boolean isValidDate(String data)\r\n{\r\n  boolean valid = true;\r\n  if (!data.contains(&quot; &quot;)) {\r\n    invalidData(&quot;No hi ha separaci&#243; entre data i temps&quot;);\r\n    valid = false;\r\n  }\r\n  else if (!data.contains(&quot;-&quot;)) {\r\n    invalidData(&quot;La data no cont&#233; un guions&quot;);\r\n    valid = false;\r\n  }\r\n  else if (!data.contains(&quot;:&quot;)) {\r\n    invalidData(&quot;El temps de la data no cont&#233; :&#39;s&quot;);\r\n    valid = false;\r\n  }\r\n  return valid;\r\n}\r\n\r\npublic static void invalidData(String message)\r\n{\r\n  System.out.println(message);\r\n  System.out.println(&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n}\r\n```","title":"Return keyword in void method not always working JAVA","body":"<p>It looks like you are trying to split a string that contains a date.  Possibly something like this.  <code>2023-05-11 12:25:32</code>.</p>\n<p>Rather than trying to reinvent the wheel, check out some of these other options.</p>\n<h1>Option 1: SimpleDateFormat</h1>\n<p>Why not use <code>SimpleDateFormat</code> to do the job for you?  This method has been around since the beginning and does the job pretty well.\n<code>SimpleDateFormat</code> will attempt to parse the date based on a pattern you define.  If it fails to parse, it will throw a checked exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void validar(String data)\n{\n  DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd h:mm:ss&quot;);\n  try \n  {\n    format.parse(data);\n  } \n  catch (ParseException e) \n  {\n    System.out.println(e.getMessage());\n    System.out.println(&quot;El format de la data és incorrecte. Comproveu que la data coincideixi amb el format correcte &quot; +\n      &quot;de \\&quot;AAAA-MM-DD hh:mm:ss\\&quot;&quot;);\n  }\n}\n</code></pre>\n<p>This way you don't need to worry about all of the complicated logic.  Instead, you try to parse the date, and if your parse fails, then the date fails validation.</p>\n<h1>Option 2: Simple Regex</h1>\n<p>If you aren't concerned with the numbers actually corresponding to a valid date, and just that they match the format you expect, than you can accomplish this via simple pattern matching.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void validarRegex(String data)\n  {\n    Pattern pattern = Pattern.compile(&quot;^\\\\d{4}\\\\-\\\\d{2}\\\\-\\\\d{2} \\\\d{2}:\\\\d{2}:\\\\d{2}$&quot;);\n    if (!data.matches(pattern.pattern())) {\n      System.out.println(data);\n      System.out.println(&quot;El format de la data és incorrecte. Comproveu que la data coincideixi amb el format &quot; +\n        &quot;correcte &quot; + &quot;de \\&quot;AAAA-MM-DD hh:mm:ss\\&quot;&quot;);\n    }\n  }\n</code></pre>\n<h1>Option 3: DateTimeFormatter</h1>\n<p>As user Ole V.V. pointed out, you can also use the updated <code>DateTimeFormatter</code> to parse the string as well.  A word of warning here.  The <code>DateTimeFormatter</code> throws an unchecked exception, so you should be prepared for this behavior.  My example below does not catch the exception.  You can catch it here, or higher up the chain if you choose.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void validar(String data)\n  {\n    System.out.println(data);\n    LocalDateTime.parse(data, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;));\n  }\n</code></pre>\n<h1>Option 4:  Complex Regex</h1>\n<p>I don't recommend this, because it's nearly impossible to get a good check due to things like leap years.  However, if you want to give it a go, there are <a href=\"https://stackoverflow.com/a/15504877/6860078\">plenty of examples floating around</a>.</p>\n<h1>Option 5:  String parsing</h1>\n<p>This is essentially what you are already doing, but a bit more concise.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void validate(String data)\n{\n  System.out.println(data);\n\n  if (isValidDate(data)) {\n    String[] arrDiaHora = data.split(&quot; &quot;);\n    String diamesany = arrDiaHora[0];\n    String horaminutsegon = arrDiaHora[1];\n\n    String[] arrDiaMesAny = diamesany.split(&quot;-&quot;);\n    String strany = arrDiaMesAny[0];\n    String strmes = arrDiaMesAny[1];\n    String strdia = arrDiaMesAny[2];\n\n    String[] arrHoraMinutSegon = horaminutsegon.split(&quot;:&quot;);\n    String strhora = arrHoraMinutSegon[0];\n    String strminut = arrHoraMinutSegon[1];\n    String strsegon = arrHoraMinutSegon[2];\n\n    if (arrDiaHora.length != 2) {\n      System.out.println(&quot;No hi ha dos blocs formats per data i temps&quot;);\n      System.out.println(&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n    }\n  }\n}\n\npublic static boolean isValidDate(String data)\n{\n  boolean valid = true;\n  if (!data.contains(&quot; &quot;)) {\n    invalidData(&quot;No hi ha separació entre data i temps&quot;);\n    valid = false;\n  }\n  else if (!data.contains(&quot;-&quot;)) {\n    invalidData(&quot;La data no conté un guions&quot;);\n    valid = false;\n  }\n  else if (!data.contains(&quot;:&quot;)) {\n    invalidData(&quot;El temps de la data no conté :'s&quot;);\n    valid = false;\n  }\n  return valid;\n}\n\npublic static void invalidData(String message)\n{\n  System.out.println(message);\n  System.out.println(&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683873408,"creation_date":1683873408,"answer_id":76233702,"question_id":76226815,"body_markdown":"The other answer nicely describes better ways to validate dates.\r\n\r\nIMHO it fails to address your concern: why does IntelliJ IDEA report &quot;**&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method.**&quot; on some of your return statements?\r\n\r\nTo explain that, I simplified your example to this:\r\n\r\n    public static void validar(int n) {\r\n        System.out.println(n);\r\n\r\n        if (n == 3) {\r\n            System.out.println(&quot;a&quot;);\r\n            return;  // Note 1\r\n        } else if (n == 5) {\r\n            System.out.println(&quot;b&quot;);\r\n            return;  // Note 1\r\n        }\r\n\r\n        int x = n * n;\r\n\r\n        if (x == 4) {\r\n            System.out.println(&quot;c&quot;);\r\n            return;  // Note 2\r\n        } else if (x == 16) {\r\n            System.out.println(&quot;c&quot;);\r\n            return;  // Note 2\r\n        }\r\n   }\r\n\r\nI&#39;ve added two notices to the return statements:\r\n\r\nNote 1: the `return;` statements at these places is needed to exit early from the method. Without these `return;` statements the rest of the method would also execute. Accordingly there is no report from IntelliJ IDEA at these\r\n\r\nNote 2: there are no more statements that could possibly be executed after these `return;` statements. They are therefore unnecessary. They are the last statements in the branches of an `if` - `else if` chain and there are no more statements after that chain. That means that execution of the method ends after executing the preceding statement anyway. For these `return;` statements IntelliJ IDEA reports &quot;**&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method.**&quot;.\r\n\r\nPlease note that this is an informational message: its intention is to help you write better (cleaner) code. It doesn&#39;t mean that your code is faulty (i.e. it doesn&#39;t mean your code will not compile or will have bugs in it.)\r\n\r\nYou can change that simplified code (without changing its observable behaviour) to\r\n\r\n    public static void validar(int n) {\r\n        System.out.println(n);\r\n\r\n        if (n == 3) {\r\n            System.out.println(&quot;a&quot;);\r\n            return;  // Note 1\r\n        } else if (n == 5) {\r\n            System.out.println(&quot;b&quot;);\r\n            return;  // Note 1\r\n        }\r\n\r\n        int x = n * n;\r\n\r\n        if (x == 4) {\r\n            System.out.println(&quot;c&quot;);\r\n        } else if (x == 16) {\r\n            System.out.println(&quot;c&quot;);\r\n        }\r\n   }\r\n","title":"Return keyword in void method not always working JAVA","body":"<p>The other answer nicely describes better ways to validate dates.</p>\n<p>IMHO it fails to address your concern: why does IntelliJ IDEA report &quot;<strong>'return' is unnecessary as the last statement in a 'void' method.</strong>&quot; on some of your return statements?</p>\n<p>To explain that, I simplified your example to this:</p>\n<pre><code>public static void validar(int n) {\n    System.out.println(n);\n\n    if (n == 3) {\n        System.out.println(&quot;a&quot;);\n        return;  // Note 1\n    } else if (n == 5) {\n        System.out.println(&quot;b&quot;);\n        return;  // Note 1\n    }\n\n    int x = n * n;\n\n    if (x == 4) {\n        System.out.println(&quot;c&quot;);\n        return;  // Note 2\n    } else if (x == 16) {\n        System.out.println(&quot;c&quot;);\n        return;  // Note 2\n    }\n</code></pre>\n<p>}</p>\n<p>I've added two notices to the return statements:</p>\n<p>Note 1: the <code>return;</code> statements at these places is needed to exit early from the method. Without these <code>return;</code> statements the rest of the method would also execute. Accordingly there is no report from IntelliJ IDEA at these</p>\n<p>Note 2: there are no more statements that could possibly be executed after these <code>return;</code> statements. They are therefore unnecessary. They are the last statements in the branches of an <code>if</code> - <code>else if</code> chain and there are no more statements after that chain. That means that execution of the method ends after executing the preceding statement anyway. For these <code>return;</code> statements IntelliJ IDEA reports &quot;<strong>'return' is unnecessary as the last statement in a 'void' method.</strong>&quot;.</p>\n<p>Please note that this is an informational message: its intention is to help you write better (cleaner) code. It doesn't mean that your code is faulty (i.e. it doesn't mean your code will not compile or will have bugs in it.)</p>\n<p>You can change that simplified code (without changing its observable behaviour) to</p>\n<pre><code>public static void validar(int n) {\n    System.out.println(n);\n\n    if (n == 3) {\n        System.out.println(&quot;a&quot;);\n        return;  // Note 1\n    } else if (n == 5) {\n        System.out.println(&quot;b&quot;);\n        return;  // Note 1\n    }\n\n    int x = n * n;\n\n    if (x == 4) {\n        System.out.println(&quot;c&quot;);\n    } else if (x == 16) {\n        System.out.println(&quot;c&quot;);\n    }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":23553613,"reputation":1,"user_id":17703968,"display_name":"DBG"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1683873408,"creation_date":1683802230,"question_id":76226815,"body_markdown":"I am coding with Java a function that checks if a date it&#39;s ok or not and want to jump up of the method if some condition is executed. \r\nI&#39;ve read a similar question but hasn&#39;t the same trouble as it occurs in general and that&#39;s not what I want to ask.\r\n\r\n```\r\npublic static void validar(String data) {\r\n\r\n        System.out.println (data);\r\n\r\n        if (data.indexOf(&quot; &quot;) == -1) {\r\n            System.out.println (&quot;No hi ha separaci&#243; entre data i temps&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n        else if (data.indexOf(&quot;-&quot;) == -1) {\r\n            System.out.println (&quot;La data no cont&#233; un guions&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n        else if (data.indexOf(&quot;:&quot;) == -1) {\r\n            System.out.println (&quot;El temps de la data no cont&#233; :&#39;s&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n\r\n        ...\r\n```\r\nIt all works when done like this it:\r\n```\r\n2023-01-17 17:05:26\r\nData correcta\r\n\r\n2023-01-1717:05:26\r\nNo hi ha separaci&#243; entre data i temps\r\nData incorrecta\r\n\r\n2023/01-17 17.05.26\r\nEl temps de la data no cont&#233; :&#39;s\r\nData incorrecta\r\n\r\n2023-01-17 17.05.26\r\nEl temps de la data no cont&#233; :&#39;s\r\nData incorrecta\r\n```\r\n\r\nHave other conditions to check related to the date (if the date&#39;s length is 3 and the same for the time and much more) so I&#39;ve created some array.\r\n\r\nIf I create them in the middle of the conditions like:\r\n```\r\nif (data.indexOf(&quot; &quot;) == -1) {\r\n            System.out.println (&quot;No hi ha separaci&#243; entre data i temps&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n        else if (data.indexOf(&quot;-&quot;) == -1) {\r\n            System.out.println (&quot;La data no cont&#233; un guions&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n        else if (data.indexOf(&quot;:&quot;) == -1) {\r\n            System.out.println (&quot;El temps de la data no cont&#233; :&#39;s&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n\r\n        String[] arrDiaHora = data.split(&quot; &quot;);\r\n        String diamesany = arrDiaHora[0];\r\n        String horaminutsegon = arrDiaHora[1];\r\n\r\n        String[] arrDiaMesAny = diamesany.split(&quot;-&quot;);\r\n        String strany = arrDiaMesAny[0];\r\n        String strmes = arrDiaMesAny[1];\r\n        String strdia = arrDiaMesAny[2];\r\n\r\n        String[] arrHoraMinutSegon = horaminutsegon.split(&quot;:&quot;);\r\n        String strhora = arrHoraMinutSegon[0];\r\n        String strminut = arrHoraMinutSegon[1];\r\n        String strsegon = arrHoraMinutSegon[2];\r\n\r\n        if (arrDiaHora.length != 2) {\r\n            System.out.println (&quot;No hi ha dos blocs formats per data i temps&quot;);\r\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\r\n            return;\r\n        }\r\n        \r\n        ...\r\n```\r\n\r\nReturn values after the arrays don&#39;t work and get **&#39;return&#39; is unnecessary as the last statement in a &#39;void&#39; method**.\r\n\r\nIf I create the arrays before checking the conditions, I got an **ArrayIndexOutOfBoundsException** \r\n\r\nAny help ?\r\n\r\nThanks in advance !!\r\n","title":"Return keyword in void method not always working JAVA","body":"<p>I am coding with Java a function that checks if a date it's ok or not and want to jump up of the method if some condition is executed.\nI've read a similar question but hasn't the same trouble as it occurs in general and that's not what I want to ask.</p>\n<pre><code>public static void validar(String data) {\n\n        System.out.println (data);\n\n        if (data.indexOf(&quot; &quot;) == -1) {\n            System.out.println (&quot;No hi ha separació entre data i temps&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n        else if (data.indexOf(&quot;-&quot;) == -1) {\n            System.out.println (&quot;La data no conté un guions&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n        else if (data.indexOf(&quot;:&quot;) == -1) {\n            System.out.println (&quot;El temps de la data no conté :'s&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n\n        ...\n</code></pre>\n<p>It all works when done like this it:</p>\n<pre><code>2023-01-17 17:05:26\nData correcta\n\n2023-01-1717:05:26\nNo hi ha separació entre data i temps\nData incorrecta\n\n2023/01-17 17.05.26\nEl temps de la data no conté :'s\nData incorrecta\n\n2023-01-17 17.05.26\nEl temps de la data no conté :'s\nData incorrecta\n</code></pre>\n<p>Have other conditions to check related to the date (if the date's length is 3 and the same for the time and much more) so I've created some array.</p>\n<p>If I create them in the middle of the conditions like:</p>\n<pre><code>if (data.indexOf(&quot; &quot;) == -1) {\n            System.out.println (&quot;No hi ha separació entre data i temps&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n        else if (data.indexOf(&quot;-&quot;) == -1) {\n            System.out.println (&quot;La data no conté un guions&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n        else if (data.indexOf(&quot;:&quot;) == -1) {\n            System.out.println (&quot;El temps de la data no conté :'s&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n\n        String[] arrDiaHora = data.split(&quot; &quot;);\n        String diamesany = arrDiaHora[0];\n        String horaminutsegon = arrDiaHora[1];\n\n        String[] arrDiaMesAny = diamesany.split(&quot;-&quot;);\n        String strany = arrDiaMesAny[0];\n        String strmes = arrDiaMesAny[1];\n        String strdia = arrDiaMesAny[2];\n\n        String[] arrHoraMinutSegon = horaminutsegon.split(&quot;:&quot;);\n        String strhora = arrHoraMinutSegon[0];\n        String strminut = arrHoraMinutSegon[1];\n        String strsegon = arrHoraMinutSegon[2];\n\n        if (arrDiaHora.length != 2) {\n            System.out.println (&quot;No hi ha dos blocs formats per data i temps&quot;);\n            System.out.println (&quot;Data incorrecta&quot; + &quot;\\n&quot;);\n            return;\n        }\n        \n        ...\n</code></pre>\n<p>Return values after the arrays don't work and get <strong>'return' is unnecessary as the last statement in a 'void' method</strong>.</p>\n<p>If I create the arrays before checking the conditions, I got an <strong>ArrayIndexOutOfBoundsException</strong></p>\n<p>Any help ?</p>\n<p>Thanks in advance !!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":12900922,"reputation":1,"user_id":9329792,"display_name":"Daniel McGrath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569905600,"creation_date":1569905600,"answer_id":58178227,"question_id":58178136,"body_markdown":"In my personal opinion, a method isn&#39;t a bad idea, even if you are only going to use it once. A method would allow you to move all your code outside your main method and reduce it to one line of code, collapse it outside of the main method, and make your code more maintainable in the future. Editors like Eclipse (I don&#39;t know about Netbeans or InteliJ) do not allow you to collapse your code in the way that you want.","title":"Is there a way to categorize code so that I can minimize something and use a comment to write what it does for organization?","body":"<p>In my personal opinion, a method isn't a bad idea, even if you are only going to use it once. A method would allow you to move all your code outside your main method and reduce it to one line of code, collapse it outside of the main method, and make your code more maintainable in the future. Editors like Eclipse (I don't know about Netbeans or InteliJ) do not allow you to collapse your code in the way that you want.</p>\n"},{"tags":[],"owner":{"account_id":16801226,"reputation":1,"user_id":12146422,"display_name":"Pinty222"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683873193,"creation_date":1683873193,"answer_id":76233675,"question_id":58178136,"body_markdown":"Saw this looking through my stack overflow profile&#39;s history (now intermediate programmer not absolute beginner) and thought I would answer:\r\n\r\nyes you should probably just use a function outside of your main function, even if you only invoke it once. You can pass in any parameters you want the function to see. You can pass in parameters you want it to modify and modify those parameters in the function, IF the parameters are references to objects and not primitives (lists do meet the criteria for this in Java I am pretty sure). However I think its better practice generally to not modify anything you get passed in and instead return a copy of the parameter that is modified, and set the original variable to = that when you call the function. If you want to return multiple variables there are ways to do that depending on the language.\r\nI think doing this is pretty standard.\r\n\r\n\r\nAnother concept I&#39;ve heard of though for you to look into is called an IIFE (immediately invoked function expression). \r\nAnother thing you can do is wrap code with {} as long as you don&#39;t use any variables you declare in that scope outside of that scope. I mention this below.\r\n\r\na guy on youtube I saw doesn&#39;t think you should extract into methods, he talks about what he would do instead at in [this video](https://youtu.be/QM1iUe6IofM?t=2235) at the timestamp linked. \r\nHe mentions how you can put { } around code in many languages including java, which answers my question I think. He also proposes a non-existing syntax use(var name) {}. It goes to show beginner me wasn&#39;t the only one thinking about this kind of stuff.\r\nBut yeah at this moment both ways seem fine to me.\r\n\r\nAlso if you indent something you can collapse it in VSCode but I&#39;m not sure anybody does this or would think it looks good.","title":"Is there a way to categorize code so that I can minimize something and use a comment to write what it does for organization?","body":"<p>Saw this looking through my stack overflow profile's history (now intermediate programmer not absolute beginner) and thought I would answer:</p>\n<p>yes you should probably just use a function outside of your main function, even if you only invoke it once. You can pass in any parameters you want the function to see. You can pass in parameters you want it to modify and modify those parameters in the function, IF the parameters are references to objects and not primitives (lists do meet the criteria for this in Java I am pretty sure). However I think its better practice generally to not modify anything you get passed in and instead return a copy of the parameter that is modified, and set the original variable to = that when you call the function. If you want to return multiple variables there are ways to do that depending on the language.\nI think doing this is pretty standard.</p>\n<p>Another concept I've heard of though for you to look into is called an IIFE (immediately invoked function expression).\nAnother thing you can do is wrap code with {} as long as you don't use any variables you declare in that scope outside of that scope. I mention this below.</p>\n<p>a guy on youtube I saw doesn't think you should extract into methods, he talks about what he would do instead at in <a href=\"https://youtu.be/QM1iUe6IofM?t=2235\" rel=\"nofollow noreferrer\">this video</a> at the timestamp linked.\nHe mentions how you can put { } around code in many languages including java, which answers my question I think. He also proposes a non-existing syntax use(var name) {}. It goes to show beginner me wasn't the only one thinking about this kind of stuff.\nBut yeah at this moment both ways seem fine to me.</p>\n<p>Also if you indent something you can collapse it in VSCode but I'm not sure anybody does this or would think it looks good.</p>\n"}],"owner":{"account_id":16801226,"reputation":1,"user_id":12146422,"display_name":"Pinty222"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683873193,"creation_date":1569904827,"question_id":58178136,"body_markdown":"This is a bit unorthodox and also I am relatively new to coding but here is what I want to do:\r\n\r\nI am trying to make a flashcard simulator (like quizlet) to practice coding, and I have so far successfully made a program that takes a text file with terms and definitions and converts it into two arrays (terms and definitions).\r\nNow this is taking up a lot of space for me looking at it, and I notice you can minimize certain loops and things so it just shows the top line, to reduce clutter. So I want to minimize the whole function for looking at and just write a comment next to it saying what it does, so its like a line of code.\r\n\r\nThe problem is any redundant loops (like a for loop that executes once) make the arrays unusable outside of that loop. So any ideas if I want to do this? \r\n\r\nMy best idea is a method but since I am a beginner I don&#39;t entirely know how to do that yet and my impression is that it would be outside of the main method and separate from the code which is not what I want cause I only use it once.\r\n\r\nThanks,\r\n\r\nThis is my code if you want it:\r\n```java\r\nBufferedReader reader = new BufferedReader(new FileReader(&quot;Flashcards.txt&quot;));\r\n\r\n        String[] terms = new String[128];\r\n        String[] defs = new String[128];\r\n\r\n        String term;\r\n        String def;\r\n        String line;\r\n        byte c = 0;\r\n        while((line = reader.readLine()) != null) {\r\n            boolean after = false;\r\n            def = &quot;&quot;;\r\n            term = &quot;&quot;;\r\n            for (short i = 0; i &lt; line.length(); i++) {\r\n                if (line.charAt(i) == &#39;:&#39;)\r\n                    after = true;\r\n                else if (!after)\r\n                    term = term + line.charAt(i);\r\n                else\r\n                    def = def + line.charAt(i);\r\n            }\r\n            terms[c] = term;\r\n            defs[c]= def.strip();\r\n            c++;\r\n```","title":"Is there a way to categorize code so that I can minimize something and use a comment to write what it does for organization?","body":"<p>This is a bit unorthodox and also I am relatively new to coding but here is what I want to do:</p>\n\n<p>I am trying to make a flashcard simulator (like quizlet) to practice coding, and I have so far successfully made a program that takes a text file with terms and definitions and converts it into two arrays (terms and definitions).\nNow this is taking up a lot of space for me looking at it, and I notice you can minimize certain loops and things so it just shows the top line, to reduce clutter. So I want to minimize the whole function for looking at and just write a comment next to it saying what it does, so its like a line of code.</p>\n\n<p>The problem is any redundant loops (like a for loop that executes once) make the arrays unusable outside of that loop. So any ideas if I want to do this? </p>\n\n<p>My best idea is a method but since I am a beginner I don't entirely know how to do that yet and my impression is that it would be outside of the main method and separate from the code which is not what I want cause I only use it once.</p>\n\n<p>Thanks,</p>\n\n<p>This is my code if you want it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>BufferedReader reader = new BufferedReader(new FileReader(\"Flashcards.txt\"));\n\n        String[] terms = new String[128];\n        String[] defs = new String[128];\n\n        String term;\n        String def;\n        String line;\n        byte c = 0;\n        while((line = reader.readLine()) != null) {\n            boolean after = false;\n            def = \"\";\n            term = \"\";\n            for (short i = 0; i &lt; line.length(); i++) {\n                if (line.charAt(i) == ':')\n                    after = true;\n                else if (!after)\n                    term = term + line.charAt(i);\n                else\n                    def = def + line.charAt(i);\n            }\n            terms[c] = term;\n            defs[c]= def.strip();\n            c++;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683869572,"post_id":76233387,"comment_id":134435448,"body_markdown":"What&#39;s astonishing about mentioning JavaScript?","body":"What&#39;s astonishing about mentioning JavaScript?"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":2,"creation_date":1683869650,"post_id":76233387,"comment_id":134435456,"body_markdown":"It says &quot;in scripting environments&quot;. Javascript is an example of such.","body":"It says &quot;in scripting environments&quot;. Javascript is an example of such."},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1683870027,"post_id":76233387,"comment_id":134435514,"body_markdown":"But it is about Java beans. Well, let it be illustrated by a scripting environment rather than Java. What is contrasted here? That they can assign something to a variable? In Java we also can do that. That they don&#39;t use getters and setters? Well, they do use them.\n\nWhy mingling JavaScript here at all?","body":"But it is about Java beans. Well, let it be illustrated by a scripting environment rather than Java. What is contrasted here? That they can assign something to a variable? In Java we also can do that. That they don&#39;t use getters and setters? Well, they do use them.  Why mingling JavaScript here at all?"},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1683870265,"post_id":76233387,"comment_id":134435548,"body_markdown":"I&#39;m bad at JavaScript. Is it here just because JavaScript doesn&#39;t ensure encapsulation?","body":"I&#39;m bad at JavaScript. Is it here just because JavaScript doesn&#39;t ensure encapsulation?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683870896,"post_id":76233387,"comment_id":134435624,"body_markdown":"&quot;*tell me why it is mentioned here?*&quot; - that can be (better) answered by the authors - we can only guess why they did it. Also worth remembering that both Java and Javascript are of similar age.","body":"&quot;<i>tell me why it is mentioned here?</i>&quot; - that can be (better) answered by the authors - we can only guess why they did it. Also worth remembering that both Java and Javascript are of similar age."},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1683870928,"post_id":76233387,"comment_id":134435628,"body_markdown":"Well, how can I understand that specification. Can I understand that JavaScript was just a good example of violation of encapsulation principle back in 1996?","body":"Well, how can I understand that specification. Can I understand that JavaScript was just a good example of violation of encapsulation principle back in 1996?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1683871000,"post_id":76233387,"comment_id":134435644,"body_markdown":"Please don&#39;t post texts as images","body":"Please don&#39;t post texts as images"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1683871703,"post_id":76233387,"comment_id":134435749,"body_markdown":"The point is not about violating encapsulation, the point is about interoperability between Java and scripting environments such as Javascript. There are various situations where you want to expose an API to a scripting language wherein an object&#39;s properties can be accessed through the scripting language. Using a standardised form for designing classes in Java (i.e. beans) allows the interop code to be generated automatically instead of having to be written by hand.","body":"The point is not about violating encapsulation, the point is about interoperability between Java and scripting environments such as Javascript. There are various situations where you want to expose an API to a scripting language wherein an object&#39;s properties can be accessed through the scripting language. Using a standardised form for designing classes in Java (i.e. beans) allows the interop code to be generated automatically instead of having to be written by hand."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1683871797,"post_id":76233387,"comment_id":134435763,"body_markdown":"Originally, Java was intended to run as applets inside a web browser, and JavaScript was intended to provide integration between Java applets and the browser DOM. JavaBeans was intended to provide a mechanism for tools to manipulate Java objects dynamically, without knowing anything about their compile time type. I’m oversimplifying a bit, but this is how they were marketed.","body":"Originally, Java was intended to run as applets inside a web browser, and JavaScript was intended to provide integration between Java applets and the browser DOM. JavaBeans was intended to provide a mechanism for tools to manipulate Java objects dynamically, without knowing anything about their compile time type. I’m oversimplifying a bit, but this is how they were marketed."},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1683873474,"post_id":76233387,"comment_id":134435983,"body_markdown":"@Kifsif and still is","body":"@Kifsif and still is"}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683873011,"creation_date":1683871651,"answer_id":76233542,"question_id":76233387,"body_markdown":"Java does not support (buit-in, transparent) properties (as opposed to python, for example). The concept of properties is added by the JavaBeans specification. Beans were originally intended to be used in visual application builders (see the introduction section of the document you linked to).\r\n\r\nThese were much like the core concept still in use by game engines - you define entities with properties, usually in a 2-column table with name and value. And you define the behavior of these entities, usually in a scripting language.\r\n\r\nThe examples are written with such a system in mind, and make sense from that perspective.\r\n\r\nIn the script code, a &#39;property&#39; is accessed as if it were a public field. In the Java code implementing the bean, the setters and getters would still be invoked automatically. The precise names of the getters and setters wouldn&#39;t matter, for this use case - the user never uses them directly. The specification still recommends conventions for naming, and specifies expectations on exception behavior etc.","title":"Javascript as illustration of Java beans","body":"<p>Java does not support (buit-in, transparent) properties (as opposed to python, for example). The concept of properties is added by the JavaBeans specification. Beans were originally intended to be used in visual application builders (see the introduction section of the document you linked to).</p>\n<p>These were much like the core concept still in use by game engines - you define entities with properties, usually in a 2-column table with name and value. And you define the behavior of these entities, usually in a scripting language.</p>\n<p>The examples are written with such a system in mind, and make sense from that perspective.</p>\n<p>In the script code, a 'property' is accessed as if it were a public field. In the Java code implementing the bean, the setters and getters would still be invoked automatically. The precise names of the getters and setters wouldn't matter, for this use case - the user never uses them directly. The specification still recommends conventions for naming, and specifies expectations on exception behavior etc.</p>\n"}],"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76233542,"answer_count":1,"score":0,"last_activity_date":1683873011,"creation_date":1683869511,"question_id":76233387,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\t\r\nThis is from the JavaBeans Specification (https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/).\r\n\r\nWhat astonishes me is that it mentions JavaScript. By the way, even Javascript (which is even more strange). \r\n\r\nAnyway, could you tell me why it is mentioned here? And how it illustrates beans?\r\n\r\n  [1]: https://i.stack.imgur.com/FXiWp.png","title":"Javascript as illustration of Java beans","body":"<p><a href=\"https://i.stack.imgur.com/FXiWp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FXiWp.png\" alt=\"enter image description here\" /></a></p>\n<p>This is from the JavaBeans Specification (<a href=\"https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/\" rel=\"nofollow noreferrer\">https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/</a>).</p>\n<p>What astonishes me is that it mentions JavaScript. By the way, even Javascript (which is even more strange).</p>\n<p>Anyway, could you tell me why it is mentioned here? And how it illustrates beans?</p>\n"},{"tags":["java","spring-boot","hashicorp-vault"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1683859148,"post_id":76232190,"comment_id":134434438,"body_markdown":"Would you add the JSON payload of an access token (not the token string, just its payload, use a tool like https://jwt.io)? It&#39;s likely that your authorization server puts roles in a different claim than scope, in which case you&#39;ll have to configure an authorities converter.","body":"Would you add the JSON payload of an access token (not the token string, just its payload, use a tool like <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a>)? It&#39;s likely that your authorization server puts roles in a different claim than scope, in which case you&#39;ll have to configure an authorities converter."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1683874490,"post_id":76232190,"comment_id":134436146,"body_markdown":"If the access token is not a JWT, then you must configure your resource-server with introspection (&quot;opaque token&quot;). Look at OpenID configuration (or documentation) for introspection endpoint. If you can&#39;t find one, you could build a custom Introspector using user-info endpoint.","body":"If the access token is not a JWT, then you must configure your resource-server with introspection (&quot;opaque token&quot;). Look at OpenID configuration (or documentation) for introspection endpoint. If you can&#39;t find one, you could build a custom Introspector using user-info endpoint."}],"owner":{"account_id":1118598,"reputation":556,"user_id":2462719,"accept_rate":83,"display_name":"AcidHawk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683872757,"creation_date":1683847163,"question_id":76232190,"body_markdown":"I am trying to use Hashicorp Vault as an OIDC Provider.  My app is a simple spring boot rest app and I am trying to test it with Postman. I want to use Oauth2 authorization.  This is a learning exercise and not something that needs to go into production, however, I still want to follow &quot;Production Best Practices&quot; as far as possible.\r\n\r\n## Spring Boot ##\r\nMy Spring Boot APP running on https://dev.home.my.net:9780/ has the following configured in the  POM.xml file.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe application.yml file includes this:\r\n\r\n```yaml\r\nspring:\r\n   security:\r\n        oauth2:\r\n            resourceserver:\r\n                jwt:\r\n                    issuer-uri: https://utils.home.my.net:9790/v1/identity/oidc/provider/dummyapi-provider\r\n```\r\n\r\nMy SecurityFilterChain Bean looks like this:\r\n```java\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.cors().and().csrf().disable();\r\n\r\n        http.authorizeHttpRequests((authz) -&gt; authz\r\n                .requestMatchers(ELEVATED_WHITELIST).hasAnyAuthority(&quot;SCOPE_MYADMIN&quot;, &quot;SCOPE_MYELEVATED&quot;)\r\n                .requestMatchers(WHITELIST).hasAnyAuthority(&quot;SCOPE_MYADMIN&quot;, &quot;SCOPE_MYELEVATED&quot;, &quot;SCOPE_MYUSER&quot;)\r\n                .requestMatchers(OPEN_ACCESS).permitAll()\r\n                .requestMatchers(&quot;/**&quot;).authenticated()\r\n            );\r\n            http.oauth2ResourceServer().jwt();\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\n - ELEVATED_WHITELIST = is a list of GET or POST mappings that I want to grant access only to MYADMIN and MYELEVATED\r\n - WHITELIST = is a list of GET or POST mappings that I want to grant access only to MYADMIN, MYELEVATED and also MYUSER\r\n - OPEN_ACCESS = All access to any endpoints not in the above lists\r\n\r\n## Hashicorp Vault ##\r\nMy Vault configuration - *and this is where I believe I have less that the little understanding I have elsewhere* - has been configured as follows:  \r\n\r\n 1. I have enabled a *userpass* Auth method.\r\n 2. Inside that userpass I have just one user *my_admin_user*\r\n 3. I have an entity (Still under the access tab) also called *my_admin_user* with a reference to the user I created in the userpass Auth Method point earlier.\r\n 4. I created a Group called MYADMIN still under Access.\r\n 5. I have made *my_admin_user* a member of that group.\r\n 6. Under OIDC Provider I have an Application called *dummyapi* where I get the Client ID and the Client Secret from.  I also use a *dummyapi-key* that I set up while following a tutorial somewhere.\r\n 7. I created an Assignment called MYADMIN (the same name as the group and the scope I wish to use in the dummy app). Inside this Assignment I select my *my_admin_user* user as well as my MYADMIN group\r\n 8. I jumped to Scopes and created a MYADMIN scope which simple has the following JSON in it\r\n```json\r\n{\r\n  &quot;username&quot;: {{identity.entity.name}},\r\n  &quot;groups&quot;: {{identity.entity.groups.names}}\r\n}\r\n```\r\n 9. I created a Provider *dummyapi-provider* and selected the Scope that I had just created under the Supported scopes search field.\r\n 10. I don&#39;t think there is anything else that I need to configure here for now.\r\n\r\n## Postman ##\r\n\r\nI am trying 2 requests.  1 works and the other one does not!  This is actually the issue and I think it has to do with scopes.\r\n\r\nMy configuration for both requests is the same\r\n\r\n```\r\nAuthorization Type: Oauth 2.0\r\nCallback URL: https://dev.home.my.net:9780/\r\nAuth Url: https://utils.home.my.net:9790/ui/vault/identity/oidc/provider/dummyapi-provider/authorize\r\nAccess Token Url: https://utils.home.my.net:9790/v1/identity/oidc/provider/dummyapi-provider/token\r\nClient ID: Copied from the Vault Applications-&gt;dummyapi\r\nClient Secret: Copied from the Vault Applications-&gt;dummyapi\r\nScope: **openid**  I read that I have to use openid here however when testing againse Azure I could put other scopes in this place and they were honored in the SecurityFilterChain by the .hasAnyAuthority lines.\r\n```\r\n\r\n### 1st Get ###\r\nhttps://dev.home.my.net:9780/dummyapi/listItems is part of WHITELIST\r\n\r\nOnce I have authenticated and received a token in the response.  I use the ID token part of what was returned in postman and I am able to see the expected results.  In otherwords I receive a Status: 200 OK\r\n\r\n### 2nd Get ###\r\nhttps://dev.home.my.net:9780/dummyapi/listPrivateItems is part of ELEVATED_WHITELIST.\r\n\r\nI can authenticate successfully here.  However I receive a Status: 403 Forbidden message returned and when inspecting the headers I came across this in the response:\r\n\r\n```\r\nWWW-Authenticate: Bearer error=&quot;insufficient_scope&quot;, error_description=&quot;The request requires higher privileges than provided by the access token.&quot;, error_uri=&quot;https://tools.ietf.org/html/rfc6750#section-3.1&quot;\r\n```\r\n\r\nI thought that I had configured the scope in Vault to be MYADMIN which would correspond to what the SecurityFilterChain is configured to allow.  However because of how it is behaving I don&#39;t think this scope is behaving as I expect.  So after I have authenticated with the scope of openid, where does the scope get set for authorization with the app.  If I look in the token I don&#39;t see anything speaking about scopes for either request.\r\n\r\nSo after all that I am wanting to know how and where do I set the scope in postman, the vault or dummyapi&#39;s SecurityFilterChain so that I can have different users access different resources?  If you got this far I owe you a drink!\r\n\r\nHere are some of the links I have been pouring over - there are a few more but these have mostly helped me get this far.\r\n - [Vault as an OIDC Provider][1]\r\n - [How to set up OIDC on Vault][2]\r\n - [Vault ACL Policies][3]\r\n - [Vaults OIDC Provider][4]\r\n\r\n## EDIT #1 - Added the Token JSON Payload ##\r\nAdding the Id Token (which I said I was using above) to [jwt.io][5] and I see that jwt.io tells me that there is an invalid signature.\r\n\r\n### ID Token ###\r\n```json\r\n{\r\n  &quot;at_hash&quot;: &quot;3Rz7cznliUSLrB2St7RS5g&quot;,\r\n  &quot;aud&quot;: &quot;6Am2NXPeM8J6DaV4sX0JMPUZBsH32L78&quot;,\r\n  &quot;c_hash&quot;: &quot;Tc9d3_evG3diE2YGXtCGSg&quot;,\r\n  &quot;exp&quot;: 1683955132,\r\n  &quot;iat&quot;: 1683868732,\r\n  &quot;iss&quot;: &quot;https://utils.home.my.net:9790/v1/identity/oidc/provider/dummyapi-provider&quot;,\r\n  &quot;namespace&quot;: &quot;root&quot;,\r\n  &quot;sub&quot;: &quot;25328fea-cc19-f517-83f8-5eee3bbaf5e0&quot;\r\n}\r\n```\r\n\r\n### Access Token ###\r\n[jwt.io][5] also tells me that the signature is invalid and this payload cannot be read.  It looks like all binary characters.\r\n\r\n### Edit #2 ###\r\nIt seems as though the request I was making in the first case (1st Get) - that I assumed was in the WHITELIST is not actually part of the WHITELIST and is being allowed by the .requestMatchers(&quot;/**&quot;).authenticated() part of the SecurityFilterChain.\r\n\r\nThis means that my token does not contain any scopes, which is what it looks like.  So how then to I add a scope to my token?\r\n\r\n  [1]: https://developer.hashicorp.com/vault/tutorials/auth-methods/oidc-identity-provider\r\n  [2]: https://devops-fu.org/vault/2022/05/26/set-up-oidc-on-vault.html\r\n  [3]: https://github.com/jeffsanicola/vault-policy-guide\r\n  [4]: https://developer.hashicorp.com/vault/docs/concepts/oidc-provider\r\n  [5]: https://jwt.io/","title":"Hashicorp Vault returns Bearer error=&quot;insufficient_scope&quot; description=&quot;The request requires higher privileges than provided by the access token.&quot;","body":"<p>I am trying to use Hashicorp Vault as an OIDC Provider.  My app is a simple spring boot rest app and I am trying to test it with Postman. I want to use Oauth2 authorization.  This is a learning exercise and not something that needs to go into production, however, I still want to follow &quot;Production Best Practices&quot; as far as possible.</p>\n<h2>Spring Boot</h2>\n<p>My Spring Boot APP running on <a href=\"https://dev.home.my.net:9780/\" rel=\"nofollow noreferrer\">https://dev.home.my.net:9780/</a> has the following configured in the  POM.xml file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The application.yml file includes this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n   security:\n        oauth2:\n            resourceserver:\n                jwt:\n                    issuer-uri: https://utils.home.my.net:9790/v1/identity/oidc/provider/dummyapi-provider\n</code></pre>\n<p>My SecurityFilterChain Bean looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.cors().and().csrf().disable();\n\n        http.authorizeHttpRequests((authz) -&gt; authz\n                .requestMatchers(ELEVATED_WHITELIST).hasAnyAuthority(&quot;SCOPE_MYADMIN&quot;, &quot;SCOPE_MYELEVATED&quot;)\n                .requestMatchers(WHITELIST).hasAnyAuthority(&quot;SCOPE_MYADMIN&quot;, &quot;SCOPE_MYELEVATED&quot;, &quot;SCOPE_MYUSER&quot;)\n                .requestMatchers(OPEN_ACCESS).permitAll()\n                .requestMatchers(&quot;/**&quot;).authenticated()\n            );\n            http.oauth2ResourceServer().jwt();\n\n        return http.build();\n    }\n</code></pre>\n<ul>\n<li>ELEVATED_WHITELIST = is a list of GET or POST mappings that I want to grant access only to MYADMIN and MYELEVATED</li>\n<li>WHITELIST = is a list of GET or POST mappings that I want to grant access only to MYADMIN, MYELEVATED and also MYUSER</li>\n<li>OPEN_ACCESS = All access to any endpoints not in the above lists</li>\n</ul>\n<h2>Hashicorp Vault</h2>\n<p>My Vault configuration - <em>and this is where I believe I have less that the little understanding I have elsewhere</em> - has been configured as follows:</p>\n<ol>\n<li>I have enabled a <em>userpass</em> Auth method.</li>\n<li>Inside that userpass I have just one user <em>my_admin_user</em></li>\n<li>I have an entity (Still under the access tab) also called <em>my_admin_user</em> with a reference to the user I created in the userpass Auth Method point earlier.</li>\n<li>I created a Group called MYADMIN still under Access.</li>\n<li>I have made <em>my_admin_user</em> a member of that group.</li>\n<li>Under OIDC Provider I have an Application called <em>dummyapi</em> where I get the Client ID and the Client Secret from.  I also use a <em>dummyapi-key</em> that I set up while following a tutorial somewhere.</li>\n<li>I created an Assignment called MYADMIN (the same name as the group and the scope I wish to use in the dummy app). Inside this Assignment I select my <em>my_admin_user</em> user as well as my MYADMIN group</li>\n<li>I jumped to Scopes and created a MYADMIN scope which simple has the following JSON in it</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;username&quot;: {{identity.entity.name}},\n  &quot;groups&quot;: {{identity.entity.groups.names}}\n}\n</code></pre>\n<ol start=\"9\">\n<li>I created a Provider <em>dummyapi-provider</em> and selected the Scope that I had just created under the Supported scopes search field.</li>\n<li>I don't think there is anything else that I need to configure here for now.</li>\n</ol>\n<h2>Postman</h2>\n<p>I am trying 2 requests.  1 works and the other one does not!  This is actually the issue and I think it has to do with scopes.</p>\n<p>My configuration for both requests is the same</p>\n<pre><code>Authorization Type: Oauth 2.0\nCallback URL: https://dev.home.my.net:9780/\nAuth Url: https://utils.home.my.net:9790/ui/vault/identity/oidc/provider/dummyapi-provider/authorize\nAccess Token Url: https://utils.home.my.net:9790/v1/identity/oidc/provider/dummyapi-provider/token\nClient ID: Copied from the Vault Applications-&gt;dummyapi\nClient Secret: Copied from the Vault Applications-&gt;dummyapi\nScope: **openid**  I read that I have to use openid here however when testing againse Azure I could put other scopes in this place and they were honored in the SecurityFilterChain by the .hasAnyAuthority lines.\n</code></pre>\n<h3>1st Get</h3>\n<p><a href=\"https://dev.home.my.net:9780/dummyapi/listItems\" rel=\"nofollow noreferrer\">https://dev.home.my.net:9780/dummyapi/listItems</a> is part of WHITELIST</p>\n<p>Once I have authenticated and received a token in the response.  I use the ID token part of what was returned in postman and I am able to see the expected results.  In otherwords I receive a Status: 200 OK</p>\n<h3>2nd Get</h3>\n<p><a href=\"https://dev.home.my.net:9780/dummyapi/listPrivateItems\" rel=\"nofollow noreferrer\">https://dev.home.my.net:9780/dummyapi/listPrivateItems</a> is part of ELEVATED_WHITELIST.</p>\n<p>I can authenticate successfully here.  However I receive a Status: 403 Forbidden message returned and when inspecting the headers I came across this in the response:</p>\n<pre><code>WWW-Authenticate: Bearer error=&quot;insufficient_scope&quot;, error_description=&quot;The request requires higher privileges than provided by the access token.&quot;, error_uri=&quot;https://tools.ietf.org/html/rfc6750#section-3.1&quot;\n</code></pre>\n<p>I thought that I had configured the scope in Vault to be MYADMIN which would correspond to what the SecurityFilterChain is configured to allow.  However because of how it is behaving I don't think this scope is behaving as I expect.  So after I have authenticated with the scope of openid, where does the scope get set for authorization with the app.  If I look in the token I don't see anything speaking about scopes for either request.</p>\n<p>So after all that I am wanting to know how and where do I set the scope in postman, the vault or dummyapi's SecurityFilterChain so that I can have different users access different resources?  If you got this far I owe you a drink!</p>\n<p>Here are some of the links I have been pouring over - there are a few more but these have mostly helped me get this far.</p>\n<ul>\n<li><a href=\"https://developer.hashicorp.com/vault/tutorials/auth-methods/oidc-identity-provider\" rel=\"nofollow noreferrer\">Vault as an OIDC Provider</a></li>\n<li><a href=\"https://devops-fu.org/vault/2022/05/26/set-up-oidc-on-vault.html\" rel=\"nofollow noreferrer\">How to set up OIDC on Vault</a></li>\n<li><a href=\"https://github.com/jeffsanicola/vault-policy-guide\" rel=\"nofollow noreferrer\">Vault ACL Policies</a></li>\n<li><a href=\"https://developer.hashicorp.com/vault/docs/concepts/oidc-provider\" rel=\"nofollow noreferrer\">Vaults OIDC Provider</a></li>\n</ul>\n<h2>EDIT #1 - Added the Token JSON Payload</h2>\n<p>Adding the Id Token (which I said I was using above) to <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> and I see that jwt.io tells me that there is an invalid signature.</p>\n<h3>ID Token</h3>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;at_hash&quot;: &quot;3Rz7cznliUSLrB2St7RS5g&quot;,\n  &quot;aud&quot;: &quot;6Am2NXPeM8J6DaV4sX0JMPUZBsH32L78&quot;,\n  &quot;c_hash&quot;: &quot;Tc9d3_evG3diE2YGXtCGSg&quot;,\n  &quot;exp&quot;: 1683955132,\n  &quot;iat&quot;: 1683868732,\n  &quot;iss&quot;: &quot;https://utils.home.my.net:9790/v1/identity/oidc/provider/dummyapi-provider&quot;,\n  &quot;namespace&quot;: &quot;root&quot;,\n  &quot;sub&quot;: &quot;25328fea-cc19-f517-83f8-5eee3bbaf5e0&quot;\n}\n</code></pre>\n<h3>Access Token</h3>\n<p><a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> also tells me that the signature is invalid and this payload cannot be read.  It looks like all binary characters.</p>\n<h3>Edit #2</h3>\n<p>It seems as though the request I was making in the first case (1st Get) - that I assumed was in the WHITELIST is not actually part of the WHITELIST and is being allowed by the .requestMatchers(&quot;/**&quot;).authenticated() part of the SecurityFilterChain.</p>\n<p>This means that my token does not contain any scopes, which is what it looks like.  So how then to I add a scope to my token?</p>\n"},{"tags":["java","minecraft","spigot"],"owner":{"account_id":27453035,"reputation":23,"user_id":20944949,"display_name":"Andrearoma2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683875834,"answer_count":0,"score":0,"last_activity_date":1683872591,"creation_date":1683812201,"question_id":76228248,"body_markdown":"I&#39;m creating a Minecraft Java plugin and to make it work I need to import a few packages, but when I put the ; in the end the string becomes gray (In the source code they are indicated with * after the string) and therefore it doesn&#39;t detect the packets, how can I fix it? A thousand thanks\r\n\r\nP.S: Below you will find all the source code if you need it to help me\r\n\r\n[Download](https://wetransfer.com/downloads/3d01098c59ca445a85299c3c815975f420230502160343/4ceb9a681f0216deed3c3a1e343698e520230502160359/1153f7?trk=TRN_TDL_01&amp;utm_campaign=TRN_TDL_01&amp;utm_medium=email&amp;utm_source=sendgrid)\r\n\r\nHere the code of the program: \r\n\r\n```java\r\npackage com.bizarrealex.aether;\r\nimport com.bizarrealex.aether.event.BoardCreateEvent;\r\nimport com.bizarrealex.aether.scoreboard.Board;\r\nimport com.bizarrealex.aether.scoreboard.BoardAdapter;\r\nimport com.bizarrealex.aether.scoreboard.BoardEntry;\r\nimport lombok.Getter; *\r\nimport org.bukkit.Bukkit; *\r\nimport org.bukkit.ChatColor; *\r\nimport org.bukkit.entity.Player; *\r\nimport org.bukkit.event.EventHandler; *\r\nimport org.bukkit.event.EventPriority; *\r\nimport org.bukkit.event.Listener; *\r\nimport org.bukkit.event.player.PlayerJoinEvent; *\r\nimport org.bukkit.event.player.PlayerQuitEvent; *\r\nimport org.bukkit.plugin.java.JavaPlugin; *\r\nimport org.bukkit.scheduler.BukkitRunnable; *\r\nimport org.bukkit.scoreboard.DisplaySlot; *\r\nimport org.bukkit.scoreboard.Objective; *\r\nimport org.bukkit.scoreboard.Score; *\r\nimport org.bukkit.scoreboard.Scoreboard; *\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport static com.bizarrealex.aether.AetherOptions.defaultOptions;\r\n/**\r\n * TODO: Add documentation to methods, etc\r\n * TODO: Fix inconsistent cooldown scores\r\n * TODO: Finish other board formats\r\n */\r\npublic class Aether implements Listener {\r\n\r\n    @Getter\r\n    BoardAdapter adapter;\r\n    @Getter\r\n    private JavaPlugin plugin;\r\n    @Getter\r\n    private AetherOptions options;\r\n\r\n    public Aether(JavaPlugin plugin, BoardAdapter adapter, AetherOptions options) {\r\n        this.options = options;\r\n        this.plugin = plugin;\r\n\r\n        Bukkit.getPluginManager().registerEvents(this, plugin);\r\n\r\n        setAdapter(adapter);\r\n        run();\r\n    }\r\n\r\n    public Aether(JavaPlugin plugin, BoardAdapter adapter) {\r\n        this(plugin, adapter, defaultOptions());\r\n    }\r\n\r\n    public Aether(JavaPlugin plugin) {\r\n        this(plugin, null, defaultOptions());\r\n    }\r\n\r\n    private void run() {\r\n        new BukkitRunnable() {\r\n            @Override\r\n            public void run() {\r\n                if (adapter == null) return;\r\n\r\n                for (Player player : Bukkit.getOnlinePlayers()) {\r\n                    Board board = Board.getByPlayer(player);\r\n                    if (board != null) {\r\n                        List&lt;String&gt; scores = adapter.getScoreboard(player, board, board.getCooldowns());\r\n                        List&lt;String&gt; translatedScores = new ArrayList&lt;&gt;();\r\n\r\n                        if (scores == null) {\r\n\r\n                            if (!board.getEntries().isEmpty()) {\r\n\r\n                                for (BoardEntry boardEntry : board.getEntries()) {\r\n                                    boardEntry.remove();\r\n                                }\r\n\r\n                                board.getEntries().clear();\r\n                            }\r\n\r\n                            continue;\r\n                        }\r\n\r\n                        for (String line : scores) {\r\n                            translatedScores.add(ChatColor.translateAlternateColorCodes(&#39;&amp;&#39;, line));\r\n                        }\r\n\r\n                        if (!options.scoreDirectionDown()) {\r\n                            Collections.reverse(scores);\r\n                        }\r\n\r\n                        Scoreboard scoreboard = board.getScoreboard();\r\n                        Objective objective = board.getObjective();\r\n\r\n                        if (!(objective.getDisplayName().equals(adapter.getTitle(player)))) {\r\n                            objective.setDisplayName(ChatColor.translateAlternateColorCodes(&#39;&amp;&#39;, adapter.getTitle(player)));\r\n                        }\r\n\r\n                        outer:\r\n                        for (int i = 0; i &lt; scores.size(); i++) {\r\n                            String text = scores.get(i);\r\n                            int position;\r\n                            if (options.scoreDirectionDown()) {\r\n                                position = 15 - i;\r\n                            } else {\r\n                                position = i + 1;\r\n                            }\r\n\r\n                            Iterator&lt;BoardEntry&gt; iterator = new ArrayList&lt;&gt;(board.getEntries()).iterator();\r\n                            while (iterator.hasNext()) {\r\n                                BoardEntry boardEntry = iterator.next();\r\n                                Score score = objective.getScore(boardEntry.getKey());\r\n\r\n                                if (score != null &amp;&amp; boardEntry.getText().equals(ChatColor.translateAlternateColorCodes(&#39;&amp;&#39;, text))) {\r\n                                    if (score.getScore() == position) {\r\n                                        continue outer;\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            int positionToSearch = options.scoreDirectionDown() ? 15 - position : position - 1;\r\n\r\n                            iterator = board.getEntries().iterator();\r\n                            while (iterator.hasNext()) {\r\n                                BoardEntry boardEntry = iterator.next();\r\n                                int entryPosition = scoreboard.getObjective(DisplaySlot.SIDEBAR).getScore(boardEntry.getKey()).getScore();\r\n\r\n                                if (!options.scoreDirectionDown()) {\r\n                                    if (entryPosition &gt; scores.size()) {\r\n                                        iterator.remove();\r\n                                        boardEntry.remove();\r\n                                    }\r\n                                }\r\n\r\n                            }\r\n\r\n                            BoardEntry entry = board.getByPosition(positionToSearch);\r\n\r\n                            if (entry == null) {\r\n                                new BoardEntry(board, text).send(position);\r\n                            } else {\r\n                                entry.setText(text).setup().send(position);\r\n                            }\r\n\r\n                            if (board.getEntries().size() &gt; scores.size()) {\r\n                                iterator = board.getEntries().iterator();\r\n                                while (iterator.hasNext()) {\r\n                                    BoardEntry boardEntry = iterator.next();\r\n                                    if ((!translatedScores.contains(boardEntry.getText())) || Collections.frequency(board.getBoardEntriesFormatted(), boardEntry.getText()) &gt; 1) {\r\n                                        iterator.remove();\r\n                                        boardEntry.remove();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        adapter.onScoreboardCreate(player, scoreboard);\r\n\r\n                        player.setScoreboard(scoreboard);\r\n                    }\r\n                }\r\n            }\r\n        }.runTaskTimerAsynchronously(plugin, 20L, 2L);\r\n    }\r\n\r\n    public void setAdapter(BoardAdapter adapter) {\r\n        this.adapter = adapter;\r\n        for (Player player : Bukkit.getOnlinePlayers()) {\r\n            Board board = Board.getByPlayer(player);\r\n\r\n            if (board != null) {\r\n                Board.getBoards().remove(board);\r\n            }\r\n\r\n            Bukkit.getPluginManager().callEvent(new BoardCreateEvent(new Board(player, this, options), player));\r\n        }\r\n    }\r\n\r\n    @EventHandler\r\n    public void onPlayerJoinEvent(PlayerJoinEvent event) {\r\n        if (Board.getByPlayer(event.getPlayer()) == null) {\r\n            Bukkit.getPluginManager().callEvent(new BoardCreateEvent(new Board(event.getPlayer(), this, options), event.getPlayer()));\r\n        }\r\n    }\r\n\r\n    @EventHandler(priority = EventPriority.HIGHEST)\r\n    public void onPlayerQuitEvent(PlayerQuitEvent event) {\r\n        Board board = Board.getByPlayer(event.getPlayer());\r\n        if (board != null) {\r\n            Board.getBoards().remove(board);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nThe output of the program if I build it:\r\n\r\n```\r\n7: java: package lombok does not exist\r\n8: java: package org.bukkit does not exist\r\n9: java: package org.bukkit does not exist\r\n10: java: package org.bukkit.entity does not exist\r\n11: java: package org.bukkit.event does not exist\r\n12: java: package org.bukkit.event does not exist\r\n13: java: package org.bukkit.event does not exist\r\n14: java: package org.bukkit.event.player does not exist\r\n15: java: package org.bukkit.event.player does not exist\r\n16: java: package org.bukkit.plugin.java does not exist\r\n17: java: package org.bukkit.scheduler does not exist\r\n18: java: package org.bukkit.scoreboard does not exist\r\n19: java: package org.bukkit.scoreboard does not exist\r\n20: java: package org.bukkit.scoreboard does not exist\r\n21: java: package org.bukkit.scoreboard does not exist\r\n35: java: cannot find symbol\r\n  symbol: class Listener\r\n40: java: cannot find symbol\r\n  symbol:   class JavaPlugin\r\n  location: class com.bizarrealex.aether.Aether\r\n44: java: cannot find symbol\r\n  symbol:   class JavaPlugin\r\n  location: class com.bizarrealex.aether.Aether\r\n54: java: cannot find symbol\r\n  symbol:   class JavaPlugin\r\n  location: class com.bizarrealex.aether.Aether\r\n58: java: cannot find symbol\r\n  symbol:   class JavaPlugin\r\n  location: class com.bizarrealex.aether.Aether\r\n183: java: cannot find symbol\r\n  symbol:   class PlayerJoinEvent\r\n  location: class com.bizarrealex.aether.Aether\r\n190: java: cannot find symbol\r\n  symbol:   class PlayerQuitEvent\r\n  location: class com.bizarrealex.aether.Aether\r\n\r\n```\r\n\r\nI searched if the package was wrong but couldn&#39;t find anything and, after a guy told me to do this, i pointed the package in the pom.xml file like this\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n             &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\r\n             &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\r\n             &lt;version&gt;VERSION&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nthe complete code is this:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n     &lt;groupId&gt;us.zonix.practice&lt;/groupId&gt;\r\n     &lt;artifactId&gt;Practice&lt;/artifactId&gt;\r\n     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n     &lt;properties&gt;\r\n         &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n     &lt;/properties&gt;\r\n\r\n     &lt;repositories&gt;\r\n         &lt;repository&gt;\r\n             &lt;id&gt;sk89q-repo&lt;/id&gt;\r\n             &lt;url&gt;http://maven.sk89q.com/repo/&lt;/url&gt;\r\n         &lt;/repository&gt;\r\n\r\n         &lt;repository&gt;\r\n             &lt;id&gt;fawe-repo&lt;/id&gt;\r\n             &lt;url&gt;http://ci.athion.net/job/FastAsyncWorldEdit/ws/mvn/&lt;/url&gt;\r\n         &lt;/repository&gt;\r\n\r\n     &lt;/repositories&gt;\r\n\r\n    \r\n\r\n     &lt;dependencies&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\r\n             &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\r\n             &lt;version&gt;VERSION&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n             &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n             &lt;version&gt;LATEST&lt;/version&gt;\r\n             &lt;scope&gt;compile&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;com.sk89q&lt;/groupId&gt;\r\n             &lt;artifactId&gt;worldedit&lt;/artifactId&gt;\r\n             &lt;version&gt;6.0.0-SNAPSHOT&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;com.boydti&lt;/groupId&gt;\r\n             &lt;artifactId&gt;fawe-api&lt;/artifactId&gt;\r\n             &lt;version&gt;latest&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n             &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n             &lt;version&gt;1.14.8&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n             &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n             &lt;version&gt;2.9.0&lt;/version&gt;\r\n             &lt;scope&gt;compile&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n             &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n             &lt;version&gt;LATEST&lt;/version&gt;\r\n             &lt;scope&gt;compile&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependencies&gt;\r\n             &lt;groupId&gt;pt.foxspigot.jar&lt;/groupId&gt;\r\n             &lt;artifactId&gt;FoxSpigot&lt;/artifactId&gt;\r\n             &lt;version&gt;1.8.8-R0.1-SNAPSHOT&lt;/version&gt;\r\n             &lt;scope&gt;system&lt;/scope&gt;\r\n             &lt;systemPath&gt;${project.basedir}/libs/foxspigot-server.jar&lt;/systemPath&gt;\r\n         &lt;/dependency&gt;\r\n\r\n     &lt;/dependencies&gt;\r\n\r\n     &lt;build&gt;\r\n         &lt;plugins&gt;\r\n             &lt;plugins&gt;\r\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                 &lt;configuration&gt;\r\n                     &lt;source&gt;1.8&lt;/source&gt;\r\n                     &lt;target&gt;1.8&lt;/target&gt;\r\n                 &lt;/configuration&gt;\r\n             &lt;/plugins&gt;\r\n             &lt;plugins&gt;\r\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                 &lt;version&gt;2.1&lt;/version&gt;\r\n                 &lt;executions&gt;\r\n                     &lt;execution&gt;\r\n                         &lt;phase&gt;package&lt;/phase&gt;\r\n                         &lt;goals&gt;\r\n                             &lt;goal&gt;shade&lt;/goal&gt;\r\n                         &lt;/goals&gt;\r\n                     &lt;/execution&gt;\r\n                 &lt;/executions&gt;\r\n             &lt;/plugins&gt;\r\n         &lt;/plugins&gt;\r\n     &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"I can&#39;t import minecraft package in my java project","body":"<p>I'm creating a Minecraft Java plugin and to make it work I need to import a few packages, but when I put the ; in the end the string becomes gray (In the source code they are indicated with * after the string) and therefore it doesn't detect the packets, how can I fix it? A thousand thanks</p>\n<p>P.S: Below you will find all the source code if you need it to help me</p>\n<p><a href=\"https://wetransfer.com/downloads/3d01098c59ca445a85299c3c815975f420230502160343/4ceb9a681f0216deed3c3a1e343698e520230502160359/1153f7?trk=TRN_TDL_01&amp;utm_campaign=TRN_TDL_01&amp;utm_medium=email&amp;utm_source=sendgrid\" rel=\"nofollow noreferrer\">Download</a></p>\n<p>Here the code of the program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.bizarrealex.aether;\nimport com.bizarrealex.aether.event.BoardCreateEvent;\nimport com.bizarrealex.aether.scoreboard.Board;\nimport com.bizarrealex.aether.scoreboard.BoardAdapter;\nimport com.bizarrealex.aether.scoreboard.BoardEntry;\nimport lombok.Getter; *\nimport org.bukkit.Bukkit; *\nimport org.bukkit.ChatColor; *\nimport org.bukkit.entity.Player; *\nimport org.bukkit.event.EventHandler; *\nimport org.bukkit.event.EventPriority; *\nimport org.bukkit.event.Listener; *\nimport org.bukkit.event.player.PlayerJoinEvent; *\nimport org.bukkit.event.player.PlayerQuitEvent; *\nimport org.bukkit.plugin.java.JavaPlugin; *\nimport org.bukkit.scheduler.BukkitRunnable; *\nimport org.bukkit.scoreboard.DisplaySlot; *\nimport org.bukkit.scoreboard.Objective; *\nimport org.bukkit.scoreboard.Score; *\nimport org.bukkit.scoreboard.Scoreboard; *\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.List;\nimport static com.bizarrealex.aether.AetherOptions.defaultOptions;\n/**\n * TODO: Add documentation to methods, etc\n * TODO: Fix inconsistent cooldown scores\n * TODO: Finish other board formats\n */\npublic class Aether implements Listener {\n\n    @Getter\n    BoardAdapter adapter;\n    @Getter\n    private JavaPlugin plugin;\n    @Getter\n    private AetherOptions options;\n\n    public Aether(JavaPlugin plugin, BoardAdapter adapter, AetherOptions options) {\n        this.options = options;\n        this.plugin = plugin;\n\n        Bukkit.getPluginManager().registerEvents(this, plugin);\n\n        setAdapter(adapter);\n        run();\n    }\n\n    public Aether(JavaPlugin plugin, BoardAdapter adapter) {\n        this(plugin, adapter, defaultOptions());\n    }\n\n    public Aether(JavaPlugin plugin) {\n        this(plugin, null, defaultOptions());\n    }\n\n    private void run() {\n        new BukkitRunnable() {\n            @Override\n            public void run() {\n                if (adapter == null) return;\n\n                for (Player player : Bukkit.getOnlinePlayers()) {\n                    Board board = Board.getByPlayer(player);\n                    if (board != null) {\n                        List&lt;String&gt; scores = adapter.getScoreboard(player, board, board.getCooldowns());\n                        List&lt;String&gt; translatedScores = new ArrayList&lt;&gt;();\n\n                        if (scores == null) {\n\n                            if (!board.getEntries().isEmpty()) {\n\n                                for (BoardEntry boardEntry : board.getEntries()) {\n                                    boardEntry.remove();\n                                }\n\n                                board.getEntries().clear();\n                            }\n\n                            continue;\n                        }\n\n                        for (String line : scores) {\n                            translatedScores.add(ChatColor.translateAlternateColorCodes('&amp;', line));\n                        }\n\n                        if (!options.scoreDirectionDown()) {\n                            Collections.reverse(scores);\n                        }\n\n                        Scoreboard scoreboard = board.getScoreboard();\n                        Objective objective = board.getObjective();\n\n                        if (!(objective.getDisplayName().equals(adapter.getTitle(player)))) {\n                            objective.setDisplayName(ChatColor.translateAlternateColorCodes('&amp;', adapter.getTitle(player)));\n                        }\n\n                        outer:\n                        for (int i = 0; i &lt; scores.size(); i++) {\n                            String text = scores.get(i);\n                            int position;\n                            if (options.scoreDirectionDown()) {\n                                position = 15 - i;\n                            } else {\n                                position = i + 1;\n                            }\n\n                            Iterator&lt;BoardEntry&gt; iterator = new ArrayList&lt;&gt;(board.getEntries()).iterator();\n                            while (iterator.hasNext()) {\n                                BoardEntry boardEntry = iterator.next();\n                                Score score = objective.getScore(boardEntry.getKey());\n\n                                if (score != null &amp;&amp; boardEntry.getText().equals(ChatColor.translateAlternateColorCodes('&amp;', text))) {\n                                    if (score.getScore() == position) {\n                                        continue outer;\n                                    }\n                                }\n                            }\n\n                            int positionToSearch = options.scoreDirectionDown() ? 15 - position : position - 1;\n\n                            iterator = board.getEntries().iterator();\n                            while (iterator.hasNext()) {\n                                BoardEntry boardEntry = iterator.next();\n                                int entryPosition = scoreboard.getObjective(DisplaySlot.SIDEBAR).getScore(boardEntry.getKey()).getScore();\n\n                                if (!options.scoreDirectionDown()) {\n                                    if (entryPosition &gt; scores.size()) {\n                                        iterator.remove();\n                                        boardEntry.remove();\n                                    }\n                                }\n\n                            }\n\n                            BoardEntry entry = board.getByPosition(positionToSearch);\n\n                            if (entry == null) {\n                                new BoardEntry(board, text).send(position);\n                            } else {\n                                entry.setText(text).setup().send(position);\n                            }\n\n                            if (board.getEntries().size() &gt; scores.size()) {\n                                iterator = board.getEntries().iterator();\n                                while (iterator.hasNext()) {\n                                    BoardEntry boardEntry = iterator.next();\n                                    if ((!translatedScores.contains(boardEntry.getText())) || Collections.frequency(board.getBoardEntriesFormatted(), boardEntry.getText()) &gt; 1) {\n                                        iterator.remove();\n                                        boardEntry.remove();\n                                    }\n                                }\n                            }\n                        }\n                        adapter.onScoreboardCreate(player, scoreboard);\n\n                        player.setScoreboard(scoreboard);\n                    }\n                }\n            }\n        }.runTaskTimerAsynchronously(plugin, 20L, 2L);\n    }\n\n    public void setAdapter(BoardAdapter adapter) {\n        this.adapter = adapter;\n        for (Player player : Bukkit.getOnlinePlayers()) {\n            Board board = Board.getByPlayer(player);\n\n            if (board != null) {\n                Board.getBoards().remove(board);\n            }\n\n            Bukkit.getPluginManager().callEvent(new BoardCreateEvent(new Board(player, this, options), player));\n        }\n    }\n\n    @EventHandler\n    public void onPlayerJoinEvent(PlayerJoinEvent event) {\n        if (Board.getByPlayer(event.getPlayer()) == null) {\n            Bukkit.getPluginManager().callEvent(new BoardCreateEvent(new Board(event.getPlayer(), this, options), event.getPlayer()));\n        }\n    }\n\n    @EventHandler(priority = EventPriority.HIGHEST)\n    public void onPlayerQuitEvent(PlayerQuitEvent event) {\n        Board board = Board.getByPlayer(event.getPlayer());\n        if (board != null) {\n            Board.getBoards().remove(board);\n        }\n    }\n\n}\n\n</code></pre>\n<p>The output of the program if I build it:</p>\n<pre><code>7: java: package lombok does not exist\n8: java: package org.bukkit does not exist\n9: java: package org.bukkit does not exist\n10: java: package org.bukkit.entity does not exist\n11: java: package org.bukkit.event does not exist\n12: java: package org.bukkit.event does not exist\n13: java: package org.bukkit.event does not exist\n14: java: package org.bukkit.event.player does not exist\n15: java: package org.bukkit.event.player does not exist\n16: java: package org.bukkit.plugin.java does not exist\n17: java: package org.bukkit.scheduler does not exist\n18: java: package org.bukkit.scoreboard does not exist\n19: java: package org.bukkit.scoreboard does not exist\n20: java: package org.bukkit.scoreboard does not exist\n21: java: package org.bukkit.scoreboard does not exist\n35: java: cannot find symbol\n  symbol: class Listener\n40: java: cannot find symbol\n  symbol:   class JavaPlugin\n  location: class com.bizarrealex.aether.Aether\n44: java: cannot find symbol\n  symbol:   class JavaPlugin\n  location: class com.bizarrealex.aether.Aether\n54: java: cannot find symbol\n  symbol:   class JavaPlugin\n  location: class com.bizarrealex.aether.Aether\n58: java: cannot find symbol\n  symbol:   class JavaPlugin\n  location: class com.bizarrealex.aether.Aether\n183: java: cannot find symbol\n  symbol:   class PlayerJoinEvent\n  location: class com.bizarrealex.aether.Aether\n190: java: cannot find symbol\n  symbol:   class PlayerQuitEvent\n  location: class com.bizarrealex.aether.Aether\n\n</code></pre>\n<p>I searched if the package was wrong but couldn't find anything and, after a guy told me to do this, i pointed the package in the pom.xml file like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n             &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\n             &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\n             &lt;version&gt;VERSION&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>the complete code is this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n     &lt;groupId&gt;us.zonix.practice&lt;/groupId&gt;\n     &lt;artifactId&gt;Practice&lt;/artifactId&gt;\n     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n     &lt;properties&gt;\n         &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n     &lt;/properties&gt;\n\n     &lt;repositories&gt;\n         &lt;repository&gt;\n             &lt;id&gt;sk89q-repo&lt;/id&gt;\n             &lt;url&gt;http://maven.sk89q.com/repo/&lt;/url&gt;\n         &lt;/repository&gt;\n\n         &lt;repository&gt;\n             &lt;id&gt;fawe-repo&lt;/id&gt;\n             &lt;url&gt;http://ci.athion.net/job/FastAsyncWorldEdit/ws/mvn/&lt;/url&gt;\n         &lt;/repository&gt;\n\n     &lt;/repositories&gt;\n\n    \n\n     &lt;dependencies&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;org.bukkit&lt;/groupId&gt;\n             &lt;artifactId&gt;bukkit&lt;/artifactId&gt;\n             &lt;version&gt;VERSION&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n             &lt;artifactId&gt;gson&lt;/artifactId&gt;\n             &lt;version&gt;LATEST&lt;/version&gt;\n             &lt;scope&gt;compile&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;com.sk89q&lt;/groupId&gt;\n             &lt;artifactId&gt;worldedit&lt;/artifactId&gt;\n             &lt;version&gt;6.0.0-SNAPSHOT&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;com.boydti&lt;/groupId&gt;\n             &lt;artifactId&gt;fawe-api&lt;/artifactId&gt;\n             &lt;version&gt;latest&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n             &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n             &lt;version&gt;1.14.8&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n             &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n             &lt;version&gt;2.9.0&lt;/version&gt;\n             &lt;scope&gt;compile&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n             &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n             &lt;version&gt;LATEST&lt;/version&gt;\n             &lt;scope&gt;compile&lt;/scope&gt;\n         &lt;/dependency&gt;\n         &lt;dependencies&gt;\n             &lt;groupId&gt;pt.foxspigot.jar&lt;/groupId&gt;\n             &lt;artifactId&gt;FoxSpigot&lt;/artifactId&gt;\n             &lt;version&gt;1.8.8-R0.1-SNAPSHOT&lt;/version&gt;\n             &lt;scope&gt;system&lt;/scope&gt;\n             &lt;systemPath&gt;${project.basedir}/libs/foxspigot-server.jar&lt;/systemPath&gt;\n         &lt;/dependency&gt;\n\n     &lt;/dependencies&gt;\n\n     &lt;build&gt;\n         &lt;plugins&gt;\n             &lt;plugins&gt;\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                 &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                 &lt;configuration&gt;\n                     &lt;source&gt;1.8&lt;/source&gt;\n                     &lt;target&gt;1.8&lt;/target&gt;\n                 &lt;/configuration&gt;\n             &lt;/plugins&gt;\n             &lt;plugins&gt;\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                 &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                 &lt;version&gt;2.1&lt;/version&gt;\n                 &lt;executions&gt;\n                     &lt;execution&gt;\n                         &lt;phase&gt;package&lt;/phase&gt;\n                         &lt;goals&gt;\n                             &lt;goal&gt;shade&lt;/goal&gt;\n                         &lt;/goals&gt;\n                     &lt;/execution&gt;\n                 &lt;/executions&gt;\n             &lt;/plugins&gt;\n         &lt;/plugins&gt;\n     &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","properties","configuration"],"owner":{"account_id":3020730,"reputation":179,"user_id":2561849,"accept_rate":33,"display_name":"Jens-Konrad Preem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683872459,"creation_date":1683872459,"question_id":76233610,"body_markdown":"I was following the instructions for such case as er question and answers in this post.\r\nhttps://stackoverflow.com/questions/31045955/using-configurationproperties-to-fill-map-in-generic-way\r\n\r\nNo Dice. The goal of me was to fill a map of countrycodes and names from a separate properties file.\r\n\r\n**countrycodes.properties**\r\n```\r\nIM=Man\r\nJE=Jersey\r\n```\r\nWhen I wired the following bean to a service and called the methods. Then the map was always returned as emtpty. For curiosity I created two field for IM and JE keys and those map finely.\r\n\r\n```\r\n@ConfigurationProperties\r\n@Component\r\n@PropertySource(&quot;classpath:countrycodes.properties&quot;)\r\npublic class CountryProperties {\r\n\r\n    private Map&lt;String, String&gt; namespace = new HashMap&lt;&gt;();\r\n\r\n    private String IM;\r\n    private String JE;\r\n\r\n//getters and setters\r\n\r\n```\r\n\r\n**random service.**\r\n\r\n```        \r\n//empty map\r\nvar map = countryProperties.getNamespace();\r\n//&quot;jersey&quot;\r\nvar jersey = countryProperties.getJE();\r\n//&quot;man&quot;\r\nvar man = countryProperties.getIM();\r\n\r\n```\r\n\r\nThe bean generated was exactly as posted in answer I linked but its behaviour did not correspond to the one described. There is no problem with property source location or soemthing like that as the other properties when added to bean map finely. Any ideas how i could get it to work","title":"Using configurationProperties to fill a map of all properties","body":"<p>I was following the instructions for such case as er question and answers in this post.\n<a href=\"https://stackoverflow.com/questions/31045955/using-configurationproperties-to-fill-map-in-generic-way\">Using ConfigurationProperties to fill Map in generic way</a></p>\n<p>No Dice. The goal of me was to fill a map of countrycodes and names from a separate properties file.</p>\n<p><strong>countrycodes.properties</strong></p>\n<pre><code>IM=Man\nJE=Jersey\n</code></pre>\n<p>When I wired the following bean to a service and called the methods. Then the map was always returned as emtpty. For curiosity I created two field for IM and JE keys and those map finely.</p>\n<pre><code>@ConfigurationProperties\n@Component\n@PropertySource(&quot;classpath:countrycodes.properties&quot;)\npublic class CountryProperties {\n\n    private Map&lt;String, String&gt; namespace = new HashMap&lt;&gt;();\n\n    private String IM;\n    private String JE;\n\n//getters and setters\n\n</code></pre>\n<p><strong>random service.</strong></p>\n<pre><code>//empty map\nvar map = countryProperties.getNamespace();\n//&quot;jersey&quot;\nvar jersey = countryProperties.getJE();\n//&quot;man&quot;\nvar man = countryProperties.getIM();\n\n</code></pre>\n<p>The bean generated was exactly as posted in answer I linked but its behaviour did not correspond to the one described. There is no problem with property source location or soemthing like that as the other properties when added to bean map finely. Any ideas how i could get it to work</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":8350435,"reputation":36,"user_id":6306344,"display_name":"Jeremie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683738232,"creation_date":1683738232,"answer_id":76220967,"question_id":76220372,"body_markdown":"It&#39;s because the return type of `getGreeting()` is `String`, and return type of `StringUtils.isBlank(&quot;  &quot;)` is a `boolean`. \r\nSo you should change the return type like below\r\n\r\n    public boolean getGreeting() {\r\n        return StringUtils.isBlank(&quot;  &quot;);\r\n    }\r\n\r\n\r\nBeside, you should write java code using IDE like Intelij or Eclipse. It will highlight and report this kind of error for you\r\n","title":"Gradle init project not able to add dependencies to &quot;app&quot; subproject","body":"<p>It's because the return type of <code>getGreeting()</code> is <code>String</code>, and return type of <code>StringUtils.isBlank(&quot;  &quot;)</code> is a <code>boolean</code>.\nSo you should change the return type like below</p>\n<pre><code>public boolean getGreeting() {\n    return StringUtils.isBlank(&quot;  &quot;);\n}\n</code></pre>\n<p>Beside, you should write java code using IDE like Intelij or Eclipse. It will highlight and report this kind of error for you</p>\n"},{"tags":[],"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683870723,"creation_date":1683870723,"answer_id":76233471,"question_id":76220372,"body_markdown":"To clarify the issue: in VS Code the imports were marked red and not find, regardless of the error I did mentioned by Jeremie.\r\n\r\nI tried it on a different computer on which it worked. I tried it again on my working machine in a new profile with a clean checkout and it worked again. It seems that the Java or Gradle VSCode plugin had an issue, I guess?","title":"Gradle init project not able to add dependencies to &quot;app&quot; subproject","body":"<p>To clarify the issue: in VS Code the imports were marked red and not find, regardless of the error I did mentioned by Jeremie.</p>\n<p>I tried it on a different computer on which it worked. I tried it again on my working machine in a new profile with a clean checkout and it worked again. It seems that the Java or Gradle VSCode plugin had an issue, I guess?</p>\n"}],"owner":{"account_id":17325887,"reputation":1370,"user_id":12550134,"display_name":"Apollo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76233471,"answer_count":2,"score":0,"last_activity_date":1683870723,"creation_date":1683733448,"question_id":76220372,"body_markdown":"I created a new Gradle 8.1.1 project with `gradle init` chosing the options application (2), Java (3), no multiple subprojects, Groovy DSL, JUnit 5,the same project and source package name and Java 11.\r\n\r\nI added Apache Commons to app/build.gradle and wanted called StringUtils in App.java but it failed. I first thought VS Code had an issue, but running `./gradlew build` fails also with:\r\n\r\n```\r\ngradle-basic-structure-dep-error\\app\\src\\main\\java\\gradle\\basic\\structure\\dep\\error\\App.java:10: error: incompatible types: boolean cannot be converted to String\r\n        return StringUtils.isBlank(&quot;  &quot;);\r\n                                  ^\r\n1 error\r\n\r\nFAILURE: Build failed with an exception.\r\n```\r\n\r\nHere is the full example: https://github.com/cwansart/gradle-basic-structure-dep-error\r\n\r\nWhy is it failing? Might this be an error in the generated code?","title":"Gradle init project not able to add dependencies to &quot;app&quot; subproject","body":"<p>I created a new Gradle 8.1.1 project with <code>gradle init</code> chosing the options application (2), Java (3), no multiple subprojects, Groovy DSL, JUnit 5,the same project and source package name and Java 11.</p>\n<p>I added Apache Commons to app/build.gradle and wanted called StringUtils in App.java but it failed. I first thought VS Code had an issue, but running <code>./gradlew build</code> fails also with:</p>\n<pre><code>gradle-basic-structure-dep-error\\app\\src\\main\\java\\gradle\\basic\\structure\\dep\\error\\App.java:10: error: incompatible types: boolean cannot be converted to String\n        return StringUtils.isBlank(&quot;  &quot;);\n                                  ^\n1 error\n\nFAILURE: Build failed with an exception.\n</code></pre>\n<p>Here is the full example: <a href=\"https://github.com/cwansart/gradle-basic-structure-dep-error\" rel=\"nofollow noreferrer\">https://github.com/cwansart/gradle-basic-structure-dep-error</a></p>\n<p>Why is it failing? Might this be an error in the generated code?</p>\n"},{"tags":["java","xml","jaxp"],"comments":[{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1291980953,"post_id":4408299,"comment_id":4807201,"body_markdown":"What&#39;s DSL? what does it stand for?","body":"What&#39;s DSL? what does it stand for?"},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1291981020,"post_id":4408299,"comment_id":4807219,"body_markdown":"@Elite: Domain-Specific Language","body":"@Elite: Domain-Specific Language"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1291981751,"post_id":4408299,"comment_id":4807333,"body_markdown":"What is your performance requirement? Even if its a bit slower, it is likely to be fast enough.  Performance isn&#39;t the only criteria which chosing a solution.","body":"What is your performance requirement? Even if its a bit slower, it is likely to be fast enough.  Performance isn&#39;t the only criteria which chosing a solution."},{"owner":{"account_id":661761,"reputation":2664,"user_id":474786,"display_name":"Anon"},"score":2,"creation_date":1291987738,"post_id":4408299,"comment_id":4808205,"body_markdown":"More important, your solution using a StringBuilder (StringBuffer is so 1990s) is almost guaranteed to be **broken**. In other words, it will occasionally produce output that a conforming XML parser will reject. There&#39;s more to building XML than &quot;escape handling.&quot;","body":"More important, your solution using a StringBuilder (StringBuffer is so 1990s) is almost guaranteed to be <b>broken</b>. In other words, it will occasionally produce output that a conforming XML parser will reject. There&#39;s more to building XML than &quot;escape handling.&quot;"},{"owner":{"account_id":109471,"reputation":4792,"user_id":290050,"accept_rate":87,"display_name":"Vladimir"},"score":0,"creation_date":1291995900,"post_id":4408299,"comment_id":4809700,"body_markdown":"@Peter Lawrey, Good question about performance requirement. I posted Update to explain. In short words my performance requirement is that code should do as many things as required to generate simple XML and not more.","body":"@Peter Lawrey, Good question about performance requirement. I posted Update to explain. In short words my performance requirement is that code should do as many things as required to generate simple XML and not more."},{"owner":{"account_id":109471,"reputation":4792,"user_id":290050,"accept_rate":87,"display_name":"Vladimir"},"score":0,"creation_date":1291996072,"post_id":4408299,"comment_id":4809737,"body_markdown":"@Anon, What do you think is needed more to build XML than simple espace handling and maintaing correct structure?","body":"@Anon, What do you think is needed more to build XML than simple espace handling and maintaing correct structure?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":4,"creation_date":1291998247,"post_id":4408299,"comment_id":4810176,"body_markdown":"@Vladimir, for your approach to be highly performant, you must be able to begin streaming out the result before you are finished generating the XML.  Also note that if you keep the whole result in memory, it might scale badly.","body":"@Vladimir, for your approach to be highly performant, you must be able to begin streaming out the result before you are finished generating the XML.  Also note that if you keep the whole result in memory, it might scale badly."},{"owner":{"account_id":661761,"reputation":2664,"user_id":474786,"display_name":"Anon"},"score":3,"creation_date":1291999168,"post_id":4408299,"comment_id":4810379,"body_markdown":"Well, let&#39;s start with encoding. You&#39;re generating output as a string, so how will you deal with converting that string to bytes? There are dozens of such seemingly minor points that are buried in the XML spec. But looking at your comments, you seem determined to go your own way, so I suppose that in a few weeks we&#39;ll get to hear from someone who is trying and failing to parse your XML with a standard parser, and wants to know how to parse with regexes.","body":"Well, let&#39;s start with encoding. You&#39;re generating output as a string, so how will you deal with converting that string to bytes? There are dozens of such seemingly minor points that are buried in the XML spec. But looking at your comments, you seem determined to go your own way, so I suppose that in a few weeks we&#39;ll get to hear from someone who is trying and failing to parse your XML with a standard parser, and wants to know how to parse with regexes."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1291999390,"post_id":4408299,"comment_id":4810426,"body_markdown":"@Vladmir, So your aim is for the simplest solution?  The simplest is likely to be the best, though it is the more complex solutions which tend to be more performant.","body":"@Vladmir, So your aim is for the simplest solution?  The simplest is likely to be the best, though it is the more complex solutions which tend to be more performant."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1291999639,"post_id":4408299,"comment_id":4810476,"body_markdown":"To limit your code to do not more than required you need to have a good understanding of what assumptions you can make. e.g. do you need characters at all, can you use just bytes? I suggest you test your output using a standard parser to so that your output can be read by a generic parser.","body":"To limit your code to do not more than required you need to have a good understanding of what assumptions you can make. e.g. do you need characters at all, can you use just bytes? I suggest you test your output using a standard parser to so that your output can be read by a generic parser."},{"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"score":0,"creation_date":1292002435,"post_id":4408299,"comment_id":4811044,"body_markdown":"Regarding update 3, check out:  http://bdoughan.blogspot.com/2010/10/how-does-jaxb-compare-to-xstream.html","body":"Regarding update 3, check out:  <a href=\"http://bdoughan.blogspot.com/2010/10/how-does-jaxb-compare-to-xstream.html\" rel=\"nofollow noreferrer\">bdoughan.blogspot.com/2010/10/&hellip;</a>"},{"owner":{"account_id":109471,"reputation":4792,"user_id":290050,"accept_rate":87,"display_name":"Vladimir"},"score":0,"creation_date":1292004278,"post_id":4408299,"comment_id":4811361,"body_markdown":"@Blaise Doughan, Thank you. I&#39;ve sent you a question by email.","body":"@Blaise Doughan, Thank you. I&#39;ve sent you a question by email."}],"answers":[{"tags":[],"owner":{"account_id":102129,"reputation":7632,"user_id":274344,"accept_rate":82,"display_name":"Simeon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1296146285,"creation_date":1291981538,"answer_id":4408500,"question_id":4408299,"body_markdown":"I will suggest something very controversial but still ...\r\n\r\n**Make profiling and performance tests** with both libraries.\r\n\r\nIf you don&#39;t have time for that, assuming something is slow would be the wrong choice in my opinion.\r\nBecause if it turns out that it actually is not slow, it would save you a lot of time to use an already built and supported library/framework.\r\n\r\nAnother thought.\r\nYou will need to test your completed high performance solution against the solutions already available anyway, to check if it is really high performance. So I would strongly suggest measuring the performance of the libraries available before starting your own.","title":"Custom Java XMLBuilder vs Standard classes-based","body":"<p>I will suggest something very controversial but still ...</p>\n\n<p><strong>Make profiling and performance tests</strong> with both libraries.</p>\n\n<p>If you don't have time for that, assuming something is slow would be the wrong choice in my opinion.\nBecause if it turns out that it actually is not slow, it would save you a lot of time to use an already built and supported library/framework.</p>\n\n<p>Another thought.\nYou will need to test your completed high performance solution against the solutions already available anyway, to check if it is really high performance. So I would strongly suggest measuring the performance of the libraries available before starting your own.</p>\n"},{"tags":[],"owner":{"account_id":210884,"reputation":332,"user_id":462735,"display_name":"Dmitry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291982183,"creation_date":1291982183,"answer_id":4408593,"question_id":4408299,"body_markdown":"There is powerful and flexible Groovy&#39;s NodeBuilder ([http://groovy.codehaus.org/GroovyMarkup][1]).\r\n\r\n    def root = new NodeBuilder()\r\n      .people(kind:&#39;folks&#39;, groovy:true) {\r\n        person(x:123,  name:&#39;James&#39;, cheese:&#39;edam&#39;) {\r\n          project(name:&#39;groovy&#39;)\r\n          project(name:&#39;geronimo&#39;)\r\n        }\r\n        person(x:234,  name:&#39;bob&#39;, cheese:&#39;cheddar&#39;) {\r\n          project(name:&#39;groovy&#39;)\r\n          project(name:&#39;drools&#39;)\r\n        }\r\n      }\r\n    XmlUtil.serialize(root, System.out)\r\n\r\nThis results with an XML document:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;people kind=&quot;folks&quot; groovy=&quot;true&quot;&gt;\r\n      &lt;person x=&quot;123&quot; name=&quot;James&quot; cheese=&quot;edam&quot;&gt;\r\n        &lt;project name=&quot;groovy&quot;/&gt;\r\n        &lt;project name=&quot;geronimo&quot;/&gt;\r\n      &lt;/person&gt;\r\n      &lt;person x=&quot;234&quot; name=&quot;bob&quot; cheese=&quot;cheddar&quot;&gt;\r\n        &lt;project name=&quot;groovy&quot;/&gt;\r\n        &lt;project name=&quot;drools&quot;/&gt;\r\n      &lt;/person&gt;\r\n    &lt;/people&gt;\r\n\r\n\r\n  [1]: http://groovy.codehaus.org/GroovyMarkup","title":"Custom Java XMLBuilder vs Standard classes-based","body":"<p>There is powerful and flexible Groovy's NodeBuilder (<a href=\"http://groovy.codehaus.org/GroovyMarkup\" rel=\"nofollow\">http://groovy.codehaus.org/GroovyMarkup</a>).</p>\n\n<pre><code>def root = new NodeBuilder()\n  .people(kind:'folks', groovy:true) {\n    person(x:123,  name:'James', cheese:'edam') {\n      project(name:'groovy')\n      project(name:'geronimo')\n    }\n    person(x:234,  name:'bob', cheese:'cheddar') {\n      project(name:'groovy')\n      project(name:'drools')\n    }\n  }\nXmlUtil.serialize(root, System.out)\n</code></pre>\n\n<p>This results with an XML document:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;people kind=\"folks\" groovy=\"true\"&gt;\n  &lt;person x=\"123\" name=\"James\" cheese=\"edam\"&gt;\n    &lt;project name=\"groovy\"/&gt;\n    &lt;project name=\"geronimo\"/&gt;\n  &lt;/person&gt;\n  &lt;person x=\"234\" name=\"bob\" cheese=\"cheddar\"&gt;\n    &lt;project name=\"groovy\"/&gt;\n    &lt;project name=\"drools\"/&gt;\n  &lt;/person&gt;\n&lt;/people&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1292000232,"creation_date":1292000232,"answer_id":4411321,"question_id":4408299,"body_markdown":"Regarding:\r\n\r\n&gt; Standard XML builders uses Document\r\n&gt; Builder Factory and works with classes\r\n&gt; behind the scenes. Also these classes\r\n&gt; optimized to fit all users. For\r\n&gt; example I don&#39;t need namespace support\r\n&gt; etc.\r\n\r\nAn alternative to DOM is StAX ([JSR-173][1]).  It is a Streaming API for XML that is quite fast.  There are several implementations, I have found [Woodstox][2] to be quite performant.\r\n\r\n\r\n  [1]: http://jcp.org/en/jsr/detail?id=173\r\n  [2]: http://woodstox.codehaus.org/","title":"Custom Java XMLBuilder vs Standard classes-based","body":"<p>Regarding:</p>\n\n<blockquote>\n  <p>Standard XML builders uses Document\n  Builder Factory and works with classes\n  behind the scenes. Also these classes\n  optimized to fit all users. For\n  example I don't need namespace support\n  etc.</p>\n</blockquote>\n\n<p>An alternative to DOM is StAX (<a href=\"http://jcp.org/en/jsr/detail?id=173\" rel=\"nofollow\">JSR-173</a>).  It is a Streaming API for XML that is quite fast.  There are several implementations, I have found <a href=\"http://woodstox.codehaus.org/\" rel=\"nofollow\">Woodstox</a> to be quite performant.</p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292974073,"creation_date":1292973711,"answer_id":4504896,"question_id":4408299,"body_markdown":"One more high-performance suggestion: use [StaxMate][1] -- it is as fast as underlying Stax-based XML writer, which is rather fast (40 - 80 megabytes per second, sustained). Just make sure you do NOT use default JDK 6 Stax implementation (Sun sjsxp) but something faster like Woodstox or Aalto.\r\n\r\nI would strongly recommend against writing your own XML writer; it is typically risky (good chance you will forget some part of escaping) as others have mentioned, and not all that likely to be faster than existing **efficient** solutions (not all existing solutions are efficient; you do need to find ones that are). And in the end... unless you really want to write these things, why not work on something more interesting and meaningful?\r\n\r\nBut if you do want to do something above and beyond existing writers you could consider using a simple writer and augmenting it with additional functionality that you need. For example, if you just use Stax XMLStreamWriter as base, it is quite easy to add simple but efficient abstractions. Or if you like existing packages, see if you can suggest improvements to their authors (or even code contributions).\r\n\r\n  [1]: http://staxmate.codehaus.org","title":"Custom Java XMLBuilder vs Standard classes-based","body":"<p>One more high-performance suggestion: use <a href=\"http://staxmate.codehaus.org\" rel=\"nofollow\">StaxMate</a> -- it is as fast as underlying Stax-based XML writer, which is rather fast (40 - 80 megabytes per second, sustained). Just make sure you do NOT use default JDK 6 Stax implementation (Sun sjsxp) but something faster like Woodstox or Aalto.</p>\n\n<p>I would strongly recommend against writing your own XML writer; it is typically risky (good chance you will forget some part of escaping) as others have mentioned, and not all that likely to be faster than existing <strong>efficient</strong> solutions (not all existing solutions are efficient; you do need to find ones that are). And in the end... unless you really want to write these things, why not work on something more interesting and meaningful?</p>\n\n<p>But if you do want to do something above and beyond existing writers you could consider using a simple writer and augmenting it with additional functionality that you need. For example, if you just use Stax XMLStreamWriter as base, it is quite easy to add simple but efficient abstractions. Or if you like existing packages, see if you can suggest improvements to their authors (or even code contributions).</p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683869787,"creation_date":1682935298,"answer_id":76146074,"question_id":4408299,"body_markdown":"There is powerful [XmlBuilder][1]\r\n\r\n```java\r\nimport com.github.underscore.XmlBuilder;\r\n\r\nvar xmlBuilder =\r\n    XmlBuilder.create(&quot;people&quot;)\r\n        .a(&quot;kind&quot;, &quot;folks&quot;)\r\n        .a(&quot;groovy&quot;, &quot;true&quot;)\r\n        .e(&quot;person&quot;)\r\n        .a(&quot;x&quot;, &quot;123&quot;)\r\n        .a(&quot;name&quot;, &quot;James&quot;)\r\n        .a(&quot;cheese&quot;, &quot;edam&quot;)\r\n        .e(&quot;project&quot;)\r\n        .a(&quot;name&quot;, &quot;groovy&quot;)\r\n        .a(&quot;self-closing&quot;, &quot;true&quot;)\r\n        .up()\r\n        .e(&quot;project&quot;)\r\n        .a(&quot;name&quot;, &quot;geronimo&quot;)\r\n        .a(&quot;self-closing&quot;, &quot;true&quot;)\r\n        .up()\r\n        .up()\r\n        .e(&quot;person&quot;)\r\n        .a(&quot;x&quot;, &quot;234&quot;)\r\n        .a(&quot;name&quot;, &quot;bob&quot;)\r\n        .a(&quot;cheese&quot;, &quot;cheddar&quot;)\r\n        .e(&quot;project&quot;)\r\n        .a(&quot;name&quot;, &quot;groovy&quot;)\r\n        .a(&quot;self-closing&quot;, &quot;true&quot;)\r\n        .up()\r\n        .e(&quot;project&quot;)\r\n        .a(&quot;name&quot;, &quot;drools&quot;)\r\n        .a(&quot;self-closing&quot;, &quot;true&quot;);\r\nSystem.out.println(xmlBuilder.toXml(Xml.XmlStringBuilder.Step.FOUR_SPACES));\r\n```\r\nThis results with an XML document:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;people kind=&quot;folks&quot; groovy=&quot;true&quot;&gt;\r\n    &lt;person x=&quot;123&quot; name=&quot;James&quot; cheese=&quot;edam&quot;&gt;\r\n        &lt;project name=&quot;groovy&quot;/&gt;\r\n        &lt;project name=&quot;geronimo&quot;/&gt;\r\n    &lt;/person&gt;\r\n    &lt;person x=&quot;234&quot; name=&quot;bob&quot; cheese=&quot;cheddar&quot;&gt;\r\n        &lt;project name=&quot;groovy&quot;/&gt;\r\n        &lt;project name=&quot;drools&quot;/&gt;\r\n    &lt;/person&gt;\r\n&lt;/people&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"Custom Java XMLBuilder vs Standard classes-based","body":"<p>There is powerful <a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">XmlBuilder</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.github.underscore.XmlBuilder;\n\nvar xmlBuilder =\n    XmlBuilder.create(&quot;people&quot;)\n        .a(&quot;kind&quot;, &quot;folks&quot;)\n        .a(&quot;groovy&quot;, &quot;true&quot;)\n        .e(&quot;person&quot;)\n        .a(&quot;x&quot;, &quot;123&quot;)\n        .a(&quot;name&quot;, &quot;James&quot;)\n        .a(&quot;cheese&quot;, &quot;edam&quot;)\n        .e(&quot;project&quot;)\n        .a(&quot;name&quot;, &quot;groovy&quot;)\n        .a(&quot;self-closing&quot;, &quot;true&quot;)\n        .up()\n        .e(&quot;project&quot;)\n        .a(&quot;name&quot;, &quot;geronimo&quot;)\n        .a(&quot;self-closing&quot;, &quot;true&quot;)\n        .up()\n        .up()\n        .e(&quot;person&quot;)\n        .a(&quot;x&quot;, &quot;234&quot;)\n        .a(&quot;name&quot;, &quot;bob&quot;)\n        .a(&quot;cheese&quot;, &quot;cheddar&quot;)\n        .e(&quot;project&quot;)\n        .a(&quot;name&quot;, &quot;groovy&quot;)\n        .a(&quot;self-closing&quot;, &quot;true&quot;)\n        .up()\n        .e(&quot;project&quot;)\n        .a(&quot;name&quot;, &quot;drools&quot;)\n        .a(&quot;self-closing&quot;, &quot;true&quot;);\nSystem.out.println(xmlBuilder.toXml(Xml.XmlStringBuilder.Step.FOUR_SPACES));\n</code></pre>\n<p>This results with an XML document:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;people kind=&quot;folks&quot; groovy=&quot;true&quot;&gt;\n    &lt;person x=&quot;123&quot; name=&quot;James&quot; cheese=&quot;edam&quot;&gt;\n        &lt;project name=&quot;groovy&quot;/&gt;\n        &lt;project name=&quot;geronimo&quot;/&gt;\n    &lt;/person&gt;\n    &lt;person x=&quot;234&quot; name=&quot;bob&quot; cheese=&quot;cheddar&quot;&gt;\n        &lt;project name=&quot;groovy&quot;/&gt;\n        &lt;project name=&quot;drools&quot;/&gt;\n    &lt;/person&gt;\n&lt;/people&gt;\n</code></pre>\n"}],"owner":{"account_id":109471,"reputation":4792,"user_id":290050,"accept_rate":87,"display_name":"Vladimir"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1629,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":4408500,"answer_count":5,"score":5,"last_activity_date":1683869787,"creation_date":1291980145,"question_id":4408299,"body_markdown":"What is the best performance solution for XML generation.\r\n\r\nMy goal is to build a few simple XMLs from code. I am going to implement simple custom StringBuffer based implementation of XML Builder. From other side there are several libraries like http://code.google.com/p/java-xmlbuilder/ and http://code.google.com/p/xmltool/ which has nice DSL but I guess lack on performance.\r\n\r\nSince my goal is build simple enough XMLBuilder with great performance I think I will build custom solution. It will featuring:\r\n\r\n- Nice Java-based DSL for XML constructs (adding tags basically)\r\n- Great StringBuffer based performance.\r\n- String data escape handling when adding XML tags.\r\n- Auto-indent\r\n\r\nPlease suggest if I am wrong on performance expectations and its probably better to use ready-made libraries.\r\n\r\n\r\n**UPDATE.** Why I think the performance of standard xml builders is not very good.\r\n\r\nStandard XML builders uses Document Builder Factory and works with classes behind the scenes. Also these classes optimized to fit all users. For example I don&#39;t need namespace support etc.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;&gt;\r\n    &lt;root&gt;\r\n     &lt;testdata&gt;value&lt;/testdata&gt;\r\n    &lt;/root&gt;\r\n    &lt;/xml&gt;\r\n\r\nConsider very simple XML code above. If you build with standard tools it will involve so many work just to make this simple XML. I consider that it&#39;s better to just generate it by myself using String.\r\n\r\n**UPDATE 2**. Performance requirement is that code should do as many things as required to generate simple XML and not more. \r\n\r\n**UPDATE 3. Thanks** everyone for great comments! Now I understand better what I need and that my initial goal was not set very correctly with word &quot;performance&quot;. My true goal is to use simple enough solution with convenient DSL to describe the XML structure and generate the XML output.\r\n\r\nI will use plain Java objects as DSL for XML and generate XML using XStream library which is pretty straightforward solution.\r\n\r\n**UPDATE 4. JAXB.** I discussed XStream vs JAXB and found that JAXB is faster than XStream. Plus I already use JAXB in my project and I like its standard annotations. I change my mind and will go with JAXB for now because XStream was originally heavily developed at the time when JAXB was not so good as today.","title":"Custom Java XMLBuilder vs Standard classes-based","body":"<p>What is the best performance solution for XML generation.</p>\n\n<p>My goal is to build a few simple XMLs from code. I am going to implement simple custom StringBuffer based implementation of XML Builder. From other side there are several libraries like <a href=\"http://code.google.com/p/java-xmlbuilder/\" rel=\"nofollow\">http://code.google.com/p/java-xmlbuilder/</a> and <a href=\"http://code.google.com/p/xmltool/\" rel=\"nofollow\">http://code.google.com/p/xmltool/</a> which has nice DSL but I guess lack on performance.</p>\n\n<p>Since my goal is build simple enough XMLBuilder with great performance I think I will build custom solution. It will featuring:</p>\n\n<ul>\n<li>Nice Java-based DSL for XML constructs (adding tags basically)</li>\n<li>Great StringBuffer based performance.</li>\n<li>String data escape handling when adding XML tags.</li>\n<li>Auto-indent</li>\n</ul>\n\n<p>Please suggest if I am wrong on performance expectations and its probably better to use ready-made libraries.</p>\n\n<p><strong>UPDATE.</strong> Why I think the performance of standard xml builders is not very good.</p>\n\n<p>Standard XML builders uses Document Builder Factory and works with classes behind the scenes. Also these classes optimized to fit all users. For example I don't need namespace support etc.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"&gt;\n&lt;root&gt;\n &lt;testdata&gt;value&lt;/testdata&gt;\n&lt;/root&gt;\n&lt;/xml&gt;\n</code></pre>\n\n<p>Consider very simple XML code above. If you build with standard tools it will involve so many work just to make this simple XML. I consider that it's better to just generate it by myself using String.</p>\n\n<p><strong>UPDATE 2</strong>. Performance requirement is that code should do as many things as required to generate simple XML and not more. </p>\n\n<p><strong>UPDATE 3. Thanks</strong> everyone for great comments! Now I understand better what I need and that my initial goal was not set very correctly with word \"performance\". My true goal is to use simple enough solution with convenient DSL to describe the XML structure and generate the XML output.</p>\n\n<p>I will use plain Java objects as DSL for XML and generate XML using XStream library which is pretty straightforward solution.</p>\n\n<p><strong>UPDATE 4. JAXB.</strong> I discussed XStream vs JAXB and found that JAXB is faster than XStream. Plus I already use JAXB in my project and I like its standard annotations. I change my mind and will go with JAXB for now because XStream was originally heavily developed at the time when JAXB was not so good as today.</p>\n"},{"tags":["java","spring","jar","war","manifest"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1653577813,"post_id":72393920,"comment_id":127889858,"body_markdown":"Are you asking how to read the manifest of a .war file from a class which resides in one of the .war file’s WEB-INF/lib/*.jar files?","body":"Are you asking how to read the manifest of a .war file from a class which resides in one of the .war file’s WEB-INF/lib/*.jar files?"},{"owner":{"account_id":3362570,"reputation":421,"user_id":2824059,"accept_rate":79,"display_name":"slider"},"score":0,"creation_date":1653577979,"post_id":72393920,"comment_id":127889935,"body_markdown":"@VGR\nYes, that&#39;s right.","body":"@VGR Yes, that&#39;s right."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653580943,"creation_date":1653578929,"answer_id":72394290,"question_id":72393920,"body_markdown":"Since a .war file’s purpose is to handle servlets, I assume all of your code is called from servlets, or from a technology built on servlets, like JSP, JSF, or even Spring.\r\n\r\nCall the current request’s [getServletContext() method](https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getServletContext--), and use the [getResource](https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletContext.html#getResource-java.lang.String-) or [getResourceAsStream](https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletContext.html#getResourceAsStream-java.lang.String-) method of ServletContext.  Those methods work just like the same methods of java.lang.Class, only they look in the .war file itself before searching the web application’s classpath for a matching path.\r\n\r\nFor example:\r\n\r\n    public Optional&lt;Manifest&gt; getWarManifest(ServletRequest request)\r\n    throws IOException {\r\n\r\n        InputStream manifest =\r\n            request.getServletContext().getResourceAsStream(\r\n                &quot;/META-INF/MANIFEST.MF&quot;);\r\n\r\n        if (manifest == null) {\r\n            return Optional.empty();\r\n        }\r\n\r\n        try (InputStream stream = new BufferedInputStream(manifest)) {\r\n            return Optional.of(new Manifest(stream));\r\n        }\r\n    }\r\n\r\n**Update:**\r\n\r\nSince you want to read the manifest when preparing a Spring bean, it appears [you can autowire a ServletContext object](https://stackoverflow.com/questions/47269496/spring-get-servletcontext-and-provide-it-as-a-bean):\r\n\r\n    @Configuration\r\n    public class MyAppConfig {\r\n        @Bean\r\n        public MyBean createMyBean(@Autowired ServletContext context)\r\n        throws IOException {\r\n\r\n            Optional&lt;Manifest&gt; manifest;\r\n\r\n            InputStream source =\r\n                context.getResourceAsStream(&quot;/META-INF/MANIFEST.MF&quot;);\r\n\r\n            if (source == null) {\r\n                manifest = Optional.empty();\r\n            } else {\r\n                try (InputStream stream = new BufferedInputStream(source)) {\r\n                    manifest = Optional.of(new Manifest(stream));\r\n                }\r\n            }\r\n\r\n            return new MyBean(manifest);\r\n        }\r\n    }\r\n","title":"How to read war-file manifest in its jar-dependency?","body":"<p>Since a .war file’s purpose is to handle servlets, I assume all of your code is called from servlets, or from a technology built on servlets, like JSP, JSF, or even Spring.</p>\n<p>Call the current request’s <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getServletContext--\" rel=\"nofollow noreferrer\">getServletContext() method</a>, and use the <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletContext.html#getResource-java.lang.String-\" rel=\"nofollow noreferrer\">getResource</a> or <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletContext.html#getResourceAsStream-java.lang.String-\" rel=\"nofollow noreferrer\">getResourceAsStream</a> method of ServletContext.  Those methods work just like the same methods of java.lang.Class, only they look in the .war file itself before searching the web application’s classpath for a matching path.</p>\n<p>For example:</p>\n<pre><code>public Optional&lt;Manifest&gt; getWarManifest(ServletRequest request)\nthrows IOException {\n\n    InputStream manifest =\n        request.getServletContext().getResourceAsStream(\n            &quot;/META-INF/MANIFEST.MF&quot;);\n\n    if (manifest == null) {\n        return Optional.empty();\n    }\n\n    try (InputStream stream = new BufferedInputStream(manifest)) {\n        return Optional.of(new Manifest(stream));\n    }\n}\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>Since you want to read the manifest when preparing a Spring bean, it appears <a href=\"https://stackoverflow.com/questions/47269496/spring-get-servletcontext-and-provide-it-as-a-bean\">you can autowire a ServletContext object</a>:</p>\n<pre><code>@Configuration\npublic class MyAppConfig {\n    @Bean\n    public MyBean createMyBean(@Autowired ServletContext context)\n    throws IOException {\n\n        Optional&lt;Manifest&gt; manifest;\n\n        InputStream source =\n            context.getResourceAsStream(&quot;/META-INF/MANIFEST.MF&quot;);\n\n        if (source == null) {\n            manifest = Optional.empty();\n        } else {\n            try (InputStream stream = new BufferedInputStream(source)) {\n                manifest = Optional.of(new Manifest(stream));\n            }\n        }\n\n        return new MyBean(manifest);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7917905,"reputation":186,"user_id":5979787,"display_name":"Maxim Karavaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683869473,"creation_date":1683869473,"answer_id":76233385,"question_id":72393920,"body_markdown":"There could be an alternative approach... If you can change the build configuration of your WAR file, then you can simply add all build properties into a different file in an accessible location. For example:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;write-project-properties&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputFile&gt;${project.build.directory}/classes/maven.properties&lt;/outputFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\nAfter that, you can access all needed information from it without bothering with the Manifest file.","title":"How to read war-file manifest in its jar-dependency?","body":"<p>There could be an alternative approach... If you can change the build configuration of your WAR file, then you can simply add all build properties into a different file in an accessible location. For example:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;write-project-properties&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputFile&gt;${project.build.directory}/classes/maven.properties&lt;/outputFile&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>After that, you can access all needed information from it without bothering with the Manifest file.</p>\n"}],"owner":{"account_id":3362570,"reputation":421,"user_id":2824059,"accept_rate":79,"display_name":"slider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72394290,"answer_count":2,"score":0,"last_activity_date":1683869473,"creation_date":1653577331,"question_id":72393920,"body_markdown":"How do I read the `war`-file manifest property in its `jar`-dependency?\r\n\r\nUPD: servlets are not used here (it&#39;s spring-bean initialization code).\r\n","title":"How to read war-file manifest in its jar-dependency?","body":"<p>How do I read the <code>war</code>-file manifest property in its <code>jar</code>-dependency?</p>\n<p>UPD: servlets are not used here (it's spring-bean initialization code).</p>\n"},{"tags":["java","mysql","tomcat","java-8","tomcat9"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683865990,"post_id":76233109,"comment_id":134435031,"body_markdown":"The classname (com.mysql.jdbc.Driver) is incorrect for that version of the Connector-J driver.","body":"The classname (com.mysql.jdbc.Driver) is incorrect for that version of the Connector-J driver."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683866121,"post_id":76233109,"comment_id":134435042,"body_markdown":"See https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-driver-name.html","body":"See <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-driver-name.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683866736,"post_id":76233109,"comment_id":134435111,"body_markdown":"getting this error now &quot;Unable to load class: com.mysql.cj.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\n&quot;","body":"getting this error now &quot;Unable to load class: com.mysql.cj.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:Par&zwnj;&#8203;allelWebappClassLoad&zwnj;&#8203;er &quot;"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683866862,"post_id":76233109,"comment_id":134435127,"body_markdown":"Is the JAR for the driver in your WAR file?   Check.","body":"Is the JAR for the driver in your WAR file?   Check."},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683866914,"post_id":76233109,"comment_id":134435132,"body_markdown":"&quot;org.apache.catalina.loader.WebappClassLoaderBase checkStateForResourceLoading\nINFO: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\njava.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n&quot;at the endoferrorlog","body":"&quot;org.apache.catalina.loader.WebappClassLoaderBase checkStateForResourceLoading INFO: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access. java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access. &quot;at the endoferrorlog"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683867028,"post_id":76233109,"comment_id":134435148,"body_markdown":"by this &quot;Is the JAR for the driver in your WAR file&quot; do you mean in my repository default one that starts with .m2/....","body":"by this &quot;Is the JAR for the driver in your WAR file&quot; do you mean in my repository default one that starts with .m2/...."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683867440,"post_id":76233109,"comment_id":134435200,"body_markdown":"No.  I mean the WAR file that Maven is building and that you are deploying to your Tomcat.","body":"No.  I mean the WAR file that Maven is building and that you are deploying to your Tomcat."},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683867710,"post_id":76233109,"comment_id":134435227,"body_markdown":"yes in my abc/web-inf/lib folder &quot;mysql-connector-j-8.0.31.jar&quot; is present","body":"yes in my abc/web-inf/lib folder &quot;mysql-connector-j-8.0.31.jar&quot; is present"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683868979,"post_id":76233109,"comment_id":134435372,"body_markdown":"You need to show the `Context.xml` in which this resource is defined to Tomcat, but your question is really off topic here.","body":"You need to show the <code>Context.xml</code> in which this resource is defined to Tomcat, but your question is really off topic here."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1683869219,"post_id":76233109,"comment_id":134435399,"body_markdown":"I suspect you may need to copy that JAR to the tomcat shared library folder.  I&#39;m not sure whether the Tomcat DataSource config is going to search your webapp&#39;s classpath.","body":"I suspect you may need to copy that JAR to the tomcat shared library folder.  I&#39;m not sure whether the Tomcat DataSource config is going to search your webapp&#39;s classpath."},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1683869743,"post_id":76233109,"comment_id":134435468,"body_markdown":"added the context.xml file","body":"added the context.xml file"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683870500,"post_id":76233109,"comment_id":134435581,"body_markdown":"@StephenC is correct. If that is the Tomcat Context.xml rather than the application&#39;s, and it appears to be, the driver JAR file needs to be in the Tomcat lib directory. However, contrary to another comment, both `com.mysql.jdbc.Driver` and `com.mysql.cj.jdbc.Driver` are present in the JAR, and I think they have gone back to preferring the former.","body":"@StephenC is correct. If that is the Tomcat Context.xml rather than the application&#39;s, and it appears to be, the driver JAR file needs to be in the Tomcat lib directory. However, contrary to another comment, both <code>com.mysql.jdbc.Driver</code> and <code>com.mysql.cj.jdbc.Driver</code> are present in the JAR, and I think they have gone back to preferring the former."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683874961,"post_id":76233109,"comment_id":134436217,"body_markdown":"Ah.  OK.  So we suspect that &gt;neither&lt; version of the driver JAR was in the shared lib folder.","body":"Ah.  OK.  So we suspect that &gt;neither&lt; version of the driver JAR was in the shared lib folder."}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683869325,"creation_date":1683865419,"question_id":76233109,"body_markdown":"Getting the below error log while running the tomcat:-\r\n```\r\nMay 12, 2023 9:45:04 AM org.apache.naming.NamingContext lookup\r\nWARNING: Unexpected exception resolving reference\r\njava.sql.SQLException: Unable to load class: com.mysql.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\r\n  context: Image-Text\r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@34c45dca\r\n\r\n\tat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:315)\r\n\tat org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:227)\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:768)\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:696)\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:495)\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:153)\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118)\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107)\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceFactory.createDataSource(DataSourceFactory.java:560)\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceFactory.getObjectInstance(DataSourceFactory.java:244)\r\n\tat org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96)\r\n\tat javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:332)\r\n\tat org.apache.naming.NamingContext.lookup(NamingContext.java:864)\r\n\tat org.apache.naming.NamingContext.lookup(NamingContext.java:158)\r\n\tat org.apache.naming.NamingContext.lookup(NamingContext.java:850)\r\n\tat org.apache.naming.NamingContext.lookup(NamingContext.java:172)\r\n\tat org.apache.catalina.core.NamingContextListener.addResource(NamingContextListener.java:986)\r\n\tat org.apache.catalina.core.NamingContextListener.createNamingContext(NamingContextListener.java:536)\r\n\tat org.apache.catalina.core.NamingContextListener.lifecycleEvent(NamingContextListener.java:243)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4852)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\r\n\tat org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1184)\r\n\tat org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1932)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n\tat org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:1094)\r\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:476)\r\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\r\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\nCaused by: java.lang.ClassNotFoundException: Unable to load class: com.mysql.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\r\n  context: Image-Text\r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@34c45dca\r\n\r\n\tat org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:56)\r\n\tat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:304)\r\n\t... 59 more\r\nCaused by: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:38)\r\n\t... 60 more\r\n\r\nMay 12, 2023 9:45:04 AM org.apache.catalina.core.NamingContextListener addResource\r\nWARNING: Failed to register in JMX: [javax.naming.NamingException: Unexpected exception resolving reference [Root exception is java.sql.SQLException: Unable to load class: com.mysql.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\r\n  context: Image-Text\r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@34c45dca\r\n]]\r\nMay 12, 2023 9:45:04 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: Marking servlet [Faces Servlet] as unavailable\r\nMay 12, 2023 9:45:04 AM org.apache.catalina.core.StandardContext loadOnStartup\r\nSEVERE: Servlet [Faces Servlet] in web application [/Image-Text] threw load() exception\r\njava.lang.ClassNotFoundException: javax.faces.webapp.FacesServlet\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:487)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:469)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:141)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1020)\r\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:960)\r\n\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4673)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4980)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n```\r\nmysql dependency used :-\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.31&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\ni&#39;m using tomcat 9.0.74 and mysql 8.0.31 and jdk8, i&#39;m currentely upgrading my project from jdk7 to 8 and tomcat 7 to 9 and mysql 5 to 8. there&#39;s been many issue and most of them resolved by changing the dependency versions but this i&#39;m not able to resolve. \r\ni tried changing the mysql versions but didn&#39;t work\r\n\r\nAdding some more error logs these logs are the starting logs they were missing because of some eclipse settings: -\r\n\r\n    May 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Error configuring application listener of class [org.springframework.web.util.Log4jConfigListener]\r\n    java.lang.ClassNotFoundException: org.springframework.web.util.Log4jConfigListener\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:487)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:469)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:141)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4421)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4946)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:689)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1888)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:582)\r\n    \tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\r\n    \tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\r\n    \tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n    \tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n    \tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\n    \r\n    May 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Skipped installing application listeners due to previous error(s)\r\n    May 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext startInternal\r\n    SEVERE: One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n    May 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext startInternal\r\n    SEVERE: Context [] startup failed due to previous errors\r\n    May 12, 2023 10:34:44 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesJdbc\r\n    WARNING: The web application [ROOT] registered the JDBC driver [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\r\n    May 12, 2023 10:34:44 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\r\n    WARNING: The web application [ROOT] appears to have started a thread named [mysql-cj-abandoned-connection-cleanup] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.lang.Object.wait(Native Method)\r\n     java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\r\n     com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:91)\r\n     java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n     java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n     java.lang.Thread.run(Thread.java:748)\r\n    May 12, 2023 10:34:44 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\r\n    WARNING: The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.lang.Object.wait(Native Method)\r\n     java.lang.Object.wait(Object.java:502)\r\n     java.util.TimerThread.mainLoop(Timer.java:526)\r\n     java.util.TimerThread.run(Timer.java:505)\r\n    May 12, 2023 10:34:44 AM org.apache.catalina.startup.HostConfig deployDescriptor\r\n    INFO: Deployment of deployment descriptor [D:\\apache-tomcat-9.0.74\\apache-tomcat-9.0.74\\conf\\Catalina\\localhost\\ROOT.xml] has finished in [13,985] ms\r\n    May 12, 2023 10:34:44 AM org.apache.catalina.startup.HostConfig deployWAR\r\n    INFO: Deploying web application archive [D:\\apache-tomcat-9.0.74\\apache-tomcat-9.0.74\\webapps\\abc.war]\r\n    May 12, 2023 10:34:46 AM org.apache.catalina.loader.WebappClassLoaderBase checkStateForResourceLoading\r\n    INFO: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n    java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1432)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.getResource(WebappClassLoaderBase.java:1057)\r\n    \tat com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.checkThreadContextClassLoader(AbandonedConnectionCleanupThread.java:123)\r\n    \tat com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:90)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nAdding context.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!--\r\n      Licensed to the Apache Software Foundation (ASF) under one or more\r\n      contributor license agreements.  See the NOTICE file distributed with\r\n      this work for additional information regarding copyright ownership.\r\n      The ASF licenses this file to You under the Apache License, Version 2.0\r\n      (the &quot;License&quot;); you may not use this file except in compliance with\r\n      the License.  You may obtain a copy of the License at\r\n    \r\n          http://www.apache.org/licenses/LICENSE-2.0\r\n    \r\n      Unless required by applicable law or agreed to in writing, software\r\n      distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n      See the License for the specific language governing permissions and\r\n      limitations under the License.\r\n    --&gt;&lt;!-- The contents of this file will be loaded for each web application --&gt;&lt;Context&gt;\r\n    \r\n        &lt;!-- Default set of monitored resources. If one of these changes, the    --&gt;\r\n        &lt;!-- web application will be reloaded.                                   --&gt;\r\n        &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;\r\n        &lt;!--&lt;WatchedResource&gt;WEB-INF/tomcat-web.xml&lt;/WatchedResource&gt;\r\n        &lt;WatchedResource&gt;${catalina.base}/conf/web.xml&lt;/WatchedResource&gt;--&gt;\r\n    \r\n    \t\r\n     &lt;Resource auth=&quot;Container&quot; defaultAutoCommit=&quot;false&quot; \r\n    defaultTransactionIsolation=&quot;2&quot; driverClassName=&quot;com.mysql.cj.jdbc.Driver&quot; \r\n    factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot; maxIdle=&quot;30&quot; \r\n    name=&quot;jdbc/myDS&quot; password=&quot;1234&quot; type=&quot;javax.sql.DataSource&quot; \r\n    url=&quot;jdbc:mysql://127.0.0.1:3307/latest?characterEncoding=UTF-8&quot; \r\n    username=&quot;root&quot; validationQuery=&quot;SELECT 1 from dual&quot;/&gt;\r\n    \r\n        &lt;!-- Uncomment this to disable session persistence across Tomcat restarts --&gt;\r\n        &lt;!--\r\n        &lt;Manager pathname=&quot;&quot; /&gt;\r\n        --&gt;\r\n    &lt;/Context&gt;","title":"unable to run mysql v8.0.31 on tomcat 9.0.74","body":"<p>Getting the below error log while running the tomcat:-</p>\n<pre><code>May 12, 2023 9:45:04 AM org.apache.naming.NamingContext lookup\nWARNING: Unexpected exception resolving reference\njava.sql.SQLException: Unable to load class: com.mysql.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\n  context: Image-Text\n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@34c45dca\n\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:315)\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:227)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:768)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:696)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:495)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:153)\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118)\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107)\n    at org.apache.tomcat.jdbc.pool.DataSourceFactory.createDataSource(DataSourceFactory.java:560)\n    at org.apache.tomcat.jdbc.pool.DataSourceFactory.getObjectInstance(DataSourceFactory.java:244)\n    at org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96)\n    at javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:332)\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:864)\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:158)\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:850)\n    at org.apache.naming.NamingContext.lookup(NamingContext.java:172)\n    at org.apache.catalina.core.NamingContextListener.addResource(NamingContextListener.java:986)\n    at org.apache.catalina.core.NamingContextListener.createNamingContext(NamingContextListener.java:536)\n    at org.apache.catalina.core.NamingContextListener.lifecycleEvent(NamingContextListener.java:243)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4852)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\n    at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1184)\n    at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1932)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\n    at org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:1094)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:476)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\nCaused by: java.lang.ClassNotFoundException: Unable to load class: com.mysql.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\n  context: Image-Text\n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@34c45dca\n\n    at org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:56)\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:304)\n    ... 59 more\nCaused by: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at org.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:38)\n    ... 60 more\n\nMay 12, 2023 9:45:04 AM org.apache.catalina.core.NamingContextListener addResource\nWARNING: Failed to register in JMX: [javax.naming.NamingException: Unexpected exception resolving reference [Root exception is java.sql.SQLException: Unable to load class: com.mysql.jdbc.Driver from ClassLoader:java.net.URLClassLoader@34c45dca;ClassLoader:ParallelWebappClassLoader\n  context: Image-Text\n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@34c45dca\n]]\nMay 12, 2023 9:45:04 AM org.apache.catalina.core.ApplicationContext log\nINFO: Marking servlet [Faces Servlet] as unavailable\nMay 12, 2023 9:45:04 AM org.apache.catalina.core.StandardContext loadOnStartup\nSEVERE: Servlet [Faces Servlet] in web application [/Image-Text] threw load() exception\njava.lang.ClassNotFoundException: javax.faces.webapp.FacesServlet\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:487)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:469)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:141)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1020)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:960)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4673)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4980)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n</code></pre>\n<p>mysql dependency used :-</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>i'm using tomcat 9.0.74 and mysql 8.0.31 and jdk8, i'm currentely upgrading my project from jdk7 to 8 and tomcat 7 to 9 and mysql 5 to 8. there's been many issue and most of them resolved by changing the dependency versions but this i'm not able to resolve.\ni tried changing the mysql versions but didn't work</p>\n<p>Adding some more error logs these logs are the starting logs they were missing because of some eclipse settings: -</p>\n<pre><code>May 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Error configuring application listener of class [org.springframework.web.util.Log4jConfigListener]\njava.lang.ClassNotFoundException: org.springframework.web.util.Log4jConfigListener\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:487)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:469)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:141)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4421)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4946)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:689)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1888)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\n    at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:582)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:472)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\n\nMay 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Skipped installing application listeners due to previous error(s)\nMay 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext startInternal\nSEVERE: One or more listeners failed to start. Full details will be found in the appropriate container log file\nMay 12, 2023 10:34:43 AM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Context [] startup failed due to previous errors\nMay 12, 2023 10:34:44 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesJdbc\nWARNING: The web application [ROOT] registered the JDBC driver [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\nMay 12, 2023 10:34:44 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\nWARNING: The web application [ROOT] appears to have started a thread named [mysql-cj-abandoned-connection-cleanup] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Object.wait(Native Method)\n java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\n com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:91)\n java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n java.lang.Thread.run(Thread.java:748)\nMay 12, 2023 10:34:44 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\nWARNING: The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Object.wait(Native Method)\n java.lang.Object.wait(Object.java:502)\n java.util.TimerThread.mainLoop(Timer.java:526)\n java.util.TimerThread.run(Timer.java:505)\nMay 12, 2023 10:34:44 AM org.apache.catalina.startup.HostConfig deployDescriptor\nINFO: Deployment of deployment descriptor [D:\\apache-tomcat-9.0.74\\apache-tomcat-9.0.74\\conf\\Catalina\\localhost\\ROOT.xml] has finished in [13,985] ms\nMay 12, 2023 10:34:44 AM org.apache.catalina.startup.HostConfig deployWAR\nINFO: Deploying web application archive [D:\\apache-tomcat-9.0.74\\apache-tomcat-9.0.74\\webapps\\abc.war]\nMay 12, 2023 10:34:46 AM org.apache.catalina.loader.WebappClassLoaderBase checkStateForResourceLoading\nINFO: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\njava.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n    at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1432)\n    at org.apache.catalina.loader.WebappClassLoaderBase.getResource(WebappClassLoaderBase.java:1057)\n    at com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.checkThreadContextClassLoader(AbandonedConnectionCleanupThread.java:123)\n    at com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:90)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Adding context.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the &quot;License&quot;); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n--&gt;&lt;!-- The contents of this file will be loaded for each web application --&gt;&lt;Context&gt;\n\n    &lt;!-- Default set of monitored resources. If one of these changes, the    --&gt;\n    &lt;!-- web application will be reloaded.                                   --&gt;\n    &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;\n    &lt;!--&lt;WatchedResource&gt;WEB-INF/tomcat-web.xml&lt;/WatchedResource&gt;\n    &lt;WatchedResource&gt;${catalina.base}/conf/web.xml&lt;/WatchedResource&gt;--&gt;\n\n    \n &lt;Resource auth=&quot;Container&quot; defaultAutoCommit=&quot;false&quot; \ndefaultTransactionIsolation=&quot;2&quot; driverClassName=&quot;com.mysql.cj.jdbc.Driver&quot; \nfactory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot; maxIdle=&quot;30&quot; \nname=&quot;jdbc/myDS&quot; password=&quot;1234&quot; type=&quot;javax.sql.DataSource&quot; \nurl=&quot;jdbc:mysql://127.0.0.1:3307/latest?characterEncoding=UTF-8&quot; \nusername=&quot;root&quot; validationQuery=&quot;SELECT 1 from dual&quot;/&gt;\n\n    &lt;!-- Uncomment this to disable session persistence across Tomcat restarts --&gt;\n    &lt;!--\n    &lt;Manager pathname=&quot;&quot; /&gt;\n    --&gt;\n&lt;/Context&gt;\n</code></pre>\n"},{"tags":["java","batch-file","cmd","hide"],"comments":[{"owner":{"account_id":2611382,"reputation":6389,"user_id":2261424,"accept_rate":100,"display_name":"AntonH"},"score":1,"creation_date":1407888207,"post_id":25276014,"comment_id":39387176,"body_markdown":"If you&#39;re on Windows, just use `javaw` and not `java`. If this isn&#39;t applicable, give more information on your situation.","body":"If you&#39;re on Windows, just use <code>javaw</code> and not <code>java</code>. If this isn&#39;t applicable, give more information on your situation."}],"answers":[{"tags":[],"owner":{"account_id":4494392,"reputation":6935,"user_id":3654605,"accept_rate":60,"display_name":"lowcrawler"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1407888554,"creation_date":1407888554,"answer_id":25276077,"question_id":25276014,"body_markdown":"*javaw* seems to be what you are looking for: http://docs.oracle.com/javase/6/docs/technotes/tools/windows/java.html\r\n\r\n&gt; The javaw command is identical to java, except that with javaw there\r\n&gt; is no associated console window. Use javaw when you don&#39;t want a\r\n&gt; command prompt window to appear. The javaw launcher will, however,\r\n&gt; display a dialog box with error information if a launch fails for some\r\n&gt; reason.\r\n\r\nIf you are looking to hide the windows .bat console, you can use vbs -- take a look at this page for various options for doing this: https://superuser.com/questions/62525/run-a-completly-hidden-batch-file .","title":"How do I hide a console window that is running a java program?","body":"<p><em>javaw</em> seems to be what you are looking for: <a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/6/docs/technotes/tools/windows/java.html</a></p>\n\n<blockquote>\n  <p>The javaw command is identical to java, except that with javaw there\n  is no associated console window. Use javaw when you don't want a\n  command prompt window to appear. The javaw launcher will, however,\n  display a dialog box with error information if a launch fails for some\n  reason.</p>\n</blockquote>\n\n<p>If you are looking to hide the windows .bat console, you can use vbs -- take a look at this page for various options for doing this: <a href=\"https://superuser.com/questions/62525/run-a-completly-hidden-batch-file\">https://superuser.com/questions/62525/run-a-completly-hidden-batch-file</a> .</p>\n"}],"owner":{"account_id":3871044,"reputation":193,"user_id":3206319,"display_name":"Synchronous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5063,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25276077,"answer_count":1,"score":1,"last_activity_date":1683868853,"creation_date":1407888150,"question_id":25276014,"body_markdown":"I have a program that creates a batch file which in turn runs the program on startup. I want to hide the batch file so that all the user sees is the java program open, not the console window in the background.\r\n\r\nEDIT: It seems that I&#39;m not being clear. Here is the code in the batch file:\r\n\r\n    cd C:\\Java\\jre8\r\n    javaw -jar C:/Users/Me/Desktop/MyProgram.jar\r\nI only need to hide the batch file.","title":"How do I hide a console window that is running a java program?","body":"<p>I have a program that creates a batch file which in turn runs the program on startup. I want to hide the batch file so that all the user sees is the java program open, not the console window in the background.</p>\n\n<p>EDIT: It seems that I'm not being clear. Here is the code in the batch file:</p>\n\n<pre><code>cd C:\\Java\\jre8\njavaw -jar C:/Users/Me/Desktop/MyProgram.jar\n</code></pre>\n\n<p>I only need to hide the batch file.</p>\n"},{"tags":["java","spring","spring-boot","jackson","spring-web"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":5,"creation_date":1531950795,"post_id":51411458,"comment_id":89794591,"body_markdown":"When asking about an exception, always post the exact and complete stack trace of the exception.","body":"When asking about an exception, always post the exact and complete stack trace of the exception."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1531951000,"post_id":51411458,"comment_id":89794673,"body_markdown":"I don&#39;t see your code returning `LinkedHashMap` anywhere, so why does the error message say *&quot;return value of type: `class java.util.LinkedHashMap`&quot;*? I think you&#39;re confused about which methods it&#39;s complaining about.","body":"I don&#39;t see your code returning <code>LinkedHashMap</code> anywhere, so why does the error message say <i>&quot;return value of type: <code>class java.util.LinkedHashMap</code>&quot;</i>? I think you&#39;re confused about which methods it&#39;s complaining about."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":1,"creation_date":1531951044,"post_id":51411458,"comment_id":89794688,"body_markdown":"Not related with your request but your Getters/Setters are useless since the scope of your class attribute is ``public`. And Why?","body":"Not related with your request but your Getters/Setters are useless since the scope of your class attribute is ``public`. And Why?"},{"owner":{"account_id":13987333,"reputation":123,"user_id":10102117,"display_name":"mac"},"score":0,"creation_date":1531951193,"post_id":51411458,"comment_id":89794741,"body_markdown":"@JBNizet in the intellij Run console, no stack trace is being produced, only the one error line. I&#39;ll try to run it from the terminal and see if a larger stack trace is produced.","body":"@JBNizet in the intellij Run console, no stack trace is being produced, only the one error line. I&#39;ll try to run it from the terminal and see if a larger stack trace is produced."},{"owner":{"account_id":10891141,"reputation":1976,"user_id":8006882,"accept_rate":79,"display_name":"Anna Klein"},"score":0,"creation_date":1531951264,"post_id":51411458,"comment_id":89794769,"body_markdown":"Interesting. Found this question by google. Have the same issue open like you right now, but with a different program. I think there is another bigger issue.","body":"Interesting. Found this question by google. Have the same issue open like you right now, but with a different program. I think there is another bigger issue."},{"owner":{"account_id":13987333,"reputation":123,"user_id":10102117,"display_name":"mac"},"score":0,"creation_date":1531951329,"post_id":51411458,"comment_id":89794787,"body_markdown":"@Andreas the underlying implementation of a Jackson deserialization is a LinkedHashMap, I think that&#39;s why it&#39;s complaining about that type of object. I don&#39;t know which method it&#39;s complaining about, but it only happens when that post call is made.","body":"@Andreas the underlying implementation of a Jackson deserialization is a LinkedHashMap, I think that&#39;s why it&#39;s complaining about that type of object. I don&#39;t know which method it&#39;s complaining about, but it only happens when that post call is made."},{"owner":{"account_id":13987333,"reputation":123,"user_id":10102117,"display_name":"mac"},"score":0,"creation_date":1531951387,"post_id":51411458,"comment_id":89794818,"body_markdown":"@akuma8 I switched the fields to public to see if that would fix the problem, which it didn&#39;t. I forgot to switch them back.","body":"@akuma8 I switched the fields to public to see if that would fix the problem, which it didn&#39;t. I forgot to switch them back."},{"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"score":0,"creation_date":1531951605,"post_id":51411458,"comment_id":89794885,"body_markdown":"Could you share your pom.xml?","body":"Could you share your pom.xml?"},{"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"score":0,"creation_date":1531952793,"post_id":51411458,"comment_id":89795260,"body_markdown":"Your code is working correctly for me. Can you show the cURL of your request?","body":"Your code is working correctly for me. Can you show the cURL of your request?"},{"owner":{"account_id":13987333,"reputation":123,"user_id":10102117,"display_name":"mac"},"score":0,"creation_date":1531953157,"post_id":51411458,"comment_id":89795330,"body_markdown":"@Pedro I was using the Postman, but with the curl request `curl -H &quot;Content-Type: application/json&quot; -X POST -d &#39;{&quot;url&quot;: &quot;http://google.com&quot; }&#39; http://localhost:8080/poster` I get the same issue","body":"@Pedro I was using the Postman, but with the curl request <code>curl -H &quot;Content-Type: application&#47;json&quot; -X POST -d &#39;{&quot;url&quot;: &quot;http:&#47;&#47;google.com&quot; }&#39; http:&#47;&#47;localhost:8080&#47;poster</code> I get the same issue"},{"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"score":0,"creation_date":1531953318,"post_id":51411458,"comment_id":89795376,"body_markdown":"Works like a charm for me. Are you sure this is all of your code?","body":"Works like a charm for me. Are you sure this is all of your code?"},{"owner":{"account_id":13987333,"reputation":123,"user_id":10102117,"display_name":"mac"},"score":0,"creation_date":1531954406,"post_id":51411458,"comment_id":89795669,"body_markdown":"@Pedro this is all my code, I&#39;ll try it on a different machine","body":"@Pedro this is all my code, I&#39;ll try it on a different machine"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531974291,"creation_date":1531974291,"answer_id":51414337,"question_id":51411458,"body_markdown":"Ideally this code should work but give a try by adding below dependency in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n       &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring tries to deserialize to LinkedHashMap instead of POJO","body":"<p>Ideally this code should work but give a try by adding below dependency in pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n   &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n   &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3691447,"reputation":6845,"user_id":3073945,"accept_rate":90,"display_name":"Md. Sajedul Karim"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1683867384,"creation_date":1531976268,"answer_id":51414623,"question_id":51411458,"body_markdown":"After Analyzing your problem, I found some cases where this issue can arise.\r\nThose are given bellow:\r\n\r\n1. **Inner Class**:\r\n\r\nIf your class `TestEntity` is **Inner class** of your endpoint. \r\nJust transfer your `TestEntity` from **Inner class** to a separate class and run your code, it will work.\r\n\r\n2. **Support Inner Class**:\r\n\r\nIf you want to support inner class a RequestBody then make  `TestEntity` class as **static**, this will solve your problem.\r\n\r\n3. **Spring dependency configuration**:\r\n\r\nIf still not solved your problem, check your dependency on `pom.xml`. May be you are not adding dependency on proper way. For this you can view [this answer][1] . Or you can add `jackson` explicitly in your `pom.xml` file.\r\n\r\n**Dependencies are**:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nRelated links:\r\nhttps://stackoverflow.com/questions/40398216/spring-requestbody-not-mapping-to-inner-class\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44455029/3073945","title":"Spring tries to deserialize to LinkedHashMap instead of POJO","body":"<p>After Analyzing your problem, I found some cases where this issue can arise.\nThose are given bellow:</p>\n<ol>\n<li><strong>Inner Class</strong>:</li>\n</ol>\n<p>If your class <code>TestEntity</code> is <strong>Inner class</strong> of your endpoint.\nJust transfer your <code>TestEntity</code> from <strong>Inner class</strong> to a separate class and run your code, it will work.</p>\n<ol start=\"2\">\n<li><strong>Support Inner Class</strong>:</li>\n</ol>\n<p>If you want to support inner class a RequestBody then make  <code>TestEntity</code> class as <strong>static</strong>, this will solve your problem.</p>\n<ol start=\"3\">\n<li><strong>Spring dependency configuration</strong>:</li>\n</ol>\n<p>If still not solved your problem, check your dependency on <code>pom.xml</code>. May be you are not adding dependency on proper way. For this you can view <a href=\"https://stackoverflow.com/a/44455029/3073945\">this answer</a> . Or you can add <code>jackson</code> explicitly in your <code>pom.xml</code> file.</p>\n<p><strong>Dependencies are</strong>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Related links:\n<a href=\"https://stackoverflow.com/questions/40398216/spring-requestbody-not-mapping-to-inner-class\">Spring @Requestbody not mapping to inner class</a></p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606399436,"creation_date":1533747487,"answer_id":51751957,"question_id":51411458,"body_markdown":"Try to specify that your method consumes JSON. Change your annotation:&lt;BR&gt;\r\n`@RequestMapping(value = &quot;/poster&quot;, method = RequestMethod.POST)` \r\n&lt;BR&gt;to\r\n\r\n    @PostMapping(value = &quot;/poster&quot;,\r\n                consumes = MediaType.APPLICATION_JSON_UTF8_VALUE,\r\n                produces = MediaType.TEXT_HTML)\r\n\r\nThe main part here that you specify that you accept your input to be JSON. Not sure what type you return but you can specify the appropriate type or remove the &quot;produces&quot; part. The main part is to specify what your input is","title":"Spring tries to deserialize to LinkedHashMap instead of POJO","body":"<p>Try to specify that your method consumes JSON. Change your annotation:<BR>\n<code>@RequestMapping(value = &quot;/poster&quot;, method = RequestMethod.POST)</code>\n<BR>to</p>\n<pre><code>@PostMapping(value = &quot;/poster&quot;,\n            consumes = MediaType.APPLICATION_JSON_UTF8_VALUE,\n            produces = MediaType.TEXT_HTML)\n</code></pre>\n<p>The main part here that you specify that you accept your input to be JSON. Not sure what type you return but you can specify the appropriate type or remove the &quot;produces&quot; part. The main part is to specify what your input is</p>\n"}],"owner":{"account_id":13987333,"reputation":123,"user_id":10102117,"display_name":"mac"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4708,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1683867384,"creation_date":1531950489,"question_id":51411458,"body_markdown":"I&#39;m creating a simple rest controller with Spring Boot and the Web dependency. I&#39;m trying to deserialize a JSON body to a test POJO with only 3 fields, but when I attempt to make a POST request, the server responds with a 500 error and the error I get in the console is: \r\n\r\n    .w.s.m.s.DefaultHandlerExceptionResolver : Failed to write HTTP message: org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class java.util.LinkedHashMap\r\n\r\nAll of the code I have written is as follows:\r\n\r\nEmailApplication.java:\r\n\r\n    package com.test.email.app;\r\n\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = { &quot;com.test.email&quot; })\r\n    public class EmailApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t    SpringApplication.run(EmailApplication.class, args);\r\n    \t}\r\n    \r\n        @Bean\r\n        public CommandLineRunner commandLineRunner(ApplicationContext ctx) {\r\n            return args -&gt; {\r\n                System.out.println(&quot;----- You&#39;re up and running with test-email-app! -----&quot;);\r\n            };\r\n        }\r\n    }\r\n\r\nEmailController.java:\r\n\r\n    package com.test.email.controller;\r\n    \r\n    import com.test.email.entity.TestEntity;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    import java.net.URI;\r\n    \r\n    @RestController\r\n    public class EmailController {\r\n        @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n        public String index() {\r\n            TestEntity entity = new TestEntity();\r\n            return &quot;test-email-app index&quot;;\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/poster&quot;, method = RequestMethod.POST)\r\n        public ResponseEntity&lt;String&gt; poster(@RequestBody TestEntity testEntity) {\r\n            URI location = URI.create(&quot;/poster&quot;);\r\n            return ResponseEntity.created(location).body(testEntity.getUrl());\r\n        }\r\n    }\r\n\r\nTestEntity.java\r\n\r\n    package com.test.email.entity;\r\n    \r\n    /**\r\n     * An entity for serialization/deserialization testing\r\n     */\r\n    public class TestEntity {\r\n        public String url;\r\n        public int count;\r\n        public double height;\r\n    \r\n        public TestEntity() {}\r\n    \r\n        public TestEntity(String url, int count, double height) {\r\n            this.url = url;\r\n            this.count = count;\r\n            this.height = height;\r\n        }\r\n    \r\n        public String getUrl() {\r\n            return url;\r\n        }\r\n    \r\n        public void setUrl(String url) {\r\n            this.url = url;\r\n        }\r\n    \r\n        public int getCount() {\r\n            return count;\r\n        }\r\n    \r\n        public void setCount(int count) {\r\n            this.count = count;\r\n        }\r\n    \r\n        public double getHeight() {\r\n            return height;\r\n        }\r\n    \r\n        public void setHeight(double height) {\r\n            this.height = height;\r\n        }\r\n    }\r\n\r\nI&#39;m making a POST request with Postman using only the header `Content-Type: application/json` and with the body:\r\n\r\n    { &quot;url&quot;: &quot;http://google.com&quot;, &quot;count&quot;: 3, &quot;height&quot;: 2.4 }\r\n\r\nI don&#39;t know why Spring can&#39;t convert from a LinkedHashMap to my POJO. Any help would be appreciated.\r\n\r\nEdit:\r\n\r\nMy pom.xml is as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.test.email&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-email-app&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;test-email-app&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Spring tries to deserialize to LinkedHashMap instead of POJO","body":"<p>I'm creating a simple rest controller with Spring Boot and the Web dependency. I'm trying to deserialize a JSON body to a test POJO with only 3 fields, but when I attempt to make a POST request, the server responds with a 500 error and the error I get in the console is: </p>\n\n<pre><code>.w.s.m.s.DefaultHandlerExceptionResolver : Failed to write HTTP message: org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class java.util.LinkedHashMap\n</code></pre>\n\n<p>All of the code I have written is as follows:</p>\n\n<p>EmailApplication.java:</p>\n\n<pre><code>package com.test.email.app;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(basePackages = { \"com.test.email\" })\npublic class EmailApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EmailApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner commandLineRunner(ApplicationContext ctx) {\n        return args -&gt; {\n            System.out.println(\"----- You're up and running with test-email-app! -----\");\n        };\n    }\n}\n</code></pre>\n\n<p>EmailController.java:</p>\n\n<pre><code>package com.test.email.controller;\n\nimport com.test.email.entity.TestEntity;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport java.net.URI;\n\n@RestController\npublic class EmailController {\n    @RequestMapping(value = \"/\", method = RequestMethod.GET)\n    public String index() {\n        TestEntity entity = new TestEntity();\n        return \"test-email-app index\";\n    }\n\n    @RequestMapping(value = \"/poster\", method = RequestMethod.POST)\n    public ResponseEntity&lt;String&gt; poster(@RequestBody TestEntity testEntity) {\n        URI location = URI.create(\"/poster\");\n        return ResponseEntity.created(location).body(testEntity.getUrl());\n    }\n}\n</code></pre>\n\n<p>TestEntity.java</p>\n\n<pre><code>package com.test.email.entity;\n\n/**\n * An entity for serialization/deserialization testing\n */\npublic class TestEntity {\n    public String url;\n    public int count;\n    public double height;\n\n    public TestEntity() {}\n\n    public TestEntity(String url, int count, double height) {\n        this.url = url;\n        this.count = count;\n        this.height = height;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public int getCount() {\n        return count;\n    }\n\n    public void setCount(int count) {\n        this.count = count;\n    }\n\n    public double getHeight() {\n        return height;\n    }\n\n    public void setHeight(double height) {\n        this.height = height;\n    }\n}\n</code></pre>\n\n<p>I'm making a POST request with Postman using only the header <code>Content-Type: application/json</code> and with the body:</p>\n\n<pre><code>{ \"url\": \"http://google.com\", \"count\": 3, \"height\": 2.4 }\n</code></pre>\n\n<p>I don't know why Spring can't convert from a LinkedHashMap to my POJO. Any help would be appreciated.</p>\n\n<p>Edit:</p>\n\n<p>My pom.xml is as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.test.email&lt;/groupId&gt;\n    &lt;artifactId&gt;test-email-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;test-email-app&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":28583939,"reputation":3,"user_id":21884561,"display_name":"Sami Alrustom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683867116,"creation_date":1683835208,"question_id":76231239,"body_markdown":"So I made a Blackjack game and it work fine but I found this error when I was testing. If someone input their name with a space the game breaks and errors. So how can I fix that. **I have tried next() abd nextLine() didn&#39;t work.** Down below is my code the Blood part is where the fix should happen. But I am not sure how to fix it.\r\n\r\n**The Game:**\r\n\r\nBLACKJACK RULES: \r\n    -Each player is dealt 2 cards. The dealer is dealt 2 cards with one face-up and one face-down.\r\n    -Cards are equal to their value with face cards being 10 and an Ace being 1 or 11.\r\n    -The players cards are added up for their total.\r\n    -Players Hit to gain another card from the deck. Players Stay to keep their current card total.\r\n    -Dealer Hits until they equal or exceed 17.\r\n    -The goal is to have a higher card total than the dealer without going over 21.\r\n    -If the player total equals the dealer total, it is a Push and the hand ends.\r\n    -Players win their bet if they beat the dealer. Players win 1.5x their bet if they get Blackjack which is 21.\r\n        -Note that: (C) Clubs (?), (D) Diamonds (?), (H) Hearts (?), (S) Spades (?), (J) Jack (?,?,?,?), (Q) Queen (?,?,?,?) and (K) King (?,?,?,?).\r\n\r\n\r\nHow many people are playing (1-6)? 1\r\nWhat is player 1&#39;s name? **sa mi**   &lt;&lt;&lt; this where it crashes \r\nHow much do you want to bet sa, you got (1-100) J Coins? \r\n\r\n\r\n**My Code:**\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class BlackjackGame {\r\n\r\n    private Scanner input = new Scanner(System.in);\r\n    private int users;\r\n    private Player[] players;\r\n    private Deck deck;\r\n    private Dealer dealer = new Dealer();\r\n\r\n    // Starts game and displays the rules\r\n    public void initializeGame() {\r\n        String names;\r\n        System.out.println(&quot;Welcome to Blackjack!&quot;);\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;  BLACKJACK RULES: &quot;);\r\n        System.out.println(\r\n                &quot;    -Each player is dealt 2 cards. The dealer is dealt 2 cards with one face-up and one face-down.&quot;);\r\n        System.out.println(&quot;    -Cards are equal to their value with face cards being 10 and an Ace being 1 or 11.&quot;);\r\n        System.out.println(&quot;    -The players cards are added up for their total.&quot;);\r\n        System.out.println(\r\n                &quot;    -Players Hit to gain another card from the deck. Players Stay to keep their current card total.&quot;);\r\n        System.out.println(&quot;    -Dealer Hits until they equal or exceed 17.&quot;);\r\n        System.out.println(&quot;    -The goal is to have a higher card total than the dealer without going over 21.&quot;);\r\n        System.out.println(&quot;    -If the player total equals the dealer total, it is a Push and the hand ends.&quot;);\r\n        System.out.println(\r\n                &quot;    -Players win their bet if they beat the dealer. Players win 1.5x their bet if they get Blackjack which is 21.&quot;);\r\n        System.out.println(\r\n                &quot;        -Note that: (C) Clubs (♣), (D) Diamonds (♦), (H) Hearts (♥), (S) Spades (♠), (J) Jack (♣,♦,♥,♠), (Q) Queen (♣,♦,♥,♠) and (K) King (♣,♦,♥,♠).&quot;);\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;&quot;);\r\n\r\n        // Gets the amount of players and creates them. Check that only up to 6 players\r\n        // can play.\r\n        do {\r\n            System.out.print(&quot;How many people are playing (1-6)? &quot;); // The Game can be played with 1-6 player.\r\n            users = input.nextInt();\r\n            if (users &gt;= 7) { // there can only be 6 players anything higher re-ask how many player.\r\n                System.out.println(&quot;Invalid entry. There can&#39;t be this much player&#39;s. Up to 1-6 player only.&quot;);\r\n            }\r\n\r\n        } while (users &gt; 6 || users &lt; 0);\r\n\r\n        players = new Player[users];\r\n        deck = new Deck();\r\n\r\n       ** // Asks for player names and assigns them\r\n        for (int i = 0; i &lt; users; i++) {\r\n            System.out.print(&quot;What is player &quot; + (i + 1) + &quot;&#39;s name? &quot;);\r\n            names = input.next();\r\n            players[i] = new Player();\r\n            players[i].setName(names);\r\n        }**\r\n    }\r\n\r\n    // Shuffles the deck\r\n    public void shuffle() throws InvalidDeckPositionException, InvalidCardSuitException, InvalidCardValueException,\r\n            InvalidSpaceException {\r\n        deck.shuffle();\r\n\r\n    }\r\n\r\n    // Gets the bets from the players\r\n    public void getBets() {\r\n        int betValue;\r\n\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBank() &gt; 0) {\r\n                do {\r\n                    System.out.print(&quot;How much do you want to bet &quot; + players[i].getName() + &quot;, you got&quot;\r\n                            + (&quot; (1-&quot; + players[i].getBank()) + &quot;) &quot; + &quot;J Coins? &quot;);\r\n                    betValue = input.nextInt();\r\n                    players[i].setBet(betValue);\r\n                } while (!(betValue &gt; 0 &amp;&amp; betValue &lt;= players[i].getBank()));\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    // Deals the cards to the players and dealer\r\n    public void dealCards() {\r\n        for (int j = 0; j &lt; 2; j++) {\r\n            for (int i = 0; i &lt; users; i++) {\r\n                if (players[i].getBank() &gt; 0) {\r\n                    players[i].addCard(deck.nextCard());\r\n                }\r\n            }\r\n\r\n            dealer.addCard(deck.nextCard());\r\n        }\r\n    }\r\n\r\n    // Initial check for dealer or player Blackjack\r\n    public void checkBlackjack() {\r\n        // System.out.println();\r\n\r\n        if (dealer.isBlackjack()) {\r\n            System.out.println(&quot;Dealer has BlackJack!&quot;);\r\n            for (int i = 0; i &lt; users; i++) {\r\n                if (players[i].getTotal() == 21) {\r\n                    System.out.println(players[i].getName() + &quot; pushes&quot;);\r\n                    players[i].push();\r\n                } else {\r\n                    System.out.println(players[i].getName() + &quot; loses&quot;);\r\n                    players[i].bust();\r\n                }\r\n            }\r\n        } else {\r\n            if (dealer.peek()) {\r\n                System.out.println(&quot;Dealer peeks and does not have a BlackJack&quot;);\r\n            }\r\n\r\n            for (int i = 0; i &lt; users; i++) {\r\n                if (players[i].getTotal() == 21) {\r\n                    System.out.println(players[i].getName() + &quot; has blackjack!&quot;);\r\n                    players[i].blackjack();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // This code takes the user commands to hit or stand\r\n    public void hitOrStand() {\r\n        String command;\r\n        char c;\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBet() &gt; 0) {\r\n                System.out.println();\r\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getHandString());\r\n\r\n                do {\r\n                    do {\r\n                        System.out.print(players[i].getName() + &quot; (H)it or (S)tand? &quot;);\r\n                        command = input.next();\r\n                        c = command.toUpperCase().charAt(0);\r\n                    } while (!(c == &#39;H&#39; || c == &#39;S&#39;));\r\n                    if (c == &#39;H&#39;) {\r\n                        players[i].addCard(deck.nextCard());\r\n                        System.out.println(players[i].getName() + &quot; has &quot; + players[i].getHandString());\r\n                    }\r\n                } while (c != &#39;S&#39; &amp;&amp; players[i].getTotal() &lt;= 21);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Code for the dealer to play\r\n    public void dealerPlays() {\r\n        boolean isSomePlayerStillInTheGame = false;\r\n        for (int i = 0; i &lt; users &amp;&amp; isSomePlayerStillInTheGame == false; i++) {\r\n            if (players[i].getBet() &gt; 0 &amp;&amp; players[i].getTotal() &lt;= 21) {\r\n                isSomePlayerStillInTheGame = true;\r\n            }\r\n        }\r\n        if (isSomePlayerStillInTheGame) {\r\n            dealer.dealerPlay(deck);\r\n        }\r\n    }\r\n\r\n    // This code calculates all possible outcomes and adds or removes the player\r\n    // bets\r\n    public void settleBets() {\r\n        System.out.println();\r\n\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBet() &gt; 0) {\r\n                if (players[i].getTotal() &gt; 21) {\r\n                    System.out.println(players[i].getName() + &quot; has busted&quot;);\r\n                    players[i].bust();\r\n                } else if (players[i].getTotal() == dealer.calculateTotal()) {\r\n                    System.out.println(players[i].getName() + &quot; has pushed&quot;);\r\n                    players[i].push();\r\n                } else if (players[i].getTotal() &lt; dealer.calculateTotal() &amp;&amp; dealer.calculateTotal() &lt;= 21) {\r\n                    System.out.println(players[i].getName() + &quot; has lost&quot;);\r\n                    players[i].loss();\r\n                } else if (players[i].getTotal() == 21) {\r\n                    System.out.println(players[i].getName() + &quot; has won with blackjack!&quot;);\r\n                    players[i].blackjack();\r\n                } else {\r\n                    System.out.println(players[i].getName() + &quot; has won&quot;);\r\n                    players[i].win();\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    // This prints the players hands\r\n    public void printStatus() {\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBank() &gt; 0) {\r\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getHandString());\r\n            }\r\n        }\r\n        System.out.println(&quot;Dealer has &quot; + dealer.getHandString(true, true));\r\n    }\r\n\r\n    // This prints the players banks and tells the player if s/he is out of the game\r\n    public void printMoney() {\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBank() &gt; 0) {\r\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getBank() + &quot; J Coins &quot;);\r\n            }\r\n            if (players[i].getBank() == 0) {\r\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getBank() + &quot; J Coins &quot;\r\n                        + &quot; and is out of the game.&quot;);\r\n                players[i].removeFromGame();\r\n            }\r\n        }\r\n    }\r\n\r\n    // This code resets all hands\r\n    public void clearHands() {\r\n        for (int i = 0; i &lt; users; i++) {\r\n            players[i].clearHand();\r\n        }\r\n        dealer.clearHand();\r\n\r\n    }\r\n\r\n    // This decides to force the game to end when all players lose or lets players\r\n    // choose to keep playing or not\r\n    public boolean playAgain() {\r\n        String command;\r\n        char c;\r\n        Boolean playState = true;\r\n        if (forceEnd()) {\r\n            playState = false;\r\n        } else {\r\n            do {\r\n                System.out.println(&quot;&quot;);\r\n                System.out.print(&quot;Do you want to play again (Y)es or (N)o? &quot;);\r\n                command = input.next();\r\n                c = command.toUpperCase().charAt(0);\r\n            } while (!(c == &#39;Y&#39; || c == &#39;N&#39;));\r\n            if (c == &#39;N&#39;) {\r\n                playState = false;\r\n            }\r\n        }\r\n        return playState;\r\n    }\r\n\r\n    // This says true or false to forcing the game to end\r\n    public boolean forceEnd() {\r\n        boolean end = false;\r\n        int endCount = 0;\r\n\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBank() == -1) {\r\n                endCount++;\r\n            }\r\n        }\r\n        if (endCount == users) {\r\n            end = true;\r\n        }\r\n        if (end) {\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;All players have lost and the game ends.&quot;);\r\n        }\r\n\r\n        return end;\r\n    }\r\n\r\n    // This is the endgame code for when all players are out of the game or players\r\n    // decide to stop playing\r\n    public void endGame() {\r\n        int endAmount;\r\n        String endState = &quot; no change.&quot;;\r\n        System.out.println(&quot;&quot;);\r\n        for (int i = 0; i &lt; users; i++) {\r\n            if (players[i].getBank() == -1) {\r\n                players[i].resetBank();\r\n            }\r\n            endAmount = players[i].getBank() - 100;\r\n            if (endAmount &gt; 0) {\r\n                endState = &quot; gain of &quot;;\r\n            } else if (endAmount &lt; 0) {\r\n                endState = &quot; loss of &quot;;\r\n            }\r\n            System.out.println(players[i].getName() + &quot; has ended the game with &quot; + players[i].getBank() + &quot;.&quot;);\r\n            if (endState != &quot; no change.&quot;) {\r\n                System.out.println(&quot;A&quot; + endState + Math.abs(endAmount) + &quot;.&quot;);\r\n            } else {\r\n                System.out.println(&quot;No change from their starting value.&quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;Thank you for playing!&quot;);\r\n    }\r\n\r\n} // End class\r\n```\r\n\r\n\r\n\r\n **I have tried next() abd nextLine() didn&#39;t work.**\r\n\r\nDoing nextLine() broke the code even more when I run it and play the game.","title":"How do I make a space be accepted in the input","body":"<p>So I made a Blackjack game and it work fine but I found this error when I was testing. If someone input their name with a space the game breaks and errors. So how can I fix that. <strong>I have tried next() abd nextLine() didn't work.</strong> Down below is my code the Blood part is where the fix should happen. But I am not sure how to fix it.</p>\n<p><strong>The Game:</strong></p>\n<p>BLACKJACK RULES:\n-Each player is dealt 2 cards. The dealer is dealt 2 cards with one face-up and one face-down.\n-Cards are equal to their value with face cards being 10 and an Ace being 1 or 11.\n-The players cards are added up for their total.\n-Players Hit to gain another card from the deck. Players Stay to keep their current card total.\n-Dealer Hits until they equal or exceed 17.\n-The goal is to have a higher card total than the dealer without going over 21.\n-If the player total equals the dealer total, it is a Push and the hand ends.\n-Players win their bet if they beat the dealer. Players win 1.5x their bet if they get Blackjack which is 21.\n-Note that: (C) Clubs (?), (D) Diamonds (?), (H) Hearts (?), (S) Spades (?), (J) Jack (?,?,?,?), (Q) Queen (?,?,?,?) and (K) King (?,?,?,?).</p>\n<p>How many people are playing (1-6)? 1\nWhat is player 1's name? <strong>sa mi</strong>   &lt;&lt;&lt; this where it crashes\nHow much do you want to bet sa, you got (1-100) J Coins?</p>\n<p><strong>My Code:</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class BlackjackGame {\n\n    private Scanner input = new Scanner(System.in);\n    private int users;\n    private Player[] players;\n    private Deck deck;\n    private Dealer dealer = new Dealer();\n\n    // Starts game and displays the rules\n    public void initializeGame() {\n        String names;\n        System.out.println(&quot;Welcome to Blackjack!&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;  BLACKJACK RULES: &quot;);\n        System.out.println(\n                &quot;    -Each player is dealt 2 cards. The dealer is dealt 2 cards with one face-up and one face-down.&quot;);\n        System.out.println(&quot;    -Cards are equal to their value with face cards being 10 and an Ace being 1 or 11.&quot;);\n        System.out.println(&quot;    -The players cards are added up for their total.&quot;);\n        System.out.println(\n                &quot;    -Players Hit to gain another card from the deck. Players Stay to keep their current card total.&quot;);\n        System.out.println(&quot;    -Dealer Hits until they equal or exceed 17.&quot;);\n        System.out.println(&quot;    -The goal is to have a higher card total than the dealer without going over 21.&quot;);\n        System.out.println(&quot;    -If the player total equals the dealer total, it is a Push and the hand ends.&quot;);\n        System.out.println(\n                &quot;    -Players win their bet if they beat the dealer. Players win 1.5x their bet if they get Blackjack which is 21.&quot;);\n        System.out.println(\n                &quot;        -Note that: (C) Clubs (♣), (D) Diamonds (♦), (H) Hearts (♥), (S) Spades (♠), (J) Jack (♣,♦,♥,♠), (Q) Queen (♣,♦,♥,♠) and (K) King (♣,♦,♥,♠).&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;&quot;);\n\n        // Gets the amount of players and creates them. Check that only up to 6 players\n        // can play.\n        do {\n            System.out.print(&quot;How many people are playing (1-6)? &quot;); // The Game can be played with 1-6 player.\n            users = input.nextInt();\n            if (users &gt;= 7) { // there can only be 6 players anything higher re-ask how many player.\n                System.out.println(&quot;Invalid entry. There can't be this much player's. Up to 1-6 player only.&quot;);\n            }\n\n        } while (users &gt; 6 || users &lt; 0);\n\n        players = new Player[users];\n        deck = new Deck();\n\n       ** // Asks for player names and assigns them\n        for (int i = 0; i &lt; users; i++) {\n            System.out.print(&quot;What is player &quot; + (i + 1) + &quot;'s name? &quot;);\n            names = input.next();\n            players[i] = new Player();\n            players[i].setName(names);\n        }**\n    }\n\n    // Shuffles the deck\n    public void shuffle() throws InvalidDeckPositionException, InvalidCardSuitException, InvalidCardValueException,\n            InvalidSpaceException {\n        deck.shuffle();\n\n    }\n\n    // Gets the bets from the players\n    public void getBets() {\n        int betValue;\n\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBank() &gt; 0) {\n                do {\n                    System.out.print(&quot;How much do you want to bet &quot; + players[i].getName() + &quot;, you got&quot;\n                            + (&quot; (1-&quot; + players[i].getBank()) + &quot;) &quot; + &quot;J Coins? &quot;);\n                    betValue = input.nextInt();\n                    players[i].setBet(betValue);\n                } while (!(betValue &gt; 0 &amp;&amp; betValue &lt;= players[i].getBank()));\n                System.out.println(&quot;&quot;);\n            }\n\n        }\n\n    }\n\n    // Deals the cards to the players and dealer\n    public void dealCards() {\n        for (int j = 0; j &lt; 2; j++) {\n            for (int i = 0; i &lt; users; i++) {\n                if (players[i].getBank() &gt; 0) {\n                    players[i].addCard(deck.nextCard());\n                }\n            }\n\n            dealer.addCard(deck.nextCard());\n        }\n    }\n\n    // Initial check for dealer or player Blackjack\n    public void checkBlackjack() {\n        // System.out.println();\n\n        if (dealer.isBlackjack()) {\n            System.out.println(&quot;Dealer has BlackJack!&quot;);\n            for (int i = 0; i &lt; users; i++) {\n                if (players[i].getTotal() == 21) {\n                    System.out.println(players[i].getName() + &quot; pushes&quot;);\n                    players[i].push();\n                } else {\n                    System.out.println(players[i].getName() + &quot; loses&quot;);\n                    players[i].bust();\n                }\n            }\n        } else {\n            if (dealer.peek()) {\n                System.out.println(&quot;Dealer peeks and does not have a BlackJack&quot;);\n            }\n\n            for (int i = 0; i &lt; users; i++) {\n                if (players[i].getTotal() == 21) {\n                    System.out.println(players[i].getName() + &quot; has blackjack!&quot;);\n                    players[i].blackjack();\n                }\n            }\n        }\n    }\n\n    // This code takes the user commands to hit or stand\n    public void hitOrStand() {\n        String command;\n        char c;\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBet() &gt; 0) {\n                System.out.println();\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getHandString());\n\n                do {\n                    do {\n                        System.out.print(players[i].getName() + &quot; (H)it or (S)tand? &quot;);\n                        command = input.next();\n                        c = command.toUpperCase().charAt(0);\n                    } while (!(c == 'H' || c == 'S'));\n                    if (c == 'H') {\n                        players[i].addCard(deck.nextCard());\n                        System.out.println(players[i].getName() + &quot; has &quot; + players[i].getHandString());\n                    }\n                } while (c != 'S' &amp;&amp; players[i].getTotal() &lt;= 21);\n            }\n        }\n    }\n\n    // Code for the dealer to play\n    public void dealerPlays() {\n        boolean isSomePlayerStillInTheGame = false;\n        for (int i = 0; i &lt; users &amp;&amp; isSomePlayerStillInTheGame == false; i++) {\n            if (players[i].getBet() &gt; 0 &amp;&amp; players[i].getTotal() &lt;= 21) {\n                isSomePlayerStillInTheGame = true;\n            }\n        }\n        if (isSomePlayerStillInTheGame) {\n            dealer.dealerPlay(deck);\n        }\n    }\n\n    // This code calculates all possible outcomes and adds or removes the player\n    // bets\n    public void settleBets() {\n        System.out.println();\n\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBet() &gt; 0) {\n                if (players[i].getTotal() &gt; 21) {\n                    System.out.println(players[i].getName() + &quot; has busted&quot;);\n                    players[i].bust();\n                } else if (players[i].getTotal() == dealer.calculateTotal()) {\n                    System.out.println(players[i].getName() + &quot; has pushed&quot;);\n                    players[i].push();\n                } else if (players[i].getTotal() &lt; dealer.calculateTotal() &amp;&amp; dealer.calculateTotal() &lt;= 21) {\n                    System.out.println(players[i].getName() + &quot; has lost&quot;);\n                    players[i].loss();\n                } else if (players[i].getTotal() == 21) {\n                    System.out.println(players[i].getName() + &quot; has won with blackjack!&quot;);\n                    players[i].blackjack();\n                } else {\n                    System.out.println(players[i].getName() + &quot; has won&quot;);\n                    players[i].win();\n\n                }\n            }\n        }\n\n    }\n\n    // This prints the players hands\n    public void printStatus() {\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBank() &gt; 0) {\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getHandString());\n            }\n        }\n        System.out.println(&quot;Dealer has &quot; + dealer.getHandString(true, true));\n    }\n\n    // This prints the players banks and tells the player if s/he is out of the game\n    public void printMoney() {\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBank() &gt; 0) {\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getBank() + &quot; J Coins &quot;);\n            }\n            if (players[i].getBank() == 0) {\n                System.out.println(players[i].getName() + &quot; has &quot; + players[i].getBank() + &quot; J Coins &quot;\n                        + &quot; and is out of the game.&quot;);\n                players[i].removeFromGame();\n            }\n        }\n    }\n\n    // This code resets all hands\n    public void clearHands() {\n        for (int i = 0; i &lt; users; i++) {\n            players[i].clearHand();\n        }\n        dealer.clearHand();\n\n    }\n\n    // This decides to force the game to end when all players lose or lets players\n    // choose to keep playing or not\n    public boolean playAgain() {\n        String command;\n        char c;\n        Boolean playState = true;\n        if (forceEnd()) {\n            playState = false;\n        } else {\n            do {\n                System.out.println(&quot;&quot;);\n                System.out.print(&quot;Do you want to play again (Y)es or (N)o? &quot;);\n                command = input.next();\n                c = command.toUpperCase().charAt(0);\n            } while (!(c == 'Y' || c == 'N'));\n            if (c == 'N') {\n                playState = false;\n            }\n        }\n        return playState;\n    }\n\n    // This says true or false to forcing the game to end\n    public boolean forceEnd() {\n        boolean end = false;\n        int endCount = 0;\n\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBank() == -1) {\n                endCount++;\n            }\n        }\n        if (endCount == users) {\n            end = true;\n        }\n        if (end) {\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;All players have lost and the game ends.&quot;);\n        }\n\n        return end;\n    }\n\n    // This is the endgame code for when all players are out of the game or players\n    // decide to stop playing\n    public void endGame() {\n        int endAmount;\n        String endState = &quot; no change.&quot;;\n        System.out.println(&quot;&quot;);\n        for (int i = 0; i &lt; users; i++) {\n            if (players[i].getBank() == -1) {\n                players[i].resetBank();\n            }\n            endAmount = players[i].getBank() - 100;\n            if (endAmount &gt; 0) {\n                endState = &quot; gain of &quot;;\n            } else if (endAmount &lt; 0) {\n                endState = &quot; loss of &quot;;\n            }\n            System.out.println(players[i].getName() + &quot; has ended the game with &quot; + players[i].getBank() + &quot;.&quot;);\n            if (endState != &quot; no change.&quot;) {\n                System.out.println(&quot;A&quot; + endState + Math.abs(endAmount) + &quot;.&quot;);\n            } else {\n                System.out.println(&quot;No change from their starting value.&quot;);\n            }\n            System.out.println(&quot;&quot;);\n        }\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Thank you for playing!&quot;);\n    }\n\n} // End class\n</code></pre>\n<p><strong>I have tried next() abd nextLine() didn't work.</strong></p>\n<p>Doing nextLine() broke the code even more when I run it and play the game.</p>\n"},{"tags":["java","html","spring-boot","bootstrap-4","spring-thymeleaf"],"comments":[{"owner":{"account_id":4244064,"reputation":84,"user_id":3473236,"accept_rate":40,"display_name":"bugrahan"},"score":0,"creation_date":1677242079,"post_id":75556524,"comment_id":133303882,"body_markdown":"Hi. Are you sure that `stats` attribute is added to the model?","body":"Hi. Are you sure that <code>stats</code> attribute is added to the model?"},{"owner":{"account_id":27869223,"reputation":1,"user_id":21280127,"display_name":"Anuj Singh"},"score":0,"creation_date":1677243927,"post_id":75556524,"comment_id":133304419,"body_markdown":"yes check this..","body":"yes check this.."},{"owner":{"account_id":27869223,"reputation":1,"user_id":21280127,"display_name":"Anuj Singh"},"score":0,"creation_date":1677244005,"post_id":75556524,"comment_id":133304439,"body_markdown":"&#39;@Controller\npublic class HomeController {\n\n\t@Autowired\n\tCoronaVirusDataService coronaVirusDataService;\n\n\t@GetMapping(&quot;/&quot;)\n\tpublic String Home(Model model) {\n\n\t\tmodel.addAttribute(&quot;stats&quot;, coronaVirusDataService.getAllStats());\n\n\t\treturn &quot;home&quot;;\n\n\t}\n\n}         \n&#39;","body":"&#39;@Controller public class HomeController {  \t@Autowired \tCoronaVirusDataService coronaVirusDataService;  \t@GetMapping(&quot;/&quot;) \tpublic String Home(Model model) {  \t\tmodel.addAttribute(&quot;stats&quot;, coronaVirusDataService.getAllStats());  \t\treturn &quot;home&quot;;  \t}  }          &#39;"},{"owner":{"account_id":27869223,"reputation":1,"user_id":21280127,"display_name":"Anuj Singh"},"score":0,"creation_date":1677244045,"post_id":75556524,"comment_id":133304446,"body_markdown":"but this is working","body":"but this is working"},{"owner":{"account_id":27869223,"reputation":1,"user_id":21280127,"display_name":"Anuj Singh"},"score":0,"creation_date":1677244050,"post_id":75556524,"comment_id":133304448,"body_markdown":"&lt;tr th:each=&quot;i : ${#numbers.sequence(1, 5)}&quot; th:value=&quot;${i}&quot;&gt;\n\t\t\t&lt;td th:text=&quot;&#39;No.&#39; + ${i}&quot;&gt;&lt;/td&gt;\n\t\t&lt;/tr&gt;","body":"&lt;tr th:each=&quot;i : ${#numbers.sequence(1, 5)}&quot; th:value=&quot;${i}&quot;&gt; \t\t\t&lt;td th:text=&quot;&#39;No.&#39; + ${i}&quot;&gt;&lt;/td&gt; \t\t&lt;/tr&gt;"},{"owner":{"account_id":16416002,"reputation":841,"user_id":11858171,"display_name":"zerdox"},"score":1,"creation_date":1677671255,"post_id":75556524,"comment_id":133382644,"body_markdown":"I guess you need to reproduce your issue with minimal code and post it for us. It could be playground or some repository we can take a look at. &quot;Not working&quot; with this amount of code doesn&#39;t give any info for us.","body":"I guess you need to reproduce your issue with minimal code and post it for us. It could be playground or some repository we can take a look at. &quot;Not working&quot; with this amount of code doesn&#39;t give any info for us."},{"owner":{"account_id":16369709,"reputation":393,"user_id":11823237,"display_name":"Lakshitha Samod"},"score":0,"creation_date":1677913342,"post_id":75556524,"comment_id":133434884,"body_markdown":"Try using th:if to conditionally render the table based on whether the stats model attribute is empty or not.","body":"Try using th:if to conditionally render the table based on whether the stats model attribute is empty or not."}],"answers":[{"tags":[],"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683866661,"creation_date":1683866661,"answer_id":76233185,"question_id":75556524,"body_markdown":"As per guide use **th:block**\r\n\r\n    &lt;th:block th:each=&quot;data : ${stats}&quot;&gt;\r\n    \t&lt;tr&gt;\r\n            &lt;td th:text=&quot;${data.country}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${data.state}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${data.latestTotalCases}&quot;&gt;0&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/th:block&gt;","title":"Thymleaf th:each iteration not showing working and not showing data","body":"<p>As per guide use <strong>th:block</strong></p>\n<pre><code>&lt;th:block th:each=&quot;data : ${stats}&quot;&gt;\n    &lt;tr&gt;\n        &lt;td th:text=&quot;${data.country}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${data.state}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${data.latestTotalCases}&quot;&gt;0&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/th:block&gt;\n</code></pre>\n"}],"owner":{"account_id":27869223,"reputation":1,"user_id":21280127,"display_name":"Anuj Singh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683866661,"creation_date":1677241362,"question_id":75556524,"body_markdown":"Thymleaf th:each iteration not showing working and not showing data\r\n\r\n&#39;&lt;table class=&quot; table table-bordered table-striped&quot;&gt;\r\n\r\n\t\t&lt;tr style=&quot;background-color: black; color: white&quot;&gt;\r\n\t\t\t&lt;th&gt;Country&lt;/th&gt;\r\n\t\t\t&lt;th&gt;State&lt;/th&gt;\r\n\t\t\t&lt;th&gt;Total Cases&lt;/th&gt;\r\n\t\t&lt;/tr&gt;\r\n\r\n\t\t&lt;tr th:each=&quot;data : ${stats}&quot;&gt;\r\n\t\t\t&lt;td th:text=&quot;${data.country}&quot;&gt;&lt;/td&gt;\r\n\t\t\t&lt;td th:text=&quot;${data.state}&quot;&gt;&lt;/td&gt;\r\n\t\t\t&lt;td th:text=&quot;${data.latestTotalCases}&quot;&gt;0&lt;/td&gt;\r\n\t\t&lt;/tr&gt;\r\n\r\n&lt;/table&gt;&#39;\r\n\r\n","title":"Thymleaf th:each iteration not showing working and not showing data","body":"<p>Thymleaf th:each iteration not showing working and not showing data</p>\n<p>'</p>\n<pre><code>    &lt;tr style=&quot;background-color: black; color: white&quot;&gt;\n        &lt;th&gt;Country&lt;/th&gt;\n        &lt;th&gt;State&lt;/th&gt;\n        &lt;th&gt;Total Cases&lt;/th&gt;\n    &lt;/tr&gt;\n\n    &lt;tr th:each=&quot;data : ${stats}&quot;&gt;\n        &lt;td th:text=&quot;${data.country}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${data.state}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${data.latestTotalCases}&quot;&gt;0&lt;/td&gt;\n    &lt;/tr&gt;\n</code></pre>\n'\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1657315479,"post_id":72917096,"comment_id":128789912,"body_markdown":"Looks like it&#39;s working to me. Don&#39;t know _why_, but it appears encoding `&quot;AAAAAAAAAA&quot;` returns a `ByteBuffer` whose **capacity** is `11`, but its **limit** is set to `10`. You&#39;re printing out the entire backing array without taking the limit into account.","body":"Looks like it&#39;s working to me. Don&#39;t know <i>why</i>, but it appears encoding <code>&quot;AAAAAAAAAA&quot;</code> returns a <code>ByteBuffer</code> whose <b>capacity</b> is <code>11</code>, but its <b>limit</b> is set to <code>10</code>. You&#39;re printing out the entire backing array without taking the limit into account."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1657315925,"post_id":72917096,"comment_id":128790008,"body_markdown":"Why are you doing it this way? What&#39;s wrong with just doing `.getBytes(StandardCharsets.UTF_8)`?","body":"Why are you doing it this way? What&#39;s wrong with just doing <code>.getBytes(StandardCharsets.UTF_8)</code>?"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1657316552,"post_id":72917096,"comment_id":128790136,"body_markdown":"Typo in `import java.nio.charset;`, no class name","body":"Typo in <code>import java.nio.charset;</code>, no class name"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1657316645,"post_id":72917096,"comment_id":128790145,"body_markdown":"In addition to @DuncG comment, there is no reason to have `import java.lang.*;`. In Java, that import is implicitly present in all source files.","body":"In addition to @DuncG comment, there is no reason to have <code>import java.lang.*;</code>. In Java, that import is implicitly present in all source files."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1657325978,"post_id":72917096,"comment_id":128791585,"body_markdown":"@Sweeper [**CharSequence**](https://docs.oracle.com/javase/7/docs/api/java/lang/CharSequence.html) doesn&#39;t have a `.getBytes()` method","body":"@Sweeper <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/CharSequence.html\" rel=\"nofollow noreferrer\"><b>CharSequence</b></a> doesn&#39;t have a <code>.getBytes()</code> method"},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1657326272,"post_id":72917096,"comment_id":128791629,"body_markdown":"@Slaw For that you can either blame `mycompiler.io`. (not that it matters at all)","body":"@Slaw For that you can either blame <code>mycompiler.io</code>. (not that it matters at all)"},{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1657330660,"post_id":72917096,"comment_id":128792058,"body_markdown":"A `ByteBuffer` is not equivalent to a `CharSequence`","body":"A <code>ByteBuffer</code> is not equivalent to a <code>CharSequence</code>"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1657317084,"creation_date":1657316154,"answer_id":72917227,"question_id":72917096,"body_markdown":"First, note that if you have a `String`, then you can simply do:\r\n\r\n```lang-java\r\nbyte[] bytes = theString.getBytes(StandardCharsets.UTF_8);\r\n```\r\n\r\nOr, even if you have a `CharSequence`, you can do:\r\n\r\n```lang-java\r\nbyte[] bytes = theCharSequence.toString().getBytes(StandardCharsets.UTF_8);\r\n```\r\n\r\nThat will potentially create a `String` _copy_ of the `CharSequence` if it&#39;s not already a `String`, though it should be quickly garbage collected.\r\n\r\nBut regarding your question, you&#39;re not taking the `ByteBuffer`&#39;s [limit][1] (or [position][2], though it&#39;s `0` in this case) into account. For whatever reason, encoding `&quot;AAAAAAAAAA&quot;` results in a buffer whose **capacity** is `11`, but whose **limit** is `10`. But the `#array()` method returns the entire backing array, regardless of the buffer&#39;s position or limit. This means you need to manually take the limit (and position) into account when converting the `ByteBuffer` to a `byte[]`.\r\n\r\n\r\nFor example:\r\n\r\n```lang-java\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.CharBuffer;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Arrays;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    for (int i = 1; i &lt;= 10; i++) {\r\n      String string = &quot;A&quot;.repeat(i);\r\n\r\n      CharBuffer chars = CharBuffer.wrap(string);\r\n      ByteBuffer bytes = StandardCharsets.UTF_8.encode(chars);\r\n\r\n      System.out.printf(&quot;%-10s | %s%n&quot;, string, Arrays.toString(toByteArray(bytes)));\r\n    }\r\n  }\r\n\r\n  public static byte[] toByteArray(ByteBuffer buffer) {\r\n    byte[] array = new byte[buffer.remaining()];\r\n    buffer.get(buffer.position(), array);\r\n    return array;\r\n  }\r\n}\r\n```\r\n\r\nWhich will output:\r\n\r\n```lang-none\r\nA          | [65]\r\nAA         | [65, 65]\r\nAAA        | [65, 65, 65]\r\nAAAA       | [65, 65, 65, 65]\r\nAAAAA      | [65, 65, 65, 65, 65]\r\nAAAAAA     | [65, 65, 65, 65, 65, 65]\r\nAAAAAAA    | [65, 65, 65, 65, 65, 65, 65]\r\nAAAAAAAA   | [65, 65, 65, 65, 65, 65, 65, 65]\r\nAAAAAAAAA  | [65, 65, 65, 65, 65, 65, 65, 65, 65]\r\nAAAAAAAAAA | [65, 65, 65, 65, 65, 65, 65, 65, 65, 65]\r\n```\r\n\r\nNote the above example copies a region of the buffer&#39;s backing array, though the original `ByteBuffer` should be quickly garbage collected. The only way to avoid copying the backing array, that I can think of, is to adapt your code to work with the `ByteBuffer` directly (if you only return the backing array, you lose the position/limit information). Or I suppose you could create a wrapper class.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/Buffer.html#limit()\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/Buffer.html#position()","title":"How to convert CharSequence to UTF-8 encoded byte array in Java?","body":"<p>First, note that if you have a <code>String</code>, then you can simply do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = theString.getBytes(StandardCharsets.UTF_8);\n</code></pre>\n<p>Or, even if you have a <code>CharSequence</code>, you can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = theCharSequence.toString().getBytes(StandardCharsets.UTF_8);\n</code></pre>\n<p>That will potentially create a <code>String</code> <em>copy</em> of the <code>CharSequence</code> if it's not already a <code>String</code>, though it should be quickly garbage collected.</p>\n<p>But regarding your question, you're not taking the <code>ByteBuffer</code>'s <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/Buffer.html#limit()\" rel=\"noreferrer\">limit</a> (or <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/Buffer.html#position()\" rel=\"noreferrer\">position</a>, though it's <code>0</code> in this case) into account. For whatever reason, encoding <code>&quot;AAAAAAAAAA&quot;</code> results in a buffer whose <strong>capacity</strong> is <code>11</code>, but whose <strong>limit</strong> is <code>10</code>. But the <code>#array()</code> method returns the entire backing array, regardless of the buffer's position or limit. This means you need to manually take the limit (and position) into account when converting the <code>ByteBuffer</code> to a <code>byte[]</code>.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.ByteBuffer;\nimport java.nio.CharBuffer;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Arrays;\n\npublic class Main {\n\n  public static void main(String[] args) throws Exception {\n    for (int i = 1; i &lt;= 10; i++) {\n      String string = &quot;A&quot;.repeat(i);\n\n      CharBuffer chars = CharBuffer.wrap(string);\n      ByteBuffer bytes = StandardCharsets.UTF_8.encode(chars);\n\n      System.out.printf(&quot;%-10s | %s%n&quot;, string, Arrays.toString(toByteArray(bytes)));\n    }\n  }\n\n  public static byte[] toByteArray(ByteBuffer buffer) {\n    byte[] array = new byte[buffer.remaining()];\n    buffer.get(buffer.position(), array);\n    return array;\n  }\n}\n</code></pre>\n<p>Which will output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>A          | [65]\nAA         | [65, 65]\nAAA        | [65, 65, 65]\nAAAA       | [65, 65, 65, 65]\nAAAAA      | [65, 65, 65, 65, 65]\nAAAAAA     | [65, 65, 65, 65, 65, 65]\nAAAAAAA    | [65, 65, 65, 65, 65, 65, 65]\nAAAAAAAA   | [65, 65, 65, 65, 65, 65, 65, 65]\nAAAAAAAAA  | [65, 65, 65, 65, 65, 65, 65, 65, 65]\nAAAAAAAAAA | [65, 65, 65, 65, 65, 65, 65, 65, 65, 65]\n</code></pre>\n<p>Note the above example copies a region of the buffer's backing array, though the original <code>ByteBuffer</code> should be quickly garbage collected. The only way to avoid copying the backing array, that I can think of, is to adapt your code to work with the <code>ByteBuffer</code> directly (if you only return the backing array, you lose the position/limit information). Or I suppose you could create a wrapper class.</p>\n"}],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":768,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683866214,"creation_date":1657315133,"question_id":72917096,"body_markdown":"I am trying to convert a `CharSequence` to a UTF-8 encoded `byte[]` array.\r\n\r\nAnd i&#39;ve been having problems with it, so i was going to ask stackoverflow for help. And i was going to write a *Java Fiddle* to do it:\r\n\r\nhttps://www.mycompiler.io/view/3MliN0HgwDD\r\n\r\nExcept the fiddle itself doesn&#39;t work:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\nimport java.nio.*;\r\nimport java.nio.charset;\r\n\r\n// The main method must be in a class named &quot;Main&quot;.\r\nclass Main {\r\n    public static byte[] charSequenceToUtf8(final CharSequence input)\r\n    {\r\n        //char[] chars = new char[input.length];\r\n        //for (int i=0; i&lt;input.length; i++)\r\n        //  chars[i] = input.charAt(i);\r\n\r\n        CharBuffer charBuffer = CharBuffer.wrap(input);\r\n        checkEquals(10, charBuffer.length(), &quot;Charbuffer is wrong length&quot;);\r\n\r\n        Charset cs = Charset.forName(&quot;UTF-8&quot;); \r\n\t\tByteBuffer byteBuffer = cs.encode(charBuffer);\r\n\t\tcheckEquals(10, byteBuffer.length(), &quot;byteBuffer is wrong length&quot;);\r\n\t\t\r\n\t\tbyte[] utf8 = byteBuffer.array();        \r\n\t\tcheckEquals(10, utf8.length, &quot;utf8 bytes is wrong length&quot;);\r\n    }\r\n    \r\n    public static void checkEquals(int expected, int actual, String message)\r\n    {\r\n        if (expected == actual)\r\n            return;\r\n            \r\n        String sExpected = String.valueOf(expected);\r\n        String sActual = String.valueOf(actual);\r\n        \r\n        throw new Exception(&quot;Test failed. Expected &quot;+sExpected+&quot;, Actual &quot;+sActual+&quot;. &quot;+message);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        test(&quot;AAAAAAAAAA&quot;); //ten A&#39;s\r\n    }\r\n}\r\n```\r\n\r\nIt seems that `java.nio` requires at least Java 7 &lt;sup&gt;[ref][1]&lt;/sup&gt;. Which is why it is confusing to me that it doesn&#39;t work in Java 16:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSo this bring up a lot of questions:\r\n\r\n- how can i convert a `CharSequence` to a `byte[]` array? &lt;sup&gt;[1][3]&lt;/sup&gt;\r\n- why does it not work in Java 16? \r\n\r\nIn the end, the actual bug is that trying to encode the string `AAAAAAAAA` returns an 11-element array:\r\n\r\n| CharSequence | UTF-8 byte array |\r\n|----------------|---------------------|\r\n| *&quot;AA&quot;*         | `[65, 65]`          |\r\n| *&quot;AAA&quot;*        | `[65, 65, 65]`          |\r\n| *&quot;AAAA&quot;*       | `[65, 65, 65, 65]`          |\r\n| *&quot;AAAAA&quot;*      | `[65, 65, 65, 65, 65]`          |\r\n| *&quot;AAAAAA&quot;*     | `[65, 65, 65, 65, 65, 65]`          |\r\n| *&quot;AAAAAAA&quot;*    | `[65, 65, 65, 65, 65, 65, 65]`          |\r\n| *&quot;AAAAAAAA&quot;*   | `[65, 65, 65, 65, 65, 65, 65, 65]`          |\r\n| *&quot;AAAAAAAAA&quot;*  | `[65, 65, 65, 65, 65, 65, 65, 65, 65]`          |\r\n| *&quot;AAAAAAAAAA&quot;* | `[65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 0]` |\r\n\r\nWhy is the above code, that i stole from the linked question, failing of a string of 10 characters?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20029271/cannot-find-package-java-nio-file\r\n  [2]: https://i.stack.imgur.com/ClxWd.png\r\n  [3]: https://stackoverflow.com/questions/18514836/how-to-encode-a-charsequence-using-a-charset-without-converting-to-string","title":"How to convert CharSequence to UTF-8 encoded byte array in Java?","body":"<p>I am trying to convert a <code>CharSequence</code> to a UTF-8 encoded <code>byte[]</code> array.</p>\n<p>And i've been having problems with it, so i was going to ask stackoverflow for help. And i was going to write a <em>Java Fiddle</em> to do it:</p>\n<p><a href=\"https://www.mycompiler.io/view/3MliN0HgwDD\" rel=\"nofollow noreferrer\">https://www.mycompiler.io/view/3MliN0HgwDD</a></p>\n<p>Except the fiddle itself doesn't work:</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\nimport java.nio.*;\nimport java.nio.charset;\n\n// The main method must be in a class named &quot;Main&quot;.\nclass Main {\n    public static byte[] charSequenceToUtf8(final CharSequence input)\n    {\n        //char[] chars = new char[input.length];\n        //for (int i=0; i&lt;input.length; i++)\n        //  chars[i] = input.charAt(i);\n\n        CharBuffer charBuffer = CharBuffer.wrap(input);\n        checkEquals(10, charBuffer.length(), &quot;Charbuffer is wrong length&quot;);\n\n        Charset cs = Charset.forName(&quot;UTF-8&quot;); \n        ByteBuffer byteBuffer = cs.encode(charBuffer);\n        checkEquals(10, byteBuffer.length(), &quot;byteBuffer is wrong length&quot;);\n        \n        byte[] utf8 = byteBuffer.array();        \n        checkEquals(10, utf8.length, &quot;utf8 bytes is wrong length&quot;);\n    }\n    \n    public static void checkEquals(int expected, int actual, String message)\n    {\n        if (expected == actual)\n            return;\n            \n        String sExpected = String.valueOf(expected);\n        String sActual = String.valueOf(actual);\n        \n        throw new Exception(&quot;Test failed. Expected &quot;+sExpected+&quot;, Actual &quot;+sActual+&quot;. &quot;+message);\n    }\n    \n    public static void main(String[] args) {\n        test(&quot;AAAAAAAAAA&quot;); //ten A's\n    }\n}\n</code></pre>\n<p>It seems that <code>java.nio</code> requires at least Java 7 <sup><a href=\"https://stackoverflow.com/questions/20029271/cannot-find-package-java-nio-file\">ref</a></sup>. Which is why it is confusing to me that it doesn't work in Java 16:</p>\n<p><a href=\"https://i.stack.imgur.com/ClxWd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ClxWd.png\" alt=\"enter image description here\" /></a></p>\n<p>So this bring up a lot of questions:</p>\n<ul>\n<li>how can i convert a <code>CharSequence</code> to a <code>byte[]</code> array? <sup><a href=\"https://stackoverflow.com/questions/18514836/how-to-encode-a-charsequence-using-a-charset-without-converting-to-string\">1</a></sup></li>\n<li>why does it not work in Java 16?</li>\n</ul>\n<p>In the end, the actual bug is that trying to encode the string <code>AAAAAAAAA</code> returns an 11-element array:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>CharSequence</th>\n<th>UTF-8 byte array</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em>&quot;AA&quot;</em></td>\n<td><code>[65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAA&quot;</em></td>\n<td><code>[65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAAAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65, 65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAAAAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65, 65, 65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAAAAAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65, 65, 65, 65, 65, 65]</code></td>\n</tr>\n<tr>\n<td><em>&quot;AAAAAAAAAA&quot;</em></td>\n<td><code>[65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 0]</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Why is the above code, that i stole from the linked question, failing of a string of 10 characters?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":20080927,"reputation":629,"user_id":14723580,"display_name":"Krellex"},"score":0,"creation_date":1613906628,"post_id":66301736,"comment_id":117215568,"body_markdown":"You might have another Restaurant constructor with the same signature, perhaps inside another package.","body":"You might have another Restaurant constructor with the same signature, perhaps inside another package."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1613906711,"post_id":66301736,"comment_id":117215590,"body_markdown":"`@RequiredArgsConstructor` checks for uninitialized `final` and `@NotNull` fields, not for `@NotEmpty` ones, so it&#39;s probably just generating another no-arguments constructor.","body":"<code>@RequiredArgsConstructor</code> checks for uninitialized <code>final</code> and <code>@NotNull</code> fields, not for <code>@NotEmpty</code> ones, so it&#39;s probably just generating another no-arguments constructor."},{"owner":{"account_id":20157022,"reputation":167,"user_id":14782961,"display_name":"ror roro"},"score":1,"creation_date":1613907538,"post_id":66301736,"comment_id":117215804,"body_markdown":"@ASH thanks for your answer, but the correct answer is as it explained in the answers section below","body":"@ASH thanks for your answer, but the correct answer is as it explained in the answers section below"},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1613908079,"post_id":66301736,"comment_id":117215936,"body_markdown":"In this case you may want to use the `@Data` annotation anyway. It combines `@RequiredArgsConstructor`, `@Getter`, `@Setter`, `@ToString` and additionally `@EqualsAndHashCode` which is always a good idea for entities.","body":"In this case you may want to use the <code>@Data</code> annotation anyway. It combines <code>@RequiredArgsConstructor</code>, <code>@Getter</code>, <code>@Setter</code>, <code>@ToString</code> and additionally <code>@EqualsAndHashCode</code> which is always a good idea for entities."}],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1613906965,"creation_date":1613906647,"answer_id":66301766,"question_id":66301736,"body_markdown":"Try to change @RequiredArgsConstructor to @AllArgsConstructor and that&#39;s been fine.\r\nSee more in [documentation][1]\r\n\r\n\r\n  [1]: https://projectlombok.org/features/constructor","title":"java error : constructor is already defined in class - using lombok","body":"<p>Try to change @RequiredArgsConstructor to @AllArgsConstructor and that's been fine.\nSee more in <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"tags":[],"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1613906726,"creation_date":1613906726,"answer_id":66301778,"question_id":66301736,"body_markdown":"As mentioned in [documentation][1] @RequiredArgsConstructor is built using `final` fields:\r\n\r\n&gt; @RequiredArgsConstructor generates a constructor with 1 parameter for\r\n&gt; each field that requires special handling. All non-initialized final\r\n&gt; fields get a parameter, as well as any fields that are marked as\r\n&gt; @NonNull that aren&#39;t initialized where they are declared. For those\r\n&gt; fields marked with @NonNull, an explicit null check is also generated.\r\n&gt; The constructor will throw a NullPointerException if any of the\r\n&gt; parameters intended for the fields marked with @NonNull contain null.\r\n&gt; The order of the parameters match the order in which the fields appear\r\n&gt; in your class.\r\n\r\n\r\nSo either remove @RequiredArgsConstructor annotation or mark some of fields with `final` keyword (or @NonNull annotation).\r\n\r\n  [1]: https://projectlombok.org/features/constructor","title":"java error : constructor is already defined in class - using lombok","body":"<p>As mentioned in <a href=\"https://projectlombok.org/features/constructor\" rel=\"noreferrer\">documentation</a> @RequiredArgsConstructor is built using <code>final</code> fields:</p>\n<blockquote>\n<p>@RequiredArgsConstructor generates a constructor with 1 parameter for\neach field that requires special handling. All non-initialized final\nfields get a parameter, as well as any fields that are marked as\n@NonNull that aren't initialized where they are declared. For those\nfields marked with @NonNull, an explicit null check is also generated.\nThe constructor will throw a NullPointerException if any of the\nparameters intended for the fields marked with @NonNull contain null.\nThe order of the parameters match the order in which the fields appear\nin your class.</p>\n</blockquote>\n<p>So either remove @RequiredArgsConstructor annotation or mark some of fields with <code>final</code> keyword (or @NonNull annotation).</p>\n"},{"tags":[],"owner":{"account_id":12666543,"reputation":405,"user_id":17478317,"display_name":"Abdullah Khilji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683866101,"creation_date":1683866101,"answer_id":76233146,"question_id":66301736,"body_markdown":"In my scenario, an empty class was present throwing the same above error, removing all the constructor based annotations i.e. `@AllArgsConstructor\r\nand @NoArgsConstructor`, solved the issue for me.","title":"java error : constructor is already defined in class - using lombok","body":"<p>In my scenario, an empty class was present throwing the same above error, removing all the constructor based annotations i.e. <code>@AllArgsConstructor and @NoArgsConstructor</code>, solved the issue for me.</p>\n"}],"owner":{"account_id":20157022,"reputation":167,"user_id":14782961,"display_name":"ror roro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16362,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":66301778,"answer_count":3,"score":7,"last_activity_date":1683866101,"creation_date":1613906441,"question_id":66301736,"body_markdown":"The error \r\n\r\n    java: constructor Restaurant() is already defined in class  \r\n    com.example.order_system.domain.Restaurant\r\n\r\nappear when I add this class and run the program\r\n\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Restaurant {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private long id;\r\n\r\n    @NotEmpty(message = &quot;The restaurant must have a name&quot;)\r\n    private String name;\r\n\r\n    @NotEmpty(message = &quot;Please add a description for this restaurant&quot;)\r\n    private String description;\r\n\r\n    @NotEmpty(message = &quot;The restaurant must have a location&quot;)\r\n    private String location;\r\n\r\n    @OneToMany(mappedBy = &quot;restaurant&quot;, fetch = FetchType.EAGER)\r\n    private List&lt;ContactDetails&gt; contactDetails = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\n","title":"java error : constructor is already defined in class - using lombok","body":"<p>The error</p>\n<pre><code>java: constructor Restaurant() is already defined in class  \ncom.example.order_system.domain.Restaurant\n</code></pre>\n<p>appear when I add this class and run the program</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@RequiredArgsConstructor\n@Getter\n@Setter\n@ToString\npublic class Restaurant {\n\n    @Id\n    @GeneratedValue\n    private long id;\n\n    @NotEmpty(message = &quot;The restaurant must have a name&quot;)\n    private String name;\n\n    @NotEmpty(message = &quot;Please add a description for this restaurant&quot;)\n    private String description;\n\n    @NotEmpty(message = &quot;The restaurant must have a location&quot;)\n    private String location;\n\n    @OneToMany(mappedBy = &quot;restaurant&quot;, fetch = FetchType.EAGER)\n    private List&lt;ContactDetails&gt; contactDetails = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n"},{"tags":["java","code-formatting","spotless"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1680376707,"post_id":75908225,"comment_id":133889551,"body_markdown":"I see your point, but in my experience most Java programmer prefer to omit `this` when possible.  You may be fighting against the main stream here.","body":"I see your point, but in my experience most Java programmer prefer to omit <code>this</code> when possible.  You may be fighting against the main stream here."},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1680489266,"post_id":75908225,"comment_id":133901876,"body_markdown":"I agree with what @markspace said, but for educational purposes, I am also interested to know how the technical solution to this (the political fight is another topic)","body":"I agree with what @markspace said, but for educational purposes, I am also interested to know how the technical solution to this (the political fight is another topic)"},{"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"score":0,"creation_date":1683755443,"post_id":75908225,"comment_id":134417229,"body_markdown":"Do you want to do this only using `spotless` or are you open to using other plugins? Because the [checkstyle](https://docs.gradle.org/current/userguide/checkstyle_plugin.html) gradle plugin has the [RequireThis](https://checkstyle.sourceforge.io/config_coding.html#RequireThis) rule for this exact scenario","body":"Do you want to do this only using <code>spotless</code> or are you open to using other plugins? Because the <a href=\"https://docs.gradle.org/current/userguide/checkstyle_plugin.html\" rel=\"nofollow noreferrer\">checkstyle</a> gradle plugin has the <a href=\"https://checkstyle.sourceforge.io/config_coding.html#RequireThis\" rel=\"nofollow noreferrer\">RequireThis</a> rule for this exact scenario"},{"owner":{"account_id":24886434,"reputation":39,"user_id":18758985,"display_name":"lolMagixD"},"score":0,"creation_date":1683865247,"post_id":75908225,"comment_id":134434949,"body_markdown":"While I&#39;d love to do it with Spotless, checkstyle works fine as well!","body":"While I&#39;d love to do it with Spotless, checkstyle works fine as well!"}],"answers":[{"tags":[],"owner":{"account_id":24886434,"reputation":39,"user_id":18758985,"display_name":"lolMagixD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683865326,"creation_date":1683865326,"answer_id":76233100,"question_id":75908225,"body_markdown":"In a comment by [devatherock][1], the [checkstyle][2] plugin for Gradle was mentioned and solves this exact issue. While it isn&#39;t specifically Spotless, it&#39;s the best solution to this problem.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75908225/how-can-i-force-the-this-keyword-on-local-fields-and-methods-with-the-spotless?noredirect=1#comment134417229_75908225\r\n  [2]: https://docs.gradle.org/current/userguide/checkstyle_plugin.html","title":"How can I force the &#39;this&#39; keyword on local fields and methods with the Spotless Java code formatter?","body":"<p>In a comment by <a href=\"https://stackoverflow.com/questions/75908225/how-can-i-force-the-this-keyword-on-local-fields-and-methods-with-the-spotless?noredirect=1#comment134417229_75908225\">devatherock</a>, the <a href=\"https://docs.gradle.org/current/userguide/checkstyle_plugin.html\" rel=\"nofollow noreferrer\">checkstyle</a> plugin for Gradle was mentioned and solves this exact issue. While it isn't specifically Spotless, it's the best solution to this problem.</p>\n"}],"owner":{"account_id":24886434,"reputation":39,"user_id":18758985,"display_name":"lolMagixD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76233100,"answer_count":1,"score":1,"last_activity_date":1683865326,"creation_date":1680375096,"question_id":75908225,"body_markdown":"I want to enforce the use of the &#39;this&#39; keyword using Spotless. For example: `getTowerData().recordMap` would be `this.getTowerData().recordMap`. \r\n\r\nI&#39;m running Spotless with Gradle with the current configuration:\r\n```\r\nspotless {\r\n    java {\r\n        importOrder(&#39;emu.grasscutter&#39;, &#39;&#39;, &#39;java&#39;, &#39;javax&#39;, &#39;\\\\#java&#39;, &#39;\\\\#&#39;)\r\n        googleJavaFormat(&#39;1.15.0&#39;)\r\n        formatAnnotations()\r\n        endWithNewline()\r\n        indentWithTabs(2); indentWithSpaces(4)\r\n        toggleOffOn()\r\n    }\r\n}\r\n```\r\n\r\nCurrently, I&#39;ve tried using:\r\n```\r\ncustom(&#39;this&#39;, {\r\n    // Force use of &#39;this.&#39; keyword\r\n    it.replaceAll(&#39;^\\\\s*(?!public|private|protected)(?!class|interface|enum|@interface)\\\\b(?!return)\\\\w+\\\\b&#39;, &#39;this.$0&#39;)\r\n})\r\n```\r\nbut this results in:\r\n```\r\nStep &#39;google-java-format&#39; found problem in &#39;src\\main\\java\\emu\\grasscutter\\auth\\AuthenticationSystem.java&#39;:\r\nnull\r\njava.lang.reflect.InvocationTargetException\r\nCaused by: com.google.googlejavaformat.java.FormatterException: 1:2: error: class, interface, enum, or record expected\r\n```","title":"How can I force the &#39;this&#39; keyword on local fields and methods with the Spotless Java code formatter?","body":"<p>I want to enforce the use of the 'this' keyword using Spotless. For example: <code>getTowerData().recordMap</code> would be <code>this.getTowerData().recordMap</code>.</p>\n<p>I'm running Spotless with Gradle with the current configuration:</p>\n<pre><code>spotless {\n    java {\n        importOrder('emu.grasscutter', '', 'java', 'javax', '\\\\#java', '\\\\#')\n        googleJavaFormat('1.15.0')\n        formatAnnotations()\n        endWithNewline()\n        indentWithTabs(2); indentWithSpaces(4)\n        toggleOffOn()\n    }\n}\n</code></pre>\n<p>Currently, I've tried using:</p>\n<pre><code>custom('this', {\n    // Force use of 'this.' keyword\n    it.replaceAll('^\\\\s*(?!public|private|protected)(?!class|interface|enum|@interface)\\\\b(?!return)\\\\w+\\\\b', 'this.$0')\n})\n</code></pre>\n<p>but this results in:</p>\n<pre><code>Step 'google-java-format' found problem in 'src\\main\\java\\emu\\grasscutter\\auth\\AuthenticationSystem.java':\nnull\njava.lang.reflect.InvocationTargetException\nCaused by: com.google.googlejavaformat.java.FormatterException: 1:2: error: class, interface, enum, or record expected\n</code></pre>\n"},{"tags":["java","sonarqube","jacoco","jacoco-maven-plugin","jacoco-plugin"],"comments":[{"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"score":0,"creation_date":1675798965,"post_id":75375132,"comment_id":133005374,"body_markdown":"You asked me to check this one ... I don&#39;t know.","body":"You asked me to check this one ... I don&#39;t know."},{"owner":{"account_id":1686882,"reputation":1183,"user_id":1549977,"accept_rate":86,"display_name":"Benjamin Marwell"},"score":0,"creation_date":1675887517,"post_id":75375132,"comment_id":133027078,"body_markdown":"This q does not contain enough information why module1 does not contain coverage code. Please ask on the ASF Maven mailing lists. BTW, you can check if module1 has the correct parent.","body":"This q does not contain enough information why module1 does not contain coverage code. Please ask on the ASF Maven mailing lists. BTW, you can check if module1 has the correct parent."},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":1,"creation_date":1676092810,"post_id":75375132,"comment_id":133072717,"body_markdown":"@BenjaminMarwell I have double checked all the relative or absolute paths it&#39;s all correct. I am finding it all strange that for other modules it generating the coverage report but for only one module it&#39;s not generating.","body":"@BenjaminMarwell I have double checked all the relative or absolute paths it&#39;s all correct. I am finding it all strange that for other modules it generating the coverage report but for only one module it&#39;s not generating."}],"answers":[{"tags":[],"owner":{"account_id":1704646,"reputation":442,"user_id":1563969,"display_name":"Sarang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677071886,"creation_date":1677071886,"answer_id":75533246,"question_id":75375132,"body_markdown":"Create one more module as ReportAggregator and move jacoco configuration from parent pom to ReportAggregator pom","title":"jacoco configuration for multi module is not working","body":"<p>Create one more module as ReportAggregator and move jacoco configuration from parent pom to ReportAggregator pom</p>\n"},{"tags":[],"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677298166,"creation_date":1677162552,"answer_id":75546189,"question_id":75375132,"body_markdown":"Thank you @Sarang for the response. It did resolve my problem, but after that I ran into one more issue and that is for one of my module it was not generating the jacoco.exec file. After some investigation it seems the problem was with `&lt;argLine&gt;` tag. In one of my module I was using this tag and somehow this was overridden. \r\n\r\nSo what I did is I pre append the `argLine` before this and it resolve my issue\r\n\r\n    &lt;configuration&gt;\r\n        &lt;argLine&gt;${argLine} -XX:PermSize=256m -XX:MaxPermSize=1048m&lt;/argLine&gt;\r\n    &lt;/configuration&gt;","title":"jacoco configuration for multi module is not working","body":"<p>Thank you @Sarang for the response. It did resolve my problem, but after that I ran into one more issue and that is for one of my module it was not generating the jacoco.exec file. After some investigation it seems the problem was with <code>&lt;argLine&gt;</code> tag. In one of my module I was using this tag and somehow this was overridden.</p>\n<p>So what I did is I pre append the <code>argLine</code> before this and it resolve my issue</p>\n<pre><code>&lt;configuration&gt;\n    &lt;argLine&gt;${argLine} -XX:PermSize=256m -XX:MaxPermSize=1048m&lt;/argLine&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9814791,"reputation":73,"user_id":7271622,"display_name":"duhocsinhlienxo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683865294,"creation_date":1683863941,"answer_id":76233035,"question_id":75375132,"body_markdown":"You can try to merge unit test and instrument test from app module :\r\n\r\n    task jacocoUiTestReportAllModules(type: JacocoReport, dependsOn: [&#39;testDebugUnitTest&#39;, &#39;createDebugCoverageReport&#39;]) {\r\n        group &quot;Reports&quot;\r\n        description &quot;Generate Jacoco Instrumented Tests coverage reports for all modules&quot;\r\n        reports {\r\n            xml.enabled = true\r\n            html.enabled = true\r\n            html.destination file(&quot;${rootProject.buildDir}/coverage-report&quot;)\r\n        }\r\n        def javaClasses = []\r\n        def kotlinClasses = []\r\n        def javaSrc = []\r\n        def kotlinSrc = []\r\n        def execution = []\r\n        def fileFilter = [&#39;**/R.class&#39;, &#39;**/R$*.class&#39;, &#39;**/BuildConfig.*&#39;, &#39;**/Manifest*.*&#39;, &#39;**/*Test*.*&#39;, &#39;android/**/*.*&#39;]\r\n        rootProject.subprojects.each { proj -&gt;\r\n            javaClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/intermediates/javac/debug&quot;, excludes: fileFilter)\r\n            kotlinClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/tmp/kotlin-classes/debug&quot;, excludes: fileFilter)\r\n            javaSrc &lt;&lt; &quot;$proj.projectDir/src/main/java&quot;\r\n            kotlinSrc &lt;&lt; &quot;$proj.projectDir/src/main/kotlin&quot;\r\n            execution &lt;&lt; fileTree(dir: proj.buildDir, includes: [    &#39;jacoco/testDebugUnitTest.exec&#39;,\r\n                    &#39;outputs/code_coverage/debugAndroidTest/connected/**/*.ec&#39;])\r\n        }\r\n        getSourceDirectories().setFrom(files([javaSrc, kotlinSrc]))\r\n        getClassDirectories().setFrom(files([javaClasses, kotlinClasses]))\r\n        getExecutionData().setFrom(execution)\r\n    \r\n        doLast() {\r\n            print &quot;file://${reports.html.destination}/index.html&quot;\r\n    \r\n        }\r\n    }","title":"jacoco configuration for multi module is not working","body":"<p>You can try to merge unit test and instrument test from app module :</p>\n<pre><code>task jacocoUiTestReportAllModules(type: JacocoReport, dependsOn: ['testDebugUnitTest', 'createDebugCoverageReport']) {\n    group &quot;Reports&quot;\n    description &quot;Generate Jacoco Instrumented Tests coverage reports for all modules&quot;\n    reports {\n        xml.enabled = true\n        html.enabled = true\n        html.destination file(&quot;${rootProject.buildDir}/coverage-report&quot;)\n    }\n    def javaClasses = []\n    def kotlinClasses = []\n    def javaSrc = []\n    def kotlinSrc = []\n    def execution = []\n    def fileFilter = ['**/R.class', '**/R$*.class', '**/BuildConfig.*', '**/Manifest*.*', '**/*Test*.*', 'android/**/*.*']\n    rootProject.subprojects.each { proj -&gt;\n        javaClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/intermediates/javac/debug&quot;, excludes: fileFilter)\n        kotlinClasses &lt;&lt; fileTree(dir: &quot;$proj.buildDir/tmp/kotlin-classes/debug&quot;, excludes: fileFilter)\n        javaSrc &lt;&lt; &quot;$proj.projectDir/src/main/java&quot;\n        kotlinSrc &lt;&lt; &quot;$proj.projectDir/src/main/kotlin&quot;\n        execution &lt;&lt; fileTree(dir: proj.buildDir, includes: [    'jacoco/testDebugUnitTest.exec',\n                'outputs/code_coverage/debugAndroidTest/connected/**/*.ec'])\n    }\n    getSourceDirectories().setFrom(files([javaSrc, kotlinSrc]))\n    getClassDirectories().setFrom(files([javaClasses, kotlinClasses]))\n    getExecutionData().setFrom(execution)\n\n    doLast() {\n        print &quot;file://${reports.html.destination}/index.html&quot;\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75533246,"answer_count":3,"score":2,"last_activity_date":1683865294,"creation_date":1675781928,"question_id":75375132,"body_markdown":"There is something strange going on with my jacoco configuration and I am not able to figure it out. I have visited multiple threads on stack overflow and other platforms and tried many thing, but didn&#39;t resolve this issue. \r\n\r\nI have setup the java code coverage for multiple modules. This is my project structure\r\n- ABC\r\n  - module1\r\n\r\n- DEF\r\n   - module1\r\n   - module2\r\n   - module3\r\n\r\n   pom.xml\r\n\r\nI have configured the jacoco for my DEF maven project. I am only configuring my DEF project. And this is what pom.xml contains \r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.8.8&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;report&lt;/id&gt;\r\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                     &lt;outputDirectory&gt;${project.basedir}/target/reports&lt;/outputDirectory&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\r\n&lt;b&gt;Issue:&lt;/b&gt; The issue here is, it&#39;s generating the code coverage report in each module1, module2 and module3. But the report generated in module1, doesn&#39;t contains the code coverage for itself. Meaning, it shows the code coverage for module2 and module3, but it doesn&#39;t include module1 report in itself. I don&#39;t know what&#39;s wrong ?\r\n\r\n&lt;b&gt;EDIT :&lt;/b&gt; modules in DEF are maven modules and it didn&#39;t contains anything related to jacoco.\r\n\r\nAny idea or any suggestions ?\r\n\r\nThanks","title":"jacoco configuration for multi module is not working","body":"<p>There is something strange going on with my jacoco configuration and I am not able to figure it out. I have visited multiple threads on stack overflow and other platforms and tried many thing, but didn't resolve this issue.</p>\n<p>I have setup the java code coverage for multiple modules. This is my project structure</p>\n<ul>\n<li><p>ABC</p>\n<ul>\n<li>module1</li>\n</ul>\n</li>\n<li><p>DEF</p>\n<ul>\n<li>module1</li>\n<li>module2</li>\n<li>module3</li>\n</ul>\n<p>pom.xml</p>\n</li>\n</ul>\n<p>I have configured the jacoco for my DEF maven project. I am only configuring my DEF project. And this is what pom.xml contains</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.8.8&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;report&lt;/id&gt;\n                &lt;phase&gt;prepare-package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;report-aggregate&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                 &lt;outputDirectory&gt;${project.basedir}/target/reports&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p><b>Issue:</b> The issue here is, it's generating the code coverage report in each module1, module2 and module3. But the report generated in module1, doesn't contains the code coverage for itself. Meaning, it shows the code coverage for module2 and module3, but it doesn't include module1 report in itself. I don't know what's wrong ?</p>\n<p><b>EDIT :</b> modules in DEF are maven modules and it didn't contains anything related to jacoco.</p>\n<p>Any idea or any suggestions ?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683864501,"creation_date":1683861827,"answer_id":76232917,"question_id":76232822,"body_markdown":"You can do it by making below changes in your entity\r\n\r\nyou need to add Id column in publication entity and mapped the same id into other entity like below\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    \r\n    @OneToOne(mappedBy = &quot;teacherProfilePost&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;publication&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Publication publication\r\n\r\nif you want to it Vice versa then you need to add below code in your **Publication** entity\r\n\r\n    @OneToOne(mappedBy = &quot;teacher_profile_post &quot;)\r\n    private TeacherProfilePost teacherProfilePost ;\r\n\r\n\r\nThat&#39;s because this is a bidirectional relationship. The Publication side of the relationship is called the non-owning side. \r\n","title":"how to specify OneToOne relationship in spring boot project?","body":"<p>You can do it by making below changes in your entity</p>\n<p>you need to add Id column in publication entity and mapped the same id into other entity like below</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\n@OneToOne(mappedBy = &quot;teacherProfilePost&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;publication&quot;, referencedColumnName = &quot;id&quot;)\nprivate Publication publication\n</code></pre>\n<p>if you want to it Vice versa then you need to add below code in your <strong>Publication</strong> entity</p>\n<pre><code>@OneToOne(mappedBy = &quot;teacher_profile_post &quot;)\nprivate TeacherProfilePost teacherProfilePost ;\n</code></pre>\n<p>That's because this is a bidirectional relationship. The Publication side of the relationship is called the non-owning side.</p>\n"}],"owner":{"account_id":20584607,"reputation":1,"user_id":16117353,"display_name":"Gennady Jumbo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683864501,"creation_date":1683859721,"question_id":76232822,"body_markdown":"[enter image description here][1]\r\n\r\nI need one to one relationship where the **publications** depends on the **teacher_profile_post** so it will have foreign key relationship, I have tired but some how it doesnt work for me.\r\n\r\nCan somebody help me where I am missing or doing mistake.\r\n\r\nteacher_profile_post entity\r\n\r\n```\r\npublic class TeacherProfilePost {\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.AUTO)\r\nprivate Long id;//tipo objetuales no primitivos\r\n\r\n@OneToOne(mappedBy = &quot;teacherProfilePost&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\nprivate Publication publication;\r\n\r\n@ManyToOne(fetch = FetchType.LAZY)\r\n@JoinColumn(name = &quot;student_id&quot;)\r\nprivate Student student;\r\n\r\n@ManyToOne(fetch = FetchType.LAZY)\r\n@JoinColumn(name = &quot;teacher_id&quot;)\r\nprivate Teacher teacher;}\r\n```\r\n\r\npublications entity\r\n\r\n```\r\npublic class Publication {\r\n\r\n\r\n@OneToOne(mappedBy = &quot;publication&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\nprivate CommentReport commentReport;\r\n\r\n@ManyToOne\r\n@JoinColumn(name = &quot;parent_id&quot;)\r\nprivate Publication parent;\r\n\r\n@Column(nullable = false)\r\nprivate String comment;\r\n\r\n@Column(nullable = false)\r\nprivate int like;\r\n\r\n@Column(nullable = false)\r\nprivate int dislike;}\r\n```\r\n\r\nI need to know how to make this relationship because I have tried different ways and it does not give me results.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wwdWn.png","title":"how to specify OneToOne relationship in spring boot project?","body":"<p><a href=\"https://i.stack.imgur.com/wwdWn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I need one to one relationship where the <strong>publications</strong> depends on the <strong>teacher_profile_post</strong> so it will have foreign key relationship, I have tired but some how it doesnt work for me.</p>\n<p>Can somebody help me where I am missing or doing mistake.</p>\n<p>teacher_profile_post entity</p>\n<pre><code>public class TeacherProfilePost {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;//tipo objetuales no primitivos\n\n@OneToOne(mappedBy = &quot;teacherProfilePost&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\nprivate Publication publication;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;student_id&quot;)\nprivate Student student;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;teacher_id&quot;)\nprivate Teacher teacher;}\n</code></pre>\n<p>publications entity</p>\n<pre><code>public class Publication {\n\n\n@OneToOne(mappedBy = &quot;publication&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\nprivate CommentReport commentReport;\n\n@ManyToOne\n@JoinColumn(name = &quot;parent_id&quot;)\nprivate Publication parent;\n\n@Column(nullable = false)\nprivate String comment;\n\n@Column(nullable = false)\nprivate int like;\n\n@Column(nullable = false)\nprivate int dislike;}\n</code></pre>\n<p>I need to know how to make this relationship because I have tried different ways and it does not give me results.</p>\n"},{"tags":["java","compiler-errors","overflow"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1590325843,"post_id":61986441,"comment_id":109632604,"body_markdown":"`2147483648` simply can&#39;t be assigned to an int literal because it&#39;s too big. You can never have an int-valued expression with that value.","body":"<code>2147483648</code> simply can&#39;t be assigned to an int literal because it&#39;s too big. You can never have an int-valued expression with that value."},{"owner":{"account_id":6496259,"reputation":6715,"user_id":5246058,"accept_rate":0,"display_name":"ashish singh"},"score":2,"creation_date":1590325875,"post_id":61986441,"comment_id":109632624,"body_markdown":"if you are getting a compilation error , please mention it, because in this case it itself explains what you are looking for, it will also help other people who are reading the question","body":"if you are getting a compilation error , please mention it, because in this case it itself explains what you are looking for, it will also help other people who are reading the question"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1590927758,"post_id":61986441,"comment_id":109860267,"body_markdown":"You may now think about [accepting an answer](https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work) or comment one to get details ;) to reward those who spent time for you ;)","body":"You may now think about <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">accepting an answer</a> or comment one to get details ;) to reward those who spent time for you ;)"},{"owner":{"account_id":18288813,"reputation":89,"user_id":13316090,"display_name":"user13316090"},"score":0,"creation_date":1591026415,"post_id":61986441,"comment_id":109894081,"body_markdown":"I appreciate for your feedback! I am still learning how things work in this website.","body":"I appreciate for your feedback! I am still learning how things work in this website."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590325898,"creation_date":1590325898,"answer_id":61986480,"question_id":61986441,"body_markdown":"You can get IntegerOverflow while computing values together as your first 3 examples\r\n\r\nThe problem here about `2147483648` is kind of the same but difference, as `Integer.MAX_VALUE` is `2147483647` you cannot store more in an `int` that&#39;s why you get an compilation error  `2147483648` is too big to fit in. Even before runtime you already can&#39;t fit the value in an `int`, which is different of the overflow that occurs at runtime\r\n\r\n","title":"Having trouble understanding Java Overflow and Compile error","body":"<p>You can get IntegerOverflow while computing values together as your first 3 examples</p>\n\n<p>The problem here about <code>2147483648</code> is kind of the same but difference, as <code>Integer.MAX_VALUE</code> is <code>2147483647</code> you cannot store more in an <code>int</code> that's why you get an compilation error  <code>2147483648</code> is too big to fit in. Even before runtime you already can't fit the value in an <code>int</code>, which is different of the overflow that occurs at runtime</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1590326269,"creation_date":1590326057,"answer_id":61986507,"question_id":61986441,"body_markdown":"From the [language spec](https://docs.oracle.com/javase/specs/jls/se14/html/jls-3.html#jls-3.10.1):\n\n&gt; The largest decimal literal of type&#160;int&#160;is 2147483648&#160;(2^31).\n&gt;\n&gt; All decimal literals from&#160;0&#160;to&#160;2147483647&#160;may appear anywhere an&#160;int&#160;literal may appear. The decimal literal&#160;2147483648&#160;may appear only as the operand of the unary minus operator&#160;-&#160;(&#167;15.15.4).\n&gt;\n&gt; It is a compile-time error if the decimal literal&#160;2147483648&#160;appears anywhere other than as the operand of the unary minus operator; or if a decimal literal of type&#160;int&#160;is larger than&#160;2147483648&#160;(2^31).\n\nYou can&#39;t use 2147483648 as an `int` literal because an `int` literal is an `int` expression, and thus must have an `int` value; but 2147483648 is too large to be used as an `int` value.","title":"Having trouble understanding Java Overflow and Compile error","body":"<p>From the <a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-3.html#jls-3.10.1\" rel=\"nofollow noreferrer\">language spec</a>:</p>\n<blockquote>\n<p>The largest decimal literal of type int is 2147483648 (2^31).</p>\n<p>All decimal literals from 0 to 2147483647 may appear anywhere an int literal may appear. The decimal literal 2147483648 may appear only as the operand of the unary minus operator - (§15.15.4).</p>\n<p>It is a compile-time error if the decimal literal 2147483648 appears anywhere other than as the operand of the unary minus operator; or if a decimal literal of type int is larger than 2147483648 (2^31).</p>\n</blockquote>\n<p>You can't use 2147483648 as an <code>int</code> literal because an <code>int</code> literal is an <code>int</code> expression, and thus must have an <code>int</code> value; but 2147483648 is too large to be used as an <code>int</code> value.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590326696,"creation_date":1590326696,"answer_id":61986605,"question_id":61986441,"body_markdown":"&gt; Also, it is hard for me to understand how outputs for the overflow are\r\n&gt; calculated (ex. why int x = 2147483647 + 1 // x ==&gt; -2147483648)\r\n\r\nWhenever you the overflow or underflow happens, the value starts from the other end e.g.\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(Integer.MAX_VALUE);\r\n    \t\tSystem.out.println(Integer.MAX_VALUE + 1);// Will be equal to Integer.MIN_VALUE\r\n    \t\tSystem.out.println(Integer.MIN_VALUE);\r\n    \t\tSystem.out.println(Integer.MIN_VALUE - 1);// Will be equal to Integer.MAX_VALUE\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    2147483647\r\n    -2147483648\r\n    -2147483648\r\n    2147483647\r\n\r\n","title":"Having trouble understanding Java Overflow and Compile error","body":"<blockquote>\n  <p>Also, it is hard for me to understand how outputs for the overflow are\n  calculated (ex. why int x = 2147483647 + 1 // x ==> -2147483648)</p>\n</blockquote>\n\n<p>Whenever you the overflow or underflow happens, the value starts from the other end e.g.</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(Integer.MAX_VALUE);\n        System.out.println(Integer.MAX_VALUE + 1);// Will be equal to Integer.MIN_VALUE\n        System.out.println(Integer.MIN_VALUE);\n        System.out.println(Integer.MIN_VALUE - 1);// Will be equal to Integer.MAX_VALUE\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>2147483647\n-2147483648\n-2147483648\n2147483647\n</code></pre>\n"}],"owner":{"account_id":18288813,"reputation":89,"user_id":13316090,"display_name":"user13316090"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":61986507,"answer_count":3,"score":0,"last_activity_date":1683863913,"creation_date":1590325681,"question_id":61986441,"body_markdown":"I am a Java newbie and studying int overflow!\r\nWhile playing with some integers I was surprised with some weird results\r\n\r\n        int x = 2147483647 + 1;    \r\n        x == &gt; - 2147483648 \r\n\r\n        int x = 2147483647 + 2;\r\n        x ==&gt; -2147483647\r\n        \r\n        int x = 2147483647 + 2147483647;\r\n        x ==&gt; -2\r\n\r\n        int x = 2147483647 + 2147483648; \r\n        **compile error**\r\n\r\nI thought integer overflow would not cause any compile error. Also, it is hard for me to understand how outputs for the overflow are calculated (ex. why int x = 2147483647 + 1 // x ==&gt; -2147483648)\r\nCan anybody please expalin the logic of these results?\r\n\r\nThanks!!","title":"Having trouble understanding Java Overflow and Compile error","body":"<p>I am a Java newbie and studying int overflow!\nWhile playing with some integers I was surprised with some weird results</p>\n<pre><code>    int x = 2147483647 + 1;    \n    x == &gt; - 2147483648 \n\n    int x = 2147483647 + 2;\n    x ==&gt; -2147483647\n    \n    int x = 2147483647 + 2147483647;\n    x ==&gt; -2\n\n    int x = 2147483647 + 2147483648; \n    **compile error**\n</code></pre>\n<p>I thought integer overflow would not cause any compile error. Also, it is hard for me to understand how outputs for the overflow are calculated (ex. why int x = 2147483647 + 1 // x ==&gt; -2147483648)\nCan anybody please expalin the logic of these results?</p>\n<p>Thanks!!</p>\n"},{"tags":["java","json","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683863026,"creation_date":1683862558,"answer_id":76232948,"question_id":76232864,"body_markdown":"You can try generic method instead of generic class and pass the class type as parameter inside the method\r\n\r\nConverter.java\r\n```\r\npublic class Converter {\r\n\tpublic static ObjectMapper objectMapper = new ObjectMapper();\r\n\tpublic static &lt;T&gt; T create(String json, Class&lt;T&gt; classType) throws Exception {\r\n\t\treturn (T) objectMapper.readValue(json, classType);\r\n\t}\r\n}\r\n```\r\n\r\nmain code\r\n```\r\nMyObject obj = Converter.create(&quot;{\\n&quot;\r\n        \t\t\t+ &quot;  \\&quot;childs\\&quot;: [\\n&quot;\r\n        \t\t\t+ &quot;    {\\n&quot;\r\n        \t\t\t+ &quot;      \\&quot;freightLineId\\&quot;: \\&quot;0001\\&quot;,\\n&quot;\r\n        \t\t\t+ &quot;      \\&quot;shipmentId\\&quot;: \\&quot;1000\\&quot;,\\n&quot;\r\n        \t\t\t+ &quot;      \\&quot;shipmentVersionId\\&quot;: \\&quot;1.0\\&quot;\\n&quot;\r\n        \t\t\t+ &quot;    }\\n&quot;\r\n        \t\t\t+ &quot;  ]\\n&quot;\r\n        \t\t\t+ &quot;}&quot;, MyObject.class);\r\n        \t\r\nSystem.out.println(obj.getChilds());\r\n```\r\n\r\nCode for `ApiResponse&lt;T&gt;`\r\n```\r\npublic class Converter {\r\n    public static ObjectMapper objectMapper = new ObjectMapper();\r\n    public static &lt;T&gt; ApiResponse&lt;T&gt; create(String json, Class&lt;T&gt; classType) throws Exception {\r\n\t\tApiResponse&lt;T&gt; res = new ApiResponse&lt;&gt;();\r\n\t\tres.setData((T) objectMapper.readValue(json, classType));\r\n\t\treturn res;\r\n    }\r\n}\r\n```\r\n\r\nmain code\r\n```\r\nApiResponse&lt;MyObject&gt; obj = Converter.create(&quot;{\\n&quot;\r\n        \t\t\t+ &quot;  \\&quot;childs\\&quot;: [\\n&quot;\r\n        \t\t\t+ &quot;    {\\n&quot;\r\n        \t\t\t+ &quot;      \\&quot;freightLineId\\&quot;: \\&quot;0001\\&quot;,\\n&quot;\r\n        \t\t\t+ &quot;      \\&quot;shipmentId\\&quot;: \\&quot;1000\\&quot;,\\n&quot;\r\n        \t\t\t+ &quot;      \\&quot;shipmentVersionId\\&quot;: \\&quot;1.0\\&quot;\\n&quot;\r\n        \t\t\t+ &quot;    }\\n&quot;\r\n        \t\t\t+ &quot;  ]\\n&quot;\r\n        \t\t\t+ &quot;}&quot;, MyObject.class);\r\nSystem.out.println( obj.getData().getChilds() );\r\n```","title":"Java Generics not working with Jackson Serlializer","body":"<p>You can try generic method instead of generic class and pass the class type as parameter inside the method</p>\n<p>Converter.java</p>\n<pre><code>public class Converter {\n    public static ObjectMapper objectMapper = new ObjectMapper();\n    public static &lt;T&gt; T create(String json, Class&lt;T&gt; classType) throws Exception {\n        return (T) objectMapper.readValue(json, classType);\n    }\n}\n</code></pre>\n<p>main code</p>\n<pre><code>MyObject obj = Converter.create(&quot;{\\n&quot;\n                    + &quot;  \\&quot;childs\\&quot;: [\\n&quot;\n                    + &quot;    {\\n&quot;\n                    + &quot;      \\&quot;freightLineId\\&quot;: \\&quot;0001\\&quot;,\\n&quot;\n                    + &quot;      \\&quot;shipmentId\\&quot;: \\&quot;1000\\&quot;,\\n&quot;\n                    + &quot;      \\&quot;shipmentVersionId\\&quot;: \\&quot;1.0\\&quot;\\n&quot;\n                    + &quot;    }\\n&quot;\n                    + &quot;  ]\\n&quot;\n                    + &quot;}&quot;, MyObject.class);\n            \nSystem.out.println(obj.getChilds());\n</code></pre>\n<p>Code for <code>ApiResponse&lt;T&gt;</code></p>\n<pre><code>public class Converter {\n    public static ObjectMapper objectMapper = new ObjectMapper();\n    public static &lt;T&gt; ApiResponse&lt;T&gt; create(String json, Class&lt;T&gt; classType) throws Exception {\n        ApiResponse&lt;T&gt; res = new ApiResponse&lt;&gt;();\n        res.setData((T) objectMapper.readValue(json, classType));\n        return res;\n    }\n}\n</code></pre>\n<p>main code</p>\n<pre><code>ApiResponse&lt;MyObject&gt; obj = Converter.create(&quot;{\\n&quot;\n                    + &quot;  \\&quot;childs\\&quot;: [\\n&quot;\n                    + &quot;    {\\n&quot;\n                    + &quot;      \\&quot;freightLineId\\&quot;: \\&quot;0001\\&quot;,\\n&quot;\n                    + &quot;      \\&quot;shipmentId\\&quot;: \\&quot;1000\\&quot;,\\n&quot;\n                    + &quot;      \\&quot;shipmentVersionId\\&quot;: \\&quot;1.0\\&quot;\\n&quot;\n                    + &quot;    }\\n&quot;\n                    + &quot;  ]\\n&quot;\n                    + &quot;}&quot;, MyObject.class);\nSystem.out.println( obj.getData().getChilds() );\n</code></pre>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76232948,"answer_count":1,"score":1,"last_activity_date":1683863026,"creation_date":1683860643,"question_id":76232864,"body_markdown":"I have a class representing a generic API response:\r\n```\r\n@Setter\r\n@Getter\r\npublic final class ApiResponse&lt;T&gt; {\r\n    private T data;\r\n}\r\n\r\n```\r\n\r\nI set the `data` with the help of Jackson like below:\r\n```\r\nclass Converter&lt;T&gt; {\r\n  ApiResponse&lt;T&gt; create(){\r\n     // some REST calls and form httpResponse before this step\r\n     ApiResponse&lt;T&gt; apiResponse = new ApiResponse();\r\n     T data = objectMapper\r\n         .readValue(httpResponse.body(), new TypeReference&lt;&gt;() {});\r\n     apiResponse.setData(data);\r\n     return apiResponse;\r\n  }\r\n}\r\n```\r\n\r\nThen I tried to use it with a custom object, as shown below:\r\n```\r\nConverter&lt;MyObject&gt; converter = new Converter&lt;&gt;();\r\nApiResponse&lt;MyObject&gt; apiResponse = converter.create();\r\n\r\n```\r\n\r\nBut I observe that `apiResponse.getData()` always return `LinkedHashMap` instead of `Myobject` type. \r\n\r\nHere is `MyObject` class:\r\n```\r\n@Getter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic final class MyObject {\r\n  @JsonProperty(&quot;childs&quot;)\r\n  private ChildObject[] childs;\r\n}\r\n\r\n```\r\n\r\nWhat am I doing wrong here? \r\n\r\n\r\nhere is the http response body for reference:\r\n```\r\n{\r\n  &quot;childs&quot;: [\r\n    {\r\n      &quot;freightLineId&quot;: &quot;&quot;,\r\n      &quot;shipmentId&quot;: &quot;&quot;,\r\n      &quot;shipmentVersionId&quot;: &quot;&quot;\r\n    }\r\n  ]\r\n}\r\n```","title":"Java Generics not working with Jackson Serlializer","body":"<p>I have a class representing a generic API response:</p>\n<pre><code>@Setter\n@Getter\npublic final class ApiResponse&lt;T&gt; {\n    private T data;\n}\n\n</code></pre>\n<p>I set the <code>data</code> with the help of Jackson like below:</p>\n<pre><code>class Converter&lt;T&gt; {\n  ApiResponse&lt;T&gt; create(){\n     // some REST calls and form httpResponse before this step\n     ApiResponse&lt;T&gt; apiResponse = new ApiResponse();\n     T data = objectMapper\n         .readValue(httpResponse.body(), new TypeReference&lt;&gt;() {});\n     apiResponse.setData(data);\n     return apiResponse;\n  }\n}\n</code></pre>\n<p>Then I tried to use it with a custom object, as shown below:</p>\n<pre><code>Converter&lt;MyObject&gt; converter = new Converter&lt;&gt;();\nApiResponse&lt;MyObject&gt; apiResponse = converter.create();\n\n</code></pre>\n<p>But I observe that <code>apiResponse.getData()</code> always return <code>LinkedHashMap</code> instead of <code>Myobject</code> type.</p>\n<p>Here is <code>MyObject</code> class:</p>\n<pre><code>@Getter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic final class MyObject {\n  @JsonProperty(&quot;childs&quot;)\n  private ChildObject[] childs;\n}\n\n</code></pre>\n<p>What am I doing wrong here?</p>\n<p>here is the http response body for reference:</p>\n<pre><code>{\n  &quot;childs&quot;: [\n    {\n      &quot;freightLineId&quot;: &quot;&quot;,\n      &quot;shipmentId&quot;: &quot;&quot;,\n      &quot;shipmentVersionId&quot;: &quot;&quot;\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","jenkins","amazon-ec2","java-11"],"answers":[{"tags":[],"owner":{"account_id":17302009,"reputation":115,"user_id":12531578,"display_name":"DanTe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667750974,"creation_date":1667750974,"answer_id":74337558,"question_id":74333260,"body_markdown":"Look like the location you are specifying doesn&#39;t have `javac`.\r\nto make sure try to check if `javac` exist or not by running:  \r\n`ls /usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64/bin/javac`  \r\n\r\nif it does not exist then try to download fresh JDK and set JAVA_HOME point to there.\r\n\r\n","title":"/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory","body":"<p>Look like the location you are specifying doesn't have <code>javac</code>.\nto make sure try to check if <code>javac</code> exist or not by running:<br />\n<code>ls /usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64/bin/javac</code></p>\n<p>if it does not exist then try to download fresh JDK and set JAVA_HOME point to there.</p>\n"},{"tags":[],"owner":{"account_id":12960987,"reputation":109,"user_id":9370246,"display_name":"folaRin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683862912,"creation_date":1683862912,"answer_id":76232966,"question_id":74333260,"body_markdown":"Error Message:\r\n - /usr/lib/jvm/java-11-openjdk-11.0.18.0.10-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory\r\n\r\nLikely Cause:\r\n - you probably didn&#39;t install the java devel package that will generate the javac version needed for jenkins to accept the provided path as a recognisable one.\r\n\r\nSolution:\r\n- run: yum reinstall java-11-openjdk-devel\r\n- to confirm installation, run: rpm -q1 java-11-openjdk-devel | grep bin/javac\r\n- restart jenkins by running: systemctl restart jenkins","title":"/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory","body":"<p>Error Message:</p>\n<ul>\n<li>/usr/lib/jvm/java-11-openjdk-11.0.18.0.10-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory</li>\n</ul>\n<p>Likely Cause:</p>\n<ul>\n<li>you probably didn't install the java devel package that will generate the javac version needed for jenkins to accept the provided path as a recognisable one.</li>\n</ul>\n<p>Solution:</p>\n<ul>\n<li>run: yum reinstall java-11-openjdk-devel</li>\n<li>to confirm installation, run: rpm -q1 java-11-openjdk-devel | grep bin/javac</li>\n<li>restart jenkins by running: systemctl restart jenkins</li>\n</ul>\n"}],"owner":{"account_id":292663,"reputation":613,"user_id":595553,"display_name":"Satyam Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683862912,"creation_date":1667707930,"question_id":74333260,"body_markdown":"I am trying to install java 11 on an amazon ec2 instance Linux , I followed the below steps:\r\n\r\n====OS details=====\r\n```\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# cat /etc/os-release\r\nNAME=&quot;Amazon Linux&quot;\r\nVERSION=&quot;2&quot;\r\nID=&quot;amzn&quot;\r\nID_LIKE=&quot;centos rhel fedora&quot;\r\nVERSION_ID=&quot;2&quot;\r\nPRETTY_NAME=&quot;Amazon Linux 2&quot;\r\nANSI_COLOR=&quot;0;33&quot;\r\nCPE_NAME=&quot;cpe:2.3:o:amazon:amazon_linux:2&quot;\r\nHOME_URL=&quot;https://amazonlinux.com/&quot;\r\n```\r\n\r\n\r\n\r\n```\r\n===Install Java=====\r\nsudo amazon-linux-extras\r\nsudo amazon-linux-extras install java-openjdk11 -y\r\njava --version\r\nsudo su -\r\necho &quot;export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64&quot; &gt;&gt; .bash_profile\r\necho &quot;export PATH=$PATH:/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64/bin&quot; &gt;&gt; .bash_profile \r\nsource ~/.bash_profile\r\necho $JAVA_HOME\r\njava --version\r\n```\r\ninstallation result: java is successfully installed and even path is also set\r\n\r\n```\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# cat ~/.bash_profile\r\n# .bash_profile\r\n\r\n# Get the aliases and functions\r\nif [ -f ~/.bashrc ]; then\r\n        . ~/.bashrc\r\nfi\r\n\r\n# User-specific environment and startup programs\r\n\r\nPATH=$PATH:$HOME/bin\r\n\r\nexport PATH\r\nexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\r\nexport PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin:/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64/bin\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]#\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]#\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# echo $JAVA_HOME\r\n/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# rpm -qa | grep jdk\r\njava-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\r\ncopy-jdk-configs-3.3-10.amzn2.noarch\r\njava-11-openjdk-headless-11.0.16.0.8-1.amzn2.0.1.x86_64\r\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]#\r\n\r\n```\r\n\r\nWhen I am adding a java path in Jenkins global tool Configuration getting the below error\r\n&quot;/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory\r\n&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AV8dA.png","title":"/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory","body":"<p>I am trying to install java 11 on an amazon ec2 instance Linux , I followed the below steps:</p>\n<p>====OS details=====</p>\n<pre><code>[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# cat /etc/os-release\nNAME=&quot;Amazon Linux&quot;\nVERSION=&quot;2&quot;\nID=&quot;amzn&quot;\nID_LIKE=&quot;centos rhel fedora&quot;\nVERSION_ID=&quot;2&quot;\nPRETTY_NAME=&quot;Amazon Linux 2&quot;\nANSI_COLOR=&quot;0;33&quot;\nCPE_NAME=&quot;cpe:2.3:o:amazon:amazon_linux:2&quot;\nHOME_URL=&quot;https://amazonlinux.com/&quot;\n</code></pre>\n<pre><code>===Install Java=====\nsudo amazon-linux-extras\nsudo amazon-linux-extras install java-openjdk11 -y\njava --version\nsudo su -\necho &quot;export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64&quot; &gt;&gt; .bash_profile\necho &quot;export PATH=$PATH:/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64/bin&quot; &gt;&gt; .bash_profile \nsource ~/.bash_profile\necho $JAVA_HOME\njava --version\n</code></pre>\n<p>installation result: java is successfully installed and even path is also set</p>\n<pre><code>[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# cat ~/.bash_profile\n# .bash_profile\n\n# Get the aliases and functions\nif [ -f ~/.bashrc ]; then\n        . ~/.bashrc\nfi\n\n# User-specific environment and startup programs\n\nPATH=$PATH:$HOME/bin\n\nexport PATH\nexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\nexport PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin:/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64/bin\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]#\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]#\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# echo $JAVA_HOME\n/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]# rpm -qa | grep jdk\njava-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\ncopy-jdk-configs-3.3-10.amzn2.noarch\njava-11-openjdk-headless-11.0.16.0.8-1.amzn2.0.1.x86_64\n[root@ip-172-31-44-83 java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64]#\n\n</code></pre>\n<p>When I am adding a java path in Jenkins global tool Configuration getting the below error\n&quot;/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64 doesn’t look like a JDK directory\n&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/AV8dA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AV8dA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","sql","database-connection","derby"],"answers":[{"tags":[],"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1370702631,"creation_date":1370702631,"answer_id":17000633,"question_id":16997497,"body_markdown":"I don&#39;t see Derby listed as a supported database at http://www.awake-sql.org/","title":"Android app connectivity to remote database in Derby","body":"<p>I don't see Derby listed as a supported database at <a href=\"http://www.awake-sql.org/\" rel=\"nofollow\">http://www.awake-sql.org/</a></p>\n"},{"tags":[],"owner":{"account_id":26268471,"reputation":1,"user_id":19938687,"display_name":"dfsfds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683862087,"creation_date":1683861983,"answer_id":76232925,"question_id":16997497,"body_markdown":"//Pre-driver\r\n\r\n    static {\r\n        try {\r\n            DriverManager.registerDriver(new org.apache.derby.jdbc.ClientDriver());\r\n        } catch (SQLException throwables) {\r\n            throwables.printStackTrace();\r\n        }\r\n    }","title":"Android app connectivity to remote database in Derby","body":"<p>//Pre-driver</p>\n<pre><code>static {\n    try {\n        DriverManager.registerDriver(new org.apache.derby.jdbc.ClientDriver());\n    } catch (SQLException throwables) {\n        throwables.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1867252,"reputation":1795,"user_id":1690481,"accept_rate":93,"display_name":"Nitesh Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17000633,"answer_count":2,"score":0,"last_activity_date":1683862087,"creation_date":1370679163,"question_id":16997497,"body_markdown":"I am trying to connect an android app to a derby database on a pc to get data form that. For this i googled a database specially for this purpose i.e. [Awake SQL][1]. I tried the following code for the connection to the derby database. The code is of a function which is called on the button click of the android app.\r\n\r\n    public void getData(View view)\r\n\t{\r\n\t\tnew Thread()\r\n\t\t{\r\n\t\t\tpublic void run()\r\n\t\t\t{\r\n\t\t\t\tString url = &quot;jdbc:derby://localhost:1527&quot;; \r\n\t\t\t\t  \r\n\t\t        String username = &quot;user&quot;; \r\n\t\t        char [] password = {&#39;p&#39;, &#39;a&#39;, &#39;s&#39;, &#39;s&#39;, &#39;w&#39;, &#39;o&#39;, &#39;r&#39;, &#39;d&#39;, &#39;1&#39;};\r\n\t\t        \r\n\t\t        \r\n\t\t        try\r\n\t\t        {\r\n\t\t        Connection connection  \r\n\t\t        = new AwakeConnection(url, username, password); \r\n\t\t        \r\n\t\t        }\r\n\t\t        catch(Exception e)\r\n\t\t        {\r\n\t\t        \tSystem.out.println(e);\r\n\t\t        }\r\n\t\t\t}\r\n\t\t}.start();\r\n\t\t\r\n\t}\r\n\r\nActually this code was given in the user guide of Awake SQL.\r\nWhen i run the above code i get the debugging mode of the eclipse. I cant get any error in the console. I am not sure if i am doing it right or not. I am still unable to connect the database for the android app.\r\n\r\n  [1]: http://www.awake-sql.org","title":"Android app connectivity to remote database in Derby","body":"<p>I am trying to connect an android app to a derby database on a pc to get data form that. For this i googled a database specially for this purpose i.e. <a href=\"http://www.awake-sql.org\" rel=\"nofollow\">Awake SQL</a>. I tried the following code for the connection to the derby database. The code is of a function which is called on the button click of the android app.</p>\n\n<pre><code>public void getData(View view)\n{\n    new Thread()\n    {\n        public void run()\n        {\n            String url = \"jdbc:derby://localhost:1527\"; \n\n            String username = \"user\"; \n            char [] password = {'p', 'a', 's', 's', 'w', 'o', 'r', 'd', '1'};\n\n\n            try\n            {\n            Connection connection  \n            = new AwakeConnection(url, username, password); \n\n            }\n            catch(Exception e)\n            {\n                System.out.println(e);\n            }\n        }\n    }.start();\n\n}\n</code></pre>\n\n<p>Actually this code was given in the user guide of Awake SQL.\nWhen i run the above code i get the debugging mode of the eclipse. I cant get any error in the console. I am not sure if i am doing it right or not. I am still unable to connect the database for the android app.</p>\n"},{"tags":["java","regex","split","java-stream"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":5,"creation_date":1480683735,"post_id":40932813,"comment_id":69076609,"body_markdown":"Do you think that there is so much difference that it makes sense to spend time wondering about the &quot;best&quot; way, or have you identified this as a performance hotspot in your program making it at least somewhat justified to try to find the &quot;best&quot; way?","body":"Do you think that there is so much difference that it makes sense to spend time wondering about the &quot;best&quot; way, or have you identified this as a performance hotspot in your program making it at least somewhat justified to try to find the &quot;best&quot; way?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":6,"creation_date":1480683885,"post_id":40932813,"comment_id":69076699,"body_markdown":"Note that `Stream.of()` will call `Arrays.stream()` internally, so clearly that&#39;s not the &quot;best&quot;.","body":"Note that <code>Stream.of()</code> will call <code>Arrays.stream()</code> internally, so clearly that&#39;s not the &quot;best&quot;."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":2,"creation_date":1480683924,"post_id":40932813,"comment_id":69076725,"body_markdown":"IMHO, the last one is best. No nested parens, clear that it&#39;s about regex, and it does not create an intermediate list or array of all segments. But that&#39;s just my opinion.","body":"IMHO, the last one is best. No nested parens, clear that it&#39;s about regex, and it does not create an intermediate list or array of all segments. But that&#39;s just my opinion."},{"owner":{"account_id":119168,"reputation":24851,"user_id":310678,"accept_rate":77,"display_name":"Tegra Detra"},"score":2,"creation_date":1534894187,"post_id":40932813,"comment_id":90866402,"body_markdown":"I don`t think we can particularly judge his reasoning for wanting to know this information.  Though best is an opinion do you mean fastest ?","body":"I don`t think we can particularly judge his reasoning for wanting to know this information.  Though best is an opinion do you mean fastest ?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1534894346,"post_id":40932813,"comment_id":90866441,"body_markdown":"@Prospero OP clearly spelled out what he&#39;s looking for: robustness, readability, and performance.","body":"@Prospero OP clearly spelled out what he&#39;s looking for: robustness, readability, and performance."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1571532302,"post_id":40932813,"comment_id":103272520,"body_markdown":"@shmosel Many times, readability and performance conflict each other. Although this question has been &quot;answered&quot; (not really - answer just exposes research the OP should have done themself), can&#39;t blame others for questioning his actual problem. EDIT: Just realized how old the comment was. Sorry for the tag notification.","body":"@shmosel Many times, readability and performance conflict each other. Although this question has been &quot;answered&quot; (not really - answer just exposes research the OP should have done themself), can&#39;t blame others for questioning his actual problem. EDIT: Just realized how old the comment was. Sorry for the tag notification."}],"answers":[{"tags":[],"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683862013,"creation_date":1480684080,"answer_id":40932989,"question_id":40932813,"body_markdown":"Regarding (1) and (2) there shouldn&#39;t be much difference, as your code is almost the same.   \r\nRegarding (3), that would be much more effective in terms of memory (not necessarily CPU), but in my opinion, a bit harder to read.","title":"How to split a String into a Stream of Strings?","body":"<p>Regarding (1) and (2) there shouldn't be much difference, as your code is almost the same.<br />\nRegarding (3), that would be much more effective in terms of memory (not necessarily CPU), but in my opinion, a bit harder to read.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":130,"is_accepted":true,"score":130,"last_activity_date":1590394333,"creation_date":1480684118,"answer_id":40933002,"question_id":40932813,"body_markdown":"### `Arrays.stream`/`String.split`\r\n\r\nSince [`String.split`][1] returns an array `String[]`, I always recommend `Arrays.stream` as the canonical idiom for streaming over an array.\r\n\r\n    String input = &quot;dog,cat,bird&quot;;\r\n    Stream&lt;String&gt; stream = Arrays.stream(input.split( &quot;,&quot; ));\r\n    stream.forEach(System.out::println);\r\n\r\n### `Stream.of`/`String.split`\r\n\r\n[`Stream.of`][2] is a *varargs* method which just happens to accept an array, due to the fact that varargs methods are implemented via arrays and there were compatibility concerns when varargs were introduced to Java and existing methods retrofitted to accept variable arguments.\r\n\r\n    Stream&lt;String&gt; stream = Stream.of(input.split(&quot;,&quot;));     // works, but is non-idiomatic\r\n    Stream&lt;String&gt; stream = Stream.of(&quot;dog&quot;, &quot;cat&quot;, &quot;bird&quot;); // intended use case\r\n\r\n### `Pattern.splitAsStream`\r\n\r\n[`Pattern.compile(&quot;,&quot;).splitAsStream(string)`][3] has the advantage of streaming directly rather than creating an intermediate array. So for a large number of sub-strings, this can have a performance benefit. On the other hand, if the delimiter is trivial, i.e. a single literal character, the `String.split` implementation will go through a fast path instead of using the regex engine. So in this case, the answer is not trivial.\r\n\r\n    Stream&lt;String&gt; stream = Pattern.compile(&quot;,&quot;).splitAsStream(input);\r\n\r\nIf the streaming happens inside another stream, e.g. `.flatMap(Pattern.compile(pattern) ::splitAsStream)` there is the advantage that the pattern has to be analyzed only once, rather than for every string of the outer stream.\r\n\r\n    Stream&lt;String&gt; stream = Stream.of(&quot;a,b&quot;, &quot;c,d,e&quot;, &quot;f&quot;, &quot;g,h,i,j&quot;)\r\n        .flatMap(Pattern.compile(&quot;,&quot;)::splitAsStream);\r\n\r\nThis is a property of method references of the form `expression::name`, which will evaluate the expression and capture the result when creating the instance of the functional interface, as explained in https://stackoverflow.com/q/28023364/2711488 and https://stackoverflow.com/q/37413106/2711488\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#split(java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#of(T...)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)","title":"How to split a String into a Stream of Strings?","body":"<h3><code>Arrays.stream</code>/<code>String.split</code></h3>\n\n<p>Since <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"noreferrer\"><code>String.split</code></a> returns an array <code>String[]</code>, I always recommend <code>Arrays.stream</code> as the canonical idiom for streaming over an array.</p>\n\n<pre><code>String input = \"dog,cat,bird\";\nStream&lt;String&gt; stream = Arrays.stream(input.split( \",\" ));\nstream.forEach(System.out::println);\n</code></pre>\n\n<h3><code>Stream.of</code>/<code>String.split</code></h3>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#of(T...)\" rel=\"noreferrer\"><code>Stream.of</code></a> is a <em>varargs</em> method which just happens to accept an array, due to the fact that varargs methods are implemented via arrays and there were compatibility concerns when varargs were introduced to Java and existing methods retrofitted to accept variable arguments.</p>\n\n<pre><code>Stream&lt;String&gt; stream = Stream.of(input.split(\",\"));     // works, but is non-idiomatic\nStream&lt;String&gt; stream = Stream.of(\"dog\", \"cat\", \"bird\"); // intended use case\n</code></pre>\n\n<h3><code>Pattern.splitAsStream</code></h3>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\" rel=\"noreferrer\"><code>Pattern.compile(\",\").splitAsStream(string)</code></a> has the advantage of streaming directly rather than creating an intermediate array. So for a large number of sub-strings, this can have a performance benefit. On the other hand, if the delimiter is trivial, i.e. a single literal character, the <code>String.split</code> implementation will go through a fast path instead of using the regex engine. So in this case, the answer is not trivial.</p>\n\n<pre><code>Stream&lt;String&gt; stream = Pattern.compile(\",\").splitAsStream(input);\n</code></pre>\n\n<p>If the streaming happens inside another stream, e.g. <code>.flatMap(Pattern.compile(pattern) ::splitAsStream)</code> there is the advantage that the pattern has to be analyzed only once, rather than for every string of the outer stream.</p>\n\n<pre><code>Stream&lt;String&gt; stream = Stream.of(\"a,b\", \"c,d,e\", \"f\", \"g,h,i,j\")\n    .flatMap(Pattern.compile(\",\")::splitAsStream);\n</code></pre>\n\n<p>This is a property of method references of the form <code>expression::name</code>, which will evaluate the expression and capture the result when creating the instance of the functional interface, as explained in <a href=\"https://stackoverflow.com/q/28023364/2711488\">What is the equivalent lambda expression for System.out::println</a> and <a href=\"https://stackoverflow.com/q/37413106/2711488\">java.lang.NullPointerException is thrown using a method-reference but not a lambda expression</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571538929,"creation_date":1571538531,"answer_id":58469568,"question_id":40932813,"body_markdown":"&gt; Robustness\r\n\r\nI can see no difference in the robustness of the three approaches.\r\n\r\n&gt; Readability\r\n\r\nI am not aware of any credible scientific studies on code readability involving experienced Java programmers, so readability is a matter of opinion.  Even then, you never know if someone giving their opinion is making an objective distinction between actual readability, what they have been taught about readability, and their own personal taste.\r\n\r\nSo I will leave it to you to make your own judgements on readability ... noting that you do consider this to be a high priority.\r\n\r\nFWIW, the only people whose opinions on this matter are you and your team.\r\n\r\n&gt; Performance\r\n\r\nI think that the answer to that is to carefully benchmark the three alternatives.  Holger provides an analysis based on his study of some versions of Java.  But:\r\n\r\n  1.  He was not able to come to a definite conclusion on which was fastest.\r\n  2.  Strictly speaking, his analysis only applies to the versions of Java he looked at.  (Some aspects of his analysis *could* be different on (say) Android Java, or some future Oracle / OpenJDK version.)\r\n  3.  The relative performance is likely depend on the length of the string being split, the number of fields, and the complexity of the separator regex.\r\n  4.  In a real application, the relative performance may also depend what you do with the `Stream` object, what garbage collector you have selected (since the different versions apparently generate different amounts of garbage), and other issues.\r\n\r\nSo if you (or anyone else) are really concerned with the performance, you should write a micro-benchmark and run it on your production platform(s).  Then do some application specific benchmarking.  And you should consider looking at solutions that don&#39;t involve streams.\r\n","title":"How to split a String into a Stream of Strings?","body":"<blockquote>\n  <p>Robustness</p>\n</blockquote>\n\n<p>I can see no difference in the robustness of the three approaches.</p>\n\n<blockquote>\n  <p>Readability</p>\n</blockquote>\n\n<p>I am not aware of any credible scientific studies on code readability involving experienced Java programmers, so readability is a matter of opinion.  Even then, you never know if someone giving their opinion is making an objective distinction between actual readability, what they have been taught about readability, and their own personal taste.</p>\n\n<p>So I will leave it to you to make your own judgements on readability ... noting that you do consider this to be a high priority.</p>\n\n<p>FWIW, the only people whose opinions on this matter are you and your team.</p>\n\n<blockquote>\n  <p>Performance</p>\n</blockquote>\n\n<p>I think that the answer to that is to carefully benchmark the three alternatives.  Holger provides an analysis based on his study of some versions of Java.  But:</p>\n\n<ol>\n<li>He was not able to come to a definite conclusion on which was fastest.</li>\n<li>Strictly speaking, his analysis only applies to the versions of Java he looked at.  (Some aspects of his analysis <em>could</em> be different on (say) Android Java, or some future Oracle / OpenJDK version.)</li>\n<li>The relative performance is likely depend on the length of the string being split, the number of fields, and the complexity of the separator regex.</li>\n<li>In a real application, the relative performance may also depend what you do with the <code>Stream</code> object, what garbage collector you have selected (since the different versions apparently generate different amounts of garbage), and other issues.</li>\n</ol>\n\n<p>So if you (or anyone else) are really concerned with the performance, you should write a micro-benchmark and run it on your production platform(s).  Then do some application specific benchmarking.  And you should consider looking at solutions that don't involve streams.</p>\n"}],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92891,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"accepted_answer_id":40933002,"answer_count":3,"score":91,"last_activity_date":1683862013,"creation_date":1480683511,"question_id":40932813,"body_markdown":"What is the **best** method of splitting a String into a Stream?\r\n\r\nI saw these variations:\r\n\r\n 1. `Arrays.stream(&quot;b,l,a&quot;.split(&quot;,&quot;))`\r\n 2. `Stream.of(&quot;b,l,a&quot;.split(&quot;,&quot;))`\r\n 3. `Pattern.compile(&quot;,&quot;).splitAsStream(&quot;b,l,a&quot;)`\r\n\r\nMy priorities are:\r\n\r\n* Robustness\r\n* Readability\r\n* Performance\r\n\r\nA complete, compilable [example][1]:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.regex.Pattern;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class HelloWorld {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tstream1().forEach(System.out::println);\r\n    \t\tstream2().forEach(System.out::println);\r\n    \t\tstream3().forEach(System.out::println);\r\n    \t}\r\n    \r\n    \tprivate static Stream&lt;String&gt; stream1() {\r\n    \t\treturn Arrays.stream(&quot;b,l,a&quot;.split(&quot;,&quot;));\r\n    \t}\r\n    \r\n    \tprivate static Stream&lt;String&gt; stream2() {\r\n    \t\treturn Stream.of(&quot;b,l,a&quot;.split(&quot;,&quot;));\r\n    \t}\r\n    \r\n    \tprivate static Stream&lt;String&gt; stream3() {\r\n    \t\treturn Pattern.compile(&quot;,&quot;).splitAsStream(&quot;b,l,a&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/compile_java8_online.php?PID=0Bw_CjBb95KQMYnF0LVNvSnJrUnM","title":"How to split a String into a Stream of Strings?","body":"<p>What is the <strong>best</strong> method of splitting a String into a Stream?</p>\n\n<p>I saw these variations:</p>\n\n<ol>\n<li><code>Arrays.stream(\"b,l,a\".split(\",\"))</code></li>\n<li><code>Stream.of(\"b,l,a\".split(\",\"))</code></li>\n<li><code>Pattern.compile(\",\").splitAsStream(\"b,l,a\")</code></li>\n</ol>\n\n<p>My priorities are:</p>\n\n<ul>\n<li>Robustness</li>\n<li>Readability</li>\n<li>Performance</li>\n</ul>\n\n<p>A complete, compilable <a href=\"http://www.tutorialspoint.com/compile_java8_online.php?PID=0Bw_CjBb95KQMYnF0LVNvSnJrUnM\" rel=\"noreferrer\">example</a>:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.regex.Pattern;\nimport java.util.stream.Stream;\n\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n        stream1().forEach(System.out::println);\n        stream2().forEach(System.out::println);\n        stream3().forEach(System.out::println);\n    }\n\n    private static Stream&lt;String&gt; stream1() {\n        return Arrays.stream(\"b,l,a\".split(\",\"));\n    }\n\n    private static Stream&lt;String&gt; stream2() {\n        return Stream.of(\"b,l,a\".split(\",\"));\n    }\n\n    private static Stream&lt;String&gt; stream3() {\n        return Pattern.compile(\",\").splitAsStream(\"b,l,a\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swagger","openapi","jackson-databind","openapi-generator"],"comments":[{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1677856741,"post_id":75616123,"comment_id":133425415,"body_markdown":"Are you using CLI, maven plugin, or gradle plugin?  Also, which java library are you specifying?  Not every generator generates code the same way.  It&#39;s important to know which generator (Obviously `Java`) you are using as well as which library (&#39;okHttp&#39;?) you are using.  Also, which version of the generator are you using?  I ran the spring generator on 6.4.0 with your example and got completely different classes then you.  Please provide this information so I can help.  Finally, `anyOf` does not generate an Interface, `allOf` does.  Please provide the correct schema or generated classes.","body":"Are you using CLI, maven plugin, or gradle plugin?  Also, which java library are you specifying?  Not every generator generates code the same way.  It&#39;s important to know which generator (Obviously <code>Java</code>) you are using as well as which library (&#39;okHttp&#39;?) you are using.  Also, which version of the generator are you using?  I ran the spring generator on 6.4.0 with your example and got completely different classes then you.  Please provide this information so I can help.  Finally, <code>anyOf</code> does not generate an Interface, <code>allOf</code> does.  Please provide the correct schema or generated classes."}],"answers":[{"tags":[],"owner":{"account_id":23546183,"reputation":1,"user_id":17664860,"display_name":"Tommy Tăng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683861748,"creation_date":1683861748,"answer_id":76232913,"question_id":75616123,"body_markdown":"Have you try add the &#39;type&#39; property into the payload? \r\n&#39;type&#39; should be one of your sub-class name\r\n\r\nex: &quot;type&quot;: &quot;TranslationInference&quot;\r\n\r\nfor me, it works","title":"Unable to resolve subtype with InvalidTypeIdException while reading classes generated from swagger in Java","body":"<p>Have you try add the 'type' property into the payload?\n'type' should be one of your sub-class name</p>\n<p>ex: &quot;type&quot;: &quot;TranslationInference&quot;</p>\n<p>for me, it works</p>\n"}],"owner":{"account_id":6665323,"reputation":29,"user_id":5143125,"accept_rate":0,"display_name":"Rathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683861748,"creation_date":1677763923,"question_id":75616123,"body_markdown":"Below is the openapi code using which classes are generated:\r\n\r\n    \r\n    PipelineTask:\r\n      anyOf:\r\n        - $ref: &#39;#/components/schemas/TranslationTask&#39;\r\n        - $ref: &#39;#/components/schemas/ASRTask&#39;\r\n        - $ref: &#39;#/components/schemas/TTSTask&#39;\r\n      discriminator:\r\n        propertyName: taskType\r\n        mapping:\r\n          translation: &#39;#/components/schemas/TranslationTask&#39;\r\n          asr: &#39;#/components/schemas/ASRTask&#39;\r\n          tts: &#39;#/components/schemas/TTSTask&#39;\r\n          \r\n    PipelineTasks:\r\n      type: array\r\n      items:\r\n        $ref: &#39;#/components/schemas/PipelineTask&#39;\r\n        \r\n    TranslationTask:\r\n      required:\r\n        - taskType\r\n      type: object\r\n      properties:\r\n        taskType:\r\n          $ref: #/components/schemas/SupportedTasks\r\n\r\n    SupportedTasks:\r\n      type: string\r\n      enum:\r\n        - translation\r\n        - transliteration\r\n        - tts\r\n        - asr\r\n        - document-layout\r\n        - ocr\r\n        - glossary\r\n        - ner\r\n        - txt-lang-detection\r\n        - audio-lang-detection\r\n      description: the category of model under which it has been released or trained\r\n\r\n\r\nBelow are the classes generated by the same:\r\nPipelineTask:\r\n\r\n    package io.swagger.pipelinerequest;\r\n    import com.fasterxml.jackson.annotation.JsonSubTypes;\r\n    import com.fasterxml.jackson.annotation.JsonTypeInfo;\r\n    /**\r\n    * PipelineTask\r\n    */\r\n    @JsonTypeInfo(\r\n      use = JsonTypeInfo.Id.NAME,\r\n      include = JsonTypeInfo.As.PROPERTY,\r\n      property = &quot;taskType&quot;)\r\n    @JsonSubTypes({\r\n      @JsonSubTypes.Type(value = TranslationTask.class, name = &quot;translation&quot;),\r\n      @JsonSubTypes.Type(value = ASRTask.class, name = &quot;asr&quot;),\r\n      @JsonSubTypes.Type(value = TTSTask.class, name = &quot;tts&quot;)\r\n    })\r\n    public interface PipelineTask {\r\n    \r\n        SupportedTasks getTaskType();\r\n    }\r\n\r\nTranslationTask: \r\n\r\n\r\n    package io.swagger.model;\r\n    \r\n    import java.util.Objects;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import io.swagger.model.SupportedTasks;\r\n    import io.swagger.model.TranslationRequest;\r\n    import io.swagger.model.TranslationResponse;\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n    import org.springframework.validation.annotation.Validated;\r\n    import javax.validation.Valid;\r\n    import javax.validation.constraints.*;\r\n    \r\n    /**\r\n     * TranslationInference\r\n     */\r\n    @Validated\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.SpringCodegen&quot;, date = &quot;2023-03-02T03:55:25.562740452Z[GMT]&quot;)\r\n    \r\n    \r\n    public class TranslationInference  implements OneOfInferenceAPIEndPointSchema {\r\n      @JsonProperty(&quot;taskType&quot;)\r\n      private SupportedTasks taskType = null;\r\n    \r\n      @JsonProperty(&quot;request&quot;)\r\n      private TranslationRequest request = null;\r\n    \r\n      @JsonProperty(&quot;response&quot;)\r\n      private TranslationResponse response = null;\r\n    \r\n      public TranslationInference taskType(SupportedTasks taskType) {\r\n        this.taskType = taskType;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get taskType\r\n       * @return taskType\r\n       **/\r\n      @Schema(required = true, description = &quot;&quot;)\r\n          @NotNull\r\n    \r\n        @Valid\r\n        public SupportedTasks getTaskType() {\r\n        return taskType;\r\n      }\r\n    \r\n      public void setTaskType(SupportedTasks taskType) {\r\n        this.taskType = taskType;\r\n      }\r\n    \r\n      public TranslationInference request(TranslationRequest request) {\r\n        this.request = request;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get request\r\n       * @return request\r\n       **/\r\n      @Schema(required = true, description = &quot;&quot;)\r\n          @NotNull\r\n    \r\n        @Valid\r\n        public TranslationRequest getRequest() {\r\n        return request;\r\n      }\r\n    \r\n      public void setRequest(TranslationRequest request) {\r\n        this.request = request;\r\n      }\r\n    \r\n      public TranslationInference response(TranslationResponse response) {\r\n        this.response = response;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get response\r\n       * @return response\r\n       **/\r\n      @Schema(description = &quot;&quot;)\r\n      \r\n        @Valid\r\n        public TranslationResponse getResponse() {\r\n        return response;\r\n      }\r\n    \r\n      public void setResponse(TranslationResponse response) {\r\n        this.response = response;\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public boolean equals(java.lang.Object o) {\r\n        if (this == o) {\r\n          return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n          return false;\r\n        }\r\n        TranslationInference translationInference = (TranslationInference) o;\r\n        return Objects.equals(this.taskType, translationInference.taskType) &amp;&amp;\r\n            Objects.equals(this.request, translationInference.request) &amp;&amp;\r\n            Objects.equals(this.response, translationInference.response);\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return Objects.hash(taskType, request, response);\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;class TranslationInference {\\n&quot;);\r\n        \r\n        sb.append(&quot;    taskType: &quot;).append(toIndentedString(taskType)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    request: &quot;).append(toIndentedString(request)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    response: &quot;).append(toIndentedString(response)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;}&quot;);\r\n        return sb.toString();\r\n      }\r\n    \r\n      /**\r\n       * Convert the given object to string with each line indented by 4 spaces\r\n       * (except the first line).\r\n       */\r\n      private String toIndentedString(java.lang.Object o) {\r\n        if (o == null) {\r\n          return &quot;null&quot;;\r\n        }\r\n        return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\r\n      }\r\n    }\r\n\r\n\r\nI&#39;m getting the following error when running this:\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class io.swagger.pipelinerequest.PipelineTask]: missing type id property &#39;type&#39; (for POJO property &#39;pipelineTasks&#39;) at [Source: (ByteArrayInputStream); line: 12, column: 9] (through reference chain: io.swagger.pipelinerequest.PipelineRequest[&quot;pipelineTasks&quot;]-&gt;io.swagger.pipelinerequest.PipelineTasks[0])\r\n\r\nCan anyone please help me resolve the same? Any help is appreciated. Thanks.\r\n","title":"Unable to resolve subtype with InvalidTypeIdException while reading classes generated from swagger in Java","body":"<p>Below is the openapi code using which classes are generated:</p>\n<pre><code>PipelineTask:\n  anyOf:\n    - $ref: '#/components/schemas/TranslationTask'\n    - $ref: '#/components/schemas/ASRTask'\n    - $ref: '#/components/schemas/TTSTask'\n  discriminator:\n    propertyName: taskType\n    mapping:\n      translation: '#/components/schemas/TranslationTask'\n      asr: '#/components/schemas/ASRTask'\n      tts: '#/components/schemas/TTSTask'\n      \nPipelineTasks:\n  type: array\n  items:\n    $ref: '#/components/schemas/PipelineTask'\n    \nTranslationTask:\n  required:\n    - taskType\n  type: object\n  properties:\n    taskType:\n      $ref: #/components/schemas/SupportedTasks\n\nSupportedTasks:\n  type: string\n  enum:\n    - translation\n    - transliteration\n    - tts\n    - asr\n    - document-layout\n    - ocr\n    - glossary\n    - ner\n    - txt-lang-detection\n    - audio-lang-detection\n  description: the category of model under which it has been released or trained\n</code></pre>\n<p>Below are the classes generated by the same:\nPipelineTask:</p>\n<pre><code>package io.swagger.pipelinerequest;\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\n/**\n* PipelineTask\n*/\n@JsonTypeInfo(\n  use = JsonTypeInfo.Id.NAME,\n  include = JsonTypeInfo.As.PROPERTY,\n  property = &quot;taskType&quot;)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = TranslationTask.class, name = &quot;translation&quot;),\n  @JsonSubTypes.Type(value = ASRTask.class, name = &quot;asr&quot;),\n  @JsonSubTypes.Type(value = TTSTask.class, name = &quot;tts&quot;)\n})\npublic interface PipelineTask {\n\n    SupportedTasks getTaskType();\n}\n</code></pre>\n<p>TranslationTask:</p>\n<pre><code>package io.swagger.model;\n\nimport java.util.Objects;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport io.swagger.model.SupportedTasks;\nimport io.swagger.model.TranslationRequest;\nimport io.swagger.model.TranslationResponse;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport org.springframework.validation.annotation.Validated;\nimport javax.validation.Valid;\nimport javax.validation.constraints.*;\n\n/**\n * TranslationInference\n */\n@Validated\n@javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.SpringCodegen&quot;, date = &quot;2023-03-02T03:55:25.562740452Z[GMT]&quot;)\n\n\npublic class TranslationInference  implements OneOfInferenceAPIEndPointSchema {\n  @JsonProperty(&quot;taskType&quot;)\n  private SupportedTasks taskType = null;\n\n  @JsonProperty(&quot;request&quot;)\n  private TranslationRequest request = null;\n\n  @JsonProperty(&quot;response&quot;)\n  private TranslationResponse response = null;\n\n  public TranslationInference taskType(SupportedTasks taskType) {\n    this.taskType = taskType;\n    return this;\n  }\n\n  /**\n   * Get taskType\n   * @return taskType\n   **/\n  @Schema(required = true, description = &quot;&quot;)\n      @NotNull\n\n    @Valid\n    public SupportedTasks getTaskType() {\n    return taskType;\n  }\n\n  public void setTaskType(SupportedTasks taskType) {\n    this.taskType = taskType;\n  }\n\n  public TranslationInference request(TranslationRequest request) {\n    this.request = request;\n    return this;\n  }\n\n  /**\n   * Get request\n   * @return request\n   **/\n  @Schema(required = true, description = &quot;&quot;)\n      @NotNull\n\n    @Valid\n    public TranslationRequest getRequest() {\n    return request;\n  }\n\n  public void setRequest(TranslationRequest request) {\n    this.request = request;\n  }\n\n  public TranslationInference response(TranslationResponse response) {\n    this.response = response;\n    return this;\n  }\n\n  /**\n   * Get response\n   * @return response\n   **/\n  @Schema(description = &quot;&quot;)\n  \n    @Valid\n    public TranslationResponse getResponse() {\n    return response;\n  }\n\n  public void setResponse(TranslationResponse response) {\n    this.response = response;\n  }\n\n\n  @Override\n  public boolean equals(java.lang.Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    TranslationInference translationInference = (TranslationInference) o;\n    return Objects.equals(this.taskType, translationInference.taskType) &amp;&amp;\n        Objects.equals(this.request, translationInference.request) &amp;&amp;\n        Objects.equals(this.response, translationInference.response);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(taskType, request, response);\n  }\n\n  @Override\n  public String toString() {\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;class TranslationInference {\\n&quot;);\n    \n    sb.append(&quot;    taskType: &quot;).append(toIndentedString(taskType)).append(&quot;\\n&quot;);\n    sb.append(&quot;    request: &quot;).append(toIndentedString(request)).append(&quot;\\n&quot;);\n    sb.append(&quot;    response: &quot;).append(toIndentedString(response)).append(&quot;\\n&quot;);\n    sb.append(&quot;}&quot;);\n    return sb.toString();\n  }\n\n  /**\n   * Convert the given object to string with each line indented by 4 spaces\n   * (except the first line).\n   */\n  private String toIndentedString(java.lang.Object o) {\n    if (o == null) {\n      return &quot;null&quot;;\n    }\n    return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\n  }\n}\n</code></pre>\n<p>I'm getting the following error when running this:</p>\n<p>com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class io.swagger.pipelinerequest.PipelineTask]: missing type id property 'type' (for POJO property 'pipelineTasks') at [Source: (ByteArrayInputStream); line: 12, column: 9] (through reference chain: io.swagger.pipelinerequest.PipelineRequest[&quot;pipelineTasks&quot;]-&gt;io.swagger.pipelinerequest.PipelineTasks[0])</p>\n<p>Can anyone please help me resolve the same? Any help is appreciated. Thanks.</p>\n"},{"tags":["python","java","character-encoding"],"comments":[{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1683862561,"post_id":76232910,"comment_id":134434705,"body_markdown":"I think those encodings are implemented differently in different platforms. Take `0xA6DA` for example. Python fails to decode it using `GBK`, while Java is able to do so.","body":"I think those encodings are implemented differently in different platforms. Take <code>0xA6DA</code> for example. Python fails to decode it using <code>GBK</code>, while Java is able to do so."},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":1,"creation_date":1683862630,"post_id":76232910,"comment_id":134434714,"body_markdown":"Your `` is indeed the Unicode character U+E78E, though, so this is technically &quot;correctly decoded&quot;, but the system fonts don&#39;t have data for it (and it can basically be used for different things depending on the font used).\nYou thought it should be `︒`, but that is U+FE12.","body":"Your <code></code> is indeed the Unicode character U+E78E, though, so this is technically &quot;correctly decoded&quot;, but the system fonts don&#39;t have data for it (and it can basically be used for different things depending on the font used). You thought it should be <code>︒</code>, but that is U+FE12."},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1683862873,"post_id":76232910,"comment_id":134434733,"body_markdown":"@qrsngky So, I need to a **compatible** font in order to use GB18030/GBK, right?","body":"@qrsngky So, I need to a <b>compatible</b> font in order to use GB18030/GBK, right?"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":2,"creation_date":1683862884,"post_id":76232910,"comment_id":134434736,"body_markdown":"&quot;It seems that if the characters are mapped to PUA, neither Java nor Python can decode them correctly.&quot; - well, yes; that&#39;s what it means to map something to PUA (a Private Use Area) - the interpretation of the code point is up to the implementation, and not specified by Unicode. Your Python and Java code is applying the encoding properly; the encoding just doesn&#39;t actually give code points that correspond to valid glyphs in modern Unicode. You can see this in the table on the Wikipedia page you cited.","body":"&quot;It seems that if the characters are mapped to PUA, neither Java nor Python can decode them correctly.&quot; - well, yes; that&#39;s what it means to map something to PUA (a Private Use Area) - the interpretation of the code point is up to the implementation, and not specified by Unicode. Your Python and Java code is applying the encoding properly; the encoding just doesn&#39;t actually give code points that correspond to valid glyphs in modern Unicode. You can see this in the table on the Wikipedia page you cited."},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":0,"creation_date":1683862987,"post_id":76232910,"comment_id":134434746,"body_markdown":"Or, you can manually replace those PUA characters with similar characters that form part of standard Unicode. (e.g. `U+E78E` with `U+FE12`, as shown in the Wikipedia table)","body":"Or, you can manually replace those PUA characters with similar characters that form part of standard Unicode. (e.g. <code>U+E78E</code> with <code>U+FE12</code>, as shown in the Wikipedia table)"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1683863188,"post_id":76232910,"comment_id":134434752,"body_markdown":"@qrsngky it is [more complicated than that](https://en.wikipedia.org/wiki/Private_Use_Areas).","body":"@qrsngky it is <a href=\"https://en.wikipedia.org/wiki/Private_Use_Areas\" rel=\"nofollow noreferrer\">more complicated than that</a>."},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":0,"creation_date":1683863328,"post_id":76232910,"comment_id":134434767,"body_markdown":"@KarlKnechtel Not sure what your concern is, when OP is only concerned about a small part of PUA and is not trying to mix with PUA characters obtained from other sources","body":"@KarlKnechtel Not sure what your concern is, when OP is only concerned about a small part of PUA and is not trying to mix with PUA characters obtained from other sources"},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":1,"creation_date":1683866212,"post_id":76232910,"comment_id":134435052,"body_markdown":"Python&#39;s `gb18030` codec is actually `gb18030-2005` instead of `gb18030-2022` according to [the table](https://en.wikipedia.org/wiki/GB_18030#History) (further down in that section), based on the conversion of byte sequence `A6 DA` to `U+E78E` as per that table.","body":"Python&#39;s <code>gb18030</code> codec is actually <code>gb18030-2005</code> instead of <code>gb18030-2022</code> according to <a href=\"https://en.wikipedia.org/wiki/GB_18030#History\" rel=\"nofollow noreferrer\">the table</a> (further down in that section), based on the conversion of byte sequence <code>A6 DA</code> to <code>U+E78E</code> as per that table."},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":0,"creation_date":1683886661,"post_id":76232910,"comment_id":134438597,"body_markdown":"I wonder what those empty cells in the table (mapping to `E785` to `E78C` and `E797` to `E79F`) are supposed to represent. Spaces of different widths?","body":"I wonder what those empty cells in the table (mapping to <code>E785</code> to <code>E78C</code> and <code>E797</code> to <code>E79F</code>) are supposed to represent. Spaces of different widths?"},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1683890760,"post_id":76232910,"comment_id":134439529,"body_markdown":"@qrsngky These empty cells are not assigned to characters yet, and they are maybe used for future extensions.","body":"@qrsngky These empty cells are not assigned to characters yet, and they are maybe used for future extensions."}],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683861716,"creation_date":1683861716,"question_id":76232910,"body_markdown":"Recently, I am studying [GB 18030](https://en.wikipedia.org/wiki/GB_18030), and found that some characters cannot encoded/decoded correctly when they are mapped to the *private user area* (PUA). For example, according to the specification of GB 18030, this is *A6* double-byte region:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6hmja.png\r\n\r\nMost characters&#39; encoding/decoding are expected:\r\n\r\n```python\r\nch = b&#39;\\xA6\\F5&#39;\r\nprint(ch.decode(&#39;gb18030&#39;)) #  ︴\r\n```\r\n\r\nBut some are not:\r\n\r\n```python\r\nch = b&#39;\\xA6\\xDA&#39;\r\nprint(ch.decode(&#39;gb18030&#39;)) # , but it should be︒\r\n```\r\n\r\nI also tested in Java, and the results are the same. It seems that if the characters are mapped to PUA, neither Java nor Python can decode them correctly. Is it related to the specific language/library implementation?","title":"How to decode bytes in GB18030 correctly","body":"<p>Recently, I am studying <a href=\"https://en.wikipedia.org/wiki/GB_18030\" rel=\"nofollow noreferrer\">GB 18030</a>, and found that some characters cannot encoded/decoded correctly when they are mapped to the <em>private user area</em> (PUA). For example, according to the specification of GB 18030, this is <em>A6</em> double-byte region:</p>\n<p><a href=\"https://i.stack.imgur.com/6hmja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6hmja.png\" alt=\"enter image description here\" /></a></p>\n<p>Most characters' encoding/decoding are expected:</p>\n<pre class=\"lang-py prettyprint-override\"><code>ch = b'\\xA6\\F5'\nprint(ch.decode('gb18030')) #  ︴\n</code></pre>\n<p>But some are not:</p>\n<pre class=\"lang-py prettyprint-override\"><code>ch = b'\\xA6\\xDA'\nprint(ch.decode('gb18030')) # , but it should be︒\n</code></pre>\n<p>I also tested in Java, and the results are the same. It seems that if the characters are mapped to PUA, neither Java nor Python can decode them correctly. Is it related to the specific language/library implementation?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":49683,"reputation":9264,"user_id":148059,"display_name":"atk"},"score":0,"creation_date":1384793345,"post_id":20053090,"comment_id":29867854,"body_markdown":"What does the javadoc for PreparedStatement.execute() say about return values?","body":"What does the javadoc for PreparedStatement.execute() say about return values?"},{"owner":{"account_id":155026,"reputation":7508,"user_id":371392,"accept_rate":67,"display_name":"Web User"},"score":0,"creation_date":1384793452,"post_id":20053090,"comment_id":29867920,"body_markdown":"http://stackoverflow.com/questions/14151772/why-does-execute-return-true-on-an-empty-table","body":"<a href=\"http://stackoverflow.com/questions/14151772/why-does-execute-return-true-on-an-empty-table\" title=\"why does execute return true on an empty table\">stackoverflow.com/questions/14151772/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":248514,"reputation":3221,"user_id":523908,"accept_rate":80,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384793338,"creation_date":1384793338,"answer_id":20053159,"question_id":20053090,"body_markdown":"Empty result doesn&#39;t mean that the SQL exception has occured. You need to check if the result is empty and THEN return false.","title":"How to return false where the result of JDBC is empty","body":"<p>Empty result doesn't mean that the SQL exception has occured. You need to check if the result is empty and THEN return false.</p>\n"},{"tags":[],"owner":{"account_id":2321169,"reputation":9855,"user_id":2036867,"accept_rate":64,"display_name":"Nimrod007"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1384793379,"creation_date":1384793379,"answer_id":20053174,"question_id":20053090,"body_markdown":"you need to check the result of the statement ...\r\n\r\n    ResultSet rs= ps.execute();\r\n    rs.isBeforeFirst()\r\n\r\nwill returns false if there are no rows in the ResultSet\r\n\r\nso your code should look like this :\r\n\r\n    try {\r\n        con = DriverManager.getConnection(...);\r\n        ps = con.prepareStatement(query);\r\n        ps.setString(1, userID);\r\n        ps.setString(2, bookID);\r\n        ResultSet rs= ps.execute();\r\n\r\n        if (!rs.isBeforeFirst() ) {    \r\n              System.out.println(&quot;empty&quot;); \r\n              return false;\r\n        }else {\r\n              System.out.println(&quot;with data&quot;); \r\n              return true;\r\n        }\r\n\r\n    } catch (SQLException sqle) {\r\n        sqle.printStackTrace();\r\n        return false;\r\n    }\r\n\r\n\r\n","title":"How to return false where the result of JDBC is empty","body":"<p>you need to check the result of the statement ...</p>\n\n<pre><code>ResultSet rs= ps.execute();\nrs.isBeforeFirst()\n</code></pre>\n\n<p>will returns false if there are no rows in the ResultSet</p>\n\n<p>so your code should look like this :</p>\n\n<pre><code>try {\n    con = DriverManager.getConnection(...);\n    ps = con.prepareStatement(query);\n    ps.setString(1, userID);\n    ps.setString(2, bookID);\n    ResultSet rs= ps.execute();\n\n    if (!rs.isBeforeFirst() ) {    \n          System.out.println(\"empty\"); \n          return false;\n    }else {\n          System.out.println(\"with data\"); \n          return true;\n    }\n\n} catch (SQLException sqle) {\n    sqle.printStackTrace();\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683861666,"creation_date":1384794034,"answer_id":20053432,"question_id":20053090,"body_markdown":"&gt; Why not false here?\r\n\r\nAccording to the javadoc for [`execute()`][1]:\r\n\r\n&gt;  Returns: `true` if the first result is a `ResultSet` object; `false` if the first result is an update count or there is no result.\r\n\r\nIn your case, the first result will be a `ResultSet` object.  An empty `ResultSet` is still a `ResultSet`.\r\n\r\n----------------------\r\n\r\nIn this case (e.g. when the SQL is a &quot;select&quot;) the solution is to use `executeQuery` and test if the `ResultSet` is empty.\r\n\r\nAlternatively (e.g. when the SQL *may or may not* return a `ResultSet`), you could test the result of `query()`, and then call `getResultSet()` and test if it is empty.\r\n\r\nThe most general way to test if a `ResultSet` is empty is to call `next()` on it&lt;sup&gt;1&lt;/sup&gt;.  Apparently `ResultSet.isBeforeFirst()` is an optional operation for `TYPE_FORWARD_ONLY` resultsets.\r\n\r\n----------------------\r\n\r\n&lt;sup&gt;1 - Of course that `next()` call will advance to the first row in the resultset as per the [javadoc][2].&lt;/sup&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#execute%28%29\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next()","title":"How to return false where the result of JDBC is empty","body":"<blockquote>\n<p>Why not false here?</p>\n</blockquote>\n<p>According to the javadoc for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#execute%28%29\" rel=\"nofollow noreferrer\"><code>execute()</code></a>:</p>\n<blockquote>\n<p>Returns: <code>true</code> if the first result is a <code>ResultSet</code> object; <code>false</code> if the first result is an update count or there is no result.</p>\n</blockquote>\n<p>In your case, the first result will be a <code>ResultSet</code> object.  An empty <code>ResultSet</code> is still a <code>ResultSet</code>.</p>\n<hr />\n<p>In this case (e.g. when the SQL is a &quot;select&quot;) the solution is to use <code>executeQuery</code> and test if the <code>ResultSet</code> is empty.</p>\n<p>Alternatively (e.g. when the SQL <em>may or may not</em> return a <code>ResultSet</code>), you could test the result of <code>query()</code>, and then call <code>getResultSet()</code> and test if it is empty.</p>\n<p>The most general way to test if a <code>ResultSet</code> is empty is to call <code>next()</code> on it<sup>1</sup>.  Apparently <code>ResultSet.isBeforeFirst()</code> is an optional operation for <code>TYPE_FORWARD_ONLY</code> resultsets.</p>\n<hr />\n<p><sup>1 - Of course that <code>next()</code> call will advance to the first row in the resultset as per the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next()\" rel=\"nofollow noreferrer\">javadoc</a>.</sup></p>\n"},{"tags":[],"owner":{"account_id":3522817,"reputation":269,"user_id":2944691,"display_name":"batman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384794848,"creation_date":1384794848,"answer_id":20053694,"question_id":20053090,"body_markdown":"You are using the wrong conditional statement even if the result is empty the query will execute and `ps.execute()` will return `true`.","title":"How to return false where the result of JDBC is empty","body":"<p>You are using the wrong conditional statement even if the result is empty the query will execute and <code>ps.execute()</code> will return <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":3599794,"reputation":2621,"user_id":3003337,"accept_rate":88,"display_name":"surya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384798567,"creation_date":1384798567,"answer_id":20054840,"question_id":20053090,"body_markdown":"javadoc for execute : true if the first result is a ResultSet object; false if the first result is an update count or there is no result \r\n\r\nThus whether or not you expect result,for a select statement, execute() would always return true ;","title":"How to return false where the result of JDBC is empty","body":"<p>javadoc for execute : true if the first result is a ResultSet object; false if the first result is an update count or there is no result </p>\n\n<p>Thus whether or not you expect result,for a select statement, execute() would always return true ;</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1384802420,"creation_date":1384801723,"answer_id":20055796,"question_id":20053090,"body_markdown":"The return value of [`execute()`][1] doesn&#39;t mean what you think it means:\r\n\r\n&gt; Returns:&lt;br&gt;\r\n&gt;    `true` if the first result is a `ResultSet` object; `false` if the first result is an update count or there is no result\r\n\r\nA `SELECT` statement will always produce a `ResultSet` (even if there is no row in the result). Instead you should\r\n\r\n 1. Use the `ResultSet` obtained from [`executeQuery()`][2]\r\n 2. Check the value of [`ResultSet.next()`][3] to see if there was **at least** one result\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#execute%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#executeQuery%28%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next%28%29","title":"How to return false where the result of JDBC is empty","body":"<p>The return value of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#execute%28%29\" rel=\"nofollow\"><code>execute()</code></a> doesn't mean what you think it means:</p>\n\n<blockquote>\n  <p>Returns:<br>\n     <code>true</code> if the first result is a <code>ResultSet</code> object; <code>false</code> if the first result is an update count or there is no result</p>\n</blockquote>\n\n<p>A <code>SELECT</code> statement will always produce a <code>ResultSet</code> (even if there is no row in the result). Instead you should</p>\n\n<ol>\n<li>Use the <code>ResultSet</code> obtained from <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#executeQuery%28%29\" rel=\"nofollow\"><code>executeQuery()</code></a></li>\n<li>Check the value of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next%28%29\" rel=\"nofollow\"><code>ResultSet.next()</code></a> to see if there was <strong>at least</strong> one result</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2634101,"reputation":626,"user_id":2279285,"display_name":"Engine Bai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669811234,"creation_date":1384827055,"answer_id":20061824,"question_id":20053090,"body_markdown":"The simplest way to check ResultSet returned from `execute()` is empty\r\n\r\n    if ( resultSet.next() == false )\r\n    \treturn false;\r\n  ","title":"How to return false where the result of JDBC is empty","body":"<p>The simplest way to check ResultSet returned from <code>execute()</code> is empty</p>\n<pre><code>if ( resultSet.next() == false )\n    return false;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12372515,"reputation":488,"user_id":9022194,"display_name":"George Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669810173,"creation_date":1669810173,"answer_id":74627572,"question_id":20053090,"body_markdown":"Here is just a sample, similar to what Mark Rotteveel above mentioned. I using rs.isBeforeFirst() instead of rs.next() because this way I don&#39;t need to reset the current position back to the begining:\r\n\r\n        ResultSet rs = stmt.executeQuery();\r\n        isLoggedIn = rs.isBeforeFirst();","title":"How to return false where the result of JDBC is empty","body":"<p>Here is just a sample, similar to what Mark Rotteveel above mentioned. I using rs.isBeforeFirst() instead of rs.next() because this way I don't need to reset the current position back to the begining:</p>\n<pre><code>    ResultSet rs = stmt.executeQuery();\n    isLoggedIn = rs.isBeforeFirst();\n</code></pre>\n"}],"owner":{"account_id":2142017,"reputation":2275,"user_id":1900445,"accept_rate":100,"display_name":"Sajad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2906,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20053174,"answer_count":8,"score":1,"last_activity_date":1683861666,"creation_date":1384793097,"question_id":20053090,"body_markdown":"In my code, i need when the result of query is empty, it should return `false`.\r\n\r\nMy code:\r\n\r\n    public boolean user_bookValidationQuery(String userID, String bookID) {\r\n        Connection con;    \r\n        PreparedStatement ps;    \r\n        String query = &quot; select * from borrowed where userID=? and bookID=? &quot;;    \r\n        try {    \r\n            con = DriverManager.getConnection(...);    \r\n            ps = con.prepareStatement(query);    \r\n            ps.setString(1, userID);    \r\n            ps.setString(2, bookID);\r\n            if (ps.execute()) {\r\n                System.out.println(&quot;You can do it! , id DB&quot;);\r\n                return true;\r\n            } else return false;\r\n\r\n        } catch (SQLException sqle) {\r\n            sqle.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n\r\nNow for a give value for `userID` and `bookID` , i try in mysql console and see that it&#39;s result was empty, But in my code it return `true` still!\r\n\r\nWhy not false here?","title":"How to return false where the result of JDBC is empty","body":"<p>In my code, i need when the result of query is empty, it should return <code>false</code>.</p>\n\n<p>My code:</p>\n\n<pre><code>public boolean user_bookValidationQuery(String userID, String bookID) {\n    Connection con;    \n    PreparedStatement ps;    \n    String query = \" select * from borrowed where userID=? and bookID=? \";    \n    try {    \n        con = DriverManager.getConnection(...);    \n        ps = con.prepareStatement(query);    \n        ps.setString(1, userID);    \n        ps.setString(2, bookID);\n        if (ps.execute()) {\n            System.out.println(\"You can do it! , id DB\");\n            return true;\n        } else return false;\n\n    } catch (SQLException sqle) {\n        sqle.printStackTrace();\n        return false;\n    }\n}\n</code></pre>\n\n<p>Now for a give value for <code>userID</code> and <code>bookID</code> , i try in mysql console and see that it's result was empty, But in my code it return <code>true</code> still!</p>\n\n<p>Why not false here?</p>\n"},{"tags":["java","package","organization","java-package"],"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1478158615,"post_id":727844,"comment_id":68042530,"body_markdown":"A optional package is an implementation of an open, standard API (examples of optional packages `JavaServlet`, `Java3D`). Most optional packages are rooted in the `javax.*` namespace, although there may be exceptions.","body":"A optional package is an implementation of an open, standard API (examples of optional packages <code>JavaServlet</code>, <code>Java3D</code>). Most optional packages are rooted in the <code>javax.*</code> namespace, although there may be exceptions."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":7,"up_vote_count":246,"is_accepted":true,"score":239,"last_activity_date":1625323187,"creation_date":1239143521,"answer_id":727852,"question_id":727844,"body_markdown":"I think it&#39;s a historical thing - if a package is introduced as an addition to an existing JRE, it comes in as `javax`. If it&#39;s first introduced as *part* of a JRE (like NIO was, I believe) then it comes in as `java`. Not sure why the new date and time API will end up as `javax` following this logic though... unless it will also be available separately as a library to work with earlier versions (which would be useful). **Note from many years later: it (date and time API) actually ended up being in `java` after all.**\r\n\r\nI believe there are restrictions on the `java` package - I think classloaders are set up to *only* allow classes within `java.*` to be loaded from `rt.jar` or something similar. (There&#39;s certainly a check in `ClassLoader.preDefineClass`.)\r\n\r\nEDIT: While an official explanation (the search orbfish suggested didn&#39;t yield one in the first page or so) is no doubt about &quot;core&quot; vs &quot;extension&quot;, I still suspect that in many cases the decision for any particular package has an historical reason behind it too. Is `java.beans` really that &quot;core&quot; to Java, for example?","title":"javax vs java package","body":"<p>I think it's a historical thing - if a package is introduced as an addition to an existing JRE, it comes in as <code>javax</code>. If it's first introduced as <em>part</em> of a JRE (like NIO was, I believe) then it comes in as <code>java</code>. Not sure why the new date and time API will end up as <code>javax</code> following this logic though... unless it will also be available separately as a library to work with earlier versions (which would be useful). <strong>Note from many years later: it (date and time API) actually ended up being in <code>java</code> after all.</strong></p>\n<p>I believe there are restrictions on the <code>java</code> package - I think classloaders are set up to <em>only</em> allow classes within <code>java.*</code> to be loaded from <code>rt.jar</code> or something similar. (There's certainly a check in <code>ClassLoader.preDefineClass</code>.)</p>\n<p>EDIT: While an official explanation (the search orbfish suggested didn't yield one in the first page or so) is no doubt about &quot;core&quot; vs &quot;extension&quot;, I still suspect that in many cases the decision for any particular package has an historical reason behind it too. Is <code>java.beans</code> really that &quot;core&quot; to Java, for example?</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":3,"up_vote_count":72,"is_accepted":false,"score":69,"last_activity_date":1552265775,"creation_date":1239143567,"answer_id":727854,"question_id":727844,"body_markdown":"`java` packages are **base**, and `javax` packages are extensions.  \r\n\r\nSwing was an extension because AWT was the original UI API.  Swing came afterwards, in version 1.1.\r\n\r\n","title":"javax vs java package","body":"<p><code>java</code> packages are <strong>base</strong>, and <code>javax</code> packages are extensions.  </p>\n\n<p>Swing was an extension because AWT was the original UI API.  Swing came afterwards, in version 1.1.</p>\n"},{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1239151039,"creation_date":1239149902,"answer_id":728075,"question_id":727844,"body_markdown":"The javax namespace is *usually* (that&#39;s a loaded word) used for standard extensions, currently known as [optional packages][1]. The standard extensions are a subset of the non-core APIs; the other segment of the non-core APIs obviously called the non-standard extensions, occupying the namespaces like com.sun.* or com.ibm.*. The core APIs take up the java.* namespace.\r\n\r\nNot everything in the Java API world starts off in core, which is why extensions are usually born out of JSR requests. They are eventually promoted to core based on &#39;wise counsel&#39;.\r\n\r\nThe interest in this nomenclature, came out of a faux pas on Sun&#39;s part - extensions could have been promoted to core, i.e. moved from javax.* to java.* breaking the backward compatibility promise. Programmers cried hoarse, and better sense prevailed. This is why, the Swing API although part of the core, continues to remain in the javax.* namespace. And that is also how packages get promoted from extensions to core - they are simply made available for download as part of the JDK and JRE.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/guide/extensions/index.html","title":"javax vs java package","body":"<p>The javax namespace is <em>usually</em> (that's a loaded word) used for standard extensions, currently known as <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/extensions/index.html\" rel=\"noreferrer\">optional packages</a>. The standard extensions are a subset of the non-core APIs; the other segment of the non-core APIs obviously called the non-standard extensions, occupying the namespaces like com.sun.* or com.ibm.<em>. The core APIs take up the java.</em> namespace.</p>\n\n<p>Not everything in the Java API world starts off in core, which is why extensions are usually born out of JSR requests. They are eventually promoted to core based on 'wise counsel'.</p>\n\n<p>The interest in this nomenclature, came out of a faux pas on Sun's part - extensions could have been promoted to core, i.e. moved from javax.* to java.* breaking the backward compatibility promise. Programmers cried hoarse, and better sense prevailed. This is why, the Swing API although part of the core, continues to remain in the javax.* namespace. And that is also how packages get promoted from extensions to core - they are simply made available for download as part of the JDK and JRE.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":283,"is_accepted":false,"score":283,"last_activity_date":1552265716,"creation_date":1239150418,"answer_id":728095,"question_id":727844,"body_markdown":"Originally `javax` was intended to be for extensions, and sometimes things would be promoted out of `javax` into java.\r\n\r\nOne issue was Netscape (and probably IE) limiting classes that could be in the java package.\r\n\r\nWhen Swing was set to &quot;graduate&quot; to `java` from `javax` there was sort of a mini-blow up because people realized that they would have to modify all of their imports.  Given that backwards compatibility is one of the primary goals of Java they changed their mind.  \r\n\r\nAt that point in time, at least for the community (maybe not for Sun) the whole point of `javax` was lost.  So now we have some things in javax that probably should be in `java`... but aside from the people that chose the package names I don&#39;t know if anyone can figure out what the rationale is on a case-by-case basis.","title":"javax vs java package","body":"<p>Originally <code>javax</code> was intended to be for extensions, and sometimes things would be promoted out of <code>javax</code> into java.</p>\n\n<p>One issue was Netscape (and probably IE) limiting classes that could be in the java package.</p>\n\n<p>When Swing was set to \"graduate\" to <code>java</code> from <code>javax</code> there was sort of a mini-blow up because people realized that they would have to modify all of their imports.  Given that backwards compatibility is one of the primary goals of Java they changed their mind.  </p>\n\n<p>At that point in time, at least for the community (maybe not for Sun) the whole point of <code>javax</code> was lost.  So now we have some things in javax that probably should be in <code>java</code>... but aside from the people that chose the package names I don't know if anyone can figure out what the rationale is on a case-by-case basis.</p>\n"},{"tags":[],"owner":{"account_id":6287742,"reputation":347,"user_id":4886346,"accept_rate":25,"display_name":"Lakshmi Prasanna"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1504086522,"creation_date":1504086522,"answer_id":45957131,"question_id":727844,"body_markdown":"java.* packages are the core Java language packages, meaning that programmers using the Java language had to use them in order to make any worthwhile use of the java language.\r\n\r\njavax.*  packages are optional packages, which provides a standard, scalable way to make custom APIs available to all applications running on the Java platform.\r\n\r\n","title":"javax vs java package","body":"<p>java.* packages are the core Java language packages, meaning that programmers using the Java language had to use them in order to make any worthwhile use of the java language.</p>\n\n<p>javax.*  packages are optional packages, which provides a standard, scalable way to make custom APIs available to all applications running on the Java platform.</p>\n"},{"tags":[],"owner":{"account_id":11682173,"reputation":41,"user_id":8553443,"display_name":"Miroslav"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1504568524,"creation_date":1504568524,"answer_id":46045157,"question_id":727844,"body_markdown":"Javax used to be only for extensions. Yet later sun added it to the java libary forgetting to remove the x. Developers started making code with javax. Yet later on in time suns decided to change it to java. Developers didn&#39;t like the idea because they&#39;re code would be ruined... so javax was kept.","title":"javax vs java package","body":"<p>Javax used to be only for extensions. Yet later sun added it to the java libary forgetting to remove the x. Developers started making code with javax. Yet later on in time suns decided to change it to java. Developers didn't like the idea because they're code would be ruined... so javax was kept.</p>\n"},{"tags":[],"owner":{"account_id":7228906,"reputation":1477,"user_id":5516527,"accept_rate":90,"display_name":"Rezaeimh7"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585538140,"creation_date":1585375386,"answer_id":60897815,"question_id":727844,"body_markdown":"Some packages like `javax.swing` were not included in java standard library at first. Sun company decided to consider them official and included them into the early versions of java as standard libraries or standard extensions.\r\n\r\nBy convention, all the standard extensions start with an `X` while they can get promoted to first-class over time like what happened for `javax.swing`.","title":"javax vs java package","body":"<p>Some packages like <code>javax.swing</code> were not included in java standard library at first. Sun company decided to consider them official and included them into the early versions of java as standard libraries or standard extensions.</p>\n\n<p>By convention, all the standard extensions start with an <code>X</code> while they can get promoted to first-class over time like what happened for <code>javax.swing</code>.</p>\n"},{"tags":[],"owner":{"account_id":1859530,"reputation":2250,"user_id":1684389,"display_name":"Raydelto Hernandez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636399535,"creation_date":1636399535,"answer_id":69888896,"question_id":727844,"body_markdown":"All the **javax** packages were aimed to be experimental packages. By the time Swing was stable enough and ready to be moved to the **java** package there was too much code out there that they decided to leave it as it is to keep their commitment with backwards compatibility. This is explained in the book Learn Java in 21 days from the Sams editorial, written by Laura Lemay and Rogers Candedhead.","title":"javax vs java package","body":"<p>All the <strong>javax</strong> packages were aimed to be experimental packages. By the time Swing was stable enough and ready to be moved to the <strong>java</strong> package there was too much code out there that they decided to leave it as it is to keep their commitment with backwards compatibility. This is explained in the book Learn Java in 21 days from the Sams editorial, written by Laura Lemay and Rogers Candedhead.</p>\n"}],"owner":{"account_id":26907,"reputation":11446,"user_id":70430,"accept_rate":55,"display_name":"Jaka Jančar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294317,"favorite_count":0,"down_vote_count":0,"up_vote_count":475,"accepted_answer_id":727852,"answer_count":8,"score":475,"last_activity_date":1683860286,"creation_date":1239143320,"question_id":727844,"body_markdown":"What&#39;s the rationale behind the javax package? What goes into java and what into javax?\r\n\r\nI know a lot of enterprise-y packages are in javax, but so is Swing, the new date and time api (JSR-310) and other J2SE packages.","title":"javax vs java package","body":"<p>What's the rationale behind the javax package? What goes into java and what into javax?</p>\n\n<p>I know a lot of enterprise-y packages are in javax, but so is Swing, the new date and time api (JSR-310) and other J2SE packages.</p>\n"},{"tags":["java","android","package","java-package"],"comments":[{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":1,"creation_date":1683860006,"post_id":76232761,"comment_id":134434494,"body_markdown":"Related: https://stackoverflow.com/questions/3226282/are-there-best-practices-for-java-package-organization, https://stackoverflow.com/questions/2125293/java-packages-com-and-org, https://stackoverflow.com/questions/210567/package-structure-for-a-java-project, https://stackoverflow.com/questions/292169/what-package-naming-convention-do-you-use-for-personal-hobby-projects-in-java, https://stackoverflow.com/tags/java-package/info","body":"Related: <a href=\"https://stackoverflow.com/questions/3226282/are-there-best-practices-for-java-package-organization\" title=\"are there best practices for java package organization\">stackoverflow.com/questions/3226282/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/2125293/java-packages-com-and-org\" title=\"java packages com and org\">stackoverflow.com/questions/2125293/java-packages-com-and-or&zwnj;&#8203;g</a>, <a href=\"https://stackoverflow.com/questions/210567/package-structure-for-a-java-project\" title=\"package structure for a java project\">stackoverflow.com/questions/210567/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/292169/what-package-naming-convention-do-you-use-for-personal-hobby-projects-in-java\" title=\"what package naming convention do you use for personal hobby projects in java\">stackoverflow.com/questions/292169/&hellip;</a>, <a href=\"https://stackoverflow.com/tags/java-package/info\">stackoverflow.com/tags/java-package/info</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1683875255,"post_id":76232761,"comment_id":134436268,"body_markdown":"From Oracle&#39;s [The Java™ Tutorials](https://docs.oracle.com/javase/tutorial/): see the  [Packages](https://docs.oracle.com/javase/tutorial/java/package/index.html) Trail","body":"From Oracle&#39;s <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">The Java™ Tutorials</a>: see the  <a href=\"https://docs.oracle.com/javase/tutorial/java/package/index.html\" rel=\"nofollow noreferrer\">Packages</a> Trail"}],"answers":[{"tags":[],"owner":{"account_id":15990398,"reputation":11,"user_id":11539746,"display_name":"Marcio Leal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683859138,"creation_date":1683858983,"answer_id":76232783,"question_id":76232761,"body_markdown":"The line just inform to Java where you class is located in the project. It is called [package][1], but if you browse your project, in case you are using eclipse or something like, it is just a folder.\r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/java/package/packages.html","title":"What is the first line for, in the MainActivity.java?","body":"<p>The line just inform to Java where you class is located in the project. It is called <a href=\"https://docs.oracle.com/javase/tutorial/java/package/packages.html\" rel=\"nofollow noreferrer\">package</a>, but if you browse your project, in case you are using eclipse or something like, it is just a folder.</p>\n"},{"tags":[],"owner":{"account_id":2332175,"reputation":11,"user_id":2045296,"display_name":"DT.rw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683859412,"creation_date":1683859384,"answer_id":76232813,"question_id":76232761,"body_markdown":"A package in Java is used to group related classes. Think of it as a folder in a file directory. We use packages to avoid name conflicts, and to write a better maintainable code. \r\n[more details][1]\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_packages.asp","title":"What is the first line for, in the MainActivity.java?","body":"<p>A package in Java is used to group related classes. Think of it as a folder in a file directory. We use packages to avoid name conflicts, and to write a better maintainable code.\n<a href=\"https://www.w3schools.com/java/java_packages.asp\" rel=\"nofollow noreferrer\">more details</a></p>\n"}],"owner":{"account_id":28585355,"reputation":1,"user_id":21885700,"display_name":"Iftad Abser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1683952526,"answer_count":2,"score":-3,"last_activity_date":1683860029,"creation_date":1683858528,"question_id":76232761,"body_markdown":"`package com.mycompany.myapp2;`\r\n\r\nI want to know what this does for my application. \r\n\r\nI am a beginner. I&#39;m trying to learn how to develop an android application.\r\nThank you ❤️.\r\n\r\n","title":"What is the first line for, in the MainActivity.java?","body":"<p><code>package com.mycompany.myapp2;</code></p>\n<p>I want to know what this does for my application.</p>\n<p>I am a beginner. I'm trying to learn how to develop an android application.\nThank you ❤️.</p>\n"},{"tags":["java","intellij-idea","compiler-errors"],"comments":[{"owner":{"account_id":291009,"reputation":9437,"user_id":592898,"accept_rate":60,"display_name":"Frederic Close"},"score":0,"creation_date":1381774402,"post_id":19364949,"comment_id":28697126,"body_markdown":"You could maybe add an eclipse screenshot of what you want to have with Intellij","body":"You could maybe add an eclipse screenshot of what you want to have with Intellij"},{"owner":{"account_id":61679,"reputation":6211,"user_id":183704,"accept_rate":60,"display_name":"BuZZ-dEE"},"score":1,"creation_date":1448571464,"post_id":19364949,"comment_id":55652608,"body_markdown":"Possible duplicate of [View Errors in Intellij Project](http://stackoverflow.com/questions/1644861/view-errors-in-intellij-project)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1644861/view-errors-in-intellij-project\">View Errors in Intellij Project</a>"}],"answers":[{"tags":[],"owner":{"account_id":128130,"reputation":18591,"user_id":325742,"accept_rate":90,"display_name":"Ashutosh Jindal"},"down_vote_count":0,"up_vote_count":178,"is_accepted":true,"score":178,"last_activity_date":1444304580,"creation_date":1381774719,"answer_id":19366569,"question_id":19364949,"body_markdown":"I think this comes closest to what you wish:\r\n\r\n(From [IntelliJ IDEA Q&amp;A for Eclipse Users][1]):\r\n\r\n![enter image description here][2]\r\n\r\nThe above can be combined with a recently introduced option in Compiler settings to get a view very similar to that of Eclipse.\r\n\r\nThings to do:\r\n\r\n1. Switch to &#39;Problems&#39; view in the Project pane: &lt;br&gt; &lt;br&gt; ![enter image description here][3]\r\n\r\n2. Enable the setting to compile the project automatically : &lt;br&gt; &lt;br&gt; ![enter image description here][4]\r\n\r\n3. Finally, look at the Problems view: &lt;br&gt; &lt;br&gt; ![enter image description here][5]\r\n\r\n\r\nHere is a comparison of what the same project (with a compilation error) looks like in Intellij IDEA 13.xx and Eclipse Kepler:\r\n\r\n![enter image description here][6] \r\n\r\n![enter image description here][7]\r\n\r\nRelevant Links:\r\nThe maven project shown above : https://github.com/ajorpheus/CompileTimeErrors\r\n&lt;br&gt;FAQ For &#39;Eclipse Mode&#39; / &#39;Automatically Compile&#39; a project : http://devnet.jetbrains.com/docs/DOC-1122\r\n\r\n  [1]: http://www.jetbrains.com/idea/documentation/migration_faq.html\r\n  [2]: http://i.stack.imgur.com/nOzAs.png\r\n  [3]: http://i.stack.imgur.com/n6Bks.png\r\n  [4]: http://i.stack.imgur.com/rS2AU.png\r\n  [5]: http://i.stack.imgur.com/7T2e9.png\r\n  [6]: http://i.stack.imgur.com/AQLqs.png\r\n  [7]: http://i.stack.imgur.com/lsNCg.png","title":"How to view the list of compile errors in IntelliJ?","body":"<p>I think this comes closest to what you wish:</p>\n\n<p>(From <a href=\"http://www.jetbrains.com/idea/documentation/migration_faq.html\">IntelliJ IDEA Q&amp;A for Eclipse Users</a>):</p>\n\n<p><img src=\"https://i.stack.imgur.com/nOzAs.png\" alt=\"enter image description here\"></p>\n\n<p>The above can be combined with a recently introduced option in Compiler settings to get a view very similar to that of Eclipse.</p>\n\n<p>Things to do:</p>\n\n<ol>\n<li><p>Switch to 'Problems' view in the Project pane: <br> <br> <img src=\"https://i.stack.imgur.com/n6Bks.png\" alt=\"enter image description here\"></p></li>\n<li><p>Enable the setting to compile the project automatically : <br> <br> <img src=\"https://i.stack.imgur.com/rS2AU.png\" alt=\"enter image description here\"></p></li>\n<li><p>Finally, look at the Problems view: <br> <br> <img src=\"https://i.stack.imgur.com/7T2e9.png\" alt=\"enter image description here\"></p></li>\n</ol>\n\n<p>Here is a comparison of what the same project (with a compilation error) looks like in Intellij IDEA 13.xx and Eclipse Kepler:</p>\n\n<p><img src=\"https://i.stack.imgur.com/AQLqs.png\" alt=\"enter image description here\"> </p>\n\n<p><img src=\"https://i.stack.imgur.com/lsNCg.png\" alt=\"enter image description here\"></p>\n\n<p>Relevant Links:\nThe maven project shown above : <a href=\"https://github.com/ajorpheus/CompileTimeErrors\">https://github.com/ajorpheus/CompileTimeErrors</a>\n<br>FAQ For 'Eclipse Mode' / 'Automatically Compile' a project : <a href=\"http://devnet.jetbrains.com/docs/DOC-1122\">http://devnet.jetbrains.com/docs/DOC-1122</a></p>\n"},{"tags":[],"owner":{"account_id":3993770,"reputation":544,"user_id":6497736,"display_name":"Eric Jiang"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1597757899,"creation_date":1508180919,"answer_id":46777445,"question_id":19364949,"body_markdown":"A more up to date answer for anyone else who comes across this:\r\n\r\n(from https://www.jetbrains.com/help/idea/eclipse.html, &#167;[Auto-compilation][1]; click for screenshots)\r\n\r\n**Compile automatically:**\r\n\r\n&gt; To enable automatic compilation, navigate to **Settings/Preferences | Build, Execution, Deployment | Compiler** and select the **Build project automatically** option\r\n\r\n**Show all errors in one place:**\r\n\r\n&gt; The **Problems tool window** appears if the **Make project automatically** option is enabled in the Compiler settings. It shows a list of problems that were detected on project compilation.\r\n\r\n**Use the Eclipse compiler:**\r\nThis is actually bundled in IntelliJ. It gives much more useful error messages, in my opinion, and, according to [this blog](https://web.archive.org/web/20190612165824/https://blog.dripstat.com/why-you-should-use-the-eclipse-compiler-in/), it&#39;s much faster since it was designed to run in the background of an IDE and uses incremental compilation.\r\n\r\n&gt; While Eclipse uses its own compiler, IntelliJ IDEA uses the javac compiler bundled with the project JDK. If you must use the Eclipse compiler, navigate to **Settings/Preferences | Build, Execution, Deployment | Compiler | Java Compiler** and select it...\r\nThe biggest difference between the Eclipse and javac compilers is that the Eclipse compiler is more tolerant to errors, and sometimes lets you run code that doesn&#39;t compile.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/migrating-from-eclipse-to-intellij-idea.html#15af89fd","title":"How to view the list of compile errors in IntelliJ?","body":"<p>A more up to date answer for anyone else who comes across this:</p>\n<p>(from <a href=\"https://www.jetbrains.com/help/idea/eclipse.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/eclipse.html</a>, §<a href=\"https://www.jetbrains.com/help/idea/migrating-from-eclipse-to-intellij-idea.html#15af89fd\" rel=\"noreferrer\">Auto-compilation</a>; click for screenshots)</p>\n<p><strong>Compile automatically:</strong></p>\n<blockquote>\n<p>To enable automatic compilation, navigate to <strong>Settings/Preferences | Build, Execution, Deployment | Compiler</strong> and select the <strong>Build project automatically</strong> option</p>\n</blockquote>\n<p><strong>Show all errors in one place:</strong></p>\n<blockquote>\n<p>The <strong>Problems tool window</strong> appears if the <strong>Make project automatically</strong> option is enabled in the Compiler settings. It shows a list of problems that were detected on project compilation.</p>\n</blockquote>\n<p><strong>Use the Eclipse compiler:</strong>\nThis is actually bundled in IntelliJ. It gives much more useful error messages, in my opinion, and, according to <a href=\"https://web.archive.org/web/20190612165824/https://blog.dripstat.com/why-you-should-use-the-eclipse-compiler-in/\" rel=\"noreferrer\">this blog</a>, it's much faster since it was designed to run in the background of an IDE and uses incremental compilation.</p>\n<blockquote>\n<p>While Eclipse uses its own compiler, IntelliJ IDEA uses the javac compiler bundled with the project JDK. If you must use the Eclipse compiler, navigate to <strong>Settings/Preferences | Build, Execution, Deployment | Compiler | Java Compiler</strong> and select it...\nThe biggest difference between the Eclipse and javac compilers is that the Eclipse compiler is more tolerant to errors, and sometimes lets you run code that doesn't compile.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8922829,"reputation":279,"user_id":6658628,"display_name":"Matthias Bohlen"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1509792594,"creation_date":1509792594,"answer_id":47109902,"question_id":19364949,"body_markdown":"On my system (IntelliJ Idea 2017.2.5), it was not sufficient to enable &quot;Make Project Automatically&quot;. I also had to use the menu item &quot;View, Tool Windows, Problems&quot; to see the problems tool window at the bottom of the screen.\r\n\r\n[![Opening the problems tool window][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GG8yZ.png","title":"How to view the list of compile errors in IntelliJ?","body":"<p>On my system (IntelliJ Idea 2017.2.5), it was not sufficient to enable \"Make Project Automatically\". I also had to use the menu item \"View, Tool Windows, Problems\" to see the problems tool window at the bottom of the screen.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GG8yZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GG8yZ.png\" alt=\"Opening the problems tool window\"></a></p>\n"},{"tags":[],"owner":{"account_id":161416,"reputation":1250,"user_id":382154,"accept_rate":69,"display_name":"Ammar Bozorgvar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572509149,"creation_date":1572509149,"answer_id":58639092,"question_id":19364949,"body_markdown":"You should disable Power Save Mode\r\n\r\nFor me I clicked over this button \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ND6eG.png\r\n\r\nthen disable Power Save Mode","title":"How to view the list of compile errors in IntelliJ?","body":"<p>You should disable Power Save Mode</p>\n\n<p>For me I clicked over this button </p>\n\n<p><a href=\"https://i.stack.imgur.com/ND6eG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ND6eG.png\" alt=\"enter image description here\"></a></p>\n\n<p>then disable Power Save Mode</p>\n"},{"tags":[],"owner":{"account_id":7730120,"reputation":751,"user_id":5853556,"accept_rate":68,"display_name":"Kervvv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611052581,"creation_date":1611052581,"answer_id":65789803,"question_id":19364949,"body_markdown":"the &quot;problem view&quot; mentioned in previous answers was helpful, but i saw it didn&#39;t catch all the errors in project. After running application, it began populating other classes that had issues but didn&#39;t appear at first in that problems view.","title":"How to view the list of compile errors in IntelliJ?","body":"<p>the &quot;problem view&quot; mentioned in previous answers was helpful, but i saw it didn't catch all the errors in project. After running application, it began populating other classes that had issues but didn't appear at first in that problems view.</p>\n"},{"tags":[],"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628426632,"creation_date":1628426632,"answer_id":68700909,"question_id":19364949,"body_markdown":"I my case I didn&#39;t set `Source Root` at the `src` folder. I make a typo to set as `Resources Root`. after fix it by `right click at src folder &gt; Mark Directory as &gt; Source Root`, the compile error shows.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u3JKEm.png","title":"How to view the list of compile errors in IntelliJ?","body":"<p>I my case I didn't set <code>Source Root</code> at the <code>src</code> folder. I make a typo to set as <code>Resources Root</code>. after fix it by <code>right click at src folder &gt; Mark Directory as &gt; Source Root</code>, the compile error shows.</p>\n<p><a href=\"https://i.stack.imgur.com/u3JKEm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u3JKEm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6211203,"reputation":87,"user_id":13660973,"display_name":"FarHooD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683859407,"creation_date":1683859407,"answer_id":76232814,"question_id":19364949,"body_markdown":" 1. Step One : Open Problems View(Alt+6)\r\n 2. Step Two : Enable Wide-View\r\n    (Top of View Options)\r\n 3. Step Three : In tab Project Errors Click Snipp\r\n    and Analyze Your project for finding any Problems Cat by File Type\r\n    And Other Stuff that Programmers need!","title":"How to view the list of compile errors in IntelliJ?","body":"<ol>\n<li>Step One : Open Problems View(Alt+6)</li>\n<li>Step Two : Enable Wide-View\n(Top of View Options)</li>\n<li>Step Three : In tab Project Errors Click Snipp\nand Analyze Your project for finding any Problems Cat by File Type\nAnd Other Stuff that Programmers need!</li>\n</ol>\n"}],"owner":{"account_id":1378614,"reputation":30076,"user_id":1312080,"accept_rate":55,"display_name":"amphibient"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138187,"favorite_count":0,"down_vote_count":1,"up_vote_count":208,"accepted_answer_id":19366569,"answer_count":7,"score":207,"last_activity_date":1683859407,"creation_date":1381768663,"question_id":19364949,"body_markdown":"I am looking for a way to view all compile errors in IntelliJ, similar to how they are displayed in Eclipse.  I tried searching here and Google but have not really found a solution.  I really like IntelliJ, I recently converted to it from Eclipse, and I hope this is just something I am missing and not a fundamental deficiency.","title":"How to view the list of compile errors in IntelliJ?","body":"<p>I am looking for a way to view all compile errors in IntelliJ, similar to how they are displayed in Eclipse.  I tried searching here and Google but have not really found a solution.  I really like IntelliJ, I recently converted to it from Eclipse, and I hope this is just something I am missing and not a fundamental deficiency.</p>\n"},{"tags":["java","android","parcelable"],"owner":{"account_id":25646873,"reputation":27,"user_id":19414831,"display_name":"Caelles Kharida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683859379,"creation_date":1683859379,"question_id":76232812,"body_markdown":"Like the title says, I don&#39;t know why when I try passing a object that contains another object that implements parcelable with `writeParcelable` and `readParcelable` messed up the data I pass?\r\n\r\nby messed up I mean. the `ID` is read by `Name`, and `Name` is not being passed because there is nothing to receive the data, and the object may or may not be passed at all.\r\n\r\nit is fine if I simply pass Strings, Integers, Double via parcelable, but not when I try to pass an Object which also implements parcelable.\r\n\r\nMaybe I used the wrong method? to my understanding because the object contains another object which implements parcelable, I should use readParcelable and writeParcelable. But if it&#39;s wrong can anyone tell me which method I should use and how to use it?\r\n\r\nThank you in advance.\r\n\r\nhere are the parcelable Objects :\r\n\r\n**First Object** :\r\n\r\n    public class Absen implements Parcelable{\r\n      private String ID;\r\n      private String Key;\r\n      private String Name;\r\n      private int Age;\r\n      private Anak Anak;\r\n\r\n    public Absen(){\r\n        //empty constructor\r\n    }\r\n    \r\n    public Absen(String ID, String Key, String Name, int Age, Anak Anak)\r\n     {\r\n       this.ID = ID;\r\n       this.Key = Key;\r\n       this.Name = Name;\r\n       this.Anak = Anak;\r\n       this.Age = Age;\r\n     }\r\n    \r\n    @RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\r\n         protected Absen (Parcel parcel)\r\n         {\r\n          this.ID = parcel.readString();\r\n          this.Key = parcel.readString();\r\n          this.Name = parcel.readString();\r\n          this.Anak = parcel.readParcelable(Anak.class.getClassLoader());\r\n          this.Age = parcel.readInt();\r\n         }\r\n    \r\n    @Override\r\n        public void writeToParcel(@NonNull Parcel parcel, int i) \r\n        {\r\n          parcel.writeString(getID());\r\n          parcel.writeString(getKey());\r\n          parcel.writeString(getName());\r\n          parcel.writeParcelable(getAnak(),i);\r\n          parcel.writeInt(getAge());\r\n        }\r\n    \r\n    @Override\r\n        public int describeContents() {\r\n            return 0;\r\n        }\r\n    \r\n    \r\n        public static final Creator&lt;Absen&gt;  CREATOR = new Creator&lt;Absen&gt;() {\r\n            @RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\r\n            @Override\r\n            public Absen createFromParcel(Parcel parcel) { return new Absen(parcel);}\r\n    \r\n            @Override\r\n            public Absen[] newArray(int i) {\r\n                return new Absen[i];\r\n            }\r\n        };\r\n    \r\n       //Setters Getters....\r\n      \r\n    }\r\n\r\n**Second Object**\r\n\r\n    public class Anak implements Parcelable {\r\n          private String ID;\r\n          private String Key;\r\n          private String Name;\r\n          private String parentName;\r\n    \r\n      public Anak{\r\n        //empty constructor\r\n      }\r\n      \r\n      public Anak(String ID, String Key, String Name, String parentName)\r\n      {\r\n           this.ID = ID;\r\n           this.Key = Key;\r\n           this.Name = Name;\r\n           this.parentName = parentName;\r\n      }\r\n    \r\n      protected Anak (Parcel parcel)\r\n        {\r\n            this.ID = parcel.readString();\r\n            this.Key = parcel.readString();\r\n            this.Name = parcel.readString();\r\n            this.parentName = parcel.readString();\r\n        }\r\n    \r\n      @Override\r\n        public void writeToParcel(Parcel parcel, int i)\r\n        {\r\n            parcel.writeString(getID());\r\n            parcel.writeString(getKey());\r\n            parcel.writeString(getName());\r\n            parcel.writeString(getParentName());\r\n        }\r\n    \r\n       @Override\r\n        public int describeContents(){ return  0;}\r\n    \r\n       public static final Creator&lt;Anak&gt; CREATOR = new Creator&lt;Anak&gt;() {\r\n            @Override\r\n            public Anak createFromParcel(Parcel parcel) {\r\n                return new Anak(parcel);\r\n            }\r\n    \r\n            @Override\r\n            public Anak[] newArray(int i) {\r\n                return new Anak[i];\r\n            }\r\n        };\r\n    }","title":"why writeParcelable and readParcelable messes up the data being passed?","body":"<p>Like the title says, I don't know why when I try passing a object that contains another object that implements parcelable with <code>writeParcelable</code> and <code>readParcelable</code> messed up the data I pass?</p>\n<p>by messed up I mean. the <code>ID</code> is read by <code>Name</code>, and <code>Name</code> is not being passed because there is nothing to receive the data, and the object may or may not be passed at all.</p>\n<p>it is fine if I simply pass Strings, Integers, Double via parcelable, but not when I try to pass an Object which also implements parcelable.</p>\n<p>Maybe I used the wrong method? to my understanding because the object contains another object which implements parcelable, I should use readParcelable and writeParcelable. But if it's wrong can anyone tell me which method I should use and how to use it?</p>\n<p>Thank you in advance.</p>\n<p>here are the parcelable Objects :</p>\n<p><strong>First Object</strong> :</p>\n<pre><code>public class Absen implements Parcelable{\n  private String ID;\n  private String Key;\n  private String Name;\n  private int Age;\n  private Anak Anak;\n\npublic Absen(){\n    //empty constructor\n}\n\npublic Absen(String ID, String Key, String Name, int Age, Anak Anak)\n {\n   this.ID = ID;\n   this.Key = Key;\n   this.Name = Name;\n   this.Anak = Anak;\n   this.Age = Age;\n }\n\n@RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\n     protected Absen (Parcel parcel)\n     {\n      this.ID = parcel.readString();\n      this.Key = parcel.readString();\n      this.Name = parcel.readString();\n      this.Anak = parcel.readParcelable(Anak.class.getClassLoader());\n      this.Age = parcel.readInt();\n     }\n\n@Override\n    public void writeToParcel(@NonNull Parcel parcel, int i) \n    {\n      parcel.writeString(getID());\n      parcel.writeString(getKey());\n      parcel.writeString(getName());\n      parcel.writeParcelable(getAnak(),i);\n      parcel.writeInt(getAge());\n    }\n\n@Override\n    public int describeContents() {\n        return 0;\n    }\n\n\n    public static final Creator&lt;Absen&gt;  CREATOR = new Creator&lt;Absen&gt;() {\n        @RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\n        @Override\n        public Absen createFromParcel(Parcel parcel) { return new Absen(parcel);}\n\n        @Override\n        public Absen[] newArray(int i) {\n            return new Absen[i];\n        }\n    };\n\n   //Setters Getters....\n  \n}\n</code></pre>\n<p><strong>Second Object</strong></p>\n<pre><code>public class Anak implements Parcelable {\n      private String ID;\n      private String Key;\n      private String Name;\n      private String parentName;\n\n  public Anak{\n    //empty constructor\n  }\n  \n  public Anak(String ID, String Key, String Name, String parentName)\n  {\n       this.ID = ID;\n       this.Key = Key;\n       this.Name = Name;\n       this.parentName = parentName;\n  }\n\n  protected Anak (Parcel parcel)\n    {\n        this.ID = parcel.readString();\n        this.Key = parcel.readString();\n        this.Name = parcel.readString();\n        this.parentName = parcel.readString();\n    }\n\n  @Override\n    public void writeToParcel(Parcel parcel, int i)\n    {\n        parcel.writeString(getID());\n        parcel.writeString(getKey());\n        parcel.writeString(getName());\n        parcel.writeString(getParentName());\n    }\n\n   @Override\n    public int describeContents(){ return  0;}\n\n   public static final Creator&lt;Anak&gt; CREATOR = new Creator&lt;Anak&gt;() {\n        @Override\n        public Anak createFromParcel(Parcel parcel) {\n            return new Anak(parcel);\n        }\n\n        @Override\n        public Anak[] newArray(int i) {\n            return new Anak[i];\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","sockets","jdbc","tcp"],"comments":[{"owner":{"account_id":9559927,"reputation":385,"user_id":7101158,"accept_rate":83,"display_name":"yolob 21"},"score":0,"creation_date":1552831271,"post_id":53775385,"comment_id":97151674,"body_markdown":"any update on this, encountering the same error with tomcat 9.0.5, jdk 1.8_201,found the problem using visual vm","body":"any update on this, encountering the same error with tomcat 9.0.5, jdk 1.8_201,found the problem using visual vm"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683856469,"post_id":53775385,"comment_id":134434235,"body_markdown":"This doesn&#39;t have anything to do with Tomcat. The DBMS is not responding. You should certainly use read timeouts, but make them long enough not to be intrusive. Check your database server.","body":"This doesn&#39;t have anything to do with Tomcat. The DBMS is not responding. You should certainly use read timeouts, but make them long enough not to be intrusive. Check your database server."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683858132,"creation_date":1544774566,"answer_id":53775613,"question_id":53775385,"body_markdown":"&gt; But the question arises, what are all the possible reasons causing Socket Read to wait indefinitely?\r\n\r\nThe only plausible reasons for a socket read to block are:\r\n\r\n  1.  The remote server hasn&#39;t written the the data that the client is trying to read.\r\n\r\n  2.  A networking problem blocking client / server communication.\r\n\r\n---------------\r\n\r\nIn this case, the most likely explanation was that your database server was offline or stuck.","title":"Possible reasons for java.net.SocketInputStream.socketRead0","body":"<blockquote>\n<p>But the question arises, what are all the possible reasons causing Socket Read to wait indefinitely?</p>\n</blockquote>\n<p>The only plausible reasons for a socket read to block are:</p>\n<ol>\n<li><p>The remote server hasn't written the the data that the client is trying to read.</p>\n</li>\n<li><p>A networking problem blocking client / server communication.</p>\n</li>\n</ol>\n<hr />\n<p>In this case, the most likely explanation was that your database server was offline or stuck.</p>\n"}],"owner":{"account_id":12306300,"reputation":81,"user_id":8979242,"display_name":"User"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3083,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683858132,"creation_date":1544773368,"question_id":53775385,"body_markdown":"I have my application war file hosted and running on Tomcat which had been in a good state for several months now. There has been no recent changes to the Tomcat configuration or any other environment related change like the Java version on the machine or the war file itself. Also, there has been no sudden or rapid increase in the load on the server as it is an isolated environment.\r\n\r\nJust over the last few days, the calls from the client to the server hangs up the client and the trace on the server shows,\r\n\r\n     java.net.SocketInputStream.socketRead0(Native Method)\r\n     java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n     java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n     java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n     com.microsoft.sqlserver.jdbc.TDSChannel.read(IOBuffer.java:1525)\r\n     com.microsoft.sqlserver.jdbc.TDSReader.readPacket(IOBuffer.java:3274)\r\n     com.microsoft.sqlserver.jdbc.TDSCommand.startResponse(IOBuffer.java:4433)\r\n     com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:386) \r\n\r\nYes, there can be an implementation for Read Timeout to prevent the hang which will result in Socket Timeout Exception and prevent the hang of the client. But the question arises, what are all the possible **reasons** causing **Socket Read to wait indefinitely** ?\r\n\r\nI tried adding the Read Timeout which causes a huge number of exceptions at the client end and causes failures. Any help on what are the reasons for the **Socket Read not to return** and wait indefinitely?","title":"Possible reasons for java.net.SocketInputStream.socketRead0","body":"<p>I have my application war file hosted and running on Tomcat which had been in a good state for several months now. There has been no recent changes to the Tomcat configuration or any other environment related change like the Java version on the machine or the war file itself. Also, there has been no sudden or rapid increase in the load on the server as it is an isolated environment.</p>\n<p>Just over the last few days, the calls from the client to the server hangs up the client and the trace on the server shows,</p>\n<pre><code> java.net.SocketInputStream.socketRead0(Native Method)\n java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n java.net.SocketInputStream.read(SocketInputStream.java:171)\n java.net.SocketInputStream.read(SocketInputStream.java:141)\n com.microsoft.sqlserver.jdbc.TDSChannel.read(IOBuffer.java:1525)\n com.microsoft.sqlserver.jdbc.TDSReader.readPacket(IOBuffer.java:3274)\n com.microsoft.sqlserver.jdbc.TDSCommand.startResponse(IOBuffer.java:4433)\n com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:386) \n</code></pre>\n<p>Yes, there can be an implementation for Read Timeout to prevent the hang which will result in Socket Timeout Exception and prevent the hang of the client. But the question arises, what are all the possible <strong>reasons</strong> causing <strong>Socket Read to wait indefinitely</strong> ?</p>\n<p>I tried adding the Read Timeout which causes a huge number of exceptions at the client end and causes failures. Any help on what are the reasons for the <strong>Socket Read not to return</strong> and wait indefinitely?</p>\n"},{"tags":["java","collections","hashmap","garbage-collection"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1683857157,"post_id":76232696,"comment_id":134434296,"body_markdown":"We&#39;ll need to see the code in `updateSomeValueInEntity()`","body":"We&#39;ll need to see the code in <code>updateSomeValueInEntity()</code>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1683857301,"post_id":76232696,"comment_id":134434307,"body_markdown":"`cause any memory issues.` The main concern I&#39;d have is memory visibility / thread synchronization.  Mutable objects can have issues there.  But it also depends on your intended use of this map, and we don&#39;t know that.","body":"<code>cause any memory issues.</code> The main concern I&#39;d have is memory visibility / thread synchronization.  Mutable objects can have issues there.  But it also depends on your intended use of this map, and we don&#39;t know that."},{"owner":{"account_id":5342088,"reputation":33,"user_id":4258796,"display_name":"Aditya"},"score":0,"creation_date":1683857499,"post_id":76232696,"comment_id":134434323,"body_markdown":"updateSomeValueInEntity() essentially just updates some Integer fields in the Entity. It&#39;s just a simple value change based on some logic, I thought it was irrelevant here.","body":"updateSomeValueInEntity() essentially just updates some Integer fields in the Entity. It&#39;s just a simple value change based on some logic, I thought it was irrelevant here."},{"owner":{"account_id":5342088,"reputation":33,"user_id":4258796,"display_name":"Aditya"},"score":0,"creation_date":1683857527,"post_id":76232696,"comment_id":134434324,"body_markdown":"The values of the map would be eventually collected as an ArrayList()","body":"The values of the map would be eventually collected as an ArrayList()"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1683878553,"post_id":76232696,"comment_id":134436920,"body_markdown":"Since `HashMap` is not thread safe, concurrent access is out of the game anyway. For single threaded access, this works without problems. You may still avoid unnecessary hash lookups by omitting the `containsKey` check. Just use `get` in the first place and check the result for `null`. Using `compute` can even avoid the double hash lookup in the case of an absent mapping, but this may be overkill. As a reminder, before Java&#160;8, we used `HashMap` exactly that way, without `compute` or `replace`, for more than a decade…","body":"Since <code>HashMap</code> is not thread safe, concurrent access is out of the game anyway. For single threaded access, this works without problems. You may still avoid unnecessary hash lookups by omitting the <code>containsKey</code> check. Just use <code>get</code> in the first place and check the result for <code>null</code>. Using <code>compute</code> can even avoid the double hash lookup in the case of an absent mapping, but this may be overkill. As a reminder, before Java 8, we used <code>HashMap</code> exactly that way, without <code>compute</code> or <code>replace</code>, for more than a decade…"}],"owner":{"account_id":5342088,"reputation":33,"user_id":4258796,"display_name":"Aditya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683856995,"creation_date":1683856995,"question_id":76232696,"body_markdown":"I&#39;m using a ```HashMap``` in java 11 to store a ```String``` and ```Object``` mapping.\r\nThe logic: \r\n```\r\nif (map.containsKey(someStringValue)) {\r\n   Object existingItem = map.get(someStringValue);\r\n   updateSomeValueInEntity(existingItem);\r\n}\r\nelse {\r\n   Object someEntity = generateNewEntity(someItemId);\r\n   map.put(someStringValue, someEntity);\r\n}\r\n```\r\n\r\nThis code works since ```map.get()``` would return the reference of the value. The update operation on this reference would in turn update the value in the map for that particular key. Therefore, I need not do ```map.put()``` for the updated value or any other fancy map functions available such as ```replace()``` or ```compute()```. \r\n\r\nLooking at these new HashMap functions, I&#39;m wondering if my code would cause any memory issues. It technically shouldn&#39;t since I&#39;m updating the same reference associated to the key without creating any new assigned references which I might not use there by missing out on garbage collecting and causing memory issues. \r\n\r\nI&#39;m still curious if for my use-case I need to use HashMap update methods or if my implementation is fine and has no memory wastage concerns. ","title":"Update Operations in a java HashMap","body":"<p>I'm using a <code>HashMap</code> in java 11 to store a <code>String</code> and <code>Object</code> mapping.\nThe logic:</p>\n<pre><code>if (map.containsKey(someStringValue)) {\n   Object existingItem = map.get(someStringValue);\n   updateSomeValueInEntity(existingItem);\n}\nelse {\n   Object someEntity = generateNewEntity(someItemId);\n   map.put(someStringValue, someEntity);\n}\n</code></pre>\n<p>This code works since <code>map.get()</code> would return the reference of the value. The update operation on this reference would in turn update the value in the map for that particular key. Therefore, I need not do <code>map.put()</code> for the updated value or any other fancy map functions available such as <code>replace()</code> or <code>compute()</code>.</p>\n<p>Looking at these new HashMap functions, I'm wondering if my code would cause any memory issues. It technically shouldn't since I'm updating the same reference associated to the key without creating any new assigned references which I might not use there by missing out on garbage collecting and causing memory issues.</p>\n<p>I'm still curious if for my use-case I need to use HashMap update methods or if my implementation is fine and has no memory wastage concerns.</p>\n"},{"tags":["java","android","user-interface"],"answers":[{"tags":[],"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683856522,"creation_date":1682901235,"answer_id":76144186,"question_id":76142235,"body_markdown":"__Update:__\r\nIf we are using ```ConstraintLayout```, then the entire thing becomes simpler. Consider the following example, no matter how much content there is, ```pane2``` will always show up at the bottom, and even be raised on top of the appearing keyboard. This is because it was instructed to always be at the bottom. Also notice how ```pane1``` was all nested inside a ```ScrollView``` so that it can grow depending on screen height/ content etc. Basically, we just separated the information providing panel and submission panels. Hope this solves it.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n\txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\tandroid:layout_width=&quot;match_parent&quot;\r\n\tandroid:layout_height=&quot;match_parent&quot;\r\n\txmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\t&lt;ScrollView\r\n\t\tandroid:id=&quot;@+id/pane1&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;0dp&quot;\r\n\t\tapp:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintBottom_toTopOf=&quot;@id/pane2&quot;\r\n\t\tapp:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\r\n\t\t&lt;LinearLayout\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\tandroid:orientation=&quot;vertical&quot;\r\n\t\t\tandroid:gravity=&quot;top&quot;&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t\t&lt;TextView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:text=&quot;Enter something:&quot;/&gt;\r\n\t\t\t&lt;EditText android:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;/&gt;\r\n\t\t&lt;/LinearLayout&gt;\r\n\t&lt;/ScrollView&gt;\r\n\t&lt;LinearLayout\r\n\t\tandroid:id=&quot;@+id/pane2&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:orientation=&quot;vertical&quot;\r\n\t\tapp:layout_constraintTop_toBottomOf=&quot;@id/pane1&quot;\r\n\t\tapp:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\r\n\t\t&lt;Button android:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\tandroid:text=&quot;SUBMIT&quot;/&gt;\r\n\t&lt;/LinearLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n_----------------------------------------------------------------_\r\n\r\nThe issue is handled by adding ```android:isScrollContainer=&quot;true&quot;``` to the immediate layout in quesiton for target layout xml file.\r\n\r\nUpdate: What you need to do is declare a scrollview and put all the children inside. scrollview doesn&#39;t allow that so you&#39;ll need to encase all them within a linearlayout. then add the property ```android:isScrollContainer``` in your __Scrollview__ tag and set its value to ```true```. remember, _non-direct_ children of the constaint view should not have constraint attributes. only direct children has them. so once your textviews are inside the scrollview, only the scrollview should have the constraint properties, and they should no longer be there on your textviews as they would be __inside__ the scrollview and not __directly__ inside the main constraintlayout.\r\n\r\n```\r\n&lt;ScrollView\r\n\tandroid:layout_width....\r\n\tandroid:isScrollContainer=&quot;true&quot;\r\n\tconstraint-props....&gt;\r\n\t&lt;LinearLayout\r\n\t\t.....\r\n\t\tandroid:orientation=&quot;vertical&quot;&gt;\r\n\t\t... child\r\n\t\t... child\r\n\t\t... child\r\n\t&lt;/LinearLayout&gt;\r\n&lt;/ScrollView&gt;\r\n```","title":"How to adjust bottom sheet dialog when the keyboard shows up","body":"<p><strong>Update:</strong>\nIf we are using <code>ConstraintLayout</code>, then the entire thing becomes simpler. Consider the following example, no matter how much content there is, <code>pane2</code> will always show up at the bottom, and even be raised on top of the appearing keyboard. This is because it was instructed to always be at the bottom. Also notice how <code>pane1</code> was all nested inside a <code>ScrollView</code> so that it can grow depending on screen height/ content etc. Basically, we just separated the information providing panel and submission panels. Hope this solves it.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;ScrollView\n        android:id=&quot;@+id/pane1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/pane2&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:gravity=&quot;top&quot;&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Enter something:&quot;/&gt;\n            &lt;EditText android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/ScrollView&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/pane2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/pane1&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\n        &lt;Button android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;SUBMIT&quot;/&gt;\n    &lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><em>----------------------------------------------------------------</em></p>\n<p>The issue is handled by adding <code>android:isScrollContainer=&quot;true&quot;</code> to the immediate layout in quesiton for target layout xml file.</p>\n<p>Update: What you need to do is declare a scrollview and put all the children inside. scrollview doesn't allow that so you'll need to encase all them within a linearlayout. then add the property <code>android:isScrollContainer</code> in your <strong>Scrollview</strong> tag and set its value to <code>true</code>. remember, <em>non-direct</em> children of the constaint view should not have constraint attributes. only direct children has them. so once your textviews are inside the scrollview, only the scrollview should have the constraint properties, and they should no longer be there on your textviews as they would be <strong>inside</strong> the scrollview and not <strong>directly</strong> inside the main constraintlayout.</p>\n<pre><code>&lt;ScrollView\n    android:layout_width....\n    android:isScrollContainer=&quot;true&quot;\n    constraint-props....&gt;\n    &lt;LinearLayout\n        .....\n        android:orientation=&quot;vertical&quot;&gt;\n        ... child\n        ... child\n        ... child\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n"}],"owner":{"account_id":11052429,"reputation":478,"user_id":10089200,"display_name":"Shout"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683856522,"creation_date":1682870723,"question_id":76142235,"body_markdown":"I want to achieve a similar effect as this application:\r\n\r\nWithout a keyboard:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nwith a keyboard:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nmy code looks like this:\r\n\r\nrecovery_password_dialog.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:id=&quot;@+id/parent&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView6&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:text=&quot;Odzyskiwanie hasła&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/message&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:text=&quot;Wpisz sw&#243;j email, a my wyślemy wiadomość w celu zresetowania hasła&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/textView6&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/email_input_layout&quot;\r\n        android:hint=&quot;@string/email&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:counterMaxLength=&quot;64&quot;\r\n        app:startIconDrawable=&quot;@drawable/mail_icon&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/message&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.1&quot;\r\n        app:layout_constraintWidth_percent=&quot;0.9&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/email&quot;\r\n            android:inputType=&quot;textEmailAddress&quot;/&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/invalidEmailText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/invalid_email&quot;\r\n        android:textColor=&quot;@color/red&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/email_input_layout&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.1&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/sendEmail&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/rounding_rect&quot;\r\n        android:text=&quot;@string/send_email&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:layout_marginBottom=&quot;50dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/invalidEmailText&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n        app:layout_constraintWidth_percent=&quot;0.9&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nLoginFragment.java\r\n```java\r\nvar recoverPasswordButton = binding.recoverPassword;\r\nrecoverPasswordButton.setOnClickListener(v -&gt; {\r\n    var inflater = LayoutInflater.from(requireContext());\r\n    var bottomSheetDialog = new BottomSheetDialog(requireContext(), R.style.BottomSheetDialogTheme);\r\n    var sheetBinding = RecoveryPasswordDialogBinding.inflate(inflater);\r\n    bottomSheetDialog.setContentView(sheetBinding.getRoot());\r\n    bottomSheetDialog.show();\r\n});\r\n```\r\n\r\njust a simple code that only shows a dialog window without any widgets functionalities yet.\r\n\r\nresult:\r\n[![enter image description here][3]][3] \r\n[![enter image description here][4]][4]\r\n\r\n\r\nI don&#39;t care about the theme right now. Colors don&#39;t matter. What matters is that the button hides under the keyboard which is not what I want. I&#39;ve read that `windowSoftInputMode` may help with this, but my default setup has it already configured: `android:windowSoftInputMode=&quot;stateHidden|adjustResize&quot;`. There was also written that ScrollView may help, but it actually doesn&#39;t change anything.\r\n\r\nAny ideas on how can I achieve the second screenshot effect?\r\n\r\n**EDIT** with scrollview\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fillViewport=&quot;true&quot;\r\n    android:isScrollContainer=&quot;true&quot;&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:id=&quot;@+id/parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView6&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:text=&quot;@string/password_recovery&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/message&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:text=&quot;Wpisz sw&#243;j email, a my wyślemy wiadomość w celu zresetowania hasła&quot;\r\n            android:textSize=&quot;15sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/textView6&quot;/&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/email_input_layout&quot;\r\n            android:hint=&quot;@string/email&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:counterMaxLength=&quot;64&quot;\r\n            app:startIconDrawable=&quot;@drawable/mail_icon&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/message&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.1&quot;\r\n            app:layout_constraintWidth_percent=&quot;0.9&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/email&quot;\r\n                android:inputType=&quot;textEmailAddress&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/invalidEmailText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/invalid_email&quot;\r\n            android:textColor=&quot;@color/red&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:visibility=&quot;invisible&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/email_input_layout&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.1&quot;/&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/sendEmail&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@drawable/rounding_rect&quot;\r\n            android:text=&quot;@string/send_email&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_marginBottom=&quot;50dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/invalidEmailText&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n            app:layout_constraintWidth_percent=&quot;0.9&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/mgTth.jpg\r\n  [2]: https://i.stack.imgur.com/iaQ4n.jpg\r\n  [3]: https://i.stack.imgur.com/yIEcS.png\r\n  [4]: https://i.stack.imgur.com/7MQOl.png","title":"How to adjust bottom sheet dialog when the keyboard shows up","body":"<p>I want to achieve a similar effect as this application:</p>\n<p>Without a keyboard:</p>\n<p><a href=\"https://i.stack.imgur.com/mgTth.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mgTth.jpg\" alt=\"enter image description here\" /></a></p>\n<p>with a keyboard:</p>\n<p><a href=\"https://i.stack.imgur.com/iaQ4n.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iaQ4n.jpg\" alt=\"enter image description here\" /></a></p>\n<p>my code looks like this:</p>\n<p>recovery_password_dialog.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:id=&quot;@+id/parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView6&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;10dp&quot;\n        android:text=&quot;Odzyskiwanie hasła&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/message&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;10dp&quot;\n        android:text=&quot;Wpisz swój email, a my wyślemy wiadomość w celu zresetowania hasła&quot;\n        android:textSize=&quot;15sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textAlignment=&quot;center&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/textView6&quot;/&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/email_input_layout&quot;\n        android:hint=&quot;@string/email&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:counterMaxLength=&quot;64&quot;\n        app:startIconDrawable=&quot;@drawable/mail_icon&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/message&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintVertical_bias=&quot;0.1&quot;\n        app:layout_constraintWidth_percent=&quot;0.9&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/email&quot;\n            android:inputType=&quot;textEmailAddress&quot;/&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/invalidEmailText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/invalid_email&quot;\n        android:textColor=&quot;@color/red&quot;\n        android:textStyle=&quot;bold&quot;\n        android:visibility=&quot;invisible&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/email_input_layout&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.1&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/sendEmail&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/rounding_rect&quot;\n        android:text=&quot;@string/send_email&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;16sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:layout_marginBottom=&quot;50dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/invalidEmailText&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\n        app:layout_constraintWidth_percent=&quot;0.9&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>LoginFragment.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>var recoverPasswordButton = binding.recoverPassword;\nrecoverPasswordButton.setOnClickListener(v -&gt; {\n    var inflater = LayoutInflater.from(requireContext());\n    var bottomSheetDialog = new BottomSheetDialog(requireContext(), R.style.BottomSheetDialogTheme);\n    var sheetBinding = RecoveryPasswordDialogBinding.inflate(inflater);\n    bottomSheetDialog.setContentView(sheetBinding.getRoot());\n    bottomSheetDialog.show();\n});\n</code></pre>\n<p>just a simple code that only shows a dialog window without any widgets functionalities yet.</p>\n<p>result:\n<a href=\"https://i.stack.imgur.com/yIEcS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yIEcS.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/7MQOl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7MQOl.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't care about the theme right now. Colors don't matter. What matters is that the button hides under the keyboard which is not what I want. I've read that <code>windowSoftInputMode</code> may help with this, but my default setup has it already configured: <code>android:windowSoftInputMode=&quot;stateHidden|adjustResize&quot;</code>. There was also written that ScrollView may help, but it actually doesn't change anything.</p>\n<p>Any ideas on how can I achieve the second screenshot effect?</p>\n<p><strong>EDIT</strong> with scrollview</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fillViewport=&quot;true&quot;\n    android:isScrollContainer=&quot;true&quot;&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        tools:context=&quot;.MainActivity&quot;\n        android:id=&quot;@+id/parent&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView6&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;10dp&quot;\n            android:text=&quot;@string/password_recovery&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/message&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;10dp&quot;\n            android:text=&quot;Wpisz swój email, a my wyślemy wiadomość w celu zresetowania hasła&quot;\n            android:textSize=&quot;15sp&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textAlignment=&quot;center&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/textView6&quot;/&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/email_input_layout&quot;\n            android:hint=&quot;@string/email&quot;\n            app:endIconMode=&quot;clear_text&quot;\n            app:counterMaxLength=&quot;64&quot;\n            app:startIconDrawable=&quot;@drawable/mail_icon&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/message&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n            app:layout_constraintVertical_bias=&quot;0.1&quot;\n            app:layout_constraintWidth_percent=&quot;0.9&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:id=&quot;@+id/email&quot;\n                android:inputType=&quot;textEmailAddress&quot;/&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/invalidEmailText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/invalid_email&quot;\n            android:textColor=&quot;@color/red&quot;\n            android:textStyle=&quot;bold&quot;\n            android:visibility=&quot;invisible&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/email_input_layout&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.1&quot;/&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/sendEmail&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@drawable/rounding_rect&quot;\n            android:text=&quot;@string/send_email&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;16sp&quot;\n            android:textStyle=&quot;bold&quot;\n            android:layout_marginBottom=&quot;50dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/invalidEmailText&quot;\n            app:layout_constraintVertical_bias=&quot;0.0&quot;\n            app:layout_constraintWidth_percent=&quot;0.9&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n"},{"tags":["java","date","simpledateformat","date-format"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1683852390,"post_id":76232447,"comment_id":134433887,"body_markdown":"`&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;` is not the same as `&quot;2023-03-13 12:00:02&quot;` - you parsing format needs to match the expected input `String` otherwise it won&#39;t work. I&#39;d also encourage you to stop using the `java.util` based date/time classes and make use of the newer `java.time` APIs instead","body":"<code>&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;</code> is not the same as <code>&quot;2023-03-13 12:00:02&quot;</code> - you parsing format needs to match the expected input <code>String</code> otherwise it won&#39;t work. I&#39;d also encourage you to stop using the <code>java.util</code> based date/time classes and make use of the newer <code>java.time</code> APIs instead"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1683852739,"post_id":76232447,"comment_id":134433914,"body_markdown":"I&#39;m assuming your trying to present nano seconds and not milliseconds, which `SimpleDateFormat` doesn&#39;t support, instead you should be trying to use something more like `LocalDateTime.parse(dateService, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)).format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy, HH:mm:ss.nnnnnnnn&quot;))`","body":"I&#39;m assuming your trying to present nano seconds and not milliseconds, which <code>SimpleDateFormat</code> doesn&#39;t support, instead you should be trying to use something more like <code>LocalDateTime.parse(dateService, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)).format(DateTimeFormatter.ofPattern(&quot;dd&#47;MM&#47;yyyy, HH:mm:ss.nnnnnnnn&quot;))</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1683860319,"post_id":76232447,"comment_id":134434525,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDateTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDateTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683988309,"post_id":76232447,"comment_id":134452431,"body_markdown":"`LocalDateTime .parse(&quot;2023-03-13 12:00:02&quot;, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;)) .format(DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss.SSSSSSSSS&quot;))`. It yields `13-03-2023 12:00:02.000000000`.","body":"<code>LocalDateTime .parse(&quot;2023-03-13 12:00:02&quot;, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;)) .format(DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss.SSSSSSSSS&quot;))</code>. It yields <code>13-03-2023 12:00:02.000000000</code>."}],"answers":[{"tags":[],"owner":{"account_id":11389357,"reputation":9,"user_id":8349982,"display_name":"baoyinlei"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683854611,"creation_date":1683854611,"answer_id":76232571,"question_id":76232447,"body_markdown":"```\r\nstatic String formatoFechaFinBd(String dateService) throws ParseException {\r\n        Date date = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).parse(dateService);\r\n        String formattedDate = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss.SSSSSSSSS&quot;).format(date);\r\n        return formattedDate;\r\n    }\r\n```","title":"How to format a date inside a String with Java?","body":"<pre><code>static String formatoFechaFinBd(String dateService) throws ParseException {\n        Date date = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).parse(dateService);\n        String formattedDate = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss.SSSSSSSSS&quot;).format(date);\n        return formattedDate;\n    }\n</code></pre>\n"}],"owner":{"account_id":9015198,"reputation":141,"user_id":7552035,"display_name":"Root93"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683860408,"answer_count":1,"score":0,"last_activity_date":1683854611,"creation_date":1683852070,"question_id":76232447,"body_markdown":"I have a String that receives the following date format (yyyy-MM-dd ...)\r\n\r\n&gt; &quot;2023-03-13 12:00:02&quot;\r\n\r\nand i need to change the format to the following (dd-MM-yyyy ...) \r\n\r\n    &quot;13-03-2023 12:00:02.000000000&quot;\r\n\r\nI tried to build the following method but it doesn&#39;t work and I don&#39;t have much idea how it should be\r\n\r\n    String formatoFechaFinBd(String dateService) throws ParseException {\r\n    \t\tDate date = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;).parse(dateService);\r\n    \t\t\r\n    \t\tString formattedDate = new SimpleDateFormat(&quot;dd/MM/yyyy, Ka&quot;).format(date);\r\n    \t    return formattedDate;\r\n    \t}\r\n\r\n\r\nHow can I do the conversion I need to get that date format in the String","title":"How to format a date inside a String with Java?","body":"<p>I have a String that receives the following date format (yyyy-MM-dd ...)</p>\n<blockquote>\n<p>&quot;2023-03-13 12:00:02&quot;</p>\n</blockquote>\n<p>and i need to change the format to the following (dd-MM-yyyy ...)</p>\n<pre><code>&quot;13-03-2023 12:00:02.000000000&quot;\n</code></pre>\n<p>I tried to build the following method but it doesn't work and I don't have much idea how it should be</p>\n<pre><code>String formatoFechaFinBd(String dateService) throws ParseException {\n        Date date = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;).parse(dateService);\n        \n        String formattedDate = new SimpleDateFormat(&quot;dd/MM/yyyy, Ka&quot;).format(date);\n        return formattedDate;\n    }\n</code></pre>\n<p>How can I do the conversion I need to get that date format in the String</p>\n"},{"tags":["java","antlr","antlr4","abstract-syntax-tree"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683833372,"post_id":76229894,"comment_id":134431138,"body_markdown":"Does this answer your question? [How to create AST with ANTLR4?](https://stackoverflow.com/questions/29971097/how-to-create-ast-with-antlr4)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29971097/how-to-create-ast-with-antlr4\">How to create AST with ANTLR4?</a>"},{"owner":{"account_id":28546856,"reputation":11,"user_id":21852177,"display_name":"Bj&#248;rn Jakobsen"},"score":0,"creation_date":1683910675,"post_id":76229894,"comment_id":134444257,"body_markdown":"@aled The answer was not quite what I needed, but it gave me the inspiration I needed to fix it and it now works flawlessly.","body":"@aled The answer was not quite what I needed, but it gave me the inspiration I needed to fix it and it now works flawlessly."}],"answers":[{"tags":[],"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683854598,"creation_date":1683854598,"answer_id":76232570,"question_id":76229894,"body_markdown":"This construct:\r\n```\r\nstmts : s1=stmt s2=stmts\r\n        | ;\r\nstmt : INTVAL &#39;;&#39; ;\r\n```\r\n\r\nWill create a parse tree that is n nodes deep where n is the number of `stmt`s, and each level will have its own `stmts` node.  This will make it a bit cumbersome to navigate to the &quot;parent&quot; of the top level `stmts` node.  \r\n\r\nThis is not an uncommon structure in parser generators less expressive than ANTLR.  However, in ANTLR you can get the same ability to parse &quot;one or more `stmt`s&quot; as a `stmts` rule, like so:\r\n\r\n```\r\nstmts: stmt+;\r\n```\r\n\r\nIf you take a look at the Ctx class generated for this rule, you&#39;ll find that all of your `stmt`s will be in a list in the `stmts` Ctx.  You won&#39;t have to trace up an extended tree to find the root `stmts`&#39;s parent.\r\n\r\nYou don&#39;t provide sample input so it&#39;s not easy to provide images of the difference between the parse trees, but you can use the `grun` alias, an ANTLR plugin for your IDE or [Antlr Lab][1] to see the difference in the two parse trees. Take a look at the parse tree with and without the changes, and it should be obvious that using `+` to build the list produces a parse tree that&#39;s much more manageable.\r\n\r\nThis should make it much easier to gather all of the `stmt` nodes that are the children of your `stmts` node (and you&#39;ll only have a single `stmts` node that just contains a list of the `stmt` children).\r\n\r\nNote:  You may even find, that it simplifies things enough that you can change:\r\n\r\n```\r\nsetup : SETUP LCURLY s=stmts RCURLY ;\r\nround : ROUND LCURLY s=stmts RCURLY ;\r\n```\r\n\r\nto:\r\n\r\n```\r\nsetup : SETUP LCURLY s=stmt+ RCURLY ;\r\nround : ROUND LCURLY s=stmt+ RCURLY ;\r\n```\r\nand drop the `stmts` rule entirely. \r\n\r\n  [1]: http://lab.antlr.org","title":"How do I choose a parent node when building an AST in antlr4?","body":"<p>This construct:</p>\n<pre><code>stmts : s1=stmt s2=stmts\n        | ;\nstmt : INTVAL ';' ;\n</code></pre>\n<p>Will create a parse tree that is n nodes deep where n is the number of <code>stmt</code>s, and each level will have its own <code>stmts</code> node.  This will make it a bit cumbersome to navigate to the &quot;parent&quot; of the top level <code>stmts</code> node.</p>\n<p>This is not an uncommon structure in parser generators less expressive than ANTLR.  However, in ANTLR you can get the same ability to parse &quot;one or more <code>stmt</code>s&quot; as a <code>stmts</code> rule, like so:</p>\n<pre><code>stmts: stmt+;\n</code></pre>\n<p>If you take a look at the Ctx class generated for this rule, you'll find that all of your <code>stmt</code>s will be in a list in the <code>stmts</code> Ctx.  You won't have to trace up an extended tree to find the root <code>stmts</code>'s parent.</p>\n<p>You don't provide sample input so it's not easy to provide images of the difference between the parse trees, but you can use the <code>grun</code> alias, an ANTLR plugin for your IDE or <a href=\"http://lab.antlr.org\" rel=\"nofollow noreferrer\">Antlr Lab</a> to see the difference in the two parse trees. Take a look at the parse tree with and without the changes, and it should be obvious that using <code>+</code> to build the list produces a parse tree that's much more manageable.</p>\n<p>This should make it much easier to gather all of the <code>stmt</code> nodes that are the children of your <code>stmts</code> node (and you'll only have a single <code>stmts</code> node that just contains a list of the <code>stmt</code> children).</p>\n<p>Note:  You may even find, that it simplifies things enough that you can change:</p>\n<pre><code>setup : SETUP LCURLY s=stmts RCURLY ;\nround : ROUND LCURLY s=stmts RCURLY ;\n</code></pre>\n<p>to:</p>\n<pre><code>setup : SETUP LCURLY s=stmt+ RCURLY ;\nround : ROUND LCURLY s=stmt+ RCURLY ;\n</code></pre>\n<p>and drop the <code>stmts</code> rule entirely.</p>\n"}],"owner":{"account_id":28546856,"reputation":11,"user_id":21852177,"display_name":"Bj&#248;rn Jakobsen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76232570,"answer_count":1,"score":0,"last_activity_date":1683854598,"creation_date":1683823512,"question_id":76229894,"body_markdown":"I have the following AST: \r\n```\r\nimport org.antlr.v4.runtime.CommonToken;\r\nimport org.antlr.v4.runtime.Token;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\npublic class AST {\r\n    Token token;             // from which token do we create this node?\r\n    List&lt;AST&gt; children;      // normalized list of children\r\n\r\n    public AST() { ; } // for making nil-rooted nodes\r\n\r\n    public AST(Token token) { this.token = token; }\r\n\r\n    /** Create node from token type; used mainly for imaginary tokens */\r\n    public AST(int tokenType) { this.token = new CommonToken(tokenType); }\r\n\r\n    /** external visitors execute the same action for all nodes\r\n     * with same node type while walking\r\n     */\r\n    public int getNodeType() { return token.getType(); }\r\n\r\n    public void addChild(AST t) {\r\n        if (children == null) children = new ArrayList&lt;&gt;();\r\n        children.add(t);\r\n    }\r\n    public void addChildren(AST... nodes) {\r\n        List&lt;AST&gt; asts = new ArrayList&lt;AST&gt;();\r\n        for (AST node : nodes){asts.add(node);}\r\n        for (int i = 0; i &lt; asts.size(); i++) {\r\n            this.addChild(asts.get(i));\r\n        }\r\n    }\r\n\r\n    public List&lt;AST&gt; getChildren() { return children; }\r\n\r\n    /** to represent flat lists. A list is a subtree w/o a root, which we simulate\r\n     * with a nil root node. A nil node is a node with token == null.\r\n     */\r\n    public boolean isNil() { return token == null; }\r\n\r\n    /** Compute string for single node */\r\n    public String toString() {\r\n        String typeName = CLUBParser.VOCABULARY.getSymbolicName(getNodeType());\r\n        typeName = typeName == null ? token.getText() : typeName;\r\n        return token != null ? &quot;&lt;&quot; +typeName +&quot;, &#39;&quot; + token.getText() +&quot;&#39;&gt;&quot;: &quot;nil&quot;;\r\n    }\r\n\r\n    /** Compute string for a whole tree */\r\n    public String toStringTree() {\r\n        if (children == null || children.isEmpty()) return this.toString();\r\n\r\n        StringBuilder buf = new StringBuilder();\r\n        if (!isNil()) {\r\n            buf.append(&#39;(&#39;);\r\n            buf.append(this.toString());\r\n            buf.append(&#39; &#39;);\r\n        }\r\n        for (int i = 0; i &lt; children.size(); i++) {\r\n            AST t = children.get(i); // normalized (unnamed) children\r\n            if (t != null) {  // Null check\r\n                if (i &gt; 0) buf.append(&#39; &#39;);\r\n                buf.append(t.toStringTree());\r\n            }\r\n        }\r\n        if (!isNil()) buf.append(&#39;)&#39;);\r\n        return buf.toString();\r\n    }\r\n}\r\n```\r\nThis Grammar:\r\n\r\n```\r\ngrammar CLUB;\r\n\r\nprogram : setup round turn funcs EOF ;\r\nsetup : SETUP LCURLY s=stmts RCURLY ;\r\nround : ROUND LCURLY s=stmts RCURLY ;\r\nturn : TURN &#39;(&#39; CLASSID VARID &#39;)&#39; &#39;{&#39; s=stmts &#39;}&#39;\r\n        | ;\r\nfuncs : func+\r\n        | ;\r\nstmts : s1=stmt s2=stmts\r\n        | ;\r\nfunc : FUNCID &#39;(&#39; tParams &#39;)&#39; &#39;{&#39; stmts &#39;}&#39;\r\n        | FUNCID &#39;(&#39; &#39;)&#39; &#39;{&#39; stmts &#39;}&#39; ;\r\ntParams : tParam &#39;,&#39; tParams;\r\nstmt : INTVAL &#39;;&#39; ;\r\niterStmt : &#39;while&#39; &#39;(&#39; expr &#39;)&#39; &#39;{&#39; stmts &#39;}&#39;\r\n        | &#39;for&#39; &#39;(&#39; decl &#39;;&#39; expr &#39;;&#39; postfExpr &#39;)&#39; &#39;{&#39; stmts &#39;}&#39; ;\r\nselectStmt : &#39;if&#39; &#39;(&#39; expr &#39;)&#39; &#39;{&#39; stmts &#39;}&#39; ;\r\nexprStmt : expr ;\r\ntype : &#39;bool&#39;\r\n        | &#39;int&#39;\r\n        | &#39;string&#39; ;\r\ntParam : type VARID ;\r\nparams : param &#39;,&#39; params\r\n        |&#39;[&#39;list&#39;]&#39; &#39;,&#39; param\r\n        | param ;\r\nlist : OBJID &#39;,&#39; list\r\n        | OBJID ;\r\nparam : assignExpr ;\r\nexpr : assignExpr ;\r\nassignExpr : logicOrExpr\r\n        | primaryExpr &#39;=&#39; assignExpr ;\r\nlogicOrExpr : logicAndExpr\r\n        | logicOrExpr &#39;||&#39; logicAndExpr ;\r\nlogicAndExpr : equalExpr\r\n        | logicAndExpr &#39;&amp;&amp;&#39; equalExpr ;\r\nequalExpr : relatExpr\r\n        | equalExpr &#39;==&#39; relatExpr\r\n        | equalExpr &#39;!=&#39; relatExpr ;\r\nrelatExpr : addExpr\r\n        | relatExpr &#39;&lt;&#39; addExpr\r\n        | relatExpr &#39;&gt;&#39; addExpr\r\n        | relatExpr &#39;&lt;=&#39; addExpr\r\n        | relatExpr &#39;&gt;=&#39; addExpr ;\r\naddExpr : multExpr\r\n        | addExpr &#39;+&#39; multExpr\r\n        | addExpr &#39;-&#39; multExpr ;\r\nmultExpr : unaryExpr\r\n        | multExpr &#39;*&#39; unaryExpr\r\n        | multExpr &#39;/&#39; unaryExpr ;\r\nunaryExpr : postfExpr\r\n        | &#39;-&#39; postfExpr\r\n        | &#39;!&#39; postfExpr ;\r\npostfExpr : primaryExpr\r\n        | primaryExpr &#39;++&#39;\r\n        | primaryExpr &#39;--&#39;\r\n        | primaryExpr &#39;(&#39; params &#39;)&#39;\r\n        | primaryExpr &#39;(&#39;  &#39;)&#39;\r\n        | METHODID &#39;(&#39; params &#39;)&#39;\r\n        | METHODID &#39;(&#39; &#39;)&#39;\r\n        | primaryExpr &#39;.&#39; postfExpr ;\r\nprimaryExpr : val\r\n        | VARID\r\n        | OBJID\r\n        | FUNCID\r\n        | CLASSID ;\r\nval : BOOLVAL\r\n        | INTVAL\r\n        | STRINGVAL  ;\r\ndecl : tParam &#39;=&#39; logicOrExpr ;\r\n\r\nAND : &#39;&amp;&amp;&#39; ;\r\nOR : &#39;||&#39; ;\r\nEQ : &#39;==&#39; ;\r\nNOTEQ : &#39;!=&#39; ;\r\nSMALLER : &#39;&lt;&#39; ;\r\nLARGER : &#39;&gt;&#39; ;\r\nSMALLEREQ : &#39;&lt;=&#39; ;\r\nBIGGEREQ : &#39;&gt;=&#39; ;\r\nINCREM : &#39;++&#39; ;\r\nDECREM : &#39;--&#39; ;\r\nPLUS : &#39;+&#39; ;\r\nMINUS : &#39;-&#39; ;\r\nMULT : &#39;*&#39; ;\r\nDIVIDE : &#39;/&#39; ;\r\nDOT : &#39;.&#39; ;\r\nNOT : &#39;!&#39; ;\r\nASSIGN : &#39;=&#39; ;\r\nCOMMA : &#39;,&#39; ;\r\nSEMI : &#39;;&#39; ;\r\nLPAREN : &#39;(&#39; ;\r\nRPAREN : &#39;)&#39; ;\r\nLCURLY : &#39;{&#39; ;\r\nRCURLY : &#39;}&#39; ;\r\nLSQUARE : &#39;[&#39; ;\r\nRSQUARE : &#39;]&#39; ;\r\n\r\nWS: [ \\t\\n\\r\\f]+ -&gt; skip ;\r\n\r\n\r\nSETUP : &#39;Setup&#39; ;\r\nROUND : &#39;Round&#39; ;\r\nTURN : &#39;Turn&#39; ;\r\nWHILE : &#39;while&#39; ;\r\nFOR : &#39;for&#39; ;\r\nIF : &#39;if&#39; ;\r\nBOOL : &#39;bool&#39; ;\r\nINT : &#39;int&#39; ;\r\nSTRING : &#39;string&#39; ;\r\n\r\n\r\nMETHODID : &#39;create&#39;\r\n        |&#39;getHand&#39;\r\n        |&#39;getHandPoints&#39;\r\n        |&#39;handSize&#39;\r\n        |&#39;printHand&#39;\r\n        |&#39;getTable&#39;\r\n        |&#39;getTablePoints&#39;\r\n        |&#39;printTable&#39;\r\n        |&#39;getDiscardPile&#39;\r\n        |&#39;draw&#39;\r\n        |&#39;discard&#39;\r\n        |&#39;takeCard&#39;\r\n        |&#39;layDown&#39;\r\n        |&#39;addJokers&#39;\r\n        |&#39;assignPoints&#39;\r\n        |&#39;shuffle&#39;\r\n        |&#39;getCard&#39;\r\n        |&#39;getCards&#39;\r\n        |&#39;print&#39;\r\n        |&#39;size&#39;\r\n        |&#39;returnCards&#39;\r\n        |&#39;returnDiscardPile&#39;\r\n        |&#39;flip&#39;\r\n        |&#39;getPoints&#39; ;\r\nBOOLVAL : &#39;true&#39;\r\n        | &#39;false&#39; ;\r\nCLASSID : &#39;Player&#39;\r\n        | &#39;Deck&#39;\r\n        | &#39;Card&#39;\r\n        | &#39;Table&#39; ;\r\nOBJID : [HDCS][2-9]\r\n        |[HDCS]&#39;1&#39;[0-3]?\r\n        |&#39;J&#39;[1-3]\r\n        |&#39;player&#39;[1-9][0-9]*\r\n        |&#39;deck&#39;\r\n        |&#39;table&#39; ;\r\nINTVAL : &#39;0&#39;\r\n        | [1-9][0-9]* ;\r\nVARID : [a-z][a-zA-Z_0-9]* ;\r\nFUNCID : [A-Z][a-zA-Z_0-9]* ;\r\nSTRINGVAL : &#39;&quot;&#39;~[&quot;]*&#39;&quot;&#39; ;\r\n```\r\nAnd the following overwritten methods that work fine: \r\n\r\n```Java\r\npublic class ClubBuildASTVisitor extends CLUBBaseVisitor&lt;AST&gt; {\r\n    // Start of tree\r\n    @Override\r\n    public AST visitProgram(CLUBParser.ProgramContext ctx) {\r\n        AST ast = new AST();\r\n        ast.addChild(visit(ctx.setup()));\r\n        ast.addChild(visit(ctx.round()));\r\n        ast.addChild(visit(ctx.turn()));\r\n        ast.addChild(visit(ctx.funcs()));\r\n        return ast;\r\n    }\r\n\r\n    @Override\r\n    public AST visitSetup(CLUBParser.SetupContext ctx) {\r\n        AST ast = new AST(ctx.SETUP().getSymbol());\r\n        ast.addChild(visit(ctx.stmts()));\r\n        return ast;\r\n    }\r\n\r\n    @Override\r\n    public AST visitRound(CLUBParser.RoundContext ctx) {\r\n        AST ast = new AST(ctx.ROUND().getSymbol());\r\n        AST stmtsAst = visit(ctx.stmts());\r\n        ast.addChild(stmtsAst);\r\n        return ast;\r\n    }\r\n```\r\nIm trying to create one for visitStmts. The problem is that the when I make one it keeps choosing the first child in the tree to become the root. An example would be: \r\n```\r\n@Override\r\npublic AST visitStmts(CLUBParser.StmtsContext ctx) {\r\n    AST ast = new AST(ctx.getStart());\r\n    int childCount = ctx.getChildCount();\r\n    for (int i = 0; i &lt; childCount; i++) {\r\n        ParseTree child = ctx.getChild(i);\r\n        AST childAst = visit(child);\r\n        ast.addChild(childAst);\r\n    }\r\n    return ast;\r\n}\r\n```\r\nHow can i choose Round as my root and make the rest children?\r\n\r\n\r\n\r\nive tried replacing the parameters of the \r\n```\r\n@Override\r\npublic AST visitStmts(CLUBParser.StmtsContext ctx) {\r\n    AST ast = new AST(new CommonToken(CLUBParser.ROUND)); // Create AST with &quot;ROUND&quot; as the root token\r\n\r\n    if (ctx.stmt() != null) {\r\n        AST stmtChild = visit(ctx.stmt());\r\n        ast.addChild(stmtChild);\r\n    }\r\n\r\n    if (ctx.stmts() != null) {\r\n        AST stmtsChild = visit(ctx.stmts());\r\n        if (stmtsChild != null &amp;&amp; !stmtsChild.isNil()) {\r\n            for (AST child : stmtsChild.getChildren()) {\r\n                ast.addChild(child);\r\n            }\r\n        }\r\n    }\r\n\r\n    return ast;\r\n}\r\n```\r\nBut that ends up with the output looking like this:\r\n`(&lt;SETUP, &#39;Setup&#39;&gt; (&lt;ROUND, &#39;null&#39;&gt; )) (&lt;ROUND, &#39;Round&#39;&gt; (&lt;ROUND, &#39;null&#39;&gt; ))`\r\n\r\nI need the AST for type checking but ive read its also possible to do so with the parse tree built into antlr4?","title":"How do I choose a parent node when building an AST in antlr4?","body":"<p>I have the following AST:</p>\n<pre><code>import org.antlr.v4.runtime.CommonToken;\nimport org.antlr.v4.runtime.Token;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\npublic class AST {\n    Token token;             // from which token do we create this node?\n    List&lt;AST&gt; children;      // normalized list of children\n\n    public AST() { ; } // for making nil-rooted nodes\n\n    public AST(Token token) { this.token = token; }\n\n    /** Create node from token type; used mainly for imaginary tokens */\n    public AST(int tokenType) { this.token = new CommonToken(tokenType); }\n\n    /** external visitors execute the same action for all nodes\n     * with same node type while walking\n     */\n    public int getNodeType() { return token.getType(); }\n\n    public void addChild(AST t) {\n        if (children == null) children = new ArrayList&lt;&gt;();\n        children.add(t);\n    }\n    public void addChildren(AST... nodes) {\n        List&lt;AST&gt; asts = new ArrayList&lt;AST&gt;();\n        for (AST node : nodes){asts.add(node);}\n        for (int i = 0; i &lt; asts.size(); i++) {\n            this.addChild(asts.get(i));\n        }\n    }\n\n    public List&lt;AST&gt; getChildren() { return children; }\n\n    /** to represent flat lists. A list is a subtree w/o a root, which we simulate\n     * with a nil root node. A nil node is a node with token == null.\n     */\n    public boolean isNil() { return token == null; }\n\n    /** Compute string for single node */\n    public String toString() {\n        String typeName = CLUBParser.VOCABULARY.getSymbolicName(getNodeType());\n        typeName = typeName == null ? token.getText() : typeName;\n        return token != null ? &quot;&lt;&quot; +typeName +&quot;, '&quot; + token.getText() +&quot;'&gt;&quot;: &quot;nil&quot;;\n    }\n\n    /** Compute string for a whole tree */\n    public String toStringTree() {\n        if (children == null || children.isEmpty()) return this.toString();\n\n        StringBuilder buf = new StringBuilder();\n        if (!isNil()) {\n            buf.append('(');\n            buf.append(this.toString());\n            buf.append(' ');\n        }\n        for (int i = 0; i &lt; children.size(); i++) {\n            AST t = children.get(i); // normalized (unnamed) children\n            if (t != null) {  // Null check\n                if (i &gt; 0) buf.append(' ');\n                buf.append(t.toStringTree());\n            }\n        }\n        if (!isNil()) buf.append(')');\n        return buf.toString();\n    }\n}\n</code></pre>\n<p>This Grammar:</p>\n<pre><code>grammar CLUB;\n\nprogram : setup round turn funcs EOF ;\nsetup : SETUP LCURLY s=stmts RCURLY ;\nround : ROUND LCURLY s=stmts RCURLY ;\nturn : TURN '(' CLASSID VARID ')' '{' s=stmts '}'\n        | ;\nfuncs : func+\n        | ;\nstmts : s1=stmt s2=stmts\n        | ;\nfunc : FUNCID '(' tParams ')' '{' stmts '}'\n        | FUNCID '(' ')' '{' stmts '}' ;\ntParams : tParam ',' tParams;\nstmt : INTVAL ';' ;\niterStmt : 'while' '(' expr ')' '{' stmts '}'\n        | 'for' '(' decl ';' expr ';' postfExpr ')' '{' stmts '}' ;\nselectStmt : 'if' '(' expr ')' '{' stmts '}' ;\nexprStmt : expr ;\ntype : 'bool'\n        | 'int'\n        | 'string' ;\ntParam : type VARID ;\nparams : param ',' params\n        |'['list']' ',' param\n        | param ;\nlist : OBJID ',' list\n        | OBJID ;\nparam : assignExpr ;\nexpr : assignExpr ;\nassignExpr : logicOrExpr\n        | primaryExpr '=' assignExpr ;\nlogicOrExpr : logicAndExpr\n        | logicOrExpr '||' logicAndExpr ;\nlogicAndExpr : equalExpr\n        | logicAndExpr '&amp;&amp;' equalExpr ;\nequalExpr : relatExpr\n        | equalExpr '==' relatExpr\n        | equalExpr '!=' relatExpr ;\nrelatExpr : addExpr\n        | relatExpr '&lt;' addExpr\n        | relatExpr '&gt;' addExpr\n        | relatExpr '&lt;=' addExpr\n        | relatExpr '&gt;=' addExpr ;\naddExpr : multExpr\n        | addExpr '+' multExpr\n        | addExpr '-' multExpr ;\nmultExpr : unaryExpr\n        | multExpr '*' unaryExpr\n        | multExpr '/' unaryExpr ;\nunaryExpr : postfExpr\n        | '-' postfExpr\n        | '!' postfExpr ;\npostfExpr : primaryExpr\n        | primaryExpr '++'\n        | primaryExpr '--'\n        | primaryExpr '(' params ')'\n        | primaryExpr '('  ')'\n        | METHODID '(' params ')'\n        | METHODID '(' ')'\n        | primaryExpr '.' postfExpr ;\nprimaryExpr : val\n        | VARID\n        | OBJID\n        | FUNCID\n        | CLASSID ;\nval : BOOLVAL\n        | INTVAL\n        | STRINGVAL  ;\ndecl : tParam '=' logicOrExpr ;\n\nAND : '&amp;&amp;' ;\nOR : '||' ;\nEQ : '==' ;\nNOTEQ : '!=' ;\nSMALLER : '&lt;' ;\nLARGER : '&gt;' ;\nSMALLEREQ : '&lt;=' ;\nBIGGEREQ : '&gt;=' ;\nINCREM : '++' ;\nDECREM : '--' ;\nPLUS : '+' ;\nMINUS : '-' ;\nMULT : '*' ;\nDIVIDE : '/' ;\nDOT : '.' ;\nNOT : '!' ;\nASSIGN : '=' ;\nCOMMA : ',' ;\nSEMI : ';' ;\nLPAREN : '(' ;\nRPAREN : ')' ;\nLCURLY : '{' ;\nRCURLY : '}' ;\nLSQUARE : '[' ;\nRSQUARE : ']' ;\n\nWS: [ \\t\\n\\r\\f]+ -&gt; skip ;\n\n\nSETUP : 'Setup' ;\nROUND : 'Round' ;\nTURN : 'Turn' ;\nWHILE : 'while' ;\nFOR : 'for' ;\nIF : 'if' ;\nBOOL : 'bool' ;\nINT : 'int' ;\nSTRING : 'string' ;\n\n\nMETHODID : 'create'\n        |'getHand'\n        |'getHandPoints'\n        |'handSize'\n        |'printHand'\n        |'getTable'\n        |'getTablePoints'\n        |'printTable'\n        |'getDiscardPile'\n        |'draw'\n        |'discard'\n        |'takeCard'\n        |'layDown'\n        |'addJokers'\n        |'assignPoints'\n        |'shuffle'\n        |'getCard'\n        |'getCards'\n        |'print'\n        |'size'\n        |'returnCards'\n        |'returnDiscardPile'\n        |'flip'\n        |'getPoints' ;\nBOOLVAL : 'true'\n        | 'false' ;\nCLASSID : 'Player'\n        | 'Deck'\n        | 'Card'\n        | 'Table' ;\nOBJID : [HDCS][2-9]\n        |[HDCS]'1'[0-3]?\n        |'J'[1-3]\n        |'player'[1-9][0-9]*\n        |'deck'\n        |'table' ;\nINTVAL : '0'\n        | [1-9][0-9]* ;\nVARID : [a-z][a-zA-Z_0-9]* ;\nFUNCID : [A-Z][a-zA-Z_0-9]* ;\nSTRINGVAL : '&quot;'~[&quot;]*'&quot;' ;\n</code></pre>\n<p>And the following overwritten methods that work fine:</p>\n<pre><code>public class ClubBuildASTVisitor extends CLUBBaseVisitor&lt;AST&gt; {\n    // Start of tree\n    @Override\n    public AST visitProgram(CLUBParser.ProgramContext ctx) {\n        AST ast = new AST();\n        ast.addChild(visit(ctx.setup()));\n        ast.addChild(visit(ctx.round()));\n        ast.addChild(visit(ctx.turn()));\n        ast.addChild(visit(ctx.funcs()));\n        return ast;\n    }\n\n    @Override\n    public AST visitSetup(CLUBParser.SetupContext ctx) {\n        AST ast = new AST(ctx.SETUP().getSymbol());\n        ast.addChild(visit(ctx.stmts()));\n        return ast;\n    }\n\n    @Override\n    public AST visitRound(CLUBParser.RoundContext ctx) {\n        AST ast = new AST(ctx.ROUND().getSymbol());\n        AST stmtsAst = visit(ctx.stmts());\n        ast.addChild(stmtsAst);\n        return ast;\n    }\n</code></pre>\n<p>Im trying to create one for visitStmts. The problem is that the when I make one it keeps choosing the first child in the tree to become the root. An example would be:</p>\n<pre><code>@Override\npublic AST visitStmts(CLUBParser.StmtsContext ctx) {\n    AST ast = new AST(ctx.getStart());\n    int childCount = ctx.getChildCount();\n    for (int i = 0; i &lt; childCount; i++) {\n        ParseTree child = ctx.getChild(i);\n        AST childAst = visit(child);\n        ast.addChild(childAst);\n    }\n    return ast;\n}\n</code></pre>\n<p>How can i choose Round as my root and make the rest children?</p>\n<p>ive tried replacing the parameters of the</p>\n<pre><code>@Override\npublic AST visitStmts(CLUBParser.StmtsContext ctx) {\n    AST ast = new AST(new CommonToken(CLUBParser.ROUND)); // Create AST with &quot;ROUND&quot; as the root token\n\n    if (ctx.stmt() != null) {\n        AST stmtChild = visit(ctx.stmt());\n        ast.addChild(stmtChild);\n    }\n\n    if (ctx.stmts() != null) {\n        AST stmtsChild = visit(ctx.stmts());\n        if (stmtsChild != null &amp;&amp; !stmtsChild.isNil()) {\n            for (AST child : stmtsChild.getChildren()) {\n                ast.addChild(child);\n            }\n        }\n    }\n\n    return ast;\n}\n</code></pre>\n<p>But that ends up with the output looking like this:\n<code>(&lt;SETUP, 'Setup'&gt; (&lt;ROUND, 'null'&gt; )) (&lt;ROUND, 'Round'&gt; (&lt;ROUND, 'null'&gt; ))</code></p>\n<p>I need the AST for type checking but ive read its also possible to do so with the parse tree built into antlr4?</p>\n"},{"tags":["java","spring-boot","intellij-idea","spring-boot-starter","versionupgrade"],"owner":{"account_id":14244060,"reputation":75,"user_id":10289664,"display_name":"Lahiru Liyanage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683854271,"creation_date":1682926058,"question_id":76145350,"body_markdown":"I updated my application to spring boot version 2.7.0 from 2.2.4. Java version is 8. Application built sucessfully but when I try to run the application with idea below error occurs.\r\n\r\n\r\n    Execution failed for task &#39;:MyApplication.main()&#39;.\r\n    &gt; Process &#39;command &#39;C:/Program Files/Amazon Corretto/jdk1.8.0_342/bin/java.exe&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n\r\n\r\nI tried to manually run the .jar file. But nothing happened. It exit from the java -jar command.\r\n","title":"finished with non-zero exit value 1 error return when spring boot application start to run","body":"<p>I updated my application to spring boot version 2.7.0 from 2.2.4. Java version is 8. Application built sucessfully but when I try to run the application with idea below error occurs.</p>\n<pre><code>Execution failed for task ':MyApplication.main()'.\n&gt; Process 'command 'C:/Program Files/Amazon Corretto/jdk1.8.0_342/bin/java.exe'' finished with non-zero exit value 1\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n</code></pre>\n<p>I tried to manually run the .jar file. But nothing happened. It exit from the java -jar command.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683095164,"post_id":76159514,"comment_id":134311927,"body_markdown":"You should check which maven plugin versions are being used... and you should define them all your self to be sure the most recent versions will be used (https://maven.apache.org/plugins/) ... defining things like plexus-utils as a dependencies will not help here...","body":"You should check which maven plugin versions are being used... and you should define them all your self to be sure the most recent versions will be used (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>) ... defining things like plexus-utils as a dependencies will not help here..."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1683180058,"post_id":76159514,"comment_id":134327360,"body_markdown":"Are you using eclipse?","body":"Are you using eclipse?"},{"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"score":0,"creation_date":1683848345,"post_id":76159514,"comment_id":134433447,"body_markdown":"Thanks. @khmarbaise  the problem is with Maven plugins and I have resolved it by overriding it.","body":"Thanks. @khmarbaise  the problem is with Maven plugins and I have resolved it by overriding it."}],"answers":[{"tags":[],"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683848971,"creation_date":1683848971,"answer_id":76232286,"question_id":76159514,"body_markdown":"First I started debugging the code with maven compile to see which plugin/dependency is downloading the vulnerable versions. \r\n\r\nThen I went through this [article][1] \r\nI have made below changes to my maven plugins, that&#39;s it. It worked. \r\n\r\n***NOTE***: If you don&#39;t specify any specific versions from you&#39;re pom.xml. Maven downloads the defaults plugins with help of (whatever maven version is update in maven_home)\r\n\r\n```\r\n\r\n\t     &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/mvn-plugin-dependency-exclusion","title":"How to exclude specific dependency from spring-boot-starter-parent","body":"<p>First I started debugging the code with maven compile to see which plugin/dependency is downloading the vulnerable versions.</p>\n<p>Then I went through this <a href=\"https://www.baeldung.com/mvn-plugin-dependency-exclusion\" rel=\"nofollow noreferrer\">article</a>\nI have made below changes to my maven plugins, that's it. It worked.</p>\n<p><em><strong>NOTE</strong></em>: If you don't specify any specific versions from you're pom.xml. Maven downloads the defaults plugins with help of (whatever maven version is update in maven_home)</p>\n<pre><code>\n         &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n                        &lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\n                        &lt;version&gt;3.5.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n                        &lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\n                        &lt;version&gt;3.5.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28499565,"reputation":41,"user_id":21810958,"display_name":"qalokoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683849709,"creation_date":1683849709,"answer_id":76232316,"question_id":76159514,"body_markdown":"just add &lt;exclusions&gt;&lt;/&gt; to your pom.xml file. \r\n      `&lt;exclusions&gt;\r\n       &lt;groupid&gt;\r\n       &lt;artifcatid&gt;\r\n       &lt;/&gt;`\r\n\r\nbasically consider this as telling mvn or any other build tool to exclude this dependency. ","title":"How to exclude specific dependency from spring-boot-starter-parent","body":"<p>just add &lt;/&gt; to your pom.xml file.\n<code>&lt;exclusions&gt; &lt;groupid&gt; &lt;artifcatid&gt; &lt;/&gt;</code></p>\n<p>basically consider this as telling mvn or any other build tool to exclude this dependency.</p>\n"}],"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683854133,"creation_date":1683070243,"question_id":76159514,"body_markdown":"I am using a Spring boot application. Spring boot parent dependency coming up with lot of legacy versions of (plexus-utils). I need to use specific version of (plexus-utils). \r\n\r\nI have tried adding below code in properties tag of my pom.xml but no luck its still downloading legacy vesions like ```(1.5.8, 3.0.10, 2.1, 1.5.5..)```. I have tried adding both versions (1. plexus-utils and 2. codeahus) to see either one works. \r\n\r\n        &lt;properties&gt;\r\n\t    &lt;plexus-utils.version&gt;3.5.1&lt;/plexus-utils.version&gt;\r\n\t\t&lt;codehaus.version&gt;3.5.1&lt;/codehaus.version&gt;\r\n\t    &lt;/properties&gt;\r\n\r\nI need to do changes such that spring boot parent needs to download only ```3.5.1``` version. Below is pom.xml. Can anyone please assist me here, is there any alternative we need to exclude or something needs to be corrected in my properties tag code ?\r\n\r\n\r\n\r\n       &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.6&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t  &lt;/parent&gt;\r\n\r\n        &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n       &lt;dependencies&gt;\r\n\r\n","title":"How to exclude specific dependency from spring-boot-starter-parent","body":"<p>I am using a Spring boot application. Spring boot parent dependency coming up with lot of legacy versions of (plexus-utils). I need to use specific version of (plexus-utils).</p>\n<p>I have tried adding below code in properties tag of my pom.xml but no luck its still downloading legacy vesions like <code>(1.5.8, 3.0.10, 2.1, 1.5.5..)</code>. I have tried adding both versions (1. plexus-utils and 2. codeahus) to see either one works.</p>\n<pre><code>    &lt;properties&gt;\n    &lt;plexus-utils.version&gt;3.5.1&lt;/plexus-utils.version&gt;\n    &lt;codehaus.version&gt;3.5.1&lt;/codehaus.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>I need to do changes such that spring boot parent needs to download only <code>3.5.1</code> version. Below is pom.xml. Can anyone please assist me here, is there any alternative we need to exclude or something needs to be corrected in my properties tag code ?</p>\n<pre><code>   &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.6&lt;/version&gt;\n    &lt;relativePath /&gt;\n  &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n        &lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\n        &lt;version&gt;3.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n   &lt;dependencies&gt;\n</code></pre>\n"},{"tags":["java","memory","jvm","containers","openshift"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":2,"creation_date":1683822917,"post_id":76229754,"comment_id":134429025,"body_markdown":"`java -XX:+PrintFlagsFinal` and `java -XX:+PrintCommandLineFlags` start a *new* Java process and show the flags of this *new* Java process. To see the parameters of an existing Java process, use `jcmd` instead.","body":"<code>java -XX:+PrintFlagsFinal</code> and <code>java -XX:+PrintCommandLineFlags</code> start a <i>new</i> Java process and show the flags of this <i>new</i> Java process. To see the parameters of an existing Java process, use <code>jcmd</code> instead."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683827069,"post_id":76229754,"comment_id":134429896,"body_markdown":"If you give all memory available to the heap you are going to have other memory issues. You should learn about Java memory settings first.","body":"If you give all memory available to the heap you are going to have other memory issues. You should learn about Java memory settings first."},{"owner":{"account_id":12977908,"reputation":58,"user_id":9381370,"display_name":"Roni Beitel"},"score":0,"creation_date":1684096941,"post_id":76229754,"comment_id":134463161,"body_markdown":"Than you very much,  indeed I was starting another process with no other configuration than default. Thanks a lot.","body":"Than you very much,  indeed I was starting another process with no other configuration than default. Thanks a lot."}],"answers":[{"tags":[],"owner":{"account_id":5238010,"reputation":2834,"user_id":4185994,"accept_rate":56,"display_name":"titou10"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683853846,"creation_date":1683853846,"answer_id":76232526,"question_id":76229754,"body_markdown":"What version of Java 8 are you using? older version of Java 8 are not able to correctly &quot;see&quot; the available memory \r\n\r\nSee this article on how to configure Java 8 depending of you version (ie before or after JDK 8u191)\r\n\r\nhttps://www.baeldung.com/ops/docker-jvm-heap-size\r\n\r\nIf you are on OpenShift 4.12, check this article for many improvement with the latest version of Java 8 about the support of concerning cgroups v2, but you need the very last version of JDK 8:\r\n\r\nhttps://developers.redhat.com/articles/2023/04/19/openjdk-8u372-feature-cgroup-v2-support#\r\n","title":"JVM max heap size in Openshift doesn&#39;t change","body":"<p>What version of Java 8 are you using? older version of Java 8 are not able to correctly &quot;see&quot; the available memory</p>\n<p>See this article on how to configure Java 8 depending of you version (ie before or after JDK 8u191)</p>\n<p><a href=\"https://www.baeldung.com/ops/docker-jvm-heap-size\" rel=\"nofollow noreferrer\">https://www.baeldung.com/ops/docker-jvm-heap-size</a></p>\n<p>If you are on OpenShift 4.12, check this article for many improvement with the latest version of Java 8 about the support of concerning cgroups v2, but you need the very last version of JDK 8:</p>\n<p><a href=\"https://developers.redhat.com/articles/2023/04/19/openjdk-8u372-feature-cgroup-v2-support#\" rel=\"nofollow noreferrer\">https://developers.redhat.com/articles/2023/04/19/openjdk-8u372-feature-cgroup-v2-support#</a></p>\n"}],"owner":{"account_id":12977908,"reputation":58,"user_id":9381370,"display_name":"Roni Beitel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683853846,"creation_date":1683822406,"question_id":76229754,"body_markdown":"I have a Java application that is being run on Openshift. \r\nThe Java is run via a docker-entrypoint.sh file \r\n```\r\ncd /usr/src/java_app\r\n/usr/local/openjdk-8/bin/java -Xmx12g -jar application.jar --spring.profiles.active=prod &gt;&gt; /proc/self/fd/1 2&gt; /proc/self/fd/1\r\n```\r\n\r\nMy Openshift deploymemt memory part is as follows:\r\n```\r\ncontainers:\r\n  - resources: \r\n      limits:\r\n        memory: 12g\r\n      requests:\r\n        memory: 12g\r\n```\r\n\r\nI tried running the jar command with the following options:\r\n```\r\n-Xmx12g\r\n-XX:MaxHeapSize=12g\r\n-XX:MaxRAM=12g\r\n-XX:+UnlockExperimentalVMOptions\r\n-XX:+UseCGroupMemoryLimitForHeap\r\n-XX:ErgoHeapSizeLimit=0\r\n```\r\nBut when running\r\n```\r\njava -XX:+PrintFlagsFinal -version | grep Heap\r\n```\r\nI always get a ~3g heap size, which is 25% of the 12g I gave the container. \r\nThis value changes to 4g if I give the container 16G. \r\nAlso, I can see that &#39;product&#39; was reponsible to settign this value, so I guess it is not getting override  in the code. \r\n\r\nRunning\r\n```\r\njava -XX:+PrintCommandLineFlags\r\n```\r\nReturns \r\n```\r\n-XX:InitialHeapSize=187499968 -XX:MaxHeapSize=29999999488\r\n```\r\n\r\nI&#39;d appreciate some help, given that memory is not that cheap","title":"JVM max heap size in Openshift doesn&#39;t change","body":"<p>I have a Java application that is being run on Openshift.\nThe Java is run via a docker-entrypoint.sh file</p>\n<pre><code>cd /usr/src/java_app\n/usr/local/openjdk-8/bin/java -Xmx12g -jar application.jar --spring.profiles.active=prod &gt;&gt; /proc/self/fd/1 2&gt; /proc/self/fd/1\n</code></pre>\n<p>My Openshift deploymemt memory part is as follows:</p>\n<pre><code>containers:\n  - resources: \n      limits:\n        memory: 12g\n      requests:\n        memory: 12g\n</code></pre>\n<p>I tried running the jar command with the following options:</p>\n<pre><code>-Xmx12g\n-XX:MaxHeapSize=12g\n-XX:MaxRAM=12g\n-XX:+UnlockExperimentalVMOptions\n-XX:+UseCGroupMemoryLimitForHeap\n-XX:ErgoHeapSizeLimit=0\n</code></pre>\n<p>But when running</p>\n<pre><code>java -XX:+PrintFlagsFinal -version | grep Heap\n</code></pre>\n<p>I always get a ~3g heap size, which is 25% of the 12g I gave the container.\nThis value changes to 4g if I give the container 16G.\nAlso, I can see that 'product' was reponsible to settign this value, so I guess it is not getting override  in the code.</p>\n<p>Running</p>\n<pre><code>java -XX:+PrintCommandLineFlags\n</code></pre>\n<p>Returns</p>\n<pre><code>-XX:InitialHeapSize=187499968 -XX:MaxHeapSize=29999999488\n</code></pre>\n<p>I'd appreciate some help, given that memory is not that cheap</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683853429,"creation_date":1683853429,"answer_id":76232507,"question_id":76231510,"body_markdown":"When you use `assign` API instead of `subscribe`, consumer groups are not used, and therefore Kafka doesn&#39;t track offsets for you. \r\n\r\nAs answered in your previous question, `auto.offset.reset=latest` is being applied until you reseek the consumer elsewhere to the offset you want. When you&#39;re at the latest offset, there&#39;s nothing to consume without some active producer sending new records... You can set the value to `none` if you want to manage offsets on your own. \r\n\r\n","title":"o.a.k.c.c.i.SubscriptionState.maybeSeekUnvalidated:397 What does it mean?","body":"<p>When you use <code>assign</code> API instead of <code>subscribe</code>, consumer groups are not used, and therefore Kafka doesn't track offsets for you.</p>\n<p>As answered in your previous question, <code>auto.offset.reset=latest</code> is being applied until you reseek the consumer elsewhere to the offset you want. When you're at the latest offset, there's nothing to consume without some active producer sending new records... You can set the value to <code>none</code> if you want to manage offsets on your own.</p>\n"}],"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76232507,"answer_count":1,"score":0,"last_activity_date":1683853447,"creation_date":1683838220,"question_id":76231510,"body_markdown":"I am using Java Kafka and when I am consuming messages, using offsetfortimes, intermittently, I am getting an log thread\r\n\r\n    INFO  o.a.k.c.c.i.SubscriptionState.maybeSeekUnvalidated:397 - Resetting offset for partition XXX to offset 8793363.\r\n\r\nAnd after this message I am not able to get any message from Kafka Consumer. Only when I restart the consumer the offsetfortimes is calculated again and my consumer is picking up those messages. \r\n\r\nI would like to understand what this maybeSeekUnvalidated means, and why my offset is being reset.\r\n\r\nMy consumer starter code:\r\n\r\n    kafkaConsumer = consumerHelperFactory.getConsumerInstance(consumerConfiguration);\r\n            long duration = startTime.until(Instant.now(), MINUTES)+1;\r\n            log.info(&quot;Consumer consuming messages {} minutes ago&quot;,duration);\r\n            Map&lt;TopicPartition, Long&gt; query = new HashMap&lt;&gt;();\r\n            query.put(new TopicPartition(topic, 0), Instant.now().minus(duration, MINUTES).toEpochMilli());\r\n            Map&lt;TopicPartition, OffsetAndTimestamp&gt; result = kafkaConsumer.offsetsForTimes(query);\r\n            kafkaConsumer.assign(result.keySet().stream().collect(Collectors.toList()));            ","title":"o.a.k.c.c.i.SubscriptionState.maybeSeekUnvalidated:397 What does it mean?","body":"<p>I am using Java Kafka and when I am consuming messages, using offsetfortimes, intermittently, I am getting an log thread</p>\n<pre><code>INFO  o.a.k.c.c.i.SubscriptionState.maybeSeekUnvalidated:397 - Resetting offset for partition XXX to offset 8793363.\n</code></pre>\n<p>And after this message I am not able to get any message from Kafka Consumer. Only when I restart the consumer the offsetfortimes is calculated again and my consumer is picking up those messages.</p>\n<p>I would like to understand what this maybeSeekUnvalidated means, and why my offset is being reset.</p>\n<p>My consumer starter code:</p>\n<pre><code>kafkaConsumer = consumerHelperFactory.getConsumerInstance(consumerConfiguration);\n        long duration = startTime.until(Instant.now(), MINUTES)+1;\n        log.info(&quot;Consumer consuming messages {} minutes ago&quot;,duration);\n        Map&lt;TopicPartition, Long&gt; query = new HashMap&lt;&gt;();\n        query.put(new TopicPartition(topic, 0), Instant.now().minus(duration, MINUTES).toEpochMilli());\n        Map&lt;TopicPartition, OffsetAndTimestamp&gt; result = kafkaConsumer.offsetsForTimes(query);\n        kafkaConsumer.assign(result.keySet().stream().collect(Collectors.toList()));            \n</code></pre>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":3791133,"reputation":249,"user_id":3147648,"display_name":"alexmac"},"score":0,"creation_date":1395279022,"post_id":22521288,"comment_id":34270054,"body_markdown":"There is sure some good humour here possible, Aux being a second class, steerage class.  However, think of it more as a pattern you way wish to look and search for &quot;object Patterns&quot;","body":"There is sure some good humour here possible, Aux being a second class, steerage class.  However, think of it more as a pattern you way wish to look and search for &quot;object Patterns&quot;"},{"owner":{"account_id":32450,"reputation":7305,"user_id":90096,"accept_rate":88,"display_name":"Artem"},"score":0,"creation_date":1395280226,"post_id":22521288,"comment_id":34270372,"body_markdown":"You need to provide more information. In your case &quot;Auxilary&quot; may be the name of actual class in that library.","body":"You need to provide more information. In your case &quot;Auxilary&quot; may be the name of actual class in that library."},{"owner":{"account_id":32450,"reputation":7305,"user_id":90096,"accept_rate":88,"display_name":"Artem"},"score":0,"creation_date":1395341014,"post_id":22521288,"comment_id":34306588,"body_markdown":"It is just a warning, so you shouldn&#39;t be concerned. However, are you sure that class name matches file name?","body":"It is just a warning, so you shouldn&#39;t be concerned. However, are you sure that class name matches file name?"},{"owner":{"account_id":1449074,"reputation":1584,"user_id":1366594,"accept_rate":83,"display_name":"Sir Intellegence-BrainStormexe"},"score":0,"creation_date":1395341408,"post_id":22521288,"comment_id":34306839,"body_markdown":"I know, but I am writing this program for scratch and I want all warnings solved or suppressed (if I know what I am doing), so they won&#39;t make it hard to find errors in the output.","body":"I know, but I am writing this program for scratch and I want all warnings solved or suppressed (if I know what I am doing), so they won&#39;t make it hard to find errors in the output."},{"owner":{"account_id":118457,"reputation":2860,"user_id":309502,"accept_rate":91,"display_name":"kmort"},"score":1,"creation_date":1417020748,"post_id":22521288,"comment_id":42803677,"body_markdown":"@Artem Warnings should almost always be concerning. At least in my experience. :-)","body":"@Artem Warnings should almost always be concerning. At least in my experience. :-)"}],"answers":[{"tags":[],"owner":{"account_id":311679,"reputation":89812,"user_id":625403,"accept_rate":82,"display_name":"amalloy"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1395278820,"creation_date":1395278820,"answer_id":22521663,"question_id":22521288,"body_markdown":"An auxiliary class isn&#39;t any kind of official or technical thing as far as I know. Someone might describe a class as auxiliary if it were addressing a secondary concern, or something, but the compiler doesn&#39;t have any idea what an auxiliary class is, and neither do I.\r\n\r\nIn general, if you have error messages from the computer, please *paste them in their entirety*. If you think the compiler is upset about an auxiliary class, paste the error message: someone else will be able to make sense of it, whereas currently it&#39;s being filtered through some kind of confusion that&#39;s made you think auxiliary classes are a real thing!","title":"What are auxiliary classes?","body":"<p>An auxiliary class isn't any kind of official or technical thing as far as I know. Someone might describe a class as auxiliary if it were addressing a secondary concern, or something, but the compiler doesn't have any idea what an auxiliary class is, and neither do I.</p>\n\n<p>In general, if you have error messages from the computer, please <em>paste them in their entirety</em>. If you think the compiler is upset about an auxiliary class, paste the error message: someone else will be able to make sense of it, whereas currently it's being filtered through some kind of confusion that's made you think auxiliary classes are a real thing!</p>\n"},{"tags":[],"owner":{"account_id":32450,"reputation":7305,"user_id":90096,"accept_rate":88,"display_name":"Artem"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1395339988,"creation_date":1395279067,"answer_id":22521705,"question_id":22521288,"body_markdown":"As descried in Java specification [here][1], you can specify more than one class in one .java file. The class which name matches .java file name will be the main class which can be declared public and be visible to other classes. All other classes in the file therefore are &quot;auxilary&quot; classes. Auxilary class can NOT be declared public and (as @trashgod rightfully pointed out) therefore they only be declared with package-private access. For instance for AClass.java file:\r\n\r\n    public class AClass {\r\n    \tprivate AuxilaryClass a;\r\n    }\r\n    class AuxilaryClass {\r\n    \tprivate int b;\r\n    }\r\n\r\nAuxilaryClass class can&#39;t be public and is not visible outside this AClass.java file.\r\n\r\nHowever, using auxilary classes considered extremely bad style and against [Java Code Convention][2]. Please use separate or [inner][3] classes if really needed.\r\n\r\nEdit: The term &quot;Auxilary&quot; is not Oracle/Sun official terminology. It has been introduced (or used) here: http://www.youtube.com/watch?v=miTM9rY3He0 and/or here: http://doc.sumy.ua/prog/java/langref/ch05_03.htm\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-7.html#jls-7.3\r\n  [2]: http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-141855.html#11684\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.3","title":"What are auxiliary classes?","body":"<p>As descried in Java specification <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-7.html#jls-7.3\" rel=\"noreferrer\">here</a>, you can specify more than one class in one .java file. The class which name matches .java file name will be the main class which can be declared public and be visible to other classes. All other classes in the file therefore are \"auxilary\" classes. Auxilary class can NOT be declared public and (as @trashgod rightfully pointed out) therefore they only be declared with package-private access. For instance for AClass.java file:</p>\n\n<pre><code>public class AClass {\n    private AuxilaryClass a;\n}\nclass AuxilaryClass {\n    private int b;\n}\n</code></pre>\n\n<p>AuxilaryClass class can't be public and is not visible outside this AClass.java file.</p>\n\n<p>However, using auxilary classes considered extremely bad style and against <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-141855.html#11684\" rel=\"noreferrer\">Java Code Convention</a>. Please use separate or <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.3\" rel=\"noreferrer\">inner</a> classes if really needed.</p>\n\n<p>Edit: The term \"Auxilary\" is not Oracle/Sun official terminology. It has been introduced (or used) here: <a href=\"http://www.youtube.com/watch?v=miTM9rY3He0\" rel=\"noreferrer\">http://www.youtube.com/watch?v=miTM9rY3He0</a> and/or here: <a href=\"http://doc.sumy.ua/prog/java/langref/ch05_03.htm\" rel=\"noreferrer\">http://doc.sumy.ua/prog/java/langref/ch05_03.htm</a></p>\n"}],"owner":{"account_id":1449074,"reputation":1584,"user_id":1366594,"accept_rate":83,"display_name":"Sir Intellegence-BrainStormexe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16051,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":22521705,"answer_count":2,"score":9,"last_activity_date":1683853210,"creation_date":1395276508,"question_id":22521288,"body_markdown":"What are Auxiliary classes in Java, how does some one write one, and how does the compiler know that something is an Auxiliary class?\r\n\r\n\r\nThe reason I ask this is because the compiler is generating a warning regarding an object in an external library:\r\n\r\n    warning: auxiliary class Pattern in jregex/Pattern.java should not be accessed from outside its own source file\r\n\r\n and I want to know why","title":"What are auxiliary classes?","body":"<p>What are Auxiliary classes in Java, how does some one write one, and how does the compiler know that something is an Auxiliary class?</p>\n<p>The reason I ask this is because the compiler is generating a warning regarding an object in an external library:</p>\n<pre><code>warning: auxiliary class Pattern in jregex/Pattern.java should not be accessed from outside its own source file\n</code></pre>\n<p>and I want to know why</p>\n"},{"tags":["java","sockets","http","timeout","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1425163204,"post_id":28785085,"comment_id":45851382,"body_markdown":"Well they&#39;re going to block until data arrives or they timeout. Do you mean that these threads are permanently blocked and not timing out?","body":"Well they&#39;re going to block until data arrives or they timeout. Do you mean that these threads are permanently blocked and not timing out?"},{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1425283364,"post_id":28785085,"comment_id":45883168,"body_markdown":"Yes, I mean it hungs forever (I checked in 6 hours scenerio)","body":"Yes, I mean it hungs forever (I checked in 6 hours scenerio)"},{"owner":{"account_id":373703,"reputation":1246,"user_id":723510,"accept_rate":100,"display_name":"Anton Danilov"},"score":0,"creation_date":1425565804,"post_id":28785085,"comment_id":46021880,"body_markdown":"Is it correct that `HttpClientBuilder` has `builder.disableRedirectHandling()` and `RequestConfig` has `.setRedirectsEnabled(true)` ?","body":"Is it correct that <code>HttpClientBuilder</code> has <code>builder.disableRedirectHandling()</code> and <code>RequestConfig</code> has <code>.setRedirectsEnabled(true)</code> ?"},{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1425648824,"post_id":28785085,"comment_id":46058994,"body_markdown":"Yes, but I think it&#39;s unrelated. Hung is on socketRead0() and also with other clients than Apache Http","body":"Yes, but I think it&#39;s unrelated. Hung is on socketRead0() and also with other clients than Apache Http"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1425932639,"post_id":28785085,"comment_id":46155968,"body_markdown":"Please show the code you use to initiate the http request","body":"Please show the code you use to initiate the http request"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1425953128,"post_id":28785085,"comment_id":46163495,"body_markdown":"Are you sure it&#39;s the same thread that is hung for six hours? The fact that you&#39;re doing blocking reads will always mean there are threads blocked in `read(),` but the timeout should ensure that they unblock eventually. I would consider five seconds rather short for a read timeout BTW.","body":"Are you sure it&#39;s the same thread that is hung for six hours? The fact that you&#39;re doing blocking reads will always mean there are threads blocked in <code>read(),</code> but the timeout should ensure that they unblock eventually. I would consider five seconds rather short for a read timeout BTW."},{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1425992540,"post_id":28785085,"comment_id":46180528,"body_markdown":"@Bohemian Just the simplest HttpGet and client execute. Also hungs were present on simple URLConnection usage withot apache client","body":"@Bohemian Just the simplest HttpGet and client execute. Also hungs were present on simple URLConnection usage withot apache client"},{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1425992578,"post_id":28785085,"comment_id":46180565,"body_markdown":"@Ejp I&#39;m totally sure, I&#39;ve tracked every thread/client/request very much, even watching stacktraces through MBeans. I feel like the hung is infinite.","body":"@Ejp I&#39;m totally sure, I&#39;ve tracked every thread/client/request very much, even watching stacktraces through MBeans. I feel like the hung is infinite."},{"owner":{"account_id":1880749,"reputation":3097,"user_id":4465354,"display_name":"qwwdfsad"},"score":4,"creation_date":1426024032,"post_id":28785085,"comment_id":46200634,"body_markdown":"Don&#39;t you think it&#39;s just OpenJDK bug? E.g.: https://bugs.openjdk.java.net/browse/JDK-8049846","body":"Don&#39;t you think it&#39;s just OpenJDK bug? E.g.: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8049846\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8049846</a>"},{"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"score":0,"creation_date":1426057606,"post_id":28785085,"comment_id":46210864,"body_markdown":"@qwwdfsad I&#39;ve just grabbed OpenJDK source for demo and some help. I&#39;ve used Oracle JDK 8 with that problem.","body":"@qwwdfsad I&#39;ve just grabbed OpenJDK source for demo and some help. I&#39;ve used Oracle JDK 8 with that problem."},{"owner":{"account_id":38384,"reputation":1715,"user_id":110126,"accept_rate":85,"display_name":"buzz3791"},"score":3,"creation_date":1487952819,"post_id":28785085,"comment_id":72030330,"body_markdown":"As of Feb 2017, still no sign of a fix for the hang on Windows.  In contrast, With JDK-8075484 (JDK 9 in Sep 2016) and JDK-8172578 (JDK 8u152 in Jan 2017), Oracle seems to have fixed the hang in linux, solaris, macosx, and aix.  The closest Windows bug seems to be JDK-8000679.","body":"As of Feb 2017, still no sign of a fix for the hang on Windows.  In contrast, With JDK-8075484 (JDK 9 in Sep 2016) and JDK-8172578 (JDK 8u152 in Jan 2017), Oracle seems to have fixed the hang in linux, solaris, macosx, and aix.  The closest Windows bug seems to be JDK-8000679."},{"owner":{"account_id":38384,"reputation":1715,"user_id":110126,"accept_rate":85,"display_name":"buzz3791"},"score":1,"creation_date":1498485260,"post_id":28785085,"comment_id":76503523,"body_markdown":"Stuart Marks decided to close JDK-8000679 (the Windows version of this bug)  in May 2017 sadly commenting &quot;This is either a bug in the Java networking code or in the OS network layer. Closing as Cannot Reproduce.&quot;","body":"Stuart Marks decided to close JDK-8000679 (the Windows version of this bug)  in May 2017 sadly commenting &quot;This is either a bug in the Java networking code or in the OS network layer. Closing as Cannot Reproduce.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1425725134,"creation_date":1425725134,"answer_id":28914046,"question_id":28785085,"body_markdown":"Given no one else responded so far, here is my take\r\n\r\nYour timeout setting looks perfectly OK to me. The reason why certain requests appear to be constantly blocked in a `java.net.SocketInputStream#socketRead0()` call is likely to be due to a combination of misbehaving servers and your local configuration. Socket timeout defines a maximum period of inactivity between two consecutive i/o read operations (or in other words two consecutive incoming packets). Your socket timeout setting is 5,000 milliseconds. As long as the opposite endpoint keeps on sending a packet every 4,999 milliseconds for a chunk encoded message the request will never time out and will end up sending most of its time blocked in `java.net.SocketInputStream#socketRead0()`. You can find out whether or not this is the case by running HttpClient with wire logging turned on. ","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>Given no one else responded so far, here is my take</p>\n\n<p>Your timeout setting looks perfectly OK to me. The reason why certain requests appear to be constantly blocked in a <code>java.net.SocketInputStream#socketRead0()</code> call is likely to be due to a combination of misbehaving servers and your local configuration. Socket timeout defines a maximum period of inactivity between two consecutive i/o read operations (or in other words two consecutive incoming packets). Your socket timeout setting is 5,000 milliseconds. As long as the opposite endpoint keeps on sending a packet every 4,999 milliseconds for a chunk encoded message the request will never time out and will end up sending most of its time blocked in <code>java.net.SocketInputStream#socketRead0()</code>. You can find out whether or not this is the case by running HttpClient with wire logging turned on. </p>\n"},{"tags":[],"owner":{"account_id":25027,"reputation":9018,"user_id":64044,"display_name":"Clint"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1425931453,"creation_date":1425931453,"answer_id":28950809,"question_id":28785085,"body_markdown":"You should consider a Non-blocking HTTP client like [Grizzly][1] or [Netty][2] which do not have blocking operations to hang a thread.\r\n\r\n\r\n  [1]: https://grizzly.java.net/httpframework.html\r\n  [2]: http://netty.io/wiki/user-guide-for-5.x.html","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>You should consider a Non-blocking HTTP client like <a href=\"https://grizzly.java.net/httpframework.html\" rel=\"noreferrer\">Grizzly</a> or <a href=\"http://netty.io/wiki/user-guide-for-5.x.html\" rel=\"noreferrer\">Netty</a> which do not have blocking operations to hang a thread.</p>\n"},{"tags":[],"owner":{"account_id":3670630,"reputation":9935,"user_id":3057934,"display_name":"vzamanillo"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1426023624,"creation_date":1426023007,"answer_id":28974449,"question_id":28785085,"body_markdown":"As [Clint said][1], you should consider a Non-blocking HTTP client, or (seeing that you are using the Apache Httpclient) implement a [Multithreaded request execution][2] to prevent possible hangs of the main application thread (this not solve the problem but is better than restart your app because is freezed). Anyway, you set the `setStaleConnectionCheckEnabled` property but the stale connection check is not 100% reliable, from the Apache Httpclient tutorial:\r\n\r\n&gt; One of the major shortcomings of the classic blocking I/O model is\r\n&gt; that the network socket can react to I/O events only when blocked in\r\n&gt; an I/O operation. When a connection is released back to the manager,\r\n&gt; it can be kept alive however it is unable to monitor the status of the\r\n&gt; socket and react to any I/O events. If the connection gets closed on\r\n&gt; the server side, the client side connection is unable to detect the\r\n&gt; change in the connection state (and react appropriately by closing the\r\n&gt; socket on its end).\r\n&gt; \r\n&gt; HttpClient tries to mitigate the problem by testing whether the\r\n&gt; connection is &#39;stale&#39;, that is no longer valid because it was closed\r\n&gt; on the server side, prior to using the connection for executing an\r\n&gt; HTTP request. The stale connection check is not 100% reliable and adds\r\n&gt; 10 to 30 ms overhead to each request execution.\r\n\r\nThe Apache HttpComponents crew recommends the implementation of a **[Connection eviction policy][3]**\r\n\r\n&gt; The only feasible solution that does not involve a one thread per\r\n&gt; socket model for idle connections is a dedicated monitor thread used\r\n&gt; to evict connections that are considered expired due to a long period\r\n&gt; of inactivity. The monitor thread can periodically call\r\n&gt; ClientConnectionManager#closeExpiredConnections() method to close all\r\n&gt; expired connections and evict closed connections from the pool. It can\r\n&gt; also optionally call ClientConnectionManager#closeIdleConnections()\r\n&gt; method to close all connections that have been idle over a given\r\n&gt; period of time.\r\n\r\nTake a look at the sample code of the **Connection eviction policy** section and try to implement it in your application along with the Multithread request execution, I think the implementation of both mechanisms will prevent your undesired hangs.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/28950809/3057934\r\n  [2]: https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e392\r\n  [3]: https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e405","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>As <a href=\"https://stackoverflow.com/a/28950809/3057934\">Clint said</a>, you should consider a Non-blocking HTTP client, or (seeing that you are using the Apache Httpclient) implement a <a href=\"https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e392\" rel=\"noreferrer\">Multithreaded request execution</a> to prevent possible hangs of the main application thread (this not solve the problem but is better than restart your app because is freezed). Anyway, you set the <code>setStaleConnectionCheckEnabled</code> property but the stale connection check is not 100% reliable, from the Apache Httpclient tutorial:</p>\n\n<blockquote>\n  <p>One of the major shortcomings of the classic blocking I/O model is\n  that the network socket can react to I/O events only when blocked in\n  an I/O operation. When a connection is released back to the manager,\n  it can be kept alive however it is unable to monitor the status of the\n  socket and react to any I/O events. If the connection gets closed on\n  the server side, the client side connection is unable to detect the\n  change in the connection state (and react appropriately by closing the\n  socket on its end).</p>\n  \n  <p>HttpClient tries to mitigate the problem by testing whether the\n  connection is 'stale', that is no longer valid because it was closed\n  on the server side, prior to using the connection for executing an\n  HTTP request. The stale connection check is not 100% reliable and adds\n  10 to 30 ms overhead to each request execution.</p>\n</blockquote>\n\n<p>The Apache HttpComponents crew recommends the implementation of a <strong><a href=\"https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e405\" rel=\"noreferrer\">Connection eviction policy</a></strong></p>\n\n<blockquote>\n  <p>The only feasible solution that does not involve a one thread per\n  socket model for idle connections is a dedicated monitor thread used\n  to evict connections that are considered expired due to a long period\n  of inactivity. The monitor thread can periodically call\n  ClientConnectionManager#closeExpiredConnections() method to close all\n  expired connections and evict closed connections from the pool. It can\n  also optionally call ClientConnectionManager#closeIdleConnections()\n  method to close all connections that have been idle over a given\n  period of time.</p>\n</blockquote>\n\n<p>Take a look at the sample code of the <strong>Connection eviction policy</strong> section and try to implement it in your application along with the Multithread request execution, I think the implementation of both mechanisms will prevent your undesired hangs.</p>\n"},{"tags":[],"owner":{"account_id":42347,"reputation":15884,"user_id":123336,"accept_rate":73,"display_name":"Trevor Robinson"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1442594921,"creation_date":1442593953,"answer_id":32656924,"question_id":28785085,"body_markdown":"Though this question mentions Windows, I have the same problem on Linux. It appears there is a flaw in the way the JVM implements blocking socket timeouts:\r\n\r\n - https://bugs.openjdk.java.net/browse/JDK-8049846\r\n -  https://bugs.openjdk.java.net/browse/JDK-8075484\r\n\r\nTo summarize, timeout for blocking sockets is implemented by calling `poll` on Linux (and `select` on Windows) to determine that data is available before calling `recv`. However, at least on Linux, both methods can spuriously indicate that data is available when it is not, leading to `recv` blocking indefinitely.\r\n\r\nFrom poll(2) man page BUGS section:\r\n\r\n&gt; See the discussion of spurious readiness notifications under the BUGS section of select(2).\r\n\r\nFrom select(2) man page BUGS section:\r\n\r\n&gt; Under Linux, select() may report a socket file descriptor as &quot;ready\r\n&gt; for reading&quot;, while nevertheless a subsequent read blocks.  This could\r\n&gt; for example happen when data has arrived but upon examination has\r\n&gt; wrong checksum  and  is  discarded. There may be other circumstances\r\n&gt; in which a file descriptor is spuriously reported as ready.  Thus it\r\n&gt; may be safer to use O_NONBLOCK on sockets that should not block.\r\n\r\nThe Apache HTTP Client code is a bit hard to follow, but it [appears][1] that connection expiration is only set for HTTP keep-alive connections (which you&#39;ve disabled) and is indefinite unless the server specifies otherwise. Therefore, as pointed out by oleg, the [Connection eviction policy][2] approach won&#39;t work in your case and can&#39;t be relied upon in general.\r\n\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/org.apache.httpcomponents/httpclient/4.3.2/org/apache/http/impl/execchain/MainClientExec.java#256\r\n  [2]: https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e405","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>Though this question mentions Windows, I have the same problem on Linux. It appears there is a flaw in the way the JVM implements blocking socket timeouts:</p>\n\n<ul>\n<li><a href=\"https://bugs.openjdk.java.net/browse/JDK-8049846\">https://bugs.openjdk.java.net/browse/JDK-8049846</a></li>\n<li><a href=\"https://bugs.openjdk.java.net/browse/JDK-8075484\">https://bugs.openjdk.java.net/browse/JDK-8075484</a></li>\n</ul>\n\n<p>To summarize, timeout for blocking sockets is implemented by calling <code>poll</code> on Linux (and <code>select</code> on Windows) to determine that data is available before calling <code>recv</code>. However, at least on Linux, both methods can spuriously indicate that data is available when it is not, leading to <code>recv</code> blocking indefinitely.</p>\n\n<p>From poll(2) man page BUGS section:</p>\n\n<blockquote>\n  <p>See the discussion of spurious readiness notifications under the BUGS section of select(2).</p>\n</blockquote>\n\n<p>From select(2) man page BUGS section:</p>\n\n<blockquote>\n  <p>Under Linux, select() may report a socket file descriptor as \"ready\n  for reading\", while nevertheless a subsequent read blocks.  This could\n  for example happen when data has arrived but upon examination has\n  wrong checksum  and  is  discarded. There may be other circumstances\n  in which a file descriptor is spuriously reported as ready.  Thus it\n  may be safer to use O_NONBLOCK on sockets that should not block.</p>\n</blockquote>\n\n<p>The Apache HTTP Client code is a bit hard to follow, but it <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.apache.httpcomponents/httpclient/4.3.2/org/apache/http/impl/execchain/MainClientExec.java#256\">appears</a> that connection expiration is only set for HTTP keep-alive connections (which you've disabled) and is indefinite unless the server specifies otherwise. Therefore, as pointed out by oleg, the <a href=\"https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e405\">Connection eviction policy</a> approach won't work in your case and can't be relied upon in general.</p>\n"},{"tags":[],"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1472371795,"creation_date":1472371795,"answer_id":39189243,"question_id":28785085,"body_markdown":"For Apache HTTP Client (blocking) I found best solution is to getConnectionManager(). and shutdown it.\r\n\r\nSo in high-reliability solution I just schedule shutdown in other thread and in case request does not complete I&#39;m shutting in down from other thread","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>For Apache HTTP Client (blocking) I found best solution is to getConnectionManager(). and shutdown it.</p>\n\n<p>So in high-reliability solution I just schedule shutdown in other thread and in case request does not complete I'm shutting in down from other thread</p>\n"},{"tags":[],"owner":{"account_id":7507272,"reputation":1116,"user_id":5703420,"display_name":"Stefan Matei"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1497961557,"creation_date":1497961557,"answer_id":44653050,"question_id":28785085,"body_markdown":"I have more than 50 machines that make about 200k requests/day/machine. They are running Amazon Linux AMI 2017.03. I previously had jdk1.8.0_102, now I have jdk1.8.0_131. I am using both apacheHttpClient and OKHttp as scraping libraries.\r\n\r\nEach machine was running 50 threads, and sometimes, the threads get lost. After profiling with Youkit java profiler I got\r\n\r\n    ScraperThread42 State: RUNNABLE CPU usage on sample: 0ms\r\n    java.net.SocketInputStream.socketRead0(FileDescriptor, byte[], int, int, int) SocketInputStream.java (native)\r\n    java.net.SocketInputStream.socketRead(FileDescriptor, byte[], int, int, int) SocketInputStream.java:116\r\n    java.net.SocketInputStream.read(byte[], int, int, int) SocketInputStream.java:171\r\n    java.net.SocketInputStream.read(byte[], int, int) SocketInputStream.java:141\r\n    okio.Okio$2.read(Buffer, long) Okio.java:139\r\n    okio.AsyncTimeout$2.read(Buffer, long) AsyncTimeout.java:211\r\n    okio.RealBufferedSource.indexOf(byte, long) RealBufferedSource.java:306\r\n    okio.RealBufferedSource.indexOf(byte) RealBufferedSource.java:300\r\n    okio.RealBufferedSource.readUtf8LineStrict() RealBufferedSource.java:196\r\n    okhttp3.internal.http1.Http1Codec.readResponse() Http1Codec.java:191\r\n    okhttp3.internal.connection.RealConnection.createTunnel(int, int, Request, HttpUrl) RealConnection.java:303\r\n    okhttp3.internal.connection.RealConnection.buildTunneledConnection(int, int, int, ConnectionSpecSelector) RealConnection.java:156\r\n    okhttp3.internal.connection.RealConnection.connect(int, int, int, List, boolean) RealConnection.java:112\r\n    okhttp3.internal.connection.StreamAllocation.findConnection(int, int, int, boolean) StreamAllocation.java:193\r\n    okhttp3.internal.connection.StreamAllocation.findHealthyConnection(int, int, int, boolean, boolean) StreamAllocation.java:129\r\n    okhttp3.internal.connection.StreamAllocation.newStream(OkHttpClient, boolean) StreamAllocation.java:98\r\n    okhttp3.internal.connection.ConnectInterceptor.intercept(Interceptor$Chain) ConnectInterceptor.java:42\r\n    okhttp3.internal.http.RealInterceptorChain.proceed(Request, StreamAllocation, HttpCodec, Connection) RealInterceptorChain.java:92\r\n    okhttp3.internal.http.RealInterceptorChain.proceed(Request) RealInterceptorChain.java:67\r\n    okhttp3.internal.http.BridgeInterceptor.intercept(Interceptor$Chain) BridgeInterceptor.java:93\r\n    okhttp3.internal.http.RealInterceptorChain.proceed(Request, StreamAllocation, HttpCodec, Connection) RealInterceptorChain.java:92\r\n    okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(Interceptor$Chain) RetryAndFollowUpInterceptor.java:124\r\n    okhttp3.internal.http.RealInterceptorChain.proceed(Request, StreamAllocation, HttpCodec, Connection) RealInterceptorChain.java:92\r\n    okhttp3.internal.http.RealInterceptorChain.proceed(Request) RealInterceptorChain.java:67\r\n    okhttp3.RealCall.getResponseWithInterceptorChain() RealCall.java:198\r\n    okhttp3.RealCall.execute() RealCall.java:83\r\n\r\nI found out that they have a fix for this \r\n\r\n[https://bugs.openjdk.java.net/browse/JDK-8172578][1]\r\n\r\nin JDK 8u152 (early access). I have installed it on one of our machines. Now I am waiting to see some good results.\r\n\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8172578","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>I have more than 50 machines that make about 200k requests/day/machine. They are running Amazon Linux AMI 2017.03. I previously had jdk1.8.0_102, now I have jdk1.8.0_131. I am using both apacheHttpClient and OKHttp as scraping libraries.</p>\n\n<p>Each machine was running 50 threads, and sometimes, the threads get lost. After profiling with Youkit java profiler I got</p>\n\n<pre><code>ScraperThread42 State: RUNNABLE CPU usage on sample: 0ms\njava.net.SocketInputStream.socketRead0(FileDescriptor, byte[], int, int, int) SocketInputStream.java (native)\njava.net.SocketInputStream.socketRead(FileDescriptor, byte[], int, int, int) SocketInputStream.java:116\njava.net.SocketInputStream.read(byte[], int, int, int) SocketInputStream.java:171\njava.net.SocketInputStream.read(byte[], int, int) SocketInputStream.java:141\nokio.Okio$2.read(Buffer, long) Okio.java:139\nokio.AsyncTimeout$2.read(Buffer, long) AsyncTimeout.java:211\nokio.RealBufferedSource.indexOf(byte, long) RealBufferedSource.java:306\nokio.RealBufferedSource.indexOf(byte) RealBufferedSource.java:300\nokio.RealBufferedSource.readUtf8LineStrict() RealBufferedSource.java:196\nokhttp3.internal.http1.Http1Codec.readResponse() Http1Codec.java:191\nokhttp3.internal.connection.RealConnection.createTunnel(int, int, Request, HttpUrl) RealConnection.java:303\nokhttp3.internal.connection.RealConnection.buildTunneledConnection(int, int, int, ConnectionSpecSelector) RealConnection.java:156\nokhttp3.internal.connection.RealConnection.connect(int, int, int, List, boolean) RealConnection.java:112\nokhttp3.internal.connection.StreamAllocation.findConnection(int, int, int, boolean) StreamAllocation.java:193\nokhttp3.internal.connection.StreamAllocation.findHealthyConnection(int, int, int, boolean, boolean) StreamAllocation.java:129\nokhttp3.internal.connection.StreamAllocation.newStream(OkHttpClient, boolean) StreamAllocation.java:98\nokhttp3.internal.connection.ConnectInterceptor.intercept(Interceptor$Chain) ConnectInterceptor.java:42\nokhttp3.internal.http.RealInterceptorChain.proceed(Request, StreamAllocation, HttpCodec, Connection) RealInterceptorChain.java:92\nokhttp3.internal.http.RealInterceptorChain.proceed(Request) RealInterceptorChain.java:67\nokhttp3.internal.http.BridgeInterceptor.intercept(Interceptor$Chain) BridgeInterceptor.java:93\nokhttp3.internal.http.RealInterceptorChain.proceed(Request, StreamAllocation, HttpCodec, Connection) RealInterceptorChain.java:92\nokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(Interceptor$Chain) RetryAndFollowUpInterceptor.java:124\nokhttp3.internal.http.RealInterceptorChain.proceed(Request, StreamAllocation, HttpCodec, Connection) RealInterceptorChain.java:92\nokhttp3.internal.http.RealInterceptorChain.proceed(Request) RealInterceptorChain.java:67\nokhttp3.RealCall.getResponseWithInterceptorChain() RealCall.java:198\nokhttp3.RealCall.execute() RealCall.java:83\n</code></pre>\n\n<p>I found out that they have a fix for this </p>\n\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8172578\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8172578</a></p>\n\n<p>in JDK 8u152 (early access). I have installed it on one of our machines. Now I am waiting to see some good results.</p>\n"},{"tags":[],"owner":{"account_id":5345891,"reputation":2894,"user_id":4261472,"accept_rate":88,"display_name":"Sergei Voitovich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547631760,"creation_date":1512555759,"answer_id":47671938,"question_id":28785085,"body_markdown":"I bumped into the same issue using apache common http client. \r\n\r\nThere&#39;s a pretty simple workaround (which doesn&#39;t require shutting the connection manager down):\r\n\r\nIn order to reproduce it, one needs to execute the request from the question in a new thread paying attention to details: \r\n\r\n - run request in separate thread, close request and release it&#39;s connection in a different thread, interrupt hanging thread\r\n - don&#39;t run `EntityUtils.consumeQuietly(response.getEntity())` in finally block (because it hangs on &#39;dead&#39; connection)\r\n\r\nFirst, add the interface\r\n\r\n    interface RequestDisposer {\r\n        void dispose();\r\n    }\r\n  \r\nExecute an HTTP request in a new thread\r\n\r\n    final AtomicReference&lt;RequestDisposer&gt; requestDisposer = new AtomicReference&lt;&gt;(null);  \r\n\r\n    final Thread thread = new Thread(() -&gt; {\r\n        final HttpGet request = new HttpGet(&quot;http://my.url&quot;);\r\n        final RequestDisposer disposer = () -&gt; {\r\n            request.abort();\r\n            request.releaseConnection();\r\n        };\r\n        requestDiposer.set(disposer);\r\n        \r\n        try (final CloseableHttpResponse response = httpClient.execute(request))) {\r\n            ...\r\n        } finally {\r\n          disposer.dispose();\r\n        } \r\n    };)\r\n    thread.start()\r\n\r\nCall `dispose()` in the main thread to close hanging connection\r\n\r\n    requestDisposer.get().dispose(); // better check if it&#39;s not null first\r\n    thread.interrupt();\r\n    thread.join();\r\n\r\nThat fixed the issue for me.\r\n\r\nMy stacktrace looked like this:\r\n\r\n    java.lang.Thread.State: RUNNABLE\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:139)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:155)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:284)\r\n\tat org.apache.http.impl.io.ChunkedInputStream.getChunkSize(ChunkedInputStream.java:253)\r\n\tat org.apache.http.impl.io.ChunkedInputStream.nextChunk(ChunkedInputStream.java:227)\r\n\tat org.apache.http.impl.io.ChunkedInputStream.read(ChunkedInputStream.java:186)\r\n\tat org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:137)\r\n\tat sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\r\n\tat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\r\n\tat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n\r\nTo whom it might be interesting, it easily reproducable, interrupt the thread without aborting request and releasing connection (ratio is about 1/100).\r\nWindows 10, version 10.0.\r\njdk8.151-x64.","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>I bumped into the same issue using apache common http client. </p>\n\n<p>There's a pretty simple workaround (which doesn't require shutting the connection manager down):</p>\n\n<p>In order to reproduce it, one needs to execute the request from the question in a new thread paying attention to details: </p>\n\n<ul>\n<li>run request in separate thread, close request and release it's connection in a different thread, interrupt hanging thread</li>\n<li>don't run <code>EntityUtils.consumeQuietly(response.getEntity())</code> in finally block (because it hangs on 'dead' connection)</li>\n</ul>\n\n<p>First, add the interface</p>\n\n<pre><code>interface RequestDisposer {\n    void dispose();\n}\n</code></pre>\n\n<p>Execute an HTTP request in a new thread</p>\n\n<pre><code>final AtomicReference&lt;RequestDisposer&gt; requestDisposer = new AtomicReference&lt;&gt;(null);  \n\nfinal Thread thread = new Thread(() -&gt; {\n    final HttpGet request = new HttpGet(\"http://my.url\");\n    final RequestDisposer disposer = () -&gt; {\n        request.abort();\n        request.releaseConnection();\n    };\n    requestDiposer.set(disposer);\n\n    try (final CloseableHttpResponse response = httpClient.execute(request))) {\n        ...\n    } finally {\n      disposer.dispose();\n    } \n};)\nthread.start()\n</code></pre>\n\n<p>Call <code>dispose()</code> in the main thread to close hanging connection</p>\n\n<pre><code>requestDisposer.get().dispose(); // better check if it's not null first\nthread.interrupt();\nthread.join();\n</code></pre>\n\n<p>That fixed the issue for me.</p>\n\n<p>My stacktrace looked like this:</p>\n\n<pre><code>java.lang.Thread.State: RUNNABLE\nat java.net.SocketInputStream.socketRead0(Native Method)\nat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\nat java.net.SocketInputStream.read(SocketInputStream.java:171)\nat java.net.SocketInputStream.read(SocketInputStream.java:141)\nat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:139)\nat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:155)\nat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:284)\nat org.apache.http.impl.io.ChunkedInputStream.getChunkSize(ChunkedInputStream.java:253)\nat org.apache.http.impl.io.ChunkedInputStream.nextChunk(ChunkedInputStream.java:227)\nat org.apache.http.impl.io.ChunkedInputStream.read(ChunkedInputStream.java:186)\nat org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:137)\nat sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\nat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\nat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\n</code></pre>\n\n<p>To whom it might be interesting, it easily reproducable, interrupt the thread without aborting request and releasing connection (ratio is about 1/100).\nWindows 10, version 10.0.\njdk8.151-x64.</p>\n"},{"tags":[],"owner":{"account_id":10397196,"reputation":1510,"user_id":7666635,"display_name":"Gunther Schadow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589740575,"creation_date":1589740575,"answer_id":61856844,"question_id":28785085,"body_markdown":"I feel that all these answers are way too specific.\r\n\r\nWe have to note that this is probably a real JVM bug. It should be possible to get the file descriptor and close it. All this timeout-talk is too high level. You do not want a timeout to the extent that the connection fails, what you want is an ability to hard break this stuck thread and stop or interrupt it.\r\n\r\nThe way the JVM should implemented the SocketInputStream.socketRead function is to set some internal default timeout, which should be even as low as 1 second. Then when the timeout comes, immediately looping back to the socketRead0. While that is happening, the Thread.interrupt and Thread.stop commands can take effect.\r\n\r\nThe even better way of doing this of course is not to do any blocking wait at all, but instead use a the select(2) system call with a list of file descriptors and when any one has data available, let it perform the read operation. \r\n\r\nJust look all over the internet all these people having trouble with threads stuck in java.net.SocketInputStream#socketRead0, it&#39;s the most popular topic about java.net.SocketInputStream hands down!\r\n\r\nSo, while the bug is not fixed, I wonder about the most dirty trick I can come up with to break up this situation. Something like connecting with the debugger interface to get to the stack frame of the socketRead call and grab the FileDescriptor and then break into that to get the int fd number and then make a native close(2) call on that fd.\r\n\r\nDo we have a chance to do that? (Don&#39;t tell me &quot;it&#39;s not good practice&quot;) -- if so, let&#39;s do it!","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>I feel that all these answers are way too specific.</p>\n\n<p>We have to note that this is probably a real JVM bug. It should be possible to get the file descriptor and close it. All this timeout-talk is too high level. You do not want a timeout to the extent that the connection fails, what you want is an ability to hard break this stuck thread and stop or interrupt it.</p>\n\n<p>The way the JVM should implemented the SocketInputStream.socketRead function is to set some internal default timeout, which should be even as low as 1 second. Then when the timeout comes, immediately looping back to the socketRead0. While that is happening, the Thread.interrupt and Thread.stop commands can take effect.</p>\n\n<p>The even better way of doing this of course is not to do any blocking wait at all, but instead use a the select(2) system call with a list of file descriptors and when any one has data available, let it perform the read operation. </p>\n\n<p>Just look all over the internet all these people having trouble with threads stuck in java.net.SocketInputStream#socketRead0, it's the most popular topic about java.net.SocketInputStream hands down!</p>\n\n<p>So, while the bug is not fixed, I wonder about the most dirty trick I can come up with to break up this situation. Something like connecting with the debugger interface to get to the stack frame of the socketRead call and grab the FileDescriptor and then break into that to get the int fd number and then make a native close(2) call on that fd.</p>\n\n<p>Do we have a chance to do that? (Don't tell me \"it's not good practice\") -- if so, let's do it!</p>\n"},{"tags":[],"owner":{"account_id":13579878,"reputation":121,"user_id":9796213,"display_name":"Eduardo Brito"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597410574,"creation_date":1597410221,"answer_id":63413327,"question_id":28785085,"body_markdown":"I faced the same issue today. Based on @Sergei Voitovich I&#39;ve tried to make it work still using Apache Http Client. \r\n\r\nSince I am using Java 8 its simpler to make a timeout to abort the connection.\r\n\r\nHere&#39;s is a draft of the implementation:\r\n\r\n    private HttpResponse executeRequest(Request request){\r\n        InterruptibleRequestExecution requestExecution = new InterruptibleRequestExecution(request, executor);\r\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n        try {\r\n            return executorService.submit(requestExecution).get(&lt;your timeout in milliseconds&gt;, TimeUnit.MILLISECONDS);\r\n        } catch (TimeoutException | ExecutionException e) {\r\n            // Your request timed out, you can throw an exception here if you want\r\n            throw new UsefulExceptionForYourApplication(e);\r\n        } catch (InterruptedException e) {\r\n            // Always remember to call interrupt after catching InterruptedException\r\n            Thread.currentThread().interrupt();\r\n            throw new UsefulExceptionForYourApplication(e);\r\n        } finally {\r\n            // This method forces to stop the Thread Pool (with single thread) created by Executors.newSingleThreadExecutor() and makes the pending request to abort inside the thread. So if the request is hanging in socketRead0 it will stop and also the thread will be terminated\r\n            forceStopIdleThreadsAndRequests(requestExecution, executorService);\r\n        }\r\n    }\r\n    \r\n    private void forceStopIdleThreadsAndRequests(InterruptibleRequestExecution execution,\r\n                                                 ExecutorService executorService) {\r\n        execution.abortRequest();\r\n        executorService.shutdownNow();\r\n    }\r\n    \r\nThe code above will create a new Thread to execute the request using `org.apache.http.client.fluent.Executor`. Timeout can be easily configured.\r\n\r\nThe execution of the thread is defined in `InterruptibleRequestExecution` which you can see below.\r\n\r\n\r\n    private static class InterruptibleRequestExecution implements Callable&lt;HttpResponse&gt; {\r\n        private final Request request;\r\n        private final Executor executor;\r\n        private final RequestDisposer disposer;\r\n\r\n        public InterruptibleRequestExecution(Request request, Executor executor) {\r\n            this.request = request;\r\n            this.executor = executor;\r\n            this.disposer = request::abort;\r\n        }\r\n\r\n        @Override\r\n        public HttpResponse call() {\r\n            try {\r\n                return executor.execute(request).returnResponse();\r\n            } catch (IOException e) {\r\n                throw new UsefulExceptionForYourApplication(e);\r\n            } finally {\r\n                disposer.dispose();\r\n            }\r\n        }\r\n\r\n        public void abortRequest() {\r\n            disposer.dispose();\r\n        }\r\n\r\n        @FunctionalInterface\r\n        interface RequestDisposer {\r\n            void dispose();\r\n        }\r\n    }\r\n\r\n\r\nThe results are really good. We&#39;ve had times where some connections where hanging in sockedRead0 for 7 hours! Now, it never passes the defined timeout and its working in production with millions of requests per day without having any problems.","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>I faced the same issue today. Based on @Sergei Voitovich I've tried to make it work still using Apache Http Client.</p>\n<p>Since I am using Java 8 its simpler to make a timeout to abort the connection.</p>\n<p>Here's is a draft of the implementation:</p>\n<pre><code>private HttpResponse executeRequest(Request request){\n    InterruptibleRequestExecution requestExecution = new InterruptibleRequestExecution(request, executor);\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\n    try {\n        return executorService.submit(requestExecution).get(&lt;your timeout in milliseconds&gt;, TimeUnit.MILLISECONDS);\n    } catch (TimeoutException | ExecutionException e) {\n        // Your request timed out, you can throw an exception here if you want\n        throw new UsefulExceptionForYourApplication(e);\n    } catch (InterruptedException e) {\n        // Always remember to call interrupt after catching InterruptedException\n        Thread.currentThread().interrupt();\n        throw new UsefulExceptionForYourApplication(e);\n    } finally {\n        // This method forces to stop the Thread Pool (with single thread) created by Executors.newSingleThreadExecutor() and makes the pending request to abort inside the thread. So if the request is hanging in socketRead0 it will stop and also the thread will be terminated\n        forceStopIdleThreadsAndRequests(requestExecution, executorService);\n    }\n}\n\nprivate void forceStopIdleThreadsAndRequests(InterruptibleRequestExecution execution,\n                                             ExecutorService executorService) {\n    execution.abortRequest();\n    executorService.shutdownNow();\n}\n</code></pre>\n<p>The code above will create a new Thread to execute the request using <code>org.apache.http.client.fluent.Executor</code>. Timeout can be easily configured.</p>\n<p>The execution of the thread is defined in <code>InterruptibleRequestExecution</code> which you can see below.</p>\n<pre><code>private static class InterruptibleRequestExecution implements Callable&lt;HttpResponse&gt; {\n    private final Request request;\n    private final Executor executor;\n    private final RequestDisposer disposer;\n\n    public InterruptibleRequestExecution(Request request, Executor executor) {\n        this.request = request;\n        this.executor = executor;\n        this.disposer = request::abort;\n    }\n\n    @Override\n    public HttpResponse call() {\n        try {\n            return executor.execute(request).returnResponse();\n        } catch (IOException e) {\n            throw new UsefulExceptionForYourApplication(e);\n        } finally {\n            disposer.dispose();\n        }\n    }\n\n    public void abortRequest() {\n        disposer.dispose();\n    }\n\n    @FunctionalInterface\n    interface RequestDisposer {\n        void dispose();\n    }\n}\n</code></pre>\n<p>The results are really good. We've had times where some connections where hanging in sockedRead0 for 7 hours! Now, it never passes the defined timeout and its working in production with millions of requests per day without having any problems.</p>\n"}],"owner":{"account_id":174411,"reputation":5350,"user_id":403759,"accept_rate":86,"display_name":"Piotr M&#252;ller"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55769,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":39189243,"answer_count":9,"score":70,"last_activity_date":1683853046,"creation_date":1425146923,"question_id":28785085,"body_markdown":"Performing millions of HTTP requests with different Java libraries gives me threads hung on:\r\n\r\n`java.net.SocketInputStream.socketRead0()`\r\n\r\nwhich is a `native` function.\r\n\r\nI tried to set up the Apache Http Client and `RequestConfig` to have timeouts on  (I hope) everythig that is possible but still, **I have (probably infinite) hangs on `socketRead0`. How to get rid of them?**\r\n\r\nThe hung ratio is about ~1 per 10000 requests (to 10000 different hosts) and it can last probably forever (I&#39;ve confirmed thread hung as still valid after 10 hours).\r\n\r\nJDK 1.8 on Windows 7.\r\n\r\nMy `HttpClient` factory:\r\n\r\n    SocketConfig socketConfig = SocketConfig.custom()\r\n                .setSoKeepAlive(false)\r\n                .setSoLinger(1)\r\n                .setSoReuseAddress(true)\r\n                .setSoTimeout(5000)\r\n                .setTcpNoDelay(true).build();\r\n\r\n        HttpClientBuilder builder = HttpClientBuilder.create();\r\n        builder.disableAutomaticRetries();\r\n        builder.disableContentCompression();\r\n        builder.disableCookieManagement();\r\n        builder.disableRedirectHandling();\r\n        builder.setConnectionReuseStrategy(new NoConnectionReuseStrategy());\r\n        builder.setDefaultSocketConfig(socketConfig);\r\n\r\n        return HttpClientBuilder.create().build();\r\n\r\nMy `RequestConfig` factory:\r\n\r\n        HttpGet request = new HttpGet(url);\r\n\r\n        RequestConfig config = RequestConfig.custom()\r\n                .setCircularRedirectsAllowed(false)\r\n                .setConnectionRequestTimeout(8000)\r\n                .setConnectTimeout(4000)\r\n                .setMaxRedirects(1)\r\n                .setRedirectsEnabled(true)\r\n                .setSocketTimeout(5000)\r\n                .setStaleConnectionCheckEnabled(true).build();\r\n        request.setConfig(config);\r\n\r\n        return new HttpGet(url);\r\n\r\n[OpenJDK `socketRead0` source][1]\r\n\r\nNote: Actually I have a &quot;trick&quot;: I can schedule `.getConnectionManager().shutdown()` in other `Thread` with a cancellation of the `Future` if request finished properly. But, it is deprecated and also it kills whole `HttpClient`, not just that single request.\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/windows/native/java/net/SocketInputStream.c","title":"How to prevent hangs on SocketInputStream.socketRead0 in Java?","body":"<p>Performing millions of HTTP requests with different Java libraries gives me threads hung on:</p>\n<p><code>java.net.SocketInputStream.socketRead0()</code></p>\n<p>which is a <code>native</code> function.</p>\n<p>I tried to set up the Apache Http Client and <code>RequestConfig</code> to have timeouts on  (I hope) everythig that is possible but still, <strong>I have (probably infinite) hangs on <code>socketRead0</code>. How to get rid of them?</strong></p>\n<p>The hung ratio is about ~1 per 10000 requests (to 10000 different hosts) and it can last probably forever (I've confirmed thread hung as still valid after 10 hours).</p>\n<p>JDK 1.8 on Windows 7.</p>\n<p>My <code>HttpClient</code> factory:</p>\n<pre><code>SocketConfig socketConfig = SocketConfig.custom()\n            .setSoKeepAlive(false)\n            .setSoLinger(1)\n            .setSoReuseAddress(true)\n            .setSoTimeout(5000)\n            .setTcpNoDelay(true).build();\n\n    HttpClientBuilder builder = HttpClientBuilder.create();\n    builder.disableAutomaticRetries();\n    builder.disableContentCompression();\n    builder.disableCookieManagement();\n    builder.disableRedirectHandling();\n    builder.setConnectionReuseStrategy(new NoConnectionReuseStrategy());\n    builder.setDefaultSocketConfig(socketConfig);\n\n    return HttpClientBuilder.create().build();\n</code></pre>\n<p>My <code>RequestConfig</code> factory:</p>\n<pre><code>    HttpGet request = new HttpGet(url);\n\n    RequestConfig config = RequestConfig.custom()\n            .setCircularRedirectsAllowed(false)\n            .setConnectionRequestTimeout(8000)\n            .setConnectTimeout(4000)\n            .setMaxRedirects(1)\n            .setRedirectsEnabled(true)\n            .setSocketTimeout(5000)\n            .setStaleConnectionCheckEnabled(true).build();\n    request.setConfig(config);\n\n    return new HttpGet(url);\n</code></pre>\n<p><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/windows/native/java/net/SocketInputStream.c\" rel=\"nofollow noreferrer\">OpenJDK <code>socketRead0</code> source</a></p>\n<p>Note: Actually I have a &quot;trick&quot;: I can schedule <code>.getConnectionManager().shutdown()</code> in other <code>Thread</code> with a cancellation of the <code>Future</code> if request finished properly. But, it is deprecated and also it kills whole <code>HttpClient</code>, not just that single request.</p>\n"},{"tags":["java","sockets","server","client-server","socketexception"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448143075,"creation_date":1448143075,"answer_id":33849048,"question_id":33847792,"body_markdown":"This exception means that *you* closed the socket and then continued to use it.\r\n\r\n    writer.close();\r\n\r\nYou closed it here. Closing either the input stream or the output stream of a socket closes the socket. See the Javadoc.","title":"Client/Server Socket Exception issue","body":"<p>This exception means that <em>you</em> closed the socket and then continued to use it.</p>\n\n<pre><code>writer.close();\n</code></pre>\n\n<p>You closed it here. Closing either the input stream or the output stream of a socket closes the socket. See the Javadoc.</p>\n"}],"owner":{"account_id":7237505,"reputation":1,"user_id":5522189,"display_name":"Joshua Wilford"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1448145452,"answer_count":1,"score":0,"last_activity_date":1683852583,"creation_date":1448134991,"question_id":33847792,"body_markdown":"   So I am still trying to tackle this client/server concept. I finally have a somewhat working program except I get this error. I have looked around the net to see if this something I can try to resolve myself, but for the life of me I can&#39;t figure it out. Can someone take a look at the client code and see where I made a mistake and point me in the right direction. \r\n\r\n\r\n\r\n    java.net.SocketException: Socket closed\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:170)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\r\n\tat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\r\n\tat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n\tat java.io.InputStreamReader.read(InputStreamReader.java:184)\r\n\tat java.io.BufferedReader.fill(BufferedReader.java:161)\r\n\tat java.io.BufferedReader.readLine(BufferedReader.java:324)\r\n\tat java.io.BufferedReader.readLine(BufferedReader.java:389)\r\n\tat Contact$IncomingReader.run(Contact.java:104)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\n\r\nClient Code\r\n\r\n\r\n\r\n    public class Contact{\r\n\r\n\tJTextArea incoming;\r\n\tJTextField outgoing;\r\n\tBufferedReader reader;\r\n\tPrintWriter writer;\r\n\tSocket sock;\r\n\tJPanel mainP;\r\n\tJScrollPane scroll;\r\n\tJButton sendB;\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\tContact client = new Contact();\r\n\t\tclient.go();\r\n\t}\r\n\t\r\n\t\r\n\tpublic void go(){\r\n\t\t\r\n\t\tJFrame frame = new JFrame(&quot;Client&quot;);\r\n\t\tmainP = new JPanel();\r\n\t\tincoming = new JTextArea(15,50);\r\n\t\tincoming.setLineWrap(true);\r\n\t\tincoming.setWrapStyleWord(false);\r\n\t\tincoming.setEditable(false);\r\n\t\tscroll = new JScrollPane(incoming);\r\n\t\tscroll.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\tscroll.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\r\n\t\toutgoing = new JTextField(20);\r\n\t\tsendB = new JButton(&quot;Send&quot;);\r\n\t\tsendB.addActionListener(new SendButtonListener());\r\n\t\tmainP.add(scroll);\r\n\t\tmainP.add(outgoing);\r\n\t\tmainP.add(sendB);\r\n\t\tNetworking();\r\n\t\t\r\n\t\tThread readerThread = new Thread(new IncomingReader());\r\n\t\treaderThread.start();\r\n\t\t\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.getContentPane().add(BorderLayout.CENTER, mainP);\r\n\t\tframe.setSize(400,400);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\t\r\n\tprivate void Networking(){\r\n\t\ttry{\r\n\t\t\tsock = new Socket(&quot;127.0.0.1&quot;,5000);\r\n\t\t\tInputStreamReader streamReader = new InputStreamReader(sock.getInputStream());\r\n\t\t\treader = new BufferedReader(streamReader);\r\n\t\t\twriter = new PrintWriter(sock.getOutputStream());\r\n\t\t\tSystem.out.println(&quot;Connection Established&quot;);\r\n\t\t}catch(IOException ex){\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic class SendButtonListener implements ActionListener {\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\ttry{\r\n\t\t\t\twriter.println(outgoing.getText());\r\n\t\t\t\twriter.close();\r\n\t\t\t}catch(Exception ex){\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\toutgoing.setText(&quot;&quot;);\r\n\t\t\toutgoing.requestFocus();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class IncomingReader implements Runnable{\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tString message;\r\n\t\t\ttry{\r\n\t\t\t\twhile((message = reader.readLine()) != null){\r\n\t\t\t\t\tSystem.out.println(&quot;read &quot; + message);\r\n\t\t\t\t\tincoming.append(message + &quot;\\n&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}catch(Exception ex){\r\n\t\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n    }\r\n\r\n\r\n","title":"Client/Server Socket Exception issue","body":"<p>So I am still trying to tackle this client/server concept. I finally have a somewhat working program except I get this error. I have looked around the net to see if this something I can try to resolve myself, but for the life of me I can't figure it out. Can someone take a look at the client code and see where I made a mistake and point me in the right direction.</p>\n<pre><code>java.net.SocketException: Socket closed\nat java.net.SocketInputStream.socketRead0(Native Method)\nat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\nat java.net.SocketInputStream.read(SocketInputStream.java:170)\nat java.net.SocketInputStream.read(SocketInputStream.java:141)\nat sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\nat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\nat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\nat java.io.InputStreamReader.read(InputStreamReader.java:184)\nat java.io.BufferedReader.fill(BufferedReader.java:161)\nat java.io.BufferedReader.readLine(BufferedReader.java:324)\nat java.io.BufferedReader.readLine(BufferedReader.java:389)\nat Contact$IncomingReader.run(Contact.java:104)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>Client Code</p>\n<pre><code>public class Contact{\n\nJTextArea incoming;\nJTextField outgoing;\nBufferedReader reader;\nPrintWriter writer;\nSocket sock;\nJPanel mainP;\nJScrollPane scroll;\nJButton sendB;\n\npublic static void main(String[] args){\n    Contact client = new Contact();\n    client.go();\n}\n\n\npublic void go(){\n    \n    JFrame frame = new JFrame(&quot;Client&quot;);\n    mainP = new JPanel();\n    incoming = new JTextArea(15,50);\n    incoming.setLineWrap(true);\n    incoming.setWrapStyleWord(false);\n    incoming.setEditable(false);\n    scroll = new JScrollPane(incoming);\n    scroll.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n    scroll.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n    outgoing = new JTextField(20);\n    sendB = new JButton(&quot;Send&quot;);\n    sendB.addActionListener(new SendButtonListener());\n    mainP.add(scroll);\n    mainP.add(outgoing);\n    mainP.add(sendB);\n    Networking();\n    \n    Thread readerThread = new Thread(new IncomingReader());\n    readerThread.start();\n    \n    frame.setLocationRelativeTo(null);\n    frame.getContentPane().add(BorderLayout.CENTER, mainP);\n    frame.setSize(400,400);\n    frame.setVisible(true);\n}\n\nprivate void Networking(){\n    try{\n        sock = new Socket(&quot;127.0.0.1&quot;,5000);\n        InputStreamReader streamReader = new InputStreamReader(sock.getInputStream());\n        reader = new BufferedReader(streamReader);\n        writer = new PrintWriter(sock.getOutputStream());\n        System.out.println(&quot;Connection Established&quot;);\n    }catch(IOException ex){\n        ex.printStackTrace();\n    }\n}\n\n\npublic class SendButtonListener implements ActionListener {\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        try{\n            writer.println(outgoing.getText());\n            writer.close();\n        }catch(Exception ex){\n            ex.printStackTrace();\n        }\n        outgoing.setText(&quot;&quot;);\n        outgoing.requestFocus();\n    }\n}\n\npublic class IncomingReader implements Runnable{\n    @Override\n    public void run() {\n        String message;\n        try{\n            while((message = reader.readLine()) != null){\n                System.out.println(&quot;read &quot; + message);\n                incoming.append(message + &quot;\\n&quot;);\n            }\n            \n        }catch(Exception ex){\n                ex.printStackTrace();\n        }\n        \n    }\n    \n}\n}\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":1,"creation_date":1566459099,"post_id":57603972,"comment_id":101664549,"body_markdown":"Is there really a tab between the date and time?","body":"Is there really a tab between the date and time?"},{"owner":{"account_id":13715480,"reputation":377,"user_id":9896706,"display_name":"Remco Buddelmeijer"},"score":1,"creation_date":1566459207,"post_id":57603972,"comment_id":101664613,"body_markdown":"Are you sure there is a tab (as @RobAu said)? This would be the only explanation.","body":"Are you sure there is a tab (as @RobAu said)? This would be the only explanation."},{"owner":{"account_id":6809077,"reputation":627,"user_id":5239927,"accept_rate":83,"display_name":"Peter S"},"score":1,"creation_date":1566459358,"post_id":57603972,"comment_id":101664688,"body_markdown":"I Edited the Question and posted a Screenshot of the LogFile.","body":"I Edited the Question and posted a Screenshot of the LogFile."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1566459624,"post_id":57603972,"comment_id":101664823,"body_markdown":"Try splitting on `\\\\t+` to handle multiple consecutive tabs.","body":"Try splitting on <code>\\\\t+</code> to handle multiple consecutive tabs."}],"answers":[{"tags":[],"owner":{"account_id":16372083,"reputation":2070,"user_id":11825162,"display_name":"IQbrod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1566460181,"creation_date":1566459672,"answer_id":57604341,"question_id":57603972,"body_markdown":"Result of ```String[] values = data.split(&quot;\\\\t&quot;);```\r\n&gt; 1: [&quot;2019-06-06 10:01:02&quot;, &quot;&quot;, &quot;1.0&quot;]    \r\n&gt; 2: [&quot;2019-06-06 10:25:12&quot;, &quot;100.0&quot;]  \r\n&gt; 3: [&quot;2019-06-06 11:02:32 &quot;, &quot;&quot;, &quot;2.0&quot;] \r\n\r\nNote that double tabulation will split to an empty String.\r\nOn line 2 there is a single tabulation which results in an ```ArrayOutOfBoundsException``` because values does not have a third value.\r\n\r\nAs mentionned by @Thilo, a split on ```&quot;\\\\t+&quot;``` should fix your problem ","title":"Java Scanner hasNext() skips empty lines","body":"<p>Result of <code>String[] values = data.split(\"\\\\t\");</code></p>\n\n<blockquote>\n  <p>1: [\"2019-06-06 10:01:02\", \"\", \"1.0\"]<br>\n  2: [\"2019-06-06 10:25:12\", \"100.0\"]<br>\n  3: [\"2019-06-06 11:02:32 \", \"\", \"2.0\"] </p>\n</blockquote>\n\n<p>Note that double tabulation will split to an empty String.\nOn line 2 there is a single tabulation which results in an <code>ArrayOutOfBoundsException</code> because values does not have a third value.</p>\n\n<p>As mentionned by @Thilo, a split on <code>\"\\\\t+\"</code> should fix your problem </p>\n"},{"tags":[],"owner":{"account_id":15240508,"reputation":1895,"user_id":11143190,"display_name":"Zain Arshad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566460206,"creation_date":1566460206,"answer_id":57604478,"question_id":57603972,"body_markdown":"The problem as stated by other is that there are empty entries in the array i.e.\r\n\r\n&gt; [&quot;2019-06-06 10:01:02&quot;, &quot;&quot;, &quot;1.0&quot;]\r\n\r\nSo you need to delete all such entries. Using Java 8 this can be done like:\r\n\r\n    // You have the &quot;values&quot; array now do this...\r\n    String[] correctValues = Arrays.stream(values)\r\n                .filter(value -&gt;\r\n                        value != null &amp;&amp; value.length() &gt; 0\r\n                )\r\n                .toArray(size -&gt; new String[size]);\r\n    // Rest of the code ...","title":"Java Scanner hasNext() skips empty lines","body":"<p>The problem as stated by other is that there are empty entries in the array i.e.</p>\n\n<blockquote>\n  <p>[\"2019-06-06 10:01:02\", \"\", \"1.0\"]</p>\n</blockquote>\n\n<p>So you need to delete all such entries. Using Java 8 this can be done like:</p>\n\n<pre><code>// You have the \"values\" array now do this...\nString[] correctValues = Arrays.stream(values)\n            .filter(value -&gt;\n                    value != null &amp;&amp; value.length() &gt; 0\n            )\n            .toArray(size -&gt; new String[size]);\n// Rest of the code ...\n</code></pre>\n"}],"owner":{"account_id":6809077,"reputation":627,"user_id":5239927,"accept_rate":83,"display_name":"Peter S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57604341,"answer_count":2,"score":0,"last_activity_date":1683852328,"creation_date":1566458364,"question_id":57603972,"body_markdown":"The log file I want to work with is tab-separated and looks like this:\r\n\r\n    2019-06-06 10:01:02\t\t1.0\r\n    2019-06-06 10:25:12\t100.0\r\n    2019-06-06 11:02:32\t\t2.0\r\n\r\nI use the following code to scan through the file:\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class FirstTry {\r\n    public static void main(String[] args) \r\n    {\r\n        String fileName = &quot;LogFile.csv&quot;;\r\n        File file = new File(fileName);\r\n        try\r\n        {\r\n            Scanner inputStream = new Scanner(file);\r\n            while (inputStream.hasNext()){\r\n                String data = inputStream.nextLine();\r\n                String[] values = data.split(&quot;\\\\t&quot;);\r\n                System.out.println(values[0] + &quot;    &quot; + values[1]);\r\n            }\r\n            inputStream.close();\r\n        }\r\n        catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nThe line\r\n\r\n    System.out.println(values[0] + &quot;    &quot; + values[1]);\r\n\r\nprints the following, working output:\r\n\r\n    2019-06-06 10:01:02    \r\n    2019-06-06 10:25:12    100.0\r\n    2019-06-06 11:02:32    \r\n\r\nbut \r\n\r\n    System.out.println(values[0] + &quot;    &quot; + values[2]);\r\n\r\nprints:\r\n\r\n    2019-06-06 10:01:02    1.0\r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException\r\n\r\n\r\nWhy is this exceptions raised vor `values[2]` and not `values [1]`?\r\n\r\n\r\nEdit:\r\nSublime Text Screenshot of the LogFile with the Tabs (5 in total) marked:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NCI2h.png\r\n\r\n\r\nEdit 2:\r\n\r\n    String[] values = data.split(&quot;\\\\t+&quot;);\r\n    System.out.println(values[0] + &quot;    &quot; + values[1]);\r\nprints:\r\n\r\n    2019-06-06 10:01:02    1.0\r\n    2019-06-06 10:25:12    100.0\r\n    2019-06-06 11:02:32    2.0\r\n\r\n`System.out.println(values[0] + &quot;    &quot; + values[2]);`results in an `java.lang.ArrayIndexOutOfBoundsException`","title":"Java Scanner hasNext() skips empty lines","body":"<p>The log file I want to work with is tab-separated and looks like this:</p>\n\n<pre><code>2019-06-06 10:01:02     1.0\n2019-06-06 10:25:12 100.0\n2019-06-06 11:02:32     2.0\n</code></pre>\n\n<p>I use the following code to scan through the file:</p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class FirstTry {\n    public static void main(String[] args) \n    {\n        String fileName = \"LogFile.csv\";\n        File file = new File(fileName);\n        try\n        {\n            Scanner inputStream = new Scanner(file);\n            while (inputStream.hasNext()){\n                String data = inputStream.nextLine();\n                String[] values = data.split(\"\\\\t\");\n                System.out.println(values[0] + \"    \" + values[1]);\n            }\n            inputStream.close();\n        }\n        catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>The line</p>\n\n<pre><code>System.out.println(values[0] + \"    \" + values[1]);\n</code></pre>\n\n<p>prints the following, working output:</p>\n\n<pre><code>2019-06-06 10:01:02    \n2019-06-06 10:25:12    100.0\n2019-06-06 11:02:32    \n</code></pre>\n\n<p>but </p>\n\n<pre><code>System.out.println(values[0] + \"    \" + values[2]);\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>2019-06-06 10:01:02    1.0\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException\n</code></pre>\n\n<p>Why is this exceptions raised vor <code>values[2]</code> and not <code>values [1]</code>?</p>\n\n<p>Edit:\nSublime Text Screenshot of the LogFile with the Tabs (5 in total) marked:\n<a href=\"https://i.stack.imgur.com/NCI2h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NCI2h.png\" alt=\"enter image description here\"></a></p>\n\n<p>Edit 2:</p>\n\n<pre><code>String[] values = data.split(\"\\\\t+\");\nSystem.out.println(values[0] + \"    \" + values[1]);\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>2019-06-06 10:01:02    1.0\n2019-06-06 10:25:12    100.0\n2019-06-06 11:02:32    2.0\n</code></pre>\n\n<p><code>System.out.println(values[0] + \"    \" + values[2]);</code>results in an <code>java.lang.ArrayIndexOutOfBoundsException</code></p>\n"},{"tags":["java","input","user-input"],"comments":[{"owner":{"account_id":11260438,"reputation":5143,"user_id":8258942,"accept_rate":0,"display_name":"Nitin Bisht"},"score":1,"creation_date":1594183557,"post_id":62787676,"comment_id":111033363,"body_markdown":"How and what inputs are you giving since it seems fine","body":"How and what inputs are you giving since it seems fine"},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":0,"creation_date":1594184229,"post_id":62787676,"comment_id":111033508,"body_markdown":"What error does it print?","body":"What error does it print?"},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1594184366,"post_id":62787676,"comment_id":111033558,"body_markdown":"Welcome to SO!  It would also help us if you could tell us exactly what error you are getting.","body":"Welcome to SO!  It would also help us if you could tell us exactly what error you are getting."},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1594184395,"post_id":62787676,"comment_id":111033567,"body_markdown":"and Kevin beat me to it lol","body":"and Kevin beat me to it lol"}],"answers":[{"tags":[],"owner":{"account_id":8999874,"reputation":345,"user_id":6708879,"display_name":"MissingSemiColon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594195135,"creation_date":1594195135,"answer_id":62790104,"question_id":62787676,"body_markdown":"The problem is that nextLine is reading everying, so nextInt has nothing to read. What you want to do is.\r\n\r\n1.Read the input\r\n\r\n2.Split by something (space for example)\r\n\r\n3.Parse the text manualy.\r\n\r\n    public static void main(String[] args) {\r\n        // Try-with-resources so its closes the scanner.\r\n        try (Scanner input = new Scanner(System.in);) {\r\n\r\n            System.out.println(&quot;Enter Name and age : &quot;);\r\n            // Read input, split by spaces.\r\n            String[] text = input.nextLine().split(&quot; &quot;);\r\n            String name = &quot;&quot;;\r\n            // Read the values, but not the last one.\r\n            for (int i = 0; i &lt; text.length - 1; i++) {\r\n                name += text[i] + &quot; &quot;;\r\n            }\r\n\r\n            try {\r\n                // Take the last one and convert it to int.\r\n                int age = Integer.parseInt(text[text.length - 1]);\r\n                // Print if everything was ok.\r\n                System.out.println(&quot;String name : &quot; + name);\r\n                System.out.println(&quot;String name : &quot; + age);\r\n\r\n            } catch (NumberFormatException e) {\r\n                // The last field was not a number.\r\n                System.err.println(&quot;Age has to be a number&quot;);\r\n            }\r\n        } // No catch propagate the exception.\r\n    }","title":"Error after adding second input statement to code","body":"<p>The problem is that nextLine is reading everying, so nextInt has nothing to read. What you want to do is.</p>\n<p>1.Read the input</p>\n<p>2.Split by something (space for example)</p>\n<p>3.Parse the text manualy.</p>\n<pre><code>public static void main(String[] args) {\n    // Try-with-resources so its closes the scanner.\n    try (Scanner input = new Scanner(System.in);) {\n\n        System.out.println(&quot;Enter Name and age : &quot;);\n        // Read input, split by spaces.\n        String[] text = input.nextLine().split(&quot; &quot;);\n        String name = &quot;&quot;;\n        // Read the values, but not the last one.\n        for (int i = 0; i &lt; text.length - 1; i++) {\n            name += text[i] + &quot; &quot;;\n        }\n\n        try {\n            // Take the last one and convert it to int.\n            int age = Integer.parseInt(text[text.length - 1]);\n            // Print if everything was ok.\n            System.out.println(&quot;String name : &quot; + name);\n            System.out.println(&quot;String name : &quot; + age);\n\n        } catch (NumberFormatException e) {\n            // The last field was not a number.\n            System.err.println(&quot;Age has to be a number&quot;);\n        }\n    } // No catch propagate the exception.\n}\n</code></pre>\n"}],"owner":{"account_id":16663148,"reputation":35,"user_id":12042609,"display_name":"Simba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1594213016,"answer_count":1,"score":0,"last_activity_date":1683852292,"creation_date":1594183281,"question_id":62787676,"body_markdown":"code_1\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;Enter Name : &quot;);\r\n    String name = input.nextLine();\r\n    System.out.println(&quot;String name : &quot; + name);\r\n    System.out.println(&quot;Enter age : &quot;);\r\n    int age = input.nextInt();\r\n\r\ncode_2\r\n\r\nHere I tried to get both and name and age at once. This code takes name and After I enter name and it prints error and doesn&#39;t ask for age...\r\n\r\n    System.out.println(&quot;Enter Name and age : &quot;);\r\n    String name = input.nextLine();\r\n    int age = input.nextInt();//error may be over here\r\n    \r\n    System.out.println(&quot;String name : &quot; + name);\r\n    System.out.println(&quot;String name : &quot; + age);\r\n    \r\n\r\n\r\n","title":"Error after adding second input statement to code","body":"<p>code_1</p>\n<pre><code>Scanner input = new Scanner(System.in);\nSystem.out.println(&quot;Enter Name : &quot;);\nString name = input.nextLine();\nSystem.out.println(&quot;String name : &quot; + name);\nSystem.out.println(&quot;Enter age : &quot;);\nint age = input.nextInt();\n</code></pre>\n<p>code_2</p>\n<p>Here I tried to get both and name and age at once. This code takes name and After I enter name and it prints error and doesn't ask for age...</p>\n<pre><code>System.out.println(&quot;Enter Name and age : &quot;);\nString name = input.nextLine();\nint age = input.nextInt();//error may be over here\n\nSystem.out.println(&quot;String name : &quot; + name);\nSystem.out.println(&quot;String name : &quot; + age);\n</code></pre>\n"},{"tags":["java","string","java.util.scanner","delimiter"],"comments":[{"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"score":1,"creation_date":1606158952,"post_id":64974854,"comment_id":114871832,"body_markdown":"What do you mean &quot;assign every 2 characters **to their variables**&quot;?","body":"What do you mean &quot;assign every 2 characters <b>to their variables</b>&quot;?"},{"owner":{"account_id":15091436,"reputation":427,"user_id":10891226,"display_name":"RIVERMAN2010"},"score":0,"creation_date":1606159004,"post_id":64974854,"comment_id":114871853,"body_markdown":"You might want to look at `String.substring()`","body":"You might want to look at <code>String.substring()</code>"},{"owner":{"account_id":18394167,"reputation":19,"user_id":13399090,"display_name":"RideTheLightning343"},"score":0,"creation_date":1606159128,"post_id":64974854,"comment_id":114871918,"body_markdown":"@Spectric for example numBG needs to be incremented by 1 for every occurrence of &quot;BG&quot;  in the string","body":"@Spectric for example numBG needs to be incremented by 1 for every occurrence of &quot;BG&quot;  in the string"},{"owner":{"account_id":18394167,"reputation":19,"user_id":13399090,"display_name":"RideTheLightning343"},"score":0,"creation_date":1606160823,"post_id":64974854,"comment_id":114872627,"body_markdown":"@RIVERMAN2010 Thank you, I used token = token.substring(0); after every loop","body":"@RIVERMAN2010 Thank you, I used token = token.substring(0); after every loop"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1606161357,"creation_date":1606161357,"answer_id":64975460,"question_id":64974854,"body_markdown":"The easiest way is to use a map.  To split the string, replace every two characters with the string following by some unused character or characters.  Then split on those characters.  The rest is to just stream the array of character pairs and do a frequency count.\r\n\r\n```\r\nString s = &quot;BBGBGBBGGGGBGBGBGBGG&quot;;\r\nMap&lt;String, Long&gt; count =\r\n\t\tArrays.stream(s.replaceAll(&quot;..&quot;, &quot;$0#&quot;).split(&quot;#&quot;))\r\n\t\t\t\t.collect(Collectors.groupingBy(a -&gt; a,\r\n\t\t\t\t\t\tCollectors.counting()));\r\n\r\ncount.forEach((k,v)-&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n```\r\nPrints\r\n```\r\nGG -&gt; 2\r\nBB -&gt; 1\r\nBG -&gt; 1\r\nGB -&gt; 6","title":"How could I separate this string by 2 character increments?","body":"<p>The easiest way is to use a map.  To split the string, replace every two characters with the string following by some unused character or characters.  Then split on those characters.  The rest is to just stream the array of character pairs and do a frequency count.</p>\n<pre><code>String s = &quot;BBGBGBBGGGGBGBGBGBGG&quot;;\nMap&lt;String, Long&gt; count =\n        Arrays.stream(s.replaceAll(&quot;..&quot;, &quot;$0#&quot;).split(&quot;#&quot;))\n                .collect(Collectors.groupingBy(a -&gt; a,\n                        Collectors.counting()));\n\ncount.forEach((k,v)-&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n</code></pre>\n<p>Prints</p>\n<pre><code>GG -&gt; 2\nBB -&gt; 1\nBG -&gt; 1\nGB -&gt; 6\n</code></pre>\n"}],"owner":{"account_id":18394167,"reputation":19,"user_id":13399090,"display_name":"RideTheLightning343"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64975460,"answer_count":1,"score":0,"last_activity_date":1683852240,"creation_date":1606158687,"question_id":64974854,"body_markdown":" There are no delimiters and the string itself comes from a file formatted like the following:\r\n\r\nBB\r\n\r\nGB\r\n\r\nGB\r\n\r\nBG\r\n\r\nGG\r\n\r\nGB\r\n\r\nGB\r\n\r\nGB\r\n\r\nGB\r\n\r\nGG\r\n\r\nAfter using the following code I&#39;m left with BBGBGBBGGGGBGBGBGBGG, as printed from the print statement after `token = in.nextLine( )`; My goal for this program is to assign every 2 characters to their variables and increment them to get a count. I just don`t know how to increment and assign them correctly. Any help is appreciated.  \r\n```\r\nimport java.util.Scanner;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\npublic class Family\r\n{\r\n   public static void main (String args[]) throws IOException {\r\n    //variables defined\r\n    int numGB = 0;\r\n    int numBG = 0;\r\n    int numGG = 0;\r\n    int numBB = 0;\r\n    int totalNum = 0;\r\n    double probBG;\r\n    double probGG;\r\n    double probBB;\r\n    String token =&quot;&quot;;\r\n    int spaceDeleter = 0;\r\n    int token2Sub = 0;\r\n    \r\n    File fileName = new File (&quot;test1.txt&quot;); \r\n    \r\n    Scanner in = new Scanner(fileName); //scans file\r\n    \r\n    System.out.println(&quot;Composition statistics for families with two children&quot;);\r\n    while(in.hasNextLine())\r\n    {\r\n        token = in.nextLine( ); //recives token from scanner\r\n        System.out.print(token);\r\n        if(token.equals(&quot;GB&quot;))\r\n        {\r\n        numGB = numGB + 1;\r\n        }\r\n        else if(token.equals(&quot;BG&quot;))\r\n        {\r\n        numBG = numBG + 1;\r\n        }\r\n        else if(token.equals(&quot;GG&quot;))\r\n        {\r\n        numGG = numGG + 1;\r\n        }\r\n        else if(token.equals(&quot;BB&quot;))\r\n        {\r\n        numBB = numBB + 1;\r\n        }\r\n        else if(token.equals(&quot;&quot;))\r\n        {\r\n        spaceDeleter =+ 1; //tried to delete space to no avial\r\n        }\r\n        else \r\n        {\r\n        System.out.println(&quot;Data reading error&quot;);\r\n        }\r\n    }\r\n```","title":"How could I separate this string by 2 character increments?","body":"<p>There are no delimiters and the string itself comes from a file formatted like the following:</p>\n<p>BB</p>\n<p>GB</p>\n<p>GB</p>\n<p>BG</p>\n<p>GG</p>\n<p>GB</p>\n<p>GB</p>\n<p>GB</p>\n<p>GB</p>\n<p>GG</p>\n<p>After using the following code I'm left with BBGBGBBGGGGBGBGBGBGG, as printed from the print statement after <code>token = in.nextLine( )</code>; My goal for this program is to assign every 2 characters to their variables and increment them to get a count. I just don`t know how to increment and assign them correctly. Any help is appreciated.</p>\n<pre><code>import java.util.Scanner;\nimport java.io.File;\nimport java.io.IOException;\npublic class Family\n{\n   public static void main (String args[]) throws IOException {\n    //variables defined\n    int numGB = 0;\n    int numBG = 0;\n    int numGG = 0;\n    int numBB = 0;\n    int totalNum = 0;\n    double probBG;\n    double probGG;\n    double probBB;\n    String token =&quot;&quot;;\n    int spaceDeleter = 0;\n    int token2Sub = 0;\n    \n    File fileName = new File (&quot;test1.txt&quot;); \n    \n    Scanner in = new Scanner(fileName); //scans file\n    \n    System.out.println(&quot;Composition statistics for families with two children&quot;);\n    while(in.hasNextLine())\n    {\n        token = in.nextLine( ); //recives token from scanner\n        System.out.print(token);\n        if(token.equals(&quot;GB&quot;))\n        {\n        numGB = numGB + 1;\n        }\n        else if(token.equals(&quot;BG&quot;))\n        {\n        numBG = numBG + 1;\n        }\n        else if(token.equals(&quot;GG&quot;))\n        {\n        numGG = numGG + 1;\n        }\n        else if(token.equals(&quot;BB&quot;))\n        {\n        numBB = numBB + 1;\n        }\n        else if(token.equals(&quot;&quot;))\n        {\n        spaceDeleter =+ 1; //tried to delete space to no avial\n        }\n        else \n        {\n        System.out.println(&quot;Data reading error&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","list","iterator","predicate"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1612644172,"post_id":66081537,"comment_id":116833197,"body_markdown":"Are you saying that the structures presented only implement Iterator&lt;&gt; and not ListIterator&lt;&gt;?  What&#39;s preventing you from implementing both Iterator and ListIterator.  Then you would have the method you need.","body":"Are you saying that the structures presented only implement Iterator&lt;&gt; and not ListIterator&lt;&gt;?  What&#39;s preventing you from implementing both Iterator and ListIterator.  Then you would have the method you need."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1612647217,"post_id":66081537,"comment_id":116833880,"body_markdown":"You&#39;re implementation does not make sense to me.  Why are you passing an interator to the class.  Can you state the problem **exactly** as it has been given to you including any examples that were provided, etc.  It seems to me that `hasNext()` should just call `iterator.hasNext()` and `next()` should call `iterator.next()`  And you exception was that you tried to  remove or add an entry in an immutable collection.","body":"You&#39;re implementation does not make sense to me.  Why are you passing an interator to the class.  Can you state the problem <b>exactly</b> as it has been given to you including any examples that were provided, etc.  It seems to me that <code>hasNext()</code> should just call <code>iterator.hasNext()</code> and <code>next()</code> should call <code>iterator.next()</code>  And you exception was that you tried to  remove or add an entry in an immutable collection."},{"owner":{"account_id":12674848,"reputation":3,"user_id":9211041,"display_name":"Kamil Andrzejewski"},"score":0,"creation_date":1612647786,"post_id":66081537,"comment_id":116834032,"body_markdown":"A PredicateIterator&lt;T&gt; iterates over the elements of an arbitrary iterable data structure and provides only those elements which satisfy a certain predicate, while skipping all of the other elements. The constructor of PredicateIterator&lt;T&gt; expects the following arguments:\n\niter, a java.util.Iterator&lt;T&gt; for the actual data\npredicate, a Predicate&lt;T&gt; object that encapsulates the logic to test the predicate","body":"A PredicateIterator&lt;T&gt; iterates over the elements of an arbitrary iterable data structure and provides only those elements which satisfy a certain predicate, while skipping all of the other elements. The constructor of PredicateIterator&lt;T&gt; expects the following arguments:  iter, a java.util.Iterator&lt;T&gt; for the actual data predicate, a Predicate&lt;T&gt; object that encapsulates the logic to test the predicate"},{"owner":{"account_id":12674848,"reputation":3,"user_id":9211041,"display_name":"Kamil Andrzejewski"},"score":0,"creation_date":1612647827,"post_id":66081537,"comment_id":116834040,"body_markdown":"Otherwise, PredicateIterator&lt;T&gt; should conform to the specification documented in the Iterator&lt;E&gt; interface (however, you don’t need to implement remove() and forEachRemaining(…)).\n\nThe method test(T value) of the generic interface Predicate&lt;T&gt; checks whether the given argument satisfies the predicate. It returns true or false accordingly. A value of null never satisfies the predicate.","body":"Otherwise, PredicateIterator&lt;T&gt; should conform to the specification documented in the Iterator&lt;E&gt; interface (however, you don’t need to implement remove() and forEachRemaining(…)).  The method test(T value) of the generic interface Predicate&lt;T&gt; checks whether the given argument satisfies the predicate. It returns true or false accordingly. A value of null never satisfies the predicate."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612710881,"creation_date":1612643260,"answer_id":66081601,"question_id":66081537,"body_markdown":"Ok, I found the problem.  I modified your `PredicateIterator&lt;T&gt;` class to save the value before doing the predicate testing.  It seems to work with the tests defined.\r\n```\r\nclass PredicateIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n\t\r\n\tprivate Iterator&lt;T&gt; iterator;\r\n\tprivate Predicate&lt;T&gt; predicate;\r\n\tT value;\r\n\tpublic PredicateIterator(Iterator&lt;T&gt; iter,\r\n\t\t\tPredicate&lt;T&gt; predicate) {\r\n\t\tthis.iterator = iter;\r\n\t\tthis.predicate = predicate;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean hasNext() {\r\n\t\t\r\n\t\twhile (iterator.hasNext()) {\r\n\t\t\tvalue = iterator.next();  //&lt;-- save value before test\r\n\t\t\tif (predicate.test(value)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic T next() {\r\n\t\tif (value != null) {\r\n            T retValue = value;\r\n            value = null;\r\n\t\t    return retValue;   // &lt;-- return saved value.\r\n\t\t} else {\r\n\t\tthrow new NoSuchElementException();\r\n\t\t}\r\n\t}\t\r\n}\r\n```\r\nOne more observation.  If you need to alter any of the test list you won&#39;t be able to since `List.of()` returns an immutable list.  But you can pass that as a an argument to a mutable implementation.  E.g. `new ArrayList&lt;&gt;(List.of(...));`","title":"How to get previous element with Iterator java","body":"<p>Ok, I found the problem.  I modified your <code>PredicateIterator&lt;T&gt;</code> class to save the value before doing the predicate testing.  It seems to work with the tests defined.</p>\n<pre><code>class PredicateIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n    \n    private Iterator&lt;T&gt; iterator;\n    private Predicate&lt;T&gt; predicate;\n    T value;\n    public PredicateIterator(Iterator&lt;T&gt; iter,\n            Predicate&lt;T&gt; predicate) {\n        this.iterator = iter;\n        this.predicate = predicate;\n    }\n    \n    @Override\n    public boolean hasNext() {\n        \n        while (iterator.hasNext()) {\n            value = iterator.next();  //&lt;-- save value before test\n            if (predicate.test(value)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    \n    @Override\n    public T next() {\n        if (value != null) {\n            T retValue = value;\n            value = null;\n            return retValue;   // &lt;-- return saved value.\n        } else {\n        throw new NoSuchElementException();\n        }\n    }   \n}\n</code></pre>\n<p>One more observation.  If you need to alter any of the test list you won't be able to since <code>List.of()</code> returns an immutable list.  But you can pass that as a an argument to a mutable implementation.  E.g. <code>new ArrayList&lt;&gt;(List.of(...));</code></p>\n"},{"tags":[],"owner":{"account_id":12674848,"reputation":3,"user_id":9211041,"display_name":"Kamil Andrzejewski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612699536,"creation_date":1612697066,"answer_id":66087333,"question_id":66081537,"body_markdown":"Thank you very much, i copied your `hasNext()` methode and changed `next()`, so it looks like this:\r\n```\r\n@Override\r\n    public T next() {\r\n        if(value!= null){\r\n           if(predicate.test(value)) {\r\n               return value;\r\n           }\r\n       }\r\n       throw new NoSuchElementException();\r\n    }\r\n```\r\nFirst test `providesValuesEndingWithJava()` compiles now correctly, but now the other problem appeared. It throws an `NoSuchElementException`. Here&#39;s the test and the message i got. I tried to make with `while(value!=null)` or `while(iterator.hasNext())`, but then it compiles too long and crashes.\r\n```\r\n @Test\r\n    public void hasNextReturnsFalseAfterLastElement1() {\r\n        valuesEndingWithJava.next();\r\n        valuesEndingWithJava.next();\r\n        assertFalse(valuesEndingWithJava.hasNext());\r\n    }\r\n```\r\n```\r\njava.util.NoSuchElementException\r\n\tat PredicateIterator.next(PredicateIterator.java:34)\r\n\tat PredicateIteratorTest.hasNextReturnsFalseAfterLastElement1(PredicateIteratorTest.java:44)\r\n```\r\n","title":"How to get previous element with Iterator java","body":"<p>Thank you very much, i copied your <code>hasNext()</code> methode and changed <code>next()</code>, so it looks like this:</p>\n<pre><code>@Override\n    public T next() {\n        if(value!= null){\n           if(predicate.test(value)) {\n               return value;\n           }\n       }\n       throw new NoSuchElementException();\n    }\n</code></pre>\n<p>First test <code>providesValuesEndingWithJava()</code> compiles now correctly, but now the other problem appeared. It throws an <code>NoSuchElementException</code>. Here's the test and the message i got. I tried to make with <code>while(value!=null)</code> or <code>while(iterator.hasNext())</code>, but then it compiles too long and crashes.</p>\n<pre><code> @Test\n    public void hasNextReturnsFalseAfterLastElement1() {\n        valuesEndingWithJava.next();\n        valuesEndingWithJava.next();\n        assertFalse(valuesEndingWithJava.hasNext());\n    }\n</code></pre>\n<pre><code>java.util.NoSuchElementException\n    at PredicateIterator.next(PredicateIterator.java:34)\n    at PredicateIteratorTest.hasNextReturnsFalseAfterLastElement1(PredicateIteratorTest.java:44)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20221080,"reputation":26,"user_id":14830513,"display_name":"AHMAD23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1612974173,"creation_date":1612948536,"answer_id":66133966,"question_id":66081537,"body_markdown":"create a boolean field and assign it to false but it in the the hasNext method after finding a value assign it to true and then check this field in next method, if it was false that&#39;s  mean you called the next method before the hasNext method, then you have to call hasNext method in the next method.\r\n\r\n```\r\npublic class PredicateIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n\r\n    private Predicate predicate;\r\n\r\n    private Iterator&lt;T&gt; iter;\r\n    private T type;\r\n    private boolean test = false;\r\n\r\n    public PredicateIterator(Iterator&lt;T&gt; iter, Predicate&lt;T&gt; predicate) {\r\n        if (iter == null || predicate == null) throw new NoSuchElementException();\r\n        this.predicate = predicate;\r\n        this.iter =  iter;\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean hasNext() {\r\n\r\n        if (iter == null) throw new NoSuchElementException();\r\n\r\n        while (iter.hasNext()) {\r\n\r\n            type = iter.next();\r\n\r\n            if (predicate.test(type)) {\r\n                test = true;\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public T next() {\r\n\r\n        if (!test) {\r\n\r\n            if ( hasNext()) {\r\n                T newTyp = type;\r\n                type = null;\r\n                test = false;\r\n               return newTyp;\r\n            }\r\n        }\r\n\r\n       else  if (type != null) {\r\n\r\n            T newTyp = type;\r\n            type = null;\r\n            test = false;\r\n            return newTyp;\r\n        }\r\n        throw new NoSuchElementException();\r\n\r\n    }\r\n}\r\n```","title":"How to get previous element with Iterator java","body":"<p>create a boolean field and assign it to false but it in the the hasNext method after finding a value assign it to true and then check this field in next method, if it was false that's  mean you called the next method before the hasNext method, then you have to call hasNext method in the next method.</p>\n<pre><code>public class PredicateIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n\n    private Predicate predicate;\n\n    private Iterator&lt;T&gt; iter;\n    private T type;\n    private boolean test = false;\n\n    public PredicateIterator(Iterator&lt;T&gt; iter, Predicate&lt;T&gt; predicate) {\n        if (iter == null || predicate == null) throw new NoSuchElementException();\n        this.predicate = predicate;\n        this.iter =  iter;\n\n\n    }\n\n\n    @Override\n    public boolean hasNext() {\n\n        if (iter == null) throw new NoSuchElementException();\n\n        while (iter.hasNext()) {\n\n            type = iter.next();\n\n            if (predicate.test(type)) {\n                test = true;\n                return true;\n            }\n        }\n        return false;\n    }\n\n    @Override\n    public T next() {\n\n        if (!test) {\n\n            if ( hasNext()) {\n                T newTyp = type;\n                type = null;\n                test = false;\n               return newTyp;\n            }\n        }\n\n       else  if (type != null) {\n\n            T newTyp = type;\n            type = null;\n            test = false;\n            return newTyp;\n        }\n        throw new NoSuchElementException();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12674848,"reputation":3,"user_id":9211041,"display_name":"Kamil Andrzejewski"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1096,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66133966,"answer_count":3,"score":0,"last_activity_date":1683852214,"creation_date":1612642804,"question_id":66081537,"body_markdown":"i have the following problem. I&#39;ve been doing a task where the iterator is given and Predicate class have to check, if the String exists in the iterator. I overrode `hasNext()` and `next()` methods from Iterator. Hier is the PredicateIteratorTest. I get the message `junit.framework.AssertionFailedError: expected:&lt;Java [and UML]&gt; but was:&lt;Java [11]&gt;\r\n                   at PredicateIteratorTest.providesValuesBeginningWithJava(PredicateIteratorTest.java:37)` \r\n\r\nIt should return the previous element.\r\n```\r\npublic class PredicateIteratorTest {\r\n    private final List&lt;String&gt; values = List.of(//\r\n            &quot;Java and UML&quot;, &quot;UML and Java&quot;, &quot;Java 11&quot;, &quot;UML 2.0&quot;, &quot;Effective Java&quot;);\r\n    private Iterator&lt;String&gt; valuesEndingWithJava;\r\n    private Iterator&lt;String&gt; valuesBeginningWithJava;\r\n    private Iterator&lt;String&gt; noValues;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        valuesEndingWithJava = new PredicateIterator&lt;&gt;(values.iterator(), new EndsWith(&quot;Java&quot;));\r\n        valuesBeginningWithJava = new PredicateIterator&lt;&gt;(values.iterator(), new StartsWith(&quot;Java&quot;));\r\n        noValues = new PredicateIterator&lt;&gt;(values.iterator(), new StartsWith(&quot;Doesn&#39;t match&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void providesValuesEndingWithJava() {\r\n        assertTrue(valuesEndingWithJava.hasNext());\r\n        assertEquals(&quot;UML and Java&quot;, valuesEndingWithJava.next());\r\n        assertTrue(valuesEndingWithJava.hasNext());\r\n        assertEquals(&quot;Effective Java&quot;, valuesEndingWithJava.next());\r\n    }\r\n}\r\n```\r\nHere&#39;s the PredicateIterator class. After `if(predicate.test(iterator.next())){` i want to do something simmilar to method `iterator.previous()` from ListIterator, but without using ListIterator, because tests use only Iterator. How can i make it ?\r\n\r\n```\r\npublic class PredicateIterator&lt;T&gt; implements Iterator&lt;T&gt;{\r\n\r\n    private  Iterator&lt;T&gt; iterator;\r\n    private  Predicate&lt;T&gt; predicate;\r\n\r\n    public PredicateIterator(Iterator&lt;T&gt; iter, Predicate&lt;T&gt; predicate){\r\n        this.iterator = iter;\r\n        this.predicate = predicate;\r\n    }\r\n\r\n    @Override\r\n    public boolean hasNext(){\r\n        while(iterator.hasNext()){\r\n            if(predicate.test(iterator.next())){\r\n                return true;\r\n                }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    @Override\r\n    public T next(){\r\n        T elem;\r\n        while (iterator.hasNext()){\r\n            elem = iterator.next();\r\n            if(predicate.test(elem)){\r\n                return elem;\r\n            }\r\n        }\r\n        throw new NoSuchElementException();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI&#39;ve changed PredicateIterator by adding ListIterator and then iterator.previous(). But now i have test error ```java.lang.UnsupportedOperationException\r\n\tat java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:73)\r\n\tat java.base/java.util.ImmutableCollections$ListItr.previous(ImmutableCollections.java:260)\r\n\tat PredicateIterator.hasNext(PredicateIterator.java:20)\r\n\tat PredicateIteratorTest.providesValuesBeginningWithJava(PredicateIteratorTest.java:36)```\r\n```\r\nprivate ListIterator&lt;T&gt; iterator;\r\n    private  Predicate&lt;T&gt; predicate;\r\n\r\n    public PredicateIterator(Iterator&lt;T&gt; iter, Predicate&lt;T&gt; predicate){\r\n        this.iterator = (ListIterator&lt;T&gt;) iter;\r\n        this.predicate = predicate;\r\n    }\r\n\r\n    @Override\r\n    public boolean hasNext(){\r\n        while(iterator.hasNext()){\r\n            if(predicate.test(iterator.next())){\r\n                iterator.previous();\r\n                return true;\r\n                }\r\n        }\r\n        return false;\r\n    }\r\n```","title":"How to get previous element with Iterator java","body":"<p>i have the following problem. I've been doing a task where the iterator is given and Predicate class have to check, if the String exists in the iterator. I overrode <code>hasNext()</code> and <code>next()</code> methods from Iterator. Hier is the PredicateIteratorTest. I get the message <code>junit.framework.AssertionFailedError: expected:&lt;Java [and UML]&gt; but was:&lt;Java [11]&gt; at PredicateIteratorTest.providesValuesBeginningWithJava(PredicateIteratorTest.java:37)</code></p>\n<p>It should return the previous element.</p>\n<pre><code>public class PredicateIteratorTest {\n    private final List&lt;String&gt; values = List.of(//\n            &quot;Java and UML&quot;, &quot;UML and Java&quot;, &quot;Java 11&quot;, &quot;UML 2.0&quot;, &quot;Effective Java&quot;);\n    private Iterator&lt;String&gt; valuesEndingWithJava;\n    private Iterator&lt;String&gt; valuesBeginningWithJava;\n    private Iterator&lt;String&gt; noValues;\n\n    @Before\n    public void setUp() {\n        valuesEndingWithJava = new PredicateIterator&lt;&gt;(values.iterator(), new EndsWith(&quot;Java&quot;));\n        valuesBeginningWithJava = new PredicateIterator&lt;&gt;(values.iterator(), new StartsWith(&quot;Java&quot;));\n        noValues = new PredicateIterator&lt;&gt;(values.iterator(), new StartsWith(&quot;Doesn't match&quot;));\n    }\n\n    @Test\n    public void providesValuesEndingWithJava() {\n        assertTrue(valuesEndingWithJava.hasNext());\n        assertEquals(&quot;UML and Java&quot;, valuesEndingWithJava.next());\n        assertTrue(valuesEndingWithJava.hasNext());\n        assertEquals(&quot;Effective Java&quot;, valuesEndingWithJava.next());\n    }\n}\n</code></pre>\n<p>Here's the PredicateIterator class. After <code>if(predicate.test(iterator.next())){</code> i want to do something simmilar to method <code>iterator.previous()</code> from ListIterator, but without using ListIterator, because tests use only Iterator. How can i make it ?</p>\n<pre><code>public class PredicateIterator&lt;T&gt; implements Iterator&lt;T&gt;{\n\n    private  Iterator&lt;T&gt; iterator;\n    private  Predicate&lt;T&gt; predicate;\n\n    public PredicateIterator(Iterator&lt;T&gt; iter, Predicate&lt;T&gt; predicate){\n        this.iterator = iter;\n        this.predicate = predicate;\n    }\n\n    @Override\n    public boolean hasNext(){\n        while(iterator.hasNext()){\n            if(predicate.test(iterator.next())){\n                return true;\n                }\n        }\n        return false;\n    }\n\n\n    @Override\n    public T next(){\n        T elem;\n        while (iterator.hasNext()){\n            elem = iterator.next();\n            if(predicate.test(elem)){\n                return elem;\n            }\n        }\n        throw new NoSuchElementException();\n    }\n\n}\n</code></pre>\n<p>I've changed PredicateIterator by adding ListIterator and then iterator.previous(). But now i have test error <code>java.lang.UnsupportedOperationException at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:73) at java.base/java.util.ImmutableCollections$ListItr.previous(ImmutableCollections.java:260) at PredicateIterator.hasNext(PredicateIterator.java:20) at PredicateIteratorTest.providesValuesBeginningWithJava(PredicateIteratorTest.java:36)</code></p>\n<pre><code>private ListIterator&lt;T&gt; iterator;\n    private  Predicate&lt;T&gt; predicate;\n\n    public PredicateIterator(Iterator&lt;T&gt; iter, Predicate&lt;T&gt; predicate){\n        this.iterator = (ListIterator&lt;T&gt;) iter;\n        this.predicate = predicate;\n    }\n\n    @Override\n    public boolean hasNext(){\n        while(iterator.hasNext()){\n            if(predicate.test(iterator.next())){\n                iterator.previous();\n                return true;\n                }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","swing","graphics"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1683849425,"post_id":76231128,"comment_id":134433566,"body_markdown":"Couldn&#39;t you just create a new `BufferedImage` of the size of the original and simply paint the sub image into it?","body":"Couldn&#39;t you just create a new <code>BufferedImage</code> of the size of the original and simply paint the sub image into it?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1683851757,"post_id":76231128,"comment_id":134433842,"body_markdown":"You&#39;re not starting with a transparent image","body":"You&#39;re not starting with a transparent image"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683851983,"creation_date":1683851983,"answer_id":76232444,"question_id":76231128,"body_markdown":"You&#39;re not starting with a transparent image (your source image is `jpg`, which doesn&#39;t tend to support transparency)\r\n\r\nSo, instead, you need to create an intermediate transparent image, for example...\r\n\r\n    BufferedImage transparentSub = new BufferedImage(sub.getWidth(), sub.getHeight(), BufferedImage.TRANSLUCENT);\r\n\r\n    Graphics2D g3d = transparentSub.createGraphics();\r\n    g3d.drawImage(sub, 0, 0, null);\r\n\r\nSo, with this modification in your original code...\r\n\r\n    int rules[] = {\r\n        AlphaComposite.DST_IN, AlphaComposite.DST_OUT, AlphaComposite.DST_OVER,\r\n        AlphaComposite.SRC_IN, AlphaComposite.SRC_OVER, AlphaComposite.SRC_OUT,\r\n        AlphaComposite.CLEAR};\r\n    try {\r\n\r\n        int ac = rules[3];\r\n\r\n        // Any image of the right size will do here. I&#39;m just using this as a demo.d\r\n        BufferedImage original = ImageIO.read(new URL(&quot;https://eskipaper.com/images/abstract-art-1.jpg&quot;));\r\n        BufferedImage sub = original.getSubimage(500, 400, 1050, 300);\r\n\r\n        Rectangle2D.Double r1 = new Rectangle2D.Double(0, 0, 1050, 300);\r\n        Area a1 = new Area(r1);\r\n        Ellipse2D.Double e1 = new Ellipse2D.Double(0, 0, 1050, 300);\r\n        Area a2 = new Area(e1);\r\n\r\n        BufferedImage transparentSub = new BufferedImage(sub.getWidth(), sub.getHeight(), BufferedImage.TRANSLUCENT);\r\n\r\n        Graphics2D g3d = transparentSub.createGraphics();\r\n        g3d.drawImage(sub, 0, 0, null);\r\n\r\n        g3d.setColor(new Color(0.0f, 0.0f, 0.0f, 0.0f));\r\n        a1.subtract(a2);\r\n        g3d.setComposite(AlphaComposite.getInstance(rules[3], 1.0f));\r\n        g3d.fill(a1);\r\n        g3d.dispose();\r\n\r\n        JOptionPane.showMessageDialog(null, new ImageIcon(transparentSub));\r\n\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nIt now outputs...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gm3hI.png","title":"Extract portion of image with transparent background","body":"<p>You're not starting with a transparent image (your source image is <code>jpg</code>, which doesn't tend to support transparency)</p>\n<p>So, instead, you need to create an intermediate transparent image, for example...</p>\n<pre><code>BufferedImage transparentSub = new BufferedImage(sub.getWidth(), sub.getHeight(), BufferedImage.TRANSLUCENT);\n\nGraphics2D g3d = transparentSub.createGraphics();\ng3d.drawImage(sub, 0, 0, null);\n</code></pre>\n<p>So, with this modification in your original code...</p>\n<pre><code>int rules[] = {\n    AlphaComposite.DST_IN, AlphaComposite.DST_OUT, AlphaComposite.DST_OVER,\n    AlphaComposite.SRC_IN, AlphaComposite.SRC_OVER, AlphaComposite.SRC_OUT,\n    AlphaComposite.CLEAR};\ntry {\n\n    int ac = rules[3];\n\n    // Any image of the right size will do here. I'm just using this as a demo.d\n    BufferedImage original = ImageIO.read(new URL(&quot;https://eskipaper.com/images/abstract-art-1.jpg&quot;));\n    BufferedImage sub = original.getSubimage(500, 400, 1050, 300);\n\n    Rectangle2D.Double r1 = new Rectangle2D.Double(0, 0, 1050, 300);\n    Area a1 = new Area(r1);\n    Ellipse2D.Double e1 = new Ellipse2D.Double(0, 0, 1050, 300);\n    Area a2 = new Area(e1);\n\n    BufferedImage transparentSub = new BufferedImage(sub.getWidth(), sub.getHeight(), BufferedImage.TRANSLUCENT);\n\n    Graphics2D g3d = transparentSub.createGraphics();\n    g3d.drawImage(sub, 0, 0, null);\n\n    g3d.setColor(new Color(0.0f, 0.0f, 0.0f, 0.0f));\n    a1.subtract(a2);\n    g3d.setComposite(AlphaComposite.getInstance(rules[3], 1.0f));\n    g3d.fill(a1);\n    g3d.dispose();\n\n    JOptionPane.showMessageDialog(null, new ImageIcon(transparentSub));\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>It now outputs...</p>\n<p><a href=\"https://i.stack.imgur.com/gm3hI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gm3hI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21535210,"reputation":47,"user_id":17085543,"display_name":"Jeff Higgins"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76232444,"answer_count":1,"score":2,"last_activity_date":1683851983,"creation_date":1683834156,"question_id":76231128,"body_markdown":"I have a BufferedImage(any will do). I extract a sub-image.\r\nNow I wish to define a region of interest within the sub-image,\r\nand save my sub-image to another BufferedImage with all but the\r\nregion of interest transparent.\r\n\r\n[![Sub image without transparent][1]][1]\r\n\r\nSo far I&#39;m unable to make the region outside my region of\r\ninterest transparent. In the code below, the region I want\r\nto be transparent is Area a1.\r\n\r\nAny guidance will be greatly appreciated.\r\n\r\n```\r\nimport java.awt.AlphaComposite;\r\nimport java.awt.Color;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.geom.Area;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.awt.geom.Rectangle2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class Image {\r\n\r\n  public static void main(String[] args) {\r\n    int rules[] = {\r\n        AlphaComposite.DST_IN, AlphaComposite.DST_OUT,  AlphaComposite.DST_OVER,\r\n        AlphaComposite.SRC_IN, AlphaComposite.SRC_OVER, AlphaComposite.SRC_OUT,\r\n        AlphaComposite.CLEAR };\r\n    try {      \r\n\r\n      int ac = rules[3];\r\n      \r\n      // Any image of the right size will do here. I&#39;m just using this as a demo.d\r\n      BufferedImage original = ImageIO.read(new URL(&quot;https://eskipaper.com/images/abstract-art-1.jpg&quot;));\r\n      BufferedImage sub = original.getSubimage(500, 400, 1050, 300);\r\n      \r\n      Rectangle2D.Double r1 = new Rectangle2D.Double(0, 0, 1050, 300);\r\n      Area a1 = new Area(r1);\r\n      Ellipse2D.Double e1 = new Ellipse2D.Double(0, 0, 1050, 300);\r\n      Area a2 = new Area(e1);\r\n      \r\n      Graphics2D g3d = sub.createGraphics();\r\n      \r\n      g3d.setColor(new Color(0.0f, 0.0f, 0.0f, 0.0f));\r\n      a1.subtract(a2);\r\n      g3d.setComposite(AlphaComposite.getInstance(rules[3], 1.0f));\r\n      g3d.fill(a1);      \r\n      \r\n      ImageIO.write(sub, &quot;png&quot;, new File(&quot;abstract-art-out.png&quot;));\r\n      \r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/hB8z5.png","title":"Extract portion of image with transparent background","body":"<p>I have a BufferedImage(any will do). I extract a sub-image.\nNow I wish to define a region of interest within the sub-image,\nand save my sub-image to another BufferedImage with all but the\nregion of interest transparent.</p>\n<p><a href=\"https://i.stack.imgur.com/hB8z5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hB8z5.png\" alt=\"Sub image without transparent\" /></a></p>\n<p>So far I'm unable to make the region outside my region of\ninterest transparent. In the code below, the region I want\nto be transparent is Area a1.</p>\n<p>Any guidance will be greatly appreciated.</p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.awt.geom.Area;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URL;\n\nimport javax.imageio.ImageIO;\n\npublic class Image {\n\n  public static void main(String[] args) {\n    int rules[] = {\n        AlphaComposite.DST_IN, AlphaComposite.DST_OUT,  AlphaComposite.DST_OVER,\n        AlphaComposite.SRC_IN, AlphaComposite.SRC_OVER, AlphaComposite.SRC_OUT,\n        AlphaComposite.CLEAR };\n    try {      \n\n      int ac = rules[3];\n      \n      // Any image of the right size will do here. I'm just using this as a demo.d\n      BufferedImage original = ImageIO.read(new URL(&quot;https://eskipaper.com/images/abstract-art-1.jpg&quot;));\n      BufferedImage sub = original.getSubimage(500, 400, 1050, 300);\n      \n      Rectangle2D.Double r1 = new Rectangle2D.Double(0, 0, 1050, 300);\n      Area a1 = new Area(r1);\n      Ellipse2D.Double e1 = new Ellipse2D.Double(0, 0, 1050, 300);\n      Area a2 = new Area(e1);\n      \n      Graphics2D g3d = sub.createGraphics();\n      \n      g3d.setColor(new Color(0.0f, 0.0f, 0.0f, 0.0f));\n      a1.subtract(a2);\n      g3d.setComposite(AlphaComposite.getInstance(rules[3], 1.0f));\n      g3d.fill(a1);      \n      \n      ImageIO.write(sub, &quot;png&quot;, new File(&quot;abstract-art-out.png&quot;));\n      \n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","sockets","httpurlconnection","urlconnection"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1411371947,"post_id":25968769,"comment_id":40661293,"body_markdown":"`Connection: keep-alive` is the default. You&#39;re not writing any POST parameters: is that deliberate?","body":"<code>Connection: keep-alive</code> is the default. You&#39;re not writing any POST parameters: is that deliberate?"},{"owner":{"account_id":4775764,"reputation":133,"user_id":3858950,"accept_rate":25,"display_name":"BurningDocker"},"score":0,"creation_date":1411372740,"post_id":25968769,"comment_id":40661645,"body_markdown":"thanks @EJP, I just paste more code to the code quote, It&#39;s a post operation.  please review it again..","body":"thanks @EJP, I just paste more code to the code quote, It&#39;s a post operation.  please review it again.."},{"owner":{"account_id":96438,"reputation":2390,"user_id":262114,"accept_rate":69,"display_name":"HamoriZ"},"score":0,"creation_date":1416493122,"post_id":25968769,"comment_id":42602662,"body_markdown":"Do you have any update on this? I have exactly the same problem","body":"Do you have any update on this? I have exactly the same problem"},{"owner":{"account_id":4775764,"reputation":133,"user_id":3858950,"accept_rate":25,"display_name":"BurningDocker"},"score":0,"creation_date":1416538525,"post_id":25968769,"comment_id":42623671,"body_markdown":"@Hamoriz, Sorry, we don&#39;t have a good solution on it.","body":"@Hamoriz, Sorry, we don&#39;t have a good solution on it."},{"owner":{"account_id":41094,"reputation":1680,"user_id":119363,"accept_rate":69,"display_name":"Chris W."},"score":0,"creation_date":1423164998,"post_id":25968769,"comment_id":45048844,"body_markdown":"Another victim of this issue... Surely there&#39;s a solution for this problem -- this is a core Java library. :-|","body":"Another victim of this issue... Surely there&#39;s a solution for this problem -- this is a core Java library. :-|"}],"answers":[{"tags":[],"owner":{"account_id":5920664,"reputation":25,"user_id":4658182,"display_name":"TV Trailers"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1426086075,"creation_date":1426086075,"answer_id":28990115,"question_id":25968769,"body_markdown":"I think this is a bug with URLConnection. Use Sockets and timeout on them to check.","title":"Got stuck at java.net.SocketInputStream.socketRead0(Native Method)","body":"<p>I think this is a bug with URLConnection. Use Sockets and timeout on them to check.</p>\n"},{"tags":[],"owner":{"account_id":4477332,"reputation":172,"user_id":3642122,"display_name":"fmcato"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1477746240,"creation_date":1477746240,"answer_id":40319366,"question_id":25968769,"body_markdown":"I identified this same bug today on our systems. This is a bug in the JDK caused by the native implementation used in java. Was fixed as recently as 21st September 2016, so should be available in later JDK releases.\r\n\r\nThis is the bug:\r\nhttps://bugs.openjdk.java.net/browse/JDK-8075484\r\n\r\nIf you can&#39;t wait, seems like someone has created a workaround:\r\nhttps://github.com/nukesparrow/JNativeSocket","title":"Got stuck at java.net.SocketInputStream.socketRead0(Native Method)","body":"<p>I identified this same bug today on our systems. This is a bug in the JDK caused by the native implementation used in java. Was fixed as recently as 21st September 2016, so should be available in later JDK releases.</p>\n\n<p>This is the bug:\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8075484\" rel=\"nofollow\">https://bugs.openjdk.java.net/browse/JDK-8075484</a></p>\n\n<p>If you can't wait, seems like someone has created a workaround:\n<a href=\"https://github.com/nukesparrow/JNativeSocket\" rel=\"nofollow\">https://github.com/nukesparrow/JNativeSocket</a></p>\n"}],"owner":{"account_id":4775764,"reputation":133,"user_id":3858950,"accept_rate":25,"display_name":"BurningDocker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7435,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1683851626,"creation_date":1411371116,"question_id":25968769,"body_markdown":"I got a stuck thread at `java.net.SocketInputStream.socketRead0(Native Method)`.  Please see the thread dump below. It&#39;s been in this status for 3 hours. \r\n\r\n    Thread-0&quot; prio=10 tid=0x00007facd02a5000 nid=0x309 runnable [0x00007facd4a43000]\r\n    java.lang.Thread.State: RUNNABLE\r\n        at java.net.SocketInputStream.socketRead0(Native Method)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:150)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:121)\r\n        at sun.security.ssl.InputRecord.readFully(InputRecord.java:442)\r\n        at sun.security.ssl.InputRecord.read(InputRecord.java:480)\r\n        at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:927)\r\n        - locked &lt;0x00000000e34a0428&gt; (a java.lang.Object)\r\n        at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:884)\r\n        at sun.security.ssl.AppInputStream.read(AppInputStream.java:102)\r\n        - locked &lt;0x00000000e34a0590&gt; (a sun.security.ssl.AppInputStream)\r\n        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\r\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)\r\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)\r\n        - locked &lt;0x00000000e30408b8&gt; (a java.io.BufferedInputStream)\r\n        at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:633)\r\n        at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:579)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1322)\r\n        - locked &lt;0x00000000e3031d00&gt; (a sun.net.www.protocol.https.DelegateHttpsURLConnection)\r\n        at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\r\n        - locked &lt;0x00000000e3031c80&gt; (a sun.net.www.protocol.https.HttpsURLConnectionImpl)\r\n\r\nAnd I&#39;ve set the connect timeout and read timeout in `URLConnection`. Please see the code snippet below. So I don&#39;t know why it&#39;d hang at `java.net.SocketInputStream.socketRead0`. I just have this problem occasionally.  Any suggestion is appreciated!\r\n\r\n    public String sendPost(String params) throws Throwable {\r\n    PrintWriter out = null;\r\n    String htmlContent = null;\r\n    try\r\n    {\r\n      StringBuffer strBuffer = new StringBuffer();\r\n      URL url = new URL(this.webUrl);\r\n      URLConnection urlConnection = url.openConnection();\r\n      urlConnection.setConnectTimeout(3000);\r\n      urlConnection.setReadTimeout(3000);\r\n\r\n      urlConnection.setRequestProperty(&quot;accept&quot;, &quot;*/*&quot;);\r\n      urlConnection.setRequestProperty(&quot;connection&quot;, &quot;Keep-Alive&quot;);\r\n      urlConnection.setRequestProperty(&quot;user-agent&quot;, &quot;***&quot;);\r\n\r\n      urlConnection.setDoOutput(true);\r\n      urlConnection.setDoInput(true);\r\n\r\n      out = new PrintWriter(urlConnection.getOutputStream());\r\n      out.print(params);\r\n      out.flush();\r\n\r\n      BufferedReader bufferdReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream(), &quot;utf-8&quot;));\r\n      String readLine = null;\r\n            try {\r\n                while ((readLine = bufferdReader.readLine()) != null) {\r\n                    strBuffer.append(readLine);\r\n                }\r\n            } catch (Throwable e) {\r\n                return htmlContent;\r\n            }\r\n            htmlContent = strBuffer.toString();\r\n            bufferdReader.close();","title":"Got stuck at java.net.SocketInputStream.socketRead0(Native Method)","body":"<p>I got a stuck thread at <code>java.net.SocketInputStream.socketRead0(Native Method)</code>.  Please see the thread dump below. It's been in this status for 3 hours.</p>\n<pre><code>Thread-0&quot; prio=10 tid=0x00007facd02a5000 nid=0x309 runnable [0x00007facd4a43000]\njava.lang.Thread.State: RUNNABLE\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.read(SocketInputStream.java:150)\n    at java.net.SocketInputStream.read(SocketInputStream.java:121)\n    at sun.security.ssl.InputRecord.readFully(InputRecord.java:442)\n    at sun.security.ssl.InputRecord.read(InputRecord.java:480)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:927)\n    - locked &lt;0x00000000e34a0428&gt; (a java.lang.Object)\n    at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:884)\n    at sun.security.ssl.AppInputStream.read(AppInputStream.java:102)\n    - locked &lt;0x00000000e34a0590&gt; (a sun.security.ssl.AppInputStream)\n    at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\n    at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:334)\n    - locked &lt;0x00000000e30408b8&gt; (a java.io.BufferedInputStream)\n    at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:633)\n    at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:579)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1322)\n    - locked &lt;0x00000000e3031d00&gt; (a sun.net.www.protocol.https.DelegateHttpsURLConnection)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\n    - locked &lt;0x00000000e3031c80&gt; (a sun.net.www.protocol.https.HttpsURLConnectionImpl)\n</code></pre>\n<p>And I've set the connect timeout and read timeout in <code>URLConnection</code>. Please see the code snippet below. So I don't know why it'd hang at <code>java.net.SocketInputStream.socketRead0</code>. I just have this problem occasionally.  Any suggestion is appreciated!</p>\n<pre><code>public String sendPost(String params) throws Throwable {\nPrintWriter out = null;\nString htmlContent = null;\ntry\n{\n  StringBuffer strBuffer = new StringBuffer();\n  URL url = new URL(this.webUrl);\n  URLConnection urlConnection = url.openConnection();\n  urlConnection.setConnectTimeout(3000);\n  urlConnection.setReadTimeout(3000);\n\n  urlConnection.setRequestProperty(&quot;accept&quot;, &quot;*/*&quot;);\n  urlConnection.setRequestProperty(&quot;connection&quot;, &quot;Keep-Alive&quot;);\n  urlConnection.setRequestProperty(&quot;user-agent&quot;, &quot;***&quot;);\n\n  urlConnection.setDoOutput(true);\n  urlConnection.setDoInput(true);\n\n  out = new PrintWriter(urlConnection.getOutputStream());\n  out.print(params);\n  out.flush();\n\n  BufferedReader bufferdReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream(), &quot;utf-8&quot;));\n  String readLine = null;\n        try {\n            while ((readLine = bufferdReader.readLine()) != null) {\n                strBuffer.append(readLine);\n            }\n        } catch (Throwable e) {\n            return htmlContent;\n        }\n        htmlContent = strBuffer.toString();\n        bufferdReader.close();\n</code></pre>\n"},{"tags":["java","multithreading","nio","nonblocking"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1683851158,"post_id":74761680,"comment_id":134433765,"body_markdown":"There is nothing [tag:asynchronous] here. There is non-blocking I/O. It isn&#39;t the same thing.","body":"There is nothing <a href=\"https://stackoverflow.com/questions/tagged/asynchronous\">asynchronous</a> here. There is non-blocking I/O. It isn&#39;t the same thing."}],"answers":[{"tags":[],"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1670909820,"creation_date":1670771356,"answer_id":74761925,"question_id":74761680,"body_markdown":"sorry , I can&#39;t comment.\r\n\r\nyou can&#39;t use `key.cancel();`, I don&#39;t know your business, only I can advice just don&#39;t use Map like that. \r\n\r\n`JDK.NIO` is very hard. here is your code(change a bit) , hoping work for you.\r\n\r\nDon&#39;t write NIO code buy yourself. [https://netty.io/][Netty] is good.\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.net.InetAddress;\r\nimport java.net.InetSocketAddress;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.SelectionKey;\r\nimport java.nio.channels.Selector;\r\nimport java.nio.channels.ServerSocketChannel;\r\nimport java.nio.channels.SocketChannel;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\n/**\r\n * @author chenshun00@gmail.com\r\n * @since 2022/12/13 09:46\r\n */\r\npublic class MyAsyncProcessor {\r\n\r\n    enum States {\r\n        Idle,\r\n        Read,\r\n        Write\r\n    }\r\n\r\n    ExecutorService pool;\r\n    private Map&lt;Integer, States&gt; socketStates = new HashMap&lt;&gt;();\r\n\r\n    public MyAsyncProcessor() {\r\n    }\r\n\r\n    public static class MyTask implements Runnable {\r\n\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;execute task&quot;);\r\n        }\r\n\r\n        private int secondsToRead;\r\n        private int secondsToWrite;\r\n\r\n        public void setTimeToRead(int secondsToRead) {\r\n            this.secondsToRead = secondsToRead;\r\n        }\r\n\r\n        public void setTimeToWrite(int secondsToWrite) {\r\n            this.secondsToWrite = secondsToWrite;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        new MyAsyncProcessor().process();\r\n    }\r\n\r\n    public void process() throws IOException {\r\n        pool = Executors.newFixedThreadPool(2);\r\n        InetAddress host = InetAddress.getByName(&quot;localhost&quot;);\r\n        Selector selector = Selector.open();\r\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\r\n        serverSocketChannel.configureBlocking(false);\r\n        serverSocketChannel.bind(new InetSocketAddress(host, 9876));\r\n        final SelectionKey register1 = serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\r\n        register1.attach(serverSocketChannel);\r\n        SelectionKey key;\r\n        while (true) {\r\n            if (selector.select() &gt; 0) {\r\n                Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\r\n                Iterator&lt;SelectionKey&gt; i = selectedKeys.iterator();\r\n                while (i.hasNext()) {\r\n                    key = i.next();\r\n                    i.remove();\r\n                    MyTask task = new MyTask();\r\n                    if (!key.isValid()) {\r\n                        key.cancel();\r\n                        continue;\r\n                    }\r\n                    if (key.isAcceptable()) {\r\n                        SocketChannel socketChannel = serverSocketChannel.accept();\r\n                        socketChannel.configureBlocking(false);\r\n                        System.out.println(&quot;Channel hashCode: &quot; + socketChannel.hashCode());\r\n                        final SelectionKey register = socketChannel.register(selector, SelectionKey.OP_READ);\r\n                        register.attach(key.attachment());\r\n                        System.out.println(&quot;Connection accepted from: &quot; + socketChannel.getLocalAddress());\r\n                    }\r\n                    if (key.isReadable()) {\r\n                        System.out.println(&quot;Readable&quot;);\r\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\r\n                        socketStates.put(socketChannel.hashCode(), States.Read);\r\n\r\n\r\n                        ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\r\n                        try {\r\n                            final int read = socketChannel.read(byteBuffer);\r\n                            if (read &gt; 0) {\r\n                                System.out.println(&quot;receive message form client:&quot; + new String(byteBuffer.array(), 0, read - 1));\r\n                                task.setTimeToRead(10);\r\n                                task.setTimeToWrite(10);\r\n                                pool.execute(task);\r\n                            }\r\n                            socketChannel.register(selector, SelectionKey.OP_WRITE);\r\n                        } catch (Exception e) {\r\n                            socketChannel.close();\r\n                        }\r\n                    }\r\n                    if (key.isValid() &amp;&amp; key.isWritable()) {\r\n                        System.out.println(&quot;Writable&quot;);\r\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\r\n                        try {\r\n                            socketChannel.write(ByteBuffer.wrap(&quot;hello world!&quot;.getBytes(StandardCharsets.UTF_8)));\r\n                            socketChannel.register(selector, SelectionKey.OP_READ);\r\n                        } catch (IOException e) {\r\n                            socketChannel.close();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://netty.io/","title":"Java NIO non-blocking read and write operations","body":"<p>sorry , I can't comment.</p>\n<p>you can't use <code>key.cancel();</code>, I don't know your business, only I can advice just don't use Map like that.</p>\n<p><code>JDK.NIO</code> is very hard. here is your code(change a bit) , hoping work for you.</p>\n<p>Don't write NIO code buy yourself. [https://netty.io/][Netty] is good.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.net.InetAddress;\nimport java.net.InetSocketAddress;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.SelectionKey;\nimport java.nio.channels.Selector;\nimport java.nio.channels.ServerSocketChannel;\nimport java.nio.channels.SocketChannel;\nimport java.nio.charset.StandardCharsets;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n/**\n * @author chenshun00@gmail.com\n * @since 2022/12/13 09:46\n */\npublic class MyAsyncProcessor {\n\n    enum States {\n        Idle,\n        Read,\n        Write\n    }\n\n    ExecutorService pool;\n    private Map&lt;Integer, States&gt; socketStates = new HashMap&lt;&gt;();\n\n    public MyAsyncProcessor() {\n    }\n\n    public static class MyTask implements Runnable {\n\n        @Override\n        public void run() {\n            System.out.println(&quot;execute task&quot;);\n        }\n\n        private int secondsToRead;\n        private int secondsToWrite;\n\n        public void setTimeToRead(int secondsToRead) {\n            this.secondsToRead = secondsToRead;\n        }\n\n        public void setTimeToWrite(int secondsToWrite) {\n            this.secondsToWrite = secondsToWrite;\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        new MyAsyncProcessor().process();\n    }\n\n    public void process() throws IOException {\n        pool = Executors.newFixedThreadPool(2);\n        InetAddress host = InetAddress.getByName(&quot;localhost&quot;);\n        Selector selector = Selector.open();\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\n        serverSocketChannel.configureBlocking(false);\n        serverSocketChannel.bind(new InetSocketAddress(host, 9876));\n        final SelectionKey register1 = serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\n        register1.attach(serverSocketChannel);\n        SelectionKey key;\n        while (true) {\n            if (selector.select() &gt; 0) {\n                Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\n                Iterator&lt;SelectionKey&gt; i = selectedKeys.iterator();\n                while (i.hasNext()) {\n                    key = i.next();\n                    i.remove();\n                    MyTask task = new MyTask();\n                    if (!key.isValid()) {\n                        key.cancel();\n                        continue;\n                    }\n                    if (key.isAcceptable()) {\n                        SocketChannel socketChannel = serverSocketChannel.accept();\n                        socketChannel.configureBlocking(false);\n                        System.out.println(&quot;Channel hashCode: &quot; + socketChannel.hashCode());\n                        final SelectionKey register = socketChannel.register(selector, SelectionKey.OP_READ);\n                        register.attach(key.attachment());\n                        System.out.println(&quot;Connection accepted from: &quot; + socketChannel.getLocalAddress());\n                    }\n                    if (key.isReadable()) {\n                        System.out.println(&quot;Readable&quot;);\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\n                        socketStates.put(socketChannel.hashCode(), States.Read);\n\n\n                        ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\n                        try {\n                            final int read = socketChannel.read(byteBuffer);\n                            if (read &gt; 0) {\n                                System.out.println(&quot;receive message form client:&quot; + new String(byteBuffer.array(), 0, read - 1));\n                                task.setTimeToRead(10);\n                                task.setTimeToWrite(10);\n                                pool.execute(task);\n                            }\n                            socketChannel.register(selector, SelectionKey.OP_WRITE);\n                        } catch (Exception e) {\n                            socketChannel.close();\n                        }\n                    }\n                    if (key.isValid() &amp;&amp; key.isWritable()) {\n                        System.out.println(&quot;Writable&quot;);\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\n                        try {\n                            socketChannel.write(ByteBuffer.wrap(&quot;hello world!&quot;.getBytes(StandardCharsets.UTF_8)));\n                            socketChannel.register(selector, SelectionKey.OP_READ);\n                        } catch (IOException e) {\n                            socketChannel.close();\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74761925,"answer_count":1,"score":0,"last_activity_date":1683851171,"creation_date":1670769146,"question_id":74761680,"body_markdown":"I&#39;m developing for a project a NIO server that takes as input a message from the client containing the times of running for the read and write operations.\r\nI have a problem because at the first execution of the client everything works fine, but if I run the client once again the server gets stuck in the writable part.\r\nCan you tell me what am I doing wrong? These are my files, thank you in advance.\r\n\r\nMyAsyncProcessor.java\r\n```\r\npublic class MyAsyncProcessor {\r\n\r\n    enum States {\r\n        Idle,\r\n        Read,\r\n        Write\r\n    }\r\n\r\n    ExecutorService pool;\r\n    private Map&lt;Integer, States&gt; socketStates = new HashMap&lt;&gt;();\r\n\r\n    public MyAsyncProcessor() {\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        new MyAsyncProcessor().process();\r\n    }\r\n\r\n    public void process() throws IOException {\r\n        pool = Executors.newFixedThreadPool(2);\r\n        InetAddress host = InetAddress.getByName(&quot;localhost&quot;);\r\n        Selector selector = Selector.open();\r\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\r\n        serverSocketChannel.configureBlocking(false);\r\n        serverSocketChannel.bind(new InetSocketAddress(host, 9876));\r\n        serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\r\n        SelectionKey key;\r\n        while (true) {\r\n            if (selector.select() &gt; 0) {\r\n                Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\r\n                Iterator&lt;SelectionKey&gt; i = selectedKeys.iterator();\r\n                while (i.hasNext()) {\r\n                    key = i.next();\r\n                    i.remove();\r\n                    MyTask task = new MyTask();\r\n                    if (key.isAcceptable()) {\r\n                        SocketChannel socketChannel = serverSocketChannel.accept();\r\n                        socketChannel.configureBlocking(false);\r\n                        System.out.println(&quot;Channel hashCode: &quot; + socketChannel.hashCode());\r\n                        socketChannel.register(selector, SelectionKey.OP_READ + SelectionKey.OP_WRITE);\r\n                        socketStates.put(socketChannel.hashCode(), States.Idle);\r\n                        System.out.println(&quot;Connection accepted from: &quot; + socketChannel.getLocalAddress());\r\n                    }\r\n                    if (key.isReadable()) {\r\n                        System.out.println(&quot;Readable&quot;);\r\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\r\n                        States socketState = socketStates.get(socketChannel.hashCode());\r\n                        if (socketState == States.Idle) {\r\n                            socketStates.put(socketChannel.hashCode(), States.Read);\r\n                            ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\r\n                            try {\r\n                                socketChannel.read(byteBuffer);\r\n                                String result = new String(byteBuffer.array()).trim();\r\n                                String[] words = result.split(&quot; &quot;);\r\n                                int secondsToRead = Integer.parseInt(words[words.length - 2])*1000;\r\n                                int secondsToWrite = Integer.parseInt(words[words.length - 1])*1000;\r\n                                task.setTimeToRead(secondsToRead);\r\n                                task.setTimeToWrite(secondsToWrite);\r\n                                System.out.println(task.getTimeToRead() + &quot; &quot; + task.getTimeToWrite());\r\n                                Runnable h = new MyAsyncReadThread(task);\r\n                                pool.execute(h);\r\n                                socketChannel.register(selector, SelectionKey.OP_WRITE);\r\n                            } catch (Exception e) {\r\n                                System.out.println(&quot;Closing Connection Read...&quot;);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (key.isWritable()) {\r\n                        System.out.println(&quot;Writable&quot;);\r\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\r\n                        States socketState = socketStates.get(socketChannel.hashCode());\r\n                        if (socketState == States.Read) {\r\n                            socketStates.put(socketChannel.hashCode(), States.Write);\r\n                            System.out.println(task.getTimeToRead() + &quot; &quot; + task.getTimeToWrite());\r\n                            Runnable h = new MyAsyncWriteThread(task);\r\n                            pool.execute(h);\r\n                        }\r\n                        key.cancel();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nMyClient.java\r\n```\r\npublic class MyClient  {\r\n\r\n\tpublic static void main(String [] args) {\r\n\r\n\t\tRandom rand = new Random();\r\n\t\tint secondsToRead = rand.nextInt(10);\r\n\t\tint secondsToWrite = secondsToRead + 1;\r\n\t\tString message = &quot;Seconds for the task to be read and written: &quot; + secondsToRead + &quot; &quot; + secondsToWrite;\r\n\t\tSystem.out.println(message);\r\n\t\tSocket socket;\r\n\t\ttry {\r\n\t\t\tsocket = new Socket(&quot;127.0.0.1&quot;, 9876);\r\n\t\t\tPrintWriter printWriter = new PrintWriter(socket.getOutputStream(), true);\r\n\t\t\tprintWriter.println(message);\r\n\t\t\tSystem.out.println(&quot;Sending message&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Error in Socket&quot;);\r\n\t\t\tSystem.exit(-1);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n```","title":"Java NIO non-blocking read and write operations","body":"<p>I'm developing for a project a NIO server that takes as input a message from the client containing the times of running for the read and write operations.\nI have a problem because at the first execution of the client everything works fine, but if I run the client once again the server gets stuck in the writable part.\nCan you tell me what am I doing wrong? These are my files, thank you in advance.</p>\n<p>MyAsyncProcessor.java</p>\n<pre><code>public class MyAsyncProcessor {\n\n    enum States {\n        Idle,\n        Read,\n        Write\n    }\n\n    ExecutorService pool;\n    private Map&lt;Integer, States&gt; socketStates = new HashMap&lt;&gt;();\n\n    public MyAsyncProcessor() {\n    }\n\n    public static void main(String[] args) throws IOException {\n        new MyAsyncProcessor().process();\n    }\n\n    public void process() throws IOException {\n        pool = Executors.newFixedThreadPool(2);\n        InetAddress host = InetAddress.getByName(&quot;localhost&quot;);\n        Selector selector = Selector.open();\n        ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\n        serverSocketChannel.configureBlocking(false);\n        serverSocketChannel.bind(new InetSocketAddress(host, 9876));\n        serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);\n        SelectionKey key;\n        while (true) {\n            if (selector.select() &gt; 0) {\n                Set&lt;SelectionKey&gt; selectedKeys = selector.selectedKeys();\n                Iterator&lt;SelectionKey&gt; i = selectedKeys.iterator();\n                while (i.hasNext()) {\n                    key = i.next();\n                    i.remove();\n                    MyTask task = new MyTask();\n                    if (key.isAcceptable()) {\n                        SocketChannel socketChannel = serverSocketChannel.accept();\n                        socketChannel.configureBlocking(false);\n                        System.out.println(&quot;Channel hashCode: &quot; + socketChannel.hashCode());\n                        socketChannel.register(selector, SelectionKey.OP_READ + SelectionKey.OP_WRITE);\n                        socketStates.put(socketChannel.hashCode(), States.Idle);\n                        System.out.println(&quot;Connection accepted from: &quot; + socketChannel.getLocalAddress());\n                    }\n                    if (key.isReadable()) {\n                        System.out.println(&quot;Readable&quot;);\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\n                        States socketState = socketStates.get(socketChannel.hashCode());\n                        if (socketState == States.Idle) {\n                            socketStates.put(socketChannel.hashCode(), States.Read);\n                            ByteBuffer byteBuffer = ByteBuffer.allocate(1024);\n                            try {\n                                socketChannel.read(byteBuffer);\n                                String result = new String(byteBuffer.array()).trim();\n                                String[] words = result.split(&quot; &quot;);\n                                int secondsToRead = Integer.parseInt(words[words.length - 2])*1000;\n                                int secondsToWrite = Integer.parseInt(words[words.length - 1])*1000;\n                                task.setTimeToRead(secondsToRead);\n                                task.setTimeToWrite(secondsToWrite);\n                                System.out.println(task.getTimeToRead() + &quot; &quot; + task.getTimeToWrite());\n                                Runnable h = new MyAsyncReadThread(task);\n                                pool.execute(h);\n                                socketChannel.register(selector, SelectionKey.OP_WRITE);\n                            } catch (Exception e) {\n                                System.out.println(&quot;Closing Connection Read...&quot;);\n                            }\n                        }\n                    }\n                    if (key.isWritable()) {\n                        System.out.println(&quot;Writable&quot;);\n                        SocketChannel socketChannel = (SocketChannel) key.channel();\n                        States socketState = socketStates.get(socketChannel.hashCode());\n                        if (socketState == States.Read) {\n                            socketStates.put(socketChannel.hashCode(), States.Write);\n                            System.out.println(task.getTimeToRead() + &quot; &quot; + task.getTimeToWrite());\n                            Runnable h = new MyAsyncWriteThread(task);\n                            pool.execute(h);\n                        }\n                        key.cancel();\n                    }\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>MyClient.java</p>\n<pre><code>public class MyClient  {\n\n    public static void main(String [] args) {\n\n        Random rand = new Random();\n        int secondsToRead = rand.nextInt(10);\n        int secondsToWrite = secondsToRead + 1;\n        String message = &quot;Seconds for the task to be read and written: &quot; + secondsToRead + &quot; &quot; + secondsToWrite;\n        System.out.println(message);\n        Socket socket;\n        try {\n            socket = new Socket(&quot;127.0.0.1&quot;, 9876);\n            PrintWriter printWriter = new PrintWriter(socket.getOutputStream(), true);\n            printWriter.println(message);\n            System.out.println(&quot;Sending message&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;Error in Socket&quot;);\n            System.exit(-1);\n        }\n    }\n}\n\n\n\n\n</code></pre>\n"},{"tags":["java","android","kotlin","surfaceview","google-filament"],"answers":[{"tags":[],"owner":{"account_id":13111239,"reputation":338,"user_id":9472193,"display_name":"Abolfazl Abbasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667211016,"creation_date":1667211016,"answer_id":74261701,"question_id":74261001,"body_markdown":"Find view by id Or call this code directly on the SurfaceView object:\r\n\r\n    SurfaceView sfvTrack = (SurfaceView)findViewById(R.id.sfvTrack);\r\n    sfvTrack.setZOrderOnTop(true);    // necessary\r\n    SurfaceHolder sfhTrackHolder = sfvTrack.getHolder();\r\n    sfhTrackHolder.setFormat(PixelFormat.TRANSPARENT);\r\n\r\ncheck [this link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7061396/9472193","title":"SurfaceView background, how to make surfaceview transparent","body":"<p>Find view by id Or call this code directly on the SurfaceView object:</p>\n<pre><code>SurfaceView sfvTrack = (SurfaceView)findViewById(R.id.sfvTrack);\nsfvTrack.setZOrderOnTop(true);    // necessary\nSurfaceHolder sfhTrackHolder = sfvTrack.getHolder();\nsfhTrackHolder.setFormat(PixelFormat.TRANSPARENT);\n</code></pre>\n<p>check <a href=\"https://stackoverflow.com/a/7061396/9472193\">this link</a></p>\n"}],"owner":{"account_id":24310984,"reputation":11,"user_id":18252997,"display_name":"Khang Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683851153,"creation_date":1667207426,"question_id":74261001,"body_markdown":"i&#39;m newbie. I have a application that show 3d model with surfaceview, but i just want show shape of model without background of surfaceview like below picture. How do i reach it ? Thank you.&#39;\r\n[![enter image description here](https://i.stack.imgur.com/kgYOf.png)](https://i.stack.imgur.com/kgYOf.png)\r\n\r\nI try surfaceView.setZOrderOnTop(true),surfaceView.holder.setFormat(PixelFormat.TRANSPARENT) but not working !.\r\n\r\n","title":"SurfaceView background, how to make surfaceview transparent","body":"<p>i'm newbie. I have a application that show 3d model with surfaceview, but i just want show shape of model without background of surfaceview like below picture. How do i reach it ? Thank you.'\n<a href=\"https://i.stack.imgur.com/kgYOf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kgYOf.png\" alt=\"enter image description here\" /></a></p>\n<p>I try surfaceView.setZOrderOnTop(true),surfaceView.holder.setFormat(PixelFormat.TRANSPARENT) but not working !.</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1683849634,"creation_date":1454951470,"answer_id":35275329,"question_id":35275098,"body_markdown":"@JsonProperty is not a class-level annotation, and you don&#39;t need to mark your class with any annotation. If you provide your class name as an argument to parser it will know how to map it according to your getter methods. It is as if every getter method has been marked with @JsonProperty without any argument.","title":"Is there a class level annotation for @JsonProperty","body":"<p>@JsonProperty is not a class-level annotation, and you don't need to mark your class with any annotation. If you provide your class name as an argument to parser it will know how to map it according to your getter methods. It is as if every getter method has been marked with @JsonProperty without any argument.</p>\n"},{"tags":[],"owner":{"account_id":6499111,"reputation":906,"user_id":5030597,"display_name":"Kyrylo Semenko"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1584611004,"creation_date":1584611004,"answer_id":60754477,"question_id":35275098,"body_markdown":"Class level annotation\r\n\r\n    @JsonRootName(&quot;Response&quot;)\r\n    public class SuperResponse {\r\n    ...\r\n    }\r\n\r\nResult:\r\n\r\n    &lt;Response&gt;\r\n    ...\r\n    &lt;/Response&gt;","title":"Is there a class level annotation for @JsonProperty","body":"<p>Class level annotation</p>\n\n<pre><code>@JsonRootName(\"Response\")\npublic class SuperResponse {\n...\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>&lt;Response&gt;\n...\n&lt;/Response&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819143,"reputation":123,"user_id":5246822,"display_name":"ad3bay0"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1612213648,"creation_date":1612213648,"answer_id":66000146,"question_id":35275098,"body_markdown":"    @JsonRootName(value = &quot;user&quot;)\r\n    public class User {\r\n    public int id;\r\n    public String name;\r\n    }","title":"Is there a class level annotation for @JsonProperty","body":"<pre><code>@JsonRootName(value = &quot;user&quot;)\npublic class User {\npublic int id;\npublic String name;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683850515,"creation_date":1683850515,"answer_id":76232372,"question_id":35275098,"body_markdown":"In addition to solutions from [Answer by @MicaelGantman](https://stackoverflow.com/a/35275329/1357094) that leverage getters/setters, making the fields `public` (even without getters/setters) also works (without any field or class-level Annotation).  `public final` also works (when shielding the fields more).","title":"Is there a class level annotation for @JsonProperty","body":"<p>In addition to solutions from <a href=\"https://stackoverflow.com/a/35275329/1357094\">Answer by @MicaelGantman</a> that leverage getters/setters, making the fields <code>public</code> (even without getters/setters) also works (without any field or class-level Annotation).  <code>public final</code> also works (when shielding the fields more).</p>\n"}],"owner":{"account_id":1946726,"reputation":2718,"user_id":1751692,"accept_rate":78,"display_name":"orpqK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24833,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":35275329,"answer_count":4,"score":18,"last_activity_date":1683850515,"creation_date":1454950801,"question_id":35275098,"body_markdown":"Is there a class level annotation for `jackson`&#39;s `@JsonProperty` ? Without knowing what field names are in the class, I can be able to annotate the class with a annotation and it will map it for me automatically? \r\n\r\nCurrently I have to annotate each field with a JsonProperty, is there something I can do at the class level that servers the same purpose?\r\n\r\n    public class myEntity() {\r\n    \r\n    @JsonProperty(&quot;banner&quot;)\r\n    private String banner;\r\n    \r\n    @JsonProperty(&quot;menu&quot;)\r\n    private String menu;\r\n    \r\n    }","title":"Is there a class level annotation for @JsonProperty","body":"<p>Is there a class level annotation for <code>jackson</code>'s <code>@JsonProperty</code> ? Without knowing what field names are in the class, I can be able to annotate the class with a annotation and it will map it for me automatically? </p>\n\n<p>Currently I have to annotate each field with a JsonProperty, is there something I can do at the class level that servers the same purpose?</p>\n\n<pre><code>public class myEntity() {\n\n@JsonProperty(\"banner\")\nprivate String banner;\n\n@JsonProperty(\"menu\")\nprivate String menu;\n\n}\n</code></pre>\n"},{"tags":["java","hive","trino"],"owner":{"account_id":5650099,"reputation":406,"user_id":4471036,"accept_rate":36,"display_name":"natarajan k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683850470,"creation_date":1683787788,"question_id":76224832,"body_markdown":"I am working on Trino UDF. Basically i want to remove &#39;/r/n&#39;,&#39;/r&#39; and &#39;/n&#39; from the string.\r\n\r\nThe below code does not work if regex with replaceAll is used in Trino. The same code functionality inside the method works fine in hive UDF and as well as tested in java.\r\n\r\n    \r\n    public static Slice rmcc(@SqlType(StandardTypes.VARCHAR) Slice string)\r\n    {\r\n    String text = string.toStringUtf8();\r\n    \r\n    String regex = &quot;(\\\\x0D\\\\x0A|\\\\x0D|\\\\x0A)&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    Matcher m = p.matcher(text);\r\n    String result = m.replaceAll(&quot; &quot;);\r\n    return Slices.utf8Slice(result);\r\n    }\r\n\r\nBelow code works fine with replace.\r\n\r\n    String text = &quot;hello\\nhello\\rhello\\r\\nhello&quot;;\r\n    \r\n    String result = text.replace(&quot;\\\\r\\\\n&quot;, &quot; &quot;).replace(&quot;\\\\r&quot;, &quot; &quot;).replace(&quot;\\\\n&quot;, &quot; &quot;);\r\n\r\n\r\noutput should be: hello1 hello2 hello3 hello4\r\n\r\nI want to use regex pattern and achieve in replaceall function. please help if i am missing anything.\r\n\r\nTIA.","title":"regex replaceAll pattern does not work in Trino UDF","body":"<p>I am working on Trino UDF. Basically i want to remove '/r/n','/r' and '/n' from the string.</p>\n<p>The below code does not work if regex with replaceAll is used in Trino. The same code functionality inside the method works fine in hive UDF and as well as tested in java.</p>\n<pre><code>public static Slice rmcc(@SqlType(StandardTypes.VARCHAR) Slice string)\n{\nString text = string.toStringUtf8();\n\nString regex = &quot;(\\\\x0D\\\\x0A|\\\\x0D|\\\\x0A)&quot;;\nPattern p = Pattern.compile(regex);\nMatcher m = p.matcher(text);\nString result = m.replaceAll(&quot; &quot;);\nreturn Slices.utf8Slice(result);\n}\n</code></pre>\n<p>Below code works fine with replace.</p>\n<pre><code>String text = &quot;hello\\nhello\\rhello\\r\\nhello&quot;;\n\nString result = text.replace(&quot;\\\\r\\\\n&quot;, &quot; &quot;).replace(&quot;\\\\r&quot;, &quot; &quot;).replace(&quot;\\\\n&quot;, &quot; &quot;);\n</code></pre>\n<p>output should be: hello1 hello2 hello3 hello4</p>\n<p>I want to use regex pattern and achieve in replaceall function. please help if i am missing anything.</p>\n<p>TIA.</p>\n"},{"tags":["java","mongodb","spring-mvc","sharding"],"comments":[{"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"score":1,"creation_date":1382606760,"post_id":19555987,"comment_id":29028413,"body_markdown":"You can set it via `mongoTemplate` for sure","body":"You can set it via <code>mongoTemplate</code> for sure"},{"owner":{"account_id":329799,"reputation":3901,"user_id":653519,"display_name":"Trisha"},"score":0,"creation_date":1382611706,"post_id":19555987,"comment_id":29031242,"body_markdown":"Looking at the schema (http://www.springframework.org/schema/data/mongo/spring-mongo-1.0.xsd) you can only set slave-ok, there&#39;s no &quot;secondary preferred&quot; option (which is the replacement).  You&#39;ll be OK using slave-ok, it&#39;s still supported in the Mongo driver despite deprecation.  But you can definitely do it on the MongoTemplate by setting the read preference to secondary.","body":"Looking at the schema (<a href=\"http://www.springframework.org/schema/data/mongo/spring-mongo-1.0.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/data/mongo/spring-mongo-1.0.xsd</a>) you can only set slave-ok, there&#39;s no &quot;secondary preferred&quot; option (which is the replacement).  You&#39;ll be OK using slave-ok, it&#39;s still supported in the Mongo driver despite deprecation.  But you can definitely do it on the MongoTemplate by setting the read preference to secondary."},{"owner":{"account_id":3034942,"reputation":55,"user_id":2578323,"display_name":"sorebrek"},"score":0,"creation_date":1382664659,"post_id":19555987,"comment_id":29058502,"body_markdown":"@Trisha, you are right that Slave-ok is just supported.  Do it in MongoTemplate programmatically to secondary also works, but is it too much overhead if I call setReadPreference() every time when I wanna get a collection from MongoTemplate?","body":"@Trisha, you are right that Slave-ok is just supported.  Do it in MongoTemplate programmatically to secondary also works, but is it too much overhead if I call setReadPreference() every time when I wanna get a collection from MongoTemplate?"},{"owner":{"account_id":329799,"reputation":3901,"user_id":653519,"display_name":"Trisha"},"score":0,"creation_date":1382681904,"post_id":19555987,"comment_id":29063129,"body_markdown":"No, you only have to set it on the collection (or database) once, then it will be used as the default on that collection (or database &amp; therefore all collections) from then on,","body":"No, you only have to set it on the collection (or database) once, then it will be used as the default on that collection (or database &amp; therefore all collections) from then on,"}],"answers":[{"tags":[],"owner":{"account_id":84979,"reputation":3840,"user_id":237225,"accept_rate":75,"display_name":"JJ Zabkar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1393273105,"creation_date":1393273105,"answer_id":21998109,"question_id":19555987,"body_markdown":"Expanding @Trisha&#39;s response in to an answer: &quot;Do it in MongoTemplate programmatically&quot; by setting the [`ReadPreference`](http://api.mongodb.org/java/current/index.html?com/mongodb/ReadPreference.html) to `SECONDARY`.\r\n\r\n    MongoTemplate template = new MongoTemplate(...);\r\n    template.setReadPreference(com.mongodb.ReadPreference.SECONDARY);\r\n","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>Expanding @Trisha's response in to an answer: \"Do it in MongoTemplate programmatically\" by setting the <a href=\"http://api.mongodb.org/java/current/index.html?com/mongodb/ReadPreference.html\" rel=\"noreferrer\"><code>ReadPreference</code></a> to <code>SECONDARY</code>.</p>\n\n<pre><code>MongoTemplate template = new MongoTemplate(...);\ntemplate.setReadPreference(com.mongodb.ReadPreference.SECONDARY);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1840077,"reputation":11967,"user_id":1669665,"accept_rate":33,"display_name":"jaipster"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1404747354,"creation_date":1404747354,"answer_id":24614418,"question_id":19555987,"body_markdown":"Declare the following bean \r\n\r\n    &lt;bean id=&quot;readPreferenceSecondary&quot; class=&quot;com.mongodb.TaggableReadPreference.SecondaryReadPreference&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\nand \r\n\r\nyou inject this in your mongotemplate\r\n\r\n    &lt;bean id=&quot;mongoTemplateProdDb&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot; &gt;\r\n            &lt;property name=&quot;readPreference&quot; ref=&quot;readPreferenceSecondary&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>Declare the following bean </p>\n\n<pre><code>&lt;bean id=\"readPreferenceSecondary\" class=\"com.mongodb.TaggableReadPreference.SecondaryReadPreference\"&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and </p>\n\n<p>you inject this in your mongotemplate</p>\n\n<pre><code>&lt;bean id=\"mongoTemplateProdDb\" class=\"org.springframework.data.mongodb.core.MongoTemplate\" &gt;\n        &lt;property name=\"readPreference\" ref=\"readPreferenceSecondary\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2381486,"reputation":1692,"user_id":2083415,"accept_rate":25,"display_name":"Amazia Gur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436353139,"creation_date":1436353139,"answer_id":31290672,"question_id":19555987,"body_markdown":"In case you have more than one secondary (replica-set) you can be more specific and tell the mongo driver explicitly which of the secondaries you want to read from, using [tags][1].\r\n\r\nOn the mongo side you run this command:\r\n\r\n    db.getMongo().setReadPref(&#39;secondaryPreferred&#39;,\r\n                              [{&quot;tagName&quot;:&quot;TagVal1&quot;},\r\n                                {&quot;tagName&quot;:&quot;TagVal2&quot;},\r\n                                {}])\r\n\r\nIn the code it looks like this:\r\n\r\n    \r\n    MongoTemplate template = new MongoTemplate(...)\r\n    template.setReadPreference(ReadPreference.secondaryPreferred(&quot;your DBObject that reflect your mongo tag names&quot;);\r\n\r\nHope it helps.\r\n\r\n  [1]: http://docs.mongodb.org/v2.6/reference/method/Mongo.setReadPref/","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>In case you have more than one secondary (replica-set) you can be more specific and tell the mongo driver explicitly which of the secondaries you want to read from, using <a href=\"http://docs.mongodb.org/v2.6/reference/method/Mongo.setReadPref/\" rel=\"nofollow\">tags</a>.</p>\n\n<p>On the mongo side you run this command:</p>\n\n<pre><code>db.getMongo().setReadPref('secondaryPreferred',\n                          [{\"tagName\":\"TagVal1\"},\n                            {\"tagName\":\"TagVal2\"},\n                            {}])\n</code></pre>\n\n<p>In the code it looks like this:</p>\n\n<pre><code>MongoTemplate template = new MongoTemplate(...)\ntemplate.setReadPreference(ReadPreference.secondaryPreferred(\"your DBObject that reflect your mongo tag names\");\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":13892426,"reputation":41,"user_id":10030061,"display_name":"user10030061"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1530680730,"creation_date":1530680730,"answer_id":51166102,"question_id":19555987,"body_markdown":"In case you are using spring-data-mongodb and have some requirement to use multiple Read Preferences based on find query, you can create multiple Mongo Templates and/or Repositories like \r\n\r\n        @EnableMongoRepositories(basePackages = {\r\n                &quot;com.you.repo.package&quot; }, mongoTemplateRef = &quot;mongoTemplateOne&quot;)    \r\n        @Configuration\r\n        public class MongoConfig {\r\n    \r\n        @Bean(name=&quot;mongoTemplateOne&quot;)\r\n        public MongoTemplate getMongoTemplateOne() throws UnknownHostException {\r\n            MongoTemplate templateOne = new MongoTemplate(new SimpleMongoDbFactory(new MongoClientURI(&quot;YOUR_MONGO_URL&quot;)));\r\n            templateOne.setReadPreference(ReadPreference.secondaryPreferred());\r\n    \r\n            //setting WriteConcern but not relevant for this thread\r\n            templateOne.setWriteConcernResolver(yourWriteConcernResolver());\r\n            return templateOne;\r\n        }\r\n        \r\n        @Bean(name = &quot;mongoTemplateTwo&quot;)\r\n        public MongoTemplate getMongoTemplateTwo() throws UnknownHostException {\r\n            MongoTemplate templateTwo = new MongoTemplate(new SimpleMongoDbFactory(new MongoClientURI(&quot;YOUR_MONGO_URL&quot;)));\r\n            templateTwo.setReadPreference(ReadPreference.secondaryPreferred());\r\n            return templateTwo;\r\n        }\r\n    \r\n    \r\n        private WriteConcernResolver yourWriteConcernResolver() {\r\n            return action -&gt; {\r\n                if (action.getCollectionName()\r\n                        .equals(&quot;your_collecton&quot;)\r\n                        &amp;&amp; (action.getMongoActionOperation() == MongoActionOperation.SAVE\r\n                                || action.getMongoActionOperation() == MongoActionOperation.UPDATE)) {\r\n                    return WriteConcern.MAJORITY;\r\n                }\r\n                return action.getDefaultWriteConcern();\r\n            };\r\n        }\r\n\r\n      ","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>In case you are using spring-data-mongodb and have some requirement to use multiple Read Preferences based on find query, you can create multiple Mongo Templates and/or Repositories like </p>\n\n<pre><code>    @EnableMongoRepositories(basePackages = {\n            \"com.you.repo.package\" }, mongoTemplateRef = \"mongoTemplateOne\")    \n    @Configuration\n    public class MongoConfig {\n\n    @Bean(name=\"mongoTemplateOne\")\n    public MongoTemplate getMongoTemplateOne() throws UnknownHostException {\n        MongoTemplate templateOne = new MongoTemplate(new SimpleMongoDbFactory(new MongoClientURI(\"YOUR_MONGO_URL\")));\n        templateOne.setReadPreference(ReadPreference.secondaryPreferred());\n\n        //setting WriteConcern but not relevant for this thread\n        templateOne.setWriteConcernResolver(yourWriteConcernResolver());\n        return templateOne;\n    }\n\n    @Bean(name = \"mongoTemplateTwo\")\n    public MongoTemplate getMongoTemplateTwo() throws UnknownHostException {\n        MongoTemplate templateTwo = new MongoTemplate(new SimpleMongoDbFactory(new MongoClientURI(\"YOUR_MONGO_URL\")));\n        templateTwo.setReadPreference(ReadPreference.secondaryPreferred());\n        return templateTwo;\n    }\n\n\n    private WriteConcernResolver yourWriteConcernResolver() {\n        return action -&gt; {\n            if (action.getCollectionName()\n                    .equals(\"your_collecton\")\n                    &amp;&amp; (action.getMongoActionOperation() == MongoActionOperation.SAVE\n                            || action.getMongoActionOperation() == MongoActionOperation.UPDATE)) {\n                return WriteConcern.MAJORITY;\n            }\n            return action.getDefaultWriteConcern();\n        };\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4659262,"reputation":666,"user_id":3773920,"display_name":"Thilak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546937277,"creation_date":1546851507,"answer_id":54071192,"question_id":19555987,"body_markdown":"If there is a need to mix between primary and secondary for reads depending on the collection, you can set the `ReadPreference` on the `DBCollection` object. This helps to avoid complex multiple `MongoTemplate` configuration. Instead, set collection level preference like below once in the application lifetime.  All the reads for that specific collection will go to secondary, while for other collections it goes to primary.\r\n\r\n    DBCollection dbCollection = mongoTemplate.getCollection(mongoTemplate.getCollectionName(collection));\r\n    dbCollection.setReadPreference(ReadPreference.secondaryPreferred());\r\n\r\nIf you want to know different options to achieve it, please check [Spring data mongodb secondary reads][1]\r\n\r\n\r\n  [1]: https://ttechlearning.blogspot.com/2019/01/spring-data-mongodb-secondary-node-reads.html","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>If there is a need to mix between primary and secondary for reads depending on the collection, you can set the <code>ReadPreference</code> on the <code>DBCollection</code> object. This helps to avoid complex multiple <code>MongoTemplate</code> configuration. Instead, set collection level preference like below once in the application lifetime.  All the reads for that specific collection will go to secondary, while for other collections it goes to primary.</p>\n\n<pre><code>DBCollection dbCollection = mongoTemplate.getCollection(mongoTemplate.getCollectionName(collection));\ndbCollection.setReadPreference(ReadPreference.secondaryPreferred());\n</code></pre>\n\n<p>If you want to know different options to achieve it, please check <a href=\"https://ttechlearning.blogspot.com/2019/01/spring-data-mongodb-secondary-node-reads.html\" rel=\"nofollow noreferrer\">Spring data mongodb secondary reads</a></p>\n"},{"tags":[],"owner":{"account_id":122202,"reputation":411,"user_id":315868,"display_name":"htompkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568656452,"creation_date":1568656452,"answer_id":57962072,"question_id":19555987,"body_markdown":"As of [spring-mongo-2.0.xsd][1], `slave-ok` has been entirely removed, but support has been added for XML config of `ReadPreference`. Here&#39;s the XML from the original question translated for the current XSD:\r\n\r\n    &lt;mongo:mongo-client host=&quot;mongo.sample.com&quot; port=&quot;30000&quot;&gt;\r\n         &lt;mongo:client-options read-preference=&quot;SECONDARY_PREFERRED&quot; /&gt;\r\n    &lt;/mongo:mongo-client&gt;\r\n\r\n\r\n  [1]: http://www.springframework.org/schema/data/mongo/spring-mongo-2.0.xsd","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>As of <a href=\"http://www.springframework.org/schema/data/mongo/spring-mongo-2.0.xsd\" rel=\"nofollow noreferrer\">spring-mongo-2.0.xsd</a>, <code>slave-ok</code> has been entirely removed, but support has been added for XML config of <code>ReadPreference</code>. Here's the XML from the original question translated for the current XSD:</p>\n\n<pre><code>&lt;mongo:mongo-client host=\"mongo.sample.com\" port=\"30000\"&gt;\n     &lt;mongo:client-options read-preference=\"SECONDARY_PREFERRED\" /&gt;\n&lt;/mongo:mongo-client&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1023548,"reputation":141,"user_id":1033335,"accept_rate":50,"display_name":"prashanth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631192505,"creation_date":1631192505,"answer_id":69118716,"question_id":19555987,"body_markdown":"Here is one more way to do this using Mongo Repositories\r\n\r\n```\r\n@Configuration\r\n@EnableMongoRepositories\r\nclass ApplicationConfig extends AbstractMongoClientConfiguration {\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Value(&quot;${spring.data.mongodb.uri}&quot;)\r\n    public String mongoUri;\r\n\r\n\r\n    @Override\r\n    protected String getDatabaseName() {\r\n        return env.getProperty(&quot;spring.data.mongodb.database&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void configureClientSettings(MongoClientSettings.Builder builder) {\r\n        builder.applyConnectionString(new ConnectionString(mongoUri)).readPreference(ReadPreference.secondary());\r\n    }\r\n\r\n}\r\n```\r\n\r\nsample app available @ \r\nhttps://github.com/prashanthmadi/cosmosdb-mongodb-readpreference-springboot-java/blob/main/src/main/java/azure/cosmosdb/mongodb/spring/cosmosdbmongodb/ApplicationConfig.java","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>Here is one more way to do this using Mongo Repositories</p>\n<pre><code>@Configuration\n@EnableMongoRepositories\nclass ApplicationConfig extends AbstractMongoClientConfiguration {\n\n    @Autowired\n    private Environment env;\n\n    @Value(&quot;${spring.data.mongodb.uri}&quot;)\n    public String mongoUri;\n\n\n    @Override\n    protected String getDatabaseName() {\n        return env.getProperty(&quot;spring.data.mongodb.database&quot;);\n    }\n\n    @Override\n    protected void configureClientSettings(MongoClientSettings.Builder builder) {\n        builder.applyConnectionString(new ConnectionString(mongoUri)).readPreference(ReadPreference.secondary());\n    }\n\n}\n</code></pre>\n<p>sample app available @\n<a href=\"https://github.com/prashanthmadi/cosmosdb-mongodb-readpreference-springboot-java/blob/main/src/main/java/azure/cosmosdb/mongodb/spring/cosmosdbmongodb/ApplicationConfig.java\" rel=\"nofollow noreferrer\">https://github.com/prashanthmadi/cosmosdb-mongodb-readpreference-springboot-java/blob/main/src/main/java/azure/cosmosdb/mongodb/spring/cosmosdbmongodb/ApplicationConfig.java</a></p>\n"},{"tags":[],"owner":{"account_id":2678739,"reputation":477,"user_id":2314495,"display_name":"Pla"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683850361,"creation_date":1683850361,"answer_id":76232360,"question_id":19555987,"body_markdown":"Or you can define at the query level with annotation in the repository interface:\r\n\r\n    @Meta(flags = CursorOption.SECONDARY_READS)\r\n    Stream&lt;MyClass&gt; findBySomeField(String someField);\r\n\r\nWhich is really useful when using spring generated queries from method names or annotations like **@Query** or **@Aggregation**\r\n","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>Or you can define at the query level with annotation in the repository interface:</p>\n<pre><code>@Meta(flags = CursorOption.SECONDARY_READS)\nStream&lt;MyClass&gt; findBySomeField(String someField);\n</code></pre>\n<p>Which is really useful when using spring generated queries from method names or annotations like <strong>@Query</strong> or <strong>@Aggregation</strong></p>\n"}],"owner":{"account_id":3034942,"reputation":55,"user_id":2578323,"display_name":"sorebrek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16233,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":21998109,"answer_count":8,"score":5,"last_activity_date":1683850361,"creation_date":1382582708,"question_id":19555987,"body_markdown":"I am connecting to a MongoDB sharding server via mongodb java driver in Spring MVC. I am using the following versions:\r\n\r\n - spring-webmvc-3.2.1.RELEASE\r\n - mongo-java-driver/2.10.0/mongo-java-driver-2.10.0\r\n - spring-data-mongodb-1.2.0.RELEASE\r\n\r\nMy Mongo options are set in the contextConfigLocation file mvc-dispatcher-servlet.xml\r\n\r\n\t&lt;mongo:mongo host=&quot;mongo.sample.com&quot; port=&quot;30000&quot;&gt;\r\n\t\t &lt;mongo:options auto-connect-retry=&quot;true&quot;\r\n\t\t                slave-ok=&quot;true&quot;/&gt;\r\n\t&lt;/mongo:mongo&gt;\r\n\r\nIt works pretty well, but the slave-ok is deprecated by come.MongoDB.ReadPreference.  I just wonder if there is any way to set the readPreference for Spring MVC in the contextConfiLocation file.\r\n","title":"How to set MongoDB ReadPreference in Spring MVC&#39;s contextConfigLocation","body":"<p>I am connecting to a MongoDB sharding server via mongodb java driver in Spring MVC. I am using the following versions:</p>\n\n<ul>\n<li>spring-webmvc-3.2.1.RELEASE</li>\n<li>mongo-java-driver/2.10.0/mongo-java-driver-2.10.0</li>\n<li>spring-data-mongodb-1.2.0.RELEASE</li>\n</ul>\n\n<p>My Mongo options are set in the contextConfigLocation file mvc-dispatcher-servlet.xml</p>\n\n<pre><code>&lt;mongo:mongo host=\"mongo.sample.com\" port=\"30000\"&gt;\n     &lt;mongo:options auto-connect-retry=\"true\"\n                    slave-ok=\"true\"/&gt;\n&lt;/mongo:mongo&gt;\n</code></pre>\n\n<p>It works pretty well, but the slave-ok is deprecated by come.MongoDB.ReadPreference.  I just wonder if there is any way to set the readPreference for Spring MVC in the contextConfiLocation file.</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":7162415,"reputation":121,"user_id":5472740,"display_name":"Youssef Wagih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683850140,"creation_date":1683850140,"answer_id":76232344,"question_id":76230701,"body_markdown":"It seems you have missed to add the Toast message inside the conditions of context menu item.\r\n\r\nFor more clarification you can make it like below\r\n\r\n                override fun onOptionsItemSelected(item: MenuItem): Boolean {\r\n                val id = item.itemId\r\n                if (id == android.R.id.home) {\r\n                    // Show the context menu\r\n                    registerForContextMenu(findViewById(android.R.id.content))\r\n                    openContextMenu(findViewById(android.R.id.content))\r\n                    unregisterForContextMenu(findViewById(android.R.id.content))\r\n                    return true\r\n                }\r\n\r\n               if (id== R.id.context_item_1){\r\n                   // you should add Toast to be show when click on first item\r\n                   Toast.makeText(applicationContext, &quot;Hello Javatpoint - first item&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n                    return true;\r\n               }\r\n\r\n                if (id== R.id.context_item_2){\r\n                    // you should add Toast to be show when click on second item\r\n                    Toast.makeText(applicationContext, &quot;Hello Javatpoint - second item&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n                    return true;}\r\n\r\n                return super.onOptionsItemSelected(item)\r\n            }\r\n\r\nAnother note if Toast in the `onCreate()` method is not working make sure to try it using physical device as emulator sometimes is not working good with Toast as per the below link\r\n[https://stackoverflow.com/questions/16241566/android-toast-wont-appear]\r\n","title":"Toast message not getting displayed on selecting context menu item in Android Studio","body":"<p>It seems you have missed to add the Toast message inside the conditions of context menu item.</p>\n<p>For more clarification you can make it like below</p>\n<pre><code>            override fun onOptionsItemSelected(item: MenuItem): Boolean {\n            val id = item.itemId\n            if (id == android.R.id.home) {\n                // Show the context menu\n                registerForContextMenu(findViewById(android.R.id.content))\n                openContextMenu(findViewById(android.R.id.content))\n                unregisterForContextMenu(findViewById(android.R.id.content))\n                return true\n            }\n\n           if (id== R.id.context_item_1){\n               // you should add Toast to be show when click on first item\n               Toast.makeText(applicationContext, &quot;Hello Javatpoint - first item&quot;, Toast.LENGTH_SHORT).show()\n\n                return true;\n           }\n\n            if (id== R.id.context_item_2){\n                // you should add Toast to be show when click on second item\n                Toast.makeText(applicationContext, &quot;Hello Javatpoint - second item&quot;, Toast.LENGTH_SHORT).show()\n\n                return true;}\n\n            return super.onOptionsItemSelected(item)\n        }\n</code></pre>\n<p>Another note if Toast in the <code>onCreate()</code> method is not working make sure to try it using physical device as emulator sometimes is not working good with Toast as per the below link\n[https://stackoverflow.com/questions/16241566/android-toast-wont-appear]</p>\n"}],"owner":{"account_id":28582576,"reputation":1,"user_id":21883351,"display_name":"hee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683850140,"creation_date":1683830153,"question_id":76230701,"body_markdown":"Toast message not getting displayed on selecting context menu item in Android Studio\r\n\r\n\r\nHere is the main activity I used\r\nMainActivity.java\r\n\r\n    package com.example.endsempracmad;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.ContextMenu;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.appcompat.app.ActionBar;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.setTitle(&quot;Home Activity&quot;);\r\n    \r\n        Toast.makeText(getApplicationContext(),&quot;Hello Javatpoint&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n     }\r\n    \r\n    \r\n     @Override\r\n     public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.context_menu, menu);\r\n    \r\n        // Set up the action bar to display the overflow menu button\r\n        ActionBar actionBar = getSupportActionBar();\r\n        if (actionBar != null) {\r\n            actionBar.setDisplayHomeAsUpEnabled(false);\r\n        }\r\n    \r\n        return true;\r\n    }\r\n    \r\n     @Override\r\n     public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo)        \r\n     {\r\n        super.onCreateContextMenu(menu, v, menuInfo);\r\n        getMenuInflater().inflate(R.menu.context_menu, menu);\r\n     }\r\n    \r\n     @Override\r\n     public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n    \r\n        if (id == android.R.id.home) {\r\n            // Show the context menu\r\n            registerForContextMenu(findViewById(android.R.id.content));\r\n            openContextMenu(findViewById(android.R.id.content));\r\n            unregisterForContextMenu(findViewById(android.R.id.content));\r\n            return true;\r\n        }\r\n    \r\n        return super.onOptionsItemSelected(item);\r\n      }\r\n    \r\n      @Override\r\n      public boolean onContextItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n    \r\n        if (id== R.id.context_item_1){\r\n    \r\n                return true;}\r\n    \r\n        if (id== R.id.context_item_2){\r\n        return true;}\r\n    \r\n            else{\r\n           \r\n                return super.onContextItemSelected(item);}\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nthis is the context menu i used \r\nHere, we register the content view (i.e., the root view of the activity&#39;s layout) for the context menu, then open the context menu by calling openContextMenu with the content view as the argument. Finally, we unregister the content view from the context menu to ensure that it doesn&#39;t interfere with other menus in the future.\r\nDefined context menu items in a menu resource file res/menu folder:\r\ncontext_menu.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n       &lt;item android:id=&quot;@+id/context_item_1&quot;\r\n          android:title=&quot;Context Item 1&quot; /&gt;\r\n       &lt;item android:id=&quot;@+id/context_item_2&quot;\r\n        android:title=&quot;Context Item 2&quot; /&gt;\r\n    &lt;/menu&gt;\r\n\r\n\r\n","title":"Toast message not getting displayed on selecting context menu item in Android Studio","body":"<p>Toast message not getting displayed on selecting context menu item in Android Studio</p>\n<p>Here is the main activity I used\nMainActivity.java</p>\n<pre><code>package com.example.endsempracmad;\n\nimport android.os.Bundle;\nimport android.view.ContextMenu;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    ActionBar actionBar = getSupportActionBar();\n    actionBar.setTitle(&quot;Home Activity&quot;);\n\n    Toast.makeText(getApplicationContext(),&quot;Hello Javatpoint&quot;,Toast.LENGTH_SHORT).show();\n\n }\n\n\n @Override\n public boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.context_menu, menu);\n\n    // Set up the action bar to display the overflow menu button\n    ActionBar actionBar = getSupportActionBar();\n    if (actionBar != null) {\n        actionBar.setDisplayHomeAsUpEnabled(false);\n    }\n\n    return true;\n}\n\n @Override\n public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo)        \n {\n    super.onCreateContextMenu(menu, v, menuInfo);\n    getMenuInflater().inflate(R.menu.context_menu, menu);\n }\n\n @Override\n public boolean onOptionsItemSelected(MenuItem item) {\n    int id = item.getItemId();\n\n    if (id == android.R.id.home) {\n        // Show the context menu\n        registerForContextMenu(findViewById(android.R.id.content));\n        openContextMenu(findViewById(android.R.id.content));\n        unregisterForContextMenu(findViewById(android.R.id.content));\n        return true;\n    }\n\n    return super.onOptionsItemSelected(item);\n  }\n\n  @Override\n  public boolean onContextItemSelected(MenuItem item) {\n    int id = item.getItemId();\n\n    if (id== R.id.context_item_1){\n\n            return true;}\n\n    if (id== R.id.context_item_2){\n    return true;}\n\n        else{\n       \n            return super.onContextItemSelected(item);}\n\n\n    }\n}\n</code></pre>\n<p>this is the context menu i used\nHere, we register the content view (i.e., the root view of the activity's layout) for the context menu, then open the context menu by calling openContextMenu with the content view as the argument. Finally, we unregister the content view from the context menu to ensure that it doesn't interfere with other menus in the future.\nDefined context menu items in a menu resource file res/menu folder:\ncontext_menu.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n   &lt;item android:id=&quot;@+id/context_item_1&quot;\n      android:title=&quot;Context Item 1&quot; /&gt;\n   &lt;item android:id=&quot;@+id/context_item_2&quot;\n    android:title=&quot;Context Item 2&quot; /&gt;\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","nullpointerexception","java-17"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1683850797,"post_id":76232278,"comment_id":134433729,"body_markdown":"[Edit] your post and include the complete stack trace (format as code).  Find the statement _in your code_ that caused the exception, and indicate that statement clearly in your code listing.","body":"<a href=\"https://stackoverflow.com/posts/76232278/edit\">Edit</a> your post and include the complete stack trace (format as code).  Find the statement <i>in your code</i> that caused the exception, and indicate that statement clearly in your code listing."}],"owner":{"account_id":26254308,"reputation":23,"user_id":19926606,"display_name":"Eveprogram11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683848833,"creation_date":1683848833,"question_id":76232278,"body_markdown":"I&#39;m encountering an issue in my Spring Boot application where I&#39;m getting a NullPointerException when trying to save an entity with a non-null foreign key using JPA. I have a HistoriaClinica entity that has a many-to-one relationship with a Paciente entity. The foreign key column paciente_id is not nullable in the database.\r\n\r\nHowever, when I attempt to save a new HistoriaClinica entity with a valid pacienteId, I&#39;m getting a NullPointerException with the error message: &quot;The given id must not be null&quot;. I&#39;ve checked and confirmed that the pacienteId is not null and exists in the database.\r\n\r\nI&#39;ve reviewed my code and verified that the mapping and annotations for the relationship between Paciente and HistoriaClinica are set correctly. I&#39;ve also checked the database configuration and ensured that the necessary tables and columns are present.\r\n\r\nI&#39;m using Spring Boot 3.0.5 and JPA for my persistence layer. I&#39;ve included the relevant code snippets below:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;historias_clinicas&quot;)\r\n@Getter\r\n@Setter\r\npublic class HistoriaClinica {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;fecha_creacion&quot;, nullable = false)\r\n    @JsonFormat(pattern = &quot;dd-MM-yyyy&quot;)\r\n    private Date fechaCreacion;\r\n\r\n    private String enfermedad;\r\n\r\n    private String descripcion;\r\n\r\n    private String medicacion;\r\n    \r\n    private String droga;\r\n    \r\n    private String d&#243;sis;\r\n    \r\n    private Double peso;\r\n    \r\n    private Double altura;\r\n\r\n    @Column(nullable = false)\r\n    private String indicaciones;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;paciente_id&quot;, nullable = false)\r\n    private Paciente paciente;\r\n\r\n    @OneToMany(mappedBy = &quot;historiaClinica&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;ArchivoHistoriaClinica&gt; archivosHistoriaClinica;\r\n\r\n    @OneToMany(mappedBy = &quot;historiaClinica&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;Actualizacion&gt; actualizaciones = new ArrayList&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;historiaClinica&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;ArchivoHistoriaClinica&gt; archivos = new ArrayList&lt;&gt;();\r\n//respective constructors\r\n```\r\n\r\n```\r\n@Getter @Setter\r\npublic class Paciente {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \r\n    private Long id;\r\n    \r\n    @Column(nullable = false)\r\n    @NotNull\r\n    private String nombre;\r\n    \r\n    @Column(nullable = false)\r\n    @NotNull\r\n    private String apellido;\r\n    \r\n    @Column(nullable = false, unique = true)\r\n    @NotNull\r\n    private String dni;\r\n    \r\n    @Column(name = &quot;fecha_nacimiento&quot;)\r\n    @NotNull\r\n    private LocalDate fechaNacimiento;\r\n    \r\n    private String direccion;\r\n    \r\n    private String telefono;\r\n    \r\n    private String email;\r\n    \r\n    @Column(nullable = false)\r\n    private String role = &quot;ROLE_PACIENTE&quot;; // anotaci&#243;n de rol\r\n\r\n    \r\n    @OneToMany(mappedBy = &quot;paciente&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;HistoriaClinica&gt; historiasClinicas;\r\n\r\n    public Paciente() {\r\n    }\r\n```\r\n\r\nThe HistoriaClinicaService method that i&#39;m calling:\r\n\r\n```\r\n public HistoriaClinica save(HistoriaClinicaDTO hcDTO, Long idPaciente) {\r\n        Paciente paciente = pacienteRepository.findById(idPaciente)\r\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Paciente no encontrado con id &quot; + idPaciente));\r\n\r\n        HistoriaClinica hc = historiaClinicaMapper.toEntity(hcDTO);\r\n        hc.setPaciente(paciente);\r\n\r\n        List&lt;Actualizacion&gt; actualizaciones = hcDTO.getActualizaciones().stream()\r\n                .map(actualizacionMapper::toEntity)\r\n                .collect(Collectors.toList());\r\n        hc.setActualizaciones(actualizaciones);\r\n\r\n        List&lt;ArchivoHistoriaClinica&gt; archivos = hcDTO.getArchivos().stream()\r\n                .map(archivoHistoriaClinicaMapper::toEntity)\r\n                .collect(Collectors.toList());\r\n        hc.setArchivos(archivos);\r\n        actualizaciones.forEach(actualizacion -&gt; actualizacion.setHistoriaClinica(hc));\r\n        archivos.forEach(archivo -&gt; archivo.setHistoriaClinica(hc));\r\n\r\n        entityManager.persist(hc);\r\n        return hc;\r\n    }\r\n```\r\n\r\nAnd the endpoint:\r\n\r\n```\r\n@PostMapping(&quot;/nuevas/{idPaciente}&quot;)\r\npublic ResponseEntity&lt;HistoriaClinicaDTO&gt; createHistoriaClinica(@RequestBody HistoriaClinicaDTO historiaClinicaDTO, @PathVariable(&quot;idPaciente&quot;) Long pacienteId) {\r\n    // Verificar si el paciente existe\r\n    Optional&lt;Paciente&gt; pacienteOptional = pacienteService.buscarPorId(pacienteId);\r\n    if (!pacienteOptional.isPresent()) {\r\n        throw new RuntimeException(&quot;No se encontr&#243; un paciente con el ID proporcionado.&quot;);\r\n    }\r\n\r\n    HistoriaClinica nuevaHistoriaClinica = historiaClinicaService.save(historiaClinicaDTO, pacienteId);\r\n\r\n    HistoriaClinicaDTO newHistoriaClinicaDTO = historiaClinicaMapper.toDto(nuevaHistoriaClinica);\r\n\r\n    return ResponseEntity.ok(newHistoriaClinicaDTO);\r\n}\r\n```\r\n\r\nI have tried debugging the code and inspecting the values at each step, but I haven&#39;t been able to identify the root cause of the NullPointerException. I would greatly appreciate any insights or suggestions on how to troubleshoot and resolve this issue.\r\n\r\nThank you in advance for your help!\r\n\r\n\r\nHere&#39;s what I have checked so far:\r\n\r\n- The &quot;Paciente&quot; entity has a generated &quot;id&quot; field, and it is assigned automatically when saving a new instance.\r\n- The &quot;HistoriaClinica&quot; entity has a Many-to-One relationship with &quot;Paciente&quot;, and the association is properly defined with the &quot;paciente_id&quot; foreign key.\r\n- When retrieving the &quot;Paciente&quot; from the repository, it is successfully found and returned.\r\n- I have verified that the &quot;Paciente&quot; object has a valid ID before setting it in the &quot;HistoriaClinica&quot; entity.\r\n- I have checked the database, and the associated &quot;Paciente&quot; record exists with a valid ID.\r\n- Despite these checks, I still encounter the &quot;NullPointerException&quot; with the message stating that &quot;pacienteId must not be null&quot; when trying to persist the &quot;HistoriaClinica&quot; entity.","title":"NullPointerException when saving entity with non-null foreign key in Spring Boot and JPA","body":"<p>I'm encountering an issue in my Spring Boot application where I'm getting a NullPointerException when trying to save an entity with a non-null foreign key using JPA. I have a HistoriaClinica entity that has a many-to-one relationship with a Paciente entity. The foreign key column paciente_id is not nullable in the database.</p>\n<p>However, when I attempt to save a new HistoriaClinica entity with a valid pacienteId, I'm getting a NullPointerException with the error message: &quot;The given id must not be null&quot;. I've checked and confirmed that the pacienteId is not null and exists in the database.</p>\n<p>I've reviewed my code and verified that the mapping and annotations for the relationship between Paciente and HistoriaClinica are set correctly. I've also checked the database configuration and ensured that the necessary tables and columns are present.</p>\n<p>I'm using Spring Boot 3.0.5 and JPA for my persistence layer. I've included the relevant code snippets below:</p>\n<pre><code>@Entity\n@Table(name = &quot;historias_clinicas&quot;)\n@Getter\n@Setter\npublic class HistoriaClinica {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;fecha_creacion&quot;, nullable = false)\n    @JsonFormat(pattern = &quot;dd-MM-yyyy&quot;)\n    private Date fechaCreacion;\n\n    private String enfermedad;\n\n    private String descripcion;\n\n    private String medicacion;\n    \n    private String droga;\n    \n    private String dósis;\n    \n    private Double peso;\n    \n    private Double altura;\n\n    @Column(nullable = false)\n    private String indicaciones;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;paciente_id&quot;, nullable = false)\n    private Paciente paciente;\n\n    @OneToMany(mappedBy = &quot;historiaClinica&quot;, cascade = CascadeType.ALL)\n    private List&lt;ArchivoHistoriaClinica&gt; archivosHistoriaClinica;\n\n    @OneToMany(mappedBy = &quot;historiaClinica&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Actualizacion&gt; actualizaciones = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;historiaClinica&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;ArchivoHistoriaClinica&gt; archivos = new ArrayList&lt;&gt;();\n//respective constructors\n</code></pre>\n<pre><code>@Getter @Setter\npublic class Paciente {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    \n    private Long id;\n    \n    @Column(nullable = false)\n    @NotNull\n    private String nombre;\n    \n    @Column(nullable = false)\n    @NotNull\n    private String apellido;\n    \n    @Column(nullable = false, unique = true)\n    @NotNull\n    private String dni;\n    \n    @Column(name = &quot;fecha_nacimiento&quot;)\n    @NotNull\n    private LocalDate fechaNacimiento;\n    \n    private String direccion;\n    \n    private String telefono;\n    \n    private String email;\n    \n    @Column(nullable = false)\n    private String role = &quot;ROLE_PACIENTE&quot;; // anotación de rol\n\n    \n    @OneToMany(mappedBy = &quot;paciente&quot;, cascade = CascadeType.ALL)\n    private List&lt;HistoriaClinica&gt; historiasClinicas;\n\n    public Paciente() {\n    }\n</code></pre>\n<p>The HistoriaClinicaService method that i'm calling:</p>\n<pre><code> public HistoriaClinica save(HistoriaClinicaDTO hcDTO, Long idPaciente) {\n        Paciente paciente = pacienteRepository.findById(idPaciente)\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Paciente no encontrado con id &quot; + idPaciente));\n\n        HistoriaClinica hc = historiaClinicaMapper.toEntity(hcDTO);\n        hc.setPaciente(paciente);\n\n        List&lt;Actualizacion&gt; actualizaciones = hcDTO.getActualizaciones().stream()\n                .map(actualizacionMapper::toEntity)\n                .collect(Collectors.toList());\n        hc.setActualizaciones(actualizaciones);\n\n        List&lt;ArchivoHistoriaClinica&gt; archivos = hcDTO.getArchivos().stream()\n                .map(archivoHistoriaClinicaMapper::toEntity)\n                .collect(Collectors.toList());\n        hc.setArchivos(archivos);\n        actualizaciones.forEach(actualizacion -&gt; actualizacion.setHistoriaClinica(hc));\n        archivos.forEach(archivo -&gt; archivo.setHistoriaClinica(hc));\n\n        entityManager.persist(hc);\n        return hc;\n    }\n</code></pre>\n<p>And the endpoint:</p>\n<pre><code>@PostMapping(&quot;/nuevas/{idPaciente}&quot;)\npublic ResponseEntity&lt;HistoriaClinicaDTO&gt; createHistoriaClinica(@RequestBody HistoriaClinicaDTO historiaClinicaDTO, @PathVariable(&quot;idPaciente&quot;) Long pacienteId) {\n    // Verificar si el paciente existe\n    Optional&lt;Paciente&gt; pacienteOptional = pacienteService.buscarPorId(pacienteId);\n    if (!pacienteOptional.isPresent()) {\n        throw new RuntimeException(&quot;No se encontró un paciente con el ID proporcionado.&quot;);\n    }\n\n    HistoriaClinica nuevaHistoriaClinica = historiaClinicaService.save(historiaClinicaDTO, pacienteId);\n\n    HistoriaClinicaDTO newHistoriaClinicaDTO = historiaClinicaMapper.toDto(nuevaHistoriaClinica);\n\n    return ResponseEntity.ok(newHistoriaClinicaDTO);\n}\n</code></pre>\n<p>I have tried debugging the code and inspecting the values at each step, but I haven't been able to identify the root cause of the NullPointerException. I would greatly appreciate any insights or suggestions on how to troubleshoot and resolve this issue.</p>\n<p>Thank you in advance for your help!</p>\n<p>Here's what I have checked so far:</p>\n<ul>\n<li>The &quot;Paciente&quot; entity has a generated &quot;id&quot; field, and it is assigned automatically when saving a new instance.</li>\n<li>The &quot;HistoriaClinica&quot; entity has a Many-to-One relationship with &quot;Paciente&quot;, and the association is properly defined with the &quot;paciente_id&quot; foreign key.</li>\n<li>When retrieving the &quot;Paciente&quot; from the repository, it is successfully found and returned.</li>\n<li>I have verified that the &quot;Paciente&quot; object has a valid ID before setting it in the &quot;HistoriaClinica&quot; entity.</li>\n<li>I have checked the database, and the associated &quot;Paciente&quot; record exists with a valid ID.</li>\n<li>Despite these checks, I still encounter the &quot;NullPointerException&quot; with the message stating that &quot;pacienteId must not be null&quot; when trying to persist the &quot;HistoriaClinica&quot; entity.</li>\n</ul>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1683848503,"post_id":76232230,"comment_id":134433462,"body_markdown":"The documentation you are referencing is for Log4j 2.x, but you are using Log4j 1.x.","body":"The documentation you are referencing is for Log4j 2.x, but you are using Log4j 1.x."}],"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683848608,"creation_date":1683847874,"question_id":76232230,"body_markdown":"I am setting up log4j config to print the process id from java code\r\n\r\n    log4j.appender.default.file.layout.ConversionPattern=%d pid:[%pid] %-5p %c{-2} %x - %m%n\r\n\r\nI attempting to use pid:[%pid] for the purpose. But, when I deployed this in our unix server,\r\nI get the output like this -&gt; pid:[INFOid] and not process id.\r\n\r\nI did refer [here][1]. it seems %pid is the way to go, but it doesnt seem to work. What am i doing wrong?\r\n\r\na sample full output log line looks like below\r\n\r\n    2023-05-12 09:17:18,513 pid:[INFOid] INFO  com.test.my.class  - Attempting publish ...\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout","title":"Log4J print process id and thread id in java and unix","body":"<p>I am setting up log4j config to print the process id from java code</p>\n<pre><code>log4j.appender.default.file.layout.ConversionPattern=%d pid:[%pid] %-5p %c{-2} %x - %m%n\n</code></pre>\n<p>I attempting to use pid:[%pid] for the purpose. But, when I deployed this in our unix server,\nI get the output like this -&gt; pid:[INFOid] and not process id.</p>\n<p>I did refer <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout\" rel=\"nofollow noreferrer\">here</a>. it seems %pid is the way to go, but it doesnt seem to work. What am i doing wrong?</p>\n<p>a sample full output log line looks like below</p>\n<pre><code>2023-05-12 09:17:18,513 pid:[INFOid] INFO  com.test.my.class  - Attempting publish ...\n</code></pre>\n"},{"tags":["java","visual-studio","nginx","zlib"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1683848289,"post_id":72406423,"comment_id":134433440,"body_markdown":"How is this question related to [tag:java]?","body":"How is this question related to <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a>?"}],"answers":[{"tags":[],"owner":{"account_id":26605117,"reputation":1,"user_id":20226108,"display_name":"Polar Bear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683848226,"creation_date":1683848226,"answer_id":76232250,"question_id":72406423,"body_markdown":"I moved zconf.h from \\nginx\\objs\\lib\\zlib-1.2.13\\out\\build\\x64-Debug\r\nto \\nginx\\objs\\lib\\zlib-1.2.13. After that it build correctly for me and nginx.exe can be found in \\nginx\\objs\\. Let me know if there are any other issues.","title":"building Nginx on windows throwing &#39;zconf.h&#39; not found","body":"<p>I moved zconf.h from \\nginx\\objs\\lib\\zlib-1.2.13\\out\\build\\x64-Debug\nto \\nginx\\objs\\lib\\zlib-1.2.13. After that it build correctly for me and nginx.exe can be found in \\nginx\\objs. Let me know if there are any other issues.</p>\n"}],"owner":{"account_id":24110624,"reputation":131,"user_id":18081268,"display_name":"Katja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683848226,"creation_date":1653659265,"question_id":72406423,"body_markdown":"I am trying to build the nginx on Windows by following [this tutorial][1]\r\neverything works fine but when I enter **nmake/f objs\\MakeFile** command it throws following error\r\n\r\n\\nginx\\objs\\lib\\zlib-1.2.12\\zlib.h(34): fatal error C1083: Cannot open include file: &#39;zconf.h&#39;: No such file or directory\r\nNMAKE : fatal error U1077: &#39;&quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.29.30133\\bin\\HostX64\\x64\\cl.EXE&quot;&#39; : return code &#39;0x2&#39;\r\nStop. \r\n  but if I search for file &#39;zconf.h&#39; in zlib folder. I can see it.\r\nI am using Visual Studio 2019 and zlib 1.2.12\r\nCan someone please guide me is it the issue of some dependency?\r\nHow can I fix it?\r\nthanks in advance\r\n  [1]: https://www.youtube.com/watch?v=M-cj-p4rZtU","title":"building Nginx on windows throwing &#39;zconf.h&#39; not found","body":"<p>I am trying to build the nginx on Windows by following [this tutorial][1]\neverything works fine but when I enter <strong>nmake/f objs\\MakeFile</strong> command it throws following error</p>\n<p>\\nginx\\objs\\lib\\zlib-1.2.12\\zlib.h(34): fatal error C1083: Cannot open include file: 'zconf.h': No such file or directory\nNMAKE : fatal error U1077: '&quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.29.30133\\bin\\HostX64\\x64\\cl.EXE&quot;' : return code '0x2'\nStop.\nbut if I search for file 'zconf.h' in zlib folder. I can see it.\nI am using Visual Studio 2019 and zlib 1.2.12\nCan someone please guide me is it the issue of some dependency?\nHow can I fix it?\nthanks in advance\n[1]: <a href=\"https://www.youtube.com/watch?v=M-cj-p4rZtU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=M-cj-p4rZtU</a></p>\n"},{"tags":["java","maven","dependencies","apache-httpcomponents"],"comments":[{"owner":{"account_id":1083825,"reputation":1223,"user_id":1080041,"display_name":"Hong"},"score":2,"creation_date":1518144233,"post_id":13635388,"comment_id":84394668,"body_markdown":"`$ mvn dependency:tree  -Dverbose -Dincludes=httpcore`, which will show all versions of `httpcore` in the dependency tree including those omitted. It will tell you where/why you get the version &quot;4.1.4&quot;","body":"<code>$ mvn dependency:tree  -Dverbose -Dincludes=httpcore</code>, which will show all versions of <code>httpcore</code> in the dependency tree including those omitted. It will tell you where/why you get the version &quot;4.1.4&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1414595092,"creation_date":1354225930,"answer_id":13635415,"question_id":13635388,"body_markdown":"You might have a transitive dependency, one your other dependencies depend on the version you don&#39;t want.\r\n\r\nTo get an overview of all dependencies, direct and transitive, try:\r\n\r\n&gt;mvn dependency:tree\r\n\r\nIf you find a crash between different versions of the same dependency, the first thing you should do is figure out whether the crash is critical (do you need both?) If not, upgrade so that the lowest dependency version will become equal to the highest. If it is a transitive dependency consider upgrading the version of this.\r\n\r\nIf you just want to lock on to a specific version of the dependency, you have some choices:\r\n\r\nExclude the transitive dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.something&lt;/groupId&gt;\r\n      &lt;artifactId&gt;something&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.somethingElse&lt;/groupId&gt;\r\n          &lt;artifactId&gt;somethingElse&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nInclude a specific version:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.somethingElse&lt;/groupId&gt;\r\n      &lt;artifactId&gt;somethingElse&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAny dependency version added explicitly in your pom will override the version of any transitive dependency of the same groupId/artifactId.\r\n\r\nAlthough being a bit of a puzzle, you should try to get compatible versions of your dependencies, that being version with the same version transitive dependencies.\r\n   \r\n        ","title":"maven dependency pulling a wrong dependency","body":"<p>You might have a transitive dependency, one your other dependencies depend on the version you don't want.</p>\n\n<p>To get an overview of all dependencies, direct and transitive, try:</p>\n\n<blockquote>\n  <p>mvn dependency:tree</p>\n</blockquote>\n\n<p>If you find a crash between different versions of the same dependency, the first thing you should do is figure out whether the crash is critical (do you need both?) If not, upgrade so that the lowest dependency version will become equal to the highest. If it is a transitive dependency consider upgrading the version of this.</p>\n\n<p>If you just want to lock on to a specific version of the dependency, you have some choices:</p>\n\n<p>Exclude the transitive dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.something&lt;/groupId&gt;\n  &lt;artifactId&gt;something&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.somethingElse&lt;/groupId&gt;\n      &lt;artifactId&gt;somethingElse&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Include a specific version:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.somethingElse&lt;/groupId&gt;\n  &lt;artifactId&gt;somethingElse&lt;/artifactId&gt;\n  &lt;version&gt;2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Any dependency version added explicitly in your pom will override the version of any transitive dependency of the same groupId/artifactId.</p>\n\n<p>Although being a bit of a puzzle, you should try to get compatible versions of your dependencies, that being version with the same version transitive dependencies.</p>\n"}],"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19926,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":13635415,"answer_count":1,"score":11,"last_activity_date":1683847139,"creation_date":1354225813,"question_id":13635388,"body_markdown":"The dependency bellow pulls another dependency: `httpcore.4.1.4`.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n  &lt;version&gt;4.2&lt;/version&gt;\r\n  &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nDoing so will throws `ClassDefNotFound`, during deployment.\r\n&lt;br/&gt;\r\nUsing `httpcore.4.2` though, everything works.\r\n\r\nI even added both dependencies directly into my pom:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n  &lt;version&gt;4.2&lt;/version&gt;\r\n  &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\t\t\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n  &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n  &lt;version&gt;4.2&lt;/version&gt;\r\n  &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis doesn&#39;t change anything and I&#39;m still facing the same issue: maven downgrades `httpcore.4.2` to `httpcore.4.1.2`.\r\n\r\nThe `dependencyManagement` looks like this:\r\n\r\n```xml\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n      &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n      &lt;version&gt;4.2&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```","title":"maven dependency pulling a wrong dependency","body":"<p>The dependency bellow pulls another dependency: <code>httpcore.4.1.4</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n  &lt;version&gt;4.2&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Doing so will throws <code>ClassDefNotFound</code>, during deployment.\n<br/>\nUsing <code>httpcore.4.2</code> though, everything works.</p>\n<p>I even added both dependencies directly into my pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n  &lt;version&gt;4.2&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n        \n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n  &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n  &lt;version&gt;4.2&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This doesn't change anything and I'm still facing the same issue: maven downgrades <code>httpcore.4.2</code> to <code>httpcore.4.1.2</code>.</p>\n<p>The <code>dependencyManagement</code> looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n      &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n      &lt;version&gt;4.2&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","webview","fullscreen"],"answers":[{"tags":[],"owner":{"account_id":16550278,"reputation":41,"user_id":11958786,"display_name":"Jake Muller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683846828,"creation_date":1566506993,"answer_id":57616870,"question_id":57597866,"body_markdown":"Just had to clear the focus on the web view\r\n```java\r\npublic void onHideCustomView()\r\n{\r\n    ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\r\n    this.mCustomView = null;\r\n    getWindow().getDecorView().setSystemUiVisibility(this.mOriginalSystemUiVisibility);\r\n    setRequestedOrientation(this.mOriginalOrientation);\r\n    this.mCustomViewCallback.onCustomViewHidden();\r\n    this.mCustomViewCallback = null;\r\n    myWebView.clearFocus();\r\n}\r\n```","title":"Android soft-keyboard will not display after enabling youtube video to return from full screen","body":"<p>Just had to clear the focus on the web view</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onHideCustomView()\n{\n    ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\n    this.mCustomView = null;\n    getWindow().getDecorView().setSystemUiVisibility(this.mOriginalSystemUiVisibility);\n    setRequestedOrientation(this.mOriginalOrientation);\n    this.mCustomViewCallback.onCustomViewHidden();\n    this.mCustomViewCallback = null;\n    myWebView.clearFocus();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13711043,"reputation":179,"user_id":9893403,"display_name":"Akshay Masram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585391677,"creation_date":1585391677,"answer_id":60899998,"question_id":57597866,"body_markdown":"Just clear the focus of webview it worked.\r\n\r\n     public void onHideCustomView()\r\n        {\r\n\r\n            ((FrameLayout)MainUI.this.getWindow().getDecorView()).removeView(this.mCustomView);\r\n            this.mCustomView = null;\r\n            MainUI.this.getWindow().getDecorView()\r\n                    .setSystemUiVisibility(this.mOriginalSystemUiVisibility);\r\n            MainUI.this.setRequestedOrientation(this.mOriginalOrientation);\r\n            this.mCustomViewCallback.onCustomViewHidden();\r\n            this.mCustomViewCallback = null;\r\n\r\n            ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\r\n            webView.clearFocus();\r\n      }","title":"Android soft-keyboard will not display after enabling youtube video to return from full screen","body":"<p>Just clear the focus of webview it worked.</p>\n\n<pre><code> public void onHideCustomView()\n    {\n\n        ((FrameLayout)MainUI.this.getWindow().getDecorView()).removeView(this.mCustomView);\n        this.mCustomView = null;\n        MainUI.this.getWindow().getDecorView()\n                .setSystemUiVisibility(this.mOriginalSystemUiVisibility);\n        MainUI.this.setRequestedOrientation(this.mOriginalOrientation);\n        this.mCustomViewCallback.onCustomViewHidden();\n        this.mCustomViewCallback = null;\n\n        ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\n        webView.clearFocus();\n  }\n</code></pre>\n"}],"owner":{"account_id":16550278,"reputation":41,"user_id":11958786,"display_name":"Jake Muller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683846828,"creation_date":1566414544,"question_id":57597866,"body_markdown":"My app makes heavy use of youtube videos to answer questions about products and installs of these products. Just for context, I am a full stack web developer and have only a month of java/android studio development under my belt. The app in written in only javascript and css and i use the android webview to display it as an app. Currently, I have a web chrome client that hides the full youtube video and also display the full screen youtube video. Once one video is full screen and then back to normal view, if i tap on a input field the key board does not display and i get the message in the debugger.  \r\n\r\n&quot;I/AssistStructure: Flattened final assist data: 1928 bytes, containing 1 windows, 5 views&quot;\r\n\r\nThinking it is from the web chrome client hiding the custom view.  \r\n\r\n\r\n\r\nthinking that the answer is to check if the view is the keyboard, and not execute the \r\nonHideCustomView(); but i am not exactly sure this is the case or if i am just doing something stupid. \r\n\r\nbelow is the code of most of the app or enough for context.  \r\n\r\nThank you guys for taking the time to help me out. \r\n\r\nAlso any pointers if i can improve this process would be appreciated as well. \r\n\r\nThank You :)\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getSupportActionBar().hide();\r\n        myWebView = new WebView(this);\r\n        setContentView(myWebView);\r\n        myWebView.setWebChromeClient(new MyChrome());\r\n        myWebView.setWebViewClient(new WebViewClient());\r\n        myWebView.loadUrl(&quot;url&quot;);\r\n\r\n        WebSettings webSettings = myWebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        myWebView.requestFocus(View.FOCUS_DOWN);\r\n   \r\n\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n    public boolean onKeyDown (int keyCode, KeyEvent event) {\r\n        if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n            String webUrl = myWebView.getUrl();\r\n            if (webUrl.indexOf(&quot;directory/url&quot;) &lt; 0){\r\n\r\n                    myWebView.loadUrl(&quot;url&quot;);\r\n\r\n\r\n                return true;\r\n            }else {\r\n                myWebView.loadUrl(&quot;javascript:android();&quot;);\r\n                return true;\r\n            }\r\n\r\n        }\r\n        return super.onKeyDown(keyCode, event);\r\n\r\n    }\r\n\r\n\r\n    private class MyChrome extends WebChromeClient {\r\n\r\n        private View mCustomView;\r\n        private WebChromeClient.CustomViewCallback mCustomViewCallback;\r\n        protected FrameLayout mFullscreenContainer;\r\n        private int mOriginalOrientation;\r\n        private int mOriginalSystemUiVisibility;\r\n\r\n        MyChrome() {}\r\n\r\n\r\n\r\n        public void onHideCustomView()\r\n        {\r\n            ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\r\n            this.mCustomView = null;\r\n            getWindow().getDecorView().setSystemUiVisibility(this.mOriginalSystemUiVisibility);\r\n            setRequestedOrientation(this.mOriginalOrientation);\r\n            this.mCustomViewCallback.onCustomViewHidden();\r\n            this.mCustomViewCallback = null;\r\n        }\r\n\r\n        public void onShowCustomView(View paramView, WebChromeClient.CustomViewCallback paramCustomViewCallback)\r\n        {\r\n            if (this.mCustomView != null)\r\n            {\r\n                onHideCustomView();\r\n                return;\r\n            }\r\n            this.mCustomView = paramView;\r\n            this.mOriginalSystemUiVisibility = getWindow().getDecorView().getSystemUiVisibility();\r\n            this.mOriginalOrientation = getRequestedOrientation();\r\n            this.mCustomViewCallback = paramCustomViewCallback;\r\n            ((FrameLayout)getWindow().getDecorView()).addView(this.mCustomView, new FrameLayout.LayoutParams(-1, -1));\r\n            getWindow().getDecorView().setSystemUiVisibility(3846);\r\n        }\r\n    }\r\n\r\n   \r\n\r\n","title":"Android soft-keyboard will not display after enabling youtube video to return from full screen","body":"<p>My app makes heavy use of youtube videos to answer questions about products and installs of these products. Just for context, I am a full stack web developer and have only a month of java/android studio development under my belt. The app in written in only javascript and css and i use the android webview to display it as an app. Currently, I have a web chrome client that hides the full youtube video and also display the full screen youtube video. Once one video is full screen and then back to normal view, if i tap on a input field the key board does not display and i get the message in the debugger.  </p>\n\n<p>\"I/AssistStructure: Flattened final assist data: 1928 bytes, containing 1 windows, 5 views\"</p>\n\n<p>Thinking it is from the web chrome client hiding the custom view.  </p>\n\n<p>thinking that the answer is to check if the view is the keyboard, and not execute the \nonHideCustomView(); but i am not exactly sure this is the case or if i am just doing something stupid. </p>\n\n<p>below is the code of most of the app or enough for context.  </p>\n\n<p>Thank you guys for taking the time to help me out. </p>\n\n<p>Also any pointers if i can improve this process would be appreciated as well. </p>\n\n<p>Thank You :)</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    getSupportActionBar().hide();\n    myWebView = new WebView(this);\n    setContentView(myWebView);\n    myWebView.setWebChromeClient(new MyChrome());\n    myWebView.setWebViewClient(new WebViewClient());\n    myWebView.loadUrl(\"url\");\n\n    WebSettings webSettings = myWebView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n    myWebView.requestFocus(View.FOCUS_DOWN);\n\n\n}\n\n@RequiresApi(api = Build.VERSION_CODES.KITKAT)\npublic boolean onKeyDown (int keyCode, KeyEvent event) {\n    if (keyCode == KeyEvent.KEYCODE_BACK) {\n        String webUrl = myWebView.getUrl();\n        if (webUrl.indexOf(\"directory/url\") &lt; 0){\n\n                myWebView.loadUrl(\"url\");\n\n\n            return true;\n        }else {\n            myWebView.loadUrl(\"javascript:android();\");\n            return true;\n        }\n\n    }\n    return super.onKeyDown(keyCode, event);\n\n}\n\n\nprivate class MyChrome extends WebChromeClient {\n\n    private View mCustomView;\n    private WebChromeClient.CustomViewCallback mCustomViewCallback;\n    protected FrameLayout mFullscreenContainer;\n    private int mOriginalOrientation;\n    private int mOriginalSystemUiVisibility;\n\n    MyChrome() {}\n\n\n\n    public void onHideCustomView()\n    {\n        ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\n        this.mCustomView = null;\n        getWindow().getDecorView().setSystemUiVisibility(this.mOriginalSystemUiVisibility);\n        setRequestedOrientation(this.mOriginalOrientation);\n        this.mCustomViewCallback.onCustomViewHidden();\n        this.mCustomViewCallback = null;\n    }\n\n    public void onShowCustomView(View paramView, WebChromeClient.CustomViewCallback paramCustomViewCallback)\n    {\n        if (this.mCustomView != null)\n        {\n            onHideCustomView();\n            return;\n        }\n        this.mCustomView = paramView;\n        this.mOriginalSystemUiVisibility = getWindow().getDecorView().getSystemUiVisibility();\n        this.mOriginalOrientation = getRequestedOrientation();\n        this.mCustomViewCallback = paramCustomViewCallback;\n        ((FrameLayout)getWindow().getDecorView()).addView(this.mCustomView, new FrameLayout.LayoutParams(-1, -1));\n        getWindow().getDecorView().setSystemUiVisibility(3846);\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","comments"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":4,"creation_date":1398662608,"post_id":23333031,"comment_id":35728971,"body_markdown":"Why would you want to remove comments?","body":"Why would you want to remove comments?"},{"owner":{"account_id":3948755,"reputation":2180,"user_id":3260147,"accept_rate":50,"display_name":"Niraj Patel"},"score":0,"creation_date":1398662745,"post_id":23333031,"comment_id":35729014,"body_markdown":"Possible Duplicate of : http://stackoverflow.com/questions/9078528/tool-to-remove-javadoc-comments","body":"Possible Duplicate of : <a href=\"http://stackoverflow.com/questions/9078528/tool-to-remove-javadoc-comments\" title=\"tool to remove javadoc comments\">stackoverflow.com/questions/9078528/&hellip;</a>"},{"owner":{"account_id":186168,"reputation":1411,"user_id":423351,"display_name":"Jonathan Hult"},"score":0,"creation_date":1486504201,"post_id":23333031,"comment_id":71371513,"body_markdown":"Possible duplicate of [Tool to remove JavaDoc comments?](http://stackoverflow.com/questions/9078528/tool-to-remove-javadoc-comments)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/9078528/tool-to-remove-javadoc-comments\">Tool to remove JavaDoc comments?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2527746,"reputation":827,"user_id":2196751,"display_name":"Andrew Vitkus"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1398666796,"creation_date":1398666796,"answer_id":23334050,"question_id":23333031,"body_markdown":"I had to write somehting to do this a few weeks ago. This should handle all comments, nested or otherwise. It is long, but I haven&#39;t seen a regex version that handled nested comments properly. I didn&#39;t have to preserve javadoc, but I presume you do, so I added some code that I belive should handle that. I also added code to support the \\r\\n and \\r line separators. The new code is marked as such.\r\n\r\n    public static String removeComments(String code) {\r\n        StringBuilder newCode = new StringBuilder();\r\n        try (StringReader sr = new StringReader(code)) {\r\n            boolean inBlockComment = false;\r\n            boolean inLineComment = false;\r\n            boolean out = true;\r\n\r\n            int prev = sr.read();\r\n            int cur;\r\n            for(cur = sr.read(); cur != -1; cur = sr.read()) {\r\n                if(inBlockComment) {\r\n                    if (prev == &#39;*&#39; &amp;&amp; cur == &#39;/&#39;) {\r\n                        inBlockComment = false;\r\n                        out = false;\r\n                    }\r\n                } else if (inLineComment) {\r\n                    if (cur == &#39;\\r&#39;) { // start untested block\r\n                        sr.mark(1);\r\n                        int next = sr.read();\r\n                        if (next != &#39;\\n&#39;) {\r\n                            sr.reset();\r\n                        }\r\n                        inLineComment = false;\r\n                        out = false; // end untested block\r\n                    } else if (cur == &#39;\\n&#39;) {\r\n                        inLineComment = false;\r\n                        out = false;\r\n                    }\r\n                } else {\r\n                    if (prev == &#39;/&#39; &amp;&amp; cur == &#39;*&#39;) {\r\n                        sr.mark(1); // start untested block\r\n                        int next = sr.read();\r\n                        if (next != &#39;*&#39;) {\r\n                            inBlockComment = true; // tested line (without rest of block)\r\n                        }\r\n                        sr.reset(); // end untested block\r\n                    } else if (prev == &#39;/&#39; &amp;&amp; cur == &#39;/&#39;) {\r\n                        inLineComment = true;\r\n                    } else if (out){\r\n                        newCode.append((char)prev);\r\n                    } else {\r\n                        out = true;\r\n                    }\r\n                }\r\n                prev = cur;\r\n            }\r\n            if (prev != -1 &amp;&amp; out &amp;&amp; !inLineComment) {\r\n                newCode.append((char)prev);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return newCode.toString();\r\n    }","title":"Removing all types of comments in java file","body":"<p>I had to write somehting to do this a few weeks ago. This should handle all comments, nested or otherwise. It is long, but I haven't seen a regex version that handled nested comments properly. I didn't have to preserve javadoc, but I presume you do, so I added some code that I belive should handle that. I also added code to support the \\r\\n and \\r line separators. The new code is marked as such.</p>\n\n<pre><code>public static String removeComments(String code) {\n    StringBuilder newCode = new StringBuilder();\n    try (StringReader sr = new StringReader(code)) {\n        boolean inBlockComment = false;\n        boolean inLineComment = false;\n        boolean out = true;\n\n        int prev = sr.read();\n        int cur;\n        for(cur = sr.read(); cur != -1; cur = sr.read()) {\n            if(inBlockComment) {\n                if (prev == '*' &amp;&amp; cur == '/') {\n                    inBlockComment = false;\n                    out = false;\n                }\n            } else if (inLineComment) {\n                if (cur == '\\r') { // start untested block\n                    sr.mark(1);\n                    int next = sr.read();\n                    if (next != '\\n') {\n                        sr.reset();\n                    }\n                    inLineComment = false;\n                    out = false; // end untested block\n                } else if (cur == '\\n') {\n                    inLineComment = false;\n                    out = false;\n                }\n            } else {\n                if (prev == '/' &amp;&amp; cur == '*') {\n                    sr.mark(1); // start untested block\n                    int next = sr.read();\n                    if (next != '*') {\n                        inBlockComment = true; // tested line (without rest of block)\n                    }\n                    sr.reset(); // end untested block\n                } else if (prev == '/' &amp;&amp; cur == '/') {\n                    inLineComment = true;\n                } else if (out){\n                    newCode.append((char)prev);\n                } else {\n                    out = true;\n                }\n            }\n            prev = cur;\n        }\n        if (prev != -1 &amp;&amp; out &amp;&amp; !inLineComment) {\n            newCode.append((char)prev);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return newCode.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398667086,"creation_date":1398667086,"answer_id":23334124,"question_id":23333031,"body_markdown":"Dealing with source code is hard unless you know more on the writing of comment.\r\nIn the more general case, you could have // or /* in text constants. So your **really** need to parse the file at a syntaxic level, not only lexical. IMHO the only bulletproof solution would be to start for example with the java parser from [openjdk](http://openjdk.java.net/).\r\n\r\nIf you know that your comments are never deeply mixed with the code (in my exemple comments **MUST** be full lines), a python script could help\r\n\r\n    multiple = False\r\n    for line in text:\r\n        stripped = line.strip()\r\n        if multiple:\r\n            if stripped.endswith(&#39;*/&#39;):\r\n                multiple = False\r\n                continue\r\n        elif stripped.startswith(&#39;/*&#39;):\r\n            multiple = True\r\n        elif stripped.startswith(&#39;//&#39;):\r\n            pass\r\n        else:\r\n            print(line)","title":"Removing all types of comments in java file","body":"<p>Dealing with source code is hard unless you know more on the writing of comment.\nIn the more general case, you could have // or /* in text constants. So your <strong>really</strong> need to parse the file at a syntaxic level, not only lexical. IMHO the only bulletproof solution would be to start for example with the java parser from <a href=\"http://openjdk.java.net/\" rel=\"nofollow\">openjdk</a>.</p>\n\n<p>If you know that your comments are never deeply mixed with the code (in my exemple comments <strong>MUST</strong> be full lines), a python script could help</p>\n\n<pre><code>multiple = False\nfor line in text:\n    stripped = line.strip()\n    if multiple:\n        if stripped.endswith('*/'):\n            multiple = False\n            continue\n    elif stripped.startswith('/*'):\n        multiple = True\n    elif stripped.startswith('//'):\n        pass\n    else:\n        print(line)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4474787,"reputation":7719,"user_id":3640161,"accept_rate":61,"display_name":"Tiago Lopo"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1466065899,"creation_date":1406120974,"answer_id":24911378,"question_id":23333031,"body_markdown":"This is an old post but this may help someone who enjoys working on command line like myself:\r\n\r\nThe `perl` one-liner below will remove all comments:\r\n\r\n    perl -0pe &#39;s|//.*?\\n|\\n|g; s#/\\*(.|\\n)*?\\*/##g;&#39; test.java\r\n\r\n\r\nExample:\r\n\r\n    cat test.java\r\n    this is a test\r\n    \r\n    /**\r\n    *This should be removed\r\n    *This should be removed\r\n    */\r\n    \r\n    this should not be removed\r\n    \r\n    //this should be removed\r\n    \r\n    this should not be removed\r\n    \r\n    this should not be removed //this should be removed\r\n\r\nOutput:\r\n\r\n\r\n    perl -0pe &#39;s#/\\*\\*(.|\\n)*?\\*/##g; s|//.*?\\n|\\n|g&#39; test.java\r\n    this is a test\r\n    \r\n    \r\n    \r\n    this should not be removed\r\n    \r\n    \r\n    \r\n    this should not be removed\r\n    \r\n    this should not be removed \r\n\r\nIf you want get rid of multiple blank lines as well:\r\n\r\n    perl -0pe &#39;s|//.*?\\n|\\n|g; s#/\\*(.|\\n)*?\\*/##g; s/\\n\\n+/\\n\\n/g&#39; test.java\r\n    this is a test\r\n    \r\n    this should not be removed\r\n    \r\n    this should not be removed\r\n    \r\n    this should not be removed \r\n\r\n**EDIT:** Corrected regex\r\n","title":"Removing all types of comments in java file","body":"<p>This is an old post but this may help someone who enjoys working on command line like myself:</p>\n\n<p>The <code>perl</code> one-liner below will remove all comments:</p>\n\n<pre><code>perl -0pe 's|//.*?\\n|\\n|g; s#/\\*(.|\\n)*?\\*/##g;' test.java\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>cat test.java\nthis is a test\n\n/**\n*This should be removed\n*This should be removed\n*/\n\nthis should not be removed\n\n//this should be removed\n\nthis should not be removed\n\nthis should not be removed //this should be removed\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>perl -0pe 's#/\\*\\*(.|\\n)*?\\*/##g; s|//.*?\\n|\\n|g' test.java\nthis is a test\n\n\n\nthis should not be removed\n\n\n\nthis should not be removed\n\nthis should not be removed \n</code></pre>\n\n<p>If you want get rid of multiple blank lines as well:</p>\n\n<pre><code>perl -0pe 's|//.*?\\n|\\n|g; s#/\\*(.|\\n)*?\\*/##g; s/\\n\\n+/\\n\\n/g' test.java\nthis is a test\n\nthis should not be removed\n\nthis should not be removed\n\nthis should not be removed \n</code></pre>\n\n<p><strong>EDIT:</strong> Corrected regex</p>\n"},{"tags":[],"owner":{"account_id":2680344,"reputation":151,"user_id":2315838,"display_name":"Auslay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410346630,"creation_date":1410346630,"answer_id":25763616,"question_id":23333031,"body_markdown":"If you are using Eclipse IDE, you could make regex do the work for you.\r\n\r\nOpen the search window (Ctrl+F), and check &#39;Regular Expression&#39;.\r\n\r\nProvide the expression as\r\n`/\\*\\*(?s:(?!\\*/).)*\\*/`\r\n\r\nPrasanth Bhate has explained it in &lt;https://stackoverflow.com/questions/9078528/tool-to-remove-javadoc-comments&gt;","title":"Removing all types of comments in java file","body":"<p>If you are using Eclipse IDE, you could make regex do the work for you.</p>\n\n<p>Open the search window (Ctrl+F), and check 'Regular Expression'.</p>\n\n<p>Provide the expression as\n<code>/\\*\\*(?s:(?!\\*/).)*\\*/</code></p>\n\n<p>Prasanth Bhate has explained it in <a href=\"https://stackoverflow.com/questions/9078528/tool-to-remove-javadoc-comments\">Tool to remove JavaDoc comments?</a></p>\n"},{"tags":[],"owner":{"account_id":1009150,"reputation":3208,"user_id":1022119,"accept_rate":71,"display_name":"MartinL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1425051000,"creation_date":1425051000,"answer_id":28768637,"question_id":23333031,"body_markdown":"you can try it with the java-comment-preprocessor:\r\n\r\n    java -jar ./jcp-6.0.0.jar --i:/sourceFolder --o:/resultFolder -ef:none --r\r\n\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: https://code.google.com/p/java-comment-preprocessor/#OMG!_It_allows_to_remove_all_your_comments!","title":"Removing all types of comments in java file","body":"<p>you can try it with the java-comment-preprocessor:</p>\n\n<pre><code>java -jar ./jcp-6.0.0.jar --i:/sourceFolder --o:/resultFolder -ef:none --r\n</code></pre>\n\n<p><a href=\"https://code.google.com/p/java-comment-preprocessor/#OMG!_It_allows_to_remove_all_your_comments!\" rel=\"nofollow\">source</a></p>\n"},{"tags":[],"owner":{"account_id":2538282,"reputation":5161,"user_id":2204772,"accept_rate":84,"display_name":"Ertuğrul &#199;etin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436517067,"creation_date":1436517067,"answer_id":31336016,"question_id":23333031,"body_markdown":"I made a open source [library][1] and uploaded to github, its called CommentRemover you can remove single line and multiple line Java Comments.\r\n\r\nIt supports remove or NOT remove TODO&#39;s.&lt;br&gt;\r\nAlso it supports JavaScript , HTML , CSS , Properties , JSP and XML Comments too.\r\n\r\n\r\nThere is a little code snippet how to use it (There is 2 type usage):\r\n\r\nFirst way InternalPath\r\n\r\n     public static void main(String[] args) throws CommentRemoverException {\r\n    \r\n     // root dir is: /Users/user/Projects/MyProject\r\n     // example for startInternalPath\r\n    \r\n     CommentRemover commentRemover = new CommentRemover.CommentRemoverBuilder()\r\n            .removeJava(true) // Remove Java file Comments....\r\n            .removeJavaScript(true) // Remove JavaScript file Comments....\r\n            .removeJSP(true) // etc.. goes like that\r\n            .removeTodos(false) //  Do Not Touch Todos (leave them alone)\r\n            .removeSingleLines(true) // Remove single line type comments\r\n            .removeMultiLines(true) // Remove multiple type comments\r\n            .startInternalPath(&quot;src.main.app&quot;) // Starts from {rootDir}/src/main/app , leave it empty string when you want to start from root dir\r\n            .setExcludePackages(new String[]{&quot;src.main.java.app.pattern&quot;}) // Refers to {rootDir}/src/main/java/app/pattern and skips this directory\r\n            .build();\r\n    \r\n     CommentProcessor commentProcessor = new CommentProcessor(commentRemover);\r\n                      commentProcessor.start();        \r\n      }\r\n\r\n\r\nSecond way ExternalPath\r\n\r\n     public static void main(String[] args) throws CommentRemoverException {\r\n    \r\n     // example for externalInternalPath\r\n    \r\n     CommentRemover commentRemover = new CommentRemover.CommentRemoverBuilder()\r\n            .removeJava(true) // Remove Java file Comments....\r\n            .removeJavaScript(true) // Remove JavaScript file Comments....\r\n            .removeJSP(true) // etc..\r\n            .removeTodos(true) // Remove todos\r\n            .removeSingleLines(false) // Do not remove single line type comments\r\n            .removeMultiLines(true) // Remove multiple type comments\r\n            .startExternalPath(&quot;/Users/user/Projects/MyOtherProject&quot;)// Give it full path for external directories\r\n            .setExcludePackages(new String[]{&quot;src.main.java.model&quot;}) // Refers to /Users/user/Projects/MyOtherProject/src/main/java/model and skips this directory.\r\n            .build();\r\n    \r\n     CommentProcessor commentProcessor = new CommentProcessor(commentRemover);\r\n                      commentProcessor.start();        \r\n      }\r\n\r\n  [1]: https://github.com/ertugrulcetin/CommentRemover","title":"Removing all types of comments in java file","body":"<p>I made a open source <a href=\"https://github.com/ertugrulcetin/CommentRemover\" rel=\"nofollow\">library</a> and uploaded to github, its called CommentRemover you can remove single line and multiple line Java Comments.</p>\n\n<p>It supports remove or NOT remove TODO's.<br>\nAlso it supports JavaScript , HTML , CSS , Properties , JSP and XML Comments too.</p>\n\n<p>There is a little code snippet how to use it (There is 2 type usage):</p>\n\n<p>First way InternalPath</p>\n\n<pre><code> public static void main(String[] args) throws CommentRemoverException {\n\n // root dir is: /Users/user/Projects/MyProject\n // example for startInternalPath\n\n CommentRemover commentRemover = new CommentRemover.CommentRemoverBuilder()\n        .removeJava(true) // Remove Java file Comments....\n        .removeJavaScript(true) // Remove JavaScript file Comments....\n        .removeJSP(true) // etc.. goes like that\n        .removeTodos(false) //  Do Not Touch Todos (leave them alone)\n        .removeSingleLines(true) // Remove single line type comments\n        .removeMultiLines(true) // Remove multiple type comments\n        .startInternalPath(\"src.main.app\") // Starts from {rootDir}/src/main/app , leave it empty string when you want to start from root dir\n        .setExcludePackages(new String[]{\"src.main.java.app.pattern\"}) // Refers to {rootDir}/src/main/java/app/pattern and skips this directory\n        .build();\n\n CommentProcessor commentProcessor = new CommentProcessor(commentRemover);\n                  commentProcessor.start();        \n  }\n</code></pre>\n\n<p>Second way ExternalPath</p>\n\n<pre><code> public static void main(String[] args) throws CommentRemoverException {\n\n // example for externalInternalPath\n\n CommentRemover commentRemover = new CommentRemover.CommentRemoverBuilder()\n        .removeJava(true) // Remove Java file Comments....\n        .removeJavaScript(true) // Remove JavaScript file Comments....\n        .removeJSP(true) // etc..\n        .removeTodos(true) // Remove todos\n        .removeSingleLines(false) // Do not remove single line type comments\n        .removeMultiLines(true) // Remove multiple type comments\n        .startExternalPath(\"/Users/user/Projects/MyOtherProject\")// Give it full path for external directories\n        .setExcludePackages(new String[]{\"src.main.java.model\"}) // Refers to /Users/user/Projects/MyOtherProject/src/main/java/model and skips this directory.\n        .build();\n\n CommentProcessor commentProcessor = new CommentProcessor(commentRemover);\n                  commentProcessor.start();        \n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7074805,"reputation":1890,"user_id":5415234,"display_name":"Bernhard Stadler"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1596466965,"creation_date":1444158699,"answer_id":32977808,"question_id":23333031,"body_markdown":"You can remove all single- or multi-line block comments (but not line comments with &lt;code&gt;//&lt;/code&gt;) by searching for the following regular expression in your project(s)/file(s) and replacing by &lt;code&gt;$1&lt;/code&gt;:\r\n\r\n&lt;code&gt;^([^&quot;\\r\\n]\\*?(?:(?&amp;lt;=&#39;)&quot;[^&quot;\\r\\n]\\*?|(?&amp;lt;!&#39;)&quot;[^&quot;\\r\\n]\\*?&quot;[^&quot;\\r\\n]\\*?)\\*?)(?&amp;lt;!/)/\\\\\\*[^\\\\\\*]*(?:\\\\\\*+[^/][^\\\\\\*]\\*)\\*?\\\\\\*+/&lt;/code&gt;\r\n\r\nIt&#39;s possible that you have to execute it more than once.\r\n\r\nThis regular expression avoids the following pitfalls:\r\n\r\n1. Code between two comments &lt;code&gt;/* Comment 1 \\*/ foo(); /* Comment 2 \\*/&lt;/code&gt;\r\n\r\n2. Line comments starting with an asterisk: &lt;code&gt;//\\*\\*\\*NOTE\\*\\*\\*&lt;/code&gt;\r\n\r\n3. Comment delimiters inside string literals: &lt;code&gt;stringbuilder.append(&quot;/\\*&quot;);&lt;/code&gt;; also if there is a double quote inside single quotes before the comment\r\n\r\n\r\n\r\nTo remove all single-line comments, search for the following regular expression in your project(s)/file(s) and replace by &lt;code&gt;$1&lt;/code&gt;:\r\n\r\n&lt;code&gt;^([^&quot;\\r\\n]\\*?(?:(?&amp;lt;=&#39;)&quot;[^&quot;\\r\\n]\\*?|(?&amp;lt;!&#39;)&quot;[^&quot;\\r\\n]\\*?&quot;[^&quot;\\r\\n]\\*?)*?)\\s\\*//[^\\r\\n]\\*&lt;/code&gt;\r\n\r\nThis regular expression also avoids comment delimiters inside double quotes, but does NOT check for multi-line comments, so &lt;code&gt;/\\* // \\*/&lt;/code&gt; will be incorrectly removed.\r\n","title":"Removing all types of comments in java file","body":"<p>You can remove all single- or multi-line block comments (but not line comments with <code>//</code>) by searching for the following regular expression in your project(s)/file(s) and replacing by <code>$1</code>:</p>\n<p><code>^([^&quot;\\r\\n]*?(?:(?&lt;=')&quot;[^&quot;\\r\\n]*?|(?&lt;!')&quot;[^&quot;\\r\\n]*?&quot;[^&quot;\\r\\n]*?)*?)(?&lt;!/)/\\*[^\\*]*(?:\\*+[^/][^\\*]*)*?\\*+/</code></p>\n<p>It's possible that you have to execute it more than once.</p>\n<p>This regular expression avoids the following pitfalls:</p>\n<ol>\n<li><p>Code between two comments <code>/* Comment 1 */ foo(); /* Comment 2 */</code></p>\n</li>\n<li><p>Line comments starting with an asterisk: <code>//***NOTE***</code></p>\n</li>\n<li><p>Comment delimiters inside string literals: <code>stringbuilder.append(&quot;/*&quot;);</code>; also if there is a double quote inside single quotes before the comment</p>\n</li>\n</ol>\n<p>To remove all single-line comments, search for the following regular expression in your project(s)/file(s) and replace by <code>$1</code>:</p>\n<p><code>^([^&quot;\\r\\n]*?(?:(?&lt;=')&quot;[^&quot;\\r\\n]*?|(?&lt;!')&quot;[^&quot;\\r\\n]*?&quot;[^&quot;\\r\\n]*?)*?)\\s*//[^\\r\\n]*</code></p>\n<p>This regular expression also avoids comment delimiters inside double quotes, but does NOT check for multi-line comments, so <code>/* // */</code> will be incorrectly removed.</p>\n"},{"tags":[],"owner":{"account_id":6163593,"reputation":443,"user_id":4804346,"accept_rate":50,"display_name":"Nabuska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447354472,"creation_date":1447353887,"answer_id":33678949,"question_id":23333031,"body_markdown":"This is what I came up with yesterday. \r\nThis is actually homework I got from school so if anybody reads this and finds a bug before I turn it in, please leave a comment =) \r\n\r\nps. &#39;FilterState&#39; is a enum class\r\n\r\n    public static String deleteComments(String javaCode) {\r\n        FilterState state = FilterState.IN_CODE;\r\n\r\n        StringBuilder strB = new StringBuilder();\r\n\r\n        char prevC=&#39; &#39;;\r\n        for(int i = 0; i&lt;javaCode.length(); i++){\r\n            char c = javaCode.charAt(i);\r\n            switch(state){\r\n                case IN_CODE:\r\n                    if(c==&#39;/&#39;)\r\n                        state = FilterState.CAN_BE_COMMENT_START;\r\n                    else {\r\n                        if (c == &#39;&quot;&#39;)\r\n                            state = FilterState.INSIDE_STRING;\r\n                        strB.append(c);\r\n                    }\r\n                    break;\r\n                case CAN_BE_COMMENT_START:\r\n                    if(c==&#39;*&#39;){\r\n                        state = FilterState.IN_COMMENT_BLOCK;\r\n                    }\r\n                    else if(c==&#39;/&#39;){\r\n                        state = FilterState.ON_COMMENT_LINE;\r\n                    }\r\n                    else {\r\n                        state = FilterState.IN_CODE;\r\n                        strB.append(prevC+c);\r\n                    }\r\n                    break;\r\n                case ON_COMMENT_LINE:\r\n                    if(c==&#39;\\n&#39; || c==&#39;\\r&#39;) {\r\n                        state = FilterState.IN_CODE;\r\n                        strB.append(c);\r\n                    }\r\n                    break;\r\n                case IN_COMMENT_BLOCK:\r\n                    if(c==&#39;*&#39;)\r\n                        state=FilterState.CAN_BE_COMMENT_END;\r\n                    break;\r\n                case CAN_BE_COMMENT_END:\r\n                    if(c==&#39;/&#39;)\r\n                        state = FilterState.IN_CODE;\r\n                    else if(c!=&#39;*&#39;)\r\n                        state = FilterState.IN_COMMENT_BLOCK;\r\n                    break;\r\n                case INSIDE_STRING:\r\n                    if(c == &#39;&quot;&#39; &amp;&amp; prevC!=&#39;\\\\&#39;)\r\n                        state = FilterState.IN_CODE;\r\n                    strB.append(c);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;unknown case&quot;);\r\n                    return null;\r\n            }\r\n            prevC = c;\r\n        }\r\n        return strB.toString();\r\n    }","title":"Removing all types of comments in java file","body":"<p>This is what I came up with yesterday. \nThis is actually homework I got from school so if anybody reads this and finds a bug before I turn it in, please leave a comment =) </p>\n\n<p>ps. 'FilterState' is a enum class</p>\n\n<pre><code>public static String deleteComments(String javaCode) {\n    FilterState state = FilterState.IN_CODE;\n\n    StringBuilder strB = new StringBuilder();\n\n    char prevC=' ';\n    for(int i = 0; i&lt;javaCode.length(); i++){\n        char c = javaCode.charAt(i);\n        switch(state){\n            case IN_CODE:\n                if(c=='/')\n                    state = FilterState.CAN_BE_COMMENT_START;\n                else {\n                    if (c == '\"')\n                        state = FilterState.INSIDE_STRING;\n                    strB.append(c);\n                }\n                break;\n            case CAN_BE_COMMENT_START:\n                if(c=='*'){\n                    state = FilterState.IN_COMMENT_BLOCK;\n                }\n                else if(c=='/'){\n                    state = FilterState.ON_COMMENT_LINE;\n                }\n                else {\n                    state = FilterState.IN_CODE;\n                    strB.append(prevC+c);\n                }\n                break;\n            case ON_COMMENT_LINE:\n                if(c=='\\n' || c=='\\r') {\n                    state = FilterState.IN_CODE;\n                    strB.append(c);\n                }\n                break;\n            case IN_COMMENT_BLOCK:\n                if(c=='*')\n                    state=FilterState.CAN_BE_COMMENT_END;\n                break;\n            case CAN_BE_COMMENT_END:\n                if(c=='/')\n                    state = FilterState.IN_CODE;\n                else if(c!='*')\n                    state = FilterState.IN_COMMENT_BLOCK;\n                break;\n            case INSIDE_STRING:\n                if(c == '\"' &amp;&amp; prevC!='\\\\')\n                    state = FilterState.IN_CODE;\n                strB.append(c);\n                break;\n            default:\n                System.out.println(\"unknown case\");\n                return null;\n        }\n        prevC = c;\n    }\n    return strB.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10277774,"reputation":33,"user_id":7584047,"display_name":"Ankit Arora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514969271,"creation_date":1514967561,"answer_id":48073605,"question_id":23333031,"body_markdown":"\r\npublic class TestForStrings {\r\n\r\n\t/**\r\n\t * The main method.\r\n\t *\r\n\t * @param args\r\n\t *            the arguments\r\n\t * @throws Exception\r\n\t *             the exception\r\n\t */\r\n\tpublic static void main(String args[]) throws Exception {\r\n\r\n\t\tString[] imports = new String[100];\r\n\t\tString fileName = &quot;Menu.java&quot;;\r\n\t\t// This will reference one API at a time\r\n\t\tString line = null;\r\n\t\ttry {\r\n\t\t\tFileReader fileReader = new FileReader(fileName);\r\n\t\t\t// Always wrap FileReader in BufferedReader.\r\n\t\t\tBufferedReader bufferedReader = new BufferedReader(fileReader);\r\n\t\t\tint startingOffset = 0;\r\n\r\n\t\t\t// This will reference one API at a time\r\n\r\n\t\t\tList&lt;String&gt; lines = Files.readAllLines(Paths.get(fileName),\r\n\t\t\t\t\tCharset.forName(&quot;ISO-8859-1&quot;));\r\n\r\n\t\t\t// remove single line comments\r\n\t\t\tfor (int count = 0; count &lt; lines.size(); count++) {\r\n\t\t\t\tString tempString = lines.get(count);\r\n\r\n\t\t\t\tlines.set(count, removeSingleLineComment(tempString));\r\n\r\n\t\t\t}\r\n\t\t\t// remove multiple lines comment\r\n\t\t\tfor (int count = 0; count &lt; lines.size(); count++) {\r\n\t\t\t\tString tempString = lines.get(count);\r\n\r\n\t\t\t\tremoveMultipleLineComment(tempString, count, lines);\r\n\t\t\t}\r\n\r\n\t\t\tfor (int count = 0; count &lt; lines.size(); count++) {\r\n\t\t\t\tSystem.out.println(lines.get(count));\r\n\t\t\t}\r\n\t\t} catch (FileNotFoundException ex) {\r\n\t\t\tSystem.out.println(&quot;Unable to open file &#39;&quot; + fileName + &quot;&#39;&quot;);\r\n\t\t} catch (IOException ex) {\r\n\t\t\tSystem.out.println(&quot;Error reading file &#39;&quot; + fileName + &quot;&#39;&quot;);\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Removes the multiple line comment.\r\n\t *\r\n\t * @param tempString\r\n\t *            the temp string\r\n\t * @param count\r\n\t *            the count\r\n\t * @param lines\r\n\t *            the lines\r\n\t * @return the string\r\n\t */\r\n\tprivate static List&lt;String&gt; removeMultipleLineComment(String tempString,\r\n\t\t\tint count, List&lt;String&gt; lines) {\r\n\t\ttry {\r\n\t\t\tif (tempString.contains(&quot;/**&quot;) || (tempString.contains(&quot;/*&quot;))) {\r\n\t\t\t\tint StartIndex = count;\r\n\t\t\t\twhile (!(lines.get(count).contains(&quot;*/&quot;) || lines.get(count)\r\n\t\t\t\t\t\t.contains(&quot;**/&quot;))) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t\tint endIndex = ++count;\r\n\t\t\t\tif (StartIndex != endIndex) {\r\n\t\t\t\t\twhile (StartIndex != endIndex) {\r\n\t\t\t\t\t\tlines.set(StartIndex, &quot;&quot;);\r\n\t\t\t\t\t\tStartIndex++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\t// Do Nothing\r\n\t\t}\r\n\t\treturn lines;\r\n\t}\r\n\r\n\t/**\r\n\t * Remove single line comments .\r\n\t *\r\n\t * @param line\r\n\t *            the line\r\n\t * @return the string\r\n\t * @throws Exception\r\n\t *             the exception\r\n\t */\r\n\r\n\tprivate static String removeSingleLineComment(String line) throws Exception {\r\n\t\ttry {\r\n\t\t\tif (line.contains((&quot;//&quot;))) {\r\n\t\t\t\tint startIndex = line.indexOf(&quot;//&quot;);\r\n\t\t\t\tint endIndex = line.length();\r\n\t\t\t\tString tempoString = line.substring(startIndex, endIndex);\r\n\t\t\t\tline = line.replace(tempoString, &quot;&quot;);\r\n\t\t\t}\r\n\t\t\tif ((line.contains(&quot;/*&quot;) || line.contains(&quot;/**&quot;))\r\n\t\t\t\t\t&amp;&amp; (line.contains(&quot;**/&quot;) || line.contains(&quot;*/&quot;))) {\r\n\t\t\t\tint startIndex = line.indexOf(&quot;/**&quot;);\r\n\t\t\t\tint endIndex = line.length();\r\n\t\t\t\tString tempoString = line.substring(startIndex, endIndex);\r\n\r\n\t\t\t\tline = line.replace(tempoString, &quot;&quot;);\r\n\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\t// Do Nothing\r\n\t\t}\r\n\t\treturn line;\r\n\t}\r\n}\r\n","title":"Removing all types of comments in java file","body":"<p>public class TestForStrings {</p>\n\n<pre><code>/**\n * The main method.\n *\n * @param args\n *            the arguments\n * @throws Exception\n *             the exception\n */\npublic static void main(String args[]) throws Exception {\n\n    String[] imports = new String[100];\n    String fileName = \"Menu.java\";\n    // This will reference one API at a time\n    String line = null;\n    try {\n        FileReader fileReader = new FileReader(fileName);\n        // Always wrap FileReader in BufferedReader.\n        BufferedReader bufferedReader = new BufferedReader(fileReader);\n        int startingOffset = 0;\n\n        // This will reference one API at a time\n\n        List&lt;String&gt; lines = Files.readAllLines(Paths.get(fileName),\n                Charset.forName(\"ISO-8859-1\"));\n\n        // remove single line comments\n        for (int count = 0; count &lt; lines.size(); count++) {\n            String tempString = lines.get(count);\n\n            lines.set(count, removeSingleLineComment(tempString));\n\n        }\n        // remove multiple lines comment\n        for (int count = 0; count &lt; lines.size(); count++) {\n            String tempString = lines.get(count);\n\n            removeMultipleLineComment(tempString, count, lines);\n        }\n\n        for (int count = 0; count &lt; lines.size(); count++) {\n            System.out.println(lines.get(count));\n        }\n    } catch (FileNotFoundException ex) {\n        System.out.println(\"Unable to open file '\" + fileName + \"'\");\n    } catch (IOException ex) {\n        System.out.println(\"Error reading file '\" + fileName + \"'\");\n    } catch (Exception e) {\n\n    }\n\n}\n\n/**\n * Removes the multiple line comment.\n *\n * @param tempString\n *            the temp string\n * @param count\n *            the count\n * @param lines\n *            the lines\n * @return the string\n */\nprivate static List&lt;String&gt; removeMultipleLineComment(String tempString,\n        int count, List&lt;String&gt; lines) {\n    try {\n        if (tempString.contains(\"/**\") || (tempString.contains(\"/*\"))) {\n            int StartIndex = count;\n            while (!(lines.get(count).contains(\"*/\") || lines.get(count)\n                    .contains(\"**/\"))) {\n                count++;\n            }\n            int endIndex = ++count;\n            if (StartIndex != endIndex) {\n                while (StartIndex != endIndex) {\n                    lines.set(StartIndex, \"\");\n                    StartIndex++;\n                }\n            }\n        }\n\n    } catch (Exception e) {\n        // Do Nothing\n    }\n    return lines;\n}\n\n/**\n * Remove single line comments .\n *\n * @param line\n *            the line\n * @return the string\n * @throws Exception\n *             the exception\n */\n\nprivate static String removeSingleLineComment(String line) throws Exception {\n    try {\n        if (line.contains((\"//\"))) {\n            int startIndex = line.indexOf(\"//\");\n            int endIndex = line.length();\n            String tempoString = line.substring(startIndex, endIndex);\n            line = line.replace(tempoString, \"\");\n        }\n        if ((line.contains(\"/*\") || line.contains(\"/**\"))\n                &amp;&amp; (line.contains(\"**/\") || line.contains(\"*/\"))) {\n            int startIndex = line.indexOf(\"/**\");\n            int endIndex = line.length();\n            String tempoString = line.substring(startIndex, endIndex);\n\n            line = line.replace(tempoString, \"\");\n\n        }\n\n    } catch (Exception e) {\n        // Do Nothing\n    }\n    return line;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":19186838,"reputation":11,"user_id":14017449,"display_name":"Kalju P&#228;rn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660737173,"creation_date":1660735117,"answer_id":73387548,"question_id":23333031,"body_markdown":"        private static int find(String s, String t, int start) {\r\n        int ret = s.indexOf(t, start);\r\n        return ret &lt; 0 ? Integer.MAX_VALUE : ret;\r\n    }\r\n    private static int findSkipEsc(String s, String t, int start) {\r\n        while(true) {\r\n            int ret = find(s, t, start);\r\n            if( ret == Integer.MAX_VALUE) return -1;\r\n            int esc = find(s, &quot;\\\\&quot;, start);\r\n            if( esc &gt; ret) return ret;\r\n            start += 2;\r\n        }\r\n    }\r\n\r\n    private static String removeLineCommnt(String s) {\r\n        int i, start = 0;\r\n        while (0 &lt;= (i = find(s, &quot;//&quot;, start))) { //Speed it up\r\n            int j = find(s, &quot;&#39;&quot;, start);\r\n            int k = find(s, &quot;\\&quot;&quot;, start);\r\n            int first = min(i, min(j, k));\r\n            if (first == Integer.MAX_VALUE) return s;\r\n            if (i == first) return s.substring(0, i);\r\n            //skipp quoted string\r\n            start = first+1;\r\n            if (k == first) { // &quot; asdas\\&quot;dasd &quot;\r\n                start = findSkipEsc(s,&quot;\\&quot;&quot;,start);\r\n                if (start &lt; 0) return s;\r\n                start++;\r\n                continue;\r\n            }\r\n            //if j == first &#39; asda\\&#39;sasd &#39; --- not in JSON\r\n            start = findSkipEsc(s,&quot;&#39;\\&quot;&#39;&quot;,start);\r\n            if (start &lt; 0) return s;\r\n            start++;\r\n        }\r\n        return s;\r\n    }\r\n\r\n    static String removeLineCommnts(String s) {\r\n        if (!s.contains(&quot;//&quot;)) return s; //Speed it up\r\n        return Arrays.stream(s.split(&quot;[\\\\n\\\\r]+&quot;)).\r\n                map(Common::removeLineCommnt).\r\n                collect(Collectors.joining(&quot;\\n&quot;)); \r\n    }\r\n","title":"Removing all types of comments in java file","body":"<pre><code>    private static int find(String s, String t, int start) {\n    int ret = s.indexOf(t, start);\n    return ret &lt; 0 ? Integer.MAX_VALUE : ret;\n}\nprivate static int findSkipEsc(String s, String t, int start) {\n    while(true) {\n        int ret = find(s, t, start);\n        if( ret == Integer.MAX_VALUE) return -1;\n        int esc = find(s, &quot;\\\\&quot;, start);\n        if( esc &gt; ret) return ret;\n        start += 2;\n    }\n}\n\nprivate static String removeLineCommnt(String s) {\n    int i, start = 0;\n    while (0 &lt;= (i = find(s, &quot;//&quot;, start))) { //Speed it up\n        int j = find(s, &quot;'&quot;, start);\n        int k = find(s, &quot;\\&quot;&quot;, start);\n        int first = min(i, min(j, k));\n        if (first == Integer.MAX_VALUE) return s;\n        if (i == first) return s.substring(0, i);\n        //skipp quoted string\n        start = first+1;\n        if (k == first) { // &quot; asdas\\&quot;dasd &quot;\n            start = findSkipEsc(s,&quot;\\&quot;&quot;,start);\n            if (start &lt; 0) return s;\n            start++;\n            continue;\n        }\n        //if j == first ' asda\\'sasd ' --- not in JSON\n        start = findSkipEsc(s,&quot;'\\&quot;'&quot;,start);\n        if (start &lt; 0) return s;\n        start++;\n    }\n    return s;\n}\n\nstatic String removeLineCommnts(String s) {\n    if (!s.contains(&quot;//&quot;)) return s; //Speed it up\n    return Arrays.stream(s.split(&quot;[\\\\n\\\\r]+&quot;)).\n            map(Common::removeLineCommnt).\n            collect(Collectors.joining(&quot;\\n&quot;)); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2509589,"reputation":21,"user_id":2182399,"display_name":"bobincman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683846420,"creation_date":1683846420,"answer_id":76232141,"question_id":23333031,"body_markdown":"@Andrew-Vitkus &#39;s answer was pretty close, but had some bugs (removing the character before /, for example  dd/mm/yyyy became d/m/yyyy) but here&#39;s the cleaner version which RETAINS THE NUMBER OF LINES in the source file. \r\n\r\n    public static String removeComments(String code) {\r\n\r\n        StringBuilder cc = new StringBuilder();\r\n\r\n        try (StringReader sr = new StringReader(code)) {\r\n\r\n            boolean inBlockComment = false;\r\n            boolean inLineComment = false;\r\n            boolean out = true;\r\n\r\n            int prev = sr.read();\r\n            int cur;\r\n        \r\n            for(cur = sr.read(); cur != -1; cur = sr.read()) {\r\n\r\n                if(inBlockComment) {\r\n                    if (prev == &#39;*&#39; &amp;&amp; cur == &#39;/&#39;) {\r\n                        inBlockComment = false;\r\n                        out = false;\r\n                    } else if (cur == &#39;\\r&#39; || cur == &#39;\\n&#39;) {\r\n                        //keep these to retain line breaks\r\n                        cc.append((char)cur);\r\n                    }\r\n                } else if (inLineComment) {\r\n                    if (cur == &#39;\\n&#39;) {\r\n                        if (prev == &#39;\\r&#39;){\r\n                            cc.append(&#39;\\r&#39;);\r\n                        }\r\n                        inLineComment = false;\r\n                        out = true; //allows \\n to be added\r\n                    }\r\n                } else {\r\n                    if (cur == &#39;/&#39;){\r\n                        sr.mark(1); // start untested block\r\n                        int next = sr.read();\r\n                        if (next == &#39;*&#39;) {\r\n                            inBlockComment = true; \r\n                        } else if (next == &#39;/&#39;){\r\n                            inLineComment = true; \r\n                        }\r\n                        sr.reset(); // end untested block\r\n\r\n                        cc.append((char)prev);//add this char in all cases\r\n\r\n                    } else if (out){\r\n                        cc.append((char)prev);\r\n                    } else {\r\n                        out = true;\r\n                    }\r\n                }\r\n                prev = cur;\r\n            }\r\n        \r\n            if (prev != -1 &amp;&amp; out &amp;&amp; !inLineComment &amp;&amp; !inBlockComment) {\r\n                cc.append((char)prev);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return cc.toString();\r\n    }","title":"Removing all types of comments in java file","body":"<p>@Andrew-Vitkus 's answer was pretty close, but had some bugs (removing the character before /, for example  dd/mm/yyyy became d/m/yyyy) but here's the cleaner version which RETAINS THE NUMBER OF LINES in the source file.</p>\n<pre><code>public static String removeComments(String code) {\n\n    StringBuilder cc = new StringBuilder();\n\n    try (StringReader sr = new StringReader(code)) {\n\n        boolean inBlockComment = false;\n        boolean inLineComment = false;\n        boolean out = true;\n\n        int prev = sr.read();\n        int cur;\n    \n        for(cur = sr.read(); cur != -1; cur = sr.read()) {\n\n            if(inBlockComment) {\n                if (prev == '*' &amp;&amp; cur == '/') {\n                    inBlockComment = false;\n                    out = false;\n                } else if (cur == '\\r' || cur == '\\n') {\n                    //keep these to retain line breaks\n                    cc.append((char)cur);\n                }\n            } else if (inLineComment) {\n                if (cur == '\\n') {\n                    if (prev == '\\r'){\n                        cc.append('\\r');\n                    }\n                    inLineComment = false;\n                    out = true; //allows \\n to be added\n                }\n            } else {\n                if (cur == '/'){\n                    sr.mark(1); // start untested block\n                    int next = sr.read();\n                    if (next == '*') {\n                        inBlockComment = true; \n                    } else if (next == '/'){\n                        inLineComment = true; \n                    }\n                    sr.reset(); // end untested block\n\n                    cc.append((char)prev);//add this char in all cases\n\n                } else if (out){\n                    cc.append((char)prev);\n                } else {\n                    out = true;\n                }\n            }\n            prev = cur;\n        }\n    \n        if (prev != -1 &amp;&amp; out &amp;&amp; !inLineComment &amp;&amp; !inBlockComment) {\n            cc.append((char)prev);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return cc.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":1979751,"reputation":180,"user_id":1776652,"accept_rate":67,"display_name":"haripcce"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26079,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"answer_count":11,"score":8,"last_activity_date":1683846420,"creation_date":1398662491,"question_id":23333031,"body_markdown":"I have a java project and i have used comments in many location in various java files in the project. Now i need to remove all type of comments : single line , multiple line comments . \r\nPlease provide automation for removing comments. using tools or in eclipse etc.\r\n\r\nCurrently i am manually trying to remove all commetns","title":"Removing all types of comments in java file","body":"<p>I have a java project and i have used comments in many location in various java files in the project. Now i need to remove all type of comments : single line , multiple line comments . \nPlease provide automation for removing comments. using tools or in eclipse etc.</p>\n\n<p>Currently i am manually trying to remove all commetns</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1683845523,"post_id":76232080,"comment_id":134433161,"body_markdown":"Stop trying to make the window the right size, instead, provide appropriate sizing hints from the content itself and then `pack` the window around the content.  &quot;How&quot; you do this will depend greatly on you overall implementation","body":"Stop trying to make the window the right size, instead, provide appropriate sizing hints from the content itself and then <code>pack</code> the window around the content.  &quot;How&quot; you do this will depend greatly on you overall implementation"},{"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"score":0,"creation_date":1683845654,"post_id":76232080,"comment_id":134433182,"body_markdown":"Umm, im basically trying to create an 8x8 chess board with squares of sizes 80x80. So the sizes should be 640x640 obv... im kinda new to Swing in java, so can u explain more about what u just said or give a reference to a resource i can use?","body":"Umm, im basically trying to create an 8x8 chess board with squares of sizes 80x80. So the sizes should be 640x640 obv... im kinda new to Swing in java, so can u explain more about what u just said or give a reference to a resource i can use?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1683845729,"post_id":76232080,"comment_id":134433192,"body_markdown":"Sure, but are you using components to generate that grid or custom painting?","body":"Sure, but are you using components to generate that grid or custom painting?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683846272,"creation_date":1683846272,"answer_id":76232131,"question_id":76232080,"body_markdown":"The answer is, it depends.\r\n\r\n`JFrame#pack` will &quot;pack&quot; the window decorations around the viewable content based on the &quot;preferred&quot; size of the content as determined by the layout manager API.\r\n\r\nSo, if you using some kind of custom component to generate the cells, then you will need to provide appropriate sizing hints, for example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new Board());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class Board extends JPanel {\r\n            public Board() {\r\n                setLayout(new GridLayout(8, 8));\r\n                for (int row = 0; row &lt; 8; row++) {\r\n                    int cellIndex = (row % 2 == 0) ? 0 : 1;\r\n                    for (int col = 0; col &lt; 8; col++) {\r\n                        Cell cell = new Cell();\r\n                        cell.setBackground((cellIndex % 2 == 0) ? Color.WHITE : Color.BLACK);\r\n                        add(cell);\r\n                        cellIndex++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        public class Cell extends JPanel {\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(80, 80);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7RAT7.png\r\n\r\nNow, this will allow the window to be resized and for the cells to become unevenly sized.  You could fix this by adding `frame.setLayout(new GridBagLayout());` before `frame.add(new Board());`, but also remember, components have a &quot;minimum&quot; size, so you might be surprised if you size the window smaller","title":"Java JFrame.setSize giving wrong size","body":"<p>The answer is, it depends.</p>\n<p><code>JFrame#pack</code> will &quot;pack&quot; the window decorations around the viewable content based on the &quot;preferred&quot; size of the content as determined by the layout manager API.</p>\n<p>So, if you using some kind of custom component to generate the cells, then you will need to provide appropriate sizing hints, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/7RAT7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7RAT7.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new Board());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class Board extends JPanel {\n        public Board() {\n            setLayout(new GridLayout(8, 8));\n            for (int row = 0; row &lt; 8; row++) {\n                int cellIndex = (row % 2 == 0) ? 0 : 1;\n                for (int col = 0; col &lt; 8; col++) {\n                    Cell cell = new Cell();\n                    cell.setBackground((cellIndex % 2 == 0) ? Color.WHITE : Color.BLACK);\n                    add(cell);\n                    cellIndex++;\n                }\n            }\n        }\n    }\n\n    public class Cell extends JPanel {\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(80, 80);\n        }\n    }\n}\n</code></pre>\n<p>Now, this will allow the window to be resized and for the cells to become unevenly sized.  You could fix this by adding <code>frame.setLayout(new GridBagLayout());</code> before <code>frame.add(new Board());</code>, but also remember, components have a &quot;minimum&quot; size, so you might be surprised if you size the window smaller</p>\n"}],"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683846272,"creation_date":1683845347,"question_id":76232080,"body_markdown":"I&#39;m trying to create a window using the swing library in java.\r\nEverything works fine, except for one minor (but very annoying) issue:\r\n\r\n```\r\nprivate void init()\r\n    {\r\n        board = new Board();\r\n        currTurn = Piece.WHITE;\r\n        movesPlayed = new ArrayList&lt;Move&gt;();\r\n\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame(&quot;Chessboard&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n            frame.setSize(640, 640);\r\n            frame.setResizable(false);  \r\n            frame.setLocationRelativeTo(null);\r\n\r\n            Chessboard chessboard = new Chessboard(board);\r\n            frame.add(chessboard);\r\n\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n```\r\n\r\nIn the code above i used setSize to set it to `640, 640`. I added a listener to verify the size. but when i run the app, the size that gets printed (by my listener), is:\r\n\r\n`Window size: 624x601`\r\n\r\nI know this probably has to do with the window decorations. Can I somehow calculate the size I need to add to get the window size I really want?\r\n\r\nThanks in advance!","title":"Java JFrame.setSize giving wrong size","body":"<p>I'm trying to create a window using the swing library in java.\nEverything works fine, except for one minor (but very annoying) issue:</p>\n<pre><code>private void init()\n    {\n        board = new Board();\n        currTurn = Piece.WHITE;\n        movesPlayed = new ArrayList&lt;Move&gt;();\n\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;Chessboard&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            frame.setSize(640, 640);\n            frame.setResizable(false);  \n            frame.setLocationRelativeTo(null);\n\n            Chessboard chessboard = new Chessboard(board);\n            frame.add(chessboard);\n\n            frame.setVisible(true);\n        });\n    }\n</code></pre>\n<p>In the code above i used setSize to set it to <code>640, 640</code>. I added a listener to verify the size. but when i run the app, the size that gets printed (by my listener), is:</p>\n<p><code>Window size: 624x601</code></p>\n<p>I know this probably has to do with the window decorations. Can I somehow calculate the size I need to add to get the window size I really want?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1456014741,"post_id":35530824,"comment_id":58751169,"body_markdown":"pack() relies on the preferred size of the components. If you use a JPanel subclass to draw, you should override paintComponent() and not paint(), and you should override getPreferredSize().","body":"pack() relies on the preferred size of the components. If you use a JPanel subclass to draw, you should override paintComponent() and not paint(), and you should override getPreferredSize()."},{"owner":{"account_id":7878059,"reputation":5,"user_id":5953184,"display_name":"LegoNinja39"},"score":0,"creation_date":1456016122,"post_id":35530824,"comment_id":58751485,"body_markdown":"Oracle says not to override paintComponent and to use paint instead since it calls all the paints (including paintComponent). Also why would I override a getter? Also how would I use it to make pack work properly?","body":"Oracle says not to override paintComponent and to use paint instead since it calls all the paints (including paintComponent). Also why would I override a getter? Also how would I use it to make pack work properly?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1456032637,"post_id":35530824,"comment_id":58754551,"body_markdown":"*&quot;Oracle says not to override paintComponent and to use paint instead..&quot;* Where exactly does Oracle advise that? Link please..","body":"<i>&quot;Oracle says not to override paintComponent and to use paint instead..&quot;</i> Where exactly does Oracle advise that? Link please.."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1456035836,"post_id":35530824,"comment_id":58755084,"body_markdown":"@LegoNinja39 Where does it say that?","body":"@LegoNinja39 Where does it say that?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1456038644,"post_id":35530824,"comment_id":58755653,"body_markdown":"Take a look at this [Stack Overflow answer](http://stackoverflow.com/a/35002727/300257) to see pack in action.  The code creates a simple Swing GUI that you can use as a basis for further Swing development.","body":"Take a look at this <a href=\"http://stackoverflow.com/a/35002727/300257\">Stack Overflow answer</a> to see pack in action.  The code creates a simple Swing GUI that you can use as a basis for further Swing development."},{"owner":{"account_id":7878059,"reputation":5,"user_id":5953184,"display_name":"LegoNinja39"},"score":0,"creation_date":1456180730,"post_id":35530824,"comment_id":58818991,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html  I think I chose my words wrong. It is not a good idea to override it since it may cause problems later on. Also there is no point since .paint calls it anyway.","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.htm&zwnj;&#8203;l</a>  I think I chose my words wrong. It is not a good idea to override it since it may cause problems later on. Also there is no point since .paint calls it anyway."}],"answers":[{"tags":[],"owner":{"account_id":4969490,"reputation":47,"user_id":3997787,"display_name":"Stefano Castagnino"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1456027689,"creation_date":1456019872,"answer_id":35531419,"question_id":35530824,"body_markdown":"Using .pack() and .setSize() no make sense, all depend which one is last one in the code but i recommendable use:\r\n\r\n     frame.setMinimumSize(new Dimension(x,y));\r\n\r\nAnd please do not forget to add :\r\n\r\n    frame.setVisible(true);\r\n\r\n","title":"How does pack() work and what does it looks for","body":"<p>Using .pack() and .setSize() no make sense, all depend which one is last one in the code but i recommendable use:</p>\n\n<pre><code> frame.setMinimumSize(new Dimension(x,y));\n</code></pre>\n\n<p>And please do not forget to add :</p>\n\n<pre><code>frame.setVisible(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683845675,"creation_date":1456036219,"answer_id":35533056,"question_id":35530824,"body_markdown":"`pack` makes use of the layout manager API and &quot;asks&quot; the frame&#39;s `contentPane` for it&#39;s `preferredSize`, this allows `pack` to &quot;pack&quot; the windows decorations around the content. You have to remember, a windows size includes the windows decorations, so a window of 800x600 will have a viewable area which is noticeably smaller\r\n\r\nIf you add a component to the frame whose size is undefined (in the case of `JComponent` and `JPanel` which return a `preferredSize` of `0x0`, the frame will be packed to its smallest possible size, not really what you want.\r\n\r\nSo, for example, something like...\r\n\r\n\timport java.awt.Dimension;\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.Graphics;\r\n\timport java.awt.Graphics2D;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Test();\r\n\t\t}\r\n\r\n\t\tpublic Test() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(new TestPane());\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class TestPane extends JPanel {\r\n\r\n\t\t\tpublic TestPane() {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Dimension getPreferredSize() {\r\n\t\t\t\treturn new Dimension(200, 200);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\t\tsuper.paintComponent(g);\r\n\t\t\t\tGraphics2D g2d = (Graphics2D) g.create();\r\n\t\t\t\tg2d.fillOval(10, 10, 30, 30);\r\n\t\t\t\tg2d.dispose();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\ngenerates a window of `200x222` on my Mac, but the `TestPane` will be `200x200`\r\n\r\nYou might also like to have a look at [Laying Out Components Within a Container](http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html), [Painting in AWT and Swing](http://www.oracle.com/technetwork/java/painting-140037.html) and [Performing Custom Painting](http://docs.oracle.com/javase/tutorial/uiswing/painting/) for some more details","title":"How does pack() work and what does it looks for","body":"<p><code>pack</code> makes use of the layout manager API and &quot;asks&quot; the frame's <code>contentPane</code> for it's <code>preferredSize</code>, this allows <code>pack</code> to &quot;pack&quot; the windows decorations around the content. You have to remember, a windows size includes the windows decorations, so a window of 800x600 will have a viewable area which is noticeably smaller</p>\n<p>If you add a component to the frame whose size is undefined (in the case of <code>JComponent</code> and <code>JPanel</code> which return a <code>preferredSize</code> of <code>0x0</code>, the frame will be packed to its smallest possible size, not really what you want.</p>\n<p>So, for example, something like...</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.fillOval(10, 10, 30, 30);\n            g2d.dispose();\n        }\n\n    }\n\n}\n</code></pre>\n<p>generates a window of <code>200x222</code> on my Mac, but the <code>TestPane</code> will be <code>200x200</code></p>\n<p>You might also like to have a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a>, <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/painting/\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for some more details</p>\n"}],"owner":{"account_id":7878059,"reputation":5,"user_id":5953184,"display_name":"LegoNinja39"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7408,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1456113036,"accepted_answer_id":35533056,"answer_count":2,"score":-1,"last_activity_date":1683845675,"creation_date":1456014572,"question_id":35530824,"body_markdown":"I was messing with some code and came across the pack method which is suppose to find the &quot;optimum&quot; size for a window. But when I tried to out it simply made a window as small as possible even though I drew a circle before calling pack(). Why is that? What elements does pack() look for? I also frequently have found code that uses both pack() and setSize() which Oracle explicitly says not to do. What is the point since they both set size?\r\n\r\nHere is that part of the code incase it was me who did something wrong:\r\n\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n            g.fillOval(x, y, 30, 30);\r\n        }\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            JFrame frame = new JFrame(&quot;Extreme Pong&quot;);\r\n            Game game = new Game();\r\n            frame.add(game);\r\n            frame.pack();\r\n    }\r\nEdit:\r\nApparently I either was not clear to most of you since the linked answer to the &quot;duplicate&quot; did not answer my question. The mad programmer did answer my question, so thank you to you.","title":"How does pack() work and what does it looks for","body":"<p>I was messing with some code and came across the pack method which is suppose to find the \"optimum\" size for a window. But when I tried to out it simply made a window as small as possible even though I drew a circle before calling pack(). Why is that? What elements does pack() look for? I also frequently have found code that uses both pack() and setSize() which Oracle explicitly says not to do. What is the point since they both set size?</p>\n\n<p>Here is that part of the code incase it was me who did something wrong:</p>\n\n<pre><code>    public void paint(Graphics g) {\n        super.paint(g);\n        g.fillOval(x, y, 30, 30);\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        JFrame frame = new JFrame(\"Extreme Pong\");\n        Game game = new Game();\n        frame.add(game);\n        frame.pack();\n}\n</code></pre>\n\n<p>Edit:\nApparently I either was not clear to most of you since the linked answer to the \"duplicate\" did not answer my question. The mad programmer did answer my question, so thank you to you.</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1683835971,"post_id":76230434,"comment_id":134431714,"body_markdown":"You need a dollar sign before `ne` as in `$ne`","body":"You need a dollar sign before <code>ne</code> as in <code>$ne</code>"}],"answers":[{"tags":[],"owner":{"account_id":2638471,"reputation":25863,"user_id":2282634,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683844903,"creation_date":1683844903,"answer_id":76232056,"question_id":76230434,"body_markdown":"The `$ne` query operator is not allowed in a partial filter expression, see https://www.mongodb.com/docs/manual/core/index-partial/#create-a-partial-index\r\n\r\nUse `{&#39;$exists&#39;:true}` instead of `{ &#39;ne&#39; : null }` if you only need to test if the field exists.\r\n\r\nIf you also want to exclude documents where the field was explicitly set to null, use:\r\n\r\n`{&#39;studentId&#39;:{&#39;$exists&#39;:true,&#39;$gt&#39;:null}}`","title":"MongoDb partial filter expression not working","body":"<p>The <code>$ne</code> query operator is not allowed in a partial filter expression, see <a href=\"https://www.mongodb.com/docs/manual/core/index-partial/#create-a-partial-index\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/manual/core/index-partial/#create-a-partial-index</a></p>\n<p>Use <code>{'$exists':true}</code> instead of <code>{ 'ne' : null }</code> if you only need to test if the field exists.</p>\n<p>If you also want to exclude documents where the field was explicitly set to null, use:</p>\n<p><code>{'studentId':{'$exists':true,'$gt':null}}</code></p>\n"}],"owner":{"account_id":4366910,"reputation":29,"user_id":3562372,"accept_rate":17,"display_name":"Harshit Wadhera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76232056,"answer_count":1,"score":0,"last_activity_date":1683844903,"creation_date":1683827918,"question_id":76230434,"body_markdown":"I have a `CompoundIndex` which has 2 field for unique and i want to filter the index to accept null as not unique. \r\n\r\nBelow is my code \r\n`@CompoundIndex(def = &quot;{&#39;studentId&#39;:1, &#39;StudentName&#39;:1}&quot;,\r\n    unique = true,\r\n    partialFilter = &quot;{&#39;studentId&#39;: { &#39;ne&#39; : null } }&quot;)`\r\n\r\nnow when i am trying to save the student with same id and name which already exists it is not throwing me error.","title":"MongoDb partial filter expression not working","body":"<p>I have a <code>CompoundIndex</code> which has 2 field for unique and i want to filter the index to accept null as not unique.</p>\n<p>Below is my code\n<code>@CompoundIndex(def = &quot;{'studentId':1, 'StudentName':1}&quot;, unique = true, partialFilter = &quot;{'studentId': { 'ne' : null } }&quot;)</code></p>\n<p>now when i am trying to save the student with same id and name which already exists it is not throwing me error.</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683841965,"post_id":76231825,"comment_id":134432718,"body_markdown":"What version are you using? Is there code in your application for initializing log4j?","body":"What version are you using? Is there code in your application for initializing log4j?"},{"owner":{"account_id":413997,"reputation":434,"user_id":787971,"accept_rate":12,"display_name":"David Wood"},"score":0,"creation_date":1683843140,"post_id":76231825,"comment_id":134432898,"body_markdown":"updated post to address aled&#39;s comment","body":"updated post to address aled&#39;s comment"}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683844687,"creation_date":1683844687,"answer_id":76232040,"question_id":76231825,"body_markdown":"There is no link between Java system properties and your `log4j2.properties` file, so you can not change the value of `logger.dt.level` in your configuration file by changing the homonymous Java system property.\r\n\r\nYou can however introduce a dependency, by using a [lookup](https://logging.apache.org/log4j/2.x/manual/lookups.html) in the property value:\r\n\r\n```lang-properties\r\n# Fallback value for the `logger.dt.level` system property\r\nproperty.logger.dt.level = INFO\r\nlogger.dt.level = ${sys:logger.dt.level}\r\n```\r\n\r\nIf you want to go further you&#39;ll need to write your own [`PropertiesConfigurationFactory`](https://github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/config/properties/PropertiesConfigurationFactory.java) with a high (numerical) order that overwrites the properties file with the values from Java system properties.","title":"How to override log level of log4j2 logger at deployment","body":"<p>There is no link between Java system properties and your <code>log4j2.properties</code> file, so you can not change the value of <code>logger.dt.level</code> in your configuration file by changing the homonymous Java system property.</p>\n<p>You can however introduce a dependency, by using a <a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html\" rel=\"nofollow noreferrer\">lookup</a> in the property value:</p>\n<pre class=\"lang-properties prettyprint-override\"><code># Fallback value for the `logger.dt.level` system property\nproperty.logger.dt.level = INFO\nlogger.dt.level = ${sys:logger.dt.level}\n</code></pre>\n<p>If you want to go further you'll need to write your own <a href=\"https://github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/config/properties/PropertiesConfigurationFactory.java\" rel=\"nofollow noreferrer\"><code>PropertiesConfigurationFactory</code></a> with a high (numerical) order that overwrites the properties file with the values from Java system properties.</p>\n"}],"owner":{"account_id":413997,"reputation":434,"user_id":787971,"accept_rate":12,"display_name":"David Wood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683844687,"creation_date":1683841881,"question_id":76231825,"body_markdown":"I would like to have a single log4j2 properties file delivered in my jar, but override its settings when starting the app.  For example, the default level might be warn, but when debugging I&#39;d like to change the log level to debug, for example. I am aware of the log4j.configurationFile system property, but that is a sledgehammer for this problem.  I&#39;m using log4j 2.17.2 and Java 11 and I&#39;m not doing any special log4j initialization other than `LogManager.getLogger()`.  My properties file is as follows:\r\n\r\n    status = debug \r\n    \r\n    rootLogger.level = warn \r\n    rootLogger.appenderRefs = console \r\n    rootLogger.appenderRef.stdout.ref = STDOUT\r\n    \r\n    loggers= dt\r\n    \r\n    logger.dt = console\r\n    logger.dt.name = com.ibm.data_triage\r\n    logger.dt.appenderRefs = console \r\n    logger.dt.appenderRef.stdout.ref = STDOUT\r\n    #logger.dt.level = trace \r\n    logger.dt.level = info \r\n    \r\n    appender.console.type = Console\r\n    appender.console.name = STDOUT\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern = %d{yyyy-dd HH:mm:ss} %p %l - %m%n\r\n\r\nCan I then do something like this?\r\n\r\n    java -Dlogger.dt.level=trace\r\n\r\nor\r\n\r\n    java -Dlog4j.logger.dt.level=trace\r\n\r\nNeither seem to work.  I&#39;ve also tried the solution from AbuNassar in https://stackoverflow.com/questions/7126709/how-do-i-set-log4j-level-on-the-command-line, but to no avail.\r\n\r\nIf I set `status=debug` in the properties file, and run\r\n\r\n    java -Dlog4j.logger.dt.level=trace  -Dlog4j2.logger.dt.level=trace -Dlogger.dt.level=trace \r\n\r\nI get the following logging from log4j (i.e., com.ibm.data_triage is still INFO): \r\n\r\n    2023-05-11 18:18:59,512 main DEBUG Apache Log4j Core 2.17.2 initializing configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310\r\n    2023-05-11 18:18:59,514 main DEBUG PluginManager &#39;Core&#39; found 127 plugins\r\n    2023-05-11 18:18:59,515 main DEBUG PluginManager &#39;Level&#39; found 0 plugins\r\n    2023-05-11 18:18:59,518 main DEBUG PluginManager &#39;Lookup&#39; found 16 plugins\r\n    2023-05-11 18:18:59,519 main DEBUG Building Plugin[name=AppenderRef, class=org.apache.logging.log4j.core.config.AppenderRef].\r\n    2023-05-11 18:18:59,529 main DEBUG PluginManager &#39;TypeConverter&#39; found 26 plugins\r\n    2023-05-11 18:18:59,539 main DEBUG createAppenderRef(ref=&quot;STDOUT&quot;, level=&quot;null&quot;, Filter=null)\r\n    2023-05-11 18:18:59,539 main DEBUG Building Plugin[name=logger, class=org.apache.logging.log4j.core.config.LoggerConfig].\r\n    2023-05-11 18:18:59,550 main DEBUG LoggerConfig$Builder(additivity=&quot;null&quot;, level=&quot;INFO&quot;, levelAndRefs=&quot;null&quot;, name=&quot;com.ibm.data_triage&quot;, includeLocation=&quot;null&quot;, ={STDOUT}, ={}, Configuration, Filter=null)\r\n    2023-05-11 18:18:59,552 main DEBUG Building Plugin[name=AppenderRef, class=org.apache.logging.log4j.core.config.AppenderRef].\r\n    2023-05-11 18:18:59,553 main DEBUG createAppenderRef(ref=&quot;STDOUT&quot;, level=&quot;null&quot;, Filter=null)\r\n    2023-05-11 18:18:59,553 main DEBUG Building Plugin[name=root, class=org.apache.logging.log4j.core.config.LoggerConfig$RootLogger].\r\n    2023-05-11 18:18:59,556 main DEBUG LoggerConfig$RootLogger$Builder(additivity=&quot;null&quot;, level=&quot;WARN&quot;, levelAndRefs=&quot;null&quot;, includeLocation=&quot;null&quot;, ={STDOUT}, ={}, Configuration, Filter=null)\r\n    2023-05-11 18:18:59,556 main DEBUG Building Plugin[name=loggers, class=org.apache.logging.log4j.core.config.LoggersPlugin].\r\n    2023-05-11 18:18:59,558 main DEBUG createLoggers(={com.ibm.data_triage, root})\r\n    2023-05-11 18:18:59,559 main DEBUG Building Plugin[name=layout, class=org.apache.logging.log4j.core.layout.PatternLayout].\r\n    2023-05-11 18:18:59,561 main DEBUG PatternLayout$Builder(pattern=&quot;%d{yyyy-dd HH:mm:ss} %p %l - %m%n&quot;, PatternSelector=null, Configuration, Replace=null, charset=&quot;null&quot;, alwaysWriteExceptions=&quot;null&quot;, disableAnsi=&quot;null&quot;, noConsoleNoAnsi=&quot;null&quot;, header=&quot;null&quot;, footer=&quot;null&quot;)\r\n    2023-05-11 18:18:59,561 main DEBUG PluginManager &#39;Converter&#39; found 45 plugins\r\n    2023-05-11 18:18:59,577 main DEBUG Building Plugin[name=appender, class=org.apache.logging.log4j.core.appender.ConsoleAppender].\r\n    2023-05-11 18:18:59,581 main DEBUG ConsoleAppender$Builder(target=&quot;null&quot;, follow=&quot;null&quot;, direct=&quot;null&quot;, bufferedIo=&quot;null&quot;, bufferSize=&quot;null&quot;, immediateFlush=&quot;null&quot;, ignoreExceptions=&quot;null&quot;, PatternLayout(%d{yyyy-dd HH:mm:ss} %p %l - %m%n), name=&quot;STDOUT&quot;, Configuration, Filter=null, ={})\r\n    2023-05-11 18:18:59,586 main DEBUG Starting OutputStreamManager SYSTEM_OUT.false.false\r\n    2023-05-11 18:18:59,587 main DEBUG Building Plugin[name=appenders, class=org.apache.logging.log4j.core.config.AppendersPlugin].\r\n    2023-05-11 18:18:59,588 main DEBUG createAppenders(={STDOUT})\r\n    2023-05-11 18:18:59,589 main DEBUG Configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310 initialized\r\n    2023-05-11 18:18:59,589 main DEBUG Starting configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310\r\n    2023-05-11 18:18:59,590 main DEBUG Started configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310 OK.\r\n    2023-05-11 18:18:59,591 main DEBUG Shutting down OutputStreamManager SYSTEM_OUT.false.false-1\r\n    2023-05-11 18:18:59,591 main DEBUG OutputStream closed\r\n    2023-05-11 18:18:59,592 main DEBUG Shut down OutputStreamManager SYSTEM_OUT.false.false-1, all resources released: true\r\n    2023-05-11 18:18:59,592 main DEBUG Appender DefaultConsole-1 stopped with status true\r\n    2023-05-11 18:18:59,593 main DEBUG Stopped org.apache.logging.log4j.core.config.DefaultConfiguration@6fbdbc94 OK\r\n    2023-05-11 18:18:59,630 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be\r\n    2023-05-11 18:18:59,634 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=StatusLogger\r\n    2023-05-11 18:18:59,637 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=ContextSelector\r\n    2023-05-11 18:18:59,638 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=Loggers,name=\r\n    2023-05-11 18:18:59,639 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=Loggers,name=com.ibm.data_triage\r\n    2023-05-11 18:18:59,641 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=Appenders,name=STDOUT\r\n    2023-05-11 18:18:59,645 main DEBUG org.apache.logging.log4j.core.util.SystemClock supports precise timestamps.\r\n    2023-05-11 18:18:59,646 main DEBUG Reconfiguration complete for context[name=ed8046be] at URI C:\\Users\\DavidWood\\git\\data-triage-4j\\data-triage-core\\target\\classes\\log4j2.properties (org.apache.logging.log4j.core.LoggerContext@1414d955) with optional ClassLoader: null\r\n    2023-05-11 18:18:59,647 main DEBUG Shutdown hook enabled. Registering a new one.\r\n    2023-05-11 18:18:59,653 main DEBUG LoggerContext[name=ed8046be, org.apache.logging.log4j.core.LoggerContext@1414d955] started OK.\r\n\r\nAm I expecting too much or is there another way?\r\n\r\nThanks.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to override log level of log4j2 logger at deployment","body":"<p>I would like to have a single log4j2 properties file delivered in my jar, but override its settings when starting the app.  For example, the default level might be warn, but when debugging I'd like to change the log level to debug, for example. I am aware of the log4j.configurationFile system property, but that is a sledgehammer for this problem.  I'm using log4j 2.17.2 and Java 11 and I'm not doing any special log4j initialization other than <code>LogManager.getLogger()</code>.  My properties file is as follows:</p>\n<pre><code>status = debug \n\nrootLogger.level = warn \nrootLogger.appenderRefs = console \nrootLogger.appenderRef.stdout.ref = STDOUT\n\nloggers= dt\n\nlogger.dt = console\nlogger.dt.name = com.ibm.data_triage\nlogger.dt.appenderRefs = console \nlogger.dt.appenderRef.stdout.ref = STDOUT\n#logger.dt.level = trace \nlogger.dt.level = info \n\nappender.console.type = Console\nappender.console.name = STDOUT\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{yyyy-dd HH:mm:ss} %p %l - %m%n\n</code></pre>\n<p>Can I then do something like this?</p>\n<pre><code>java -Dlogger.dt.level=trace\n</code></pre>\n<p>or</p>\n<pre><code>java -Dlog4j.logger.dt.level=trace\n</code></pre>\n<p>Neither seem to work.  I've also tried the solution from AbuNassar in <a href=\"https://stackoverflow.com/questions/7126709/how-do-i-set-log4j-level-on-the-command-line\">How do I set log4j level on the command line?</a>, but to no avail.</p>\n<p>If I set <code>status=debug</code> in the properties file, and run</p>\n<pre><code>java -Dlog4j.logger.dt.level=trace  -Dlog4j2.logger.dt.level=trace -Dlogger.dt.level=trace \n</code></pre>\n<p>I get the following logging from log4j (i.e., com.ibm.data_triage is still INFO):</p>\n<pre><code>2023-05-11 18:18:59,512 main DEBUG Apache Log4j Core 2.17.2 initializing configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310\n2023-05-11 18:18:59,514 main DEBUG PluginManager 'Core' found 127 plugins\n2023-05-11 18:18:59,515 main DEBUG PluginManager 'Level' found 0 plugins\n2023-05-11 18:18:59,518 main DEBUG PluginManager 'Lookup' found 16 plugins\n2023-05-11 18:18:59,519 main DEBUG Building Plugin[name=AppenderRef, class=org.apache.logging.log4j.core.config.AppenderRef].\n2023-05-11 18:18:59,529 main DEBUG PluginManager 'TypeConverter' found 26 plugins\n2023-05-11 18:18:59,539 main DEBUG createAppenderRef(ref=&quot;STDOUT&quot;, level=&quot;null&quot;, Filter=null)\n2023-05-11 18:18:59,539 main DEBUG Building Plugin[name=logger, class=org.apache.logging.log4j.core.config.LoggerConfig].\n2023-05-11 18:18:59,550 main DEBUG LoggerConfig$Builder(additivity=&quot;null&quot;, level=&quot;INFO&quot;, levelAndRefs=&quot;null&quot;, name=&quot;com.ibm.data_triage&quot;, includeLocation=&quot;null&quot;, ={STDOUT}, ={}, Configuration, Filter=null)\n2023-05-11 18:18:59,552 main DEBUG Building Plugin[name=AppenderRef, class=org.apache.logging.log4j.core.config.AppenderRef].\n2023-05-11 18:18:59,553 main DEBUG createAppenderRef(ref=&quot;STDOUT&quot;, level=&quot;null&quot;, Filter=null)\n2023-05-11 18:18:59,553 main DEBUG Building Plugin[name=root, class=org.apache.logging.log4j.core.config.LoggerConfig$RootLogger].\n2023-05-11 18:18:59,556 main DEBUG LoggerConfig$RootLogger$Builder(additivity=&quot;null&quot;, level=&quot;WARN&quot;, levelAndRefs=&quot;null&quot;, includeLocation=&quot;null&quot;, ={STDOUT}, ={}, Configuration, Filter=null)\n2023-05-11 18:18:59,556 main DEBUG Building Plugin[name=loggers, class=org.apache.logging.log4j.core.config.LoggersPlugin].\n2023-05-11 18:18:59,558 main DEBUG createLoggers(={com.ibm.data_triage, root})\n2023-05-11 18:18:59,559 main DEBUG Building Plugin[name=layout, class=org.apache.logging.log4j.core.layout.PatternLayout].\n2023-05-11 18:18:59,561 main DEBUG PatternLayout$Builder(pattern=&quot;%d{yyyy-dd HH:mm:ss} %p %l - %m%n&quot;, PatternSelector=null, Configuration, Replace=null, charset=&quot;null&quot;, alwaysWriteExceptions=&quot;null&quot;, disableAnsi=&quot;null&quot;, noConsoleNoAnsi=&quot;null&quot;, header=&quot;null&quot;, footer=&quot;null&quot;)\n2023-05-11 18:18:59,561 main DEBUG PluginManager 'Converter' found 45 plugins\n2023-05-11 18:18:59,577 main DEBUG Building Plugin[name=appender, class=org.apache.logging.log4j.core.appender.ConsoleAppender].\n2023-05-11 18:18:59,581 main DEBUG ConsoleAppender$Builder(target=&quot;null&quot;, follow=&quot;null&quot;, direct=&quot;null&quot;, bufferedIo=&quot;null&quot;, bufferSize=&quot;null&quot;, immediateFlush=&quot;null&quot;, ignoreExceptions=&quot;null&quot;, PatternLayout(%d{yyyy-dd HH:mm:ss} %p %l - %m%n), name=&quot;STDOUT&quot;, Configuration, Filter=null, ={})\n2023-05-11 18:18:59,586 main DEBUG Starting OutputStreamManager SYSTEM_OUT.false.false\n2023-05-11 18:18:59,587 main DEBUG Building Plugin[name=appenders, class=org.apache.logging.log4j.core.config.AppendersPlugin].\n2023-05-11 18:18:59,588 main DEBUG createAppenders(={STDOUT})\n2023-05-11 18:18:59,589 main DEBUG Configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310 initialized\n2023-05-11 18:18:59,589 main DEBUG Starting configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310\n2023-05-11 18:18:59,590 main DEBUG Started configuration org.apache.logging.log4j.core.config.properties.PropertiesConfiguration@d95dd310 OK.\n2023-05-11 18:18:59,591 main DEBUG Shutting down OutputStreamManager SYSTEM_OUT.false.false-1\n2023-05-11 18:18:59,591 main DEBUG OutputStream closed\n2023-05-11 18:18:59,592 main DEBUG Shut down OutputStreamManager SYSTEM_OUT.false.false-1, all resources released: true\n2023-05-11 18:18:59,592 main DEBUG Appender DefaultConsole-1 stopped with status true\n2023-05-11 18:18:59,593 main DEBUG Stopped org.apache.logging.log4j.core.config.DefaultConfiguration@6fbdbc94 OK\n2023-05-11 18:18:59,630 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be\n2023-05-11 18:18:59,634 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=StatusLogger\n2023-05-11 18:18:59,637 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=ContextSelector\n2023-05-11 18:18:59,638 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=Loggers,name=\n2023-05-11 18:18:59,639 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=Loggers,name=com.ibm.data_triage\n2023-05-11 18:18:59,641 main DEBUG Registering MBean org.apache.logging.log4j2:type=ed8046be,component=Appenders,name=STDOUT\n2023-05-11 18:18:59,645 main DEBUG org.apache.logging.log4j.core.util.SystemClock supports precise timestamps.\n2023-05-11 18:18:59,646 main DEBUG Reconfiguration complete for context[name=ed8046be] at URI C:\\Users\\DavidWood\\git\\data-triage-4j\\data-triage-core\\target\\classes\\log4j2.properties (org.apache.logging.log4j.core.LoggerContext@1414d955) with optional ClassLoader: null\n2023-05-11 18:18:59,647 main DEBUG Shutdown hook enabled. Registering a new one.\n2023-05-11 18:18:59,653 main DEBUG LoggerContext[name=ed8046be, org.apache.logging.log4j.core.LoggerContext@1414d955] started OK.\n</code></pre>\n<p>Am I expecting too much or is there another way?</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","android-gradle-plugin","android-room","androidx"],"comments":[{"owner":{"account_id":7460426,"reputation":2785,"user_id":7915814,"display_name":"Suleyman"},"score":0,"creation_date":1552606625,"post_id":55173522,"comment_id":97086041,"body_markdown":"Welcome to StackOverflow! Please provide the error as well.","body":"Welcome to StackOverflow! Please provide the error as well."},{"owner":{"account_id":13981136,"reputation":81,"user_id":10097248,"display_name":"Kodak Gifted"},"score":0,"creation_date":1552606930,"post_id":55173522,"comment_id":97086122,"body_markdown":"Error during compilation &quot;Note: Failed to read get kotlin metadata for [Ljava.lang.Object;@679b84&quot; and &quot;error: cannot find symbol class DataBindingComponent&quot;","body":"Error during compilation &quot;Note: Failed to read get kotlin metadata for [Ljava.lang.Object;@679b84&quot; and &quot;error: cannot find symbol class DataBindingComponent&quot;"}],"answers":[{"tags":[],"owner":{"account_id":5790735,"reputation":870,"user_id":4568312,"display_name":"Nischal"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1552625879,"creation_date":1552625879,"answer_id":55175799,"question_id":55173522,"body_markdown":"Add `maven { url &quot;https://kotlin.bintray.com/kotlinx/&quot; }` to your project repositories.\r\n\r\n&gt; Room 2.1.0-alpha05 depends on the kotlinx-metadata-jvm artifact which is not currently available in Maven Central\r\n\r\n[Refer Official doc][1]\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/room","title":"Project not compiling after adding androidx.room:room-compiler:2.1.0-alpha05","body":"<p>Add <code>maven { url \"https://kotlin.bintray.com/kotlinx/\" }</code> to your project repositories.</p>\n\n<blockquote>\n  <p>Room 2.1.0-alpha05 depends on the kotlinx-metadata-jvm artifact which is not currently available in Maven Central</p>\n</blockquote>\n\n<p><a href=\"https://developer.android.com/jetpack/androidx/releases/room\" rel=\"nofollow noreferrer\">Refer Official doc</a></p>\n"},{"tags":[],"owner":{"account_id":7354605,"reputation":1,"user_id":5599734,"display_name":"Maurilio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552657200,"creation_date":1552657200,"answer_id":55183912,"question_id":55173522,"body_markdown":"I got rid of this error upgrading the gradle build plugin to 3.3.2:\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.3.2&#39;\r\n        classpath &#39;com.google.gms:google-services:4.2.0&#39;\r\n        classpath &#39;io.fabric.tools:gradle:1.27.1&#39;\r\n    }\r\n\r\nThat version will produce some warnings caused by io.fabric plugin, if you have been using it (see https://stackoverflow.com/questions/52412023/api-variant-getexternalnativebuildtasks-is-obsolete-and-has-been-replaced-wi).","title":"Project not compiling after adding androidx.room:room-compiler:2.1.0-alpha05","body":"<p>I got rid of this error upgrading the gradle build plugin to 3.3.2:</p>\n\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:3.3.2'\n    classpath 'com.google.gms:google-services:4.2.0'\n    classpath 'io.fabric.tools:gradle:1.27.1'\n}\n</code></pre>\n\n<p>That version will produce some warnings caused by io.fabric plugin, if you have been using it (see <a href=\"https://stackoverflow.com/questions/52412023/api-variant-getexternalnativebuildtasks-is-obsolete-and-has-been-replaced-wi\">API &#39;variant.getExternalNativeBuildTasks()&#39; is obsolete and has been replaced with &#39;variant.getExternalNativeBuildProviders()</a>).</p>\n"},{"tags":[],"owner":{"account_id":13500579,"reputation":1225,"user_id":9740092,"display_name":"Aleyam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552842684,"creation_date":1552842684,"answer_id":55209715,"question_id":55173522,"body_markdown":"hey i have had a similar problem, this is the displayed error: \r\n```Could not find org.jetbrains.kotlinx:kotlinx-metadata-jvm:0.0.5.\r\nSearched in the following locations:\r\n  - file:/Users/4leyam/Library/Android/sdk/extras/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\r\n  - file:/Users/4leyam/Library/Android/sdk/extras/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\r\n  - file:/Users/4leyam/Library/Android/sdk/extras/google/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\r\n  - file:/Users/4leyam/Library/Android/sdk/extras/google/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\r\n  - file:/Users/4leyam/Library/Android/sdk/extras/android/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\r\n  - file:/Users/4leyam/Library/Android/sdk/extras/android/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\r\n  - https://dl.google.com/dl/android/maven2/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\r\n  - https://dl.google.com/dl/android/maven2/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\r\n  - https://jcenter.bintray.com/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\r\n  - https://jcenter.bintray.com/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\r\nRequired by:\r\n    project :app &gt; androidx.room:room-compiler:2.1.0-alpha05\r\n```\r\n\r\nthe provisional solution i found is to downgrade the room_version to\r\n```\r\n def room_version = &quot;2.1.0-alpha04&quot;\r\n```\r\nplease share if there is a better solution\r\n\r\n","title":"Project not compiling after adding androidx.room:room-compiler:2.1.0-alpha05","body":"<p>hey i have had a similar problem, this is the displayed error: </p>\n\n<pre><code>Searched in the following locations:\n  - file:/Users/4leyam/Library/Android/sdk/extras/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\n  - file:/Users/4leyam/Library/Android/sdk/extras/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\n  - file:/Users/4leyam/Library/Android/sdk/extras/google/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\n  - file:/Users/4leyam/Library/Android/sdk/extras/google/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\n  - file:/Users/4leyam/Library/Android/sdk/extras/android/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\n  - file:/Users/4leyam/Library/Android/sdk/extras/android/m2repository/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\n  - https://dl.google.com/dl/android/maven2/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\n  - https://dl.google.com/dl/android/maven2/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\n  - https://jcenter.bintray.com/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.pom\n  - https://jcenter.bintray.com/org/jetbrains/kotlinx/kotlinx-metadata-jvm/0.0.5/kotlinx-metadata-jvm-0.0.5.jar\nRequired by:\n    project :app &gt; androidx.room:room-compiler:2.1.0-alpha05\n</code></pre>\n\n<p>the provisional solution i found is to downgrade the room_version to</p>\n\n<pre><code> def room_version = \"2.1.0-alpha04\"\n</code></pre>\n\n<p>please share if there is a better solution</p>\n"},{"tags":[],"owner":{"account_id":22967140,"reputation":1,"user_id":17096052,"display_name":"Raul Espim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683843640,"creation_date":1633590900,"answer_id":69476891,"question_id":55173522,"body_markdown":"You can try to use the &quot;**2.4.0-alpha05**&quot; version of room, in my case it always worked without any bugs. At least until now (2023) I haven&#39;t needed to change the version.\r\nI don&#39;t have any links to the documentation or anything like that to confirm my answer, I&#39;m just trying to help you based on my own experiences.\r\nWorth trying. I hope this helps.","title":"Project not compiling after adding androidx.room:room-compiler:2.1.0-alpha05","body":"<p>You can try to use the &quot;<strong>2.4.0-alpha05</strong>&quot; version of room, in my case it always worked without any bugs. At least until now (2023) I haven't needed to change the version.\nI don't have any links to the documentation or anything like that to confirm my answer, I'm just trying to help you based on my own experiences.\nWorth trying. I hope this helps.</p>\n"}],"owner":{"account_id":13981136,"reputation":81,"user_id":10097248,"display_name":"Kodak Gifted"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1683843640,"creation_date":1552606314,"question_id":55173522,"body_markdown":"# Application gradle file and Project gradle file.\nError: cannot find symbol class DataBindingComponent\n\n        dependencies \n        {\n            implementation &#39;androidx.room:room-runtime:2.1.0-alpha05&#39;\n            annotationProcessor &#39;androidx.room:room-compiler:2.1.0-alpha05&#39;\n      \n        }\n    -----------------------------------------------------------------------------\n        allprojects {\n            repositories {\n                jcenter()\n                maven { url &quot;https://jitpack.io&quot; }\n                google()\n                maven { url &quot;https://kotlin.bintray.com/kotlinx/&quot; }\n            }\n        }\n\n","title":"Project not compiling after adding androidx.room:room-compiler:2.1.0-alpha05","body":"<h1>Application gradle file and Project gradle file.</h1>\n<p>Error: cannot find symbol class DataBindingComponent</p>\n<pre><code>    dependencies \n    {\n        implementation 'androidx.room:room-runtime:2.1.0-alpha05'\n        annotationProcessor 'androidx.room:room-compiler:2.1.0-alpha05'\n  \n    }\n-----------------------------------------------------------------------------\n    allprojects {\n        repositories {\n            jcenter()\n            maven { url &quot;https://jitpack.io&quot; }\n            google()\n            maven { url &quot;https://kotlin.bintray.com/kotlinx/&quot; }\n        }\n    }\n</code></pre>\n"},{"tags":["java","jsonschema","json-schema-validator","light-4j"],"answers":[{"tags":[],"owner":{"account_id":92002,"reputation":1383,"user_id":252344,"accept_rate":60,"display_name":"Faron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683842955,"creation_date":1683842955,"answer_id":76231913,"question_id":76202046,"body_markdown":"*Disclaimer: I contribute to this project.*\r\n\r\nWhile this library does not currently support severities, you can fake it with a few changes. First update your schema to preface each message with your desired severity.\r\n\r\n```\r\n&quot;zip_code&quot;: {\r\n  &quot;type&quot;: &quot;string&quot;,\r\n  &quot;minLength&quot;: 1,\r\n  &quot;message&quot;: {\r\n    &quot;type&quot;: &quot;ERROR: Address.zip_code is not a &#39;String&#39; value&quot;,\r\n    &quot;minLength&quot;: &quot;ERROR: Address.zip_code is empty&quot;\r\n  }\r\n}\r\n```\r\n\r\nSecond, update your code to test for the prefix.\r\n```\r\nInputStream inputStream = ExampleClass.class.getClassLoader().getResourceAsStream(schema);\r\nJsonSchemaFactory factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\r\nJsonSchema jsonSchema = factory.getSchema(inputStream);\r\n\r\nSet&lt;ValidationMessage&gt; errors = jsonSchema.validate(event);\r\nerrors.forEach(validationMessage -&gt; {\r\n    if(validationMessage.getDetails().startsWith(&quot;ERROR: &quot;)) {\r\n       log.error(validationMessage.getDetails().substring(&quot;ERROR: &quot;.length()));\r\n    } else {\r\n       log.warn(validationMessage.getDetails());\r\n    }\r\n});\r\n```","title":"Add aditional information to json-schema and get it when validate through the networknt json validator","body":"<p><em>Disclaimer: I contribute to this project.</em></p>\n<p>While this library does not currently support severities, you can fake it with a few changes. First update your schema to preface each message with your desired severity.</p>\n<pre><code>&quot;zip_code&quot;: {\n  &quot;type&quot;: &quot;string&quot;,\n  &quot;minLength&quot;: 1,\n  &quot;message&quot;: {\n    &quot;type&quot;: &quot;ERROR: Address.zip_code is not a 'String' value&quot;,\n    &quot;minLength&quot;: &quot;ERROR: Address.zip_code is empty&quot;\n  }\n}\n</code></pre>\n<p>Second, update your code to test for the prefix.</p>\n<pre><code>InputStream inputStream = ExampleClass.class.getClassLoader().getResourceAsStream(schema);\nJsonSchemaFactory factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\nJsonSchema jsonSchema = factory.getSchema(inputStream);\n\nSet&lt;ValidationMessage&gt; errors = jsonSchema.validate(event);\nerrors.forEach(validationMessage -&gt; {\n    if(validationMessage.getDetails().startsWith(&quot;ERROR: &quot;)) {\n       log.error(validationMessage.getDetails().substring(&quot;ERROR: &quot;.length()));\n    } else {\n       log.warn(validationMessage.getDetails());\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":11996741,"reputation":95,"user_id":8778025,"display_name":"Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683842955,"creation_date":1683559707,"question_id":76202046,"body_markdown":"I&#39;m using [json-schema][1] to validate a JSON payload with the help of [networknt json-schema-validator][2]. Now I need to set a severity level like &quot;warning&quot; or &quot;error&quot; to each attribute, and based on its value I&#39;m deciding how to print that validation message, for example, `log.error` or `log.warn`. For that, I need to get that value through Java code when/after it is validated. \r\n\r\nI checked a way to parse some additional details to the `json-schema` along with other fields(type, message, ..) but couldn&#39;t find anything. \r\n\r\nAlso, I&#39;m wondering about the method in `com.networknt.schema.ValidationMessage#getDetails()`, I&#39;m assuming that there is a way to parse extra information through the `json-schema` and that information can be retrieved through that method.\r\n\r\nIf I explain my expectation through a code, it is like this,\r\n\r\n    &quot;zip_code&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;minLength&quot;: 1,\r\n      &quot;severity&quot;: &quot;Error&quot;,\r\n      &quot;message&quot;: {\r\n        &quot;type&quot;: &quot;Address.zip_code is not a &#39;String&#39; value&quot;,\r\n        &quot;minLength&quot;: &quot;Address.zip_code is empty&quot;\r\n      }\r\n    }\r\n\r\n&quot;severity&quot; is the additional attribute that holds the information I need\r\n\r\n\r\n    InputStream inputStream = ExampleClass.class.getClassLoader().getResourceAsStream(schema);\r\n    JsonSchemaFactory factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\r\n    JsonSchema jsonSchema = factory.getSchema(inputStream);\r\n\r\n    Set&lt;ValidationMessage&gt; errors = jsonSchema.validate(event);\r\n    errors.forEach(validationMessage -&gt; {\r\n        if(validationMessage.getDetails().get(&quot;severity&quot;) == &quot;Error&quot;) {\r\n           log.error(validationMessage);\r\n        } else {\r\n           log.warn(validationMessage);\r\n        }\r\n\r\n    });\r\n  \r\n\r\nMaybe, the above way might not be possible, but anyway I&#39;m expective some guidance here on achieving this. TIA.\r\n\r\n\r\n\r\n  [1]: http://json-schema.org/\r\n  [2]: https://github.com/networknt/json-schema-validator","title":"Add aditional information to json-schema and get it when validate through the networknt json validator","body":"<p>I'm using <a href=\"http://json-schema.org/\" rel=\"nofollow noreferrer\">json-schema</a> to validate a JSON payload with the help of <a href=\"https://github.com/networknt/json-schema-validator\" rel=\"nofollow noreferrer\">networknt json-schema-validator</a>. Now I need to set a severity level like &quot;warning&quot; or &quot;error&quot; to each attribute, and based on its value I'm deciding how to print that validation message, for example, <code>log.error</code> or <code>log.warn</code>. For that, I need to get that value through Java code when/after it is validated.</p>\n<p>I checked a way to parse some additional details to the <code>json-schema</code> along with other fields(type, message, ..) but couldn't find anything.</p>\n<p>Also, I'm wondering about the method in <code>com.networknt.schema.ValidationMessage#getDetails()</code>, I'm assuming that there is a way to parse extra information through the <code>json-schema</code> and that information can be retrieved through that method.</p>\n<p>If I explain my expectation through a code, it is like this,</p>\n<pre><code>&quot;zip_code&quot;: {\n  &quot;type&quot;: &quot;string&quot;,\n  &quot;minLength&quot;: 1,\n  &quot;severity&quot;: &quot;Error&quot;,\n  &quot;message&quot;: {\n    &quot;type&quot;: &quot;Address.zip_code is not a 'String' value&quot;,\n    &quot;minLength&quot;: &quot;Address.zip_code is empty&quot;\n  }\n}\n</code></pre>\n<p>&quot;severity&quot; is the additional attribute that holds the information I need</p>\n<pre><code>InputStream inputStream = ExampleClass.class.getClassLoader().getResourceAsStream(schema);\nJsonSchemaFactory factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\nJsonSchema jsonSchema = factory.getSchema(inputStream);\n\nSet&lt;ValidationMessage&gt; errors = jsonSchema.validate(event);\nerrors.forEach(validationMessage -&gt; {\n    if(validationMessage.getDetails().get(&quot;severity&quot;) == &quot;Error&quot;) {\n       log.error(validationMessage);\n    } else {\n       log.warn(validationMessage);\n    }\n\n});\n</code></pre>\n<p>Maybe, the above way might not be possible, but anyway I'm expective some guidance here on achieving this. TIA.</p>\n"},{"tags":["java","gwt","ant","code-coverage","jacoco"],"answers":[{"tags":[],"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683842655,"creation_date":1683842655,"answer_id":76231882,"question_id":76230965,"body_markdown":"Your `jacoco:coverage` task specifies\r\n\r\n\r\n```\r\ndestfile=&quot;${local.build.dir}/jacoco.exec&quot;\r\n```\r\n\r\nwhereas your `jacoco:report` task specifies\r\n\r\n```\r\n        &lt;executiondata&gt;\r\n          &lt;file file=&quot;${build.dir}/jacoco.exec&quot;/&gt;\r\n```\r\n\r\nso I guess that change of the last one on\r\n\r\n```\r\n        &lt;executiondata&gt;\r\n          &lt;file file=&quot;${local.build.dir}/jacoco.exec&quot;/&gt;\r\n```\r\n\r\nshould help.\r\n","title":"Unable to read execution data file jacoco.exec","body":"<p>Your <code>jacoco:coverage</code> task specifies</p>\n<pre><code>destfile=&quot;${local.build.dir}/jacoco.exec&quot;\n</code></pre>\n<p>whereas your <code>jacoco:report</code> task specifies</p>\n<pre><code>        &lt;executiondata&gt;\n          &lt;file file=&quot;${build.dir}/jacoco.exec&quot;/&gt;\n</code></pre>\n<p>so I guess that change of the last one on</p>\n<pre><code>        &lt;executiondata&gt;\n          &lt;file file=&quot;${local.build.dir}/jacoco.exec&quot;/&gt;\n</code></pre>\n<p>should help.</p>\n"}],"owner":{"account_id":19305970,"reputation":3,"user_id":14112775,"display_name":"Reshu Kumari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76231882,"answer_count":1,"score":0,"last_activity_date":1683842655,"creation_date":1683832576,"question_id":76230965,"body_markdown":"I want to get the code coverage of a GWT application using jacoco. The build is done using ant and the build file looks like this\r\n\r\n```\r\n&lt;jacoco:coverage destfile=&quot;${local.build.dir}/jacoco.exec&quot;&gt;\r\n      &lt;junit printsummary=&quot;yes&quot;\r\n             fork=&quot;true&quot;\r\n             dir=&quot;${basedir}&quot;\r\n             forkmode=&quot;@{aij-forkmode}&quot;\r\n             haltonfailure=&quot;yes&quot;\r\n             maxmemory=&quot;2000m&quot;\r\n             showoutput=&quot;no&quot;&gt;\r\n        &lt;jvmarg value=&quot;-XX:MaxPermSize=128m&quot;/&gt;\r\n        &lt;sysproperty key=&quot;gwt.args&quot; value=&quot;-prod -gen ${local.build.dir}/gen -war ${local.build.dir}/build/war&quot; if:true=&quot;@{aij-prod}&quot;/&gt;\r\n        &lt;sysproperty key=&quot;gwt.args&quot; value=&quot;-devMode -logLevel WARN -war ${local.build.dir}/build/war&quot; unless:true=&quot;@{aij-prod}&quot;/&gt;\r\n        &lt;sysproperty key=&quot;java.awt.headless&quot; value=&quot;true&quot;/&gt;\r\n        &lt;classpath refid=&quot;@{aij-testingtarget}.path&quot;/&gt;\r\n        &lt;formatter type=&quot;xml&quot;/&gt;\r\n        &lt;!-- If the ant command line sets the test_name property (see above)\r\n             then we just run that one test. --&gt;\r\n        &lt;test fork=&quot;true&quot; name=&quot;${test_name}&quot; todir=&quot;${reports.dir}/raw/&quot; if=&quot;test_name&quot;/&gt;\r\n        &lt;!-- otherwise, we run all the tests --&gt;\r\n        &lt;batchtest fork=&quot;true&quot; todir=&quot;${reports.dir}/raw/&quot; unless=&quot;test_name&quot;&gt;\r\n          &lt;fileset dir=&quot;${tests.dir}&quot;&gt;\r\n            &lt;include name=&quot;@{aij-dir}/**/*Test.java&quot; /&gt;\r\n            &lt;exclude name=&quot;@{aij-dir}/**/Abstract*Test.java&quot; /&gt;\r\n          &lt;/fileset&gt;\r\n        &lt;/batchtest&gt;\r\n      &lt;/junit&gt;\r\n      &lt;/jacoco:coverage&gt;\r\n      \r\n      &lt;junitreport todir=&quot;${reports.dir}&quot;&gt;\r\n        &lt;fileset dir=&quot;${reports.dir}/raw/&quot;&gt;\r\n          &lt;include name=&quot;TEST-*.xml&quot;/&gt;\r\n        &lt;/fileset&gt;\r\n        &lt;report format=&quot;frames&quot; todir=&quot;${reports.dir}/html&quot;/&gt;\r\n      &lt;/junitreport&gt;\r\n      \r\n      &lt;jacoco:report&gt;\r\n        &lt;executiondata&gt;\r\n          &lt;file file=&quot;${build.dir}/jacoco.exec&quot;/&gt;\r\n        &lt;/executiondata&gt;\r\n        &lt;structure name=&quot;Example Project&quot;&gt;\r\n          &lt;classfiles&gt;\r\n               &lt;fileset dir=&quot;${class.dir}&quot;/&gt;\r\n          &lt;/classfiles&gt;\r\n          &lt;sourcefiles encoding=&quot;UTF-8&quot;&gt;\r\n               &lt;fileset dir=&quot;${src.dir}&quot;/&gt;\r\n          &lt;/sourcefiles&gt;\r\n        &lt;/structure&gt;\r\n\r\n          &lt;html destdir=&quot;${coverage.dir}&quot;/&gt;\r\n      &lt;/jacoco:report&gt;\r\n```\r\n\r\nI am getting the following error when I run tests command `Unable to read execution data file /build/jacoco.exec` for the jacoco report task.\r\nHow can I solve this error.\r\n\r\nI tried different stackoverflow answers but nothing worked.","title":"Unable to read execution data file jacoco.exec","body":"<p>I want to get the code coverage of a GWT application using jacoco. The build is done using ant and the build file looks like this</p>\n<pre><code>&lt;jacoco:coverage destfile=&quot;${local.build.dir}/jacoco.exec&quot;&gt;\n      &lt;junit printsummary=&quot;yes&quot;\n             fork=&quot;true&quot;\n             dir=&quot;${basedir}&quot;\n             forkmode=&quot;@{aij-forkmode}&quot;\n             haltonfailure=&quot;yes&quot;\n             maxmemory=&quot;2000m&quot;\n             showoutput=&quot;no&quot;&gt;\n        &lt;jvmarg value=&quot;-XX:MaxPermSize=128m&quot;/&gt;\n        &lt;sysproperty key=&quot;gwt.args&quot; value=&quot;-prod -gen ${local.build.dir}/gen -war ${local.build.dir}/build/war&quot; if:true=&quot;@{aij-prod}&quot;/&gt;\n        &lt;sysproperty key=&quot;gwt.args&quot; value=&quot;-devMode -logLevel WARN -war ${local.build.dir}/build/war&quot; unless:true=&quot;@{aij-prod}&quot;/&gt;\n        &lt;sysproperty key=&quot;java.awt.headless&quot; value=&quot;true&quot;/&gt;\n        &lt;classpath refid=&quot;@{aij-testingtarget}.path&quot;/&gt;\n        &lt;formatter type=&quot;xml&quot;/&gt;\n        &lt;!-- If the ant command line sets the test_name property (see above)\n             then we just run that one test. --&gt;\n        &lt;test fork=&quot;true&quot; name=&quot;${test_name}&quot; todir=&quot;${reports.dir}/raw/&quot; if=&quot;test_name&quot;/&gt;\n        &lt;!-- otherwise, we run all the tests --&gt;\n        &lt;batchtest fork=&quot;true&quot; todir=&quot;${reports.dir}/raw/&quot; unless=&quot;test_name&quot;&gt;\n          &lt;fileset dir=&quot;${tests.dir}&quot;&gt;\n            &lt;include name=&quot;@{aij-dir}/**/*Test.java&quot; /&gt;\n            &lt;exclude name=&quot;@{aij-dir}/**/Abstract*Test.java&quot; /&gt;\n          &lt;/fileset&gt;\n        &lt;/batchtest&gt;\n      &lt;/junit&gt;\n      &lt;/jacoco:coverage&gt;\n      \n      &lt;junitreport todir=&quot;${reports.dir}&quot;&gt;\n        &lt;fileset dir=&quot;${reports.dir}/raw/&quot;&gt;\n          &lt;include name=&quot;TEST-*.xml&quot;/&gt;\n        &lt;/fileset&gt;\n        &lt;report format=&quot;frames&quot; todir=&quot;${reports.dir}/html&quot;/&gt;\n      &lt;/junitreport&gt;\n      \n      &lt;jacoco:report&gt;\n        &lt;executiondata&gt;\n          &lt;file file=&quot;${build.dir}/jacoco.exec&quot;/&gt;\n        &lt;/executiondata&gt;\n        &lt;structure name=&quot;Example Project&quot;&gt;\n          &lt;classfiles&gt;\n               &lt;fileset dir=&quot;${class.dir}&quot;/&gt;\n          &lt;/classfiles&gt;\n          &lt;sourcefiles encoding=&quot;UTF-8&quot;&gt;\n               &lt;fileset dir=&quot;${src.dir}&quot;/&gt;\n          &lt;/sourcefiles&gt;\n        &lt;/structure&gt;\n\n          &lt;html destdir=&quot;${coverage.dir}&quot;/&gt;\n      &lt;/jacoco:report&gt;\n</code></pre>\n<p>I am getting the following error when I run tests command <code>Unable to read execution data file /build/jacoco.exec</code> for the jacoco report task.\nHow can I solve this error.</p>\n<p>I tried different stackoverflow answers but nothing worked.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":10275035,"reputation":100058,"user_id":7582247,"display_name":"Ted Lyngmo"},"score":0,"creation_date":1683841038,"post_id":76231729,"comment_id":134432584,"body_markdown":"It seems only Java and JavaScript are using regex engines that timesout when I tested this on regex101.com. All the other quickly concludes that there is no match. Perhaps you could use PCRE2 (if there are java bindings for it)?","body":"It seems only Java and JavaScript are using regex engines that timesout when I tested this on regex101.com. All the other quickly concludes that there is no match. Perhaps you could use PCRE2 (if there are java bindings for it)?"},{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":0,"creation_date":1683841131,"post_id":76231729,"comment_id":134432603,"body_markdown":"@TedLyngmo PCRE2 took ~713k steps before failing (check *Regex Debugger*).","body":"@TedLyngmo PCRE2 took ~713k steps before failing (check <i>Regex Debugger</i>)."},{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":0,"creation_date":1683841279,"post_id":76231729,"comment_id":134432622,"body_markdown":"I don&#39;t know Java, but this seems to be related: [Is Java ReDos vulnerable?](https://stackoverflow.com/q/53048859)","body":"I don&#39;t know Java, but this seems to be related: <a href=\"https://stackoverflow.com/q/53048859\">Is Java ReDos vulnerable?</a>"},{"owner":{"account_id":60200,"reputation":479675,"user_id":179910,"display_name":"Jerry Coffin"},"score":1,"creation_date":1683842339,"post_id":76231729,"comment_id":134432776,"body_markdown":"DFA-based regex engines can match patterns like this in linear time (at the expense of usually using more memory). If you want to support tagged subexpressions, you can use a TDFA (tagged DFA), but they&#39;re more complex still. You can also do some quick hacks by pre-processing the user&#39;s input for obvious problems like this one--since `.*` (once) can match an arbitrary amount of input, you can safely collapse `.*.*` down to a single `.*`. In your example case, that reduces the pattern to `.*b.*x`, which should be fast on essentially any regex engine.","body":"DFA-based regex engines can match patterns like this in linear time (at the expense of usually using more memory). If you want to support tagged subexpressions, you can use a TDFA (tagged DFA), but they&#39;re more complex still. You can also do some quick hacks by pre-processing the user&#39;s input for obvious problems like this one--since <code>.*</code> (once) can match an arbitrary amount of input, you can safely collapse <code>.*.*</code> down to a single <code>.*</code>. In your example case, that reduces the pattern to <code>.*b.*x</code>, which should be fast on essentially any regex engine."},{"owner":{"account_id":60200,"reputation":479675,"user_id":179910,"display_name":"Jerry Coffin"},"score":2,"creation_date":1683842474,"post_id":76231729,"comment_id":134432798,"body_markdown":"A clever user can pretty easily outwit that simple-minded hack though. You can add more sophisticated hacks to make a DoS attack more difficult, but in the end, it probably makes more sense to just spawn the regex search into a separate process, and limit its resource usage, or use a [DFA-based regex engine](https://github.com/marianobarrios/dregex).","body":"A clever user can pretty easily outwit that simple-minded hack though. You can add more sophisticated hacks to make a DoS attack more difficult, but in the end, it probably makes more sense to just spawn the regex search into a separate process, and limit its resource usage, or use a <a href=\"https://github.com/marianobarrios/dregex\" rel=\"nofollow noreferrer\">DFA-based regex engine</a>."},{"owner":{"account_id":10275035,"reputation":100058,"user_id":7582247,"display_name":"Ted Lyngmo"},"score":0,"creation_date":1683842474,"post_id":76231729,"comment_id":134432799,"body_markdown":"@InSync Yes, I noticed but it did finish quickly. Unfortunately one can&#39;t check how many steps the other successful engines takes. I suggested PCRE2 because I think it has a lot of language bindings.","body":"@InSync Yes, I noticed but it did finish quickly. Unfortunately one can&#39;t check how many steps the other successful engines takes. I suggested PCRE2 because I think it has a lot of language bindings."}],"answers":[{"tags":[],"owner":{"account_id":2219797,"reputation":10731,"user_id":1960027,"display_name":"Simon"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1683841400,"creation_date":1683841400,"answer_id":76231791,"question_id":76231729,"body_markdown":"According to [Mastering Regular Expressions, 3rd Edition](https://www.oreilly.com/library/view/mastering-regular-expressions/0596528124/ch04.html), Java uses a Traditional NFA regex engine that supports lazy quantifiers but has the disadvantage that some patterns can take a very long time to match.\r\n\r\nDFA engines, being deterministic, don&#39;t suffer from that problem but are less powerful. In particular, lazy quantifiers are not possible with a DFA regex engine such as that found in &quot;awk (most versions), egrep (most versions), flex, lex&quot;.\r\n\r\nSee also [DFA Based Regular Expression Engines for Java with Capture](https://stackoverflow.com/questions/1963975/dfa-based-regular-expression-engines-for-java-with-capture).\r\n\r\n","title":"Regex prone to DOS attack","body":"<p>According to <a href=\"https://www.oreilly.com/library/view/mastering-regular-expressions/0596528124/ch04.html\" rel=\"nofollow noreferrer\">Mastering Regular Expressions, 3rd Edition</a>, Java uses a Traditional NFA regex engine that supports lazy quantifiers but has the disadvantage that some patterns can take a very long time to match.</p>\n<p>DFA engines, being deterministic, don't suffer from that problem but are less powerful. In particular, lazy quantifiers are not possible with a DFA regex engine such as that found in &quot;awk (most versions), egrep (most versions), flex, lex&quot;.</p>\n<p>See also <a href=\"https://stackoverflow.com/questions/1963975/dfa-based-regular-expression-engines-for-java-with-capture\">DFA Based Regular Expression Engines for Java with Capture</a>.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1683842648,"creation_date":1683842051,"answer_id":76231839,"question_id":76231729,"body_markdown":"SonarQube keeps alarming on regex like `.*something.*`. Even that must have bad performance, but compared to what?\r\n\r\nComing back to your question: Apparently Sonar has the ability to inspect a regex and determine the risk. While I have not checked where in the code it would decide to alarm, it is open source and can be found at https://github.com/SonarSource/sonarqube\r\n\r\nEdit: There seem to be multiple checks for regex patterns in this directory:\r\nhttps://github.com/SonarSource/sonar-java/tree/master/java-checks/src/main/java/org/sonar/java/checks/regex\r\n\r\nEdit2: The code uses factored out common classes. Here is another promising specimen: https://github.com/SonarSource/sonar-analyzer-commons/blob/master/regex-parsing/src/main/java/org/sonarsource/analyzer/commons/regex/finders/RedosFinder.java","title":"Regex prone to DOS attack","body":"<p>SonarQube keeps alarming on regex like <code>.*something.*</code>. Even that must have bad performance, but compared to what?</p>\n<p>Coming back to your question: Apparently Sonar has the ability to inspect a regex and determine the risk. While I have not checked where in the code it would decide to alarm, it is open source and can be found at <a href=\"https://github.com/SonarSource/sonarqube\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/sonarqube</a></p>\n<p>Edit: There seem to be multiple checks for regex patterns in this directory:\n<a href=\"https://github.com/SonarSource/sonar-java/tree/master/java-checks/src/main/java/org/sonar/java/checks/regex\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/sonar-java/tree/master/java-checks/src/main/java/org/sonar/java/checks/regex</a></p>\n<p>Edit2: The code uses factored out common classes. Here is another promising specimen: <a href=\"https://github.com/SonarSource/sonar-analyzer-commons/blob/master/regex-parsing/src/main/java/org/sonarsource/analyzer/commons/regex/finders/RedosFinder.java\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/sonar-analyzer-commons/blob/master/regex-parsing/src/main/java/org/sonarsource/analyzer/commons/regex/finders/RedosFinder.java</a></p>\n"}],"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"comment_count":6,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1683876846,"answer_count":2,"score":1,"last_activity_date":1683842648,"creation_date":1683840529,"question_id":76231729,"body_markdown":"The following program takes 1.5 seconds to run on my Intel Core i7 machine:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        String regex = &quot;.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*b.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*x&quot;;\r\n        long start = System.nanoTime();\r\n        boolean match = &quot;aaabccc&quot;.matches(regex);\r\n        long end = System.nanoTime();\r\n        System.out.println((end - start) / 1e9);\r\n    }\r\n```\r\n\r\nThe regex consists of 30 times &quot;.\\*&quot; followed by a &quot;b&quot;, followed by another 30 times &quot;.\\*&quot; and finally an &quot;x&quot;. The time taken by `String.matches` to return is exponential on the number of &quot;.*&quot;, i.e. it&#39;s _O(eⁿ)_. If you replace 30 by 50, it will take more than a minute to return.\r\n\r\nThis is concerning because I was thinking of having a public HTTP API where the user would be able to enter a regex. If the regex is coming from outside, it is possible that a malicious user could enter a regex that would cause very high CPU on my server for a long time.\r\n\r\nIs this a known issue in the Java API and does anyone know of a workaround, i.e. a way to inspect a regex to determine whether it is dangerous to use?","title":"Regex prone to DOS attack","body":"<p>The following program takes 1.5 seconds to run on my Intel Core i7 machine:</p>\n<pre><code>    public static void main(String[] args) {\n        String regex = &quot;.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*b.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*.*x&quot;;\n        long start = System.nanoTime();\n        boolean match = &quot;aaabccc&quot;.matches(regex);\n        long end = System.nanoTime();\n        System.out.println((end - start) / 1e9);\n    }\n</code></pre>\n<p>The regex consists of 30 times &quot;.*&quot; followed by a &quot;b&quot;, followed by another 30 times &quot;.*&quot; and finally an &quot;x&quot;. The time taken by <code>String.matches</code> to return is exponential on the number of &quot;.*&quot;, i.e. it's <em>O(eⁿ)</em>. If you replace 30 by 50, it will take more than a minute to return.</p>\n<p>This is concerning because I was thinking of having a public HTTP API where the user would be able to enter a regex. If the regex is coming from outside, it is possible that a malicious user could enter a regex that would cause very high CPU on my server for a long time.</p>\n<p>Is this a known issue in the Java API and does anyone know of a workaround, i.e. a way to inspect a regex to determine whether it is dangerous to use?</p>\n"},{"tags":["java","spring","openapi-generator","java-17","openapi-generator-maven-plugin"],"owner":{"account_id":25703682,"reputation":21,"user_id":19463357,"display_name":"Roger Huamani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683842574,"creation_date":1683840895,"question_id":76231759,"body_markdown":"##### Description\r\nHi everyone I was migrating plugin for open api from 4.3.1 to latest version 6.5.0.\r\n\r\nI has a custom project that use or Extends SpringCodegen for generate my classes of my spring projects. I am migrating the plugin in pom dependencies but I had some errors, I was trying solver that but I can&#39;t see what is the reason probably I need configure or add some overrides for use this new version of SpringCodegen or Probably update the mustaches of spring language.\r\n\r\n##### openapi-generator version\r\n 6.5.0\r\n\r\n##### OpenAPI declaration file content or url\r\n\r\n```yaml\r\nopenapi: 3.0.0\r\ninfo:\r\n  version: 1.0.0\r\n  title: Simple API\r\n  description: A simple API to illustrate OpenAPI concepts\r\n\r\nservers:\r\n  - url: https://example.io/v1\r\n\r\ncomponents:\r\n  securitySchemes:\r\n    BasicAuth:\r\n      type: http\r\n      scheme: basic\r\nsecurity:\r\n  - BasicAuth: []\r\n\r\npaths:\r\n  /artists:\r\n    get:\r\n      description: Returns a list of artists\r\n      #  ----- Added lines  ----------------------------------------\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: Successfully returned a list of artists\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  type: object\r\n                  required:\r\n                    - username\r\n                  properties:\r\n                    artist_name:\r\n                      type: string\r\n                    artist_genre:\r\n                      type: string\r\n                    albums_recorded:\r\n                      type: integer\r\n                    username:\r\n                      type: string\r\n\r\n        &#39;400&#39;:\r\n          description: Invalid request\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: object\r\n                properties:\r\n                  message:\r\n                    type: string\r\n      #  ---- /Added lines  ----------------------------------------\r\n```\r\n\r\n##### Command line used for generation\r\nI am using maven 3.8.1\r\n\r\n&lt;!-- including the language, libraries and various options --&gt;\r\nJDK 17 Temurin, spring boot 3, open api plugin 6.5.0\r\n\r\n##### Steps to reproduce\r\nI had this error when I compile the project.\r\n\r\nI change from supportingFile.templateFile() to supportingFile.getTemplateFile() because the new version of plugin has this feature in 6.5.0\r\n\r\nThis fragment is of my class that  @Override method &quot;processOpts&quot; of SpringCodegen\r\n\r\n    supportingFiles.removeIf(supportingFile -&gt; &quot;openapi2SpringBoot.mustache&quot;\r\n            .equals(supportingFile.getTemplateFile())\r\n            &amp;&amp; &quot;OpenAPI2SpringBoot.java&quot;.equals(supportingFile.getDestinationFilename()));\r\n    supportingFiles.add(new SupportingFile(&quot;myApplication.mustache&quot;,\r\n            (sourceFolder + File.separator + basePackage)\r\n                    .replace(&quot;.&quot;, File.separator), &quot;MyApplication.java&quot;));\r\n\r\nLog error:\r\n\r\n    unexpected error in Open-API generation\r\n\r\n    java.lang.RuntimeException: Could not generate supporting file &#39;SupportingFile[templateFile=&#39;openapi2SpringBoot.mustache&#39;, folder=&#39;src/main/java/com/myproject/project/services/cross/accessentitlement&#39;, destinationFilename=&#39;OpenApiGeneratorApplication.java&#39;, canOverwrite=true]&#39;\r\n        at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:755)\r\n        at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\r\n        at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    Caused by: org.openapitools.codegen.templating.TemplateNotFoundException: openapi2SpringBoot.mustache\r\n        at org.openapitools.codegen.TemplateManager.getFullTemplateFile (TemplateManager.java:54)\r\n        at org.openapitools.codegen.TemplateManager.getFullTemplateContents (TemplateManager.java:72)\r\n        at org.openapitools.codegen.templating.MustacheEngineAdapter.compileTemplate (MustacheEngineAdapter.java:63)\r\n        at org.openapitools.codegen.TemplateManager.write (TemplateManager.java:163)\r\n        at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1072)\r\n        at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1059)\r\n        at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:747)\r\n        at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\r\n        at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    [ERROR] \r\n    java.lang.RuntimeException: Could not generate supporting file &#39;SupportingFile[templateFile=&#39;openapi2SpringBoot.mustache&#39;, folder=&#39;src/main/java/com/myproject/project/services/cross/accessentitlement&#39;, destinationFilename=&#39;OpenApiGeneratorApplication.java&#39;, canOverwrite=true]&#39;\r\n        at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:755)\r\n        at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\r\n        at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    Caused by: org.openapitools.codegen.templating.TemplateNotFoundException: openapi2SpringBoot.mustache\r\n        at org.openapitools.codegen.TemplateManager.getFullTemplateFile (TemplateManager.java:54)\r\n        at org.openapitools.codegen.TemplateManager.getFullTemplateContents (TemplateManager.java:72)\r\n        at org.openapitools.codegen.templating.MustacheEngineAdapter.compileTemplate (MustacheEngineAdapter.java:63)\r\n        at org.openapitools.codegen.TemplateManager.write (TemplateManager.java:163)\r\n        at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1072)\r\n        at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1059)\r\n        at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:747)\r\n        at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\r\n        at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n\r\n##### Related issues/PRs\r\nNo\r\n\r\n##### Suggest a fix/enhancement\r\n","title":"Problem migrating custom open api generator from 4.3.1 to 6.5.0 [JAVA - SpringCodegen] #15484","body":"<h5>Description</h5>\n<p>Hi everyone I was migrating plugin for open api from 4.3.1 to latest version 6.5.0.</p>\n<p>I has a custom project that use or Extends SpringCodegen for generate my classes of my spring projects. I am migrating the plugin in pom dependencies but I had some errors, I was trying solver that but I can't see what is the reason probably I need configure or add some overrides for use this new version of SpringCodegen or Probably update the mustaches of spring language.</p>\n<h5>openapi-generator version</h5>\n<p>6.5.0</p>\n<h5>OpenAPI declaration file content or url</h5>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: 3.0.0\ninfo:\n  version: 1.0.0\n  title: Simple API\n  description: A simple API to illustrate OpenAPI concepts\n\nservers:\n  - url: https://example.io/v1\n\ncomponents:\n  securitySchemes:\n    BasicAuth:\n      type: http\n      scheme: basic\nsecurity:\n  - BasicAuth: []\n\npaths:\n  /artists:\n    get:\n      description: Returns a list of artists\n      #  ----- Added lines  ----------------------------------------\n      responses:\n        '200':\n          description: Successfully returned a list of artists\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: object\n                  required:\n                    - username\n                  properties:\n                    artist_name:\n                      type: string\n                    artist_genre:\n                      type: string\n                    albums_recorded:\n                      type: integer\n                    username:\n                      type: string\n\n        '400':\n          description: Invalid request\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  message:\n                    type: string\n      #  ---- /Added lines  ----------------------------------------\n</code></pre>\n<h5>Command line used for generation</h5>\n<p>I am using maven 3.8.1</p>\n\n<p>JDK 17 Temurin, spring boot 3, open api plugin 6.5.0</p>\n<h5>Steps to reproduce</h5>\n<p>I had this error when I compile the project.</p>\n<p>I change from supportingFile.templateFile() to supportingFile.getTemplateFile() because the new version of plugin has this feature in 6.5.0</p>\n<p>This fragment is of my class that  @Override method &quot;processOpts&quot; of SpringCodegen</p>\n<pre><code>supportingFiles.removeIf(supportingFile -&gt; &quot;openapi2SpringBoot.mustache&quot;\n        .equals(supportingFile.getTemplateFile())\n        &amp;&amp; &quot;OpenAPI2SpringBoot.java&quot;.equals(supportingFile.getDestinationFilename()));\nsupportingFiles.add(new SupportingFile(&quot;myApplication.mustache&quot;,\n        (sourceFolder + File.separator + basePackage)\n                .replace(&quot;.&quot;, File.separator), &quot;MyApplication.java&quot;));\n</code></pre>\n<p>Log error:</p>\n<pre><code>unexpected error in Open-API generation\n\njava.lang.RuntimeException: Could not generate supporting file 'SupportingFile[templateFile='openapi2SpringBoot.mustache', folder='src/main/java/com/myproject/project/services/cross/accessentitlement', destinationFilename='OpenApiGeneratorApplication.java', canOverwrite=true]'\n    at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:755)\n    at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: org.openapitools.codegen.templating.TemplateNotFoundException: openapi2SpringBoot.mustache\n    at org.openapitools.codegen.TemplateManager.getFullTemplateFile (TemplateManager.java:54)\n    at org.openapitools.codegen.TemplateManager.getFullTemplateContents (TemplateManager.java:72)\n    at org.openapitools.codegen.templating.MustacheEngineAdapter.compileTemplate (MustacheEngineAdapter.java:63)\n    at org.openapitools.codegen.TemplateManager.write (TemplateManager.java:163)\n    at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1072)\n    at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1059)\n    at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:747)\n    at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n[ERROR] \njava.lang.RuntimeException: Could not generate supporting file 'SupportingFile[templateFile='openapi2SpringBoot.mustache', folder='src/main/java/com/myproject/project/services/cross/accessentitlement', destinationFilename='OpenApiGeneratorApplication.java', canOverwrite=true]'\n    at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:755)\n    at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: org.openapitools.codegen.templating.TemplateNotFoundException: openapi2SpringBoot.mustache\n    at org.openapitools.codegen.TemplateManager.getFullTemplateFile (TemplateManager.java:54)\n    at org.openapitools.codegen.TemplateManager.getFullTemplateContents (TemplateManager.java:72)\n    at org.openapitools.codegen.templating.MustacheEngineAdapter.compileTemplate (MustacheEngineAdapter.java:63)\n    at org.openapitools.codegen.TemplateManager.write (TemplateManager.java:163)\n    at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1072)\n    at org.openapitools.codegen.DefaultGenerator.processTemplateToFile (DefaultGenerator.java:1059)\n    at org.openapitools.codegen.DefaultGenerator.generateSupportingFiles (DefaultGenerator.java:747)\n    at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:933)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:870)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:299)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:963)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:296)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:199)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n</code></pre>\n<h5>Related issues/PRs</h5>\n<p>No</p>\n<h5>Suggest a fix/enhancement</h5>\n"},{"tags":["java","c","parsing","jvm","strtoul"],"comments":[{"owner":{"account_id":5175721,"reputation":34195,"user_id":4142924,"display_name":"Weather Vane"},"score":0,"creation_date":1683841930,"post_id":76231747,"comment_id":134432710,"body_markdown":"You should `printf(&quot;%s\\n&quot;, bytecode_hex)` in the `parse_class()` function. `strtoul()` returns `ULONG_MAX` if it is out of range.","body":"You should <code>printf(&quot;%s\\n&quot;, bytecode_hex)</code> in the <code>parse_class()</code> function. <code>strtoul()</code> returns <code>ULONG_MAX</code> if it is out of range."},{"owner":{"account_id":25916036,"reputation":3523,"user_id":19639413,"display_name":"pmacfarlane"},"score":0,"creation_date":1683842063,"post_id":76231747,"comment_id":134432732,"body_markdown":"Your `realloc(buffer, strlen(buffer), ...)` looks dubious. Can the bytecode contain zero bytes? Better to maintain the current length of your buffer in a variable, and double it each time you realloc.","body":"Your <code>realloc(buffer, strlen(buffer), ...)</code> looks dubious. Can the bytecode contain zero bytes? Better to maintain the current length of your buffer in a variable, and double it each time you realloc."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1683842123,"post_id":76231747,"comment_id":134432742,"body_markdown":"Procees the bytes first, not hex codes. Use hex only to print the output.","body":"Procees the bytes first, not hex codes. Use hex only to print the output."},{"owner":{"account_id":5175721,"reputation":34195,"user_id":4142924,"display_name":"Weather Vane"},"score":0,"creation_date":1683842240,"post_id":76231747,"comment_id":134432761,"body_markdown":"The classic way to build an incoming value isn&#39;t with all that malarkey, but to multiply an accumulator by the base and add the incoming byte.","body":"The classic way to build an incoming value isn&#39;t with all that malarkey, but to multiply an accumulator by the base and add the incoming byte."},{"owner":{"account_id":7024615,"reputation":31207,"user_id":5382650,"display_name":"Craig Estey"},"score":0,"creation_date":1683854704,"post_id":76231747,"comment_id":134434095,"body_markdown":"Some docs: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html and https://en.wikipedia.org/wiki/Java_class_file You&#39;ll have to read in the data as _binary_ bytes and store them on field-by-field basis. This could be a C struct as is, _except_ for variable arrays _embedded_ in the struct (which C does _not_ have): `u2 constant_pool_count; cp_info constant_pool[constant_pool_count-1];` In C, we&#39;d need a pointer: `u2 constant_pool_count; cp_info *constant_pool;  // [constant_pool_count-1]` Similar for `interfaces*`, `fields*`, `methods*` and `attributes*`","body":"Some docs: <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html</a> and <a href=\"https://en.wikipedia.org/wiki/Java_class_file\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_class_file</a> You&#39;ll have to read in the data as <i>binary</i> bytes and store them on field-by-field basis. This could be a C struct as is, <i>except</i> for variable arrays <i>embedded</i> in the struct (which C does <i>not</i> have): <code>u2 constant_pool_count; cp_info constant_pool[constant_pool_count-1];</code> In C, we&#39;d need a pointer: <code>u2 constant_pool_count; cp_info *constant_pool;  &#47;&#47; [constant_pool_count-1]</code> Similar for <code>interfaces*</code>, <code>fields*</code>, <code>methods*</code> and <code>attributes*</code>"},{"owner":{"account_id":7024615,"reputation":31207,"user_id":5382650,"display_name":"Craig Estey"},"score":0,"creation_date":1683855329,"post_id":76231747,"comment_id":134434156,"body_markdown":"To start, I&#39;d create two functions: `classfile_load` and `classfile_store`. The first populates the above [C] struct from the class file. The second serializes it to an output file. Both files should now _match_ byte-for-byte. Also, you could have a `classfile_print` that prints out the struct in human readable format (e.g.) `printf(&quot;magic=%4.4X\\n&quot;,ptr-&gt;magic);` This proves that you read it in correctly, accounting for byte-endianess, etc.","body":"To start, I&#39;d create two functions: <code>classfile_load</code> and <code>classfile_store</code>. The first populates the above [C] struct from the class file. The second serializes it to an output file. Both files should now <i>match</i> byte-for-byte. Also, you could have a <code>classfile_print</code> that prints out the struct in human readable format (e.g.) <code>printf(&quot;magic=%4.4X\\n&quot;,ptr-&gt;magic);</code> This proves that you read it in correctly, accounting for byte-endianess, etc."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683872640,"post_id":76231747,"comment_id":134435879,"body_markdown":"Don’t you feel something’s weird about converting data to a hex dump and parsing it back to data?","body":"Don’t you feel something’s weird about converting data to a hex dump and parsing it back to data?"}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683842512,"creation_date":1683842512,"answer_id":76231871,"question_id":76231747,"body_markdown":"Did you look at your `bytecode_hex` string? You are printing a long string of hexadecimal digits. The first `strtoul()` processes it in its entirely, overflowing, and so returning `0xffffffff`. (Or perhaps `0xffffffffffffffff`, since you are only printing the low eight digits.) The next two `strtoul()` calls see no hex digits, and so return 0.\r\n\r\nYou need to put in spaces for where you want the `strtoul()` to stop. Otherwise it has no clue how to parse a string of nothing but hex digits.\r\n\r\nAlso, it makes no sense to convert the byte codes to hex, and then back to binary. Just process the byte codes.","title":"Strtoul Returns Wrong Output in Toy JVM Parser","body":"<p>Did you look at your <code>bytecode_hex</code> string? You are printing a long string of hexadecimal digits. The first <code>strtoul()</code> processes it in its entirely, overflowing, and so returning <code>0xffffffff</code>. (Or perhaps <code>0xffffffffffffffff</code>, since you are only printing the low eight digits.) The next two <code>strtoul()</code> calls see no hex digits, and so return 0.</p>\n<p>You need to put in spaces for where you want the <code>strtoul()</code> to stop. Otherwise it has no clue how to parse a string of nothing but hex digits.</p>\n<p>Also, it makes no sense to convert the byte codes to hex, and then back to binary. Just process the byte codes.</p>\n"}],"owner":{"account_id":16767755,"reputation":33,"user_id":12121012,"display_name":"Levent Kaya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683842512,"creation_date":1683840776,"question_id":76231747,"body_markdown":"I am trying to program a simple bit JVM with C. After reading the .class file with hex, I am trying to parse this file.\r\n\r\n    char *get_bytecode(const char *filename) {\r\n        FILE *fileptr = fopen(filename, &quot;rb&quot;);\r\n        if (!fileptr) {\r\n            fprintf(stderr, &quot;Error: could not open file %s\\n&quot;, filename);\r\n            return NULL;\r\n        }\r\n        char *buffer = malloc(1);\r\n        buffer[0] = &#39;\\0&#39;;\r\n        unsigned char byte;\r\n        while(fread(&amp;byte, sizeof(byte), 1, fileptr) == 1) {\r\n            char *temp = malloc(3);\r\n            sprintf(temp, &quot;%02x&quot;, byte);\r\n            buffer = realloc(buffer, strlen(buffer) + strlen(temp) + 1);\r\n            strcat(buffer, temp);\r\n            free(temp);\r\n        }\r\n        fclose(fileptr);\r\n        return buffer;\r\n    }\r\nThere is no problem with the above function that I occured. After that, I wrote a function to parse the bytecode I received:\r\n\r\n    classfile parse_class(const char *bytecode_hex) {\r\n        classfile classfile;\r\n        memset(&amp;classfile, 0, sizeof(classfile));\r\n        char *endptr;\r\n        classfile.magic = strtoul(bytecode_hex, &amp;endptr, 16);\r\n        printf(&quot;Magic: %08X\\n&quot;, classfile.magic);\r\n        classfile.minor = (uint16_t)strtoul(endptr, &amp;endptr, 16);\r\n        printf(&quot;Minor: %04X\\n&quot;, classfile.minor);\r\n        classfile.major = (uint16_t)strtoul(endptr, NULL, 16);\r\n        printf(&quot;Major: %04X\\n&quot;, classfile.major);\r\n        return classfile;\r\n    }\r\n\r\nI guess the problem is here because I am getting an output like this:\r\n\r\n    Magic: FFFFFFFF\r\n    Minor: 0000\r\n    Major: 0000\r\n\r\nbut the expected output should be like this:\r\n\r\n    Magic: CAFEBABE \r\n    Minor: 0000\r\n    Major: 0056\r\nI couldn&#39;t understand exactly what caused the problem. Thank you in advance for any constructive comments.","title":"Strtoul Returns Wrong Output in Toy JVM Parser","body":"<p>I am trying to program a simple bit JVM with C. After reading the .class file with hex, I am trying to parse this file.</p>\n<pre><code>char *get_bytecode(const char *filename) {\n    FILE *fileptr = fopen(filename, &quot;rb&quot;);\n    if (!fileptr) {\n        fprintf(stderr, &quot;Error: could not open file %s\\n&quot;, filename);\n        return NULL;\n    }\n    char *buffer = malloc(1);\n    buffer[0] = '\\0';\n    unsigned char byte;\n    while(fread(&amp;byte, sizeof(byte), 1, fileptr) == 1) {\n        char *temp = malloc(3);\n        sprintf(temp, &quot;%02x&quot;, byte);\n        buffer = realloc(buffer, strlen(buffer) + strlen(temp) + 1);\n        strcat(buffer, temp);\n        free(temp);\n    }\n    fclose(fileptr);\n    return buffer;\n}\n</code></pre>\n<p>There is no problem with the above function that I occured. After that, I wrote a function to parse the bytecode I received:</p>\n<pre><code>classfile parse_class(const char *bytecode_hex) {\n    classfile classfile;\n    memset(&amp;classfile, 0, sizeof(classfile));\n    char *endptr;\n    classfile.magic = strtoul(bytecode_hex, &amp;endptr, 16);\n    printf(&quot;Magic: %08X\\n&quot;, classfile.magic);\n    classfile.minor = (uint16_t)strtoul(endptr, &amp;endptr, 16);\n    printf(&quot;Minor: %04X\\n&quot;, classfile.minor);\n    classfile.major = (uint16_t)strtoul(endptr, NULL, 16);\n    printf(&quot;Major: %04X\\n&quot;, classfile.major);\n    return classfile;\n}\n</code></pre>\n<p>I guess the problem is here because I am getting an output like this:</p>\n<pre><code>Magic: FFFFFFFF\nMinor: 0000\nMajor: 0000\n</code></pre>\n<p>but the expected output should be like this:</p>\n<pre><code>Magic: CAFEBABE \nMinor: 0000\nMajor: 0056\n</code></pre>\n<p>I couldn't understand exactly what caused the problem. Thank you in advance for any constructive comments.</p>\n"},{"tags":["java","redis","redisson"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1683842688,"post_id":76231833,"comment_id":134432830,"body_markdown":"Why do you check `isLockAcquired` at the beginning vs. `lock != null &amp;&amp; lock.isLocked() &amp;&amp; lock.isHeldByCurrentThread()` in the `finally`?","body":"Why do you check <code>isLockAcquired</code> at the beginning vs. <code>lock != null &amp;&amp; lock.isLocked() &amp;&amp; lock.isHeldByCurrentThread()</code> in the <code>finally</code>?"}],"owner":{"account_id":28584453,"reputation":1,"user_id":21884989,"display_name":"vot_vam_i_xixi_xaxa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683842317,"creation_date":1683841955,"question_id":76231833,"body_markdown":"I&#39;m using this common code in my distributed locker service:\r\n```\r\nprivate &lt;T&gt; T lockAndProcessTask(String lockKey, boolean waitForLockRelease, Supplier&lt;T&gt; task, Supplier&lt;T&gt; onLockAcquireFail) {\r\n    boolean isLockAcquired = false;\r\n    RLock lock = null;\r\n    T result;\r\n    try {\r\n        val lockAcquireWaitTime = waitForLockRelease ? LOCK_ACQUIRE_WAIT_TIME_MS : 0;\r\n        try {\r\n            lock = redissonClient.getLock(lockKey);\r\n            isLockAcquired = lock.tryLock(lockAcquireWaitTime, LOCK_LEASE_TIME_MS, MILLISECONDS);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Failed to lock, lockKey = {}&quot;, lockKey, e);\r\n        }\r\n        if (isLockAcquired) {\r\n            log.debug(&quot;Lock acquired, lockKey = {}&quot;, lockKey);\r\n            result = task.get();\r\n        } else {\r\n            log.debug(&quot;Failed to acquire lock, lockKey = {}&quot;, lockKey);\r\n            result = onLockAcquireFail.get();\r\n        }\r\n    } finally {\r\n        try {\r\n            if (lock != null &amp;&amp; lock.isLocked() &amp;&amp; lock.isHeldByCurrentThread()) {\r\n                lock.unlock();\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(&quot;Failed to unlock, lockKey = {}&quot;, lockKey, e);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```\r\nAnd getting this error when trying to unlock `RLock`: `lock.unlock()`\r\n\r\nTrace:\r\n```\r\n2023-05-11 21:42:22 [cs-async-358] ERROR c.w.c.s.s.DistributedLockerService - Failed to unlock, lockKey = TEST_LOCK_9000\r\norg.redisson.client.RedisException: Unexpected exception while processing command\r\nCaused by: java.util.concurrent.CompletionException: org.redisson.client.RedisException: ERR The user executing the script can&#39;t publish to the channel mentioned in the command script: 4dfe249c1asdvdff2dbd408626b9aff7, on @user_script:1.. channel: [id: 0xe6b7d174, L:/172.20.0.5:45526 - R:121.187.117.226/156.121.137.203:6379] command: (EVAL), promise: java.util.concurrent.CompletableFuture@22484e24[Not completed], params: [if (redis.call(&#39;hexists&#39;, KEYS[1], ARGV[3]) == 0) then return nil;end; local counter = redis.call(&#39;hincrby&#39;, KEYS[1], ARGV[3], -1); if (counter &gt; 0) then redis.call(&#39;pexpire&#39;, KEYS[1], ARGV[2]); return 0; else redis.call(&#39;del&#39;, KEYS[1]); redis.call(&#39;publish&#39;, KEYS[2], ARGV[1]); return 1; end; return nil;, 2, TEST_LOCK_9000, redisson_lock__channel:{TEST_LOCK_9000}, 0, 3600000, 4ac2378c-7582-4f9a-9cdfa7-8a6823e4709a:57312]\r\n        at org.redisson.RedissonBaseLock.lambda$evalWriteAsync$0(RedissonBaseLock.java:228)\r\n        at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:822)\r\n        at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:797)\r\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\r\n        at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\r\n        at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:284)\r\n        at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)\r\n        at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)\r\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\r\n```\r\nDo u have any ideas how to fix this?\r\n\r\nI tried to find some info, but didn&#39;t find anything similar. My pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;redisson&lt;/artifactId&gt;\r\n    &lt;version&gt;3.19.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Java Redisson unlock exception","body":"<p>I'm using this common code in my distributed locker service:</p>\n<pre><code>private &lt;T&gt; T lockAndProcessTask(String lockKey, boolean waitForLockRelease, Supplier&lt;T&gt; task, Supplier&lt;T&gt; onLockAcquireFail) {\n    boolean isLockAcquired = false;\n    RLock lock = null;\n    T result;\n    try {\n        val lockAcquireWaitTime = waitForLockRelease ? LOCK_ACQUIRE_WAIT_TIME_MS : 0;\n        try {\n            lock = redissonClient.getLock(lockKey);\n            isLockAcquired = lock.tryLock(lockAcquireWaitTime, LOCK_LEASE_TIME_MS, MILLISECONDS);\n        } catch (Exception e) {\n            log.error(&quot;Failed to lock, lockKey = {}&quot;, lockKey, e);\n        }\n        if (isLockAcquired) {\n            log.debug(&quot;Lock acquired, lockKey = {}&quot;, lockKey);\n            result = task.get();\n        } else {\n            log.debug(&quot;Failed to acquire lock, lockKey = {}&quot;, lockKey);\n            result = onLockAcquireFail.get();\n        }\n    } finally {\n        try {\n            if (lock != null &amp;&amp; lock.isLocked() &amp;&amp; lock.isHeldByCurrentThread()) {\n                lock.unlock();\n            }\n        } catch (Exception e) {\n            log.error(&quot;Failed to unlock, lockKey = {}&quot;, lockKey, e);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>And getting this error when trying to unlock <code>RLock</code>: <code>lock.unlock()</code></p>\n<p>Trace:</p>\n<pre><code>2023-05-11 21:42:22 [cs-async-358] ERROR c.w.c.s.s.DistributedLockerService - Failed to unlock, lockKey = TEST_LOCK_9000\norg.redisson.client.RedisException: Unexpected exception while processing command\nCaused by: java.util.concurrent.CompletionException: org.redisson.client.RedisException: ERR The user executing the script can't publish to the channel mentioned in the command script: 4dfe249c1asdvdff2dbd408626b9aff7, on @user_script:1.. channel: [id: 0xe6b7d174, L:/172.20.0.5:45526 - R:121.187.117.226/156.121.137.203:6379] command: (EVAL), promise: java.util.concurrent.CompletableFuture@22484e24[Not completed], params: [if (redis.call('hexists', KEYS[1], ARGV[3]) == 0) then return nil;end; local counter = redis.call('hincrby', KEYS[1], ARGV[3], -1); if (counter &gt; 0) then redis.call('pexpire', KEYS[1], ARGV[2]); return 0; else redis.call('del', KEYS[1]); redis.call('publish', KEYS[2], ARGV[1]); return 1; end; return nil;, 2, TEST_LOCK_9000, redisson_lock__channel:{TEST_LOCK_9000}, 0, 3600000, 4ac2378c-7582-4f9a-9cdfa7-8a6823e4709a:57312]\n        at org.redisson.RedissonBaseLock.lambda$evalWriteAsync$0(RedissonBaseLock.java:228)\n        at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:822)\n        at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:797)\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\n        at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\n        at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:284)\n        at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)\n        at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\n</code></pre>\n<p>Do u have any ideas how to fix this?</p>\n<p>I tried to find some info, but didn't find anything similar. My pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n    &lt;artifactId&gt;redisson&lt;/artifactId&gt;\n    &lt;version&gt;3.19.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9553,"page":439,"page_size":100}
