{"items":[{"tags":["java","spring","postgresql","hibernate","flyway"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1664114746,"post_id":73844997,"comment_id":130392547,"body_markdown":"try to remove the property `spring.flyway.locations=classpath:migrations` and build and start spring boot again","body":"try to remove the property <code>spring.flyway.locations=classpath:migrations</code> and build and start spring boot again"},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1664114961,"post_id":73844997,"comment_id":130392589,"body_markdown":"Well, i removed this line from ```application.properties``` and moved SQL file to ```resources/db/migration``` directory, but it still not working :(","body":"Well, i removed this line from <code>application.properties</code> and moved SQL file to <code>resources&#47;db&#47;migration</code> directory, but it still not working :("},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1664115416,"post_id":73844997,"comment_id":130392664,"body_markdown":"try to rename your file from `V1_1__CREATE_TABLES.sql` into `V2_1__CREATE_TABLES.sql`","body":"try to rename your file from <code>V1_1__CREATE_TABLES.sql</code> into <code>V2_1__CREATE_TABLES.sql</code>"},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1664115539,"post_id":73844997,"comment_id":130392695,"body_markdown":"still not working","body":"still not working"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1664115674,"post_id":73844997,"comment_id":130392725,"body_markdown":"change `spring.flyway.schemas=public` into `spring.flyway.schemas=diary` This for sure should be an issue as the schema that you are connecting is this one.","body":"change <code>spring.flyway.schemas=public</code> into <code>spring.flyway.schemas=diary</code> This for sure should be an issue as the schema that you are connecting is this one."},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":1,"creation_date":1664115958,"post_id":73844997,"comment_id":130392780,"body_markdown":"well, the problem was that I added another dependency. I added flyway as plaugin to maven, but I had to add it as dependency. Now it works","body":"well, the problem was that I added another dependency. I added flyway as plaugin to maven, but I had to add it as dependency. Now it works"}],"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664113693,"creation_date":1664113693,"question_id":73844997,"body_markdown":"I&#39;m new to flyway and I&#39;m trying to create a migration of my database. I created ```V1_1__CREATE_TABLES.sql``` file in ```/resources/migrations```, and started the app, but it just doesn&#39;t works. I also fiend a lot of threads on this topic, but all the answers I senn was useless for me. So here you can see my code:\r\n\r\nHere&#39;s my maven dependencies:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.diary&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;diary&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;diary&lt;/name&gt;\r\n\t&lt;description&gt;School electronic diary&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;4.0.3&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nHere&#39;s ```application.properties``` file\r\n```java\r\n#spring\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/diary\r\nspring.datasource.username=postgres\r\nspring.datasource.password=4122\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nlogging.level.org.hibernate.SQL=debug\r\nlogging.level.org.hibernate.type.descriptor.sql=trace\r\n\r\n#flyway\r\nspring.flyway.locations=classpath:migrations\r\nspring.flyway.url=jdbc:postgresql://localhost:5432/diary\r\nspring.flyway.user=postgres\r\nspring.flyway.password=4122\r\nspring.flyway.schemas=public\r\nspring.flyway.enabled=true\r\n```\r\n\r\nAnd here&#39;s my sql file:\r\n```sql\r\nCREATE TABLE users (\r\n    id BIGINT NOT NULL,\r\n    login VARCHAR(255) NOT NULL ,\r\n    phoneNumber VARCHAR(16) NOT NULL,\r\n    email VARCHAR(255) NOT NULL,\r\n    name VARCHAR(255) NOT NULL,\r\n    surname VARCHAR(255) NOT NULL,\r\n    patronymic VARCHAR(255),\r\n    roleId BIGINT NOT NULL,\r\n    CONSTRAINT userRoles FOREIGN KEY (roleId) REFERENCES roles(id)\r\n    primary key (id)\r\n);\r\n\r\nCREATE TABLE roles (\r\n    id BIGINT NOT NULL,\r\n    name VARCHAR(255) NOT NULL,\r\n    primary key (id)\r\n);\r\n```\r\n\r\nIf you know what can be a problem, please, tell me, I&#39;d really apreciate it!","title":"Flyway doesn&#39;t create migrations to database","body":"<p>I'm new to flyway and I'm trying to create a migration of my database. I created <code>V1_1__CREATE_TABLES.sql</code> file in <code>/resources/migrations</code>, and started the app, but it just doesn't works. I also fiend a lot of threads on this topic, but all the answers I senn was useless for me. So here you can see my code:</p>\n<p>Here's my maven dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.diary&lt;/groupId&gt;\n    &lt;artifactId&gt;diary&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;diary&lt;/name&gt;\n    &lt;description&gt;School electronic diary&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.0.3&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here's <code>application.properties</code> file</p>\n<pre class=\"lang-java prettyprint-override\"><code>#spring\nspring.datasource.url=jdbc:postgresql://localhost:5432/diary\nspring.datasource.username=postgres\nspring.datasource.password=4122\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.driver-class-name=org.postgresql.Driver\nlogging.level.org.hibernate.SQL=debug\nlogging.level.org.hibernate.type.descriptor.sql=trace\n\n#flyway\nspring.flyway.locations=classpath:migrations\nspring.flyway.url=jdbc:postgresql://localhost:5432/diary\nspring.flyway.user=postgres\nspring.flyway.password=4122\nspring.flyway.schemas=public\nspring.flyway.enabled=true\n</code></pre>\n<p>And here's my sql file:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE users (\n    id BIGINT NOT NULL,\n    login VARCHAR(255) NOT NULL ,\n    phoneNumber VARCHAR(16) NOT NULL,\n    email VARCHAR(255) NOT NULL,\n    name VARCHAR(255) NOT NULL,\n    surname VARCHAR(255) NOT NULL,\n    patronymic VARCHAR(255),\n    roleId BIGINT NOT NULL,\n    CONSTRAINT userRoles FOREIGN KEY (roleId) REFERENCES roles(id)\n    primary key (id)\n);\n\nCREATE TABLE roles (\n    id BIGINT NOT NULL,\n    name VARCHAR(255) NOT NULL,\n    primary key (id)\n);\n</code></pre>\n<p>If you know what can be a problem, please, tell me, I'd really apreciate it!</p>\n"},{"tags":["java","url","curl","download","google-drive-api"],"comments":[{"owner":{"account_id":7172387,"reputation":1153,"user_id":5479463,"display_name":"Joshua Ott"},"score":1,"creation_date":1495487034,"post_id":44086653,"comment_id":75263505,"body_markdown":"Take a look at this, I will update my solution soon:\nhttps://stackoverflow.com/questions/44007106/goole-drive-api-upload-fails","body":"Take a look at this, I will update my solution soon: <a href=\"https://stackoverflow.com/questions/44007106/goole-drive-api-upload-fails\" title=\"goole drive api upload fails\">stackoverflow.com/questions/44007106/&hellip;</a>"},{"owner":{"account_id":10940954,"reputation":13,"user_id":8040837,"display_name":"JaKre"},"score":1,"creation_date":1495492937,"post_id":44086653,"comment_id":75265505,"body_markdown":"Thank you. Do you also know how to execute this process in google script? Or how to execute it via sites.google created website?","body":"Thank you. Do you also know how to execute this process in google script? Or how to execute it via sites.google created website?"},{"owner":{"account_id":15953450,"reputation":309,"user_id":11512178,"display_name":"Petrus"},"score":0,"creation_date":1664111657,"post_id":44086653,"comment_id":130391876,"body_markdown":"Hi, did you ever manage to solve this?","body":"Hi, did you ever manage to solve this?"}],"owner":{"account_id":10940954,"reputation":13,"user_id":8040837,"display_name":"JaKre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":908,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664111638,"creation_date":1495288015,"question_id":44086653,"body_markdown":"I need to download .csv file from url and store it within specific folder on google drive...this operation has to be triggered on specific time of the day (sometimes after midnight). One of my issues is that the file is not stored on the url but it is generated after executing the call for the address.\r\n\r\nAfter opening for example this url (https://member.expireddomains.net/export/pendingdelete/?export=csv&amp;activetab=expireddomains&amp;flimit=25&amp;fdomain=prague) the file is being generated and stored on my computer. I need it to be generated, stored on my Google Drive folder and renamed to be report.csv or anything as such. I am sorry to ask this question if it is possible but I just now discovered the google scripts and I am looking forward to learn new things.\r\n\r\nThank you","title":"automatically download file from URL and store it on Google Drive","body":"<p>I need to download .csv file from url and store it within specific folder on google drive...this operation has to be triggered on specific time of the day (sometimes after midnight). One of my issues is that the file is not stored on the url but it is generated after executing the call for the address.</p>\n\n<p>After opening for example this url (<a href=\"https://member.expireddomains.net/export/pendingdelete/?export=csv&amp;activetab=expireddomains&amp;flimit=25&amp;fdomain=prague\" rel=\"nofollow noreferrer\">https://member.expireddomains.net/export/pendingdelete/?export=csv&amp;activetab=expireddomains&amp;flimit=25&amp;fdomain=prague</a>) the file is being generated and stored on my computer. I need it to be generated, stored on my Google Drive folder and renamed to be report.csv or anything as such. I am sorry to ask this question if it is possible but I just now discovered the google scripts and I am looking forward to learn new things.</p>\n\n<p>Thank you</p>\n"},{"tags":["java","multithreading","file-io"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1664112065,"post_id":73844751,"comment_id":130391962,"body_markdown":"What does &quot;stops processing&quot; mean?","body":"What does &quot;stops processing&quot; mean?"},{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":4,"creation_date":1664112277,"post_id":73844751,"comment_id":130392013,"body_markdown":"One problem could be that you shut down your executor service in the main thread which means won&#39;t be able to add new tasks within the run method after the shutdown statement is executed.","body":"One problem could be that you shut down your executor service in the main thread which means won&#39;t be able to add new tasks within the run method after the shutdown statement is executed."},{"owner":{"account_id":21615266,"reputation":19,"user_id":15941368,"display_name":"PrettyCoder"},"score":0,"creation_date":1664112661,"post_id":73844751,"comment_id":130392095,"body_markdown":"@tgdavies The program stops looking for files in subdirrectories and doesn&#39;t modify them as well. Also it doesn&#39;t modify files in initial directory that are alphabetically after found subdirrectory.","body":"@tgdavies The program stops looking for files in subdirrectories and doesn&#39;t modify them as well. Also it doesn&#39;t modify files in initial directory that are alphabetically after found subdirrectory."},{"owner":{"account_id":21615266,"reputation":19,"user_id":15941368,"display_name":"PrettyCoder"},"score":0,"creation_date":1664113677,"post_id":73844751,"comment_id":130392293,"body_markdown":"@JANO I&#39;ve commented shutdown statement in Main class. Everything works correctly now, but now the running time of the program increases very much and the program seems to freeze, although after a while it finishes its work. Do I need to shutdown pool in different way than before?","body":"@JANO I&#39;ve commented shutdown statement in Main class. Everything works correctly now, but now the running time of the program increases very much and the program seems to freeze, although after a while it finishes its work. Do I need to shutdown pool in different way than before?"},{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":1,"creation_date":1664113953,"post_id":73844751,"comment_id":130392371,"body_markdown":"It could be that the program needs more time now as it is actually doing the work it should do. I would check if the time is spent during the file modification.","body":"It could be that the program needs more time now as it is actually doing the work it should do. I would check if the time is spent during the file modification."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664122719,"post_id":73844751,"comment_id":130394209,"body_markdown":"Post an [MCVE](https://stackoverflow.com/help/mcve).","body":"Post an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1664136157,"post_id":73844751,"comment_id":130396966,"body_markdown":"You may want to try using `ExecutorService pool = ForkJoinPool.commonPool();`, which doesn’t have to be shut down.","body":"You may want to try using <code>ExecutorService pool = ForkJoinPool.commonPool();</code>, which doesn’t have to be shut down."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1664149611,"post_id":73844751,"comment_id":130398838,"body_markdown":"Hitting the same drive in multiple threads with `File.listFiles` will be slow. You may find single thread `Files.find` or `Files.walkFileTree` is not only quicker but much simpler to implement.","body":"Hitting the same drive in multiple threads with <code>File.listFiles</code> will be slow. You may find single thread <code>Files.find</code> or <code>Files.walkFileTree</code> is not only quicker but much simpler to implement."}],"owner":{"account_id":21615266,"reputation":19,"user_id":15941368,"display_name":"PrettyCoder"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664111485,"creation_date":1664111485,"question_id":73844751,"body_markdown":"I have a class ReverseWriter. Constructor takes 3 arguments: path to directory in which I should search for Java files, path and name for new directory in which modified files will be stored and thread pool that is created in Main class. My application should recursively find files (and process each subdirrectory and file in separate thread) in given directory and it&#39;s **subdirrectories**. Here&#39;s the part of Main class code:\r\n\r\n            ExecutorService pool = Executors.newCachedThreadPool();\r\n            ReverseWriter reverseWriter = new ReverseWriter(dirToSearch, dirToStorePathName, pool);\r\n            pool.submit(reverseWriter);\r\n    \r\n            System.out.println(&quot;All files reversed!&quot;);\r\n    \r\n            pool.shutdown();\r\nAnd here is the **run** method of ReverseWriter class:\r\n\r\n        @Override\r\n        public void run() {\r\n    \r\n            File[] files = dirToSearch.listFiles();\r\n            System.out.println(Arrays.toString(files));\r\n            if (files != null) {\r\n                for (File f : files) {\r\n                    System.out.println(f.getName());\r\n                    if (f.isDirectory()) {\r\n                        ReverseWriter reverseWriter = new ReverseWriter(f, dirToStorePathName, pool);\r\n                        pool.submit(reverseWriter);\r\n                    } else {\r\n                        reverseWrite(f);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n**reverseWrite** is the method that modifies file. For testing my application I created a folder with 5 Java files, 1 txt file, 2 folders that contain Java files. The problem is that my application modifies and writes 4 modified files and doesn&#39;t modify files that are in subdirrectories. While debugging, I found that when in method **run** the subdirrectory is found then the application stops proccessing subdirrectories and files stored in them. I can&#39;t figure out what I&#39;m doing wrong. Can somebody give me a tip how to fix this?","title":"Recursively find files using ExecutorService","body":"<p>I have a class ReverseWriter. Constructor takes 3 arguments: path to directory in which I should search for Java files, path and name for new directory in which modified files will be stored and thread pool that is created in Main class. My application should recursively find files (and process each subdirrectory and file in separate thread) in given directory and it's <strong>subdirrectories</strong>. Here's the part of Main class code:</p>\n<pre><code>        ExecutorService pool = Executors.newCachedThreadPool();\n        ReverseWriter reverseWriter = new ReverseWriter(dirToSearch, dirToStorePathName, pool);\n        pool.submit(reverseWriter);\n\n        System.out.println(&quot;All files reversed!&quot;);\n\n        pool.shutdown();\n</code></pre>\n<p>And here is the <strong>run</strong> method of ReverseWriter class:</p>\n<pre><code>    @Override\n    public void run() {\n\n        File[] files = dirToSearch.listFiles();\n        System.out.println(Arrays.toString(files));\n        if (files != null) {\n            for (File f : files) {\n                System.out.println(f.getName());\n                if (f.isDirectory()) {\n                    ReverseWriter reverseWriter = new ReverseWriter(f, dirToStorePathName, pool);\n                    pool.submit(reverseWriter);\n                } else {\n                    reverseWrite(f);\n                }\n            }\n        }\n    }\n</code></pre>\n<p><strong>reverseWrite</strong> is the method that modifies file. For testing my application I created a folder with 5 Java files, 1 txt file, 2 folders that contain Java files. The problem is that my application modifies and writes 4 modified files and doesn't modify files that are in subdirrectories. While debugging, I found that when in method <strong>run</strong> the subdirrectory is found then the application stops proccessing subdirrectories and files stored in them. I can't figure out what I'm doing wrong. Can somebody give me a tip how to fix this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1664111748,"post_id":73844748,"comment_id":130391897,"body_markdown":"This is a possible duplicate of [ClassCastException casting a class instance to its own class because it is in an &quot;unnamed module&quot; with gradel and tomcat](https://stackoverflow.com/q/71959645/). You seem to have the same class *twice* in the classpath.","body":"This is a possible duplicate of <a href=\"https://stackoverflow.com/q/71959645/\">ClassCastException casting a class instance to its own class because it is in an &quot;unnamed module&quot; with gradel and tomcat</a>. You seem to have the same class <i>twice</i> in the classpath."},{"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"score":0,"creation_date":1664112092,"post_id":73844748,"comment_id":130391966,"body_markdown":"@HovercraftFullOfEels The class is defined only once, it is not from libraries.","body":"@HovercraftFullOfEels The class is defined only once, it is not from libraries."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1664112232,"post_id":73844748,"comment_id":130392002,"body_markdown":"See https://stackoverflow.com/questions/66961552/error-is-in-unnamed-module-of-loader-org-springframework-boot-devtools-restart","body":"See <a href=\"https://stackoverflow.com/questions/66961552/error-is-in-unnamed-module-of-loader-org-springframework-boot-devtools-restart\" title=\"error is in unnamed module of loader org springframework boot devtools restart\">stackoverflow.com/questions/66961552/&hellip;</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1664112335,"post_id":73844748,"comment_id":130392025,"body_markdown":"&quot;com...SparelabsPollStatusDetailEntity is in unnamed module of loader &#39;app&#39;; com...SparelabsPollStatusDetailEntity is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @86fbeb3&quot; - 2 classes with the same name are loaded by 2 different class loaders. Simple as that. For the why? No idea.","body":"&quot;com...SparelabsPollStatusDetailEntity is in unnamed module of loader &#39;app&#39;; com...SparelabsPollStatusDetailEntity is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.Restar&zwnj;&#8203;tClassLoader @86fbeb3&quot; - 2 classes with the same name are loaded by 2 different class loaders. Simple as that. For the why? No idea."},{"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"score":0,"creation_date":1664112552,"post_id":73844748,"comment_id":130392076,"body_markdown":"@tgdavies Your suggestion worked.","body":"@tgdavies Your suggestion worked."}],"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1664112684,"answer_count":0,"score":1,"last_activity_date":1664111458,"creation_date":1664111458,"question_id":73844748,"body_markdown":"I am getting java.lang.ClassCastException for the objects of same class. This is the code that causes the error.\r\n\r\n\r\n    try (Session session = configDatabaseService.getSessionFactory().openSession())\r\n            {\r\n                List list = session.createQuery(&quot;FROM SparelabsPollStatusDetailEntity detail WHERE detail.dateAdded&gt;:dateAdded&quot;).setParameter(&quot;dateAdded&quot;, Instant.ofEpochMilli(new Date(System.currentTimeMillis() - (2 * 24 * 3600 * 1000L)).getTime())).list();\r\n    \r\n                for (Object spareLabsPollStatusDetail : list)\r\n                {\r\n                    Optional&lt;DimResident&gt; dimResident = this.dimResidentRepository.findById(Math.toIntExact(((SparelabsPollStatusDetailEntity) (spareLabsPollStatusDetail)).getDimResidentId()));\r\n    \r\n                    if (dimResident.isPresent())\r\n                    {\r\n                         //deleted code for brevity\r\n                    }\r\n                    else\r\n                    {\r\n                        System.out.println(&quot;NOT Updated dimResident SpareLabsKey  = [&quot; + dimResident.get().getResidentID() + &quot;]&quot;);\r\n                    }\r\n                }\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                System.err.print(e);\r\n                if (Logger.isErrorEnabled())\r\n                    Logger.error(e);\r\n            }\r\n\r\nThis is the error \r\n\r\n    java.lang.ClassCastException: class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity cannot be cast to class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity (com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader &#39;app&#39;; com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @86fbeb3)2022-09-25 18:31:56,588 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=55s727ms524&#181;s300ns).\r\n        2022-09-25 18:31:57:310 [ERROR] [restartedMain:ID=22]:[SpareLabsClientServiceImpl.java:834] java.lang.ClassCastException: class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity cannot be cast to class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity (com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader &#39;app&#39;; com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @86fbeb3)\r\n        \tat com.rossmoor.sparelabs.services.web.SpareLabsClientServiceImpl.updateSpareLabsKeysInDimResidentTable(SpareLabsClientServiceImpl.java:794)\r\n        \tat com.rossmoor.sparelabs.services.web.SpareLabsClientServiceImpl.doDataSynchronization(SpareLabsClientServiceImpl.java:574)\r\n        \tat com.rossmoor.sparelabs.SpareLabsApplication.run(SpareLabsApplication.java:147)\r\n        \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\r\n        \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n        \tat com.rossmoor.sparelabs.SpareLabsApplication.main(SpareLabsApplication.java:47)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n\r\nWhat does this error mean? How to solve this?","title":"Getting java.lang.ClassCastException for same class objects, How to solve this?","body":"<p>I am getting java.lang.ClassCastException for the objects of same class. This is the code that causes the error.</p>\n<pre><code>try (Session session = configDatabaseService.getSessionFactory().openSession())\n        {\n            List list = session.createQuery(&quot;FROM SparelabsPollStatusDetailEntity detail WHERE detail.dateAdded&gt;:dateAdded&quot;).setParameter(&quot;dateAdded&quot;, Instant.ofEpochMilli(new Date(System.currentTimeMillis() - (2 * 24 * 3600 * 1000L)).getTime())).list();\n\n            for (Object spareLabsPollStatusDetail : list)\n            {\n                Optional&lt;DimResident&gt; dimResident = this.dimResidentRepository.findById(Math.toIntExact(((SparelabsPollStatusDetailEntity) (spareLabsPollStatusDetail)).getDimResidentId()));\n\n                if (dimResident.isPresent())\n                {\n                     //deleted code for brevity\n                }\n                else\n                {\n                    System.out.println(&quot;NOT Updated dimResident SpareLabsKey  = [&quot; + dimResident.get().getResidentID() + &quot;]&quot;);\n                }\n            }\n        }\n        catch (Exception e)\n        {\n            System.err.print(e);\n            if (Logger.isErrorEnabled())\n                Logger.error(e);\n        }\n</code></pre>\n<p>This is the error</p>\n<pre><code>java.lang.ClassCastException: class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity cannot be cast to class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity (com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader 'app'; com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @86fbeb3)2022-09-25 18:31:56,588 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=55s727ms524µs300ns).\n    2022-09-25 18:31:57:310 [ERROR] [restartedMain:ID=22]:[SpareLabsClientServiceImpl.java:834] java.lang.ClassCastException: class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity cannot be cast to class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity (com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader 'app'; com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @86fbeb3)\n        at com.rossmoor.sparelabs.services.web.SpareLabsClientServiceImpl.updateSpareLabsKeysInDimResidentTable(SpareLabsClientServiceImpl.java:794)\n        at com.rossmoor.sparelabs.services.web.SpareLabsClientServiceImpl.doDataSynchronization(SpareLabsClientServiceImpl.java:574)\n        at com.rossmoor.sparelabs.SpareLabsApplication.run(SpareLabsApplication.java:147)\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n        at com.rossmoor.sparelabs.SpareLabsApplication.main(SpareLabsApplication.java:47)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\n</code></pre>\n<p>What does this error mean? How to solve this?</p>\n"},{"tags":["java","string","algorithm"],"comments":[{"owner":{"account_id":1543977,"reputation":5835,"user_id":1437962,"display_name":"Yusubov"},"score":0,"creation_date":1355668243,"post_id":63150,"comment_id":19156932,"body_markdown":"The StringbBilder is the way to go - java.lang.StringBuilder.","body":"The StringbBilder is the way to go - java.lang.StringBuilder."},{"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"score":0,"creation_date":1395491504,"post_id":63150,"comment_id":34368614,"body_markdown":"For Java 8 have a look at this answer: http://stackoverflow.com/a/22577623/1115554","body":"For Java 8 have a look at this answer: <a href=\"http://stackoverflow.com/a/22577623/1115554\">stackoverflow.com/a/22577623/1115554</a>"}],"answers":[{"tags":[],"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1258284893,"creation_date":1221487517,"answer_id":63173,"question_id":63150,"body_markdown":"Use an approach based on [`java.lang.StringBuilder`][1]!  (&quot;A mutable sequence of characters. &quot;)\r\n\r\nLike you mentioned, all those string concatenations are creating Strings all over.  `StringBuilder` won&#39;t do that.\r\n\r\nWhy `StringBuilder` instead of [`StringBuffer`][3]?  From the `StringBuilder` javadoc:\r\n\r\n&gt; Where possible, it is recommended that this class be used in preference to StringBuffer as it will be faster under most implementations. \r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuilder.html\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuffer.html","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Use an approach based on <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuilder.html\" rel=\"noreferrer\"><code>java.lang.StringBuilder</code></a>!  (\"A mutable sequence of characters. \")</p>\n\n<p>Like you mentioned, all those string concatenations are creating Strings all over.  <code>StringBuilder</code> won't do that.</p>\n\n<p>Why <code>StringBuilder</code> instead of <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuffer.html\" rel=\"noreferrer\"><code>StringBuffer</code></a>?  From the <code>StringBuilder</code> javadoc:</p>\n\n<blockquote>\n  <p>Where possible, it is recommended that this class be used in preference to StringBuffer as it will be faster under most implementations. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3706,"reputation":176296,"user_id":5380,"accept_rate":66,"display_name":"Kent Boogaart"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1317168417,"creation_date":1221487573,"answer_id":63186,"question_id":63150,"body_markdown":"You can use Java&#39;s [`StringBuilder`][1] type for this. There&#39;s also `StringBuffer`, but it contains extra thread safety logic that is often unnecessary.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuilder.html","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>You can use Java's <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a> type for this. There's also <code>StringBuffer</code>, but it contains extra thread safety logic that is often unnecessary.</p>\n"},{"tags":[],"owner":{"account_id":4394,"reputation":47462,"user_id":6568,"display_name":"Dave Costa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221487592,"creation_date":1221487592,"answer_id":63191,"question_id":63150,"body_markdown":"Why not write your own join() method?  It would take as parameters collection of Strings and a delimiter String.  Within the method iterate over the collection and build up your result in a StringBuffer.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Why not write your own join() method?  It would take as parameters collection of Strings and a delimiter String.  Within the method iterate over the collection and build up your result in a StringBuffer.</p>\n"},{"tags":[],"owner":{"account_id":3591,"reputation":332927,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"down_vote_count":3,"up_vote_count":23,"is_accepted":false,"score":20,"last_activity_date":1330637774,"creation_date":1221487651,"answer_id":63201,"question_id":63150,"body_markdown":"You can generalize it, but there&#39;s no join in Java, as you well say.\r\n\r\n[This][1] might work better. \r\n\r\n    public static String join(Iterable&lt;? extends CharSequence&gt; s, String delimiter) {\r\n        Iterator&lt;? extends CharSequence&gt; iter = s.iterator();\r\n        if (!iter.hasNext()) return &quot;&quot;;\r\n        StringBuilder buffer = new StringBuilder(iter.next());\r\n        while (iter.hasNext()) buffer.append(delimiter).append(iter.next());\r\n        return buffer.toString();\r\n    }\r\n\r\n\r\n  [1]: http://snippets.dzone.com/posts/show/91","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>You can generalize it, but there's no join in Java, as you well say.</p>\n\n<p><a href=\"http://snippets.dzone.com/posts/show/91\" rel=\"noreferrer\">This</a> might work better. </p>\n\n<pre><code>public static String join(Iterable&lt;? extends CharSequence&gt; s, String delimiter) {\n    Iterator&lt;? extends CharSequence&gt; iter = s.iterator();\n    if (!iter.hasNext()) return \"\";\n    StringBuilder buffer = new StringBuilder(iter.next());\n    while (iter.hasNext()) buffer.append(delimiter).append(iter.next());\n    return buffer.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1020,"reputation":2478,"user_id":1353,"display_name":"martinatime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221487766,"creation_date":1221487766,"answer_id":63217,"question_id":63150,"body_markdown":"You can try something like this:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    if (condition) { sb.append(&quot;elementName&quot;).append(&quot;,&quot;); }\r\n    if (anotherCondition) { sb.append(&quot;anotherElementName&quot;).append(&quot;,&quot;); }\r\n    String parameterString = sb.toString();","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>You can try something like this:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nif (condition) { sb.append(\"elementName\").append(\",\"); }\nif (anotherCondition) { sb.append(\"anotherElementName\").append(\",\"); }\nString parameterString = sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":746,"reputation":50421,"user_id":974,"accept_rate":82,"display_name":"izb"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1221487768,"creation_date":1221487768,"answer_id":63218,"question_id":63150,"body_markdown":"    public static String join(String[] strings, char del)\r\n    {\r\n        StringBuffer sb = new StringBuffer();\r\n        int len = strings.length;\r\n        boolean appended = false;\r\n        for (int i = 0; i &lt; len; i++)\r\n        {\r\n            if (appended)\r\n            {\r\n                sb.append(del);\r\n            }\r\n            sb.append(&quot;&quot;+strings[i]);\r\n            appended = true;\r\n        }\r\n        return sb.toString();\r\n    }","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<pre><code>public static String join(String[] strings, char del)\n{\n    StringBuffer sb = new StringBuffer();\n    int len = strings.length;\n    boolean appended = false;\n    for (int i = 0; i &lt; len; i++)\n    {\n        if (appended)\n        {\n            sb.append(del);\n        }\n        sb.append(\"\"+strings[i]);\n        appended = true;\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2262,"reputation":3762,"user_id":3126,"accept_rate":89,"display_name":"newdayrising"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221487823,"creation_date":1221487823,"answer_id":63226,"question_id":63150,"body_markdown":"You should probably use a `StringBuilder` with the `append` method to construct your result, but otherwise this is as good of a solution as Java has to offer.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>You should probably use a <code>StringBuilder</code> with the <code>append</code> method to construct your result, but otherwise this is as good of a solution as Java has to offer.</p>\n"},{"tags":[],"owner":{"account_id":4106,"reputation":12708,"user_id":6069,"accept_rate":56,"display_name":"agnul"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1221742267,"creation_date":1221487835,"answer_id":63229,"question_id":63150,"body_markdown":"Why don&#39;t you do in Java the same thing you are doing in ruby, that is creating the delimiter separated string only after you&#39;ve added all the pieces to the array?\r\n\r\n    ArrayList&lt;String&gt; parms = new ArrayList&lt;String&gt;();\r\n    if (someCondition) parms.add(&quot;someString&quot;);\r\n    if (anotherCondition) parms.add(&quot;someOtherString&quot;);\r\n    // ...\r\n    String sep = &quot;&quot;; StringBuffer b = new StringBuffer();\r\n    for (String p: parms) {\r\n        b.append(sep);\r\n        b.append(p);\r\n        sep = &quot;yourDelimiter&quot;;\r\n    }\r\n\r\nYou may want to move that for loop in a separate helper method, and also use StringBuilder instead of StringBuffer...\r\n\r\n_Edit_: fixed the order of appends.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Why don't you do in Java the same thing you are doing in ruby, that is creating the delimiter separated string only after you've added all the pieces to the array?</p>\n\n<pre><code>ArrayList&lt;String&gt; parms = new ArrayList&lt;String&gt;();\nif (someCondition) parms.add(\"someString\");\nif (anotherCondition) parms.add(\"someOtherString\");\n// ...\nString sep = \"\"; StringBuffer b = new StringBuffer();\nfor (String p: parms) {\n    b.append(sep);\n    b.append(p);\n    sep = \"yourDelimiter\";\n}\n</code></pre>\n\n<p>You may want to move that for loop in a separate helper method, and also use StringBuilder instead of StringBuffer...</p>\n\n<p><em>Edit</em>: fixed the order of appends.</p>\n"},{"tags":[],"owner":{"account_id":4944,"reputation":6834,"user_id":7686,"display_name":"Martin Gladdish"},"down_vote_count":4,"up_vote_count":647,"is_accepted":true,"score":643,"last_activity_date":1440142226,"creation_date":1221488014,"answer_id":63258,"question_id":63150,"body_markdown":"### Pre Java 8: ###\r\n\r\nApache&#39;s commons lang is your friend here - it provides a join method very similar to the one you refer to in Ruby: \r\n\r\n[`StringUtils.join(java.lang.Iterable,char)`][1]\r\n\r\n---\r\n\r\n### Java 8: ###\r\nJava 8 provides joining out of the box via `StringJoiner` and `String.join()`. The snippets below show how you can use them:\r\n\r\n[`StringJoiner`][2]\r\n\r\n    StringJoiner joiner = new StringJoiner(&quot;,&quot;);\r\n    joiner.add(&quot;01&quot;).add(&quot;02&quot;).add(&quot;03&quot;);\r\n    String joinedString = joiner.toString(); // &quot;01,02,03&quot;\r\n\r\n---\r\n\r\n[`String.join(CharSequence delimiter, CharSequence... elements))`][3]\r\n\r\n    String joinedString = String.join(&quot; - &quot;, &quot;04&quot;, &quot;05&quot;, &quot;06&quot;); // &quot;04 - 05 - 06&quot;\r\n\r\n---\r\n\r\n[`String.join(CharSequence delimiter, Iterable&lt;? extends CharSequence&gt; elements)`][4]\r\n\r\n    List&lt;String&gt; strings = new LinkedList&lt;&gt;();\r\n    strings.add(&quot;Java&quot;);strings.add(&quot;is&quot;);\r\n    strings.add(&quot;cool&quot;);\r\n    String message = String.join(&quot; &quot;, strings);\r\n    //message returned is: &quot;Java is cool&quot;\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#join(java.lang.Iterable,%20char)\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<h3>Pre Java 8:</h3>\n\n<p>Apache's commons lang is your friend here - it provides a join method very similar to the one you refer to in Ruby: </p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#join(java.lang.Iterable,%20char)\" rel=\"noreferrer\"><code>StringUtils.join(java.lang.Iterable,char)</code></a></p>\n\n<hr>\n\n<h3>Java 8:</h3>\n\n<p>Java 8 provides joining out of the box via <code>StringJoiner</code> and <code>String.join()</code>. The snippets below show how you can use them:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"noreferrer\"><code>StringJoiner</code></a></p>\n\n<pre><code>StringJoiner joiner = new StringJoiner(\",\");\njoiner.add(\"01\").add(\"02\").add(\"03\");\nString joinedString = joiner.toString(); // \"01,02,03\"\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"noreferrer\"><code>String.join(CharSequence delimiter, CharSequence... elements))</code></a></p>\n\n<pre><code>String joinedString = String.join(\" - \", \"04\", \"05\", \"06\"); // \"04 - 05 - 06\"\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\" rel=\"noreferrer\"><code>String.join(CharSequence delimiter, Iterable&lt;? extends CharSequence&gt; elements)</code></a></p>\n\n<pre><code>List&lt;String&gt; strings = new LinkedList&lt;&gt;();\nstrings.add(\"Java\");strings.add(\"is\");\nstrings.add(\"cool\");\nString message = String.join(\" \", strings);\n//message returned is: \"Java is cool\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4869,"reputation":1459,"user_id":7530,"display_name":"Rob Dickerson"},"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1221488123,"creation_date":1221488123,"answer_id":63274,"question_id":63150,"body_markdown":"You could write a little join-style utility method that works on java.util.Lists\r\n\r\n    public static String join(List&lt;String&gt; list, String delim) {\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        String loopDelim = &quot;&quot;;\r\n\r\n        for(String s : list) {\r\n\r\n            sb.append(loopDelim);\r\n            sb.append(s);            \r\n\r\n            loopDelim = delim;\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n\r\nThen use it like so:\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n        if( condition )        list.add(&quot;elementName&quot;);\r\n        if( anotherCondition ) list.add(&quot;anotherElementName&quot;);\r\n\r\n        join(list, &quot;,&quot;);","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>You could write a little join-style utility method that works on java.util.Lists</p>\n\n<pre><code>public static String join(List&lt;String&gt; list, String delim) {\n\n    StringBuilder sb = new StringBuilder();\n\n    String loopDelim = \"\";\n\n    for(String s : list) {\n\n        sb.append(loopDelim);\n        sb.append(s);            \n\n        loopDelim = delim;\n    }\n\n    return sb.toString();\n}\n</code></pre>\n\n<p>Then use it like so:</p>\n\n<pre><code>    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n    if( condition )        list.add(\"elementName\");\n    if( anotherCondition ) list.add(\"anotherElementName\");\n\n    join(list, \",\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4914,"reputation":706,"user_id":7621,"accept_rate":75,"display_name":"killdash10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221488158,"creation_date":1221488158,"answer_id":63282,"question_id":63150,"body_markdown":"So basically something like this:\r\n\r\n\r\n    public static String appendWithDelimiter(String original, String addition, String delimiter) {\r\n\r\n    if (original.equals(&quot;&quot;)) {\r\n        return addition;\r\n    } else {\r\n        StringBuilder sb = new StringBuilder(original.length() + addition.length() + delimiter.length());\r\n            sb.append(original);\r\n            sb.append(delimiter);\r\n            sb.append(addition);\r\n            return sb.toString();\r\n        }\r\n    }","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>So basically something like this:</p>\n\n<pre><code>public static String appendWithDelimiter(String original, String addition, String delimiter) {\n\nif (original.equals(\"\")) {\n    return addition;\n} else {\n    StringBuilder sb = new StringBuilder(original.length() + addition.length() + delimiter.length());\n        sb.append(original);\n        sb.append(delimiter);\n        sb.append(addition);\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Alejandro"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1221488256,"creation_date":1221488256,"answer_id":63305,"question_id":63150,"body_markdown":"&lt;a href=&quot;http://commons.apache.org/&quot;&gt;Apache commons&lt;/a&gt; StringUtils class has a join method.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p><a href=\"http://commons.apache.org/\" rel=\"noreferrer\">Apache commons</a> StringUtils class has a join method.</p>\n"},{"tags":[],"owner":{"account_id":3708,"reputation":16857,"user_id":5382,"display_name":"Mikezx6r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221488257,"creation_date":1221488257,"answer_id":63306,"question_id":63150,"body_markdown":"Don&#39;t know if this really is any better, but at least it&#39;s using StringBuilder, which may be slightly more efficient.\r\n\r\nDown below is a more generic approach if you can build up the list of parameters BEFORE doing any parameter delimiting.\r\n\r\n\t// Answers real question\r\n\tpublic String appendWithDelimiters(String delimiter, String original, String addition) {\r\n\t\tStringBuilder sb = new StringBuilder(original);\r\n\t\tif(sb.length()!=0) {\r\n\t\t\tsb.append(delimiter).append(addition);\r\n\t\t} else {\r\n\t\t\tsb.append(addition);\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\t\r\n\t// A more generic case.\r\n\t// ... means a list of indeterminate length of Strings.\r\n\tpublic String appendWithDelimitersGeneric(String delimiter, String... strings) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor (String string : strings) {\r\n\t\t\tif(sb.length()!=0) {\r\n\t\t\t\tsb.append(delimiter).append(string);\r\n\t\t\t} else {\r\n\t\t\t\tsb.append(string);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\tpublic void testAppendWithDelimiters() {\r\n\t\tString string = appendWithDelimitersGeneric(&quot;,&quot;, &quot;string1&quot;, &quot;string2&quot;, &quot;string3&quot;);\r\n\t}\r\n\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Don't know if this really is any better, but at least it's using StringBuilder, which may be slightly more efficient.</p>\n\n<p>Down below is a more generic approach if you can build up the list of parameters BEFORE doing any parameter delimiting.</p>\n\n<pre><code>// Answers real question\npublic String appendWithDelimiters(String delimiter, String original, String addition) {\n    StringBuilder sb = new StringBuilder(original);\n    if(sb.length()!=0) {\n        sb.append(delimiter).append(addition);\n    } else {\n        sb.append(addition);\n    }\n    return sb.toString();\n}\n\n\n// A more generic case.\n// ... means a list of indeterminate length of Strings.\npublic String appendWithDelimitersGeneric(String delimiter, String... strings) {\n    StringBuilder sb = new StringBuilder();\n    for (String string : strings) {\n        if(sb.length()!=0) {\n            sb.append(delimiter).append(string);\n        } else {\n            sb.append(string);\n        }\n    }\n\n    return sb.toString();\n}\n\npublic void testAppendWithDelimiters() {\n    String string = appendWithDelimitersGeneric(\",\", \"string1\", \"string2\", \"string3\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4865,"reputation":5979,"user_id":7524,"accept_rate":100,"display_name":"Yaba"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1221488349,"creation_date":1221488349,"answer_id":63324,"question_id":63150,"body_markdown":"Your approach is not too bad, but you should use a StringBuffer instead of using the + sign. The + has the big disadvantage that a new String instance is being created for each single operation. The longer your string gets, the bigger the overhead. So using a StringBuffer should be the fastest way:\r\n\r\n    public StringBuffer appendWithDelimiter( StringBuffer original, String addition, String delimiter ) {\r\n            if ( original == null ) {\r\n                    StringBuffer buffer = new StringBuffer();\r\n                    buffer.append(addition);\r\n                    return buffer;\r\n            } else {\r\n                    buffer.append(delimiter);\r\n                    buffer.append(addition);\r\n                    return original;\r\n            }\r\n    }\r\n\r\nAfter you have finished creating your string simply call toString() on the returned StringBuffer.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Your approach is not too bad, but you should use a StringBuffer instead of using the + sign. The + has the big disadvantage that a new String instance is being created for each single operation. The longer your string gets, the bigger the overhead. So using a StringBuffer should be the fastest way:</p>\n\n<pre><code>public StringBuffer appendWithDelimiter( StringBuffer original, String addition, String delimiter ) {\n        if ( original == null ) {\n                StringBuffer buffer = new StringBuffer();\n                buffer.append(addition);\n                return buffer;\n        } else {\n                buffer.append(delimiter);\n                buffer.append(addition);\n                return original;\n        }\n}\n</code></pre>\n\n<p>After you have finished creating your string simply call toString() on the returned StringBuffer.</p>\n"},{"tags":[],"owner":{"account_id":4847,"reputation":3806,"user_id":7492,"accept_rate":88,"display_name":"Eric Normand"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1221489443,"creation_date":1221488498,"answer_id":63351,"question_id":63150,"body_markdown":"I would use Google Collections.  There is a nice Join facility.  \r\nhttp://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/base/Join.html\r\n\r\nBut if I wanted to write it on my own,\r\n\r\n    package util;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Iterable;\r\n    import java.util.Collections;\r\n    import java.util.Iterator;\r\n    \r\n    public class Utils {\r\n        // accept a collection of objects, since all objects have toString()\r\n        public static String join(String delimiter, Iterable&lt;? extends Object&gt; objs) {\r\n            if (objs.isEmpty()) {\r\n                return &quot;&quot;;\r\n            }\r\n            Iterator&lt;? extends Object&gt; iter = objs.iterator();\r\n            StringBuilder buffer = new StringBuilder();\r\n            buffer.append(iter.next());\r\n            while (iter.hasNext()) {\r\n                buffer.append(delimiter).append(iter.next());\r\n            }\r\n            return buffer.toString();\r\n        }\r\n    \r\n        // for convenience\r\n        public static String join(String delimiter, Object... objs) {\r\n            ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n            Collections.addAll(list, objs);\r\n            return join(delimiter, list);\r\n        }\r\n    }\r\n\r\nI think it works better with an object collection, since now you don&#39;t have to convert your objects to strings before you join them.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>I would use Google Collections.  There is a nice Join facility.<br>\n<a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/base/Join.html\" rel=\"noreferrer\">http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/base/Join.html</a></p>\n\n<p>But if I wanted to write it on my own,</p>\n\n<pre><code>package util;\n\nimport java.util.ArrayList;\nimport java.util.Iterable;\nimport java.util.Collections;\nimport java.util.Iterator;\n\npublic class Utils {\n    // accept a collection of objects, since all objects have toString()\n    public static String join(String delimiter, Iterable&lt;? extends Object&gt; objs) {\n        if (objs.isEmpty()) {\n            return \"\";\n        }\n        Iterator&lt;? extends Object&gt; iter = objs.iterator();\n        StringBuilder buffer = new StringBuilder();\n        buffer.append(iter.next());\n        while (iter.hasNext()) {\n            buffer.append(delimiter).append(iter.next());\n        }\n        return buffer.toString();\n    }\n\n    // for convenience\n    public static String join(String delimiter, Object... objs) {\n        ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n        Collections.addAll(list, objs);\n        return join(delimiter, list);\n    }\n}\n</code></pre>\n\n<p>I think it works better with an object collection, since now you don't have to convert your objects to strings before you join them.</p>\n"},{"tags":[],"owner":{"account_id":1907,"reputation":23510,"user_id":2628,"accept_rate":86,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221488950,"creation_date":1221488950,"answer_id":63407,"question_id":63150,"body_markdown":"Instead of using string concatenation, you should use StringBuilder if your code is not threaded, and StringBuffer if it is.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Instead of using string concatenation, you should use StringBuilder if your code is not threaded, and StringBuffer if it is.</p>\n"},{"tags":[],"owner":{"display_name":"cjw2600"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221489045,"creation_date":1221489045,"answer_id":63418,"question_id":63150,"body_markdown":"You&#39;re making this a little more complicated than it has to be. Let&#39;s start with the end of your example:\r\n\r\n\r\n    String parameterString = &quot;&quot;;\r\n    if ( condition ) parameterString = appendWithDelimiter( parameterString, &quot;elementName&quot;, &quot;,&quot; );\r\n    if ( anotherCondition ) parameterString = appendWithDelimiter( parameterString, &quot;anotherElementName&quot;, &quot;,&quot; );\r\n\r\n\r\nWith the small change of using a StringBuilder instead of a String, this becomes:\r\n\r\n    StringBuilder parameterString = new StringBuilder();\r\n    if (condition) parameterString.append(&quot;elementName&quot;).append(&quot;,&quot;);\r\n    if (anotherCondition) parameterString.append(&quot;anotherElementName&quot;).append(&quot;,&quot;);\r\n    ...\r\n\r\nWhen you&#39;re done (I assume you have to check a few other conditions as well), just make sure you remove the tailing comma with a command like this:\r\n\r\n    if (parameterString.length() &gt; 0) \r\n        parameterString.deleteCharAt(parameterString.length() - 1);\r\n\r\nAnd finally, get the string you want with\r\n\r\n    parameterString.toString();\r\n\r\nYou could also replace the &quot;,&quot; in the second call to append with a generic delimiter string that can be set to anything. If you have a list of things you know you need to append (non-conditionally), you could put this code inside a method that takes a list of strings. ","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>You're making this a little more complicated than it has to be. Let's start with the end of your example:</p>\n\n<pre><code>String parameterString = \"\";\nif ( condition ) parameterString = appendWithDelimiter( parameterString, \"elementName\", \",\" );\nif ( anotherCondition ) parameterString = appendWithDelimiter( parameterString, \"anotherElementName\", \",\" );\n</code></pre>\n\n<p>With the small change of using a StringBuilder instead of a String, this becomes:</p>\n\n<pre><code>StringBuilder parameterString = new StringBuilder();\nif (condition) parameterString.append(\"elementName\").append(\",\");\nif (anotherCondition) parameterString.append(\"anotherElementName\").append(\",\");\n...\n</code></pre>\n\n<p>When you're done (I assume you have to check a few other conditions as well), just make sure you remove the tailing comma with a command like this:</p>\n\n<pre><code>if (parameterString.length() &gt; 0) \n    parameterString.deleteCharAt(parameterString.length() - 1);\n</code></pre>\n\n<p>And finally, get the string you want with</p>\n\n<pre><code>parameterString.toString();\n</code></pre>\n\n<p>You could also replace the \",\" in the second call to append with a generic delimiter string that can be set to anything. If you have a list of things you know you need to append (non-conditionally), you could put this code inside a method that takes a list of strings. </p>\n"},{"tags":[],"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221491804,"creation_date":1221491804,"answer_id":63840,"question_id":63150,"body_markdown":"    //Note: if you have access to Java5+, \r\n    //use StringBuilder in preference to StringBuffer.  \r\n    //All that has to be replaced is the class name.  \r\n    //StringBuffer will work in Java 1.4, though.\r\n\r\n    appendWithDelimiter( StringBuffer buffer, String addition, \r\n        String delimiter ) {\r\n        if ( buffer.length() == 0) {\r\n            buffer.append(addition);\r\n        } else {\r\n            buffer.append(delimiter);\r\n            buffer.append(addition);\r\n        }\r\n    }\r\n            \r\n            \r\n    StringBuffer parameterBuffer = new StringBuffer();\r\n    if ( condition ) { \r\n        appendWithDelimiter(parameterBuffer, &quot;elementName&quot;, &quot;,&quot; );\r\n    }\r\n    if ( anotherCondition ) {\r\n        appendWithDelimiter(parameterBuffer, &quot;anotherElementName&quot;, &quot;,&quot; );\r\n    }\r\n            \r\n    //Finally, to return a string representation, call toString() when returning.\r\n    return parameterBuffer.toString(); \r\n\r\n\r\n\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<pre><code>//Note: if you have access to Java5+, \n//use StringBuilder in preference to StringBuffer.  \n//All that has to be replaced is the class name.  \n//StringBuffer will work in Java 1.4, though.\n\nappendWithDelimiter( StringBuffer buffer, String addition, \n    String delimiter ) {\n    if ( buffer.length() == 0) {\n        buffer.append(addition);\n    } else {\n        buffer.append(delimiter);\n        buffer.append(addition);\n    }\n}\n\n\nStringBuffer parameterBuffer = new StringBuffer();\nif ( condition ) { \n    appendWithDelimiter(parameterBuffer, \"elementName\", \",\" );\n}\nif ( anotherCondition ) {\n    appendWithDelimiter(parameterBuffer, \"anotherElementName\", \",\" );\n}\n\n//Finally, to return a string representation, call toString() when returning.\nreturn parameterBuffer.toString(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1258285059,"creation_date":1221593783,"answer_id":76070,"question_id":63150,"body_markdown":"With Java 5 variable args, so you don&#39;t have to stuff all your strings into a collection or array explicitly:\r\n\r\n\r\n    import junit.framework.Assert;\r\n    import org.junit.Test;\r\n\r\n    public class StringUtil\r\n    {\r\n        public static String join(String delim, String... strings)\r\n        {\r\n            StringBuilder builder = new StringBuilder();\r\n            \r\n            if (strings != null)\r\n            {\r\n                for (String str : strings)\r\n                {\r\n                    if (builder.length() &gt; 0)\r\n                    {\r\n                        builder.append(delim).append(&quot; &quot;);\r\n                    }\r\n                    builder.append(str);\r\n                }\r\n            }           \r\n            return builder.toString();\r\n        }\r\n        @Test\r\n        public void joinTest()\r\n        {\r\n            Assert.assertEquals(&quot;&quot;, StringUtil.join(&quot;,&quot;, null));\r\n            Assert.assertEquals(&quot;&quot;, StringUtil.join(&quot;,&quot;, &quot;&quot;));\r\n            Assert.assertEquals(&quot;&quot;, StringUtil.join(&quot;,&quot;, new String[0]));\r\n            Assert.assertEquals(&quot;test&quot;, StringUtil.join(&quot;,&quot;, &quot;test&quot;));\r\n            Assert.assertEquals(&quot;foo, bar&quot;, StringUtil.join(&quot;,&quot;, &quot;foo&quot;, &quot;bar&quot;));\r\n            Assert.assertEquals(&quot;foo, bar, x&quot;, StringUtil.join(&quot;,&quot;, &quot;foo&quot;, &quot;bar&quot;, &quot;x&quot;));\r\n        }\r\n    }\r\n\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>With Java 5 variable args, so you don't have to stuff all your strings into a collection or array explicitly:</p>\n\n<pre><code>import junit.framework.Assert;\nimport org.junit.Test;\n\npublic class StringUtil\n{\n    public static String join(String delim, String... strings)\n    {\n        StringBuilder builder = new StringBuilder();\n\n        if (strings != null)\n        {\n            for (String str : strings)\n            {\n                if (builder.length() &gt; 0)\n                {\n                    builder.append(delim).append(\" \");\n                }\n                builder.append(str);\n            }\n        }           \n        return builder.toString();\n    }\n    @Test\n    public void joinTest()\n    {\n        Assert.assertEquals(\"\", StringUtil.join(\",\", null));\n        Assert.assertEquals(\"\", StringUtil.join(\",\", \"\"));\n        Assert.assertEquals(\"\", StringUtil.join(\",\", new String[0]));\n        Assert.assertEquals(\"test\", StringUtil.join(\",\", \"test\"));\n        Assert.assertEquals(\"foo, bar\", StringUtil.join(\",\", \"foo\", \"bar\"));\n        Assert.assertEquals(\"foo, bar, x\", StringUtil.join(\",\", \"foo\", \"bar\", \"x\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7614,"reputation":4883,"user_id":13276,"display_name":"user13276"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221594647,"creation_date":1221594647,"answer_id":76216,"question_id":63150,"body_markdown":"So a couple of things you might do to get the feel that it seems like you&#39;re looking for:\r\n\r\n1) Extend List class - and add the join method to it.  The join method would simply do the work of concatenating and adding the delimiter (which could be a param to the join method)\r\n\r\n2) It looks like Java 7 is going to be adding extension methods to java - which allows you just to attach a specific method on to a class:  so you could write that join method and add it as an extension method to List or even to Collection.\r\n\r\nSolution 1 is probably the only realistic one, now, though since Java 7 isn&#39;t out yet :) But it should work just fine.\r\n\r\n  To use both of these, you&#39;d just add all your items to the List or Collection as usual, and then call the new custom method to &#39;join&#39; them.\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>So a couple of things you might do to get the feel that it seems like you're looking for:</p>\n\n<p>1) Extend List class - and add the join method to it.  The join method would simply do the work of concatenating and adding the delimiter (which could be a param to the join method)</p>\n\n<p>2) It looks like Java 7 is going to be adding extension methods to java - which allows you just to attach a specific method on to a class:  so you could write that join method and add it as an extension method to List or even to Collection.</p>\n\n<p>Solution 1 is probably the only realistic one, now, though since Java 7 isn't out yet :) But it should work just fine.</p>\n\n<p>To use both of these, you'd just add all your items to the List or Collection as usual, and then call the new custom method to 'join' them.</p>\n"},{"tags":[],"owner":{"account_id":12436,"reputation":27545,"user_id":24468,"accept_rate":100,"display_name":"akuhn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482957005,"creation_date":1226959652,"answer_id":297128,"question_id":63150,"body_markdown":"Use StringBuilder and class `Separator`\r\n\r\n    StringBuilder buf = new StringBuilder();\r\n    Separator sep = new Separator(&quot;, &quot;);\r\n    for (String each : list) {\r\n        buf.append(sep).append(each);\r\n    }\r\n\r\nSeparator wraps a delimiter. The delimiter is returned by Separator&#39;s `toString` method, unless on the first call which returns the empty string!\r\n\r\nSource code for class `Separator`\r\n\r\n    public class Separator {\r\n    \r\n        private boolean skipFirst;\r\n        private final String value;\r\n    \r\n        public Separator() {\r\n            this(&quot;, &quot;);\r\n        }\r\n    \r\n        public Separator(String value) {\r\n            this.value = value;\r\n            this.skipFirst = true;\r\n        }\r\n    \r\n        public void reset() {\r\n            skipFirst = true;\r\n        }\r\n    \r\n        public String toString() {\r\n            String sep = skipFirst ? &quot;&quot; : value;\r\n            skipFirst = false;\r\n            return sep;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Use StringBuilder and class <code>Separator</code></p>\n\n<pre><code>StringBuilder buf = new StringBuilder();\nSeparator sep = new Separator(\", \");\nfor (String each : list) {\n    buf.append(sep).append(each);\n}\n</code></pre>\n\n<p>Separator wraps a delimiter. The delimiter is returned by Separator's <code>toString</code> method, unless on the first call which returns the empty string!</p>\n\n<p>Source code for class <code>Separator</code></p>\n\n<pre><code>public class Separator {\n\n    private boolean skipFirst;\n    private final String value;\n\n    public Separator() {\n        this(\", \");\n    }\n\n    public Separator(String value) {\n        this.value = value;\n        this.skipFirst = true;\n    }\n\n    public void reset() {\n        skipFirst = true;\n    }\n\n    public String toString() {\n        String sep = skipFirst ? \"\" : value;\n        skipFirst = false;\n        return sep;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1265052299,"creation_date":1265052299,"answer_id":2179425,"question_id":63150,"body_markdown":"using [Dollar][1] is simple as typing:\r\n\r\n    String joined = $(aCollection).join(&quot;,&quot;);\r\n    \r\nNB: it works also for Array and other data types\r\n\r\n&lt;h2&gt;Implementation&lt;/h2&gt;\r\n\r\nInternally it uses a very neat trick:\r\n\r\n    @Override\r\n    public String join(String separator) {\r\n        Separator sep = new Separator(separator);\r\n        StringBuilder sb = new StringBuilder();\r\n        \r\n        for (T item : iterable) {\r\n            sb.append(sep).append(item);\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n\r\nthe class `Separator` return the empty String only the first time that it is invoked, then it returns the separator:\r\n\r\n    class Separator {\r\n\r\n        private final String separator;\r\n        private boolean wasCalled;\r\n\r\n        public Separator(String separator) {\r\n            this.separator = separator;\r\n            this.wasCalled = false;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            if (!wasCalled) {\r\n                wasCalled = true;\r\n                return &quot;&quot;;\r\n            } else {\r\n                return separator;\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: http://bitbucket.org/dfa/dollar","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>using <a href=\"http://bitbucket.org/dfa/dollar\" rel=\"nofollow noreferrer\">Dollar</a> is simple as typing:</p>\n\n<pre><code>String joined = $(aCollection).join(\",\");\n</code></pre>\n\n<p>NB: it works also for Array and other data types</p>\n\n<h2>Implementation</h2>\n\n<p>Internally it uses a very neat trick:</p>\n\n<pre><code>@Override\npublic String join(String separator) {\n    Separator sep = new Separator(separator);\n    StringBuilder sb = new StringBuilder();\n\n    for (T item : iterable) {\n        sb.append(sep).append(item);\n    }\n\n    return sb.toString();\n}\n</code></pre>\n\n<p>the class <code>Separator</code> return the empty String only the first time that it is invoked, then it returns the separator:</p>\n\n<pre><code>class Separator {\n\n    private final String separator;\n    private boolean wasCalled;\n\n    public Separator(String separator) {\n        this.separator = separator;\n        this.wasCalled = false;\n    }\n\n    @Override\n    public String toString() {\n        if (!wasCalled) {\n            wasCalled = true;\n            return \"\";\n        } else {\n            return separator;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":634982,"reputation":1,"user_id":402658,"display_name":"java al"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280171954,"creation_date":1280171954,"answer_id":3338199,"question_id":63150,"body_markdown":"Slight improvement [speed] of version from izb:\r\n\r\n    public static String join(String[] strings, char del)\r\n    {\r\n        StringBuilder sb = new StringBuilder();\r\n        int len = strings.length;\r\n    \r\n        if(len &gt; 1) \r\n        {\r\n           len -= 1;\r\n        }else\r\n        {\r\n           return strings[0];\r\n        }\r\n    \r\n        for (int i = 0; i &lt; len; i++)\r\n        {\r\n           sb.append(strings[i]).append(del);\r\n        }\r\n    \r\n        sb.append(strings[i]);\r\n       \r\n        return sb.toString();\r\n    }","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Slight improvement [speed] of version from izb:</p>\n\n<pre><code>public static String join(String[] strings, char del)\n{\n    StringBuilder sb = new StringBuilder();\n    int len = strings.length;\n\n    if(len &gt; 1) \n    {\n       len -= 1;\n    }else\n    {\n       return strings[0];\n    }\n\n    for (int i = 0; i &lt; len; i++)\n    {\n       sb.append(strings[i]).append(del);\n    }\n\n    sb.append(strings[i]);\n\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":147081,"reputation":2605,"user_id":357951,"accept_rate":25,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1305497773,"creation_date":1305497773,"answer_id":6011632,"question_id":63150,"body_markdown":"In the case of Android, the StringUtils class from commons isn&#39;t available, so for this I used\r\n\r\n    android.text.TextUtils.join(CharSequence delimiter, Iterable tokens)\r\n\r\nhttp://developer.android.com/reference/android/text/TextUtils.html","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>In the case of Android, the StringUtils class from commons isn't available, so for this I used</p>\n\n<pre><code>android.text.TextUtils.join(CharSequence delimiter, Iterable tokens)\n</code></pre>\n\n<p><a href=\"http://developer.android.com/reference/android/text/TextUtils.html\">http://developer.android.com/reference/android/text/TextUtils.html</a></p>\n"},{"tags":[],"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1347951347,"creation_date":1347951347,"answer_id":12471817,"question_id":63150,"body_markdown":"The [Google&#39;s Guava library](http://code.google.com/p/guava-libraries/) has ***[com.google.common.base.Joiner](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Joiner.html)*** class which helps to solve such tasks.\r\n\r\nSamples:\r\n\r\n    &quot;My pets are: &quot; + Joiner.on(&quot;, &quot;).join(Arrays.asList(&quot;rabbit&quot;, &quot;parrot&quot;, &quot;dog&quot;)); \r\n    // returns &quot;My pets are: rabbit, parrot, dog&quot;\r\n\r\n    Joiner.on(&quot; AND &quot;).join(Arrays.asList(&quot;field1=1&quot; , &quot;field2=2&quot;, &quot;field3=3&quot;));\r\n    // returns &quot;field1=1 AND field2=2 AND field3=3&quot;\r\n\r\n    Joiner.on(&quot;,&quot;).skipNulls().join(Arrays.asList(&quot;London&quot;, &quot;Moscow&quot;, null, &quot;New York&quot;, null, &quot;Paris&quot;));\r\n    // returns &quot;London,Moscow,New York,Paris&quot;\r\n\r\n    Joiner.on(&quot;, &quot;).useForNull(&quot;Team held a draw&quot;).join(Arrays.asList(&quot;FC Barcelona&quot;, &quot;FC Bayern&quot;, null, null, &quot;Chelsea FC&quot;, &quot;AC Milan&quot;));\r\n    // returns &quot;FC Barcelona, FC Bayern, Team held a draw, Team held a draw, Chelsea FC, AC Milan&quot;\r\n\r\n---\r\n\r\nHere is an [article about Guava&#39;s string utilities](http://code.google.com/p/guava-libraries/wiki/StringsExplained).","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>The <a href=\"http://code.google.com/p/guava-libraries/\">Google's Guava library</a> has <strong><em><a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Joiner.html\">com.google.common.base.Joiner</a></em></strong> class which helps to solve such tasks.</p>\n\n<p>Samples:</p>\n\n<pre><code>\"My pets are: \" + Joiner.on(\", \").join(Arrays.asList(\"rabbit\", \"parrot\", \"dog\")); \n// returns \"My pets are: rabbit, parrot, dog\"\n\nJoiner.on(\" AND \").join(Arrays.asList(\"field1=1\" , \"field2=2\", \"field3=3\"));\n// returns \"field1=1 AND field2=2 AND field3=3\"\n\nJoiner.on(\",\").skipNulls().join(Arrays.asList(\"London\", \"Moscow\", null, \"New York\", null, \"Paris\"));\n// returns \"London,Moscow,New York,Paris\"\n\nJoiner.on(\", \").useForNull(\"Team held a draw\").join(Arrays.asList(\"FC Barcelona\", \"FC Bayern\", null, null, \"Chelsea FC\", \"AC Milan\"));\n// returns \"FC Barcelona, FC Bayern, Team held a draw, Team held a draw, Chelsea FC, AC Milan\"\n</code></pre>\n\n<hr>\n\n<p>Here is an <a href=\"http://code.google.com/p/guava-libraries/wiki/StringsExplained\">article about Guava's string utilities</a>.</p>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498933830,"creation_date":1384568113,"answer_id":20013838,"question_id":63150,"body_markdown":"If you&#39;re using [Eclipse Collections][1], you can use `makeString()` or `appendString()`.\r\n\r\n`makeString()` returns a `String` representation, similar to `toString()`.\r\n\r\nIt has three forms\r\n\r\n - `makeString(start, separator, end)`\r\n - `makeString(separator)` defaults start and end to empty strings\r\n - `makeString()` defaults the separator to `&quot;, &quot;` (comma and space)\r\n\r\nCode example:\r\n\r\n    MutableList&lt;Integer&gt; list = FastList.newListWith(1, 2, 3);\r\n    assertEquals(&quot;[1/2/3]&quot;, list.makeString(&quot;[&quot;, &quot;/&quot;, &quot;]&quot;));\r\n    assertEquals(&quot;1/2/3&quot;, list.makeString(&quot;/&quot;));\r\n    assertEquals(&quot;1, 2, 3&quot;, list.makeString());\r\n    assertEquals(list.toString(), list.makeString(&quot;[&quot;, &quot;, &quot;, &quot;]&quot;));\r\n\r\n`appendString()` is similar to `makeString()`, but it appends to an `Appendable` (like `StringBuilder`) and is `void`. It has the same three forms, with an additional first argument, the Appendable.\r\n\r\n    MutableList&lt;Integer&gt; list = FastList.newListWith(1, 2, 3);\r\n    Appendable appendable = new StringBuilder();\r\n    list.appendString(appendable, &quot;[&quot;, &quot;/&quot;, &quot;]&quot;);\r\n    assertEquals(&quot;[1/2/3]&quot;, appendable.toString());\r\n\r\nIf you can&#39;t convert your collection to an Eclipse Collections type, just adapt it with the relevant adapter.\r\n\r\n    List&lt;Object&gt; list = ...;\r\n    ListAdapter.adapt(list).makeString(&quot;,&quot;);\r\n\r\n**Note:** I am a committer for Eclipse collections.\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>If you're using <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, you can use <code>makeString()</code> or <code>appendString()</code>.</p>\n\n<p><code>makeString()</code> returns a <code>String</code> representation, similar to <code>toString()</code>.</p>\n\n<p>It has three forms</p>\n\n<ul>\n<li><code>makeString(start, separator, end)</code></li>\n<li><code>makeString(separator)</code> defaults start and end to empty strings</li>\n<li><code>makeString()</code> defaults the separator to <code>\", \"</code> (comma and space)</li>\n</ul>\n\n<p>Code example:</p>\n\n<pre><code>MutableList&lt;Integer&gt; list = FastList.newListWith(1, 2, 3);\nassertEquals(\"[1/2/3]\", list.makeString(\"[\", \"/\", \"]\"));\nassertEquals(\"1/2/3\", list.makeString(\"/\"));\nassertEquals(\"1, 2, 3\", list.makeString());\nassertEquals(list.toString(), list.makeString(\"[\", \", \", \"]\"));\n</code></pre>\n\n<p><code>appendString()</code> is similar to <code>makeString()</code>, but it appends to an <code>Appendable</code> (like <code>StringBuilder</code>) and is <code>void</code>. It has the same three forms, with an additional first argument, the Appendable.</p>\n\n<pre><code>MutableList&lt;Integer&gt; list = FastList.newListWith(1, 2, 3);\nAppendable appendable = new StringBuilder();\nlist.appendString(appendable, \"[\", \"/\", \"]\");\nassertEquals(\"[1/2/3]\", appendable.toString());\n</code></pre>\n\n<p>If you can't convert your collection to an Eclipse Collections type, just adapt it with the relevant adapter.</p>\n\n<pre><code>List&lt;Object&gt; list = ...;\nListAdapter.adapt(list).makeString(\",\");\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse collections.</p>\n"},{"tags":[],"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1402500122,"creation_date":1395491459,"answer_id":22577623,"question_id":63150,"body_markdown":"In Java 8 you can use [`String.join()`][1]:\r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;);\r\n    String joined = String.join(&quot; and &quot;, list); // &quot;foo and bar and baz&quot;\r\n\r\nAlso have a look at [this answer][2] for a Stream API example.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\r\n  [2]: https://stackoverflow.com/a/22577565/1115554","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>In Java 8 you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\" rel=\"noreferrer\"><code>String.join()</code></a>:</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"foo\", \"bar\", \"baz\");\nString joined = String.join(\" and \", list); // \"foo and bar and baz\"\n</code></pre>\n\n<p>Also have a look at <a href=\"https://stackoverflow.com/a/22577565/1115554\">this answer</a> for a Stream API example.</p>\n"},{"tags":[],"owner":{"account_id":1632148,"reputation":11369,"user_id":1506477,"accept_rate":100,"display_name":"Thamme Gowda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1422862335,"creation_date":1395832896,"answer_id":22659416,"question_id":63150,"body_markdown":"And a minimal one (if you don&#39;t want to include Apache Commons or Gauva into project dependencies just for the sake of joining strings)\r\n\r\n    /**\r\n     *\r\n     * @param delim : String that should be kept in between the parts\r\n     * @param parts : parts that needs to be joined\r\n     * @return  a String that&#39;s formed by joining the parts\r\n     */\r\n    private static final String join(String delim, String... parts) {\r\n        StringBuilder builder = new StringBuilder();\r\n        for (int i = 0; i &lt; parts.length - 1; i++) {\r\n            builder.append(parts[i]).append(delim);\r\n        }\r\n        if(parts.length &gt; 0){\r\n            builder.append(parts[parts.length - 1]);\r\n        }\r\n        return builder.toString();\r\n    }\r\n\r\n\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>And a minimal one (if you don't want to include Apache Commons or Gauva into project dependencies just for the sake of joining strings)</p>\n\n<pre><code>/**\n *\n * @param delim : String that should be kept in between the parts\n * @param parts : parts that needs to be joined\n * @return  a String that's formed by joining the parts\n */\nprivate static final String join(String delim, String... parts) {\n    StringBuilder builder = new StringBuilder();\n    for (int i = 0; i &lt; parts.length - 1; i++) {\n        builder.append(parts[i]).append(delim);\n    }\n    if(parts.length &gt; 0){\n        builder.append(parts[parts.length - 1]);\n    }\n    return builder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1074366,"reputation":732,"user_id":1072826,"accept_rate":45,"display_name":"gladiator"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1568271434,"creation_date":1419240211,"answer_id":27599779,"question_id":63150,"body_markdown":"in Java 8 you can do this like:\r\n\r\n```java\r\nlist.stream().map(Object::toString)\r\n        .collect(Collectors.joining(delimiter));\r\n```\r\n\r\nif list has nulls you can use:\r\n\r\n```java\r\nlist.stream().map(String::valueOf)\r\n        .collect(Collectors.joining(delimiter))\r\n```\r\n\r\nit also supports prefix and suffix:\r\n\r\n```java\r\nlist.stream().map(String::valueOf)\r\n        .collect(Collectors.joining(delimiter, prefix, suffix));\r\n```","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>in Java 8 you can do this like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>list.stream().map(Object::toString)\n        .collect(Collectors.joining(delimiter));\n</code></pre>\n\n<p>if list has nulls you can use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>list.stream().map(String::valueOf)\n        .collect(Collectors.joining(delimiter))\n</code></pre>\n\n<p>it also supports prefix and suffix:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>list.stream().map(String::valueOf)\n        .collect(Collectors.joining(delimiter, prefix, suffix));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"р&#252;ффп"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1421833479,"creation_date":1421833479,"answer_id":28063943,"question_id":63150,"body_markdown":"For those who are in a Spring context their [StringUtils](http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html) class is useful as well:\r\n\r\nThere are many useful shortcuts like:\r\n\r\n  - collectionToCommaDelimitedString(Collection&lt;?&gt; coll)\r\n  - collectionToDelimitedString(Collection&lt;?&gt; coll, String delim)\r\n  - arrayToDelimitedString(Object[] arr, String delim)\r\n\r\nand many others. \r\n\r\nThis can be helpful if you are not already using Java 8 and you are already in a Spring context.\r\n\r\nI prefer it against the Apache Commons (although very good as well) for the Collection support which is easier like this:\r\n\r\n\t// Encoding Set&lt;String&gt; to String delimited \r\n\tString asString = org.springframework.util.StringUtils.collectionToDelimitedString(codes, &quot;;&quot;);\r\n\r\n\t// Decoding String delimited to Set\r\n\tSet&lt;String&gt; collection = org.springframework.util.StringUtils.commaDelimitedListToSet(asString);\r\n\r\n\t\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>For those who are in a Spring context their <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html\" rel=\"nofollow\">StringUtils</a> class is useful as well:</p>\n\n<p>There are many useful shortcuts like:</p>\n\n<ul>\n<li>collectionToCommaDelimitedString(Collection coll)</li>\n<li>collectionToDelimitedString(Collection coll, String delim)</li>\n<li>arrayToDelimitedString(Object[] arr, String delim)</li>\n</ul>\n\n<p>and many others. </p>\n\n<p>This can be helpful if you are not already using Java 8 and you are already in a Spring context.</p>\n\n<p>I prefer it against the Apache Commons (although very good as well) for the Collection support which is easier like this:</p>\n\n<pre><code>// Encoding Set&lt;String&gt; to String delimited \nString asString = org.springframework.util.StringUtils.collectionToDelimitedString(codes, \";\");\n\n// Decoding String delimited to Set\nSet&lt;String&gt; collection = org.springframework.util.StringUtils.commaDelimitedListToSet(asString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3718522,"reputation":1458,"user_id":3094065,"display_name":"maXp"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1426728650,"creation_date":1426728650,"answer_id":29135746,"question_id":63150,"body_markdown":"Fix answer Rob Dickerson.\r\n\r\n It&#39;s easier to use:\r\n\r\n    public static String join(String delimiter, String... values)\r\n    {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n\r\n        for (String value : values)\r\n        {\r\n            stringBuilder.append(value);\r\n            stringBuilder.append(delimiter);\r\n        }\r\n\r\n        String result = stringBuilder.toString();\r\n\r\n        return result.isEmpty() ? result : result.substring(0, result.length() - 1);\r\n    }","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Fix answer Rob Dickerson.</p>\n\n<p>It's easier to use:</p>\n\n<pre><code>public static String join(String delimiter, String... values)\n{\n    StringBuilder stringBuilder = new StringBuilder();\n\n    for (String value : values)\n    {\n        stringBuilder.append(value);\n        stringBuilder.append(delimiter);\n    }\n\n    String result = stringBuilder.toString();\n\n    return result.isEmpty() ? result : result.substring(0, result.length() - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1446291519,"creation_date":1446291519,"answer_id":33451093,"question_id":63150,"body_markdown":"Java 8\r\n-\r\n    stringCollection.stream().collect(Collectors.joining(&quot;, &quot;));","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<h2>Java 8</h2>\n\n<pre><code>stringCollection.stream().collect(Collectors.joining(\", \"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8318752,"reputation":1,"user_id":6251178,"display_name":"Ankit Lalan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481103018,"creation_date":1461585301,"answer_id":36839833,"question_id":63150,"body_markdown":"If you are using Spring MVC then you can try following steps.\r\n\r\n    import org.springframework.util.StringUtils;\r\n    \r\n    List&lt;String&gt; groupIds = new List&lt;String&gt;;   \r\n    groupIds.add(&quot;a&quot;);    \r\n    groupIds.add(&quot;b&quot;);    \r\n    groupIds.add(&quot;c&quot;);\r\n    \r\n    String csv = StringUtils.arrayToCommaDelimitedString(groupIds.toArray());\r\n\r\nIt will result to `a,b,c`\r\n\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>If you are using Spring MVC then you can try following steps.</p>\n\n<pre><code>import org.springframework.util.StringUtils;\n\nList&lt;String&gt; groupIds = new List&lt;String&gt;;   \ngroupIds.add(\"a\");    \ngroupIds.add(\"b\");    \ngroupIds.add(\"c\");\n\nString csv = StringUtils.arrayToCommaDelimitedString(groupIds.toArray());\n</code></pre>\n\n<p>It will result to <code>a,b,c</code></p>\n"},{"tags":[],"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471801609,"creation_date":1471801609,"answer_id":39067118,"question_id":63150,"body_markdown":"I personally quite often use  the following simple solution for logging purposes:\r\n\r\n    List lst = Arrays.asList(&quot;ab&quot;, &quot;bc&quot;, &quot;cd&quot;);\r\n    String str = lst.toString().replaceAll(&quot;[\\\\[\\\\]]&quot;, &quot;&quot;);","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>I personally quite often use  the following simple solution for logging purposes:</p>\n\n<pre><code>List lst = Arrays.asList(\"ab\", \"bc\", \"cd\");\nString str = lst.toString().replaceAll(\"[\\\\[\\\\]]\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13256702,"reputation":1,"user_id":9572533,"display_name":"Luis Aguilar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1523891402,"creation_date":1523891402,"answer_id":49860671,"question_id":63150,"body_markdown":"Java 8 Native Type\r\n\r\n    List&lt;Integer&gt; example;\r\n    example.add(1);\r\n    example.add(2);\r\n    example.add(3);\r\n    ...\r\n    example.stream().collect(Collectors.joining(&quot;,&quot;));\r\n\r\nJava 8 Custom Object:\r\n\r\n    List&lt;Person&gt; person;\r\n    ...\r\n    person.stream().map(Person::getAge).collect(Collectors.joining(&quot;,&quot;));\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Java 8 Native Type</p>\n\n<pre><code>List&lt;Integer&gt; example;\nexample.add(1);\nexample.add(2);\nexample.add(3);\n...\nexample.stream().collect(Collectors.joining(\",\"));\n</code></pre>\n\n<p>Java 8 Custom Object:</p>\n\n<pre><code>List&lt;Person&gt; person;\n...\nperson.stream().map(Person::getAge).collect(Collectors.joining(\",\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14943882,"reputation":91,"user_id":10789713,"display_name":"Dhruv Naik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575009479,"creation_date":1575009479,"answer_id":59099866,"question_id":63150,"body_markdown":"If you want to apply comma in a List of object&#39;s properties. This is the way i found most useful. \r\n\r\nhere **getName()** is a string property of a class i have been trying to add &quot;,&quot; to.\r\n\r\n**String message = listName.stream().map(list -&gt; list.getName()).collect(Collectors.joining(&quot;, &quot;));**","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>If you want to apply comma in a List of object's properties. This is the way i found most useful. </p>\n\n<p>here <strong>getName()</strong> is a string property of a class i have been trying to add \",\" to.</p>\n\n<p><strong>String message = listName.stream().map(list -> list.getName()).collect(Collectors.joining(\", \"));</strong></p>\n"},{"tags":[],"owner":{"account_id":17378356,"reputation":121,"user_id":12591119,"display_name":"VIVek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664110882,"creation_date":1664110882,"answer_id":73844686,"question_id":63150,"body_markdown":"&gt; Don&#39;t use join, delimiter or StringJoiner methods and classes as they\r\n&gt; wont work below Android N and O versions. Else use a simple code logic\r\n&gt; as;\r\n\r\n     List&lt;String&gt; tags= emp.getTags();\r\n            String tagTxt=&quot;&quot;;\r\n            for (String s : tags) {\r\n                if (tagTxt.isEmpty()){\r\n                    tagTxt=s;\r\n                }else\r\n                    tagTxt= tagTxt+&quot;, &quot;+s;\r\n            }  ","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<blockquote>\n<p>Don't use join, delimiter or StringJoiner methods and classes as they\nwont work below Android N and O versions. Else use a simple code logic\nas;</p>\n</blockquote>\n<pre><code> List&lt;String&gt; tags= emp.getTags();\n        String tagTxt=&quot;&quot;;\n        for (String s : tags) {\n            if (tagTxt.isEmpty()){\n                tagTxt=s;\n            }else\n                tagTxt= tagTxt+&quot;, &quot;+s;\n        }  \n</code></pre>\n"}],"owner":{"account_id":4775,"reputation":58177,"user_id":2041950,"accept_rate":90,"display_name":"Sean McMains"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363665,"favorite_count":0,"down_vote_count":0,"up_vote_count":372,"accepted_answer_id":63258,"answer_count":37,"score":372,"last_activity_date":1664110882,"creation_date":1221487363,"question_id":63150,"body_markdown":"While working in a Java app, I recently needed to assemble a comma-delimited list of values to pass to another web service without knowing how many elements there would be in advance. The best I could come up with off the top of my head was something like this:\r\n\r\n\tpublic String appendWithDelimiter( String original, String addition, String delimiter ) {\r\n\t\tif ( original.equals( &quot;&quot; ) ) {\r\n\t\t\treturn addition;\r\n\t\t} else {\r\n\t\t\treturn original + delimiter + addition;\r\n\t\t}\r\n\t}\r\n    \r\n    String parameterString = &quot;&quot;;\r\n    if ( condition ) parameterString = appendWithDelimiter( parameterString, &quot;elementName&quot;, &quot;,&quot; );\r\n    if ( anotherCondition ) parameterString = appendWithDelimiter( parameterString, &quot;anotherElementName&quot;, &quot;,&quot; );\r\n\r\nI realize this isn&#39;t particularly efficient, since there are strings being created all over the place, but I was going for clarity more than optimization.\r\n\r\nIn Ruby, I can do something like this instead, which feels much more elegant:\r\n\r\n    parameterArray = [];\r\n    parameterArray &lt;&lt; &quot;elementName&quot; if condition;\r\n    parameterArray &lt;&lt; &quot;anotherElementName&quot; if anotherCondition;\r\n    parameterString = parameterArray.join(&quot;,&quot;);\r\n\r\nBut since Java lacks a join command, I couldn&#39;t figure out anything equivalent.\r\n\r\nSo, what&#39;s the best way to do this in Java?","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>While working in a Java app, I recently needed to assemble a comma-delimited list of values to pass to another web service without knowing how many elements there would be in advance. The best I could come up with off the top of my head was something like this:</p>\n\n<pre><code>public String appendWithDelimiter( String original, String addition, String delimiter ) {\n    if ( original.equals( \"\" ) ) {\n        return addition;\n    } else {\n        return original + delimiter + addition;\n    }\n}\n\nString parameterString = \"\";\nif ( condition ) parameterString = appendWithDelimiter( parameterString, \"elementName\", \",\" );\nif ( anotherCondition ) parameterString = appendWithDelimiter( parameterString, \"anotherElementName\", \",\" );\n</code></pre>\n\n<p>I realize this isn't particularly efficient, since there are strings being created all over the place, but I was going for clarity more than optimization.</p>\n\n<p>In Ruby, I can do something like this instead, which feels much more elegant:</p>\n\n<pre><code>parameterArray = [];\nparameterArray &lt;&lt; \"elementName\" if condition;\nparameterArray &lt;&lt; \"anotherElementName\" if anotherCondition;\nparameterString = parameterArray.join(\",\");\n</code></pre>\n\n<p>But since Java lacks a join command, I couldn't figure out anything equivalent.</p>\n\n<p>So, what's the best way to do this in Java?</p>\n"},{"tags":["java","eclipse","sdk","java-17"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1664047293,"post_id":73835122,"comment_id":130383807,"body_markdown":"What did you configure in the preferences _Java &gt; Installed JREs_?","body":"What did you configure in the preferences <i>Java &gt; Installed JREs</i>?"}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664001042,"creation_date":1664000665,"answer_id":73835156,"question_id":73835122,"body_markdown":"The correct path for Java on macOS is the `Contents/Home` folder in the `xxx.jdk` \r\n\r\nSo in the &quot;Installed JREs&quot; you should have something like:\r\n```none\r\n/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\r\n```\r\nor\r\n```none\r\n/Library/Java/JavaVirtualMachines/jdk-18.0.2.jdk/Contents/Home\r\n```\r\nAs mentioned in the comments running the command\r\n```\r\n/usr/libexec/java_home -V\r\n```\r\nwill list the available Java installs and the correct paths.","title":"Java code not recognized, Eclipse error: &quot;Target is not a JDK Root. Java executable was not found&quot;","body":"<p>The correct path for Java on macOS is the <code>Contents/Home</code> folder in the <code>xxx.jdk</code></p>\n<p>So in the &quot;Installed JREs&quot; you should have something like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\n</code></pre>\n<p>or</p>\n<pre class=\"lang-none prettyprint-override\"><code>/Library/Java/JavaVirtualMachines/jdk-18.0.2.jdk/Contents/Home\n</code></pre>\n<p>As mentioned in the comments running the command</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>will list the available Java installs and the correct paths.</p>\n"},{"tags":[],"owner":{"account_id":26420472,"reputation":1,"user_id":20068220,"display_name":"Linganathan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664110410,"creation_date":1664005320,"answer_id":73835533,"question_id":73835122,"body_markdown":"1) Run below commend on your terminal to see where your java is located on your mac\r\n\r\n   /usr/libexec/java_home\r\n\r\n\r\n2) Use that path on your eclipse JRE location\r\n\r\n**In your case you need JDK for eclipse to work** or recognize your project so add JDK by following below \r\n","title":"Java code not recognized, Eclipse error: &quot;Target is not a JDK Root. Java executable was not found&quot;","body":"<ol>\n<li><p>Run below commend on your terminal to see where your java is located on your mac</p>\n<p>/usr/libexec/java_home</p>\n</li>\n<li><p>Use that path on your eclipse JRE location</p>\n</li>\n</ol>\n<p><strong>In your case you need JDK for eclipse to work</strong> or recognize your project so add JDK by following below</p>\n"},{"tags":[],"owner":{"account_id":22222404,"reputation":21,"user_id":16459828,"display_name":"Aarya Deshpande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664053495,"creation_date":1664053495,"answer_id":73840571,"question_id":73835122,"body_markdown":"I just found the solution! Don&#39;t import the entire JDK package. Instead, import the Home folder that is located two folders inside it. See below for details.\r\n---\r\n\r\nFirst off, there was nothing wrong with the JDK packages (folders) or where they were located (they were correctly located in /Library/Java/JavaVirtualMachines). See below. [![enter image description here][1]][1]\r\n\r\nThe problem was that in Eclipse, when we tried importing a Java library (e.g., for Java 17) through *Project &gt; Properties &gt; Java Build Path &gt; Modulepath: Add Library... &gt; JRE System Library &gt; Next &gt; Installed JREs... &gt; Add &gt; Standard VM &gt; Next &gt; Directory... (this opens up Finder)*, we, at this point, will choose one of the packages (e.g., jdk-17.0.4.1.jdk). (See below.) DON&#39;T. Instead, double-click into it. Then you&#39;ll see a folder called &quot;Contents.&quot; Double-click into that as well. Now, you&#39;ll see a couple of folders. Select &quot;Home&quot; and hit &quot;Open&quot; for that one. Eclipse will open it and throw no error. If instead you selected the entire package and opened that, then Eclipse will throw a &quot;Target is not a JDK Root. Java executable was not found&quot; error. It seems that Eclipse was not automatically detecting the Home folder that is embedded inside, so we had to manually go further and select that specifically for Eclipse.\r\n\r\n\r\n\r\n[![enter image description here][2]][2]  [![enter image description here][3]][3][![enter image description here][4]][4][![][5]][5]\r\n\r\nNote: I already imported Java 17 before posting this. I went back to import Java 16 using above steps, that&#39;s why I&#39;m calling this one Java 16.0.1\r\n\r\n  [1]: https://i.stack.imgur.com/NsCts.png\r\n  [2]: https://i.stack.imgur.com/61m0a.png\r\n  [3]: https://i.stack.imgur.com/2ju7w.png\r\n  [4]: https://i.stack.imgur.com/n90BR.png\r\n  [5]: https://i.stack.imgur.com/g5pdY.png","title":"Java code not recognized, Eclipse error: &quot;Target is not a JDK Root. Java executable was not found&quot;","body":"<h2>I just found the solution! Don't import the entire JDK package. Instead, import the Home folder that is located two folders inside it. See below for details.</h2>\n<p>First off, there was nothing wrong with the JDK packages (folders) or where they were located (they were correctly located in /Library/Java/JavaVirtualMachines). See below. <a href=\"https://i.stack.imgur.com/NsCts.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NsCts.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem was that in Eclipse, when we tried importing a Java library (e.g., for Java 17) through <em>Project &gt; Properties &gt; Java Build Path &gt; Modulepath: Add Library... &gt; JRE System Library &gt; Next &gt; Installed JREs... &gt; Add &gt; Standard VM &gt; Next &gt; Directory... (this opens up Finder)</em>, we, at this point, will choose one of the packages (e.g., jdk-17.0.4.1.jdk). (See below.) DON'T. Instead, double-click into it. Then you'll see a folder called &quot;Contents.&quot; Double-click into that as well. Now, you'll see a couple of folders. Select &quot;Home&quot; and hit &quot;Open&quot; for that one. Eclipse will open it and throw no error. If instead you selected the entire package and opened that, then Eclipse will throw a &quot;Target is not a JDK Root. Java executable was not found&quot; error. It seems that Eclipse was not automatically detecting the Home folder that is embedded inside, so we had to manually go further and select that specifically for Eclipse.</p>\n<p><a href=\"https://i.stack.imgur.com/61m0a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/61m0a.png\" alt=\"enter image description here\" /></a>  <a href=\"https://i.stack.imgur.com/2ju7w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ju7w.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/n90BR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n90BR.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/g5pdY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g5pdY.png\" alt=\"\" /></a></p>\n<p>Note: I already imported Java 17 before posting this. I went back to import Java 16 using above steps, that's why I'm calling this one Java 16.0.1</p>\n"}],"owner":{"account_id":22222404,"reputation":21,"user_id":16459828,"display_name":"Aarya Deshpande"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73835156,"answer_count":3,"score":0,"last_activity_date":1664110410,"creation_date":1664000185,"question_id":73835122,"body_markdown":"Problem: Eclipse is not recognizing my Java code on my Mac (e.g., the main method, String, Object class... none of that is recognized; the pre-built Java classes aren&#39;t even there!).\r\n\r\nDetail: I have the latest Eclipse (2022-09) and even tried 2022-06. I also have the latest Java version (terminal: &quot;java -version&quot; brings 17.0.4.1). In Eclipse settings, I see the following (see PINK for how I got to these settings, see YELLOW for problem): [![enter image description here][1]][1][![enter image description here][2]][2]\r\n\r\nBut I have the following in Finder: \r\n\r\n[![enter image description here][4]][4]\r\n\r\nSo maybe the JavaSE/SDK file did not get imported auotmatically. So then I manually try to do that (see PINK), but when I select any of the JavaSE/JDK files from Finder, this happens (YELLOW):\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIs there any resolution? Thanks!\r\n\r\nNote: Java 17 and Eclipse are both mandatory for my college class. In fact, for the current project, only Java 17 is compatible with the .jars file we need to work with, so there&#39;s no other choice.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vdhC4.png\r\n  [2]: https://i.stack.imgur.com/MPs0D.png\r\n  [3]: https://i.stack.imgur.com/pfW1v.png\r\n  [4]: https://i.stack.imgur.com/qFeAl.png","title":"Java code not recognized, Eclipse error: &quot;Target is not a JDK Root. Java executable was not found&quot;","body":"<p>Problem: Eclipse is not recognizing my Java code on my Mac (e.g., the main method, String, Object class... none of that is recognized; the pre-built Java classes aren't even there!).</p>\n<p>Detail: I have the latest Eclipse (2022-09) and even tried 2022-06. I also have the latest Java version (terminal: &quot;java -version&quot; brings 17.0.4.1). In Eclipse settings, I see the following (see PINK for how I got to these settings, see YELLOW for problem): <a href=\"https://i.stack.imgur.com/vdhC4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vdhC4.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/MPs0D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MPs0D.png\" alt=\"enter image description here\" /></a></p>\n<p>But I have the following in Finder:</p>\n<p><a href=\"https://i.stack.imgur.com/qFeAl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qFeAl.png\" alt=\"enter image description here\" /></a></p>\n<p>So maybe the JavaSE/SDK file did not get imported auotmatically. So then I manually try to do that (see PINK), but when I select any of the JavaSE/JDK files from Finder, this happens (YELLOW):</p>\n<p><a href=\"https://i.stack.imgur.com/pfW1v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pfW1v.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any resolution? Thanks!</p>\n<p>Note: Java 17 and Eclipse are both mandatory for my college class. In fact, for the current project, only Java 17 is compatible with the .jars file we need to work with, so there's no other choice.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1613551913,"post_id":66142932,"comment_id":117106365,"body_markdown":"There&#39;s something different between Eclipse and VS Code, you can try to create a java project and add referenced libraries in VS Code. Compare to experience it. Refer to [Create a project](https://code.visualstudio.com/docs/java/java-project#_create-a-project) and [Add a jar](https://code.visualstudio.com/docs/java/java-project#_add-a-jar).","body":"There&#39;s something different between Eclipse and VS Code, you can try to create a java project and add referenced libraries in VS Code. Compare to experience it. Refer to <a href=\"https://code.visualstudio.com/docs/java/java-project#_create-a-project\" rel=\"nofollow noreferrer\">Create a project</a> and <a href=\"https://code.visualstudio.com/docs/java/java-project#_add-a-jar\" rel=\"nofollow noreferrer\">Add a jar</a>."}],"answers":[{"tags":[],"owner":{"account_id":21384605,"reputation":11,"user_id":15749961,"display_name":"pserey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626629958,"creation_date":1626629958,"answer_id":68431630,"question_id":66142932,"body_markdown":"I had this problem and solved it editing the .classpath file directly. After creating a &quot;lib&quot; directory aside &quot;src&quot; and &quot;bin&quot;, I wrote a new line like this:\r\n\r\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/yourlibrary.jar&quot;&gt;\r\n\r\nAfter that, I opened VScode and it recognized the referenced library.","title":"No &quot;referenced libraries&quot; in VS Code Java project","body":"<p>I had this problem and solved it editing the .classpath file directly. After creating a &quot;lib&quot; directory aside &quot;src&quot; and &quot;bin&quot;, I wrote a new line like this:</p>\n<pre><code>&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/yourlibrary.jar&quot;&gt;\n</code></pre>\n<p>After that, I opened VScode and it recognized the referenced library.</p>\n"},{"tags":[],"owner":{"account_id":18433658,"reputation":189,"user_id":13428129,"display_name":"sglbl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664109948,"creation_date":1664109948,"answer_id":73844590,"question_id":66142932,"body_markdown":"Remove .classpath and .project files from the project folder. Then put your referenced library (for ex. jar file) file into lib folder. After you restart vscode it will be fixed.","title":"No &quot;referenced libraries&quot; in VS Code Java project","body":"<p>Remove .classpath and .project files from the project folder. Then put your referenced library (for ex. jar file) file into lib folder. After you restart vscode it will be fixed.</p>\n"}],"owner":{"account_id":19889733,"reputation":145,"user_id":14572064,"display_name":"lzb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7469,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1664109948,"creation_date":1612981924,"question_id":66142932,"body_markdown":"I imported a Java project into Code that was originally developed in Eclipse. At first, the entire &quot;Java Projects&quot; section in the explorer would not appear, but I did a &quot;Clean Java language server workspace&quot; and it appeared. However, &quot;Referenced Libraries&quot; does not appear:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am not sure why this is the case. When I manually added the jars I wanted to the `.classpath` file, the &quot;Referenced Libraries&quot; appeared but said &quot;Read-only.&quot; Further, doing a workspace clean removed these from the `.classpath` file, and the &quot;Referenced Libraries&quot; section disappeared again. Am I missing something? What can I do to get &quot;Referenced Libraries&quot; back?\r\n\r\n  [1]: https://i.stack.imgur.com/4J63r.png","title":"No &quot;referenced libraries&quot; in VS Code Java project","body":"<p>I imported a Java project into Code that was originally developed in Eclipse. At first, the entire &quot;Java Projects&quot; section in the explorer would not appear, but I did a &quot;Clean Java language server workspace&quot; and it appeared. However, &quot;Referenced Libraries&quot; does not appear:</p>\n<p><a href=\"https://i.stack.imgur.com/4J63r.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4J63r.png\" alt=\"enter image description here\" /></a></p>\n<p>I am not sure why this is the case. When I manually added the jars I wanted to the <code>.classpath</code> file, the &quot;Referenced Libraries&quot; appeared but said &quot;Read-only.&quot; Further, doing a workspace clean removed these from the <code>.classpath</code> file, and the &quot;Referenced Libraries&quot; section disappeared again. Am I missing something? What can I do to get &quot;Referenced Libraries&quot; back?</p>\n"},{"tags":["java","android","gradle","android-fragments"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1664111650,"post_id":73844589,"comment_id":130391872,"body_markdown":"The `dependencies` that you added to `build.gradle` needs to go in your module&#39;s `build.gradle` (e.g., one in the `app` directory), not the one in your project&#39;s root directory.","body":"The <code>dependencies</code> that you added to <code>build.gradle</code> needs to go in your module&#39;s <code>build.gradle</code> (e.g., one in the <code>app</code> directory), not the one in your project&#39;s root directory."},{"owner":{"account_id":24217927,"reputation":13,"user_id":18173525,"display_name":"ShinyStar MaybeNot"},"score":0,"creation_date":1664129527,"post_id":73844589,"comment_id":130395573,"body_markdown":"@CommonsWare oh! I see. Thanks a lot! That&#39;s a bit bad, made with the same names. You helped me a lot!","body":"@CommonsWare oh! I see. Thanks a lot! That&#39;s a bit bad, made with the same names. You helped me a lot!"}],"owner":{"account_id":24217927,"reputation":13,"user_id":18173525,"display_name":"ShinyStar MaybeNot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664109947,"creation_date":1664109947,"question_id":73844589,"body_markdown":"I am new to Android studio and tried to follow this guide https://developer.android.com/guide/fragments/create\r\n\r\nBut after including the commands I tried to build gradle but an error came up. I didn&#39;t do anything else than follow the first lines from the guide. \r\n\r\nsetting.gradle\r\n\r\n``` pluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\nrootProject.name = &quot;MusicStore&quot;\r\ninclude &#39;:app&#39;\r\n```\r\n\r\nbuild.gradle\r\n``` \r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.2&#39; apply false\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\ndependencies {\r\n    def fragment_version = &quot;1.5.3&quot;\r\n\r\n    // Java language implementation\r\n    implementation &quot;androidx.fragment:fragment:$fragment_version&quot;\r\n}\r\n```\r\n\r\nThe error message\r\n\r\n```\r\nA problem occurred evaluating root project &#39;MusicStore&#39;.\r\n&gt; Could not find method implementation() for arguments [androidx.fragment:fragment:1.5.3] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.GradleScriptException: A problem occurred evaluating root project &#39;MusicStore&#39;.\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\r\n\tat org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:366)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:393)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:365)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:366)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:426)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:426)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:407)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:365)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:751)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:339)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:55)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:48)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$1(VintageBuildModelController.java:93)\r\n\tat org.gradle.internal.build.StateTransitionController.lambda$doTransition$1(StateTransitionController.java:222)\r\n\tat org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\r\n\tat org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:221)\r\n\tat org.gradle.internal.build.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:190)\r\n\tat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:93)\r\n\tat org.gradle.initialization.VintageBuildModelController.doBuildStages(VintageBuildModelController.java:77)\r\n\tat org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:58)\r\n\tat org.gradle.internal.build.StateTransitionController.notInStateIgnoreOtherThreads(StateTransitionController.java:89)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.getConfiguredBuild(DefaultBuildLifecycleController.java:98)\r\n\tat org.gradle.internal.build.AbstractBuildState.ensureProjectsConfigured(AbstractBuildState.java:65)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:90)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildToolingModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:82)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController$DefaultTargetModel.locate(DefaultBuildController.java:239)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getToolingModelBuilder(DefaultBuildController.java:184)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:98)\r\n\tat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n\tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:57)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:72)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:103)\r\n\tat org.gradle.internal.build.StateTransitionController.lambda$transition$0(StateTransitionController.java:145)\r\n\tat org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\r\n\tat org.gradle.internal.build.StateTransitionController.transition(StateTransitionController.java:145)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:100)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:71)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:114)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:155)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\nCaused by: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method implementation() for arguments [androidx.fragment:fragment:1.5.3] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n\tat org.gradle.internal.metaobject.AbstractDynamicObject$CustomMissingMethodExecutionFailed.&lt;init&gt;(AbstractDynamicObject.java:190)\r\n\tat org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:184)\r\n\tat org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:86)\r\n\tat build_3w0lui0dipy143qra04ejharb$_run_closure2.doCall(C:\\Users\\jusau\\OneDrive\\Dokumente\\D. NO TOUCH\\schule\\pos\\-it-2021_3bhif_\\MIP4\\musicstore - Int 2_3\\build.gradle:15)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.util.internal.ClosureBackedAction.execute(ClosureBackedAction.java:72)\r\n\tat org.gradle.util.internal.ConfigureUtil.configureTarget(ConfigureUtil.java:155)\r\n\tat org.gradle.util.internal.ConfigureUtil.configure(ConfigureUtil.java:106)\r\n\tat org.gradle.api.internal.project.DefaultProject.dependencies(DefaultProject.java:1237)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:484)\r\n\tat org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:196)\r\n\tat org.gradle.internal.metaobject.CompositeDynamicObject.tryInvokeMethod(CompositeDynamicObject.java:98)\r\n\tat org.gradle.internal.extensibility.MixInClosurePropertiesAsMethodsDynamicObject.tryInvokeMethod(MixInClosurePropertiesAsMethodsDynamicObject.java:34)\r\n\tat org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.tryInvokeMethod(BasicScript.java:135)\r\n\tat org.gradle.internal.metaobject.AbstractDynamicObject.invokeMethod(AbstractDynamicObject.java:163)\r\n\tat org.gradle.groovy.scripts.BasicScript.invokeMethod(BasicScript.java:84)\r\n\tat build_3w0lui0dipy143qra04ejharb.run(C:\\Users\\jusau\\OneDrive\\Dokumente\\D. NO TOUCH\\schule\\pos\\-it-2021_3bhif_-\\MIP4\\musicstore - Int 2_3\\build.gradle:11)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\r\n\t... 164 more\r\n```\r\n\r\nHelp would be really appriated. If other files are needed tell me.","title":"Why does Gradle not find the implementation() for arguments [androidx.fragment:fragment:1.5.3]","body":"<p>I am new to Android studio and tried to follow this guide <a href=\"https://developer.android.com/guide/fragments/create\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/create</a></p>\n<p>But after including the commands I tried to build gradle but an error came up. I didn't do anything else than follow the first lines from the guide.</p>\n<p>setting.gradle</p>\n<pre><code>    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nrootProject.name = &quot;MusicStore&quot;\ninclude ':app'\n</code></pre>\n<p>build.gradle</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.2.2' apply false\n    id 'com.android.library' version '7.2.2' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\ndependencies {\n    def fragment_version = &quot;1.5.3&quot;\n\n    // Java language implementation\n    implementation &quot;androidx.fragment:fragment:$fragment_version&quot;\n}\n</code></pre>\n<p>The error message</p>\n<pre><code>A problem occurred evaluating root project 'MusicStore'.\n&gt; Could not find method implementation() for arguments [androidx.fragment:fragment:1.5.3] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating root project 'MusicStore'.\n    at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\n    at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:366)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:393)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:365)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:366)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:426)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:426)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:407)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:365)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:751)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:339)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:55)\n    at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:48)\n    at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n    at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$1(VintageBuildModelController.java:93)\n    at org.gradle.internal.build.StateTransitionController.lambda$doTransition$1(StateTransitionController.java:222)\n    at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\n    at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:221)\n    at org.gradle.internal.build.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:190)\n    at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:93)\n    at org.gradle.initialization.VintageBuildModelController.doBuildStages(VintageBuildModelController.java:77)\n    at org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:58)\n    at org.gradle.internal.build.StateTransitionController.notInStateIgnoreOtherThreads(StateTransitionController.java:89)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.getConfiguredBuild(DefaultBuildLifecycleController.java:98)\n    at org.gradle.internal.build.AbstractBuildState.ensureProjectsConfigured(AbstractBuildState.java:65)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:90)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildToolingModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:82)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController$DefaultTargetModel.locate(DefaultBuildController.java:239)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getToolingModelBuilder(DefaultBuildController.java:184)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:98)\n    at org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:57)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:72)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:103)\n    at org.gradle.internal.build.StateTransitionController.lambda$transition$0(StateTransitionController.java:145)\n    at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\n    at org.gradle.internal.build.StateTransitionController.transition(StateTransitionController.java:145)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:100)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:71)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:114)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:155)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\nCaused by: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method implementation() for arguments [androidx.fragment:fragment:1.5.3] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n    at org.gradle.internal.metaobject.AbstractDynamicObject$CustomMissingMethodExecutionFailed.&lt;init&gt;(AbstractDynamicObject.java:190)\n    at org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:184)\n    at org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:86)\n    at build_3w0lui0dipy143qra04ejharb$_run_closure2.doCall(C:\\Users\\jusau\\OneDrive\\Dokumente\\D. NO TOUCH\\schule\\pos\\-it-2021_3bhif_\\MIP4\\musicstore - Int 2_3\\build.gradle:15)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.util.internal.ClosureBackedAction.execute(ClosureBackedAction.java:72)\n    at org.gradle.util.internal.ConfigureUtil.configureTarget(ConfigureUtil.java:155)\n    at org.gradle.util.internal.ConfigureUtil.configure(ConfigureUtil.java:106)\n    at org.gradle.api.internal.project.DefaultProject.dependencies(DefaultProject.java:1237)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:484)\n    at org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:196)\n    at org.gradle.internal.metaobject.CompositeDynamicObject.tryInvokeMethod(CompositeDynamicObject.java:98)\n    at org.gradle.internal.extensibility.MixInClosurePropertiesAsMethodsDynamicObject.tryInvokeMethod(MixInClosurePropertiesAsMethodsDynamicObject.java:34)\n    at org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.tryInvokeMethod(BasicScript.java:135)\n    at org.gradle.internal.metaobject.AbstractDynamicObject.invokeMethod(AbstractDynamicObject.java:163)\n    at org.gradle.groovy.scripts.BasicScript.invokeMethod(BasicScript.java:84)\n    at build_3w0lui0dipy143qra04ejharb.run(C:\\Users\\jusau\\OneDrive\\Dokumente\\D. NO TOUCH\\schule\\pos\\-it-2021_3bhif_-\\MIP4\\musicstore - Int 2_3\\build.gradle:11)\n    at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\n    ... 164 more\n</code></pre>\n<p>Help would be really appriated. If other files are needed tell me.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":3,"creation_date":1664097256,"post_id":73843273,"comment_id":130389426,"body_markdown":"Unless I&#39;m misunderstanding, the fact it&#39;s the same method doesn&#39;t make any difference. On a single core machine, there is presumably only one CPU thread, which means only a single line of execution. The OS will typically preempt long running processes and switch between them to simulate multitasking. That doesn&#39;t mean that they&#39;re running at the same though. So strictly speaking, the answer is No.","body":"Unless I&#39;m misunderstanding, the fact it&#39;s the same method doesn&#39;t make any difference. On a single core machine, there is presumably only one CPU thread, which means only a single line of execution. The OS will typically preempt long running processes and switch between them to simulate multitasking. That doesn&#39;t mean that they&#39;re running at the same though. So strictly speaking, the answer is No."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1664098524,"post_id":73843273,"comment_id":130389636,"body_markdown":"It depends if you count (Intel) hyperthreads as cores.","body":"It depends if you count (Intel) hyperthreads as cores."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1664102704,"post_id":73843273,"comment_id":130390313,"body_markdown":"Watch out: You mention a multi-threaded application and ask about two processes. The isolation between processes is usually big enough so you can run the same code in two processes. Simultaneously as much as your cores allow.","body":"Watch out: You mention a multi-threaded application and ask about two processes. The isolation between processes is usually big enough so you can run the same code in two processes. Simultaneously as much as your cores allow."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664109280,"creation_date":1664108956,"answer_id":73844472,"question_id":73843273,"body_markdown":"&gt; ...run the same method at the exact same time...\r\n\r\nThe answer depends on what you think that phrase means.\r\n\r\nIn order to understand the execution of a program, you have to talk about _events,_ and the order in which events happen. Events are instantaneous, and on a single core machine no two _events_ can ever happen at the same time.\r\n\r\nBut, &quot;running a method&quot; is not an event. Running a method is the _interval_ between two events; The first event is the method call, and the second event is the return.  Even on a single-core machine, two method calls can be _overlapped:_\r\n\r\n```\r\n  method call A      method call B\r\n  ----------------   ----------------\r\n  - entered\r\n    does some work\r\n                     - entered            v\r\n                       does some work     | during this span of time\r\n    does some work                        | the two method calls are\r\n                       does some work     | _overlapped._\r\n                 ...                      |\r\n                     - returns            ^\r\n    does some work\r\n  - returns\r\n```\r\n\r\n----------------\r\n\r\n&gt; ...the same method...\r\n\r\nWatch out there! &quot;Thread-safety&quot; is practically never a question of which _methods_ are called by the application&#39;s threads. It&#39;s a question of which _data_ the methods operate on.\r\n\r\nTwo overlapping calls to the same method can operate on different data, and have no impact on thread-safety whatsoever.\r\n\r\nTwo overlapping calls to different methods can operate on the same data, and need to use mutexes or other special means to ensure that they do not interfere with each other and corrupt the data as a result.","title":"Can two processes run the same method at the exact same time on a single-core CPU machine?","body":"<blockquote>\n<p>...run the same method at the exact same time...</p>\n</blockquote>\n<p>The answer depends on what you think that phrase means.</p>\n<p>In order to understand the execution of a program, you have to talk about <em>events,</em> and the order in which events happen. Events are instantaneous, and on a single core machine no two <em>events</em> can ever happen at the same time.</p>\n<p>But, &quot;running a method&quot; is not an event. Running a method is the <em>interval</em> between two events; The first event is the method call, and the second event is the return.  Even on a single-core machine, two method calls can be <em>overlapped:</em></p>\n<pre><code>  method call A      method call B\n  ----------------   ----------------\n  - entered\n    does some work\n                     - entered            v\n                       does some work     | during this span of time\n    does some work                        | the two method calls are\n                       does some work     | _overlapped._\n                 ...                      |\n                     - returns            ^\n    does some work\n  - returns\n</code></pre>\n<hr />\n<blockquote>\n<p>...the same method...</p>\n</blockquote>\n<p>Watch out there! &quot;Thread-safety&quot; is practically never a question of which <em>methods</em> are called by the application's threads. It's a question of which <em>data</em> the methods operate on.</p>\n<p>Two overlapping calls to the same method can operate on different data, and have no impact on thread-safety whatsoever.</p>\n<p>Two overlapping calls to different methods can operate on the same data, and need to use mutexes or other special means to ensure that they do not interfere with each other and corrupt the data as a result.</p>\n"},{"tags":[],"owner":{"account_id":14348499,"reputation":86,"user_id":10364733,"display_name":"sakshi malik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664109082,"creation_date":1664109082,"answer_id":73844489,"question_id":73843273,"body_markdown":"The answer is straightforward **we cannot do multithreading in a single-core CPU**\r\nas we need at least two cores to run a thread simultaneously. ","title":"Can two processes run the same method at the exact same time on a single-core CPU machine?","body":"<p>The answer is straightforward <strong>we cannot do multithreading in a single-core CPU</strong>\nas we need at least two cores to run a thread simultaneously.</p>\n"}],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73844472,"answer_count":2,"score":0,"last_activity_date":1664109280,"creation_date":1664096782,"question_id":73843273,"body_markdown":"I have studied that an operating system time-slices the processes.\r\n\r\nI know that we should design a multi-thread application assuming that it may be run on multicore CPU. Just for the sake of knowledge, I want to know if there is a possibility of two processes running the same method at the exact same time on a **single-core CPU** machine.","title":"Can two processes run the same method at the exact same time on a single-core CPU machine?","body":"<p>I have studied that an operating system time-slices the processes.</p>\n<p>I know that we should design a multi-thread application assuming that it may be run on multicore CPU. Just for the sake of knowledge, I want to know if there is a possibility of two processes running the same method at the exact same time on a <strong>single-core CPU</strong> machine.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1664090206,"post_id":73842591,"comment_id":130388411,"body_markdown":"Redundant in what sense?  Frankly, an application that downloads its JAR dependencies rather than having them in the installer, or whatever, seems like a recipe for fragility.  In 2022, disk space is cheap and network bandwidth, but hand-holding naive users through problems caused by failed dependency downloads would be expensive.","body":"Redundant in what sense?  Frankly, an application that downloads its JAR dependencies rather than having them in the installer, or whatever, seems like a recipe for fragility.  In 2022, disk space is cheap and network bandwidth, but hand-holding naive users through problems caused by failed dependency downloads would be expensive."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1664090617,"post_id":73842591,"comment_id":130388462,"body_markdown":"But it that is what you want, try this: https://stackoverflow.com/questions/55938870","body":"But it that is what you want, try this: <a href=\"https://stackoverflow.com/questions/55938870\">stackoverflow.com/questions/55938870</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1664090835,"post_id":73842591,"comment_id":130388496,"body_markdown":"Or you could use (embed) Maven or Ivy to download the JARs.","body":"Or you could use (embed) Maven or Ivy to download the JARs."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1664090836,"post_id":73842591,"comment_id":130388497,"body_markdown":"This can get tricky if different plug-ins require different versions of the same library.","body":"This can get tricky if different plug-ins require different versions of the same library."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1664090889,"post_id":73842591,"comment_id":130388506,"body_markdown":"Meh ... classloaders ... waves hands ... :-)   But you are correct.  If you want the application to be able to do its own dependency resolution and downloading, then it needs to deal with *all* of the problems that would normally be addressed with build-time dependency resolution.","body":"Meh ... classloaders ... waves hands ... :-)   But you are correct.  If you want the application to be able to do its own dependency resolution and downloading, then it needs to deal with <i>all</i> of the problems that would normally be addressed with build-time dependency resolution."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1664091076,"post_id":73842591,"comment_id":130388538,"body_markdown":"Another thing to look at would be the OSGI framework used by Eclipse, etc.","body":"Another thing to look at would be the OSGI framework used by Eclipse, etc."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1664094099,"post_id":73842591,"comment_id":130388967,"body_markdown":"If you really like to deal with all that sutff (which I strongly recommend not to do; already some arguments given) you could start: https://maven.apache.org/resolver/ but I would build such things at build time and package some kind installer that does it.. not during run time of your app...The other question can you give more details about the application?","body":"If you really like to deal with all that sutff (which I strongly recommend not to do; already some arguments given) you could start: <a href=\"https://maven.apache.org/resolver/\" rel=\"nofollow noreferrer\">maven.apache.org/resolver</a> but I would build such things at build time and package some kind installer that does it.. not during run time of your app...The other question can you give more details about the application?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1664119591,"post_id":73842591,"comment_id":130393554,"body_markdown":"Don’t reinvent the wheel - use a tried and tested technology.","body":"Don’t reinvent the wheel - use a tried and tested technology."}],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664107630,"creation_date":1664107168,"answer_id":73844321,"question_id":73842591,"body_markdown":"You can use the [Maven-Artifact-Resolver][1] library. - This library can not only download the artifacts, but is also able to resolve dependency trees. So it is may be more than you need.\r\n\r\n_(Under the hood, Apache Maven Artifact Resolver was former a project called Eclipse Aether.\r\n(And &quot;Eclipse Aether&quot; was former &quot;Sonatype Aether&quot;.))_\r\n\r\nThere  is also [maven-archeologist][2], but I have not used it.\r\n\r\n\r\n  [1]: https://maven.apache.org/resolver/\r\n  [2]: https://github.com/square/maven-archeologist","title":"How to download dependencies from maven center (or some special repositories) by Java code?","body":"<p>You can use the <a href=\"https://maven.apache.org/resolver/\" rel=\"nofollow noreferrer\">Maven-Artifact-Resolver</a> library. - This library can not only download the artifacts, but is also able to resolve dependency trees. So it is may be more than you need.</p>\n<p><em>(Under the hood, Apache Maven Artifact Resolver was former a project called Eclipse Aether.\n(And &quot;Eclipse Aether&quot; was former &quot;Sonatype Aether&quot;.))</em></p>\n<p>There  is also <a href=\"https://github.com/square/maven-archeologist\" rel=\"nofollow noreferrer\">maven-archeologist</a>, but I have not used it.</p>\n"}],"owner":{"account_id":19761741,"reputation":68,"user_id":14470687,"display_name":"CHUANWISE"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664107630,"creation_date":1664088888,"question_id":73842591,"body_markdown":"I&#39;m writing an application which can load jars as plugins. Plugins may depend on some common libraries such as Gson, and if every plugin author pack their dependencies which can be downloaded from maven center (or some special repositories) into jars, it&#39;ll be redundant.\r\n\r\nIn order to make it more graceful, I want to allow plugin authors to write their dependencies info down in plugin metadata file, so that the application can download it automatically. \r\n\r\nHow to download dependencies from maven center (or some special repositories) by Java code? I want to download not only its jars (recent or elder version), but also its version info, so that the application can manage libraries.","title":"How to download dependencies from maven center (or some special repositories) by Java code?","body":"<p>I'm writing an application which can load jars as plugins. Plugins may depend on some common libraries such as Gson, and if every plugin author pack their dependencies which can be downloaded from maven center (or some special repositories) into jars, it'll be redundant.</p>\n<p>In order to make it more graceful, I want to allow plugin authors to write their dependencies info down in plugin metadata file, so that the application can download it automatically.</p>\n<p>How to download dependencies from maven center (or some special repositories) by Java code? I want to download not only its jars (recent or elder version), but also its version info, so that the application can manage libraries.</p>\n"},{"tags":["java","encryption","cryptography","sharedpreferences"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1555613618,"post_id":55751745,"comment_id":98180883,"body_markdown":"Don&#39;t try to cater for null by using `new byte[0]`, in either direction.mthrow a `NullPointerException`. It&#39;s a programming error. You can&#39;t decode it so why encode it?","body":"Don&#39;t try to cater for null by using <code>new byte[0]</code>, in either direction.mthrow a <code>NullPointerException</code>. It&#39;s a programming error. You can&#39;t decode it so why encode it?"},{"owner":{"account_id":9650135,"reputation":722,"user_id":7161550,"display_name":"Gag Baghdasaryan"},"score":0,"creation_date":1555678207,"post_id":55751745,"comment_id":98198759,"body_markdown":"Hi @user207421. Yup, you are right )","body":"Hi @user207421. Yup, you are right )"},{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1555680358,"post_id":55751745,"comment_id":98199698,"body_markdown":"There seem only two problems, one is  Maarten&#39;s suggested reason the other one how you derive the salt. Are you sure `IsoGame...` output always the same?","body":"There seem only two problems, one is  Maarten&#39;s suggested reason the other one how you derive the salt. Are you sure <code>IsoGame...</code> output always the same?"},{"owner":{"account_id":9650135,"reputation":722,"user_id":7161550,"display_name":"Gag Baghdasaryan"},"score":0,"creation_date":1555681365,"post_id":55751745,"comment_id":98200104,"body_markdown":"@kelalaka The output of  ```IsoGame...``` should be always same. It is my app&#39;s bundle id on iOS and the device id on Android. I don&#39;t think that it can change just after reopen my app. \nHowever, I&#39;m experiencing this problem on both platforms. So, I don&#39;t think that the problem comes from the ```IsoGame...```.","body":"@kelalaka The output of  <code>IsoGame...</code> should be always same. It is my app&#39;s bundle id on iOS and the device id on Android. I don&#39;t think that it can change just after reopen my app.  However, I&#39;m experiencing this problem on both platforms. So, I don&#39;t think that the problem comes from the <code>IsoGame...</code>."},{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1555681418,"post_id":55751745,"comment_id":98200125,"body_markdown":"So, what is actually sometimes? = 1/5 1/10 etc?","body":"So, what is actually sometimes? = 1/5 1/10 etc?"},{"owner":{"account_id":9650135,"reputation":722,"user_id":7161550,"display_name":"Gag Baghdasaryan"},"score":0,"creation_date":1555681598,"post_id":55751745,"comment_id":98200204,"body_markdown":"@kelalaka. Don&#39;t know really. But I think, something like 1/500 or so. As I receiving this from the production users and was happy to have this issue yesterday on my end too(first time).","body":"@kelalaka. Don&#39;t know really. But I think, something like 1/500 or so. As I receiving this from the production users and was happy to have this issue yesterday on my end too(first time)."},{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1555682082,"post_id":55751745,"comment_id":98200420,"body_markdown":"You should definitely change your encryption. DES? At least use AES-GCM.","body":"You should definitely change your encryption. DES? At least use AES-GCM."},{"owner":{"account_id":9650135,"reputation":722,"user_id":7161550,"display_name":"Gag Baghdasaryan"},"score":0,"creation_date":1555683959,"post_id":55751745,"comment_id":98201180,"body_markdown":"Agree @kelalaka . But the problem is the app is in the production already for about 5 months and there are 50K monthly active users, and they have saved data in their phones&#39; preferences. So, if I&#39;ll change the encryption, then they will lose their data)\nP.S., but if there is no other way, I&#39;ll do that with some work-around) :)","body":"Agree @kelalaka . But the problem is the app is in the production already for about 5 months and there are 50K monthly active users, and they have saved data in their phones&#39; preferences. So, if I&#39;ll change the encryption, then they will lose their data) P.S., but if there is no other way, I&#39;ll do that with some work-around) :)"},{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1555685850,"post_id":55751745,"comment_id":98202019,"body_markdown":"Also, to check that a user supplied the correct password, you can encrypt a known plaintext and save in internal memory. Before encryption/decryption you can test the password. Note: this method may provide a known-plaintext attack. Addition, there is very fast DES [crackers](https://crack.sh/)","body":"Also, to check that a user supplied the correct password, you can encrypt a known plaintext and save in internal memory. Before encryption/decryption you can test the password. Note: this method may provide a known-plaintext attack. Addition, there is very fast DES <a href=\"https://crack.sh/\" rel=\"nofollow noreferrer\">crackers</a>"},{"owner":{"account_id":14507198,"reputation":243,"user_id":10478669,"display_name":"Kailash Chivhe"},"score":0,"creation_date":1591799215,"post_id":55751745,"comment_id":110194319,"body_markdown":"Hi @GagBaghdasaryan did you find a solution for your query?","body":"Hi @GagBaghdasaryan did you find a solution for your query?"}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1555636342,"creation_date":1555636342,"answer_id":55755431,"question_id":55751745,"body_markdown":"The most likely reason would simply be the wrong password to be supplied. If the wrong password is supplied then the wrong key is derived. Then the ciphertext will be decrypted to garbage plaintext. This will only be noticed if the padding exception gets thrown: unpadding random bytes is likely to fail.\r\n\r\nYou could e.g. first validate that the derived key is correct by performing a HMAC over known data using the derived key. In addition, it would be a good idea to use some kind of authenticated encryption, so that *if* the key or data is wrong or corrupted that decryption does indeed fail. If you&#39;re unlucky then - at this time - the data will decrypt, unpadding will succeed and you end up with garbage plaintext.\r\n\r\nOf course, you&#39;d better upgrade to PBKDF2 for key derivation, and upgrade AES to e.g. AES-GCM instead of DES. Currently your encryption is entirely insecure, even if you use a strong password.","title":"javax.crypto.BadPaddingException: pad block corrupted sometimes","body":"<p>The most likely reason would simply be the wrong password to be supplied. If the wrong password is supplied then the wrong key is derived. Then the ciphertext will be decrypted to garbage plaintext. This will only be noticed if the padding exception gets thrown: unpadding random bytes is likely to fail.</p>\n\n<p>You could e.g. first validate that the derived key is correct by performing a HMAC over known data using the derived key. In addition, it would be a good idea to use some kind of authenticated encryption, so that <em>if</em> the key or data is wrong or corrupted that decryption does indeed fail. If you're unlucky then - at this time - the data will decrypt, unpadding will succeed and you end up with garbage plaintext.</p>\n\n<p>Of course, you'd better upgrade to PBKDF2 for key derivation, and upgrade AES to e.g. AES-GCM instead of DES. Currently your encryption is entirely insecure, even if you use a strong password.</p>\n"},{"tags":[],"owner":{"account_id":15255954,"reputation":380,"user_id":11225091,"display_name":"OughtToPrevail"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555687835,"creation_date":1555687835,"answer_id":55764211,"question_id":55751745,"body_markdown":"Your problem is\r\n```java\r\nIsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8)\r\n```\r\nI have ran the following code multiple times and no exception occurred and the decrypted data was equal to &quot;Hello there!&quot;:\r\n```java\r\npublic static void main(String[] args)\r\n\t{\r\n\t    new CryptographyError();\r\n\t}\r\n\t\r\n\tprivate CryptographyError()\r\n\t{\r\n\t\tchar[] secret = &quot;MySecret&quot;.toCharArray();\r\n\t\tString mesasge = &quot;Hello there!&quot;;\r\n\t\tEncryptedData encryptedData = encrypt(mesasge, secret);\r\n\t\tSystem.out.println(&quot;ENCRYPTED &quot; + encryptedData.encryptedString);\r\n\t\tString decrypted = decrypt(encryptedData, secret);\r\n\t\tSystem.out.println(&quot;DECRYPTED &quot; + decrypted);\r\n\t}\r\n\t\r\n\tprivate static final SecureRandom RANDOM = new SecureRandom();\r\n\t\r\n\tpublic static EncryptedData encrypt(String value, char[] secret) {\r\n\t\ttry {\r\n\t\t\tfinal byte[] bytes = value != null ? value.getBytes(StandardCharsets.UTF_8) : new byte[0];\r\n\t\t\tSecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n\t\t\tSecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\r\n\t\t\tCipher pbeCipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n\t\t\tbyte[] salt = new byte[8];\r\n\t\t\tRANDOM.nextBytes(salt);\r\n\t\t\tpbeCipher.init(Cipher.ENCRYPT_MODE, key, new PBEParameterSpec(salt, 20));\r\n\t\t\treturn new EncryptedData(salt, new String(Base64.getEncoder().encode(pbeCipher.doFinal(bytes)), StandardCharsets.UTF_8));\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.out.println(value);\r\n\t\t}\r\n\t\treturn null;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static String decrypt(EncryptedData encryptedData, char[] secret) {\r\n\t\ttry {\r\n\t\t\tString value = encryptedData.encryptedString;\r\n\t\t\tbyte[] salt = encryptedData.salt;\r\n\t\t\tfinal byte[] bytes = value != null ? Base64.getDecoder().decode(value.getBytes(StandardCharsets.UTF_8)) : new byte[0];\r\n\t\t\tSecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n\t\t\tSecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\r\n\t\t\tCipher pbeCipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n\t\t\tpbeCipher.init(Cipher.DECRYPT_MODE, key, new PBEParameterSpec(salt, 20));\r\n\t\t\treturn new String(pbeCipher.doFinal(bytes), StandardCharsets.UTF_8);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static class EncryptedData\r\n\t{\r\n\t\tprivate final byte[] salt;\r\n\t\tprivate final String encryptedString;\r\n\t\t\r\n\t\tprivate EncryptedData(byte[] salt, String encryptedString)\r\n\t\t{\r\n\t\t\tthis.salt = salt;\r\n\t\t\tthis.encryptedString = encryptedString;\r\n\t\t}\r\n\t}\r\n```\r\nThe only main difference between my code and your code is \r\n```java\r\nIsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8)\r\n```\r\nwhich means that must not return the same value on encryption and decryption.\r\nAlso if you want to test this you can just change the salt between them and notice the exception is thrown again.\r\n\r\nAlso Maarten Bodewes gave you some good notes about how to improve your code.","title":"javax.crypto.BadPaddingException: pad block corrupted sometimes","body":"<p>Your problem is</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>IsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8)\n</code></pre>\n\n<p>I have ran the following code multiple times and no exception occurred and the decrypted data was equal to \"Hello there!\":</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args)\n    {\n        new CryptographyError();\n    }\n\n    private CryptographyError()\n    {\n        char[] secret = \"MySecret\".toCharArray();\n        String mesasge = \"Hello there!\";\n        EncryptedData encryptedData = encrypt(mesasge, secret);\n        System.out.println(\"ENCRYPTED \" + encryptedData.encryptedString);\n        String decrypted = decrypt(encryptedData, secret);\n        System.out.println(\"DECRYPTED \" + decrypted);\n    }\n\n    private static final SecureRandom RANDOM = new SecureRandom();\n\n    public static EncryptedData encrypt(String value, char[] secret) {\n        try {\n            final byte[] bytes = value != null ? value.getBytes(StandardCharsets.UTF_8) : new byte[0];\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\");\n            SecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\n            Cipher pbeCipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n            byte[] salt = new byte[8];\n            RANDOM.nextBytes(salt);\n            pbeCipher.init(Cipher.ENCRYPT_MODE, key, new PBEParameterSpec(salt, 20));\n            return new EncryptedData(salt, new String(Base64.getEncoder().encode(pbeCipher.doFinal(bytes)), StandardCharsets.UTF_8));\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(value);\n        }\n        return null;\n\n    }\n\n    public static String decrypt(EncryptedData encryptedData, char[] secret) {\n        try {\n            String value = encryptedData.encryptedString;\n            byte[] salt = encryptedData.salt;\n            final byte[] bytes = value != null ? Base64.getDecoder().decode(value.getBytes(StandardCharsets.UTF_8)) : new byte[0];\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\");\n            SecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\n            Cipher pbeCipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n            pbeCipher.init(Cipher.DECRYPT_MODE, key, new PBEParameterSpec(salt, 20));\n            return new String(pbeCipher.doFinal(bytes), StandardCharsets.UTF_8);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n\n    }\n\n    private static class EncryptedData\n    {\n        private final byte[] salt;\n        private final String encryptedString;\n\n        private EncryptedData(byte[] salt, String encryptedString)\n        {\n            this.salt = salt;\n            this.encryptedString = encryptedString;\n        }\n    }\n</code></pre>\n\n<p>The only main difference between my code and your code is </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>IsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8)\n</code></pre>\n\n<p>which means that must not return the same value on encryption and decryption.\nAlso if you want to test this you can just change the salt between them and notice the exception is thrown again.</p>\n\n<p>Also Maarten Bodewes gave you some good notes about how to improve your code.</p>\n"}],"owner":{"account_id":9650135,"reputation":722,"user_id":7161550,"display_name":"Gag Baghdasaryan"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14839,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1664105088,"creation_date":1555611516,"question_id":55751745,"body_markdown":"I have the following code for encrypt\r\n\r\n```\r\npublic static String encrypt(String value, char[] secret) {\r\n        try {\r\n            final byte[] bytes = value != null ? value.getBytes(StandardCharsets.UTF_8) : new byte[0];\r\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n            SecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\r\n            Cipher pbeCipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n            pbeCipher.init(Cipher.ENCRYPT_MODE, key, new PBEParameterSpec(IsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8), 20));\r\n            return new String(Base64.encodeBase64(pbeCipher.doFinal(bytes)), StandardCharsets.UTF_8);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return value;\r\n\r\n    }\r\n```\r\n\r\nand the following code for decrypt.\r\n\r\n```\r\npublic static String decrypt(String value, char[] secret) {\r\n        try {\r\n            final byte[] bytes = value != null ? Base64.decodeBase64(value.getBytes(StandardCharsets.UTF_8)) : new byte[0];\r\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n            SecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\r\n            Cipher pbeCipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n            pbeCipher.init(Cipher.DECRYPT_MODE, key, new PBEParameterSpec(IsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8), 20));\r\n            return new String(pbeCipher.doFinal(bytes), StandardCharsets.UTF_8);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return value;\r\n\r\n    }\r\n```\r\n\r\nHowever, sometimes the exception is being thrown at \r\n```\r\npbeCipher.doFinal(bytes)\r\n```\r\n\r\nin decrypt method. \r\n\r\nThe exception is ```javax.crypto.BadPaddingException: pad block corrupted ```\r\n\r\nIt&#39;s strange, as I&#39;m getting this exception sometimes with the same values .\r\n\r\nAny ideas?\r\nThanks.","title":"javax.crypto.BadPaddingException: pad block corrupted sometimes","body":"<p>I have the following code for encrypt</p>\n\n<pre><code>public static String encrypt(String value, char[] secret) {\n        try {\n            final byte[] bytes = value != null ? value.getBytes(StandardCharsets.UTF_8) : new byte[0];\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\");\n            SecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\n            Cipher pbeCipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n            pbeCipher.init(Cipher.ENCRYPT_MODE, key, new PBEParameterSpec(IsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8), 20));\n            return new String(Base64.encodeBase64(pbeCipher.doFinal(bytes)), StandardCharsets.UTF_8);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return value;\n\n    }\n</code></pre>\n\n<p>and the following code for decrypt.</p>\n\n<pre><code>public static String decrypt(String value, char[] secret) {\n        try {\n            final byte[] bytes = value != null ? Base64.decodeBase64(value.getBytes(StandardCharsets.UTF_8)) : new byte[0];\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\");\n            SecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\n            Cipher pbeCipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n            pbeCipher.init(Cipher.DECRYPT_MODE, key, new PBEParameterSpec(IsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8), 20));\n            return new String(pbeCipher.doFinal(bytes), StandardCharsets.UTF_8);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return value;\n\n    }\n</code></pre>\n\n<p>However, sometimes the exception is being thrown at </p>\n\n<pre><code>pbeCipher.doFinal(bytes)\n</code></pre>\n\n<p>in decrypt method. </p>\n\n<p>The exception is <code>javax.crypto.BadPaddingException: pad block corrupted</code></p>\n\n<p>It's strange, as I'm getting this exception sometimes with the same values .</p>\n\n<p>Any ideas?\nThanks.</p>\n"},{"tags":["java","hibernate","hql"],"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1592648850,"post_id":13607337,"comment_id":110503785,"body_markdown":"Check out [Adisesha&#39;s answer](https://stackoverflow.com/questions/2605385/using-sql-column-names-in-hibernate-createsqlquery-result/62484364#62484364). It&#39;s more elegant than the answers here IMO, just that you would need to use aliases with HQL.","body":"Check out <a href=\"https://stackoverflow.com/questions/2605385/using-sql-column-names-in-hibernate-createsqlquery-result/62484364#62484364\">Adisesha&#39;s answer</a>. It&#39;s more elegant than the answers here IMO, just that you would need to use aliases with HQL."}],"answers":[{"tags":[],"owner":{"account_id":2051107,"reputation":41,"user_id":1830107,"display_name":"Cesar Koot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1354113053,"creation_date":1354113053,"answer_id":13607443,"question_id":13607337,"body_markdown":"You should use a new object to hold these values, just like this:\r\n\r\n    &quot;SELECT NEW EmpMenu(e.name, e.department.name) &quot;\r\n                    + &quot;FROM Project p JOIN p.students e &quot; + &quot;WHERE p.name = :project &quot;\r\n                    + &quot;ORDER BY e.name&quot;).setParameter(&quot;project&quot;, projectName).getResultList()\r\n\r\nI&#39;ve got this example from [http://www.java2s.com/Tutorial/Java/0355__JPA/EJBQLCreatenewObjectInSelectStatement.htm][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Tutorial/Java/0355__JPA/EJBQLCreatenewObjectInSelectStatement.htm","title":"Hibernate query for selecting multiple values","body":"<p>You should use a new object to hold these values, just like this:</p>\n\n<pre><code>\"SELECT NEW EmpMenu(e.name, e.department.name) \"\n                + \"FROM Project p JOIN p.students e \" + \"WHERE p.name = :project \"\n                + \"ORDER BY e.name\").setParameter(\"project\", projectName).getResultList()\n</code></pre>\n\n<p>I've got this example from <a href=\"http://www.java2s.com/Tutorial/Java/0355__JPA/EJBQLCreatenewObjectInSelectStatement.htm\" rel=\"nofollow\">http://www.java2s.com/Tutorial/Java/0355__JPA/EJBQLCreatenewObjectInSelectStatement.htm</a></p>\n"},{"tags":[],"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1354113058,"creation_date":1354113058,"answer_id":13607446,"question_id":13607337,"body_markdown":"    List&lt;Object[]&gt; is the structure.\r\n\r\nSo you get each element like this:\r\n\r\n    List ans = q.list();\r\n    for(Object[] array : ans) {\r\n\t    String firstName = (String) array[0];\r\n        Integer id = (Integer) array[1];\r\n    }","title":"Hibernate query for selecting multiple values","body":"<pre><code>List&lt;Object[]&gt; is the structure.\n</code></pre>\n\n<p>So you get each element like this:</p>\n\n<pre><code>List ans = q.list();\nfor(Object[] array : ans) {\n    String firstName = (String) array[0];\n    Integer id = (Integer) array[1];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":164909,"reputation":14734,"user_id":387981,"accept_rate":88,"display_name":"Matteo"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1354113060,"creation_date":1354113060,"answer_id":13607447,"question_id":13607337,"body_markdown":"You will get a list of arrays of `Object`s (each one with two elements)\r\n\r\n    List&lt; Object[] &gt; employees = q.list();\r\n\r\n    for ( Object[] employee : employees ) {\r\n        // employee[0] will contain the first name\r\n        // employee[1] will contail the ID\r\n    }","title":"Hibernate query for selecting multiple values","body":"<p>You will get a list of arrays of <code>Object</code>s (each one with two elements)</p>\n\n<pre><code>List&lt; Object[] &gt; employees = q.list();\n\nfor ( Object[] employee : employees ) {\n    // employee[0] will contain the first name\n    // employee[1] will contail the ID\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1354113132,"creation_date":1354113132,"answer_id":13607470,"question_id":13607337,"body_markdown":"This is fine. Only thing you need to understand is that it will return list of `Object []` as below:\r\n\r\n         Query q = session.createQuery(&quot;select e.id, e.firstName from Employee e&quot;);\r\n         List&lt;Object[]&gt; employees= (List&lt;Object[]&gt;)q.list();\r\n         for(Object[] employee: employees){\r\n             Integer id = (Integer)employee[0];\r\n             String firstName = (String)employee[1];\r\n             .....\r\n         }","title":"Hibernate query for selecting multiple values","body":"<p>This is fine. Only thing you need to understand is that it will return list of <code>Object []</code> as below:</p>\n\n<pre><code>     Query q = session.createQuery(\"select e.id, e.firstName from Employee e\");\n     List&lt;Object[]&gt; employees= (List&lt;Object[]&gt;)q.list();\n     for(Object[] employee: employees){\n         Integer id = (Integer)employee[0];\n         String firstName = (String)employee[1];\n         .....\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179848,"reputation":2922,"user_id":1929603,"display_name":"Karthik Reddy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1364282906,"creation_date":1364282906,"answer_id":15631616,"question_id":13607337,"body_markdown":"    Query qry=session.createQuery(&quot;select e.employeeId,e.employeeName from Employee e where e.deptNumber=:p1&quot;);\r\n    qry.setParameter(&quot;p1&quot;,30);\r\n    List l2=qry.list();\r\n    Iterator itr=l2.iterator();\r\n    while(itr.hasNext()){\r\n    Object a[]=(Object[])itr.next();\r\n    System.out.println(a[0]+&quot;/t&quot;a[1]);\r\n    }","title":"Hibernate query for selecting multiple values","body":"<pre><code>Query qry=session.createQuery(\"select e.employeeId,e.employeeName from Employee e where e.deptNumber=:p1\");\nqry.setParameter(\"p1\",30);\nList l2=qry.list();\nIterator itr=l2.iterator();\nwhile(itr.hasNext()){\nObject a[]=(Object[])itr.next();\nSystem.out.println(a[0]+\"/t\"a[1]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8897,"reputation":11209,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472118120,"creation_date":1472118120,"answer_id":39141780,"question_id":13607337,"body_markdown":"Without iterators:\r\n\r\n    @SuppressWarnings( &quot;unchecked&quot; ) \r\n    public List&lt;Employee&gt; findByDepartment(long departmentId){ \r\n    \r\n        SQLQuery query = session.createSQLQuery(&quot;SELECT {emp.*} &quot; +\r\n                                                 &quot; FROM employee emp &quot; + \r\n                                                +&quot;WHERE emp.department_id = :departement_id&quot;);\r\n        query.setLong(&quot;department_id&quot;, \tdepartmentId);\r\n        query.addEntity(&quot;emp&quot;,  Employee.class);\t\t\t\t\t\t\r\n        return (List&lt;Employee&gt;) = query.list();\r\n    }\r\n","title":"Hibernate query for selecting multiple values","body":"<p>Without iterators:</p>\n\n<pre><code>@SuppressWarnings( \"unchecked\" ) \npublic List&lt;Employee&gt; findByDepartment(long departmentId){ \n\n    SQLQuery query = session.createSQLQuery(\"SELECT {emp.*} \" +\n                                             \" FROM employee emp \" + \n                                            +\"WHERE emp.department_id = :departement_id\");\n    query.setLong(\"department_id\",  departmentId);\n    query.addEntity(\"emp\",  Employee.class);                        \n    return (List&lt;Employee&gt;) = query.list();\n}\n</code></pre>\n"}],"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89252,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":13607470,"answer_count":6,"score":25,"last_activity_date":1664104797,"creation_date":1354112742,"question_id":13607337,"body_markdown":"In hibernate I can do following\r\n\r\n    Query q = session.createQuery(&quot;from Employee as e&quot;);\r\n    List&lt;Employee&gt; emps = q.list();\r\n\r\n\r\nNow if I want to fetch int and String how can I do it?\r\n\r\n\r\n    Query q = session.createQuery(&quot;SELECT E.firstName,E.ID FROM Employee E&quot;);\r\n    List ans = q.list();\r\n\r\nNow what will be the structure of list?\r\n","title":"Hibernate query for selecting multiple values","body":"<p>In hibernate I can do following</p>\n<pre><code>Query q = session.createQuery(&quot;from Employee as e&quot;);\nList&lt;Employee&gt; emps = q.list();\n</code></pre>\n<p>Now if I want to fetch int and String how can I do it?</p>\n<pre><code>Query q = session.createQuery(&quot;SELECT E.firstName,E.ID FROM Employee E&quot;);\nList ans = q.list();\n</code></pre>\n<p>Now what will be the structure of list?</p>\n"},{"tags":["java","ignite","diagnostics"],"answers":[{"tags":[],"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664096140,"creation_date":1664096140,"answer_id":73843206,"question_id":73795600,"body_markdown":"With this setting an Ignite node conditionally checks internal structures in order to find long-running operations and print a log message. There&#39;s also a property `IGNITE_LONG_OPERATIONS_DUMP_TIMEOUT` controlling the threshold for duration of operations, by default it&#39;s 60_000 ms (operations longer than that are considered long-running).  I believe that this diagnostics machinery in almost harmless in terms of performance and stability and should be always enabled. It could serve two main purposes: troubleshooting and monitoring (alerting). ","title":"In which scenario Ignite diagnostics will be generated?","body":"<p>With this setting an Ignite node conditionally checks internal structures in order to find long-running operations and print a log message. There's also a property <code>IGNITE_LONG_OPERATIONS_DUMP_TIMEOUT</code> controlling the threshold for duration of operations, by default it's 60_000 ms (operations longer than that are considered long-running).  I believe that this diagnostics machinery in almost harmless in terms of performance and stability and should be always enabled. It could serve two main purposes: troubleshooting and monitoring (alerting).</p>\n"}],"owner":{"account_id":6302857,"reputation":11,"user_id":12341598,"display_name":"Shivi Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664104297,"creation_date":1663736855,"question_id":73795600,"body_markdown":"We are exploring Apache Ignite, and we want to understand the impact of keeping Ignite system property `IGNITE_DIAGNOSTIC_ENABLED` with default value true on production.","title":"In which scenario Ignite diagnostics will be generated?","body":"<p>We are exploring Apache Ignite, and we want to understand the impact of keeping Ignite system property <code>IGNITE_DIAGNOSTIC_ENABLED</code> with default value true on production.</p>\n"},{"tags":["java","json","spring","spring-boot"],"comments":[{"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"score":0,"creation_date":1648624408,"post_id":71672245,"comment_id":126668485,"body_markdown":"How about overriding Jackson `ObjectMapper` to do your custom conversion. you could then have the mapping definitions in your config","body":"How about overriding Jackson <code>ObjectMapper</code> to do your custom conversion. you could then have the mapping definitions in your config"}],"answers":[{"tags":[],"owner":{"account_id":24741675,"reputation":1,"user_id":18628346,"display_name":"Ritesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664103515,"creation_date":1664103515,"answer_id":73843959,"question_id":71672245,"body_markdown":"I used data pipeline that is third party product to map the inbound and outbound fields. It can validate the inbound message and transform it to different types of message formats. I put all the mappings in the database and load into the Redis cache from their regularly loading into the JVM so that there is no performance impact. Now I have superset of inbound and outbound fields so based on inbound/outbound messages I can make the changes at runtime. This solution is running in the Production.","title":"Java Json to Json message mapper framework","body":"<p>I used data pipeline that is third party product to map the inbound and outbound fields. It can validate the inbound message and transform it to different types of message formats. I put all the mappings in the database and load into the Redis cache from their regularly loading into the JVM so that there is no performance impact. Now I have superset of inbound and outbound fields so based on inbound/outbound messages I can make the changes at runtime. This solution is running in the Production.</p>\n"}],"owner":{"account_id":24741675,"reputation":1,"user_id":18628346,"display_name":"Ritesh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664103515,"creation_date":1648620310,"question_id":71672245,"body_markdown":"We have implemented rest api in our Java backend application. I have to implement functionality in such a way that any json message request received by the application can be custom validated and transformed into other output json message. Example\r\n```\r\nInput: {\r\n\t&quot;name&quot; : &quot;France&quot;,\r\n\t&quot;language&quot; : &quot;French&quot;\r\n}\r\n\r\nOutput: {\r\n\t&quot;country&quot; : &quot;France&quot;,\r\n\t&quot;continent&quot; : &quot;Europe&quot;\r\n}\r\n```\r\nInput Json Message --&gt; Custom Validation --&gt; Mapper/Transformer --&gt; Output Json Message\r\n\r\nExpectation is that in this transformer framework if I could map the inbound and outbound message fields along with validation for that field so that in future if I need to change field mapping or validation, I don&#39;t need to make the code change instead just change the mapper so that input message field automatically reflect in the output json message.\r\n```\r\n Mapper File:  {\r\n \t&quot;mapper&quot; : [&quot;name:country&quot;],\r\n \t&quot;validator&quot; : [&quot;countryValidator&quot;]\r\n }\r\n```\r\nCan you please suggest any framework that can help me in the above requirement otherwise I&#39;ll have to create one. \r\n\r\nThanks all in advance.\r\n","title":"Java Json to Json message mapper framework","body":"<p>We have implemented rest api in our Java backend application. I have to implement functionality in such a way that any json message request received by the application can be custom validated and transformed into other output json message. Example</p>\n<pre><code>Input: {\n    &quot;name&quot; : &quot;France&quot;,\n    &quot;language&quot; : &quot;French&quot;\n}\n\nOutput: {\n    &quot;country&quot; : &quot;France&quot;,\n    &quot;continent&quot; : &quot;Europe&quot;\n}\n</code></pre>\n<p>Input Json Message --&gt; Custom Validation --&gt; Mapper/Transformer --&gt; Output Json Message</p>\n<p>Expectation is that in this transformer framework if I could map the inbound and outbound message fields along with validation for that field so that in future if I need to change field mapping or validation, I don't need to make the code change instead just change the mapper so that input message field automatically reflect in the output json message.</p>\n<pre><code> Mapper File:  {\n    &quot;mapper&quot; : [&quot;name:country&quot;],\n    &quot;validator&quot; : [&quot;countryValidator&quot;]\n }\n</code></pre>\n<p>Can you please suggest any framework that can help me in the above requirement otherwise I'll have to create one.</p>\n<p>Thanks all in advance.</p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1663683127,"post_id":73775565,"comment_id":130294375,"body_markdown":"Use [concatMap](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concatMap-java.util.function.Function-) instead of flatMap sequential. It defer subscription, unlikd flatMapSequential. I&#39;ll try to push a detailed answer later if I find the time.","body":"Use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\">concatMap</a> instead of flatMap sequential. It defer subscription, unlikd flatMapSequential. I&#39;ll try to push a detailed answer later if I find the time."}],"answers":[{"tags":[],"owner":{"account_id":1620950,"reputation":2151,"user_id":1497516,"accept_rate":85,"display_name":"OzB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664103219,"creation_date":1664103219,"answer_id":73843930,"question_id":73775565,"body_markdown":"So seems like I got to something that works, posting it here in case it&#39;ll help anybody in the future:\r\n\r\n```java\r\npublic interface PipelineAction&lt;T&gt; {\r\n    /**\r\n     * Invokes the action.\r\n     * @param item the object to invoke the action on.\r\n     * @param ctx the {@link ContextView} available to the action.\r\n     * @return a Mono that completes when the log archive has been handled.\r\n     */\r\n    @NotNull\r\n    Mono&lt;T&gt; process(@NotNull T item, @NotNull ContextView ctx);\r\n}\r\n\r\n\r\n@Slf4j\r\npublic abstract class AbstractActionsPipelineExecutor&lt;T, A extends PipelineAction&lt;T&gt;&gt;\r\n        implements ActionsPipelineExecutor&lt;T&gt; {\r\n    private static final int DEFAULT_RETRY_MAX_RETRIES = 5;\r\n    private static final Duration DEFAULT_RETRY_MIN_BACKOFF_DURATION = Duration.ofSeconds(10);\r\n\r\n    protected final List&lt;A&gt; actions;\r\n\r\n    /**\r\n     * Instantiates a simple pipeline of actions.\r\n     * @param actions the actions to run.\r\n     */\r\n    public AbstractActionsPipelineExecutor(@NotNull final List&lt;A&gt; actions) {\r\n        this.actions = actions;\r\n    }\r\n\r\n    /** {@inheritDoc} */\r\n    @NotNull\r\n    @Override\r\n    public Mono&lt;T&gt; execute(@NotNull final T item) {\r\n        if (actions.isEmpty()) {\r\n            LOG.warn(&quot;No actions to execute on item {}&quot;, item);\r\n            return Mono.just(item);\r\n        }\r\n\r\n        return Flux.deferContextual(contextView -&gt;\r\n                        Flux.fromIterable(actions)\r\n                                .concatMap(action -&gt; {\r\n                                    onBeforeApply(item, action);\r\n                                    var result = action.process(item, contextView)\r\n                                            .doOnError(throwable -&gt; onApplyError(item, action, throwable))\r\n                                            .doOnSuccess(ignored -&gt; onAfterApply(item, action));\r\n                                    if (getMaxBackoffRetryAttempts() &gt; 0) {\r\n                                        result = result.retryWhen(Retry.backoff(\r\n                                                getMaxBackoffRetryAttempts(), DEFAULT_RETRY_MIN_BACKOFF_DURATION));\r\n                                    }\r\n                                    return result;\r\n                                })\r\n                                .onErrorStop()\r\n                )\r\n                .contextWrite(ctx -&gt; ctx.put(getItemClass(), item))\r\n                .last()\r\n                .then(Mono.just(item));\r\n    }\r\n\r\n    /**\r\n     * Event handler used before an action is applied to the item.\r\n     * @param item the item to apply the action to.\r\n     * @param action the action to apply.\r\n     */\r\n    protected void onBeforeApply(final T item, final A action) { }\r\n\r\n    /**\r\n     * Event handler used after an action has been applied to the item.\r\n     * @param item the item that was applied the action to.\r\n     * @param action the action that was applied.\r\n     */\r\n    protected void onAfterApply(final T item, final A action) { }\r\n\r\n    /**\r\n     * Event handler used when an error occurs while applying an action to the item.\r\n     * @param item the item that was applied the action to.\r\n     * @param action the action that was applied.\r\n     * @param e the error that occurred.\r\n     */\r\n    protected void onApplyError(final T item, final A action, final Throwable e) { }\r\n\r\n    /**\r\n     * Returns the maximum number of times to retry an action before giving up.\r\n     * @return the maximum number of times to retry an action before giving up.\r\n     */\r\n    protected int getMaxBackoffRetryAttempts() {\r\n        return DEFAULT_RETRY_MAX_RETRIES;\r\n    }\r\n\r\n    /**\r\n     * Returns the class of the item that this pipeline executor is for.\r\n     * @return the class of the item that this pipeline executor is for.\r\n     */\r\n    @NotNull\r\n    protected Duration getMaxBackoffDuration() {\r\n        return DEFAULT_RETRY_MIN_BACKOFF_DURATION;\r\n    }\r\n\r\n    /**\r\n     * Gets the {@link Class} of the items that are processed by this pipeline.\r\n     * @return the {@link Class} of the items that are processed by this pipeline.\r\n     */\r\n    protected abstract Class&lt;T&gt; getItemClass();\r\n\r\n    /**\r\n     * Gets the {@link Class} of the actions that are applied by this pipeline.\r\n     * @return the {@link Class} of the actions that are applied by this pipeline.\r\n     */\r\n    protected abstract Class&lt;A&gt; getActionClass();\r\n\r\n    /**\r\n     * Performs an action when an error occurs while applying an action to the item.\r\n     * @param mono the mono to apply the action to.\r\n     * @return the mono after the action has been applied.\r\n     */\r\n    @NotNull\r\n    private Mono&lt;T&gt; doOnApplyError(final Mono&lt;T&gt; mono) {\r\n        return Mono.deferContextual(ctx -&gt; mono.doOnError(e -&gt; {\r\n            var item = ctx.get(getItemClass());\r\n            var action = ctx.get(getActionClass());\r\n            onApplyError(item, action, e);\r\n        }));\r\n    }\r\n}\r\n```","title":"Webflux execute a sequence of actions in sequential order and get their result","body":"<p>So seems like I got to something that works, posting it here in case it'll help anybody in the future:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface PipelineAction&lt;T&gt; {\n    /**\n     * Invokes the action.\n     * @param item the object to invoke the action on.\n     * @param ctx the {@link ContextView} available to the action.\n     * @return a Mono that completes when the log archive has been handled.\n     */\n    @NotNull\n    Mono&lt;T&gt; process(@NotNull T item, @NotNull ContextView ctx);\n}\n\n\n@Slf4j\npublic abstract class AbstractActionsPipelineExecutor&lt;T, A extends PipelineAction&lt;T&gt;&gt;\n        implements ActionsPipelineExecutor&lt;T&gt; {\n    private static final int DEFAULT_RETRY_MAX_RETRIES = 5;\n    private static final Duration DEFAULT_RETRY_MIN_BACKOFF_DURATION = Duration.ofSeconds(10);\n\n    protected final List&lt;A&gt; actions;\n\n    /**\n     * Instantiates a simple pipeline of actions.\n     * @param actions the actions to run.\n     */\n    public AbstractActionsPipelineExecutor(@NotNull final List&lt;A&gt; actions) {\n        this.actions = actions;\n    }\n\n    /** {@inheritDoc} */\n    @NotNull\n    @Override\n    public Mono&lt;T&gt; execute(@NotNull final T item) {\n        if (actions.isEmpty()) {\n            LOG.warn(&quot;No actions to execute on item {}&quot;, item);\n            return Mono.just(item);\n        }\n\n        return Flux.deferContextual(contextView -&gt;\n                        Flux.fromIterable(actions)\n                                .concatMap(action -&gt; {\n                                    onBeforeApply(item, action);\n                                    var result = action.process(item, contextView)\n                                            .doOnError(throwable -&gt; onApplyError(item, action, throwable))\n                                            .doOnSuccess(ignored -&gt; onAfterApply(item, action));\n                                    if (getMaxBackoffRetryAttempts() &gt; 0) {\n                                        result = result.retryWhen(Retry.backoff(\n                                                getMaxBackoffRetryAttempts(), DEFAULT_RETRY_MIN_BACKOFF_DURATION));\n                                    }\n                                    return result;\n                                })\n                                .onErrorStop()\n                )\n                .contextWrite(ctx -&gt; ctx.put(getItemClass(), item))\n                .last()\n                .then(Mono.just(item));\n    }\n\n    /**\n     * Event handler used before an action is applied to the item.\n     * @param item the item to apply the action to.\n     * @param action the action to apply.\n     */\n    protected void onBeforeApply(final T item, final A action) { }\n\n    /**\n     * Event handler used after an action has been applied to the item.\n     * @param item the item that was applied the action to.\n     * @param action the action that was applied.\n     */\n    protected void onAfterApply(final T item, final A action) { }\n\n    /**\n     * Event handler used when an error occurs while applying an action to the item.\n     * @param item the item that was applied the action to.\n     * @param action the action that was applied.\n     * @param e the error that occurred.\n     */\n    protected void onApplyError(final T item, final A action, final Throwable e) { }\n\n    /**\n     * Returns the maximum number of times to retry an action before giving up.\n     * @return the maximum number of times to retry an action before giving up.\n     */\n    protected int getMaxBackoffRetryAttempts() {\n        return DEFAULT_RETRY_MAX_RETRIES;\n    }\n\n    /**\n     * Returns the class of the item that this pipeline executor is for.\n     * @return the class of the item that this pipeline executor is for.\n     */\n    @NotNull\n    protected Duration getMaxBackoffDuration() {\n        return DEFAULT_RETRY_MIN_BACKOFF_DURATION;\n    }\n\n    /**\n     * Gets the {@link Class} of the items that are processed by this pipeline.\n     * @return the {@link Class} of the items that are processed by this pipeline.\n     */\n    protected abstract Class&lt;T&gt; getItemClass();\n\n    /**\n     * Gets the {@link Class} of the actions that are applied by this pipeline.\n     * @return the {@link Class} of the actions that are applied by this pipeline.\n     */\n    protected abstract Class&lt;A&gt; getActionClass();\n\n    /**\n     * Performs an action when an error occurs while applying an action to the item.\n     * @param mono the mono to apply the action to.\n     * @return the mono after the action has been applied.\n     */\n    @NotNull\n    private Mono&lt;T&gt; doOnApplyError(final Mono&lt;T&gt; mono) {\n        return Mono.deferContextual(ctx -&gt; mono.doOnError(e -&gt; {\n            var item = ctx.get(getItemClass());\n            var action = ctx.get(getActionClass());\n            onApplyError(item, action, e);\n        }));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1620950,"reputation":2151,"user_id":1497516,"accept_rate":85,"display_name":"OzB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73843930,"answer_count":1,"score":0,"last_activity_date":1664103219,"creation_date":1663599983,"question_id":73775565,"body_markdown":"I have this issue with Webflux which I don&#39;t seem to have a valid solution for: I have an item, `T`, which I need to process using `n` Webflux actions. Each action is a function that takes `T` and returns `Mono&lt;T&gt;`.\r\n\r\nI could execute the actions on the item using `flatMapSequential`, but the issue is that I want to terminate the sequential actions if prior actions has been failed.\r\nFor example, say `T = User` and we want to support deletion of users. So deletion will require the following actions: &quot;deleting from db&quot; &gt; &quot;delete pictures&quot; &gt; &quot;publish delete message on Kafka&quot;.\r\n\r\nI must follow these exact steps, and not publish a message to Kafka if the DB deletion has been failed. \r\nHowever, ATM each action that&#39;s being executed is a standalone one, so my &quot;publish to Kafka&quot; action is being executed even when my &quot;remove from db&quot; action fails and throws.\r\n\r\nI&#39;d love to understand what am I missing...\r\n\r\nMy execute method:\r\n\r\n```java\r\n    public Mono&lt;T&gt; execute(final T item) {\r\n        if (actions.isEmpty()) {\r\n            LOG.warn(&quot;No actions to execute on item {}&quot;, item);\r\n            return Mono.just(item);\r\n        }\r\n\r\n        return Flux.fromIterable(actions)\r\n                .as(this::doBeforeItemApply)\r\n                .flatMapSequential(this::applyAction, 1)\r\n                .onErrorStop()\r\n                .contextWrite(ctx -&gt; ctx.put(getItemClass(), item))\r\n                .last()\r\n                .then(Mono.just(item));\r\n    }\r\n\r\n\r\n    protected Mono&lt;A&gt; applyAction(final A action) {\r\n        return Mono.deferContextual(ctx -&gt; applyAction(ctx, action, ctx.get(getItemClass()))\r\n                .as(this::doOnApplyError)\r\n                .as(this::doAfterItemApply)\r\n                .contextWrite(innerCtx -&gt; innerCtx.put(getActionClass(), action))\r\n                .then(Mono.just(action)));\r\n    }\r\n```\r\n\r\nThe actions are being injected using Spring Boot.","title":"Webflux execute a sequence of actions in sequential order and get their result","body":"<p>I have this issue with Webflux which I don't seem to have a valid solution for: I have an item, <code>T</code>, which I need to process using <code>n</code> Webflux actions. Each action is a function that takes <code>T</code> and returns <code>Mono&lt;T&gt;</code>.</p>\n<p>I could execute the actions on the item using <code>flatMapSequential</code>, but the issue is that I want to terminate the sequential actions if prior actions has been failed.\nFor example, say <code>T = User</code> and we want to support deletion of users. So deletion will require the following actions: &quot;deleting from db&quot; &gt; &quot;delete pictures&quot; &gt; &quot;publish delete message on Kafka&quot;.</p>\n<p>I must follow these exact steps, and not publish a message to Kafka if the DB deletion has been failed.\nHowever, ATM each action that's being executed is a standalone one, so my &quot;publish to Kafka&quot; action is being executed even when my &quot;remove from db&quot; action fails and throws.</p>\n<p>I'd love to understand what am I missing...</p>\n<p>My execute method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;T&gt; execute(final T item) {\n        if (actions.isEmpty()) {\n            LOG.warn(&quot;No actions to execute on item {}&quot;, item);\n            return Mono.just(item);\n        }\n\n        return Flux.fromIterable(actions)\n                .as(this::doBeforeItemApply)\n                .flatMapSequential(this::applyAction, 1)\n                .onErrorStop()\n                .contextWrite(ctx -&gt; ctx.put(getItemClass(), item))\n                .last()\n                .then(Mono.just(item));\n    }\n\n\n    protected Mono&lt;A&gt; applyAction(final A action) {\n        return Mono.deferContextual(ctx -&gt; applyAction(ctx, action, ctx.get(getItemClass()))\n                .as(this::doOnApplyError)\n                .as(this::doAfterItemApply)\n                .contextWrite(innerCtx -&gt; innerCtx.put(getActionClass(), action))\n                .then(Mono.just(action)));\n    }\n</code></pre>\n<p>The actions are being injected using Spring Boot.</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1664006512,"post_id":73835558,"comment_id":130376549,"body_markdown":"*apparently* `2017-09-24` (the standard format of `LocalDate`) is not a valid date for PostgreSQL, it is more two subtractions resulting in `1984`. Check the correct DB format for literal dates... or use `PreparedStatement` - also recommended to avoid SQL injection (see also [Little Bobby Tables](https://xkcd.com/327/))","body":"<i>apparently</i> <code>2017-09-24</code> (the standard format of <code>LocalDate</code>) is not a valid date for PostgreSQL, it is more two subtractions resulting in <code>1984</code>. Check the correct DB format for literal dates... or use <code>PreparedStatement</code> - also recommended to avoid SQL injection (see also <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">Little Bobby Tables</a>)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1664008305,"post_id":73835558,"comment_id":130376798,"body_markdown":"Use `?` placeholders in your SQL and your problem will be solved and you have protected yourself against SQL injection at the same time. Please see [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2).","body":"Use <code>?</code> placeholders in your SQL and your problem will be solved and you have protected yourself against SQL injection at the same time. Please see <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>."},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1664034935,"post_id":73835558,"comment_id":130381460,"body_markdown":"Do **not** concatenate parameters into SQL strings. Use a `PreparedStatement` then you can pass the `LocalDate` instance directly.","body":"Do <b>not</b> concatenate parameters into SQL strings. Use a <code>PreparedStatement</code> then you can pass the <code>LocalDate</code> instance directly."}],"answers":[{"tags":[],"owner":{"account_id":4384758,"reputation":1233,"user_id":3830485,"display_name":"SaiNageswar S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664102735,"creation_date":1664006098,"answer_id":73835600,"question_id":73835558,"body_markdown":"Here you are using direct insert sql statement. As you are appending date object to string it will be converted to date.toString() which might not be expected format in sql.\r\n\r\nBelow is the insert sql statement:\r\n\r\n```\r\n&quot;Insert into autore(nome_autore, cognome_autore, datanascita)\r\nvalues(&#39;&quot;+authorName+&quot;&#39;, &#39;&quot;+authorSurname+&quot;&#39;, &#39;2017-09-24&#39;)&quot;)\r\n```\r\n\r\nNote: This approach of sql query building is not recommended and open to SQL Injection. Better to use PreparedStatement or an ORM framework.","title":"org.postgresql.util.PSQLException: ERROR: column is of type date but expression is of type integer: cannot write date into postgres using java","body":"<p>Here you are using direct insert sql statement. As you are appending date object to string it will be converted to date.toString() which might not be expected format in sql.</p>\n<p>Below is the insert sql statement:</p>\n<pre><code>&quot;Insert into autore(nome_autore, cognome_autore, datanascita)\nvalues('&quot;+authorName+&quot;', '&quot;+authorSurname+&quot;', '2017-09-24')&quot;)\n</code></pre>\n<p>Note: This approach of sql query building is not recommended and open to SQL Injection. Better to use PreparedStatement or an ORM framework.</p>\n"},{"tags":[],"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664008258,"creation_date":1664006730,"answer_id":73835658,"question_id":73835558,"body_markdown":"There is a  way to solve this. In the place Where is you specify the jdbc url. \r\n\r\nEx: \r\n\r\n    &quot;jdbc:postgresql://host/schema&quot;\r\n\r\n\r\nChange above to \r\n\r\n    &quot;jdbc:postgresql://host/schema?stringtype=unspecified&quot;\r\n\r\nThen your db determine type of your params not the jdbc driver.","title":"org.postgresql.util.PSQLException: ERROR: column is of type date but expression is of type integer: cannot write date into postgres using java","body":"<p>There is a  way to solve this. In the place Where is you specify the jdbc url.</p>\n<p>Ex:</p>\n<pre><code>&quot;jdbc:postgresql://host/schema&quot;\n</code></pre>\n<p>Change above to</p>\n<pre><code>&quot;jdbc:postgresql://host/schema?stringtype=unspecified&quot;\n</code></pre>\n<p>Then your db determine type of your params not the jdbc driver.</p>\n"},{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664035369,"creation_date":1664035369,"answer_id":73838663,"question_id":73835558,"body_markdown":"The correct solution to this problem is to use a `PreparedStatement` - do not concatenate parameters into SQL strings. \r\n\r\nYour problem with the date parameter is only the tip of the iceberg. &lt;br&gt;\r\nThe next problem you&#39;ll get is, if `Peter O&#39;Donnel` signs up.\r\n\r\nSo you should use something like this:\r\n\r\n```java\r\nString authorName = &quot;Paul&quot;;\r\nString authorSurname = &quot;Mac&quot;;\r\nDateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;); \r\nLocalDate date = LocalDate.parse(&quot;2017-09-24&quot;, f);\r\n\r\nString insert = &quot;Insert into autore(nome_autore, cognome_autore, datanascita) values(?,?,?)&quot;;\r\n\r\nPreparedStatement pstmt = connection.prepareStatement(insert, Statement.RETURN_GENERATED_KEYS);\r\npstmt.setString(1, authorName);\r\npstmt.setString(2, authorSurname);\r\npstmt.setObject(3, date, java.sql.Types.DATE);\r\n\r\npstmt.executeUpdate();\r\n```\r\n","title":"org.postgresql.util.PSQLException: ERROR: column is of type date but expression is of type integer: cannot write date into postgres using java","body":"<p>The correct solution to this problem is to use a <code>PreparedStatement</code> - do not concatenate parameters into SQL strings.</p>\n<p>Your problem with the date parameter is only the tip of the iceberg. <br>\nThe next problem you'll get is, if <code>Peter O'Donnel</code> signs up.</p>\n<p>So you should use something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String authorName = &quot;Paul&quot;;\nString authorSurname = &quot;Mac&quot;;\nDateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;); \nLocalDate date = LocalDate.parse(&quot;2017-09-24&quot;, f);\n\nString insert = &quot;Insert into autore(nome_autore, cognome_autore, datanascita) values(?,?,?)&quot;;\n\nPreparedStatement pstmt = connection.prepareStatement(insert, Statement.RETURN_GENERATED_KEYS);\npstmt.setString(1, authorName);\npstmt.setString(2, authorSurname);\npstmt.setObject(3, date, java.sql.Types.DATE);\n\npstmt.executeUpdate();\n</code></pre>\n"}],"owner":{"account_id":26429239,"reputation":13,"user_id":20075677,"display_name":"yellowood"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1046,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73838663,"answer_count":3,"score":1,"last_activity_date":1664102735,"creation_date":1664005552,"question_id":73835558,"body_markdown":"I&#39;m trying to insert a record inside my table but I cannot insert any values into the Date column. \r\n\r\nThis is the code I use to make an insert: \r\n\r\n    Connection connection = DatabaseConnection.getInstance().getConnection();\r\n        ResultSet result = null;\r\n        try\r\n        {\r\n            Statement statement = connection.createStatement();\r\n            statement.executeUpdate(query,Statement.RETURN_GENERATED_KEYS);\r\n            result = statement.getGeneratedKeys();\r\n        } catch (SQLException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        finally\r\n        {\r\n            return result;\r\n        }\r\n\r\nHow I call this function: \r\n\r\n    String authorName = &quot;Paul&quot;\r\n    String authorSurname = &quot;Mac&quot;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;yyyy-MM-dd&quot; ) ; \r\n    LocalDate date = LocalDate.parse ( &quot;2017-09-24&quot; , f );\r\n    \r\n    &quot;Insert into autore(nome_autore, cognome_autore, datanascita) values(&#39;&quot;+authorName+&quot;&#39;, &#39;&quot;+authorSurname+&quot;&#39;, &quot;+date+&quot;)&quot;)\r\n\r\nThe fullstack trace I get: \r\n\r\n    org.postgresql.util.PSQLException: ERROR: column &quot;datanascita&quot; is of type date but expression is of type integer\r\n      Suggerimento: You will need to rewrite or cast the expression.\r\n      Posizione: 90\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\r\n    \tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\r\n    \tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:1259)\r\n    \tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:1240)\r\n    \tat projectRiferimentiBibliografici/com.ProjectRiferimentiBibliografici.DatabaseConnection.QueryManager.executeUpdateWithResultSet(QueryManager.java:113)\r\n    \tat projectRiferimentiBibliografici/com.ProjectRiferimentiBibliografici.DAOImplementation.AuthorDaoPostgresql.insertAuthor(AuthorDaoPostgresql.java:136)\r\n    \tat projectRiferimentiBibliografici/com.ProjectRiferimentiBibliografici.Main.MainCe.main(MainCe.java:43)","title":"org.postgresql.util.PSQLException: ERROR: column is of type date but expression is of type integer: cannot write date into postgres using java","body":"<p>I'm trying to insert a record inside my table but I cannot insert any values into the Date column.</p>\n<p>This is the code I use to make an insert:</p>\n<pre><code>Connection connection = DatabaseConnection.getInstance().getConnection();\n    ResultSet result = null;\n    try\n    {\n        Statement statement = connection.createStatement();\n        statement.executeUpdate(query,Statement.RETURN_GENERATED_KEYS);\n        result = statement.getGeneratedKeys();\n    } catch (SQLException e)\n    {\n        e.printStackTrace();\n    }\n    finally\n    {\n        return result;\n    }\n</code></pre>\n<p>How I call this function:</p>\n<pre><code>String authorName = &quot;Paul&quot;\nString authorSurname = &quot;Mac&quot;\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;yyyy-MM-dd&quot; ) ; \nLocalDate date = LocalDate.parse ( &quot;2017-09-24&quot; , f );\n\n&quot;Insert into autore(nome_autore, cognome_autore, datanascita) values('&quot;+authorName+&quot;', '&quot;+authorSurname+&quot;', &quot;+date+&quot;)&quot;)\n</code></pre>\n<p>The fullstack trace I get:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: column &quot;datanascita&quot; is of type date but expression is of type integer\n  Suggerimento: You will need to rewrite or cast the expression.\n  Posizione: 90\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n    at org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:1259)\n    at org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:1240)\n    at projectRiferimentiBibliografici/com.ProjectRiferimentiBibliografici.DatabaseConnection.QueryManager.executeUpdateWithResultSet(QueryManager.java:113)\n    at projectRiferimentiBibliografici/com.ProjectRiferimentiBibliografici.DAOImplementation.AuthorDaoPostgresql.insertAuthor(AuthorDaoPostgresql.java:136)\n    at projectRiferimentiBibliografici/com.ProjectRiferimentiBibliografici.Main.MainCe.main(MainCe.java:43)\n</code></pre>\n"},{"tags":["java","constructor","javabeans","lombok","pojo"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1664094392,"post_id":73843005,"comment_id":130389009,"body_markdown":"Did it cause a issue if you remove constructor inside child class?","body":"Did it cause a issue if you remove constructor inside child class?"},{"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"score":0,"creation_date":1664100059,"post_id":73843005,"comment_id":130389881,"body_markdown":"@YJR: Yes, it says there is no default constructor available in &#39;Parent&#39;.","body":"@YJR: Yes, it says there is no default constructor available in &#39;Parent&#39;."},{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1664100450,"post_id":73843005,"comment_id":130389943,"body_markdown":"I checked how I implemented. I implemented same  way as you. I think no other way to do that using lambok.","body":"I checked how I implemented. I implemented same  way as you. I think no other way to do that using lambok."},{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1664100837,"post_id":73843005,"comment_id":130390013,"body_markdown":"If there is a way I also want to know that.Therefore I upvote the question.","body":"If there is a way I also want to know that.Therefore I upvote the question."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664102631,"creation_date":1664101296,"answer_id":73843724,"question_id":73843005,"body_markdown":"As of lombok version `1.18.2` you can use for this reason the `@SuperBuilder` annotation.\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @SuperBuilder\r\n    public class Parent {\r\n    \r\n        private String name;\r\n    \r\n    }\r\n    @Data\r\n    @SuperBuilder\r\n    public class Child extends Parent {\r\n    \r\n        private int age;\r\n    }\r\n\r\nKeep in mind that the  annotation needs to be both in parent and in child class.\r\n\r\nThen you can use it as `Child child = Child.builder().age(1).name(&quot;Mike&quot;).build()`\r\n\r\nAs written in the doc\r\n\r\n&gt; @SuperBuilder generates a protected constructor on the class that\r\n&gt; takes a builder instance as a parameter. This constructor sets the\r\n&gt; fields of the new instance to the values from the builder.\r\n\r\nOfficial [documentation][1]\r\n\r\nAs explained in the documentation this does not exactly generate what the question asks, \r\n\r\n              public Child(String name, int age) {\r\n                super(name);\r\n                this.age = age;\r\n            }\r\n\r\nBut it creates instead a constructor that takes a builder as parameter and from this builder and the parameters it contains it moves forward to instantiating both fields in parent and child class. But this is the only possible solution with lombok as to use a constructor from the child class to instantiate fields both in parent and child class.\r\n\r\n  [1]: https://projectlombok.org/features/experimental/SuperBuilder\r\n\r\nKeep in mind that this was added as an experimental feature 4 years ago and it still part of lombok.","title":"How to use Lombok to create a constructor that calls AllArgsConstructor of super class?","body":"<p>As of lombok version <code>1.18.2</code> you can use for this reason the <code>@SuperBuilder</code> annotation.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@SuperBuilder\npublic class Parent {\n\n    private String name;\n\n}\n@Data\n@SuperBuilder\npublic class Child extends Parent {\n\n    private int age;\n}\n</code></pre>\n<p>Keep in mind that the  annotation needs to be both in parent and in child class.</p>\n<p>Then you can use it as <code>Child child = Child.builder().age(1).name(&quot;Mike&quot;).build()</code></p>\n<p>As written in the doc</p>\n<blockquote>\n<p>@SuperBuilder generates a protected constructor on the class that\ntakes a builder instance as a parameter. This constructor sets the\nfields of the new instance to the values from the builder.</p>\n</blockquote>\n<p>Official <a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>As explained in the documentation this does not exactly generate what the question asks,</p>\n<pre><code>          public Child(String name, int age) {\n            super(name);\n            this.age = age;\n        }\n</code></pre>\n<p>But it creates instead a constructor that takes a builder as parameter and from this builder and the parameters it contains it moves forward to instantiating both fields in parent and child class. But this is the only possible solution with lombok as to use a constructor from the child class to instantiate fields both in parent and child class.</p>\n<p>Keep in mind that this was added as an experimental feature 4 years ago and it still part of lombok.</p>\n"}],"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5778,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1664102631,"creation_date":1664094104,"question_id":73843005,"body_markdown":"I have a super class and child class:\r\n``` Java\r\n@Data\r\n@AllArgsConstructor\r\npublic class Parent {\r\n\r\n    private String name;\r\n\r\n}\r\n```\r\n``` Java\r\n@Data\r\npublic class Child extends Parent {\r\n\r\n    private int age;\r\n\r\n    public Child(String name, int age) {\r\n        super(name);\r\n        this.age = age;\r\n    }\r\n\r\n}\r\n```\r\nHow can I use Lombok annotation to help me create child class constructor?\r\n\r\nThanks in advance :)","title":"How to use Lombok to create a constructor that calls AllArgsConstructor of super class?","body":"<p>I have a super class and child class:</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class Parent {\n\n    private String name;\n\n}\n</code></pre>\n<pre><code>@Data\npublic class Child extends Parent {\n\n    private int age;\n\n    public Child(String name, int age) {\n        super(name);\n        this.age = age;\n    }\n\n}\n</code></pre>\n<p>How can I use Lombok annotation to help me create child class constructor?</p>\n<p>Thanks in advance :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1337849593,"post_id":10734106,"comment_id":13944666,"body_markdown":"Please post code which would actually compile. Your `toString()` method doesn&#39;t return a string, and you can&#39;t call a constructor like that. It&#39;s unclear what you&#39;re even trying to achieve. Please read http://tinyurl.com/so-hints and clarify your question.","body":"Please post code which would actually compile. Your <code>toString()</code> method doesn&#39;t return a string, and you can&#39;t call a constructor like that. It&#39;s unclear what you&#39;re even trying to achieve. Please read <a href=\"http://tinyurl.com/so-hints\" rel=\"nofollow noreferrer\">tinyurl.com/so-hints</a> and clarify your question."},{"owner":{"account_id":252480,"reputation":7492,"user_id":530549,"display_name":"Ritesh"},"score":0,"creation_date":1337868120,"post_id":10734106,"comment_id":13952413,"body_markdown":"The Spring&#39;s ToStringCreator (https://github.com/SpringSource/spring-framework/tree/master/spring-core/src/main/java/org/springframework/core/style) does the job very nicely.","body":"The Spring&#39;s ToStringCreator (<a href=\"https://github.com/SpringSource/spring-framework/tree/master/spring-core/src/main/java/org/springframework/core/style\" rel=\"nofollow noreferrer\">github.com/SpringSource/spring-framework/tree/master/&hellip;</a>) does the job very nicely."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1550893156,"post_id":10734106,"comment_id":96450340,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), `java.util.GregorianCalendar` and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <code>java.util.GregorianCalendar</code> and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":154,"is_accepted":true,"score":154,"last_activity_date":1337849568,"creation_date":1337849568,"answer_id":10734148,"question_id":10734106,"body_markdown":"The `toString` is supposed to return a `String`.\r\n\r\n    public String toString() { \r\n        return &quot;Name: &#39;&quot; + this.name + &quot;&#39;, Height: &#39;&quot; + this.height + &quot;&#39;, Birthday: &#39;&quot; + this.bDay + &quot;&#39;&quot;;\r\n    } \r\n\r\nI suggest you make use of your IDE&#39;s features to generate the `toString` method. Don&#39;t hand-code it.\r\n\r\nFor instance, Eclipse can do so if you simply right-click on the source code and select `Source &gt; Generate toString`","title":"How to override toString() properly in Java?","body":"<p>The <code>toString</code> is supposed to return a <code>String</code>.</p>\n\n<pre><code>public String toString() { \n    return \"Name: '\" + this.name + \"', Height: '\" + this.height + \"', Birthday: '\" + this.bDay + \"'\";\n} \n</code></pre>\n\n<p>I suggest you make use of your IDE's features to generate the <code>toString</code> method. Don't hand-code it.</p>\n\n<p>For instance, Eclipse can do so if you simply right-click on the source code and select <code>Source &gt; Generate toString</code></p>\n"},{"tags":[],"owner":{"account_id":384475,"reputation":2036,"user_id":741015,"display_name":"sudmong"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486107354,"creation_date":1337849611,"answer_id":10734156,"question_id":10734106,"body_markdown":"You can creating new object in the toString().\r\nuse\r\n\r\n    return &quot;Name = &quot; + this.name +&quot; height= &quot; + this.height;\r\n   \r\n instead of \r\n\r\n    return Kid(this.name, this.height, this.bDay);\r\n\r\nYou may change the return string as required. There are other ways to store date instead calander.","title":"How to override toString() properly in Java?","body":"<p>You can creating new object in the toString().\nuse</p>\n\n<pre><code>return \"Name = \" + this.name +\" height= \" + this.height;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>return Kid(this.name, this.height, this.bDay);\n</code></pre>\n\n<p>You may change the return string as required. There are other ways to store date instead calander.</p>\n"},{"tags":[],"owner":{"account_id":18313,"reputation":13576,"user_id":41861,"accept_rate":62,"display_name":"Adrian Pronk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337849630,"creation_date":1337849630,"answer_id":10734159,"question_id":10734106,"body_markdown":"You can&#39;t call a constructor as if it was a normal method, you can only call it with `new` to create a new object:\r\n \r\n    Kid newKid = new Kid(this.name, this.height, this.bDay);\r\n\r\nBut constructing a new object from your toString() method is not what you want to be doing.","title":"How to override toString() properly in Java?","body":"<p>You can't call a constructor as if it was a normal method, you can only call it with <code>new</code> to create a new object:</p>\n\n<pre><code>Kid newKid = new Kid(this.name, this.height, this.bDay);\n</code></pre>\n\n<p>But constructing a new object from your toString() method is not what you want to be doing.</p>\n"},{"tags":[],"owner":{"account_id":2838242,"reputation":529,"user_id":2438383,"accept_rate":9,"display_name":"RCR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1410269025,"creation_date":1410269025,"answer_id":25745789,"question_id":10734106,"body_markdown":"Following code is a sample. Question based on the same, instead of using IDE based conversion, is there a faster way to implement so that in future the changes occur, we do not need to modify the values over and over again?\r\n\r\n    @Override\r\n        public String toString() {\r\n            return &quot;ContractDTO{&quot; +\r\n                    &quot;contractId=&#39;&quot; + contractId + &#39;\\&#39;&#39; +\r\n                    &quot;, contractTemplateId=&#39;&quot; + contractTemplateId + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }","title":"How to override toString() properly in Java?","body":"<p>Following code is a sample. Question based on the same, instead of using IDE based conversion, is there a faster way to implement so that in future the changes occur, we do not need to modify the values over and over again?</p>\n\n<pre><code>@Override\n    public String toString() {\n        return \"ContractDTO{\" +\n                \"contractId='\" + contractId + '\\'' +\n                \", contractTemplateId='\" + contractTemplateId + '\\'' +\n                '}';\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5637659,"reputation":446,"user_id":4462657,"display_name":"Linux Le"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1435801258,"creation_date":1435800719,"answer_id":31174312,"question_id":10734106,"body_markdown":"Java toString() method\r\n\r\nIf you want to represent any object as a string, toString() method comes into existence.\r\n\r\nThe toString() method returns the string representation of the object.\r\n\r\nIf you print any object, java compiler internally invokes the toString() method on the object. So overriding the toString() method, returns the desired output, it can be the state of an object etc. depends on your implementation.\r\n\r\nAdvantage of Java toString() method\r\n\r\nBy overriding the toString() method of the Object class, we can return values of the object, so we don&#39;t need to write much code.\r\n\r\nOutput without toString() method\r\n\r\n    class Student{  \r\n     int id;  \r\n     String name;  \r\n     String address;  \r\n      \r\n     Student(int id, String name, String address){  \r\n     this.id=id;  \r\n     this.name=name;  \r\n     this.address=address;  \r\n     }  \r\n      \r\n     public static void main(String args[]){  \r\n       Student s1=new Student(100,”Joe”,”success”);  \r\n       Student s2=new Student(50,”Jeff”,”fail”);  \r\n         \r\n       System.out.println(s1);//compiler writes here s1.toString()  \r\n       System.out.println(s2);//compiler writes here s2.toString()  \r\n     }  \r\n    }  \r\n    \r\n    Output:Student@2kaa9dc\r\n           Student@4bbc148\r\n\r\nYou can see in the above example #1.  printing s1 and s2 prints the Hashcode values of the objects but I want to print the values of these objects. Since java compiler internally calls toString() method, overriding this method will return the specified values. Let&#39;s understand it with the example given below:\r\n\r\n\r\n    Example#2\r\n    \r\n    Output with overriding toString() method\r\n    \r\n    class Student{  \r\n     int id;  \r\n     String name;  \r\n     String address;  \r\n      \r\n     Student(int id, String name, String address){  \r\n     this.id=id;  \r\n     this.name=name;  \r\n     this.address=address;  \r\n     }  \r\n       \r\n    //overriding the toString() method  \r\n    public String toString(){ \r\n      return id+&quot; &quot;+name+&quot; &quot;+address;  \r\n     }  \r\n     public static void main(String args[]){  \r\n       Student s1=new Student(100,”Joe”,”success”);  \r\n       Student s2=new Student(50,”Jeff”,”fail”);  \r\n         \r\n       System.out.println(s1);//compiler writes here s1.toString()  \r\n       System.out.println(s2);//compiler writes here s2.toString()  \r\n     }  \r\n    } \r\n    \r\n    Output:100 Joe success\r\n           50 Jeff fail\r\n\r\nNote that toString() mostly is related to the concept of polymorphism in Java.\r\nIn, Eclipse, try to click on toString() and right click on it.Then, click on Open Declaration and see where the Superclass toString() comes from.","title":"How to override toString() properly in Java?","body":"<p>Java toString() method</p>\n\n<p>If you want to represent any object as a string, toString() method comes into existence.</p>\n\n<p>The toString() method returns the string representation of the object.</p>\n\n<p>If you print any object, java compiler internally invokes the toString() method on the object. So overriding the toString() method, returns the desired output, it can be the state of an object etc. depends on your implementation.</p>\n\n<p>Advantage of Java toString() method</p>\n\n<p>By overriding the toString() method of the Object class, we can return values of the object, so we don't need to write much code.</p>\n\n<p>Output without toString() method</p>\n\n<pre><code>class Student{  \n int id;  \n String name;  \n String address;  \n\n Student(int id, String name, String address){  \n this.id=id;  \n this.name=name;  \n this.address=address;  \n }  \n\n public static void main(String args[]){  \n   Student s1=new Student(100,”Joe”,”success”);  \n   Student s2=new Student(50,”Jeff”,”fail”);  \n\n   System.out.println(s1);//compiler writes here s1.toString()  \n   System.out.println(s2);//compiler writes here s2.toString()  \n }  \n}  \n\nOutput:Student@2kaa9dc\n       Student@4bbc148\n</code></pre>\n\n<p>You can see in the above example #1.  printing s1 and s2 prints the Hashcode values of the objects but I want to print the values of these objects. Since java compiler internally calls toString() method, overriding this method will return the specified values. Let's understand it with the example given below:</p>\n\n<pre><code>Example#2\n\nOutput with overriding toString() method\n\nclass Student{  \n int id;  \n String name;  \n String address;  \n\n Student(int id, String name, String address){  \n this.id=id;  \n this.name=name;  \n this.address=address;  \n }  \n\n//overriding the toString() method  \npublic String toString(){ \n  return id+\" \"+name+\" \"+address;  \n }  \n public static void main(String args[]){  \n   Student s1=new Student(100,”Joe”,”success”);  \n   Student s2=new Student(50,”Jeff”,”fail”);  \n\n   System.out.println(s1);//compiler writes here s1.toString()  \n   System.out.println(s2);//compiler writes here s2.toString()  \n }  \n} \n\nOutput:100 Joe success\n       50 Jeff fail\n</code></pre>\n\n<p>Note that toString() mostly is related to the concept of polymorphism in Java.\nIn, Eclipse, try to click on toString() and right click on it.Then, click on Open Declaration and see where the Superclass toString() comes from.</p>\n"},{"tags":[],"owner":{"account_id":6307448,"reputation":410,"user_id":4900123,"accept_rate":56,"display_name":"Mohamed Sherif Noureldin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445538455,"creation_date":1435805512,"answer_id":31174863,"question_id":10734106,"body_markdown":"Well actually you will need to return something like this because toString has to return a string\r\n\r\n    public String toString() {\r\n     return &quot;Name :&quot; + this.name + &quot;whatever :&quot; + this.whatever + &quot;&quot;;\r\n    }\r\n\r\nand you actually do something wrong in the constructer you set the variable the user set to the name while you need to do the opposite.\r\nWhat you shouldn&#39;t do\r\n\r\n    n = this.name\r\nWhat you should do\r\n\r\n    this.name = n\r\nHopes this helps thanks","title":"How to override toString() properly in Java?","body":"<p>Well actually you will need to return something like this because toString has to return a string</p>\n\n<pre><code>public String toString() {\n return \"Name :\" + this.name + \"whatever :\" + this.whatever + \"\";\n}\n</code></pre>\n\n<p>and you actually do something wrong in the constructer you set the variable the user set to the name while you need to do the opposite.\nWhat you shouldn't do</p>\n\n<pre><code>n = this.name\n</code></pre>\n\n<p>What you should do</p>\n\n<pre><code>this.name = n\n</code></pre>\n\n<p>Hopes this helps thanks</p>\n"},{"tags":[],"owner":{"account_id":9887815,"reputation":11,"user_id":7321815,"display_name":"user7321815"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482249225,"creation_date":1482249225,"answer_id":41246305,"question_id":10734106,"body_markdown":"we can even write like this by creating a new String object in the class and assigning it what ever we want in constructor and return that in toString method which is overridden\r\n\r\n    public class Student{  \r\n     int id;  \r\n     String name;  \r\n     String address;  \r\n     String details;\r\n     Student(int id, String name, String address){  \r\n     this.id=id;  \r\n     this.name=name;  \r\n     this.address=address;  \r\n     this.details=id+&quot;  &quot;+name+&quot;  &quot;+address;  \r\n     }  \r\n    \r\n    //overriding the toString() method  \r\n    public String toString(){ \r\n      return details;  \r\n     }  \r\n     public static void main(String args[]){  \r\n       Student s1=new Student(100,&quot;Joe&quot;,&quot;success&quot;);  \r\n       Student s2=new Student(50,&quot;Jeff&quot;,&quot;fail&quot;);  \r\n    \r\n       System.out.println(s1);//compiler writes here s1.toString()  \r\n       System.out.println(s2);//compiler writes here s2.toString()  \r\n     }  \r\n    }\r\n\r\n ","title":"How to override toString() properly in Java?","body":"<p>we can even write like this by creating a new String object in the class and assigning it what ever we want in constructor and return that in toString method which is overridden</p>\n\n<pre><code>public class Student{  \n int id;  \n String name;  \n String address;  \n String details;\n Student(int id, String name, String address){  \n this.id=id;  \n this.name=name;  \n this.address=address;  \n this.details=id+\"  \"+name+\"  \"+address;  \n }  \n\n//overriding the toString() method  \npublic String toString(){ \n  return details;  \n }  \n public static void main(String args[]){  \n   Student s1=new Student(100,\"Joe\",\"success\");  \n   Student s2=new Student(50,\"Jeff\",\"fail\");  \n\n   System.out.println(s1);//compiler writes here s1.toString()  \n   System.out.println(s2);//compiler writes here s2.toString()  \n }  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540828566,"creation_date":1540828566,"answer_id":53049329,"question_id":10734106,"body_markdown":"If you&#39;re interested in Unit-Tests, then you can declare a public &quot;ToStringTemplate&quot;, and then you can unit test your toString.  Even if you don&#39;t unit-test it, I think its &quot;cleaner&quot; and uses String.format.\r\n\r\n    public class Kid {\r\n    \r\n    \tpublic static final String ToStringTemplate = &quot;KidName=&#39;%1s&#39;, Height=&#39;%2s&#39;, GregCalendar=&#39;%3s&#39;&quot;;\r\n    \t\r\n    \tprivate String kidName;\r\n    \tprivate double height;\r\n    \tprivate GregorianCalendar gregCalendar;\r\n    \r\n    \tpublic String getKidName() {\r\n    \t\treturn kidName;\r\n    \t}\r\n    \r\n    \tpublic void setKidName(String kidName) {\r\n    \t\tthis.kidName = kidName;\r\n    \t}\r\n    \r\n    \tpublic double getHeight() {\r\n    \t\treturn height;\r\n    \t}\r\n    \r\n    \tpublic void setHeight(double height) {\r\n    \t\tthis.height = height;\r\n    \t}\r\n    \r\n    \tpublic GregorianCalendar getGregCalendar() {\r\n    \t\treturn gregCalendar;\r\n    \t}\r\n    \r\n    \tpublic void setGregCalendar(GregorianCalendar gregCalendar) {\r\n    \t\tthis.gregCalendar = gregCalendar;\r\n    \t}\r\n    \t\r\n    \tpublic String toString() { \r\n    \t    return String.format(ToStringTemplate, this.getKidName(), this.getHeight(), this.getGregCalendar());\r\n    \t} \r\n    }\r\n\r\nNow you can unit test by create the Kid, setting the properties, and doing your own string.format on the ToStringTemplate and comparing.\r\n\r\nmaking ToStringTemplate static-final means &quot;ONE VERSION&quot; of the truth, rather than having a &quot;copy&quot; of the template in the unit-test.\r\n\r\n","title":"How to override toString() properly in Java?","body":"<p>If you're interested in Unit-Tests, then you can declare a public \"ToStringTemplate\", and then you can unit test your toString.  Even if you don't unit-test it, I think its \"cleaner\" and uses String.format.</p>\n\n<pre><code>public class Kid {\n\n    public static final String ToStringTemplate = \"KidName='%1s', Height='%2s', GregCalendar='%3s'\";\n\n    private String kidName;\n    private double height;\n    private GregorianCalendar gregCalendar;\n\n    public String getKidName() {\n        return kidName;\n    }\n\n    public void setKidName(String kidName) {\n        this.kidName = kidName;\n    }\n\n    public double getHeight() {\n        return height;\n    }\n\n    public void setHeight(double height) {\n        this.height = height;\n    }\n\n    public GregorianCalendar getGregCalendar() {\n        return gregCalendar;\n    }\n\n    public void setGregCalendar(GregorianCalendar gregCalendar) {\n        this.gregCalendar = gregCalendar;\n    }\n\n    public String toString() { \n        return String.format(ToStringTemplate, this.getKidName(), this.getHeight(), this.getGregCalendar());\n    } \n}\n</code></pre>\n\n<p>Now you can unit test by create the Kid, setting the properties, and doing your own string.format on the ToStringTemplate and comparing.</p>\n\n<p>making ToStringTemplate static-final means \"ONE VERSION\" of the truth, rather than having a \"copy\" of the template in the unit-test.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1664101196,"creation_date":1550893106,"answer_id":54838010,"question_id":10734106,"body_markdown":"As others explained, the `toString` is not the place to be instantiating your class. Instead, the `toString` method is intended to build a string representing the value of an instance of your class, reporting on at least the most important fields of data stored in that object. In most cases, `toString` is used for *debugging* and *logging*, not for your *business logic* (except some historical methods, like `Integer.toString()`).\r\n\r\nTo generate text representing the value of an object for display to a user, add another method. People often name the method something like `getDisplayName`. For example, [`DayOfWeek::getDisplayName`][1] and [`Month::getDisplayName`][2].\r\n\r\n# `StringJoiner`\r\n\r\nAs of Java 8 and later, the most modern way to implement `toString` would use the [`StringJoiner`][3] class. As the doc says:\r\n\r\n&gt;StringJoiner is used to construct a sequence of characters separated by a delimiter and optionally starting with a supplied prefix and ending with a supplied suffix.\r\n\r\nUse like this:\r\n\r\n    @Override\r\n    public String toString ()\r\n    {\r\n        return new StringJoiner(                           // In Java 8 and later, StringJoiner is used to construct a sequence of characters separated by a delimiter and optionally starting with a supplied prefix and ending with a supplied suffix.\r\n                    &quot; | &quot; ,                                // Delimiter\r\n                    Person.class.getSimpleName() + &quot;[ &quot; ,  // Prefix\r\n                    &quot; ]&quot;                                   // Suffix\r\n                )\r\n                .add( &quot;name=&quot; + name )                     // Append\r\n                .add( &quot;phone=&quot; + phone )                   // Append\r\n                .toString();                               // Convert entire sequence to a single `String` object.\r\n    }\r\n\r\n&gt;Person[ name=Alice | phone=555.867.5309 ]\r\n\r\n# `record`\r\n\r\nJava 16 brings a new way to briefly define a class where the main purpose is to communicate data transparently and immutably: [record](https://openjdk.java.net/jeps/395). \r\n\r\nYou define a record by merely listing the type and name of each member field. The compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`. \r\n\r\n## Default implementation of `toString`\r\n\r\nThe default implementation of `toString` includes each and every member field. \r\n\r\n    public Kid ( String name , double height , LocalDate birthDate ) {} \r\n    \r\nInstantiate like any other object. \r\n\r\n    Kid alice = new Kid( &quot;Alice&quot; , 6.1d , LocalDate.of( 2019 , Month.April , 23 ) ) ;\r\n    String output = alice.toString() ;\r\n\r\n\r\nYou may choose to override the default implementation with your own. Overrides are usually not needed given the purpose of a record as a simple data-carrier. \r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/DayOfWeek.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/StringJoiner.html","title":"How to override toString() properly in Java?","body":"<p>As others explained, the <code>toString</code> is not the place to be instantiating your class. Instead, the <code>toString</code> method is intended to build a string representing the value of an instance of your class, reporting on at least the most important fields of data stored in that object. In most cases, <code>toString</code> is used for <em>debugging</em> and <em>logging</em>, not for your <em>business logic</em> (except some historical methods, like <code>Integer.toString()</code>).</p>\n<p>To generate text representing the value of an object for display to a user, add another method. People often name the method something like <code>getDisplayName</code>. For example, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/DayOfWeek.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\" rel=\"nofollow noreferrer\"><code>DayOfWeek::getDisplayName</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\" rel=\"nofollow noreferrer\"><code>Month::getDisplayName</code></a>.</p>\n<h1><code>StringJoiner</code></h1>\n<p>As of Java 8 and later, the most modern way to implement <code>toString</code> would use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\"><code>StringJoiner</code></a> class. As the doc says:</p>\n<blockquote>\n<p>StringJoiner is used to construct a sequence of characters separated by a delimiter and optionally starting with a supplied prefix and ending with a supplied suffix.</p>\n</blockquote>\n<p>Use like this:</p>\n<pre><code>@Override\npublic String toString ()\n{\n    return new StringJoiner(                           // In Java 8 and later, StringJoiner is used to construct a sequence of characters separated by a delimiter and optionally starting with a supplied prefix and ending with a supplied suffix.\n                &quot; | &quot; ,                                // Delimiter\n                Person.class.getSimpleName() + &quot;[ &quot; ,  // Prefix\n                &quot; ]&quot;                                   // Suffix\n            )\n            .add( &quot;name=&quot; + name )                     // Append\n            .add( &quot;phone=&quot; + phone )                   // Append\n            .toString();                               // Convert entire sequence to a single `String` object.\n}\n</code></pre>\n<blockquote>\n<p>Person[ name=Alice | phone=555.867.5309 ]</p>\n</blockquote>\n<h1><code>record</code></h1>\n<p>Java 16 brings a new way to briefly define a class where the main purpose is to communicate data transparently and immutably: <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<p>You define a record by merely listing the type and name of each member field. The compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<h2>Default implementation of <code>toString</code></h2>\n<p>The default implementation of <code>toString</code> includes each and every member field.</p>\n<pre><code>public Kid ( String name , double height , LocalDate birthDate ) {} \n</code></pre>\n<p>Instantiate like any other object.</p>\n<pre><code>Kid alice = new Kid( &quot;Alice&quot; , 6.1d , LocalDate.of( 2019 , Month.April , 23 ) ) ;\nString output = alice.toString() ;\n</code></pre>\n<p>You may choose to override the default implementation with your own. Overrides are usually not needed given the purpose of a record as a simple data-carrier.</p>\n"},{"tags":[],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552036987,"creation_date":1552036987,"answer_id":55060145,"question_id":10734106,"body_markdown":"The best way in my opinion is using google gson library:\r\n\r\n            @Override\r\n    public String toString() {\r\n        return new GsonBuilder().setPrettyPrinting().create().toJson(this);\r\n    }\r\n\r\nor apache commons lang reflection way","title":"How to override toString() properly in Java?","body":"<p>The best way in my opinion is using google gson library:</p>\n\n<pre><code>        @Override\npublic String toString() {\n    return new GsonBuilder().setPrettyPrinting().create().toJson(this);\n}\n</code></pre>\n\n<p>or apache commons lang reflection way</p>\n"},{"tags":[],"owner":{"account_id":12547682,"reputation":411,"user_id":9130417,"display_name":"The Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552038960,"creation_date":1552037419,"answer_id":55060261,"question_id":10734106,"body_markdown":"1. if you are use using notepad:\r\nthen    \r\n\r\n        public String toString(){\r\n\r\n         return &quot;&quot;; ---now here you can use variables which you have created for your class\r\n\r\n        }\r\n\r\n2. if you are using eclipse IDE then\r\npress\r\n\r\n        -alt +shift +s \r\n-click on override toString method here you will get options to select what type of variables you want to select.\r\n\r\n","title":"How to override toString() properly in Java?","body":"<ol>\n<li><p>if you are use using notepad:\nthen    </p>\n\n<pre><code>public String toString(){\n\n return \"\"; ---now here you can use variables which you have created for your class\n\n}\n</code></pre></li>\n<li><p>if you are using eclipse IDE then\npress</p>\n\n<pre><code>-alt +shift +s \n</code></pre>\n\n<p>-click on override toString method here you will get options to select what type of variables you want to select.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4440595,"reputation":3869,"user_id":3615207,"accept_rate":73,"display_name":"stinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579789105,"creation_date":1579789105,"answer_id":59880671,"question_id":10734106,"body_markdown":"Nice and concise way is to use Lombok annotations. It has `@ToString` annotation, which will generate an implementation of the `toString()` method. By default, it will print your class name, along with each field, in order, separated by commas.\r\nYou can easily customize your output by passing parameters to annotation, e.g.:\r\n\r\n    @ToString(of = {&quot;name&quot;, &quot;lastName&quot;})\r\n\r\nWhich is equivalent of pure Java:\r\n\r\n    public String toString() {\r\n            return &quot;Person(name=&quot; + this.name + &quot;, lastName=&quot; + this.experienceInYears + &quot;)&quot;;\r\n        }","title":"How to override toString() properly in Java?","body":"<p>Nice and concise way is to use Lombok annotations. It has <code>@ToString</code> annotation, which will generate an implementation of the <code>toString()</code> method. By default, it will print your class name, along with each field, in order, separated by commas.\nYou can easily customize your output by passing parameters to annotation, e.g.:</p>\n\n<pre><code>@ToString(of = {\"name\", \"lastName\"})\n</code></pre>\n\n<p>Which is equivalent of pure Java:</p>\n\n<pre><code>public String toString() {\n        return \"Person(name=\" + this.name + \", lastName=\" + this.experienceInYears + \")\";\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31617,"reputation":52341,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583798498,"creation_date":1583798498,"answer_id":60609871,"question_id":10734106,"body_markdown":"If you&#39;re just using `toString()` for debugging a [DTO](https://stackoverflow.com/q/1051182/86967), you can generate *human readable* output automatically with something like the following:  \r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    ...\r\n    public String toString() {\r\n        try { return new ObjectMapper().writeValueAsString(this); }\r\n        catch (Exception e) { return &quot;{ObjectMapper failed}&quot;; }\r\n    }\r\n\r\n----------\r\n\r\n*However, this isn&#39;t appropriate for production deployments if the DTO may contain PII (which shouldn&#39;t be captured in logs).*","title":"How to override toString() properly in Java?","body":"<p>If you're just using <code>toString()</code> for debugging a <a href=\"https://stackoverflow.com/q/1051182/86967\">DTO</a>, you can generate <em>human readable</em> output automatically with something like the following:  </p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\n...\npublic String toString() {\n    try { return new ObjectMapper().writeValueAsString(this); }\n    catch (Exception e) { return \"{ObjectMapper failed}\"; }\n}\n</code></pre>\n\n<hr>\n\n<p><em>However, this isn't appropriate for production deployments if the DTO may contain PII (which shouldn't be captured in logs).</em></p>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596726214,"creation_date":1596726214,"answer_id":63286457,"question_id":10734106,"body_markdown":"Always have easy way: **Right Click** &gt; **Generate** &gt; **toString()** &gt; select template that you want.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F3kyE.png","title":"How to override toString() properly in Java?","body":"<p>Always have easy way: <strong>Right Click</strong> &gt; <strong>Generate</strong> &gt; <strong>toString()</strong> &gt; select template that you want.\n<a href=\"https://i.stack.imgur.com/F3kyE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F3kyE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":26435571,"reputation":24,"user_id":20080978,"display_name":"Anil Bishnoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664102227,"creation_date":1664102227,"answer_id":73843816,"question_id":10734106,"body_markdown":"But then in the toString() method you aren&#39;t actually returning a String, are you?\r\nYou&#39;ll have to return a String for this method to work.\r\n\r\n```\r\npublic String toString() {\r\n  return &quot;Name : &quot; + this.name + &quot; Height : &quot; + this.height + &quot; BirthDay : &quot; + this.bday;\r\n}\r\n```","title":"How to override toString() properly in Java?","body":"<p>But then in the toString() method you aren't actually returning a String, are you?\nYou'll have to return a String for this method to work.</p>\n<pre><code>public String toString() {\n  return &quot;Name : &quot; + this.name + &quot; Height : &quot; + this.height + &quot; BirthDay : &quot; + this.bday;\n}\n</code></pre>\n"}],"owner":{"account_id":1342449,"reputation":1243,"user_id":1283885,"accept_rate":83,"display_name":"user1283885"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347394,"favorite_count":0,"down_vote_count":3,"up_vote_count":105,"accepted_answer_id":10734148,"answer_count":15,"score":102,"last_activity_date":1664102227,"creation_date":1337849371,"question_id":10734106,"body_markdown":"Sounds a little stupid, but I need help on my `toString()` method and it is very irking. \r\nI tried looking up online because the `toString` is the one where it is screwing up and &quot;not finding Kid constructor #2&quot; even though it is there and I would even do something else and it doesn&#39;t work.\r\nOk that was a lot so here is my code: \r\n\r\n    import java.util.*; \r\n       class Kid {  \r\n          String name; \r\n          double height; \r\n          GregorianCalendar bDay; \r\n\r\n          public Kid () { \r\n             this.name = &quot;HEAD&quot;;\r\n             this.height = 1; \r\n             this.bDay = new GregorianCalendar(1111,1,1); \r\n          } \r\n      \r\n          public Kid (String n, double h, String date) {\r\n          // method that toString() can&#39;t find somehow\r\n             StringTokenizer st = new StringTokenizer(date, &quot;/&quot;, true);\r\n             n = this.name;\r\n             h = this.height;\r\n          } \r\n          \r\n          public String toString() { \r\n             return Kid(this.name, this.height, this.bDay);\r\n          } \r\n       } //end class \r\n\r\n\r\n\r\nOk So my toString above (I know, my third parameter is off, should be a String) is off. If I hardcode a value in for the third thing it goes haywire and says it can&#39;t find this (up above). So how can I get the date and break it up?\r\n\r\n\r\n\r\nClass calling this is below\r\n\r\n    class Driver {   \r\n       public static void main (String[] args) {   \r\n          Kid kid1 = new Kid(&quot;Lexie&quot;, 2.6, &quot;11/5/2009&quot;);   \r\n          System.out.println(kid1.toString());\r\n       } //end main method \r\n    } //end class  \r\n\r\nI tried researching multiple constructors and it really didn&#39;t help.\r\nI tried researching `toString()` methods, and tried using previous `toString()` methods logic that I created previous but this is brand new so it never worked.\r\n\r\nHelp? \r\n","title":"How to override toString() properly in Java?","body":"<p>Sounds a little stupid, but I need help on my <code>toString()</code> method and it is very irking. \nI tried looking up online because the <code>toString</code> is the one where it is screwing up and \"not finding Kid constructor #2\" even though it is there and I would even do something else and it doesn't work.\nOk that was a lot so here is my code: </p>\n\n<pre><code>import java.util.*; \n   class Kid {  \n      String name; \n      double height; \n      GregorianCalendar bDay; \n\n      public Kid () { \n         this.name = \"HEAD\";\n         this.height = 1; \n         this.bDay = new GregorianCalendar(1111,1,1); \n      } \n\n      public Kid (String n, double h, String date) {\n      // method that toString() can't find somehow\n         StringTokenizer st = new StringTokenizer(date, \"/\", true);\n         n = this.name;\n         h = this.height;\n      } \n\n      public String toString() { \n         return Kid(this.name, this.height, this.bDay);\n      } \n   } //end class \n</code></pre>\n\n<p>Ok So my toString above (I know, my third parameter is off, should be a String) is off. If I hardcode a value in for the third thing it goes haywire and says it can't find this (up above). So how can I get the date and break it up?</p>\n\n<p>Class calling this is below</p>\n\n<pre><code>class Driver {   \n   public static void main (String[] args) {   \n      Kid kid1 = new Kid(\"Lexie\", 2.6, \"11/5/2009\");   \n      System.out.println(kid1.toString());\n   } //end main method \n} //end class  \n</code></pre>\n\n<p>I tried researching multiple constructors and it really didn't help.\nI tried researching <code>toString()</code> methods, and tried using previous <code>toString()</code> methods logic that I created previous but this is brand new so it never worked.</p>\n\n<p>Help? </p>\n"},{"tags":["java","typescript"],"answers":[{"tags":[],"owner":{"account_id":2288926,"reputation":1789,"user_id":2012333,"display_name":"shaktimaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664101967,"creation_date":1664101967,"answer_id":73843795,"question_id":73843036,"body_markdown":"The main problem is that you are not doing anything with the `User` object during the network call: \r\n\r\n```ts\r\ngetCartItemsByUser(user: User) {\r\n    return this.http.get&lt;CartItem[]&gt;(`${this.baseUrl}/cart/get-items`);\r\n}\r\n```\r\n\r\nAngular does not support the passing body in request params, I would suggest you pass in the user id in the URL, like: \r\n```ts\r\ngetCartItemsByUser(user: User) {\r\n    return this.http.get&lt;CartItem[]&gt;(`${this.baseUrl}/cart/get-items/${user.id}`);\r\n}\r\n```\r\n\r\nand expect the same in the backend as URL param. Now in the backend, you can extract the user by id and do whatever computation you want.","title":"Retrieve a list of cart items by passing in a user","body":"<p>The main problem is that you are not doing anything with the <code>User</code> object during the network call:</p>\n<pre><code>getCartItemsByUser(user: User) {\n    return this.http.get&lt;CartItem[]&gt;(`${this.baseUrl}/cart/get-items`);\n}\n</code></pre>\n<p>Angular does not support the passing body in request params, I would suggest you pass in the user id in the URL, like:</p>\n<pre><code>getCartItemsByUser(user: User) {\n    return this.http.get&lt;CartItem[]&gt;(`${this.baseUrl}/cart/get-items/${user.id}`);\n}\n</code></pre>\n<p>and expect the same in the backend as URL param. Now in the backend, you can extract the user by id and do whatever computation you want.</p>\n"}],"owner":{"account_id":25029272,"reputation":15,"user_id":18887196,"display_name":"user18887196"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73843795,"answer_count":1,"score":0,"last_activity_date":1664101967,"creation_date":1664094464,"question_id":73843036,"body_markdown":"A typical shopping cart problem. The CartItem class is being injected with a User class and Product class. I already have a user, and I need to pass in the user to return a list of cart items. But the front end failed to receive it. The browser console returned 400, and Postman returned 405 for the back end.\r\n\r\nIn the back end the Spring Boot entity classes, getters and setters and constructors are not shown here.\r\n\r\nThis is the CartItem class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;cartItems&quot;)\r\n    public class CartItem {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;pId&quot;)\r\n\tprivate Product product;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;uId&quot;)\r\n\tprivate User user;\r\n\t\r\n\tprivate int quantity;\r\n\r\nThis is the Product class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;products&quot;)\r\n    public class Product {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\tprivate String name;\r\n\tprivate Integer price;\r\n\r\nThis is the User class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\r\nThis is the customized repository method:\r\n\r\n    List&lt;CartItem&gt; getByUser(User user);\r\n\r\nThis is the service method:\r\n\r\n    public List&lt;CartItem&gt; getCartItemsByUser(User user) {\r\n\t\treturn repo.getByUser(user);\r\n\t}\r\n\r\nThe is the controller method:\r\n\r\n    @GetMapping(&quot;/cart/get-items&quot;)\r\n\tpublic List&lt;CartItem&gt; getCartItemByUser(@RequestBody User user) {\r\n\t\treturn service.getCartItemsByUser(user);\t\r\n\t}\r\n\r\nFor the front end I&#39;m using Angular, here is the service method:\r\n\r\n    getCartItemsByUser(user: User) {\r\n    return this.http.get&lt;CartItem[]&gt;(`${this.baseUrl}/cart/get-items`);\r\n    }\r\n\r\nThis is the ngOnInit() method:\r\n\r\n    this.cartItemService.getCartItemsByUser(this.user).subscribe({\r\n      next:(res) =&gt; this.cartItems = res\r\n    })\r\n\r\nThis is the ng CartItem class:\r\n\r\n    export class CartItem {\r\n\r\n    cId!: number;\r\n    user: User;\r\n    product: Product;\r\n    quantity: number = 1;\r\n    \r\n\r\n    constructor(user: User,product: Product) {\r\n        this.user = user;\r\n        this.product = product;\r\n    }\r\n\r\nI&#39;m sure there are some fatal flaws in the code. It&#39;d be great if someone can point it out.\r\n","title":"Retrieve a list of cart items by passing in a user","body":"<p>A typical shopping cart problem. The CartItem class is being injected with a User class and Product class. I already have a user, and I need to pass in the user to return a list of cart items. But the front end failed to receive it. The browser console returned 400, and Postman returned 405 for the back end.</p>\n<p>In the back end the Spring Boot entity classes, getters and setters and constructors are not shown here.</p>\n<p>This is the CartItem class:</p>\n<pre><code>@Entity\n@Table(name = &quot;cartItems&quot;)\npublic class CartItem {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n@ManyToOne\n@JoinColumn(name = &quot;pId&quot;)\nprivate Product product;\n\n@ManyToOne\n@JoinColumn(name = &quot;uId&quot;)\nprivate User user;\n\nprivate int quantity;\n</code></pre>\n<p>This is the Product class:</p>\n<pre><code>@Entity\n@Table(name = &quot;products&quot;)\npublic class Product {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\nprivate String name;\nprivate Integer price;\n</code></pre>\n<p>This is the User class:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\nprivate String firstName;\nprivate String lastName;\n</code></pre>\n<p>This is the customized repository method:</p>\n<pre><code>List&lt;CartItem&gt; getByUser(User user);\n</code></pre>\n<p>This is the service method:</p>\n<pre><code>public List&lt;CartItem&gt; getCartItemsByUser(User user) {\n    return repo.getByUser(user);\n}\n</code></pre>\n<p>The is the controller method:</p>\n<pre><code>@GetMapping(&quot;/cart/get-items&quot;)\npublic List&lt;CartItem&gt; getCartItemByUser(@RequestBody User user) {\n    return service.getCartItemsByUser(user);    \n}\n</code></pre>\n<p>For the front end I'm using Angular, here is the service method:</p>\n<pre><code>getCartItemsByUser(user: User) {\nreturn this.http.get&lt;CartItem[]&gt;(`${this.baseUrl}/cart/get-items`);\n}\n</code></pre>\n<p>This is the ngOnInit() method:</p>\n<pre><code>this.cartItemService.getCartItemsByUser(this.user).subscribe({\n  next:(res) =&gt; this.cartItems = res\n})\n</code></pre>\n<p>This is the ng CartItem class:</p>\n<pre><code>export class CartItem {\n\ncId!: number;\nuser: User;\nproduct: Product;\nquantity: number = 1;\n\n\nconstructor(user: User,product: Product) {\n    this.user = user;\n    this.product = product;\n}\n</code></pre>\n<p>I'm sure there are some fatal flaws in the code. It'd be great if someone can point it out.</p>\n"},{"tags":["java","docker","jenkins","docker-compose","continuous-integration"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664101809,"post_id":73843750,"comment_id":130390171,"body_markdown":"Is docker installed in the environment where you call it? Is it available in PATH?","body":"Is docker installed in the environment where you call it? Is it available in PATH?"},{"owner":{"account_id":25687980,"reputation":3,"user_id":19449773,"display_name":"Kirill_Yudaev"},"score":0,"creation_date":1664102057,"post_id":73843750,"comment_id":130390217,"body_markdown":"@knittl , no, I didn&#39;t install docker on Jenkins. How will it install there?","body":"@knittl , no, I didn&#39;t install docker on Jenkins. How will it install there?"}],"owner":{"account_id":25687980,"reputation":3,"user_id":19449773,"display_name":"Kirill_Yudaev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664103191,"answer_count":0,"score":0,"last_activity_date":1664101793,"creation_date":1664101578,"question_id":73843750,"body_markdown":"I faced a problem, I made my simple pipeline: &quot;build&quot; and &quot;compose up&quot;. Stage 1 works, but the second doesn&#39;t, referring to the fact that the the docker commands inside jenkins are absent. I didn&#39;t install Jenkins locally, only run as a container. To sum up,  I&#39;ve got an error. **docker compose up\r\n/var/jenkins_home/workspace/myPipeline@tmp/durable-8e128f98/script.sh: 1: docker: not found** . \r\nDocker plugin on jenkins doesn&#39;t help. docker-compose up doesn&#39;t work on Jenkins as well. Please help how to make this work.\r\n\r\n\r\n\r\n    Docker-compose file\r\n    version: &#39;3&#39;\r\n        services:\r\n          jenkins:\r\n            image: jenkins/jenkins:lts\r\n            restart: always\r\n            privileged: true\r\n            user: root\r\n            ports:\r\n              - 8080:8080\r\n              - 50000:50000\r\n            container_name: jenkins\r\n            volumes:\r\n              - /home/ubuntu/jenkins_compose/jenkins_configuration:/var/jenkins_home\r\n              - /var/run/docker.sock:/var/run/docker.sock\r\n\r\n                    \r\n\r\n\r\n    **My pipeline**\r\n        pipeline {\r\n            agent any\r\n            triggers {\r\n                pollSCM &#39;* * * * *&#39;\r\n            }\r\n            stages {\r\n                stage(&#39;Build&#39;) {\r\n                    steps {\r\n                        sh &#39;./gradlew assemble&#39;\r\n                    }\r\n                }\r\n                stage(&#39;Run Docker Images&#39;) {\r\n                    steps {\r\n                        sh &#39;docker compose up&#39;\r\n                    }\r\n                }\r\n            }\r\n        }","title":"script.sh: 1: docker: not found, jenkins not seeing docker commands","body":"<p>I faced a problem, I made my simple pipeline: &quot;build&quot; and &quot;compose up&quot;. Stage 1 works, but the second doesn't, referring to the fact that the the docker commands inside jenkins are absent. I didn't install Jenkins locally, only run as a container. To sum up,  I've got an error. <strong>docker compose up\n/var/jenkins_home/workspace/myPipeline@tmp/durable-8e128f98/script.sh: 1: docker: not found</strong> .\nDocker plugin on jenkins doesn't help. docker-compose up doesn't work on Jenkins as well. Please help how to make this work.</p>\n<pre><code>Docker-compose file\nversion: '3'\n    services:\n      jenkins:\n        image: jenkins/jenkins:lts\n        restart: always\n        privileged: true\n        user: root\n        ports:\n          - 8080:8080\n          - 50000:50000\n        container_name: jenkins\n        volumes:\n          - /home/ubuntu/jenkins_compose/jenkins_configuration:/var/jenkins_home\n          - /var/run/docker.sock:/var/run/docker.sock\n\n                \n\n\n**My pipeline**\n    pipeline {\n        agent any\n        triggers {\n            pollSCM '* * * * *'\n        }\n        stages {\n            stage('Build') {\n                steps {\n                    sh './gradlew assemble'\n                }\n            }\n            stage('Run Docker Images') {\n                steps {\n                    sh 'docker compose up'\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","loops","file"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1663945416,"post_id":73829634,"comment_id":130366107,"body_markdown":"Not really, but you can save all lines into a collection - list, array, set, whatever is needed.","body":"Not really, but you can save all lines into a collection - list, array, set, whatever is needed."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1663945422,"post_id":73829634,"comment_id":130366109,"body_markdown":"Sounds like a job for an array.","body":"Sounds like a job for an array."},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":1,"creation_date":1663945427,"post_id":73829634,"comment_id":130366111,"body_markdown":"can you clarify? you have several files as an input? do each file only have one line of integers? Are you trying to copy every lines into another file?","body":"can you clarify? you have several files as an input? do each file only have one line of integers? Are you trying to copy every lines into another file?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663950081,"post_id":73829634,"comment_id":130367853,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":22331269,"reputation":29,"user_id":16552518,"display_name":"Simon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664101359,"creation_date":1663948766,"answer_id":73830331,"question_id":73829634,"body_markdown":"Assuming you just want to take a line and copy it into another file, here you go: [Reading the file as long as there are lines][1] and just change `System.out.println(line);` (line 16) to [create and write to the file][2] (and there just add an incrementing index (like `index++` executed at the end of &quot;while&quot;) to the filename and pass &quot;line&quot; to the write function).\r\n\r\nThe only thing that is **important: close the BufferedReader and the FileWriter!!**\r\n\r\n\r\n\r\nSomething like this:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    \r\n    public class ReadFileLineByLineUsingBufferedReader {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tBufferedReader reader;\r\n    \t\ttry {\r\n    \t\t\treader = new BufferedReader(new FileReader(&quot;/path/to/file.txt&quot;));\r\n    \t\t\tString line = reader.readLine();\r\n                int index = 0;\r\n    \t\t\twhile (line != null) {\r\n    \t\t\t\tcreateFile(index);\r\n                    writeToFile(line, index);\r\n                    index++;\r\n    \t\t\t\t// read next line\r\n    \t\t\t\tline = reader.readLine();\r\n    \t\t\t}\r\n    \t\t\treader.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    public void CreateFile (int index) {\r\n      try {\r\n        File myObj = new File(&quot;filename&quot; + index + &quot;.txt&quot;);\r\n      } catch (IOException e) {\r\n        System.out.println(&quot;An error occurred.&quot;);\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n\r\n    public void WriteToFile (String content, int index) {\r\n      try {\r\n        FileWriter myWriter = new FileWriter(&quot;filename&quot; + index + &quot;.txt&quot;);\r\n        myWriter.write(content);\r\n        myWriter.close();\r\n      } catch (IOException e) {\r\n        System.out.println(&quot;An error occurred.&quot;);\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/java-read-file-line-by-line\r\n  [2]: https://www.w3schools.com/java/java_files_create.asp","title":"Reading a file and saving each line into a variable","body":"<p>Assuming you just want to take a line and copy it into another file, here you go: <a href=\"https://www.digitalocean.com/community/tutorials/java-read-file-line-by-line\" rel=\"nofollow noreferrer\">Reading the file as long as there are lines</a> and just change <code>System.out.println(line);</code> (line 16) to <a href=\"https://www.w3schools.com/java/java_files_create.asp\" rel=\"nofollow noreferrer\">create and write to the file</a> (and there just add an incrementing index (like <code>index++</code> executed at the end of &quot;while&quot;) to the filename and pass &quot;line&quot; to the write function).</p>\n<p>The only thing that is <strong>important: close the BufferedReader and the FileWriter!!</strong></p>\n<p>Something like this:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class ReadFileLineByLineUsingBufferedReader {\n    public static void main(String[] args) {\n        BufferedReader reader;\n        try {\n            reader = new BufferedReader(new FileReader(&quot;/path/to/file.txt&quot;));\n            String line = reader.readLine();\n            int index = 0;\n            while (line != null) {\n                createFile(index);\n                writeToFile(line, index);\n                index++;\n                // read next line\n                line = reader.readLine();\n            }\n            reader.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\npublic void CreateFile (int index) {\n  try {\n    File myObj = new File(&quot;filename&quot; + index + &quot;.txt&quot;);\n  } catch (IOException e) {\n    System.out.println(&quot;An error occurred.&quot;);\n    e.printStackTrace();\n  }\n}\n\npublic void WriteToFile (String content, int index) {\n  try {\n    FileWriter myWriter = new FileWriter(&quot;filename&quot; + index + &quot;.txt&quot;);\n    myWriter.write(content);\n    myWriter.close();\n  } catch (IOException e) {\n    System.out.println(&quot;An error occurred.&quot;);\n    e.printStackTrace();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663950566,"creation_date":1663950566,"answer_id":73830628,"question_id":73829634,"body_markdown":"Create a Collection to capture your values.  We can use a List so we maintain the input order.\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\r\nCreate a mechanism for reading from the file.  A common option is a Scanner.  The Scanner is Autoclosable so we&#39;ll put it in a try-with-resources block so we don&#39;t have to close it ourselves.\r\n\r\n    try (Scanner scanner = new Scanner(new File(fileName))) {\r\n      ... do stuff ...\r\n    }\r\n\r\nWhile the Scanner has values, read a value and add it to the List.\r\n\r\n    while (scanner.hasNextInt()) {\r\n      list.add(scanner.nextInt());\r\n    }\r\n\r\nIn sum...\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    try (Scanner scanner = new Scanner(yourFileName)) {\r\n      while (scanner.hasNextInt()) {\r\n        list.add(scanner.nextInt());\r\n      }\r\n    }","title":"Reading a file and saving each line into a variable","body":"<p>Create a Collection to capture your values.  We can use a List so we maintain the input order.</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Create a mechanism for reading from the file.  A common option is a Scanner.  The Scanner is Autoclosable so we'll put it in a try-with-resources block so we don't have to close it ourselves.</p>\n<pre><code>try (Scanner scanner = new Scanner(new File(fileName))) {\n  ... do stuff ...\n}\n</code></pre>\n<p>While the Scanner has values, read a value and add it to the List.</p>\n<pre><code>while (scanner.hasNextInt()) {\n  list.add(scanner.nextInt());\n}\n</code></pre>\n<p>In sum...</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\ntry (Scanner scanner = new Scanner(yourFileName)) {\n  while (scanner.hasNextInt()) {\n    list.add(scanner.nextInt());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26423977,"reputation":3,"user_id":20071243,"display_name":"aaron908"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73830628,"answer_count":2,"score":-3,"last_activity_date":1664101359,"creation_date":1663945019,"question_id":73829634,"body_markdown":"For a project of mine, I&#39;m trying to read a file of Integers and save each line into a file. Each of the files I&#39;m reading have a different amount of lines. \r\n\r\nThe file would look like\r\n\r\n&gt; 17\\\r\n&gt; 72\\\r\n&gt; 61\\\r\n&gt; 11\\\r\n&gt; 63\\\r\n&gt; 95\\\r\n&gt; 100\r\n\r\n\r\nIs there a way I can use a loop and save the value in a different variable for each line?","title":"Reading a file and saving each line into a variable","body":"<p>For a project of mine, I'm trying to read a file of Integers and save each line into a file. Each of the files I'm reading have a different amount of lines.</p>\n<p>The file would look like</p>\n<blockquote>\n<p>17<br />\n72<br />\n61<br />\n11<br />\n63<br />\n95<br />\n100</p>\n</blockquote>\n<p>Is there a way I can use a loop and save the value in a different variable for each line?</p>\n"},{"tags":["java","sql","caching","ignite"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":1,"creation_date":1663848610,"post_id":73814291,"comment_id":130338750,"body_markdown":"your code will replace ? with &#39;123,223,224,225&#39; as complete string and will so not find a match.","body":"your code will replace ? with &#39;123,223,224,225&#39; as complete string and will so not find a match."}],"answers":[{"tags":[],"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664101087,"creation_date":1664101087,"answer_id":73843707,"question_id":73814291,"body_markdown":"`SqlFieldsQuery` in Apache Ignite works more or less like a prepared statement. It looks like you are missing the part that there&#39;s only one placeholder in your query (that&#39;s why a single argument works). You need it to match with the argument array size. \r\n\r\nIn general a pretty similar question has already been answered [here][1].  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives/10240302#10240302","title":"Apache Ignite IN query with parameters returns no results","body":"<p><code>SqlFieldsQuery</code> in Apache Ignite works more or less like a prepared statement. It looks like you are missing the part that there's only one placeholder in your query (that's why a single argument works). You need it to match with the argument array size.</p>\n<p>In general a pretty similar question has already been answered <a href=\"https://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives/10240302#10240302\">here</a>.</p>\n"}],"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664101087,"creation_date":1663848060,"question_id":73814291,"body_markdown":"I am trying to run a query on Ignite cluster which has IN clause. It is as below.\r\n\r\n`SELECT _key,_val FROM ORDER_ERRORS WHERE ORDER_TYPES in (?) AND STATUS=&#39;OPEN&#39; limit ? offset ?`\r\n\r\nI am writing query code as below.\r\n\r\n    public List&lt;OrderError&gt; getOpenErrors(List&lt;String&gt; orderTypes, int offset, int limit) {\r\n        SqlFieldsQuery sqlFieldsQuery = new SqlFieldsQuery(FIND_REC_QUERY);\r\n        sqlFieldsQuery.setArgs(orderTypes.toArray(), limit, offset);\r\n        FieldsQueryCursor&lt;List&lt;?&gt;&gt; res = orderErrorsCache.query(sql);\r\n\r\nThis returns me 0 records. Now when I remove either orderTypes or limit and offset from that query. It returns me some records. But a combination of all 3 gives me nothing. Surprisingly I have a query before this, from which I obtain number of records for pagination. That query runs fine. Which is like below. \r\n\r\n`SELECT count(1) FROM ORDER_ERRORS WHERE ORDER_TYPES in (?) and STATUS=&#39;OPEN&#39;`\r\n\r\nNow here there&#39;s a single parameter. And I run this query as below, and this works!\r\n\r\n    SqlFieldsQuery sqlFieldsQuery = new SqlFieldsQuery(TOTAL_REC_QUERY);\r\n    sqlFieldsQuery.setArgs(orderTypes.toArray());\r\n    logger.info(&quot;Finding record set size: {}&quot;, sqlFieldsQuery);\r\n    FieldsQueryCursor&lt;List&lt;?&gt;&gt; res = orderErrorsCache.query(sqlFieldsQuery);\r\n\r\nWhat is going on here? What am I missing? Or is there something amiss with Ignite itself? Please help.\r\n\r\nIgnite version: 2.9.0\r\n\r\n","title":"Apache Ignite IN query with parameters returns no results","body":"<p>I am trying to run a query on Ignite cluster which has IN clause. It is as below.</p>\n<p><code>SELECT _key,_val FROM ORDER_ERRORS WHERE ORDER_TYPES in (?) AND STATUS='OPEN' limit ? offset ?</code></p>\n<p>I am writing query code as below.</p>\n<pre><code>public List&lt;OrderError&gt; getOpenErrors(List&lt;String&gt; orderTypes, int offset, int limit) {\n    SqlFieldsQuery sqlFieldsQuery = new SqlFieldsQuery(FIND_REC_QUERY);\n    sqlFieldsQuery.setArgs(orderTypes.toArray(), limit, offset);\n    FieldsQueryCursor&lt;List&lt;?&gt;&gt; res = orderErrorsCache.query(sql);\n</code></pre>\n<p>This returns me 0 records. Now when I remove either orderTypes or limit and offset from that query. It returns me some records. But a combination of all 3 gives me nothing. Surprisingly I have a query before this, from which I obtain number of records for pagination. That query runs fine. Which is like below.</p>\n<p><code>SELECT count(1) FROM ORDER_ERRORS WHERE ORDER_TYPES in (?) and STATUS='OPEN'</code></p>\n<p>Now here there's a single parameter. And I run this query as below, and this works!</p>\n<pre><code>SqlFieldsQuery sqlFieldsQuery = new SqlFieldsQuery(TOTAL_REC_QUERY);\nsqlFieldsQuery.setArgs(orderTypes.toArray());\nlogger.info(&quot;Finding record set size: {}&quot;, sqlFieldsQuery);\nFieldsQueryCursor&lt;List&lt;?&gt;&gt; res = orderErrorsCache.query(sqlFieldsQuery);\n</code></pre>\n<p>What is going on here? What am I missing? Or is there something amiss with Ignite itself? Please help.</p>\n<p>Ignite version: 2.9.0</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663659776,"post_id":73780742,"comment_id":130285868,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."},{"owner":{"account_id":19123323,"reputation":11,"user_id":13966816,"display_name":"Houssem Neuer"},"score":0,"creation_date":1663805284,"post_id":73780742,"comment_id":130328044,"body_markdown":"Crash in my situation mean that the app is blocked for seconds","body":"Crash in my situation mean that the app is blocked for seconds"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663829204,"post_id":73780742,"comment_id":130331911,"body_markdown":"And what happens after those seconds?","body":"And what happens after those seconds?"},{"owner":{"account_id":19123323,"reputation":11,"user_id":13966816,"display_name":"Houssem Neuer"},"score":0,"creation_date":1663890132,"post_id":73780742,"comment_id":130351840,"body_markdown":"The app work fine .","body":"The app work fine ."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663916578,"post_id":73780742,"comment_id":130355999,"body_markdown":"How many children exist under `Orders/City`?","body":"How many children exist under <code>Orders&#47;City</code>?"},{"owner":{"account_id":19123323,"reputation":11,"user_id":13966816,"display_name":"Houssem Neuer"},"score":0,"creation_date":1664029354,"post_id":73780742,"comment_id":130380326,"body_markdown":"+1000 child ...","body":"+1000 child ..."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664100584,"creation_date":1664100584,"answer_id":73843657,"question_id":73780742,"body_markdown":"&gt; The app will crash.\r\n\r\nIt&#39;s the expected behavior since reading 1000+ nodes at once can be considered a lot of data, that most likely doesn&#39;t fit into the memory. Besides that, I see that you&#39;re looping through the children three times. This means that under `Orders/City` there are also other nodes present, this means even more data to read. In the Realtime Database, when you attach a listener to a particular location in the database, you read (download) that node along with all the children beneath it. In such cases, it&#39;s best to denormalize the data. This means that you should create another node that should contain only the data you are interested in a flat list of nodes. Besides that, it&#39;s best the limit the amount of data that you read by calling [Query#limitToFirst(int limit)][1] or [Query#limitToLast(int limit)][2] according to your needs. Besides that, it&#39;s also recommended to implement [pagination][3].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#limitToFirst(int)\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#limitToLast(int)\r\n  [3]: https://stackoverflow.com/search?q=Firebase%20Realtime%20Database%20Pagination%20Android","title":"App crash with GC When an object added to firebase - Android Studio","body":"<blockquote>\n<p>The app will crash.</p>\n</blockquote>\n<p>It's the expected behavior since reading 1000+ nodes at once can be considered a lot of data, that most likely doesn't fit into the memory. Besides that, I see that you're looping through the children three times. This means that under <code>Orders/City</code> there are also other nodes present, this means even more data to read. In the Realtime Database, when you attach a listener to a particular location in the database, you read (download) that node along with all the children beneath it. In such cases, it's best to denormalize the data. This means that you should create another node that should contain only the data you are interested in a flat list of nodes. Besides that, it's best the limit the amount of data that you read by calling <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#limitToFirst(int)\" rel=\"nofollow noreferrer\">Query#limitToFirst(int limit)</a> or <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#limitToLast(int)\" rel=\"nofollow noreferrer\">Query#limitToLast(int limit)</a> according to your needs. Besides that, it's also recommended to implement <a href=\"https://stackoverflow.com/search?q=Firebase%20Realtime%20Database%20Pagination%20Android\">pagination</a>.</p>\n"}],"owner":{"account_id":19123323,"reputation":11,"user_id":13966816,"display_name":"Houssem Neuer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73843657,"answer_count":1,"score":-1,"last_activity_date":1664100645,"creation_date":1663637168,"question_id":73780742,"body_markdown":"Hello I have an Android app\r\n\r\nwhen an update ( Insert new data in firebase or update an attribute ) is done in firebase the app will crash for 15-30 sec. \r\n\r\n\r\nwhen I checked the log, it show that&#39;s in that time the GC is working and it takes a lot of time to do his work so the app crashed a lot of time and on the phone, you can&#39;t do anything till GC finishes there work, I don&#39;t have so much data in my database also my application is not that bigger. \r\n\r\n\r\nYou can see the log here : \r\n\r\n```\r\nI/lhindeliveryma: Background concurrent copying GC freed 325485(8953KB) AllocSpace objects, 0(0B) LOS objects, 36% free, 10MB/16MB, paused 218us total 136.046ms\r\nW/Looper: Slow Looper main: Long Msg: seq=1424 plan=02:06:39.877  late=2ms wall=2060ms running=1848ms runnable=39ms io=29ms h=android.os.Handler c=com.google.firebase.database.core.view.EventRaiser$1\r\nI/lhindeliveryma: Background concurrent copying GC freed 373886(10MB) AllocSpace objects, 0(0B) LOS objects, 35% free, 11MB/17MB, paused 259us total 155.904ms\r\nI/lhindeliveryma: Background concurrent copying GC freed 501873(13MB) AllocSpace objects, 0(0B) LOS objects, 33% free, 11MB/17MB, paused 394us total 247.891ms\r\nI/lhindeliveryma: Background young concurrent copying GC freed 323701(8831KB) AllocSpace objects, 0(0B) LOS objects, 31% free, 12MB/17MB, paused 537us total 116.240ms\r\nI/lhindeliveryma: Background concurrent copying GC freed 567601(15MB) AllocSpace objects, 0(0B) LOS objects, 32% free, 12MB/18MB, paused 430us total 288.562ms\r\nI/lhindeliveryma: Background young concurrent copying GC freed 351662(9586KB) AllocSpace objects, 0(0B) LOS objects, 32% free, 12MB/18MB, paused 528us total 125.947ms\r\nW/Looper: Slow Looper main: Long Msg: seq=1425 plan=02:06:40.037  late=1902ms wall=1811ms running=1692ms runnable=2ms h=android.os.Handler c=com.google.firebase.database.core.view.EventRaiser$1\r\nI/Choreographer: Skipped 180 frames!  The application may be doing too much work on its main thread.\r\n```\r\n\r\nhere&#39;s what log is saying \r\n\r\n\r\nand this is my code how i receive data from firebase : \r\n\r\n```\r\n\r\n        FirebaseAuth mAuth;\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        FirebaseUser user = mAuth.getCurrentUser();\r\n\r\n\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n\r\n\r\n        EndLoop:\r\n        databaseReference = firebaseDatabase.getReference().child(&quot;Orders&quot;).child(City);\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n\r\n\r\n\r\n                You = new ArrayList&lt;&gt;();\r\n                Now = new ArrayList&lt;&gt;();\r\n\r\n\r\n                postAd = new OrderAD();\r\n\r\n                boolean stop = false;\r\n\r\n                for (DataSnapshot postsnap : dataSnapshot.getChildren()) {\r\n                    if(!stop)\r\n                    for (DataSnapshot postsnap1 : postsnap.getChildren()) {\r\n                        if(!stop)\r\n                        for (DataSnapshot postsnap2 : postsnap1.getChildren()) {\r\n                            if (!stop) {\r\n                                Order post = postsnap2.getValue(Order.class);\r\n\r\n                                if (!post.getStatus().equals(&quot;تم التوصيل&quot;) &amp;&amp; !post.getStatus().equals(&quot;تم الغاء الطلب&quot;)) {\r\n\r\n\r\n\r\n\r\n                                    if (post.getDeliveryUID().equals(user.getUid()))\r\n                                        You.add(post);\r\n                                    else {\r\n                                        if (post.getDeliveryUID().equals(&quot;&quot;)) {\r\n                                            Now.add(post);\r\n\r\n                                        }\r\n\r\n                                    }\r\n\r\n                                    if (!Offers.contains(post.getKey())) {\r\n                                        Offers.add(post.getKey());\r\n                                        if (Done) {\r\n                                            show_Notification(post);\r\n                                            You.clear();\r\n                                            Now.clear();\r\n                                            stop = true;\r\n                                            System.out.println(&quot;Hello&quot;);\r\n                                            break;\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n\r\n                                break;\r\n\r\n\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n                if(!Done){\r\n                    Done = true;\r\n                }\r\n\r\n\r\n\r\n                Collections.sort(Now);\r\n                Collections.sort(You);\r\n\r\n\r\n                postAd = new OrderAD(Offers.this, Now);\r\n                recyclerView.setAdapter(postAd);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n\r\n```\r\n\r\nany suggestion to solve this?","title":"App crash with GC When an object added to firebase - Android Studio","body":"<p>Hello I have an Android app</p>\n<p>when an update ( Insert new data in firebase or update an attribute ) is done in firebase the app will crash for 15-30 sec.</p>\n<p>when I checked the log, it show that's in that time the GC is working and it takes a lot of time to do his work so the app crashed a lot of time and on the phone, you can't do anything till GC finishes there work, I don't have so much data in my database also my application is not that bigger.</p>\n<p>You can see the log here :</p>\n<pre><code>I/lhindeliveryma: Background concurrent copying GC freed 325485(8953KB) AllocSpace objects, 0(0B) LOS objects, 36% free, 10MB/16MB, paused 218us total 136.046ms\nW/Looper: Slow Looper main: Long Msg: seq=1424 plan=02:06:39.877  late=2ms wall=2060ms running=1848ms runnable=39ms io=29ms h=android.os.Handler c=com.google.firebase.database.core.view.EventRaiser$1\nI/lhindeliveryma: Background concurrent copying GC freed 373886(10MB) AllocSpace objects, 0(0B) LOS objects, 35% free, 11MB/17MB, paused 259us total 155.904ms\nI/lhindeliveryma: Background concurrent copying GC freed 501873(13MB) AllocSpace objects, 0(0B) LOS objects, 33% free, 11MB/17MB, paused 394us total 247.891ms\nI/lhindeliveryma: Background young concurrent copying GC freed 323701(8831KB) AllocSpace objects, 0(0B) LOS objects, 31% free, 12MB/17MB, paused 537us total 116.240ms\nI/lhindeliveryma: Background concurrent copying GC freed 567601(15MB) AllocSpace objects, 0(0B) LOS objects, 32% free, 12MB/18MB, paused 430us total 288.562ms\nI/lhindeliveryma: Background young concurrent copying GC freed 351662(9586KB) AllocSpace objects, 0(0B) LOS objects, 32% free, 12MB/18MB, paused 528us total 125.947ms\nW/Looper: Slow Looper main: Long Msg: seq=1425 plan=02:06:40.037  late=1902ms wall=1811ms running=1692ms runnable=2ms h=android.os.Handler c=com.google.firebase.database.core.view.EventRaiser$1\nI/Choreographer: Skipped 180 frames!  The application may be doing too much work on its main thread.\n</code></pre>\n<p>here's what log is saying</p>\n<p>and this is my code how i receive data from firebase :</p>\n<pre><code>\n        FirebaseAuth mAuth;\n        mAuth = FirebaseAuth.getInstance();\n\n        FirebaseUser user = mAuth.getCurrentUser();\n\n\n        firebaseDatabase = FirebaseDatabase.getInstance();\n\n\n        EndLoop:\n        databaseReference = firebaseDatabase.getReference().child(&quot;Orders&quot;).child(City);\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n\n\n\n                You = new ArrayList&lt;&gt;();\n                Now = new ArrayList&lt;&gt;();\n\n\n                postAd = new OrderAD();\n\n                boolean stop = false;\n\n                for (DataSnapshot postsnap : dataSnapshot.getChildren()) {\n                    if(!stop)\n                    for (DataSnapshot postsnap1 : postsnap.getChildren()) {\n                        if(!stop)\n                        for (DataSnapshot postsnap2 : postsnap1.getChildren()) {\n                            if (!stop) {\n                                Order post = postsnap2.getValue(Order.class);\n\n                                if (!post.getStatus().equals(&quot;تم التوصيل&quot;) &amp;&amp; !post.getStatus().equals(&quot;تم الغاء الطلب&quot;)) {\n\n\n\n\n                                    if (post.getDeliveryUID().equals(user.getUid()))\n                                        You.add(post);\n                                    else {\n                                        if (post.getDeliveryUID().equals(&quot;&quot;)) {\n                                            Now.add(post);\n\n                                        }\n\n                                    }\n\n                                    if (!Offers.contains(post.getKey())) {\n                                        Offers.add(post.getKey());\n                                        if (Done) {\n                                            show_Notification(post);\n                                            You.clear();\n                                            Now.clear();\n                                            stop = true;\n                                            System.out.println(&quot;Hello&quot;);\n                                            break;\n                                        }\n                                    }\n\n                                }\n\n                                break;\n\n\n                            }\n                        }\n\n                    }\n                }\n\n                if(!Done){\n                    Done = true;\n                }\n\n\n\n                Collections.sort(Now);\n                Collections.sort(You);\n\n\n                postAd = new OrderAD(Offers.this, Now);\n                recyclerView.setAdapter(postAd);\n\n\n\n\n\n\n\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n            }\n        });\n\n</code></pre>\n<p>any suggestion to solve this?</p>\n"},{"tags":["java","image","random","insert"],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664100505,"creation_date":1664100505,"answer_id":73843653,"question_id":73842005,"body_markdown":"Basically, the questions are contained within a 2D String Array (`String[][] questions;`). Even though the answers are integer values, keep the array as String anyways just to keep things simple. This data would be better if it were in a file and the Array is filled by reading that file rather than hard coded. This is only done as a quick demo.\r\n\r\nOnce you have your 2D String[][] Array filled with question data, take each internal String[] Array and add an additional element to the end of **all** of them. This additional element should contain the path and file name to the image you want related to that particular question, for example:\r\n\r\n```\r\n{&quot;What does HTML stand for?&quot;,\r\n &quot;Hyperlinks and Text Markup Language&quot;,\r\n &quot;Hyper Text Markup Language&quot;,\r\n &quot;Hyper Text Making Language&quot;,\r\n &quot;Hyper Text Mark Language&quot;,\r\n &quot;1&quot;,\r\n &quot;C:/QuizImages/Quiz_1/WhatIsHTML.png&quot;\r\n},\r\n```\r\n\r\nOnce this is done and you have all your images contained within the local file system directory specified within that path you placed as the last element for each internal String[] array (remember...in Java, a 2D array is an Array of Arrays), you can now start asking the questions...randomly.\r\n\r\nBefore you start randomly asking the questions you need to consider ensuring that the  same question won&#39;t be asked twice throughout the quiz. Because the questions will be asked randomly, you will need to keep track of which questions were already asked and answered. To do this you can place the asked question number (questions array Index value) within an ArrayList or List of Integer:\r\n\r\n    List&lt;Integer&gt; alreadyAskedQuestions = new ArrayList&lt;&gt;();\r\n\r\nNow, we already know how many questions there are: `questions.length;`, you just need to pull out a random index value from **0** to `questions.length - 1;` using the [java.util.Random.nextInt()](https://www.tutorialspoint.com/java/util/random_nextint_inc_exc.htm) method ( - 1 on the length because array indexing starts from **0** not 1). If you use Random like this: `java.util.Random().nextInt(numOfQuestions);` it wont really matter since the value in `numOfQuestions` would be exclusive in the random value generation.\r\n\r\nThe runnable example code below demonstrates how this can be done as a Condole Application. Notice the image paths supplied within the 2D String Array. You will need to provide the proper paths and file names to your images. \r\n\r\nIn the runnable below, if the User gets an answer correct then a custom JOptionPane dialog is displayed showing the image related to the Question. When the dialog is closed, the next question is displayed in Console.\r\n\r\nRead the Comments in code:\r\n\r\n```\r\npublic class QuizWithImagesDemo {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        new QuizWithImagesDemo().startApp(args);\r\n    }\r\n\r\n    private void startApp(String[] args) {\r\n        /* 10 Questions in a 2D String Array (String[][]). \r\n           NOTE: This sort of thing is better read in from \r\n                 a file rather than hard coded like this. \r\n                 It is only done this way for Demo.    */\r\n        String[][] questions = {\r\n            {&quot;What does HTML stand for?&quot;,\r\n                &quot;Hyperlinks and Text Markup Language&quot;,\r\n                &quot;Hyper Text Markup Language&quot;,\r\n                &quot;Hyper Text Making Language&quot;,\r\n                &quot;Hyper Text Mark Language&quot;,\r\n                &quot;1&quot;,\r\n                &quot;D:/QuizImages/Quiz_2422/Image1.jpg&quot;},\r\n            {&quot;What does CSS stand for?&quot;,\r\n                &quot;Colorful StyleSheet&quot;,\r\n                &quot;Creative Style Sheet&quot;,\r\n                &quot;Cascading Style Sheet&quot;,\r\n                &quot;Computer Style Sheet&quot;,\r\n                &quot;2&quot;,\r\n                &quot;D:/QuizImages/Quiz_2422/Image2.jpg&quot;},\r\n            {&quot;Which HTML tag is used to define an internal style sheet?&quot;,\r\n                &quot;&lt;script&gt;&quot;,\r\n                &quot;&lt;style&gt;&quot;,\r\n                &quot;&lt;html&gt;&quot;,\r\n                &quot;&lt;svg&gt;&quot;,\r\n                &quot;1&quot;,\r\n                &quot;D:/QuizImages/Quiz_2422/Image3.jpg&quot;},\r\n            {&quot;Which is the correct CSS syntax?&quot;,\r\n                &quot;body{color:black}&quot;,\r\n                &quot;{body{color:black}&quot;,\r\n                &quot;body={color:black}&quot;,\r\n                &quot;body:color{black}&quot;,\r\n                &quot;0&quot;,\r\n                &quot;D:/QuizImages/Quiz_2422/Image4.jpg&quot;},\r\n            {&quot;How do you insert a comment in a CSS file?&quot;,\r\n                &quot;/*This is Comment*/&quot;,\r\n                &quot;//This Is Comment&quot;,\r\n                &quot;&lt;!--- This Is Comment ---&gt;&quot;,\r\n                &quot;//This Is Comment//&quot;,\r\n                &quot;1&quot;,\r\n                &quot;D:/QuizImages/Quiz_2422/Image5.jpg&quot;},\r\n            {&quot;How do you insert a comment in a HTML file?&quot;,\r\n                &quot;/*This is Comment*/&quot;,\r\n                &quot;//This Is Comment&quot;,\r\n                &quot;&lt;!--- This Is Comment ---&gt;&quot;,\r\n                &quot;//This Is Comment//&quot;,\r\n                &quot;2&quot;,\r\n                &quot;D:/QuizImages/Quiz_2422/Image6.jpg&quot;},\r\n            {&quot;Which property is used to change the background color?&quot;,\r\n                &quot;backgroundColor&quot;,\r\n                &quot;BgColor&quot;,\r\n                &quot;Color-Background&quot;,\r\n                &quot;background&quot;,\r\n                &quot;3&quot;,\r\n                &quot;D:/QuizImages/Quiz_2422/Image7.jpg&quot;},\r\n            {&quot;How to write an IF statement in JavaScript?&quot;,\r\n                &quot;if i==5&quot;,\r\n                &quot;if(i==5)&quot;,\r\n                &quot;if(i==5)then&quot;,\r\n                &quot;if i==5 then&quot;,\r\n                &quot;2&quot;,\r\n                &quot;D:/QuizImages/Quiz_2422/Image8.jpg&quot;},\r\n            {&quot;Inside which HTML element do we put the JavaScript?&quot;,\r\n                &quot;xxxx&quot;,\r\n                &quot;xxxxxxx&quot;,\r\n                &quot;xxxxxxxxxx&quot;,\r\n                &quot;xxxxxxxxxxxxxx&quot;,\r\n                &quot;2&quot;,\r\n                &quot;D:/QuizImages/Quiz_2422/Image9.jpg&quot;},\r\n            {&quot;How does a WHILE loop start?&quot;,\r\n                &quot;while(i &lt;= 0)&quot;,\r\n                &quot;while(i &lt;= 0 i++)&quot;,\r\n                &quot;while i &lt;= 0&quot;,\r\n                &quot;while (i++ i &lt;= 0)&quot;,\r\n                &quot;0&quot;,\r\n                &quot;D:/QuizImages/Quiz_2422/Image10.jpg&quot;}};\r\n\r\n        java.util.Scanner userInput = new java.util.Scanner(System.in);\r\n        int numOfQuestions = questions.length;\r\n        String theQuestion = &quot;Unknown&quot;;\r\n        String[] choices = new String[4];\r\n        String answer = &quot;&quot;;\r\n        String imagePath = &quot;&quot;;\r\n        java.util.List&lt;Integer&gt; alreadyAskedQuestions = new java.util.ArrayList&lt;&gt;();\r\n        \r\n        int questCount = 0;\r\n        int score = 0;\r\n        while (questCount != numOfQuestions) {\r\n            /* Get a Random Question Number then check \r\n               to make sure it hasn&#39;t been asked already. \r\n               If it hasn&#39;t then add it to the list.   */\r\n            boolean isUnique = false;\r\n            int rndQuestNum = -1;\r\n            while (!isUnique) {\r\n                rndQuestNum = new java.util.Random().nextInt(numOfQuestions);\r\n                if (!alreadyAskedQuestions.contains(rndQuestNum)) {\r\n                    isUnique = true;\r\n                    alreadyAskedQuestions.add(rndQuestNum);\r\n                }\r\n            }\r\n            \r\n            // Acquire the data from the randomly selected question...\r\n            for (int i = 0; i &lt; questions[rndQuestNum].length; i++) {\r\n                theQuestion = questions[rndQuestNum][0];\r\n                choices[0] = questions[rndQuestNum][1];\r\n                choices[1] = questions[rndQuestNum][2];\r\n                choices[2] = questions[rndQuestNum][3];\r\n                choices[3] = questions[rndQuestNum][4];\r\n                answer = questions[rndQuestNum][5];\r\n                imagePath = questions[rndQuestNum][6];\r\n            }\r\n            \r\n            // Ask the Question and get the answer...\r\n            String ans = &quot;&quot;;\r\n            while (ans.isEmpty()) {\r\n                // Print the question to Console Window...\r\n                String title = &quot;Question &quot; + (questCount + 1) + &quot; of &quot; + numOfQuestions + &quot;:&quot;;\r\n                System.out.println(title);\r\n                String underline = String.join(&quot;&quot;, java.util.Collections.nCopies(title.length(), &quot;-&quot;));\r\n                System.out.println(underline);\r\n                \r\n                System.out.println(theQuestion);\r\n                for (int c = 0; c &lt; choices.length; c++) {\r\n                    System.out.println(&quot;  &quot; + (c + 1) + &quot;) &quot; + choices[c]);\r\n                }\r\n                System.out.print(&quot;your Choice? -&gt; &quot;);\r\n                ans = userInput.nextLine().trim();  // Get user input.\r\n                \r\n                // If &#39;q&#39; was entered then quit.\r\n                if (ans.equalsIgnoreCase(&quot;q&quot;)) {\r\n                    return;\r\n                }\r\n                // Validate entry. 0 - 4 can only be supplied!\r\n                if (!ans.matches(&quot;[01234]&quot;)) {\r\n                    System.out.println(&quot;Invalid Entry! (&quot; + ans + &quot;) - Try again...&quot;);\r\n                    System.out.println();\r\n                    ans = &quot;&quot;;\r\n                }\r\n            }\r\n            \r\n            // Is the answer right or wrong?\r\n            if (ans.equals(answer)) {\r\n                System.out.println(&quot;CORRECT ANSWER!&quot;);\r\n                \r\n                score++;  // add 1 to score if correct.\r\n                \r\n                /* Show the related image to Question if the \r\n                   answer is correct.  */\r\n                showImageInDialog(imagePath);\r\n            }\r\n            else {\r\n                System.out.println(&quot;WRONG ANSWER!&quot;);\r\n            }\r\n            \r\n            questCount++; // increment question counter.\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n    private void showImageInDialog(String imagePath) {\r\n        // Create a parent to dialog can hide behind other applications.\r\n        javax.swing.JDialog parent = new javax.swing.JDialog();\r\n        parent.setTitle(&quot;Quiz Question Image&quot;);\r\n        parent.setAlwaysOnTop(true);\r\n        parent.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);\r\n        parent.setLocationRelativeTo(null);\r\n        \r\n        // Creat a custom panel for JOPtionPane\r\n        javax.swing.JPanel jp = new javax.swing.JPanel();\r\n        \r\n        // Set a desired Layout\r\n        jp.setLayout(new java.awt.GridLayout(1,1));\r\n        \r\n        // Set the desired size of custom Panel in JOptionPane.\r\n        jp.setPreferredSize(new java.awt.Dimension(400, 300));\r\n        \r\n        // Create a JLabel to place the image in\r\n        javax.swing.JLabel label = new javax.swing.JLabel();\r\n        \r\n        // Place a 2 pixel line border around JLabel.\r\n        label.setBorder(javax.swing.BorderFactory.createLineBorder(java.awt.Color.BLACK, 2));\r\n        // Make sure the JLabel is Opaque\r\n        label.setOpaque(true);\r\n        \r\n        // Add the JLabel to the JPanel.\r\n        jp.add(label);\r\n        \r\n        // Ensure the Image is sized to fit in JLabel\r\n        javax.swing.ImageIcon icon = new javax.swing.ImageIcon(imagePath);\r\n        java.awt.Image img = icon.getImage();\r\n        java.awt.Image resizedImage = img.getScaledInstance(400, 300, java.awt.Image.SCALE_SMOOTH);\r\n        // Place the resized image into JLabel.\r\n        label.setIcon(new javax.swing.ImageIcon(resizedImage));\r\n        \r\n        // Display the JOptionPane Message Dialog Box.\r\n        javax.swing.JOptionPane.showMessageDialog(parent, jp, &quot;Related Image&quot;, \r\n                                    javax.swing.JOptionPane.PLAIN_MESSAGE);\r\n        parent.dispose();\r\n    }\r\n    \r\n}\r\n``` ","title":"how to randomize and insert question with picture","body":"<p>Basically, the questions are contained within a 2D String Array (<code>String[][] questions;</code>). Even though the answers are integer values, keep the array as String anyways just to keep things simple. This data would be better if it were in a file and the Array is filled by reading that file rather than hard coded. This is only done as a quick demo.</p>\n<p>Once you have your 2D String[][] Array filled with question data, take each internal String[] Array and add an additional element to the end of <strong>all</strong> of them. This additional element should contain the path and file name to the image you want related to that particular question, for example:</p>\n<pre><code>{&quot;What does HTML stand for?&quot;,\n &quot;Hyperlinks and Text Markup Language&quot;,\n &quot;Hyper Text Markup Language&quot;,\n &quot;Hyper Text Making Language&quot;,\n &quot;Hyper Text Mark Language&quot;,\n &quot;1&quot;,\n &quot;C:/QuizImages/Quiz_1/WhatIsHTML.png&quot;\n},\n</code></pre>\n<p>Once this is done and you have all your images contained within the local file system directory specified within that path you placed as the last element for each internal String[] array (remember...in Java, a 2D array is an Array of Arrays), you can now start asking the questions...randomly.</p>\n<p>Before you start randomly asking the questions you need to consider ensuring that the  same question won't be asked twice throughout the quiz. Because the questions will be asked randomly, you will need to keep track of which questions were already asked and answered. To do this you can place the asked question number (questions array Index value) within an ArrayList or List of Integer:</p>\n<pre><code>List&lt;Integer&gt; alreadyAskedQuestions = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Now, we already know how many questions there are: <code>questions.length;</code>, you just need to pull out a random index value from <strong>0</strong> to <code>questions.length - 1;</code> using the <a href=\"https://www.tutorialspoint.com/java/util/random_nextint_inc_exc.htm\" rel=\"nofollow noreferrer\">java.util.Random.nextInt()</a> method ( - 1 on the length because array indexing starts from <strong>0</strong> not 1). If you use Random like this: <code>java.util.Random().nextInt(numOfQuestions);</code> it wont really matter since the value in <code>numOfQuestions</code> would be exclusive in the random value generation.</p>\n<p>The runnable example code below demonstrates how this can be done as a Condole Application. Notice the image paths supplied within the 2D String Array. You will need to provide the proper paths and file names to your images.</p>\n<p>In the runnable below, if the User gets an answer correct then a custom JOptionPane dialog is displayed showing the image related to the Question. When the dialog is closed, the next question is displayed in Console.</p>\n<p>Read the Comments in code:</p>\n<pre><code>public class QuizWithImagesDemo {\n\n\n    public static void main(String[] args) {\n        new QuizWithImagesDemo().startApp(args);\n    }\n\n    private void startApp(String[] args) {\n        /* 10 Questions in a 2D String Array (String[][]). \n           NOTE: This sort of thing is better read in from \n                 a file rather than hard coded like this. \n                 It is only done this way for Demo.    */\n        String[][] questions = {\n            {&quot;What does HTML stand for?&quot;,\n                &quot;Hyperlinks and Text Markup Language&quot;,\n                &quot;Hyper Text Markup Language&quot;,\n                &quot;Hyper Text Making Language&quot;,\n                &quot;Hyper Text Mark Language&quot;,\n                &quot;1&quot;,\n                &quot;D:/QuizImages/Quiz_2422/Image1.jpg&quot;},\n            {&quot;What does CSS stand for?&quot;,\n                &quot;Colorful StyleSheet&quot;,\n                &quot;Creative Style Sheet&quot;,\n                &quot;Cascading Style Sheet&quot;,\n                &quot;Computer Style Sheet&quot;,\n                &quot;2&quot;,\n                &quot;D:/QuizImages/Quiz_2422/Image2.jpg&quot;},\n            {&quot;Which HTML tag is used to define an internal style sheet?&quot;,\n                &quot;&lt;script&gt;&quot;,\n                &quot;&lt;style&gt;&quot;,\n                &quot;&lt;html&gt;&quot;,\n                &quot;&lt;svg&gt;&quot;,\n                &quot;1&quot;,\n                &quot;D:/QuizImages/Quiz_2422/Image3.jpg&quot;},\n            {&quot;Which is the correct CSS syntax?&quot;,\n                &quot;body{color:black}&quot;,\n                &quot;{body{color:black}&quot;,\n                &quot;body={color:black}&quot;,\n                &quot;body:color{black}&quot;,\n                &quot;0&quot;,\n                &quot;D:/QuizImages/Quiz_2422/Image4.jpg&quot;},\n            {&quot;How do you insert a comment in a CSS file?&quot;,\n                &quot;/*This is Comment*/&quot;,\n                &quot;//This Is Comment&quot;,\n                &quot;&lt;!--- This Is Comment ---&gt;&quot;,\n                &quot;//This Is Comment//&quot;,\n                &quot;1&quot;,\n                &quot;D:/QuizImages/Quiz_2422/Image5.jpg&quot;},\n            {&quot;How do you insert a comment in a HTML file?&quot;,\n                &quot;/*This is Comment*/&quot;,\n                &quot;//This Is Comment&quot;,\n                &quot;&lt;!--- This Is Comment ---&gt;&quot;,\n                &quot;//This Is Comment//&quot;,\n                &quot;2&quot;,\n                &quot;D:/QuizImages/Quiz_2422/Image6.jpg&quot;},\n            {&quot;Which property is used to change the background color?&quot;,\n                &quot;backgroundColor&quot;,\n                &quot;BgColor&quot;,\n                &quot;Color-Background&quot;,\n                &quot;background&quot;,\n                &quot;3&quot;,\n                &quot;D:/QuizImages/Quiz_2422/Image7.jpg&quot;},\n            {&quot;How to write an IF statement in JavaScript?&quot;,\n                &quot;if i==5&quot;,\n                &quot;if(i==5)&quot;,\n                &quot;if(i==5)then&quot;,\n                &quot;if i==5 then&quot;,\n                &quot;2&quot;,\n                &quot;D:/QuizImages/Quiz_2422/Image8.jpg&quot;},\n            {&quot;Inside which HTML element do we put the JavaScript?&quot;,\n                &quot;xxxx&quot;,\n                &quot;xxxxxxx&quot;,\n                &quot;xxxxxxxxxx&quot;,\n                &quot;xxxxxxxxxxxxxx&quot;,\n                &quot;2&quot;,\n                &quot;D:/QuizImages/Quiz_2422/Image9.jpg&quot;},\n            {&quot;How does a WHILE loop start?&quot;,\n                &quot;while(i &lt;= 0)&quot;,\n                &quot;while(i &lt;= 0 i++)&quot;,\n                &quot;while i &lt;= 0&quot;,\n                &quot;while (i++ i &lt;= 0)&quot;,\n                &quot;0&quot;,\n                &quot;D:/QuizImages/Quiz_2422/Image10.jpg&quot;}};\n\n        java.util.Scanner userInput = new java.util.Scanner(System.in);\n        int numOfQuestions = questions.length;\n        String theQuestion = &quot;Unknown&quot;;\n        String[] choices = new String[4];\n        String answer = &quot;&quot;;\n        String imagePath = &quot;&quot;;\n        java.util.List&lt;Integer&gt; alreadyAskedQuestions = new java.util.ArrayList&lt;&gt;();\n        \n        int questCount = 0;\n        int score = 0;\n        while (questCount != numOfQuestions) {\n            /* Get a Random Question Number then check \n               to make sure it hasn't been asked already. \n               If it hasn't then add it to the list.   */\n            boolean isUnique = false;\n            int rndQuestNum = -1;\n            while (!isUnique) {\n                rndQuestNum = new java.util.Random().nextInt(numOfQuestions);\n                if (!alreadyAskedQuestions.contains(rndQuestNum)) {\n                    isUnique = true;\n                    alreadyAskedQuestions.add(rndQuestNum);\n                }\n            }\n            \n            // Acquire the data from the randomly selected question...\n            for (int i = 0; i &lt; questions[rndQuestNum].length; i++) {\n                theQuestion = questions[rndQuestNum][0];\n                choices[0] = questions[rndQuestNum][1];\n                choices[1] = questions[rndQuestNum][2];\n                choices[2] = questions[rndQuestNum][3];\n                choices[3] = questions[rndQuestNum][4];\n                answer = questions[rndQuestNum][5];\n                imagePath = questions[rndQuestNum][6];\n            }\n            \n            // Ask the Question and get the answer...\n            String ans = &quot;&quot;;\n            while (ans.isEmpty()) {\n                // Print the question to Console Window...\n                String title = &quot;Question &quot; + (questCount + 1) + &quot; of &quot; + numOfQuestions + &quot;:&quot;;\n                System.out.println(title);\n                String underline = String.join(&quot;&quot;, java.util.Collections.nCopies(title.length(), &quot;-&quot;));\n                System.out.println(underline);\n                \n                System.out.println(theQuestion);\n                for (int c = 0; c &lt; choices.length; c++) {\n                    System.out.println(&quot;  &quot; + (c + 1) + &quot;) &quot; + choices[c]);\n                }\n                System.out.print(&quot;your Choice? -&gt; &quot;);\n                ans = userInput.nextLine().trim();  // Get user input.\n                \n                // If 'q' was entered then quit.\n                if (ans.equalsIgnoreCase(&quot;q&quot;)) {\n                    return;\n                }\n                // Validate entry. 0 - 4 can only be supplied!\n                if (!ans.matches(&quot;[01234]&quot;)) {\n                    System.out.println(&quot;Invalid Entry! (&quot; + ans + &quot;) - Try again...&quot;);\n                    System.out.println();\n                    ans = &quot;&quot;;\n                }\n            }\n            \n            // Is the answer right or wrong?\n            if (ans.equals(answer)) {\n                System.out.println(&quot;CORRECT ANSWER!&quot;);\n                \n                score++;  // add 1 to score if correct.\n                \n                /* Show the related image to Question if the \n                   answer is correct.  */\n                showImageInDialog(imagePath);\n            }\n            else {\n                System.out.println(&quot;WRONG ANSWER!&quot;);\n            }\n            \n            questCount++; // increment question counter.\n            System.out.println();\n        }\n    }\n    \n    private void showImageInDialog(String imagePath) {\n        // Create a parent to dialog can hide behind other applications.\n        javax.swing.JDialog parent = new javax.swing.JDialog();\n        parent.setTitle(&quot;Quiz Question Image&quot;);\n        parent.setAlwaysOnTop(true);\n        parent.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);\n        parent.setLocationRelativeTo(null);\n        \n        // Creat a custom panel for JOPtionPane\n        javax.swing.JPanel jp = new javax.swing.JPanel();\n        \n        // Set a desired Layout\n        jp.setLayout(new java.awt.GridLayout(1,1));\n        \n        // Set the desired size of custom Panel in JOptionPane.\n        jp.setPreferredSize(new java.awt.Dimension(400, 300));\n        \n        // Create a JLabel to place the image in\n        javax.swing.JLabel label = new javax.swing.JLabel();\n        \n        // Place a 2 pixel line border around JLabel.\n        label.setBorder(javax.swing.BorderFactory.createLineBorder(java.awt.Color.BLACK, 2));\n        // Make sure the JLabel is Opaque\n        label.setOpaque(true);\n        \n        // Add the JLabel to the JPanel.\n        jp.add(label);\n        \n        // Ensure the Image is sized to fit in JLabel\n        javax.swing.ImageIcon icon = new javax.swing.ImageIcon(imagePath);\n        java.awt.Image img = icon.getImage();\n        java.awt.Image resizedImage = img.getScaledInstance(400, 300, java.awt.Image.SCALE_SMOOTH);\n        // Place the resized image into JLabel.\n        label.setIcon(new javax.swing.ImageIcon(resizedImage));\n        \n        // Display the JOptionPane Message Dialog Box.\n        javax.swing.JOptionPane.showMessageDialog(parent, jp, &quot;Related Image&quot;, \n                                    javax.swing.JOptionPane.PLAIN_MESSAGE);\n        parent.dispose();\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":16525609,"reputation":1,"user_id":15549982,"display_name":"david boi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664100505,"creation_date":1664079081,"question_id":73842005,"body_markdown":"please java code to insert picture and random quiz. it does not work:\r\n\r\n    let MCQS = [\r\n       {question: &quot;What does HTML stand for?&quot;,\r\n          choice1: &quot;Hyperlinks and Text Markup Language&quot;,\r\n          choice2: &quot;Hyper Text Markup Language&quot;,\r\n          choice3: &quot;Hyper Text Making Language&quot;,\r\n          choice4: &quot;Hyper Text Mark Language&quot;,\r\n          answer: 1\r\n       },\r\n       {question: &quot;What does CSS stand for?&quot;,\r\n          choice1: &quot;Colorful StyleSheet&quot;,\r\n          choice2: &quot;Creative Style Sheet&quot;,\r\n          choice3: &quot;Cascading Style Sheet&quot;,\r\n          choice4: &quot;Computer Style Sheet&quot;,\r\n          answer: 2\r\n       },\r\n       {question: &quot;Which HTML tag is used to define an internal style sheet?&quot;,\r\n          choice1: &quot;&lt;script&gt;&quot;,\r\n          choice2: &quot;&lt;style&gt;&quot;,\r\n          choice3: &quot;&lt;html&gt;&quot;,\r\n          choice4: &quot;&lt;svg&gt;&quot;,\r\n          answer: 1\r\n       },\r\n       {question: &quot;Which is the correct CSS syntax?&quot;,\r\n          choice1: &quot;body{color:black}&quot;,\r\n          choice2: &quot;{body{color:black}&quot;,\r\n          choice3: &quot;body={color:black}&quot;,  \r\n          choice4: &quot;body:color{black}&quot;,\r\n          answer: 0\r\n       },\r\n       {question: &quot;How do you insert a comment in a CSS file?&quot;,\r\n          choice1: &quot;/*This is Comment*/&quot;,\r\n          choice2: &quot;//This Is Comment&quot;,\r\n          choice3: &quot;&lt;!--- This Is Comment ---&gt;&quot;,\r\n          choice4: &quot;//This Is Comment//&quot;,\r\n          answer: 1\r\n       },\r\n       {question: &quot;How do you insert a comment in a HTML file?&quot;,\r\n          choice1: &quot;/*This is Comment*/&quot;,\r\n          choice2: &quot;//This Is Comment&quot;,\r\n          choice3: &quot;&lt;!--- This Is Comment ---&gt;&quot;,\r\n          choice4: &quot;//This Is Comment//&quot;,\r\n          answer: 2\r\n       },\r\n       {question: &quot;Which property is used to change the background color?&quot;,\r\n          choice1: &quot;backgroundColor&quot;,\r\n          choice2: &quot;BgColor&quot;,\r\n          choice3: &quot;Color-Background&quot;,\r\n          choice4: &quot;background&quot;,\r\n          answer: 3\r\n       },\r\n       {question: &quot;How to write an IF statement in JavaScript?&quot;,\r\n          choice1: &quot;if i==5&quot;,\r\n          choice2: &quot;if(i==5)&quot;,\r\n          choice3: &quot;if(i==5)then&quot;,\r\n          choice4: &quot;if i==5 then&quot;,\r\n          answer: 2\r\n       },\r\n       {question: &quot;Inside which HTML element do we put the JavaScript?&quot;,\r\n          choice1: &quot;xxxx&quot;,\r\n          choice2: &quot;xxxxxxx&quot;,\r\n          choice3: &quot;xxxxxxxxxx&quot;,\r\n          choice4: &quot;xxxxxxxxxxxxxx&quot;,\r\n          answer: 2\r\n       },\r\n       {question: &quot;How does a WHILE loop start?&quot;,\r\n          choice1: &quot;while(i &lt;= 0)&quot;,\r\n          choice2: &quot;while(i &lt;= 0 i++)&quot;,\r\n          choice3: &quot;while i &lt;= 0&quot;,\r\n          choice4: &quot;while (i++ i &lt;= 0)&quot;,\r\n          answer: 0\r\n       }];","title":"how to randomize and insert question with picture","body":"<p>please java code to insert picture and random quiz. it does not work:</p>\n<pre><code>let MCQS = [\n   {question: &quot;What does HTML stand for?&quot;,\n      choice1: &quot;Hyperlinks and Text Markup Language&quot;,\n      choice2: &quot;Hyper Text Markup Language&quot;,\n      choice3: &quot;Hyper Text Making Language&quot;,\n      choice4: &quot;Hyper Text Mark Language&quot;,\n      answer: 1\n   },\n   {question: &quot;What does CSS stand for?&quot;,\n      choice1: &quot;Colorful StyleSheet&quot;,\n      choice2: &quot;Creative Style Sheet&quot;,\n      choice3: &quot;Cascading Style Sheet&quot;,\n      choice4: &quot;Computer Style Sheet&quot;,\n      answer: 2\n   },\n   {question: &quot;Which HTML tag is used to define an internal style sheet?&quot;,\n      choice1: &quot;&lt;script&gt;&quot;,\n      choice2: &quot;&lt;style&gt;&quot;,\n      choice3: &quot;&lt;html&gt;&quot;,\n      choice4: &quot;&lt;svg&gt;&quot;,\n      answer: 1\n   },\n   {question: &quot;Which is the correct CSS syntax?&quot;,\n      choice1: &quot;body{color:black}&quot;,\n      choice2: &quot;{body{color:black}&quot;,\n      choice3: &quot;body={color:black}&quot;,  \n      choice4: &quot;body:color{black}&quot;,\n      answer: 0\n   },\n   {question: &quot;How do you insert a comment in a CSS file?&quot;,\n      choice1: &quot;/*This is Comment*/&quot;,\n      choice2: &quot;//This Is Comment&quot;,\n      choice3: &quot;&lt;!--- This Is Comment ---&gt;&quot;,\n      choice4: &quot;//This Is Comment//&quot;,\n      answer: 1\n   },\n   {question: &quot;How do you insert a comment in a HTML file?&quot;,\n      choice1: &quot;/*This is Comment*/&quot;,\n      choice2: &quot;//This Is Comment&quot;,\n      choice3: &quot;&lt;!--- This Is Comment ---&gt;&quot;,\n      choice4: &quot;//This Is Comment//&quot;,\n      answer: 2\n   },\n   {question: &quot;Which property is used to change the background color?&quot;,\n      choice1: &quot;backgroundColor&quot;,\n      choice2: &quot;BgColor&quot;,\n      choice3: &quot;Color-Background&quot;,\n      choice4: &quot;background&quot;,\n      answer: 3\n   },\n   {question: &quot;How to write an IF statement in JavaScript?&quot;,\n      choice1: &quot;if i==5&quot;,\n      choice2: &quot;if(i==5)&quot;,\n      choice3: &quot;if(i==5)then&quot;,\n      choice4: &quot;if i==5 then&quot;,\n      answer: 2\n   },\n   {question: &quot;Inside which HTML element do we put the JavaScript?&quot;,\n      choice1: &quot;xxxx&quot;,\n      choice2: &quot;xxxxxxx&quot;,\n      choice3: &quot;xxxxxxxxxx&quot;,\n      choice4: &quot;xxxxxxxxxxxxxx&quot;,\n      answer: 2\n   },\n   {question: &quot;How does a WHILE loop start?&quot;,\n      choice1: &quot;while(i &lt;= 0)&quot;,\n      choice2: &quot;while(i &lt;= 0 i++)&quot;,\n      choice3: &quot;while i &lt;= 0&quot;,\n      choice4: &quot;while (i++ i &lt;= 0)&quot;,\n      answer: 0\n   }];\n</code></pre>\n"},{"tags":["java","c#","generics","grammar","syntactic-sugar"],"comments":[{"owner":{"account_id":25018346,"reputation":3077,"user_id":18877258,"display_name":"John"},"score":2,"creation_date":1664100719,"post_id":73843598,"comment_id":130389990,"body_markdown":"Java and C# are different languages. You aren&#39;t writing your app in both. Which is it?","body":"Java and C# are different languages. You aren&#39;t writing your app in both. Which is it?"},{"owner":{"account_id":25018346,"reputation":3077,"user_id":18877258,"display_name":"John"},"score":4,"creation_date":1664100860,"post_id":73843598,"comment_id":130390019,"body_markdown":"The point of a generic method is to do the same thing with an object regardless of its type. If you want to add different types of objects to different collections then you&#39;re not doing the same thing regardless of type, so this is not a job for generics. If you have to test the type at all in a generic method then it probably shouldn&#39;t be generic.","body":"The point of a generic method is to do the same thing with an object regardless of its type. If you want to add different types of objects to different collections then you&#39;re not doing the same thing regardless of type, so this is not a job for generics. If you have to test the type at all in a generic method then it probably shouldn&#39;t be generic."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664100210,"creation_date":1664100210,"answer_id":73843628,"question_id":73843598,"body_markdown":"Name the methods the same so that they will be overloads of each other:\r\n\r\n```java\r\n  void Add(Table table){ tables.Add(table); }\r\n  void Add(Cup cup){ cups.Add(cup); }\r\n```\r\n\r\nThe compiler is smart enough to call the correct method. (And Table and Cup are unrelated classes, so there are no caveats).","title":"How to merge methods with unrelated parameter types into one generic one?","body":"<p>Name the methods the same so that they will be overloads of each other:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  void Add(Table table){ tables.Add(table); }\n  void Add(Cup cup){ cups.Add(cup); }\n</code></pre>\n<p>The compiler is smart enough to call the correct method. (And Table and Cup are unrelated classes, so there are no caveats).</p>\n"}],"owner":{"account_id":5075228,"reputation":721,"user_id":4072786,"accept_rate":67,"display_name":"Fan Applelin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73843628,"answer_count":1,"score":-2,"last_activity_date":1664100252,"creation_date":1664099922,"question_id":73843598,"body_markdown":"## For java/C#\r\n\r\nThere is my code:\r\n\r\n```C#\r\nclass Room{\r\n  HashSet tables;\r\n  HashSet cups;\r\n\r\n  void AddTable(Table table){ tables.Add(table); }\r\n  void AddCup(Cup cup){ cups.Add(cup); }\r\n  Table GetTable(){...}\r\n  Cup GetCup(){...}\r\n  ...\r\n}\r\n```\r\n\r\nCan I merge `AddTable` and `AddCup` into one method like `Add&lt;T&gt;`\r\n\r\nlike this:\r\n\r\n```C#\r\n        void Add&lt;T&gt;(T t)\r\n        {\r\n            if (t is Table table) { ... }\r\n            else if (t is Ground ground) { ... }\r\n            ...\r\n        }\r\n\r\n        T Get&lt;T&gt;(){\r\n            ...\r\n        }\r\n```\r\n\r\nThe problem is that there are too many `if else`.\r\n\r\nDo you have any better suggestions?","title":"How to merge methods with unrelated parameter types into one generic one?","body":"<h2>For java/C#</h2>\n<p>There is my code:</p>\n<pre><code>class Room{\n  HashSet tables;\n  HashSet cups;\n\n  void AddTable(Table table){ tables.Add(table); }\n  void AddCup(Cup cup){ cups.Add(cup); }\n  Table GetTable(){...}\n  Cup GetCup(){...}\n  ...\n}\n</code></pre>\n<p>Can I merge <code>AddTable</code> and <code>AddCup</code> into one method like <code>Add&lt;T&gt;</code></p>\n<p>like this:</p>\n<pre><code>        void Add&lt;T&gt;(T t)\n        {\n            if (t is Table table) { ... }\n            else if (t is Ground ground) { ... }\n            ...\n        }\n\n        T Get&lt;T&gt;(){\n            ...\n        }\n</code></pre>\n<p>The problem is that there are too many <code>if else</code>.</p>\n<p>Do you have any better suggestions?</p>\n"},{"tags":["java","arrays","integer","priority-queue"],"answers":[{"tags":[],"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664099732,"creation_date":1664097397,"answer_id":73843335,"question_id":73843266,"body_markdown":"You simply have to write your own [`Comparator`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html), which you give to the [PriorityQueue`s constructor](https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#PriorityQueue-java.util.Comparator-):\r\n\r\n```\r\nPriorityQueue&lt;int[]&gt; maxheap = new PriorityQueue&lt;&gt;((a, b) -&gt; Integer.compare(b[0], a[0]));\r\n```\r\n\r\nThe `Comparator` gives the `PriorityQueue` a function to compare two elements of your queue (`a` and `b` in our code). We can use the [`Integer.compare()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#compare-int-int-) method to savely compare two integer values. This method simply returns an integer, which indicates if `a` is larger, `b` is larger or they are the same. \r\n\r\nAs `a` and `b` are arrays and we want to use the first element of the arrays for comparison. Therefore, we use `a[0]` and `b[0]`. \r\n\r\nIn order to get a max heap you have to compare `b` to `a`(as shown in the code above) resulting in reverse ordering. For a min heap you would have `Integer.compare(a[0], b[0])`.\r\n\r\n**Edit:** Adapted question to incorporate a better way to compare the arrays from the first comment.","title":"Priority Queue of type integer array","body":"<p>You simply have to write your own <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>, which you give to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#PriorityQueue-java.util.Comparator-\" rel=\"nofollow noreferrer\">PriorityQueue`s constructor</a>:</p>\n<pre><code>PriorityQueue&lt;int[]&gt; maxheap = new PriorityQueue&lt;&gt;((a, b) -&gt; Integer.compare(b[0], a[0]));\n</code></pre>\n<p>The <code>Comparator</code> gives the <code>PriorityQueue</code> a function to compare two elements of your queue (<code>a</code> and <code>b</code> in our code). We can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#compare-int-int-\" rel=\"nofollow noreferrer\"><code>Integer.compare()</code></a> method to savely compare two integer values. This method simply returns an integer, which indicates if <code>a</code> is larger, <code>b</code> is larger or they are the same.</p>\n<p>As <code>a</code> and <code>b</code> are arrays and we want to use the first element of the arrays for comparison. Therefore, we use <code>a[0]</code> and <code>b[0]</code>.</p>\n<p>In order to get a max heap you have to compare <code>b</code> to <code>a</code>(as shown in the code above) resulting in reverse ordering. For a min heap you would have <code>Integer.compare(a[0], b[0])</code>.</p>\n<p><strong>Edit:</strong> Adapted question to incorporate a better way to compare the arrays from the first comment.</p>\n"}],"owner":{"account_id":25118682,"reputation":23,"user_id":18967315,"display_name":"Nitin Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":1,"score":-2,"last_activity_date":1664099732,"creation_date":1664096748,"question_id":73843266,"body_markdown":"`PriorityQueue&lt;int[]&gt; maxheap = new PriorityQueue&lt;&gt;(Collections.reverseOrder());`\r\n\r\nException in thread &quot;main&quot; java.lang.ClassCastException: class [I cannot be cast to class java.lang.Comparable ([I and java.lang.Comparable are in module java.base of loader &#39;bootstrap&#39;)\r\n\t\r\n**I need to implement maxheap of integer array where the 0th element of array should be used as reference , where array is of length 2** \r\n","title":"Priority Queue of type integer array","body":"<p><code>PriorityQueue&lt;int[]&gt; maxheap = new PriorityQueue&lt;&gt;(Collections.reverseOrder());</code></p>\n<p>Exception in thread &quot;main&quot; java.lang.ClassCastException: class [I cannot be cast to class java.lang.Comparable ([I and java.lang.Comparable are in module java.base of loader 'bootstrap')</p>\n<p><strong>I need to implement maxheap of integer array where the 0th element of array should be used as reference , where array is of length 2</strong></p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"score":0,"creation_date":1664099945,"post_id":73843584,"comment_id":130389861,"body_markdown":"Without seeing any code we&#39;re not going to be able to help you","body":"Without seeing any code we&#39;re not going to be able to help you"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664101952,"post_id":73843584,"comment_id":130390194,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26436787,"reputation":1,"user_id":20082023,"display_name":"Jawad Dheini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664099726,"creation_date":1664099726,"question_id":73843584,"body_markdown":"So I have a notes app and the notes are contained in a RecyclerView. When I am close to notes with images attached, the RecyclerView becomes &quot;jerky&quot;.\r\nI tried setting `android:nestedScrollingEnabled` to false. It doesn&#39;t work. What should I do?","title":"How can I make a RecyclerView scroll smoothly?","body":"<p>So I have a notes app and the notes are contained in a RecyclerView. When I am close to notes with images attached, the RecyclerView becomes &quot;jerky&quot;.\nI tried setting <code>android:nestedScrollingEnabled</code> to false. It doesn't work. What should I do?</p>\n"},{"tags":["java","java-8","x86","arm","apple-silicon"],"comments":[{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1656573656,"post_id":72811312,"comment_id":128607134,"body_markdown":"There are other x86-64 emulators, for example QEMU.  But last I read, QEMU ignores memory-ordering differences between AArch64 and x86-64, so it&#39;s only safe for single-threaded code.  Or maybe locks work, but acq/rel atomics might not actually be guaranteed, and might work like relaxed when run on AArch64, unless QEMU knows how to enable M1&#39;s strong memory-ordering mode.  For Java, if you don&#39;t want to let MacOS use Rosetta transparently, it would make much more sense to just use a native AArch64 JVM.","body":"There are other x86-64 emulators, for example QEMU.  But last I read, QEMU ignores memory-ordering differences between AArch64 and x86-64, so it&#39;s only safe for single-threaded code.  Or maybe locks work, but acq/rel atomics might not actually be guaranteed, and might work like relaxed when run on AArch64, unless QEMU knows how to enable M1&#39;s strong memory-ordering mode.  For Java, if you don&#39;t want to let MacOS use Rosetta transparently, it would make much more sense to just use a native AArch64 JVM."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1656574577,"post_id":72811312,"comment_id":128607480,"body_markdown":"@MichaelPetch: The other interpretation is that they currently have it running on normal MacOS, which transparently uses Rosetta.  And they want to know how it could be possible without Rosetta.  I was trying to cover both interpretations, by mentioning that MacOS does use Rosetta transparently.  (Sahil: You can check in the process manage / resource monitor app, whatever it&#39;s called, with a column that shows if a process is x86 or ARM.)","body":"@MichaelPetch: The other interpretation is that they currently have it running on normal MacOS, which transparently uses Rosetta.  And they want to know how it could be possible without Rosetta.  I was trying to cover both interpretations, by mentioning that MacOS does use Rosetta transparently.  (Sahil: You can check in the process manage / resource monitor app, whatever it&#39;s called, with a column that shows if a process is x86 or ARM.)"}],"answers":[{"tags":[],"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664099171,"creation_date":1664099171,"answer_id":73843533,"question_id":72811312,"body_markdown":"JDK compiles java code into java bytecode, which can be run on a JVM. Cassandra is developed in Java so it&#39;s essentially a bunch of java bytecode. Zulu provides JDK/JVM native to Apple Silicon and it has no issues running java bytecode as all JVMs do. This is a key strength of Java.","title":"How does Apple Silicon Chip support Intel based JDK-8 without rosetta?","body":"<p>JDK compiles java code into java bytecode, which can be run on a JVM. Cassandra is developed in Java so it's essentially a bunch of java bytecode. Zulu provides JDK/JVM native to Apple Silicon and it has no issues running java bytecode as all JVMs do. This is a key strength of Java.</p>\n"}],"owner":{"account_id":23962403,"reputation":495,"user_id":17952301,"display_name":"Sahil Ummer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664099171,"creation_date":1656571387,"question_id":72811312,"body_markdown":"I am able to run zulu8.62.0.19-ca-jdk8.0.332-macosx_x64 on my M1Pro(arm64) Mac machine and run Casssandra. How is this possible without Rosetta ?","title":"How does Apple Silicon Chip support Intel based JDK-8 without rosetta?","body":"<p>I am able to run zulu8.62.0.19-ca-jdk8.0.332-macosx_x64 on my M1Pro(arm64) Mac machine and run Casssandra. How is this possible without Rosetta ?</p>\n"},{"tags":["java","arrays","iteration"],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664096832,"creation_date":1664096832,"answer_id":73843278,"question_id":73843078,"body_markdown":"Try this.\r\n\r\n    public static void sortedlist(int[] l, int r) {\r\n        for (int i = 0, max = l.length; i &lt; max; ++i)\r\n            if (l[i] &gt;= 0)\r\n                for (int j = i + 1; j &lt;= i + r &amp;&amp; j &lt; max; ++j)\r\n                    l[i] += l[j];\r\n    }\r\n    \r\nand\r\n\r\n    int[] a = {1, 2, -3, 4, 5, 4};\r\n    sortedlist(a, 3);\r\n    System.out.println(Arrays.toString(a));\r\n\r\noutput:\r\n\r\n    [4, 8, -3, 13, 9, 4]\r\n\r\n","title":"How do I add every array in a list with every nth element in the array","body":"<p>Try this.</p>\n<pre><code>public static void sortedlist(int[] l, int r) {\n    for (int i = 0, max = l.length; i &lt; max; ++i)\n        if (l[i] &gt;= 0)\n            for (int j = i + 1; j &lt;= i + r &amp;&amp; j &lt; max; ++j)\n                l[i] += l[j];\n}\n</code></pre>\n<p>and</p>\n<pre><code>int[] a = {1, 2, -3, 4, 5, 4};\nsortedlist(a, 3);\nSystem.out.println(Arrays.toString(a));\n</code></pre>\n<p>output:</p>\n<pre><code>[4, 8, -3, 13, 9, 4]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664098674,"creation_date":1664097953,"answer_id":73843394,"question_id":73843078,"body_markdown":"**Please find the solution below and i have also provided some explanation regarding the logic behind it.**\r\n\r\n**Note:** I have unit tested it for few cases and it seems working fine.\r\n\r\n***1)** r is less than array length\r\n      **2)** r is equals to array length\r\n      **3)** r is greater than array length*\r\n\r\n    public class Test {\r\n      public static void main(String[] args) {\r\n        int[] input = new int[]{1, 2, -3, 4, 5, 4};\r\n        int r = 3;\r\n        sortedlist(input,r);\r\n      }\r\n    \r\n      public static void sortedlist(int[] l, int r) {\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        int itr = 0;\r\n        for(int i = itr; i &lt; l.length ; i++){//This loop is for iterating over the given array\r\n          int temp = 0;\r\n          int itr2 = Math.min(itr + r, l.length-1);//This function takes the minimum value and it helps when the (itr+r) &gt; l.length, it will consider the (l.length-1)\r\n          if(l[i] &gt; 0){// checking whether the selected value is -ve or not\r\n            for(int j = i; j &lt;= itr2 ; j++){ // This loop is for calculating the addition over the selected range\r\n              temp =  temp + l[j];\r\n            }\r\n          } else {// if it is-ve, assigning the same value to temp\r\n            temp = l[i];\r\n          }\r\n          list.add(temp);// storing the calculated value in a list of integers\r\n          itr++; // incrementing the main loop iterator \r\n        }\r\n        System.out.println(list);\r\n      }\r\n    \r\n    }\r\n\r\n**Output:**\r\n\r\n    [4, 8, -3, 13, 9, 4]","title":"How do I add every array in a list with every nth element in the array","body":"<p><strong>Please find the solution below and i have also provided some explanation regarding the logic behind it.</strong></p>\n<p><strong>Note:</strong> I have unit tested it for few cases and it seems working fine.</p>\n<p><em><strong>1)</strong> r is less than array length\n<strong>2)</strong> r is equals to array length\n<strong>3)</strong> r is greater than array length</em></p>\n<pre><code>public class Test {\n  public static void main(String[] args) {\n    int[] input = new int[]{1, 2, -3, 4, 5, 4};\n    int r = 3;\n    sortedlist(input,r);\n  }\n\n  public static void sortedlist(int[] l, int r) {\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    int itr = 0;\n    for(int i = itr; i &lt; l.length ; i++){//This loop is for iterating over the given array\n      int temp = 0;\n      int itr2 = Math.min(itr + r, l.length-1);//This function takes the minimum value and it helps when the (itr+r) &gt; l.length, it will consider the (l.length-1)\n      if(l[i] &gt; 0){// checking whether the selected value is -ve or not\n        for(int j = i; j &lt;= itr2 ; j++){ // This loop is for calculating the addition over the selected range\n          temp =  temp + l[j];\n        }\n      } else {// if it is-ve, assigning the same value to temp\n        temp = l[i];\n      }\n      list.add(temp);// storing the calculated value in a list of integers\n      itr++; // incrementing the main loop iterator \n    }\n    System.out.println(list);\n  }\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[4, 8, -3, 13, 9, 4]\n</code></pre>\n"}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73843278,"answer_count":2,"score":0,"last_activity_date":1664098674,"creation_date":1664094844,"question_id":73843078,"body_markdown":"I have a function `public static void sortedlist(int[] l, int r)` that takes an array `int[] l` and returns a new array where **every non-negative element in the list would be added with every element until the `r`th element**.\r\n\r\nSo here is an example. \r\n\r\nLets say we have `l = {1, 2, -3, 4, 5, 4}`, and `r = 3`. In this case, we would:\r\n\r\n\r\n    Replace l[0] with l[0] + l[1] + l[2] + l[3].\r\n    Replace l[1] with l[1] + l[2] + l[3] + l[4].\r\n    Not do anything to l[2] because it is negative.\r\n    Replace l[3] with l[3] + l[4] + l[5]. (We can&#39;t go further than the end of the array.)\r\n    Replace l[4] with l[4] + l[5].\r\n    Not change the value of a[5] because there are no values after l[5]. So the sum is l[5] itself.\r\n    Thus, the result after calling `sortedlist` would be {4, 8, -3, 13, 9, 4}.\r\n\r\nHere is my code so far:\r\n\r\n    public class Practice2 {\r\n        public static void sortedlist(int[] l, int r) {\r\n            int[] A;\r\n            int sum = 0;\r\n            for (int i = 0; i &lt; l.length + r; i+=r) {\r\n                sum = sum +=\r\n            }\r\n        }\r\n    }\r\n\r\nAs you can see, I&#39;m not done with the code because I&#39;m stumped on how am I supposed to move forward from this point. \r\n\r\nWhat I&#39;m trying to do is create a new Array `A` and then add the new values that I&#39;ve received from sum into Array A.\r\n\r\nAny help would be greatly appreciated. Furthermore, if you could explain the logic behind a working code would be extremely beneficial for me as well.\r\n\r\nThank you :)\r\n\r\n\r\n","title":"How do I add every array in a list with every nth element in the array","body":"<p>I have a function <code>public static void sortedlist(int[] l, int r)</code> that takes an array <code>int[] l</code> and returns a new array where <strong>every non-negative element in the list would be added with every element until the <code>r</code>th element</strong>.</p>\n<p>So here is an example.</p>\n<p>Lets say we have <code>l = {1, 2, -3, 4, 5, 4}</code>, and <code>r = 3</code>. In this case, we would:</p>\n<pre><code>Replace l[0] with l[0] + l[1] + l[2] + l[3].\nReplace l[1] with l[1] + l[2] + l[3] + l[4].\nNot do anything to l[2] because it is negative.\nReplace l[3] with l[3] + l[4] + l[5]. (We can't go further than the end of the array.)\nReplace l[4] with l[4] + l[5].\nNot change the value of a[5] because there are no values after l[5]. So the sum is l[5] itself.\nThus, the result after calling `sortedlist` would be {4, 8, -3, 13, 9, 4}.\n</code></pre>\n<p>Here is my code so far:</p>\n<pre><code>public class Practice2 {\n    public static void sortedlist(int[] l, int r) {\n        int[] A;\n        int sum = 0;\n        for (int i = 0; i &lt; l.length + r; i+=r) {\n            sum = sum +=\n        }\n    }\n}\n</code></pre>\n<p>As you can see, I'm not done with the code because I'm stumped on how am I supposed to move forward from this point.</p>\n<p>What I'm trying to do is create a new Array <code>A</code> and then add the new values that I've received from sum into Array A.</p>\n<p>Any help would be greatly appreciated. Furthermore, if you could explain the logic behind a working code would be extremely beneficial for me as well.</p>\n<p>Thank you :)</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1623200267,"post_id":67895684,"comment_id":120009090,"body_markdown":"that&#39;s an interesting question, may I ask why you need that information though? if you are simply asking why that code not compile - than iis rather easy to answer via `PECS`.","body":"that&#39;s an interesting question, may I ask why you need that information though? if you are simply asking why that code not compile - than iis rather easy to answer via <code>PECS</code>."},{"owner":{"account_id":5789509,"reputation":741,"user_id":4567552,"display_name":"John"},"score":0,"creation_date":1627878579,"post_id":67895684,"comment_id":121264273,"body_markdown":"@Eugene I wanted to study, empirically,  how so-called input variables (upper bound) seemingly are declared as  output variables (lower bound) in Functional interfaces.  And I am often at a loss to predict just how the erasure process works exactly.  If I pass String to a Predicate.test method that accepts ? super CharSequence, why should it compile?  Why shouldn’t it, if I’m just testing against the CharSequence interface?  Looking under the hood is helpful.","body":"@Eugene I wanted to study, empirically,  how so-called input variables (upper bound) seemingly are declared as  output variables (lower bound) in Functional interfaces.  And I am often at a loss to predict just how the erasure process works exactly.  If I pass String to a Predicate.test method that accepts ? super CharSequence, why should it compile?  Why shouldn’t it, if I’m just testing against the CharSequence interface?  Looking under the hood is helpful."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1627882694,"post_id":67895684,"comment_id":121265015,"body_markdown":"I understand. At the same time I disagree, those are simply folowing the PECS rule. how the &quot;erasure works exactly&quot; is in the JLS, not sure what you are missing, to be fair. Its not a very pleasant read, but its there, as the other answer has already showed. This is not something you study empirically, imo.","body":"I understand. At the same time I disagree, those are simply folowing the PECS rule. how the &quot;erasure works exactly&quot; is in the JLS, not sure what you are missing, to be fair. Its not a very pleasant read, but its there, as the other answer has already showed. This is not something you study empirically, imo."},{"owner":{"account_id":5789509,"reputation":741,"user_id":4567552,"display_name":"John"},"score":0,"creation_date":1627930998,"post_id":67895684,"comment_id":121282690,"body_markdown":"What is PECS?  Is  this resource that is more helpful for predicting erasure, than studying the behavior of the compiler directly?  I want to check that out.","body":"What is PECS?  Is  this resource that is more helpful for predicting erasure, than studying the behavior of the compiler directly?  I want to check that out."},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1627931114,"post_id":67895684,"comment_id":121282724,"body_markdown":"[What is PECS (Producer Extends Consumer Super)?](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super)","body":"<a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">What is PECS (Producer Extends Consumer Super)?</a>"},{"owner":{"account_id":5789509,"reputation":741,"user_id":4567552,"display_name":"John"},"score":0,"creation_date":1628286288,"post_id":67895684,"comment_id":121388886,"body_markdown":"@John Kugelman Martin Fowler!  What a metaphor to live by.  I was aware of this and I am building reflection based  validation that depends on being able to expect what&#39;s going to happen at runtime. And, thanks.","body":"@John Kugelman Martin Fowler!  What a metaphor to live by.  I was aware of this and I am building reflection based  validation that depends on being able to expect what&#39;s going to happen at runtime. And, thanks."},{"owner":{"account_id":2938831,"reputation":130,"user_id":2517191,"display_name":"KRH"},"score":0,"creation_date":1686500901,"post_id":67895684,"comment_id":134803856,"body_markdown":"You can have a look at the following https://docs.oracle.com/javase/tutorial/java/generics/capture.html","body":"You can have a look at the following <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/capture.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/capture.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623196538,"creation_date":1623196538,"answer_id":67895879,"question_id":67895684,"body_markdown":"&gt; I know that generic type information is stripped prior to final compilation\r\n\r\nThis is not  quite true, as erasure is a part of the compilation process itself, not something that happens prior to compilation. i.e. erasure is not a transformation that happens on source code.\r\n\r\nAs such, there is no way (that I know of) to programmatically get a transformed version of the source code, but we can figure out what happens for simple examples like this by following the rules in [JLS 4.6](https://docs.oracle.com/javase/specs/jls/se16/html/jls-4.html#jls-4.6):\r\n\r\n&gt; Type erasure is a mapping from types (possibly including parameterized\r\n&gt; types and type variables) to types (that are never parameterized types\r\n&gt; or type variables). We write |T| for the erasure of type T. The\r\n&gt; erasure mapping is defined as follows: \r\n&gt; \r\n&gt; - The erasure of a parameterized type (&#167;4.5) G&lt;T1,...,Tn&gt; is |G|.\r\n&gt; \r\n&gt; - The erasure of a nested type T.C is |T|.C.\r\n&gt; \r\n&gt; - The erasure of an array type T[] is |T|[].\r\n&gt; \r\n&gt; - The erasure of a type variable (&#167;4.4) is the erasure of its leftmost bound.\r\n&gt; \r\n&gt; - The erasure of every other type is the type itself.\r\n&gt;\r\n&gt; Type erasure also maps the signature (&#167;8.4.2) of a constructor or method to a signature that has no parameterized types or type variables. The erasure of a constructor or method signature s is a signature consisting of the same name as s and the erasures of all the formal parameter types given in s.\r\n&gt;\r\n&gt; The return type of a method (&#167;8.4.5) and the type parameters of a generic method or constructor (&#167;8.4.4, &#167;8.8.4) also undergo erasure if the method or constructor&#39;s signature is erased.\r\n&gt;\r\n&gt; The erasure of the signature of a generic method has no type parameters. \r\n\r\nFor your code snippet we get (ignoring trivial erasures):\r\n\r\n    Predicate&lt;Object&gt; -&gt; Predicate\r\n    Predicate&lt;? super Integer&gt; -&gt; Predicate\r\n\r\nYielding:\r\n\r\n    public static void main(String[] args) {\r\n        Predicate objPredicate = (Object c) -&gt; c.toString().length() &gt; 2 ;\r\n        Predicate predicate = objPredicate;\r\n        Number n = Integer.valueOf(22);\r\n        System.out.println(predicate.test(n)); //this line does not compile\r\n    }\r\n\r\nFurthermore, the erased signature of the `Predicate::test` method is:\r\n\r\n    boolean test​(Object t)","title":"Is there a way to see what my code looks like after type erasure?","body":"<blockquote>\n<p>I know that generic type information is stripped prior to final compilation</p>\n</blockquote>\n<p>This is not  quite true, as erasure is a part of the compilation process itself, not something that happens prior to compilation. i.e. erasure is not a transformation that happens on source code.</p>\n<p>As such, there is no way (that I know of) to programmatically get a transformed version of the source code, but we can figure out what happens for simple examples like this by following the rules in <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-4.html#jls-4.6\" rel=\"nofollow noreferrer\">JLS 4.6</a>:</p>\n<blockquote>\n<p>Type erasure is a mapping from types (possibly including parameterized\ntypes and type variables) to types (that are never parameterized types\nor type variables). We write |T| for the erasure of type T. The\nerasure mapping is defined as follows:</p>\n<ul>\n<li><p>The erasure of a parameterized type (§4.5) G&lt;T1,...,Tn&gt; is |G|.</p>\n</li>\n<li><p>The erasure of a nested type T.C is |T|.C.</p>\n</li>\n<li><p>The erasure of an array type T[] is |T|[].</p>\n</li>\n<li><p>The erasure of a type variable (§4.4) is the erasure of its leftmost bound.</p>\n</li>\n<li><p>The erasure of every other type is the type itself.</p>\n</li>\n</ul>\n<p>Type erasure also maps the signature (§8.4.2) of a constructor or method to a signature that has no parameterized types or type variables. The erasure of a constructor or method signature s is a signature consisting of the same name as s and the erasures of all the formal parameter types given in s.</p>\n<p>The return type of a method (§8.4.5) and the type parameters of a generic method or constructor (§8.4.4, §8.8.4) also undergo erasure if the method or constructor's signature is erased.</p>\n<p>The erasure of the signature of a generic method has no type parameters.</p>\n</blockquote>\n<p>For your code snippet we get (ignoring trivial erasures):</p>\n<pre><code>Predicate&lt;Object&gt; -&gt; Predicate\nPredicate&lt;? super Integer&gt; -&gt; Predicate\n</code></pre>\n<p>Yielding:</p>\n<pre><code>public static void main(String[] args) {\n    Predicate objPredicate = (Object c) -&gt; c.toString().length() &gt; 2 ;\n    Predicate predicate = objPredicate;\n    Number n = Integer.valueOf(22);\n    System.out.println(predicate.test(n)); //this line does not compile\n}\n</code></pre>\n<p>Furthermore, the erased signature of the <code>Predicate::test</code> method is:</p>\n<pre><code>boolean test​(Object t)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623201178,"creation_date":1623201178,"answer_id":67896260,"question_id":67895684,"body_markdown":"If you have a very simple type like :\r\n\r\n\r\n   \tpublic static void main(String[] args) {\r\n\t\tPredicate&lt;? super Integer&gt; predicate = x -&gt; x &gt; 1;\r\n\t}\r\n\r\nit gets compiled with `invokedynamic`, like:\r\n\r\n    invokedynamic #7,  0  // InvokeDynamic #0:test:()Ljava/util/function/Predicate;\r\n\r\nand if you look at the `BootstrapMethods`, the `MethodType` preserves (almost) all generic information (I don&#39;t think it can preserve the fact that there was a wildcard in use):\r\n\r\n\r\n    #41 (Ljava/lang/Integer;)Z\r\n\r\nThis reads as &quot;takes an Integer, returns a boolean&quot;. So, in theory, it could be possible to re-construct the generic information back. I have tried `Intellij` to reconstruct the types from a `.class` file - and it does not preserve the generic types. I am not aware of a tool that would do that. ","title":"Is there a way to see what my code looks like after type erasure?","body":"<p>If you have a very simple type like :</p>\n<pre><code>public static void main(String[] args) {\n    Predicate&lt;? super Integer&gt; predicate = x -&gt; x &gt; 1;\n}\n</code></pre>\n<p>it gets compiled with <code>invokedynamic</code>, like:</p>\n<pre><code>invokedynamic #7,  0  // InvokeDynamic #0:test:()Ljava/util/function/Predicate;\n</code></pre>\n<p>and if you look at the <code>BootstrapMethods</code>, the <code>MethodType</code> preserves (almost) all generic information (I don't think it can preserve the fact that there was a wildcard in use):</p>\n<pre><code>#41 (Ljava/lang/Integer;)Z\n</code></pre>\n<p>This reads as &quot;takes an Integer, returns a boolean&quot;. So, in theory, it could be possible to re-construct the generic information back. I have tried <code>Intellij</code> to reconstruct the types from a <code>.class</code> file - and it does not preserve the generic types. I am not aware of a tool that would do that.</p>\n"},{"tags":[],"owner":{"account_id":5789509,"reputation":741,"user_id":4567552,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1623422187,"creation_date":1623249686,"answer_id":67906444,"question_id":67895684,"body_markdown":"On github, I found the java-based open source gui tool [bytecode viewer](https://github.com/Konloch/bytecode-viewer) which did the job as follows:\r\n\r\n  \r\n\r\n     public static void main(String[] var0) {\r\n          Predicate var1 = (var0x) -&gt; {\r\n             return var0x.toString().length() &gt; 2;\r\n          };\r\n          Integer var3 = 22;\r\n          System.out.println(var1.test(var3));\r\n       }\r\n\r\nTo get this, I set the view menu to Pane 2/Fernflower/Java.","title":"Is there a way to see what my code looks like after type erasure?","body":"<p>On github, I found the java-based open source gui tool <a href=\"https://github.com/Konloch/bytecode-viewer\" rel=\"nofollow noreferrer\">bytecode viewer</a> which did the job as follows:</p>\n<pre><code> public static void main(String[] var0) {\n      Predicate var1 = (var0x) -&gt; {\n         return var0x.toString().length() &gt; 2;\n      };\n      Integer var3 = 22;\n      System.out.println(var1.test(var3));\n   }\n</code></pre>\n<p>To get this, I set the view menu to Pane 2/Fernflower/Java.</p>\n"},{"tags":[],"owner":{"account_id":2736951,"reputation":2964,"user_id":2359424,"display_name":"masinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664098199,"creation_date":1664098199,"answer_id":73843427,"question_id":67895684,"body_markdown":"I show you an example of why is not permitted what you expose in your question. When you put Predicate&lt;? super Integer&gt; the compiler only knows that the &#39;unknown&#39; type is a supertype of Integer but not which of them.\r\nThe &#39;unknown&#39; supertype in this case might be: Integer (the only that the compiler is secure to be), Number, Comparable&lt;Integer&gt;, Serializable, Object.\r\n\r\n    Integer max = 10;\r\n    Predicate&lt;Comparable&lt;Integer&gt;&gt; comp = integer -&gt; integer.compareTo(max) &gt; 1;\r\n    Predicate&lt;? super Integer&gt; predicate = comp;\r\n    Number number = 3;\r\n\r\n    //This doesn&#39;t make sense since Number doesn&#39;t even implement Comparable \r\n    comp.test(number); //Compilation error\r\n\r\n","title":"Is there a way to see what my code looks like after type erasure?","body":"<p>I show you an example of why is not permitted what you expose in your question. When you put Predicate&lt;? super Integer&gt; the compiler only knows that the 'unknown' type is a supertype of Integer but not which of them.\nThe 'unknown' supertype in this case might be: Integer (the only that the compiler is secure to be), Number, Comparable, Serializable, Object.</p>\n<pre><code>Integer max = 10;\nPredicate&lt;Comparable&lt;Integer&gt;&gt; comp = integer -&gt; integer.compareTo(max) &gt; 1;\nPredicate&lt;? super Integer&gt; predicate = comp;\nNumber number = 3;\n\n//This doesn't make sense since Number doesn't even implement Comparable \ncomp.test(number); //Compilation error\n</code></pre>\n"}],"owner":{"account_id":5789509,"reputation":741,"user_id":4567552,"display_name":"John"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":67906444,"answer_count":4,"score":5,"last_activity_date":1664098199,"creation_date":1623194451,"question_id":67895684,"body_markdown":"I would like to know what tool can be used to view code after type erasure.  For example, I&#39;d like  to see what the following code looks like after type erasure. I know that generic type information is stripped prior to final compilation, replacing type references with Object or boundary types, creating bridge methods, etc. I want to see the source code after the erasure process takes place. \r\n\r\n      public static void main(String[] args) {\r\n        Predicate&lt;Object&gt; objPredicate = (Object c) -&gt; c.toString().length() &gt; 2 ;\r\n        Predicate&lt;? super Integer&gt; predicate = objPredicate;\r\n        Number n = Integer.valueOf(22);\r\n        System.out.println(predicate.test(n)); //this line does not compile\r\n      }\r\n\r\n[If compiling code is required to see an erasure inspection tool work on the example, the non-compiling line can be omitted or `n` can be cast to `Integer`]\r\n","title":"Is there a way to see what my code looks like after type erasure?","body":"<p>I would like to know what tool can be used to view code after type erasure.  For example, I'd like  to see what the following code looks like after type erasure. I know that generic type information is stripped prior to final compilation, replacing type references with Object or boundary types, creating bridge methods, etc. I want to see the source code after the erasure process takes place.</p>\n<pre><code>  public static void main(String[] args) {\n    Predicate&lt;Object&gt; objPredicate = (Object c) -&gt; c.toString().length() &gt; 2 ;\n    Predicate&lt;? super Integer&gt; predicate = objPredicate;\n    Number n = Integer.valueOf(22);\n    System.out.println(predicate.test(n)); //this line does not compile\n  }\n</code></pre>\n<p>[If compiling code is required to see an erasure inspection tool work on the example, the non-compiling line can be omitted or <code>n</code> can be cast to <code>Integer</code>]</p>\n"},{"tags":["java","node.js","express","jdbc"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1480005187,"post_id":40791052,"comment_id":68804593,"body_markdown":"Define &quot;portable JRE&quot;. What are you expecting to do (and probably more important: not have to do)?","body":"Define &quot;portable JRE&quot;. What are you expecting to do (and probably more important: not have to do)?"},{"owner":{"account_id":2883138,"reputation":309,"user_id":2473539,"accept_rate":79,"display_name":"markus0074"},"score":0,"creation_date":1480005544,"post_id":40791052,"comment_id":68804801,"body_markdown":"I did a small JDBC Connector to MySQL with this node-jdbc. I did the compilation on my local machine. Now I want to distribute this connector to 3 service machines. These machines are not very configurable, so I want to have a portable JRE inside my package, to be sure that JRE 1.8 is used.","body":"I did a small JDBC Connector to MySQL with this node-jdbc. I did the compilation on my local machine. Now I want to distribute this connector to 3 service machines. These machines are not very configurable, so I want to have a portable JRE inside my package, to be sure that JRE 1.8 is used."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1480023457,"post_id":40791052,"comment_id":68811710,"body_markdown":"So through what process do you distribute to the service machines?","body":"So through what process do you distribute to the service machines?"},{"owner":{"account_id":2883138,"reputation":309,"user_id":2473539,"accept_rate":79,"display_name":"markus0074"},"score":0,"creation_date":1480320157,"post_id":40791052,"comment_id":68896124,"body_markdown":"I just want to copy my sources. Later I want to use maybe enclose.js.","body":"I just want to copy my sources. Later I want to use maybe enclose.js."}],"owner":{"account_id":2883138,"reputation":309,"user_id":2473539,"accept_rate":79,"display_name":"markus0074"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664097568,"creation_date":1480004618,"question_id":40791052,"body_markdown":"I started to develop a simple application with express.js and node.jdbc. This node-jdbc uses node java and this depends on the installed JDK on my machine.\r\nTo make my little try independent from the environment I want to use a portable JRE within my bundle.\r\n\r\nSo is there a possibility to include and use a portable JRE for the node-jdbc? \r\nAnd how can it be done?","title":"Node.js JDBC - How to run with a portable JRE","body":"<p>I started to develop a simple application with express.js and node.jdbc. This node-jdbc uses node java and this depends on the installed JDK on my machine.\nTo make my little try independent from the environment I want to use a portable JRE within my bundle.</p>\n<p>So is there a possibility to include and use a portable JRE for the node-jdbc?\nAnd how can it be done?</p>\n"},{"tags":["java","log4j","slf4j","apache-pulsar","pulsar"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1664047476,"post_id":73839555,"comment_id":130383841,"body_markdown":"Which version of Apache Pulsar are you using? It seems that at least version 2.3.0 is required to run with Java 11 and later and to me your problem indicates that your are still using an earlier version of Apache Pulsar.","body":"Which version of Apache Pulsar are you using? It seems that at least version 2.3.0 is required to run with Java 11 and later and to me your problem indicates that your are still using an earlier version of Apache Pulsar."},{"owner":{"account_id":26432819,"reputation":3,"user_id":20078699,"display_name":"azonymous"},"score":0,"creation_date":1664050620,"post_id":73839555,"comment_id":130384371,"body_markdown":"Im using the 2.7.1 I believe","body":"Im using the 2.7.1 I believe"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664097464,"creation_date":1664053475,"answer_id":73840570,"question_id":73839555,"body_markdown":"Upon further investigation these seem to be debug level outputs from the startup of the pulsar client.\r\n\r\nFor example, the first stacktrace with the preceding message\r\n\r\n     main DEBUG internal.PlatformDependent0 - direct buffer constructor: unavailable\r\n     java.lang.UnsupportedOperationException: Reflective setAccessible(true) disabled\r\n            at org.apache.pulsar.shade.io.netty.util.internal.ReflectionUtil.trySetAccessible(ReflectionUtil.java:31)\r\n            at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0$4.run(PlatformDependent0.java:233)\r\n            at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n            at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0.&lt;clinit&gt;(PlatformDependent0.java:227)\r\n            at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent.isAndroid(PlatformDependent.java:289)\r\n            at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent.&lt;clinit&gt;(PlatformDependent.java:92)\r\n            at org.apache.pulsar.shade.io.netty.channel.epoll.Native.loadNativeLibrary(Native.java:247)\r\n            at org.apache.pulsar.shade.io.netty.channel.epoll.Native.&lt;clinit&gt;(Native.java:69)\r\n            at org.apache.pulsar.shade.io.netty.channel.epoll.Epoll.&lt;clinit&gt;(Epoll.java:39)\r\n            at org.apache.pulsar.common.util.netty.EventLoopUtil.newEventLoopGroup(EventLoopUtil.java:46)\r\n            at org.apache.pulsar.client.impl.PulsarClientImpl.getEventLoopGroup(PulsarClientImpl.java:743)\r\n            at org.apache.pulsar.client.impl.PulsarClientImpl.&lt;init&gt;(PulsarClientImpl.java:129)\r\n            at org.apache.pulsar.client.impl.ClientBuilderImpl.build(ClientBuilderImpl.java:64)\r\n            at demo.demo_user.main(demo_user.java:34)\r\n\r\nis produced by the following source code lines (https://github.com/netty/netty/blob/netty-4.1.51.Final/common/src/main/java/io/netty/util/internal/PlatformDependent0.java#L261)\r\n\r\n                if (maybeDirectBufferConstructor instanceof Constructor&lt;?&gt;) {\r\n                    address = UNSAFE.allocateMemory(1);\r\n                    // try to use the constructor now\r\n                    try {\r\n                        ((Constructor&lt;?&gt;) maybeDirectBufferConstructor).newInstance(address, 1);\r\n                        directBufferConstructor = (Constructor&lt;?&gt;) maybeDirectBufferConstructor;\r\n                        logger.debug(&quot;direct buffer constructor: available&quot;);\r\n                    } catch (InstantiationException e) {\r\n                        directBufferConstructor = null;\r\n                    } catch (IllegalAccessException e) {\r\n                        directBufferConstructor = null;\r\n                    } catch (InvocationTargetException e) {\r\n                        directBufferConstructor = null;\r\n                    }\r\n                } else {\r\n                    logger.debug(\r\n                            &quot;direct buffer constructor: unavailable&quot;,\r\n                            (Throwable) maybeDirectBufferConstructor);\r\n                    directBufferConstructor = null;\r\n                }\r\n\r\nThe following lines are also debug level output from the initialization of this class (`io.netty.util.internal.PlatformDependent0`).\r\n\r\n-----\r\n\r\nAll this output comes from [Netty](https://netty.io/), a library that Apache Pulsar uses internally.\r\n\r\nNetty is testing various features of the used JVM (whether the feature is available or not) and is configuring itself accordingly so that it works properly and has the best possible performance.\r\n\r\n-----\r\n\r\nWhat does that `Reflective setAccessible(true) disabled` mean?\r\n\r\nIt means that Netty tried to call [`java.lang.reflect.Constructor.setAccessible()`](https://github.com/openjdk/jdk11u/blob/master/src/java.base/share/classes/java/lang/reflect/Constructor.java#L179) (in this particular case on a constructor for `java.nio.DirectByteBuffer`) and the JVM did not allow this operation.\r\n\r\nThis in the end probably means that Netty cannot use `DirectByteBuffer` for some of its operations. But since this is a known possibility it will use some other means for its operations and therefore **its nothing that you need to worry about**.\r\n\r\n(If you don&#39;t trust me then you can still dive into the internals of Apache Polar and Netty. But both projects are actively supported even on recent Java versions and therefore you should maybe trust the maintainers of those projects that they do everything to keep them working.)\r\n\r\n-----\r\n\r\nIf you don&#39;t want to see this debug output you have a few options:\r\n\r\n- completely disable debug level output: `log4j.rootLogger=info, stdout`\r\n- disable debug level output for everything from Apache Pulsar:\r\n\r\n   add `log4j.logger.org.apache.pulsar=info` to the log4.properties\r\n- disable debug level output for this class `PlatformDependent0`:\r\n\r\n   add `log4j.logger.org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0=info` to the log4.properties\r\n","title":"PulsarClient.builder() extremely long error logger","body":"<p>Upon further investigation these seem to be debug level outputs from the startup of the pulsar client.</p>\n<p>For example, the first stacktrace with the preceding message</p>\n<pre><code> main DEBUG internal.PlatformDependent0 - direct buffer constructor: unavailable\n java.lang.UnsupportedOperationException: Reflective setAccessible(true) disabled\n        at org.apache.pulsar.shade.io.netty.util.internal.ReflectionUtil.trySetAccessible(ReflectionUtil.java:31)\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0$4.run(PlatformDependent0.java:233)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0.&lt;clinit&gt;(PlatformDependent0.java:227)\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent.isAndroid(PlatformDependent.java:289)\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent.&lt;clinit&gt;(PlatformDependent.java:92)\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Native.loadNativeLibrary(Native.java:247)\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Native.&lt;clinit&gt;(Native.java:69)\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Epoll.&lt;clinit&gt;(Epoll.java:39)\n        at org.apache.pulsar.common.util.netty.EventLoopUtil.newEventLoopGroup(EventLoopUtil.java:46)\n        at org.apache.pulsar.client.impl.PulsarClientImpl.getEventLoopGroup(PulsarClientImpl.java:743)\n        at org.apache.pulsar.client.impl.PulsarClientImpl.&lt;init&gt;(PulsarClientImpl.java:129)\n        at org.apache.pulsar.client.impl.ClientBuilderImpl.build(ClientBuilderImpl.java:64)\n        at demo.demo_user.main(demo_user.java:34)\n</code></pre>\n<p>is produced by the following source code lines (<a href=\"https://github.com/netty/netty/blob/netty-4.1.51.Final/common/src/main/java/io/netty/util/internal/PlatformDependent0.java#L261\" rel=\"nofollow noreferrer\">https://github.com/netty/netty/blob/netty-4.1.51.Final/common/src/main/java/io/netty/util/internal/PlatformDependent0.java#L261</a>)</p>\n<pre><code>            if (maybeDirectBufferConstructor instanceof Constructor&lt;?&gt;) {\n                address = UNSAFE.allocateMemory(1);\n                // try to use the constructor now\n                try {\n                    ((Constructor&lt;?&gt;) maybeDirectBufferConstructor).newInstance(address, 1);\n                    directBufferConstructor = (Constructor&lt;?&gt;) maybeDirectBufferConstructor;\n                    logger.debug(&quot;direct buffer constructor: available&quot;);\n                } catch (InstantiationException e) {\n                    directBufferConstructor = null;\n                } catch (IllegalAccessException e) {\n                    directBufferConstructor = null;\n                } catch (InvocationTargetException e) {\n                    directBufferConstructor = null;\n                }\n            } else {\n                logger.debug(\n                        &quot;direct buffer constructor: unavailable&quot;,\n                        (Throwable) maybeDirectBufferConstructor);\n                directBufferConstructor = null;\n            }\n</code></pre>\n<p>The following lines are also debug level output from the initialization of this class (<code>io.netty.util.internal.PlatformDependent0</code>).</p>\n<hr />\n<p>All this output comes from <a href=\"https://netty.io/\" rel=\"nofollow noreferrer\">Netty</a>, a library that Apache Pulsar uses internally.</p>\n<p>Netty is testing various features of the used JVM (whether the feature is available or not) and is configuring itself accordingly so that it works properly and has the best possible performance.</p>\n<hr />\n<p>What does that <code>Reflective setAccessible(true) disabled</code> mean?</p>\n<p>It means that Netty tried to call <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.base/share/classes/java/lang/reflect/Constructor.java#L179\" rel=\"nofollow noreferrer\"><code>java.lang.reflect.Constructor.setAccessible()</code></a> (in this particular case on a constructor for <code>java.nio.DirectByteBuffer</code>) and the JVM did not allow this operation.</p>\n<p>This in the end probably means that Netty cannot use <code>DirectByteBuffer</code> for some of its operations. But since this is a known possibility it will use some other means for its operations and therefore <strong>its nothing that you need to worry about</strong>.</p>\n<p>(If you don't trust me then you can still dive into the internals of Apache Polar and Netty. But both projects are actively supported even on recent Java versions and therefore you should maybe trust the maintainers of those projects that they do everything to keep them working.)</p>\n<hr />\n<p>If you don't want to see this debug output you have a few options:</p>\n<ul>\n<li><p>completely disable debug level output: <code>log4j.rootLogger=info, stdout</code></p>\n</li>\n<li><p>disable debug level output for everything from Apache Pulsar:</p>\n<p>add <code>log4j.logger.org.apache.pulsar=info</code> to the log4.properties</p>\n</li>\n<li><p>disable debug level output for this class <code>PlatformDependent0</code>:</p>\n<p>add <code>log4j.logger.org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0=info</code> to the log4.properties</p>\n</li>\n</ul>\n"}],"owner":{"account_id":26432819,"reputation":3,"user_id":20078699,"display_name":"azonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73840570,"answer_count":1,"score":0,"last_activity_date":1664097464,"creation_date":1664043099,"question_id":73839555,"body_markdown":"I am trying to make a pulsar client written in java, however I get an error with the logger(slf4j). I thought that it was because my PropertyConfigurator was badly made, but even if I use the defaultConfigurator I get the same extremely long error... \r\nIt breaks when I&#39;m trying to make my PulsarClient as so:\r\n```\r\nthis.client = PulsarClient.builder()\r\n              .serviceUrl(config.get(&quot;target&quot;))\r\n              .authentication(AuthenticationFactory.token(token))\r\n              .build();\r\n```\r\nThe error I get:\r\n```\r\nmain DEBUG logging.InternalLoggerFactory - Using SLF4J as the default logging framework\r\n main DEBUG internal.PlatformDependent0 - -Dio.netty.noUnsafe: false\r\n main DEBUG internal.PlatformDependent0 - Java version: 11\r\n main DEBUG internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available\r\n main DEBUG internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available\r\n main DEBUG internal.PlatformDependent0 - java.nio.Buffer.address: available\r\n main DEBUG internal.PlatformDependent0 - direct buffer constructor: unavailable\r\n java.lang.UnsupportedOperationException: Reflective setAccessible(true) disabled\r\n        at org.apache.pulsar.shade.io.netty.util.internal.ReflectionUtil.trySetAccessible(ReflectionUtil.java:31)\r\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0$4.run(PlatformDependent0.java:233)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0.&lt;clinit&gt;(PlatformDependent0.java:227)\r\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent.isAndroid(PlatformDependent.java:289)\r\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent.&lt;clinit&gt;(PlatformDependent.java:92)\r\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Native.loadNativeLibrary(Native.java:247)\r\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Native.&lt;clinit&gt;(Native.java:69)\r\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Epoll.&lt;clinit&gt;(Epoll.java:39)\r\n        at org.apache.pulsar.common.util.netty.EventLoopUtil.newEventLoopGroup(EventLoopUtil.java:46)\r\n        at org.apache.pulsar.client.impl.PulsarClientImpl.getEventLoopGroup(PulsarClientImpl.java:743)\r\n        at org.apache.pulsar.client.impl.PulsarClientImpl.&lt;init&gt;(PulsarClientImpl.java:129)\r\n        at org.apache.pulsar.client.impl.ClientBuilderImpl.build(ClientBuilderImpl.java:64)\r\n        at demo.demo_user.main(demo_user.java:34)\r\nmain DEBUG internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true\r\n main DEBUG internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable\r\n java.lang.IllegalAccessException: class org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0$6 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @33cb5951\r\n        at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)\r\n        at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:591)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:558)\r\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0$6.run(PlatformDependent0.java:347)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0.&lt;clinit&gt;(PlatformDependent0.java:338)\r\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent.isAndroid(PlatformDependent.java:289)\r\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent.&lt;clinit&gt;(PlatformDependent.java:92)\r\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Native.loadNativeLibrary(Native.java:247)\r\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Native.&lt;clinit&gt;(Native.java:69)\r\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Epoll.&lt;clinit&gt;(Epoll.java:39)\r\n        at org.apache.pulsar.common.util.netty.EventLoopUtil.newEventLoopGroup(EventLoopUtil.java:46)\r\n        at org.apache.pulsar.client.impl.PulsarClientImpl.getEventLoopGroup(PulsarClientImpl.java:743)\r\n        at org.apache.pulsar.client.impl.PulsarClientImpl.&lt;init&gt;(PulsarClientImpl.java:129)\r\n        at org.apache.pulsar.client.impl.ClientBuilderImpl.build(ClientBuilderImpl.java:64)\r\n        at demo.demo_user.main(demo_user.java:34)\r\nmain DEBUG internal.PlatformDependent0 - java.nio.DirectByteBuffer.&lt;init&gt;(long, int): unavailable\r\n main DEBUG internal.PlatformDependent - sun.misc.Unsafe: available\r\n main DEBUG internal.PlatformDependent - maxDirectMemory: 4148166656 bytes (maybe)\r\n main DEBUG internal.PlatformDependent - -Dio.netty.tmpdir: /tmp (java.io.tmpdir)\r\n main DEBUG internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)\r\n main DEBUG internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes\r\n main DEBUG internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1\r\n main DEBUG internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available\r\n main DEBUG internal.PlatformDependent - -Dio.netty.noPreferDirect: false\r\n main DEBUG internal.NativeLibraryLoader - -Dio.netty.native.workdir: /tmp (io.netty.tmpdir)\r\n main DEBUG internal.NativeLibraryLoader - -Dio.netty.native.deleteLibAfterLoading: true\r\n main DEBUG internal.NativeLibraryLoader - -Dio.netty.native.tryPatchShadedId: true\r\n main DEBUG internal.NativeLibraryLoader - Unable to load the library &#39;org_apache_pulsar_shade_netty_transport_native_epoll_x86_64&#39;, trying other loading mechanism.\r\n java.lang.UnsatisfiedLinkError: no org_apache_pulsar_shade_netty_transport_native_epoll_x86_64 in java.library.path: [/usr/java/packages/lib, /usr/lib/x86_64-linux-gnu/jni, /lib/x86_64-linux-gnu, /usr/lib/x86_64-linux-gnu, /usr/lib/jni, /lib, /usr/lib]\r\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2673)\r\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\r\n        at java.base/java.lang.System.loadLibrary(System.java:1873)\r\n        at org.apache.pulsar.shade.io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.apache.pulsar.shade.io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:371)\r\n```\r\n(etc...)\r\nI have the good dependencies in the pom.xml, but I don&#39;t understand what is exactly breaking as the client is initializing...\r\nMy log4j.properties is a basic one \r\n```\r\n log4j.rootLogger=debug, stdout\r\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.stdout.Target=System.out\r\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.stdout.layout.ConversionPattern=%t %-5p %c{2} - %m%n \r\n```\r\nSo I&#39;m asking if anyone knows what is going on with it ? \r\nI thought that it may be a connection error but I&#39;m not sure how to resolve the problem. \r\nThank you in advance.","title":"PulsarClient.builder() extremely long error logger","body":"<p>I am trying to make a pulsar client written in java, however I get an error with the logger(slf4j). I thought that it was because my PropertyConfigurator was badly made, but even if I use the defaultConfigurator I get the same extremely long error...\nIt breaks when I'm trying to make my PulsarClient as so:</p>\n<pre><code>this.client = PulsarClient.builder()\n              .serviceUrl(config.get(&quot;target&quot;))\n              .authentication(AuthenticationFactory.token(token))\n              .build();\n</code></pre>\n<p>The error I get:</p>\n<pre><code>main DEBUG logging.InternalLoggerFactory - Using SLF4J as the default logging framework\n main DEBUG internal.PlatformDependent0 - -Dio.netty.noUnsafe: false\n main DEBUG internal.PlatformDependent0 - Java version: 11\n main DEBUG internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available\n main DEBUG internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available\n main DEBUG internal.PlatformDependent0 - java.nio.Buffer.address: available\n main DEBUG internal.PlatformDependent0 - direct buffer constructor: unavailable\n java.lang.UnsupportedOperationException: Reflective setAccessible(true) disabled\n        at org.apache.pulsar.shade.io.netty.util.internal.ReflectionUtil.trySetAccessible(ReflectionUtil.java:31)\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0$4.run(PlatformDependent0.java:233)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0.&lt;clinit&gt;(PlatformDependent0.java:227)\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent.isAndroid(PlatformDependent.java:289)\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent.&lt;clinit&gt;(PlatformDependent.java:92)\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Native.loadNativeLibrary(Native.java:247)\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Native.&lt;clinit&gt;(Native.java:69)\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Epoll.&lt;clinit&gt;(Epoll.java:39)\n        at org.apache.pulsar.common.util.netty.EventLoopUtil.newEventLoopGroup(EventLoopUtil.java:46)\n        at org.apache.pulsar.client.impl.PulsarClientImpl.getEventLoopGroup(PulsarClientImpl.java:743)\n        at org.apache.pulsar.client.impl.PulsarClientImpl.&lt;init&gt;(PulsarClientImpl.java:129)\n        at org.apache.pulsar.client.impl.ClientBuilderImpl.build(ClientBuilderImpl.java:64)\n        at demo.demo_user.main(demo_user.java:34)\nmain DEBUG internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true\n main DEBUG internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable\n java.lang.IllegalAccessException: class org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0$6 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @33cb5951\n        at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)\n        at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:591)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:558)\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0$6.run(PlatformDependent0.java:347)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent0.&lt;clinit&gt;(PlatformDependent0.java:338)\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent.isAndroid(PlatformDependent.java:289)\n        at org.apache.pulsar.shade.io.netty.util.internal.PlatformDependent.&lt;clinit&gt;(PlatformDependent.java:92)\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Native.loadNativeLibrary(Native.java:247)\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Native.&lt;clinit&gt;(Native.java:69)\n        at org.apache.pulsar.shade.io.netty.channel.epoll.Epoll.&lt;clinit&gt;(Epoll.java:39)\n        at org.apache.pulsar.common.util.netty.EventLoopUtil.newEventLoopGroup(EventLoopUtil.java:46)\n        at org.apache.pulsar.client.impl.PulsarClientImpl.getEventLoopGroup(PulsarClientImpl.java:743)\n        at org.apache.pulsar.client.impl.PulsarClientImpl.&lt;init&gt;(PulsarClientImpl.java:129)\n        at org.apache.pulsar.client.impl.ClientBuilderImpl.build(ClientBuilderImpl.java:64)\n        at demo.demo_user.main(demo_user.java:34)\nmain DEBUG internal.PlatformDependent0 - java.nio.DirectByteBuffer.&lt;init&gt;(long, int): unavailable\n main DEBUG internal.PlatformDependent - sun.misc.Unsafe: available\n main DEBUG internal.PlatformDependent - maxDirectMemory: 4148166656 bytes (maybe)\n main DEBUG internal.PlatformDependent - -Dio.netty.tmpdir: /tmp (java.io.tmpdir)\n main DEBUG internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)\n main DEBUG internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes\n main DEBUG internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1\n main DEBUG internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available\n main DEBUG internal.PlatformDependent - -Dio.netty.noPreferDirect: false\n main DEBUG internal.NativeLibraryLoader - -Dio.netty.native.workdir: /tmp (io.netty.tmpdir)\n main DEBUG internal.NativeLibraryLoader - -Dio.netty.native.deleteLibAfterLoading: true\n main DEBUG internal.NativeLibraryLoader - -Dio.netty.native.tryPatchShadedId: true\n main DEBUG internal.NativeLibraryLoader - Unable to load the library 'org_apache_pulsar_shade_netty_transport_native_epoll_x86_64', trying other loading mechanism.\n java.lang.UnsatisfiedLinkError: no org_apache_pulsar_shade_netty_transport_native_epoll_x86_64 in java.library.path: [/usr/java/packages/lib, /usr/lib/x86_64-linux-gnu/jni, /lib/x86_64-linux-gnu, /usr/lib/x86_64-linux-gnu, /usr/lib/jni, /lib, /usr/lib]\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2673)\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\n        at java.base/java.lang.System.loadLibrary(System.java:1873)\n        at org.apache.pulsar.shade.io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.pulsar.shade.io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:371)\n</code></pre>\n<p>(etc...)\nI have the good dependencies in the pom.xml, but I don't understand what is exactly breaking as the client is initializing...\nMy log4j.properties is a basic one</p>\n<pre><code> log4j.rootLogger=debug, stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%t %-5p %c{2} - %m%n \n</code></pre>\n<p>So I'm asking if anyone knows what is going on with it ?\nI thought that it may be a connection error but I'm not sure how to resolve the problem.\nThank you in advance.</p>\n"},{"tags":["java","digital-ocean","aws-java-sdk","digital-ocean-spaces"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664098833,"post_id":73742465,"comment_id":130389684,"body_markdown":"http GET is stateless , should it have state.. Does the app have service allowance limits. Based on time or quantity. If it is free it could have such constraints. NB you can simply throw your expiry time long addition straight into the Date(timestamp+seconds) constructor","body":"http GET is stateless , should it have state.. Does the app have service allowance limits. Based on time or quantity. If it is free it could have such constraints. NB you can simply throw your expiry time long addition straight into the Date(timestamp+seconds) constructor"}],"answers":[{"tags":[],"owner":{"account_id":6843439,"reputation":108,"user_id":5262967,"display_name":"Amol Limaye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663756337,"creation_date":1663756337,"answer_id":73799261,"question_id":73742465,"body_markdown":"Generally, &quot;Timeout waiting for connection from connection pool&quot; comes when all the connections in the pool are &#39;busy&#39; and none is available for new request.\r\n\r\n\r\nCheck this question.\r\n\r\nDepending on which version you are using, you can try using the &#39;shutdown&#39; method, if there is one available for your version.\r\n\r\nhttps://stackoverflow.com/questions/26866739/how-do-i-close-an-aws-s3-client-connection#:~:text=You%20don&#39;t%20need%20to,to%20S3%20when%20using%20AmazonS3Client. ","title":"Issue with S3Client on DigitalOcean - Unable to execute HTTP request: Timeout waiting for connection from pool","body":"<p>Generally, &quot;Timeout waiting for connection from connection pool&quot; comes when all the connections in the pool are 'busy' and none is available for new request.</p>\n<p>Check this question.</p>\n<p>Depending on which version you are using, you can try using the 'shutdown' method, if there is one available for your version.</p>\n<p><a href=\"https://stackoverflow.com/questions/26866739/how-do-i-close-an-aws-s3-client-connection#:%7E:text=You%20don%27t%20need%20to,to%20S3%20when%20using%20AmazonS3Client\">https://stackoverflow.com/questions/26866739/how-do-i-close-an-aws-s3-client-connection#:~:text=You%20don't%20need%20to,to%20S3%20when%20using%20AmazonS3Client</a>.</p>\n"}],"owner":{"account_id":1355300,"reputation":2617,"user_id":1293827,"accept_rate":46,"display_name":"Shurik Agulyansky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664097382,"creation_date":1663319170,"question_id":73742465,"body_markdown":"In our app, we have attachments that are supposed to be secured. These attachments are stored in DO Spaces and we are generating resigned URLs to allow secured access.\r\n\r\nThe logic of signing the URLs looks like this:\r\n\r\n```\r\nString getSignUrl(String objectKey, Long expirationMillis) {\r\n        String signedUrl = null;\r\n        try {\r\n            AmazonS3 s3Client = awsClientProviderService.getS3Client()\r\n\r\n            // Set the presigned URL to expire after one hour.\r\n            Date expiration = new Date()\r\n            Long expTimeMillis = expiration.getTime();\r\n            expTimeMillis += expirationMillis;\r\n            expiration.setTime(expTimeMillis);\r\n\r\n            GeneratePresignedUrlRequest generatePresignedUrlRequest =\r\n                    new GeneratePresignedUrlRequest(spaceName, objectKey)\r\n                            .withMethod(HttpMethod.GET)\r\n                            .withExpiration(expiration);\r\n            URL url = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\r\n\r\n            signedUrl = url.toString()\r\n        } catch (AmazonServiceException e) {\r\n            log.error(e.message, e)\r\n        } catch (SdkClientException e) {\r\n            log.error(e.message, e)\r\n        }\r\n\r\n        signedUrl\r\n    }\r\n```\r\n\r\nWhere `getS3Client` is:\r\n\r\n```\r\nAmazonS3 getS3Client() {\r\n        if (!s3Client) {\r\n            AWSStaticCredentialsProvider credentials =\r\n                    new AWSStaticCredentialsProvider(new BasicAWSCredentials(accessKey, secret))\r\n            s3Client = AmazonS3ClientBuilder\r\n                    .standard()\r\n                    .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(endpoint, region))\r\n                    .withCredentials(credentials)\r\n                    .build()\r\n        }\r\n\r\n        s3Client\r\n    }\r\n```\r\n\r\nAll good until now and works great. \r\n\r\nHowever, when we start signing the URLs, after 50 of these requests we are getting the following error:\r\n\r\n```\r\nUnable to execute HTTP request: Timeout waiting for connection from pool\r\n```\r\n\r\nDigging around a bit, I tried adding `maxConnections` to the client:\r\n```.withClientConfiguration(new ClientConfiguration().withMaxConnections(20))```\r\n\r\nThis caused to get the error after 20 such requests. By the way, even if we sign 5 URLs first, then wait for 10 min, try another batch. The error occurs after 20 requests collectively.\r\n\r\nTried, 100 connections. Same story after 100 requests.\r\n\r\nThis made me think that the connections are not getting released for some reason. And the only thing that I could find is people proposing to increase `maxConnections` to 1000. But, that would just defer the issue.\r\n\r\nWhat is the solution here? How can we release connections of S3Client?","title":"Issue with S3Client on DigitalOcean - Unable to execute HTTP request: Timeout waiting for connection from pool","body":"<p>In our app, we have attachments that are supposed to be secured. These attachments are stored in DO Spaces and we are generating resigned URLs to allow secured access.</p>\n<p>The logic of signing the URLs looks like this:</p>\n<pre><code>String getSignUrl(String objectKey, Long expirationMillis) {\n        String signedUrl = null;\n        try {\n            AmazonS3 s3Client = awsClientProviderService.getS3Client()\n\n            // Set the presigned URL to expire after one hour.\n            Date expiration = new Date()\n            Long expTimeMillis = expiration.getTime();\n            expTimeMillis += expirationMillis;\n            expiration.setTime(expTimeMillis);\n\n            GeneratePresignedUrlRequest generatePresignedUrlRequest =\n                    new GeneratePresignedUrlRequest(spaceName, objectKey)\n                            .withMethod(HttpMethod.GET)\n                            .withExpiration(expiration);\n            URL url = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\n\n            signedUrl = url.toString()\n        } catch (AmazonServiceException e) {\n            log.error(e.message, e)\n        } catch (SdkClientException e) {\n            log.error(e.message, e)\n        }\n\n        signedUrl\n    }\n</code></pre>\n<p>Where <code>getS3Client</code> is:</p>\n<pre><code>AmazonS3 getS3Client() {\n        if (!s3Client) {\n            AWSStaticCredentialsProvider credentials =\n                    new AWSStaticCredentialsProvider(new BasicAWSCredentials(accessKey, secret))\n            s3Client = AmazonS3ClientBuilder\n                    .standard()\n                    .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(endpoint, region))\n                    .withCredentials(credentials)\n                    .build()\n        }\n\n        s3Client\n    }\n</code></pre>\n<p>All good until now and works great.</p>\n<p>However, when we start signing the URLs, after 50 of these requests we are getting the following error:</p>\n<pre><code>Unable to execute HTTP request: Timeout waiting for connection from pool\n</code></pre>\n<p>Digging around a bit, I tried adding <code>maxConnections</code> to the client:\n<code>.withClientConfiguration(new ClientConfiguration().withMaxConnections(20))</code></p>\n<p>This caused to get the error after 20 such requests. By the way, even if we sign 5 URLs first, then wait for 10 min, try another batch. The error occurs after 20 requests collectively.</p>\n<p>Tried, 100 connections. Same story after 100 requests.</p>\n<p>This made me think that the connections are not getting released for some reason. And the only thing that I could find is people proposing to increase <code>maxConnections</code> to 1000. But, that would just defer the issue.</p>\n<p>What is the solution here? How can we release connections of S3Client?</p>\n"},{"tags":["java","openapi","swagger-3.0"],"answers":[{"tags":[],"owner":{"account_id":1311512,"reputation":375,"user_id":1259426,"display_name":"Ali HAMDI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662548350,"creation_date":1662548350,"answer_id":73634331,"question_id":71716432,"body_markdown":"You may need to check the project https://github.com/Mermade/widdershins\r\nIt is a good tool that converts from Openapi specs to markdown.\r\nit is an npm module, and it is generating markdown to use on Redoc, but you can still customize the generated template","title":"Preferred way to convert openapi 3 document (json or yaml) to markdown, adoc or any other static format","body":"<p>You may need to check the project <a href=\"https://github.com/Mermade/widdershins\" rel=\"nofollow noreferrer\">https://github.com/Mermade/widdershins</a>\nIt is a good tool that converts from Openapi specs to markdown.\nit is an npm module, and it is generating markdown to use on Redoc, but you can still customize the generated template</p>\n"},{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664096930,"creation_date":1664096930,"answer_id":73843286,"question_id":71716432,"body_markdown":"I&#39;ve found the correct maven plugin to do this:\r\n\r\n    \r\n    &lt;plugin&gt;\r\n        &lt;!-- converts the openapi docu to html --&gt;\r\n        &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.35&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;export-opennapi-to-html-doc&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                   &lt;inputSpec&gt;${project.build.directory}/api.yml&lt;/inputSpec&gt;\r\n                   &lt;language&gt;html2&lt;/language&gt;\r\n                   &lt;output&gt;${project.basedir}/docs&lt;/output&gt;\r\n                 &lt;/configuration&gt;\r\n             &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Preferred way to convert openapi 3 document (json or yaml) to markdown, adoc or any other static format","body":"<p>I've found the correct maven plugin to do this:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;!-- converts the openapi docu to html --&gt;\n    &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.35&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;export-opennapi-to-html-doc&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n               &lt;inputSpec&gt;${project.build.directory}/api.yml&lt;/inputSpec&gt;\n               &lt;language&gt;html2&lt;/language&gt;\n               &lt;output&gt;${project.basedir}/docs&lt;/output&gt;\n             &lt;/configuration&gt;\n         &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3863,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":73843286,"answer_count":2,"score":3,"last_activity_date":1664096930,"creation_date":1648892514,"question_id":71716432,"body_markdown":"I try to find an easy way in java to convert an openapi 3 document (json or yaml) in a static format like markdown, html or adoc. Searching around I&#39;ve found a view projects like [Swagger2Markup][1], but they aren&#39;t ready for Openapi v3!\r\n\r\nDoes anyone have any advice or an hint for a library or maven plugin for me?\r\n\r\n  [1]: https://github.com/Swagger2Markup/swagger2markup","title":"Preferred way to convert openapi 3 document (json or yaml) to markdown, adoc or any other static format","body":"<p>I try to find an easy way in java to convert an openapi 3 document (json or yaml) in a static format like markdown, html or adoc. Searching around I've found a view projects like <a href=\"https://github.com/Swagger2Markup/swagger2markup\" rel=\"nofollow noreferrer\">Swagger2Markup</a>, but they aren't ready for Openapi v3!</p>\n<p>Does anyone have any advice or an hint for a library or maven plugin for me?</p>\n"},{"tags":["java","android","kotlin","jvm","kotlin-flow"],"answers":[{"tags":[],"owner":{"account_id":4471460,"reputation":2059,"user_id":3808828,"accept_rate":73,"display_name":"Selali Adobor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664096722,"creation_date":1664089495,"answer_id":73842636,"question_id":73841083,"body_markdown":"Thinking about this more, it makes sense, it was just very non-obvious what was happening because of the incorrect message from the IDE [1]\r\n\r\nThe gist of what I was doing is:\r\n   \r\n    createViewModel() {\r\n        val repository = new Repository()\r\n\r\n        return new ViewModel(repository.showTimer) \r\n    } \r\n\r\nThe root issue is: *As soon as the current scope is exited, nothing is referencing `repository`, and it&#39;s eligible for garbage collection.*\r\n\r\nNormally this wouldn&#39;t be an issue, but in this case ***Repository was supposed to insert values into `showTimer`***. \r\n\r\n`Repository` was listening to an event source and posting new values to `showTimer`. But once it&#39;s garbage collected it ceases to post to `showTimer`. So while `viewModel` has a reference to `showTimer`, *there&#39;s no one left to update it.*\r\n\r\n---\r\n\r\nJust to confirm that was exactly what was happening, I added a finalizer that logged the stack trace when Repository was collected, along the lines of:\r\n\r\n       class Repository(){\r\n           val stackTraceWhenCreated = GetStackTrace()\r\n\r\n           fun finalize() { //Run when Repository is garbage collected\r\n               logger.info(&quot;Repository finalized, was created at $stackTraceWhenCreated&quot;)\r\n           }\r\n       }\r\n\r\nAnd sure enough, the logs show immediately after leaving `createViewModel`, the repository is garbage collected (heavily truncated logs:)\r\n\r\n    Repository was finalized, was created at:\r\n      java.lang.Exception\r\n       at Repository.Constructor\r\n       at createViewModel()\r\n\r\n---\r\n\r\nSo any change that that explicitly holds a reference to `repository` past the end of the function scope works... including adding `val`. That forces ViewModel to hold onto `repository` for its lifetime and allows `showTimer` to be updated.\r\n\r\nI went with something a little more explicit and stored a reference to Repository in the calling class for createViewModel().\r\n\r\n\r\n---\r\n\r\n[1] Thinking about this _even more_ I realized the reason why I&#39;ve never run into this, despite it being such a common pattern, is a quirk of the event source being used\r\n\r\nNormally registering a listener goes along the lines of\r\n\r\n        val myListener = { this.updateValue() }\r\n        eventSource.registerListener(myListener)\r\n\r\n        //Some time later\r\n        eventSource.unregisterListener(myListener)\r\n\r\n \r\nCausing a reference to be held to `this` as long as the eventSource is subscribed to. But this specific `eventSource` explicitly mentions only holding _WeakReference_ to its listeners (it&#39;s a long well known source of confusion: https://stackoverflow.com/questions/35935936/what-is-meant-by-a-strong-reference-to-an-object-and-why-should-we-store-the). \r\n\r\nI had accounted for this by storing the listener in a field, but since the only reference to said listener is a _WeakReference_, by extension the only reference to the entire class is a _WeakReference_ \r\n\r\nSo I decided to fix it by having Repository hold a strong reference to the listener in a static variable, and adding an explicit &quot;close&quot; method to Repository.","title":"Removing unnecessary `val` qualifier breaks this class","body":"<p>Thinking about this more, it makes sense, it was just very non-obvious what was happening because of the incorrect message from the IDE [1]</p>\n<p>The gist of what I was doing is:</p>\n<pre><code>createViewModel() {\n    val repository = new Repository()\n\n    return new ViewModel(repository.showTimer) \n} \n</code></pre>\n<p>The root issue is: <em>As soon as the current scope is exited, nothing is referencing <code>repository</code>, and it's eligible for garbage collection.</em></p>\n<p>Normally this wouldn't be an issue, but in this case <em><strong>Repository was supposed to insert values into <code>showTimer</code></strong></em>.</p>\n<p><code>Repository</code> was listening to an event source and posting new values to <code>showTimer</code>. But once it's garbage collected it ceases to post to <code>showTimer</code>. So while <code>viewModel</code> has a reference to <code>showTimer</code>, <em>there's no one left to update it.</em></p>\n<hr />\n<p>Just to confirm that was exactly what was happening, I added a finalizer that logged the stack trace when Repository was collected, along the lines of:</p>\n<pre><code>   class Repository(){\n       val stackTraceWhenCreated = GetStackTrace()\n\n       fun finalize() { //Run when Repository is garbage collected\n           logger.info(&quot;Repository finalized, was created at $stackTraceWhenCreated&quot;)\n       }\n   }\n</code></pre>\n<p>And sure enough, the logs show immediately after leaving <code>createViewModel</code>, the repository is garbage collected (heavily truncated logs:)</p>\n<pre><code>Repository was finalized, was created at:\n  java.lang.Exception\n   at Repository.Constructor\n   at createViewModel()\n</code></pre>\n<hr />\n<p>So any change that that explicitly holds a reference to <code>repository</code> past the end of the function scope works... including adding <code>val</code>. That forces ViewModel to hold onto <code>repository</code> for its lifetime and allows <code>showTimer</code> to be updated.</p>\n<p>I went with something a little more explicit and stored a reference to Repository in the calling class for createViewModel().</p>\n<hr />\n<p>[1] Thinking about this <em>even more</em> I realized the reason why I've never run into this, despite it being such a common pattern, is a quirk of the event source being used</p>\n<p>Normally registering a listener goes along the lines of</p>\n<pre><code>    val myListener = { this.updateValue() }\n    eventSource.registerListener(myListener)\n\n    //Some time later\n    eventSource.unregisterListener(myListener)\n</code></pre>\n<p>Causing a reference to be held to <code>this</code> as long as the eventSource is subscribed to. But this specific <code>eventSource</code> explicitly mentions only holding <em>WeakReference</em> to its listeners (it's a long well known source of confusion: <a href=\"https://stackoverflow.com/questions/35935936/what-is-meant-by-a-strong-reference-to-an-object-and-why-should-we-store-the\">What is meant by a &#39;strong&#39; reference to an object, and why should we store the reference to OnSharedPreferenceChangeListener in an object&#39;s data?</a>).</p>\n<p>I had accounted for this by storing the listener in a field, but since the only reference to said listener is a <em>WeakReference</em>, by extension the only reference to the entire class is a <em>WeakReference</em></p>\n<p>So I decided to fix it by having Repository hold a strong reference to the listener in a static variable, and adding an explicit &quot;close&quot; method to Repository.</p>\n"}],"owner":{"account_id":4471460,"reputation":2059,"user_id":3808828,"accept_rate":73,"display_name":"Selali Adobor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664096722,"creation_date":1664060381,"question_id":73841083,"body_markdown":"**Update: It&#39;s (almost) never a compiler bug, answered with explanation after coming back to it**\r\n\r\nI have a class `OverlaySensorViewModel` that exposes a `Flow&lt;Boolean&gt;`. This `Flow` object comes from an object that it receives in a constructor:\r\n\r\n\r\n    class OverlaySensorViewModel(val repository: Repository) {\r\n       val showTimer = repository.showTimer\r\n    }\r\n\r\nOther classes then reference `showTimer` as `viewModel.showTimer`.\r\n\r\n---\r\n\r\nThe `repository` parameter is not being used outside of initialization, so it technically doesn&#39;t need to be declared as a `val`. \r\n\r\nAnd IntelliJ rightly points this out:\r\n\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/KtZeN.png&quot; width=&quot;400&quot; /&gt;\r\n\r\n---\r\n\r\nHowever... removing the `val` qualifier breaks the class: ***Subscriptions to `OverlaySensorViewModel.showTimer` will no longer work.***\r\n\r\nIn fact, to isolate the problem I tried moving all subscriptions to the class itself, and even in the init block they stop working:\r\n\r\n     class OverlaySensorViewModel{\r\n     //...\r\n     init {\r\n        CoroutineScope(Dispatchers.IO).launch {\r\n            showTimer.collect{\r\n                print(&quot;Updated $it&quot;) // Stops working if `val` is removed\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nIs this some sort of deep JVM initialization order quirk that I&#39;m stumbling across? Or some Kotlin Flow inconsistency?\r\n\r\n---\r\n\r\n`Repository` has an implementation along the lines of:\r\n\r\n    class Repository{\r\n        private val mutableShowTimer = MutableStateFlow(true)\r\n        val showTimer = mutableShowTimer.asSharedFlow()\r\n    }\r\n\r\nCould there be some sort of initialization order issue with the `.asSharedFlow()` call? Even so, I really don&#39;t understand how adding or removing `val` would change anything, especially with IntelliJ agreeing I didn&#39;t accidentally use it somewhere else\r\n\r\n---\r\n\r\nTo deepen the mystery, I have another class that follows an almost identical pattern.\r\n\r\nThis class references `repository` outside of initialization, so as a test I captured the value of `repository` in a closure and removed `val`\r\n\r\n    class ConfigurationViewModel(repository : Repository) {\r\n       val repositoryCaptor = { repostiory } // Needed so that val can be removed\r\n       val showTimer = repostitory.showTimer\r\n       // ...\r\n       fun setShowTimer(value : Boolean){\r\n          repositoryCaptor().setShowTimer(value)\r\n      }\r\n    }\r\n\r\n\r\nEverything continues to work. As I would expect, there&#39;s no meaningful difference between capturing the value at initialization or using it later on.\r\n\r\n\r\nI&#39;m really reluctant to just leave this be because it&#39;s extremely non-obvious that there&#39;d be any difference.\r\n\r\nI was thinking that it could be an issue with garbage collection, but holding onto a reference of `someObject.member` should prevent `someObject` from being garbage collected right? I&#39;d also expect an NPE if anything, but subscriptions seem to just silently fail.\r\n\r\n\r\nBoth classes are created in a similar manner, `XXXViewModel(Repository())`, so I&#39;d expect a similar failure in both cases too\r\n\r\n\r\n---\r\n\r\n**Edit:** For posterity these are the full class definitions, and a tag where it the issue exists\r\n\r\n[OverlaySensorViewModel.kt (Having removed `val` at the linked line broke the class)](https://github.com/SelaliAdobor/Grupetto/blob/787361bac82e91d0a39c7b8cc546e14636f587cf/app/src/main/java/com/spop/poverlay/overlay/OverlaySensorViewModel.kt#L28)\r\n\r\n[ConfigurationViewModel.kt (Works as expected despite identical usage)](https://github.com/SelaliAdobor/Grupetto/blob/787361bac82e91d0a39c7b8cc546e14636f587cf/app/src/main/java/com/spop/poverlay/ConfigurationViewModel.kt)\r\n\r\n[ConfigurationRepository.kt (The repository in question)](https://github.com/SelaliAdobor/Grupetto/blob/787361bac82e91d0a39c7b8cc546e14636f587cf/app/src/main/java/com/spop/poverlay/ConfigurationRepository.kt)","title":"Removing unnecessary `val` qualifier breaks this class","body":"<p><strong>Update: It's (almost) never a compiler bug, answered with explanation after coming back to it</strong></p>\n<p>I have a class <code>OverlaySensorViewModel</code> that exposes a <code>Flow&lt;Boolean&gt;</code>. This <code>Flow</code> object comes from an object that it receives in a constructor:</p>\n<pre><code>class OverlaySensorViewModel(val repository: Repository) {\n   val showTimer = repository.showTimer\n}\n</code></pre>\n<p>Other classes then reference <code>showTimer</code> as <code>viewModel.showTimer</code>.</p>\n<hr />\n<p>The <code>repository</code> parameter is not being used outside of initialization, so it technically doesn't need to be declared as a <code>val</code>.</p>\n<p>And IntelliJ rightly points this out:</p>\n<img src=\"https://i.stack.imgur.com/KtZeN.png\" width=\"400\" />\n<hr />\n<p>However... removing the <code>val</code> qualifier breaks the class: <em><strong>Subscriptions to <code>OverlaySensorViewModel.showTimer</code> will no longer work.</strong></em></p>\n<p>In fact, to isolate the problem I tried moving all subscriptions to the class itself, and even in the init block they stop working:</p>\n<pre><code> class OverlaySensorViewModel{\n //...\n init {\n    CoroutineScope(Dispatchers.IO).launch {\n        showTimer.collect{\n            print(&quot;Updated $it&quot;) // Stops working if `val` is removed\n        }\n    }\n}\n</code></pre>\n<p>Is this some sort of deep JVM initialization order quirk that I'm stumbling across? Or some Kotlin Flow inconsistency?</p>\n<hr />\n<p><code>Repository</code> has an implementation along the lines of:</p>\n<pre><code>class Repository{\n    private val mutableShowTimer = MutableStateFlow(true)\n    val showTimer = mutableShowTimer.asSharedFlow()\n}\n</code></pre>\n<p>Could there be some sort of initialization order issue with the <code>.asSharedFlow()</code> call? Even so, I really don't understand how adding or removing <code>val</code> would change anything, especially with IntelliJ agreeing I didn't accidentally use it somewhere else</p>\n<hr />\n<p>To deepen the mystery, I have another class that follows an almost identical pattern.</p>\n<p>This class references <code>repository</code> outside of initialization, so as a test I captured the value of <code>repository</code> in a closure and removed <code>val</code></p>\n<pre><code>class ConfigurationViewModel(repository : Repository) {\n   val repositoryCaptor = { repostiory } // Needed so that val can be removed\n   val showTimer = repostitory.showTimer\n   // ...\n   fun setShowTimer(value : Boolean){\n      repositoryCaptor().setShowTimer(value)\n  }\n}\n</code></pre>\n<p>Everything continues to work. As I would expect, there's no meaningful difference between capturing the value at initialization or using it later on.</p>\n<p>I'm really reluctant to just leave this be because it's extremely non-obvious that there'd be any difference.</p>\n<p>I was thinking that it could be an issue with garbage collection, but holding onto a reference of <code>someObject.member</code> should prevent <code>someObject</code> from being garbage collected right? I'd also expect an NPE if anything, but subscriptions seem to just silently fail.</p>\n<p>Both classes are created in a similar manner, <code>XXXViewModel(Repository())</code>, so I'd expect a similar failure in both cases too</p>\n<hr />\n<p><strong>Edit:</strong> For posterity these are the full class definitions, and a tag where it the issue exists</p>\n<p><a href=\"https://github.com/SelaliAdobor/Grupetto/blob/787361bac82e91d0a39c7b8cc546e14636f587cf/app/src/main/java/com/spop/poverlay/overlay/OverlaySensorViewModel.kt#L28\" rel=\"nofollow noreferrer\">OverlaySensorViewModel.kt (Having removed <code>val</code> at the linked line broke the class)</a></p>\n<p><a href=\"https://github.com/SelaliAdobor/Grupetto/blob/787361bac82e91d0a39c7b8cc546e14636f587cf/app/src/main/java/com/spop/poverlay/ConfigurationViewModel.kt\" rel=\"nofollow noreferrer\">ConfigurationViewModel.kt (Works as expected despite identical usage)</a></p>\n<p><a href=\"https://github.com/SelaliAdobor/Grupetto/blob/787361bac82e91d0a39c7b8cc546e14636f587cf/app/src/main/java/com/spop/poverlay/ConfigurationRepository.kt\" rel=\"nofollow noreferrer\">ConfigurationRepository.kt (The repository in question)</a></p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1644875175,"post_id":71117723,"comment_id":125716711,"body_markdown":"remember that writing cookies takes some time... the server will send a header that tells the browser to write a cookie.  It doesn&#39;t take long, but does take a small amount of time.  If, after you accept the cookie prompt, you don&#39;t wait for a little bit before navigating to another page, the choice may not be saved.","body":"remember that writing cookies takes some time... the server will send a header that tells the browser to write a cookie.  It doesn&#39;t take long, but does take a small amount of time.  If, after you accept the cookie prompt, you don&#39;t wait for a little bit before navigating to another page, the choice may not be saved."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644870167,"creation_date":1644870167,"answer_id":71117859,"question_id":71117723,"body_markdown":"To [_click()_](https://stackoverflow.com/a/70077251/7429447) on the element you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- _cssSelector_:\r\n\r\n\t  Driver.get(&quot;http://www.playok.com/en/spades/&quot;);\r\n\t  new WebDriverWait(Driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button.ckbut.but0&quot;))).click();\r\n           \t\r\n- _xpath_:\r\n\r\n\t  Driver.get(&quot;http://www.playok.com/en/spades/&quot;);\r\n\t  new WebDriverWait(Driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@class=&#39;ckbut but0&#39; and text()=&#39;ACCEPT&#39;]&quot;))).click();","title":"How to automate accept cookies pop-up from java app using Selenium","body":"<p>To <a href=\"https://stackoverflow.com/a/70077251/7429447\"><em>click()</em></a> on the element you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p><em>cssSelector</em>:</p>\n<pre><code>Driver.get(&quot;http://www.playok.com/en/spades/&quot;);\nnew WebDriverWait(Driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button.ckbut.but0&quot;))).click();\n</code></pre>\n</li>\n<li><p><em>xpath</em>:</p>\n<pre><code>Driver.get(&quot;http://www.playok.com/en/spades/&quot;);\nnew WebDriverWait(Driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@class='ckbut but0' and text()='ACCEPT']&quot;))).click();\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"display_name":"user16179064"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71117859,"answer_count":1,"score":1,"last_activity_date":1664096509,"creation_date":1644869442,"question_id":71117723,"body_markdown":"The app is going to load the system default browser, load a special website, and then login automatically \r\n\r\n    import java.awt.Desktop;\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n    public class theurl {\r\n    public static void main(String[] args) {\r\n        String url = &quot;http://www.playok.com/en/spades/&quot;;\r\n        if(Desktop.isDesktopSupported()){\r\n            Desktop desktop = Desktop.getDesktop();\r\n            try {\r\n                desktop.browse(new URI(url));\r\n            } catch (IOException | URISyntaxException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }else{\r\n            Runtime runtime = Runtime.getRuntime();\r\n            try {\r\n                runtime.exec(&quot;xdg-open &quot; + url);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nBut before trying to login, first the cookies should be accepted automatically; is there a simple way to do it rather than using an external library? if not, which library can do the job\r\n\r\nI tried this code, but didnt help:\r\n\r\n\r\n    WebDriver Driver = new ChromeDriver();\r\n    Driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n    String url = &quot;http://www.playok.com/en/spades/&quot;;\r\n    Driver.get(url);\r\n    Driver.findElement(By.id(&quot;cookie_action_close_header&quot;)).click();\r\n    System.out.println(&quot;completed&quot;);","title":"How to automate accept cookies pop-up from java app using Selenium","body":"<p>The app is going to load the system default browser, load a special website, and then login automatically</p>\n<pre><code>import java.awt.Desktop;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class theurl {\npublic static void main(String[] args) {\n    String url = &quot;http://www.playok.com/en/spades/&quot;;\n    if(Desktop.isDesktopSupported()){\n        Desktop desktop = Desktop.getDesktop();\n        try {\n            desktop.browse(new URI(url));\n        } catch (IOException | URISyntaxException e) {\n            e.printStackTrace();\n        }\n    }else{\n        Runtime runtime = Runtime.getRuntime();\n        try {\n            runtime.exec(&quot;xdg-open &quot; + url);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>But before trying to login, first the cookies should be accepted automatically; is there a simple way to do it rather than using an external library? if not, which library can do the job</p>\n<p>I tried this code, but didnt help:</p>\n<pre><code>WebDriver Driver = new ChromeDriver();\nDriver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\nString url = &quot;http://www.playok.com/en/spades/&quot;;\nDriver.get(url);\nDriver.findElement(By.id(&quot;cookie_action_close_header&quot;)).click();\nSystem.out.println(&quot;completed&quot;);\n</code></pre>\n"},{"tags":["java","rest","database-design","guid","uniqueidentifier"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":3,"creation_date":1664091307,"post_id":73842728,"comment_id":130388561,"body_markdown":"There is nothing wrong per se in exposing the primary key from your API.  Why do you think there is something wrong with this?","body":"There is nothing wrong per se in exposing the primary key from your API.  Why do you think there is something wrong with this?"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":3,"creation_date":1664091511,"post_id":73842728,"comment_id":130388587,"body_markdown":"...how can a caller refer to its order without a PK?","body":"...how can a caller refer to its order without a PK?"},{"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"score":0,"creation_date":1664109509,"post_id":73842728,"comment_id":130391497,"body_markdown":"@TimBiegeleisen it would be easier for someone to guess the sequence and try to randomly pull data for a different tenant","body":"@TimBiegeleisen it would be easier for someone to guess the sequence and try to randomly pull data for a different tenant"},{"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"score":0,"creation_date":1664109655,"post_id":73842728,"comment_id":130391515,"body_markdown":"@TimBiegeleisen is it better to use a primary key based on a Long or GUID as a primary key","body":"@TimBiegeleisen is it better to use a primary key based on a Long or GUID as a primary key"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1664116854,"post_id":73842728,"comment_id":130392947,"body_markdown":"It really depends on a few things.  A UUID would make sense if you wanted to make the primary key not only unique within its table but also unique within the entire database or system.","body":"It really depends on a few things.  A UUID would make sense if you wanted to make the primary key not only unique within its table but also unique within the entire database or system."},{"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"score":0,"creation_date":1664181199,"post_id":73842728,"comment_id":130403982,"body_markdown":"@TimBiegeleisen UUID has performance issues, hence we went with Long","body":"@TimBiegeleisen UUID has performance issues, hence we went with Long"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1664181270,"post_id":73842728,"comment_id":130403997,"body_markdown":"That is fine; you should probably only use a UUID if long does not satisfy all requirements.","body":"That is fine; you should probably only use a UUID if long does not satisfy all requirements."}],"answers":[{"tags":[],"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664096386,"creation_date":1664096386,"answer_id":73843237,"question_id":73842728,"body_markdown":"Just use access control and don&#39;t send the order ID to users and clients who have nothing to do with it. Exposing the PK is perfectly fine, but if you don&#39;t want to do it, then use a secondary key or a bunch of properties which are unique to the order, for example the user id and the timestamp.","title":"How to avoid exposing internal database primary keys for an entity in a REST call","body":"<p>Just use access control and don't send the order ID to users and clients who have nothing to do with it. Exposing the PK is perfectly fine, but if you don't want to do it, then use a secondary key or a bunch of properties which are unique to the order, for example the user id and the timestamp.</p>\n"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1664096386,"creation_date":1664090867,"question_id":73842728,"body_markdown":"How to avoid exposing internal database primary keys for an entity in a REST call using a backend API built using Spring Boot framework\r\n\r\n    public class Order {\r\n    \r\n        private Long id;\r\n        private String uniqId; // say a GUID\r\n        // other attributes \r\n    }\r\n\r\nWe are currently exposing the following API calls\r\n\r\n    POST /api/v1/orders\r\n    GET /api/v1/orders/&lt;order_id&gt;\r\n    GET api/v1/orders - list call\r\n\r\nWe don&#39;t want to expose the primary key of the Order to the user interface layer or to external API users who will consume this API. Does that mean we should modify the API interfaces to perform lookup based on uniq_id instead something like as follows and use the primary key (order.id) only for FK reference\r\n\r\n    GET /api/v1/orders/&lt;order_uniq_id&gt;\r\n\r\nHow best to expose the API calls here and construct the database schema for Order entity\r\n","title":"How to avoid exposing internal database primary keys for an entity in a REST call","body":"<p>How to avoid exposing internal database primary keys for an entity in a REST call using a backend API built using Spring Boot framework</p>\n<pre><code>public class Order {\n\n    private Long id;\n    private String uniqId; // say a GUID\n    // other attributes \n}\n</code></pre>\n<p>We are currently exposing the following API calls</p>\n<pre><code>POST /api/v1/orders\nGET /api/v1/orders/&lt;order_id&gt;\nGET api/v1/orders - list call\n</code></pre>\n<p>We don't want to expose the primary key of the Order to the user interface layer or to external API users who will consume this API. Does that mean we should modify the API interfaces to perform lookup based on uniq_id instead something like as follows and use the primary key (order.id) only for FK reference</p>\n<pre><code>GET /api/v1/orders/&lt;order_uniq_id&gt;\n</code></pre>\n<p>How best to expose the API calls here and construct the database schema for Order entity</p>\n"},{"tags":["java","spring-boot","ubuntu","tomcat","war"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1631297169,"post_id":69136019,"comment_id":122192989,"body_markdown":"The details of the error can be found in the log files, please add them to your question.","body":"The details of the error can be found in the log files, please add them to your question."},{"owner":{"account_id":16512034,"reputation":65,"user_id":11930490,"display_name":"travel"},"score":0,"creation_date":1631298096,"post_id":69136019,"comment_id":122193309,"body_markdown":"Can you please tell me how can I check the log files in the tomcat server? @PiotrP.Karwasz","body":"Can you please tell me how can I check the log files in the tomcat server? @PiotrP.Karwasz"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1631298238,"post_id":69136019,"comment_id":122193371,"body_markdown":"The logs are in the `/opt/tomcat/logs` directory. A deployment error should be in `localhost.&lt;date&gt;.log`, but check also `catalina.&lt;date&gt;.log` and `manager.&lt;date&gt;.log`.","body":"The logs are in the <code>&#47;opt&#47;tomcat&#47;logs</code> directory. A deployment error should be in <code>localhost.&lt;date&gt;.log</code>, but check also <code>catalina.&lt;date&gt;.log</code> and <code>manager.&lt;date&gt;.log</code>."},{"owner":{"account_id":16512034,"reputation":65,"user_id":11930490,"display_name":"travel"},"score":0,"creation_date":1631299299,"post_id":69136019,"comment_id":122193724,"body_markdown":"I have added the logs in my question. Can you please help me by looking at the logs? @PiotrP.Karwasz","body":"I have added the logs in my question. Can you please help me by looking at the logs? @PiotrP.Karwasz"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1631342490,"post_id":69136019,"comment_id":122200712,"body_markdown":"Please don&#39;t add logs and other text information as images! Add them as text (copy/paste). The images you posted lack cut the end of the error messages (the real cause is at the end) and are not searchable.","body":"Please don&#39;t add logs and other text information as images! Add them as text (copy/paste). The images you posted lack cut the end of the error messages (the real cause is at the end) and are not searchable."}],"answers":[{"tags":[],"owner":{"account_id":18466893,"reputation":96,"user_id":13452809,"display_name":"souvikbachhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631297742,"creation_date":1631297742,"answer_id":69136444,"question_id":69136019,"body_markdown":"This is because your app does not knows that it is invoked by external tomcat.\r\nNeed to change scope to provided,add this in pom and check\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;  \r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;  \r\n     \r\n\r\n","title":"Java project is not running on tomcat server from tomcat manager after deploying war file to webapps?","body":"<p>This is because your app does not knows that it is invoked by external tomcat.\nNeed to change scope to provided,add this in pom and check</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;  \n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;  \n \n</code></pre>\n"}],"owner":{"account_id":16512034,"reputation":65,"user_id":11930490,"display_name":"travel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":842,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664095451,"creation_date":1631295458,"question_id":69136019,"body_markdown":"I have made a project on spring tool suit. This project is running fine in local embaded tomcat server. But when I deployed the war file to the external tomcat servers webapps folder I cannot run the project from the tomcat manager. **When I click start it shows two errors: FAIL - Application at context path [/payemntmodule] could not be started\r\nFAIL - Encountered exception [org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/paymentmodule]]]**\r\n\r\n Here are the details of my project: \r\n\r\n **java version**\r\n\r\n    java --version\r\n    openjdk 11.0.11 2021-04-20\r\n    OpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\r\n\r\n**tomcat.service**\r\n\r\n    [Service]\r\n    Type=forking\r\n\r\n    Environment=JAVA_HOME= /usr/lib/jvm/java-1.11.0-openjdk-amd64\r\n    Environment=CATALINA_PID=/opt/tomcat/temp/tomcat.pid\r\n    Environment=CATALINA_HOME=/opt/tomcat\r\n    Environment=CATALINA_BASE=/opt/tomcat\r\n    Environment=CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC\r\n    Environment=JAVA_OPTS= -Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom\r\n\r\n    ExecStart=/opt/tomcat/bin/startup.sh\r\n    ExecStop=/opt/tomcat/bin/shutdown.sh\r\n\r\n    User=tomcat\r\n    Group=tomcat\r\n    UMask=0007\r\n    RestartSec=10\r\n    Restart=always\r\n\r\n    [Install]\r\n    WantedBy=multi-user.target\r\n\r\n[![/opt/tomcat/webapps][1]][1]\r\n\r\n\r\n[![Deployed war file to the tomcat manager][2]][2]\r\n\r\n\r\n[![File permissions of webapps][3]][3]\r\n\r\n\r\n**Errors:** \r\n\r\n    FAIL - Application at context path [/paymentmodule] could not be started\r\n    FAIL - Encountered exception [org.apache.catalina.LifecycleException: Failed to start \r\n    component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/paymentmodule]]]\r\n\r\n[![Tomcat Manager with error][4]][4]\r\n\r\n\r\n**Logs:**\r\n\r\n[![tomcat.log][5]][5]\r\n\r\n\r\n**manager.log**\r\n\r\n[![manager.log][6]][6]\r\n\r\n\r\n[![manager.log][7]][7]\r\n\r\n\r\n[![manager.log][8]][8]\r\n\r\n\r\n","title":"Java project is not running on tomcat server from tomcat manager after deploying war file to webapps?","body":"<p>I have made a project on spring tool suit. This project is running fine in local embaded tomcat server. But when I deployed the war file to the external tomcat servers webapps folder I cannot run the project from the tomcat manager. <strong>When I click start it shows two errors: FAIL - Application at context path [/payemntmodule] could not be started\nFAIL - Encountered exception [org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/paymentmodule]]]</strong></p>\n<p>Here are the details of my project:</p>\n<p><strong>java version</strong></p>\n<pre><code>java --version\nopenjdk 11.0.11 2021-04-20\nOpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\n</code></pre>\n<p><strong>tomcat.service</strong></p>\n<pre><code>[Service]\nType=forking\n\nEnvironment=JAVA_HOME= /usr/lib/jvm/java-1.11.0-openjdk-amd64\nEnvironment=CATALINA_PID=/opt/tomcat/temp/tomcat.pid\nEnvironment=CATALINA_HOME=/opt/tomcat\nEnvironment=CATALINA_BASE=/opt/tomcat\nEnvironment=CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC\nEnvironment=JAVA_OPTS= -Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom\n\nExecStart=/opt/tomcat/bin/startup.sh\nExecStop=/opt/tomcat/bin/shutdown.sh\n\nUser=tomcat\nGroup=tomcat\nUMask=0007\nRestartSec=10\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>[![/opt/tomcat/webapps][1]][1]</p>\n<p>[![Deployed war file to the tomcat manager][2]][2]</p>\n<p>[![File permissions of webapps][3]][3]</p>\n<p><strong>Errors:</strong></p>\n<pre><code>FAIL - Application at context path [/paymentmodule] could not be started\nFAIL - Encountered exception [org.apache.catalina.LifecycleException: Failed to start \ncomponent [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/paymentmodule]]]\n</code></pre>\n<p>[![Tomcat Manager with error][4]][4]</p>\n<p><strong>Logs:</strong></p>\n<p>[![tomcat.log][5]][5]</p>\n<p><strong>manager.log</strong></p>\n<p>[![manager.log][6]][6]</p>\n<p>[![manager.log][7]][7]</p>\n<p>[![manager.log][8]][8]</p>\n"},{"tags":["java","numbers","floating-point"],"comments":[{"owner":{"account_id":65509,"reputation":6083,"user_id":192720,"accept_rate":81,"display_name":"mo-seph"},"score":2,"creation_date":1286480350,"post_id":3884793,"comment_id":4136379,"body_markdown":"Thanks for the responses! The difference between range and precision makes sense. I still find the naming quite strange and inconsistent, but it is workable.","body":"Thanks for the responses! The difference between range and precision makes sense. I still find the naming quite strange and inconsistent, but it is workable."},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":1,"creation_date":1476323126,"post_id":3884793,"comment_id":67299893,"body_markdown":"I&#39;m guessing because it&#39;s written by the same geniuses who called a method `writeBytes` which takes a `String`.","body":"I&#39;m guessing because it&#39;s written by the same geniuses who called a method <code>writeBytes</code> which takes a <code>String</code>."},{"owner":{"account_id":1918019,"reputation":11847,"user_id":1730172,"accept_rate":95,"display_name":"Alvaro"},"score":1,"creation_date":1545927991,"post_id":3884793,"comment_id":94734451,"body_markdown":"Basically, you&#39;re right, it&#39;s bad semantics","body":"Basically, you&#39;re right, it&#39;s bad semantics"}],"answers":[{"tags":[],"owner":{"account_id":185700,"reputation":91879,"user_id":422597,"display_name":"Colin Hebert"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1286477674,"creation_date":1286477350,"answer_id":3884834,"question_id":3884793,"body_markdown":"The minimum value for a double is `Double.NEGATIVE_INFINITY` that&#39;s why `Double.MIN_VALUE` isn&#39;t really the minimum for a `Double`.\r\n\r\nAs the double are floating point numbers, you can only have the biggest number (with a lower precision) or the closest number to 0 (with a great precision).\r\n\r\nIf you really want a minimal value for a double that isn&#39;t infinity then you can use `-Double.MAX_VALUE`.","title":"Why is Double.MIN_VALUE in not negative","body":"<p>The minimum value for a double is <code>Double.NEGATIVE_INFINITY</code> that's why <code>Double.MIN_VALUE</code> isn't really the minimum for a <code>Double</code>.</p>\n\n<p>As the double are floating point numbers, you can only have the biggest number (with a lower precision) or the closest number to 0 (with a great precision).</p>\n\n<p>If you really want a minimal value for a double that isn't infinity then you can use <code>-Double.MAX_VALUE</code>.</p>\n"},{"tags":[],"owner":{"account_id":7808,"reputation":24390,"user_id":13687,"display_name":"John Gardner"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1286477431,"creation_date":1286477431,"answer_id":3884853,"question_id":3884793,"body_markdown":"Because with floating point numbers, the **precision** is what is important as there&#39;s no *exact range*.\r\n\r\n    /**\r\n     * A constant holding the smallest positive nonzero value of type\r\n     * &lt;code&gt;double&lt;/code&gt;, 2&lt;sup&gt;-1074&lt;/sup&gt;. It is equal to the\r\n     * hexadecimal floating-point literal\r\n     * &lt;code&gt;0x0.0000000000001P-1022&lt;/code&gt; and also equal to\r\n     * &lt;code&gt;Double.longBitsToDouble(0x1L)&lt;/code&gt;.\r\n     */\r\n\r\nBut i agree that it should probably have been named something better :)","title":"Why is Double.MIN_VALUE in not negative","body":"<p>Because with floating point numbers, the <strong>precision</strong> is what is important as there's no <em>exact range</em>.</p>\n\n<pre><code>/**\n * A constant holding the smallest positive nonzero value of type\n * &lt;code&gt;double&lt;/code&gt;, 2&lt;sup&gt;-1074&lt;/sup&gt;. It is equal to the\n * hexadecimal floating-point literal\n * &lt;code&gt;0x0.0000000000001P-1022&lt;/code&gt; and also equal to\n * &lt;code&gt;Double.longBitsToDouble(0x1L)&lt;/code&gt;.\n */\n</code></pre>\n\n<p>But i agree that it should probably have been named something better :)</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":217,"is_accepted":true,"score":217,"last_activity_date":1664095406,"creation_date":1286477584,"answer_id":3884879,"question_id":3884793,"body_markdown":"The IEEE 754 format has one bit reserved for the sign and the remaining bits representing the magnitude. This means that it is &quot;symmetrical&quot; around origo (as opposed to the Integer values, which have one more negative value). Thus the minimum value is simply the same as the maximum value, with the sign-bit flipped, so **yes**, `-Double.MAX_VALUE` is the lowest actual number you can represent with a `double`.\r\n\r\nI suppose the `Double.MAX_VALUE` should be seen as **maximum magnitude**, in which case it actually makes sense to simply write `-Double.MAX_VALUE`. It also explains why `Double.MIN_VALUE` is the least positive value (since that represents the least possible magnitude).\r\n\r\nBut sure, I agree that the naming is a bit misleading. Being used to the meaning `Integer.MIN_VALUE`, I too was a bit surprised when I read that `Double.MIN_VALUE` was the smallest *absolute* value that could be represented. Perhaps they thought it was superfluous to have a constant representing the least possible value as it is simply a `-` away from `MAX_VALUE` :-)\r\n\r\n(Note, there is also `Double.NEGATIVE_INFINITY` but I&#39;m disregarding from this, as it is to be seen as a &quot;special case&quot; and does not in fact represent any actual number.)\r\n\r\n[Here](http://steve.hollasch.net/cgindex/coding/ieeefloat.html) is a good text on the subject.","title":"Why is Double.MIN_VALUE in not negative","body":"<p>The IEEE 754 format has one bit reserved for the sign and the remaining bits representing the magnitude. This means that it is &quot;symmetrical&quot; around origo (as opposed to the Integer values, which have one more negative value). Thus the minimum value is simply the same as the maximum value, with the sign-bit flipped, so <strong>yes</strong>, <code>-Double.MAX_VALUE</code> is the lowest actual number you can represent with a <code>double</code>.</p>\n<p>I suppose the <code>Double.MAX_VALUE</code> should be seen as <strong>maximum magnitude</strong>, in which case it actually makes sense to simply write <code>-Double.MAX_VALUE</code>. It also explains why <code>Double.MIN_VALUE</code> is the least positive value (since that represents the least possible magnitude).</p>\n<p>But sure, I agree that the naming is a bit misleading. Being used to the meaning <code>Integer.MIN_VALUE</code>, I too was a bit surprised when I read that <code>Double.MIN_VALUE</code> was the smallest <em>absolute</em> value that could be represented. Perhaps they thought it was superfluous to have a constant representing the least possible value as it is simply a <code>-</code> away from <code>MAX_VALUE</code> :-)</p>\n<p>(Note, there is also <code>Double.NEGATIVE_INFINITY</code> but I'm disregarding from this, as it is to be seen as a &quot;special case&quot; and does not in fact represent any actual number.)</p>\n<p><a href=\"http://steve.hollasch.net/cgindex/coding/ieeefloat.html\" rel=\"noreferrer\">Here</a> is a good text on the subject.</p>\n"},{"tags":[],"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1286478619,"creation_date":1286478619,"answer_id":3885025,"question_id":3884793,"body_markdown":"These constants have nothing to do with sign. This makes more sense if you consider a double as a composite of three parts: Sign, Exponent and Mantissa.\r\nDouble.MIN_VALUE is actually the smallest value Mantissa can assume when the Exponent is at minimun value before a flush to zero occurs. Likewise MAX_VALUE can be understood as the largest value Mantissa can assume when the Exponent is at maximum value before a flush to infinity occurs.\r\n\r\nA more descriptive name for these two could be &lt;b&gt;Largest Absolute&lt;/b&gt; (add non-zero for verbositiy) and &lt;b&gt;Smallest Absolute&lt;/b&gt; value (add non-infinity for verbositiy).\r\n\r\nCheck out the &lt;a href=&quot;http://en.wikipedia.org/wiki/IEEE_754-1985&quot;&gt;IEEE 754 (1985)&lt;/a&gt; standard for details. There is a revised (2008) version, but that only introduces more formats which aren&#39;t even supported by java (strictly speaking java even lacks support for some mandatory features of IEEE 754 1985, like many other high level languages).\r\n","title":"Why is Double.MIN_VALUE in not negative","body":"<p>These constants have nothing to do with sign. This makes more sense if you consider a double as a composite of three parts: Sign, Exponent and Mantissa.\nDouble.MIN_VALUE is actually the smallest value Mantissa can assume when the Exponent is at minimun value before a flush to zero occurs. Likewise MAX_VALUE can be understood as the largest value Mantissa can assume when the Exponent is at maximum value before a flush to infinity occurs.</p>\n\n<p>A more descriptive name for these two could be <b>Largest Absolute</b> (add non-zero for verbositiy) and <b>Smallest Absolute</b> value (add non-infinity for verbositiy).</p>\n\n<p>Check out the <a href=\"http://en.wikipedia.org/wiki/IEEE_754-1985\" rel=\"noreferrer\">IEEE 754 (1985)</a> standard for details. There is a revised (2008) version, but that only introduces more formats which aren't even supported by java (strictly speaking java even lacks support for some mandatory features of IEEE 754 1985, like many other high level languages).</p>\n"},{"tags":[],"owner":{"account_id":411202,"reputation":41987,"user_id":783510,"accept_rate":91,"display_name":"Philipp Cla&#223;en"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1475465341,"creation_date":1475465341,"answer_id":39824204,"question_id":3884793,"body_markdown":"I assume the confusing names can be [traced back to C][3], which defined [`FLT_MIN`][1] as the smallest positive number.\r\n\r\nLike in Java, where you have to use `-Double.MAX_VALUE`, you have to use [`-FLT_MAX`][2] to get the smallest float in C.\r\n\r\n  [1]: http://tigcc.ticalc.org/doc/float.html#FLT_MIN\r\n  [2]: http://tigcc.ticalc.org/doc/float.html#FLT_MAX\r\n  [3]: https://stackoverflow.com/a/39824143/783510","title":"Why is Double.MIN_VALUE in not negative","body":"<p>I assume the confusing names can be <a href=\"https://stackoverflow.com/a/39824143/783510\">traced back to C</a>, which defined <a href=\"http://tigcc.ticalc.org/doc/float.html#FLT_MIN\" rel=\"noreferrer\"><code>FLT_MIN</code></a> as the smallest positive number.</p>\n\n<p>Like in Java, where you have to use <code>-Double.MAX_VALUE</code>, you have to use <a href=\"http://tigcc.ticalc.org/doc/float.html#FLT_MAX\" rel=\"noreferrer\"><code>-FLT_MAX</code></a> to get the smallest float in C.</p>\n"},{"tags":[],"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1522347113,"creation_date":1522347113,"answer_id":49562615,"question_id":3884793,"body_markdown":"As it says in the [documents][1],\r\n&gt;Double.MIN_VALUE is a constant holding the smallest **POSITIVE** nonzero value of type double, 2^(-1074).\r\n\r\nThe trick here is we are talking about a floating point number representation. The double data type is a double-precision 64-bit IEEE 754 floating point. Floating points represent numbers from **1,000,000,000,000** to **0.0000000000000001** with ease, and while maximizing precision (the number of digits) at both ends of the scale. (For more refer [this][2])\r\n\r\nThe **mantissa, always a positive number**, holds the significant digits of the floating-point number. The exponent indicates the positive or negative power of the radix that the mantissa and sign should be multiplied by. The four components are combined as [follows][3] to get the floating-point value.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThink that the MIN_VALUE is the minimum value that the mantissa can represent. As the minimum values of a floating point representation is the minimum magnitude that can be represented using that. (Could have used a better name to avoid this confusion though)\r\n \r\n&gt; 123 &gt; 10 &gt; 1 &gt; 0.12 &gt; 0.012 &gt; 0.0000123 &gt; 0.000000001 &gt; 0.0000000000000001\r\n\r\n\r\n\r\n\r\n&lt;br&gt;Below is just FYI.\r\n\r\nDouble-precision floating-point can represent 2,098 powers of two, from 2^-1074 through 2^1023. Denormalized powers of two are those from 2^-1074 through 2^-1023; normalized powers of two are those from 2^-1022 through 2^1023. Refer [this][5] and [this][6].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#MIN_NORMAL\r\n  [2]: http://steve.hollasch.net/cgindex/coding/ieeefloat.html\r\n  [3]: http://www.yorku.ca/pkashiya/BinaryPages/binary16.htm\r\n  [4]: https://i.stack.imgur.com/DhEI8.jpg\r\n  [5]: https://www.artima.com/underthehood/floating.html\r\n  [6]: http://www.exploringbinary.com/what-powers-of-two-look-like-inside-a-computer/","title":"Why is Double.MIN_VALUE in not negative","body":"<p>As it says in the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#MIN_NORMAL\" rel=\"nofollow noreferrer\">documents</a>,</p>\n\n<blockquote>\n  <p>Double.MIN_VALUE is a constant holding the smallest <strong>POSITIVE</strong> nonzero value of type double, 2^(-1074).</p>\n</blockquote>\n\n<p>The trick here is we are talking about a floating point number representation. The double data type is a double-precision 64-bit IEEE 754 floating point. Floating points represent numbers from <strong>1,000,000,000,000</strong> to <strong>0.0000000000000001</strong> with ease, and while maximizing precision (the number of digits) at both ends of the scale. (For more refer <a href=\"http://steve.hollasch.net/cgindex/coding/ieeefloat.html\" rel=\"nofollow noreferrer\">this</a>)</p>\n\n<p>The <strong>mantissa, always a positive number</strong>, holds the significant digits of the floating-point number. The exponent indicates the positive or negative power of the radix that the mantissa and sign should be multiplied by. The four components are combined as <a href=\"http://www.yorku.ca/pkashiya/BinaryPages/binary16.htm\" rel=\"nofollow noreferrer\">follows</a> to get the floating-point value.</p>\n\n<p><a href=\"https://i.stack.imgur.com/DhEI8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DhEI8.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Think that the MIN_VALUE is the minimum value that the mantissa can represent. As the minimum values of a floating point representation is the minimum magnitude that can be represented using that. (Could have used a better name to avoid this confusion though)</p>\n\n<blockquote>\n  <p>123 > 10 > 1 > 0.12 > 0.012 > 0.0000123 > 0.000000001 > 0.0000000000000001</p>\n</blockquote>\n\n<p><br>Below is just FYI.</p>\n\n<p>Double-precision floating-point can represent 2,098 powers of two, from 2^-1074 through 2^1023. Denormalized powers of two are those from 2^-1074 through 2^-1023; normalized powers of two are those from 2^-1022 through 2^1023. Refer <a href=\"https://www.artima.com/underthehood/floating.html\" rel=\"nofollow noreferrer\">this</a> and <a href=\"http://www.exploringbinary.com/what-powers-of-two-look-like-inside-a-computer/\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":65509,"reputation":6083,"user_id":192720,"accept_rate":81,"display_name":"mo-seph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123636,"favorite_count":0,"down_vote_count":0,"up_vote_count":198,"accepted_answer_id":3884879,"answer_count":6,"score":198,"last_activity_date":1664095406,"creation_date":1286477052,"question_id":3884793,"body_markdown":"Can anyone shed some light on why `Double.MIN_VALUE` is not actually the minimum value that Doubles can take? It is a positive value, and a Double can of course be negative.\r\n\r\nI understand why it&#39;s a useful number, but it seems a very unintuitive name, especially when compared to `Integer.MIN_VALUE`. Calling it `Double.SMALLEST_POSITIVE` or `MIN_INCREMENT` or similar would have clearer semantics.\r\n\r\nAlso, what is the minimum value that Doubles can take? Is it `-Double.MAX_VALUE`? The docs don&#39;t seem to say.","title":"Why is Double.MIN_VALUE in not negative","body":"<p>Can anyone shed some light on why <code>Double.MIN_VALUE</code> is not actually the minimum value that Doubles can take? It is a positive value, and a Double can of course be negative.</p>\n\n<p>I understand why it's a useful number, but it seems a very unintuitive name, especially when compared to <code>Integer.MIN_VALUE</code>. Calling it <code>Double.SMALLEST_POSITIVE</code> or <code>MIN_INCREMENT</code> or similar would have clearer semantics.</p>\n\n<p>Also, what is the minimum value that Doubles can take? Is it <code>-Double.MAX_VALUE</code>? The docs don't seem to say.</p>\n"},{"tags":["java","android","google-cloud-firestore","image-compression"],"comments":[{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664075566,"post_id":73839251,"comment_id":130387054,"body_markdown":"@blackapps yes i can resize one image","body":"@blackapps yes i can resize one image"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664085604,"post_id":73839251,"comment_id":130387924,"body_markdown":"@blackapps please check the code","body":"@blackapps please check the code"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1664087032,"post_id":73839251,"comment_id":130388077,"body_markdown":"`NullPointerException`","body":"<code>NullPointerException</code>"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664087139,"post_id":73839251,"comment_id":130388083,"body_markdown":"@yes throwing null pointer exception","body":"@yes throwing null pointer exception"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1664087196,"post_id":73839251,"comment_id":130388089,"body_markdown":"What is a null pointer exception? Why didnt you ask directly in your post how to solve a null pointer exception? You did not even mention it.","body":"What is a null pointer exception? Why didnt you ask directly in your post how to solve a null pointer exception? You did not even mention it."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664087314,"post_id":73839251,"comment_id":130388102,"body_markdown":"sorry for that but the problem is that i am not sure that the code i write for compress is correct or not","body":"sorry for that but the problem is that i am not sure that the code i write for compress is correct or not"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1664087364,"post_id":73839251,"comment_id":130388106,"body_markdown":"You should post more of the stacktrace as it exactly tells you which pointer is null. You did not tell us which pointer is null. Read the logcat!","body":"You should post more of the stacktrace as it exactly tells you which pointer is null. You did not tell us which pointer is null. Read the logcat!"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664087422,"post_id":73839251,"comment_id":130388111,"body_markdown":"ok but do you think the  code i wrote for the compress it correct?","body":"ok but do you think the  code i wrote for the compress it correct?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1664087498,"post_id":73839251,"comment_id":130388114,"body_markdown":"That is irrelevant at the moment. First handle the exception.","body":"That is irrelevant at the moment. First handle the exception."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664087541,"post_id":73839251,"comment_id":130388120,"body_markdown":"ok thank you i do check","body":"ok thank you i do check"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664094864,"post_id":73839251,"comment_id":130389080,"body_markdown":"@blackapps i checked and found that the problem was in the compress library i was using so i just removed that code and now it is my code without compression i am using","body":"@blackapps i checked and found that the problem was in the compress library i was using so i just removed that code and now it is my code without compression i am using"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664094892,"post_id":73839251,"comment_id":130389083,"body_markdown":"now can you guide me how can i achieve compression  with any other library","body":"now can you guide me how can i achieve compression  with any other library"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1664097283,"post_id":73839251,"comment_id":130389436,"body_markdown":"If you mean: resize the image files so their resolution becomes less and so their -file- size then you have already an answer. And i&#39;m puzzled as you first comment is `@blackapps yes i can resize one image`.","body":"If you mean: resize the image files so their resolution becomes less and so their -file- size then you have already an answer. And i&#39;m puzzled as you first comment is <code>@blackapps yes i can resize one image</code>."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664100714,"post_id":73839251,"comment_id":130389987,"body_markdown":"so i was using a method to resize single image but it was not good at all that&#39;s why i told you that.. but now i am clueless completely","body":"so i was using a method to resize single image but it was not good at all that&#39;s why i told you that.. but now i am clueless completely"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1664121835,"post_id":73839251,"comment_id":130393997,"body_markdown":"@blackapps can you please check this  https://stackoverflow.com/questions/73845925/how-can-i-show-my-filtered-data-on-another-screen-in-android","body":"@blackapps can you please check this  <a href=\"https://stackoverflow.com/questions/73845925/how-can-i-show-my-filtered-data-on-another-screen-in-android\" title=\"how can i show my filtered data on another screen in android\">stackoverflow.com/questions/73845925/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14647739,"reputation":11,"user_id":10578573,"display_name":"Huma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664046088,"creation_date":1664046088,"answer_id":73839859,"question_id":73839251,"body_markdown":"yup, you can compress your image file by the following function\r\n\r\n\r\n    @Throws(IOException::class)\r\n    fun File.compressImage(\r\n        reqWidth: Float,\r\n        reqHeight: Float,\r\n        compressFormat: Bitmap.CompressFormat,\r\n        quality: Int,\r\n        destinationPath: String\r\n    ): File {\r\n        var fileOutputStream: FileOutputStream? = null\r\n        val file = File(destinationPath).parentFile ?: return File(destinationPath)\r\n    \r\n        if (!file.exists()) {\r\n            file.mkdirs()\r\n        }\r\n        try {\r\n            fileOutputStream = FileOutputStream(destinationPath)\r\n            // write the compressed bitmap at the destination specified by destinationPath.\r\n            decodeSampledBitmapFromFile(this, reqWidth, reqHeight)?.compress(\r\n                compressFormat,\r\n                quality,\r\n                fileOutputStream\r\n            )\r\n        } finally {\r\n            if (fileOutputStream != null) {\r\n                fileOutputStream.flush()\r\n                fileOutputStream.close()\r\n            }\r\n        }\r\n    \r\n        return File(destinationPath)\r\n    }\r\n    \r\n    @Throws(IOException::class)\r\n    private fun decodeSampledBitmapFromFile(\r\n        imageFile: File,\r\n        reqWidth: Float,\r\n        reqHeight: Float\r\n    ): Bitmap? {\r\n        // First decode with inJustDecodeBounds=true to check dimensions\r\n    \r\n        val options = BitmapFactory.Options()\r\n        options.inJustDecodeBounds = true\r\n        var bmp: Bitmap? = BitmapFactory.decodeFile(imageFile.absolutePath, options)\r\n    \r\n        var actualHeight = options.outHeight\r\n        var actualWidth = options.outWidth\r\n    \r\n        var imgRatio = actualWidth.toFloat() / actualHeight.toFloat()\r\n        val maxRatio = reqWidth / reqHeight\r\n    \r\n        if (actualHeight &gt; reqHeight || actualWidth &gt; reqWidth) {\r\n            // If Height is greater\r\n            when {\r\n                imgRatio &lt; maxRatio -&gt; {\r\n                    imgRatio = reqHeight / actualHeight\r\n                    actualWidth = (imgRatio * actualWidth).toInt()\r\n                    actualHeight = reqHeight.toInt()\r\n                } // If Width is greater\r\n                imgRatio &gt; maxRatio -&gt; {\r\n                    imgRatio = reqWidth / actualWidth\r\n                    actualHeight = (imgRatio * actualHeight).toInt()\r\n                    actualWidth = reqWidth.toInt()\r\n                }\r\n                else -&gt; {\r\n                    actualHeight = reqHeight.toInt()\r\n                    actualWidth = reqWidth.toInt()\r\n                }\r\n            }\r\n        }\r\n    \r\n        // Calculate inSampleSize\r\n        options.inSampleSize = calculateInSampleSize(options, actualWidth, actualHeight)\r\n        options.inJustDecodeBounds = false\r\n    \r\n        if (bmp != null &amp;&amp; canUseForInBitmap(bmp, options)) {\r\n            // inBitmap only works with mutable bitmaps, so force the decoder to\r\n            // return mutable bitmaps.\r\n            options.inMutable = true\r\n            options.inBitmap = bmp\r\n        }\r\n        options.inTempStorage = ByteArray(16 * 1024)\r\n    \r\n        try {\r\n            bmp = BitmapFactory.decodeFile(imageFile.absolutePath, options)\r\n        } catch (exception: OutOfMemoryError) {\r\n            exception.printStackTrace()\r\n        }\r\n    \r\n        var scaledBitmap: Bitmap? = null\r\n        try {\r\n            scaledBitmap = Bitmap.createBitmap(actualWidth, actualHeight, Bitmap.Config.ARGB_8888)\r\n        } catch (exception: OutOfMemoryError) {\r\n            exception.printStackTrace()\r\n        }\r\n    \r\n        val ratioX = actualWidth / options.outWidth.toFloat()\r\n        val ratioY = actualHeight / options.outHeight.toFloat()\r\n        val middleX = actualWidth / 2.0f\r\n        val middleY = actualHeight / 2.0f\r\n    \r\n        val scaleMatrix = Matrix()\r\n        scaleMatrix.setScale(ratioX, ratioY, middleX, middleY)\r\n    \r\n        val canvas = Canvas(scaledBitmap!!)\r\n        canvas.setMatrix(scaleMatrix)\r\n        canvas.drawBitmap(\r\n            bmp!!, middleX - bmp.width / 2,\r\n            middleY - bmp.height / 2, Paint(Paint.FILTER_BITMAP_FLAG)\r\n        )\r\n        bmp.recycle()\r\n        val exif: ExifInterface\r\n        try {\r\n            exif = ExifInterface(imageFile.absolutePath)\r\n            val orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, 0)\r\n            val matrix = Matrix()\r\n            if (orientation == 6) {\r\n                matrix.postRotate(90f)\r\n            } else if (orientation == 3) {\r\n                matrix.postRotate(180f)\r\n            } else if (orientation == 8) {\r\n                matrix.postRotate(270f)\r\n            }\r\n            scaledBitmap = Bitmap.createBitmap(\r\n                scaledBitmap, 0, 0, scaledBitmap.width,\r\n                scaledBitmap.height, matrix, true\r\n            )\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n    \r\n        return scaledBitmap\r\n    }\r\n    \r\n    private fun calculateInSampleSize(\r\n        options: BitmapFactory.Options,\r\n        reqWidth: Int,\r\n        reqHeight: Int\r\n    ): Int {\r\n        // Raw height and width of image\r\n        val height = options.outHeight\r\n        val width = options.outWidth\r\n        var inSampleSize = 1\r\n    \r\n        if (height &gt; reqHeight || width &gt; reqWidth) {\r\n            inSampleSize *= 2\r\n            val halfHeight = height / 2\r\n            val halfWidth = width / 2\r\n    \r\n            // Calculate the largest inSampleSize value that is a power of 2 and keeps both\r\n            // height and width larger than the requested height and width.\r\n            while (halfHeight / inSampleSize &gt;= reqHeight &amp;&amp; halfWidth / inSampleSize &gt;= reqWidth) {\r\n                inSampleSize *= 2\r\n            }\r\n        }\r\n    \r\n        return inSampleSize\r\n    }\r\n    \r\n    /**\r\n     * Ref: https://developer.android.com/topic/performance/graphics/manage-memory#kotlin\r\n     */\r\n    private fun canUseForInBitmap(candidate: Bitmap, targetOptions: BitmapFactory.Options): Boolean {\r\n        return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n            // From Android 4.4 (KitKat) onward we can re-use if the byte size of\r\n            // the new bitmap is smaller than the reusable bitmap candidate\r\n            // allocation byte count.\r\n            val width: Int = targetOptions.outWidth / targetOptions.inSampleSize\r\n            val height: Int = targetOptions.outHeight / targetOptions.inSampleSize\r\n            val byteCount: Int = width * height * getBytesPerPixel(candidate.config)\r\n            byteCount &lt;= candidate.allocationByteCount\r\n        } else {\r\n            // On earlier versions, the dimensions must match exactly and the inSampleSize must be 1\r\n            candidate.width == targetOptions.outWidth &amp;&amp;\r\n                    candidate.height == targetOptions.outHeight &amp;&amp;\r\n                    targetOptions.inSampleSize == 1\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * A helper function to return the byte usage per pixel of a bitmap based on its configuration.\r\n     */\r\n    private fun getBytesPerPixel(config: Bitmap.Config): Int {\r\n        return when (config) {\r\n            Bitmap.Config.ARGB_8888 -&gt; 4\r\n            Bitmap.Config.RGB_565, Bitmap.Config.ARGB_4444 -&gt; 2\r\n            Bitmap.Config.ALPHA_8 -&gt; 1\r\n            else -&gt; 1\r\n        }\r\n    }\r\n    \r\n    @Throws(IOException::class)\r\n    fun Context.createImageFile(): File {\r\n        // Create an image file name\r\n        val storageDir: File? = getExternalFilesDir(Environment.DIRECTORY_PICTURES)\r\n        return File.createTempFile(\r\n            &quot;JPEG_${System.currentTimeMillis()}_&quot;, /* prefix */\r\n            &quot;.jpg&quot;, /* suffix */\r\n            storageDir /* directory */\r\n        )\r\n    }\r\n\r\n\r\nand simply call the following method to create compressed image file. here file is you image file\r\n\r\n    file.compressImage(\r\n                        1024f,\r\n                        1024f,\r\n                        Bitmap.CompressFormat.JPEG,\r\n                        70,\r\n                        context.createImageFile().path\r\n                    )","title":"Compressing multiple images before uploading them to firebase android","body":"<p>yup, you can compress your image file by the following function</p>\n<pre><code>@Throws(IOException::class)\nfun File.compressImage(\n    reqWidth: Float,\n    reqHeight: Float,\n    compressFormat: Bitmap.CompressFormat,\n    quality: Int,\n    destinationPath: String\n): File {\n    var fileOutputStream: FileOutputStream? = null\n    val file = File(destinationPath).parentFile ?: return File(destinationPath)\n\n    if (!file.exists()) {\n        file.mkdirs()\n    }\n    try {\n        fileOutputStream = FileOutputStream(destinationPath)\n        // write the compressed bitmap at the destination specified by destinationPath.\n        decodeSampledBitmapFromFile(this, reqWidth, reqHeight)?.compress(\n            compressFormat,\n            quality,\n            fileOutputStream\n        )\n    } finally {\n        if (fileOutputStream != null) {\n            fileOutputStream.flush()\n            fileOutputStream.close()\n        }\n    }\n\n    return File(destinationPath)\n}\n\n@Throws(IOException::class)\nprivate fun decodeSampledBitmapFromFile(\n    imageFile: File,\n    reqWidth: Float,\n    reqHeight: Float\n): Bitmap? {\n    // First decode with inJustDecodeBounds=true to check dimensions\n\n    val options = BitmapFactory.Options()\n    options.inJustDecodeBounds = true\n    var bmp: Bitmap? = BitmapFactory.decodeFile(imageFile.absolutePath, options)\n\n    var actualHeight = options.outHeight\n    var actualWidth = options.outWidth\n\n    var imgRatio = actualWidth.toFloat() / actualHeight.toFloat()\n    val maxRatio = reqWidth / reqHeight\n\n    if (actualHeight &gt; reqHeight || actualWidth &gt; reqWidth) {\n        // If Height is greater\n        when {\n            imgRatio &lt; maxRatio -&gt; {\n                imgRatio = reqHeight / actualHeight\n                actualWidth = (imgRatio * actualWidth).toInt()\n                actualHeight = reqHeight.toInt()\n            } // If Width is greater\n            imgRatio &gt; maxRatio -&gt; {\n                imgRatio = reqWidth / actualWidth\n                actualHeight = (imgRatio * actualHeight).toInt()\n                actualWidth = reqWidth.toInt()\n            }\n            else -&gt; {\n                actualHeight = reqHeight.toInt()\n                actualWidth = reqWidth.toInt()\n            }\n        }\n    }\n\n    // Calculate inSampleSize\n    options.inSampleSize = calculateInSampleSize(options, actualWidth, actualHeight)\n    options.inJustDecodeBounds = false\n\n    if (bmp != null &amp;&amp; canUseForInBitmap(bmp, options)) {\n        // inBitmap only works with mutable bitmaps, so force the decoder to\n        // return mutable bitmaps.\n        options.inMutable = true\n        options.inBitmap = bmp\n    }\n    options.inTempStorage = ByteArray(16 * 1024)\n\n    try {\n        bmp = BitmapFactory.decodeFile(imageFile.absolutePath, options)\n    } catch (exception: OutOfMemoryError) {\n        exception.printStackTrace()\n    }\n\n    var scaledBitmap: Bitmap? = null\n    try {\n        scaledBitmap = Bitmap.createBitmap(actualWidth, actualHeight, Bitmap.Config.ARGB_8888)\n    } catch (exception: OutOfMemoryError) {\n        exception.printStackTrace()\n    }\n\n    val ratioX = actualWidth / options.outWidth.toFloat()\n    val ratioY = actualHeight / options.outHeight.toFloat()\n    val middleX = actualWidth / 2.0f\n    val middleY = actualHeight / 2.0f\n\n    val scaleMatrix = Matrix()\n    scaleMatrix.setScale(ratioX, ratioY, middleX, middleY)\n\n    val canvas = Canvas(scaledBitmap!!)\n    canvas.setMatrix(scaleMatrix)\n    canvas.drawBitmap(\n        bmp!!, middleX - bmp.width / 2,\n        middleY - bmp.height / 2, Paint(Paint.FILTER_BITMAP_FLAG)\n    )\n    bmp.recycle()\n    val exif: ExifInterface\n    try {\n        exif = ExifInterface(imageFile.absolutePath)\n        val orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, 0)\n        val matrix = Matrix()\n        if (orientation == 6) {\n            matrix.postRotate(90f)\n        } else if (orientation == 3) {\n            matrix.postRotate(180f)\n        } else if (orientation == 8) {\n            matrix.postRotate(270f)\n        }\n        scaledBitmap = Bitmap.createBitmap(\n            scaledBitmap, 0, 0, scaledBitmap.width,\n            scaledBitmap.height, matrix, true\n        )\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n\n    return scaledBitmap\n}\n\nprivate fun calculateInSampleSize(\n    options: BitmapFactory.Options,\n    reqWidth: Int,\n    reqHeight: Int\n): Int {\n    // Raw height and width of image\n    val height = options.outHeight\n    val width = options.outWidth\n    var inSampleSize = 1\n\n    if (height &gt; reqHeight || width &gt; reqWidth) {\n        inSampleSize *= 2\n        val halfHeight = height / 2\n        val halfWidth = width / 2\n\n        // Calculate the largest inSampleSize value that is a power of 2 and keeps both\n        // height and width larger than the requested height and width.\n        while (halfHeight / inSampleSize &gt;= reqHeight &amp;&amp; halfWidth / inSampleSize &gt;= reqWidth) {\n            inSampleSize *= 2\n        }\n    }\n\n    return inSampleSize\n}\n\n/**\n * Ref: https://developer.android.com/topic/performance/graphics/manage-memory#kotlin\n */\nprivate fun canUseForInBitmap(candidate: Bitmap, targetOptions: BitmapFactory.Options): Boolean {\n    return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n        // From Android 4.4 (KitKat) onward we can re-use if the byte size of\n        // the new bitmap is smaller than the reusable bitmap candidate\n        // allocation byte count.\n        val width: Int = targetOptions.outWidth / targetOptions.inSampleSize\n        val height: Int = targetOptions.outHeight / targetOptions.inSampleSize\n        val byteCount: Int = width * height * getBytesPerPixel(candidate.config)\n        byteCount &lt;= candidate.allocationByteCount\n    } else {\n        // On earlier versions, the dimensions must match exactly and the inSampleSize must be 1\n        candidate.width == targetOptions.outWidth &amp;&amp;\n                candidate.height == targetOptions.outHeight &amp;&amp;\n                targetOptions.inSampleSize == 1\n    }\n}\n\n/**\n * A helper function to return the byte usage per pixel of a bitmap based on its configuration.\n */\nprivate fun getBytesPerPixel(config: Bitmap.Config): Int {\n    return when (config) {\n        Bitmap.Config.ARGB_8888 -&gt; 4\n        Bitmap.Config.RGB_565, Bitmap.Config.ARGB_4444 -&gt; 2\n        Bitmap.Config.ALPHA_8 -&gt; 1\n        else -&gt; 1\n    }\n}\n\n@Throws(IOException::class)\nfun Context.createImageFile(): File {\n    // Create an image file name\n    val storageDir: File? = getExternalFilesDir(Environment.DIRECTORY_PICTURES)\n    return File.createTempFile(\n        &quot;JPEG_${System.currentTimeMillis()}_&quot;, /* prefix */\n        &quot;.jpg&quot;, /* suffix */\n        storageDir /* directory */\n    )\n}\n</code></pre>\n<p>and simply call the following method to create compressed image file. here file is you image file</p>\n<pre><code>file.compressImage(\n                    1024f,\n                    1024f,\n                    Bitmap.CompressFormat.JPEG,\n                    70,\n                    context.createImageFile().path\n                )\n</code></pre>\n"}],"owner":{"display_name":"user20008723"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664094780,"creation_date":1664040478,"question_id":73839251,"body_markdown":"I am working on application users have to upload multiple images. Now the problem I am facing is their size. As users can upload multiple images it takes a lot of time to upload them through the application because of their heavy size which users do not like and also make my application and database heavy. Can you please guide me on how can I compress multiple images before uploading them to firebase?  \r\n\r\n**CODE TO COMPRESS IMAGES**\r\n\r\n      galleryResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n            @Override\r\n            public void onActivityResult(ActivityResult result) {\r\n\r\n\r\n                    if (result.getResultCode() == RESULT_OK &amp;&amp; null != result.getData() ) {\r\n\r\n                        if (result.getData().getClipData() != null) {\r\n\r\n                            int countofImages = result.getData().getClipData().getItemCount();\r\n                            //this part is to select multiple images\r\n                            for (int i = 0; i &lt; countofImages; i++) {\r\n\r\n                                if (uri.size() &lt; 11) {\r\n                                    Uri imageuri = result.getData().getClipData().getItemAt(i).getUri();\r\n\r\n\r\n                                  \r\n                                    imageList.add(new CustomModel(getfilename(imageuri), imageuri));\r\n                                } else {\r\n                                    Toast.makeText(getContext(), &quot;Can&#39;t select more than 11 images&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                            //then notify the adapter\r\n                            adapter.notifyDataSetChanged();\r\n                            rentSell3Binding.totalphotos.setText(&quot;Photos (&quot; + imageList.size() + &quot;)&quot;);\r\n                        }\r\n                            //this part is to select single image\r\n                            else\r\n                                {\r\n\r\n                                if (uri.size()&lt;11) {\r\n                                    Uri imageuri = result.getData().getData();\r\n\r\n                                    //and add the code to arryalist\r\n                             \r\n                                    imageList.add(new CustomModel(getfilename(imageuri), imageuri));\r\n\r\n                                }else\r\n                                {\r\n\r\n                                    Toast.makeText(getContext(), &quot;Can&#39;t select more than 11 images&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                }\r\n\r\n                            //notify the adapter\r\n                            adapter.notifyDataSetChanged();\r\n                            rentSell3Binding.totalphotos.setText(&quot;Photos (&quot; + imageList.size() + &quot;)&quot;);\r\n                        }\r\n                    }else\r\n                    {\r\n                        Toast.makeText(getContext(), &quot;You haven&#39;t selected any images&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                }\r\n\r\n\r\n        });\r\n\r\n**MODEL CLASS**\r\n\r\n    public class CustomModel {\r\n\r\n    String imageName;\r\n    Uri imageURI;\r\n\r\n\r\n    public CustomModel(String imageName, Uri imageURI) {\r\n        this.imageName = imageName;\r\n        this.imageURI = imageURI;\r\n    }\r\n\r\n    public String getImageName() {\r\n        return imageName;\r\n    }\r\n\r\n    public void setImageName(String imageName) {\r\n        this.imageName = imageName;\r\n    }\r\n\r\n    public Uri getImageURI() {\r\n        return imageURI;\r\n    }\r\n\r\n    public void setImageURI(Uri imageURI) {\r\n        this.imageURI = imageURI;\r\n    }\r\n}\r\n\r\n**Throwing exception**\r\n\r\n    null pointer exception on the line File file = new File(SiliCompressor.with(getContext()).compress(FileUtils.getPath(getContext(), imageuri), new File(getContext().getCacheDir(), &quot;temp&quot;)));","title":"Compressing multiple images before uploading them to firebase android","body":"<p>I am working on application users have to upload multiple images. Now the problem I am facing is their size. As users can upload multiple images it takes a lot of time to upload them through the application because of their heavy size which users do not like and also make my application and database heavy. Can you please guide me on how can I compress multiple images before uploading them to firebase?</p>\n<p><strong>CODE TO COMPRESS IMAGES</strong></p>\n<pre><code>  galleryResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n        @Override\n        public void onActivityResult(ActivityResult result) {\n\n\n                if (result.getResultCode() == RESULT_OK &amp;&amp; null != result.getData() ) {\n\n                    if (result.getData().getClipData() != null) {\n\n                        int countofImages = result.getData().getClipData().getItemCount();\n                        //this part is to select multiple images\n                        for (int i = 0; i &lt; countofImages; i++) {\n\n                            if (uri.size() &lt; 11) {\n                                Uri imageuri = result.getData().getClipData().getItemAt(i).getUri();\n\n\n                              \n                                imageList.add(new CustomModel(getfilename(imageuri), imageuri));\n                            } else {\n                                Toast.makeText(getContext(), &quot;Can't select more than 11 images&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                        //then notify the adapter\n                        adapter.notifyDataSetChanged();\n                        rentSell3Binding.totalphotos.setText(&quot;Photos (&quot; + imageList.size() + &quot;)&quot;);\n                    }\n                        //this part is to select single image\n                        else\n                            {\n\n                            if (uri.size()&lt;11) {\n                                Uri imageuri = result.getData().getData();\n\n                                //and add the code to arryalist\n                         \n                                imageList.add(new CustomModel(getfilename(imageuri), imageuri));\n\n                            }else\n                            {\n\n                                Toast.makeText(getContext(), &quot;Can't select more than 11 images&quot;, Toast.LENGTH_SHORT).show();\n\n                            }\n\n                        //notify the adapter\n                        adapter.notifyDataSetChanged();\n                        rentSell3Binding.totalphotos.setText(&quot;Photos (&quot; + imageList.size() + &quot;)&quot;);\n                    }\n                }else\n                {\n                    Toast.makeText(getContext(), &quot;You haven't selected any images&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n            }\n\n\n    });\n</code></pre>\n<p><strong>MODEL CLASS</strong></p>\n<pre><code>public class CustomModel {\n\nString imageName;\nUri imageURI;\n\n\npublic CustomModel(String imageName, Uri imageURI) {\n    this.imageName = imageName;\n    this.imageURI = imageURI;\n}\n\npublic String getImageName() {\n    return imageName;\n}\n\npublic void setImageName(String imageName) {\n    this.imageName = imageName;\n}\n\npublic Uri getImageURI() {\n    return imageURI;\n}\n\npublic void setImageURI(Uri imageURI) {\n    this.imageURI = imageURI;\n}\n</code></pre>\n<p>}</p>\n<p><strong>Throwing exception</strong></p>\n<pre><code>null pointer exception on the line File file = new File(SiliCompressor.with(getContext()).compress(FileUtils.getPath(getContext(), imageuri), new File(getContext().getCacheDir(), &quot;temp&quot;)));\n</code></pre>\n"},{"tags":["java","macos","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1541201194,"post_id":53126884,"comment_id":93148604,"body_markdown":"To clarify, using [`MenuBar`](https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/MenuBar.html) with [`useSystemMenuBar`](https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/MenuBar.html#useSystemMenuBarProperty) set to `true` is _not_ what you want, correct? Are you looking for something like [`SystemTray`](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/SystemTray.html)? If so, take a look at [JavaFX app in System Tray](https://stackoverflow.com/questions/12571329/javafx-app-in-system-tray).","body":"To clarify, using <a href=\"https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/MenuBar.html\" rel=\"nofollow noreferrer\"><code>MenuBar</code></a> with <a href=\"https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/MenuBar.html#useSystemMenuBarProperty\" rel=\"nofollow noreferrer\"><code>useSystemMenuBar</code></a> set to <code>true</code> is <i>not</i> what you want, correct? Are you looking for something like <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/SystemTray.html\" rel=\"nofollow noreferrer\"><code>SystemTray</code></a>? If so, take a look at <a href=\"https://stackoverflow.com/questions/12571329/javafx-app-in-system-tray\">JavaFX app in System Tray</a>."},{"owner":{"account_id":12922390,"reputation":147,"user_id":9344333,"display_name":"primarykey123"},"score":0,"creation_date":1541363062,"post_id":53126884,"comment_id":93181459,"body_markdown":"Thank you! SystemTray did the trick.","body":"Thank you! SystemTray did the trick."}],"answers":[{"tags":[],"owner":{"account_id":12562569,"reputation":126,"user_id":9139738,"display_name":"FileInputStream"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541201302,"creation_date":1541200874,"answer_id":53126907,"question_id":53126884,"body_markdown":"You need to set a system property in order to move it out from your JFrame:\r\n\r\n    System.setProperty(&quot;apple.laf.useScreenMenuBar&quot;, &quot;true&quot;);\r\n\r\nThis will show your JMenuBar in the MacOS Toolbar.\r\n\r\nOr you could check if you are running MacOS and then set the property:\r\n\r\n  \r\n\r\n      if (System.getProperty(&quot;os.name&quot;).contains(&quot;Mac&quot;)) {\r\n      System.setProperty(&quot;apple.laf.useScreenMenuBar&quot;, &quot;true&quot;);\r\n\r\n    }\r\n\r\n","title":"How to have a menu on the mac top toolbar with JavaFX?","body":"<p>You need to set a system property in order to move it out from your JFrame:</p>\n\n<pre><code>System.setProperty(\"apple.laf.useScreenMenuBar\", \"true\");\n</code></pre>\n\n<p>This will show your JMenuBar in the MacOS Toolbar.</p>\n\n<p>Or you could check if you are running MacOS and then set the property:</p>\n\n<pre><code>  if (System.getProperty(\"os.name\").contains(\"Mac\")) {\n  System.setProperty(\"apple.laf.useScreenMenuBar\", \"true\");\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15190473,"reputation":1,"user_id":10961292,"display_name":"Yogesh Karpe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563537191,"creation_date":1563535675,"answer_id":57111576,"question_id":53126884,"body_markdown":"```\r\npublic class SystemTray {\r\n\tprivate static final Logger logger = LogManager.getLogger(Main.class);\r\n\tpublic static java.awt.SystemTray tray = java.awt.SystemTray.getSystemTray();              // set up a system tray icon.\r\n\tpublic static TrayIcon trayIcon;\r\n\tpublic static Image trayIconImage;\r\n\tpublic static MenuItem startRecording;\r\n\tpublic static MenuItem stopRecording;\r\n\tpublic static MenuItem playRecording;\r\n\tpublic static MenuItem pauseRecording;\r\n\tpublic static MenuItem startOver;\r\n\tpublic static MenuItem exitItem;\r\n\tfinal static PopupMenu popup=new PopupMenu();\r\n\tpublic static boolean windows = Main.checkOS();\r\n\t\r\n\tpublic SystemTray() {\r\n\t}\r\n\r\n\tpublic static void addAppToTray() {\r\n        try {\r\n            // ensure awt toolkit is initialized.\r\n            Toolkit.getDefaultToolkit();\r\n            URL IconPath;\r\n            // app requires system tray support, just exit if there is no support.\r\n            if (!java.awt.SystemTray.isSupported()) {\r\n                System.out.println(&quot;No system tray support, application exiting.&quot;);\r\n                return;\r\n                //Platform.exit();\r\n            }\r\n\r\n            if (windows) {\r\n            File file = new File(&quot;./resources/main/cogwheel-win.png&quot;);\r\n           // IconPath =this.getClass().getResource(&quot;cogwheel-windows.png&quot;);\r\n            IconPath =file.toURI().toURL();\r\n\r\n            }\r\n            else {\r\n            File file = new File(&quot;./resources/main/cogwheel-mac.png&quot;);\r\n           // IconPath =this.getClass().getResource(&quot;cogwheel-mac.png&quot;);\r\n            IconPath =file.toURI().toURL();\r\n            }\r\n            \r\n            logger.info(IconPath.getFile().toString());\r\n            trayIconImage = ImageIO.read(IconPath);\r\n            trayIcon = new TrayIcon(trayIconImage);\r\n            startRecording = new MenuItem(&quot;Start Recording (Shift+Space)&quot;);\r\n            stopRecording = new MenuItem(&quot;Stop Recording (Shift+Space)&quot;);\r\n            playRecording = new MenuItem(&quot;Play Recording (Shift+P)&quot;);\r\n            pauseRecording = new MenuItem(&quot;Pause Recording (Shift+P)&quot;);\r\n            startOver = new MenuItem(&quot;Start Over (Shift+R)&quot;);\r\n            //openItem.addActionListener(event -&gt; Platform.runLater(this::showStage));\r\n\r\n            // and select the exit option, this will shutdown JavaFX and remove the\r\n            // tray icon (removing the tray icon will also shut down AWT).\r\n            \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n            exitItem = new MenuItem(&quot;Quit CAD&quot;);\r\n            exitItem.addActionListener(event -&gt; {\r\n                Platform.exit();\r\n                tray.remove(trayIcon);\r\n            });\r\n\r\n            // setup the popup menu for the application.\r\n            popup.add(startRecording);\r\n            popup.add(stopRecording);\r\n            popup.addSeparator();\r\n            popup.add(playRecording);\r\n            popup.add(pauseRecording);\r\n            popup.addSeparator();\r\n            popup.add(startOver);\r\n            popup.addSeparator();\r\n            popup.add(exitItem);\r\n            trayIcon.setPopupMenu(popup);\r\n            // add the application tray icon to the system tray.\r\n            tray.add(trayIcon);\r\n            \r\n           // startRecording.addActionListener(event -&gt; Platform.runLater(Creator::startRecording));\r\n            \r\n        } catch (AWTException | IOException e) {\r\n            System.out.println(&quot;Unable to init system tray&quot;);\r\n           logger.info(e.getMessage());\r\n        }\r\n    }\r\n}\r\n```","title":"How to have a menu on the mac top toolbar with JavaFX?","body":"<pre><code>public class SystemTray {\n    private static final Logger logger = LogManager.getLogger(Main.class);\n    public static java.awt.SystemTray tray = java.awt.SystemTray.getSystemTray();              // set up a system tray icon.\n    public static TrayIcon trayIcon;\n    public static Image trayIconImage;\n    public static MenuItem startRecording;\n    public static MenuItem stopRecording;\n    public static MenuItem playRecording;\n    public static MenuItem pauseRecording;\n    public static MenuItem startOver;\n    public static MenuItem exitItem;\n    final static PopupMenu popup=new PopupMenu();\n    public static boolean windows = Main.checkOS();\n\n    public SystemTray() {\n    }\n\n    public static void addAppToTray() {\n        try {\n            // ensure awt toolkit is initialized.\n            Toolkit.getDefaultToolkit();\n            URL IconPath;\n            // app requires system tray support, just exit if there is no support.\n            if (!java.awt.SystemTray.isSupported()) {\n                System.out.println(\"No system tray support, application exiting.\");\n                return;\n                //Platform.exit();\n            }\n\n            if (windows) {\n            File file = new File(\"./resources/main/cogwheel-win.png\");\n           // IconPath =this.getClass().getResource(\"cogwheel-windows.png\");\n            IconPath =file.toURI().toURL();\n\n            }\n            else {\n            File file = new File(\"./resources/main/cogwheel-mac.png\");\n           // IconPath =this.getClass().getResource(\"cogwheel-mac.png\");\n            IconPath =file.toURI().toURL();\n            }\n\n            logger.info(IconPath.getFile().toString());\n            trayIconImage = ImageIO.read(IconPath);\n            trayIcon = new TrayIcon(trayIconImage);\n            startRecording = new MenuItem(\"Start Recording (Shift+Space)\");\n            stopRecording = new MenuItem(\"Stop Recording (Shift+Space)\");\n            playRecording = new MenuItem(\"Play Recording (Shift+P)\");\n            pauseRecording = new MenuItem(\"Pause Recording (Shift+P)\");\n            startOver = new MenuItem(\"Start Over (Shift+R)\");\n            //openItem.addActionListener(event -&gt; Platform.runLater(this::showStage));\n\n            // and select the exit option, this will shutdown JavaFX and remove the\n            // tray icon (removing the tray icon will also shut down AWT).\n\n            exitItem = new MenuItem(\"Quit CAD\");\n            exitItem.addActionListener(event -&gt; {\n                Platform.exit();\n                tray.remove(trayIcon);\n            });\n\n            // setup the popup menu for the application.\n            popup.add(startRecording);\n            popup.add(stopRecording);\n            popup.addSeparator();\n            popup.add(playRecording);\n            popup.add(pauseRecording);\n            popup.addSeparator();\n            popup.add(startOver);\n            popup.addSeparator();\n            popup.add(exitItem);\n            trayIcon.setPopupMenu(popup);\n            // add the application tray icon to the system tray.\n            tray.add(trayIcon);\n\n           // startRecording.addActionListener(event -&gt; Platform.runLater(Creator::startRecording));\n\n        } catch (AWTException | IOException e) {\n            System.out.println(\"Unable to init system tray\");\n           logger.info(e.getMessage());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664094730,"creation_date":1664094730,"answer_id":73843068,"question_id":53126884,"body_markdown":"I write apps like this a lot, and this is what I discovered as being the easiest and most effective way to use Java/FX to create an app on MacOS that only exists as an icon in the system tray.\r\n\r\nI utilize the [FXTrayIcon library](https://github.com/dustinkredmond/FXTrayIcon) to accomplish this as that library does the conversions between JavaFX and AWT quite nicely.\r\n\r\nFirst I just add this to my POM file:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.dustinredmond.fxtrayicon&lt;/groupId&gt;\r\n    &lt;artifactId&gt;FXTrayIcon&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen I use a Launcher class which takes advantage of what AWT can do that JavaFX cannot which is get rid of the Dock icon (not to mention still no native FX support for the system tray).\r\n\r\n```\r\nimport java.awt.*;\r\n\r\npublic class Launcher {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.setProperty(&quot;apple.awt.UIElement&quot;, &quot;true&quot;);\r\n\t\tToolkit.getDefaultToolkit();\r\n\t\tMain.main(args);\r\n\t}\r\n}\r\n```\r\n\r\nThen here is a simple Main class that is fully functional\r\n\r\n```\r\nimport com.dustinredmond.fxtrayicon.FXTrayIcon;\r\nimport javafx.application.Application;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.net.URL;\r\n\r\npublic class Main extends Application {\r\n\r\n    private URL icon = Main.class.getResource(&quot;icon.png&quot;);\r\n\r\n    @Override public void start(Stage primaryStage) throws Exception {\r\n        new FXTrayIcon.Builder(primaryStage, icon, 22, 22)\r\n                .menuItem(&quot;Say Hello&quot;, e-&gt;helloIcon())\r\n                .separator()\r\n                .addExitMenuItem(&quot;Exit&quot;, e-&gt; System.exit(0))\r\n                .show()\r\n                .build();\r\n    }\r\n\r\n    private void helloIcon() {\r\n        System.out.println(&quot;Hello Icon&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\nThis is what it looks like, and no Dock icon at all nor does the app show up in the CMD+TAB app switching.\r\n\r\n[![Screen Shot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tl7CK.png","title":"How to have a menu on the mac top toolbar with JavaFX?","body":"<p>I write apps like this a lot, and this is what I discovered as being the easiest and most effective way to use Java/FX to create an app on MacOS that only exists as an icon in the system tray.</p>\n<p>I utilize the <a href=\"https://github.com/dustinkredmond/FXTrayIcon\" rel=\"nofollow noreferrer\">FXTrayIcon library</a> to accomplish this as that library does the conversions between JavaFX and AWT quite nicely.</p>\n<p>First I just add this to my POM file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.dustinredmond.fxtrayicon&lt;/groupId&gt;\n    &lt;artifactId&gt;FXTrayIcon&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then I use a Launcher class which takes advantage of what AWT can do that JavaFX cannot which is get rid of the Dock icon (not to mention still no native FX support for the system tray).</p>\n<pre><code>import java.awt.*;\n\npublic class Launcher {\n    public static void main(String[] args) {\n        System.setProperty(&quot;apple.awt.UIElement&quot;, &quot;true&quot;);\n        Toolkit.getDefaultToolkit();\n        Main.main(args);\n    }\n}\n</code></pre>\n<p>Then here is a simple Main class that is fully functional</p>\n<pre><code>import com.dustinredmond.fxtrayicon.FXTrayIcon;\nimport javafx.application.Application;\nimport javafx.stage.Stage;\n\nimport java.net.URL;\n\npublic class Main extends Application {\n\n    private URL icon = Main.class.getResource(&quot;icon.png&quot;);\n\n    @Override public void start(Stage primaryStage) throws Exception {\n        new FXTrayIcon.Builder(primaryStage, icon, 22, 22)\n                .menuItem(&quot;Say Hello&quot;, e-&gt;helloIcon())\n                .separator()\n                .addExitMenuItem(&quot;Exit&quot;, e-&gt; System.exit(0))\n                .show()\n                .build();\n    }\n\n    private void helloIcon() {\n        System.out.println(&quot;Hello Icon&quot;);\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>This is what it looks like, and no Dock icon at all nor does the app show up in the CMD+TAB app switching.</p>\n<p><a href=\"https://i.stack.imgur.com/tl7CK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tl7CK.png\" alt=\"Screen Shot\" /></a></p>\n"}],"owner":{"account_id":12922390,"reputation":147,"user_id":9344333,"display_name":"primarykey123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1664094730,"creation_date":1541200590,"question_id":53126884,"body_markdown":"On Mac OS, applications that run in the background sometimes have their icon attached to a gui or menu in the right corner of the screen. I believe it is similar to what Windows has on the bottom-right corner.\r\nHowever I want this for my JavaFX application as well. And I don&#39;t know how to google for that. All I found was JavaFX&#39; MenuBar, what unfortunately is not what I&#39;m looking for.\r\n\r\n[![Example of what I want for my application][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZmgJP.png","title":"How to have a menu on the mac top toolbar with JavaFX?","body":"<p>On Mac OS, applications that run in the background sometimes have their icon attached to a gui or menu in the right corner of the screen. I believe it is similar to what Windows has on the bottom-right corner.\nHowever I want this for my JavaFX application as well. And I don't know how to google for that. All I found was JavaFX' MenuBar, what unfortunately is not what I'm looking for.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZmgJP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZmgJP.png\" alt=\"Example of what I want for my application\"></a></p>\n"},{"tags":["java","spring","jpa","one-to-many","many-to-one"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664092425,"creation_date":1664036299,"answer_id":73838765,"question_id":73249297,"body_markdown":"I found the fix. Remove `cascade` attribute for Job member variable of Person Entity. JPA is combining both and also reusing the existing job from database.\r\n\r\nUpdate Person Entity :\r\n\r\n    @Entity\r\n    @Table(name = &quot;people&quot;)\r\n    public class Person {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER, targetEntity = Job.class)\r\n        @JoinColumn(name = &quot;job_id&quot;)\r\n        private Job job;\r\n        \r\n        // ...getters and setters, constructors, toString(), etc are here\r\n    }\r\n\r\nOutput (In DB Person Table) :\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nJob Table :\r\n\r\n[![enter image description here][2]][2]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fIlR5.png\r\n  [2]: https://i.stack.imgur.com/oHDQ0.png","title":"Spring boot JPA OneToMany relationship - create related object if not exist","body":"<p>I found the fix. Remove <code>cascade</code> attribute for Job member variable of Person Entity. JPA is combining both and also reusing the existing job from database.</p>\n<p>Update Person Entity :</p>\n<pre><code>@Entity\n@Table(name = &quot;people&quot;)\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n\n    @ManyToOne(fetch = FetchType.EAGER, targetEntity = Job.class)\n    @JoinColumn(name = &quot;job_id&quot;)\n    private Job job;\n    \n    // ...getters and setters, constructors, toString(), etc are here\n}\n</code></pre>\n<p>Output (In DB Person Table) :</p>\n<p><a href=\"https://i.stack.imgur.com/fIlR5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fIlR5.png\" alt=\"enter image description here\" /></a></p>\n<p>Job Table :</p>\n<p><a href=\"https://i.stack.imgur.com/oHDQ0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oHDQ0.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8958894,"reputation":82,"user_id":6682284,"display_name":"arm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2815,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664092425,"creation_date":1659700134,"question_id":73249297,"body_markdown":"Say I have a oneToMany relationship between `Person` and `Job`. Each person has only one job, while a job has many persons. \r\n\r\nI have a controller which calls the service which calls the repository that will execute the queries.\r\n\r\nhere they are: \r\n\r\n```java\r\n@RestController\r\n@CrossOrigin()\r\n@RequestMapping(path = &quot;api/person&quot;)\r\npublic class PersonController {\r\n\tprivate final PersonService personService;\r\n    @Autowired\r\n\tpublic PersonController(PersonService personService) {\r\n\t\tthis.personService = personService;\r\n\t}\r\n\r\n\t@PostMapping\r\n\tpublic Person storePerson(@RequestBody Person person) {\r\n\t\treturn this.personService.storePerson(person);\r\n\t}\r\n    //...more code is also here\r\n}\r\n\r\n@Service\r\npublic class PersonService {\r\n\tprivate final PersonRepository personRepository;\r\n\t@Autowired\r\n\tpublic PersonService(PersonRepository personRepository, CountryRepository countryRepository,\r\n\t\t\tJobRepository jobRepository, RoleRepository roleRepository, HairColorRepository hairColorRepository) {\r\n\t\tthis.personRepository = personRepository;\r\n\t}\r\n\r\n\tpublic Person storePerson(Person person) {\r\n\t\treturn this.personRepository.save(person);\r\n\t}\r\n    //...more code is also here\r\n}\r\n\r\n@Repository\r\npublic interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nNow the models and the way I define the relationship between them. I can code this in two ways. \r\n\r\n**Senario 1:**\r\n```java\r\n@Entity\r\n@Table(name = &quot;people&quot;)\r\npublic class Person {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String name;\r\n\r\n\t@ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER, targetEntity = Job.class)\r\n\t@JoinColumn(name = &quot;job_id&quot;)\r\n\tprivate Job job;\r\n    \r\n    // ...getters and setters, constructors, toString(), etc are here\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;jobs&quot;)\r\npublic class Job {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\t@Column(nullable = false)\r\n\tprivate String name;\r\n\r\n\t@OneToMany(mappedBy = &quot;job&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\r\n\tprivate Set&lt;Person&gt; persons;\r\n    // ...getters and setters, constructors, toString(), etc are here\r\n}\r\n```\r\nI use postman to insert records into this database.\r\nI send a `POST` request and this is the body: \r\n\r\n**First Json**\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;James&quot;,\r\n    &quot;job&quot;: {\r\n        &quot;id&quot;: null,\r\n        &quot;name&quot;: &quot;Doctor&quot;\r\n    }\r\n}\r\n```\r\nThis works perfectly, because it creates the person, it also creates a new job that DID NOT EXIST in the database, and also creates the relationship between the two.\r\nBut on second request, I want to *reuse* the Job. So I make this request:\r\n\r\n**Second Json**\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;David&quot;,\r\n    &quot;job&quot;: {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Doctor&quot;\r\n    }\r\n}\r\n```\r\nHere I get an Exception: \r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-08-05T11:20:41.037+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;message&quot;: &quot;detached entity passed to persist: ir.arm.archiver.job.Job; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: ir.arm.archiver.job.Job&quot;,\r\n    &quot;path&quot;: &quot;/api/person&quot;\r\n}\r\n```\r\n\r\n**Senario2**\r\n\r\nIf I change the `Cascade` values in the relationship annotations a bit, I get the exact opposite results. If in `Person.java` I change the annotations for the `private Job job` field to use `Cascade.MERGE` like this: \r\n```java\r\n\t@ManyToOne(cascade = CascadeType.MERGE, fetch = FetchType.EAGER, targetEntity = Job.class)\r\n\t@JoinColumn(name = &quot;job_id&quot;)\r\n\tprivate Job job;\r\n```\r\nThen, when I pass the *First Json*, this time, I get an exception:\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-08-05T11:36:17.854+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;message&quot;: &quot;org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : ir.arm.archiver.person.Person.job -&gt; ir.arm.archiver.job.Job; nested exception is java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : ir.arm.archiver.person.Person.job -&gt; ir.arm.archiver.job.Job&quot;,\r\n    &quot;path&quot;: &quot;/api/person&quot;\r\n}\r\n```\r\nBUT, if I create the job record myself in the database, and then I execute the request with the *Second Json*, it will work, and create the person with the relationship to the existing job record. \r\n\r\n\r\nNow my question is:\r\n\r\nHow Can I combine the two? I want the JPA to do both. \r\nIs there any way, to be able to pass both jsons and the jpa automatically creates the job, if the `Id` is null, and fetch and reuse it if it has `Id`?\r\n\r\n","title":"Spring boot JPA OneToMany relationship - create related object if not exist","body":"<p>Say I have a oneToMany relationship between <code>Person</code> and <code>Job</code>. Each person has only one job, while a job has many persons.</p>\n<p>I have a controller which calls the service which calls the repository that will execute the queries.</p>\n<p>here they are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@CrossOrigin()\n@RequestMapping(path = &quot;api/person&quot;)\npublic class PersonController {\n    private final PersonService personService;\n    @Autowired\n    public PersonController(PersonService personService) {\n        this.personService = personService;\n    }\n\n    @PostMapping\n    public Person storePerson(@RequestBody Person person) {\n        return this.personService.storePerson(person);\n    }\n    //...more code is also here\n}\n\n@Service\npublic class PersonService {\n    private final PersonRepository personRepository;\n    @Autowired\n    public PersonService(PersonRepository personRepository, CountryRepository countryRepository,\n            JobRepository jobRepository, RoleRepository roleRepository, HairColorRepository hairColorRepository) {\n        this.personRepository = personRepository;\n    }\n\n    public Person storePerson(Person person) {\n        return this.personRepository.save(person);\n    }\n    //...more code is also here\n}\n\n@Repository\npublic interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\n\n}\n</code></pre>\n<p>Now the models and the way I define the relationship between them. I can code this in two ways.</p>\n<p><strong>Senario 1:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;people&quot;)\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n\n    @ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER, targetEntity = Job.class)\n    @JoinColumn(name = &quot;job_id&quot;)\n    private Job job;\n    \n    // ...getters and setters, constructors, toString(), etc are here\n}\n\n@Entity\n@Table(name = &quot;jobs&quot;)\npublic class Job {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;job&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\n    private Set&lt;Person&gt; persons;\n    // ...getters and setters, constructors, toString(), etc are here\n}\n</code></pre>\n<p>I use postman to insert records into this database.\nI send a <code>POST</code> request and this is the body:</p>\n<p><strong>First Json</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;James&quot;,\n    &quot;job&quot;: {\n        &quot;id&quot;: null,\n        &quot;name&quot;: &quot;Doctor&quot;\n    }\n}\n</code></pre>\n<p>This works perfectly, because it creates the person, it also creates a new job that DID NOT EXIST in the database, and also creates the relationship between the two.\nBut on second request, I want to <em>reuse</em> the Job. So I make this request:</p>\n<p><strong>Second Json</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;David&quot;,\n    &quot;job&quot;: {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Doctor&quot;\n    }\n}\n</code></pre>\n<p>Here I get an Exception:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-08-05T11:20:41.037+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;message&quot;: &quot;detached entity passed to persist: ir.arm.archiver.job.Job; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: ir.arm.archiver.job.Job&quot;,\n    &quot;path&quot;: &quot;/api/person&quot;\n}\n</code></pre>\n<p><strong>Senario2</strong></p>\n<p>If I change the <code>Cascade</code> values in the relationship annotations a bit, I get the exact opposite results. If in <code>Person.java</code> I change the annotations for the <code>private Job job</code> field to use <code>Cascade.MERGE</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ManyToOne(cascade = CascadeType.MERGE, fetch = FetchType.EAGER, targetEntity = Job.class)\n    @JoinColumn(name = &quot;job_id&quot;)\n    private Job job;\n</code></pre>\n<p>Then, when I pass the <em>First Json</em>, this time, I get an exception:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-08-05T11:36:17.854+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;message&quot;: &quot;org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : ir.arm.archiver.person.Person.job -&gt; ir.arm.archiver.job.Job; nested exception is java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : ir.arm.archiver.person.Person.job -&gt; ir.arm.archiver.job.Job&quot;,\n    &quot;path&quot;: &quot;/api/person&quot;\n}\n</code></pre>\n<p>BUT, if I create the job record myself in the database, and then I execute the request with the <em>Second Json</em>, it will work, and create the person with the relationship to the existing job record.</p>\n<p>Now my question is:</p>\n<p>How Can I combine the two? I want the JPA to do both.\nIs there any way, to be able to pass both jsons and the jpa automatically creates the job, if the <code>Id</code> is null, and fetch and reuse it if it has <code>Id</code>?</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":2,"creation_date":1662983669,"post_id":73687687,"comment_id":130124861,"body_markdown":"`@Named` qualifier for `modify()` paired with `@Mapping#qualifiedByName` should solve your problem. Check official documentation.","body":"<code>@Named</code> qualifier for <code>modify()</code> paired with <code>@Mapping#qualifiedByName</code> should solve your problem. Check official documentation."}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664092207,"creation_date":1662985482,"answer_id":73689226,"question_id":73687687,"body_markdown":"There are two ways in which you can try :\r\n\r\n--&gt; `@Mapping#expression` Attribute :\r\n\r\n\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface ExampleMapper {\r\n    \r\n    \t@Mapping(target = &quot;b&quot;, expression = &quot;java(modify(source.getB()))&quot;)\r\n    \t@Mapping(target = &quot;a&quot;, expression = &quot;java(String.valueOf(source.getA()))&quot;)\r\n    \tTarget sourceToTarget(Source source);\r\n    \r\n    \tdefault String modify(int value) {\r\n    \t\treturn &quot;prefix_&quot; + value;\r\n    \t}\r\n    }\r\n\r\nIt has generated this code :\r\n\r\n    @Component\r\n    public class ExampleMapperImpl implements ExampleMapper {\r\n    \r\n        @Override\r\n        public Target sourceToTarget(Source source) {\r\n            if ( source == null ) {\r\n                return null;\r\n            }\r\n    \r\n            Target target = new Target();\r\n    \r\n            target.setB( modify(source.getB()) );\r\n            target.setA( String.valueOf(source.getA()) );\r\n    \r\n            return target;\r\n        }\r\n    }\r\n\r\n--&gt; Try with `@Named` :\r\n\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface ExampleMapper {\r\n    \r\n    \t@Mapping(source = &quot;a&quot;, target = &quot;a&quot;)\r\n    \t@Mapping(target = &quot;b&quot;, qualifiedByName = &quot;any-name&quot;)\r\n    \tTarget sourceToTarget(Source source);\r\n    \r\n    \t@Named(&quot;any-name&quot;)\r\n    \tdefault String modify(int value) {\r\n    \t\treturn &quot;prefix_&quot; + value;\r\n    \t}\r\n    }\r\n\r\n**Note:** I have used `@Named` on `modify(int value)` method so that it can&#39;t be used by any mapping unless mentioned via `qualifiedByName`.\r\n\r\n\r\nIt has generated this code :\r\n\r\n    @Component\r\n    public class ExampleMapperImpl implements ExampleMapper {\r\n    \r\n        @Override\r\n        public Target sourceToTarget(Source source) {\r\n            if ( source == null ) {\r\n                return null;\r\n            }\r\n    \r\n            Target target = new Target();\r\n    \r\n            target.setA( String.valueOf( source.getA() ) );\r\n    \r\n            target.setB( modify(source.getB()) );\r\n    \r\n            return target;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"MapStruct: custom mapping function is applied to all fields","body":"<p>There are two ways in which you can try :</p>\n<p>--&gt; <code>@Mapping#expression</code> Attribute :</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface ExampleMapper {\n\n    @Mapping(target = &quot;b&quot;, expression = &quot;java(modify(source.getB()))&quot;)\n    @Mapping(target = &quot;a&quot;, expression = &quot;java(String.valueOf(source.getA()))&quot;)\n    Target sourceToTarget(Source source);\n\n    default String modify(int value) {\n        return &quot;prefix_&quot; + value;\n    }\n}\n</code></pre>\n<p>It has generated this code :</p>\n<pre><code>@Component\npublic class ExampleMapperImpl implements ExampleMapper {\n\n    @Override\n    public Target sourceToTarget(Source source) {\n        if ( source == null ) {\n            return null;\n        }\n\n        Target target = new Target();\n\n        target.setB( modify(source.getB()) );\n        target.setA( String.valueOf(source.getA()) );\n\n        return target;\n    }\n}\n</code></pre>\n<p>--&gt; Try with <code>@Named</code> :</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface ExampleMapper {\n\n    @Mapping(source = &quot;a&quot;, target = &quot;a&quot;)\n    @Mapping(target = &quot;b&quot;, qualifiedByName = &quot;any-name&quot;)\n    Target sourceToTarget(Source source);\n\n    @Named(&quot;any-name&quot;)\n    default String modify(int value) {\n        return &quot;prefix_&quot; + value;\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> I have used <code>@Named</code> on <code>modify(int value)</code> method so that it can't be used by any mapping unless mentioned via <code>qualifiedByName</code>.</p>\n<p>It has generated this code :</p>\n<pre><code>@Component\npublic class ExampleMapperImpl implements ExampleMapper {\n\n    @Override\n    public Target sourceToTarget(Source source) {\n        if ( source == null ) {\n            return null;\n        }\n\n        Target target = new Target();\n\n        target.setA( String.valueOf( source.getA() ) );\n\n        target.setB( modify(source.getB()) );\n\n        return target;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":975245,"reputation":1402,"user_id":996709,"accept_rate":87,"display_name":"ceran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3206,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73689226,"answer_count":1,"score":3,"last_activity_date":1664092207,"creation_date":1662977670,"question_id":73687687,"body_markdown":"I have custom mapping function that maps `int` to `String`, but I only want it to be applied in one special case. However, it is applied to all source-fields of type int, not just the one annotated with `java(...)`.\r\n\r\nSource class:\r\n\r\n    class Source {\r\n        private int a;\r\n        private int b;\r\n        // getters etc...\r\n    }\r\n\r\nTarget class:\r\n\r\n    class Target {\r\n        private String a;\r\n        private String b;\r\n        // getters etc...\r\n    }\r\n\r\nMapper:\r\n\r\n    @Mapping(source=&quot;a&quot;, target=&quot;a&quot;) // should not be necessary, but to make it more explicit\r\n    @Mapping(target=&quot;b&quot;, expression = &quot;java(modify(b))&quot;)\r\n    public abstract Target sourceToTarget(Source source);\r\n    \r\n    String modify(int value) {\r\n        return &quot;prefix_&quot; + value;\r\n    }\r\n\r\nWhat I want to achieve: \r\n\r\n    target.setA(String.valueOf(a));\r\n    target.setB(modify(b));\r\n\r\nHowever, the generated code does this:\r\n\r\n    target.setA(modify(a));\r\n    target.setB(modify(b));\r\n\r\nWhen removing the expression and `modify`, MapStruct uses `String.valueOf` for both values.\r\nI tried it with both MapStruct `1.4.2.FINAL` as well as `1.5.2.FINAL`. Both classes make use of Lombok, however, this hasn&#39;t been a problem in the past.\r\n\r\nIs this behavior expected? If yes, how else can I make it work?\r\n\r\n\r\n\r\n\r\n","title":"MapStruct: custom mapping function is applied to all fields","body":"<p>I have custom mapping function that maps <code>int</code> to <code>String</code>, but I only want it to be applied in one special case. However, it is applied to all source-fields of type int, not just the one annotated with <code>java(...)</code>.</p>\n<p>Source class:</p>\n<pre><code>class Source {\n    private int a;\n    private int b;\n    // getters etc...\n}\n</code></pre>\n<p>Target class:</p>\n<pre><code>class Target {\n    private String a;\n    private String b;\n    // getters etc...\n}\n</code></pre>\n<p>Mapper:</p>\n<pre><code>@Mapping(source=&quot;a&quot;, target=&quot;a&quot;) // should not be necessary, but to make it more explicit\n@Mapping(target=&quot;b&quot;, expression = &quot;java(modify(b))&quot;)\npublic abstract Target sourceToTarget(Source source);\n\nString modify(int value) {\n    return &quot;prefix_&quot; + value;\n}\n</code></pre>\n<p>What I want to achieve:</p>\n<pre><code>target.setA(String.valueOf(a));\ntarget.setB(modify(b));\n</code></pre>\n<p>However, the generated code does this:</p>\n<pre><code>target.setA(modify(a));\ntarget.setB(modify(b));\n</code></pre>\n<p>When removing the expression and <code>modify</code>, MapStruct uses <code>String.valueOf</code> for both values.\nI tried it with both MapStruct <code>1.4.2.FINAL</code> as well as <code>1.5.2.FINAL</code>. Both classes make use of Lombok, however, this hasn't been a problem in the past.</p>\n<p>Is this behavior expected? If yes, how else can I make it work?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3111829,"reputation":486,"user_id":2633429,"display_name":"Zaheer Khorajiya"},"score":0,"creation_date":1442408241,"post_id":32609173,"comment_id":53069435,"body_markdown":"You can download zip file from following link\n\nhttp://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/marsr","body":"You can download zip file from following link  <a href=\"http://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/marsr\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/eclipse-ide-java-ee-developer&zwnj;&#8203;s/&hellip;</a>"},{"owner":{"account_id":1184034,"reputation":7671,"user_id":1158361,"display_name":"Timmetje"},"score":1,"creation_date":1442408307,"post_id":32609173,"comment_id":53069491,"body_markdown":"It&#39;s actually just 50 pixels under the download button and they even mention it in the same announcement: [&quot;For those not into installers, we still have the packages and zip files available on our download pages.&quot;](https://www.eclipse.org/downloads/installer-instructions.php).  A little effort is the minimal requerement for a SO question. Check out [How to ask a question](http://stackoverflow.com/help/how-to-ask)","body":"It&#39;s actually just 50 pixels under the download button and they even mention it in the same announcement: <a href=\"https://www.eclipse.org/downloads/installer-instructions.php\" rel=\"nofollow noreferrer\">&quot;For those not into installers, we still have the packages and zip files available on our download pages.&quot;</a>.  A little effort is the minimal requerement for a SO question. Check out <a href=\"http://stackoverflow.com/help/how-to-ask\">How to ask a question</a>"},{"owner":{"account_id":1458192,"reputation":11231,"user_id":1373258,"accept_rate":93,"display_name":"tmn"},"score":0,"creation_date":1442408460,"post_id":32609173,"comment_id":53069611,"body_markdown":"Okay thanks, I have no idea why I overlooked this even though I spent twenty minutes googling and searching for it.","body":"Okay thanks, I have no idea why I overlooked this even though I spent twenty minutes googling and searching for it."},{"owner":{"account_id":1184034,"reputation":7671,"user_id":1158361,"display_name":"Timmetje"},"score":0,"creation_date":1442408567,"post_id":32609173,"comment_id":53069691,"body_markdown":"I forgive you, I blame booze.","body":"I forgive you, I blame booze."},{"owner":{"account_id":1458192,"reputation":11231,"user_id":1373258,"accept_rate":93,"display_name":"tmn"},"score":0,"creation_date":1442408680,"post_id":32609173,"comment_id":53069774,"body_markdown":"Haha or just doing this at the end of the workday. I&#39;ll close the question.","body":"Haha or just doing this at the end of the workday. I&#39;ll close the question."},{"owner":{"account_id":7725061,"reputation":419,"user_id":5849965,"accept_rate":100,"display_name":"FriskySaga"},"score":0,"creation_date":1581563012,"post_id":32609173,"comment_id":106479597,"body_markdown":"Updated link for newcomers: https://www.eclipse.org/downloads/packages/","body":"Updated link for newcomers: <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages</a>"}],"answers":[{"tags":[],"owner":{"account_id":6101189,"reputation":2090,"user_id":4760164,"display_name":"flafoux"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1442408150,"creation_date":1442408150,"answer_id":32609233,"question_id":32609173,"body_markdown":"You can still find zip in this [page][1] under `Package Solutions`\r\n\r\n\r\n  [1]: https://www.eclipse.org/downloads/","title":"Can I still get Eclipse without an installer?","body":"<p>You can still find zip in this <a href=\"https://www.eclipse.org/downloads/\" rel=\"nofollow\">page</a> under <code>Package Solutions</code></p>\n"},{"tags":[],"owner":{"account_id":12372515,"reputation":488,"user_id":9022194,"display_name":"George Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664091923,"creation_date":1664091923,"answer_id":73842813,"question_id":32609173,"body_markdown":"Here is the direct link:\r\n[Direct Link To Eclipse Oxygen 2022-09][1]\r\n\r\nAnd if you want to browse the releases, use navigate here:\r\n[Releases][2]\r\n\r\n[![Screenshot with wget][3]][3]\r\n\r\n\r\n  [1]: https://archive.eclipse.org/technology/epp/downloads/release/oxygen/3a/eclipse-java-oxygen-3a-linux-gtk-x86_64.tar.gz\r\n  [2]: https://archive.eclipse.org/technology/epp/downloads/release/\r\n  [3]: https://i.stack.imgur.com/lc2GZ.png","title":"Can I still get Eclipse without an installer?","body":"<p>Here is the direct link:\n<a href=\"https://archive.eclipse.org/technology/epp/downloads/release/oxygen/3a/eclipse-java-oxygen-3a-linux-gtk-x86_64.tar.gz\" rel=\"nofollow noreferrer\">Direct Link To Eclipse Oxygen 2022-09</a></p>\n<p>And if you want to browse the releases, use navigate here:\n<a href=\"https://archive.eclipse.org/technology/epp/downloads/release/\" rel=\"nofollow noreferrer\">Releases</a></p>\n<p><a href=\"https://i.stack.imgur.com/lc2GZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lc2GZ.png\" alt=\"Screenshot with wget\" /></a></p>\n"}],"owner":{"account_id":1458192,"reputation":11231,"user_id":1373258,"accept_rate":93,"display_name":"tmn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8232,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"accepted_answer_id":32609233,"answer_count":2,"score":3,"last_activity_date":1664091923,"creation_date":1442407998,"question_id":32609173,"body_markdown":"When Eclipse announced the IDE now uses an installer instead of a download-and-unzip binary, I was less than happy. Not requiring an installation was to me one of the greatest benefits of Eclipse.\r\n\r\nhttp://www.eclipse.org/downloads/\r\n\r\nIs there a way to get the Eclipse Mars binary still without an installation?","title":"Can I still get Eclipse without an installer?","body":"<p>When Eclipse announced the IDE now uses an installer instead of a download-and-unzip binary, I was less than happy. Not requiring an installation was to me one of the greatest benefits of Eclipse.</p>\n\n<p><a href=\"http://www.eclipse.org/downloads/\" rel=\"nofollow\">http://www.eclipse.org/downloads/</a></p>\n\n<p>Is there a way to get the Eclipse Mars binary still without an installation?</p>\n"},{"tags":["java","java-8","hashmap","java-stream"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664052040,"creation_date":1664051386,"answer_id":73840377,"question_id":73840167,"body_markdown":"Sure, simply check if all elements in the list match a non-null value from the map:\r\n\r\n```\r\nmyList.stream().allMatch(x -&gt; myMap.containsKey(x) &amp;&amp; myMap.get(x) == null);\r\n// or (more overhead, but you might prefer its expressivness):\r\nmyList.stream()\r\n    .filter(myMap::containsKey)\r\n    .map(myMap::get)\r\n    .allMatch(Objects::isNull);\r\n```\r\n\r\nOr, if you consider &quot;missing keys&quot; to be equivalent to &quot;having null&quot;:\r\n\r\n```\r\nmyList.stream().map(myMap::get).allMatch(Objects:isNull);\r\n```","title":"Check whether a map contains not null values for only a set of keys","body":"<p>Sure, simply check if all elements in the list match a non-null value from the map:</p>\n<pre><code>myList.stream().allMatch(x -&gt; myMap.containsKey(x) &amp;&amp; myMap.get(x) == null);\n// or (more overhead, but you might prefer its expressivness):\nmyList.stream()\n    .filter(myMap::containsKey)\n    .map(myMap::get)\n    .allMatch(Objects::isNull);\n</code></pre>\n<p>Or, if you consider &quot;missing keys&quot; to be equivalent to &quot;having null&quot;:</p>\n<pre><code>myList.stream().map(myMap::get).allMatch(Objects:isNull);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664053998,"creation_date":1664053466,"answer_id":73840569,"question_id":73840167,"body_markdown":"`Map.get` specifies that keys that aren&#39;t present return null. So you can filter out keys mapped to null or not mapped at all with just one null check.\r\n\r\n    Map&lt;String, String&gt; resultMap = myList.stream()\r\n        .filter(key -&gt; myMap.get(key) != null)\r\n        .collect(Collectors.toMap(Function.identity(), myMap::get));\r\n\r\nIf you don&#39;t need a `resultMap` it&#39;s even shorter with `anyMatch`\r\n\r\n    myList.stream().allMatch(key -&gt; myMap.get(key) != null)\r\n\r\n\r\nUnlike `myMap.values().removeIf(Objects::isNull)` this will not modify the original map.","title":"Check whether a map contains not null values for only a set of keys","body":"<p><code>Map.get</code> specifies that keys that aren't present return null. So you can filter out keys mapped to null or not mapped at all with just one null check.</p>\n<pre><code>Map&lt;String, String&gt; resultMap = myList.stream()\n    .filter(key -&gt; myMap.get(key) != null)\n    .collect(Collectors.toMap(Function.identity(), myMap::get));\n</code></pre>\n<p>If you don't need a <code>resultMap</code> it's even shorter with <code>anyMatch</code></p>\n<pre><code>myList.stream().allMatch(key -&gt; myMap.get(key) != null)\n</code></pre>\n<p>Unlike <code>myMap.values().removeIf(Objects::isNull)</code> this will not modify the original map.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664059368,"creation_date":1664058266,"answer_id":73840943,"question_id":73840167,"body_markdown":"So, you&#39;ve removed the entries having `null` *values* with this line:\r\n\r\n```\r\nmyMap.values().removeIf(Objects::isNull);\r\n```\r\n\r\nFine, since keeping null-references in the collections an antipattern because these elements can&#39;t provide any useful information. So I consider this was your intention unrelated to checking if all the string in `myList` were associated with `null` (or not present).\r\n\r\nNow to check whether `myMap` contain any of the elements from `myList` (which would automatically imply that the *value* mapped to such element is *non-null*) you can create a stream over the contents of `myList` and check each element against the *key-set* of `myMap`:\r\n\r\n```\r\nboolean hasNonNullValue = myList.stream().anyMatch(myMap.keySet()::contains);\r\n```\r\n\r\nI suspect you might to perform some actions with such *keys* (if any). If so, then instead of performing a check provided above would make sense to generate a list of these *keys*:\r\n\r\n```\r\nList&lt;String&gt; keysToExamine = myList.stream()\r\n    .filter(myMap.keySet()::contains)\r\n    .toList(); // for JDK versions earlier then 16 use .collect(Collectors.toList()) instead of toList()\r\n```\r\n\r\n***Note***: check elements of the *list* against the *key-set*, **not** the opposite, otherwise you might cause performance degradation.","title":"Check whether a map contains not null values for only a set of keys","body":"<p>So, you've removed the entries having <code>null</code> <em>values</em> with this line:</p>\n<pre><code>myMap.values().removeIf(Objects::isNull);\n</code></pre>\n<p>Fine, since keeping null-references in the collections an antipattern because these elements can't provide any useful information. So I consider this was your intention unrelated to checking if all the string in <code>myList</code> were associated with <code>null</code> (or not present).</p>\n<p>Now to check whether <code>myMap</code> contain any of the elements from <code>myList</code> (which would automatically imply that the <em>value</em> mapped to such element is <em>non-null</em>) you can create a stream over the contents of <code>myList</code> and check each element against the <em>key-set</em> of <code>myMap</code>:</p>\n<pre><code>boolean hasNonNullValue = myList.stream().anyMatch(myMap.keySet()::contains);\n</code></pre>\n<p>I suspect you might to perform some actions with such <em>keys</em> (if any). If so, then instead of performing a check provided above would make sense to generate a list of these <em>keys</em>:</p>\n<pre><code>List&lt;String&gt; keysToExamine = myList.stream()\n    .filter(myMap.keySet()::contains)\n    .toList(); // for JDK versions earlier then 16 use .collect(Collectors.toList()) instead of toList()\n</code></pre>\n<p><em><strong>Note</strong></em>: check elements of the <em>list</em> against the <em>key-set</em>, <strong>not</strong> the opposite, otherwise you might cause performance degradation.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664090886,"creation_date":1664090886,"answer_id":73842730,"question_id":73840167,"body_markdown":"### [`Stream#findAny`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findAny--) and [`Optional#ifPresent`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ifPresent-java.util.function.Consumer-)\r\n\r\nIt seems you want to perform some action if at least one non-null value is present in `myMap` with the corresponding key in `myList`. If yes, this combination meets your requirement perfectly.\r\n\r\n    myMap.keySet()\r\n        .stream()\r\n        .filter(k -&gt; myMap.get(k) != null &amp;&amp; myList.contains(k))\r\n        .findAny()\r\n        .ifPresent(\r\n            // Atleast one not null value is present in myMap with key in myList\r\n            System.out::println // A sample action\r\n        );\r\n\r\n&lt;kbd&gt;[Demo](https://ideone.com/Ds1X0a)&lt;/kbd&gt;","title":"Check whether a map contains not null values for only a set of keys","body":"<h3><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findAny--\" rel=\"nofollow noreferrer\"><code>Stream#findAny</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ifPresent-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>Optional#ifPresent</code></a></h3>\n<p>It seems you want to perform some action if at least one non-null value is present in <code>myMap</code> with the corresponding key in <code>myList</code>. If yes, this combination meets your requirement perfectly.</p>\n<pre><code>myMap.keySet()\n    .stream()\n    .filter(k -&gt; myMap.get(k) != null &amp;&amp; myList.contains(k))\n    .findAny()\n    .ifPresent(\n        // Atleast one not null value is present in myMap with key in myList\n        System.out::println // A sample action\n    );\n</code></pre>\n<p><kbd><a href=\"https://ideone.com/Ds1X0a\" rel=\"nofollow noreferrer\">Demo</a></kbd></p>\n"}],"owner":{"account_id":2194914,"reputation":341,"user_id":1940878,"accept_rate":40,"display_name":"User_1940878"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2087,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":4,"score":-1,"last_activity_date":1664090886,"creation_date":1664048882,"question_id":73840167,"body_markdown":"I have a map as below\r\n\r\n    Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\r\n    myMap.put(&quot;a&quot;, &quot;Something&quot;);\r\n    myMap.put(&quot;b&quot;, null);\r\n    myMap.put(&quot;c&quot;, &quot;more&quot;);\r\n\r\nand a list,\r\n\r\n    List&lt;String&gt; myList = Arrays.asList(&quot;a&quot;,&quot;b&quot;);\r\nI want to check, whether all the values in myMap with keys in myList are null\r\n\r\nI have created a method as follows and it works fine. I wanted to check whether we can achieve the same in one line of code using stream\r\n\r\n    myMap.values().removeIf(Objects::isNull);\r\n    \r\n    Map&lt;String, String&gt; resultMap = myList.stream().filter(myMap::containsKey).collect(Collectors.toMap(Function.identity(), myMap::get));\r\n    if(!resultMap.isEmpty()){\r\n    // Atleast one not null value is present in myMap with key in myList\r\n    }\r\n\r\n\r\n","title":"Check whether a map contains not null values for only a set of keys","body":"<p>I have a map as below</p>\n<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\nmyMap.put(&quot;a&quot;, &quot;Something&quot;);\nmyMap.put(&quot;b&quot;, null);\nmyMap.put(&quot;c&quot;, &quot;more&quot;);\n</code></pre>\n<p>and a list,</p>\n<pre><code>List&lt;String&gt; myList = Arrays.asList(&quot;a&quot;,&quot;b&quot;);\n</code></pre>\n<p>I want to check, whether all the values in myMap with keys in myList are null</p>\n<p>I have created a method as follows and it works fine. I wanted to check whether we can achieve the same in one line of code using stream</p>\n<pre><code>myMap.values().removeIf(Objects::isNull);\n\nMap&lt;String, String&gt; resultMap = myList.stream().filter(myMap::containsKey).collect(Collectors.toMap(Function.identity(), myMap::get));\nif(!resultMap.isEmpty()){\n// Atleast one not null value is present in myMap with key in myList\n}\n</code></pre>\n"},{"tags":["java","unit-testing","groovy","spock","spring-boot-test"],"comments":[{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1645617362,"post_id":71235231,"comment_id":125918434,"body_markdown":"Simply put: you can&#39;t. Either your class is testable (the `LOGGER` is not final) or not.","body":"Simply put: you can&#39;t. Either your class is testable (the <code>LOGGER</code> is not final) or not."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1645630133,"post_id":71235231,"comment_id":125924180,"body_markdown":"&quot;Simply put: you can&#39;t. Either your class is testable (the LOGGER is not final) or not.&quot; - I do not believe that is correct.  Being `final` does not prevent something from being mocked.  I have posted an example.","body":"&quot;Simply put: you can&#39;t. Either your class is testable (the LOGGER is not final) or not.&quot; - I do not believe that is correct.  Being <code>final</code> does not prevent something from being mocked.  I have posted an example."},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1645633984,"post_id":71235231,"comment_id":125926017,"body_markdown":"@JeffScottBrown you might be correct about Groovy class under test. Although I think, that the OP meant rather a java class instead","body":"@JeffScottBrown you might be correct about Groovy class under test. Although I think, that the OP meant rather a java class instead"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1645634483,"post_id":71235231,"comment_id":125926242,"body_markdown":"@injecteer I think you are right.  That was my mistake.","body":"@injecteer I think you are right.  That was my mistake."},{"owner":{"account_id":13788860,"reputation":27,"user_id":9951941,"display_name":"akatsuki"},"score":0,"creation_date":1645662076,"post_id":71235231,"comment_id":125935178,"body_markdown":"@injecteer thanks for the comment. I&#39;m kind of new to Spock. It&#39;s just that the IDE would complain that `LOGGER` should be final and there are a bunch of fields like this in the project that I&#39;m working on.","body":"@injecteer thanks for the comment. I&#39;m kind of new to Spock. It&#39;s just that the IDE would complain that <code>LOGGER</code> should be final and there are a bunch of fields like this in the project that I&#39;m working on."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1645675738,"post_id":71235231,"comment_id":125937300,"body_markdown":"The commit at https://github.com/jeffbrown/mocklog/commit/1fadffe9b9087db3e169eb3230a6ac157fd046ed converts the CUT to Java","body":"The commit at <a href=\"https://github.com/jeffbrown/mocklog/commit/1fadffe9b9087db3e169eb3230a6ac157fd046ed\" rel=\"nofollow noreferrer\">github.com/jeffbrown/mocklog/commit/&hellip;</a> converts the CUT to Java"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1645681461,"post_id":71235231,"comment_id":125938258,"body_markdown":"Yes, of course you can use tools like Mockito-inline, Sarek or others in order to modify bytecode or class-loading in such a way as to allow mocking for final or static entities. But out of the box, Spock cannot do that for non-Groovy code under test. But actually, it would be better to write testable code, so we do not need dirty tricks or poer tools. Or how about configuring the log framework for the test in such a way as to use a mock logger?","body":"Yes, of course you can use tools like Mockito-inline, Sarek or others in order to modify bytecode or class-loading in such a way as to allow mocking for final or static entities. But out of the box, Spock cannot do that for non-Groovy code under test. But actually, it would be better to write testable code, so we do not need dirty tricks or poer tools. Or how about configuring the log framework for the test in such a way as to use a mock logger?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1645681964,"post_id":71235231,"comment_id":125938364,"body_markdown":"@JeffScottBrown, to avoid misunderstandings: I do think your solution with the Mockito inline mock maker is valid, especially because you only use `mockStatic` in order to inject a regular Spock mock and do not try to replace the whole Spock mocking system. So kudos for that. I just think that the need for using such tools is a symptom (code design smell) rather than a cure. But let us just assume that the class under test is 3rd party and we do not have the source code. &#128521;","body":"@JeffScottBrown, to avoid misunderstandings: I do think your solution with the Mockito inline mock maker is valid, especially because you only use <code>mockStatic</code> in order to inject a regular Spock mock and do not try to replace the whole Spock mocking system. So kudos for that. I just think that the need for using such tools is a symptom (code design smell) rather than a cure. But let us just assume that the class under test is 3rd party and we do not have the source code. 😉"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1645706938,"post_id":71235231,"comment_id":125946298,"body_markdown":"&quot;But out of the box, Spock cannot do that for non-Groovy code under test. &quot; - That is correct.  i wasn&#39;t trying to suggest otherwise.  I thought the question was asking how to mock that private static variable, I didn&#39;t realize the question was asking if Spock can do it out of the box.  The answer is a simple &quot;no&quot;. Thank you for helping to clarify.","body":"&quot;But out of the box, Spock cannot do that for non-Groovy code under test. &quot; - That is correct.  i wasn&#39;t trying to suggest otherwise.  I thought the question was asking how to mock that private static variable, I didn&#39;t realize the question was asking if Spock can do it out of the box.  The answer is a simple &quot;no&quot;. Thank you for helping to clarify."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664089890,"creation_date":1645684742,"answer_id":71248053,"question_id":71235231,"body_markdown":"Assuming that we do not wish to use Mockito inline mock maker or other mocking power tools, but simply use Spock&#39;s on-board means, we can use another way specifically for Slf4j: use the existing logger instead of mocking it, but adding a mock appender, then verify interactions on that one. The only requirement for that is to know which actual logging tool is used or to just configure the test environment in order to use a specific one. Let us choose LogBack. If we know that Slf4J logs to LogBack, we can import its classes and cast the logger to it.\r\n\r\n**Class under test:**\r\n\r\nI made it a bit more complicated on purpose, so later we can test several cases for positive, negative and zero numbers:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q71235231;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class ClassWithLogger {\r\n  private static final Logger LOGGER = LoggerFactory.getLogger(ClassWithLogger.class);\r\n\r\n  public void logSomething(int i) {\r\n    LOGGER.info(&quot;FYI, 3 * {} = {}&quot;, i, 3 * i);\r\n    if (i &lt; 0)\r\n      LOGGER.warn(&quot;Be warned that {} is a negative number&quot;, i);\r\n    if (i == 0)\r\n      LOGGER.error(&quot;Using zero is forbidden&quot;);\r\n  }\r\n}\r\n```\r\n\r\n**Spock test**\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q71235231\r\n\r\nimport ch.qos.logback.classic.Level\r\nimport ch.qos.logback.classic.Logger\r\nimport ch.qos.logback.classic.spi.LoggingEvent\r\nimport ch.qos.logback.core.Appender\r\nimport spock.lang.Specification\r\nimport spock.lang.Unroll\r\n\r\nclass ClassWithLoggerTest extends Specification {\r\n  @Unroll(&quot;test logger with number #number&quot;)\r\n  def &quot;test logger&quot;() {\r\n    given:\r\n    // Groovy can simply access private fields, if we know their names\r\n    Logger logger = ClassWithLogger.LOGGER\r\n    def appender = Mock(Appender)\r\n    logger.addAppender(appender)\r\n\r\n    when:\r\n    new ClassWithLogger().logSomething(number)\r\n\r\n    then:\r\n    1 * appender.doAppend({ LoggingEvent event -&gt;\r\n      event.level == Level.INFO &amp;&amp;\r\n        event.formattedMessage == &quot;FYI, 3 * $number = ${3 * number}&quot;\r\n    })\r\n    (number == 0 ? 1 : 0) * appender.doAppend({ LoggingEvent event -&gt;\r\n      event.level == Level.ERROR &amp;&amp;\r\n        event.formattedMessage == &quot;Using zero is forbidden&quot;\r\n    })\r\n    (number &lt; 0 ? 1 : 0) * appender.doAppend({ LoggingEvent event -&gt;\r\n      event.level == Level.WARN &amp;&amp;\r\n        event.formattedMessage == &quot;Be warned that $number is a negative number&quot;\r\n    })\r\n\r\n    cleanup:\r\n    logger.detachAppender(appender)\r\n\r\n    where:\r\n    number &lt;&lt; [4, 1, 0, -1, -7]\r\n  }\r\n}\r\n```\r\n\r\nThe dynamic interaction counts like `(number &lt; 0 ? 1 : 0) * ...` are not super readable. I simply wanted to show off Spock&#39;s capabilities in connection with test parametrisation and cover all scenarios in a single test method. Maybe you would be better off to split it into 3 methods and cover each case separately. That way the tests would be more readable, but you would have more duplicate code, too. It is a matter of taste, I leave the choice up to you.\r\n\r\n---\r\n\r\n**Update:** If you prefer to calculate more of the dynamic stuff in the `where:` section (could also be done in `given:`), you can use this variation (just cosmetics, the logic is unchanged):\r\n\r\n```java\r\nclass ClassWithLoggerTest extends Specification {\r\n  @Unroll(&quot;test logger with number #number&quot;)\r\n  def &quot;test logger&quot;() {\r\n    given:\r\n    // Groovy can simply access private fields, if we know their names\r\n    Logger logger = ClassWithLogger.LOGGER\r\n    def appender = Mock(Appender)\r\n    logger.addAppender(appender)\r\n\r\n    when:\r\n    new ClassWithLogger().logSomething(number)\r\n\r\n    then:\r\n    infoCount * appender.doAppend({ LoggingEvent event -&gt;\r\n      event.level == Level.INFO &amp;&amp; event.formattedMessage == infoMessage\r\n    })\r\n    errorCount * appender.doAppend({ LoggingEvent event -&gt;\r\n      event.level == Level.ERROR &amp;&amp; event.formattedMessage == errorMessage\r\n    })\r\n    warningCount * appender.doAppend({ LoggingEvent event -&gt;\r\n      event.level == Level.WARN &amp;&amp; event.formattedMessage == warningMessage\r\n    })\r\n\r\n    cleanup:\r\n    logger.detachAppender(appender)\r\n\r\n    where:\r\n    number &lt;&lt; [4, 1, 0, -1, -7]\r\n    infoCount = 1\r\n    infoMessage = &quot;FYI, 3 * $number = ${3 * number}&quot;\r\n    errorCount = number == 0 ? 1 : 0\r\n    errorMessage = &quot;Using zero is forbidden&quot;\r\n    warningCount = number &lt; 0 ? 1 : 0\r\n    warningMessage = &quot;Be warned that $number is a negative number&quot;\r\n  }\r\n}\r\n```\r\n\r\nTry it in the [Groovy Web Console](https://gwc-experiment.appspot.com/?gist=c233a6b198c8638f7dcc42d2f71123b0).\r\n\r\n---\r\n\r\n**Source:** blog post [&quot;Don&#39;t mock static: test SLF4J Logger with appenders&quot;](https://kotlintesting.com/mock-slf4j/), adapted to Spock.","title":"How to use mock in a private static final variable in Spock?","body":"<p>Assuming that we do not wish to use Mockito inline mock maker or other mocking power tools, but simply use Spock's on-board means, we can use another way specifically for Slf4j: use the existing logger instead of mocking it, but adding a mock appender, then verify interactions on that one. The only requirement for that is to know which actual logging tool is used or to just configure the test environment in order to use a specific one. Let us choose LogBack. If we know that Slf4J logs to LogBack, we can import its classes and cast the logger to it.</p>\n<p><strong>Class under test:</strong></p>\n<p>I made it a bit more complicated on purpose, so later we can test several cases for positive, negative and zero numbers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q71235231;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class ClassWithLogger {\n  private static final Logger LOGGER = LoggerFactory.getLogger(ClassWithLogger.class);\n\n  public void logSomething(int i) {\n    LOGGER.info(&quot;FYI, 3 * {} = {}&quot;, i, 3 * i);\n    if (i &lt; 0)\n      LOGGER.warn(&quot;Be warned that {} is a negative number&quot;, i);\n    if (i == 0)\n      LOGGER.error(&quot;Using zero is forbidden&quot;);\n  }\n}\n</code></pre>\n<p><strong>Spock test</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q71235231\n\nimport ch.qos.logback.classic.Level\nimport ch.qos.logback.classic.Logger\nimport ch.qos.logback.classic.spi.LoggingEvent\nimport ch.qos.logback.core.Appender\nimport spock.lang.Specification\nimport spock.lang.Unroll\n\nclass ClassWithLoggerTest extends Specification {\n  @Unroll(&quot;test logger with number #number&quot;)\n  def &quot;test logger&quot;() {\n    given:\n    // Groovy can simply access private fields, if we know their names\n    Logger logger = ClassWithLogger.LOGGER\n    def appender = Mock(Appender)\n    logger.addAppender(appender)\n\n    when:\n    new ClassWithLogger().logSomething(number)\n\n    then:\n    1 * appender.doAppend({ LoggingEvent event -&gt;\n      event.level == Level.INFO &amp;&amp;\n        event.formattedMessage == &quot;FYI, 3 * $number = ${3 * number}&quot;\n    })\n    (number == 0 ? 1 : 0) * appender.doAppend({ LoggingEvent event -&gt;\n      event.level == Level.ERROR &amp;&amp;\n        event.formattedMessage == &quot;Using zero is forbidden&quot;\n    })\n    (number &lt; 0 ? 1 : 0) * appender.doAppend({ LoggingEvent event -&gt;\n      event.level == Level.WARN &amp;&amp;\n        event.formattedMessage == &quot;Be warned that $number is a negative number&quot;\n    })\n\n    cleanup:\n    logger.detachAppender(appender)\n\n    where:\n    number &lt;&lt; [4, 1, 0, -1, -7]\n  }\n}\n</code></pre>\n<p>The dynamic interaction counts like <code>(number &lt; 0 ? 1 : 0) * ...</code> are not super readable. I simply wanted to show off Spock's capabilities in connection with test parametrisation and cover all scenarios in a single test method. Maybe you would be better off to split it into 3 methods and cover each case separately. That way the tests would be more readable, but you would have more duplicate code, too. It is a matter of taste, I leave the choice up to you.</p>\n<hr />\n<p><strong>Update:</strong> If you prefer to calculate more of the dynamic stuff in the <code>where:</code> section (could also be done in <code>given:</code>), you can use this variation (just cosmetics, the logic is unchanged):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ClassWithLoggerTest extends Specification {\n  @Unroll(&quot;test logger with number #number&quot;)\n  def &quot;test logger&quot;() {\n    given:\n    // Groovy can simply access private fields, if we know their names\n    Logger logger = ClassWithLogger.LOGGER\n    def appender = Mock(Appender)\n    logger.addAppender(appender)\n\n    when:\n    new ClassWithLogger().logSomething(number)\n\n    then:\n    infoCount * appender.doAppend({ LoggingEvent event -&gt;\n      event.level == Level.INFO &amp;&amp; event.formattedMessage == infoMessage\n    })\n    errorCount * appender.doAppend({ LoggingEvent event -&gt;\n      event.level == Level.ERROR &amp;&amp; event.formattedMessage == errorMessage\n    })\n    warningCount * appender.doAppend({ LoggingEvent event -&gt;\n      event.level == Level.WARN &amp;&amp; event.formattedMessage == warningMessage\n    })\n\n    cleanup:\n    logger.detachAppender(appender)\n\n    where:\n    number &lt;&lt; [4, 1, 0, -1, -7]\n    infoCount = 1\n    infoMessage = &quot;FYI, 3 * $number = ${3 * number}&quot;\n    errorCount = number == 0 ? 1 : 0\n    errorMessage = &quot;Using zero is forbidden&quot;\n    warningCount = number &lt; 0 ? 1 : 0\n    warningMessage = &quot;Be warned that $number is a negative number&quot;\n  }\n}\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?gist=c233a6b198c8638f7dcc42d2f71123b0\" rel=\"nofollow noreferrer\">Groovy Web Console</a>.</p>\n<hr />\n<p><strong>Source:</strong> blog post <a href=\"https://kotlintesting.com/mock-slf4j/\" rel=\"nofollow noreferrer\">&quot;Don't mock static: test SLF4J Logger with appenders&quot;</a>, adapted to Spock.</p>\n"}],"owner":{"account_id":13788860,"reputation":27,"user_id":9951941,"display_name":"akatsuki"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71248053,"answer_count":1,"score":0,"last_activity_date":1664089890,"creation_date":1645612089,"question_id":71235231,"body_markdown":"Say I have a `private static final` variable in a Java class like:\r\n\r\n    @Service\r\n    public class MyClass {\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(MyClass.class);\r\n        ...\r\n    }\r\n\r\nThen I have test class like:\r\n\r\n    class MyClassTest extends Specification {\r\n    \r\n      @Autowired\r\n      MyClass sut\r\n    \r\n      def &quot;Testing a private static final variable&quot;() {\r\n        given:\r\n        sut.LOGGER = Mock(Logger)\r\n    \r\n        when:\r\n        ...\r\n    }\r\nHow can I use `Mock(Logger)` with `sut.LOGGER` where `LOGGER` is a `private static final` in `MyClass` class? Without the `final` keyword, the test would just run fine though but I wanted it to work with a `final` keyword. Any suggestion is highly appreciated.","title":"How to use mock in a private static final variable in Spock?","body":"<p>Say I have a <code>private static final</code> variable in a Java class like:</p>\n<pre><code>@Service\npublic class MyClass {\n    private static final Logger LOGGER = LoggerFactory.getLogger(MyClass.class);\n    ...\n}\n</code></pre>\n<p>Then I have test class like:</p>\n<pre><code>class MyClassTest extends Specification {\n\n  @Autowired\n  MyClass sut\n\n  def &quot;Testing a private static final variable&quot;() {\n    given:\n    sut.LOGGER = Mock(Logger)\n\n    when:\n    ...\n}\n</code></pre>\n<p>How can I use <code>Mock(Logger)</code> with <code>sut.LOGGER</code> where <code>LOGGER</code> is a <code>private static final</code> in <code>MyClass</code> class? Without the <code>final</code> keyword, the test would just run fine though but I wanted it to work with a <code>final</code> keyword. Any suggestion is highly appreciated.</p>\n"},{"tags":["java","udp","network-protocols","coap","californium"],"answers":[{"tags":[],"owner":{"account_id":15153537,"reputation":729,"user_id":10935137,"display_name":"Achim Kraus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664089302,"creation_date":1664089302,"answer_id":73842625,"question_id":73830244,"body_markdown":"Not sure, what your doing. \r\nThat seems to be wired and not related to RFC7252 nor RFC7641. \r\n\r\nCoAP is designed for REST, I don&#39;t see any benefit in using it for video streaming.\r\n\r\nUsing Eclipse/Californium on a Intel n6005 with 16GB RAM, the CoAP/DTLS server runs on about 60000 requests/second. The benchmark uses 2000 clients in parallel.\r\n\r\nSee also [Eclipse/Californium - Benchmarks j5005][1]\r\n\r\nUsing only one client with CON requests, the performance is mainly limited by the RTT. 30 requests/second should work, if that RTT is accordingly small.\r\n\r\nUsing NON requests doesn&#39;t really help. CoAP RFC7252 defines two layers, a messaging layer and an application layer. NON affects only the messaging layer, but a NON request will wait for it&#39;s response, if NSTART-1 should be used.\r\n\r\nIf your RTT is the issue, you may try to escape that either using requests with &quot;No Server Response&quot; (RFC7967) or multiple NON responses (RFC7641). The first is not intended for  fast requests, the second is more a work-around of the initial statement, that CoAP is REST not video-streaming.\r\n\r\nSo, what is your RTT? \r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/eclipse-californium/californium/tree/main/demo-apps/cf-extplugtest-server#benchmarks","title":"is Eclipse/Californium CoAP observer much slower than Aiocoap observer?","body":"<p>Not sure, what your doing.\nThat seems to be wired and not related to RFC7252 nor RFC7641.</p>\n<p>CoAP is designed for REST, I don't see any benefit in using it for video streaming.</p>\n<p>Using Eclipse/Californium on a Intel n6005 with 16GB RAM, the CoAP/DTLS server runs on about 60000 requests/second. The benchmark uses 2000 clients in parallel.</p>\n<p>See also <a href=\"https://github.com/eclipse-californium/californium/tree/main/demo-apps/cf-extplugtest-server#benchmarks\" rel=\"nofollow noreferrer\">Eclipse/Californium - Benchmarks j5005</a></p>\n<p>Using only one client with CON requests, the performance is mainly limited by the RTT. 30 requests/second should work, if that RTT is accordingly small.</p>\n<p>Using NON requests doesn't really help. CoAP RFC7252 defines two layers, a messaging layer and an application layer. NON affects only the messaging layer, but a NON request will wait for it's response, if NSTART-1 should be used.</p>\n<p>If your RTT is the issue, you may try to escape that either using requests with &quot;No Server Response&quot; (RFC7967) or multiple NON responses (RFC7641). The first is not intended for  fast requests, the second is more a work-around of the initial statement, that CoAP is REST not video-streaming.</p>\n<p>So, what is your RTT?</p>\n"}],"owner":{"account_id":26380184,"reputation":5,"user_id":20033557,"display_name":"waleed Mash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73842625,"answer_count":1,"score":0,"last_activity_date":1664089302,"creation_date":1663948293,"question_id":73830244,"body_markdown":"I&#39;m trying to build a system in which I can connect some devices to a server over the internet.\r\nI want to stream some data over CoAP (10-30FPS), frame size = 3KB.\r\nFirstly, I used Aiocoap, it sends up to 100FPS but uses too much CPU,\r\nrequests are NON, got low lose rate in Aiocoap,\r\nwhile Eclipse/Californium could not send more than 3FPS,\r\nwhen i use higher FPS, either I receive only the first block of each message or receiving nothing, also not ordered most of the times.\r\n\r\nI was wondering if this is the real performance of Californium  or am I using it in a wrong way?\r\n\r\nI will share some code:\r\n\r\n*server.java*\r\n```\r\nstatic class CoapObserverServer extends CoapResource {\r\n                int i = -1;\r\n                public CoapObserverServer() {\r\n                        super(&quot;alarm&quot;);\r\n                        setObservable(true); // enable observing\r\n                        setObserveType(Type.NON); // configure the notification type to CONs\r\n                        getAttributes().setObservable(); // mark observable in the Link-Format\r\n\r\n                        System.out.println(this);\r\n                        // schedule a periodic update task, otherwise let events call changed()\r\n                        //new Timer().schedule(new UpdateTask(), 0, 1000/2);\r\n                }\r\n                private class UpdateTask extends TimerTask {\r\n                        @Override\r\n                        public void run() {\r\n                                changed(); // notify all observers\r\n                        }\r\n                }\r\n\r\n                @Override\r\n                public void handleGET(CoapExchange exchange) {\r\n                        // the Max-Age value should match the update interval\r\n                        exchange.setMaxAge(1);\r\n                        //++i;\r\n                        int leng = 2000;\r\n                        String s = &quot;&quot; + i + &quot;-&quot; + fillString(&#39;X&#39;, leng - 1 - Integer.toString(i).len&gt;\r\n                        exchange.respond(s);\r\n                }\r\n                public static String fillString(char fillChar, int count){\r\n                        // creates a string of &#39;x&#39; repeating characters\r\n                        char[] chars = new char[count];\r\n                        while (count&gt;0) chars[--count] = fillChar;\r\n                        return new String(chars);\r\n                }\r\n\r\n                @Override\r\n                public void handleDELETE(CoapExchange exchange) {\r\n                        delete(); // will also call clearAndNotifyObserveRelations(ResponseCode.NOT_&gt;\r\n                        exchange.respond(ResponseCode.DELETED);\r\n                }\r\n\r\n                @Override\r\n                public void handlePUT(CoapExchange exchange) {\r\n                        exchange.accept();\r\n\r\n                        int format = exchange.getRequestOptions().getContentFormat();\r\n                        if (format == MediaTypeRegistry.TEXT_PLAIN) {\r\n                                 // ...\r\n                                        String plain = exchange.getRequestText();\r\n                                try{\r\n                                        i = Integer.valueOf(plain);\r\n                                } catch(NumberFormatException ex){\r\n                                        System.out.println(&quot;error converting string&quot;+ plain);\r\n                                }\r\n                                exchange.respond(ResponseCode.CHANGED);\r\n                                changed(); // notify all observers\r\n                        }\r\n                }\r\n\r\n```\r\n\r\n*Observer.java*\r\n\r\n```\r\nprivate static final File CONFIG_FILE = new File(&quot;Californium3.properties&quot;);\r\n\tprivate static final String CONFIG_HEADER = &quot;Californium CoAP Properties file for client&quot;;\r\n\tprivate static final int DEFAULT_MAX_RESOURCE_SIZE = 2 * 1024 * 1024; // 2 MB\r\n\tprivate static final int DEFAULT_BLOCK_SIZE = 512;\r\n\r\n\tstatic {\r\n\t\tCoapConfig.register();\r\n\t\tUdpConfig.register();\r\n\t}\r\n\r\n\tprivate static DefinitionsProvider DEFAULTS = new DefinitionsProvider() {\r\n\r\n\t\t@Override\r\n\t\tpublic void applyDefinitions(Configuration config) {\r\n\t\t\tconfig.set(CoapConfig.MAX_RESOURCE_BODY_SIZE, DEFAULT_MAX_RESOURCE_SIZE);\r\n\t\t\tconfig.set(CoapConfig.MAX_MESSAGE_SIZE, DEFAULT_BLOCK_SIZE);\r\n\t\t\tconfig.set(CoapConfig.PREFERRED_BLOCK_SIZE, DEFAULT_BLOCK_SIZE);\r\n\t\t}\r\n\t};\r\n\r\n\tprivate static class AsynchListener implements CoapHandler {\r\n        @Override\r\n        public void onLoad(CoapResponse response) {\r\n            System.out.println( response.getResponseText() );\r\n        }\r\n\r\n        @Override\r\n        public void onError() {\r\n            System.err.println(&quot;Error&quot;);\r\n        }\r\n    }\r\n\r\n\t/*\r\n\t * Application entry point.\r\n\t */\t\r\n\tpublic static void main(String args[]) {\r\n\t\tConfiguration config = Configuration.createWithFile(CONFIG_FILE, CONFIG_HEADER, DEFAULTS);\r\n\t\tConfiguration.setStandard(config);\r\n\r\n\t\tURI uri = null; // URI parameter of the request\r\n\t\tif (args.length &gt; 0) {\r\n\r\n\t\t\t// input URI from command line arguments\r\n\t\t\ttry {\r\n\t\t\t\turi = new URI(args[0]);\r\n\t\t\t} catch (URISyntaxException e) {\r\n\t\t\t\tSystem.err.println(&quot;Invalid URI: &quot; + e.getMessage());\r\n\t\t\t\tSystem.exit(-1);\r\n\t\t\t}\r\n\r\n\t\t\tCoapClient client = new CoapClient(uri);\r\n\t\t\tclient.useNONs();\r\n\t\t\t// observe\r\n\t\t\tAsynchListener asynchListener = new AsynchListener();\r\n\t\t\tCoapObserveRelation observation = client.observe(asynchListener);\r\n\t\t\t\r\n\t\t\t// User presses ENTER to exit\r\n\t\t\tSystem.out.println(&quot;Press ENTER to exit...&quot;);\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\ttry { br.readLine(); } catch (IOException e) { }\r\n\t\t\tSystem.out.println(&quot;Exiting...&quot;);\r\n\t\t\tobservation.proactiveCancel();\r\n\t\t\t\r\n\t\t} \r\n```\r\n\r\nSo i&#39;m controlling the FPS by sending PUT requests with a server that has a counter 0-50.","title":"is Eclipse/Californium CoAP observer much slower than Aiocoap observer?","body":"<p>I'm trying to build a system in which I can connect some devices to a server over the internet.\nI want to stream some data over CoAP (10-30FPS), frame size = 3KB.\nFirstly, I used Aiocoap, it sends up to 100FPS but uses too much CPU,\nrequests are NON, got low lose rate in Aiocoap,\nwhile Eclipse/Californium could not send more than 3FPS,\nwhen i use higher FPS, either I receive only the first block of each message or receiving nothing, also not ordered most of the times.</p>\n<p>I was wondering if this is the real performance of Californium  or am I using it in a wrong way?</p>\n<p>I will share some code:</p>\n<p><em>server.java</em></p>\n<pre><code>static class CoapObserverServer extends CoapResource {\n                int i = -1;\n                public CoapObserverServer() {\n                        super(&quot;alarm&quot;);\n                        setObservable(true); // enable observing\n                        setObserveType(Type.NON); // configure the notification type to CONs\n                        getAttributes().setObservable(); // mark observable in the Link-Format\n\n                        System.out.println(this);\n                        // schedule a periodic update task, otherwise let events call changed()\n                        //new Timer().schedule(new UpdateTask(), 0, 1000/2);\n                }\n                private class UpdateTask extends TimerTask {\n                        @Override\n                        public void run() {\n                                changed(); // notify all observers\n                        }\n                }\n\n                @Override\n                public void handleGET(CoapExchange exchange) {\n                        // the Max-Age value should match the update interval\n                        exchange.setMaxAge(1);\n                        //++i;\n                        int leng = 2000;\n                        String s = &quot;&quot; + i + &quot;-&quot; + fillString('X', leng - 1 - Integer.toString(i).len&gt;\n                        exchange.respond(s);\n                }\n                public static String fillString(char fillChar, int count){\n                        // creates a string of 'x' repeating characters\n                        char[] chars = new char[count];\n                        while (count&gt;0) chars[--count] = fillChar;\n                        return new String(chars);\n                }\n\n                @Override\n                public void handleDELETE(CoapExchange exchange) {\n                        delete(); // will also call clearAndNotifyObserveRelations(ResponseCode.NOT_&gt;\n                        exchange.respond(ResponseCode.DELETED);\n                }\n\n                @Override\n                public void handlePUT(CoapExchange exchange) {\n                        exchange.accept();\n\n                        int format = exchange.getRequestOptions().getContentFormat();\n                        if (format == MediaTypeRegistry.TEXT_PLAIN) {\n                                 // ...\n                                        String plain = exchange.getRequestText();\n                                try{\n                                        i = Integer.valueOf(plain);\n                                } catch(NumberFormatException ex){\n                                        System.out.println(&quot;error converting string&quot;+ plain);\n                                }\n                                exchange.respond(ResponseCode.CHANGED);\n                                changed(); // notify all observers\n                        }\n                }\n\n</code></pre>\n<p><em>Observer.java</em></p>\n<pre><code>private static final File CONFIG_FILE = new File(&quot;Californium3.properties&quot;);\n    private static final String CONFIG_HEADER = &quot;Californium CoAP Properties file for client&quot;;\n    private static final int DEFAULT_MAX_RESOURCE_SIZE = 2 * 1024 * 1024; // 2 MB\n    private static final int DEFAULT_BLOCK_SIZE = 512;\n\n    static {\n        CoapConfig.register();\n        UdpConfig.register();\n    }\n\n    private static DefinitionsProvider DEFAULTS = new DefinitionsProvider() {\n\n        @Override\n        public void applyDefinitions(Configuration config) {\n            config.set(CoapConfig.MAX_RESOURCE_BODY_SIZE, DEFAULT_MAX_RESOURCE_SIZE);\n            config.set(CoapConfig.MAX_MESSAGE_SIZE, DEFAULT_BLOCK_SIZE);\n            config.set(CoapConfig.PREFERRED_BLOCK_SIZE, DEFAULT_BLOCK_SIZE);\n        }\n    };\n\n    private static class AsynchListener implements CoapHandler {\n        @Override\n        public void onLoad(CoapResponse response) {\n            System.out.println( response.getResponseText() );\n        }\n\n        @Override\n        public void onError() {\n            System.err.println(&quot;Error&quot;);\n        }\n    }\n\n    /*\n     * Application entry point.\n     */ \n    public static void main(String args[]) {\n        Configuration config = Configuration.createWithFile(CONFIG_FILE, CONFIG_HEADER, DEFAULTS);\n        Configuration.setStandard(config);\n\n        URI uri = null; // URI parameter of the request\n        if (args.length &gt; 0) {\n\n            // input URI from command line arguments\n            try {\n                uri = new URI(args[0]);\n            } catch (URISyntaxException e) {\n                System.err.println(&quot;Invalid URI: &quot; + e.getMessage());\n                System.exit(-1);\n            }\n\n            CoapClient client = new CoapClient(uri);\n            client.useNONs();\n            // observe\n            AsynchListener asynchListener = new AsynchListener();\n            CoapObserveRelation observation = client.observe(asynchListener);\n            \n            // User presses ENTER to exit\n            System.out.println(&quot;Press ENTER to exit...&quot;);\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n            try { br.readLine(); } catch (IOException e) { }\n            System.out.println(&quot;Exiting...&quot;);\n            observation.proactiveCancel();\n            \n        } \n</code></pre>\n<p>So i'm controlling the FPS by sending PUT requests with a server that has a counter 0-50.</p>\n"},{"tags":["java","mongodb","mongodb-java"],"answers":[{"tags":[],"owner":{"account_id":13374058,"reputation":83,"user_id":9651422,"display_name":"Lavan Giri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664088928,"creation_date":1664088928,"answer_id":73842596,"question_id":73838320,"body_markdown":"I found solution. there was multiple issues.\r\n\r\n1. there was some records missing the field &quot;similarGroup&quot;. \r\n2. Sort was not working properly, and below code worked.\r\n\r\n\r\n    \r\n\r\n&gt; AggregateIterable&lt;Document&gt; propertiesDoc =\r\n&gt; collection.aggregate(Arrays.asList(Aggregates.match(queryNew),\r\n&gt;                     Aggregates.group(&quot;$similarGroup&quot;, Accumulators.sum(&quot;count&quot;, 1), \r\n&gt;                     Accumulators.first(&quot;data&quot;, &quot;$$ROOT&quot;)),\r\n&gt;                     Aggregates.sort(Sorts.descending(&quot;data.salePrice&quot;)), \r\n&gt;                     Aggregates.skip(skipCount),\r\n&gt;                     Aggregates.limit(searchRequest.getItemsPerPage())));","title":"My Aggregation Query skip,order is not working propery with java","body":"<p>I found solution. there was multiple issues.</p>\n<ol>\n<li>there was some records missing the field &quot;similarGroup&quot;.</li>\n<li>Sort was not working properly, and below code worked.</li>\n</ol>\n<blockquote>\n<p>AggregateIterable propertiesDoc =\ncollection.aggregate(Arrays.asList(Aggregates.match(queryNew),\nAggregates.group(&quot;$similarGroup&quot;, Accumulators.sum(&quot;count&quot;, 1),\nAccumulators.first(&quot;data&quot;, &quot;$$ROOT&quot;)),\nAggregates.sort(Sorts.descending(&quot;data.salePrice&quot;)),\nAggregates.skip(skipCount),\nAggregates.limit(searchRequest.getItemsPerPage())));</p>\n</blockquote>\n"}],"owner":{"account_id":13374058,"reputation":83,"user_id":9651422,"display_name":"Lavan Giri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664088928,"creation_date":1664032360,"question_id":73838320,"body_markdown":"Here is my Java code. skip missing some records. also order is not working. \r\n      \r\n    AggregateIterable&lt;Document&gt; propertiesDoc = collection.aggregate(Arrays.asList(\r\n                        Aggregates.match(queryNew),\r\n                         Aggregates.group(&quot;$similarGroup&quot;, Accumulators.sum(&quot;count&quot;, 1),Accumulators.first(&quot;data&quot;, &quot;$$ROOT&quot;)),\r\n                         Aggregates.skip(skipCount),\r\n                        Aggregates.limit(searchRequest.getItemsPerPage()),\r\n                        Aggregates.sort(descending(&quot;salePrice&quot;)))\r\n                        );","title":"My Aggregation Query skip,order is not working propery with java","body":"<p>Here is my Java code. skip missing some records. also order is not working.</p>\n<pre><code>AggregateIterable&lt;Document&gt; propertiesDoc = collection.aggregate(Arrays.asList(\n                    Aggregates.match(queryNew),\n                     Aggregates.group(&quot;$similarGroup&quot;, Accumulators.sum(&quot;count&quot;, 1),Accumulators.first(&quot;data&quot;, &quot;$$ROOT&quot;)),\n                     Aggregates.skip(skipCount),\n                    Aggregates.limit(searchRequest.getItemsPerPage()),\n                    Aggregates.sort(descending(&quot;salePrice&quot;)))\n                    );\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1664087684,"post_id":73842476,"comment_id":130388139,"body_markdown":"Note: You need `QueueArrays&lt;String&gt; queue = new QueueArrays&lt;&gt;();`, otherwise `queue` is a raw type (i.e., not parameterized).","body":"Note: You need <code>QueueArrays&lt;String&gt; queue = new QueueArrays&lt;&gt;();</code>, otherwise <code>queue</code> is a raw type (i.e., not parameterized)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1664087847,"post_id":73842476,"comment_id":130388158,"body_markdown":"As for `printQueue()`, you need to convert `T` to a `String`. The only thing you know about `T` is that it is &quot;at least&quot; an `Object`. So, the most straightforward option is to `map` the objects with `Object::toString`.","body":"As for <code>printQueue()</code>, you need to convert <code>T</code> to a <code>String</code>. The only thing you know about <code>T</code> is that it is &quot;at least&quot; an <code>Object</code>. So, the most straightforward option is to <code>map</code> the objects with <code>Object::toString</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1664088059,"post_id":73842476,"comment_id":130388183,"body_markdown":"By the way, your current implementation is nearly identical to `System.out.println(queue)`. The only difference being you use `&quot;,&quot;` instead of `&quot;, &quot;` as the separator.","body":"By the way, your current implementation is nearly identical to <code>System.out.println(queue)</code>. The only difference being you use <code>&quot;,&quot;</code> instead of <code>&quot;, &quot;</code> as the separator."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664088185,"creation_date":1664088185,"answer_id":73842535,"question_id":73842476,"body_markdown":"[Collectors.joining()][1] requires stream elements, which are [CharSequence][2].\r\n\r\nTo cite:\r\n\r\n&gt; Returns:\r\nA Collector which concatenates CharSequence elements, separated by the specified delimiter, in encounter order\r\n\r\nSo you must either:\r\n\r\n 1. Declare bound of the generic type, to be `CharSequence`\r\n```\r\nclass QueueArrays&lt;T extends CharSequence&gt; {\r\n}\r\n```\r\n 2. Or map the elements of the stream to a type implementing `CharSequence`, mapping to `String` being the easiest\r\n```\r\nthis.queue.stream()\r\n     .map(Object::toString)\r\n     .collect(Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;));\r\n```\r\nAdditional note, no need to return raw type here:\r\n```\r\npublic QueueArrays enqueue(T value){\r\n    //\r\n}\r\n```\r\nYou should return `QueueArrays&lt;T&gt;` instead.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-java.lang.CharSequence-java.lang.CharSequence-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html","title":"Java generics - Convert to generics type","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-java.lang.CharSequence-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">Collectors.joining()</a> requires stream elements, which are <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html\" rel=\"nofollow noreferrer\">CharSequence</a>.</p>\n<p>To cite:</p>\n<blockquote>\n<p>Returns:\nA Collector which concatenates CharSequence elements, separated by the specified delimiter, in encounter order</p>\n</blockquote>\n<p>So you must either:</p>\n<ol>\n<li>Declare bound of the generic type, to be <code>CharSequence</code></li>\n</ol>\n<pre><code>class QueueArrays&lt;T extends CharSequence&gt; {\n}\n</code></pre>\n<ol start=\"2\">\n<li>Or map the elements of the stream to a type implementing <code>CharSequence</code>, mapping to <code>String</code> being the easiest</li>\n</ol>\n<pre><code>this.queue.stream()\n     .map(Object::toString)\n     .collect(Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;));\n</code></pre>\n<p>Additional note, no need to return raw type here:</p>\n<pre><code>public QueueArrays enqueue(T value){\n    //\n}\n</code></pre>\n<p>You should return <code>QueueArrays&lt;T&gt;</code> instead.</p>\n"}],"owner":{"account_id":6093444,"reputation":989,"user_id":4755028,"accept_rate":46,"display_name":"Aavik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73842535,"answer_count":1,"score":0,"last_activity_date":1664088185,"creation_date":1664087404,"question_id":73842476,"body_markdown":"I am trying out java to create a queue using arrays. It works for a String type and wanted to convert the same code to use generics, to practice generic coding. I am struct where I use streams to print this generic type. Any help?\r\n\r\n```\r\nmain method:\r\nQueueArrays queue = new QueueArrays&lt;String&gt;();\r\nqueue.enqueue(&quot;Jack&quot;);\r\n```\r\n```\r\nclass QueueArrays&lt;T&gt;{\r\nint size;\r\nArrayList&lt;T&gt; queue;\r\npublic QueueArrays(){\r\n    this.queue = new ArrayList&lt;&gt;(10);\r\n    size=0;\r\n}\r\npublic QueueArrays enqueue(T value){\r\n    this.queue.add(value);\r\n    size++;\r\n    return this;\r\n}\r\n   \r\n@SuppressWarnings(&quot;unchecked&quot;)\r\npublic void printQueue(){\r\n System.out.println(this.queue.stream().collect(Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;)));   \r\n}\r\n```\r\n\r\nHow to convert printQueue for generics?","title":"Java generics - Convert to generics type","body":"<p>I am trying out java to create a queue using arrays. It works for a String type and wanted to convert the same code to use generics, to practice generic coding. I am struct where I use streams to print this generic type. Any help?</p>\n<pre><code>main method:\nQueueArrays queue = new QueueArrays&lt;String&gt;();\nqueue.enqueue(&quot;Jack&quot;);\n</code></pre>\n<pre><code>class QueueArrays&lt;T&gt;{\nint size;\nArrayList&lt;T&gt; queue;\npublic QueueArrays(){\n    this.queue = new ArrayList&lt;&gt;(10);\n    size=0;\n}\npublic QueueArrays enqueue(T value){\n    this.queue.add(value);\n    size++;\n    return this;\n}\n   \n@SuppressWarnings(&quot;unchecked&quot;)\npublic void printQueue(){\n System.out.println(this.queue.stream().collect(Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;)));   \n}\n</code></pre>\n<p>How to convert printQueue for generics?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1664084241,"post_id":73842233,"comment_id":130387801,"body_markdown":"Use a `List`. Call `List#sort(Comparator)`. Pass a `Comparator` that defines the ordering you described. If you already have some code, but you&#39;re having a _specific_ problem, then please demonstrate that problem with a [mre].","body":"Use a <code>List</code>. Call <code>List#sort(Comparator)</code>. Pass a <code>Comparator</code> that defines the ordering you described. If you already have some code, but you&#39;re having a <i>specific</i> problem, then please demonstrate that problem with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664121248,"post_id":73842233,"comment_id":130393871,"body_markdown":"Always search Stack Overflow thoroughly before posting.","body":"Always search Stack Overflow thoroughly before posting."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664087185,"creation_date":1664086278,"answer_id":73842393,"question_id":73842233,"body_markdown":"Just make your *colors* an [enum](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html).\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class Balloons {\r\n    enum Colors {RED, BLUE, GREEN}\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Colors&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(Colors.RED);\r\n        list.add(Colors.BLUE);\r\n        list.add(Colors.GREEN);\r\n        list.add(Colors.RED);\r\n        list.add(Colors.BLUE);\r\n        list.add(Colors.RED);\r\n        list.add(Colors.BLUE);\r\n        list.add(Colors.GREEN);\r\n        Collections.sort(list);\r\n        System.out.println(list);\r\n    }\r\n}\r\n```\r\nRunning above code outputs the following:\r\n```none\r\n[RED, RED, RED, BLUE, BLUE, BLUE, GREEN, GREEN]\r\n```\r\nAlternatively, if your *colors* are strings, define an appropriate comparator.\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\n\r\npublic class Balloons {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(&quot;Red&quot;);\r\n        list.add(&quot;Blue&quot;);\r\n        list.add(&quot;Green&quot;);\r\n        list.add(&quot;Red&quot;);\r\n        list.add(&quot;Blue&quot;);\r\n        list.add(&quot;Red&quot;);\r\n        list.add(&quot;Blue&quot;);\r\n        list.add(&quot;Green&quot;);\r\n        Comparator&lt;String&gt; c = (s1, s2) -&gt; {\r\n            if (&quot;Red&quot;.equals(s1)) {\r\n                if (&quot;Red&quot;.equals(s2)) {\r\n                    return 0;\r\n                }\r\n                return -1;\r\n            }\r\n            else if (&quot;Blue&quot;.equals(s1)) {\r\n                if (&quot;Red&quot;.equals(s2)) {\r\n                    return 1;\r\n                }\r\n                else if (&quot;Blue&quot;.equals(s2)) {\r\n                    return 0;\r\n                }\r\n                return -1;\r\n            }\r\n            else {\r\n                if (&quot;Green&quot;.equals(s2)) {\r\n                    return 0;\r\n                }\r\n                return 1;\r\n            }\r\n        };\r\n        list.sort(c);\r\n        System.out.println(list);\r\n    }\r\n}\r\n```\r\n","title":"How to solve sorting of different balls by collection","body":"<p>Just make your <em>colors</em> an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">enum</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Balloons {\n    enum Colors {RED, BLUE, GREEN}\n\n    public static void main(String[] args) {\n        List&lt;Colors&gt; list = new ArrayList&lt;&gt;();\n        list.add(Colors.RED);\n        list.add(Colors.BLUE);\n        list.add(Colors.GREEN);\n        list.add(Colors.RED);\n        list.add(Colors.BLUE);\n        list.add(Colors.RED);\n        list.add(Colors.BLUE);\n        list.add(Colors.GREEN);\n        Collections.sort(list);\n        System.out.println(list);\n    }\n}\n</code></pre>\n<p>Running above code outputs the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[RED, RED, RED, BLUE, BLUE, BLUE, GREEN, GREEN]\n</code></pre>\n<p>Alternatively, if your <em>colors</em> are strings, define an appropriate comparator.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class Balloons {\n\n    public static void main(String[] args) {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(&quot;Red&quot;);\n        list.add(&quot;Blue&quot;);\n        list.add(&quot;Green&quot;);\n        list.add(&quot;Red&quot;);\n        list.add(&quot;Blue&quot;);\n        list.add(&quot;Red&quot;);\n        list.add(&quot;Blue&quot;);\n        list.add(&quot;Green&quot;);\n        Comparator&lt;String&gt; c = (s1, s2) -&gt; {\n            if (&quot;Red&quot;.equals(s1)) {\n                if (&quot;Red&quot;.equals(s2)) {\n                    return 0;\n                }\n                return -1;\n            }\n            else if (&quot;Blue&quot;.equals(s1)) {\n                if (&quot;Red&quot;.equals(s2)) {\n                    return 1;\n                }\n                else if (&quot;Blue&quot;.equals(s2)) {\n                    return 0;\n                }\n                return -1;\n            }\n            else {\n                if (&quot;Green&quot;.equals(s2)) {\n                    return 0;\n                }\n                return 1;\n            }\n        };\n        list.sort(c);\n        System.out.println(list);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26435543,"reputation":1,"user_id":20080950,"display_name":"gaurav kolapkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1664121222,"answer_count":1,"score":-2,"last_activity_date":1664087185,"creation_date":1664083811,"question_id":73842233,"body_markdown":"Suppose I have one container that contain different\r\ncolors of ballons\r\n* such as Red, Blue, Green, Red,Blue,Red, Blue, Green in\r\nthis order,\r\n* now sort that baloon in such manner so Red baloon will be\r\nadded first\r\n* then Blue baloon and last is Green balloons. Use the\r\nproper collection","title":"How to solve sorting of different balls by collection","body":"<p>Suppose I have one container that contain different\ncolors of ballons</p>\n<ul>\n<li>such as Red, Blue, Green, Red,Blue,Red, Blue, Green in\nthis order,</li>\n<li>now sort that baloon in such manner so Red baloon will be\nadded first</li>\n<li>then Blue baloon and last is Green balloons. Use the\nproper collection</li>\n</ul>\n"},{"tags":["java","eclipse","eclipse-plugin"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664086647,"creation_date":1664074423,"answer_id":73841777,"question_id":73841336,"body_markdown":"It looks like you are trying to install a plugin that is too old for the version of Eclipse you are using.\r\n\r\nThe missing dependency is for org.eclipse.core.runtime in the range 3.7.0 to 3.12.0.  That looks to be from about March 2017.  And according to the [plugin&#39;s page][1] in Marketplace, it only supports up to the Eclipse Mars (4.5) release.   \r\n\r\nYou are using the Eclipse 2022-09 (4.25) release.\r\n\r\nSolution: There isn&#39;t a good one.  Your options are:\r\n\r\n  - Downgrade to Eclipse Mars which requires Java 7 to run (**ouch!!**) and doesn&#39;t support Java 9+ code.\r\n  - Look for another way of visualizing bytecodes.\r\n  - Offer someone&lt;sup&gt;1&lt;/sup&gt; *lots of money* to:\r\n    - track down the latest source code for the plugin,\r\n    - produce releases that are compatible with recent versions of Eclipse, and\r\n    - make them available via the Marketplace.\r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - ... either the author, or someone else.  Hint: doubt that &quot;Dr Garbage&quot; is interested since he has allowed his domain name registration to expire.&lt;/sup&gt;\r\n\r\n  [1]: https://marketplace.eclipse.org/content/bytecode-visualizer","title":"I have been trying to install various different extensions from Eclipse Marketplace, but they all fail","body":"<p>It looks like you are trying to install a plugin that is too old for the version of Eclipse you are using.</p>\n<p>The missing dependency is for org.eclipse.core.runtime in the range 3.7.0 to 3.12.0.  That looks to be from about March 2017.  And according to the <a href=\"https://marketplace.eclipse.org/content/bytecode-visualizer\" rel=\"nofollow noreferrer\">plugin's page</a> in Marketplace, it only supports up to the Eclipse Mars (4.5) release.</p>\n<p>You are using the Eclipse 2022-09 (4.25) release.</p>\n<p>Solution: There isn't a good one.  Your options are:</p>\n<ul>\n<li>Downgrade to Eclipse Mars which requires Java 7 to run (<strong>ouch!!</strong>) and doesn't support Java 9+ code.</li>\n<li>Look for another way of visualizing bytecodes.</li>\n<li>Offer someone<sup>1</sup> <em>lots of money</em> to:\n<ul>\n<li>track down the latest source code for the plugin,</li>\n<li>produce releases that are compatible with recent versions of Eclipse, and</li>\n<li>make them available via the Marketplace.</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><sup>1 - ... either the author, or someone else.  Hint: doubt that &quot;Dr Garbage&quot; is interested since he has allowed his domain name registration to expire.</sup></p>\n"}],"owner":{"account_id":22222404,"reputation":21,"user_id":16459828,"display_name":"Aarya Deshpande"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664086647,"creation_date":1664064590,"question_id":73841336,"body_markdown":"See the example below. Is there any resolution? I&#39;m running the latest version of Eclipse (2022-09) and Java 17. Thanks!   \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JyP4T.png","title":"I have been trying to install various different extensions from Eclipse Marketplace, but they all fail","body":"<p>See the example below. Is there any resolution? I'm running the latest version of Eclipse (2022-09) and Java 17. Thanks!</p>\n<p><a href=\"https://i.stack.imgur.com/JyP4T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JyP4T.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","camera","video-capture"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664086035,"creation_date":1664086035,"answer_id":73842374,"question_id":73842312,"body_markdown":"You&#39;re using an Intent to capture video.  What that does is literally ask another app to record video for you.  When you&#39;re doing that you have to use that app as it is, which requires a button press.  If you want to avoid that, you&#39;re going to have to directly use the camera yourself and handle the recording.\r\n\r\nAs an aside-  if you&#39;re using an Intent to record video, you don&#39;t need Camera permission.  You do if you&#39;re recording it yourself.","title":"How can I enable auto start recording video without pressing record button?","body":"<p>You're using an Intent to capture video.  What that does is literally ask another app to record video for you.  When you're doing that you have to use that app as it is, which requires a button press.  If you want to avoid that, you're going to have to directly use the camera yourself and handle the recording.</p>\n<p>As an aside-  if you're using an Intent to record video, you don't need Camera permission.  You do if you're recording it yourself.</p>\n"}],"owner":{"account_id":26362710,"reputation":15,"user_id":20018670,"display_name":"Adnan Siddique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73842374,"answer_count":1,"score":0,"last_activity_date":1664086035,"creation_date":1664085176,"question_id":73842312,"body_markdown":"I am developing an application where I press record button and it will automatically start video recording and stop after given duration. But what I found is just open video recording , I have to manually click record button and to save video, I have to click OK button.\r\n\r\nIs there any way to do that automatically?\r\n\r\nHere is my code:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static  int CAMERA_PERMISSION_CODE=100;\r\n    private static int VIDEO_RECORD_CODE=101;\r\n    public Uri videoPath;\r\n    UploadTask uploadTask;\r\n    Button record_btn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        record_btn=findViewById(R.id.record_button);\r\n        storageReference=FirebaseStorage.getInstance().getReference();\r\n\r\n        if (isCameraPresent()){\r\n            Log.i(&quot;VIDEO_RECORD_TAG&quot;,&quot;Camera is Detected&quot;);\r\n            getCameraPermission();\r\n        }else{\r\n            Log.i(&quot;VIDEO_RECORD_TAG&quot;,&quot;No Camera is detected&quot;);\r\n        }\r\n\r\n\r\n        record_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                recordVideo();\r\n            }\r\n        });\r\n    }\r\n\r\n    private boolean isCameraPresent(){\r\n        if (getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_ANY)){\r\n            return true;\r\n        }else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private void getCameraPermission(){\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\r\n                == PackageManager.PERMISSION_DENIED){\r\n            ActivityCompat.requestPermissions(this, new String[]\r\n                    {Manifest.permission.CAMERA},CAMERA_PERMISSION_CODE);\r\n        }\r\n    }\r\n\r\n    private void recordVideo(){\r\n        Intent intent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);\r\n        intent.putExtra(MediaStore.EXTRA_DURATION_LIMIT, 5);\r\n        startActivityForResult(intent,VIDEO_RECORD_CODE);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode==VIDEO_RECORD_CODE){\r\n\r\n            if (resultCode==RESULT_OK){\r\n                assert data != null;\r\n                videoPath=data.getData();\r\n                Log.i(&quot;VIDEO_RECORD_TAG&quot;,&quot;Video is recorded and available at path&quot; + videoPath);\r\n                \r\n            }\r\n            else {\r\n                Log.i(&quot;VIDEO_RECORD_TAG&quot;,&quot;Video recording has some error&quot;);\r\n            }\r\n        }\r\n    }\r\n```","title":"How can I enable auto start recording video without pressing record button?","body":"<p>I am developing an application where I press record button and it will automatically start video recording and stop after given duration. But what I found is just open video recording , I have to manually click record button and to save video, I have to click OK button.</p>\n<p>Is there any way to do that automatically?</p>\n<p>Here is my code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static  int CAMERA_PERMISSION_CODE=100;\n    private static int VIDEO_RECORD_CODE=101;\n    public Uri videoPath;\n    UploadTask uploadTask;\n    Button record_btn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        record_btn=findViewById(R.id.record_button);\n        storageReference=FirebaseStorage.getInstance().getReference();\n\n        if (isCameraPresent()){\n            Log.i(&quot;VIDEO_RECORD_TAG&quot;,&quot;Camera is Detected&quot;);\n            getCameraPermission();\n        }else{\n            Log.i(&quot;VIDEO_RECORD_TAG&quot;,&quot;No Camera is detected&quot;);\n        }\n\n\n        record_btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                recordVideo();\n            }\n        });\n    }\n\n    private boolean isCameraPresent(){\n        if (getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_ANY)){\n            return true;\n        }else {\n            return false;\n        }\n    }\n\n    private void getCameraPermission(){\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\n                == PackageManager.PERMISSION_DENIED){\n            ActivityCompat.requestPermissions(this, new String[]\n                    {Manifest.permission.CAMERA},CAMERA_PERMISSION_CODE);\n        }\n    }\n\n    private void recordVideo(){\n        Intent intent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);\n        intent.putExtra(MediaStore.EXTRA_DURATION_LIMIT, 5);\n        startActivityForResult(intent,VIDEO_RECORD_CODE);\n\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode==VIDEO_RECORD_CODE){\n\n            if (resultCode==RESULT_OK){\n                assert data != null;\n                videoPath=data.getData();\n                Log.i(&quot;VIDEO_RECORD_TAG&quot;,&quot;Video is recorded and available at path&quot; + videoPath);\n                \n            }\n            else {\n                Log.i(&quot;VIDEO_RECORD_TAG&quot;,&quot;Video recording has some error&quot;);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1664059836,"post_id":73841022,"comment_id":130385702,"body_markdown":"What does &quot;convert octagonal basis to decimal&quot; mean?  Can you provide examples?","body":"What does &quot;convert octagonal basis to decimal&quot; mean?  Can you provide examples?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664060019,"post_id":73841022,"comment_id":130385726,"body_markdown":"What exactly does yocurrent code do? What do you expect it to do? What do you mean by &quot;started failing&quot;? Please step through your program with the debugger.","body":"What exactly does yocurrent code do? What do you expect it to do? What do you mean by &quot;started failing&quot;? Please step through your program with the debugger."},{"owner":{"account_id":24850621,"reputation":3,"user_id":18727604,"display_name":"Joel Mart&#237;nez"},"score":0,"creation_date":1664066088,"post_id":73841022,"comment_id":130386377,"body_markdown":"An example of converting octagonal basis to decimal would be this one\nAssume theres a basis of number that from 0-6 and a decimal that go from 0-9 if a number for example a number in octagonal basis is &quot;115&quot; the result of the conversion would be 77 in decimal \nthe formula follow goes like this for this case 115 = (1 &#215; 8&#178;) + (1 &#215; 8&#185;) + (5 &#215; 8⁰) = 77","body":"An example of converting octagonal basis to decimal would be this one Assume theres a basis of number that from 0-6 and a decimal that go from 0-9 if a number for example a number in octagonal basis is &quot;115&quot; the result of the conversion would be 77 in decimal  the formula follow goes like this for this case 115 = (1 &#215; 8&#178;) + (1 &#215; 8&#185;) + (5 &#215; 8⁰) = 77"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664076191,"post_id":73841022,"comment_id":130387100,"body_markdown":"Step through your code and look at what it&#39;s doing. Hint: are you writing an iterative or recursive implementation?","body":"Step through your code and look at what it&#39;s doing. Hint: are you writing an iterative or recursive implementation?"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664084150,"creation_date":1664084150,"answer_id":73842254,"question_id":73841022,"body_markdown":"Your &quot;recursive&quot; method contains a `while` loop. Recursive methods do not usually contain loops. A recursive method must contain a condition that terminates the recursion. If that condition is not true, then the method changes the arguments it was called with and then calls itself.\r\n\r\nSince the parameter to your recursive method is a string, it seemed logical to me to extract the digits of the number using method [substring(int, int)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#substring(int,int)).\r\n\r\nSince the input number is supposed to be an octal number, apart from checking whether it contains only digits, you also need to check whether it is a valid octal number. In other words each digit in the number must be between 0 (zero) and 7 (seven).\r\n\r\nIn the below code, I initially take the rightmost digit of the input number and multiply it by 8&lt;sup&gt;0&lt;/sup&gt;. Then, in every recursive call, I take the digit immediately to the left of the last digit I converted and increase the exponent by one. Hence, the first recursive call will take the digit to the left of the rightmost digit and multiply it by 8&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nOnce I have converted the leftmost digit, the recursion stops.\r\n```java\r\npublic class Converter {\r\n    private static final int BASE = 8;\r\n\r\n    private static void checkDigit(String digit) {\r\n        int numeral = Integer.parseInt(digit);\r\n        if (numeral &gt; 7) {\r\n            throw new IllegalArgumentException(&quot;Not a valid octal digit: &quot; + digit);\r\n        }\r\n    }\r\n\r\n    private static int convertDigit(String digit, int exponent) {\r\n        return (int) Math.pow(BASE, exponent) * Integer.parseInt(digit);\r\n    }\r\n\r\n    private static int octalStringToDecimal(String numString, int exponent, int start) {\r\n        if (start &gt;= 0) {\r\n            String digit = numString.substring(start, start + 1);\r\n            checkDigit(digit);\r\n            return convertDigit(digit, exponent) + octalStringToDecimal(numString, exponent + 1, start - 1);\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String numString = &quot;115&quot;;\r\n        System.out.println(octalStringToDecimal(numString, 0, numString.length() - 1));\r\n    }\r\n}\r\n```\r\n","title":"I have to convert octal basis to Decimal but in String format","body":"<p>Your &quot;recursive&quot; method contains a <code>while</code> loop. Recursive methods do not usually contain loops. A recursive method must contain a condition that terminates the recursion. If that condition is not true, then the method changes the arguments it was called with and then calls itself.</p>\n<p>Since the parameter to your recursive method is a string, it seemed logical to me to extract the digits of the number using method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#substring(int,int)\" rel=\"nofollow noreferrer\">substring(int, int)</a>.</p>\n<p>Since the input number is supposed to be an octal number, apart from checking whether it contains only digits, you also need to check whether it is a valid octal number. In other words each digit in the number must be between 0 (zero) and 7 (seven).</p>\n<p>In the below code, I initially take the rightmost digit of the input number and multiply it by 8<sup>0</sup>. Then, in every recursive call, I take the digit immediately to the left of the last digit I converted and increase the exponent by one. Hence, the first recursive call will take the digit to the left of the rightmost digit and multiply it by 8<sup>1</sup>.</p>\n<p>Once I have converted the leftmost digit, the recursion stops.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Converter {\n    private static final int BASE = 8;\n\n    private static void checkDigit(String digit) {\n        int numeral = Integer.parseInt(digit);\n        if (numeral &gt; 7) {\n            throw new IllegalArgumentException(&quot;Not a valid octal digit: &quot; + digit);\n        }\n    }\n\n    private static int convertDigit(String digit, int exponent) {\n        return (int) Math.pow(BASE, exponent) * Integer.parseInt(digit);\n    }\n\n    private static int octalStringToDecimal(String numString, int exponent, int start) {\n        if (start &gt;= 0) {\n            String digit = numString.substring(start, start + 1);\n            checkDigit(digit);\n            return convertDigit(digit, exponent) + octalStringToDecimal(numString, exponent + 1, start - 1);\n        }\n        else {\n            return 0;\n        }\n    }\n\n    public static void main(String[] args) {\n        String numString = &quot;115&quot;;\n        System.out.println(octalStringToDecimal(numString, 0, numString.length() - 1));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24850621,"reputation":3,"user_id":18727604,"display_name":"Joel Mart&#237;nez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73842254,"answer_count":1,"score":-2,"last_activity_date":1664084150,"creation_date":1664059590,"question_id":73841022,"body_markdown":"I wrote a program which, at first, was giving correct answers however I later wrote another method which caused my program to start failing. After that I deleted the second method but nothing seems to work to fix it. Can you guys tell me what the problem is?\r\n\r\nNote: Method `isNumeric` just checks if the input String contains a non-numeric character.\r\n\r\nFor example: a number in octal basis &quot;115&quot; needs to be converted to decimal, meaning\r\n&gt; (115)8 -&gt; (?)10\r\n\r\nThe following formula gives us this:\r\n```none\r\n115 = (1 &#215; 8&#178;) + (1 &#215; 8&#185;) + (5 &#215; 8⁰) = 77\r\n```\r\nThis is the formula that the code is supposed to follow.\r\nTherefore the result of the conversion of 115 in octal basis to decimal is 77.\r\n\r\nAnother limitation of this is that this must use recursion.\r\n\r\nIt worked in the sense that it gave the correct result 5 times in a row for different String number inputs but something along the way changed and now gives wrong results.\r\n```java\r\npublic static int octalStringToDecimal(String numString) {\r\n    //Base case the numeric value is just 0 or where String is empty\r\n    if ((numString.equals(&quot;&quot;))) {\r\n        return -9999;\r\n    }\r\n    //the String does not contain numeric characters\r\n    if((!isNumeric(numString))){\r\n        return -9999;\r\n    }\r\n    int rem, sum = 0, i = 0, basis = 8;\r\n    int number = Integer.parseInt(numString); //this is n\r\n    //while our number is not 0 then we keep on parsing\r\n    while (number != 0) {\r\n        rem  = number % 10;\r\n        number = number / 10;\r\n        sum = rem * ((int) Math.pow(basis, i)) + octalStringToDecimal(String.valueOf(number));\r\n        i++;\r\n    }\r\n    //when out number is equal to 0 then we return the value\r\n    return sum;\r\n}\r\n\r\npublic static boolean isNumeric(String string) {\r\n    try {\r\n        Integer.parseInt(string);\r\n        return true;\r\n    } catch (NumberFormatException e) {\r\n        return false;\r\n    }\r\n}\r\n```","title":"I have to convert octal basis to Decimal but in String format","body":"<p>I wrote a program which, at first, was giving correct answers however I later wrote another method which caused my program to start failing. After that I deleted the second method but nothing seems to work to fix it. Can you guys tell me what the problem is?</p>\n<p>Note: Method <code>isNumeric</code> just checks if the input String contains a non-numeric character.</p>\n<p>For example: a number in octal basis &quot;115&quot; needs to be converted to decimal, meaning</p>\n<blockquote>\n<p>(115)8 -&gt; (?)10</p>\n</blockquote>\n<p>The following formula gives us this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>115 = (1 × 8²) + (1 × 8¹) + (5 × 8⁰) = 77\n</code></pre>\n<p>This is the formula that the code is supposed to follow.\nTherefore the result of the conversion of 115 in octal basis to decimal is 77.</p>\n<p>Another limitation of this is that this must use recursion.</p>\n<p>It worked in the sense that it gave the correct result 5 times in a row for different String number inputs but something along the way changed and now gives wrong results.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int octalStringToDecimal(String numString) {\n    //Base case the numeric value is just 0 or where String is empty\n    if ((numString.equals(&quot;&quot;))) {\n        return -9999;\n    }\n    //the String does not contain numeric characters\n    if((!isNumeric(numString))){\n        return -9999;\n    }\n    int rem, sum = 0, i = 0, basis = 8;\n    int number = Integer.parseInt(numString); //this is n\n    //while our number is not 0 then we keep on parsing\n    while (number != 0) {\n        rem  = number % 10;\n        number = number / 10;\n        sum = rem * ((int) Math.pow(basis, i)) + octalStringToDecimal(String.valueOf(number));\n        i++;\n    }\n    //when out number is equal to 0 then we return the value\n    return sum;\n}\n\npublic static boolean isNumeric(String string) {\n    try {\n        Integer.parseInt(string);\n        return true;\n    } catch (NumberFormatException e) {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","sorting","bubble-sort"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1664082824,"post_id":73841927,"comment_id":130387661,"body_markdown":"Use generics: `&lt;T extends Comparable&lt;? super T&gt;&gt; void bubbleSort(T[] array) { ... }`.","body":"Use generics: <code>&lt;T extends Comparable&lt;? super T&gt;&gt; void bubbleSort(T[] array) { ... }</code>."}],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664082191,"creation_date":1664080403,"answer_id":73842076,"question_id":73841927,"body_markdown":"You need to cast it \r\n\r\n    ((Comparable)array[j]).compareTo(array[i+j])\r\n\r\nAnyway it&#39;s not proper approach to fix this issue. Instead, your array should be `Comparable[]` or the type of array should either inherit from this interface or require `compareTo` method","title":"after check for implementation, how to allow method from interface?","body":"<p>You need to cast it</p>\n<pre><code>((Comparable)array[j]).compareTo(array[i+j])\n</code></pre>\n<p>Anyway it's not proper approach to fix this issue. Instead, your array should be <code>Comparable[]</code> or the type of array should either inherit from this interface or require <code>compareTo</code> method</p>\n"}],"owner":{"account_id":24632358,"reputation":1,"user_id":18531439,"display_name":"CiY3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664082191,"creation_date":1664077481,"question_id":73841927,"body_markdown":"I&#39;m struggling to title this question, but basically this is what is happening. I am implementing a bubblesort algorithm, but obviously, it requires the `compareTo` method, part of the `Comparable` interface. So in my method, I added the following:\r\n```\r\nif(!(array[0] instanceof Comparable)) // dont allow non-comparable objects\r\n     return;\r\n```\r\n\r\nSo now on `array[j]`, I&#39;ll need to call `array[j].compareTo(array[i+j])`. \r\nBut when I do this, there is an error saying that the object does not have `compareTo`. But I know it does! How can I fix this?","title":"after check for implementation, how to allow method from interface?","body":"<p>I'm struggling to title this question, but basically this is what is happening. I am implementing a bubblesort algorithm, but obviously, it requires the <code>compareTo</code> method, part of the <code>Comparable</code> interface. So in my method, I added the following:</p>\n<pre><code>if(!(array[0] instanceof Comparable)) // dont allow non-comparable objects\n     return;\n</code></pre>\n<p>So now on <code>array[j]</code>, I'll need to call <code>array[j].compareTo(array[i+j])</code>.\nBut when I do this, there is an error saying that the object does not have <code>compareTo</code>. But I know it does! How can I fix this?</p>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":26232929,"reputation":62,"user_id":19908536,"display_name":"Prabaharan Balaji"},"score":0,"creation_date":1664085092,"post_id":73842117,"comment_id":130387875,"body_markdown":"Do you have any class named &quot;SendMail.java&quot;?","body":"Do you have any class named &quot;SendMail.java&quot;?"},{"owner":{"account_id":26232929,"reputation":62,"user_id":19908536,"display_name":"Prabaharan Balaji"},"score":0,"creation_date":1664085740,"post_id":73842117,"comment_id":130387936,"body_markdown":"Please check whether your classPath is correct.\nsecondly check if the jar file is available. Mostly it will happen because of missing jar file.\nIf it is missing please download import it to the project from the below link.\n\nhttps://mvnrepository.com/artifact/javax.activation/javax.activation-api/1.2.0\nhttps://mvnrepository.com/artifact/com.sun.activation/javax.activation/1.2.0","body":"Please check whether your classPath is correct. secondly check if the jar file is available. Mostly it will happen because of missing jar file. If it is missing please download import it to the project from the below link.  <a href=\"https://mvnrepository.com/artifact/javax.activation/javax.activation-api/1.2.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/javax.activation/&hellip;</a> <a href=\"https://mvnrepository.com/artifact/com.sun.activation/javax.activation/1.2.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.sun.activation/javax.activati&zwnj;&#8203;on/&hellip;</a>"},{"owner":{"account_id":26435332,"reputation":1,"user_id":20080778,"display_name":"Faiza"},"score":0,"creation_date":1664179683,"post_id":73842117,"comment_id":130403562,"body_markdown":"I don&#39;t see anywhere to download from the link you provided","body":"I don&#39;t see anywhere to download from the link you provided"},{"owner":{"account_id":26232929,"reputation":62,"user_id":19908536,"display_name":"Prabaharan Balaji"},"score":0,"creation_date":1664269410,"post_id":73842117,"comment_id":130426914,"body_markdown":"In that link you can the maven dependency . You can add that in your pom.xml and try","body":"In that link you can the maven dependency . You can add that in your pom.xml and try"}],"owner":{"account_id":26435332,"reputation":1,"user_id":20080778,"display_name":"Faiza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664081346,"creation_date":1664081346,"question_id":73842117,"body_markdown":"    import javax.mail.Authenticator;\r\n    import javax.mail.Message;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    \r\n    import java.util.logging.*;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    \r\n        public class Hw1 {\r\n        \tpublic static void SendingMal(String recepient) throws Exception {\r\n        \t\r\n        \tSystem.out.println(&quot;preparing to send&quot;);\r\n        \tProperties pro = new Properties();\r\n        \t\r\n        \tpro.put(&quot;mail.stmp.auth&quot;,&quot;true&quot;);\r\n        \tpro.put(&quot;mail.stmp.starttls.enable&quot;, &quot;true&quot;);\r\n        \tpro.put(&quot;mail.stmp.host&quot;,&quot;smtp.gmail.com&quot;);\r\n        \tpro.put(&quot;mail.stmp.port&quot;, &quot;587&quot;);\r\n        \t\r\n        \tString myemail=&quot;from@gmail.com&quot;;\r\n        \tString pass = &quot;pass&quot;;\r\n        \t\r\n        \tSession sess= Session.getInstance(pro, new Authenticator(){\r\n        \t\r\n        \t@Override\r\n        \tprotected PasswordAuthentication getPasswordAuthentication() {\r\n        \t\treturn new PasswordAuthentication(myemail, pass);\r\n        \t\t\r\n        \t}\r\n        \t});\r\n        \t\r\n        \tMessage mess = preporeMessage(sess,myemail,recepient);\r\n        \t\r\n        \tTransport.send(mess);\r\n        \tSystem.out.print(&quot;Message sent succesfully&quot;);\r\n        \t\r\n        \t}\r\n        \r\n        \tprivate static Message preporeMessage(Session sess,String myemail, String recepient ) {\r\n        \t\t\r\n        \t\ttry {\r\n        \r\n        \r\n        \t\tMessage mess = new MimeMessage(sess);\r\n        \t\tmess.setFrom(new InternetAddress(myemail));\r\n        \t\tmess.setRecipient (Message.RecipientType.TO, new InternetAddress(recepient));\r\n        \t\t\r\n        \t\tmess.setSubject(&quot;Hi there&quot;);\r\n        \t\tmess.setText(&quot;Hey there,\\n My frist email sending through Java&quot;);\r\n        \r\n        \t\treturn mess;`enter code here`\r\n        \t\t}\r\n        \t\t\r\n        \tcatch (Exception e) {\r\n        \t\t\tLogger.getLogger(Hw1.class.getName()).log(Level.SEVERE,null,e);\r\n        \t\t\t\r\n        \t\t}\r\n        \t\treturn null;\r\n        \r\n        }\r\n        \r\n        }\r\n        \r\n        \r\n        public class SendingMail {\r\n        \t\r\n        \t\r\n        \t`enter code here`public static void main(String[]args) throws Exception {\r\n        \t`enter code here`Hw1.SendingMal(&quot;to@gmail.com&quot;);\r\n\t\r\nThis is what I am getting:\r\n\r\npreparing to send\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/activation/DataSource\r\nat Hw1.preporeMessage(Hw1.java:49)\r\nat Hw1.SendingMal(Hw1.java:37)\r\nat SendMail.main(SendMail.java:22)\r\nCaused by: java.lang.ClassNotFoundException: javax.activation.DataSource\r\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n... 3 more","title":"Getting error when sending email through Java","body":"<pre><code>import javax.mail.Authenticator;\nimport javax.mail.Message;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\nimport java.util.logging.*;\n\nimport java.util.Properties;\n\n\n    public class Hw1 {\n        public static void SendingMal(String recepient) throws Exception {\n        \n        System.out.println(&quot;preparing to send&quot;);\n        Properties pro = new Properties();\n        \n        pro.put(&quot;mail.stmp.auth&quot;,&quot;true&quot;);\n        pro.put(&quot;mail.stmp.starttls.enable&quot;, &quot;true&quot;);\n        pro.put(&quot;mail.stmp.host&quot;,&quot;smtp.gmail.com&quot;);\n        pro.put(&quot;mail.stmp.port&quot;, &quot;587&quot;);\n        \n        String myemail=&quot;from@gmail.com&quot;;\n        String pass = &quot;pass&quot;;\n        \n        Session sess= Session.getInstance(pro, new Authenticator(){\n        \n        @Override\n        protected PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(myemail, pass);\n            \n        }\n        });\n        \n        Message mess = preporeMessage(sess,myemail,recepient);\n        \n        Transport.send(mess);\n        System.out.print(&quot;Message sent succesfully&quot;);\n        \n        }\n    \n        private static Message preporeMessage(Session sess,String myemail, String recepient ) {\n            \n            try {\n    \n    \n            Message mess = new MimeMessage(sess);\n            mess.setFrom(new InternetAddress(myemail));\n            mess.setRecipient (Message.RecipientType.TO, new InternetAddress(recepient));\n            \n            mess.setSubject(&quot;Hi there&quot;);\n            mess.setText(&quot;Hey there,\\n My frist email sending through Java&quot;);\n    \n            return mess;`enter code here`\n            }\n            \n        catch (Exception e) {\n                Logger.getLogger(Hw1.class.getName()).log(Level.SEVERE,null,e);\n                \n            }\n            return null;\n    \n    }\n    \n    }\n    \n    \n    public class SendingMail {\n        \n        \n        `enter code here`public static void main(String[]args) throws Exception {\n        `enter code here`Hw1.SendingMal(&quot;to@gmail.com&quot;);\n</code></pre>\n<p>This is what I am getting:</p>\n<p>preparing to send\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/activation/DataSource\nat Hw1.preporeMessage(Hw1.java:49)\nat Hw1.SendingMal(Hw1.java:37)\nat SendMail.main(SendMail.java:22)\nCaused by: java.lang.ClassNotFoundException: javax.activation.DataSource\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 3 more</p>\n"},{"tags":["java","authentication","web"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1663981171,"post_id":73834075,"comment_id":130374091,"body_markdown":"What sort of authentication? That link looks like it&#39;s talking about header-based HTTP Basic Auth, whereas the form you&#39;re showing looks to be an HTML form intended for a user to fill out and submit, probably via a POST request to some other endpoint to start a browsing session.","body":"What sort of authentication? That link looks like it&#39;s talking about header-based HTTP Basic Auth, whereas the form you&#39;re showing looks to be an HTML form intended for a user to fill out and submit, probably via a POST request to some other endpoint to start a browsing session."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663981704,"creation_date":1663981704,"answer_id":73834119,"question_id":73834075,"body_markdown":"The short answer: You can&#39;t. What you want is impossible.\r\n\r\nThe longer answer: Well, you sort of kind of can but it is incredibly complicated and requires continuous maintenance. It could break any moment. More likely you want to do something quite different and check for an API and use that instead.\r\n\r\n### Explanation\r\n\r\nThe word &quot;authentication&quot; means different things and this has confused you here. The HTTP protocol has a notion of &#39;authentication&#39; baked right into it. The problem is, __nobody uses this__. I bet you&#39;ve never seen this used in your entire lifetime. A website that uses this baked in principle would mean when you load it, the browser itself pops up a dialog asking you to log into the site.\r\n\r\nWhat you have seen a billion times is __just a webpage__: It so happens to have a form with 2 fields: A username field, and a password field. Hopefully 3 (also a TOTP or other two-factor field). It&#39;s like any other form on the web. Fill it in, click &#39;submit&#39;, and a form submit goes out. Or, a  bunch of javascript runs and does all sorts of ajaxy business to make it work. The other SO question you linked to talks about specifically getting HTTP Authentication to work. The snippet of HTML you included is not, however, &#39;HTTP Authentication&#39;. It&#39;s authentication allright - just not the thing described under the header &#39;Authentication&#39; in the HTTP specification. It&#39;s just a web form, like any other.\r\n\r\nThe problem is: Every website invents this stuff over and over again. __There is no standard__. Thus there is no simple &#39;just do this and voila&#39;. The answer depends on the website. Worse, the website can change tomorrow and now the code you crafted specifically to authenticate for that one site, now no longer works. Websites generally do not promise that the way the pages are internally linked together never changes. Thus, _if_ you go down this route, you have to be vigilant: Any second, it could break, and you have to rewrite it all.\r\n\r\nIf you insist on doing this, it&#39;s simple enough: Your question boils down to &quot;How do I programatically submit web forms?&quot;, which is easy enough. Plenty of tutorials. You do whatever the browser does. Hopefully it&#39;s a simple form submit. Possibly you need to emulate the javascript that gets the data out, and applies all sorts of crypto to it client side first. You can go all the way (actually run the javascript in your JVM, this is quite complicated), or check what the javascript does, and rewrite it all in java too. Also quite complicated (there are no easy answers, that&#39;s why I gave you the short answer of: You can&#39;t).\r\n\r\n### The better solution\r\n\r\nMore generally, writing software that uses HTML as a source just doesn&#39;t work. HTML, fundamentally, isn&#39;t really designed for consumption by program code. Websites restyle all the time, and rarely put in the effort to make data particularly easy to fetch with e.g. selector queries.\r\n\r\nThus, the best option is to simply not do that. Any website that intends for programs to use it will have an __API__, with documentation to boot. These API docs will explain how to authenticate from within code. It won&#39;t involve &#39;sending a web form submit&#39;. It&#39;ll probably involve OAuth or JWT (JSON Web Tokens), or something like that. And probably also involve API keys.\r\n\r\nTwitter has such an API. My bank has such an API. I believe even stack overflow has such an API. YouTube does, too.\r\n\r\nIf the website you want to &#39;authenticate&#39; into has such an API, read the docs and do that. If it doesn&#39;t, you need to come to grips first with the notion that they very much don&#39;t want you to do what you want to do (which is, use code to &#39;read&#39; the site), probably would take legal steps to stop you if they can (especially in e.g. the EU, they probably can&#39;t, but they might want to try), and in any case, anytime the site changes their style a bit, your code breaks. Even if the authentication part didn&#39;t change, you&#39;re authenticating for some purpose - the purpose would. Say, you want to use this to log into twitter to then read the tweets. Even if twitter&#39;s login page does not change, if they add, say, polls, your &#39;tweet parser&#39; probably crashes upon encountering one.\r\n\r\nThe solution is to use twitter&#39;s API instead.\r\n","title":"Connect to website with authentication in Java","body":"<p>The short answer: You can't. What you want is impossible.</p>\n<p>The longer answer: Well, you sort of kind of can but it is incredibly complicated and requires continuous maintenance. It could break any moment. More likely you want to do something quite different and check for an API and use that instead.</p>\n<h3>Explanation</h3>\n<p>The word &quot;authentication&quot; means different things and this has confused you here. The HTTP protocol has a notion of 'authentication' baked right into it. The problem is, <strong>nobody uses this</strong>. I bet you've never seen this used in your entire lifetime. A website that uses this baked in principle would mean when you load it, the browser itself pops up a dialog asking you to log into the site.</p>\n<p>What you have seen a billion times is <strong>just a webpage</strong>: It so happens to have a form with 2 fields: A username field, and a password field. Hopefully 3 (also a TOTP or other two-factor field). It's like any other form on the web. Fill it in, click 'submit', and a form submit goes out. Or, a  bunch of javascript runs and does all sorts of ajaxy business to make it work. The other SO question you linked to talks about specifically getting HTTP Authentication to work. The snippet of HTML you included is not, however, 'HTTP Authentication'. It's authentication allright - just not the thing described under the header 'Authentication' in the HTTP specification. It's just a web form, like any other.</p>\n<p>The problem is: Every website invents this stuff over and over again. <strong>There is no standard</strong>. Thus there is no simple 'just do this and voila'. The answer depends on the website. Worse, the website can change tomorrow and now the code you crafted specifically to authenticate for that one site, now no longer works. Websites generally do not promise that the way the pages are internally linked together never changes. Thus, <em>if</em> you go down this route, you have to be vigilant: Any second, it could break, and you have to rewrite it all.</p>\n<p>If you insist on doing this, it's simple enough: Your question boils down to &quot;How do I programatically submit web forms?&quot;, which is easy enough. Plenty of tutorials. You do whatever the browser does. Hopefully it's a simple form submit. Possibly you need to emulate the javascript that gets the data out, and applies all sorts of crypto to it client side first. You can go all the way (actually run the javascript in your JVM, this is quite complicated), or check what the javascript does, and rewrite it all in java too. Also quite complicated (there are no easy answers, that's why I gave you the short answer of: You can't).</p>\n<h3>The better solution</h3>\n<p>More generally, writing software that uses HTML as a source just doesn't work. HTML, fundamentally, isn't really designed for consumption by program code. Websites restyle all the time, and rarely put in the effort to make data particularly easy to fetch with e.g. selector queries.</p>\n<p>Thus, the best option is to simply not do that. Any website that intends for programs to use it will have an <strong>API</strong>, with documentation to boot. These API docs will explain how to authenticate from within code. It won't involve 'sending a web form submit'. It'll probably involve OAuth or JWT (JSON Web Tokens), or something like that. And probably also involve API keys.</p>\n<p>Twitter has such an API. My bank has such an API. I believe even stack overflow has such an API. YouTube does, too.</p>\n<p>If the website you want to 'authenticate' into has such an API, read the docs and do that. If it doesn't, you need to come to grips first with the notion that they very much don't want you to do what you want to do (which is, use code to 'read' the site), probably would take legal steps to stop you if they can (especially in e.g. the EU, they probably can't, but they might want to try), and in any case, anytime the site changes their style a bit, your code breaks. Even if the authentication part didn't change, you're authenticating for some purpose - the purpose would. Say, you want to use this to log into twitter to then read the tweets. Even if twitter's login page does not change, if they add, say, polls, your 'tweet parser' probably crashes upon encountering one.</p>\n<p>The solution is to use twitter's API instead.</p>\n"}],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664081314,"creation_date":1663980877,"question_id":73834075,"body_markdown":"How do I Connect to website with authentication in Java?\r\n\r\nI have tried the method as suggested here : https://stackoverflow.com/questions/496651/connecting-to-remote-url-which-requires-authentication-using-java\r\n\r\nBut I get some login page as the response as shown below :\r\n\r\n```\r\n\r\n  &lt;div class=&#39;field&#39;&gt;\r\n    &lt;label for=&quot;user_login&quot;&gt;Login&lt;/label&gt;\r\n    &lt;input autocomplete=&quot;off&quot; class=&quot;initialFocus&quot; id=&quot;user_login&quot; name=&quot;user[login]&quot; size=&quot;30&quot; tabindex=&quot;1&quot; type=&quot;text&quot; /&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=&#39;field&#39;&gt;\r\n    &lt;label for=&quot;user_password&quot;&gt;Password&lt;/label&gt;\r\n    &lt;input autocomplete=&quot;off&quot; class=&quot;pass_field&quot; id=&quot;user_password&quot; name=&quot;user[password]&quot; size=&quot;30&quot; tabindex=&quot;2&quot; type=&quot;password&quot; /&gt;\r\n  &lt;/div&gt;\r\n  &lt;input id=&quot;authentication&quot; name=&quot;authentication&quot; type=&quot;hidden&quot; value=&quot;basic&quot; /&gt;\r\n  &lt;div class=&#39;field submit&#39;&gt;\r\n    &lt;label for=&quot;login&quot;&gt;&amp;nbsp&lt;/label&gt;\r\n    &lt;input class=&quot;button&quot; name=&quot;commit&quot; tabindex=&quot;4&quot; type=&quot;submit&quot; value=&quot;Log In&quot; /&gt;\r\n  &lt;/div&gt;\r\n\r\n","title":"Connect to website with authentication in Java","body":"<p>How do I Connect to website with authentication in Java?</p>\n<p>I have tried the method as suggested here : <a href=\"https://stackoverflow.com/questions/496651/connecting-to-remote-url-which-requires-authentication-using-java\">Connecting to remote URL which requires authentication using Java</a></p>\n<p>But I get some login page as the response as shown below :</p>\n<pre><code>\n  &lt;div class='field'&gt;\n    &lt;label for=&quot;user_login&quot;&gt;Login&lt;/label&gt;\n    &lt;input autocomplete=&quot;off&quot; class=&quot;initialFocus&quot; id=&quot;user_login&quot; name=&quot;user[login]&quot; size=&quot;30&quot; tabindex=&quot;1&quot; type=&quot;text&quot; /&gt;\n  &lt;/div&gt;\n  &lt;div class='field'&gt;\n    &lt;label for=&quot;user_password&quot;&gt;Password&lt;/label&gt;\n    &lt;input autocomplete=&quot;off&quot; class=&quot;pass_field&quot; id=&quot;user_password&quot; name=&quot;user[password]&quot; size=&quot;30&quot; tabindex=&quot;2&quot; type=&quot;password&quot; /&gt;\n  &lt;/div&gt;\n  &lt;input id=&quot;authentication&quot; name=&quot;authentication&quot; type=&quot;hidden&quot; value=&quot;basic&quot; /&gt;\n  &lt;div class='field submit'&gt;\n    &lt;label for=&quot;login&quot;&gt;&amp;nbsp&lt;/label&gt;\n    &lt;input class=&quot;button&quot; name=&quot;commit&quot; tabindex=&quot;4&quot; type=&quot;submit&quot; value=&quot;Log In&quot; /&gt;\n  &lt;/div&gt;\n\n</code></pre>\n"},{"tags":["java","indexoutofboundsexception","sub-array"],"answers":[{"tags":[],"owner":{"account_id":26239656,"reputation":3,"user_id":19914164,"display_name":"Grey may"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664080925,"creation_date":1664080925,"answer_id":73842096,"question_id":73842066,"body_markdown":"When you use \r\n\r\n     return (new Triple&lt;&gt; (low, high, arr[low]));\r\nIt take arr[index] in the third place, so if your lowest number is -25 it is causing bug with out of bonds, cause your index is -25.","title":"I&#39;m getting the error ArrayIndexOutOfBoundsException: index -25 out of bonds for length 16","body":"<p>When you use</p>\n<pre><code> return (new Triple&lt;&gt; (low, high, arr[low]));\n</code></pre>\n<p>It take arr[index] in the third place, so if your lowest number is -25 it is causing bug with out of bonds, cause your index is -25.</p>\n"}],"owner":{"account_id":26255718,"reputation":3,"user_id":19927799,"display_name":"Tiffany "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664080925,"creation_date":1664080251,"question_id":73842066,"body_markdown":"This is my current code for a program to find the maximum subarray. I am getting the out of bounds error for 3 lines: I&#39;m getting the error ArrayIndexOutOfBoundsException: index -25 out of bonds for length 16. I&#39;m testing it with the array int[]{13,-3,-25,-20,-3,-16,-23,18,20,-7,12,-5,-22,15,-4,7}. I&#39;ve only seen this error when using the wrong numbers for iterating through arrays in for loops, so I&#39;m not sure what is causing it here. \r\n\r\n    static int findHigh(int[] arr) {\r\n\t\tint high = arr[0];\r\n\t\tfor(int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tif(arr[i] &gt;= high)\r\n\t\t\t\thigh = arr[i];\r\n\t\t}\r\n\t\treturn high;\r\n\t}\r\n\tstatic int findLow(int[] arr) {\r\n\t\tint low = arr[0];\r\n\t\tfor(int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tif(arr[i] &lt;= low)\r\n\t\t\t\tlow = arr[i];\r\n\t\t}\r\n\t\treturn low;\r\n\t}\r\n\t\r\n\tstatic Triple&lt;Integer,Integer,Integer&gt; findMaxSubarray(int[] arr, int low, int high){\r\n\t\t\r\n\t\tif(high == low)\r\n\t\t\treturn (new Triple&lt;&gt; (low, high, arr[low])); //error here\r\n\t\telse {\r\n\t\t\tint mid = low + (high - low) / 2;\r\n\r\n\t\t\tTriple&lt;Integer,Integer,Integer&gt; l = findMaxSubarray(arr, low, mid); //error here\r\n\t\t\tTriple&lt;Integer,Integer,Integer&gt; r = findMaxSubarray(arr, mid + 1, high);\r\n\t\t\tTriple&lt;Integer, Integer, Integer&gt; c = findMaxCrossingArray(arr, low, mid, high);\r\n\t\t\t\r\n\t\t\tif(l.getLast() &gt;= r.getLast() &amp;&amp; l.getLast() &gt;= c.getLast())\r\n\t\t\t\treturn (new Triple&lt;&gt; (l.getFirst(), l.getMiddle(), l.getLast()));\r\n\t\t\telse if(r.getLast() &gt;= l.getLast() &amp;&amp; r.getLast() &gt;= c.getLast())\r\n\t\t\t\treturn (new Triple&lt;&gt; (r.getFirst(), r.getMiddle(), r.getLast()));\r\n\t\t\telse\r\n\t\t\t\treturn (new Triple&lt;&gt; (c.getFirst(), c.getMiddle(), c.getLast()));\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic Triple&lt;Integer,Integer,Integer&gt; findMaxCrossingArray(int arr[], int low, int mid, int high){\r\n\t\tint leftSum = Integer.MIN_VALUE, leftMax = 0;\r\n\t\tint rightSum = Integer.MIN_VALUE, rightMax = 0;\r\n\t\tint sum = 0;\r\n\t\tfor(int i = mid; i &gt;= low; i--) {\r\n\t\t\tsum += arr[i];\r\n\t\t\tif (sum &gt; leftSum) {\r\n\t\t\t\tleftSum = sum;\r\n\t\t\t\tleftMax = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tsum = 0;\r\n\t\tfor(int j = mid; j &lt;= high; j++) {\r\n\t\t\tsum += arr[j];\r\n\t\t\tif (sum &gt; rightSum) {\r\n\t\t\t\trightSum = sum;\r\n\t\t\t\trightMax = j;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (new Triple&lt;&gt; (leftMax, rightMax, leftSum + rightSum));\r\n\t}\r\n\r\n\tpublic static Triple&lt;Integer,Integer,Integer&gt; getMaxSubarray(int[] arr){\r\n\t\tint high = findHigh(arr);\r\n\t\tint low = findLow(arr);\r\n\t\t\r\n\t\treturn(findMaxSubarray(arr, low, high)); //error here\r\n\t}","title":"I&#39;m getting the error ArrayIndexOutOfBoundsException: index -25 out of bonds for length 16","body":"<p>This is my current code for a program to find the maximum subarray. I am getting the out of bounds error for 3 lines: I'm getting the error ArrayIndexOutOfBoundsException: index -25 out of bonds for length 16. I'm testing it with the array int[]{13,-3,-25,-20,-3,-16,-23,18,20,-7,12,-5,-22,15,-4,7}. I've only seen this error when using the wrong numbers for iterating through arrays in for loops, so I'm not sure what is causing it here.</p>\n<pre><code>static int findHigh(int[] arr) {\n    int high = arr[0];\n    for(int i = 0; i &lt; arr.length; i++) {\n        if(arr[i] &gt;= high)\n            high = arr[i];\n    }\n    return high;\n}\nstatic int findLow(int[] arr) {\n    int low = arr[0];\n    for(int i = 0; i &lt; arr.length; i++) {\n        if(arr[i] &lt;= low)\n            low = arr[i];\n    }\n    return low;\n}\n\nstatic Triple&lt;Integer,Integer,Integer&gt; findMaxSubarray(int[] arr, int low, int high){\n    \n    if(high == low)\n        return (new Triple&lt;&gt; (low, high, arr[low])); //error here\n    else {\n        int mid = low + (high - low) / 2;\n\n        Triple&lt;Integer,Integer,Integer&gt; l = findMaxSubarray(arr, low, mid); //error here\n        Triple&lt;Integer,Integer,Integer&gt; r = findMaxSubarray(arr, mid + 1, high);\n        Triple&lt;Integer, Integer, Integer&gt; c = findMaxCrossingArray(arr, low, mid, high);\n        \n        if(l.getLast() &gt;= r.getLast() &amp;&amp; l.getLast() &gt;= c.getLast())\n            return (new Triple&lt;&gt; (l.getFirst(), l.getMiddle(), l.getLast()));\n        else if(r.getLast() &gt;= l.getLast() &amp;&amp; r.getLast() &gt;= c.getLast())\n            return (new Triple&lt;&gt; (r.getFirst(), r.getMiddle(), r.getLast()));\n        else\n            return (new Triple&lt;&gt; (c.getFirst(), c.getMiddle(), c.getLast()));\n    }\n}\n\nstatic Triple&lt;Integer,Integer,Integer&gt; findMaxCrossingArray(int arr[], int low, int mid, int high){\n    int leftSum = Integer.MIN_VALUE, leftMax = 0;\n    int rightSum = Integer.MIN_VALUE, rightMax = 0;\n    int sum = 0;\n    for(int i = mid; i &gt;= low; i--) {\n        sum += arr[i];\n        if (sum &gt; leftSum) {\n            leftSum = sum;\n            leftMax = i;\n        }\n    }\n    sum = 0;\n    for(int j = mid; j &lt;= high; j++) {\n        sum += arr[j];\n        if (sum &gt; rightSum) {\n            rightSum = sum;\n            rightMax = j;\n        }\n    }\n    return (new Triple&lt;&gt; (leftMax, rightMax, leftSum + rightSum));\n}\n\npublic static Triple&lt;Integer,Integer,Integer&gt; getMaxSubarray(int[] arr){\n    int high = findHigh(arr);\n    int low = findLow(arr);\n    \n    return(findMaxSubarray(arr, low, high)); //error here\n}\n</code></pre>\n"},{"tags":["java","php","encryption"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1664052748,"post_id":73840450,"comment_id":130384728,"body_markdown":"I don&#39;t see that you&#39;re specifying the padding in the PHP case. I find it odd that the PHP output includes the characters &#39;/&#39; and &#39;+&#39;, but the output from the Java code does not.  Having those characters there is valid for Base64, and so it could be just a coincidence that the Java code output didn&#39;t happen to involve those characters, but I&#39;d be suspicious.","body":"I don&#39;t see that you&#39;re specifying the padding in the PHP case. I find it odd that the PHP output includes the characters &#39;/&#39; and &#39;+&#39;, but the output from the Java code does not.  Having those characters there is valid for Base64, and so it could be just a coincidence that the Java code output didn&#39;t happen to involve those characters, but I&#39;d be suspicious."},{"owner":{"account_id":460004,"reputation":43,"user_id":6613085,"display_name":"Hoangnm"},"score":0,"creation_date":1664053741,"post_id":73840450,"comment_id":130384894,"body_markdown":"IIRC, openssl_encrypt use PKCS7Padding by default.","body":"IIRC, openssl_encrypt use PKCS7Padding by default."}],"answers":[{"tags":[],"owner":{"account_id":460004,"reputation":43,"user_id":6613085,"display_name":"Hoangnm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664079252,"creation_date":1664079252,"answer_id":73842012,"question_id":73840450,"body_markdown":"I got it&#39;s working now. Java Base64 decode the key =&gt; result is 24 bytes.  \r\nIn PHP, I also did base64_decode and change algo to AES-192(instead of 256)\r\n\r\n```$data = &quot;XXX_TEST&quot;;\r\n$iv = &#39;IvHo9h3E2sNvyiT7&#39;; //same with JAVA code(16 bytes)\r\n$key = &#39;0k7XHeJkgcI5cHTKblq7lmeM71wlBXQG&#39;;//same with JAVA code(32 bytes)\r\n$key = base64_decode($key);\r\n\r\n$encryptedData = openssl_encrypt($data, &#39;aes-192-cbc&#39;, $key, OPENSSL_RAW_DATA, $iv);\r\n$encryptedData = base64_encode($encryptedData);```","title":"Convert Java to PHP: encrypt AES/CBC/PKCS7Padding, key size: 32 bytes, iv: 16 bytes","body":"<p>I got it's working now. Java Base64 decode the key =&gt; result is 24 bytes.<br />\nIn PHP, I also did base64_decode and change algo to AES-192(instead of 256)</p>\n<pre><code>$iv = 'IvHo9h3E2sNvyiT7'; //same with JAVA code(16 bytes)\n$key = '0k7XHeJkgcI5cHTKblq7lmeM71wlBXQG';//same with JAVA code(32 bytes)\n$key = base64_decode($key);\n\n$encryptedData = openssl_encrypt($data, 'aes-192-cbc', $key, OPENSSL_RAW_DATA, $iv);\n$encryptedData = base64_encode($encryptedData);```\n</code></pre>\n"}],"owner":{"account_id":460004,"reputation":43,"user_id":6613085,"display_name":"Hoangnm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73842012,"answer_count":1,"score":0,"last_activity_date":1664079252,"creation_date":1664052105,"question_id":73840450,"body_markdown":"I&#39;m trying to convert Java to PHP code: encrypt AES/CBC/PKCS7Padding, key size: 32 bytes.  \r\nJava code\r\n```import java.util.Base64;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.spec.IvParameterSpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\nString data = &quot;XXX_TEST&quot;;\r\nString initVector = &quot;IvHo9h3E2sNvyiT7&quot;;\r\nString key = &quot;0k7XHeJkgcI5cHTKblq7lmeM71wlBXQG&quot;;\r\n\r\nCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;, &quot;BC&quot;);\r\n\r\nIvParameterSpec iv = new IvParameterSpec(initVector.getBytes(StandardCharsets.UTF_8));\r\n\r\nbyte[] keyArr = Base64.getDecoder().decode(key.getBytes());\r\nSecretKeySpec sKeySpec = new SecretKeySpec(keyArr, &quot;AES&quot;);\r\n\r\ncipher.init(Cipher.ENCRYPT_MODE, sKeySpec, iv);\r\n\r\nbyte[] output = cipher.doFinal(data.getBytes(StandardCharsets.UTF_8));\r\n\r\nString encryptedData = Base64.getEncoder().encodeToString(output);\r\n```\r\nafter run this: `encryptedData` will be `tY3OYnUgdUMoSlRCcYWLYg==`\r\n\r\n--- \r\nPHP:\r\n```$data = &quot;XXX_TEST&quot;;\r\n$iv = &#39;IvHo9h3E2sNvyiT7&#39;; //same with JAVA code(16 bytes)\r\n$key = &#39;0k7XHeJkgcI5cHTKblq7lmeM71wlBXQG&#39;;//same with JAVA code(32 bytes)\r\n\r\n$encryptedData = openssl_encrypt($data, &#39;aes-256-cbc&#39;, $key, OPENSSL_RAW_DATA, $iv);\r\n$encryptedData = base64_encode($encryptedData);\r\n```\r\nafter run this: `$encryptedData` will be `oRSm/Jg/sAsMSgE++Mw5IQ==`\r\n\r\nQuestion: How can I adjust PHP code to make it has same output as Java code(`tY3OYnUgdUMoSlRCcYWLYg==`)?  \r\nI&#39;m using php8.1","title":"Convert Java to PHP: encrypt AES/CBC/PKCS7Padding, key size: 32 bytes, iv: 16 bytes","body":"<p>I'm trying to convert Java to PHP code: encrypt AES/CBC/PKCS7Padding, key size: 32 bytes.<br />\nJava code</p>\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.nio.charset.StandardCharsets;\n\nString data = &quot;XXX_TEST&quot;;\nString initVector = &quot;IvHo9h3E2sNvyiT7&quot;;\nString key = &quot;0k7XHeJkgcI5cHTKblq7lmeM71wlBXQG&quot;;\n\nCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;, &quot;BC&quot;);\n\nIvParameterSpec iv = new IvParameterSpec(initVector.getBytes(StandardCharsets.UTF_8));\n\nbyte[] keyArr = Base64.getDecoder().decode(key.getBytes());\nSecretKeySpec sKeySpec = new SecretKeySpec(keyArr, &quot;AES&quot;);\n\ncipher.init(Cipher.ENCRYPT_MODE, sKeySpec, iv);\n\nbyte[] output = cipher.doFinal(data.getBytes(StandardCharsets.UTF_8));\n\nString encryptedData = Base64.getEncoder().encodeToString(output);\n</code></pre>\n<p>after run this: <code>encryptedData</code> will be <code>tY3OYnUgdUMoSlRCcYWLYg==</code></p>\n<hr />\n<p>PHP:</p>\n<pre><code>$iv = 'IvHo9h3E2sNvyiT7'; //same with JAVA code(16 bytes)\n$key = '0k7XHeJkgcI5cHTKblq7lmeM71wlBXQG';//same with JAVA code(32 bytes)\n\n$encryptedData = openssl_encrypt($data, 'aes-256-cbc', $key, OPENSSL_RAW_DATA, $iv);\n$encryptedData = base64_encode($encryptedData);\n</code></pre>\n<p>after run this: <code>$encryptedData</code> will be <code>oRSm/Jg/sAsMSgE++Mw5IQ==</code></p>\n<p>Question: How can I adjust PHP code to make it has same output as Java code(<code>tY3OYnUgdUMoSlRCcYWLYg==</code>)?<br />\nI'm using php8.1</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","quarkus"],"answers":[{"tags":[],"owner":{"account_id":557134,"reputation":2371,"user_id":919480,"accept_rate":59,"display_name":"cogitoergosum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664079079,"creation_date":1664079079,"answer_id":73842004,"question_id":73799588,"body_markdown":"The Java version I had in my `Dockerfile` was wrong.\r\n\r\nWhen I inspected the container logs, I saw an error about the difference in version of Java used to compile (higher) vs running (lower). I chose the simpler of two i.e. used a more recent version of Java to run the application (than, adjusting the Java version for local `mvn` build). The error can be traced to the following instruction as documented [here][1].\r\n\r\n&gt; The `Dockerfile` created by Quarkus by default needs one adjustment for the aggregator application in order to run the Kafka Streams pipeline. To do so, edit the file `aggregator/src/main/docker/Dockerfile.jvm` and replace the line `FROM fabric8/java-alpine-openjdk8-jre` with `FROM fabric8/java-centos-openjdk8-jdk`.\r\n\r\nI edited my `Dockerfile` to use `FROM registry.access.redhat.com/ubi8/openjdk-17:1.11` and have the application running.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/kafka-streams#building-and-running-the-applications","title":"Quarkus - KStream and KTable join does not output messages","body":"<p>The Java version I had in my <code>Dockerfile</code> was wrong.</p>\n<p>When I inspected the container logs, I saw an error about the difference in version of Java used to compile (higher) vs running (lower). I chose the simpler of two i.e. used a more recent version of Java to run the application (than, adjusting the Java version for local <code>mvn</code> build). The error can be traced to the following instruction as documented <a href=\"https://quarkus.io/guides/kafka-streams#building-and-running-the-applications\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>The <code>Dockerfile</code> created by Quarkus by default needs one adjustment for the aggregator application in order to run the Kafka Streams pipeline. To do so, edit the file <code>aggregator/src/main/docker/Dockerfile.jvm</code> and replace the line <code>FROM fabric8/java-alpine-openjdk8-jre</code> with <code>FROM fabric8/java-centos-openjdk8-jdk</code>.</p>\n</blockquote>\n<p>I edited my <code>Dockerfile</code> to use <code>FROM registry.access.redhat.com/ubi8/openjdk-17:1.11</code> and have the application running.</p>\n"}],"owner":{"account_id":557134,"reputation":2371,"user_id":919480,"accept_rate":59,"display_name":"cogitoergosum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664079079,"creation_date":1663757772,"question_id":73799588,"body_markdown":"I am building a project modeled on [this project][1]. The key difference is, I want to output, conditionally, a message using the messages from the joined topics. As opposed to the example project, where an aggregation is performed. I am struggling to use `Serde` for JSON messages and so, I have simplified the message structure as follows.\r\n\r\n- `t1` (`KStream`) - a plain text value.\r\n- `t2` (`KTable`) - a plain text value separated by a `;`.\r\n- `t3` (`KStream`) - a CSV string.\r\n\r\nI am publishing messages using `kafkacat` with the `-k` option to set a key e.g. `k1`. The problem I am facing is: I don&#39;t see any output in `t3`.\r\n\r\nThis is my `TopologyProducer.java`.\r\n\r\n```java\r\n@Produces\r\n  public Topology buildTopology() {\r\n    StreamsBuilder builder = new StreamsBuilder();\r\n\r\n    ObjectMapperSerde&lt;stream1&gt; stream1 = new ObjectMapperSerde&lt;&gt;(stream1.class);\r\n    ObjectMapperSerde&lt;topic1&gt; topic1 = new ObjectMapperSerde&lt;&gt;(topic1.class);\r\n    ObjectMapperSerde&lt;output1&gt; output1 = new ObjectMapperSerde&lt;&gt;(output1.class);\r\n\r\n    GlobalKTable&lt;String, topic1&gt; topic1 = builder.globalTable(\r\n        t2,\r\n        Consumed.with(Serdes.String(), topic1));\r\n\r\n    builder.stream(t1,\r\n        Consumed.with(Serdes.String(), stream1))\r\n        .join(t2,\r\n            (paramName, paramValue) -&gt; paramName,\r\n            (paramValue, paramLimits) -&gt; {\r\n              // Add some logic to return conditionally\r\n              return new output1(&quot;paramName&quot;, 0.0, 0.0, true);\r\n            })\r\n        .to(t3,\r\n            Produced.with(Serdes.String(), output1));\r\n    return builder.build();\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://quarkus.io/guides/kafka-streams","title":"Quarkus - KStream and KTable join does not output messages","body":"<p>I am building a project modeled on <a href=\"https://quarkus.io/guides/kafka-streams\" rel=\"nofollow noreferrer\">this project</a>. The key difference is, I want to output, conditionally, a message using the messages from the joined topics. As opposed to the example project, where an aggregation is performed. I am struggling to use <code>Serde</code> for JSON messages and so, I have simplified the message structure as follows.</p>\n<ul>\n<li><code>t1</code> (<code>KStream</code>) - a plain text value.</li>\n<li><code>t2</code> (<code>KTable</code>) - a plain text value separated by a <code>;</code>.</li>\n<li><code>t3</code> (<code>KStream</code>) - a CSV string.</li>\n</ul>\n<p>I am publishing messages using <code>kafkacat</code> with the <code>-k</code> option to set a key e.g. <code>k1</code>. The problem I am facing is: I don't see any output in <code>t3</code>.</p>\n<p>This is my <code>TopologyProducer.java</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Produces\n  public Topology buildTopology() {\n    StreamsBuilder builder = new StreamsBuilder();\n\n    ObjectMapperSerde&lt;stream1&gt; stream1 = new ObjectMapperSerde&lt;&gt;(stream1.class);\n    ObjectMapperSerde&lt;topic1&gt; topic1 = new ObjectMapperSerde&lt;&gt;(topic1.class);\n    ObjectMapperSerde&lt;output1&gt; output1 = new ObjectMapperSerde&lt;&gt;(output1.class);\n\n    GlobalKTable&lt;String, topic1&gt; topic1 = builder.globalTable(\n        t2,\n        Consumed.with(Serdes.String(), topic1));\n\n    builder.stream(t1,\n        Consumed.with(Serdes.String(), stream1))\n        .join(t2,\n            (paramName, paramValue) -&gt; paramName,\n            (paramValue, paramLimits) -&gt; {\n              // Add some logic to return conditionally\n              return new output1(&quot;paramName&quot;, 0.0, 0.0, true);\n            })\n        .to(t3,\n            Produced.with(Serdes.String(), output1));\n    return builder.build();\n  }\n}\n</code></pre>\n"},{"tags":["java","sorting","recursion","mergesort"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1664073307,"post_id":73841704,"comment_id":130386912,"body_markdown":"Does this answer your question? [Understanding recursion](https://stackoverflow.com/questions/717725/understanding-recursion)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/717725/understanding-recursion\">Understanding recursion</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1664073825,"post_id":73841704,"comment_id":130386948,"body_markdown":"Basically when you call a method like this: `mergeSort(input , start , mid);` you are supplying new values for `start` and `end`, which is the same as using `=` to reassign them.","body":"Basically when you call a method like this: <code>mergeSort(input , start , mid);</code> you are supplying new values for <code>start</code> and <code>end</code>, which is the same as using <code>=</code> to reassign them."},{"owner":{"account_id":9679270,"reputation":3,"user_id":12733382,"display_name":"Cristopher Vergara "},"score":0,"creation_date":1664073865,"post_id":73841704,"comment_id":130386950,"body_markdown":"i the example case the variable is decresing (flowersInVase - 1) i don&#39;t see a plus sign in the method mergeSort but is increasing anyway","body":"i the example case the variable is decresing (flowersInVase - 1) i don&#39;t see a plus sign in the method mergeSort but is increasing anyway"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1664074311,"post_id":73841704,"comment_id":130386978,"body_markdown":"It&#39;s `int mid = (start + end)/2 ;` that does it.  `mid` is more than `start` and less than `end`, so that value is used to both increase and decrease.  Calling `(mid,end)` will increase `start`, and calling `(start,mid)` will decrease `end`","body":"It&#39;s <code>int mid = (start + end)&#47;2 ;</code> that does it.  <code>mid</code> is more than <code>start</code> and less than <code>end</code>, so that value is used to both increase and decrease.  Calling <code>(mid,end)</code> will increase <code>start</code>, and calling <code>(start,mid)</code> will decrease <code>end</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1664074995,"post_id":73841704,"comment_id":130387015,"body_markdown":"A method call does the assignment. You don&#39;t see it because it is behind the scenes. Let&#39;s say you have a method  `int foo (int a, int b);`. Your program has `int bin = foo (bar, bug);`. Behind the scenes, the value of `bar` gets copied to the `a` in the `foo` method,and `bug` gets copied to the `b`.  Now, suppose you have have a program that needs to call `foo` 4 times, with unrelated values: `foo (19, 87)`, `foo (flea, dog)`,  `foo (side * side, height)`, `foo ( smu, smu)`. By linking the variables or constants in the argument list with the variables in the parameter list allows that.","body":"A method call does the assignment. You don&#39;t see it because it is behind the scenes. Let&#39;s say you have a method  <code>int foo (int a, int b);</code>. Your program has <code>int bin = foo (bar, bug);</code>. Behind the scenes, the value of <code>bar</code> gets copied to the <code>a</code> in the <code>foo</code> method,and <code>bug</code> gets copied to the <code>b</code>.  Now, suppose you have have a program that needs to call <code>foo</code> 4 times, with unrelated values: <code>foo (19, 87)</code>, <code>foo (flea, dog)</code>,  <code>foo (side * side, height)</code>, <code>foo ( smu, smu)</code>. By linking the variables or constants in the argument list with the variables in the parameter list allows that."},{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":2,"creation_date":1664086208,"post_id":73841704,"comment_id":130387985,"body_markdown":"Passing a value to a function using a parameter isn&#39;t really related to recursion. This is the same behavior as a normal function call.","body":"Passing a value to a function using a parameter isn&#39;t really related to recursion. This is the same behavior as a normal function call."},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":0,"creation_date":1664159931,"post_id":73841704,"comment_id":130399989,"body_markdown":"If the call is ...(start, mid), then within the function, end = mid, and used for recursive calls. Likewise if the call is ...(mid, end), then start = mid, and used for recursive calls.","body":"If the call is ...(start, mid), then within the function, end = mid, and used for recursive calls. Likewise if the call is ...(mid, end), then start = mid, and used for recursive calls."}],"owner":{"account_id":9679270,"reputation":3,"user_id":12733382,"display_name":"Cristopher Vergara "},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664078753,"creation_date":1664073170,"question_id":73841704,"body_markdown":"I have the following insertion sort algorithm but I have a problem understanding the recursive method `mergeSort`.\r\n```java\r\npublic class MergeSort {\r\n\r\n    public static void main(String[] args) {\r\n        int[]intArray = {20, 35, -15, 7, 55, 1, -22};\r\n        mergeSort(intArray , 0 , intArray.length);\r\n        for(int i = 0 ; i &lt; intArray.length ; i++) {\r\n            System.out.println(intArray[i]);\r\n        }\r\n    }\r\n\r\n    public static void mergeSort(int[] input, int start, int end) {\r\n        System.out.println(&quot;start = &quot; + start + &quot; ||&quot; + &quot; end = &quot; + end + &quot; ||&quot; + &quot; mid = &quot; +((start+end)/2));\r\n        if (end - start &lt; 2) {\r\n            return;\r\n        }\r\n        int mid = (start + end) / 2;\r\n        mergeSort(input, start, mid);\r\n        mergeSort(input, mid, end );\r\n        merge(input, start, mid, end);\r\n    }\r\n\r\n    public static void merge(int[] input, int start, int mid, int end) {\r\n        if (input[mid - 1] &lt;= input[mid]) {\r\n            return;\r\n        }\r\n        int i = start;\r\n        int j = mid;\r\n        int tempIndex = 0;\r\n        int[] temp = new int[end -start];\r\n        while (i &lt; mid &amp;&amp; j &lt; end) {\r\n            temp[tempIndex++] = input[i] &lt;= input[j] ? input[i++] : input[j++];\r\n        }\r\n        System.arraycopy(input, i, input, start + tempIndex, mid-i);\r\n        System.arraycopy(temp, 0, input, start, tempIndex);\r\n    }\r\n}\r\n```\r\nThe output is:\r\n```none\r\nstart = 0 || end = 7 || mid = 3\r\nstart = 0 || end = 3 || mid = 1\r\nstart = 0 || end = 1 || mid = 0\r\nstart = 1 || end = 3 || mid = 2\r\nstart = 1 || end = 2 || mid = 1\r\nstart = 2 || end = 3 || mid = 2\r\nstart = 3 || end = 7 || mid = 5\r\nstart = 3 || end = 5 || mid = 4\r\nstart = 3 || end = 4 || mid = 3\r\nstart = 4 || end = 5 || mid = 4\r\nstart = 5 || end = 7 || mid = 6\r\nstart = 5 || end = 6 || mid = 5\r\nstart = 6 || end = 7 || mid = 6\r\n\r\n-22 , -15 , 1 , 7 , 20 , 35 , 55 , \r\n```\r\nI can&#39;t understand how the variable `start`, in method `mergeSort`, is changing if don&#180;t have something like\r\n```java\r\nstart = start+1\r\n```\r\nThe same goes for variable `end`.\r\n","title":"Problem to understand recursion with insertion sort in Java","body":"<p>I have the following insertion sort algorithm but I have a problem understanding the recursive method <code>mergeSort</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MergeSort {\n\n    public static void main(String[] args) {\n        int[]intArray = {20, 35, -15, 7, 55, 1, -22};\n        mergeSort(intArray , 0 , intArray.length);\n        for(int i = 0 ; i &lt; intArray.length ; i++) {\n            System.out.println(intArray[i]);\n        }\n    }\n\n    public static void mergeSort(int[] input, int start, int end) {\n        System.out.println(&quot;start = &quot; + start + &quot; ||&quot; + &quot; end = &quot; + end + &quot; ||&quot; + &quot; mid = &quot; +((start+end)/2));\n        if (end - start &lt; 2) {\n            return;\n        }\n        int mid = (start + end) / 2;\n        mergeSort(input, start, mid);\n        mergeSort(input, mid, end );\n        merge(input, start, mid, end);\n    }\n\n    public static void merge(int[] input, int start, int mid, int end) {\n        if (input[mid - 1] &lt;= input[mid]) {\n            return;\n        }\n        int i = start;\n        int j = mid;\n        int tempIndex = 0;\n        int[] temp = new int[end -start];\n        while (i &lt; mid &amp;&amp; j &lt; end) {\n            temp[tempIndex++] = input[i] &lt;= input[j] ? input[i++] : input[j++];\n        }\n        System.arraycopy(input, i, input, start + tempIndex, mid-i);\n        System.arraycopy(temp, 0, input, start, tempIndex);\n    }\n}\n</code></pre>\n<p>The output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>start = 0 || end = 7 || mid = 3\nstart = 0 || end = 3 || mid = 1\nstart = 0 || end = 1 || mid = 0\nstart = 1 || end = 3 || mid = 2\nstart = 1 || end = 2 || mid = 1\nstart = 2 || end = 3 || mid = 2\nstart = 3 || end = 7 || mid = 5\nstart = 3 || end = 5 || mid = 4\nstart = 3 || end = 4 || mid = 3\nstart = 4 || end = 5 || mid = 4\nstart = 5 || end = 7 || mid = 6\nstart = 5 || end = 6 || mid = 5\nstart = 6 || end = 7 || mid = 6\n\n-22 , -15 , 1 , 7 , 20 , 35 , 55 , \n</code></pre>\n<p>I can't understand how the variable <code>start</code>, in method <code>mergeSort</code>, is changing if don´t have something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>start = start+1\n</code></pre>\n<p>The same goes for variable <code>end</code>.</p>\n"},{"tags":["java","android","retrofit"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1664100248,"post_id":73841978,"comment_id":130389911,"body_markdown":"Ellijah `but it was a request parameter that needs to be passed alongside with the dto class`. If it is a request parameter why should you pass it inside the body?","body":"Ellijah <code>but it was a request parameter that needs to be passed alongside with the dto class</code>. If it is a request parameter why should you pass it inside the body?"},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1664119778,"post_id":73841978,"comment_id":130393593,"body_markdown":"yeah, please how can I passed it because I don&#39;t have any idea on how to pass it when the method is being called?","body":"yeah, please how can I passed it because I don&#39;t have any idea on how to pass it when the method is being called?"},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1664119780,"post_id":73841978,"comment_id":130393594,"body_markdown":"yeah, please how can I passed it because I don&#39;t have any idea on how to pass it when the method is being called?","body":"yeah, please how can I passed it because I don&#39;t have any idea on how to pass it when the method is being called?"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664078657,"creation_date":1664078657,"question_id":73841978,"body_markdown":"I&#39;m looking for how to add a string token with @Body annotation in Android retrofit for a post request. There was a token given to each patient after a successful registration so that it can be used for authentication so I want to pass the token along side with the body when the patient want to book an appointment with the Doctor. Note this token is not like an Header for authorization so I cannot used @Header annotation but it was a request parameter that needs to be passed alongside with the dto class.Here is how I tried but it&#39;s not working, saying that the @Field annotation can only be used with a Form.\r\n        \r\n         @POST(&quot;appointment/book&quot;)\r\n            Call&lt;ApiResponse&gt; bookAppointment(@Body AppointmentBookingDto appointmentBookingDto, @Field(&quot;token&quot;) String token);\r\n        \r\n        The backend is with spring boot and this is how it&#39;s\r\n        \r\n        @PostMapping(&quot;/book&quot;)\r\n            public ResponseEntity&lt;ApiResponse&gt; bookAppointment(@RequestBody AppointmentBookingDto appointmentBookingDto, @RequestParam(&quot;token&quot;) String token) throws DataNotFoundException, ParseException, DataAlreadyExistException {\r\n        \r\n                return appointmentBookingService.bookAppointment(appointmentBookingDto,token);\r\n            }","title":"how to use @Body annotation in android retrofit with multipart","body":"<p>I'm looking for how to add a string token with @Body annotation in Android retrofit for a post request. There was a token given to each patient after a successful registration so that it can be used for authentication so I want to pass the token along side with the body when the patient want to book an appointment with the Doctor. Note this token is not like an Header for authorization so I cannot used @Header annotation but it was a request parameter that needs to be passed alongside with the dto class.Here is how I tried but it's not working, saying that the @Field annotation can only be used with a Form.</p>\n<pre><code>     @POST(&quot;appointment/book&quot;)\n        Call&lt;ApiResponse&gt; bookAppointment(@Body AppointmentBookingDto appointmentBookingDto, @Field(&quot;token&quot;) String token);\n    \n    The backend is with spring boot and this is how it's\n    \n    @PostMapping(&quot;/book&quot;)\n        public ResponseEntity&lt;ApiResponse&gt; bookAppointment(@RequestBody AppointmentBookingDto appointmentBookingDto, @RequestParam(&quot;token&quot;) String token) throws DataNotFoundException, ParseException, DataAlreadyExistException {\n    \n            return appointmentBookingService.bookAppointment(appointmentBookingDto,token);\n        }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1915570,"reputation":4789,"user_id":1993909,"accept_rate":85,"display_name":"Daniel Cheung"},"score":1,"creation_date":1522044189,"post_id":49484860,"comment_id":85972468,"body_markdown":"Looks a lot like some kind of homework, haha.","body":"Looks a lot like some kind of homework, haha."},{"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"score":0,"creation_date":1522044323,"post_id":49484860,"comment_id":85972517,"body_markdown":"Do you have any questions? Or is this a code review?","body":"Do you have any questions? Or is this a code review?"},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":1,"creation_date":1522044397,"post_id":49484860,"comment_id":85972539,"body_markdown":"@AlexandruSeverin The OP&#39;s algorithm is not working because there are multiple words have the same first letter.","body":"@AlexandruSeverin The OP&#39;s algorithm is not working because there are multiple words have the same first letter."},{"owner":{"account_id":11745047,"reputation":914,"user_id":8596064,"display_name":"Absent"},"score":0,"creation_date":1522044444,"post_id":49484860,"comment_id":85972554,"body_markdown":"This is more easily solveable with a recursion than a loop. write one function that determines all letters that are allowed to follow up (e.g.: six and seven -&gt; after s an i and an e are valid) and call that function on every combination you find (e.g. when you found an s, and then an i, you have currently &quot;si&quot; and then the function tells you that the only valid character after that combination is a x)","body":"This is more easily solveable with a recursion than a loop. write one function that determines all letters that are allowed to follow up (e.g.: six and seven -&gt; after s an i and an e are valid) and call that function on every combination you find (e.g. when you found an s, and then an i, you have currently &quot;si&quot; and then the function tells you that the only valid character after that combination is a x)"},{"owner":{"account_id":11324217,"reputation":53,"user_id":8932908,"accept_rate":20,"display_name":"Amr4AOT"},"score":0,"creation_date":1522044871,"post_id":49484860,"comment_id":85972736,"body_markdown":"@user202729 the string i/p must contain the letters of the numeric word arranged in any order(any place). Like &quot;NISXEVE&quot; will print 6,7.","body":"@user202729 the string i/p must contain the letters of the numeric word arranged in any order(any place). Like &quot;NISXEVE&quot; will print 6,7."},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1522045407,"post_id":49484860,"comment_id":85972916,"body_markdown":"Sorry, wrong duplicate target. [Possible duplicate](https://stackoverflow.com/questions/15628632/an-array-is-subset-of-another-array). [Or this](https://stackoverflow.com/questions/22223651/).","body":"Sorry, wrong duplicate target. <a href=\"https://stackoverflow.com/questions/15628632/an-array-is-subset-of-another-array\">Possible duplicate</a>. <a href=\"https://stackoverflow.com/questions/22223651/\">Or this</a>."},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1522045550,"post_id":49484860,"comment_id":85972974,"body_markdown":"@IvoVidovic Unnecessarily inefficient.","body":"@IvoVidovic Unnecessarily inefficient."}],"answers":[{"tags":[],"owner":{"account_id":4911820,"reputation":107,"user_id":3956925,"display_name":"Jitindra Fartiyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522046018,"creation_date":1522046018,"answer_id":49485289,"question_id":49484860,"body_markdown":"One way to solve is - \n\n    Pseudo Code\n    \n    String [ ] str ={&quot;ZERO&quot;,&quot;ONE&quot;..};\n    char[ ] input = {&#39;O&#39;,&#39;T&#39;,&#39;N&#39;,&#39;W&#39;,&#39;H&#39;,&#39;E&#39;,&#39;R&#39;,&#39;E&#39;};\n    char [ 26 ] temparray;\n    \n    For i in input\n       temparray[i]++;\n       //Consider &#39;a&#39;=index 0, &#39;a&#39; =index 1 ... And so on\n    \n    For i in str\n       char[ ] temparray2 = str[i].toCharArray();\n       For j in temparray2\n          temparray2 [j]++;\n          //Consider &#39;a&#39;=index 0, &#39;a&#39; =index 1 ... And so on\n          \n        For j in temparray2 \n           For k in temparray\n              temparray[k]==temparray2 [j]\n    // If they are equal, print. If not come out of the loop\n\n\nNOTE: I have just gave you hint to write a logic for it. You try to code it. And there are many other ways to optimize it too.","title":"Extract numbers from a jumbled string","body":"<p>One way to solve is - </p>\n\n<pre><code>Pseudo Code\n\nString [ ] str ={\"ZERO\",\"ONE\"..};\nchar[ ] input = {'O','T','N','W','H','E','R','E'};\nchar [ 26 ] temparray;\n\nFor i in input\n   temparray[i]++;\n   //Consider 'a'=index 0, 'a' =index 1 ... And so on\n\nFor i in str\n   char[ ] temparray2 = str[i].toCharArray();\n   For j in temparray2\n      temparray2 [j]++;\n      //Consider 'a'=index 0, 'a' =index 1 ... And so on\n\n    For j in temparray2 \n       For k in temparray\n          temparray[k]==temparray2 [j]\n// If they are equal, print. If not come out of the loop\n</code></pre>\n\n<p>NOTE: I have just gave you hint to write a logic for it. You try to code it. And there are many other ways to optimize it too.</p>\n"},{"tags":[],"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1522060994,"creation_date":1522060994,"answer_id":49489544,"question_id":49484860,"body_markdown":"If I understand correctly, numbers can share characters. (E.g. there is only one `T` in your example, but both `TWO` and `THREE` are included.)\r\n\r\nCollect the number of all *characters* from the *String* in a *HashMap*:\r\n\r\n    String s = ...;\r\n    HashMap&lt;Character, Integer&gt; charCount = new HashMap&lt;&gt;();\r\n    for (char c : s.toCharArray()) {\r\n        Integer count = charCount.get(c);\r\n        if (count == null) count = 0;\r\n        map.put(c, ++count);\r\n    }\r\n\r\nThat way you only have to loop over your *String* once.\r\n\r\nThen you can store each *number* as its own *HashMap* with *character/integer pairs*, e.g. `THREE` is stored as `{{T,1},{H,1},{R,1},{E,2}}`.\r\n\r\nYou can then loop over each *number map* and check if `charCount` contains each *character (key)* from the current *number* and if the *count (value)* is greater or equal.\r\n\r\nOr create some kind of *tree structure* for your *number characters* like so:\r\n\r\n                   _____\r\n                  | O,1 |\r\n                  |_____|\r\n                  /     \\\r\n            _____/       \\_____\r\n           | E,1 |       | W,1 |\r\n           |_____|       |_____|\r\n           /     \\             \\\r\n     _____/       \\_____        \\_____\r\n    | N,1 |       | R,1 |       | T,1 |\r\n    |_____|       |_____|       |_____|\r\n       v             |             v  \r\n     &quot;ONE&quot;         __|__         &quot;TWO&quot;\r\n                  | Z,1 |\r\n                  |_____|\r\n                     v\r\n                   &quot;ZERO&quot;\r\n\r\nThen walk through it and every *leaf* you reach is a number contained:\r\n\r\n    // pseudocode\r\n    recursiveCheck(node) {\r\n        if (charCount.containsKey(node.character) &amp;&amp; charCount.get(node.character) &gt; node.count) {\r\n            if (node.hasChildren()) {\r\n                for (childnode in node) {\r\n                    recursiveCheck(childnode);\r\n                }\r\n            }\r\n            else {\r\n                // node is leaf, node.number is contained\r\n            }\r\n        }\r\n    }","title":"Extract numbers from a jumbled string","body":"<p>If I understand correctly, numbers can share characters. (E.g. there is only one <code>T</code> in your example, but both <code>TWO</code> and <code>THREE</code> are included.)</p>\n\n<p>Collect the number of all <em>characters</em> from the <em>String</em> in a <em>HashMap</em>:</p>\n\n<pre><code>String s = ...;\nHashMap&lt;Character, Integer&gt; charCount = new HashMap&lt;&gt;();\nfor (char c : s.toCharArray()) {\n    Integer count = charCount.get(c);\n    if (count == null) count = 0;\n    map.put(c, ++count);\n}\n</code></pre>\n\n<p>That way you only have to loop over your <em>String</em> once.</p>\n\n<p>Then you can store each <em>number</em> as its own <em>HashMap</em> with <em>character/integer pairs</em>, e.g. <code>THREE</code> is stored as <code>{{T,1},{H,1},{R,1},{E,2}}</code>.</p>\n\n<p>You can then loop over each <em>number map</em> and check if <code>charCount</code> contains each <em>character (key)</em> from the current <em>number</em> and if the <em>count (value)</em> is greater or equal.</p>\n\n<p>Or create some kind of <em>tree structure</em> for your <em>number characters</em> like so:</p>\n\n<pre><code>               _____\n              | O,1 |\n              |_____|\n              /     \\\n        _____/       \\_____\n       | E,1 |       | W,1 |\n       |_____|       |_____|\n       /     \\             \\\n _____/       \\_____        \\_____\n| N,1 |       | R,1 |       | T,1 |\n|_____|       |_____|       |_____|\n   v             |             v  \n \"ONE\"         __|__         \"TWO\"\n              | Z,1 |\n              |_____|\n                 v\n               \"ZERO\"\n</code></pre>\n\n<p>Then walk through it and every <em>leaf</em> you reach is a number contained:</p>\n\n<pre><code>// pseudocode\nrecursiveCheck(node) {\n    if (charCount.containsKey(node.character) &amp;&amp; charCount.get(node.character) &gt; node.count) {\n        if (node.hasChildren()) {\n            for (childnode in node) {\n                recursiveCheck(childnode);\n            }\n        }\n        else {\n            // node is leaf, node.number is contained\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19299519,"reputation":11,"user_id":14107781,"display_name":"Gaurav Panchal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597443236,"creation_date":1597443236,"answer_id":63420630,"question_id":49484860,"body_markdown":"    public class Solution{\r\n    \tpublic static void main(String args[]){\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tString query = sc.nextLine();\r\n    \t\tString ans = solve(query);\r\n    \t\tSystem.out.println(ans);\r\n    \t}\r\n    \tprivate String solve(String query){\r\n    \t\tint fmap[] = new int[27];\r\n    \t\tfor(char x : query.toCharArray()){\r\n    \t\t\tfmap[x - &#39;a&#39;]++;\r\n    \t\t}\r\n    \t\tStringBuilder sb = new StringBuilder(&quot;&quot;);\r\n    \t\twhile(fmap[&#39;w&#39; - &#39;a&#39;]-- != 0){\r\n    \t\t\tfmap[&#39;t&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;o&#39;-&#39;a&#39;]--;\r\n    \t\t\tsb.append(&#39;2&#39;);\r\n    \t\t}\r\n    \t\twhile(fmap[&#39;g&#39; - &#39;a&#39;]-- != 0){\r\n    \t\t\tfmap[&#39;e&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;i&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;h&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;t&#39;-&#39;a&#39;]--;\r\n    \t\t\tsb.append(&#39;8&#39;);\r\n    \t\t}\r\n    \t\twhile(fmap[&#39;z&#39; - &#39;a&#39;]-- != 0){\r\n    \t\t\tfmap[&#39;e&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;r&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;o&#39;-&#39;a&#39;]--;\r\n    \t\t\tsb.append(&#39;0&#39;);\r\n    \t\t}\r\n    \t\twhile(fmap[&#39;x&#39; - &#39;a&#39;]-- != 0){\r\n    \t\t\tfmap[&#39;s&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;i&#39;-&#39;a&#39;]--;\r\n    \t\t\tsb.append(&#39;6&#39;);\r\n    \t\t}\r\n    \t\twhile(fmap[&#39;u&#39; - &#39;a&#39;]-- != 0){\r\n    \t\t\tfmap[&#39;f&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;o&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;r&#39;-&#39;a&#39;]--;\r\n    \t\t\tsb.append(&#39;4&#39;);\r\n    \t\t}\r\n    \t\twhile(fmap[&#39;u&#39; - &#39;a&#39;]-- != 0){\r\n    \t\t\tfmap[&#39;f&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;o&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;r&#39;-&#39;a&#39;]--;\r\n    \t\t\tsb.append(&#39;4&#39;);\r\n    \t\t}\r\n    \t\twhile(fmap[&#39;o&#39; - &#39;a&#39;]-- != 0){\r\n    \t\t\tfmap[&#39;e&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;n&#39;-&#39;a&#39;]--;\r\n    \t\t\tsb.append(&#39;1&#39;);\r\n    \t\t}\r\n    \t\twhile(fmap[&#39;t&#39; - &#39;a&#39;]-- != 0){\r\n    \t\t\tfmap[&#39;e&#39;-&#39;a&#39;]-=2;\r\n    \t\t\tfmap[&#39;h&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;r&#39;-&#39;a&#39;]--;\r\n    \t\t\tsb.append(&#39;3&#39;);\r\n    \t\t}\r\n    \t\twhile(fmap[&#39;f&#39; - &#39;a&#39;]-- != 0){\r\n    \t\t\tfmap[&#39;e&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;i&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;v&#39;-&#39;a&#39;]--;\r\n    \t\t\tsb.append(&#39;5&#39;);\r\n    \t\t}\r\n    \t\twhile(fmap[&#39;s&#39; - &#39;a&#39;]-- != 0){\r\n    \t\t\tfmap[&#39;e&#39;-&#39;a&#39;]-=2;\r\n    \t\t\tfmap[&#39;n&#39;-&#39;a&#39;]--;\r\n    \t\t\tfmap[&#39;v&#39;-&#39;a&#39;]--;\r\n    \t\t\tsb.append(&#39;7&#39;);\r\n    \t\t}\r\n    \t\twhile(fmap[&#39;i&#39; - &#39;a&#39;]-- != 0){\r\n    \t\t\tfmap[&#39;n&#39;-&#39;a&#39;]-=2;\r\n    \t\t\tfmap[&#39;e&#39;-&#39;a&#39;]--;\r\n    \t\t\tsb.append(&#39;9&#39;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    /*\r\n\r\n    \r\n    if &#39;w&#39; -&gt; there is two\r\n    if &#39;g&#39; -&gt; there is eight\r\n    if &#39;z&#39; -&gt; there is zero\r\n    if &#39;x&#39; -&gt; there is six\r\n    if &#39;u&#39; -&gt; there is four\r\n    \r\n    after removing these one, three, five, seven, nine remain (if present)\r\n    \r\n    if &#39;o&#39; -&gt; there is one. left: {three, five, seven, nine}\r\n    if &#39;t&#39; -&gt; there is three. left: {five, seven, nine}\r\n    if &#39;f&#39; -&gt; there is five. left: {seven, nine}\r\n    if &#39;s&#39; -&gt; there is seven. left: {nine}\r\n    if &#39;i&#39; -&gt; there is nine. left: {}\r\n    \r\n    \r\n    \r\n    \r\n    */","title":"Extract numbers from a jumbled string","body":"<pre><code>public class Solution{\n    public static void main(String args[]){\n        Scanner sc = new Scanner(System.in);\n        String query = sc.nextLine();\n        String ans = solve(query);\n        System.out.println(ans);\n    }\n    private String solve(String query){\n        int fmap[] = new int[27];\n        for(char x : query.toCharArray()){\n            fmap[x - 'a']++;\n        }\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\n        while(fmap['w' - 'a']-- != 0){\n            fmap['t'-'a']--;\n            fmap['o'-'a']--;\n            sb.append('2');\n        }\n        while(fmap['g' - 'a']-- != 0){\n            fmap['e'-'a']--;\n            fmap['i'-'a']--;\n            fmap['h'-'a']--;\n            fmap['t'-'a']--;\n            sb.append('8');\n        }\n        while(fmap['z' - 'a']-- != 0){\n            fmap['e'-'a']--;\n            fmap['r'-'a']--;\n            fmap['o'-'a']--;\n            sb.append('0');\n        }\n        while(fmap['x' - 'a']-- != 0){\n            fmap['s'-'a']--;\n            fmap['i'-'a']--;\n            sb.append('6');\n        }\n        while(fmap['u' - 'a']-- != 0){\n            fmap['f'-'a']--;\n            fmap['o'-'a']--;\n            fmap['r'-'a']--;\n            sb.append('4');\n        }\n        while(fmap['u' - 'a']-- != 0){\n            fmap['f'-'a']--;\n            fmap['o'-'a']--;\n            fmap['r'-'a']--;\n            sb.append('4');\n        }\n        while(fmap['o' - 'a']-- != 0){\n            fmap['e'-'a']--;\n            fmap['n'-'a']--;\n            sb.append('1');\n        }\n        while(fmap['t' - 'a']-- != 0){\n            fmap['e'-'a']-=2;\n            fmap['h'-'a']--;\n            fmap['r'-'a']--;\n            sb.append('3');\n        }\n        while(fmap['f' - 'a']-- != 0){\n            fmap['e'-'a']--;\n            fmap['i'-'a']--;\n            fmap['v'-'a']--;\n            sb.append('5');\n        }\n        while(fmap['s' - 'a']-- != 0){\n            fmap['e'-'a']-=2;\n            fmap['n'-'a']--;\n            fmap['v'-'a']--;\n            sb.append('7');\n        }\n        while(fmap['i' - 'a']-- != 0){\n            fmap['n'-'a']-=2;\n            fmap['e'-'a']--;\n            sb.append('9');\n        }\n    }\n}\n/*\n\n\nif 'w' -&gt; there is two\nif 'g' -&gt; there is eight\nif 'z' -&gt; there is zero\nif 'x' -&gt; there is six\nif 'u' -&gt; there is four\n\nafter removing these one, three, five, seven, nine remain (if present)\n\nif 'o' -&gt; there is one. left: {three, five, seven, nine}\nif 't' -&gt; there is three. left: {five, seven, nine}\nif 'f' -&gt; there is five. left: {seven, nine}\nif 's' -&gt; there is seven. left: {nine}\nif 'i' -&gt; there is nine. left: {}\n\n\n\n\n*/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7781809,"reputation":346,"user_id":5887992,"accept_rate":36,"display_name":"Yashwanth Potu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603825432,"creation_date":1603825432,"answer_id":64561295,"question_id":49484860,"body_markdown":"I did not use any algorithms but rather used uniqueness in each number in word format and it worked like a charm for many test cases I ran against.\r\n\r\nThe idea was 0 - zero is unique as it has character z and no other number has z in them\r\n2 - has w\r\n4 - has u\r\n6 - has x\r\n\r\nBelow is the code\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.*;\r\n    \r\n        public class Yash {\r\n        \r\n            /**\r\n             * Iterate through each line of input.\r\n             */\r\n            public static void main(String[] args) throws IOException {\r\n                InputStreamReader reader = new InputStreamReader(System.in, StandardCharsets.UTF_8);\r\n                BufferedReader in = new BufferedReader(reader);\r\n                String line;\r\n                String number0 = &quot;&quot;;\r\n                String number1 = &quot;&quot;;\r\n                String number2 = &quot;&quot;;\r\n                String number3 = &quot;&quot;;\r\n                String number4 = &quot;&quot;;\r\n                String number5 = &quot;&quot;;\r\n                String number6 = &quot;&quot;;\r\n                String number7 = &quot;&quot;;\r\n                String number8 = &quot;&quot;;\r\n                String number9 = &quot;&quot;;\r\n                while ((line = in.readLine()) != null) {\r\n                    Map&lt;Character, Integer&gt; chracterMap = new HashMap&lt;&gt;();\r\n                    for (int i = 0; i &lt; line.length(); i++) {\r\n                        if (chracterMap.get(line.charAt(i)) == null) {\r\n                            chracterMap.put(line.charAt(i), 1);\r\n                        } else {\r\n                            chracterMap.put(line.charAt(i), chracterMap.get(line.charAt(i)) + 1);\r\n                        }\r\n                    }\r\n        \r\n                    if (chracterMap.get(&#39;z&#39;) &gt; 0) {\r\n        \r\n                        for (int i = 0; i &lt; chracterMap.get(&#39;z&#39;) ;i++) {\r\n                            number0 = number0 + Integer.toString(0);\r\n                        }\r\n                        chracterMap.put(&#39;e&#39;, chracterMap.get(&#39;e&#39;) - chracterMap.get(&#39;z&#39;));\r\n                        chracterMap.put(&#39;r&#39;, chracterMap.get(&#39;r&#39;) - chracterMap.get(&#39;z&#39;));\r\n                        chracterMap.put(&#39;o&#39;, chracterMap.get(&#39;o&#39;) - chracterMap.get(&#39;z&#39;));\r\n                    }\r\n        \r\n                    if (chracterMap.get(&#39;w&#39;) &gt; 0) {\r\n        \r\n                        for (int i = 0; i &lt; chracterMap.get(&#39;w&#39;) ;i++) {\r\n                            number2 = number2 + Integer.toString(2);\r\n                        }\r\n                        chracterMap.put(&#39;t&#39;, chracterMap.get(&#39;t&#39;) - chracterMap.get(&#39;w&#39;));\r\n                        chracterMap.put(&#39;o&#39;, chracterMap.get(&#39;o&#39;) - chracterMap.get(&#39;w&#39;));\r\n                    }\r\n        \r\n                    if (chracterMap.get(&#39;u&#39;) &gt; 0) {\r\n        \r\n                        for (int i = 0; i &lt; chracterMap.get(&#39;u&#39;) ;i++) {\r\n                            number4 = number4 + Integer.toString(4);\r\n                        }\r\n                        chracterMap.put(&#39;f&#39;, chracterMap.get(&#39;f&#39;) - chracterMap.get(&#39;u&#39;));\r\n                        chracterMap.put(&#39;o&#39;, chracterMap.get(&#39;o&#39;) - chracterMap.get(&#39;u&#39;));\r\n                        chracterMap.put(&#39;r&#39;, chracterMap.get(&#39;r&#39;) - chracterMap.get(&#39;u&#39;));\r\n                    }\r\n        \r\n                    if (chracterMap.get(&#39;x&#39;) &gt; 0) {\r\n        \r\n                        for (int i = 0; i &lt; chracterMap.get(&#39;x&#39;) ;i++) {\r\n                            number6 = number6 + Integer.toString(6);\r\n                        }\r\n                        chracterMap.put(&#39;s&#39;, chracterMap.get(&#39;s&#39;) - chracterMap.get(&#39;x&#39;));\r\n                        chracterMap.put(&#39;i&#39;, chracterMap.get(&#39;i&#39;) - chracterMap.get(&#39;x&#39;));\r\n                    }\r\n        \r\n                    if (chracterMap.get(&#39;g&#39;) &gt; 0) {\r\n        \r\n                        for (int i = 0; i &lt; chracterMap.get(&#39;g&#39;) ;i++) {\r\n                            number8 = number8 + Integer.toString(8);\r\n                        }\r\n                        chracterMap.put(&#39;e&#39;, chracterMap.get(&#39;e&#39;) - chracterMap.get(&#39;g&#39;));\r\n                        chracterMap.put(&#39;i&#39;, chracterMap.get(&#39;i&#39;) - chracterMap.get(&#39;g&#39;));\r\n                        chracterMap.put(&#39;h&#39;, chracterMap.get(&#39;h&#39;) - chracterMap.get(&#39;g&#39;));\r\n                        chracterMap.put(&#39;t&#39;, chracterMap.get(&#39;t&#39;) - chracterMap.get(&#39;g&#39;));\r\n                    }\r\n        \r\n                    if (chracterMap.get(&#39;f&#39;) &gt; 0) {\r\n        \r\n                        for (int i = 0; i &lt; chracterMap.get(&#39;f&#39;) ;i++) {\r\n                            number5 = number5 + Integer.toString(5);\r\n                        }\r\n                        chracterMap.put(&#39;v&#39;, chracterMap.get(&#39;v&#39;) - chracterMap.get(&#39;f&#39;));\r\n                        chracterMap.put(&#39;i&#39;, chracterMap.get(&#39;i&#39;) - chracterMap.get(&#39;f&#39;));\r\n                        chracterMap.put(&#39;e&#39;, chracterMap.get(&#39;e&#39;) - chracterMap.get(&#39;f&#39;));\r\n                    }\r\n        \r\n                    if (chracterMap.get(&#39;r&#39;) &gt; 0) {\r\n        \r\n                        for (int i = 0; i &lt; chracterMap.get(&#39;r&#39;) ;i++) {\r\n                            number3 = number3 + Integer.toString(3);\r\n                        }\r\n                        chracterMap.put(&#39;t&#39;, chracterMap.get(&#39;t&#39;) - chracterMap.get(&#39;r&#39;));\r\n                        chracterMap.put(&#39;h&#39;, chracterMap.get(&#39;h&#39;) - chracterMap.get(&#39;r&#39;));\r\n                        chracterMap.put(&#39;e&#39;, chracterMap.get(&#39;e&#39;) - chracterMap.get(&#39;r&#39;) - chracterMap.get(&#39;r&#39;));\r\n                    }\r\n        \r\n                    if (chracterMap.get(&#39;i&#39;) &gt; 0) {\r\n        \r\n                        for (int i = 0; i &lt; chracterMap.get(&#39;i&#39;) ;i++) {\r\n                            number9 = number9 + Integer.toString(9);\r\n                        }\r\n        \r\n                    }\r\n        \r\n                    if(chracterMap.get(&#39;s&#39;) &gt; 0) {\r\n                        for (int i = 0; i &lt; chracterMap.get(&#39;s&#39;) ;i++) {\r\n                            number9 = number9 + Integer.toString(7);\r\n                        }\r\n                    }\r\n        \r\n                    if(chracterMap.get(&#39;o&#39;) &gt; 0) {\r\n                        for (int i = 0; i &lt; chracterMap.get(&#39;o&#39;) ;i++) {\r\n                            number1 = number1 + Integer.toString(1);\r\n                        }\r\n                    }\r\n        \r\n                    System.out.println(number0 + number1+ number2 + number3 + number4+ number5 + number6 + number7 + number8+ number9);   \r\n                }    \r\n            }\r\n        }\r\n\r\n","title":"Extract numbers from a jumbled string","body":"<p>I did not use any algorithms but rather used uniqueness in each number in word format and it worked like a charm for many test cases I ran against.</p>\n<p>The idea was 0 - zero is unique as it has character z and no other number has z in them\n2 - has w\n4 - has u\n6 - has x</p>\n<p>Below is the code</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.nio.charset.StandardCharsets;\nimport java.util.*;\n\n    public class Yash {\n    \n        /**\n         * Iterate through each line of input.\n         */\n        public static void main(String[] args) throws IOException {\n            InputStreamReader reader = new InputStreamReader(System.in, StandardCharsets.UTF_8);\n            BufferedReader in = new BufferedReader(reader);\n            String line;\n            String number0 = &quot;&quot;;\n            String number1 = &quot;&quot;;\n            String number2 = &quot;&quot;;\n            String number3 = &quot;&quot;;\n            String number4 = &quot;&quot;;\n            String number5 = &quot;&quot;;\n            String number6 = &quot;&quot;;\n            String number7 = &quot;&quot;;\n            String number8 = &quot;&quot;;\n            String number9 = &quot;&quot;;\n            while ((line = in.readLine()) != null) {\n                Map&lt;Character, Integer&gt; chracterMap = new HashMap&lt;&gt;();\n                for (int i = 0; i &lt; line.length(); i++) {\n                    if (chracterMap.get(line.charAt(i)) == null) {\n                        chracterMap.put(line.charAt(i), 1);\n                    } else {\n                        chracterMap.put(line.charAt(i), chracterMap.get(line.charAt(i)) + 1);\n                    }\n                }\n    \n                if (chracterMap.get('z') &gt; 0) {\n    \n                    for (int i = 0; i &lt; chracterMap.get('z') ;i++) {\n                        number0 = number0 + Integer.toString(0);\n                    }\n                    chracterMap.put('e', chracterMap.get('e') - chracterMap.get('z'));\n                    chracterMap.put('r', chracterMap.get('r') - chracterMap.get('z'));\n                    chracterMap.put('o', chracterMap.get('o') - chracterMap.get('z'));\n                }\n    \n                if (chracterMap.get('w') &gt; 0) {\n    \n                    for (int i = 0; i &lt; chracterMap.get('w') ;i++) {\n                        number2 = number2 + Integer.toString(2);\n                    }\n                    chracterMap.put('t', chracterMap.get('t') - chracterMap.get('w'));\n                    chracterMap.put('o', chracterMap.get('o') - chracterMap.get('w'));\n                }\n    \n                if (chracterMap.get('u') &gt; 0) {\n    \n                    for (int i = 0; i &lt; chracterMap.get('u') ;i++) {\n                        number4 = number4 + Integer.toString(4);\n                    }\n                    chracterMap.put('f', chracterMap.get('f') - chracterMap.get('u'));\n                    chracterMap.put('o', chracterMap.get('o') - chracterMap.get('u'));\n                    chracterMap.put('r', chracterMap.get('r') - chracterMap.get('u'));\n                }\n    \n                if (chracterMap.get('x') &gt; 0) {\n    \n                    for (int i = 0; i &lt; chracterMap.get('x') ;i++) {\n                        number6 = number6 + Integer.toString(6);\n                    }\n                    chracterMap.put('s', chracterMap.get('s') - chracterMap.get('x'));\n                    chracterMap.put('i', chracterMap.get('i') - chracterMap.get('x'));\n                }\n    \n                if (chracterMap.get('g') &gt; 0) {\n    \n                    for (int i = 0; i &lt; chracterMap.get('g') ;i++) {\n                        number8 = number8 + Integer.toString(8);\n                    }\n                    chracterMap.put('e', chracterMap.get('e') - chracterMap.get('g'));\n                    chracterMap.put('i', chracterMap.get('i') - chracterMap.get('g'));\n                    chracterMap.put('h', chracterMap.get('h') - chracterMap.get('g'));\n                    chracterMap.put('t', chracterMap.get('t') - chracterMap.get('g'));\n                }\n    \n                if (chracterMap.get('f') &gt; 0) {\n    \n                    for (int i = 0; i &lt; chracterMap.get('f') ;i++) {\n                        number5 = number5 + Integer.toString(5);\n                    }\n                    chracterMap.put('v', chracterMap.get('v') - chracterMap.get('f'));\n                    chracterMap.put('i', chracterMap.get('i') - chracterMap.get('f'));\n                    chracterMap.put('e', chracterMap.get('e') - chracterMap.get('f'));\n                }\n    \n                if (chracterMap.get('r') &gt; 0) {\n    \n                    for (int i = 0; i &lt; chracterMap.get('r') ;i++) {\n                        number3 = number3 + Integer.toString(3);\n                    }\n                    chracterMap.put('t', chracterMap.get('t') - chracterMap.get('r'));\n                    chracterMap.put('h', chracterMap.get('h') - chracterMap.get('r'));\n                    chracterMap.put('e', chracterMap.get('e') - chracterMap.get('r') - chracterMap.get('r'));\n                }\n    \n                if (chracterMap.get('i') &gt; 0) {\n    \n                    for (int i = 0; i &lt; chracterMap.get('i') ;i++) {\n                        number9 = number9 + Integer.toString(9);\n                    }\n    \n                }\n    \n                if(chracterMap.get('s') &gt; 0) {\n                    for (int i = 0; i &lt; chracterMap.get('s') ;i++) {\n                        number9 = number9 + Integer.toString(7);\n                    }\n                }\n    \n                if(chracterMap.get('o') &gt; 0) {\n                    for (int i = 0; i &lt; chracterMap.get('o') ;i++) {\n                        number1 = number1 + Integer.toString(1);\n                    }\n                }\n    \n                System.out.println(number0 + number1+ number2 + number3 + number4+ number5 + number6 + number7 + number8+ number9);   \n            }    \n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1763012,"reputation":1801,"user_id":1609570,"accept_rate":90,"display_name":"Arjun Sunil Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664078303,"creation_date":1637101860,"answer_id":69996814,"question_id":49484860,"body_markdown":"You can solve this in two possible ways:\r\n\r\n## 1. Backtracking (ie Brute Force): Not Optimal ##\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Problem2 {\r\n\r\n    private final String[] numStrings = {&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;};\r\n    private List&lt;Integer&gt; result;\r\n\r\n    public static void main(String[] args) {\r\n        String input = &quot;notonssvifuineexoonnehefoeengneineiefevevsfteuiifvoteuoiitegfsogneniohnfifxrevunrrewwneurenteeisoionvinhnr&quot;;\r\n\r\n        Problem2 problem1 = new Problem2();\r\n        System.out.println(problem1.solveBruteForce(input));\r\n    }\r\n\r\n\r\n    public List&lt;Integer&gt; solveBruteForce(String jumbledNums) {\r\n        List&lt;Character&gt; currCharList = jumbledNums.chars().mapToObj(c -&gt; (char) c).collect(Collectors.toList());\r\n        List&lt;Integer&gt; currPath = new ArrayList&lt;&gt;();\r\n\r\n        backtrack(currCharList, currPath); // Depends on your requirement\r\n\r\n        Collections.sort(result);\r\n        return result;\r\n    }\r\n\r\n    private void backtrack(List&lt;Character&gt; currentCharList, List&lt;Integer&gt; path) {\r\n\r\n        if (currentCharList.size() == 0) { //base condition\r\n            result = new ArrayList&lt;&gt;(path);\r\n            return;\r\n        }\r\n\r\n\r\n        for (int i = 0; i &lt;= 9; i++) { // find all the possible next states\r\n            String numString = numStrings[i];\r\n            if (contains(currentCharList, numString)) { // if currNum String is present in the input String\r\n                // 1. Remove\r\n                for (char numChar : numString.toCharArray())\r\n                    currentCharList.remove(Character.valueOf(numChar));\r\n\r\n                path.add(i);\r\n\r\n                // 2. Backtrack\r\n                backtrack(currentCharList, path);\r\n\r\n                // 3. Add it back\r\n                for (char numChar : numString.toCharArray())\r\n                    currentCharList.add(numChar);\r\n                path.remove(path.size() - 1);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private boolean contains(List&lt;Character&gt; currentCharList, String numString) {\r\n\r\n        for (Character numChar : numString.toCharArray()) {\r\n            List&lt;Character&gt; stringList = numString.chars().mapToObj(c -&gt; (char) c).collect(Collectors.toList());\r\n\r\n            int freqOfCharWithinNumString = Collections.frequency(stringList, numChar);\r\n            int freqOfCharWithinCurrentCharList = Collections.frequency(currentCharList, numChar);\r\n\r\n            if (freqOfCharWithinCurrentCharList &lt; freqOfCharWithinNumString) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n}\r\n```\r\n## 2. The better optimal solution is to identify the pattern within the numbers. ##\r\n\r\n\r\n**Step 1**: Let&#39;s enumerate all the number strings.\r\n\r\n```text\r\n+----------------+\r\n| Number Strings |\r\n+----------------+\r\n| zero           |\r\n| one            |\r\n| two            |\r\n| three          |\r\n| four           |\r\n| five           |\r\n| six            |\r\n| seven          |\r\n| eight          |\r\n| nine           |\r\n+----------------+\r\n```\r\n\r\n**Step 2**: We see that for even numbers, we have a unique character in each of them.\r\n\r\n```text\r\n+----------------------+------------------+\r\n| Even Number Strings  | Unique Character |\r\n+----------------------+------------------+\r\n| zero                 | z                |\r\n| two                  | w                |\r\n| four                 | u                |\r\n| six                  | x                |\r\n| eight                | g                |\r\n+----------------------+------------------+\r\n```\r\nUsing the frequency of z, we can find the count of &quot;zero&quot; in the String.\r\n\r\nUsing these unique characters, we can `deterministically` find the frequency of the even numbers.\r\n\r\n**Step 3**:  Now, for odd numbers, we don&#39;t have such unique characters. This is when we use even number&#39;s frequency determinism to deduce odd numbers frequency.\r\n\r\n```text\r\n+---------------------+-----------------------------+\r\n| Even(Deterministic) | Odd (Not yet Deterministic) |\r\n+---------------------+-----------------------------+\r\n| zero                | one                         |\r\n| two                 | three                       |\r\n| four                | five                        |\r\n| six                 | seven                       |\r\n| eight               | nine                        |\r\n+---------------------+-----------------------------+\r\n```\r\n\r\nLet&#39;s take the number &quot;one&quot;. The character `o` is present in  &quot;one&quot; from the `odd set` and &quot;zero&quot;, &quot;two&quot; &amp; &quot;four&quot; from the `even set`.\r\n \r\nLet&#39;s maintain one&#39;s frequency based on the number of `o&#39;s` present in the String.\r\n\r\nNote that even set is already deterministic. \r\n\r\nSo, we can deduce one&#39;s frequency deterministically, by removing the duplicate frequency of &quot;zero&quot;, &quot;two&quot; &amp; &quot;four&quot;.\r\n\r\n```java\r\nfreq[1] = freq[1] - (freq[0] + freq[2] + freq[4]);\r\n```\r\n\r\nWe can extend this to the rest of the four numbers in the `odd set`.\r\n\r\n**Step 4**: Talk is cheap, show me the code.\r\n\r\n```java\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Problem2 {\r\n\r\n\r\n    private final String[] numStrings = {&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;};\r\n\r\n    public static void main(String[] args) {\r\n        String input = &quot;notonssvifuineexoonnehefoeengneineiefevevsfteuiifvoteuoiitegfsogneniohnfifxrevunrrewwneurenteeisoionvinhnr&quot;;\r\n\r\n        Problem2 problem1 = new Problem2();\r\n        System.out.println(problem1.solveOptimal(input));\r\n    }\r\n\r\n    public List&lt;Integer&gt; solveOptimal(String jumbledNums) {\r\n\r\n        int[] freq = new int[10];\r\n\r\n        for (char ch : jumbledNums.toCharArray()) {\r\n            ch = Character.toLowerCase(ch);\r\n            \r\n            //direct answer, unique characters only present in single numeral\r\n            //doing this is important, order matters\r\n            if (ch == &#39;z&#39;) freq[0]++; // only present in ZERO \r\n            if (ch == &#39;w&#39;) freq[2]++; // only present in TWO \r\n            if (ch == &#39;u&#39;) freq[4]++; // only present in FOUR \r\n            if (ch == &#39;x&#39;) freq[6]++; // only present in SIX \r\n            if (ch == &#39;g&#39;) freq[8]++; // only present in EIGHT \r\n\r\n            //indirect answer, only update for numbers which are not yet determined\r\n            if (ch == &#39;o&#39;) freq[1]++; // present in ONE, (ZERO, TWO, FOUR)\r\n            if (ch == &#39;h&#39;) freq[3]++; // present in EIGHT, (THREE) \r\n            if (ch == &#39;f&#39;) freq[5]++; // present in FIVE, (FOUR)\r\n            if (ch == &#39;s&#39;) freq[7]++; // present in SEVEN, (SIX)\r\n            if (ch == &#39;i&#39;) freq[9]++; // present in NINE, {FIVE, SIX, EIGHT}\r\n        }\r\n        \r\n        // Count is indirect numbers that can be found by subtracting freq of related numbers which are already found\r\n        freq[1] -= (freq[0] + freq[2] + freq[4]);\r\n        freq[3] -= freq[8];\r\n        freq[5] -= (freq[4]);\r\n        freq[7] -= freq[6];\r\n        freq[9] -= (freq[5] + freq[6] + freq[8]);\r\n\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt;= 9; i++) {\r\n            for (int j = 1; j &lt;= freq[i]; j++) {\r\n                result.add(i);\r\n            }\r\n        }\r\n\r\n\r\n        // Quick Validation Logic\r\n        int ansCount = 0;\r\n        for (int entry : result) {\r\n            ansCount += numStrings[entry].length();\r\n        }\r\n        System.out.println(&quot;Answer Count &quot; + ansCount + &quot; Question Count &quot; + jumbledNums.length());\r\n        System.out.println(&quot;Answer is correct &quot; + (ansCount == jumbledNums.length()));\r\n\r\n\r\n        return result;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nReference: [Geek4Geeks](https://www.geeksforgeeks.org/digits-whose-alphabetic-representations-are-jumbled-in-a-given-string/)","title":"Extract numbers from a jumbled string","body":"<p>You can solve this in two possible ways:</p>\n<h2>1. Backtracking (ie Brute Force): Not Optimal</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Problem2 {\n\n    private final String[] numStrings = {&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;};\n    private List&lt;Integer&gt; result;\n\n    public static void main(String[] args) {\n        String input = &quot;notonssvifuineexoonnehefoeengneineiefevevsfteuiifvoteuoiitegfsogneniohnfifxrevunrrewwneurenteeisoionvinhnr&quot;;\n\n        Problem2 problem1 = new Problem2();\n        System.out.println(problem1.solveBruteForce(input));\n    }\n\n\n    public List&lt;Integer&gt; solveBruteForce(String jumbledNums) {\n        List&lt;Character&gt; currCharList = jumbledNums.chars().mapToObj(c -&gt; (char) c).collect(Collectors.toList());\n        List&lt;Integer&gt; currPath = new ArrayList&lt;&gt;();\n\n        backtrack(currCharList, currPath); // Depends on your requirement\n\n        Collections.sort(result);\n        return result;\n    }\n\n    private void backtrack(List&lt;Character&gt; currentCharList, List&lt;Integer&gt; path) {\n\n        if (currentCharList.size() == 0) { //base condition\n            result = new ArrayList&lt;&gt;(path);\n            return;\n        }\n\n\n        for (int i = 0; i &lt;= 9; i++) { // find all the possible next states\n            String numString = numStrings[i];\n            if (contains(currentCharList, numString)) { // if currNum String is present in the input String\n                // 1. Remove\n                for (char numChar : numString.toCharArray())\n                    currentCharList.remove(Character.valueOf(numChar));\n\n                path.add(i);\n\n                // 2. Backtrack\n                backtrack(currentCharList, path);\n\n                // 3. Add it back\n                for (char numChar : numString.toCharArray())\n                    currentCharList.add(numChar);\n                path.remove(path.size() - 1);\n            }\n        }\n\n    }\n\n    private boolean contains(List&lt;Character&gt; currentCharList, String numString) {\n\n        for (Character numChar : numString.toCharArray()) {\n            List&lt;Character&gt; stringList = numString.chars().mapToObj(c -&gt; (char) c).collect(Collectors.toList());\n\n            int freqOfCharWithinNumString = Collections.frequency(stringList, numChar);\n            int freqOfCharWithinCurrentCharList = Collections.frequency(currentCharList, numChar);\n\n            if (freqOfCharWithinCurrentCharList &lt; freqOfCharWithinNumString) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n}\n</code></pre>\n<h2>2. The better optimal solution is to identify the pattern within the numbers.</h2>\n<p><strong>Step 1</strong>: Let's enumerate all the number strings.</p>\n<pre><code>+----------------+\n| Number Strings |\n+----------------+\n| zero           |\n| one            |\n| two            |\n| three          |\n| four           |\n| five           |\n| six            |\n| seven          |\n| eight          |\n| nine           |\n+----------------+\n</code></pre>\n<p><strong>Step 2</strong>: We see that for even numbers, we have a unique character in each of them.</p>\n<pre><code>+----------------------+------------------+\n| Even Number Strings  | Unique Character |\n+----------------------+------------------+\n| zero                 | z                |\n| two                  | w                |\n| four                 | u                |\n| six                  | x                |\n| eight                | g                |\n+----------------------+------------------+\n</code></pre>\n<p>Using the frequency of z, we can find the count of &quot;zero&quot; in the String.</p>\n<p>Using these unique characters, we can <code>deterministically</code> find the frequency of the even numbers.</p>\n<p><strong>Step 3</strong>:  Now, for odd numbers, we don't have such unique characters. This is when we use even number's frequency determinism to deduce odd numbers frequency.</p>\n<pre><code>+---------------------+-----------------------------+\n| Even(Deterministic) | Odd (Not yet Deterministic) |\n+---------------------+-----------------------------+\n| zero                | one                         |\n| two                 | three                       |\n| four                | five                        |\n| six                 | seven                       |\n| eight               | nine                        |\n+---------------------+-----------------------------+\n</code></pre>\n<p>Let's take the number &quot;one&quot;. The character <code>o</code> is present in  &quot;one&quot; from the <code>odd set</code> and &quot;zero&quot;, &quot;two&quot; &amp; &quot;four&quot; from the <code>even set</code>.</p>\n<p>Let's maintain one's frequency based on the number of <code>o's</code> present in the String.</p>\n<p>Note that even set is already deterministic.</p>\n<p>So, we can deduce one's frequency deterministically, by removing the duplicate frequency of &quot;zero&quot;, &quot;two&quot; &amp; &quot;four&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>freq[1] = freq[1] - (freq[0] + freq[2] + freq[4]);\n</code></pre>\n<p>We can extend this to the rest of the four numbers in the <code>odd set</code>.</p>\n<p><strong>Step 4</strong>: Talk is cheap, show me the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Problem2 {\n\n\n    private final String[] numStrings = {&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;};\n\n    public static void main(String[] args) {\n        String input = &quot;notonssvifuineexoonnehefoeengneineiefevevsfteuiifvoteuoiitegfsogneniohnfifxrevunrrewwneurenteeisoionvinhnr&quot;;\n\n        Problem2 problem1 = new Problem2();\n        System.out.println(problem1.solveOptimal(input));\n    }\n\n    public List&lt;Integer&gt; solveOptimal(String jumbledNums) {\n\n        int[] freq = new int[10];\n\n        for (char ch : jumbledNums.toCharArray()) {\n            ch = Character.toLowerCase(ch);\n            \n            //direct answer, unique characters only present in single numeral\n            //doing this is important, order matters\n            if (ch == 'z') freq[0]++; // only present in ZERO \n            if (ch == 'w') freq[2]++; // only present in TWO \n            if (ch == 'u') freq[4]++; // only present in FOUR \n            if (ch == 'x') freq[6]++; // only present in SIX \n            if (ch == 'g') freq[8]++; // only present in EIGHT \n\n            //indirect answer, only update for numbers which are not yet determined\n            if (ch == 'o') freq[1]++; // present in ONE, (ZERO, TWO, FOUR)\n            if (ch == 'h') freq[3]++; // present in EIGHT, (THREE) \n            if (ch == 'f') freq[5]++; // present in FIVE, (FOUR)\n            if (ch == 's') freq[7]++; // present in SEVEN, (SIX)\n            if (ch == 'i') freq[9]++; // present in NINE, {FIVE, SIX, EIGHT}\n        }\n        \n        // Count is indirect numbers that can be found by subtracting freq of related numbers which are already found\n        freq[1] -= (freq[0] + freq[2] + freq[4]);\n        freq[3] -= freq[8];\n        freq[5] -= (freq[4]);\n        freq[7] -= freq[6];\n        freq[9] -= (freq[5] + freq[6] + freq[8]);\n\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt;= 9; i++) {\n            for (int j = 1; j &lt;= freq[i]; j++) {\n                result.add(i);\n            }\n        }\n\n\n        // Quick Validation Logic\n        int ansCount = 0;\n        for (int entry : result) {\n            ansCount += numStrings[entry].length();\n        }\n        System.out.println(&quot;Answer Count &quot; + ansCount + &quot; Question Count &quot; + jumbledNums.length());\n        System.out.println(&quot;Answer is correct &quot; + (ansCount == jumbledNums.length()));\n\n\n        return result;\n    }\n\n}\n\n</code></pre>\n<p>Reference: <a href=\"https://www.geeksforgeeks.org/digits-whose-alphabetic-representations-are-jumbled-in-a-given-string/\" rel=\"nofollow noreferrer\">Geek4Geeks</a></p>\n"}],"owner":{"account_id":11324217,"reputation":53,"user_id":8932908,"accept_rate":20,"display_name":"Amr4AOT"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49489544,"answer_count":5,"score":0,"last_activity_date":1664078303,"creation_date":1522044062,"question_id":49484860,"body_markdown":"I am given a jumbled string : **`&quot;OTNWEHRE&quot;`**\r\n\r\nNow from this I have to extract the words &quot;ONE&quot; &quot;TWO&quot; &quot;THREE&quot; and print them in the numeric form **`1 2 3`**\r\n\r\nSo, my approach was to store all the words &quot;ZERO,ONE,TWO,THREE,....&quot; in a character array first and then run a loop through the string input, and compare the string elements with the character array(`O&#39; of string i/p with characters of array [&#39;Z&#39;,&#39;E&#39;,&#39;R&#39;..]`). If the character matches(`&#39;O&#39; of string input will match at &#39;O&#39; of ONE`) I would then increment through the characters in the char-array(`after O matches loop through &#39;N&#39; then &#39;E&#39;then &#39;,&#39;`) and check if these elements are present in the string input. If the characters match till the next `&#39;,&#39;` I will print the number.\r\n\r\nHowever there is a problem with my algorithm, digits like four and five or six and seven start with the same character but are followed by different characters.\r\n\r\nHere&#39;s my code anyway\r\n\r\n    public static void main(String args[])\r\n\t{\r\n\t\tint i,j,a;\r\n\t\tString wrd=&quot;&quot;;\r\n\t\tchecknum o = new checknum();\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tString s =sc.nextLine();\r\n\t\tString z= &quot;zero,one,two,three,four,five,six,seven,eight,nine,&quot;;\r\n\t\tchar[] c = z.toCharArray();\r\n\t\tfor(i=0;i&lt;s.length();i++)\r\n\t\t{\r\n           wrd =&quot;&quot;;\r\n\t\t\tfor(j=0;j&lt;c.length;j++)\r\n\t\t\t{\r\n\t\t\t\tif(s.charAt(i)==c[j])\r\n\t\t\t\t{\r\n\t\t\t\t\twrd = wrd+c[j];\r\n\t\t\t\t\twhile(c[j] != &#39;,&#39;)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\tif(s.indexOf(c[j])&gt;=0)\r\n\t\t\t\t\t\t\twrd = wrd+c[j];\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\twrd=&quot;&quot;;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(wrd!=null){\r\n\t\t\t\t\t\ta=o.checknumber(wrd);\r\n\t\t\t\t\t\tSystem.out.println(a);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n**PS**   \r\nif my approach is completely wrong and there&#39;s any other way i should go about this problem please let me know.","title":"Extract numbers from a jumbled string","body":"<p>I am given a jumbled string : <strong><code>\"OTNWEHRE\"</code></strong></p>\n\n<p>Now from this I have to extract the words \"ONE\" \"TWO\" \"THREE\" and print them in the numeric form <strong><code>1 2 3</code></strong></p>\n\n<p>So, my approach was to store all the words \"ZERO,ONE,TWO,THREE,....\" in a character array first and then run a loop through the string input, and compare the string elements with the character array(<code>O' of string i/p with characters of array ['Z','E','R'..]</code>). If the character matches(<code>'O' of string input will match at 'O' of ONE</code>) I would then increment through the characters in the char-array(<code>after O matches loop through 'N' then 'E'then ','</code>) and check if these elements are present in the string input. If the characters match till the next <code>','</code> I will print the number.</p>\n\n<p>However there is a problem with my algorithm, digits like four and five or six and seven start with the same character but are followed by different characters.</p>\n\n<p>Here's my code anyway</p>\n\n<pre><code>public static void main(String args[])\n{\n    int i,j,a;\n    String wrd=\"\";\n    checknum o = new checknum();\n    Scanner sc = new Scanner(System.in);\n    String s =sc.nextLine();\n    String z= \"zero,one,two,three,four,five,six,seven,eight,nine,\";\n    char[] c = z.toCharArray();\n    for(i=0;i&lt;s.length();i++)\n    {\n       wrd =\"\";\n        for(j=0;j&lt;c.length;j++)\n        {\n            if(s.charAt(i)==c[j])\n            {\n                wrd = wrd+c[j];\n                while(c[j] != ',')\n                {\n                    j++;\n                    if(s.indexOf(c[j])&gt;=0)\n                        wrd = wrd+c[j];\n                    else{\n                        wrd=\"\";\n                        break;\n                    }\n                }\n                if(wrd!=null){\n                    a=o.checknumber(wrd);\n                    System.out.println(a);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>PS</strong><br>\nif my approach is completely wrong and there's any other way i should go about this problem please let me know.</p>\n"},{"tags":["java","generics","coding-style"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1663945554,"post_id":73829583,"comment_id":130366152,"body_markdown":"Yes, and those rules are established by the Java compiler.  If you get a compiler warning about an unsafe or unchecked cast, you need to pass the class as an argument, and replace the unsafe cast with a call to the [cast](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#cast(java.lang.Object)) method.","body":"Yes, and those rules are established by the Java compiler.  If you get a compiler warning about an unsafe or unchecked cast, you need to pass the class as an argument, and replace the unsafe cast with a call to the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#cast(java.lang.Object)\" rel=\"nofollow noreferrer\">cast</a> method."}],"owner":{"account_id":23135617,"reputation":21,"user_id":17239893,"display_name":"Isengrym"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1664077895,"creation_date":1663944770,"question_id":73829583,"body_markdown":"I&#39;m trying to pass return type to a generic method but I don&#39;t know whether such variant is considered to be ok or not:\r\n\r\n```\r\nRequestUtils.&lt;String&gt;getAttributeFromSession(AttributeName.SUBMISSION_TOKEN, request))\r\n```\r\nI was thinking about passing it as a parameter, but I feel like method invocation gets more hideous and less straightforward with every new argument passed with it:\r\n```\r\nRequestUtils.getAttributeFromSession(AttributeName.SUBMISSION_TOKEN, request, String.class))\r\n```\r\nThe first one looks much clearer to me, but I guess it&#39;s subjective. **Are there any established coding style rules on such a case?** ","title":"Code-style question about passing return type to the generic method","body":"<p>I'm trying to pass return type to a generic method but I don't know whether such variant is considered to be ok or not:</p>\n<pre><code>RequestUtils.&lt;String&gt;getAttributeFromSession(AttributeName.SUBMISSION_TOKEN, request))\n</code></pre>\n<p>I was thinking about passing it as a parameter, but I feel like method invocation gets more hideous and less straightforward with every new argument passed with it:</p>\n<pre><code>RequestUtils.getAttributeFromSession(AttributeName.SUBMISSION_TOKEN, request, String.class))\n</code></pre>\n<p>The first one looks much clearer to me, but I guess it's subjective. <strong>Are there any established coding style rules on such a case?</strong></p>\n"},{"tags":["java","android","cordova"],"comments":[{"owner":{"account_id":153482,"reputation":5376,"user_id":368762,"accept_rate":38,"display_name":"MBillau"},"score":0,"creation_date":1385646961,"post_id":20266951,"comment_id":30233980,"body_markdown":"How did you install Cordova? Were you connected to the internet  when you ran the commands?  Can you try again with the `-d` flag in all of your commands and post what comes out?","body":"How did you install Cordova? Were you connected to the internet  when you ran the commands?  Can you try again with the <code>-d</code> flag in all of your commands and post what comes out?"}],"answers":[{"tags":[],"owner":{"account_id":175633,"reputation":3421,"user_id":405788,"accept_rate":36,"display_name":"Michael Schmidt"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1385834244,"creation_date":1385834244,"answer_id":20303671,"question_id":20266951,"body_markdown":"The .java file with the Activity extending the CordovaActivity must be exactly in com.example.app - as specified in the config.xml&#39;s &lt;widget&gt; id=&quot;com.example.app&quot; tag.\r\n\r\nThis changed in 3.2.0 - filed a bug report: https://issues.apache.org/jira/browse/CB-5515","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>The .java file with the Activity extending the CordovaActivity must be exactly in com.example.app - as specified in the config.xml's  id=\"com.example.app\" tag.</p>\n\n<p>This changed in 3.2.0 - filed a bug report: <a href=\"https://issues.apache.org/jira/browse/CB-5515\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/CB-5515</a></p>\n"},{"tags":[],"owner":{"account_id":3687699,"reputation":161,"user_id":3071113,"display_name":"hyperizer"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1386262606,"creation_date":1386262606,"answer_id":20406012,"question_id":20266951,"body_markdown":"In Eclipse or another editor, go into the .java source file under platforms/android/src/&lt;package&gt; and make sure the class extends CordovaActivity (it may have previously extended DroidGap instead).","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>In Eclipse or another editor, go into the .java source file under platforms/android/src/ and make sure the class extends CordovaActivity (it may have previously extended DroidGap instead).</p>\n"},{"tags":[],"owner":{"account_id":2643346,"reputation":331,"user_id":2286556,"display_name":"Cornelius Parkin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1386790874,"creation_date":1386790874,"answer_id":20528449,"question_id":20266951,"body_markdown":"Just on a related topic regarding **PhoneGap 3.2** causing the same error, chances are that you probably messed up the app when configuring and trying to get it running initially\r\n\r\nWhat worked for me was to remove the generated android platform files and just run the RUN command again. So from your PhoneGap project&#39;s home directory, do the following\r\n\r\n    cd platforms\r\n    sudo rm -rf android\r\n    cd ..\r\n    sudo phonegap local run android --emulator\r\n\r\nI am working on a Macbook Pro with OSX version 10.9\r\n\r\nHope this helps someone!","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>Just on a related topic regarding <strong>PhoneGap 3.2</strong> causing the same error, chances are that you probably messed up the app when configuring and trying to get it running initially</p>\n\n<p>What worked for me was to remove the generated android platform files and just run the RUN command again. So from your PhoneGap project's home directory, do the following</p>\n\n<pre><code>cd platforms\nsudo rm -rf android\ncd ..\nsudo phonegap local run android --emulator\n</code></pre>\n\n<p>I am working on a Macbook Pro with OSX version 10.9</p>\n\n<p>Hope this helps someone!</p>\n"},{"tags":[],"owner":{"account_id":3227350,"reputation":760,"user_id":2723387,"display_name":"JDawgg"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1394495858,"creation_date":1394495858,"answer_id":22313802,"question_id":20266951,"body_markdown":"I had the same issue (albeit on Ubuntu) and tried Hyperizer&#39;s answer, which should have worked... but to no effect for me. Note I had the error after upgrading cordova (from 3.0.9 to 3.4.0-0.1.3), and so my generated platforms folders were out of sync with the latest cordova version.\r\n\r\nI found the cleanest thing to do (and this worked for me) is to remove your /platforms/android directory (as per cornelius&#39; answer... but my focus is cordova), and then recreate with cordova so you know everything is up to date and inline with the current cordova version.\r\n\r\n    cd platforms\r\n    rm -rf android\r\n    cd ..\r\n    cordova platform add android\r\n\r\nYour android folder is recreated, and now try building and running again.\r\n\r\n    cordova build android\r\n    cordova emulate android\r\n\r\nThe downside of blowing away and recreating the android platform folder is that you will need to re-apply any customisations you may have made to the android source...(I hadn&#39;t had to thankfully) but then you should be able to pull this from your git etc. At least now you are working on a clean and tidy up to date build.","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>I had the same issue (albeit on Ubuntu) and tried Hyperizer's answer, which should have worked... but to no effect for me. Note I had the error after upgrading cordova (from 3.0.9 to 3.4.0-0.1.3), and so my generated platforms folders were out of sync with the latest cordova version.</p>\n\n<p>I found the cleanest thing to do (and this worked for me) is to remove your /platforms/android directory (as per cornelius' answer... but my focus is cordova), and then recreate with cordova so you know everything is up to date and inline with the current cordova version.</p>\n\n<pre><code>cd platforms\nrm -rf android\ncd ..\ncordova platform add android\n</code></pre>\n\n<p>Your android folder is recreated, and now try building and running again.</p>\n\n<pre><code>cordova build android\ncordova emulate android\n</code></pre>\n\n<p>The downside of blowing away and recreating the android platform folder is that you will need to re-apply any customisations you may have made to the android source...(I hadn't had to thankfully) but then you should be able to pull this from your git etc. At least now you are working on a clean and tidy up to date build.</p>\n"},{"tags":[],"owner":{"account_id":2029856,"reputation":3085,"user_id":1813870,"accept_rate":67,"display_name":"TechnoTim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463439416,"creation_date":1463439416,"answer_id":37264519,"question_id":20266951,"body_markdown":"This can happen if your `id` and `android-packageName` in `config.xml` do not match.\r\n\r\n``` android-packageName=&quot;com.example.app&quot; id=&quot;com.example.app&quot;```","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>This can happen if your <code>id</code> and <code>android-packageName</code> in <code>config.xml</code> do not match.</p>\n\n<p><code>android-packageName=\"com.example.app\" id=\"com.example.app\"</code></p>\n"},{"tags":[],"owner":{"account_id":7009203,"reputation":1391,"user_id":5372700,"display_name":"Sundar Ram"},"down_vote_count":0,"up_vote_count":133,"is_accepted":false,"score":133,"last_activity_date":1620167270,"creation_date":1466790035,"answer_id":38019221,"question_id":20266951,"body_markdown":"I had the same error when I cloned my repository from another project. I solved it by removing the platforms and adding it again.\r\n\r\nremove : `cordova platform rm android`  \r\nadd : `cordova platform add android`","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>I had the same error when I cloned my repository from another project. I solved it by removing the platforms and adding it again.</p>\n<p>remove : <code>cordova platform rm android</code><br />\nadd : <code>cordova platform add android</code></p>\n"},{"tags":[],"owner":{"account_id":559207,"reputation":358,"user_id":921549,"display_name":"Bouncing Bit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467373468,"creation_date":1467373468,"answer_id":38144614,"question_id":20266951,"body_markdown":"I stumbled upon a &quot;solution&quot; for anyone who uses a Framework that &quot;hides&quot; the extending of the CordovaActivity, i.e. the MainActivity looks like this:\r\n\r\n    public class MainActivity extends GDCordovaActivity {...}\r\nwhere *GDCordovaActivy* is your Framework Activity extending CordovaActivity.\r\n\r\nSimply add a &quot;foo.java&quot; File to the project only containing a comment like this:\r\n\r\n    /** extends CordovaActivity */\r\nAs the cordova framework parses the file and doesn&#39;t recognize the comments you will be able to call `cordova android prepare` etc. without any errors.\r\n","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>I stumbled upon a \"solution\" for anyone who uses a Framework that \"hides\" the extending of the CordovaActivity, i.e. the MainActivity looks like this:</p>\n\n<pre><code>public class MainActivity extends GDCordovaActivity {...}\n</code></pre>\n\n<p>where <em>GDCordovaActivy</em> is your Framework Activity extending CordovaActivity.</p>\n\n<p>Simply add a \"foo.java\" File to the project only containing a comment like this:</p>\n\n<pre><code>/** extends CordovaActivity */\n</code></pre>\n\n<p>As the cordova framework parses the file and doesn't recognize the comments you will be able to call <code>cordova android prepare</code> etc. without any errors.</p>\n"},{"tags":[],"owner":{"account_id":6684839,"reputation":261,"user_id":5156503,"display_name":"Christian Olatomiwa"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1607418374,"creation_date":1474624014,"answer_id":39657706,"question_id":20266951,"body_markdown":"All you need to do is remove platform `cordova platform rm android` and re-add platform by typing `cordova platform add android`, and the error goes away","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>All you need to do is remove platform <code>cordova platform rm android</code> and re-add platform by typing <code>cordova platform add android</code>, and the error goes away</p>\n"},{"tags":[],"owner":{"account_id":5470359,"reputation":2295,"user_id":4349919,"accept_rate":55,"display_name":"Anthony De Smet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496054919,"creation_date":1496054919,"answer_id":44240637,"question_id":20266951,"body_markdown":"I had too many customisations and did not want to recreate the platforms.\r\n\r\nSolved this by changing the `widget id` in `defaults.xml` to the new package name (I changed the default `io.hellocordova` into my own package structure)","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>I had too many customisations and did not want to recreate the platforms.</p>\n\n<p>Solved this by changing the <code>widget id</code> in <code>defaults.xml</code> to the new package name (I changed the default <code>io.hellocordova</code> into my own package structure)</p>\n"},{"tags":[],"owner":{"account_id":7249917,"reputation":91,"user_id":5530618,"display_name":"hiDemo Studio"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1512902611,"creation_date":1512902611,"answer_id":47737999,"question_id":20266951,"body_markdown":"This error happened when I change the package id name from the config.xml, such as io.cordova..etc to another package name, so I solved it by removing the platform of android and changed version info and package name from config file, and run command android cordova platform add android ","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>This error happened when I change the package id name from the config.xml, such as io.cordova..etc to another package name, so I solved it by removing the platform of android and changed version info and package name from config file, and run command android cordova platform add android </p>\n"},{"tags":[],"owner":{"account_id":3957278,"reputation":878,"user_id":3265367,"accept_rate":0,"display_name":"Atif Hussain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515681626,"creation_date":1515681626,"answer_id":48209639,"question_id":20266951,"body_markdown":"I fixed this issue by reset the JAVA Environment.\r\n\r\n\t\t$ sudo update-alternatives --config java\r\n\r\nchoose the number for /usr/lib/jvm/java-1.8.0-openjdk-amd64.\r\n\r\nPress enter to keep the current choice[*], or type selection number: \r\n\r\nTo choose a default javac compiler, run the following command.\r\n\r\n\t\t$ sudo update-alternatives --config javac\r\n\r\nIf you prefer to use a gui instead of the command line, you can execute galternatives instead and define the default versions of software with the following dialog.\r\n\r\n\t\t$ sudo galternatives","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>I fixed this issue by reset the JAVA Environment.</p>\n\n<pre><code>    $ sudo update-alternatives --config java\n</code></pre>\n\n<p>choose the number for /usr/lib/jvm/java-1.8.0-openjdk-amd64.</p>\n\n<p>Press enter to keep the current choice[*], or type selection number: </p>\n\n<p>To choose a default javac compiler, run the following command.</p>\n\n<pre><code>    $ sudo update-alternatives --config javac\n</code></pre>\n\n<p>If you prefer to use a gui instead of the command line, you can execute galternatives instead and define the default versions of software with the following dialog.</p>\n\n<pre><code>    $ sudo galternatives\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12722161,"reputation":53,"user_id":9242170,"display_name":"Satya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590425251,"creation_date":1516395787,"answer_id":48349491,"question_id":20266951,"body_markdown":"This issue is causing due to missing of MainActivity.Java File \r\nGenerally it is residing on the below path.\r\n```\r\n[Application Name]\\platforms\\android\\src\\com\r\n```\r\n\r\nHere it should have the folder name based on the namespace you have given.\r\n```\r\nSuppose I have  given namespace as com.passion.oilfreerecipes\r\nSo there should have folder  passion --&gt; OilfreeRecipes\r\n```\r\nAnd inside of their you should have MainActivity.Java.\r\n\r\nIt clears in my application as i clean the solution.\r\nYou can copy and paste from other project and change the mainActivity.Java based on your need.","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>This issue is causing due to missing of MainActivity.Java File \nGenerally it is residing on the below path.</p>\n\n<pre><code>[Application Name]\\platforms\\android\\src\\com\n</code></pre>\n\n<p>Here it should have the folder name based on the namespace you have given.</p>\n\n<pre><code>Suppose I have  given namespace as com.passion.oilfreerecipes\nSo there should have folder  passion --&gt; OilfreeRecipes\n</code></pre>\n\n<p>And inside of their you should have MainActivity.Java.</p>\n\n<p>It clears in my application as i clean the solution.\nYou can copy and paste from other project and change the mainActivity.Java based on your need.</p>\n"},{"tags":[],"owner":{"account_id":232316,"reputation":2121,"user_id":497074,"display_name":"Kristian"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1621331316,"creation_date":1621331316,"answer_id":67583828,"question_id":20266951,"body_markdown":"Typically happens when one change the id in the config.xml file after the platform was added:\r\n\r\n    &lt;widget id=&quot;changed-this-id&quot; ... \r\n\r\nTo fix:\r\n\r\n    remove : cordova platform rm android\r\n    add : cordova platform add android","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>Typically happens when one change the id in the config.xml file after the platform was added:</p>\n<pre><code>&lt;widget id=&quot;changed-this-id&quot; ... \n</code></pre>\n<p>To fix:</p>\n<pre><code>remove : cordova platform rm android\nadd : cordova platform add android\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20171889,"reputation":89,"user_id":14794518,"display_name":"Siva"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1624620572,"creation_date":1624620572,"answer_id":68130256,"question_id":20266951,"body_markdown":"This error comes when you changed the package id or name in config.xml, All you need to do is remove the android platform by typing &quot;**Cordova platform rm android**&quot; and re-add the platform by typing &quot;**Cordova platform add android**&quot;. You can get a successful build.","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>This error comes when you changed the package id or name in config.xml, All you need to do is remove the android platform by typing &quot;<strong>Cordova platform rm android</strong>&quot; and re-add the platform by typing &quot;<strong>Cordova platform add android</strong>&quot;. You can get a successful build.</p>\n"},{"tags":[],"owner":{"account_id":19502416,"reputation":31,"user_id":14268142,"display_name":"Iboro William"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664073437,"creation_date":1664073437,"answer_id":73841725,"question_id":20266951,"body_markdown":"Remove platform and add again. This worked for me:\r\n\r\nRemove:\r\n   \r\n `cordova platform rm android`\r\n\r\nThen add:\r\n\r\n    cordova platform add android","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>Remove platform and add again. This worked for me:</p>\n<p>Remove:</p>\n<p><code>cordova platform rm android</code></p>\n<p>Then add:</p>\n<pre><code>cordova platform add android\n</code></pre>\n"}],"owner":{"account_id":1353315,"reputation":2554,"user_id":1292212,"accept_rate":38,"display_name":"Jack Zhang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82970,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"answer_count":15,"score":69,"last_activity_date":1664073437,"creation_date":1385643753,"question_id":20266951,"body_markdown":"My computer is Windows 8 64bit, i install cordova and android platform for my project, I have created my project by input `cordova create hello com.example.hello HelloWorld` and `cordova platform add android` \r\nbut when i run `cordova build`, it show below error:\r\n\r\n`[Error: No Java files found which extend CordovaActivity.]`\r\n\r\ni searched the web but didn&#39;t find the solution yet, What&#39;s the problem?","title":"No Java files found which extend CordovaActivity. when use &quot;cordova build&quot;","body":"<p>My computer is Windows 8 64bit, i install cordova and android platform for my project, I have created my project by input <code>cordova create hello com.example.hello HelloWorld</code> and <code>cordova platform add android</code> \nbut when i run <code>cordova build</code>, it show below error:</p>\n\n<p><code>[Error: No Java files found which extend CordovaActivity.]</code></p>\n\n<p>i searched the web but didn't find the solution yet, What's the problem?</p>\n"},{"tags":["java","visual-studio-code","settings","vscode-extensions","corretto"],"answers":[{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644371536,"creation_date":1644371536,"answer_id":71043080,"question_id":71042056,"body_markdown":"Assume you are using the latest Java extensions, here are some suggestions:\r\n\r\n1. `java.home` has been deprecated, please don&#39;t use it and use `java.jdt.ls.java.home` instead\r\n2. The latest Java extension already embeds a jre 17, you can find it in `$home/.vscode/extensions/redhat.java-1.x.0/jre`. Ideally there is no need to specify `java.jdt.ls.java.home`, unless your platform is not covered.\r\n3. If your platform is not covered, then you need to manually set `java.jdt.ls.java.home`, which should point to the home path of your JDK installation. So please update it to `/Library/Java/JavaVirtualMachines/amazon-corretto-17.jdk/Contents/Home`.\r\n4. `java.configuration.runtimes` is used to map different JDK versions to their installation path. Please make sure each version only appear once in this setting.","title":"Java on VSCode Extension Pack for Java can&#39;t detect jdk","body":"<p>Assume you are using the latest Java extensions, here are some suggestions:</p>\n<ol>\n<li><code>java.home</code> has been deprecated, please don't use it and use <code>java.jdt.ls.java.home</code> instead</li>\n<li>The latest Java extension already embeds a jre 17, you can find it in <code>$home/.vscode/extensions/redhat.java-1.x.0/jre</code>. Ideally there is no need to specify <code>java.jdt.ls.java.home</code>, unless your platform is not covered.</li>\n<li>If your platform is not covered, then you need to manually set <code>java.jdt.ls.java.home</code>, which should point to the home path of your JDK installation. So please update it to <code>/Library/Java/JavaVirtualMachines/amazon-corretto-17.jdk/Contents/Home</code>.</li>\n<li><code>java.configuration.runtimes</code> is used to map different JDK versions to their installation path. Please make sure each version only appear once in this setting.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15664639,"reputation":23,"user_id":11302696,"display_name":"user500"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664072972,"creation_date":1664072972,"answer_id":73841697,"question_id":71042056,"body_markdown":"JVM cant be found if it is installed in a directory owned by root (like /usr/lib/jvm), install the VM in a directory in your own home folder, that worked for me.\r\n\r\n","title":"Java on VSCode Extension Pack for Java can&#39;t detect jdk","body":"<p>JVM cant be found if it is installed in a directory owned by root (like /usr/lib/jvm), install the VM in a directory in your own home folder, that worked for me.</p>\n"}],"owner":{"account_id":23515995,"reputation":51,"user_id":17563899,"display_name":"Micheal Morono"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6699,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1664072972,"creation_date":1644361770,"question_id":71042056,"body_markdown":"I am trying to run java on vscode however the &#39;Extension Pack for Java&#39; keeps asking me to redownload the jdk. I am able to run java on intellij and have been using that but since I use vscode for everything else I would like to get it to work on my main editor. \r\n\r\nHere are the settings related to java\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &quot;java.help.firstView&quot;: &quot;gettingStarted&quot;,\r\n        &quot;java.home&quot;:&quot;/Library/Java/JavaVirtualMachines/amazon-corretto-17.jdk/Contents/Home/bin/java&quot;,\r\n        &quot;java.jdt.ls.java.home&quot;: &quot;/Library/Java/JavaVirtualMachines/amazon-corretto-17.jdk/Contents/Home/bin/java&quot;,\r\n        &quot;java.configuration.runtimes&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n        &quot;path&quot;: &quot;/Library/Java/JavaVirtualMachines/microsoft-17.jdk/Contents/Home/bin/java&quot;,\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n        &quot;path&quot;: &quot;/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java&quot;,\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n        &quot;path&quot;: &quot;/Library/Java/JavaVirtualMachines/amazon-corretto-17.jdk/Contents/Home/bin/java&quot;,\r\n        &quot;default&quot;: true\r\n      },\r\n    ],\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n[enter image description here][1]\r\n\r\n*Error*\r\nThe java.home variable defined in Visual Studio Code settings points to a missing or inaccessible folder (/Library/Java/JavaVirtualMachines/adoptopenjdk-17.jdk/Contents/Home)\r\n\r\nany ideas? \r\n\r\nAll other languages I use work fine, it just seems to be java. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bfyGS.png","title":"Java on VSCode Extension Pack for Java can&#39;t detect jdk","body":"<p>I am trying to run java on vscode however the 'Extension Pack for Java' keeps asking me to redownload the jdk. I am able to run java on intellij and have been using that but since I use vscode for everything else I would like to get it to work on my main editor.</p>\n<p>Here are the settings related to java</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>\"java.help.firstView\": \"gettingStarted\",\n    \"java.home\":\"/Library/Java/JavaVirtualMachines/amazon-corretto-17.jdk/Contents/Home/bin/java\",\n    \"java.jdt.ls.java.home\": \"/Library/Java/JavaVirtualMachines/amazon-corretto-17.jdk/Contents/Home/bin/java\",\n    \"java.configuration.runtimes\": [\n  {\n    \"name\": \"JavaSE-17\",\n    \"path\": \"/Library/Java/JavaVirtualMachines/microsoft-17.jdk/Contents/Home/bin/java\",\n  },\n  {\n    \"name\": \"JavaSE-17\",\n    \"path\": \"/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java\",\n  },\n  {\n    \"name\": \"JavaSE-17\",\n    \"path\": \"/Library/Java/JavaVirtualMachines/amazon-corretto-17.jdk/Contents/Home/bin/java\",\n    \"default\": true\n  },\n],</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><a href=\"https://i.stack.imgur.com/bfyGS.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><em>Error</em>\nThe java.home variable defined in Visual Studio Code settings points to a missing or inaccessible folder (/Library/Java/JavaVirtualMachines/adoptopenjdk-17.jdk/Contents/Home)</p>\n<p>any ideas?</p>\n<p>All other languages I use work fine, it just seems to be java.</p>\n"},{"tags":["java","mocking","mockito"],"owner":{"account_id":26434762,"reputation":11,"user_id":20080316,"display_name":"1314 reesechou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664072437,"creation_date":1664072352,"question_id":73841678,"body_markdown":"when i use idea2017.3 for mockito 3.8 and mocktio-inline, here is my code , the test is passed, but i cannot debug into this &#39;doA&#39; method\r\n```\r\n@Service\r\npublic class TestClass{\r\n    public int doA(){\r\n        log.info(&quot;AAAA ----&quot;); // i debug here , but not work\r\n        int a = 1+doB();\r\n        log.info(&quot;-----AAAA ----&quot;+a);\r\n        return a;\r\n    }\r\n\r\n    public int doB(){\r\n        log.info(&quot;doB:2222&quot;);\r\n        return 2;\r\n    }\r\n}\r\n\r\n// here is my test class\r\n\r\n    @InjectMocks\r\n    private TestClass testClass;\r\n\r\n    @Test\r\n    public void testDoA() {\r\n        // Setup\r\n\r\n        // Run the test\r\n        TestClass spy = spy(testClass);\r\n        doReturn(5).when(spy).doB();\r\n        final int result = spy.doA();\r\n\r\n        // Verify the results \r\n        assertEquals(6, result);   \r\n    }\r\n\r\n```","title":"why the mockito spy not working for idea debug?","body":"<p>when i use idea2017.3 for mockito 3.8 and mocktio-inline, here is my code , the test is passed, but i cannot debug into this 'doA' method</p>\n<pre><code>@Service\npublic class TestClass{\n    public int doA(){\n        log.info(&quot;AAAA ----&quot;); // i debug here , but not work\n        int a = 1+doB();\n        log.info(&quot;-----AAAA ----&quot;+a);\n        return a;\n    }\n\n    public int doB(){\n        log.info(&quot;doB:2222&quot;);\n        return 2;\n    }\n}\n\n// here is my test class\n\n    @InjectMocks\n    private TestClass testClass;\n\n    @Test\n    public void testDoA() {\n        // Setup\n\n        // Run the test\n        TestClass spy = spy(testClass);\n        doReturn(5).when(spy).doB();\n        final int result = spy.doA();\n\n        // Verify the results \n        assertEquals(6, result);   \n    }\n\n</code></pre>\n"},{"tags":["java","delegation","byte-buddy","intercept"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663917257,"creation_date":1663917257,"answer_id":73824181,"question_id":73822905,"body_markdown":"Wouldn&#39;t you want to intercept to Interceptor.class rather then Proxy.class?\r\n\r\nI assume it&#39;s as simple as that.","title":"Java &amp; Bytebuddy : How to get MethodDelegation to work properly","body":"<p>Wouldn't you want to intercept to Interceptor.class rather then Proxy.class?</p>\n<p>I assume it's as simple as that.</p>\n"}],"owner":{"account_id":387473,"reputation":18600,"user_id":745835,"accept_rate":80,"display_name":"stackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73824181,"answer_count":1,"score":1,"last_activity_date":1664071681,"creation_date":1663906270,"question_id":73822905,"body_markdown":"I have the following code\r\n\r\n    package io.xxx.intercepter;\r\n    \r\n    import java.lang.reflect.Method;\r\n    import net.bytebuddy.ByteBuddy;\r\n    import net.bytebuddy.implementation.MethodDelegation;\r\n    import net.bytebuddy.implementation.bind.annotation.AllArguments;\r\n    import net.bytebuddy.implementation.bind.annotation.Empty;\r\n    import net.bytebuddy.implementation.bind.annotation.Origin;\r\n    import net.bytebuddy.implementation.bind.annotation.RuntimeType;\r\n    import net.bytebuddy.implementation.bind.annotation.SuperMethod;\r\n    import net.bytebuddy.implementation.bind.annotation.This;\r\n    import net.bytebuddy.matcher.ElementMatchers;\r\n    \r\n    public class Proxy {\r\n      \r\n      public static void main(String[] args) throws Exception {\r\n    \r\n        new ByteBuddy()\r\n        .subclass(Person.class)\r\n        .method(ElementMatchers.any())\r\n        .intercept(MethodDelegation.to(Interceptor.class))\r\n        .make()\r\n        .load(Person.class.getClassLoader())\r\n        .getLoaded()\r\n        .getDeclaredConstructor()\r\n        .newInstance()\r\n        .getJob(&quot;egnineer&quot;);\r\n      }\r\n      \r\n      public class Person {\r\n        \r\n        private String work = &quot;coding&quot;;\r\n        \r\n        public Person() {}\r\n        \r\n        public String getJob(String job) {\r\n          \r\n          this.work = job;\r\n          \r\n          System.out.println(&quot;I&#39;m the Person &quot; + work);\r\n          \r\n          return work;\r\n        }\r\n      }\r\n    \r\n     public class Interceptor {\r\n      \r\n        @RuntimeType\r\n        public static Object intercept(\r\n            @This Object self, \r\n            @Origin Method method,\r\n            @AllArguments Object[] args,\r\n            @SuperMethod(nullIfImpossible = true) Method superMethod,\r\n            @Empty Object defaultValue) throws Throwable {\r\n      \r\n          if(superMethod == null)\r\n            return defaultValue;\r\n          \r\n          System.out.println(&quot;I&#39;m the proxy --&gt; &quot; + method.getName());\r\n     \r\n          Object object = superMethod.invoke(self, args);\r\n      \r\n          return object;\r\n    \r\n        }\r\n      }\r\n    }\r\n\r\n**Goal :** To intercept the `person.getJob(String)` method\r\n\r\n**Problem :** \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodException: io.xxx.intercepter.Proxy$Person$ByteBuddy$LI9kwh7B.&lt;init&gt;()\r\n    \tat java.base/java.lang.Class.getConstructor0(Class.java:3585)\r\n    \tat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754)\r\n    \tat io.xxx.intercepter.Proxy.main(Proxy.java:25)\r\n\r\n","title":"Java &amp; Bytebuddy : How to get MethodDelegation to work properly","body":"<p>I have the following code</p>\n<pre><code>package io.xxx.intercepter;\n\nimport java.lang.reflect.Method;\nimport net.bytebuddy.ByteBuddy;\nimport net.bytebuddy.implementation.MethodDelegation;\nimport net.bytebuddy.implementation.bind.annotation.AllArguments;\nimport net.bytebuddy.implementation.bind.annotation.Empty;\nimport net.bytebuddy.implementation.bind.annotation.Origin;\nimport net.bytebuddy.implementation.bind.annotation.RuntimeType;\nimport net.bytebuddy.implementation.bind.annotation.SuperMethod;\nimport net.bytebuddy.implementation.bind.annotation.This;\nimport net.bytebuddy.matcher.ElementMatchers;\n\npublic class Proxy {\n  \n  public static void main(String[] args) throws Exception {\n\n    new ByteBuddy()\n    .subclass(Person.class)\n    .method(ElementMatchers.any())\n    .intercept(MethodDelegation.to(Interceptor.class))\n    .make()\n    .load(Person.class.getClassLoader())\n    .getLoaded()\n    .getDeclaredConstructor()\n    .newInstance()\n    .getJob(&quot;egnineer&quot;);\n  }\n  \n  public class Person {\n    \n    private String work = &quot;coding&quot;;\n    \n    public Person() {}\n    \n    public String getJob(String job) {\n      \n      this.work = job;\n      \n      System.out.println(&quot;I'm the Person &quot; + work);\n      \n      return work;\n    }\n  }\n\n public class Interceptor {\n  \n    @RuntimeType\n    public static Object intercept(\n        @This Object self, \n        @Origin Method method,\n        @AllArguments Object[] args,\n        @SuperMethod(nullIfImpossible = true) Method superMethod,\n        @Empty Object defaultValue) throws Throwable {\n  \n      if(superMethod == null)\n        return defaultValue;\n      \n      System.out.println(&quot;I'm the proxy --&gt; &quot; + method.getName());\n \n      Object object = superMethod.invoke(self, args);\n  \n      return object;\n\n    }\n  }\n}\n</code></pre>\n<p><strong>Goal :</strong> To intercept the <code>person.getJob(String)</code> method</p>\n<p><strong>Problem :</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodException: io.xxx.intercepter.Proxy$Person$ByteBuddy$LI9kwh7B.&lt;init&gt;()\n    at java.base/java.lang.Class.getConstructor0(Class.java:3585)\n    at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754)\n    at io.xxx.intercepter.Proxy.main(Proxy.java:25)\n</code></pre>\n"},{"tags":["java","firebase","intellij-idea","android-emulator"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1663829575,"post_id":73808377,"comment_id":130332027,"body_markdown":"Check if there are any related warnings/exceptions in [Logcat](https://developer.android.com/studio/debug/am-logcat).","body":"Check if there are any related warnings/exceptions in <a href=\"https://developer.android.com/studio/debug/am-logcat\" rel=\"nofollow noreferrer\">Logcat</a>."},{"owner":{"account_id":14818113,"reputation":21,"user_id":10701371,"display_name":"Math Researcher"},"score":0,"creation_date":1663898875,"post_id":73808377,"comment_id":130352958,"body_markdown":"I have added the Logcat Information, can you please see it and suggest what can be done to resolve this issue? Thanks:)","body":"I have added the Logcat Information, can you please see it and suggest what can be done to resolve this issue? Thanks:)"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1663913526,"post_id":73808377,"comment_id":130355234,"body_markdown":"Looks like it might be a problem with your code. See https://stackoverflow.com/a/62421292/12844632 and https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it","body":"Looks like it might be a problem with your code. See <a href=\"https://stackoverflow.com/a/62421292/12844632\">stackoverflow.com/a/62421292/12844632</a> and <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\" title=\"what is a nullpointerexception and how do i fix it\">stackoverflow.com/questions/218384/&hellip;</a>"},{"owner":{"account_id":14818113,"reputation":21,"user_id":10701371,"display_name":"Math Researcher"},"score":0,"creation_date":1663980984,"post_id":73808377,"comment_id":130374077,"body_markdown":"Ok, thank you for the help, I am checking them out","body":"Ok, thank you for the help, I am checking them out"},{"owner":{"account_id":14818113,"reputation":21,"user_id":10701371,"display_name":"Math Researcher"},"score":0,"creation_date":1664070635,"post_id":73808377,"comment_id":130386741,"body_markdown":"I figured out the solution, I changed my emulator from Pixel_2_API_24 to Nexus_5X_API_32","body":"I figured out the solution, I changed my emulator from Pixel_2_API_24 to Nexus_5X_API_32"}],"owner":{"account_id":14818113,"reputation":21,"user_id":10701371,"display_name":"Math Researcher"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664070877,"creation_date":1663809483,"question_id":73808377,"body_markdown":"While testing my android java app built using IntelliJ Idea 2022.2.2, The app cannot move past the loading screen. Initially, I thought this was a problem with the emulator&#39;s internet, however, I was able to use Google Chrome on the emulator without any issue.\r\n\r\nI have not changed any code relating to the Login Screen, and cannot understand why the app is behaving this way, even though I have turned of my VPN, cold booted my emulator, deleted and reinstalled the emulator, and restarted my computer multiple times. \r\n\r\nIs this a problem with my app, IDE, or emulator? To sign into my app, my back-end provider is Google Firebase, I have attached a photo below of the window that the Login screen crashes on after I login, The emulator API level is 24. I would greatly appreciate if someone could provide some assistance into this error, thanks :)\r\n\r\n[![The login screen cannot move past this window][1]][1]\r\n\r\n\r\nThe login screen is unable to move past the window above, and after 2 minutes, firebase gives this message.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is my Logcat\r\n\r\n```\r\n\r\n2022-09-23 11:54:17.141 8073-8073/com.example.exampros W/System: ClassLoader referenced unknown path: /data/app/com.example.exampros-1/lib/x86\r\n2022-09-23 11:54:17.105 8073-8073/? I/art: Late-enabling -Xcheck:jni\r\n2022-09-23 11:54:17.105 8073-8073/? W/art: Unexpected CPU variant for X86 using defaults: x86\r\n2022-09-23 11:54:17.171 8073-8073/com.example.exampros I/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\r\n2022-09-23 11:54:17.214 8073-8073/com.example.exampros I/FirebaseInitProvider: FirebaseApp initialization successful\r\n2022-09-23 11:54:17.219 8073-8088/com.example.exampros W/GooglePlayServicesUtil: Google Play services out of date for com.example.exampros.  Requires 12451000 but found 11743470\r\n2022-09-23 11:54:17.240 8073-8092/com.example.exampros I/FirebaseAuth: [FirebaseAuth:] Preparing to create service connection to fallback implementation\r\n2022-09-23 11:54:17.253 8073-8073/com.example.exampros W/art: Before Android 4.1, method android.graphics.PorterDuffColorFilter androidx.vectordrawable.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable\r\n2022-09-23 11:54:17.321 8073-8073/com.example.exampros D/: HostConnection::get() New Host Connection established 0xa73bc980, tid 8073\r\n2022-09-23 11:54:17.432 8073-8094/com.example.exampros D/: HostConnection::get() New Host Connection established 0xa73bcd80, tid 8094\r\n2022-09-23 11:54:17.434 8073-8094/com.example.exampros I/OpenGLRenderer: Initialized EGL, version 1.4\r\n2022-09-23 11:54:17.434 8073-8094/com.example.exampros D/OpenGLRenderer: Swap behavior 1\r\n2022-09-23 11:54:17.435 8073-8094/com.example.exampros W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\n2022-09-23 11:54:17.435 8073-8094/com.example.exampros D/OpenGLRenderer: Swap behavior 0\r\n2022-09-23 11:54:17.450 8073-8094/com.example.exampros D/EGL_emulation: eglCreateContext: 0xb4b054e0: maj 2 min 0 rcv 2\r\n2022-09-23 11:54:17.484 8073-8094/com.example.exampros D/EGL_emulation: eglMakeCurrent: 0xb4b054e0: ver 2 0 (tinfo 0xb4b033c0)\r\n2022-09-23 11:54:17.500 8073-8094/com.example.exampros D/EGL_emulation: eglMakeCurrent: 0xb4b054e0: ver 2 0 (tinfo 0xb4b033c0)\r\n2022-09-23 11:54:23.392 8073-8107/com.example.exampros W/GooglePlayServicesUtil: Google Play services out of date for com.example.exampros.  Requires 11925000 but found 11743470\r\n2022-09-23 11:54:23.400 8073-8107/com.example.exampros E/GooglePlayServicesUtil: GooglePlayServices not available due to error 2\r\n2022-09-23 11:54:23.401 8073-8107/com.example.exampros W/Firestore: (24.0.0) [GrpcCallProvider]: Failed to update ssl context: com.google.android.gms.common.GooglePlayServicesRepairableException: Google Play Services not available\r\n2022-09-23 11:54:23.476 8073-8107/com.example.exampros D/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\n2022-09-23 11:54:23.528 8073-8107/com.example.exampros W/art: Before Android 4.1, method double java.util.concurrent.ThreadLocalRandom.internalNextDouble(double, double) would have incorrectly overridden the package-private method in java.util.Random\r\n2022-09-23 11:54:23.529 8073-8107/com.example.exampros W/art: Before Android 4.1, method int java.util.concurrent.ThreadLocalRandom.internalNextInt(int, int) would have incorrectly overridden the package-private method in java.util.Random\r\n2022-09-23 11:54:23.529 8073-8107/com.example.exampros W/art: Before Android 4.1, method long java.util.concurrent.ThreadLocalRandom.internalNextLong(long, long) would have incorrectly overridden the package-private method in java.util.Random\r\n2022-09-23 11:54:33.576 8073-8106/com.example.exampros W/Firestore: (24.0.0) [OnlineStateTracker]: Could not reach Cloud Firestore backend. Backend didn&#39;t respond within 10 seconds\r\n    \r\n    This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.\r\n2022-09-23 11:54:33.580 8073-8073/com.example.exampros D/AndroidRuntime: Shutting down VM\r\n    \r\n    \r\n    --------- beginning of crash\r\n2022-09-23 11:54:33.580 8073-8073/com.example.exampros E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.exampros, PID: 8073\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.Long com.google.firebase.firestore.DocumentSnapshot.getLong(java.lang.String)&#39; on a null object reference\r\n        at com.example.exampros.DbQuery$6.onSuccess(DbQuery.java:107)\r\n        at com.example.exampros.DbQuery$6.onSuccess(DbQuery.java:94)\r\n        at com.google.android.gms.tasks.zzm.run(com.google.android.gms:play-services-tasks@@18.0.1:1)\r\n        at android.os.Handler.handleCallback(Handler.java:751)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n2022-09-23 11:54:38.696 8073-8108/com.example.exampros E/ConnectivityManager.CallbackHandler: callback not found for RELEASED message\r\n2022-09-23 11:54:38.703 8073-8106/com.example.exampros W/Firestore: (24.0.0) [WatchStream]: (d33f4e5) Stream closed with status: Status{code=UNAVAILABLE, description=Channel shutdownNow invoked, cause=null}.\r\n2022-09-23 11:54:38.707 8073-8118/com.example.exampros W/GooglePlayServicesUtil: Google Play services out of date for com.example.exampros.  Requires 11925000 but found 11743470\r\n2022-09-23 11:54:38.709 8073-8118/com.example.exampros E/GooglePlayServicesUtil: GooglePlayServices not available due to error 2\r\n2022-09-23 11:54:38.709 8073-8118/com.example.exampros W/Firestore: (24.0.0) [GrpcCallProvider]: Failed to update ssl context: com.google.android.gms.common.GooglePlayServicesRepairableException: Google Play Services not available\r\n2022-09-23 11:54:53.771 8073-8108/com.example.exampros E/ConnectivityManager.CallbackHandler: callback not found for RELEASED message\r\n2022-09-23 11:54:53.777 8073-8131/com.example.exampros W/GooglePlayServicesUtil: Google Play services out of date for com.example.exampros.  Requires 11925000 but found 11743470\r\n2022-09-23 11:54:53.778 8073-8131/com.example.exampros E/GooglePlayServicesUtil: GooglePlayServices not available due to error 2\r\n2022-09-23 11:54:53.779 8073-8131/com.example.exampros W/Firestore: (24.0.0) [GrpcCallProvider]: Failed to update ssl context: com.google.android.gms.common.GooglePlayServicesRepairableException: Google Play Services not available\r\n```\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ht9tF.png\r\n  [2]: https://i.stack.imgur.com/xORr5.png","title":"IntelliJ IDEA app unable to connect to Firebase","body":"<p>While testing my android java app built using IntelliJ Idea 2022.2.2, The app cannot move past the loading screen. Initially, I thought this was a problem with the emulator's internet, however, I was able to use Google Chrome on the emulator without any issue.</p>\n<p>I have not changed any code relating to the Login Screen, and cannot understand why the app is behaving this way, even though I have turned of my VPN, cold booted my emulator, deleted and reinstalled the emulator, and restarted my computer multiple times.</p>\n<p>Is this a problem with my app, IDE, or emulator? To sign into my app, my back-end provider is Google Firebase, I have attached a photo below of the window that the Login screen crashes on after I login, The emulator API level is 24. I would greatly appreciate if someone could provide some assistance into this error, thanks :)</p>\n<p><a href=\"https://i.stack.imgur.com/Ht9tF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ht9tF.png\" alt=\"The login screen cannot move past this window\" /></a></p>\n<p>The login screen is unable to move past the window above, and after 2 minutes, firebase gives this message.</p>\n<p><a href=\"https://i.stack.imgur.com/xORr5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xORr5.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my Logcat</p>\n<pre><code>\n2022-09-23 11:54:17.141 8073-8073/com.example.exampros W/System: ClassLoader referenced unknown path: /data/app/com.example.exampros-1/lib/x86\n2022-09-23 11:54:17.105 8073-8073/? I/art: Late-enabling -Xcheck:jni\n2022-09-23 11:54:17.105 8073-8073/? W/art: Unexpected CPU variant for X86 using defaults: x86\n2022-09-23 11:54:17.171 8073-8073/com.example.exampros I/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\n2022-09-23 11:54:17.214 8073-8073/com.example.exampros I/FirebaseInitProvider: FirebaseApp initialization successful\n2022-09-23 11:54:17.219 8073-8088/com.example.exampros W/GooglePlayServicesUtil: Google Play services out of date for com.example.exampros.  Requires 12451000 but found 11743470\n2022-09-23 11:54:17.240 8073-8092/com.example.exampros I/FirebaseAuth: [FirebaseAuth:] Preparing to create service connection to fallback implementation\n2022-09-23 11:54:17.253 8073-8073/com.example.exampros W/art: Before Android 4.1, method android.graphics.PorterDuffColorFilter androidx.vectordrawable.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable\n2022-09-23 11:54:17.321 8073-8073/com.example.exampros D/: HostConnection::get() New Host Connection established 0xa73bc980, tid 8073\n2022-09-23 11:54:17.432 8073-8094/com.example.exampros D/: HostConnection::get() New Host Connection established 0xa73bcd80, tid 8094\n2022-09-23 11:54:17.434 8073-8094/com.example.exampros I/OpenGLRenderer: Initialized EGL, version 1.4\n2022-09-23 11:54:17.434 8073-8094/com.example.exampros D/OpenGLRenderer: Swap behavior 1\n2022-09-23 11:54:17.435 8073-8094/com.example.exampros W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\n2022-09-23 11:54:17.435 8073-8094/com.example.exampros D/OpenGLRenderer: Swap behavior 0\n2022-09-23 11:54:17.450 8073-8094/com.example.exampros D/EGL_emulation: eglCreateContext: 0xb4b054e0: maj 2 min 0 rcv 2\n2022-09-23 11:54:17.484 8073-8094/com.example.exampros D/EGL_emulation: eglMakeCurrent: 0xb4b054e0: ver 2 0 (tinfo 0xb4b033c0)\n2022-09-23 11:54:17.500 8073-8094/com.example.exampros D/EGL_emulation: eglMakeCurrent: 0xb4b054e0: ver 2 0 (tinfo 0xb4b033c0)\n2022-09-23 11:54:23.392 8073-8107/com.example.exampros W/GooglePlayServicesUtil: Google Play services out of date for com.example.exampros.  Requires 11925000 but found 11743470\n2022-09-23 11:54:23.400 8073-8107/com.example.exampros E/GooglePlayServicesUtil: GooglePlayServices not available due to error 2\n2022-09-23 11:54:23.401 8073-8107/com.example.exampros W/Firestore: (24.0.0) [GrpcCallProvider]: Failed to update ssl context: com.google.android.gms.common.GooglePlayServicesRepairableException: Google Play Services not available\n2022-09-23 11:54:23.476 8073-8107/com.example.exampros D/NetworkSecurityConfig: No Network Security Config specified, using platform default\n2022-09-23 11:54:23.528 8073-8107/com.example.exampros W/art: Before Android 4.1, method double java.util.concurrent.ThreadLocalRandom.internalNextDouble(double, double) would have incorrectly overridden the package-private method in java.util.Random\n2022-09-23 11:54:23.529 8073-8107/com.example.exampros W/art: Before Android 4.1, method int java.util.concurrent.ThreadLocalRandom.internalNextInt(int, int) would have incorrectly overridden the package-private method in java.util.Random\n2022-09-23 11:54:23.529 8073-8107/com.example.exampros W/art: Before Android 4.1, method long java.util.concurrent.ThreadLocalRandom.internalNextLong(long, long) would have incorrectly overridden the package-private method in java.util.Random\n2022-09-23 11:54:33.576 8073-8106/com.example.exampros W/Firestore: (24.0.0) [OnlineStateTracker]: Could not reach Cloud Firestore backend. Backend didn't respond within 10 seconds\n    \n    This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.\n2022-09-23 11:54:33.580 8073-8073/com.example.exampros D/AndroidRuntime: Shutting down VM\n    \n    \n    --------- beginning of crash\n2022-09-23 11:54:33.580 8073-8073/com.example.exampros E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.exampros, PID: 8073\n    java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Long com.google.firebase.firestore.DocumentSnapshot.getLong(java.lang.String)' on a null object reference\n        at com.example.exampros.DbQuery$6.onSuccess(DbQuery.java:107)\n        at com.example.exampros.DbQuery$6.onSuccess(DbQuery.java:94)\n        at com.google.android.gms.tasks.zzm.run(com.google.android.gms:play-services-tasks@@18.0.1:1)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n2022-09-23 11:54:38.696 8073-8108/com.example.exampros E/ConnectivityManager.CallbackHandler: callback not found for RELEASED message\n2022-09-23 11:54:38.703 8073-8106/com.example.exampros W/Firestore: (24.0.0) [WatchStream]: (d33f4e5) Stream closed with status: Status{code=UNAVAILABLE, description=Channel shutdownNow invoked, cause=null}.\n2022-09-23 11:54:38.707 8073-8118/com.example.exampros W/GooglePlayServicesUtil: Google Play services out of date for com.example.exampros.  Requires 11925000 but found 11743470\n2022-09-23 11:54:38.709 8073-8118/com.example.exampros E/GooglePlayServicesUtil: GooglePlayServices not available due to error 2\n2022-09-23 11:54:38.709 8073-8118/com.example.exampros W/Firestore: (24.0.0) [GrpcCallProvider]: Failed to update ssl context: com.google.android.gms.common.GooglePlayServicesRepairableException: Google Play Services not available\n2022-09-23 11:54:53.771 8073-8108/com.example.exampros E/ConnectivityManager.CallbackHandler: callback not found for RELEASED message\n2022-09-23 11:54:53.777 8073-8131/com.example.exampros W/GooglePlayServicesUtil: Google Play services out of date for com.example.exampros.  Requires 11925000 but found 11743470\n2022-09-23 11:54:53.778 8073-8131/com.example.exampros E/GooglePlayServicesUtil: GooglePlayServices not available due to error 2\n2022-09-23 11:54:53.779 8073-8131/com.example.exampros W/Firestore: (24.0.0) [GrpcCallProvider]: Failed to update ssl context: com.google.android.gms.common.GooglePlayServicesRepairableException: Google Play Services not available\n</code></pre>\n"},{"tags":["java","spring","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1553864910,"creation_date":1553864910,"answer_id":55418117,"question_id":55414724,"body_markdown":"The `execute()` method, before creating the new thread, uses class [`ConcurrencyThrottleSupport`][1] to handle the concurrency limit; this class uses wait/notify logic to block the calling thread if the limit has been reached.  Before blocking the caller this class logs a debug message.\r\n\r\nAs its names suggests, this executor is quite simple.  A [`ThreadPoolTaskExecutor`][2] is a better choice: it reuses threads and let you choose what to do when you reach the limit by definining a [`RejectedExecutionHandler`][3].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/ConcurrencyThrottleSupport.html\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskExecutor.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/RejectedExecutionHandler.html","title":"What will happen to the event if spring SimpleAsyncTaskExecutor exceeds the concurrencyLimit?","body":"<p>The <code>execute()</code> method, before creating the new thread, uses class <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/ConcurrencyThrottleSupport.html\" rel=\"nofollow noreferrer\"><code>ConcurrencyThrottleSupport</code></a> to handle the concurrency limit; this class uses wait/notify logic to block the calling thread if the limit has been reached.  Before blocking the caller this class logs a debug message.</p>\n\n<p>As its names suggests, this executor is quite simple.  A <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskExecutor.html\" rel=\"nofollow noreferrer\"><code>ThreadPoolTaskExecutor</code></a> is a better choice: it reuses threads and let you choose what to do when you reach the limit by definining a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/RejectedExecutionHandler.html\" rel=\"nofollow noreferrer\"><code>RejectedExecutionHandler</code></a>.</p>\n"}],"owner":{"account_id":4587976,"reputation":137,"user_id":3722099,"accept_rate":33,"display_name":"RafalQA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55418117,"answer_count":1,"score":1,"last_activity_date":1664070789,"creation_date":1553853254,"question_id":55414724,"body_markdown":"I have event listener which is annotated @async and use SimpleAsyncTaskExecutor for generate new thread with set concurrencyLimit. What happen if in the same time I will publish event exceeds concurrencyLimit? It will be ignore or just will be wait wait for free executor? If it wait, will it block main thread which published the event?\r\n\r\nUnfortunate I&#39;m not able to simulate this situation.","title":"What will happen to the event if spring SimpleAsyncTaskExecutor exceeds the concurrencyLimit?","body":"<p>I have event listener which is annotated @async and use SimpleAsyncTaskExecutor for generate new thread with set concurrencyLimit. What happen if in the same time I will publish event exceeds concurrencyLimit? It will be ignore or just will be wait wait for free executor? If it wait, will it block main thread which published the event?</p>\n<p>Unfortunate I'm not able to simulate this situation.</p>\n"},{"tags":["java","eclipse","jpanel"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1553855131,"post_id":55415196,"comment_id":97549515,"body_markdown":"A frame can&#39;t have two content panes. Are you looking for something like [layered panes](https://docs.oracle.com/javase/tutorial/uiswing/components/layeredpane.html) perhaps?","body":"A frame can&#39;t have two content panes. Are you looking for something like <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/layeredpane.html\" rel=\"nofollow noreferrer\">layered panes</a> perhaps?"},{"owner":{"display_name":"user10894179"},"score":0,"creation_date":1553855186,"post_id":55415196,"comment_id":97549537,"body_markdown":"@khelwoodto be honest.. I don&#39;t know. I just read that and had to try it out!","body":"@khelwoodto be honest.. I don&#39;t know. I just read that and had to try it out!"},{"owner":{"display_name":"user10894179"},"score":0,"creation_date":1553855257,"post_id":55415196,"comment_id":97549584,"body_markdown":"@khelwood https://stackoverflow.com/questions/9297630/two-different-panels-in-one-frame-java","body":"@khelwood <a href=\"https://stackoverflow.com/questions/9297630/two-different-panels-in-one-frame-java\" title=\"two different panels in one frame java\">stackoverflow.com/questions/9297630/&hellip;</a>"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1553855821,"post_id":55415196,"comment_id":97549975,"body_markdown":"I said a frame can&#39;t have two **content panes**, not that you can&#39;t add two panels in a frame.","body":"I said a frame can&#39;t have two <b>content panes</b>, not that you can&#39;t add two panels in a frame."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1553859554,"post_id":55415196,"comment_id":97552128,"body_markdown":"I guess you want  `frame.setLayout(new GridLayout(0, 1));\n\t\tframe.add(panel);\n\t\tframe.add(panel1);` but it is only a guess. Post [mcve]","body":"I guess you want  <code>frame.setLayout(new GridLayout(0, 1)); \t\tframe.add(panel); \t\tframe.add(panel1);</code> but it is only a guess. Post <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":10524216,"reputation":712,"user_id":7755716,"display_name":"Wulf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1553859696,"creation_date":1553855230,"answer_id":55415360,"question_id":55415196,"body_markdown":"You could use a Root-JPanel.\r\n\r\n    JPanel root = new JPanel();\r\n    root.add(panel1);\r\n    root.add(panel2);\r\n    frame.setContentPane(root);\r\n\r\nAdditional use a Layout...&lt;p&gt;\r\n[oracle Tutorial][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/using.html","title":"JButtons move with the JPanel","body":"<p>You could use a Root-JPanel.</p>\n\n<pre><code>JPanel root = new JPanel();\nroot.add(panel1);\nroot.add(panel2);\nframe.setContentPane(root);\n</code></pre>\n\n<p>Additional use a Layout...<p>\n<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/using.html\" rel=\"nofollow noreferrer\">oracle Tutorial</a></p>\n"}],"owner":{"display_name":"user10894179"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":55415360,"answer_count":1,"score":-1,"last_activity_date":1664070748,"creation_date":1553854736,"question_id":55415196,"body_markdown":"I&#39;m having this really frustrating problem with my code. In my main class I call a method in another class which should show me a question and 4 possible answers. These different questions don&#39;t have the same length as each other. The problem is that if the question gets longer than the previous one, the buttons drift away from each other without me changing anything in the code. So I started searching for some solutions and found something. I&#39;ve put the question on a different panel than the buttons. \r\n\r\n**Panel 1:**\r\n\r\n    public JPanel getPanel(){\r\n        code\r\n    }\r\n\r\n**Panel 2:**\r\n\r\n    public JPanel getPanel1(){\r\n       code\r\n    }\r\n\r\n**Then in my main I wrote the following:**\r\n\r\n    private void initializeAnswer(String jsonFileName, int questionNumber) {\r\n    \r\n       JPanel panel = new Answer(json.getCorrectAnswer(questionNumber, \r\n       jsonFileName)).getPanel();\r\n       JPanel panel1 = new Answer(json.getCorrectAnswer(questionNumber, \r\n       jsonFileName)).getPanel1();\r\n       frame.setContentPane(panel);\r\n       frame.setContentPane(panel1);\r\n    \r\n    }\r\n\r\nWell I thought that this would display both of the panels on to the frame at the same time, but I was wrong. I even changed the background color of the panel1 to Transparent with the following code but it didn&#39;t work:\r\n\r\n    panel1.setBackground(new Color(0.0f, 0.0f, 0.0f, 0.5f));","title":"JButtons move with the JPanel","body":"<p>I'm having this really frustrating problem with my code. In my main class I call a method in another class which should show me a question and 4 possible answers. These different questions don't have the same length as each other. The problem is that if the question gets longer than the previous one, the buttons drift away from each other without me changing anything in the code. So I started searching for some solutions and found something. I've put the question on a different panel than the buttons.</p>\n<p><strong>Panel 1:</strong></p>\n<pre><code>public JPanel getPanel(){\n    code\n}\n</code></pre>\n<p><strong>Panel 2:</strong></p>\n<pre><code>public JPanel getPanel1(){\n   code\n}\n</code></pre>\n<p><strong>Then in my main I wrote the following:</strong></p>\n<pre><code>private void initializeAnswer(String jsonFileName, int questionNumber) {\n\n   JPanel panel = new Answer(json.getCorrectAnswer(questionNumber, \n   jsonFileName)).getPanel();\n   JPanel panel1 = new Answer(json.getCorrectAnswer(questionNumber, \n   jsonFileName)).getPanel1();\n   frame.setContentPane(panel);\n   frame.setContentPane(panel1);\n\n}\n</code></pre>\n<p>Well I thought that this would display both of the panels on to the frame at the same time, but I was wrong. I even changed the background color of the panel1 to Transparent with the following code but it didn't work:</p>\n<pre><code>panel1.setBackground(new Color(0.0f, 0.0f, 0.0f, 0.5f));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":7,"creation_date":1373314604,"post_id":17535224,"comment_id":25501913,"body_markdown":"The word is `input`. Also, the error probably occurs because you entered new line characters after each `nextFloat` while typing.","body":"The word is <code>input</code>. Also, the error probably occurs because you entered new line characters after each <code>nextFloat</code> while typing."},{"owner":{"account_id":35592,"reputation":4710,"user_id":100856,"display_name":"Sualeh Fatehi"},"score":3,"creation_date":1373314768,"post_id":17535224,"comment_id":25502001,"body_markdown":"@Sotiros - Java allows you choose your variables names. Please focus on answering the question. (Anyway, in English, imput is a perfectly good spelling variant of input.)","body":"@Sotiros - Java allows you choose your variables names. Please focus on answering the question. (Anyway, in English, imput is a perfectly good spelling variant of input.)"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1373314930,"post_id":17535224,"comment_id":25502087,"body_markdown":"@SualehFatehi `imput` is not an English word.","body":"@SualehFatehi <code>imput</code> is not an English word."},{"owner":{"account_id":2896904,"reputation":1,"user_id":2484463,"display_name":"Ghetto Man"},"score":1,"creation_date":1373315147,"post_id":17535224,"comment_id":25502186,"body_markdown":"@SotiriosDelimanolis Btw I know it&#39;s &#39;input&#39; but in java i type &#39;imput&#39; because that&#39;s how i typed it when i first started learning java so now that&#39;s just what i&#39;m used to.","body":"@SotiriosDelimanolis Btw I know it&#39;s &#39;input&#39; but in java i type &#39;imput&#39; because that&#39;s how i typed it when i first started learning java so now that&#39;s just what i&#39;m used to."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1373315491,"post_id":17535224,"comment_id":25502354,"body_markdown":"@GhettoMan Try to lose that habit. Use correct terminology.","body":"@GhettoMan Try to lose that habit. Use correct terminology."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1373315604,"post_id":17535224,"comment_id":25502408,"body_markdown":"@HenryHarris I can be any of his future employers.","body":"@HenryHarris I can be any of his future employers."},{"owner":{"account_id":443193,"reputation":15959,"user_id":834261,"display_name":"hatchet - done with SOverflow"},"score":2,"creation_date":1373315669,"post_id":17535224,"comment_id":25502435,"body_markdown":"Variable names do make a difference. They&#39;re a form of documentation. Considering that imput could be confused with impute, which has a different meaning than input, it&#39;s an unnecessarily confusing name. If you are the only one that will look at the code, then no biggy. But if others will ever maintain your code, write for them.","body":"Variable names do make a difference. They&#39;re a form of documentation. Considering that imput could be confused with impute, which has a different meaning than input, it&#39;s an unnecessarily confusing name. If you are the only one that will look at the code, then no biggy. But if others will ever maintain your code, write for them."}],"answers":[{"tags":[],"owner":{"account_id":2763136,"reputation":1858,"user_id":2379592,"accept_rate":94,"display_name":"Dummy Code"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1373315018,"creation_date":1373314937,"answer_id":17535330,"question_id":17535224,"body_markdown":"Use the following code. Comments in the code explain the answer.\r\n\r\n    import java.util.Scanner;\r\n    \r\n        public class Lator {\r\n        \r\n            public static void main(String[] args) {\r\n                float num1;\r\n                float num2;\r\n                String choice;\r\n        \r\n                Scanner imput = new Scanner(System.in);\r\n        \r\n                System.out.println(&quot;This is a calculator.&quot;);\r\n                System.out.println(&quot;Enter your first number.&quot;);\r\n                num1 = imput.nextFloat();\r\n        \r\n                System.out.println(&quot;Enter your second number.&quot;);\r\n                num2 = imput.nextFloat();\r\n        \r\n                imput.nextLine(); //ADDED LINE\r\n        \r\n                System.out.println(&quot;Would you like to add, subtract, divide, or multiply?&quot;);\r\n                choice = imput.nextLine();\r\n        \r\n                if(choice.equals(&quot;Add&quot;)||choice.equals(&quot;+&quot;)||choice.equals(&quot;Addition&quot;)) {\r\n                System.out.println(&quot;Number1 &quot; + num1 + &quot; + &quot; + &quot;number2&quot; + num2 + &quot;=&quot; + (num1 + num2));\r\n        \r\n                }\r\n            }\r\n        }\r\n\r\nWe added `imput.nextLine();` because `imput.nextFloat();` leaves a leftover new line character that we need to clear out before scanning for the user&#39;s selection. \r\n\r\nIt was putting this new line character as the selection when the user is supposed to enter &quot;Add&quot;. Let me know how this works out for you. See a similar answer here, https://stackoverflow.com/questions/17416757/java-for-loop-issue/17416833#17416833\r\n\r\n-Henry\r\n","title":"Basic Calculator Error","body":"<p>Use the following code. Comments in the code explain the answer.</p>\n\n<pre><code>import java.util.Scanner;\n\n    public class Lator {\n\n        public static void main(String[] args) {\n            float num1;\n            float num2;\n            String choice;\n\n            Scanner imput = new Scanner(System.in);\n\n            System.out.println(\"This is a calculator.\");\n            System.out.println(\"Enter your first number.\");\n            num1 = imput.nextFloat();\n\n            System.out.println(\"Enter your second number.\");\n            num2 = imput.nextFloat();\n\n            imput.nextLine(); //ADDED LINE\n\n            System.out.println(\"Would you like to add, subtract, divide, or multiply?\");\n            choice = imput.nextLine();\n\n            if(choice.equals(\"Add\")||choice.equals(\"+\")||choice.equals(\"Addition\")) {\n            System.out.println(\"Number1 \" + num1 + \" + \" + \"number2\" + num2 + \"=\" + (num1 + num2));\n\n            }\n        }\n    }\n</code></pre>\n\n<p>We added <code>imput.nextLine();</code> because <code>imput.nextFloat();</code> leaves a leftover new line character that we need to clear out before scanning for the user's selection. </p>\n\n<p>It was putting this new line character as the selection when the user is supposed to enter \"Add\". Let me know how this works out for you. See a similar answer here, <a href=\"https://stackoverflow.com/questions/17416757/java-for-loop-issue/17416833#17416833\">Java For Loop Issue</a></p>\n\n<p>-Henry</p>\n"},{"tags":[],"owner":{"account_id":2876976,"reputation":332,"user_id":2468746,"accept_rate":50,"display_name":"Patrick Sebastien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373316095,"creation_date":1373314942,"answer_id":17535332,"question_id":17535224,"body_markdown":"Change the following line:\r\n\r\n    choice = imput.nextLine();\r\n\r\nto:\r\n\r\n    choice = imput.next();\r\n\r\nThis stores what the user writes in the String &#39;choice&#39;.\r\n\r\nYou can test it by adding this as the next line:\r\n\r\n    System.out.println(choice);\r\n\r\nEdit: This will only get the next word.  As per comments, if you were to expand your application to handle input like Square Root or something like that, you would want to go to the next line first:\r\n\r\n    imput.nextLine();\r\n    System.out.println(&quot;Would you like to add, subtract, divide, or multiply?&quot;);\r\n    choice = imput.nextLine();\r\n\r\n\r\nThe reason for needing to go to the next line is that the Scanner &#39;imput&#39; is still on the previous line, just after the second float entered by the user.\r\n\r\nI think that the best option for your application is to use my first example though and use `imput.next();` because your application only uses one word inputs.  Using `imput.nextLine();` could possibly expand the possibility of input errors, because it gets the whole line.","title":"Basic Calculator Error","body":"<p>Change the following line:</p>\n\n<pre><code>choice = imput.nextLine();\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>choice = imput.next();\n</code></pre>\n\n<p>This stores what the user writes in the String 'choice'.</p>\n\n<p>You can test it by adding this as the next line:</p>\n\n<pre><code>System.out.println(choice);\n</code></pre>\n\n<p>Edit: This will only get the next word.  As per comments, if you were to expand your application to handle input like Square Root or something like that, you would want to go to the next line first:</p>\n\n<pre><code>imput.nextLine();\nSystem.out.println(\"Would you like to add, subtract, divide, or multiply?\");\nchoice = imput.nextLine();\n</code></pre>\n\n<p>The reason for needing to go to the next line is that the Scanner 'imput' is still on the previous line, just after the second float entered by the user.</p>\n\n<p>I think that the best option for your application is to use my first example though and use <code>imput.next();</code> because your application only uses one word inputs.  Using <code>imput.nextLine();</code> could possibly expand the possibility of input errors, because it gets the whole line.</p>\n"},{"tags":[],"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373315596,"creation_date":1373315156,"answer_id":17535394,"question_id":17535224,"body_markdown":"**Not Related to Question but just an observation  (unless this is a simplified version of course!)** i.e. I misread the question\r\n\r\n\r\nThe program will just end after your last `next..()` call as it computes what it needs to then exits as the program has finished.\r\n\r\nAdd something to &#39;pause&#39; the execution of the program such as\r\n\r\n     // After calculating\r\n     System.out.println(&quot;Press any key to continue&quot;);\r\n     imput.next();\r\n     // continue with what you want.","title":"Basic Calculator Error","body":"<p><strong>Not Related to Question but just an observation  (unless this is a simplified version of course!)</strong> i.e. I misread the question</p>\n\n<p>The program will just end after your last <code>next..()</code> call as it computes what it needs to then exits as the program has finished.</p>\n\n<p>Add something to 'pause' the execution of the program such as</p>\n\n<pre><code> // After calculating\n System.out.println(\"Press any key to continue\");\n imput.next();\n // continue with what you want.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2724749,"reputation":5612,"user_id":2350145,"accept_rate":67,"display_name":"Anirban Nag &#39;tintinmj&#39;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373315329,"creation_date":1373315329,"answer_id":17535431,"question_id":17535224,"body_markdown":"you could use this code\r\n\r\n\timport java.util.Scanner;\r\n\tpublic class Lator {\r\n\t\r\n\t    /**\r\n\t     * @param args\r\n\t     */\r\n\t    public static void main(String[] args) {\r\n\t        // TODO Auto-generated method stub\r\n\t\r\n\t        float num1;\r\n\t        float num2;\r\n\t        String choice;\r\n\t\r\n\t        Scanner imput = new Scanner(System.in);\r\n\t\r\n\t        System.out.println(&quot;This is a calculator.&quot;);\r\n\t        System.out.println(&quot;Enter your first number.&quot;);\r\n\t        num1 = imput.nextFloat();\r\n\t\r\n\t        System.out.println(&quot;Enter your second number.&quot;);\r\n\t        num2 = imput.nextFloat();\r\n\t\r\n\t        System.out.println(&quot;Would you like to add, subtract, divide, or multiply?&quot;);\r\n\t        choice = imput.next();\r\n\t\r\n\t        if(choice.equals(&quot;Add&quot;)||choice.equals(&quot;+&quot;)||choice.equals(&quot;Addition&quot;)) {\r\n\t        System.out.println(&quot;Number1 &quot; + num1 + &quot; + &quot; + &quot;number2 &quot; + num2 + &quot; = &quot; + (num1 + num2));\r\n\t\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\nUse `choice.equalsIgnoreCase(&quot;add&quot;)` instead of `choice.equals(&quot;Add&quot;)`","title":"Basic Calculator Error","body":"<p>you could use this code</p>\n\n<pre><code>import java.util.Scanner;\npublic class Lator {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        float num1;\n        float num2;\n        String choice;\n\n        Scanner imput = new Scanner(System.in);\n\n        System.out.println(\"This is a calculator.\");\n        System.out.println(\"Enter your first number.\");\n        num1 = imput.nextFloat();\n\n        System.out.println(\"Enter your second number.\");\n        num2 = imput.nextFloat();\n\n        System.out.println(\"Would you like to add, subtract, divide, or multiply?\");\n        choice = imput.next();\n\n        if(choice.equals(\"Add\")||choice.equals(\"+\")||choice.equals(\"Addition\")) {\n        System.out.println(\"Number1 \" + num1 + \" + \" + \"number2 \" + num2 + \" = \" + (num1 + num2));\n\n        }\n    }\n}\n</code></pre>\n\n<p>Use <code>choice.equalsIgnoreCase(\"add\")</code> instead of <code>choice.equals(\"Add\")</code></p>\n"},{"tags":[],"owner":{"account_id":5557741,"reputation":1,"user_id":4408505,"display_name":"Sakshi Naik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473873423,"creation_date":1473873423,"answer_id":39496224,"question_id":17535224,"body_markdown":"\r\n      \r\n\r\n\r\n    import java.util.*;\r\n    class Calculate\r\n     {public static void main(String args[])\r\n     {int a,b,choice;\r\n     Scanner sc=new Scanner(System.in);\r\n       System.out.println(&quot;enter numbers&quot;);\r\n       a=sc.nextInt();\r\n       b-sc.nextInt()\r\n       System.out.print(&quot;1.add\\n2.sub\\n3.mul\\n4.div\\n5.mod&quot;);\r\n        System.out.println(&quot;enter choice&quot;);\r\n        choice=sc.nextInt();\r\n     do\r\n     {\r\n    switch(choice)\r\n    {case 1:System.out.println(&quot;result is&quot; +(a+b));\r\n         break;\r\n    case 2:System.out.println(&quot;result is&quot; +(a-b));\r\n         break;\r\n    case 3:System.out.println(&quot;result is&quot; +(a*b));\r\n         break;\r\n    case 4:if(a&gt;b)\r\n       { System.out.println(&quot;result is&quot; +(a/b));\r\n         break;}\r\n      else { System.out.println(&quot;invalid&quot;);\r\n       break;}\r\n     case 5:System.out.println(&quot;result is&quot; +(a%b));\r\n         break;\r\n       default: System.out.println(&quot;invalid&quot;);\r\n       break;\r\n            }\r\n            }\r\n          while(choice!=6);\r\n           }\r\n            }\r\n\r\n\r\n\r\n","title":"Basic Calculator Error","body":"<pre><code>import java.util.*;\nclass Calculate\n {public static void main(String args[])\n {int a,b,choice;\n Scanner sc=new Scanner(System.in);\n   System.out.println(\"enter numbers\");\n   a=sc.nextInt();\n   b-sc.nextInt()\n   System.out.print(\"1.add\\n2.sub\\n3.mul\\n4.div\\n5.mod\");\n    System.out.println(\"enter choice\");\n    choice=sc.nextInt();\n do\n {\nswitch(choice)\n{case 1:System.out.println(\"result is\" +(a+b));\n     break;\ncase 2:System.out.println(\"result is\" +(a-b));\n     break;\ncase 3:System.out.println(\"result is\" +(a*b));\n     break;\ncase 4:if(a&gt;b)\n   { System.out.println(\"result is\" +(a/b));\n     break;}\n  else { System.out.println(\"invalid\");\n   break;}\n case 5:System.out.println(\"result is\" +(a%b));\n     break;\n   default: System.out.println(\"invalid\");\n   break;\n        }\n        }\n      while(choice!=6);\n       }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26434591,"reputation":1,"user_id":20080178,"display_name":"Zeeshan Malik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664068358,"creation_date":1664068358,"answer_id":73841503,"question_id":17535224,"body_markdown":"import java.util.Scanner;\r\n\r\npublic class Calculator {\r\n   \r\n   \r\n     public static void main(String[] args){\r\n     \r\n     System.out.println(&quot;Hello user welcome to calculator&quot;);\r\n     \r\n\r\n     Scanner sc = new Scanner(System.in);\r\n     char sign;\r\n     \r\n    do{\r\n     System.out.println(&quot;Enter a sign + or - or * or /:&quot;);\r\n   \r\n      sign = sc.next().charAt(0);\r\n     }\r\n     while(sign != &#39;+&#39; &amp;&amp; sign!=&#39;-&#39; &amp;&amp; sign != &#39;*&#39; &amp;&amp; sign != &#39;/&#39;);\r\n   \r\n     \r\n     System.out.println(&quot;Enter first number :&quot;);\r\n     \r\n     double num1 = sc.nextDouble();\r\n     \r\n     System.out.println(&quot;Enter second number :&quot;);\r\n     \r\n     double num2 = sc.nextDouble();\r\n   \r\n     if(sign == &#39;+&#39;){\r\n     \r\n    double result = num1 + num2;\r\n   \r\n    System.out.printf(&quot;The addition of the two numbers is : %,f&quot;, result );\r\n   \r\n   \r\n   \r\n     }\r\n     else if (sign == &#39;-&#39;){\r\n     \r\n    double  result = num1 - num2;\r\n   \r\n     System.out.printf(&quot;The subtraction of the two numbers is : %,f&quot;, result );\r\n     \r\n     \r\n     }\r\n     else if (sign == &#39;*&#39;){\r\n     \r\n     double result = num1 * num2;\r\n     \r\n      System.out.printf(&quot;The multiplication of the two numbers is : %,f&quot;, result );\r\n     \r\n     \r\n     }\r\n     \r\n      else if (sign == &#39;/&#39;){\r\n     \r\n     double result = num1 / num2;\r\n     \r\n      System.out.printf(&quot;The division of the two numbers is : %,f&quot;, result );\r\n      }\r\n      else\r\n         \r\n          System.out.println(&quot;Please enter a valid sign &quot;);\r\n   \r\n     }              \r\n}","title":"Basic Calculator Error","body":"<p>import java.util.Scanner;</p>\n<p>public class Calculator {</p>\n<pre><code> public static void main(String[] args){\n \n System.out.println(&quot;Hello user welcome to calculator&quot;);\n \n\n Scanner sc = new Scanner(System.in);\n char sign;\n \ndo{\n System.out.println(&quot;Enter a sign + or - or * or /:&quot;);\n\n  sign = sc.next().charAt(0);\n }\n while(sign != '+' &amp;&amp; sign!='-' &amp;&amp; sign != '*' &amp;&amp; sign != '/');\n\n \n System.out.println(&quot;Enter first number :&quot;);\n \n double num1 = sc.nextDouble();\n \n System.out.println(&quot;Enter second number :&quot;);\n \n double num2 = sc.nextDouble();\n\n if(sign == '+'){\n \ndouble result = num1 + num2;\n\nSystem.out.printf(&quot;The addition of the two numbers is : %,f&quot;, result );\n\n\n\n }\n else if (sign == '-'){\n \ndouble  result = num1 - num2;\n\n System.out.printf(&quot;The subtraction of the two numbers is : %,f&quot;, result );\n \n \n }\n else if (sign == '*'){\n \n double result = num1 * num2;\n \n  System.out.printf(&quot;The multiplication of the two numbers is : %,f&quot;, result );\n \n \n }\n \n  else if (sign == '/'){\n \n double result = num1 / num2;\n \n  System.out.printf(&quot;The division of the two numbers is : %,f&quot;, result );\n  }\n  else\n     \n      System.out.println(&quot;Please enter a valid sign &quot;);\n\n }              \n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":2896904,"reputation":1,"user_id":2484463,"display_name":"Ghetto Man"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1664068358,"creation_date":1373314540,"question_id":17535224,"body_markdown":"So I am trying to test a basic calculator, but the program ends right after it asks for &quot;adding, subtracting, multiplying or dividing&quot; - it doesn&#39;t give the user a chance to type. help appreciated please :) thanks!\r\n\r\n    import java.util.Scanner;\r\n    public class Lator {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tfloat num1;\r\n    \t\tfloat num2;\r\n    \t\tString choice;\r\n    \t\t\r\n    \t\tScanner imput = new Scanner(System.in);\r\n    \r\n    \t\tSystem.out.println(&quot;This is a calculator.&quot;);\r\n    \t\tSystem.out.println(&quot;Enter your first number.&quot;);\r\n    \t\tnum1 = imput.nextFloat();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter your second number.&quot;);\r\n    \t\tnum2 = imput.nextFloat();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Would you like to add, subtract, divide, or multiply?&quot;);\r\n    \t\tchoice = imput.nextLine();\r\n    \t\t\r\n    \t\tif(choice.equals(&quot;Add&quot;)||choice.equals(&quot;+&quot;)||choice.equals(&quot;Addition&quot;)) {\r\n    \t\tSystem.out.println(&quot;Number1 &quot; + num1 + &quot; + &quot; + &quot;number2&quot; + num2 + &quot;=&quot; + (num1 + num2));\r\n    \t\t\r\n    \t\t}\r\n    \t}\r\n    }","title":"Basic Calculator Error","body":"<p>So I am trying to test a basic calculator, but the program ends right after it asks for \"adding, subtracting, multiplying or dividing\" - it doesn't give the user a chance to type. help appreciated please :) thanks!</p>\n\n<pre><code>import java.util.Scanner;\npublic class Lator {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        float num1;\n        float num2;\n        String choice;\n\n        Scanner imput = new Scanner(System.in);\n\n        System.out.println(\"This is a calculator.\");\n        System.out.println(\"Enter your first number.\");\n        num1 = imput.nextFloat();\n\n        System.out.println(\"Enter your second number.\");\n        num2 = imput.nextFloat();\n\n        System.out.println(\"Would you like to add, subtract, divide, or multiply?\");\n        choice = imput.nextLine();\n\n        if(choice.equals(\"Add\")||choice.equals(\"+\")||choice.equals(\"Addition\")) {\n        System.out.println(\"Number1 \" + num1 + \" + \" + \"number2\" + num2 + \"=\" + (num1 + num2));\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":1788462,"reputation":4464,"user_id":1629362,"accept_rate":69,"display_name":"bitkot"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1408609606,"creation_date":1408609606,"answer_id":25421611,"question_id":25419488,"body_markdown":"If you don&#39;t need to worry about SQL injection. i.e you are not getting data from user side then you can do this.\r\n\r\n    StringBuilder sqlInsert = new StringBuilder(&quot;insert into sampletbl (name) values &quot;);\r\n    for(String name : list){   \r\n    \tsqlInsert.append(&quot;(&quot;+name++&quot;),&quot;);\r\n    }\r\n    sqlInsert.setLength(sqlInsert.length() - 1);\r\n    session.createSQLQuery( sqlInsert.toString()).executeUpdate();\r\n\r\nIt will create a query like this.\r\n\r\n    insert into sampletbl (name) values (&quot;name1&quot;), (&quot;name2&quot;)....\r\n\r\n \r\n\r\nThis way your query will run only once and not for each and every item in the list.","title":"Batch insert using Native SQL in Hibernate","body":"<p>If you don't need to worry about SQL injection. i.e you are not getting data from user side then you can do this.</p>\n\n<pre><code>StringBuilder sqlInsert = new StringBuilder(\"insert into sampletbl (name) values \");\nfor(String name : list){   \n    sqlInsert.append(\"(\"+name++\"),\");\n}\nsqlInsert.setLength(sqlInsert.length() - 1);\nsession.createSQLQuery( sqlInsert.toString()).executeUpdate();\n</code></pre>\n\n<p>It will create a query like this.</p>\n\n<pre><code>insert into sampletbl (name) values (\"name1\"), (\"name2\")....\n</code></pre>\n\n<p>This way your query will run only once and not for each and every item in the list.</p>\n"},{"tags":[],"owner":{"account_id":2176106,"reputation":5850,"user_id":1926762,"accept_rate":60,"display_name":"Oomph Fortuity"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1408955584,"creation_date":1408950125,"answer_id":25480573,"question_id":25419488,"body_markdown":"Hibernate have a Batch functionality.But in above case I am using Native SQL,as per my observation hibernate batch is not much effective in case of Native SQL.Yes,surely it avoids the out of memory error but does not improves much performance.\r\n    Hence I retreated to implemented JDBC Batch in Hibernate.Hibernate provides method `doWork()` to get Connection from Hibernate Session.\r\n\r\n    Session session = sessionFactory.openSession();\r\n    Transaction tx = session.beginTransaction();\r\n    //get Connction from Session\r\n    session.doWork(new Work() {\r\n           @Override\r\n           public void execute(Connection conn) throws SQLException {\r\n              PreparedStatement pstmt = null;\r\n              try{\r\n               String sqlInsert = &quot;insert into sampletbl (name) values (?) &quot;;\r\n               pstmt = conn.prepareStatement(sqlInsert );\r\n               int i=0;\r\n               for(String name : list){\r\n                   pstmt .setString(1, name);\r\n                   pstmt .addBatch();\r\n\r\n                   //20 : JDBC batch size\r\n                 if ( i % 20 == 0 ) { \r\n                    pstmt .executeBatch();\r\n                  }\r\n                  i++;\r\n               }\r\n               pstmt .executeBatch();\r\n             }\r\n             finally{\r\n               pstmt .close();\r\n             }                                \r\n         }\r\n    });\r\n    tx.commit();\r\n    session.close();","title":"Batch insert using Native SQL in Hibernate","body":"<p>Hibernate have a Batch functionality.But in above case I am using Native SQL,as per my observation hibernate batch is not much effective in case of Native SQL.Yes,surely it avoids the out of memory error but does not improves much performance.\n    Hence I retreated to implemented JDBC Batch in Hibernate.Hibernate provides method <code>doWork()</code> to get Connection from Hibernate Session.</p>\n\n<pre><code>Session session = sessionFactory.openSession();\nTransaction tx = session.beginTransaction();\n//get Connction from Session\nsession.doWork(new Work() {\n       @Override\n       public void execute(Connection conn) throws SQLException {\n          PreparedStatement pstmt = null;\n          try{\n           String sqlInsert = \"insert into sampletbl (name) values (?) \";\n           pstmt = conn.prepareStatement(sqlInsert );\n           int i=0;\n           for(String name : list){\n               pstmt .setString(1, name);\n               pstmt .addBatch();\n\n               //20 : JDBC batch size\n             if ( i % 20 == 0 ) { \n                pstmt .executeBatch();\n              }\n              i++;\n           }\n           pstmt .executeBatch();\n         }\n         finally{\n           pstmt .close();\n         }                                \n     }\n});\ntx.commit();\nsession.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9039930,"reputation":2027,"user_id":6734526,"display_name":"George Ninan"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1510253433,"creation_date":1495015679,"answer_id":44021825,"question_id":25419488,"body_markdown":"Here is the same example for Java 8, Hibernate-JPA 2.1:\r\n\r\n    @Repository\r\n    public class SampleNativeQueryRepository {\r\n        private final Logger log = LoggerFactory.getLogger(SampleNativeQueryRepository.class);\r\n        @PersistenceContext\r\n        private EntityManager em;\r\n    \r\n        public void bulkInsertName(List&lt;String&gt; list){\r\n            Session hibernateSession = em.unwrap(Session.class);\r\n            String sql = &quot;insert into sampletbl (name) values (:name) &quot;;\r\n            hibernateSession.doWork(connection -&gt; {\r\n                try (PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\r\n                    int i = 1;\r\n                    for(String name : list) {\r\n                        preparedStatement.setString(1, name);\r\n                        preparedStatement.addBatch();\r\n                        //Batch size: 20\r\n                        if (i % 20 == 0) {\r\n                            preparedStatement.executeBatch();\r\n                        }\r\n                        i++;\r\n                    }\r\n                    preparedStatement.executeBatch();\r\n                } catch (SQLException e) {\r\n                    log.error(&quot;An exception occurred in SampleNativeQueryRepository.bulkInsertName: {}&quot;, e);\r\n                }\r\n            });\r\n        }\r\n    }","title":"Batch insert using Native SQL in Hibernate","body":"<p>Here is the same example for Java 8, Hibernate-JPA 2.1:</p>\n\n<pre><code>@Repository\npublic class SampleNativeQueryRepository {\n    private final Logger log = LoggerFactory.getLogger(SampleNativeQueryRepository.class);\n    @PersistenceContext\n    private EntityManager em;\n\n    public void bulkInsertName(List&lt;String&gt; list){\n        Session hibernateSession = em.unwrap(Session.class);\n        String sql = \"insert into sampletbl (name) values (:name) \";\n        hibernateSession.doWork(connection -&gt; {\n            try (PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\n                int i = 1;\n                for(String name : list) {\n                    preparedStatement.setString(1, name);\n                    preparedStatement.addBatch();\n                    //Batch size: 20\n                    if (i % 20 == 0) {\n                        preparedStatement.executeBatch();\n                    }\n                    i++;\n                }\n                preparedStatement.executeBatch();\n            } catch (SQLException e) {\n                log.error(\"An exception occurred in SampleNativeQueryRepository.bulkInsertName: {}\", e);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":215223,"reputation":2949,"user_id":469718,"accept_rate":12,"display_name":"kisna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664067658,"creation_date":1664067658,"answer_id":73841472,"question_id":25419488,"body_markdown":"A slight variation leveraging the Named Parameter features of Hibernate Native Query without the Spring JDBC or Spring JPA:\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n    public int[] updateInBatch(List&lt;Entity&gt; entities) {\r\n        int[] resultsRef = null;\r\n        try {\r\n            Session session = entityManager.unwrap(Session.class);\r\n            int[] results = new int[entities.size()];\r\n            IntStream.range(0, entities.size())\r\n                    .forEach(idx -&gt; {\r\n                        Entity entity = entities.get(idx);\r\n                        Query q = session\r\n                                .createNativeQuery(&quot;UPDATE Entity &quot; +\r\n                                        &quot; WHERE &quot; +\r\n                                        &quot; ID = :Id  &quot;)\r\n                                .unwrap(SQLQuery.class)\r\n                                .setString(&quot;Id&quot;, entity.getId());\r\n                        results[idx] = q.executeUpdate();\r\n                    });\r\n            session.flush();\r\n            session.clear();\r\n            resultsRef = results;\r\n        } catch (Exception ex) {\r\n            resultsRef = null;\r\n        }\r\n        return resultsRef;\r\n    } ","title":"Batch insert using Native SQL in Hibernate","body":"<p>A slight variation leveraging the Named Parameter features of Hibernate Native Query without the Spring JDBC or Spring JPA:</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRED)\npublic int[] updateInBatch(List&lt;Entity&gt; entities) {\n    int[] resultsRef = null;\n    try {\n        Session session = entityManager.unwrap(Session.class);\n        int[] results = new int[entities.size()];\n        IntStream.range(0, entities.size())\n                .forEach(idx -&gt; {\n                    Entity entity = entities.get(idx);\n                    Query q = session\n                            .createNativeQuery(&quot;UPDATE Entity &quot; +\n                                    &quot; WHERE &quot; +\n                                    &quot; ID = :Id  &quot;)\n                            .unwrap(SQLQuery.class)\n                            .setString(&quot;Id&quot;, entity.getId());\n                    results[idx] = q.executeUpdate();\n                });\n        session.flush();\n        session.clear();\n        resultsRef = results;\n    } catch (Exception ex) {\n        resultsRef = null;\n    }\n    return resultsRef;\n} \n</code></pre>\n"}],"owner":{"account_id":2176106,"reputation":5850,"user_id":1926762,"accept_rate":60,"display_name":"Oomph Fortuity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35415,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":25480573,"answer_count":4,"score":18,"last_activity_date":1664067658,"creation_date":1408602157,"question_id":25419488,"body_markdown":"I want to insert records in database using Hibernate Native SQL.The code is like below\r\n\r\n     Session session = sessionFactory.openSession();\r\n     Transaction tx = session.beginTransaction();\r\n    \r\n    String sqlInsert = &quot;insert into sampletbl (name) values (?) &quot;;\r\n    for(String name : list){\r\n       session.createSQLQuery( sqlInsert )\r\n              .setParameter(1,name)\r\n              .executeUpdate();\r\n    } \r\n    tx.commit();\r\n    session.close();\r\n\r\nAbove code is working fine.I think it is not the best way.\r\nPlease give me another possible ways to do this if any.\r\nThank you","title":"Batch insert using Native SQL in Hibernate","body":"<p>I want to insert records in database using Hibernate Native SQL.The code is like below</p>\n\n<pre><code> Session session = sessionFactory.openSession();\n Transaction tx = session.beginTransaction();\n\nString sqlInsert = \"insert into sampletbl (name) values (?) \";\nfor(String name : list){\n   session.createSQLQuery( sqlInsert )\n          .setParameter(1,name)\n          .executeUpdate();\n} \ntx.commit();\nsession.close();\n</code></pre>\n\n<p>Above code is working fine.I think it is not the best way.\nPlease give me another possible ways to do this if any.\nThank you</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664065049,"creation_date":1664065049,"answer_id":73841359,"question_id":73840797,"body_markdown":"The problem is in the way you construct the query here:\r\n```\r\nspinnerRefG= FirebaseDatabase.getInstance()\r\n    .getReference(&quot;CodePostale&quot;)\r\n    .child(&quot;Deleg&quot;)\r\n    .orderByChild(&quot;Gouv&quot;)\r\n    .equalTo(ChoixG);\r\n```\r\n\r\nYou&#39;re asking to load child nodes of `/CodePostale/Deleg` that have a `Gouv` property with a value of `ChoixG`. But if we check the screenshot of the data, there is no `/CodePostale/Deleg`, so no data is returned.\r\n\r\nWhat you want instead is to check the child nodes of `/CodePostale` and return the ones where their `Deleg/Gouv` property has a value of `ChoixG`, which you can do with:\r\n```\r\nspinnerRefG= FirebaseDatabase.getInstance()\r\n    .getReference(&quot;CodePostale&quot;)\r\n    .orderByChild(&quot;Deleg/Gouv&quot;)\r\n    .equalTo(ChoixG);\r\n```","title":"Android Firebase query return Null","body":"<p>The problem is in the way you construct the query here:</p>\n<pre><code>spinnerRefG= FirebaseDatabase.getInstance()\n    .getReference(&quot;CodePostale&quot;)\n    .child(&quot;Deleg&quot;)\n    .orderByChild(&quot;Gouv&quot;)\n    .equalTo(ChoixG);\n</code></pre>\n<p>You're asking to load child nodes of <code>/CodePostale/Deleg</code> that have a <code>Gouv</code> property with a value of <code>ChoixG</code>. But if we check the screenshot of the data, there is no <code>/CodePostale/Deleg</code>, so no data is returned.</p>\n<p>What you want instead is to check the child nodes of <code>/CodePostale</code> and return the ones where their <code>Deleg/Gouv</code> property has a value of <code>ChoixG</code>, which you can do with:</p>\n<pre><code>spinnerRefG= FirebaseDatabase.getInstance()\n    .getReference(&quot;CodePostale&quot;)\n    .orderByChild(&quot;Deleg/Gouv&quot;)\n    .equalTo(ChoixG);\n</code></pre>\n"}],"owner":{"account_id":16469776,"reputation":65,"user_id":11899084,"display_name":"Hello_world"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664065049,"creation_date":1664056278,"question_id":73840797,"body_markdown":"I&#39;m working on a project where there&#39;s an activity which contains 3 spinners( Nested). I need the 2nd spinner to have the data based on the selected item of the 1st spinner and the data is retrieved from Firebase \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe 1st spinner is going to have all &quot;Gouv&quot; values , the 2nd one is going to have the &quot;Deleg&quot; values where &quot;Gouv&quot; value is equal to the selected item &quot;Gouv&quot; of the 1st spinner .\r\n\r\nHere is the code that i tried and i keep get in the log Null .\r\n\r\n\r\n    public class RechCode extends AppCompatActivity {\r\n        DatabaseReference spinnerRef;\r\n        Query spinnerRefG;\r\n        Spinner spinnerG;\r\n        Spinner spinnerD;\r\n        Spinner spinnerL;\r\n        ArrayAdapter&lt;String&gt; adapterG;\r\n        ArrayAdapter&lt;String&gt; adapterL;\r\n        ArrayAdapter&lt;String&gt; adapterD;\r\n        ArrayList&lt;String&gt; spinnerDList;\r\n        ArrayList&lt;String&gt; spinnerGList;\r\n        ArrayList&lt;String&gt; spinnerLOList;\r\n        Query spinnerRefD;\r\n        private String ChoixG;\r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_rech_code);\r\n            spinnerG = findViewById(R.id.SpinnerGouv);\r\n            spinnerD = findViewById(R.id.SpinnerDeleg);\r\n            spinnerL = findViewById(R.id.SpinnerLoc);\r\n            spinnerRef = FirebaseDatabase.getInstance().getReference().child(&quot;CodePostale&quot;);\r\n            \r\n    \r\n            //Query queryD = spinnerG.(&quot;state&quot;, &quot;CA&quot;);\r\n            spinnerGList = new ArrayList&lt;&gt;();\r\n            spinnerDList = new ArrayList&lt;&gt;();\r\n            spinnerLOList = new ArrayList&lt;&gt;();\r\n            adapterD= new ArrayAdapter&lt;String&gt;( RechCode.this, android.R. layout. simple_spinner_dropdown_item,spinnerDList);\r\n            adapterL= new ArrayAdapter&lt;String&gt;( RechCode.this, android.R. layout. simple_spinner_dropdown_item,spinnerLOList);\r\n            adapterG= new ArrayAdapter&lt;String&gt;( RechCode.this, android.R. layout. simple_spinner_dropdown_item,spinnerGList);\r\n            spinnerG.setAdapter(adapterG);\r\n            spinnerD.setAdapter(adapterD);\r\n            spinnerL.setAdapter(adapterL);\r\n            ShowdataGouv();\r\n            spinnerRefG= FirebaseDatabase.getInstance().getReference(&quot;CodePostale&quot;).child(&quot;Deleg&quot;).orderByChild(&quot;Gouv&quot;).equalTo(ChoixG);\r\n    \r\n            ShowdataDeleg();\r\n            spinnerG.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n    \r\n    \r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                    ChoixG = spinnerGList.get(i);\r\n                    Toast.makeText(getApplicationContext(), &quot;Gouvernorat:&quot; + ChoixG, Toast.LENGTH_LONG).show();\r\n                }\r\n                @Override\r\n                public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {}\r\n            });\r\n    \r\n    \r\n    \r\n            Button retour = (Button) findViewById(R.id.return_btn);\r\n    \r\n            retour.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    RetourMenu();\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        private void ShowdataLoc(String text) {\r\n            spinnerRef.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot1) {\r\n                    for (DataSnapshot item:snapshot1.getChildren()){\r\n                        spinnerLOList.add(item.child(&quot;Loc&quot;).getValue().toString());\r\n    \r\n                    }\r\n                    adapterD.notifyDataSetChanged();\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        private void ShowdataDeleg() {\r\n            spinnerRefG.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot2) {\r\n                    for (DataSnapshot item:snapshot2.getChildren()){\r\n                        spinnerDList.add(item.child(&quot;Deleg&quot;).getValue().toString());\r\n    \r\n    \r\n                    }\r\n                    Log.d(&quot;Value&quot;,&quot;BBBBBBBB&quot;+ snapshot2);\r\n                    adapterD.notifyDataSetChanged();\r\n    \r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        private void ShowdataGouv() {\r\n            spinnerRef.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot3) {\r\n                    for (DataSnapshot item:snapshot3.getChildren()){\r\n                        spinnerGList.add(item.child(&quot;Gouv&quot;).getValue().toString());\r\n                        Log.d(&quot;Value&quot;,&quot;AAAAAAAAA&quot;+ snapshot3);\r\n    \r\n                    }\r\n                    adapterG.notifyDataSetChanged();\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        private void RetourMenu() {\r\n            Intent intent = new Intent(getApplicationContext(), Menus.class);\r\n            startActivity(intent);\r\n        }\r\n        \r\n    \r\n    }\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rutlr.png\r\n  [2]: https://i.stack.imgur.com/mXRug.png","title":"Android Firebase query return Null","body":"<p>I'm working on a project where there's an activity which contains 3 spinners( Nested). I need the 2nd spinner to have the data based on the selected item of the 1st spinner and the data is retrieved from Firebase</p>\n<p><a href=\"https://i.stack.imgur.com/Rutlr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rutlr.png\" alt=\"enter image description here\" /></a></p>\n<p>The 1st spinner is going to have all &quot;Gouv&quot; values , the 2nd one is going to have the &quot;Deleg&quot; values where &quot;Gouv&quot; value is equal to the selected item &quot;Gouv&quot; of the 1st spinner .</p>\n<p>Here is the code that i tried and i keep get in the log Null .</p>\n<pre><code>public class RechCode extends AppCompatActivity {\n    DatabaseReference spinnerRef;\n    Query spinnerRefG;\n    Spinner spinnerG;\n    Spinner spinnerD;\n    Spinner spinnerL;\n    ArrayAdapter&lt;String&gt; adapterG;\n    ArrayAdapter&lt;String&gt; adapterL;\n    ArrayAdapter&lt;String&gt; adapterD;\n    ArrayList&lt;String&gt; spinnerDList;\n    ArrayList&lt;String&gt; spinnerGList;\n    ArrayList&lt;String&gt; spinnerLOList;\n    Query spinnerRefD;\n    private String ChoixG;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_rech_code);\n        spinnerG = findViewById(R.id.SpinnerGouv);\n        spinnerD = findViewById(R.id.SpinnerDeleg);\n        spinnerL = findViewById(R.id.SpinnerLoc);\n        spinnerRef = FirebaseDatabase.getInstance().getReference().child(&quot;CodePostale&quot;);\n        \n\n        //Query queryD = spinnerG.(&quot;state&quot;, &quot;CA&quot;);\n        spinnerGList = new ArrayList&lt;&gt;();\n        spinnerDList = new ArrayList&lt;&gt;();\n        spinnerLOList = new ArrayList&lt;&gt;();\n        adapterD= new ArrayAdapter&lt;String&gt;( RechCode.this, android.R. layout. simple_spinner_dropdown_item,spinnerDList);\n        adapterL= new ArrayAdapter&lt;String&gt;( RechCode.this, android.R. layout. simple_spinner_dropdown_item,spinnerLOList);\n        adapterG= new ArrayAdapter&lt;String&gt;( RechCode.this, android.R. layout. simple_spinner_dropdown_item,spinnerGList);\n        spinnerG.setAdapter(adapterG);\n        spinnerD.setAdapter(adapterD);\n        spinnerL.setAdapter(adapterL);\n        ShowdataGouv();\n        spinnerRefG= FirebaseDatabase.getInstance().getReference(&quot;CodePostale&quot;).child(&quot;Deleg&quot;).orderByChild(&quot;Gouv&quot;).equalTo(ChoixG);\n\n        ShowdataDeleg();\n        spinnerG.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n\n\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                ChoixG = spinnerGList.get(i);\n                Toast.makeText(getApplicationContext(), &quot;Gouvernorat:&quot; + ChoixG, Toast.LENGTH_LONG).show();\n            }\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {}\n        });\n\n\n\n        Button retour = (Button) findViewById(R.id.return_btn);\n\n        retour.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                RetourMenu();\n            }\n        });\n\n\n\n\n    }\n\n\n    private void ShowdataLoc(String text) {\n        spinnerRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot1) {\n                for (DataSnapshot item:snapshot1.getChildren()){\n                    spinnerLOList.add(item.child(&quot;Loc&quot;).getValue().toString());\n\n                }\n                adapterD.notifyDataSetChanged();\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    private void ShowdataDeleg() {\n        spinnerRefG.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot2) {\n                for (DataSnapshot item:snapshot2.getChildren()){\n                    spinnerDList.add(item.child(&quot;Deleg&quot;).getValue().toString());\n\n\n                }\n                Log.d(&quot;Value&quot;,&quot;BBBBBBBB&quot;+ snapshot2);\n                adapterD.notifyDataSetChanged();\n\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    private void ShowdataGouv() {\n        spinnerRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot3) {\n                for (DataSnapshot item:snapshot3.getChildren()){\n                    spinnerGList.add(item.child(&quot;Gouv&quot;).getValue().toString());\n                    Log.d(&quot;Value&quot;,&quot;AAAAAAAAA&quot;+ snapshot3);\n\n                }\n                adapterG.notifyDataSetChanged();\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n\n    private void RetourMenu() {\n        Intent intent = new Intent(getApplicationContext(), Menus.class);\n        startActivity(intent);\n    }\n    \n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mXRug.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mXRug.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","c","linux","terminal"],"comments":[{"owner":{"account_id":6121545,"reputation":12159,"user_id":4774918,"display_name":"too honest for this site"},"score":0,"creation_date":1440122078,"post_id":32130698,"comment_id":52153224,"body_markdown":"Rolled back as you changed the question completely, rendering the existing answers incomplete (including the accepted one).","body":"Rolled back as you changed the question completely, rendering the existing answers incomplete (including the accepted one)."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1440126188,"post_id":32130698,"comment_id":52154190,"body_markdown":"The edit is answered by the answers below which state the library required and point to further research. Keeping the edit will help people like me who are forced to write brief C code and need a quick synopsis.","body":"The edit is answered by the answers below which state the library required and point to further research. Keeping the edit will help people like me who are forced to write brief C code and need a quick synopsis."},{"owner":{"account_id":6121545,"reputation":12159,"user_id":4774918,"display_name":"too honest for this site"},"score":0,"creation_date":1440158133,"post_id":32130698,"comment_id":52168949,"body_markdown":"Quite arrogant your C-bashing. You should first think if you might offend people who actually prefer C for their projects. Extending a question is against the policies on SO.","body":"Quite arrogant your C-bashing. You should first think if you might offend people who actually prefer C for their projects. Extending a question is against the policies on SO."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1440189875,"post_id":32130698,"comment_id":52187393,"body_markdown":"I am not bashing C. But everyone occasionally needs to edit a short snippet in a language they almost never use.","body":"I am not bashing C. But everyone occasionally needs to edit a short snippet in a language they almost never use."},{"owner":{"account_id":6121545,"reputation":12159,"user_id":4774918,"display_name":"too honest for this site"},"score":0,"creation_date":1440241857,"post_id":32130698,"comment_id":52199002,"body_markdown":"Maybe. But in such a case she could use a more neutral wording.","body":"Maybe. But in such a case she could use a more neutral wording."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1440259529,"post_id":32130698,"comment_id":52204123,"body_markdown":"@Olaf Please state the wording that you find offensive along with your suggestions for replacing it.","body":"@Olaf Please state the wording that you find offensive along with your suggestions for replacing it."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":1,"creation_date":1440647130,"post_id":32130698,"comment_id":52362267,"body_markdown":"@Olaf This does not in ANY way answer the other question. Please remove the vandalism duplicate mark from the other post so that someone can answer it if you are not able to.","body":"@Olaf This does not in ANY way answer the other question. Please remove the vandalism duplicate mark from the other post so that someone can answer it if you are not able to."}],"answers":[{"tags":[],"owner":{"account_id":6815974,"reputation":4088,"user_id":5244653,"accept_rate":69,"display_name":"Brick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440118592,"creation_date":1440118592,"answer_id":32130765,"question_id":32130698,"body_markdown":"You do need to use JNI (as far as I know).  I use the documentation here all the time:\r\n\r\nhttp://docs.oracle.com/javase/7/docs/technotes/guides/jni/\r\n\r\nIt&#39;s a bit terse but it&#39;s workable.  It handles C and C++.  I don&#39;t know C#, so I cannot comment on that (although if forced to guess I would say no to C#).\r\n\r\nRunning your java program from C will require you to start a JVM programmatically using JNI functions, then find your class, then find your method, then call it.  There are examples here to get you started:\r\n\r\nhttp://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/invocation.html#wp9502\r\n\r\nIf you need more help, you might need to find someone who&#39;s done it before to walk you through the steps.","title":"How do I run a Java program from a C program?","body":"<p>You do need to use JNI (as far as I know).  I use the documentation here all the time:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jni/\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/technotes/guides/jni/</a></p>\n\n<p>It's a bit terse but it's workable.  It handles C and C++.  I don't know C#, so I cannot comment on that (although if forced to guess I would say no to C#).</p>\n\n<p>Running your java program from C will require you to start a JVM programmatically using JNI functions, then find your class, then find your method, then call it.  There are examples here to get you started:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/invocation.html#wp9502\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/invocation.html#wp9502</a></p>\n\n<p>If you need more help, you might need to find someone who's done it before to walk you through the steps.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440118637,"creation_date":1440118637,"answer_id":32130769,"question_id":32130698,"body_markdown":"I believe you are looking for the [`exec`](http://man7.org/linux/man-pages/man3/exec.3.html) family of functions. Something like,\r\n\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;unistd.h&gt;\r\n    \r\n    int main(int argc, char *argv[])\r\n    {\r\n            const char *file = &quot;java&quot;;\r\n            const char *arg = &quot;-cp . my.package.SomeClass 1 2 3&quot;;\r\n            printf(&quot;Hello World from C!\\n&quot;);\r\n            execlp(file, arg, (char *) NULL);\r\n    }\r\n","title":"How do I run a Java program from a C program?","body":"<p>I believe you are looking for the <a href=\"http://man7.org/linux/man-pages/man3/exec.3.html\" rel=\"nofollow\"><code>exec</code></a> family of functions. Something like,</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;unistd.h&gt;\n\nint main(int argc, char *argv[])\n{\n        const char *file = \"java\";\n        const char *arg = \"-cp . my.package.SomeClass 1 2 3\";\n        printf(\"Hello World from C!\\n\");\n        execlp(file, arg, (char *) NULL);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1440118674,"creation_date":1440118674,"answer_id":32130773,"question_id":32130698,"body_markdown":"If *all* you want to do is run `java -cp . my.package.SomeClass 1 2 3` from your program, you could just use `system` which runs an external command:\r\n\r\n    system(&quot;java -cp . my.package.SomeClass 1 2 3&quot;);\r\n\r\nThis is the simplest solution, but not very flexible - you can&#39;t interact with the Java program apart from giving it arguments, for example.","title":"How do I run a Java program from a C program?","body":"<p>If <em>all</em> you want to do is run <code>java -cp . my.package.SomeClass 1 2 3</code> from your program, you could just use <code>system</code> which runs an external command:</p>\n\n<pre><code>system(\"java -cp . my.package.SomeClass 1 2 3\");\n</code></pre>\n\n<p>This is the simplest solution, but not very flexible - you can't interact with the Java program apart from giving it arguments, for example.</p>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4249,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":32130773,"answer_count":3,"score":0,"last_activity_date":1664064618,"creation_date":1440118096,"question_id":32130698,"body_markdown":"I have researched this, but the results are either 10+ years old and do not explain what JNI is or if it is the only approach, or the results are for C++ or C#.  So here is my question:  \r\n  \r\n**How do I run a Java program from a C program, using the following code as an example?**  What specific changes to I make to the following code to get the C program to successfully call the Java program with parameters?  \r\n    \r\nIn the CentOS terminal, I am able to successfully run a Java program when I type the following in the command line:  \r\n  \r\n    java -cp . my.package.SomeClass 1 2 3\r\n  \r\nSimilarly, from the same folder in the terminal, I am able to successfully run a C program when I type the following in the command line:  \r\n  \r\n    ./hello  \r\n  \r\nThe code for `hello.c` is:  \r\n  \r\n    #include &lt;stdio.h&gt;\r\n  \r\n    main() {\r\n        printf(&quot;Hello World from C!\\n&quot;);\r\n    }  \r\n  \r\n**How do I modify the code for `hello.c` so that it also runs `my.package.SomeClass` with the parameters `1 2 3` ?**  \r\n  \r\nFor example, how do I accomplish the following, but without throwing errors:  \r\n  \r\n    #include &lt;stdio.h&gt;\r\n  \r\n    main() {\r\n        printf(&quot;Hello World from C!\\n&quot;);\r\n        java -cp . my.package.SomeClass 1 2 3  //What is the right syntax here?\r\n    }  \r\n  \r\nEdit\r\n---\r\n\r\nI am most interested in answers that show how to call a method, such as `SomeClass.someMethod(1,2,3)`.\r\n","title":"How do I run a Java program from a C program?","body":"<p>I have researched this, but the results are either 10+ years old and do not explain what JNI is or if it is the only approach, or the results are for C++ or C#.  So here is my question:</p>\n<p><strong>How do I run a Java program from a C program, using the following code as an example?</strong>  What specific changes to I make to the following code to get the C program to successfully call the Java program with parameters?</p>\n<p>In the CentOS terminal, I am able to successfully run a Java program when I type the following in the command line:</p>\n<pre><code>java -cp . my.package.SomeClass 1 2 3\n</code></pre>\n<p>Similarly, from the same folder in the terminal, I am able to successfully run a C program when I type the following in the command line:</p>\n<pre><code>./hello  \n</code></pre>\n<p>The code for <code>hello.c</code> is:</p>\n<pre><code>#include &lt;stdio.h&gt;\n\nmain() {\n    printf(&quot;Hello World from C!\\n&quot;);\n}  \n</code></pre>\n<p><strong>How do I modify the code for <code>hello.c</code> so that it also runs <code>my.package.SomeClass</code> with the parameters <code>1 2 3</code> ?</strong></p>\n<p>For example, how do I accomplish the following, but without throwing errors:</p>\n<pre><code>#include &lt;stdio.h&gt;\n\nmain() {\n    printf(&quot;Hello World from C!\\n&quot;);\n    java -cp . my.package.SomeClass 1 2 3  //What is the right syntax here?\n}  \n</code></pre>\n<h2>Edit</h2>\n<p>I am most interested in answers that show how to call a method, such as <code>SomeClass.someMethod(1,2,3)</code>.</p>\n"},{"tags":["java","soap","genexus"],"comments":[{"owner":{"account_id":6440126,"reputation":6358,"user_id":4990392,"display_name":"Dada"},"score":0,"creation_date":1663667040,"post_id":73776445,"comment_id":130288315,"body_markdown":"Please do not post images of code but rather copy-paste your code directly.","body":"Please do not post images of code but rather copy-paste your code directly."}],"answers":[{"tags":[],"owner":{"account_id":1760358,"reputation":91,"user_id":1607651,"display_name":"Leandro Minatel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664059077,"creation_date":1664059077,"answer_id":73840994,"question_id":73776445,"body_markdown":"This error could be related with the SAC numbers [#48044][1], [#49588][2] or [#51075][3], take a look at them before do anything. If it&#39;s not, then the error comes because the endpoint is not returning an XML, or something broke in between. You&#39;re talking about &quot;a certificate to encrypt the data&quot;, but there is no code where you &quot;encrypt the data&quot; itself, setting the property to a trustStore is not enought, you have to use the [Security API][4] to encrypt the data.\r\nAnd last but not least, I do see that the web service provider uses realm-based authentication, check if the parameters are ok. It&#39;s very rare to see endpoints with realm-based authentication but, who knows...\r\n\r\n\r\n  [1]: https://www.genexus.com/en/developers/websac?data=48044;;\r\n  [2]: https://www.genexus.com/en/developers/websac?data=49588;;\r\n  [3]: https://www.genexus.com/en/developers/websac?data=51075;;\r\n  [4]: https://wiki.genexus.com/commwiki/servlet/wiki?43916,Toc%3AGeneXus%20Security%20API","title":"Problem consuming Webservice with certificate","body":"<p>This error could be related with the SAC numbers <a href=\"https://www.genexus.com/en/developers/websac?data=48044;;\" rel=\"nofollow noreferrer\">#48044</a>, <a href=\"https://www.genexus.com/en/developers/websac?data=49588;;\" rel=\"nofollow noreferrer\">#49588</a> or <a href=\"https://www.genexus.com/en/developers/websac?data=51075;;\" rel=\"nofollow noreferrer\">#51075</a>, take a look at them before do anything. If it's not, then the error comes because the endpoint is not returning an XML, or something broke in between. You're talking about &quot;a certificate to encrypt the data&quot;, but there is no code where you &quot;encrypt the data&quot; itself, setting the property to a trustStore is not enought, you have to use the <a href=\"https://wiki.genexus.com/commwiki/servlet/wiki?43916,Toc%3AGeneXus%20Security%20API\" rel=\"nofollow noreferrer\">Security API</a> to encrypt the data.\nAnd last but not least, I do see that the web service provider uses realm-based authentication, check if the parameters are ok. It's very rare to see endpoints with realm-based authentication but, who knows...</p>\n"}],"owner":{"account_id":24926647,"reputation":11,"user_id":20035299,"display_name":"Sergio Guich&#243;n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664059077,"creation_date":1663604375,"question_id":73776445,"body_markdown":"I am having problems consuming a SOAP WebService with security that uses a certificate to encrypt the data.\r\nI am using GeneXus 17 (but I did this same test with GeneXus X Evolution 2 and 3) generating Java.\r\nI did all the necessary steps to generate the certificate and the keystore, then I added everything in the KB and in the object as specified there but it gives me the following error when executing it:\r\n```\r\n&quot;C:\\Program Files\\Java\\jdk1.8.0_241\\bin\\java.exe&quot; com.rendiciongastos17.aobtnerrendicionespendientessoap\r\nException in thread &quot;main&quot; java.lang.RuntimeException: DOCTYPE is disallowed when the feature &quot;http://apache.org/xml/features/disallow-doctype-decl&quot; set to true.(-5)\r\nat com.rendiciongastos17.SdtClients.getrendicionespendientesintegracion(SdtClients.java:386)\r\nat com.rendiciongastos17.aobtnerpendingrendicionessoap.privateExecute(aobtnerpendingrendicionessoap.java:61)\r\nat com.renditionexpenses17.aobtnerpendingrenditionssoap.execute_int(aobtnerpendingrenditionssoap.java:46)\r\nat com.renditionexpenses17.aobtnerrenditionspendingsoap.execute(aobtnerrenditionspendingsoap.java:38)\r\nat com.surrenderpending17.aobtnerrenderpendingsoap.executeCmdLine(aobtnerrenderpendingsoap.java:22)\r\nat com.renditionexpenses17.aobtnerrenditionspendingsoap.main(aobtnerrenditionspendingsoap.java:15)\r\nFailed: Execution\r\n```\r\n    \r\nNow if I import the WSDL into SOAPUI and run it, it does fine.\r\n\r\nThe only code I have is:\r\n\r\n```\r\njava System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;d:\\\\caolix&quot;);\r\njava System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;Riogas1710&quot;);\r\n\r\n&amp;location = GetLocation(&#39;Clients&#39;)\r\n&amp;location.Authentication = 1\r\n&amp;location.AuthenticationMethod = 0\r\n&amp;location.AuthenticationRealm = &quot;UnRealm&quot;\r\n&amp;location.AuthenticationUser = &quot;riogas&quot;\r\n&amp;location.AuthenticationPassword = &quot;xcrtdymx&quot;\r\n\r\n&amp;RendicionesPendientesDeIntegracion = &amp;wsClients.GetRendicionesPendientesIntegracion()\r\n```\r\n\r\nThe location of the keystoke is correct and I can&#39;t see what it can be.\r\n","title":"Problem consuming Webservice with certificate","body":"<p>I am having problems consuming a SOAP WebService with security that uses a certificate to encrypt the data.\nI am using GeneXus 17 (but I did this same test with GeneXus X Evolution 2 and 3) generating Java.\nI did all the necessary steps to generate the certificate and the keystore, then I added everything in the KB and in the object as specified there but it gives me the following error when executing it:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk1.8.0_241\\bin\\java.exe&quot; com.rendiciongastos17.aobtnerrendicionespendientessoap\nException in thread &quot;main&quot; java.lang.RuntimeException: DOCTYPE is disallowed when the feature &quot;http://apache.org/xml/features/disallow-doctype-decl&quot; set to true.(-5)\nat com.rendiciongastos17.SdtClients.getrendicionespendientesintegracion(SdtClients.java:386)\nat com.rendiciongastos17.aobtnerpendingrendicionessoap.privateExecute(aobtnerpendingrendicionessoap.java:61)\nat com.renditionexpenses17.aobtnerpendingrenditionssoap.execute_int(aobtnerpendingrenditionssoap.java:46)\nat com.renditionexpenses17.aobtnerrenditionspendingsoap.execute(aobtnerrenditionspendingsoap.java:38)\nat com.surrenderpending17.aobtnerrenderpendingsoap.executeCmdLine(aobtnerrenderpendingsoap.java:22)\nat com.renditionexpenses17.aobtnerrenditionspendingsoap.main(aobtnerrenditionspendingsoap.java:15)\nFailed: Execution\n</code></pre>\n<p>Now if I import the WSDL into SOAPUI and run it, it does fine.</p>\n<p>The only code I have is:</p>\n<pre><code>java System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;d:\\\\caolix&quot;);\njava System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;Riogas1710&quot;);\n\n&amp;location = GetLocation('Clients')\n&amp;location.Authentication = 1\n&amp;location.AuthenticationMethod = 0\n&amp;location.AuthenticationRealm = &quot;UnRealm&quot;\n&amp;location.AuthenticationUser = &quot;riogas&quot;\n&amp;location.AuthenticationPassword = &quot;xcrtdymx&quot;\n\n&amp;RendicionesPendientesDeIntegracion = &amp;wsClients.GetRendicionesPendientesIntegracion()\n</code></pre>\n<p>The location of the keystoke is correct and I can't see what it can be.</p>\n"},{"tags":["java","spring-boot","activemq-artemis"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1664033086,"post_id":73836873,"comment_id":130381079,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1664052504,"post_id":73836873,"comment_id":130384682,"body_markdown":"What version of Spring Boot are you using?","body":"What version of Spring Boot are you using?"},{"owner":{"account_id":26430317,"reputation":1,"user_id":20076598,"display_name":"Manoj S"},"score":0,"creation_date":1664264664,"post_id":73836873,"comment_id":130425446,"body_markdown":"I am using spring boot 2.6.9. Currently an getting org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Could not connect to broker URL: ***. Reason: java.net.ConnectException: Connection refused (Connection refused)\nat org.springframework.jms.support.JmsUtils.convertJmsAccessException.... Reason: java.net.ConnectException: Connection refused (Connection refused). We have made sure that queue is up and port are configured properly...","body":"I am using spring boot 2.6.9. Currently an getting org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Could not connect to broker URL: ***. Reason: java.net.ConnectException: Connection refused (Connection refused) at org.springframework.jms.support.JmsUtils.convertJmsAccessExc&zwnj;&#8203;eption.... Reason: java.net.ConnectException: Connection refused (Connection refused). We have made sure that queue is up and port are configured properly..."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664058829,"creation_date":1664058829,"answer_id":73840979,"question_id":73836873,"body_markdown":"This line in your `application.properties` is problematic:\r\n```\r\nspring.artemis.host=amqp://(service name).(namespace)\r\n```\r\nThis is a URL, not a hostname. You need to specify just a hostname (or an IP address) of your remote instance of ActiveMQ Artemis here. This is noted in the [Spring Boot documentation][1], e.g.:\r\n```\r\nspring.artemis.mode=native\r\nspring.artemis.host=192.168.1.210\r\nspring.artemis.port=9876\r\nspring.artemis.user=admin\r\nspring.artemis.password=secret\r\n```\r\nBetter yet, you should move to Spring Boot 3.x and use the `broker-url` property instead, e.g.:\r\n```\r\nspring.artemis.mode=native\r\nspring.artemis.broker-url=tcp://192.168.1.210:9876\r\nspring.artemis.user=admin\r\nspring.artemis.password=secret\r\n```\r\nSee more details in the [Spring documentation][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-messaging.html#boot-features-artemis\r\n  [2]: https://docs.spring.io/spring-boot/docs/3.0.x/reference/html/messaging.html#messaging.jms.artemis","title":"Trying to connect to remote ActiveMQ Artemis but getting below mentioned error","body":"<p>This line in your <code>application.properties</code> is problematic:</p>\n<pre><code>spring.artemis.host=amqp://(service name).(namespace)\n</code></pre>\n<p>This is a URL, not a hostname. You need to specify just a hostname (or an IP address) of your remote instance of ActiveMQ Artemis here. This is noted in the <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-messaging.html#boot-features-artemis\" rel=\"nofollow noreferrer\">Spring Boot documentation</a>, e.g.:</p>\n<pre><code>spring.artemis.mode=native\nspring.artemis.host=192.168.1.210\nspring.artemis.port=9876\nspring.artemis.user=admin\nspring.artemis.password=secret\n</code></pre>\n<p>Better yet, you should move to Spring Boot 3.x and use the <code>broker-url</code> property instead, e.g.:</p>\n<pre><code>spring.artemis.mode=native\nspring.artemis.broker-url=tcp://192.168.1.210:9876\nspring.artemis.user=admin\nspring.artemis.password=secret\n</code></pre>\n<p>See more details in the <a href=\"https://docs.spring.io/spring-boot/docs/3.0.x/reference/html/messaging.html#messaging.jms.artemis\" rel=\"nofollow noreferrer\">Spring documentation</a>.</p>\n"}],"owner":{"account_id":26430317,"reputation":1,"user_id":20076598,"display_name":"Manoj S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664058829,"creation_date":1664019036,"question_id":73836873,"body_markdown":"Error which I am actually getting:\r\n```\r\norg.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Failed to create session factory; nested exception is ActiveMQNotConnectedException[errorType=NOT_CONNECTED message=AMQ219007: Cannot connect to server(s). Tried with all available servers.]\r\nat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311)\r\nat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:185)\r\nat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:507)\r\nat org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:584)\r\nat org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:661)\r\nat com.cox.fst.wfm.processor.TicketProcessor.processInboundTicket(TicketProcessor.java:68)...\r\n.\r\n.\r\n.\r\nCaused by: org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Failed to create session factory; nested exception is ActiveMQNotConnectedException[errorType=NOT_CONNECTED message=AMQ219007: Cannot connect to server(s). Tried with all available servers.]\r\nat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311)\r\nat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:185)\r\nat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:507)\r\nat org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:584)\r\nat org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:661)\r\nat com.cox.fst.wfm.processor.TicketProcessor.processInboundTicket(TicketProcessor.java:68)\r\n... 108 common frames omitted\r\nCaused by: javax.jms.JMSException: Failed to create session factory\r\nat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:882)\r\nat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:299)\r\nat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:294)\r\nat org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196)\r\nat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:494)\r\n... 111 common frames omitted\r\nCaused by: org.apache.activemq.artemis.api.core.ActiveMQNotConnectedException: AMQ219007: Cannot connect to server(s). Tried with all available servers.\r\nat org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:708)\r\nat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:880)\r\n... 115 common frames omitted\r\n```\r\nBeans in Artemis config class for sender:\r\n\r\n```java\r\n@Bean\r\npublic ActiveMQConnectionFactory connectionFactory() {\r\n\tActiveMQConnectionFactory factory = new ActiveMQConnectionFactory();\r\n\tJmsDefaultPrefetchPolicy prefetchPolicy = new JmsDefaultPrefetchPolicy();\r\n\tprefetchPolicy.setQueuePrefetch(prefetch);\r\n\treturn factory;\r\n}\r\n@Bean\r\npublic JmsTemplate jmsTemplate(final ConnectionFactory connectionFactory) {\r\n\tJmsTemplate jmsTemplate = new JmsTemplate(connectionFactory());\r\n\tjmsTemplate.setMessageConverter(producerJackson2MessageConverter());\r\n\tjmsTemplate.setDefaultDestinationName(queue);\r\n\treturn jmsTemplate;\r\n}\r\n\r\n@Bean\r\npublic SimpleMessageConverter producerJackson2MessageConverter() {\r\n\treturn new SimpleMessageConverter();\r\n}\r\n```\r\nBeans in Artemis config class for receiver:\r\n\r\n```java\r\n@Bean\r\npublic ActiveMQConnectionFactory connectionFactory() {\r\n    ActiveMQConnectionFactory factory = new ActiveMQConnectionFactory();\r\n    JmsDefaultPrefetchPolicy prefetchPolicy = new JmsDefaultPrefetchPolicy();\r\n    prefetchPolicy.setQueuePrefetch(prefetch);\r\n    return factory;\r\n}\r\n@Bean\r\npublic DefaultJmsListenerContainerFactory amqpListnerFactory(final DefaultJmsListenerContainerFactoryConfigurer configurer, final ConnectionFactory connectionFactory) {\r\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n    configurer.configure(factory, connectionFactory);\r\n    factory.setSessionTransacted(false);\r\n    factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\r\n    factory.setConcurrency(concurrency);\r\n    return factory;\r\n}\r\n```\r\n\r\nprefetch ,queue, concurrency are constants.\r\n\r\nMy `application.properties` has\r\n```\r\nspring.artemis.embedded.enabled=false\r\nspring.artemis.mode=native\r\nspring.artemis.host=amqp://(service name).(namespace)\r\nspring.artemis.port=61616\r\nspring.artemis.user=****\r\nspring.artemis.password=****\r\n```\r\n\r\nIn sender:\r\n```java\r\njmsTemplate.convertAndSend(destination,message);\r\n```\r\nIn receiver:\r\n```java\r\n@JmsListener(destination = &quot;${****}&quot;, containerFactory = &quot;amqpListnerFactory&quot;)\r\n```\r\n\r\nPlease help me solve the issue are please guide me in connecting remote ActiveMQ Artemis broker.","title":"Trying to connect to remote ActiveMQ Artemis but getting below mentioned error","body":"<p>Error which I am actually getting:</p>\n<pre><code>org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Failed to create session factory; nested exception is ActiveMQNotConnectedException[errorType=NOT_CONNECTED message=AMQ219007: Cannot connect to server(s). Tried with all available servers.]\nat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311)\nat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:185)\nat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:507)\nat org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:584)\nat org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:661)\nat com.cox.fst.wfm.processor.TicketProcessor.processInboundTicket(TicketProcessor.java:68)...\n.\n.\n.\nCaused by: org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Failed to create session factory; nested exception is ActiveMQNotConnectedException[errorType=NOT_CONNECTED message=AMQ219007: Cannot connect to server(s). Tried with all available servers.]\nat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311)\nat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:185)\nat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:507)\nat org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:584)\nat org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:661)\nat com.cox.fst.wfm.processor.TicketProcessor.processInboundTicket(TicketProcessor.java:68)\n... 108 common frames omitted\nCaused by: javax.jms.JMSException: Failed to create session factory\nat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:882)\nat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:299)\nat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:294)\nat org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196)\nat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:494)\n... 111 common frames omitted\nCaused by: org.apache.activemq.artemis.api.core.ActiveMQNotConnectedException: AMQ219007: Cannot connect to server(s). Tried with all available servers.\nat org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:708)\nat org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:880)\n... 115 common frames omitted\n</code></pre>\n<p>Beans in Artemis config class for sender:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ActiveMQConnectionFactory connectionFactory() {\n    ActiveMQConnectionFactory factory = new ActiveMQConnectionFactory();\n    JmsDefaultPrefetchPolicy prefetchPolicy = new JmsDefaultPrefetchPolicy();\n    prefetchPolicy.setQueuePrefetch(prefetch);\n    return factory;\n}\n@Bean\npublic JmsTemplate jmsTemplate(final ConnectionFactory connectionFactory) {\n    JmsTemplate jmsTemplate = new JmsTemplate(connectionFactory());\n    jmsTemplate.setMessageConverter(producerJackson2MessageConverter());\n    jmsTemplate.setDefaultDestinationName(queue);\n    return jmsTemplate;\n}\n\n@Bean\npublic SimpleMessageConverter producerJackson2MessageConverter() {\n    return new SimpleMessageConverter();\n}\n</code></pre>\n<p>Beans in Artemis config class for receiver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ActiveMQConnectionFactory connectionFactory() {\n    ActiveMQConnectionFactory factory = new ActiveMQConnectionFactory();\n    JmsDefaultPrefetchPolicy prefetchPolicy = new JmsDefaultPrefetchPolicy();\n    prefetchPolicy.setQueuePrefetch(prefetch);\n    return factory;\n}\n@Bean\npublic DefaultJmsListenerContainerFactory amqpListnerFactory(final DefaultJmsListenerContainerFactoryConfigurer configurer, final ConnectionFactory connectionFactory) {\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n    configurer.configure(factory, connectionFactory);\n    factory.setSessionTransacted(false);\n    factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\n    factory.setConcurrency(concurrency);\n    return factory;\n}\n</code></pre>\n<p>prefetch ,queue, concurrency are constants.</p>\n<p>My <code>application.properties</code> has</p>\n<pre><code>spring.artemis.embedded.enabled=false\nspring.artemis.mode=native\nspring.artemis.host=amqp://(service name).(namespace)\nspring.artemis.port=61616\nspring.artemis.user=****\nspring.artemis.password=****\n</code></pre>\n<p>In sender:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jmsTemplate.convertAndSend(destination,message);\n</code></pre>\n<p>In receiver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JmsListener(destination = &quot;${****}&quot;, containerFactory = &quot;amqpListnerFactory&quot;)\n</code></pre>\n<p>Please help me solve the issue are please guide me in connecting remote ActiveMQ Artemis broker.</p>\n"},{"tags":["java","kotlin","annotations"],"answers":[{"tags":[],"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1571395399,"creation_date":1571393223,"answer_id":58448607,"question_id":58448038,"body_markdown":"Let&#39;s start with the reason the second approach doesn&#39;t work:\r\n\r\n&gt;  [The annotation returned by this method could contain **an element whose value is of type Class. This value cannot be returned directly: information necessary to locate and load a class (such as the class loader to use) is not available, and the class might not be loadable at all.** Attempting to read a Class object by invoking the relevant method on the returned annotation will result in a MirroredTypeException, from which the corresponding TypeMirror may be extracted. Similarly, attempting to read a Class\\[\\]-valued element will result in a MirroredTypesException.][1]\r\n\r\nwhich obviously applies to `KClass` as well. \r\n\r\nSo for classes in annotations you can only get a [`TypeMirror`][2] (implemented in this case by [`Type.ClassType`][3], but that&#39;s an internal detail you shouldn&#39;t rely on) and not a `KClass`. Either by the first approach or\r\n\r\n    inline fun &lt;reified T : Annotation&gt; Element.getAnnotationClassValue(f: T.() -&gt; KClass&lt;*&gt;) = try { \r\n        getAnnotation(T::class.java).f() \r\n        throw Exception(&quot;Expected to get a MirroredTypeException&quot;)\r\n    } catch (e: MirroredTypeException) {\r\n        e.typeMirror\r\n    }\r\n\r\nwhich can be used as\r\n\r\n    element.getAnnotationClassValue&lt;Model&gt; { owner }\r\n\r\nand returns the `TypeMirror` for `DataOwner`.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/javax/lang/model/element/Element.html#getAnnotation(java.lang.Class)\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/javax/lang/model/type/TypeMirror.html\r\n  [3]: https://static.javadoc.io/org.kohsuke.sorcerer/sorcerer-javac/0.11/com/sun/tools/javac/code/Type.ClassType.html","title":"Kotlin - How to get KClass&lt;*&gt; annotation parameter from annotation processor","body":"<p>Let's start with the reason the second approach doesn't work:</p>\n\n<blockquote>\n  <p><a href=\"https://docs.oracle.com/javase/10/docs/api/javax/lang/model/element/Element.html#getAnnotation(java.lang.Class)\" rel=\"nofollow noreferrer\">The annotation returned by this method could contain <strong>an element whose value is of type Class. This value cannot be returned directly: information necessary to locate and load a class (such as the class loader to use) is not available, and the class might not be loadable at all.</strong> Attempting to read a Class object by invoking the relevant method on the returned annotation will result in a MirroredTypeException, from which the corresponding TypeMirror may be extracted. Similarly, attempting to read a Class[]-valued element will result in a MirroredTypesException.</a></p>\n</blockquote>\n\n<p>which obviously applies to <code>KClass</code> as well. </p>\n\n<p>So for classes in annotations you can only get a <a href=\"https://docs.oracle.com/javase/10/docs/api/javax/lang/model/type/TypeMirror.html\" rel=\"nofollow noreferrer\"><code>TypeMirror</code></a> (implemented in this case by <a href=\"https://static.javadoc.io/org.kohsuke.sorcerer/sorcerer-javac/0.11/com/sun/tools/javac/code/Type.ClassType.html\" rel=\"nofollow noreferrer\"><code>Type.ClassType</code></a>, but that's an internal detail you shouldn't rely on) and not a <code>KClass</code>. Either by the first approach or</p>\n\n<pre><code>inline fun &lt;reified T : Annotation&gt; Element.getAnnotationClassValue(f: T.() -&gt; KClass&lt;*&gt;) = try { \n    getAnnotation(T::class.java).f() \n    throw Exception(\"Expected to get a MirroredTypeException\")\n} catch (e: MirroredTypeException) {\n    e.typeMirror\n}\n</code></pre>\n\n<p>which can be used as</p>\n\n<pre><code>element.getAnnotationClassValue&lt;Model&gt; { owner }\n</code></pre>\n\n<p>and returns the <code>TypeMirror</code> for <code>DataOwner</code>.</p>\n"},{"tags":[],"owner":{"account_id":6812140,"reputation":20816,"user_id":5241933,"accept_rate":83,"display_name":"David Rawson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664058459,"creation_date":1664058459,"answer_id":73840958,"question_id":58448038,"body_markdown":"If you are using KSP then the solution can look something like this:\r\n\r\nUsing the experimental APIs and assuming the KClass you reference in the annotation is available:\r\n\r\n    resolver.getSymbolsWithAnnotation(&quot;com.example.Model&quot;)\r\n        .map {\r\n            val consumerType = try {\r\n                it.getAnnotationsByType(Model::class).single().consumer\r\n                null\r\n            } catch (e: KSTypeNotPresentException) {\r\n                e.ksType\r\n            }\r\n            val consumerDeclaration = consumerType!!.declaration as KSClassDeclaration // etc\r\n        }\r\n\r\n\r\nIf you can&#39;t do this, then maintaining a KSP view of the annotation is more flexible:\r\n\r\n    resolver.getSymbolsWithAnnotation(&quot;com.example.Model&quot;)\r\n        .map { ksAnnotated -&gt;\r\n            val args = ksAnnotated.annotations.single {\r\n                it.shortName.asString() == &quot;Model&quot; &amp;&amp; it.annotationType.resolve().declaration.qualifiedName?.asString() == &quot;com.example.Model&quot;\r\n            }.arguments\r\n\r\n            val consumerType = args.single { it.name?.asString() == &quot;owner&quot; }.value as KSType\r\n            val consumerDeclaration = consumerType.declaration as KSClassDeclaration // etc \r\n        }\r\n","title":"Kotlin - How to get KClass&lt;*&gt; annotation parameter from annotation processor","body":"<p>If you are using KSP then the solution can look something like this:</p>\n<p>Using the experimental APIs and assuming the KClass you reference in the annotation is available:</p>\n<pre><code>resolver.getSymbolsWithAnnotation(&quot;com.example.Model&quot;)\n    .map {\n        val consumerType = try {\n            it.getAnnotationsByType(Model::class).single().consumer\n            null\n        } catch (e: KSTypeNotPresentException) {\n            e.ksType\n        }\n        val consumerDeclaration = consumerType!!.declaration as KSClassDeclaration // etc\n    }\n</code></pre>\n<p>If you can't do this, then maintaining a KSP view of the annotation is more flexible:</p>\n<pre><code>resolver.getSymbolsWithAnnotation(&quot;com.example.Model&quot;)\n    .map { ksAnnotated -&gt;\n        val args = ksAnnotated.annotations.single {\n            it.shortName.asString() == &quot;Model&quot; &amp;&amp; it.annotationType.resolve().declaration.qualifiedName?.asString() == &quot;com.example.Model&quot;\n        }.arguments\n\n        val consumerType = args.single { it.name?.asString() == &quot;owner&quot; }.value as KSType\n        val consumerDeclaration = consumerType.declaration as KSClassDeclaration // etc \n    }\n</code></pre>\n"}],"owner":{"account_id":9267387,"reputation":193,"user_id":6882456,"display_name":"Ahmed Mourad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2626,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":58448607,"answer_count":2,"score":3,"last_activity_date":1664058459,"creation_date":1571391319,"question_id":58448038,"body_markdown":"I have the following annotation:\r\n\r\n```\r\n@Target(AnnotationTarget.CLASS)\r\n@Retention(AnnotationRetention.SOURCE)\r\n@MustBeDocumented\r\nannotation class Model(\r\n    val owner: KClass&lt;*&gt;,\r\n    val consumer: KClass&lt;*&gt;\r\n)\r\n\r\n@Model(DataOwner::class, DataConsumer::class)\r\ninterface Student {\r\n    val name: String\r\n    val group: Group\r\n}\r\n```\r\n\r\nI need to get the value of `owner` and `consumer` in my annotation processor.\r\n\r\nI&#39;ve tried this approach:\r\n\r\n```\r\nprivate inline fun &lt;reified T&gt; findAnnotationValue(\r\n    element: Element,\r\n    annotationClass: KClass&lt;*&gt;,\r\n    valueName: String\r\n): T? {\r\n    return element.annotationMirrors.map {\r\n        it to it.annotationType.asElement() as TypeElement\r\n    }.firstOrNull { (_, element) -&gt;\r\n        element.qualifiedName.contentEquals(annotationClass.qualifiedName)\r\n    }?.let { (mirror, _) -&gt;\r\n        extractValue(mirror, valueName)\r\n    }\r\n}\r\n\r\nprivate inline fun &lt;reified T&gt; extractValue(\r\n    annotationMirror: AnnotationMirror,\r\n    valueName: String\r\n): T? {\r\n    return annotationMirror.elementValues.toList()\r\n        .firstOrNull { (key, _) -&gt;\r\n            key.simpleName.contentEquals(valueName)\r\n        }?.let { (_, value) -&gt;\r\n            value.value as T\r\n        }\r\n}\r\n\r\n\r\nval ownerClass: KClass&lt;*&gt; = findAnnotationValue(\r\n    element,\r\n    Model::class,\r\n    &quot;owner&quot;\r\n)\r\n\r\n```\r\n\r\nBut it gave me this error:\r\n\r\n```\r\ne: [kapt] An exception occurred: java.lang.ClassCastException: com.sun.tools.javac.code.Type$ClassType cannot be cast to kotlin.reflect.KClass\r\n\r\n```\r\n\r\nI also tried this:\r\n\r\n```\r\nval ownerClass: KClass&lt;*&gt; = element.getAnnotation(Model::class.java).owner\r\n```\r\n\r\nBut it gave me this error:\r\n\r\n```\r\ne: [kapt] An exception occurred: javax.lang.model.type.MirroredTypeException: Attempt to access Class object for TypeMirror inc.ahmedmourad.systems.tutors.domain.model.DataOwner\r\n```\r\n\r\n*`inc.ahmedmourad.systems.tutors.domain.model.DataOwner` is the `owner` value passed to the annotation.*\r\n\r\n\r\nSo this&#39;s where i&#39;m stuck right now, any help is appreciated.\r\nThank you!\r\n","title":"Kotlin - How to get KClass&lt;*&gt; annotation parameter from annotation processor","body":"<p>I have the following annotation:</p>\n\n<pre><code>@Target(AnnotationTarget.CLASS)\n@Retention(AnnotationRetention.SOURCE)\n@MustBeDocumented\nannotation class Model(\n    val owner: KClass&lt;*&gt;,\n    val consumer: KClass&lt;*&gt;\n)\n\n@Model(DataOwner::class, DataConsumer::class)\ninterface Student {\n    val name: String\n    val group: Group\n}\n</code></pre>\n\n<p>I need to get the value of <code>owner</code> and <code>consumer</code> in my annotation processor.</p>\n\n<p>I've tried this approach:</p>\n\n<pre><code>private inline fun &lt;reified T&gt; findAnnotationValue(\n    element: Element,\n    annotationClass: KClass&lt;*&gt;,\n    valueName: String\n): T? {\n    return element.annotationMirrors.map {\n        it to it.annotationType.asElement() as TypeElement\n    }.firstOrNull { (_, element) -&gt;\n        element.qualifiedName.contentEquals(annotationClass.qualifiedName)\n    }?.let { (mirror, _) -&gt;\n        extractValue(mirror, valueName)\n    }\n}\n\nprivate inline fun &lt;reified T&gt; extractValue(\n    annotationMirror: AnnotationMirror,\n    valueName: String\n): T? {\n    return annotationMirror.elementValues.toList()\n        .firstOrNull { (key, _) -&gt;\n            key.simpleName.contentEquals(valueName)\n        }?.let { (_, value) -&gt;\n            value.value as T\n        }\n}\n\n\nval ownerClass: KClass&lt;*&gt; = findAnnotationValue(\n    element,\n    Model::class,\n    \"owner\"\n)\n\n</code></pre>\n\n<p>But it gave me this error:</p>\n\n<pre><code>e: [kapt] An exception occurred: java.lang.ClassCastException: com.sun.tools.javac.code.Type$ClassType cannot be cast to kotlin.reflect.KClass\n\n</code></pre>\n\n<p>I also tried this:</p>\n\n<pre><code>val ownerClass: KClass&lt;*&gt; = element.getAnnotation(Model::class.java).owner\n</code></pre>\n\n<p>But it gave me this error:</p>\n\n<pre><code>e: [kapt] An exception occurred: javax.lang.model.type.MirroredTypeException: Attempt to access Class object for TypeMirror inc.ahmedmourad.systems.tutors.domain.model.DataOwner\n</code></pre>\n\n<p><em><code>inc.ahmedmourad.systems.tutors.domain.model.DataOwner</code> is the <code>owner</code> value passed to the annotation.</em></p>\n\n<p>So this's where i'm stuck right now, any help is appreciated.\nThank you!</p>\n"},{"tags":["java","audio","fft","frequency"],"comments":[{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1664073725,"post_id":73840915,"comment_id":130386940,"body_markdown":"did you try to get the dominant frequency? I don&#39;t know where you get this Harmonic Product Spectrum - according to this http://musicweb.ucsd.edu/~trsmyth/analysis/Harmonic_Product_Spectrum.html there should be some search - do you have some search there for minimum/max value? and your code is a bit of a laughable with all the finals.","body":"did you try to get the dominant frequency? I don&#39;t know where you get this Harmonic Product Spectrum - according to this <a href=\"http://musicweb.ucsd.edu/~trsmyth/analysis/Harmonic_Product_Spectrum.html\" rel=\"nofollow noreferrer\">musicweb.ucsd.edu/~trsmyth/analysis/&hellip;</a> there should be some search - do you have some search there for minimum/max value? and your code is a bit of a laughable with all the finals."},{"owner":{"account_id":15778010,"reputation":134,"user_id":11385284,"display_name":"SprintKeyz"},"score":0,"creation_date":1664074736,"post_id":73840915,"comment_id":130387001,"body_markdown":"Didn&#39;t notice how many final variables I had until now, just wanted to get IntelliJ IDEA to shut up with all its warnings&#128517;. I was under the impression that the dominant frequency was just the value with the largest magnitude from the FFT&#39;s magnitudes[] array. However, this value was giving me errors, so I asked and was told HPS might be the answer. Is that not the case?","body":"Didn&#39;t notice how many final variables I had until now, just wanted to get IntelliJ IDEA to shut up with all its warnings😅. I was under the impression that the dominant frequency was just the value with the largest magnitude from the FFT&#39;s magnitudes[] array. However, this value was giving me errors, so I asked and was told HPS might be the answer. Is that not the case?"},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1664257776,"post_id":73840915,"comment_id":130423581,"body_markdown":"A couple ignorant questions here--does the library code have a known accuracy or resolution? I&#39;m also curious about the notes that you are testing. Sine wave? A more complex wave? I wonder if a complex tone with a harmonic at a higher amplitude than a fundamental will give results as if that harmonic is the main pitch, for example if there is a prominent formant peak in a complex tone. Is this something where it might help to test against Audacity&#39;s harmonic analyzer? Also: maybe try asking in the DSP Stack Exchange area. I hope to dabble with this stuff myself, eventually.","body":"A couple ignorant questions here--does the library code have a known accuracy or resolution? I&#39;m also curious about the notes that you are testing. Sine wave? A more complex wave? I wonder if a complex tone with a harmonic at a higher amplitude than a fundamental will give results as if that harmonic is the main pitch, for example if there is a prominent formant peak in a complex tone. Is this something where it might help to test against Audacity&#39;s harmonic analyzer? Also: maybe try asking in the DSP Stack Exchange area. I hope to dabble with this stuff myself, eventually."},{"owner":{"account_id":15778010,"reputation":134,"user_id":11385284,"display_name":"SprintKeyz"},"score":0,"creation_date":1664258600,"post_id":73840915,"comment_id":130423745,"body_markdown":"Good idea with the DSP stack exchange, I&#39;ll probably end up doing that. To be honest, I don&#39;t understand a ton about how FFT works, although I&#39;m trying to learn. For now though, I&#39;m using [&quot;FFTFactory&quot;](https://github.com/hendriks73/jipes/blob/master/src/main/java/com/tagtraum/jipes/math/FFTFactory.java) on GitHub for my FFT. I&#39;ll try out Audacity&#39;s harmonic analyzer though and compare its reading to my own (and try to debug more). Thanks for the help!","body":"Good idea with the DSP stack exchange, I&#39;ll probably end up doing that. To be honest, I don&#39;t understand a ton about how FFT works, although I&#39;m trying to learn. For now though, I&#39;m using <a href=\"https://github.com/hendriks73/jipes/blob/master/src/main/java/com/tagtraum/jipes/math/FFTFactory.java\" rel=\"nofollow noreferrer\">&quot;FFTFactory&quot;</a> on GitHub for my FFT. I&#39;ll try out Audacity&#39;s harmonic analyzer though and compare its reading to my own (and try to debug more). Thanks for the help!"}],"owner":{"account_id":15778010,"reputation":134,"user_id":11385284,"display_name":"SprintKeyz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664057893,"creation_date":1664057893,"question_id":73840915,"body_markdown":"I have some code here, but the software seems to spit out incorrect values for some notes. For example, it tells me my frequency is &quot;947&quot; for a lower note and &quot;775&quot; for a slightly higher note. From there though, it seems to generally work. Why could this be?\r\n\r\nHere&#39;s my code:\r\n\r\n    public static void main(final String[] args) throws Exception {\r\n        final AudioFormat format = new AudioFormat(\r\n                AudioFormat.Encoding.PCM_SIGNED,\r\n                44100,\r\n                16,\r\n                1,\r\n                2,\r\n                44100,\r\n                false\r\n        );\r\n\r\n        final DataLine.Info info = new DataLine.Info(\r\n                TargetDataLine.class,\r\n                format\r\n        );\r\n\r\n        final TargetDataLine targetLine = (TargetDataLine) AudioSystem.getLine(info);\r\n        targetLine.open();\r\n        targetLine.start();\r\n\r\n        final AudioInputStream audioInputStream = new AudioInputStream(targetLine);\r\n\r\n        final byte[] buf = new byte[1024];\r\n        final int numberOfSamples = buf.length / format.getFrameSize();\r\n        final JavaFFT fft = new JavaFFT(numberOfSamples);\r\n\r\n        while (true) {\r\n            audioInputStream.read(buf);\r\n\r\n            final float[] samples = decode(buf, format);\r\n            final float[][] transformed = fft.transform(samples);\r\n            final float[] real = transformed[0];\r\n            final float[] imaginary = transformed[1];\r\n            final double[] magnitudes = toMagnitudes(real, imaginary);\r\n\r\n            // do something with magnitudes\r\n\r\n            double[] hps = HPS(magnitudes);\r\n            int maxIndex = maxIndex(hps);\r\n\r\n            int freq = (int) (maxIndex * format.getSampleRate() / numberOfSamples);\r\n\r\n            System.out.println(freq);\r\n        }\r\n    }\r\n\r\n\r\n    private static final int HPS_ORDER = 2;\r\n\r\n    // Harmonic Product Spectrum\r\n    private static double[] HPS(double[] magnitudes) {\r\n        double[] hps = new double[magnitudes.length];\r\n\r\n        int hpsLength = magnitudes.length / (HPS_ORDER+1);\r\n        for (int i = 0; i &lt; hps.length; i++) {\r\n            if (i &lt; hpsLength) {\r\n                hps[i] = magnitudes[i];\r\n            } else {\r\n                hps[i] = Float.NEGATIVE_INFINITY;\r\n            }\r\n        }\r\n\r\n        for (int i = 1; i &lt;= HPS_ORDER; i++) {\r\n            int dsFactor = i+1;\r\n            for (int j = 0; j &lt; hpsLength; j++) {\r\n                float avg = 0;\r\n                for (int k = 0; k &lt; dsFactor; k++) {\r\n                    avg += magnitudes[j*dsFactor + k];\r\n                }\r\n                hps[j] += avg / dsFactor;\r\n            }\r\n        }\r\n\r\n        return hps;\r\n    }\r\n\r\nI could be missing something very obvious, but I don&#39;t see it. If anyone can offer assistance, it would be greatly appreciated!","title":"Harmonic Product Spectrum doesn&#39;t return correct frequency","body":"<p>I have some code here, but the software seems to spit out incorrect values for some notes. For example, it tells me my frequency is &quot;947&quot; for a lower note and &quot;775&quot; for a slightly higher note. From there though, it seems to generally work. Why could this be?</p>\n<p>Here's my code:</p>\n<pre><code>public static void main(final String[] args) throws Exception {\n    final AudioFormat format = new AudioFormat(\n            AudioFormat.Encoding.PCM_SIGNED,\n            44100,\n            16,\n            1,\n            2,\n            44100,\n            false\n    );\n\n    final DataLine.Info info = new DataLine.Info(\n            TargetDataLine.class,\n            format\n    );\n\n    final TargetDataLine targetLine = (TargetDataLine) AudioSystem.getLine(info);\n    targetLine.open();\n    targetLine.start();\n\n    final AudioInputStream audioInputStream = new AudioInputStream(targetLine);\n\n    final byte[] buf = new byte[1024];\n    final int numberOfSamples = buf.length / format.getFrameSize();\n    final JavaFFT fft = new JavaFFT(numberOfSamples);\n\n    while (true) {\n        audioInputStream.read(buf);\n\n        final float[] samples = decode(buf, format);\n        final float[][] transformed = fft.transform(samples);\n        final float[] real = transformed[0];\n        final float[] imaginary = transformed[1];\n        final double[] magnitudes = toMagnitudes(real, imaginary);\n\n        // do something with magnitudes\n\n        double[] hps = HPS(magnitudes);\n        int maxIndex = maxIndex(hps);\n\n        int freq = (int) (maxIndex * format.getSampleRate() / numberOfSamples);\n\n        System.out.println(freq);\n    }\n}\n\n\nprivate static final int HPS_ORDER = 2;\n\n// Harmonic Product Spectrum\nprivate static double[] HPS(double[] magnitudes) {\n    double[] hps = new double[magnitudes.length];\n\n    int hpsLength = magnitudes.length / (HPS_ORDER+1);\n    for (int i = 0; i &lt; hps.length; i++) {\n        if (i &lt; hpsLength) {\n            hps[i] = magnitudes[i];\n        } else {\n            hps[i] = Float.NEGATIVE_INFINITY;\n        }\n    }\n\n    for (int i = 1; i &lt;= HPS_ORDER; i++) {\n        int dsFactor = i+1;\n        for (int j = 0; j &lt; hpsLength; j++) {\n            float avg = 0;\n            for (int k = 0; k &lt; dsFactor; k++) {\n                avg += magnitudes[j*dsFactor + k];\n            }\n            hps[j] += avg / dsFactor;\n        }\n    }\n\n    return hps;\n}\n</code></pre>\n<p>I could be missing something very obvious, but I don't see it. If anyone can offer assistance, it would be greatly appreciated!</p>\n"},{"tags":["java","geometry","processing","collision"],"answers":[{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663481455,"creation_date":1663348068,"answer_id":73748232,"question_id":73747724,"body_markdown":"Shift coordinate system to make origin in circle center. Let ellipse center now is `x0, y0`. Write squared distance from origin to ellipse\r\n\r\n    (x0+a*cos(t))^2+(y0+b*sin(t))^2 = D^2\r\nand find minimum: differentiate by `t`, make derivative=0, solve for unknown `t`, get point closest to origin (seems quartic equation should be solved)\r\n\r\nIf distance is smaller than circle radius, intersection does exist.\r\n\r\nUpdate. How it should work:  \r\nDistance from origin to ellipse is minimal distance to all ellipse points. It is known from math. analysis that in point of minimum of function `F(t)` it&#39;s derivative `F&#39;(t)==0`  (when function reaches miminum or maximum, derivative changes it&#39;s sign). So we can get equation of function derivative, get it&#39;s zeros and find point where function has minumum (we must also check that it is not maximum, and the second derivative is not zero `F&#39;&#39;(t) != 0`). Distance function is too complex for these purposes (sqrt&#39;s causes long derivative expression), but luckily squared distance has the same extrema as distance, so we can just write `x^2+y^2` for points of ellipse, parametrized by some convenient way, get derivative, find munimum.\r\n\r\nAxis-aligned ellipse with semi-axes `a` and `b` and center `x0,y0` hase equation\r\n\r\n    x = x0+a*cos(t)\r\n    y = y0+b*sin(t)\r\nand squared distance formula is given above. It&#39;s derivative (by variable `t`)\r\n\r\n    d(D2)/dt = -2*a^2*cos(t)*sin(t)+2*b^2*cos(t)*sin(t)-x0*a*sin(t)+y0*b*cos(t) = 0\r\n\r\nTo solve this equation, we can make substitution of `cos` and `sin` using [half-angle tangent formulas][1], and result will be quartic (t-th degree) polynomial for unknown `u=tan(t/2)`. I don&#39;t want to make these formulas here because they are quite long, and I&#39;m not sure they are easy usable. Perhaps there are some libraries implementing point-ellipse distance. BTW, I found that [here similar approach is described with code][2], bit also look at other answers - looks like numerical approach ([like this one][3]) is much simpler to implement.\r\n\r\n    \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Tangent_half-angle_formula\r\n  [2]: https://stackoverflow.com/a/50119488/844416\r\n  [3]: https://stackoverflow.com/a/46007540/844416","title":"Scaled circle to circle collision","body":"<p>Shift coordinate system to make origin in circle center. Let ellipse center now is <code>x0, y0</code>. Write squared distance from origin to ellipse</p>\n<pre><code>(x0+a*cos(t))^2+(y0+b*sin(t))^2 = D^2\n</code></pre>\n<p>and find minimum: differentiate by <code>t</code>, make derivative=0, solve for unknown <code>t</code>, get point closest to origin (seems quartic equation should be solved)</p>\n<p>If distance is smaller than circle radius, intersection does exist.</p>\n<p>Update. How it should work:<br />\nDistance from origin to ellipse is minimal distance to all ellipse points. It is known from math. analysis that in point of minimum of function <code>F(t)</code> it's derivative <code>F'(t)==0</code>  (when function reaches miminum or maximum, derivative changes it's sign). So we can get equation of function derivative, get it's zeros and find point where function has minumum (we must also check that it is not maximum, and the second derivative is not zero <code>F''(t) != 0</code>). Distance function is too complex for these purposes (sqrt's causes long derivative expression), but luckily squared distance has the same extrema as distance, so we can just write <code>x^2+y^2</code> for points of ellipse, parametrized by some convenient way, get derivative, find munimum.</p>\n<p>Axis-aligned ellipse with semi-axes <code>a</code> and <code>b</code> and center <code>x0,y0</code> hase equation</p>\n<pre><code>x = x0+a*cos(t)\ny = y0+b*sin(t)\n</code></pre>\n<p>and squared distance formula is given above. It's derivative (by variable <code>t</code>)</p>\n<pre><code>d(D2)/dt = -2*a^2*cos(t)*sin(t)+2*b^2*cos(t)*sin(t)-x0*a*sin(t)+y0*b*cos(t) = 0\n</code></pre>\n<p>To solve this equation, we can make substitution of <code>cos</code> and <code>sin</code> using <a href=\"https://en.wikipedia.org/wiki/Tangent_half-angle_formula\" rel=\"nofollow noreferrer\">half-angle tangent formulas</a>, and result will be quartic (t-th degree) polynomial for unknown <code>u=tan(t/2)</code>. I don't want to make these formulas here because they are quite long, and I'm not sure they are easy usable. Perhaps there are some libraries implementing point-ellipse distance. BTW, I found that <a href=\"https://stackoverflow.com/a/50119488/844416\">here similar approach is described with code</a>, bit also look at other answers - looks like numerical approach (<a href=\"https://stackoverflow.com/a/46007540/844416\">like this one</a>) is much simpler to implement.</p>\n"},{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664057584,"creation_date":1663370181,"answer_id":73751063,"question_id":73747724,"body_markdown":"I must admit I only understand a tiny part of MBo&#39;s answer (which sounds solid (+1)).\r\n\r\nThis is my understanding of his formula:\r\n```math\r\n - adding x0 and y0 (the first ellipse centre) moves the origin (x0 + ... , y0 + ...)\r\n - a and b are the two radii of the ellipse (e.g. width / 2, height / 2)\r\n - t is the angle between the ellipse and the cirle on the right (I think)\r\n - using the polar to cartesian coordinate conversion formula(*) we get two &quot;sides&quot; of a triangle where the diagonal is the distance to the circle \r\n - x = cos(angle) * width/2, y = sin(angle) * height/2, to which add the ellipse offset (x0, y0)\r\n - x^2 + y^2 = distance^2 (Pythagoras theorem)\r\n\r\n  (x0+a*cos(t))^2+(y0+b*sin(t))^2 = D^2\r\n```\r\n\r\n[cartesian coordinate conversion formula(*)][1]\r\n\r\nWhat I don&#39;t get is the derrivative/differentiation part (because I wasn&#39;t paying attention in school and I haven&#39;t gone back to learn those properly, yet)\r\n\r\nHere&#39;s a basic sketch visualising the above and using the fact that we can use [`atan2(y, x)`][2] (where y = circle y - ellipse y and x = circle x - ellipse y) to calculate the angle between the ellipse. Then, using the polar coordinate convertion we can calculate the closest point on the ellipse towards the circle. If the distance between this closest point and the centre of the circle is smaller than the circle&#39;s radius then they must intersect.\r\n\r\n```java\r\n// e1 - ellipse 1 with 2:1 width to height ratio\r\nfloat e1x = 200;\r\nfloat e1y = 200;\r\nfloat e1w = 200;\r\nfloat e1h = 100;\r\n// e1 - ellipse 2 with 1:1 widht to height ratio (circle)\r\nfloat e2x = 400;\r\nfloat e2y = 200;\r\nfloat e2w = 100;\r\nfloat e2h = 100;\r\n\r\nvoid setup(){\r\n  size(600, 400);\r\n  stroke(128);\r\n  strokeWeight(3);\r\n}\r\n\r\nvoid draw(){\r\n  background(32);\r\n  \r\n  fill(255);\r\n  ellipse(e2x, e2y, e2w, e2h);\r\n  \r\n  boolean areE1E2Intersecting = isColliding();\r\n  \r\n  fill(areE1E2Intersecting ? color(0, 192, 0) : color(255));\r\n  ellipse(e1x, e1y, e1w, e1h);\r\n}\r\n\r\nboolean isColliding(){\r\n  boolean result = false;\r\n  // calculate angle between e1 and e2\r\n  float angleFromE1ToE2 = atan2(e2y - e1y, e2x - e1x);\r\n  // calculate the point one e1 towards e2 (\r\n  // 0.5 is beacause we want radius not diameter (w,h)\r\n  float xE1ToE2 = e1x + (cos(angleFromE1ToE2) * e1w * 0.5);\r\n  float yE1ToE2 = e1y + (sin(angleFromE1ToE2) * e1h * 0.5);\r\n  // optional: visualise the point\r\n  fill(255, 64);\r\n  stroke(255);\r\n  triangle(xE1ToE2, yE1ToE2,\r\n           xE1ToE2, e2y,\r\n           e2x, e2y);\r\n  ellipse(xE1ToE2, yE1ToE2, 15, 15);\r\n  fill(255);\r\n  stroke(128);\r\n  // if the distance between the closest point on the ellipse towards the circle\r\n  // is smaller than the circle&#39;s radius then they&#39;re colliding\r\n  result = dist(xE1ToE2, yE1ToE2, e2x, e2y) &lt; e2w * 0.5;\r\n  \r\n  return result;\r\n}\r\n\r\nvoid mouseDragged(){\r\n  e1x = mouseX;\r\n  e1y = mouseY;\r\n}\r\n```\r\n\r\nDrag the mouse to move the ellipse.\r\n\r\n[![ellipse to circle intersection visualisation: a white ellipse is dragged towards a white circle on a dark gray background. A triangle is drawn from the closest point on the ellipse towards the circle as the diagonal (and x, y axes as the sides). When the ellipse and circles collide the background of the ellipse turns green.][3]][3]\r\n\r\nThe code is a bit verbose, but commented: hopefully easy to follow.\r\nIt could be refactored as needed for reuse(e.g. remove visualisation, change function so it takes arguments instead of global variables, etc.) \r\n\r\n**Update**\r\n\r\nAs Mbo pointed out, `t` is not the angle.\r\nWith my approach above, you can make minimal tweaks to from ellipse-circle to ellipse-ellipse. (Your question calls both elements circles, although the image shows an ellipse and a circle, hence my snippet above. Your comment clarifies you&#39;re after ellipse to ellipse intersection)\r\n\r\nYou can make minor tweaks to my approach for ellipse to ellipse intersection. Note that is is a rough approximation/not perfect.\r\nNotice the points marked as closest to the opposite ellipse. They don&#39;t line up with the line between the centres. (I suspect this because I&#39;m using half the width/height the radius in the polar to cartesian conversion which is a bit off (especially at angles in between 90 degree increments)\r\n\r\n```java\r\n// ellipse 1\r\nfloat e1x = 200;\r\nfloat e1y = 200;\r\nfloat e1w = 200;\r\nfloat e1h = 100;\r\n// ellipse 2\r\nfloat e2x = 400;\r\nfloat e2y = 200;\r\nfloat e2w = 200;\r\nfloat e2h = 300;\r\n\r\nvoid setup(){\r\n  size(600, 400);\r\n  stroke(128);\r\n  strokeWeight(3);\r\n  noFill();\r\n}\r\n\r\nvoid draw(){\r\n  background(32);\r\n  \r\n  stroke(255);\r\n  ellipse(e2x, e2y, e2w, e2h);\r\n  \r\n  boolean areE1E2Intersecting = isColliding();\r\n  stroke(areE1E2Intersecting ? color(0, 192, 0) : color(255));\r\n  ellipse(e1x, e1y, e1w, e1h);\r\n}\r\n\r\nboolean isColliding(){\r\n  boolean result = false;\r\n  // calculate angle between e1 and e2\r\n  float angleFromE1ToE2 = atan2(e2y - e1y, e2x - e1x);\r\n  // calculate the point one e1 towards e2 \r\n  // 0.5 is beacause we want radius not diameter (w,h)\r\n  float xE1ToE2 = e1x + (cos(angleFromE1ToE2) * e1w * 0.5);\r\n  float yE1ToE2 = e1y + (sin(angleFromE1ToE2) * e1h * 0.5);\r\n  float radiusFromE1ToE2 = dist(e1x, e1y, xE1ToE2, yE1ToE2);\r\n  \r\n  float angleFromE2ToE1 = PI + angleFromE1ToE2;\r\n  float xE2ToE1 = e2x + (cos(angleFromE2ToE1) * e2w * 0.5);\r\n  float yE2ToE1 = e2y + (sin(angleFromE2ToE1) * e2h * 0.5);\r\n  float radiusFromE2ToE1 = dist(e2x, e2y, xE2ToE1, yE2ToE1);\r\n  \r\n  result = dist(e1x, e1y, e2x, e2y) &lt; (radiusFromE1ToE2 + radiusFromE2ToE1);\r\n  \r\n  // optional: visual debugging\r\n  ellipse(xE1ToE2, yE1ToE2, 15, 15);\r\n  ellipse(xE2ToE1, yE2ToE1, 15, 15);\r\n  line(e1x, e1y, e2x, e2y);\r\n  \r\n  return result;\r\n}\r\n\r\nvoid mouseDragged(){\r\n  e1x = mouseX;\r\n  e1y = mouseY;\r\n}\r\n```\r\n\r\n[![enter image description here][4]][4]\r\n\r\nNote that the above doesn&#39;t take into accounts aspect ratios that are very different or differnt ellipse orientations (and your question doesn&#39;t mention this at all in it&#39;s current form btw).\r\n\r\nDoing a quick search I see the [math][5] is move involved but there are interesting approximations like [Olli&#39;s][6].\r\n\r\nThere are probably other solutions too and I&#39;d love to see more options in Processing. One brute force/hacky workaround I can think of is using the [`blendMode(DIFFERENCE)`][7] (which will highlight intersection between shapes) then use the `loadPixels();` and `pixels[]` to search for the 1st pixel of the intersection color. If you need to optimise speed (especially for hi-res sketch), you can render a smaller offscreen buffer of your main sketch (via [`createGraphics()`][8]). (This will allow you use the blend mode and different colours from your main sketch graphics if you need to (otherwise calling `get()` will return a `PImage` &quot;snapshot&quot; of your sketch which you can `resize()` as required))\r\n\r\nHere&#39;s a basic sketch to illustrate the idea:\r\n```java\r\n// e1 - ellipse 1 with 2:1 width to height ratio\r\nfloat e1x = 200;\r\nfloat e1y = 200;\r\nfloat e1w = 200;\r\nfloat e1h = 100;\r\n// e1 - ellipse 2 with 1:1 widht to height ratio (circle)\r\nfloat e2x = 400;\r\nfloat e2y = 200;\r\nfloat e2w = 200;\r\nfloat e2h = 300;\r\n\r\nvoid setup(){\r\n  size(600, 400);\r\n  noStroke();\r\n  blendMode(DIFFERENCE);\r\n}\r\n\r\nvoid draw(){\r\n  background(0);\r\n  \r\n  fill(255, 0, 0);\r\n  ellipse(e1x, e1y, e1w, e1h);\r\n  fill(0, 255, 0);\r\n  ellipse(e2x, e2y, e2w, e2h);\r\n  \r\n  \r\n  fill(255);\r\n  text(&quot;is colliding: &quot; + isColliding(), 10, 15);\r\n}\r\n\r\nboolean isColliding(){\r\n  boolean result = false;\r\n  \r\n  loadPixels();\r\n  int numPixels = pixels.length;\r\n  for(int i = 0 ; i &lt; numPixels; i++){\r\n    // because the ellipse colours are red and green, difference is yellow\r\n    // so that&#39;s what we search for\r\n    if(pixels[i] == color(255, 255, 0)){\r\n      return true;\r\n    }\r\n  }\r\n  \r\n  return result;\r\n}\r\n\r\nvoid mouseDragged(){\r\n  e1x = mouseX;\r\n  e1y = mouseY;\r\n}\r\n```\r\n[![enter image description here][9]][9]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Polar_coordinate_system#Converting_between_polar_and_Cartesian_coordinates\r\n  [2]: https://processing.org/reference/atan2_.html\r\n  [3]: https://i.stack.imgur.com/k2ACf.gif\r\n  [4]: https://i.stack.imgur.com/wpKSR.gif\r\n  [5]: https://math.stackexchange.com/questions/193722/how-to-calculate-minimum-distance-between-two-arbitrary-ellipses-in-2d\r\n  [6]: http://yehar.com/blog/?p=2926#:~:text=The%20point%20on%20the%20side,circle%2C%20there%20is%20a%20collision.\r\n  [7]: https://processing.org/reference/blendMode_.html\r\n  [8]: https://processing.org/reference/createGraphics_.html\r\n  [9]: https://i.stack.imgur.com/O571f.gif","title":"Scaled circle to circle collision","body":"<p>I must admit I only understand a tiny part of MBo's answer (which sounds solid (+1)).</p>\n<p>This is my understanding of his formula:</p>\n<pre><code> - adding x0 and y0 (the first ellipse centre) moves the origin (x0 + ... , y0 + ...)\n - a and b are the two radii of the ellipse (e.g. width / 2, height / 2)\n - t is the angle between the ellipse and the cirle on the right (I think)\n - using the polar to cartesian coordinate conversion formula(*) we get two &quot;sides&quot; of a triangle where the diagonal is the distance to the circle \n - x = cos(angle) * width/2, y = sin(angle) * height/2, to which add the ellipse offset (x0, y0)\n - x^2 + y^2 = distance^2 (Pythagoras theorem)\n\n  (x0+a*cos(t))^2+(y0+b*sin(t))^2 = D^2\n</code></pre>\n<p><a href=\"https://en.wikipedia.org/wiki/Polar_coordinate_system#Converting_between_polar_and_Cartesian_coordinates\" rel=\"nofollow noreferrer\">cartesian coordinate conversion formula(*)</a></p>\n<p>What I don't get is the derrivative/differentiation part (because I wasn't paying attention in school and I haven't gone back to learn those properly, yet)</p>\n<p>Here's a basic sketch visualising the above and using the fact that we can use <a href=\"https://processing.org/reference/atan2_.html\" rel=\"nofollow noreferrer\"><code>atan2(y, x)</code></a> (where y = circle y - ellipse y and x = circle x - ellipse y) to calculate the angle between the ellipse. Then, using the polar coordinate convertion we can calculate the closest point on the ellipse towards the circle. If the distance between this closest point and the centre of the circle is smaller than the circle's radius then they must intersect.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// e1 - ellipse 1 with 2:1 width to height ratio\nfloat e1x = 200;\nfloat e1y = 200;\nfloat e1w = 200;\nfloat e1h = 100;\n// e1 - ellipse 2 with 1:1 widht to height ratio (circle)\nfloat e2x = 400;\nfloat e2y = 200;\nfloat e2w = 100;\nfloat e2h = 100;\n\nvoid setup(){\n  size(600, 400);\n  stroke(128);\n  strokeWeight(3);\n}\n\nvoid draw(){\n  background(32);\n  \n  fill(255);\n  ellipse(e2x, e2y, e2w, e2h);\n  \n  boolean areE1E2Intersecting = isColliding();\n  \n  fill(areE1E2Intersecting ? color(0, 192, 0) : color(255));\n  ellipse(e1x, e1y, e1w, e1h);\n}\n\nboolean isColliding(){\n  boolean result = false;\n  // calculate angle between e1 and e2\n  float angleFromE1ToE2 = atan2(e2y - e1y, e2x - e1x);\n  // calculate the point one e1 towards e2 (\n  // 0.5 is beacause we want radius not diameter (w,h)\n  float xE1ToE2 = e1x + (cos(angleFromE1ToE2) * e1w * 0.5);\n  float yE1ToE2 = e1y + (sin(angleFromE1ToE2) * e1h * 0.5);\n  // optional: visualise the point\n  fill(255, 64);\n  stroke(255);\n  triangle(xE1ToE2, yE1ToE2,\n           xE1ToE2, e2y,\n           e2x, e2y);\n  ellipse(xE1ToE2, yE1ToE2, 15, 15);\n  fill(255);\n  stroke(128);\n  // if the distance between the closest point on the ellipse towards the circle\n  // is smaller than the circle's radius then they're colliding\n  result = dist(xE1ToE2, yE1ToE2, e2x, e2y) &lt; e2w * 0.5;\n  \n  return result;\n}\n\nvoid mouseDragged(){\n  e1x = mouseX;\n  e1y = mouseY;\n}\n</code></pre>\n<p>Drag the mouse to move the ellipse.</p>\n<p><a href=\"https://i.stack.imgur.com/k2ACf.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2ACf.gif\" alt=\"ellipse to circle intersection visualisation: a white ellipse is dragged towards a white circle on a dark gray background. A triangle is drawn from the closest point on the ellipse towards the circle as the diagonal (and x, y axes as the sides). When the ellipse and circles collide the background of the ellipse turns green.\" /></a></p>\n<p>The code is a bit verbose, but commented: hopefully easy to follow.\nIt could be refactored as needed for reuse(e.g. remove visualisation, change function so it takes arguments instead of global variables, etc.)</p>\n<p><strong>Update</strong></p>\n<p>As Mbo pointed out, <code>t</code> is not the angle.\nWith my approach above, you can make minimal tweaks to from ellipse-circle to ellipse-ellipse. (Your question calls both elements circles, although the image shows an ellipse and a circle, hence my snippet above. Your comment clarifies you're after ellipse to ellipse intersection)</p>\n<p>You can make minor tweaks to my approach for ellipse to ellipse intersection. Note that is is a rough approximation/not perfect.\nNotice the points marked as closest to the opposite ellipse. They don't line up with the line between the centres. (I suspect this because I'm using half the width/height the radius in the polar to cartesian conversion which is a bit off (especially at angles in between 90 degree increments)</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ellipse 1\nfloat e1x = 200;\nfloat e1y = 200;\nfloat e1w = 200;\nfloat e1h = 100;\n// ellipse 2\nfloat e2x = 400;\nfloat e2y = 200;\nfloat e2w = 200;\nfloat e2h = 300;\n\nvoid setup(){\n  size(600, 400);\n  stroke(128);\n  strokeWeight(3);\n  noFill();\n}\n\nvoid draw(){\n  background(32);\n  \n  stroke(255);\n  ellipse(e2x, e2y, e2w, e2h);\n  \n  boolean areE1E2Intersecting = isColliding();\n  stroke(areE1E2Intersecting ? color(0, 192, 0) : color(255));\n  ellipse(e1x, e1y, e1w, e1h);\n}\n\nboolean isColliding(){\n  boolean result = false;\n  // calculate angle between e1 and e2\n  float angleFromE1ToE2 = atan2(e2y - e1y, e2x - e1x);\n  // calculate the point one e1 towards e2 \n  // 0.5 is beacause we want radius not diameter (w,h)\n  float xE1ToE2 = e1x + (cos(angleFromE1ToE2) * e1w * 0.5);\n  float yE1ToE2 = e1y + (sin(angleFromE1ToE2) * e1h * 0.5);\n  float radiusFromE1ToE2 = dist(e1x, e1y, xE1ToE2, yE1ToE2);\n  \n  float angleFromE2ToE1 = PI + angleFromE1ToE2;\n  float xE2ToE1 = e2x + (cos(angleFromE2ToE1) * e2w * 0.5);\n  float yE2ToE1 = e2y + (sin(angleFromE2ToE1) * e2h * 0.5);\n  float radiusFromE2ToE1 = dist(e2x, e2y, xE2ToE1, yE2ToE1);\n  \n  result = dist(e1x, e1y, e2x, e2y) &lt; (radiusFromE1ToE2 + radiusFromE2ToE1);\n  \n  // optional: visual debugging\n  ellipse(xE1ToE2, yE1ToE2, 15, 15);\n  ellipse(xE2ToE1, yE2ToE1, 15, 15);\n  line(e1x, e1y, e2x, e2y);\n  \n  return result;\n}\n\nvoid mouseDragged(){\n  e1x = mouseX;\n  e1y = mouseY;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wpKSR.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wpKSR.gif\" alt=\"enter image description here\" /></a></p>\n<p>Note that the above doesn't take into accounts aspect ratios that are very different or differnt ellipse orientations (and your question doesn't mention this at all in it's current form btw).</p>\n<p>Doing a quick search I see the <a href=\"https://math.stackexchange.com/questions/193722/how-to-calculate-minimum-distance-between-two-arbitrary-ellipses-in-2d\">math</a> is move involved but there are interesting approximations like <a href=\"http://yehar.com/blog/?p=2926#:%7E:text=The%20point%20on%20the%20side,circle%2C%20there%20is%20a%20collision.\" rel=\"nofollow noreferrer\">Olli's</a>.</p>\n<p>There are probably other solutions too and I'd love to see more options in Processing. One brute force/hacky workaround I can think of is using the <a href=\"https://processing.org/reference/blendMode_.html\" rel=\"nofollow noreferrer\"><code>blendMode(DIFFERENCE)</code></a> (which will highlight intersection between shapes) then use the <code>loadPixels();</code> and <code>pixels[]</code> to search for the 1st pixel of the intersection color. If you need to optimise speed (especially for hi-res sketch), you can render a smaller offscreen buffer of your main sketch (via <a href=\"https://processing.org/reference/createGraphics_.html\" rel=\"nofollow noreferrer\"><code>createGraphics()</code></a>). (This will allow you use the blend mode and different colours from your main sketch graphics if you need to (otherwise calling <code>get()</code> will return a <code>PImage</code> &quot;snapshot&quot; of your sketch which you can <code>resize()</code> as required))</p>\n<p>Here's a basic sketch to illustrate the idea:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// e1 - ellipse 1 with 2:1 width to height ratio\nfloat e1x = 200;\nfloat e1y = 200;\nfloat e1w = 200;\nfloat e1h = 100;\n// e1 - ellipse 2 with 1:1 widht to height ratio (circle)\nfloat e2x = 400;\nfloat e2y = 200;\nfloat e2w = 200;\nfloat e2h = 300;\n\nvoid setup(){\n  size(600, 400);\n  noStroke();\n  blendMode(DIFFERENCE);\n}\n\nvoid draw(){\n  background(0);\n  \n  fill(255, 0, 0);\n  ellipse(e1x, e1y, e1w, e1h);\n  fill(0, 255, 0);\n  ellipse(e2x, e2y, e2w, e2h);\n  \n  \n  fill(255);\n  text(&quot;is colliding: &quot; + isColliding(), 10, 15);\n}\n\nboolean isColliding(){\n  boolean result = false;\n  \n  loadPixels();\n  int numPixels = pixels.length;\n  for(int i = 0 ; i &lt; numPixels; i++){\n    // because the ellipse colours are red and green, difference is yellow\n    // so that's what we search for\n    if(pixels[i] == color(255, 255, 0)){\n      return true;\n    }\n  }\n  \n  return result;\n}\n\nvoid mouseDragged(){\n  e1x = mouseX;\n  e1y = mouseY;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/O571f.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O571f.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25709518,"reputation":3,"user_id":19468293,"display_name":"5x9x7x2x7x9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73751063,"answer_count":2,"score":-2,"last_activity_date":1664057584,"creation_date":1663345114,"question_id":73747724,"body_markdown":"How do I make a scaled circle to circle collision?\r\nFor example:\r\n[example][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/raWJg.png\r\nI have 2 circles, one circle X and Y size are the same, the other is bigger in the x size.\r\n\r\nHow do I detect collisions between the two circles?","title":"Scaled circle to circle collision","body":"<p>How do I make a scaled circle to circle collision?\nFor example:\n<a href=\"https://i.stack.imgur.com/raWJg.png\" rel=\"nofollow noreferrer\">example</a></p>\n<p>I have 2 circles, one circle X and Y size are the same, the other is bigger in the x size.</p>\n<p>How do I detect collisions between the two circles?</p>\n"},{"tags":["java","http","charset"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664053724,"creation_date":1664051561,"answer_id":73840400,"question_id":73839959,"body_markdown":"There are multiple items that can (and do not have to) define the response format:\r\n\r\n- When the client sends a request, there is a header called `Accept-Encoding`.\r\nThis should be a hint for the server what the client wants to have.\r\n- When the server sends the response, the server should mark up the encoding used in the header `Content-Encoding`.\r\n- The response body may contain meta tags as you mention. The disadvantage here is that the client already needs to assume some encoding to access this data so it is less reliable.\r\n- Still then, it seems you apply the BodyHandler for `Windows-1251` regardless of what the really used encoding is.\r\n\r\nWith that your setup looks quite fragile, and you better check if the headers Accept-Encoding and Content-Encoding are present and meaningful.\r\n\r\n**Edit:** When testing the code from the question I was able to reproduce the reported problems. But they vanished when I simply leveraged the default behaviour of the client like so:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(new URI(&quot;https://www.youtube.com/watch?v=ELArlE7gSmw&quot;))\r\n                .GET()\r\n                .build();\r\n        HttpClient client = HttpClient.newHttpClient();\r\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n        System.out.println(response.body());\r\n    }\r\n","title":"Charset of http response in Java","body":"<p>There are multiple items that can (and do not have to) define the response format:</p>\n<ul>\n<li>When the client sends a request, there is a header called <code>Accept-Encoding</code>.\nThis should be a hint for the server what the client wants to have.</li>\n<li>When the server sends the response, the server should mark up the encoding used in the header <code>Content-Encoding</code>.</li>\n<li>The response body may contain meta tags as you mention. The disadvantage here is that the client already needs to assume some encoding to access this data so it is less reliable.</li>\n<li>Still then, it seems you apply the BodyHandler for <code>Windows-1251</code> regardless of what the really used encoding is.</li>\n</ul>\n<p>With that your setup looks quite fragile, and you better check if the headers Accept-Encoding and Content-Encoding are present and meaningful.</p>\n<p><strong>Edit:</strong> When testing the code from the question I was able to reproduce the reported problems. But they vanished when I simply leveraged the default behaviour of the client like so:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    HttpRequest request = HttpRequest.newBuilder()\n            .uri(new URI(&quot;https://www.youtube.com/watch?v=ELArlE7gSmw&quot;))\n            .GET()\n            .build();\n    HttpClient client = HttpClient.newHttpClient();\n    HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n    System.out.println(response.body());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22397678,"reputation":43,"user_id":16608684,"display_name":"unityflim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664056791,"creation_date":1664056791,"answer_id":73840838,"question_id":73839959,"body_markdown":"Solved the problem.\r\n\r\nFor Intellij IDEA:\r\nFile &gt; Settings &gt; Editor &gt; File Encodings.\r\n\r\nSet fields &quot;Global Encoding&quot; and &quot;Project Encoding&quot; to &quot;System Default&quot; (**not UTF-8 or Windows-1251, but default!**). The whole output is fixed\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UUkfU.png","title":"Charset of http response in Java","body":"<p>Solved the problem.</p>\n<p>For Intellij IDEA:\nFile &gt; Settings &gt; Editor &gt; File Encodings.</p>\n<p>Set fields &quot;Global Encoding&quot; and &quot;Project Encoding&quot; to &quot;System Default&quot; (<strong>not UTF-8 or Windows-1251, but default!</strong>). The whole output is fixed</p>\n<p><a href=\"https://i.stack.imgur.com/UUkfU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UUkfU.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22397678,"reputation":43,"user_id":16608684,"display_name":"unityflim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73840838,"answer_count":2,"score":2,"last_activity_date":1664056791,"creation_date":1664046858,"question_id":73839959,"body_markdown":"Using a standard Java HTTP Client, I load a page at this address: \r\n**https://www.youtube.com/watch?v=ELArlE7gSmw**\r\n\r\nTitle of this youtube video in Bulgarian. It is listed in the meta tags of the page like this:\r\n\r\n    &lt;meta name=&quot;title&quot; content=&quot;here is title&quot;&gt;\r\n\r\nI am using the following code to load this page. Pay attention to the encoding (**Windows-1251**):\r\n\r\n    import java.net.URI;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n    import java.nio.charset.Charset;\r\n\r\n    public class Application {\r\n        public static void main(String[] args) throws Exception {\r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                    .uri(new URI(&quot;https://www.youtube.com/watch?v=ELArlE7gSmw&quot;))\r\n                    .GET()\r\n                    .build();\r\n            HttpClient client = HttpClient.newHttpClient();\r\n            HttpResponse&lt;String&gt; response = client.send(request,\r\n                    HttpResponse.BodyHandlers.ofString(Charset.forName(&quot;Windows-1251&quot;)));\r\n            System.out.println(response.body());\r\n        }\r\n    }\r\n\r\nIf you look at this tag in the response (with **Windows-1251** encoding), then it will look like this:\r\n\r\n    &lt;meta name=&quot;title&quot; content=&quot;ЗАХАРОСАН�? ЧЕРВЕН�? ЯБЪЛК�?!!&quot;&gt;\r\n\r\nIf you use **UTF-8** instead of Windows-1251, it will be like this:\r\n\r\n    &lt;meta name=&quot;title&quot; content=&quot;���������� ������� ������!!&quot;&gt;\r\n\r\nI have also tried other http clients, such as the client in jsoup library. The result is similar, although **[the demo version of this library][1]** displays all tags with Bulgarian content correctly:\r\n[![enter image description here][2]][2]\r\n\r\nHow to decode http response without errors?\r\n\r\n\r\n  [1]: https://try.jsoup.org/\r\n  [2]: https://i.stack.imgur.com/qc1va.png","title":"Charset of http response in Java","body":"<p>Using a standard Java HTTP Client, I load a page at this address:\n<strong><a href=\"https://www.youtube.com/watch?v=ELArlE7gSmw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ELArlE7gSmw</a></strong></p>\n<p>Title of this youtube video in Bulgarian. It is listed in the meta tags of the page like this:</p>\n<pre><code>&lt;meta name=&quot;title&quot; content=&quot;here is title&quot;&gt;\n</code></pre>\n<p>I am using the following code to load this page. Pay attention to the encoding (<strong>Windows-1251</strong>):</p>\n<pre><code>import java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.nio.charset.Charset;\n\npublic class Application {\n    public static void main(String[] args) throws Exception {\n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(new URI(&quot;https://www.youtube.com/watch?v=ELArlE7gSmw&quot;))\n                .GET()\n                .build();\n        HttpClient client = HttpClient.newHttpClient();\n        HttpResponse&lt;String&gt; response = client.send(request,\n                HttpResponse.BodyHandlers.ofString(Charset.forName(&quot;Windows-1251&quot;)));\n        System.out.println(response.body());\n    }\n}\n</code></pre>\n<p>If you look at this tag in the response (with <strong>Windows-1251</strong> encoding), then it will look like this:</p>\n<pre><code>&lt;meta name=&quot;title&quot; content=&quot;ЗАХАРОСАН�? ЧЕРВЕН�? ЯБЪЛК�?!!&quot;&gt;\n</code></pre>\n<p>If you use <strong>UTF-8</strong> instead of Windows-1251, it will be like this:</p>\n<pre><code>&lt;meta name=&quot;title&quot; content=&quot;���������� ������� ������!!&quot;&gt;\n</code></pre>\n<p>I have also tried other http clients, such as the client in jsoup library. The result is similar, although <strong><a href=\"https://try.jsoup.org/\" rel=\"nofollow noreferrer\">the demo version of this library</a></strong> displays all tags with Bulgarian content correctly:\n<a href=\"https://i.stack.imgur.com/qc1va.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qc1va.png\" alt=\"enter image description here\" /></a></p>\n<p>How to decode http response without errors?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":275763,"reputation":2812,"user_id":568822,"accept_rate":60,"display_name":"S.A.Parkhid"},"score":1,"creation_date":1664056573,"post_id":73840813,"comment_id":130385289,"body_markdown":"https://stackoverflow.com/questions/16044887/clone-has-protected-access-made-public-object-clone","body":"<a href=\"https://stackoverflow.com/questions/16044887/clone-has-protected-access-made-public-object-clone\" title=\"clone has protected access made public object clone\">stackoverflow.com/questions/16044887/&hellip;</a>"},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1664056750,"post_id":73840813,"comment_id":130385305,"body_markdown":"`BoardImpl` may implement `Cloneable`, but what about `Board`?","body":"<code>BoardImpl</code> may implement <code>Cloneable</code>, but what about <code>Board</code>?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1664057196,"post_id":73840813,"comment_id":130385353,"body_markdown":"You could always add a `Board copy();` method to your interface. The implementation can make use of `clone()`, or you could use a &quot;copy constructor&quot;, or whatever.","body":"You could always add a <code>Board copy();</code> method to your interface. The implementation can make use of <code>clone()</code>, or you could use a &quot;copy constructor&quot;, or whatever."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1664057725,"post_id":73840813,"comment_id":130385419,"body_markdown":"Some terminology - &#39;clone&#39; makes a copy of an instance (an object) of a particular class, it does not copy the class.","body":"Some terminology - &#39;clone&#39; makes a copy of an instance (an object) of a particular class, it does not copy the class."},{"owner":{"account_id":26251058,"reputation":38,"user_id":19923865,"display_name":"SKS"},"score":0,"creation_date":1664109790,"post_id":73840813,"comment_id":130391542,"body_markdown":"@Slaw, it worked after adding to interface","body":"@Slaw, it worked after adding to interface"}],"owner":{"account_id":26251058,"reputation":38,"user_id":19923865,"display_name":"SKS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664058042,"answer_count":0,"score":0,"last_activity_date":1664056458,"creation_date":1664056458,"question_id":73840813,"body_markdown":"I want to copy an object, I tried clonable but failed.\r\nTo Implement minimax function I need to create a copy of the board class and check the best move\r\n\r\nin my AIPlayer class\r\n\r\n    private int pickBestMove(Piece piece){\r\n            int bestScore = 0;\r\n            int bestCol = r.nextInt(board.NUM_OF_COLS);\r\n            int[] validLocations = getValidLocations();\r\n            for (int c = 0; c &lt; validLocations.length; c++) {\r\n                 int row = board.findNextAvailableSpot(c);\r\n    \r\n                 Board tempBoard = new BoardImpl(board.getBoardUI()); //Need to copy the board object here\r\n    \r\n                 tempBoard.updateMove(c, row, piece);\r\n                 int score = scorePosition(tempBoard, piece);\r\n                 if(score &gt; bestScore){\r\n                     bestScore = score;\r\n                     bestCol = c;\r\n                 }\r\n            }\r\n            System.out.println(&quot;Best Move is &quot; + bestCol);\r\n            return bestCol;\r\n        }\r\n\r\n\r\nBoard is a interface, and BoardImplement is it&#39;s subclass\r\n\r\n    public interface Board {}\r\n\r\nI tried the clonnable \r\n\r\n    public class BoardImpl implements Board, Cloneable {\r\n    //My other stuff\r\n    public BoardImpl clone() {\r\n            try {\r\n                BoardImpl clone = (BoardImpl) super.clone();\r\n                // TODO: copy mutable state here, so the clone can&#39;t change the internals of the original\r\n                return clone;\r\n            } catch (CloneNotSupportedException e) {\r\n                throw new AssertionError();\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\nI tried adding this code to AIPlayer class (Mentioned above)\r\n\r\n         Board tempBoard = (Board) board.clone();\r\n\r\nbut it failed, \r\n\r\n&gt; &#39;clone()&#39; has protected access in &#39;java.lang.Object\r\n\r\nWhat are the solution that I can do for this?\r\n\r\nThanks for your time.\r\n\r\n","title":"Java Creating a Copy of a class","body":"<p>I want to copy an object, I tried clonable but failed.\nTo Implement minimax function I need to create a copy of the board class and check the best move</p>\n<p>in my AIPlayer class</p>\n<pre><code>private int pickBestMove(Piece piece){\n        int bestScore = 0;\n        int bestCol = r.nextInt(board.NUM_OF_COLS);\n        int[] validLocations = getValidLocations();\n        for (int c = 0; c &lt; validLocations.length; c++) {\n             int row = board.findNextAvailableSpot(c);\n\n             Board tempBoard = new BoardImpl(board.getBoardUI()); //Need to copy the board object here\n\n             tempBoard.updateMove(c, row, piece);\n             int score = scorePosition(tempBoard, piece);\n             if(score &gt; bestScore){\n                 bestScore = score;\n                 bestCol = c;\n             }\n        }\n        System.out.println(&quot;Best Move is &quot; + bestCol);\n        return bestCol;\n    }\n</code></pre>\n<p>Board is a interface, and BoardImplement is it's subclass</p>\n<pre><code>public interface Board {}\n</code></pre>\n<p>I tried the clonnable</p>\n<pre><code>public class BoardImpl implements Board, Cloneable {\n//My other stuff\npublic BoardImpl clone() {\n        try {\n            BoardImpl clone = (BoardImpl) super.clone();\n            // TODO: copy mutable state here, so the clone can't change the internals of the original\n            return clone;\n        } catch (CloneNotSupportedException e) {\n            throw new AssertionError();\n        }\n    }\n}\n</code></pre>\n<p>I tried adding this code to AIPlayer class (Mentioned above)</p>\n<pre><code>     Board tempBoard = (Board) board.clone();\n</code></pre>\n<p>but it failed,</p>\n<blockquote>\n<p>'clone()' has protected access in 'java.lang.Object</p>\n</blockquote>\n<p>What are the solution that I can do for this?</p>\n<p>Thanks for your time.</p>\n"},{"tags":["java","encryption","aes"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1664061787,"post_id":73840657,"comment_id":130385946,"body_markdown":"There are definitely problems with your approach. You are better off to ask on [crypto.se] instead of here though. If you do, please describe how you want to perform random access **after** you shuffled the plaintext? What do you think happens if you perform changes to part of the plaintext / ciphertext? Won&#39;t an attacker then know which bits are being altered? For ideas on how to perform authentication, take a look at Merkle trees.","body":"There are definitely problems with your approach. You are better off to ask on <a href=\"https://crypto.stackexchange.com\">Cryptography</a> instead of here though. If you do, please describe how you want to perform random access <b>after</b> you shuffled the plaintext? What do you think happens if you perform changes to part of the plaintext / ciphertext? Won&#39;t an attacker then know which bits are being altered? For ideas on how to perform authentication, take a look at Merkle trees."},{"owner":{"account_id":24049508,"reputation":21,"user_id":18028162,"display_name":"Callimard"},"score":0,"creation_date":1664105166,"post_id":73840657,"comment_id":130390697,"body_markdown":"@MaartenBodewes I simplify my model, however I don’t shuffle the plain text totally but I shuffle 128 bits block by 128 bits block (because AES cipher 128bits). In that way I decipher a block a just unShuffle only this block.","body":"@MaartenBodewes I simplify my model, however I don’t shuffle the plain text totally but I shuffle 128 bits block by 128 bits block (because AES cipher 128bits). In that way I decipher a block a just unShuffle only this block."}],"owner":{"account_id":24049508,"reputation":21,"user_id":18028162,"display_name":"Callimard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664055348,"creation_date":1664054460,"question_id":73840657,"body_markdown":"I need to cipher and decipher text with randomly access. For this I decided to use AES in CTR mode which is a good compromise between CBC and GCM.\r\n\r\n**But CTR mode is malleable**. It is not a big problem because texts that **I will cipher have not predefine patterns and I don’t need authentication**, I just want to avoid the ability to read the plain text for an attacker.\r\n\r\nHowever, **I want to reduce the ability to an attacker to really use the malleability property of CTR.**\r\n\r\nHere my idea to do it:\r\n\r\n```java\r\npublic static void main() {\r\n    Key key = …;\r\n    IVParameterSpec iv = …;\r\n    int rSeed = …;\r\n    byte[] plainText = …;\r\n   \r\n    byte[] shuffled = shuffle(plainText, rSeed);\r\n    byte[] encrypted = encryptAES_CTR(shuffled, key, iv);\r\n\r\n    …\r\n\r\n    byte[] decrypted = decryptAES_CTR(encrypted, key, iv);\r\n    byte[] unShuffled = unShuffle(decrypted, rSeed);\r\n\r\n    // Here unShuffled content must be equal to plainText content.\r\n}\r\n```\r\n\r\nSuppose that methods ``shuffle(…)`` and ``unShuffle(…)`` are complementary and one reverse the other.\r\n\r\nThe shuffle step is here not to cipher but shuffle the order of bytes of the plain text, **in that way it reduces the impact of modifications done on the ciphered text by an attacker** because if an attacker changes a part of the ciphered text, **the modifications will be spread during the unShuffle phase** and will change the content but the chance that the new content can be exploitable is reduced.\r\n\r\n**However, it is just an idea and I write this post just to know if this idea is really useful or if it is useless and just superficial step which does not reduce the impact of modifications that can be done by an attacker on the ciphered text.**\r\n\r\nI know that there is the GCM which provides authentication and therefore, is not malleable. But I don’t really need it and GCM cannot be accessed randomly especially if I want modify and re cipher just a part of the plain text.","title":"Reduce AES-CTR malleability impact by shuffling plain text","body":"<p>I need to cipher and decipher text with randomly access. For this I decided to use AES in CTR mode which is a good compromise between CBC and GCM.</p>\n<p><strong>But CTR mode is malleable</strong>. It is not a big problem because texts that <strong>I will cipher have not predefine patterns and I don’t need authentication</strong>, I just want to avoid the ability to read the plain text for an attacker.</p>\n<p>However, <strong>I want to reduce the ability to an attacker to really use the malleability property of CTR.</strong></p>\n<p>Here my idea to do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main() {\n    Key key = …;\n    IVParameterSpec iv = …;\n    int rSeed = …;\n    byte[] plainText = …;\n   \n    byte[] shuffled = shuffle(plainText, rSeed);\n    byte[] encrypted = encryptAES_CTR(shuffled, key, iv);\n\n    …\n\n    byte[] decrypted = decryptAES_CTR(encrypted, key, iv);\n    byte[] unShuffled = unShuffle(decrypted, rSeed);\n\n    // Here unShuffled content must be equal to plainText content.\n}\n</code></pre>\n<p>Suppose that methods <code>shuffle(…)</code> and <code>unShuffle(…)</code> are complementary and one reverse the other.</p>\n<p>The shuffle step is here not to cipher but shuffle the order of bytes of the plain text, <strong>in that way it reduces the impact of modifications done on the ciphered text by an attacker</strong> because if an attacker changes a part of the ciphered text, <strong>the modifications will be spread during the unShuffle phase</strong> and will change the content but the chance that the new content can be exploitable is reduced.</p>\n<p><strong>However, it is just an idea and I write this post just to know if this idea is really useful or if it is useless and just superficial step which does not reduce the impact of modifications that can be done by an attacker on the ciphered text.</strong></p>\n<p>I know that there is the GCM which provides authentication and therefore, is not malleable. But I don’t really need it and GCM cannot be accessed randomly especially if I want modify and re cipher just a part of the plain text.</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":3169,"reputation":24369,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664055059,"creation_date":1664055059,"answer_id":73840707,"question_id":73829150,"body_markdown":"I believe you want to disable the &quot;JVM languages | Test frameworks | Failed line in test&quot; inspection. ","title":"IntelliJ Error Stripe - Turn off unit test errors","body":"<p>I believe you want to disable the &quot;JVM languages | Test frameworks | Failed line in test&quot; inspection.</p>\n"}],"owner":{"account_id":23892787,"reputation":53,"user_id":17892205,"display_name":"RobHay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73840707,"answer_count":1,"score":1,"last_activity_date":1664055059,"creation_date":1663942706,"question_id":73829150,"body_markdown":"I&#39;ve tried going through IntelliJ&#39;s thousands of inspections but can&#39;t find one for java unit test errors. Normally you get a light bulb next to the error/warning/suggestion which gives an option to disable the inspection but not for unit test errors.\r\n\r\nI just want the error stripe showing red marks for java compile errors, not for unit test failures.\r\n\r\n","title":"IntelliJ Error Stripe - Turn off unit test errors","body":"<p>I've tried going through IntelliJ's thousands of inspections but can't find one for java unit test errors. Normally you get a light bulb next to the error/warning/suggestion which gives an option to disable the inspection but not for unit test errors.</p>\n<p>I just want the error stripe showing red marks for java compile errors, not for unit test failures.</p>\n"},{"tags":["java","activemq"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664021806,"post_id":73837034,"comment_id":130379008,"body_markdown":"Tried &quot;something different than&quot; `vm://localhost`!?;)... [E.g.](https://stackoverflow.com/q/38750843/592355)","body":"Tried &quot;something different than&quot; <code>vm:&#47;&#47;localhost</code>!?;)... <a href=\"https://stackoverflow.com/q/38750843/592355\">E.g.</a>"},{"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"score":0,"creation_date":1664023104,"post_id":73837034,"comment_id":130379229,"body_markdown":"@xerx593 tried to use my `getHostName()` i.e. `new ActiveMQConnectionFactory(&quot;tcp://&quot;+myhostname+&quot;:61616&quot;)` but then I get: Could not connect to broker URL: tcp://...:61616 . Reason: java.net.ConnectException: Connection refused: connect","body":"@xerx593 tried to use my <code>getHostName()</code> i.e. <code>new ActiveMQConnectionFactory(&quot;tcp:&#47;&#47;&quot;+myhostname+&quot;:61616&quot;)</code> but then I get: Could not connect to broker URL: tcp://...:61616 . Reason: java.net.ConnectException: Connection refused: connect"},{"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"score":0,"creation_date":1664023406,"post_id":73837034,"comment_id":130379289,"body_markdown":"@xerx593  the same error for the `tcp://0.0.0.0:61616`","body":"@xerx593  the same error for the <code>tcp:&#47;&#47;0.0.0.0:61616</code>"},{"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"score":0,"creation_date":1664024664,"post_id":73837034,"comment_id":130379533,"body_markdown":"I had to start `activemq` on my pc to work as expected, but why it is not required if I use it within the same app?","body":"I had to start <code>activemq</code> on my pc to work as expected, but why it is not required if I use it within the same app?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664034151,"post_id":73837034,"comment_id":130381299,"body_markdown":"So, you could make it!? Within same app &lt;-&gt; same &quot;VM&quot;(!)?","body":"So, you could make it!? Within same app &lt;-&gt; same &quot;VM&quot;(!)?"},{"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"score":0,"creation_date":1664692443,"post_id":73837034,"comment_id":130527194,"body_markdown":"@xerx593 I could make it for differenet apps on the same PC.","body":"@xerx593 I could make it for differenet apps on the same PC."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664054757,"creation_date":1664054757,"answer_id":73840679,"question_id":73837034,"body_markdown":"Both of your clients are using `vm://localhost`. As noted in the [ActiveMQ documentation][1]:\r\n\r\n&gt; The first client to use the VM connection will boot an embedded broker. Subsequent connections will attach that the same broker. Once all VM connections to the broker have been closed, the embedded broker will automatically shutdown.\r\n\r\nTherefore, if both your producer and consumer are running in the same JVM they will both use the same embedded instance of ActiveMQ.\r\n\r\nHowever, if your producer and consumer are running in different JVMs then they will both need to be configured to connect to a remote, standalone instance of ActiveMQ. Therefore, you will need to start an instance of ActiveMQ somewhere on the network and then provide the producer and consumer with the hostname and port where ActiveMQ is running (e.g. `new ActiveMQConnectionFactory(&quot;tcp://yourActiveMQHost:61616&quot;)`)\r\n\r\n\r\n  [1]: https://activemq.apache.org/vm-transport-reference","title":"Consumer gets null messages from a producer","body":"<p>Both of your clients are using <code>vm://localhost</code>. As noted in the <a href=\"https://activemq.apache.org/vm-transport-reference\" rel=\"nofollow noreferrer\">ActiveMQ documentation</a>:</p>\n<blockquote>\n<p>The first client to use the VM connection will boot an embedded broker. Subsequent connections will attach that the same broker. Once all VM connections to the broker have been closed, the embedded broker will automatically shutdown.</p>\n</blockquote>\n<p>Therefore, if both your producer and consumer are running in the same JVM they will both use the same embedded instance of ActiveMQ.</p>\n<p>However, if your producer and consumer are running in different JVMs then they will both need to be configured to connect to a remote, standalone instance of ActiveMQ. Therefore, you will need to start an instance of ActiveMQ somewhere on the network and then provide the producer and consumer with the hostname and port where ActiveMQ is running (e.g. <code>new ActiveMQConnectionFactory(&quot;tcp://yourActiveMQHost:61616&quot;)</code>)</p>\n"}],"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664054757,"creation_date":1664020563,"question_id":73837034,"body_markdown":"I try to connenct two standalone apps using ActiveMQ. A sender sends message and a reciever should recieve the message from the sender. But the consumer is getting null. \r\n\r\nCan it work the way I decribed?\r\n\r\n(It&#39;s actualy work if I run producer and consumer in the same app, but the idea is to use different independent apps.)\r\n\r\nthe first app:\r\n\r\n    thread(new HelloWorldProducer(), false);\r\n    \r\n    public static void thread(Runnable runnable, boolean daemon) {\r\n        Thread brokerThread = new Thread(runnable);\r\n        brokerThread.setDaemon(daemon);\r\n        brokerThread.start();\r\n    }\r\n    \r\n    public static class HelloWorldProducer implements Runnable {\r\n    public void run() {\r\n        try {\r\n            // Create a ConnectionFactory\r\n            ActiveMQConnectionFactory connectionFactory = \r\n                 new ActiveMQConnectionFactory(&quot;vm://localhost&quot;);\r\n\r\n            // Create a Connection\r\n            Connection connection = connectionFactory.createConnection();\r\n            connection.start();\r\n\r\n            // Create a Session\r\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\r\n            // Create the destination (Topic or Queue)\r\n            Destination destination = session.createQueue(&quot;TEST.FOO&quot;);\r\n\r\n            // Create a MessageProducer from the Session to the Topic or Queue\r\n            MessageProducer producer = session.createProducer(destination);\r\n            producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\r\n\r\n            // Create a messages\r\n            String text = &quot;Hello world! From: &quot; + Thread.currentThread().getName() + &quot; : &quot; + this.hashCode();\r\n            TextMessage message = session.createTextMessage(text);\r\n\r\n            // Tell the producer to send the message\r\n            System.out.println(&quot;Sent message: &quot;+ message.hashCode() + &quot; : &quot; + Thread.currentThread().getName());\r\n            producer.send(message);\r\n            \r\n            Thread.sleep(10000);\r\n\r\n            // Clean up\r\n            session.close();\r\n            connection.close();\r\n        }\r\n        catch (Exception e) {\r\n            System.out.println(&quot;Caught: &quot; + e);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nthe consumer app:\r\n\r\n    thread(new HelloWorldConsumer(), false);\r\n    \r\n    public static void thread(Runnable runnable, boolean daemon) {\r\n        Thread brokerThread = new Thread(runnable);\r\n        brokerThread.setDaemon(daemon);\r\n        brokerThread.start();\r\n    }\r\n    \r\n    public static class HelloWorldConsumer implements Runnable, ExceptionListener {\r\n    public void run() {\r\n        try {\r\n\r\n            // Create a ConnectionFactory\r\n            ActiveMQConnectionFactory connectionFactory = \r\n                new ActiveMQConnectionFactory(&quot;vm://localhost&quot;);\r\n\r\n            // Create a Connection\r\n            Connection connection = connectionFactory.createConnection();\r\n            connection.start();\r\n\r\n            connection.setExceptionListener(this);\r\n\r\n            // Create a Session\r\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\r\n            // Create the destination (Topic or Queue)\r\n            Destination destination = session.createQueue(&quot;TEST.FOO&quot;);\r\n\r\n            // Create a MessageConsumer from the Session to the Topic or Queue\r\n            MessageConsumer consumer = session.createConsumer(destination);\r\n\r\n            // Wait for a message\r\n            Message message = consumer.receive(1000);\r\n\r\n            if (message instanceof TextMessage) {\r\n                TextMessage textMessage = (TextMessage) message;\r\n                String text = textMessage.getText();\r\n                System.out.println(&quot;Received: &quot; + text);\r\n            } else {\r\n                System.out.println(&quot;Received: &quot; + message);\r\n            }\r\n            \r\n            Thread.sleep(10000);\r\n\r\n            consumer.close();\r\n            session.close();\r\n            connection.close();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Caught: &quot; + e);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n","title":"Consumer gets null messages from a producer","body":"<p>I try to connenct two standalone apps using ActiveMQ. A sender sends message and a reciever should recieve the message from the sender. But the consumer is getting null.</p>\n<p>Can it work the way I decribed?</p>\n<p>(It's actualy work if I run producer and consumer in the same app, but the idea is to use different independent apps.)</p>\n<p>the first app:</p>\n<pre><code>thread(new HelloWorldProducer(), false);\n\npublic static void thread(Runnable runnable, boolean daemon) {\n    Thread brokerThread = new Thread(runnable);\n    brokerThread.setDaemon(daemon);\n    brokerThread.start();\n}\n\npublic static class HelloWorldProducer implements Runnable {\npublic void run() {\n    try {\n        // Create a ConnectionFactory\n        ActiveMQConnectionFactory connectionFactory = \n             new ActiveMQConnectionFactory(&quot;vm://localhost&quot;);\n\n        // Create a Connection\n        Connection connection = connectionFactory.createConnection();\n        connection.start();\n\n        // Create a Session\n        Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n\n        // Create the destination (Topic or Queue)\n        Destination destination = session.createQueue(&quot;TEST.FOO&quot;);\n\n        // Create a MessageProducer from the Session to the Topic or Queue\n        MessageProducer producer = session.createProducer(destination);\n        producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\n\n        // Create a messages\n        String text = &quot;Hello world! From: &quot; + Thread.currentThread().getName() + &quot; : &quot; + this.hashCode();\n        TextMessage message = session.createTextMessage(text);\n\n        // Tell the producer to send the message\n        System.out.println(&quot;Sent message: &quot;+ message.hashCode() + &quot; : &quot; + Thread.currentThread().getName());\n        producer.send(message);\n        \n        Thread.sleep(10000);\n\n        // Clean up\n        session.close();\n        connection.close();\n    }\n    catch (Exception e) {\n        System.out.println(&quot;Caught: &quot; + e);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>the consumer app:</p>\n<pre><code>thread(new HelloWorldConsumer(), false);\n\npublic static void thread(Runnable runnable, boolean daemon) {\n    Thread brokerThread = new Thread(runnable);\n    brokerThread.setDaemon(daemon);\n    brokerThread.start();\n}\n\npublic static class HelloWorldConsumer implements Runnable, ExceptionListener {\npublic void run() {\n    try {\n\n        // Create a ConnectionFactory\n        ActiveMQConnectionFactory connectionFactory = \n            new ActiveMQConnectionFactory(&quot;vm://localhost&quot;);\n\n        // Create a Connection\n        Connection connection = connectionFactory.createConnection();\n        connection.start();\n\n        connection.setExceptionListener(this);\n\n        // Create a Session\n        Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n\n        // Create the destination (Topic or Queue)\n        Destination destination = session.createQueue(&quot;TEST.FOO&quot;);\n\n        // Create a MessageConsumer from the Session to the Topic or Queue\n        MessageConsumer consumer = session.createConsumer(destination);\n\n        // Wait for a message\n        Message message = consumer.receive(1000);\n\n        if (message instanceof TextMessage) {\n            TextMessage textMessage = (TextMessage) message;\n            String text = textMessage.getText();\n            System.out.println(&quot;Received: &quot; + text);\n        } else {\n            System.out.println(&quot;Received: &quot; + message);\n        }\n        \n        Thread.sleep(10000);\n\n        consumer.close();\n        session.close();\n        connection.close();\n    } catch (Exception e) {\n        System.out.println(&quot;Caught: &quot; + e);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","assert","assertion"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1664053813,"post_id":73840565,"comment_id":130384906,"body_markdown":"Neither of your functions returns anything.  Why not have `compareRuleRanks` return `true/false` as well as printing its result, and have `compare()` return that value as well.  Then in your test, you can test the return value of `compare()`.","body":"Neither of your functions returns anything.  Why not have <code>compareRuleRanks</code> return <code>true&#47;false</code> as well as printing its result, and have <code>compare()</code> return that value as well.  Then in your test, you can test the return value of <code>compare()</code>."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664054232,"creation_date":1664054232,"answer_id":73840632,"question_id":73840565,"body_markdown":"When unit-testing `compareRulesRanks`, you can definitely call the function but you would have to measure whether the intended reaction was triggered.\r\n\r\nThat means you would have to check whether `println()` got called as expected.\r\nIf you cannot do that you probably have to improve your code for testability.\r\n","title":"How to capture the error message in private function","body":"<p>When unit-testing <code>compareRulesRanks</code>, you can definitely call the function but you would have to measure whether the intended reaction was triggered.</p>\n<p>That means you would have to check whether <code>println()</code> got called as expected.\nIf you cannot do that you probably have to improve your code for testability.</p>\n"}],"owner":{"account_id":24824934,"reputation":43,"user_id":18704852,"display_name":"Nick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1664054526,"answer_count":1,"score":-1,"last_activity_date":1664054232,"creation_date":1664053372,"question_id":73840565,"body_markdown":"I have a function compare which called private function compareRuleRanks, and println the error or correct message when condition met, how can I capture the message when I do unit test? I try to use AssertionError but  didn&#39;t work, how can I do that?\r\n```\r\nAssertionError(dataCompare.compare(&quot;Rule1&quot;, &quot;Rule2&quot;));\r\n\r\n```\r\n\r\n```\r\npublic void compare(){\r\n       compareRuleRanks(rule1, rule2);\r\n}\r\n\r\nprivate void compareRuleRanks(rule1, rule2) {\r\n   if(rule1.rank != rule2.rank) {\r\n     println(&quot;The ranks are not in order&quot;);\r\n   }\r\n   println(&quot;rules are same&quot;);\r\n}\r\n```","title":"How to capture the error message in private function","body":"<p>I have a function compare which called private function compareRuleRanks, and println the error or correct message when condition met, how can I capture the message when I do unit test? I try to use AssertionError but  didn't work, how can I do that?</p>\n<pre><code>AssertionError(dataCompare.compare(&quot;Rule1&quot;, &quot;Rule2&quot;));\n\n</code></pre>\n<pre><code>public void compare(){\n       compareRuleRanks(rule1, rule2);\n}\n\nprivate void compareRuleRanks(rule1, rule2) {\n   if(rule1.rank != rule2.rank) {\n     println(&quot;The ranks are not in order&quot;);\n   }\n   println(&quot;rules are same&quot;);\n}\n</code></pre>\n"},{"tags":["java","sql","database","hibernate","jooq"],"comments":[{"owner":{"account_id":4294878,"reputation":2071,"user_id":3510195,"accept_rate":82,"display_name":"Gopal00005"},"score":0,"creation_date":1428057957,"post_id":29428231,"comment_id":47030845,"body_markdown":"Dear @NeilStockton it is totally subjective I know every terms of Stackoverflow.","body":"Dear @NeilStockton it is totally subjective I know every terms of Stackoverflow."},{"owner":{"account_id":4294878,"reputation":2071,"user_id":3510195,"accept_rate":82,"display_name":"Gopal00005"},"score":0,"creation_date":1428058338,"post_id":29428231,"comment_id":47031006,"body_markdown":"I just need expert&#39;s advises please help me....","body":"I just need expert&#39;s advises please help me...."},{"owner":{"account_id":396691,"reputation":1552,"user_id":760393,"accept_rate":71,"display_name":"Ra&#250;l"},"score":0,"creation_date":1478757337,"post_id":29428231,"comment_id":68282585,"body_markdown":"A useful question. +1.","body":"A useful question. +1."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1664053844,"creation_date":1428060653,"answer_id":29431388,"question_id":29428231,"body_markdown":"While jOOQ and Hibernate compete for the same target audience, they do not solve the same problem at all. [You&#39;ve already linked this article in your question][1]. The essence of it is simple:\r\n\r\n- Are you going to solve object graph persistence problems? Use an ORM (e.g. Hibernate)\r\n- Are you going to embed SQL into Java? Use SQL (e.g. jOOQ)\r\n\r\nOf course, since both APIs cover accessing relational databases, they overlap in functionality to a certain extent. E.g. Hibernate also supports simple querying, while jOOQ also supports simple mapping.\r\n\r\nWhile we should avoid delving into subjective discussions about whether object graph persistence or SQL is a better approach at interacting with your database, I think the above is a pretty objective answer to what API is better suited, once you&#39;ve made the subjective decision.\r\n\r\n**AND**: You can use both, e.g. ORM/Hibernate for CRUD, SQL/jOOQ for reporting.\r\n\r\n&lt;sub&gt;(Disclaimer: I work for the company behind jOOQ, so this answer is biased)&lt;/sub&gt;\r\n\r\n\r\n  [1]: http://blog.jooq.org/jooq-vs-hibernate-when-to-choose-which/","title":"JOOQ vs Hibernate","body":"<p>While jOOQ and Hibernate compete for the same target audience, they do not solve the same problem at all. <a href=\"http://blog.jooq.org/jooq-vs-hibernate-when-to-choose-which/\" rel=\"noreferrer\">You've already linked this article in your question</a>. The essence of it is simple:</p>\n<ul>\n<li>Are you going to solve object graph persistence problems? Use an ORM (e.g. Hibernate)</li>\n<li>Are you going to embed SQL into Java? Use SQL (e.g. jOOQ)</li>\n</ul>\n<p>Of course, since both APIs cover accessing relational databases, they overlap in functionality to a certain extent. E.g. Hibernate also supports simple querying, while jOOQ also supports simple mapping.</p>\n<p>While we should avoid delving into subjective discussions about whether object graph persistence or SQL is a better approach at interacting with your database, I think the above is a pretty objective answer to what API is better suited, once you've made the subjective decision.</p>\n<p><strong>AND</strong>: You can use both, e.g. ORM/Hibernate for CRUD, SQL/jOOQ for reporting.</p>\n<p><sub>(Disclaimer: I work for the company behind jOOQ, so this answer is biased)</sub></p>\n"}],"owner":{"account_id":4294878,"reputation":2071,"user_id":3510195,"accept_rate":82,"display_name":"Gopal00005"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23049,"favorite_count":0,"down_vote_count":5,"up_vote_count":36,"closed_date":1428141027,"accepted_answer_id":29431388,"answer_count":1,"score":31,"last_activity_date":1664053844,"creation_date":1428046986,"question_id":29428231,"body_markdown":"When I chat to stackoverflowers on chat and read other tutorials about database with Java then they are guide me to use **JOOQ** instead of **HIBERNATE**.\r\n\r\nI am totally aware about ORM with Hibernate and I prefer to use Hibernate and now aware almost about JOOQ by reading tutorials and implementation on small projects.\r\n\r\nBut I am confused what to choose and what is perfact for my dynamic web-applications which can be larger,medium or smaller, either Hibernate or JOOQ ?\r\n\r\n**BTW googled a lot but confused more and more...!!!**\r\nJust Like : &lt;a href=&quot;http://blog.jooq.org/2015/03/24/jooq-vs-hibernate-when-to-choose-which/&quot;&gt;this&lt;/a&gt;,&lt;a href=&quot;http://www.reddit.com/r/java/comments/sk25o/forget_hibernate_jooq_is_byfar_the_best_database/&quot;&gt;this&lt;/a&gt; and &lt;a href=&quot;https://stackoverflow.com/questions/17860161/replacing-a-full-orm-jpa-hibernate-by-a-lighter-solution-recommended-pattern&quot;&gt;this&lt;/a&gt;.\r\n\r\nWhich one is best for different conditions and situations for developer.?","title":"JOOQ vs Hibernate","body":"<p>When I chat to stackoverflowers on chat and read other tutorials about database with Java then they are guide me to use <strong>JOOQ</strong> instead of <strong>HIBERNATE</strong>.</p>\n\n<p>I am totally aware about ORM with Hibernate and I prefer to use Hibernate and now aware almost about JOOQ by reading tutorials and implementation on small projects.</p>\n\n<p>But I am confused what to choose and what is perfact for my dynamic web-applications which can be larger,medium or smaller, either Hibernate or JOOQ ?</p>\n\n<p><strong>BTW googled a lot but confused more and more...!!!</strong>\nJust Like : <a href=\"http://blog.jooq.org/2015/03/24/jooq-vs-hibernate-when-to-choose-which/\" rel=\"noreferrer\">this</a>,<a href=\"http://www.reddit.com/r/java/comments/sk25o/forget_hibernate_jooq_is_byfar_the_best_database/\" rel=\"noreferrer\">this</a> and <a href=\"https://stackoverflow.com/questions/17860161/replacing-a-full-orm-jpa-hibernate-by-a-lighter-solution-recommended-pattern\">this</a>.</p>\n\n<p>Which one is best for different conditions and situations for developer.?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1664014186,"post_id":73836305,"comment_id":130377700,"body_markdown":"[The regex seem to match files in subpaths as well](https://regex101.com/r/rt4Vxv/1). But it seems also to match other paths, e.g. paths ending in a `\\ `. For me, the question is unclear. Please [edit] the post and specify what exactly  the requirements are.","body":"<a href=\"https://regex101.com/r/rt4Vxv/1\" rel=\"nofollow noreferrer\">The regex seem to match files in subpaths as well</a>. But it seems also to match other paths, e.g. paths ending in a <code>\\ </code>. For me, the question is unclear. Please <a href=\"https://stackoverflow.com/posts/73836305/edit\">edit</a> the post and specify what exactly  the requirements are."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1664014298,"post_id":73836305,"comment_id":130377723,"body_markdown":"Please be aware that dots in folder names are perfectly valid in Windows.  There&#39;s nothing illegal about having a folder called `c:\\my.txt`","body":"Please be aware that dots in folder names are perfectly valid in Windows.  There&#39;s nothing illegal about having a folder called <code>c:\\my.txt</code>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1664014358,"post_id":73836305,"comment_id":130377737,"body_markdown":"[This post](https://stackoverflow.com/questions/4736/learning-regular-expressions) as well as [`regular-expression.info`](https://www.regular-expressions.info/reference.html) might be valuable resources.","body":"<a href=\"https://stackoverflow.com/questions/4736/learning-regular-expressions\">This post</a> as well as <a href=\"https://www.regular-expressions.info/reference.html\" rel=\"nofollow noreferrer\"><code>regular-expression.info</code></a> might be valuable resources."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1664014493,"post_id":73836305,"comment_id":130377753,"body_markdown":"```File.isDirectory```  seems to be what you&#39;re reaching for ... (which would solve the problem that @DawoodibnKareem rightly brings up)","body":"<code>File.isDirectory</code>  seems to be what you&#39;re reaching for ... (which would solve the problem that @DawoodibnKareem rightly brings up)"},{"owner":{"account_id":21615266,"reputation":19,"user_id":15941368,"display_name":"PrettyCoder"},"score":0,"creation_date":1664014834,"post_id":73836305,"comment_id":130377818,"body_markdown":"Thanks everybody. Especially, @g00se. Your solution is just what I&#39;ve been looking for!","body":"Thanks everybody. Especially, @g00se. Your solution is just what I&#39;ve been looking for!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1664015427,"post_id":73836305,"comment_id":130377911,"body_markdown":":) Or ```java.nio.file.Files.isDirectory```","body":":) Or <code>java.nio.file.Files.isDirectory</code>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1664031969,"post_id":73836305,"comment_id":130380837,"body_markdown":"Nothing stops you from creating a directory called `C:\\directory\\file.txt`, similarly, `C:\\directory\\another` is also valid as a file name, not just a directory. Don&#39;t apply arbitrary rules that don&#39;t exist for the underlying problem.","body":"Nothing stops you from creating a directory called <code>C:\\directory\\file.txt</code>, similarly, <code>C:\\directory\\another</code> is also valid as a file name, not just a directory. Don&#39;t apply arbitrary rules that don&#39;t exist for the underlying problem."}],"owner":{"account_id":21615266,"reputation":19,"user_id":15941368,"display_name":"PrettyCoder"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664053395,"creation_date":1664013543,"question_id":73836305,"body_markdown":"I enter from the console the path to the directory in which I want to search for certain files. I need a regex that only matches directory paths, not file paths. For example, \r\n\r\n`&quot;C:\\directory&quot;, &quot;C:\\directory\\another&quot;, &quot;D:\\directory\\&quot;, &quot;D:\\&quot;` must match. \r\n\r\n`&quot;C:\\directory\\file.txt&quot;, &quot;D:\\another.pdf&quot;`   should not match. ","title":"Java Regex for Valid Directory Path","body":"<p>I enter from the console the path to the directory in which I want to search for certain files. I need a regex that only matches directory paths, not file paths. For example,</p>\n<p><code>&quot;C:\\directory&quot;, &quot;C:\\directory\\another&quot;, &quot;D:\\directory\\&quot;, &quot;D:\\&quot;</code> must match.</p>\n<p><code>&quot;C:\\directory\\file.txt&quot;, &quot;D:\\another.pdf&quot;</code>   should not match.</p>\n"},{"tags":["java","loops","while-loop"],"comments":[{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1664021140,"post_id":73837083,"comment_id":130378891,"body_markdown":"You have to use a method which actually exists for Strings in your java version - maybe `isEmpty()`?","body":"You have to use a method which actually exists for Strings in your java version - maybe <code>isEmpty()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1664021170,"creation_date":1664021170,"answer_id":73837102,"question_id":73837083,"body_markdown":"isBlank is a Java 11 method. \r\n\r\nPlease use isEmpty() if you’re working with Java 8","title":"Java, while loop","body":"<p>isBlank is a Java 11 method.</p>\n<p>Please use isEmpty() if you’re working with Java 8</p>\n"},{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664027671,"creation_date":1664022496,"answer_id":73837212,"question_id":73837083,"body_markdown":"If you use an IDE, you can inspect the available methods by code completion (usually by pressing Ctrl + Space). \r\n\r\nOtherwise and additionally, there&#39;s documentation for each version of Java, e. g. you cood lookup [String in Java 8](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html). \r\n\r\nAs Ankit Sharma already pointed out, String.isBlank() is a method that exists since Java 11. If you look at the documentation of [String.isBlank() in Java 11](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#isBlank()), you can see that it returns `true` if the String is either empty or consists of whitespace only while String.isEmpty() returns `true` if the String is emtpy.\r\n\r\nThis is, isBlank() behaves different to isEmpty(). If you need to simulate the behaviour of isBlank() in a Java version below 11, you can use `string.matches(&quot;\\\\p{javaWhitespace}*&quot;)` which returns whether String `string` matches the given regular expression. In `&quot;\\\\p{javaWhitespace}&quot;` the `\\\\p{javaWhitespace}` denotes a Java white space character (which includes some special characters in addition to the usual white space characters) and the asterisk means the white space can occur any number of times.\r\n\r\nEDIT: corrected `\\\\s` to `\\\\p{javaWhitespace}`","title":"Java, while loop","body":"<p>If you use an IDE, you can inspect the available methods by code completion (usually by pressing Ctrl + Space).</p>\n<p>Otherwise and additionally, there's documentation for each version of Java, e. g. you cood lookup <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">String in Java 8</a>.</p>\n<p>As Ankit Sharma already pointed out, String.isBlank() is a method that exists since Java 11. If you look at the documentation of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"nofollow noreferrer\">String.isBlank() in Java 11</a>, you can see that it returns <code>true</code> if the String is either empty or consists of whitespace only while String.isEmpty() returns <code>true</code> if the String is emtpy.</p>\n<p>This is, isBlank() behaves different to isEmpty(). If you need to simulate the behaviour of isBlank() in a Java version below 11, you can use <code>string.matches(&quot;\\\\p{javaWhitespace}*&quot;)</code> which returns whether String <code>string</code> matches the given regular expression. In <code>&quot;\\\\p{javaWhitespace}&quot;</code> the <code>\\\\p{javaWhitespace}</code> denotes a Java white space character (which includes some special characters in addition to the usual white space characters) and the asterisk means the white space can occur any number of times.</p>\n<p>EDIT: corrected <code>\\\\s</code> to <code>\\\\p{javaWhitespace}</code></p>\n"}],"owner":{"account_id":26430644,"reputation":1,"user_id":20076881,"display_name":"Balazs Rados"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"closed_date":1664022808,"answer_count":2,"score":-7,"last_activity_date":1664053254,"creation_date":1664020997,"question_id":73837083,"body_markdown":"I am a new Java learner, and I have come to a problem regarding the while loop. \r\nWhen I type the `while(name.isBlank())  {` I get the followiing error message: \r\n\r\n&gt; The method isBlank() is undefined for the type String&quot;\r\n\r\nI tried to change the compiler to: 1.6, 1.7 , 1.8, and I also did the JRE removal from build Path and readd it to library.\r\n\r\nHow do i solve this issue please. \r\nAny help would be greatly appreciated. \r\nthank you in advance. \r\n\r\nR.Bazsi\r\n\r\n\r\nHere is what i tried to run: \r\n\r\n```\r\nScanner scanner = new Scanner(System.in);\r\nString name = &quot; &quot;;\r\n\t\t\r\nwhile(name.isBlank()) {\r\n    System.out.println(&quot;you are here&quot;);\r\n```","title":"Java, while loop","body":"<p>I am a new Java learner, and I have come to a problem regarding the while loop.\nWhen I type the <code>while(name.isBlank())  {</code> I get the followiing error message:</p>\n<blockquote>\n<p>The method isBlank() is undefined for the type String&quot;</p>\n</blockquote>\n<p>I tried to change the compiler to: 1.6, 1.7 , 1.8, and I also did the JRE removal from build Path and readd it to library.</p>\n<p>How do i solve this issue please.\nAny help would be greatly appreciated.\nthank you in advance.</p>\n<p>R.Bazsi</p>\n<p>Here is what i tried to run:</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nString name = &quot; &quot;;\n        \nwhile(name.isBlank()) {\n    System.out.println(&quot;you are here&quot;);\n</code></pre>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":7,"creation_date":1257358375,"post_id":1391918,"comment_id":1549332,"body_markdown":"I think the question is underspecified. Why do you say that it needs to be &quot;a LinkedHashMap&quot;?  What behavior are you really after?","body":"I think the question is underspecified. Why do you say that it needs to be &quot;a LinkedHashMap&quot;?  What behavior are you really after?"},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":1,"creation_date":1421928527,"post_id":1391918,"comment_id":44553557,"body_markdown":"Similar question: http://stackoverflow.com/questions/1815646/how-to-implement-concurrenthashmap-with-features-similar-in-linkedhashmap","body":"Similar question: <a href=\"http://stackoverflow.com/questions/1815646/how-to-implement-concurrenthashmap-with-features-similar-in-linkedhashmap\" title=\"how to implement concurrenthashmap with features similar in linkedhashmap\">stackoverflow.com/questions/1815646/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":56574,"reputation":10477,"user_id":169484,"accept_rate":100,"display_name":"David Crawshaw"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1252383052,"creation_date":1252383052,"answer_id":1391926,"question_id":1391918,"body_markdown":"&lt;code&gt;Collections.synchronizedMap(new LinkedHashMap())&lt;/code&gt;","title":"Does java have a &quot;LinkedConcurrentHashMap&quot; data structure?","body":"<p><code>Collections.synchronizedMap(new LinkedHashMap())</code></p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1252383911,"creation_date":1252383911,"answer_id":1391955,"question_id":1391918,"body_markdown":"You can wrap the map in a Collections.synchronizedMap to get a synchronized hashmap that maintains insertion order. This is not as efficient as a ConcurrentHashMap (and doesn&#39;t implement the extra interface methods of ConcurrentMap) but it does get you the (somewhat) thread safe behavior.\r\n\r\nEven the mighty Google Collections doesn&#39;t appear to have solved this particular problem yet. However, there is [one project][1] that does try to tackle the problem.\r\n\r\nI say somewhat on the synchronization, because iteration is still not thread safe in the sense that concurrent modification exceptions can happen.\r\n\r\n\r\n  [1]: http://code.google.com/p/concurrentlinkedhashmap/","title":"Does java have a &quot;LinkedConcurrentHashMap&quot; data structure?","body":"<p>You can wrap the map in a Collections.synchronizedMap to get a synchronized hashmap that maintains insertion order. This is not as efficient as a ConcurrentHashMap (and doesn't implement the extra interface methods of ConcurrentMap) but it does get you the (somewhat) thread safe behavior.</p>\n\n<p>Even the mighty Google Collections doesn't appear to have solved this particular problem yet. However, there is <a href=\"http://code.google.com/p/concurrentlinkedhashmap/\" rel=\"noreferrer\">one project</a> that does try to tackle the problem.</p>\n\n<p>I say somewhat on the synchronization, because iteration is still not thread safe in the sense that concurrent modification exceptions can happen.</p>\n"},{"tags":[],"owner":{"account_id":18313,"reputation":13576,"user_id":41861,"accept_rate":62,"display_name":"Adrian Pronk"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1252384883,"creation_date":1252384883,"answer_id":1391992,"question_id":1391918,"body_markdown":"Since the ConcurrentHashMap offers a few important extra methods that are not in the Map interface, simply wrapping a LinkedHashMap with a synchronizedMap won&#39;t give you the same functionality, in particular, they won&#39;t give you anything like the putIfAbsent(), replace(key, oldValue, newValue) and remove(key, oldValue) methods which make the ConcurrentHashMap so useful.\r\n\r\nUnless there&#39;s some apache library that has implemented what you want, you&#39;ll probably have to use a LinkedHashMap and provide suitable synchronized{} blocks of your own.","title":"Does java have a &quot;LinkedConcurrentHashMap&quot; data structure?","body":"<p>Since the ConcurrentHashMap offers a few important extra methods that are not in the Map interface, simply wrapping a LinkedHashMap with a synchronizedMap won't give you the same functionality, in particular, they won't give you anything like the putIfAbsent(), replace(key, oldValue, newValue) and remove(key, oldValue) methods which make the ConcurrentHashMap so useful.</p>\n\n<p>Unless there's some apache library that has implemented what you want, you'll probably have to use a LinkedHashMap and provide suitable synchronized{} blocks of your own.</p>\n"},{"tags":[],"owner":{"account_id":51109,"reputation":5983,"user_id":152621,"display_name":"Malaxeur"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1252384997,"creation_date":1252384997,"answer_id":1391999,"question_id":1391918,"body_markdown":"The answer is pretty much no, there&#39;s nothing equivalent to a ConcurrentHashMap that is sorted (like the LinkedHashMap).  As other people pointed out, you can wrap your collection using Collections.synchronizedMap(-yourmap-) however this will not give you the same level of fine grained locking.  It will simply block the entire map on every operation.\r\n\r\nYour best bet is to either use synchronized around any access to the map (where it matters, of course.  You may not care about dirty reads, for example) or to write a wrapper around the map that determines when it should or should not lock.","title":"Does java have a &quot;LinkedConcurrentHashMap&quot; data structure?","body":"<p>The answer is pretty much no, there's nothing equivalent to a ConcurrentHashMap that is sorted (like the LinkedHashMap).  As other people pointed out, you can wrap your collection using Collections.synchronizedMap(-yourmap-) however this will not give you the same level of fine grained locking.  It will simply block the entire map on every operation.</p>\n\n<p>Your best bet is to either use synchronized around any access to the map (where it matters, of course.  You may not care about dirty reads, for example) or to write a wrapper around the map that determines when it should or should not lock.</p>\n"},{"tags":[],"owner":{"account_id":19407,"reputation":1974,"user_id":45483,"display_name":"hohonuuli"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1252385720,"creation_date":1252385720,"answer_id":1392043,"question_id":1391918,"body_markdown":"There&#39;s a number of different approaches to this problem. You could use:\r\n\r\n    Collections.synchronizedMap(new LinkedHashMap());\r\n\r\nas the other responses have suggested but this has several gotchas you&#39;ll need to be aware of. Most notably is that you will often need to hold the collections synchronized lock when iterating over the collection, which in turn prevents other threads from accessing the collection until you&#39;ve completed iterating over it. ([See Java theory and practice: Concurrent collections classes][1]). For example:\r\n\r\n    synchronized(map) {\r\n        for (Object obj: map) {\r\n            // Do work here\r\n        }\r\n    }\r\n\r\n\r\n Using \r\n\r\n    new ConcurrentHashMap();\r\n\r\nis probably a better choice as you won&#39;t need to lock the collection to iterate over it. \r\n\r\nFinally, you might want to consider a more *functional* programming approach. That is you could consider the map as essentially immutable. Instead of adding to an existing Map, you would create a new one that contains the contents of the old map plus the new addition. This sounds pretty bizarre at first, but it is actually the way [Scala deals with concurrency and collections][2]\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-jtp07233.html\r\n  [2]: http://www.codecommit.com/blog/scala/scala-collections-for-the-easily-bored-part-1","title":"Does java have a &quot;LinkedConcurrentHashMap&quot; data structure?","body":"<p>There's a number of different approaches to this problem. You could use:</p>\n\n<pre><code>Collections.synchronizedMap(new LinkedHashMap());\n</code></pre>\n\n<p>as the other responses have suggested but this has several gotchas you'll need to be aware of. Most notably is that you will often need to hold the collections synchronized lock when iterating over the collection, which in turn prevents other threads from accessing the collection until you've completed iterating over it. (<a href=\"http://www.ibm.com/developerworks/java/library/j-jtp07233.html\" rel=\"noreferrer\">See Java theory and practice: Concurrent collections classes</a>). For example:</p>\n\n<pre><code>synchronized(map) {\n    for (Object obj: map) {\n        // Do work here\n    }\n}\n</code></pre>\n\n<p>Using </p>\n\n<pre><code>new ConcurrentHashMap();\n</code></pre>\n\n<p>is probably a better choice as you won't need to lock the collection to iterate over it. </p>\n\n<p>Finally, you might want to consider a more <em>functional</em> programming approach. That is you could consider the map as essentially immutable. Instead of adding to an existing Map, you would create a new one that contains the contents of the old map plus the new addition. This sounds pretty bizarre at first, but it is actually the way <a href=\"http://www.codecommit.com/blog/scala/scala-collections-for-the-easily-bored-part-1\" rel=\"noreferrer\">Scala deals with concurrency and collections</a></p>\n"},{"tags":[],"owner":{"account_id":54418,"reputation":20355,"user_id":162792,"accept_rate":100,"display_name":"Andrey Adamovich"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1263678003,"creation_date":1263678003,"answer_id":2078995,"question_id":1391918,"body_markdown":"There is [one implementation][1] available under Google code. A quote from their site:\r\n\r\n&gt; A high performance version of java.util.LinkedHashMap for use as a software cache. \r\n&gt; \r\n&gt; **Design**\r\n&gt; \r\n&gt;\r\n  - A concurrent linked list runs through a ConcurrentHashMap to provide eviction ordering.\r\n  - Supports insertion and access ordered eviction policies (FIFO, LRU, and Second Chance).\r\n\r\n\r\n  [1]: http://code.google.com/p/concurrentlinkedhashmap/","title":"Does java have a &quot;LinkedConcurrentHashMap&quot; data structure?","body":"<p>There is <a href=\"http://code.google.com/p/concurrentlinkedhashmap/\" rel=\"noreferrer\">one implementation</a> available under Google code. A quote from their site:</p>\n\n<blockquote>\n  <p>A high performance version of java.util.LinkedHashMap for use as a software cache. </p>\n  \n  <p><strong>Design</strong></p>\n  \n  <ul>\n  <li>A concurrent linked list runs through a ConcurrentHashMap to provide eviction ordering.</li>\n  <li>Supports insertion and access ordered eviction policies (FIFO, LRU, and Second Chance).</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":611353,"reputation":99,"user_id":337222,"display_name":"Paul"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1273493743,"creation_date":1273493743,"answer_id":2802467,"question_id":1391918,"body_markdown":"You can use a ConcurrentSkipListMap, only available in Java SE/EE 6 or later. It is order presevering in that keys are sorted according to their natural ordering. You need to have a Comparator or make the keys Comparable objects. In order to mimik a linked hash map behavior (iteration order is the order in time in which entries were added) I implemented my key objects to always compare to be greater than a given other object unless it is equal (whatever that is for your object).\r\nA wrapped synchronized linked hash map did not suffice because as stated in\r\nhttp://www.ibm.com/developerworks/java/library/j-jtp07233.html: &quot;The synchronized collections wrappers, synchronizedMap and synchronizedList, are sometimes called conditionally thread-safe -- all individual operations are thread-safe, but sequences of operations where the control flow depends on the results of previous operations may be subject to data races. The first snippet in Listing 1 shows the common put-if-absent idiom -- if an entry does not already exist in the Map, add it. Unfortunately, as written, it is possible for another thread to insert a value with the same key between the time the containsKey() method returns and the time the put() method is called. If you want to ensure exactly-once insertion, you need to wrap the pair of statements with a synchronized block that synchronizes on the Map m.&quot;\r\n\r\nSo what only helps is a ConcurrentSkipListMap which is 3-5 times slower than a normal ConcurrentHashMap.","title":"Does java have a &quot;LinkedConcurrentHashMap&quot; data structure?","body":"<p>You can use a ConcurrentSkipListMap, only available in Java SE/EE 6 or later. It is order presevering in that keys are sorted according to their natural ordering. You need to have a Comparator or make the keys Comparable objects. In order to mimik a linked hash map behavior (iteration order is the order in time in which entries were added) I implemented my key objects to always compare to be greater than a given other object unless it is equal (whatever that is for your object).\nA wrapped synchronized linked hash map did not suffice because as stated in\n<a href=\"http://www.ibm.com/developerworks/java/library/j-jtp07233.html\" rel=\"noreferrer\">http://www.ibm.com/developerworks/java/library/j-jtp07233.html</a>: \"The synchronized collections wrappers, synchronizedMap and synchronizedList, are sometimes called conditionally thread-safe -- all individual operations are thread-safe, but sequences of operations where the control flow depends on the results of previous operations may be subject to data races. The first snippet in Listing 1 shows the common put-if-absent idiom -- if an entry does not already exist in the Map, add it. Unfortunately, as written, it is possible for another thread to insert a value with the same key between the time the containsKey() method returns and the time the put() method is called. If you want to ensure exactly-once insertion, you need to wrap the pair of statements with a synchronized block that synchronizes on the Map m.\"</p>\n\n<p>So what only helps is a ConcurrentSkipListMap which is 3-5 times slower than a normal ConcurrentHashMap.</p>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425461540,"creation_date":1404741434,"answer_id":24612338,"question_id":1391918,"body_markdown":"I just tried synchronized bounded LRU Map based on insertion order **LinkedConcurrentHashMap**; with **Read/Write Lock** for synchronization.\r\nSo when you are using iterator; you have to acquire WriteLock to avoid ConcurrentModificationException. &lt;BR&gt;This is better than `Collections.synchronizedMap.`\r\n\r\n\r\n    public class LinkedConcurrentHashMap&lt;K, V&gt; {\r\n    \r\n        private LinkedHashMap&lt;K, V&gt; linkedHashMap = null;\r\n        private final int cacheSize;  \r\n        private ReadWriteLock readWriteLock = null;\r\n    \r\n        public LinkedConcurrentHashMap(LinkedHashMap&lt;K, V&gt; psCacheMap, int size) {\r\n    \t\tthis.linkedHashMap  = psCacheMap;\r\n    \t\tcacheSize = size;\r\n    \t\treadWriteLock=new ReentrantReadWriteLock();\r\n        }\r\n        \r\n        public void put(K key, V value) throws SQLException{\r\n    \t    Lock writeLock=readWriteLock.writeLock();\r\n\t\t    try{\r\n                writeLock.lock();\r\n\t    \t    if(linkedHashMap.size() &gt;= cacheSize &amp;&amp; cacheSize &gt; 0){\r\n\t   \t\t        K oldAgedKey = linkedHashMap.keySet().iterator().next();\r\n\t   \t\t        remove(oldAgedKey);\r\n\t    \t    }\r\n\t    \t    linkedHashMap.put(key, value);\r\n    \t\t}finally{\r\n\t    \t\twriteLock.unlock();\r\n\t\t    }\r\n        }\r\n        \r\n        public V get(K key){\r\n        \tLock readLock=readWriteLock.readLock();\r\n        \ttry{\r\n        \t\treadLock.lock();\r\n        \t\treturn linkedHashMap.get(key);\r\n        \t}finally{\r\n        \t\treadLock.unlock();\r\n        \t}\r\n        }\r\n       \r\n        public boolean containsKey(K key){\r\n        \tLock readLock=readWriteLock.readLock();\r\n        \ttry{\r\n        \t\treadLock.lock();\r\n        \t\treturn linkedHashMap.containsKey(key);\r\n        \t}finally{\r\n        \t\treadLock.unlock();\r\n        \t}\r\n        }\r\n        \r\n        public V remove(K key){\r\n        \tLock writeLock=readWriteLock.writeLock();\r\n    \t\ttry{\r\n    \t\t\twriteLock.lock();\r\n    \t\t\treturn linkedHashMap.remove(key);\r\n    \t\t}finally{\r\n    \t\t\twriteLock.unlock();\r\n    \t\t}\r\n        }\r\n        \r\n        public ReadWriteLock getLock(){\r\n        \treturn readWriteLock;\r\n        }\r\n        \r\n        public Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet(){\r\n        \treturn linkedHashMap.entrySet();\r\n        }\r\n    }","title":"Does java have a &quot;LinkedConcurrentHashMap&quot; data structure?","body":"<p>I just tried synchronized bounded LRU Map based on insertion order <strong>LinkedConcurrentHashMap</strong>; with <strong>Read/Write Lock</strong> for synchronization.\nSo when you are using iterator; you have to acquire WriteLock to avoid ConcurrentModificationException. <BR>This is better than <code>Collections.synchronizedMap.</code></p>\n\n<pre><code>public class LinkedConcurrentHashMap&lt;K, V&gt; {\n\n    private LinkedHashMap&lt;K, V&gt; linkedHashMap = null;\n    private final int cacheSize;  \n    private ReadWriteLock readWriteLock = null;\n\n    public LinkedConcurrentHashMap(LinkedHashMap&lt;K, V&gt; psCacheMap, int size) {\n        this.linkedHashMap  = psCacheMap;\n        cacheSize = size;\n        readWriteLock=new ReentrantReadWriteLock();\n    }\n\n    public void put(K key, V value) throws SQLException{\n        Lock writeLock=readWriteLock.writeLock();\n        try{\n            writeLock.lock();\n            if(linkedHashMap.size() &gt;= cacheSize &amp;&amp; cacheSize &gt; 0){\n                K oldAgedKey = linkedHashMap.keySet().iterator().next();\n                remove(oldAgedKey);\n            }\n            linkedHashMap.put(key, value);\n        }finally{\n            writeLock.unlock();\n        }\n    }\n\n    public V get(K key){\n        Lock readLock=readWriteLock.readLock();\n        try{\n            readLock.lock();\n            return linkedHashMap.get(key);\n        }finally{\n            readLock.unlock();\n        }\n    }\n\n    public boolean containsKey(K key){\n        Lock readLock=readWriteLock.readLock();\n        try{\n            readLock.lock();\n            return linkedHashMap.containsKey(key);\n        }finally{\n            readLock.unlock();\n        }\n    }\n\n    public V remove(K key){\n        Lock writeLock=readWriteLock.writeLock();\n        try{\n            writeLock.lock();\n            return linkedHashMap.remove(key);\n        }finally{\n            writeLock.unlock();\n        }\n    }\n\n    public ReadWriteLock getLock(){\n        return readWriteLock;\n    }\n\n    public Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet(){\n        return linkedHashMap.entrySet();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1845234,"reputation":988,"user_id":1673705,"display_name":"barneypitt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664052225,"creation_date":1664051903,"answer_id":73840433,"question_id":1391918,"body_markdown":"How about this.\r\n\r\nTake your favourite open-source concurrent HashMap implementation. Sadly it can&#39;t be Java&#39;s ConcurrentHashMap as it&#39;s basically impossible to copy and modify that due to huge numbers of package-private stuff. (Why do the Java authors always do that?)\r\n\r\nAdd a ConcurrentLinkedDeque field. \r\n\r\nModify all of the put methods so that if an insertion is successful the Entry is added to the end of the deque. Modify all of the remove methods so that any removed entries are also removed from the deque. Where a put method replaces the existing value, we don&#39;t have to do anything to the deque.\r\n\r\nChange all iterator/spliterator methods so that they delegate to the deque.\r\n\r\nThere&#39;s no guarantee that the deque and the map have exactly the same contents at all times, but concurrent hash maps don&#39;t make those sort of promises anyway.\r\n\r\nRemoval won&#39;t be super fast (have to scan the deque). But most maps are never (or very rarely) asked to remove entries anyway.\r\n\r\nYou could also achieve this by extending ConcurrentHashMap, or decorating it (decorator pattern).","title":"Does java have a &quot;LinkedConcurrentHashMap&quot; data structure?","body":"<p>How about this.</p>\n<p>Take your favourite open-source concurrent HashMap implementation. Sadly it can't be Java's ConcurrentHashMap as it's basically impossible to copy and modify that due to huge numbers of package-private stuff. (Why do the Java authors always do that?)</p>\n<p>Add a ConcurrentLinkedDeque field.</p>\n<p>Modify all of the put methods so that if an insertion is successful the Entry is added to the end of the deque. Modify all of the remove methods so that any removed entries are also removed from the deque. Where a put method replaces the existing value, we don't have to do anything to the deque.</p>\n<p>Change all iterator/spliterator methods so that they delegate to the deque.</p>\n<p>There's no guarantee that the deque and the map have exactly the same contents at all times, but concurrent hash maps don't make those sort of promises anyway.</p>\n<p>Removal won't be super fast (have to scan the deque). But most maps are never (or very rarely) asked to remove entries anyway.</p>\n<p>You could also achieve this by extending ConcurrentHashMap, or decorating it (decorator pattern).</p>\n"}],"owner":{"account_id":56649,"reputation":1021,"user_id":169723,"accept_rate":0,"display_name":"Peter Lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55154,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"answer_count":9,"score":72,"last_activity_date":1664052225,"creation_date":1252382858,"question_id":1391918,"body_markdown":"I need a data structure that is a LinkedHashMap and is thread safe.\r\n\r\nHow can I do that ?","title":"Does java have a &quot;LinkedConcurrentHashMap&quot; data structure?","body":"<p>I need a data structure that is a LinkedHashMap and is thread safe.</p>\n\n<p>How can I do that ?</p>\n"},{"tags":["java","algorithm","assembly","compare-and-swap"],"comments":[{"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"score":1,"creation_date":1663547650,"post_id":73766225,"comment_id":130259001,"body_markdown":"Easy to simulate compare-and-set with compare-and-swap but not vice versa. Suspect that Java omitted compare-and-swap for portability, but that it&#39;s implemented with CMPXCHG on x86 (that being the most obvious way to do it).","body":"Easy to simulate compare-and-set with compare-and-swap but not vice versa. Suspect that Java omitted compare-and-swap for portability, but that it&#39;s implemented with CMPXCHG on x86 (that being the most obvious way to do it)."},{"owner":{"account_id":220850,"reputation":391,"user_id":478499,"display_name":"bitRAKE"},"score":1,"creation_date":1663597333,"post_id":73766225,"comment_id":130271115,"body_markdown":"BTS is a test and set instruction on x86, but it&#39;s only for bits. It does work with the LOCK prefix for atomic functionality.","body":"BTS is a test and set instruction on x86, but it&#39;s only for bits. It does work with the LOCK prefix for atomic functionality."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1700762754,"post_id":73766225,"comment_id":136696893,"body_markdown":"@DavidEisenstat: The question of portability came up again recently, as BeeOnRope pointed out in an answer on [Why does std::atomic\\_compare\\_exchange update the expected value?](https://stackoverflow.com/a/77533925) that C++11&#39;s `compare_exchange_strong` would need a loop (if the updated value of the `expected` reference arg is used) on hypothetical hardware that only made a boolean status available on failure, not the old value.  Maybe Java architects were less confident in the non-existence of such hardware than the C++ committee?","body":"@DavidEisenstat: The question of portability came up again recently, as BeeOnRope pointed out in an answer on <a href=\"https://stackoverflow.com/a/77533925\">Why does std::atomic_compare_exchange update the expected value?</a> that C++11&#39;s <code>compare_exchange_strong</code> would need a loop (if the updated value of the <code>expected</code> reference arg is used) on hypothetical hardware that only made a boolean status available on failure, not the old value.  Maybe Java architects were less confident in the non-existence of such hardware than the C++ committee?"},{"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"score":0,"creation_date":1700763418,"post_id":73766225,"comment_id":136696998,"body_markdown":"@PeterCordes hmm, actually, does LL/SC (on the relevant architectures) give you the old value typically?","body":"@PeterCordes hmm, actually, does LL/SC (on the relevant architectures) give you the old value typically?"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1700763571,"post_id":73766225,"comment_id":136697022,"body_markdown":"@DavidEisenstat: Yes, you load-linked into a register, compare-and-branch to skip the store (and clear the &quot;monitor&quot;) if the compare doesn&#39;t match, then run a store-conditional (and branch back to the start on spurious failure, unless you&#39;re doing `CAS_weak`.)  LL/SC is usually only found on RISC machines, so a memory-source compare wasn&#39;t an option in the first place, you have to load into a register even if later code doesn&#39;t use the updated `expected`.  e.g. AArch64: https://godbolt.org/z/1zadn9ez5 (where seq_cst just uses special instructions, not separate barriers.)","body":"@DavidEisenstat: Yes, you load-linked into a register, compare-and-branch to skip the store (and clear the &quot;monitor&quot;) if the compare doesn&#39;t match, then run a store-conditional (and branch back to the start on spurious failure, unless you&#39;re doing <code>CAS_weak</code>.)  LL/SC is usually only found on RISC machines, so a memory-source compare wasn&#39;t an option in the first place, you have to load into a register even if later code doesn&#39;t use the updated <code>expected</code>.  e.g. AArch64: <a href=\"https://godbolt.org/z/1zadn9ez5\" rel=\"nofollow noreferrer\">godbolt.org/z/1zadn9ez5</a> (where seq_cst just uses special instructions, not separate barriers.)"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1700764110,"post_id":73766225,"comment_id":136697092,"body_markdown":"(GCC doesn&#39;t run `clrex` after skipping the `stlxr` but clang does. https://godbolt.org/z/d7TaMnovj  I think it&#39;s expected that OSes will avoid spurious success on context switches between LL/SC pairs by doing `clrex` if necessary, so I think clang is over-cautious.  Newer gcc / clang for AArch64 call a library function if it can&#39;t inline ARMv8.1 single-instruction atomics so we can&#39;t see if that code-gen changed.)","body":"(GCC doesn&#39;t run <code>clrex</code> after skipping the <code>stlxr</code> but clang does. <a href=\"https://godbolt.org/z/d7TaMnovj\" rel=\"nofollow noreferrer\">godbolt.org/z/d7TaMnovj</a>  I think it&#39;s expected that OSes will avoid spurious success on context switches between LL/SC pairs by doing <code>clrex</code> if necessary, so I think clang is over-cautious.  Newer gcc / clang for AArch64 call a library function if it can&#39;t inline ARMv8.1 single-instruction atomics so we can&#39;t see if that code-gen changed.)"}],"answers":[{"tags":[],"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663654041,"creation_date":1663654041,"answer_id":73782258,"question_id":73766225,"body_markdown":"Yes, it&#39;s a wrapper that exposes the functionality of x86 `lock cmpxchg` or equivalent [compare-and-**swap**][1] instructions / sequences on other ISAs.  But Java&#39;s old `compareAndSet` API only returns the boolean success, not the old value on failure, so there are things it can&#39;t quite do.\r\n\r\nA recent question, *https://stackoverflow.com/q/73349502* was about emulating Java17 `compareAndExchange` (returning the old value) in terms of Java `compareAndSet` - it can&#39;t be done precisely.  You can load a value from near the time of the exchange, but it might end up the same as the &quot;expected&quot; arg to your CAS even if your CAS failed.  But if you keep both the boolean and the value you read separately, that&#39;s fine for most algorithms.\r\n\r\nThis situation is like [GNU C&#39;s old `__sync_bool_compare_and_swap`][2] vs. `__sync_val_...` for cases where you did want the old value.  The latter is more powerful: you *can* get success/fail from the `val` version by comparing the return value yourself.  So it&#39;s a bit disappointing that Java would provide only the less powerful one from Java 8 until Java 17, although it is the one that a lot of algorithms would be more likely to use.\r\n\r\n(GNU C later added `__atomic` builtins that match the C++11 API of `compare_exchange_weak` with a bool return value and the first arg by reference, updated on CAS failure.  So you get either or both, depending on which outputs you bother to actually use.)\r\n\r\nAlso related:\r\n\r\n* https://stackoverflow.com/questions/60648557/compareandexchange-vs-compareandset-of-atomic-integer  explains how they&#39;re very similar, differing only in return value.\r\n* https://stackoverflow.com/questions/32634280/how-does-compare-and-set-in-atomicinteger-works\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Compare-and-swap\r\n  [2]: https://gcc.gnu.org/onlinedocs/gcc/_005f_005fsync-Builtins.html","title":"What is the difference between the &#39;Compare And Swap&#39; and &#39;Compare And Set&#39; operations?","body":"<p>Yes, it's a wrapper that exposes the functionality of x86 <code>lock cmpxchg</code> or equivalent <a href=\"https://en.wikipedia.org/wiki/Compare-and-swap\" rel=\"nofollow noreferrer\">compare-and-<strong>swap</strong></a> instructions / sequences on other ISAs.  But Java's old <code>compareAndSet</code> API only returns the boolean success, not the old value on failure, so there are things it can't quite do.</p>\n<p>A recent question, <em><a href=\"https://stackoverflow.com/q/73349502\">Java 8 impl on Compare And Exchange (Not Compare and Set!)</a></em> was about emulating Java17 <code>compareAndExchange</code> (returning the old value) in terms of Java <code>compareAndSet</code> - it can't be done precisely.  You can load a value from near the time of the exchange, but it might end up the same as the &quot;expected&quot; arg to your CAS even if your CAS failed.  But if you keep both the boolean and the value you read separately, that's fine for most algorithms.</p>\n<p>This situation is like <a href=\"https://gcc.gnu.org/onlinedocs/gcc/_005f_005fsync-Builtins.html\" rel=\"nofollow noreferrer\">GNU C's old <code>__sync_bool_compare_and_swap</code></a> vs. <code>__sync_val_...</code> for cases where you did want the old value.  The latter is more powerful: you <em>can</em> get success/fail from the <code>val</code> version by comparing the return value yourself.  So it's a bit disappointing that Java would provide only the less powerful one from Java 8 until Java 17, although it is the one that a lot of algorithms would be more likely to use.</p>\n<p>(GNU C later added <code>__atomic</code> builtins that match the C++11 API of <code>compare_exchange_weak</code> with a bool return value and the first arg by reference, updated on CAS failure.  So you get either or both, depending on which outputs you bother to actually use.)</p>\n<p>Also related:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/60648557/compareandexchange-vs-compareandset-of-atomic-integer\">compareandexchange() vs compareandset() of Atomic-Integer</a>  explains how they're very similar, differing only in return value.</li>\n<li><a href=\"https://stackoverflow.com/questions/32634280/how-does-compare-and-set-in-atomicinteger-works\">How does &quot;Compare And Set&quot; in AtomicInteger works</a></li>\n</ul>\n"}],"owner":{"account_id":23638627,"reputation":35,"user_id":17669239,"display_name":"taher bouali"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73782258,"answer_count":1,"score":1,"last_activity_date":1664048634,"creation_date":1663533341,"question_id":73766225,"body_markdown":"I&#39;m trying to understand the &#39;Compare And Swap&#39; operation, briefly called CAS. I found that it has a variant called &#39;Compare And Set&#39;. They work the same way but the return is different. &#39;Compare And Swap&#39; returns a value but &#39;Compare And Set&#39; returns a boolean.\r\n\r\nMy question is whether they use the same Compare And Exchange (`CMPXCHG` for x86) instruction on low-level. Are they both implemented by atomic classes in Java ?\r\n","title":"What is the difference between the &#39;Compare And Swap&#39; and &#39;Compare And Set&#39; operations?","body":"<p>I'm trying to understand the 'Compare And Swap' operation, briefly called CAS. I found that it has a variant called 'Compare And Set'. They work the same way but the return is different. 'Compare And Swap' returns a value but 'Compare And Set' returns a boolean.</p>\n<p>My question is whether they use the same Compare And Exchange (<code>CMPXCHG</code> for x86) instruction on low-level. Are they both implemented by atomic classes in Java ?</p>\n"},{"tags":["java","marc"],"answers":[{"tags":[],"owner":{"account_id":1318956,"reputation":6802,"user_id":1265205,"accept_rate":68,"display_name":"Andr&#233; Luiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647939784,"creation_date":1647874640,"answer_id":71559647,"question_id":71515268,"body_markdown":"I couldn&#39;t find anything in the documentation but I managed to do it. Functions below:\r\n\r\n    public String getISO2709 (org.marc4j.marc.Record record ){\r\n        OutputStream output = new OutputStream() {\r\n            private StringBuilder string = new StringBuilder();\r\n\r\n            @Override\r\n            public void write(int b) throws IOException {\r\n                this.string.append((char) b );\r\n            }\r\n\r\n            public String toString() {\r\n                return this.string.toString();\r\n            }\r\n        };\r\n        MarcStreamWriter writer = new MarcStreamWriter(output);\r\n        writer.write(record);\r\n        return output.toString();\r\n    }\r\n\r\n\r\n    public String getNoticeLength(org.marc4j.marc.Record record, org.marc4j.marc.Leader currentLeader){\r\n\r\n        int recordLength = this.getISO2709(record).length();\r\n\r\n        String ret = StringUtils.padLeft(String.valueOf(recordLength), &#39;0&#39;, 5);\r\n        if(ret.length() &gt; 5) ret =&quot;00000&quot;; // since the header has space for only 5 chars, this 00000 will indicate the length was invalid\r\n\r\n        return ret;\r\n    }\r\n\r\n    public  String getBaseAddressOfData(org.marc4j.marc.Record record, org.marc4j.marc.Leader currentLeader){\r\n\r\n        String iso2709 = this.getISO2709(record);\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        for (ControlField cf : record.getControlFields()) {\r\n            sb.append(cf.getData() + &quot;\\u001E&quot;); // this is the character that separates the values for the control fields iso2709\r\n        }\r\n\r\n        int index = iso2709.indexOf(sb.toString());\r\n\r\n        String ret = StringUtils.padLeft(String.valueOf(index), &#39;0&#39;, 5);\r\n        if(ret.length() &gt; 5) ret=&quot;00000&quot;;\r\n\r\n        return ret;\r\n    }\r\n","title":"Marc4J calculating record length and base address of data","body":"<p>I couldn't find anything in the documentation but I managed to do it. Functions below:</p>\n<pre><code>public String getISO2709 (org.marc4j.marc.Record record ){\n    OutputStream output = new OutputStream() {\n        private StringBuilder string = new StringBuilder();\n\n        @Override\n        public void write(int b) throws IOException {\n            this.string.append((char) b );\n        }\n\n        public String toString() {\n            return this.string.toString();\n        }\n    };\n    MarcStreamWriter writer = new MarcStreamWriter(output);\n    writer.write(record);\n    return output.toString();\n}\n\n\npublic String getNoticeLength(org.marc4j.marc.Record record, org.marc4j.marc.Leader currentLeader){\n\n    int recordLength = this.getISO2709(record).length();\n\n    String ret = StringUtils.padLeft(String.valueOf(recordLength), '0', 5);\n    if(ret.length() &gt; 5) ret =&quot;00000&quot;; // since the header has space for only 5 chars, this 00000 will indicate the length was invalid\n\n    return ret;\n}\n\npublic  String getBaseAddressOfData(org.marc4j.marc.Record record, org.marc4j.marc.Leader currentLeader){\n\n    String iso2709 = this.getISO2709(record);\n    StringBuilder sb = new StringBuilder();\n\n    for (ControlField cf : record.getControlFields()) {\n        sb.append(cf.getData() + &quot;\\u001E&quot;); // this is the character that separates the values for the control fields iso2709\n    }\n\n    int index = iso2709.indexOf(sb.toString());\n\n    String ret = StringUtils.padLeft(String.valueOf(index), '0', 5);\n    if(ret.length() &gt; 5) ret=&quot;00000&quot;;\n\n    return ret;\n}\n</code></pre>\n"}],"owner":{"account_id":1318956,"reputation":6802,"user_id":1265205,"accept_rate":68,"display_name":"Andr&#233; Luiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664046609,"creation_date":1647532010,"question_id":71515268,"body_markdown":"I&#39;m working with Unimarc, using the [marc4j][1] library. In my system, I&#39;m already able to get an instance of `org.marc4j.marc.Record`. Now I&#39;m having a hard time figuring out how to calculate the record length and base address of data. that are used in the record leader.\r\n\r\nI&#39;ve been trying to find how to do this using the marc4j library or outside of it and couldn&#39;t find it so far.\r\n\r\nHow can I get these two pieces of information?\r\n\r\n  [1]: https://github.com/marc4j/marc4j","title":"Marc4J calculating record length and base address of data","body":"<p>I'm working with Unimarc, using the <a href=\"https://github.com/marc4j/marc4j\" rel=\"nofollow noreferrer\">marc4j</a> library. In my system, I'm already able to get an instance of <code>org.marc4j.marc.Record</code>. Now I'm having a hard time figuring out how to calculate the record length and base address of data. that are used in the record leader.</p>\n<p>I've been trying to find how to do this using the marc4j library or outside of it and couldn't find it so far.</p>\n<p>How can I get these two pieces of information?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2812217,"reputation":5723,"user_id":2418224,"display_name":"juzraai"},"score":2,"creation_date":1664028315,"post_id":73837739,"comment_id":130380125,"body_markdown":"Well inside your `checkEntry` method, you explicitly set `userNum` to 0, and you do nothing with the `incoming` value.","body":"Well inside your <code>checkEntry</code> method, you explicitly set <code>userNum</code> to 0, and you do nothing with the <code>incoming</code> value."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1664028463,"post_id":73837739,"comment_id":130380156,"body_markdown":"I recommend [Oracle Java tutorial](https://docs.oracle.com/javase/tutorial/)","body":"I recommend <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">Oracle Java tutorial</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1664028652,"post_id":73837739,"comment_id":130380192,"body_markdown":"Maybe you can [edit] your question and post the text of the &quot;lab&quot; you are trying to do? And post it as text and not as an image.","body":"Maybe you can <a href=\"https://stackoverflow.com/posts/73837739/edit\">edit</a> your question and post the text of the &quot;lab&quot; you are trying to do? And post it as text and not as an image."}],"answers":[{"tags":[],"owner":{"account_id":26431385,"reputation":1,"user_id":20077501,"display_name":"Noob Learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664046464,"creation_date":1664028938,"answer_id":73837900,"question_id":73837739,"body_markdown":"You need to assign incoming arguments in the checkEntry method.\r\n\r\nReplace the lines `int userNum;` and `userNum = 0;` with the following line:\r\n\r\n```java\r\nint userNum = incoming;\r\n```\r\n\r\n","title":"Properly executing a method in a method?","body":"<p>You need to assign incoming arguments in the checkEntry method.</p>\n<p>Replace the lines <code>int userNum;</code> and <code>userNum = 0;</code> with the following line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int userNum = incoming;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23928258,"reputation":11,"user_id":20076007,"display_name":"Salomon Metre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664030365,"creation_date":1664029767,"answer_id":73837987,"question_id":73837739,"body_markdown":"Notice that your method checkEntry() never makes use of incoming; instead, it initializes userNum to 0, which means it always returns 0. It should therefore be:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class LabProgram {\r\n        public static void main(String[] args) {\r\n            /* Type your code below this line. Create additional lines as needed. */\r\n            Scanner scnr = new Scanner(System.in);\r\n            int userNum;\r\n            userNum = 0;\r\n            while (userNum != 1) {\r\n                System.out.println(&quot;Please enter a number between 15 and 45. Enter 1 to exit.&quot;);\r\n                userNum = scnr.nextInt();\r\n                System.out.println(&quot;Output: &quot; + checkEntry(userNum));\r\n            }\r\n        } // do not delete this line\r\n\r\n        public static int checkEntry(int incoming) {\r\n            /* Type your code for the checkEntry method below this line. Create additional lines as needed. */\r\n            int userNum=0;\r\n            if (incoming &gt;= 35) {\r\n                userNum = incoming + 10;\r\n            } else {\r\n                userNum = incoming * 5;\r\n            }\r\n            return userNum;\r\n        } // do not delete this line\r\n    } // do not delete this line\r\n\r\nA simpler version would be:\r\n    import java.util.Scanner;\r\n\r\n    public class LabProgram {\r\n        public static void main(String[] args) {\r\n            /* Type your code below this line. Create additional lines as needed. */\r\n            Scanner scnr = new Scanner(System.in);\r\n            int userNum;\r\n            userNum = 0;\r\n            while (userNum != 1) {\r\n                System.out.println(&quot;Please enter a number between 15 and 45. Enter 1 to exit.&quot;);\r\n                userNum = scnr.nextInt();\r\n                System.out.println(&quot;Output: &quot; + checkEntry(userNum));\r\n            }\r\n        } // do not delete this line\r\n\r\n        public static int checkEntry(int incoming) {\r\n            /* Type your code for the checkEntry method below this line. Create additional lines as needed. */\r\n            if (incoming &gt;= 35)\r\n                return incoming + 10;\r\n            return incoming*5;\r\n        } // do not delete this line\r\n    } // do not delete this line\r\n","title":"Properly executing a method in a method?","body":"<p>Notice that your method checkEntry() never makes use of incoming; instead, it initializes userNum to 0, which means it always returns 0. It should therefore be:</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n        /* Type your code below this line. Create additional lines as needed. */\n        Scanner scnr = new Scanner(System.in);\n        int userNum;\n        userNum = 0;\n        while (userNum != 1) {\n            System.out.println(&quot;Please enter a number between 15 and 45. Enter 1 to exit.&quot;);\n            userNum = scnr.nextInt();\n            System.out.println(&quot;Output: &quot; + checkEntry(userNum));\n        }\n    } // do not delete this line\n\n    public static int checkEntry(int incoming) {\n        /* Type your code for the checkEntry method below this line. Create additional lines as needed. */\n        int userNum=0;\n        if (incoming &gt;= 35) {\n            userNum = incoming + 10;\n        } else {\n            userNum = incoming * 5;\n        }\n        return userNum;\n    } // do not delete this line\n} // do not delete this line\n</code></pre>\n<p>A simpler version would be:\nimport java.util.Scanner;</p>\n<pre><code>public class LabProgram {\n    public static void main(String[] args) {\n        /* Type your code below this line. Create additional lines as needed. */\n        Scanner scnr = new Scanner(System.in);\n        int userNum;\n        userNum = 0;\n        while (userNum != 1) {\n            System.out.println(&quot;Please enter a number between 15 and 45. Enter 1 to exit.&quot;);\n            userNum = scnr.nextInt();\n            System.out.println(&quot;Output: &quot; + checkEntry(userNum));\n        }\n    } // do not delete this line\n\n    public static int checkEntry(int incoming) {\n        /* Type your code for the checkEntry method below this line. Create additional lines as needed. */\n        if (incoming &gt;= 35)\n            return incoming + 10;\n        return incoming*5;\n    } // do not delete this line\n} // do not delete this line\n</code></pre>\n"}],"owner":{"account_id":26431389,"reputation":1,"user_id":20077504,"display_name":"Nikita Childers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1664046464,"creation_date":1664027501,"question_id":73837739,"body_markdown":"I am trying to magically learn Java in 5 weeks because of a college class. That is not enough time to learn anything. I&#39;m trying to complete this lab in ZyBooks, but I can&#39;t figure it out and I have no information to help. I am trying to call this checkEntry method. My results are constantly 0. Please someone explain how to do this properly. \r\n\r\nInstructions: \r\n\r\n&gt; Ask the user for input using the following prompt (precisely): &quot;Please\r\n&gt; enter a number between 15 and 45. Enter 1 to exit.&quot; Store the user&#39;s\r\n&gt; input in a variable with the integer data type. Use a while loop to\r\n&gt; repeat the program, checking the user&#39;s entry in case they entered a 1\r\n&gt; to exit the program. (1) Within the loop, place the prompt (user\r\n&gt; instructions) described above. (2) Next, within the loop, collect the\r\n&gt; user&#39;s input and store it in a variable. (3) Finally, still within the\r\n&gt; loop, display the output string precisely as follows, then call the\r\n&gt; checkEntry method, passing in the variable containing the user&#39;s\r\n&gt; input. &quot;Output: &quot; (do not forget the space after the colon) A separate\r\n&gt; method called &quot;checkEntry&quot; has been created for you in the starting\r\n&gt; template below (note: You can restore the default code if you wish to\r\n&gt; start over by clicking the &quot;Load default template…&quot; link). Within this\r\n&gt; method, create an IF and an ELSE, using a condition for the IF that\r\n&gt; checks to see if the value is greater than or equal to 35. If the user\r\n&gt; enterd a value of less than 35, the checkEntry method must multiply\r\n&gt; that value by 5 and return the result to main(). If the user enterd a\r\n&gt; value greater than or equal to 35, the program must instead add 10 to\r\n&gt; their number and return the result to main().\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n    public static void main(String[] args) {\r\n        /* Type your code below this line. Create additional lines as needed. */\r\n        Scanner scnr = new Scanner(System.in);\r\n        int userNum;\r\n        userNum = 0;\r\n        while (userNum != 1) {\r\n            System.out.println(&quot;Please enter a number between 15 and 45. Enter 1 to exit.&quot;);\r\n            userNum = scnr.nextInt();\r\n            System.out.println(&quot;Output: &quot; + checkEntry(userNum));\r\n        }\r\n    } // do not delete this line\r\n\r\n    public static int checkEntry(int incoming) {\r\n        /* Type your code for the checkEntry method below this line. Create additional lines as needed. */\r\n        int userNum;\r\n        userNum = 0;\r\n        if (userNum &gt;= 35) {\r\n            userNum = userNum + 10;\r\n        } else {\r\n            userNum = userNum * 5;\r\n        }\r\n        return userNum;\r\n    } // do not delete this line\r\n} // do not delete this line\r\n```\r\n","title":"Properly executing a method in a method?","body":"<p>I am trying to magically learn Java in 5 weeks because of a college class. That is not enough time to learn anything. I'm trying to complete this lab in ZyBooks, but I can't figure it out and I have no information to help. I am trying to call this checkEntry method. My results are constantly 0. Please someone explain how to do this properly.</p>\n<p>Instructions:</p>\n<blockquote>\n<p>Ask the user for input using the following prompt (precisely): &quot;Please\nenter a number between 15 and 45. Enter 1 to exit.&quot; Store the user's\ninput in a variable with the integer data type. Use a while loop to\nrepeat the program, checking the user's entry in case they entered a 1\nto exit the program. (1) Within the loop, place the prompt (user\ninstructions) described above. (2) Next, within the loop, collect the\nuser's input and store it in a variable. (3) Finally, still within the\nloop, display the output string precisely as follows, then call the\ncheckEntry method, passing in the variable containing the user's\ninput. &quot;Output: &quot; (do not forget the space after the colon) A separate\nmethod called &quot;checkEntry&quot; has been created for you in the starting\ntemplate below (note: You can restore the default code if you wish to\nstart over by clicking the &quot;Load default template…&quot; link). Within this\nmethod, create an IF and an ELSE, using a condition for the IF that\nchecks to see if the value is greater than or equal to 35. If the user\nenterd a value of less than 35, the checkEntry method must multiply\nthat value by 5 and return the result to main(). If the user enterd a\nvalue greater than or equal to 35, the program must instead add 10 to\ntheir number and return the result to main().</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n        /* Type your code below this line. Create additional lines as needed. */\n        Scanner scnr = new Scanner(System.in);\n        int userNum;\n        userNum = 0;\n        while (userNum != 1) {\n            System.out.println(&quot;Please enter a number between 15 and 45. Enter 1 to exit.&quot;);\n            userNum = scnr.nextInt();\n            System.out.println(&quot;Output: &quot; + checkEntry(userNum));\n        }\n    } // do not delete this line\n\n    public static int checkEntry(int incoming) {\n        /* Type your code for the checkEntry method below this line. Create additional lines as needed. */\n        int userNum;\n        userNum = 0;\n        if (userNum &gt;= 35) {\n            userNum = userNum + 10;\n        } else {\n            userNum = userNum * 5;\n        }\n        return userNum;\n    } // do not delete this line\n} // do not delete this line\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","mongorepository"],"answers":[{"tags":[],"owner":{"account_id":9566029,"reputation":305,"user_id":7105295,"display_name":"Prashant Vishwakarma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664046185,"creation_date":1664046185,"answer_id":73839872,"question_id":73839652,"body_markdown":"When you query with just `value` and `fields` in a JPA `@Query`, it would still return instances of your entity.\r\nTherefore, the return type of your method should be `CovidCases`. You can later, count number of documents to get the required result.\r\n```\r\n@Query(value = &quot;{ &#39;_id&#39; : ?0 }&quot;, fields = &quot;{ &#39;_id&#39; : 1}&quot;)\r\nCovidCases returnIntegerFromDB(Integer id);\r\n```\r\n\r\nTo get count directly using `@Query`, add the flag `count` to it:\r\n```\r\n@Query(value = &quot;{ &#39;_id&#39; : ?0 }&quot;, fields = &quot;{ &#39;_id&#39; : 1}&quot;, count = true)\r\nLong returnIntegerFromDB(Integer id);\r\n```","title":"mongodb not returning the integer, mappingexception","body":"<p>When you query with just <code>value</code> and <code>fields</code> in a JPA <code>@Query</code>, it would still return instances of your entity.\nTherefore, the return type of your method should be <code>CovidCases</code>. You can later, count number of documents to get the required result.</p>\n<pre><code>@Query(value = &quot;{ '_id' : ?0 }&quot;, fields = &quot;{ '_id' : 1}&quot;)\nCovidCases returnIntegerFromDB(Integer id);\n</code></pre>\n<p>To get count directly using <code>@Query</code>, add the flag <code>count</code> to it:</p>\n<pre><code>@Query(value = &quot;{ '_id' : ?0 }&quot;, fields = &quot;{ '_id' : 1}&quot;, count = true)\nLong returnIntegerFromDB(Integer id);\n</code></pre>\n"}],"owner":{"account_id":7275947,"reputation":15,"user_id":5547399,"display_name":"T.Huss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73839872,"answer_count":1,"score":0,"last_activity_date":1664046185,"creation_date":1664043858,"question_id":73839652,"body_markdown":"Im trying to return an integer using mongo repository, the value i want to get is the id, below is the mongo query being used to extract the id field from the database as an integer\r\n\r\n    package com.example.messagestomongodb.repository;\r\n\r\n    import com.example.messagestomongodb.domain.CovidCases;\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    import org.springframework.data.mongodb.repository.Query;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    @Repository\r\n    public interface CasesRepository extends MongoRepository&lt;CovidCases, Integer&gt; {\r\n\r\n    @Query(value = &quot;{ &#39;_id&#39; : ?0 }&quot;, fields = &quot;{ &#39;_id&#39; : 1}&quot;)\r\n    Integer returnIntegerFromDB(Integer id);\r\n\r\n\r\n    }\r\n\r\ni am trying to check for duplicate records which contain the id when it already exists in the database, the reason for this is so i can DLQ the message as i am working with RabbitMQ\r\n\r\n    public boolean checkForDuplicateRecords(Integer id, CovidCases cases){\r\n        Integer existingId = casesRepository.returnIntegerFromDB(id);\r\n\r\n        if (cases.getId().equals(existingId)){\r\n            log.info(&quot;existingid is {} and casesid is {}&quot;,existingId,cases.getId());\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nI am getting the following error when i run the application:\r\n\r\n    Caused by: org.springframework.data.mapping.MappingException: Expected to read Document Document{{_id=1}} into type class java.lang.Integer but didn&#39;t find a PersistentEntity for the latter!\r\n\r\nThere seems to be an error getting the data from mongo but i am returning an integer and _id is set to an integer data type in mongo aswell","title":"mongodb not returning the integer, mappingexception","body":"<p>Im trying to return an integer using mongo repository, the value i want to get is the id, below is the mongo query being used to extract the id field from the database as an integer</p>\n<pre><code>package com.example.messagestomongodb.repository;\n\nimport com.example.messagestomongodb.domain.CovidCases;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.data.mongodb.repository.Query;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface CasesRepository extends MongoRepository&lt;CovidCases, Integer&gt; {\n\n@Query(value = &quot;{ '_id' : ?0 }&quot;, fields = &quot;{ '_id' : 1}&quot;)\nInteger returnIntegerFromDB(Integer id);\n\n\n}\n</code></pre>\n<p>i am trying to check for duplicate records which contain the id when it already exists in the database, the reason for this is so i can DLQ the message as i am working with RabbitMQ</p>\n<pre><code>public boolean checkForDuplicateRecords(Integer id, CovidCases cases){\n    Integer existingId = casesRepository.returnIntegerFromDB(id);\n\n    if (cases.getId().equals(existingId)){\n        log.info(&quot;existingid is {} and casesid is {}&quot;,existingId,cases.getId());\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>I am getting the following error when i run the application:</p>\n<pre><code>Caused by: org.springframework.data.mapping.MappingException: Expected to read Document Document{{_id=1}} into type class java.lang.Integer but didn't find a PersistentEntity for the latter!\n</code></pre>\n<p>There seems to be an error getting the data from mongo but i am returning an integer and _id is set to an integer data type in mongo aswell</p>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1454398980,"post_id":35147586,"comment_id":58014255,"body_markdown":"you start by (step 1) analysing the problem (step 2) implementing your analysis by writing code","body":"you start by (step 1) analysing the problem (step 2) implementing your analysis by writing code"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1454399321,"post_id":35147586,"comment_id":58014419,"body_markdown":"I think you should be able to figure this one out.  The essence of recursion is that you&#39;re solving a problem by solving the same problem on a smaller input (in this case, a smaller array).  Try writing some 3- and 4-element palindromic arrays on paper, and see if you can figure out how to reduce it to a smaller problem.","body":"I think you should be able to figure this one out.  The essence of recursion is that you&#39;re solving a problem by solving the same problem on a smaller input (in this case, a smaller array).  Try writing some 3- and 4-element palindromic arrays on paper, and see if you can figure out how to reduce it to a smaller problem."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":2,"creation_date":1454399493,"post_id":35147586,"comment_id":58014501,"body_markdown":"@STaefi Sorry, that&#39;s not quite correct; this *is* a Q&amp;A site.  There are plenty of questions and answers.  The bottom of this page says &quot;Know someone who can **answer**?  Share a link to this **question**...&quot;.  We just don&#39;t like people asking us to tell them how to write code before they&#39;ve made any effort themselves.","body":"@STaefi Sorry, that&#39;s not quite correct; this <i>is</i> a Q&amp;A site.  There are plenty of questions and answers.  The bottom of this page says &quot;Know someone who can <b>answer</b>?  Share a link to this <b>question</b>...&quot;.  We just don&#39;t like people asking us to tell them how to write code before they&#39;ve made any effort themselves."},{"owner":{"account_id":5458530,"reputation":4307,"user_id":4341283,"accept_rate":50,"display_name":"STaefi"},"score":0,"creation_date":1454399822,"post_id":35147586,"comment_id":58014681,"body_markdown":"@ajb: Dear ajb, you know what I mean, that we don&#39;t answer people&#39;s how to write their homeworks and programming projects. Actually we help them with their problems in their code. Isn&#39;t it better to ask such questions as **How to implement an algorithm ...** in other Stack Exchange Sites like **CS** or **programmers**?","body":"@ajb: Dear ajb, you know what I mean, that we don&#39;t answer people&#39;s how to write their homeworks and programming projects. Actually we help them with their problems in their code. Isn&#39;t it better to ask such questions as <b>How to implement an algorithm ...</b> in other Stack Exchange Sites like <b>CS</b> or <b>programmers</b>?"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":1,"creation_date":1454399960,"post_id":35147586,"comment_id":58014749,"body_markdown":"@STaefi I agree that this isn&#39;t a good question for StackOverflow.  But saying that this is not a Q&amp;A site goes way too far, I think, and could confuse people who do have good questions.","body":"@STaefi I agree that this isn&#39;t a good question for StackOverflow.  But saying that this is not a Q&amp;A site goes way too far, I think, and could confuse people who do have good questions."},{"owner":{"account_id":5458530,"reputation":4307,"user_id":4341283,"accept_rate":50,"display_name":"STaefi"},"score":0,"creation_date":1454400033,"post_id":35147586,"comment_id":58014784,"body_markdown":"@ajb: Agree, you are right. Thanks for the hint. ;-)","body":"@ajb: Agree, you are right. Thanks for the hint. ;-)"},{"owner":{"account_id":7047934,"reputation":11,"user_id":5398141,"display_name":"leoperax"},"score":0,"creation_date":1454401303,"post_id":35147586,"comment_id":58015395,"body_markdown":"My sincerest apology for forgetting to include my code, i have just updated the content.","body":"My sincerest apology for forgetting to include my code, i have just updated the content."},{"owner":{"account_id":7047934,"reputation":11,"user_id":5398141,"display_name":"leoperax"},"score":0,"creation_date":1454401832,"post_id":35147586,"comment_id":58015692,"body_markdown":"@ajb thread updated.","body":"@ajb thread updated."},{"owner":{"account_id":7047934,"reputation":11,"user_id":5398141,"display_name":"leoperax"},"score":0,"creation_date":1454401867,"post_id":35147586,"comment_id":58015705,"body_markdown":"@STaefi thread updated.","body":"@STaefi thread updated."},{"owner":{"account_id":7047934,"reputation":11,"user_id":5398141,"display_name":"leoperax"},"score":0,"creation_date":1454401880,"post_id":35147586,"comment_id":58015711,"body_markdown":"@MatthewHerbst thread updated.","body":"@MatthewHerbst thread updated."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1454427825,"post_id":35147586,"comment_id":58033837,"body_markdown":"Thank you for including the code.  So what&#39;s the problem now?  All I can see is a spelling error.","body":"Thank you for including the code.  So what&#39;s the problem now?  All I can see is a spelling error."},{"owner":{"account_id":7047934,"reputation":11,"user_id":5398141,"display_name":"leoperax"},"score":0,"creation_date":1454432983,"post_id":35147586,"comment_id":58037490,"body_markdown":"@ajb thanks for the heads up!! coding over a long span of time can blind me from stupid mistakes likes this sometimes... I kept thinking my algorithm was wrong.","body":"@ajb thanks for the heads up!! coding over a long span of time can blind me from stupid mistakes likes this sometimes... I kept thinking my algorithm was wrong."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454399427,"creation_date":1454399427,"answer_id":35147770,"question_id":35147586,"body_markdown":"Hints:\r\n\r\n  - an empty or 1 character string is a palindrome.\r\n  - a string is a palindrome if the first and later characters are the same AND ... you figure out the rest.\r\n  - a common pattern in recursive algorithms is to use an auxiliary function that does the work.","title":"How to recursively check for java array palindrome?","body":"<p>Hints:</p>\n\n<ul>\n<li>an empty or 1 character string is a palindrome.</li>\n<li>a string is a palindrome if the first and later characters are the same AND ... you figure out the rest.</li>\n<li>a common pattern in recursive algorithms is to use an auxiliary function that does the work.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7047934,"reputation":11,"user_id":5398141,"display_name":"leoperax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1454433085,"creation_date":1454433085,"answer_id":35159645,"question_id":35147586,"body_markdown":"Thanks for all the great hints and suggestions, just revised my code and it did the trick!\r\n\r\n    public boolean isPalindrome(int[] array, int start, int end)\r\n    {\r\n\t    if(array.length == 0 || array.length == 1)\r\n\t\t    return true;\r\n\t\r\n\t    if(start &gt;= end)\r\n\t\t    return true;\r\n\t\r\n\t    if(array[start] != array[end])\r\n\t\t    return false;\r\n\t\r\n\t    return isPalindrome(array, start + 1, end -1);\r\n    }\r\n","title":"How to recursively check for java array palindrome?","body":"<p>Thanks for all the great hints and suggestions, just revised my code and it did the trick!</p>\n\n<pre><code>public boolean isPalindrome(int[] array, int start, int end)\n{\n    if(array.length == 0 || array.length == 1)\n        return true;\n\n    if(start &gt;= end)\n        return true;\n\n    if(array[start] != array[end])\n        return false;\n\n    return isPalindrome(array, start + 1, end -1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17452328,"reputation":13,"user_id":12652048,"display_name":"mahesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664045607,"creation_date":1664045607,"answer_id":73839817,"question_id":35147586,"body_markdown":"We have to check till half of the array length and keep comparing the first half to the second. \r\n\r\n    public static void main(String[] args) {\r\n    \t\tint[] a = {1,0,0,1,0,0,1};\r\n    \t\tif(ispalindrome(0,a.length,a))\r\n    \t\t\tSystem.out.println(&quot;Is Palindrome&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;Is not Palindrome&quot;);\r\n    \t}\r\n    static boolean ispalindrome(int i, int n, int[] arr) {\r\n    \t\tif(i&gt;=n/2)\r\n    \t\t\treturn true;\r\n    \t\t\r\n    \t\tif(arr[i]!=arr[n-i-1])\r\n    \t\t\treturn false;\r\n    \t\t\r\n    \t\treturn ispalindrome(i+1,n,arr);\r\n    \t}","title":"How to recursively check for java array palindrome?","body":"<p>We have to check till half of the array length and keep comparing the first half to the second.</p>\n<pre><code>public static void main(String[] args) {\n        int[] a = {1,0,0,1,0,0,1};\n        if(ispalindrome(0,a.length,a))\n            System.out.println(&quot;Is Palindrome&quot;);\n        else\n            System.out.println(&quot;Is not Palindrome&quot;);\n    }\nstatic boolean ispalindrome(int i, int n, int[] arr) {\n        if(i&gt;=n/2)\n            return true;\n        \n        if(arr[i]!=arr[n-i-1])\n            return false;\n        \n        return ispalindrome(i+1,n,arr);\n    }\n</code></pre>\n"}],"owner":{"account_id":7047934,"reputation":11,"user_id":5398141,"display_name":"leoperax"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4874,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":35159645,"answer_count":3,"score":-3,"last_activity_date":1664045607,"creation_date":1454398664,"question_id":35147586,"body_markdown":"I&#39;m stuck on a java assignment wherein I&#39;m asked to design a recursive palindrome method that checks an integer array, returns true if it is a palindrome, false if it is not. So far I know the base case is that if the array is empty, or if it has only one element, it returns true. But I&#39;m not sure how to start with the rest. Please help! Thank you!\r\nThis is what I have so far:\r\n\r\n    public boolean isPalindrome(int[] array, int start, int end)\r\n    {\r\n\t    if(array.length == 0 || array.length == 1)\r\n\t\t    return true;\r\n\t\r\n\t    if(start &gt;= end)\r\n\t\t    return true;\r\n\t\r\n\t    if(array[start] != array[end])\r\n\t\t    return false;\r\n\t\r\n\t    return palindrome(array, start + 1, end -1);\r\n    }","title":"How to recursively check for java array palindrome?","body":"<p>I'm stuck on a java assignment wherein I'm asked to design a recursive palindrome method that checks an integer array, returns true if it is a palindrome, false if it is not. So far I know the base case is that if the array is empty, or if it has only one element, it returns true. But I'm not sure how to start with the rest. Please help! Thank you!\nThis is what I have so far:</p>\n\n<pre><code>public boolean isPalindrome(int[] array, int start, int end)\n{\n    if(array.length == 0 || array.length == 1)\n        return true;\n\n    if(start &gt;= end)\n        return true;\n\n    if(array[start] != array[end])\n        return false;\n\n    return palindrome(array, start + 1, end -1);\n}\n</code></pre>\n"},{"tags":["java","android","android-intent"],"answers":[{"tags":[],"owner":{"account_id":3131499,"reputation":1797,"user_id":2649154,"accept_rate":93,"display_name":"gioravered"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664044927,"creation_date":1664044608,"answer_id":73839724,"question_id":73839596,"body_markdown":"You didn&#39;t add any crash log, but by looking at your code I see you don&#39;t verify the Intent extras is not null. This may lead to a NullPointerException and could definitely be the reason for the crash.\r\n\r\nAdd a null check before using the Intent:\r\n\r\n```Java\r\nBundle extras = getIntent().getExtra();\r\nif (extras != null) {\r\n    ImageView imageView = (ImageView) findViewById(R.id.main_image);\r\n\r\n    byte[] byteArray = receiver.getByteArrayExtra(&quot;image&quot;);\r\n    Bitmap bitmap = BitmapFactory.decodeByteArray(byteArray, 0, byteArray.length);\r\n\r\n    imageView.setImageBitmap(bitmap);\r\n\r\n    text_title = (TextView) findViewById(R.id.title); \r\n\r\n\r\n    String title_temp = receiver.getStringExtra(&quot;temp1&quot;);\r\n    text_title.setText(title_temp);\r\n\r\n    text_author = (TextView)  findViewById(R.id.author);\r\n\r\n    String author_temp = receiver.getStringExtra(&quot;temp2&quot;);\r\n    text_author.setText(author_temp);\r\n}","title":"How to change activity without input data?","body":"<p>You didn't add any crash log, but by looking at your code I see you don't verify the Intent extras is not null. This may lead to a NullPointerException and could definitely be the reason for the crash.</p>\n<p>Add a null check before using the Intent:</p>\n<pre><code>Bundle extras = getIntent().getExtra();\nif (extras != null) {\n    ImageView imageView = (ImageView) findViewById(R.id.main_image);\n\n    byte[] byteArray = receiver.getByteArrayExtra(&quot;image&quot;);\n    Bitmap bitmap = BitmapFactory.decodeByteArray(byteArray, 0, byteArray.length);\n\n    imageView.setImageBitmap(bitmap);\n\n    text_title = (TextView) findViewById(R.id.title); \n\n\n    String title_temp = receiver.getStringExtra(&quot;temp1&quot;);\n    text_title.setText(title_temp);\n\n    text_author = (TextView)  findViewById(R.id.author);\n\n    String author_temp = receiver.getStringExtra(&quot;temp2&quot;);\n    text_author.setText(author_temp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14647739,"reputation":11,"user_id":10578573,"display_name":"Huma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664044690,"creation_date":1664044690,"answer_id":73839735,"question_id":73839596,"body_markdown":"You&#39;ll have to check if your intent have extras or not by the following check otherwise it&#39;ll throw NullpointerExxception.\r\nit will only set values if intent have extras\r\n\r\n \r\n\r\n       if (receiver.getExtras() != null){\r\n        \r\n        String title_temp = receiver.getStringExtra(&quot;temp1&quot;);\r\n        text_title.setText(title_temp);\r\n    \r\n        text_author = (TextView)  findViewById(R.id.author);\r\n    \r\n        String author_temp = receiver.getStringExtra(&quot;temp2&quot;);\r\n        text_author.setText(author_temp);\r\n    }\r\n\r\n\r\nor you can also check specific extras by this \r\n\r\n        if (receiver.getExtras() != null &amp;&amp; receiver.getExtras().containsKey(&quot;temp1&quot;)) {\r\n            String title_temp = receiver.getStringExtra(&quot;temp1&quot;);\r\n            text_title.setText(title_temp);\r\n        }","title":"How to change activity without input data?","body":"<p>You'll have to check if your intent have extras or not by the following check otherwise it'll throw NullpointerExxception.\nit will only set values if intent have extras</p>\n<pre><code>   if (receiver.getExtras() != null){\n    \n    String title_temp = receiver.getStringExtra(&quot;temp1&quot;);\n    text_title.setText(title_temp);\n\n    text_author = (TextView)  findViewById(R.id.author);\n\n    String author_temp = receiver.getStringExtra(&quot;temp2&quot;);\n    text_author.setText(author_temp);\n}\n</code></pre>\n<p>or you can also check specific extras by this</p>\n<pre><code>    if (receiver.getExtras() != null &amp;&amp; receiver.getExtras().containsKey(&quot;temp1&quot;)) {\n        String title_temp = receiver.getStringExtra(&quot;temp1&quot;);\n        text_title.setText(title_temp);\n    }\n</code></pre>\n"}],"owner":{"account_id":26136534,"reputation":1,"user_id":19826448,"display_name":"Chanyoung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73839724,"answer_count":2,"score":0,"last_activity_date":1664044927,"creation_date":1664043400,"question_id":73839596,"body_markdown":"I am trying to use intent to pass input data to another activity. it works well by the way, but when I try to change the activity without any input data, application shuts down. How can I change the activity without input data and image file? \r\n\r\nHere is the upload activity code :\r\n\r\n    imageView = (ImageView) findViewById(R.id.imageview);\r\n        Button uploading = (Button) findViewById(R.id.upload_upload);\r\n        uploading.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n                Bitmap bitmap = ((BitmapDrawable)imageView.getDrawable()).getBitmap();\r\n                float scale = (float) (1024/(float)bitmap.getWidth());\r\n                int image_w = (int) (bitmap.getWidth() * scale);\r\n                int image_h = (int) (bitmap.getHeight() * scale);\r\n                Bitmap resize = Bitmap.createScaledBitmap(bitmap, image_w, image_h, true);\r\n                resize.compress(Bitmap.CompressFormat.JPEG, 100, stream);\r\n                byte[] byteArray = stream.toByteArray();\r\n\r\n                Intent intent = new Intent(upload.this,MainActivity.class);\r\n\r\n                intent.putExtra(&quot;integer&quot;, 300);\r\n                intent.putExtra(&quot;double&quot;, 3.141592);\r\n                intent.putExtra(&quot;image&quot;, byteArray);\r\n\r\n\r\n                EditText input_title = (EditText) findViewById(R.id.upload_title);\r\n                String temp1 = input_title.getText().toString();\r\n                intent.putExtra(&quot;temp1&quot;,temp1);\r\n\r\n                EditText input_author = (EditText) findViewById(R.id.upload_author);\r\n                String temp2 = input_author.getText().toString();\r\n                intent.putExtra(&quot;temp2&quot;,temp2);\r\n                \r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\nMainActivity code : \r\n\r\n    ImageView imageView = (ImageView) findViewById(R.id.main_image);\r\n\r\n        Bundle extras = getIntent().getExtras();\r\n        byte[] byteArray = getIntent().getByteArrayExtra(&quot;image&quot;);\r\n        Bitmap bitmap = BitmapFactory.decodeByteArray(byteArray, 0, byteArray.length);\r\n\r\n        imageView.setImageBitmap(bitmap);\r\n\r\n        text_title = (TextView) findViewById(R.id.title); \r\n\r\n        Intent receiver = getIntent();\r\n\r\n        String title_temp = receiver.getStringExtra(&quot;temp1&quot;);\r\n        text_title.setText(title_temp);\r\n\r\n        text_author = (TextView)  findViewById(R.id.author);\r\n\r\n        String author_temp = receiver.getStringExtra(&quot;temp2&quot;);\r\n        text_author.setText(author_temp);","title":"How to change activity without input data?","body":"<p>I am trying to use intent to pass input data to another activity. it works well by the way, but when I try to change the activity without any input data, application shuts down. How can I change the activity without input data and image file?</p>\n<p>Here is the upload activity code :</p>\n<pre><code>imageView = (ImageView) findViewById(R.id.imageview);\n    Button uploading = (Button) findViewById(R.id.upload_upload);\n    uploading.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\n            Bitmap bitmap = ((BitmapDrawable)imageView.getDrawable()).getBitmap();\n            float scale = (float) (1024/(float)bitmap.getWidth());\n            int image_w = (int) (bitmap.getWidth() * scale);\n            int image_h = (int) (bitmap.getHeight() * scale);\n            Bitmap resize = Bitmap.createScaledBitmap(bitmap, image_w, image_h, true);\n            resize.compress(Bitmap.CompressFormat.JPEG, 100, stream);\n            byte[] byteArray = stream.toByteArray();\n\n            Intent intent = new Intent(upload.this,MainActivity.class);\n\n            intent.putExtra(&quot;integer&quot;, 300);\n            intent.putExtra(&quot;double&quot;, 3.141592);\n            intent.putExtra(&quot;image&quot;, byteArray);\n\n\n            EditText input_title = (EditText) findViewById(R.id.upload_title);\n            String temp1 = input_title.getText().toString();\n            intent.putExtra(&quot;temp1&quot;,temp1);\n\n            EditText input_author = (EditText) findViewById(R.id.upload_author);\n            String temp2 = input_author.getText().toString();\n            intent.putExtra(&quot;temp2&quot;,temp2);\n            \n            startActivity(intent);\n        }\n    });\n</code></pre>\n<p>MainActivity code :</p>\n<pre><code>ImageView imageView = (ImageView) findViewById(R.id.main_image);\n\n    Bundle extras = getIntent().getExtras();\n    byte[] byteArray = getIntent().getByteArrayExtra(&quot;image&quot;);\n    Bitmap bitmap = BitmapFactory.decodeByteArray(byteArray, 0, byteArray.length);\n\n    imageView.setImageBitmap(bitmap);\n\n    text_title = (TextView) findViewById(R.id.title); \n\n    Intent receiver = getIntent();\n\n    String title_temp = receiver.getStringExtra(&quot;temp1&quot;);\n    text_title.setText(title_temp);\n\n    text_author = (TextView)  findViewById(R.id.author);\n\n    String author_temp = receiver.getStringExtra(&quot;temp2&quot;);\n    text_author.setText(author_temp);\n</code></pre>\n"},{"tags":["java","arraylist","java-stream"],"answers":[{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664030908,"creation_date":1664030908,"answer_id":73838124,"question_id":73838082,"body_markdown":"Use the map() function, append it after the filter.\r\n\r\n    Optional&lt;int&gt; result = inventoryItems.stream().filter(item -&gt; item.getName().equals(name)).map(item -&gt; item.getAmount()).findFirst();","title":"How to return a parameter on the basis on another parameter in list of object","body":"<p>Use the map() function, append it after the filter.</p>\n<pre><code>Optional&lt;int&gt; result = inventoryItems.stream().filter(item -&gt; item.getName().equals(name)).map(item -&gt; item.getAmount()).findFirst();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664031082,"creation_date":1664031082,"answer_id":73838151,"question_id":73838082,"body_markdown":"filter operation is an intermediate operation. We need one of terminal operation to get the result. Below are couple of ways to get the Amount\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    class InventoryItem {\r\n        String name;\r\n        float amount;\r\n    \r\n        public InventoryItem(String name, float amount) {\r\n            this.name = name;\r\n            this.amount = amount;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public float getAmount() {\r\n            return amount;\r\n        }\r\n    \r\n        public void setAmount(float amount) {\r\n            this.amount = amount;\r\n        }\r\n    }\r\n    public class ItemAmount {\r\n        public static void main(String[] args) {\r\n            List&lt;InventoryItem&gt; inventoryItems = Arrays.asList(new InventoryItem(&quot;A&quot;, 100f), new InventoryItem(&quot;B&quot;, 50f));\r\n\r\n            //method-1\r\n           float amount = inventoryItems.stream().filter(item -&gt; item.getName().equals(&quot;B&quot;)).findFirst().get().getAmount();\r\n           System.out.println(&quot;Amount of B item is: &quot; + amount);\r\n\r\n           //method-2\r\n           List&lt;InventoryItem&gt; matchList = inventoryItems.stream().filter(item -&gt; item.getName().equals(&quot;B&quot;)).collect(Collectors.toList());\r\n           matchList.forEach(i -&gt; System.out.println(&quot;Item: &quot; + i.getName() + &quot;, Amount: &quot; + i.getAmount()));\r\n        }\r\n    }\r\n\r\n","title":"How to return a parameter on the basis on another parameter in list of object","body":"<p>filter operation is an intermediate operation. We need one of terminal operation to get the result. Below are couple of ways to get the Amount</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\nclass InventoryItem {\n    String name;\n    float amount;\n\n    public InventoryItem(String name, float amount) {\n        this.name = name;\n        this.amount = amount;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public float getAmount() {\n        return amount;\n    }\n\n    public void setAmount(float amount) {\n        this.amount = amount;\n    }\n}\npublic class ItemAmount {\n    public static void main(String[] args) {\n        List&lt;InventoryItem&gt; inventoryItems = Arrays.asList(new InventoryItem(&quot;A&quot;, 100f), new InventoryItem(&quot;B&quot;, 50f));\n\n        //method-1\n       float amount = inventoryItems.stream().filter(item -&gt; item.getName().equals(&quot;B&quot;)).findFirst().get().getAmount();\n       System.out.println(&quot;Amount of B item is: &quot; + amount);\n\n       //method-2\n       List&lt;InventoryItem&gt; matchList = inventoryItems.stream().filter(item -&gt; item.getName().equals(&quot;B&quot;)).collect(Collectors.toList());\n       matchList.forEach(i -&gt; System.out.println(&quot;Item: &quot; + i.getName() + &quot;, Amount: &quot; + i.getAmount()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664037804,"creation_date":1664036792,"answer_id":73838836,"question_id":73838082,"body_markdown":"There are to issues:\r\n\r\n* Your stream lacks a *terminal operation* which is needed to obtain the result of the stream execution.\r\n\r\n* To `amount` from an `InventoryItem` you need to apply [`map()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)) operation.\r\n\r\nThat&#39;s how you can generate a list of amounts that correspond to the items having the given name:\r\n\r\n    public List&lt;Integer&gt; getAmountsByName(List&lt;InventoryItem&gt; inventoryItems,\r\n                                                 String name) {\r\n        return inventoryItems.stream()\r\n            .filter(item -&gt; item.getName().equals(name))\r\n            .map(InventoryItem::getAmount)\r\n            .toList(); // for Java 16+ or collect(Collectors.toList()) for earlier versions\r\n    }\r\n\r\nIn case if names of items are expected to be unique, then you can apply `findFirst()` as a *terminal operation*, which returns an `Optional` as a result (because resulting value might not be present).\r\n\r\nThere are many possibilities how you can dial the `Optional`, for instance you can use `orElse()` to provide the *default value*, or `orElseThrow()` to throw an exception if a result was not found (sometimes it makes sense to return an `Optional`, and deal with it in the calling method).\r\n\r\nThat&#39;s how it might look like:\r\n```\r\npublic int getAmountByName(List&lt;InventoryItem&gt; inventoryItems,\r\n                           String name) {\r\n        \r\n    return inventoryItems.stream()\r\n        .filter(item -&gt; item.getName().equals(name))\r\n        .map(InventoryItem::getAmount)\r\n        .findFirst()\r\n        .orElse(-1); // in case if an item with the target name isn&#39;t present return zero\r\n        //    .orElseThrow(); // alternatively you can throw an exception depending on your needs\r\n}\r\n```","title":"How to return a parameter on the basis on another parameter in list of object","body":"<p>There are to issues:</p>\n<ul>\n<li><p>Your stream lacks a <em>terminal operation</em> which is needed to obtain the result of the stream execution.</p>\n</li>\n<li><p>To <code>amount</code> from an <code>InventoryItem</code> you need to apply <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>map()</code></a> operation.</p>\n</li>\n</ul>\n<p>That's how you can generate a list of amounts that correspond to the items having the given name:</p>\n<pre><code>public List&lt;Integer&gt; getAmountsByName(List&lt;InventoryItem&gt; inventoryItems,\n                                             String name) {\n    return inventoryItems.stream()\n        .filter(item -&gt; item.getName().equals(name))\n        .map(InventoryItem::getAmount)\n        .toList(); // for Java 16+ or collect(Collectors.toList()) for earlier versions\n}\n</code></pre>\n<p>In case if names of items are expected to be unique, then you can apply <code>findFirst()</code> as a <em>terminal operation</em>, which returns an <code>Optional</code> as a result (because resulting value might not be present).</p>\n<p>There are many possibilities how you can dial the <code>Optional</code>, for instance you can use <code>orElse()</code> to provide the <em>default value</em>, or <code>orElseThrow()</code> to throw an exception if a result was not found (sometimes it makes sense to return an <code>Optional</code>, and deal with it in the calling method).</p>\n<p>That's how it might look like:</p>\n<pre><code>public int getAmountByName(List&lt;InventoryItem&gt; inventoryItems,\n                           String name) {\n        \n    return inventoryItems.stream()\n        .filter(item -&gt; item.getName().equals(name))\n        .map(InventoryItem::getAmount)\n        .findFirst()\n        .orElse(-1); // in case if an item with the target name isn't present return zero\n        //    .orElseThrow(); // alternatively you can throw an exception depending on your needs\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664044725,"creation_date":1664040431,"answer_id":73839245,"question_id":73838082,"body_markdown":"**Using JDK 14:**\r\n\r\nI have implemented the below code using **records** instead of creating POJO&#39;s.\r\n\r\n***Note (As a suggestion):*** As I can see in your given code, you are using ***some annotations***(`@AllArgsConstructor\r\n@Getter,..`) for auto creation of constructors, getters and setters, so for that boiler-plate code, ***records** seems to be a good option which is available from **java 14 onwards**.*\r\n\r\n&gt; **Records in java :** As of JDK 14, we can replace our data classes with records. Records are **immutable classes** that require only the type and name of fields. We do not need to create constructor, getters, setters, override toString() methods, override hashcode and equals methods.([records javadoc][1])\r\n\r\n***Please find the code below:***\r\n\r\n \r\n\r\n    public class Test {\r\n            \r\n              public static void main(String[] args) {\r\n            \r\n                String nameToFind = &quot;item1&quot;;\r\n                int amount = 0;\r\n            \r\n                record InventoryItem(String name,int amount){}\r\n            \r\n                Optional&lt;Integer&gt; optional = List.of(new InventoryItem(&quot;item1&quot;,100),\r\n                        new InventoryItem(&quot;item2&quot;,200),\r\n                        new InventoryItem(&quot;item3&quot;,300))\r\n                        .stream().filter(x -&gt; x.name().equals(nameToFind)).map(InventoryItem::amount).findFirst();\r\n                \r\n                if(optional.isPresent()){\r\n                  amount = optional.get();\r\n                }\r\n            \r\n                System.out.println(amount);\r\n              }\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html","title":"How to return a parameter on the basis on another parameter in list of object","body":"<p><strong>Using JDK 14:</strong></p>\n<p>I have implemented the below code using <strong>records</strong> instead of creating POJO's.</p>\n<p><em><strong>Note (As a suggestion):</strong></em> As I can see in your given code, you are using <em><strong>some annotations</strong></em>(<code>@AllArgsConstructor @Getter,..</code>) for auto creation of constructors, getters and setters, so for that boiler-plate code, <em><strong>records</strong> seems to be a good option which is available from <strong>java 14 onwards</strong>.</em></p>\n<blockquote>\n<p><strong>Records in java :</strong> As of JDK 14, we can replace our data classes with records. Records are <strong>immutable classes</strong> that require only the type and name of fields. We do not need to create constructor, getters, setters, override toString() methods, override hashcode and equals methods.(<a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html\" rel=\"nofollow noreferrer\">records javadoc</a>)</p>\n</blockquote>\n<p><em><strong>Please find the code below:</strong></em></p>\n<pre><code>public class Test {\n        \n          public static void main(String[] args) {\n        \n            String nameToFind = &quot;item1&quot;;\n            int amount = 0;\n        \n            record InventoryItem(String name,int amount){}\n        \n            Optional&lt;Integer&gt; optional = List.of(new InventoryItem(&quot;item1&quot;,100),\n                    new InventoryItem(&quot;item2&quot;,200),\n                    new InventoryItem(&quot;item3&quot;,300))\n                    .stream().filter(x -&gt; x.name().equals(nameToFind)).map(InventoryItem::amount).findFirst();\n            \n            if(optional.isPresent()){\n              amount = optional.get();\n            }\n        \n            System.out.println(amount);\n          }\n</code></pre>\n"}],"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73838151,"answer_count":4,"score":0,"last_activity_date":1664044725,"creation_date":1664030512,"question_id":73838082,"body_markdown":"I have the following `InventoryItem` class:\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    public class InventoryItem {\r\n        private String name;\r\n        private int amount;\r\n        // other properties, getters, etc.\r\n    }\r\n\r\n\r\nAnd I have an `Inventory` object that contains a `List` of `InventoryItem`s.\r\n\r\nI want to obtain the amount of the item where the name is equal to the given name.\r\n\r\nI am trying to use streams for that purpose:\r\n```\r\ninventoryItems.stream().filter(item -&gt; item.getName().equals(name));\r\n```\r\nBut it is returning the whole item, I only want the `amount`. How can I do that? \r\nI am new to java so do not have idea. ","title":"How to return a parameter on the basis on another parameter in list of object","body":"<p>I have the following <code>InventoryItem</code> class:</p>\n<pre><code>@AllArgsConstructor\n@Getter\npublic class InventoryItem {\n    private String name;\n    private int amount;\n    // other properties, getters, etc.\n}\n</code></pre>\n<p>And I have an <code>Inventory</code> object that contains a <code>List</code> of <code>InventoryItem</code>s.</p>\n<p>I want to obtain the amount of the item where the name is equal to the given name.</p>\n<p>I am trying to use streams for that purpose:</p>\n<pre><code>inventoryItems.stream().filter(item -&gt; item.getName().equals(name));\n</code></pre>\n<p>But it is returning the whole item, I only want the <code>amount</code>. How can I do that?\nI am new to java so do not have idea.</p>\n"},{"tags":["java","android","xml","view"],"answers":[{"tags":[],"owner":{"account_id":11503634,"reputation":3724,"user_id":8430649,"display_name":"S-Sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664044003,"creation_date":1664044003,"answer_id":73839671,"question_id":73839609,"body_markdown":"Generally, there is no important difference. Both `app` and `card_view` are namespace declarations, and both use the same namespace: `  xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;`.\r\nIt&#39;s worth to mention that in A case you import the `app` namespace earlier in XML declaration and in case B you import it right in `CardView` tag","title":"What is the difference between card_view and app:card?","body":"<p>Generally, there is no important difference. Both <code>app</code> and <code>card_view</code> are namespace declarations, and both use the same namespace: <code>  xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;</code>.\nIt's worth to mention that in A case you import the <code>app</code> namespace earlier in XML declaration and in case B you import it right in <code>CardView</code> tag</p>\n"}],"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664044003,"creation_date":1664043512,"question_id":73839609,"body_markdown":"I am implementing CardView in my app and I have notice that it is working without creating a card_view using only &quot;app:&quot; -&gt;\r\n\r\nWhat is the difference between A and B?\r\n\r\nA:\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:cardBackgroundColor=&quot;@color/white&quot;\r\n                app:cardCornerRadius=&quot;10dp&quot;\r\n                &gt;\r\n\r\nB:\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n                xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                card_view:cardBackgroundColor=&quot;@color/white&quot;\r\n                card_view:cardCornerRadius=&quot;10dp&quot;\r\n                &gt;","title":"What is the difference between card_view and app:card?","body":"<p>I am implementing CardView in my app and I have notice that it is working without creating a card_view using only &quot;app:&quot; -&gt;</p>\n<p>What is the difference between A and B?</p>\n<p>A:</p>\n<pre><code>&lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:cardBackgroundColor=&quot;@color/white&quot;\n            app:cardCornerRadius=&quot;10dp&quot;\n            &gt;\n</code></pre>\n<p>B:</p>\n<pre><code>&lt;androidx.cardview.widget.CardView\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n            xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            card_view:cardBackgroundColor=&quot;@color/white&quot;\n            card_view:cardCornerRadius=&quot;10dp&quot;\n            &gt;\n</code></pre>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1664034086,"post_id":73838228,"comment_id":130381283,"body_markdown":"Is there a reason to use a custom view? It is not a simple as you think -- to implementing it correctly (wrap_content, match_parent, absolute size, etc..).","body":"Is there a reason to use a custom view? It is not a simple as you think -- to implementing it correctly (wrap_content, match_parent, absolute size, etc..)."},{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1664035730,"post_id":73838228,"comment_id":130381620,"body_markdown":"I have put alot of effort in creating the custom view and its working as desired... i just need the &quot;new&quot; element which is the dropdown menu","body":"I have put alot of effort in creating the custom view and its working as desired... i just need the &quot;new&quot; element which is the dropdown menu"}],"answers":[{"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664043393,"creation_date":1664043393,"answer_id":73839593,"question_id":73838228,"body_markdown":"If you want to use your custom view, the easiest way is to include it in the xml. So this needs to be changed:\r\n```xml\r\n&lt;RelativeLayout\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/relativeLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot; \r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\ninto this\r\n```xml\r\n&lt;myapp.mypackage.MainActivityLayout\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/relativeLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot; \r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n&lt;/myapp.mypackage.MainActivityLayout&gt;\r\n```\r\n\r\nChange `myapp.mypackage` based on the real path of `MainActitvityLayout`.\r\n\r\nThen just use it like any other usual layouts.\r\n```java\r\nsetContentView(R.layout.main_activity);\r\n```\r\n\r\nAlso you must override these constructors:\r\n```java\r\npublic MainActivityLayout(Context context)\r\n{\r\n\tsuper(context);\r\n}\r\n\r\npublic MainActivityLayout(Context context, AttributeSet attrs)\r\n{\r\n\tsuper(context, attrs);\r\n}\r\n\r\npublic MainActivityLayout(Context context, AttributeSet attrs, int defStyleAttr)\r\n{\r\n\tsuper(context, attrs, defStyleAttr);\r\n}\r\n\r\npublic MainActivityLayout(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes)\r\n{\r\n\tsuper(context, attrs, defStyleAttr, defStyleRes);\r\n}\r\n```\r\n\r\nHowever, if you insist on using it like this:\r\n```java\r\nsetContentView(new MainActivityLayout(this));\r\n```\r\n\r\nYou can not use the main xml layout at all, but you can still inflate xml files onto your custom view. I won&#39;t write them here, you can easily search on this site on how implementing them.","title":"Can I link a layout/view class to an XML item","body":"<p>If you want to use your custom view, the easiest way is to include it in the xml. So this needs to be changed:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RelativeLayout\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/relativeLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; \n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>into this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;myapp.mypackage.MainActivityLayout\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/relativeLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; \n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n&lt;/myapp.mypackage.MainActivityLayout&gt;\n</code></pre>\n<p>Change <code>myapp.mypackage</code> based on the real path of <code>MainActitvityLayout</code>.</p>\n<p>Then just use it like any other usual layouts.</p>\n<pre class=\"lang-java prettyprint-override\"><code>setContentView(R.layout.main_activity);\n</code></pre>\n<p>Also you must override these constructors:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MainActivityLayout(Context context)\n{\n    super(context);\n}\n\npublic MainActivityLayout(Context context, AttributeSet attrs)\n{\n    super(context, attrs);\n}\n\npublic MainActivityLayout(Context context, AttributeSet attrs, int defStyleAttr)\n{\n    super(context, attrs, defStyleAttr);\n}\n\npublic MainActivityLayout(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes)\n{\n    super(context, attrs, defStyleAttr, defStyleRes);\n}\n</code></pre>\n<p>However, if you insist on using it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>setContentView(new MainActivityLayout(this));\n</code></pre>\n<p>You can not use the main xml layout at all, but you can still inflate xml files onto your custom view. I won't write them here, you can easily search on this site on how implementing them.</p>\n"}],"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73839593,"answer_count":1,"score":0,"last_activity_date":1664043393,"creation_date":1664031634,"question_id":73838228,"body_markdown":"What I am trying to achieve (which I do not know if it is even doable, since I&#39;m new to android development) is to have:\r\n1. A MainActivity class utilize/reference and XML layout (this i know is doable)\r\n2. Within the MainActivity class also call a custom Layout programmatically (I am uncertain how to do this)\r\n\r\nTo elaborate on my question\r\n\r\nI have the following XML layout which is compromised of two items:\r\n1. A dropdown menu\r\n2. A RelativeLayout view (*** this is where I would like to link to my custom class to)\r\n\r\n\r\nHere is the XML code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/weekDropdown&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\r\n                android:hint=&quot;@string/select_week&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:labelFor=&quot;@+id/weekSelected&quot;&gt;\r\n\r\n                    &lt;AutoCompleteTextView\r\n                        android:id=&quot;@+id/weekSelected&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:inputType=&quot;none&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:padding=&quot;14dp&quot;\r\n                        android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n            &lt;RelativeLayout                                        &lt;-- Here is where I would like to link my custom class\r\n                xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n                android:id=&quot;@+id/relativeLayout&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n           &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nIn my custom class, I build my layout/view programmatically:\r\n\r\n    public class MainActivityLayout extends RelativeLayout {\r\n\r\n        Context context;\r\n\r\n        TableLayout tableA;\r\n        TableLayout tableB;\r\n        TableLayout tableC;\r\n        TableLayout tableD;\r\n\r\n        public MainActivityLayout(Context context) {\r\n        \r\n            super(context);\r\n        \r\n            this.initComponents();\r\n\r\n            this.setComponentsId();\r\n\r\n            etc... \r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\nWhich I call it from my `MainActivity` class like so:\r\n\r\n    setContentView(new MainActivityLayout(this));\r\n\r\nSo is it possible to link the RelativeLayout in the XML to my custom class? If so can you let me know how to do so?\r\n\r\n","title":"Can I link a layout/view class to an XML item","body":"<p>What I am trying to achieve (which I do not know if it is even doable, since I'm new to android development) is to have:</p>\n<ol>\n<li>A MainActivity class utilize/reference and XML layout (this i know is doable)</li>\n<li>Within the MainActivity class also call a custom Layout programmatically (I am uncertain how to do this)</li>\n</ol>\n<p>To elaborate on my question</p>\n<p>I have the following XML layout which is compromised of two items:</p>\n<ol>\n<li>A dropdown menu</li>\n<li>A RelativeLayout view (*** this is where I would like to link to my custom class to)</li>\n</ol>\n<p>Here is the XML code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/weekDropdown&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\n            android:hint=&quot;@string/select_week&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:labelFor=&quot;@+id/weekSelected&quot;&gt;\n\n                &lt;AutoCompleteTextView\n                    android:id=&quot;@+id/weekSelected&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:inputType=&quot;none&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:padding=&quot;14dp&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n\n        &lt;RelativeLayout                                        &lt;-- Here is where I would like to link my custom class\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n            android:id=&quot;@+id/relativeLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            tools:context=&quot;.MainActivity&quot;&gt;\n\n       &lt;/RelativeLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>In my custom class, I build my layout/view programmatically:</p>\n<pre><code>public class MainActivityLayout extends RelativeLayout {\n\n    Context context;\n\n    TableLayout tableA;\n    TableLayout tableB;\n    TableLayout tableC;\n    TableLayout tableD;\n\n    public MainActivityLayout(Context context) {\n    \n        super(context);\n    \n        this.initComponents();\n\n        this.setComponentsId();\n\n        etc... \n\n    }\n\n}\n</code></pre>\n<p>Which I call it from my <code>MainActivity</code> class like so:</p>\n<pre><code>setContentView(new MainActivityLayout(this));\n</code></pre>\n<p>So is it possible to link the RelativeLayout in the XML to my custom class? If so can you let me know how to do so?</p>\n"},{"tags":["python","java","mysql","parsing","ascii"],"comments":[{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1664040705,"post_id":73839244,"comment_id":130382560,"body_markdown":"I mean if that&#39;s how it is, a simple index-based loop will do it.","body":"I mean if that&#39;s how it is, a simple index-based loop will do it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1664040707,"post_id":73839244,"comment_id":130382561,"body_markdown":"Not quite sure why you posted in Java if you want python..?","body":"Not quite sure why you posted in Java if you want python..?"},{"owner":{"account_id":2001600,"reputation":430,"user_id":1792507,"accept_rate":67,"display_name":"Ilir"},"score":0,"creation_date":1664091656,"post_id":73839244,"comment_id":130388611,"body_markdown":"As stated it would be preferably in python, but other languages could do it to for me or for somebody else stepping into this.","body":"As stated it would be preferably in python, but other languages could do it to for me or for somebody else stepping into this."}],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664043065,"creation_date":1664043065,"answer_id":73839549,"question_id":73839244,"body_markdown":"Here&#39;s an example of a solution in Python:\r\n\r\nI create a string like yours:\r\n\r\n\r\n    &gt;&gt;&gt; s=&quot;^AKEY1^BVALUE1^AKEY2^BVALUE2^AKEY3^BVALUE3&quot;\r\n\r\nThen I use list comprehensions to split the string by the delimiters, and make that into a dict:\r\n\r\n    &gt;&gt;&gt; {k: v for (k, v) in (kv.split(&quot;^B&quot;) for kv in s.split(&quot;^A&quot;)[1:])}\r\n    {&#39;KEY1&#39;: &#39;VALUE1&#39;, &#39;KEY2&#39;: &#39;VALUE2&#39;, &#39;KEY3&#39;: &#39;VALUE3&#39;}\r\n\r\n\r\n","title":"dealing with ASCII structured data","body":"<p>Here's an example of a solution in Python:</p>\n<p>I create a string like yours:</p>\n<pre><code>&gt;&gt;&gt; s=&quot;^AKEY1^BVALUE1^AKEY2^BVALUE2^AKEY3^BVALUE3&quot;\n</code></pre>\n<p>Then I use list comprehensions to split the string by the delimiters, and make that into a dict:</p>\n<pre><code>&gt;&gt;&gt; {k: v for (k, v) in (kv.split(&quot;^B&quot;) for kv in s.split(&quot;^A&quot;)[1:])}\n{'KEY1': 'VALUE1', 'KEY2': 'VALUE2', 'KEY3': 'VALUE3'}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664043169,"creation_date":1664043169,"answer_id":73839564,"question_id":73839244,"body_markdown":"I call `^A`, `^B` and so on &quot;caret values&quot; - not sure if that is the correct/official term for them (see [caret notation](https://en.wikipedia.org/wiki/Caret_notation)). This is how a tool such as vi displays the related ASCII control characters. \r\n\r\n**ASSUMPTION**: These are single characters - different from a `^` ASCII character followed by an `A` ASCII character. I am assuming that your source data contains these as _control characters_, not as `^` followed by `A` and so on. If my assumption is wrong, then the following will not help you.\r\n\r\nAs you note, `^A` is the caret value for SOH - start of header - which, in turn, can be represented by the hex string `x01`. \r\n\r\nFor example, in Python that would be: \r\n\r\n```python\r\nmy_soh = &#39;\\x01&#39;\r\n```\r\n\r\nYou can use this (and `\\x02` for `^B`) with Python&#39;s [`split()`](https://python-reference.readthedocs.io/en/latest/docs/str/split.html) function.\r\n\r\nI don&#39;t think you necessarily need a Python library for that. Just use:\r\n\r\n```python\r\nkey_val_pairs = my_string.split(&#39;\\x01&#39;)\r\n``` \r\n\r\nto split the initial string into an array of individual key/value strings - and then split each of those into their separate key and value using: \r\n\r\n```python\r\nkey_val_pair.split(&#39;\\x02&#39;)\r\n```\r\n\r\nOr maybe create a dictionary:\r\n\r\n```python\r\nd = dict(s.split(&#39;\\x02&#39;) for s in key_val_pairs )\r\n```\r\n\r\nIf you expect to find missing keys and/or values, you would need code to handle those.\r\n\r\nThere are various Stack Overflow questions which discuss [splitting a Python string into key value pairs](https://www.google.com/search?q=python+split+string+into+key+value+pairs+site:stackoverflow.com).\r\n\r\nThose typically use non-control characters for the separators. But you can replace those with the ones you need for your data.\r\n\r\n---\r\n\r\nYou can see a more complete list of &quot;caret values&quot; [here](https://en.wikipedia.org/wiki/C0_and_C1_control_codes#Basic_ASCII_control_codes) for reference.\r\n\r\nHere are some of them:\r\n\r\n```\r\nName\t            Abbrev\tCaret\tDec\t Hex\tOct\t Esc\r\nNull\t            NUL\t    ^@\t    0\t 00\t    000\t \\0\r\nStart of heading\tSOH\t    ^A\t    1\t 01\t    001\t\r\nStart of text\t    STX\t    ^B\t    2\t 02\t    002\t\r\nLine feed\t        LF\t    ^J\t    10\t 0a\t    012\t \\n\r\nVertical tab\t    VT\t    ^K\t    11\t 0b\t    013\t \\v\r\n```\r\n\r\nSpeculating here, since we don&#39;t know the origins of your specific data set - but you do sometimes see these control characters used in this way, because these control characters do not typically occur in the data keys and values. They are therefore good candidates to be used as field separators, line terminators, and so on. I have seen this approach used in some enterprise software (Ab Initio is one).","title":"dealing with ASCII structured data","body":"<p>I call <code>^A</code>, <code>^B</code> and so on &quot;caret values&quot; - not sure if that is the correct/official term for them (see <a href=\"https://en.wikipedia.org/wiki/Caret_notation\" rel=\"nofollow noreferrer\">caret notation</a>). This is how a tool such as vi displays the related ASCII control characters.</p>\n<p><strong>ASSUMPTION</strong>: These are single characters - different from a <code>^</code> ASCII character followed by an <code>A</code> ASCII character. I am assuming that your source data contains these as <em>control characters</em>, not as <code>^</code> followed by <code>A</code> and so on. If my assumption is wrong, then the following will not help you.</p>\n<p>As you note, <code>^A</code> is the caret value for SOH - start of header - which, in turn, can be represented by the hex string <code>x01</code>.</p>\n<p>For example, in Python that would be:</p>\n<pre class=\"lang-py prettyprint-override\"><code>my_soh = '\\x01'\n</code></pre>\n<p>You can use this (and <code>\\x02</code> for <code>^B</code>) with Python's <a href=\"https://python-reference.readthedocs.io/en/latest/docs/str/split.html\" rel=\"nofollow noreferrer\"><code>split()</code></a> function.</p>\n<p>I don't think you necessarily need a Python library for that. Just use:</p>\n<pre class=\"lang-py prettyprint-override\"><code>key_val_pairs = my_string.split('\\x01')\n</code></pre>\n<p>to split the initial string into an array of individual key/value strings - and then split each of those into their separate key and value using:</p>\n<pre class=\"lang-py prettyprint-override\"><code>key_val_pair.split('\\x02')\n</code></pre>\n<p>Or maybe create a dictionary:</p>\n<pre class=\"lang-py prettyprint-override\"><code>d = dict(s.split('\\x02') for s in key_val_pairs )\n</code></pre>\n<p>If you expect to find missing keys and/or values, you would need code to handle those.</p>\n<p>There are various Stack Overflow questions which discuss <a href=\"https://www.google.com/search?q=python+split+string+into+key+value+pairs+site:stackoverflow.com\" rel=\"nofollow noreferrer\">splitting a Python string into key value pairs</a>.</p>\n<p>Those typically use non-control characters for the separators. But you can replace those with the ones you need for your data.</p>\n<hr />\n<p>You can see a more complete list of &quot;caret values&quot; <a href=\"https://en.wikipedia.org/wiki/C0_and_C1_control_codes#Basic_ASCII_control_codes\" rel=\"nofollow noreferrer\">here</a> for reference.</p>\n<p>Here are some of them:</p>\n<pre><code>Name                Abbrev  Caret   Dec  Hex    Oct  Esc\nNull                NUL     ^@      0    00     000  \\0\nStart of heading    SOH     ^A      1    01     001 \nStart of text       STX     ^B      2    02     002 \nLine feed           LF      ^J      10   0a     012  \\n\nVertical tab        VT      ^K      11   0b     013  \\v\n</code></pre>\n<p>Speculating here, since we don't know the origins of your specific data set - but you do sometimes see these control characters used in this way, because these control characters do not typically occur in the data keys and values. They are therefore good candidates to be used as field separators, line terminators, and so on. I have seen this approach used in some enterprise software (Ab Initio is one).</p>\n"}],"owner":{"account_id":2001600,"reputation":430,"user_id":1792507,"accept_rate":67,"display_name":"Ilir"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1664058448,"answer_count":2,"score":-3,"last_activity_date":1664043169,"creation_date":1664040423,"question_id":73839244,"body_markdown":"I have a dataset in a mysql DB, where there is no documentation nor anybody who could tell me why things have been done the way they are or how should I deal with certain things - I think one might call this, reverse engineering :)\r\n\r\nThere are strings that are structured using ASCII control characters. So the string will look like this for exapmle:\r\n\r\n^AKEY^BVALUE^AKEY^BVALUE^AKEY^BVALUE\r\n\r\nAccording to https://www.geeksforgeeks.org/control-characters/\r\n^A is &quot;Start of Header&quot;\r\n^B is &quot;Start of Text&quot;\r\n\r\nto me, this seems a super old school way to structure data and it is the first time i see something like this. \r\n\r\nI am looking for a way how to parse this data, prefarrably a python library that I could parse the string and get some key-value map that I can control programatically.\r\n\r\nAny help on how to deal with such data is highly appreciated.","title":"dealing with ASCII structured data","body":"<p>I have a dataset in a mysql DB, where there is no documentation nor anybody who could tell me why things have been done the way they are or how should I deal with certain things - I think one might call this, reverse engineering :)</p>\n<p>There are strings that are structured using ASCII control characters. So the string will look like this for exapmle:</p>\n<p>^AKEY^BVALUE^AKEY^BVALUE^AKEY^BVALUE</p>\n<p>According to <a href=\"https://www.geeksforgeeks.org/control-characters/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/control-characters/</a>\n^A is &quot;Start of Header&quot;\n^B is &quot;Start of Text&quot;</p>\n<p>to me, this seems a super old school way to structure data and it is the first time i see something like this.</p>\n<p>I am looking for a way how to parse this data, prefarrably a python library that I could parse the string and get some key-value map that I can control programatically.</p>\n<p>Any help on how to deal with such data is highly appreciated.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664042622,"creation_date":1664042622,"answer_id":73839493,"question_id":73833424,"body_markdown":"You query looks correct. Also if you want to eagerly fetch EntityB just add &#39;FETCH&#39; to query\r\n```\r\ncreateQuery(\r\n    &quot;SELECT a FROM EntityA a &quot; +\r\n    &quot;LEFT JOIN FETCH a.entityB b &quot; +\r\n    &quot;WHERE b IS NULL &quot; +\r\n    &quot;OR b.status = :status&quot;, EntityA.class).setParameter(&quot;status&quot;, (short) 0)\r\n```","title":"LEFT OUTER JOIN with Hibernate 5 Core","body":"<p>You query looks correct. Also if you want to eagerly fetch EntityB just add 'FETCH' to query</p>\n<pre><code>createQuery(\n    &quot;SELECT a FROM EntityA a &quot; +\n    &quot;LEFT JOIN FETCH a.entityB b &quot; +\n    &quot;WHERE b IS NULL &quot; +\n    &quot;OR b.status = :status&quot;, EntityA.class).setParameter(&quot;status&quot;, (short) 0)\n</code></pre>\n"}],"owner":{"account_id":6353546,"reputation":17,"user_id":4933008,"display_name":"MrWalterWhite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73839493,"answer_count":1,"score":0,"last_activity_date":1664042622,"creation_date":1663970940,"question_id":73833424,"body_markdown":"I have two entities (EntityA and EntityB) with an optional @OneToOne relation between them.\r\n\r\n\r\nEntityA:\r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @Entity(name = &quot;EntityA&quot;)\r\n    public class EntityA {\r\n    \r\n      @Id\r\n      private Long id;\r\n    \r\n      @OneToOne(targetEntity = EntityB.class, mappedBy = &quot;entityA&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, optional = true)\r\n      private EntityB entityB;\r\n    \r\n      // other members\r\n    }\r\n\r\nEntityB:\r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @Entity(name = &quot;EntityB&quot;)\r\n    public class EntityB {\r\n    \r\n      @Id\r\n      private Long id;\r\n    \r\n      @OneToOne(targetEntity = EntityA.class, fetch = FetchType.LAZY)\r\n      @MapsId\r\n      @JoinColumn(name = &quot;id&quot;)\r\n      private EntityA entityA;\r\n    \r\n      @Column(name = &quot;status&quot;, nullable = false, unique = false)\r\n      private Short status;\r\n    \r\n      // other members\r\n    }\r\n\r\nI want to select all entities A that do not have any correspondence on entity B, or if having one, the entityB status should be 0.\r\n\r\nFrom plain SQL, I thing the my goal is:\r\n\r\n    SELECT a.*\r\n      FROM EntityA a\r\n      LEFT JOIN EntityB b ON a.id = b.id\r\n      WHERE b.id IS NULL OR b.status = 0\r\n\r\nWhat&#39;s the best strategy to achieve this with Hibernate 5 Core and PostgreSQL?\r\n\r\nMy approach was:\r\n\r\n    getSession().createQuery(&quot;SELECT a FROM EntityA a LEFT JOIN a.entityB b &quot; +\r\n                                &quot;WHERE b IS NULL OR b.status = :status&quot;, EntityA.class)\r\n                        .setParameter(&quot;status&quot;, (short) 0);\r\n\r\nIs this the correct way to do it?\r\n\r\nHow do I eager fetch EntityB entities in the same query?\r\n\r\nThanks.","title":"LEFT OUTER JOIN with Hibernate 5 Core","body":"<p>I have two entities (EntityA and EntityB) with an optional @OneToOne relation between them.</p>\n<p>EntityA:</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@Entity(name = &quot;EntityA&quot;)\npublic class EntityA {\n\n  @Id\n  private Long id;\n\n  @OneToOne(targetEntity = EntityB.class, mappedBy = &quot;entityA&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, optional = true)\n  private EntityB entityB;\n\n  // other members\n}\n</code></pre>\n<p>EntityB:</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@Entity(name = &quot;EntityB&quot;)\npublic class EntityB {\n\n  @Id\n  private Long id;\n\n  @OneToOne(targetEntity = EntityA.class, fetch = FetchType.LAZY)\n  @MapsId\n  @JoinColumn(name = &quot;id&quot;)\n  private EntityA entityA;\n\n  @Column(name = &quot;status&quot;, nullable = false, unique = false)\n  private Short status;\n\n  // other members\n}\n</code></pre>\n<p>I want to select all entities A that do not have any correspondence on entity B, or if having one, the entityB status should be 0.</p>\n<p>From plain SQL, I thing the my goal is:</p>\n<pre><code>SELECT a.*\n  FROM EntityA a\n  LEFT JOIN EntityB b ON a.id = b.id\n  WHERE b.id IS NULL OR b.status = 0\n</code></pre>\n<p>What's the best strategy to achieve this with Hibernate 5 Core and PostgreSQL?</p>\n<p>My approach was:</p>\n<pre><code>getSession().createQuery(&quot;SELECT a FROM EntityA a LEFT JOIN a.entityB b &quot; +\n                            &quot;WHERE b IS NULL OR b.status = :status&quot;, EntityA.class)\n                    .setParameter(&quot;status&quot;, (short) 0);\n</code></pre>\n<p>Is this the correct way to do it?</p>\n<p>How do I eager fetch EntityB entities in the same query?</p>\n<p>Thanks.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8981,"page":1011,"page_size":100}
