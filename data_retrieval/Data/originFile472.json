{"items":[{"tags":["java","android","xml-parsing","xml-deserialization","simple-framework"],"answers":[{"tags":[],"owner":{"account_id":7079106,"reputation":43,"user_id":5418123,"display_name":"Rahul Aparajit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682580923,"creation_date":1460358089,"answer_id":36541900,"question_id":36528870,"body_markdown":"### i got an answer for this , use the annotation attributes as follows. \r\n\r\n```\r\n@Root(name = &quot;citations&quot;)\r\npublic class Citations {\r\n    public Citations() {}\r\n    \r\n    @ElementList(inline = true, entry = &quot;citation&quot;)\r\n    private List&lt;String&gt; citationList;\r\n    \r\n    public List&lt;String&gt; getCitationList() {\r\n        return citationList;\r\n    }\r\n    \r\n    public void setCitationList(List&lt;String&gt; citationList) {\r\n        this.citationList = citationList;\r\n    }\r\n}\r\n```\r\n","title":"Element &#39;title&#39; is already used with @org.simpleframework.xml.ElementList","body":"<h3>i got an answer for this , use the annotation attributes as follows.</h3>\n<pre><code>@Root(name = &quot;citations&quot;)\npublic class Citations {\n    public Citations() {}\n    \n    @ElementList(inline = true, entry = &quot;citation&quot;)\n    private List&lt;String&gt; citationList;\n    \n    public List&lt;String&gt; getCitationList() {\n        return citationList;\n    }\n    \n    public void setCitationList(List&lt;String&gt; citationList) {\n        this.citationList = citationList;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7079106,"reputation":43,"user_id":5418123,"display_name":"Rahul Aparajit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36541900,"answer_count":1,"score":1,"last_activity_date":1682580923,"creation_date":1460286092,"question_id":36528870,"body_markdown":"i am deserialising xml using SimpleXml api. \r\n&lt;br&gt;But receiving an exception&lt;/br&gt;\r\n\r\n###Exception:\r\n&lt;p&gt; Element &#39;title&#39; is already used with @org.simpleframework.xml.ElementList(data=false, empty=true, entry=, inline=false, name=title, required=true, type=void) on field &#39;citationList&#39; private java.util.List com.example.app.Entity.Citations.citationList at line 1&lt;/p&gt;\r\n###My Xml:\r\n\r\n    &lt;citations&gt;\r\n     &lt;title&gt;xyz xyz&lt;/title&gt;\r\n     &lt;title&gt;xyz xyz&lt;/title&gt;\r\n     &lt;title&gt;xyz xyz&lt;/title&gt;\r\n     &lt;title&gt;xyz xyz&lt;/title&gt;\r\n     &lt;title&gt;xyz xyz&lt;/title&gt;\r\n     &lt;title&gt;xyz xyz&lt;/title&gt;\r\n    &lt;/citations&gt;\r\n\r\n###My class: Citations\r\n\r\n    @Root(name = &quot;citations&quot;)\r\n    public class Citations {\r\n    \r\n        @ElementList(name = &quot;title&quot;)\r\n        private List&lt;String&gt; citationList;\r\n    \r\n    \r\n        public List&lt;String&gt; getCitationList(){\r\n            return citationList;\r\n        }\r\n    \r\n        public void setCitationList(List&lt;String&gt; citationList) {\r\n            this.citationList = citationList;\r\n        }\r\n    }\r\n\r\nPlease help me out of this, how do i deserilize it using SimpleXml api.\r\nWhat annotation should i use in my class. I am receiving the same xml as i have mentioned above.","title":"Element &#39;title&#39; is already used with @org.simpleframework.xml.ElementList","body":"<p>i am deserialising xml using SimpleXml api.\n<br>But receiving an exception</p>\n<p>###Exception:</p>\n<p> Element 'title' is already used with @org.simpleframework.xml.ElementList(data=false, empty=true, entry=, inline=false, name=title, required=true, type=void) on field 'citationList' private java.util.List com.example.app.Entity.Citations.citationList at line 1</p>\n###My Xml:\n<pre><code>&lt;citations&gt;\n &lt;title&gt;xyz xyz&lt;/title&gt;\n &lt;title&gt;xyz xyz&lt;/title&gt;\n &lt;title&gt;xyz xyz&lt;/title&gt;\n &lt;title&gt;xyz xyz&lt;/title&gt;\n &lt;title&gt;xyz xyz&lt;/title&gt;\n &lt;title&gt;xyz xyz&lt;/title&gt;\n&lt;/citations&gt;\n</code></pre>\n<p>###My class: Citations</p>\n<pre><code>@Root(name = &quot;citations&quot;)\npublic class Citations {\n\n    @ElementList(name = &quot;title&quot;)\n    private List&lt;String&gt; citationList;\n\n\n    public List&lt;String&gt; getCitationList(){\n        return citationList;\n    }\n\n    public void setCitationList(List&lt;String&gt; citationList) {\n        this.citationList = citationList;\n    }\n}\n</code></pre>\n<p>Please help me out of this, how do i deserilize it using SimpleXml api.\nWhat annotation should i use in my class. I am receiving the same xml as i have mentioned above.</p>\n"},{"tags":["java","spring","spring-boot","sentry"],"comments":[{"owner":{"account_id":2243108,"reputation":6134,"user_id":1977143,"accept_rate":80,"display_name":"Bruno Garcia"},"score":1,"creation_date":1682630982,"post_id":76117757,"comment_id":134250632,"body_markdown":"Not sure this is possible now. The transaction name at that point (not sure when you are calling your bits though) might be already frozen, even propagated downstream if you made a call to another service. That said, it sounds like a valid use case and probably a small change to make this possible. I suggest raising an issue on GitHub: https://github.com/getsentry/sentry-java/issues/new?assignees=&amp;labels=Platform%3A+Java%2CType%3A+Bug&amp;template=bug_report_java.yml","body":"Not sure this is possible now. The transaction name at that point (not sure when you are calling your bits though) might be already frozen, even propagated downstream if you made a call to another service. That said, it sounds like a valid use case and probably a small change to make this possible. I suggest raising an issue on GitHub: <a href=\"https://github.com/getsentry/sentry-java/issues/new?assignees=&amp;labels=Platform%3A+Java%2CType%3A+Bug&amp;template=bug_report_java.yml\" rel=\"nofollow noreferrer\">github.com/getsentry/sentry-java/issues/&hellip;</a>"}],"owner":{"account_id":3174200,"reputation":2396,"user_id":2682472,"accept_rate":90,"display_name":"Florian Baierl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682580106,"creation_date":1682580106,"question_id":76117757,"body_markdown":"In our spring boot server we use Sentry for performance tracking. I want to set the transaction name of like this:\r\n\r\n```\r\n@RequestMapping(value = &quot;/api/command&quot;)\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;)\r\npublic class CqrsCommandRestController {\r\n\r\n    @PostMapping(value = &quot;/{command-name}&quot;, consumes ={ &quot;application/json&quot; }, produces = { &quot;application/json&quot; })\r\n    public ResponseEntity&lt;?&gt; postCommand(\r\n        @PathVariable(&quot;command-name&quot;) String cmdName,\r\n        @RequestBody String body,\r\n        Authentication auth\r\n    ) throws InvalidCommandException, CommandNotProcessableException, CommandCurrentRessourceConflictException, NoPermissionException, EntityNotFoundException, MissingFieldException {\r\n        // check command name\r\n        if (cmdName == null) throw new InvalidCommandException(&quot;Command not defined.&quot;);\r\n        if (!cmdName.endsWith(&quot;Command&quot;)) cmdName = cmdName.concat(&quot;Command&quot;);\r\n\r\n        // configure sentry transaction (https://docs.sentry.io/platforms/java/guides/spring-boot/enriching-events/transaction-name/)\r\n        final String finalCmdName = cmdName;\r\n        Sentry.configureScope(scope -&gt; scope.setTransaction(finalCmdName));\r\n\r\n       // ...   \r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\nSetting the transaction name like this: `Sentry.configureScope(scope -&gt; scope.setTransaction(finalCmdName))` unfortunately does not have any effect. All transactions of this controller are still shown like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy goal would be to see the different commands with different names, so instead of:\r\n\r\n- POST /api/command/{command-name}\r\n\r\nI want sentry to resolve the different commands:\r\n\r\n - POST createUser\r\n - POST deleteUser\r\n - etc.\r\n\r\n  [1]: https://i.stack.imgur.com/oSceT.png","title":"Setting the transaction name for sentry does not have any effect","body":"<p>In our spring boot server we use Sentry for performance tracking. I want to set the transaction name of like this:</p>\n<pre><code>@RequestMapping(value = &quot;/api/command&quot;)\n@RestController\n@CrossOrigin(origins = &quot;*&quot;)\npublic class CqrsCommandRestController {\n\n    @PostMapping(value = &quot;/{command-name}&quot;, consumes ={ &quot;application/json&quot; }, produces = { &quot;application/json&quot; })\n    public ResponseEntity&lt;?&gt; postCommand(\n        @PathVariable(&quot;command-name&quot;) String cmdName,\n        @RequestBody String body,\n        Authentication auth\n    ) throws InvalidCommandException, CommandNotProcessableException, CommandCurrentRessourceConflictException, NoPermissionException, EntityNotFoundException, MissingFieldException {\n        // check command name\n        if (cmdName == null) throw new InvalidCommandException(&quot;Command not defined.&quot;);\n        if (!cmdName.endsWith(&quot;Command&quot;)) cmdName = cmdName.concat(&quot;Command&quot;);\n\n        // configure sentry transaction (https://docs.sentry.io/platforms/java/guides/spring-boot/enriching-events/transaction-name/)\n        final String finalCmdName = cmdName;\n        Sentry.configureScope(scope -&gt; scope.setTransaction(finalCmdName));\n\n       // ...   \n   }\n\n}\n\n</code></pre>\n<p>Setting the transaction name like this: <code>Sentry.configureScope(scope -&gt; scope.setTransaction(finalCmdName))</code> unfortunately does not have any effect. All transactions of this controller are still shown like this:</p>\n<p><a href=\"https://i.stack.imgur.com/oSceT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oSceT.png\" alt=\"enter image description here\" /></a></p>\n<p>My goal would be to see the different commands with different names, so instead of:</p>\n<ul>\n<li>POST /api/command/{command-name}</li>\n</ul>\n<p>I want sentry to resolve the different commands:</p>\n<ul>\n<li>POST createUser</li>\n<li>POST deleteUser</li>\n<li>etc.</li>\n</ul>\n"},{"tags":["java","hibernate","jpa","hilo"],"comments":[{"owner":{"account_id":556659,"reputation":9922,"user_id":892535,"accept_rate":85,"display_name":"sheidaei"},"score":4,"creation_date":1349441950,"post_id":12745751,"comment_id":17219967,"body_markdown":"&quot;without setting allocationSize=1 and thus degrading performanc&quot; why it degrade performance is you set it to 1?","body":"&quot;without setting allocationSize=1 and thus degrading performanc&quot; why it degrade performance is you set it to 1?"},{"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"score":3,"creation_date":1349442204,"post_id":12745751,"comment_id":17220098,"body_markdown":"@sheidaei see may comment below :-) This is because every `save` needs to query database for next value of the sequence.","body":"@sheidaei see may comment below :-) This is because every <code>save</code> needs to query database for next value of the sequence."},{"owner":{"account_id":3883769,"reputation":2892,"user_id":3215673,"accept_rate":58,"display_name":"TheBakker"},"score":0,"creation_date":1441616542,"post_id":12745751,"comment_id":52734317,"body_markdown":"Thank you was facing the same issue. At first I was adding allocationSize = 1 at every @SequenceGenerator. Using hibernate.id.new_generator_mappings=true prevent that. Although JPA still query the database to get the id for each insert ...","body":"Thank you was facing the same issue. At first I was adding allocationSize = 1 at every @SequenceGenerator. Using hibernate.id.new_generator_mappings=true prevent that. Although JPA still query the database to get the id for each insert ..."},{"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"score":1,"creation_date":1457446294,"post_id":12745751,"comment_id":59403073,"body_markdown":"With `SequenceGenerator` Hibernate will query the database only when amount of IDs specified by `allocationsize` runs out. If you set up `allocationSize = 1` then it&#39;s the reason why Hibernate query the DB for each insert. Change this value, and you are done.","body":"With <code>SequenceGenerator</code> Hibernate will query the database only when amount of IDs specified by <code>allocationsize</code> runs out. If you set up <code>allocationSize = 1</code> then it&#39;s the reason why Hibernate query the DB for each insert. Change this value, and you are done."},{"owner":{"account_id":1606795,"reputation":9608,"user_id":1486742,"display_name":"LeOn - Han Li"},"score":1,"creation_date":1461447912,"post_id":12745751,"comment_id":61206034,"body_markdown":"Thanks! the `hibernate.id.new_generator_mappings` setting is really important. I would hope it is the default setting that I do not have to spend so much time research why the id number goes wild.","body":"Thanks! the <code>hibernate.id.new_generator_mappings</code> setting is really important. I would hope it is the default setting that I do not have to spend so much time research why the id number goes wild."},{"owner":{"account_id":1964787,"reputation":1922,"user_id":1765341,"accept_rate":88,"display_name":"stefan.m"},"score":0,"creation_date":1555101280,"post_id":12745751,"comment_id":98006686,"body_markdown":"For the working example to work indeed, do I need to create my sequence with the parameter &quot;INCREMENT BY 50&quot;? Or is this handled automatically by Hibernate?","body":"For the working example to work indeed, do I need to create my sequence with the parameter &quot;INCREMENT BY 50&quot;? Or is this handled automatically by Hibernate?"},{"owner":{"account_id":204434,"reputation":895,"user_id":452647,"accept_rate":90,"display_name":"meadlai"},"score":0,"creation_date":1577243146,"post_id":12745751,"comment_id":105128000,"body_markdown":"set the &#39;hibernate.id.sequence.increment_size_mismatch_strategy&#39; to override the default value in the code, then all setting will read from db","body":"set the &#39;hibernate.id.sequence.increment_size_mismatch_strategy&#39; to override the default value in the code, then all setting will read from db"},{"owner":{"account_id":8546725,"reputation":697,"user_id":8152918,"display_name":"Fede Garcia"},"score":0,"creation_date":1620629224,"post_id":12745751,"comment_id":119246698,"body_markdown":"from Hibernate 5.0 `hibernate.id.new_generator_mappings` is set by default to true [Hibernate_User_Guide](https://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html)","body":"from Hibernate 5.0 <code>hibernate.id.new_generator_mappings</code> is set by default to true <a href=\"https://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html\" rel=\"nofollow noreferrer\">Hibernate_User_Guide</a>"}],"answers":[{"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1682579673,"creation_date":1349438649,"answer_id":12745902,"question_id":12745751,"body_markdown":"`allocationSize=1` is a micro optimization before getting query Hibernate tries to assign value in the range of `allocationSize` and so try to avoid querying database for sequence. But this query will be executed every time if you set it to 1. This hardly makes any difference since if your data base is accessed by some other application then it will create issues if same id is used by another application meantime . \r\n\r\nNext generation of Sequence Id is based on allocationSize.\r\n\r\nBy default it is kept as `50` which is too much. It will also only help if your going to have near about `50` records in one session which are not persisted and which will be persisted using this particular session and transation.\r\n\r\nSo you should always use `allocationSize=1` while using `SequenceGenerator`. As for most of underlying databases sequence is always incremented by `1`. ","title":"Hibernate, @SequenceGenerator and allocationSize","body":"<p><code>allocationSize=1</code> is a micro optimization before getting query Hibernate tries to assign value in the range of <code>allocationSize</code> and so try to avoid querying database for sequence. But this query will be executed every time if you set it to 1. This hardly makes any difference since if your data base is accessed by some other application then it will create issues if same id is used by another application meantime .</p>\n<p>Next generation of Sequence Id is based on allocationSize.</p>\n<p>By default it is kept as <code>50</code> which is too much. It will also only help if your going to have near about <code>50</code> records in one session which are not persisted and which will be persisted using this particular session and transation.</p>\n<p>So you should always use <code>allocationSize=1</code> while using <code>SequenceGenerator</code>. As for most of underlying databases sequence is always incremented by <code>1</code>.</p>\n"},{"tags":[],"owner":{"account_id":1086765,"reputation":9377,"user_id":1082300,"accept_rate":50,"display_name":"Steve Ebersole"},"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1349444131,"creation_date":1349444131,"answer_id":12747442,"question_id":12745751,"body_markdown":"To be absolutely clear... what you describe does *not* conflict with the spec in any way.  The spec talks about the values Hibernate assigns to your entities, not the values actually stored in the database sequence.\r\n\r\nHowever, there is the option to get the behavior you are looking for.  First see my reply on https://stackoverflow.com/questions/12737092/is-there-a-way-to-dynamically-choose-a-generatedvalue-strategy-using-jpa-annota  That will give you the basics.  As long as you are set up to use that SequenceStyleGenerator, Hibernate will interpret `allocationSize` using the &quot;pooled optimizer&quot; in the SequenceStyleGenerator.  The &quot;pooled optimizer&quot; is for use with databases that allow an &quot;increment&quot; option on the creation of sequences (not all databases that support sequences support an increment).  Anyway, read up about the various optimizer strategies there.","title":"Hibernate, @SequenceGenerator and allocationSize","body":"<p>To be absolutely clear... what you describe does <em>not</em> conflict with the spec in any way.  The spec talks about the values Hibernate assigns to your entities, not the values actually stored in the database sequence.</p>\n\n<p>However, there is the option to get the behavior you are looking for.  First see my reply on <a href=\"https://stackoverflow.com/questions/12737092/is-there-a-way-to-dynamically-choose-a-generatedvalue-strategy-using-jpa-annota\">Is there a way to dynamically choose a @GeneratedValue strategy using JPA annotations and Hibernate?</a>  That will give you the basics.  As long as you are set up to use that SequenceStyleGenerator, Hibernate will interpret <code>allocationSize</code> using the \"pooled optimizer\" in the SequenceStyleGenerator.  The \"pooled optimizer\" is for use with databases that allow an \"increment\" option on the creation of sequences (not all databases that support sequences support an increment).  Anyway, read up about the various optimizer strategies there.</p>\n"},{"tags":[],"owner":{"account_id":484093,"reputation":591,"user_id":899562,"display_name":"Hasan Ceylan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1349464422,"creation_date":1349464422,"answer_id":12752653,"question_id":12745751,"body_markdown":"I would check the DDL for the sequence in the schema. JPA Implementation is responsible only creation of the sequence with the correct allocation size. Therefore, if the allocation size is 50 then your sequence must have the increment of 50 in its DDL. \r\n\r\nThis case may typically occur with the creation of a sequence with allocation size 1 then later configured to allocation size 50 (or default) but the sequence DDL is not updated.","title":"Hibernate, @SequenceGenerator and allocationSize","body":"<p>I would check the DDL for the sequence in the schema. JPA Implementation is responsible only creation of the sequence with the correct allocation size. Therefore, if the allocation size is 50 then your sequence must have the increment of 50 in its DDL. </p>\n\n<p>This case may typically occur with the creation of a sequence with allocation size 1 then later configured to allocation size 50 (or default) but the sequence DDL is not updated.</p>\n"},{"tags":[],"owner":{"account_id":5098700,"reputation":99,"user_id":4089070,"display_name":"Jihwan"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1411937614,"creation_date":1411933599,"answer_id":26088936,"question_id":12745751,"body_markdown":"Steve Ebersole &amp; other members,&lt;br&gt;\r\nWould you kindly explain the reason for an id with a larger gap(by default 50)?\r\nI am using Hibernate 4.2.15 and found the following code in org.hibernate.id.enhanced.OptimizerFactory cass.\r\n\r\n    if ( lo &gt; maxLo ) {\r\n       lastSourceValue = callback.getNextValue();\r\n       lo = lastSourceValue.eq( 0 ) ? 1 : 0;\r\n       hi = lastSourceValue.copy().multiplyBy( maxLo+1 ); \r\n    }  \r\n    value = hi.copy().add( lo++ );\r\n\r\nWhenever it hits the inside of the if statement, hi value is getting much larger.  So, my id during the testing with the frequent server restart generates the following sequence ids:  \r\n1, 2, 3, 4, 19, 250, 251, 252, 400, 550, 750, 751, 752, 850, 1100, 1150.\r\n\r\nI know you already said it didn&#39;t conflict with the spec, but I believe this will be very unexpected situation for most developers.   \r\n\r\nAnyone&#39;s input will be much helpful. \r\n\r\nJihwan\r\n\r\nUPDATE:\r\nne1410s: Thanks for the edit.&lt;br&gt;\r\ncfrick: OK. I will do that.  It was my first post here and wasn&#39;t sure how to use it.\r\n\r\nNow, I understood better why maxLo was used for two purposes: Since the hibernate calls the DB sequence once, keep increase the id in Java level, and saves it to the DB, the Java level id value should consider how much was changed without calling the DB sequence when it calls the sequence next time.  \r\n\r\nFor example, sequence id was 1 at a point and hibernate entered 5, 6, 7, 8, 9 (with allocationSize = 5). Next time, when we get the next sequence number, DB returns 2, but hibernate needs to use 10, 11, 12... So, that is why &quot;hi = lastSourceValue.copy().multiplyBy( maxLo+1 )&quot; is used to get a next id 10 from the 2 returned from the DB sequence.  It seems only bothering thing was during the frequent server restart and this was my issue with the larger gap.\r\n\r\nSo, when we use the SEQUENCE ID, the inserted id in the table will not match with the SEQUENCE number in DB.  ","title":"Hibernate, @SequenceGenerator and allocationSize","body":"<p>Steve Ebersole &amp; other members,<br>\nWould you kindly explain the reason for an id with a larger gap(by default 50)?\nI am using Hibernate 4.2.15 and found the following code in org.hibernate.id.enhanced.OptimizerFactory cass.</p>\n\n<pre><code>if ( lo &gt; maxLo ) {\n   lastSourceValue = callback.getNextValue();\n   lo = lastSourceValue.eq( 0 ) ? 1 : 0;\n   hi = lastSourceValue.copy().multiplyBy( maxLo+1 ); \n}  \nvalue = hi.copy().add( lo++ );\n</code></pre>\n\n<p>Whenever it hits the inside of the if statement, hi value is getting much larger.  So, my id during the testing with the frequent server restart generates the following sequence ids:<br>\n1, 2, 3, 4, 19, 250, 251, 252, 400, 550, 750, 751, 752, 850, 1100, 1150.</p>\n\n<p>I know you already said it didn't conflict with the spec, but I believe this will be very unexpected situation for most developers.   </p>\n\n<p>Anyone's input will be much helpful. </p>\n\n<p>Jihwan</p>\n\n<p>UPDATE:\nne1410s: Thanks for the edit.<br>\ncfrick: OK. I will do that.  It was my first post here and wasn't sure how to use it.</p>\n\n<p>Now, I understood better why maxLo was used for two purposes: Since the hibernate calls the DB sequence once, keep increase the id in Java level, and saves it to the DB, the Java level id value should consider how much was changed without calling the DB sequence when it calls the sequence next time.  </p>\n\n<p>For example, sequence id was 1 at a point and hibernate entered 5, 6, 7, 8, 9 (with allocationSize = 5). Next time, when we get the next sequence number, DB returns 2, but hibernate needs to use 10, 11, 12... So, that is why \"hi = lastSourceValue.copy().multiplyBy( maxLo+1 )\" is used to get a next id 10 from the 2 returned from the DB sequence.  It seems only bothering thing was during the frequent server restart and this was my issue with the larger gap.</p>\n\n<p>So, when we use the SEQUENCE ID, the inserted id in the table will not match with the SEQUENCE number in DB.  </p>\n"},{"tags":[],"owner":{"account_id":2318227,"reputation":959,"user_id":2034733,"accept_rate":69,"display_name":"fatih tekin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1457045537,"creation_date":1457045537,"answer_id":35784676,"question_id":12745751,"body_markdown":"After digging into hibernate source code and \r\nBelow configuration goes to Oracle db for the next value after 50 inserts. So make your INST_PK_SEQ increment 50 each time it is called.\r\n\r\nHibernate 5 is used for below strategy\r\n\r\nCheck also below\r\nhttp://docs.jboss.org/hibernate/orm/5.1/userguide/html_single/Hibernate_User_Guide.html#identifiers-generators-sequence\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    @GenericGenerator(name = &quot;INST_PK_SEQ&quot;, \r\n    strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n    parameters = {\r\n            @org.hibernate.annotations.Parameter(\r\n                    name = &quot;optimizer&quot;, value = &quot;pooled-lo&quot;),\r\n            @org.hibernate.annotations.Parameter(\r\n                    name = &quot;initial_value&quot;, value = &quot;1&quot;),\r\n            @org.hibernate.annotations.Parameter(\r\n                    name = &quot;increment_size&quot;, value = &quot;50&quot;),\r\n            @org.hibernate.annotations.Parameter(\r\n                    name = SequenceStyleGenerator.SEQUENCE_PARAM, value = &quot;INST_PK_SEQ&quot;),\r\n        }\r\n    )\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;INST_PK_SEQ&quot;)\r\n    private Long id;\r\n","title":"Hibernate, @SequenceGenerator and allocationSize","body":"<p>After digging into hibernate source code and \nBelow configuration goes to Oracle db for the next value after 50 inserts. So make your INST_PK_SEQ increment 50 each time it is called.</p>\n\n<p>Hibernate 5 is used for below strategy</p>\n\n<p>Check also below\n<a href=\"http://docs.jboss.org/hibernate/orm/5.1/userguide/html_single/Hibernate_User_Guide.html#identifiers-generators-sequence\" rel=\"nofollow\">http://docs.jboss.org/hibernate/orm/5.1/userguide/html_single/Hibernate_User_Guide.html#identifiers-generators-sequence</a></p>\n\n<pre><code>@Id\n@Column(name = \"ID\")\n@GenericGenerator(name = \"INST_PK_SEQ\", \nstrategy = \"org.hibernate.id.enhanced.SequenceStyleGenerator\",\nparameters = {\n        @org.hibernate.annotations.Parameter(\n                name = \"optimizer\", value = \"pooled-lo\"),\n        @org.hibernate.annotations.Parameter(\n                name = \"initial_value\", value = \"1\"),\n        @org.hibernate.annotations.Parameter(\n                name = \"increment_size\", value = \"50\"),\n        @org.hibernate.annotations.Parameter(\n                name = SequenceStyleGenerator.SEQUENCE_PARAM, value = \"INST_PK_SEQ\"),\n    }\n)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"INST_PK_SEQ\")\nprivate Long id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9680846,"reputation":111,"user_id":7182619,"display_name":"Mohamed Afzal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562664441,"creation_date":1556715451,"answer_id":55936658,"question_id":12745751,"body_markdown":"I too faced this issue in Hibernate 5:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = SEQUENCE)\r\n    @SequenceGenerator(name = SEQUENCE, sequenceName = SEQUENCE)\r\n    private Long titId;\r\n\r\nGot a warning like this below:\r\n\r\n&gt; Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead. See Hibernate Domain Model Mapping Guide for details.\r\n\r\nThen changed my code to SequenceStyleGenerator:\r\n\r\n    @Id\r\n    @GenericGenerator(name=&quot;cmrSeq&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n            parameters = {\r\n                    @Parameter(name = &quot;sequence_name&quot;, value = &quot;SEQUENCE&quot;)}\r\n    )\r\n    @GeneratedValue(generator = &quot;sequence_name&quot;)\r\n    private Long titId;\r\n\r\nThis solved my two issues:\r\n\r\n 1. The deprecated warning is fixed\r\n 2. Now the id is generated as per the oracle sequence.","title":"Hibernate, @SequenceGenerator and allocationSize","body":"<p>I too faced this issue in Hibernate 5:</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = SEQUENCE)\n@SequenceGenerator(name = SEQUENCE, sequenceName = SEQUENCE)\nprivate Long titId;\n</code></pre>\n\n<p>Got a warning like this below:</p>\n\n<blockquote>\n  <p>Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead. See Hibernate Domain Model Mapping Guide for details.</p>\n</blockquote>\n\n<p>Then changed my code to SequenceStyleGenerator:</p>\n\n<pre><code>@Id\n@GenericGenerator(name=\"cmrSeq\", strategy = \"org.hibernate.id.enhanced.SequenceStyleGenerator\",\n        parameters = {\n                @Parameter(name = \"sequence_name\", value = \"SEQUENCE\")}\n)\n@GeneratedValue(generator = \"sequence_name\")\nprivate Long titId;\n</code></pre>\n\n<p>This solved my two issues:</p>\n\n<ol>\n<li>The deprecated warning is fixed</li>\n<li>Now the id is generated as per the oracle sequence.</li>\n</ol>\n"}],"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181899,"favorite_count":0,"down_vote_count":1,"up_vote_count":152,"accepted_answer_id":12747442,"answer_count":6,"score":151,"last_activity_date":1682579673,"creation_date":1349438135,"question_id":12745751,"body_markdown":"We all know the default behaviour of Hibernate when using `@SequenceGenerator` - it increases real database sequence by **one**, multiple this value by 50 (default `allocationSize` value) - and then uses this value as entity ID.\r\n\r\nThis is incorrect behaviour and conflicts with [specification](http://docs.oracle.com/javaee/5/api/javax/persistence/SequenceGenerator.html) which says:\r\n&gt; allocationSize - (Optional) The amount to increment by when allocating sequence numbers from the sequence.\r\n\r\nTo be clear: I do not bother about gaps between generated IDs.\r\n\r\nI care about IDs that are **not consistent** with underlying database sequence. For example: any other application (that e.g. uses plain JDBC) may want to insert new rows under IDs obtained from sequence - but all those values may be already used by Hibernate! Madness.\r\n\r\nDo somebody know any solution to this problem (without setting `allocationSize=1` and thus degrading performance)?\r\n\r\n\r\n**EDIT:**  \r\nTo make things clear.\r\nIf last inserted record had ID = `1`, then HB use values `51, 52, 53...` for its new entities BUT at the same time: sequence&#39;s value in database will be set to `2`. Which can easily leads to errors when other applications are using that sequence.  &lt;br/&gt;\r\n\r\nOn the othe hand: specification says (in my understanding) that database sequence should have been set to `51` and in the meantime HB should use values from range  `2, 3 ... 50`\r\n\r\n  &lt;br/&gt;**UPDATE:**  &lt;br/&gt;\r\nAs Steve Ebersole mentioned below: the behaviour described by me (and also the most intuitive for many) can be enabled by setting `hibernate.id.new_generator_mappings=true`.\r\n\r\nThanks all of You.\r\n\r\n**UPDATE 2:**  \r\nFor future readers, below you can find a working example.\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;USERS_SEQ&quot;)\r\n        @SequenceGenerator(name = &quot;USERS_SEQ&quot;, sequenceName = &quot;SEQUENCE_USERS&quot;)\r\n        private Long id;\r\n    }\r\n\r\npersistence.xml\r\n\r\n    &lt;persistence-unit name=&quot;testPU&quot;&gt;\r\n      &lt;properties&gt;\r\n        &lt;property name=&quot;hibernate.id.new_generator_mappings&quot; value=&quot;true&quot; /&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n","title":"Hibernate, @SequenceGenerator and allocationSize","body":"<p>We all know the default behaviour of Hibernate when using <code>@SequenceGenerator</code> - it increases real database sequence by <strong>one</strong>, multiple this value by 50 (default <code>allocationSize</code> value) - and then uses this value as entity ID.</p>\n\n<p>This is incorrect behaviour and conflicts with <a href=\"http://docs.oracle.com/javaee/5/api/javax/persistence/SequenceGenerator.html\">specification</a> which says:</p>\n\n<blockquote>\n  <p>allocationSize - (Optional) The amount to increment by when allocating sequence numbers from the sequence.</p>\n</blockquote>\n\n<p>To be clear: I do not bother about gaps between generated IDs.</p>\n\n<p>I care about IDs that are <strong>not consistent</strong> with underlying database sequence. For example: any other application (that e.g. uses plain JDBC) may want to insert new rows under IDs obtained from sequence - but all those values may be already used by Hibernate! Madness.</p>\n\n<p>Do somebody know any solution to this problem (without setting <code>allocationSize=1</code> and thus degrading performance)?</p>\n\n<p><strong>EDIT:</strong><br>\nTo make things clear.\nIf last inserted record had ID = <code>1</code>, then HB use values <code>51, 52, 53...</code> for its new entities BUT at the same time: sequence's value in database will be set to <code>2</code>. Which can easily leads to errors when other applications are using that sequence.  <br/></p>\n\n<p>On the othe hand: specification says (in my understanding) that database sequence should have been set to <code>51</code> and in the meantime HB should use values from range  <code>2, 3 ... 50</code></p>\n\n<p><br/><strong>UPDATE:</strong>  <br/>\nAs Steve Ebersole mentioned below: the behaviour described by me (and also the most intuitive for many) can be enabled by setting <code>hibernate.id.new_generator_mappings=true</code>.</p>\n\n<p>Thanks all of You.</p>\n\n<p><strong>UPDATE 2:</strong><br>\nFor future readers, below you can find a working example.</p>\n\n<pre><code>@Entity\n@Table(name = \"users\")\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"USERS_SEQ\")\n    @SequenceGenerator(name = \"USERS_SEQ\", sequenceName = \"SEQUENCE_USERS\")\n    private Long id;\n}\n</code></pre>\n\n<p>persistence.xml</p>\n\n<pre><code>&lt;persistence-unit name=\"testPU\"&gt;\n  &lt;properties&gt;\n    &lt;property name=\"hibernate.id.new_generator_mappings\" value=\"true\" /&gt;\n  &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jms","spring-jms","tibco-ems"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1674591196,"post_id":75226702,"comment_id":132745840,"body_markdown":"This is tough because the Tibco docs don&#39;t show the entire inheritance hierarchy.  If `TibjmsConnectionFactory` doesn&#39;t implement `javax.jms.ConnectionFactory` they you may be out of luck.","body":"This is tough because the Tibco docs don&#39;t show the entire inheritance hierarchy.  If <code>TibjmsConnectionFactory</code> doesn&#39;t implement <code>javax.jms.ConnectionFactory</code> they you may be out of luck."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1674591292,"post_id":75226702,"comment_id":132745867,"body_markdown":"Boot 3/Spring 6 moved from the javax to the jakarta namespace for JEE support - you either need to find a Tibco jar for JEE 9 or drop back to Boot 2.7/Spring 5.3.","body":"Boot 3/Spring 6 moved from the javax to the jakarta namespace for JEE support - you either need to find a Tibco jar for JEE 9 or drop back to Boot 2.7/Spring 5.3."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674591337,"creation_date":1674591337,"answer_id":75226831,"question_id":75226702,"body_markdown":"Boot 3/Spring 6 moved from the `javax` to the `jakarta` namespace for JEE support - you either need to find a Tibco jar for JEE 9 or drop back to Boot 2.7/Spring 5.3.","title":"TibcojmsConnectionFactory configuration issues","body":"<p>Boot 3/Spring 6 moved from the <code>javax</code> to the <code>jakarta</code> namespace for JEE support - you either need to find a Tibco jar for JEE 9 or drop back to Boot 2.7/Spring 5.3.</p>\n"},{"tags":[],"owner":{"account_id":14036429,"reputation":315,"user_id":10138996,"display_name":"pascalre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677579585,"creation_date":1677579585,"answer_id":75590658,"question_id":75226702,"body_markdown":"Spring Boot 3 moved to the jakarta namespace. To be compatible with it, you need to use the (jakarta) client libraries from TIBCO EMS 10, those are backwards compatible.","title":"TibcojmsConnectionFactory configuration issues","body":"<p>Spring Boot 3 moved to the jakarta namespace. To be compatible with it, you need to use the (jakarta) client libraries from TIBCO EMS 10, those are backwards compatible.</p>\n"},{"tags":[],"owner":{"account_id":2416536,"reputation":399,"user_id":2171537,"accept_rate":36,"display_name":"VinayBS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682579647,"creation_date":1682571809,"answer_id":76116903,"question_id":75226702,"body_markdown":"Encountered same issue. tibjms has jakarta compatible library that comes with Tibco EMS 10.2. Unfortunately, this library is not published in public maven repo. \r\nTo be able to use this, download the latest Tibco EMS community edition, install in the system and you will be able to see the lib under tibco/ems/10.2/lib folder with name jakarta.jms-tibjms.jar\r\nUpload it to your private nexus repo and thats it. You need corresponding   jakarta.jms-api dependency. This library is available in public maven repo. ","title":"TibcojmsConnectionFactory configuration issues","body":"<p>Encountered same issue. tibjms has jakarta compatible library that comes with Tibco EMS 10.2. Unfortunately, this library is not published in public maven repo.\nTo be able to use this, download the latest Tibco EMS community edition, install in the system and you will be able to see the lib under tibco/ems/10.2/lib folder with name jakarta.jms-tibjms.jar\nUpload it to your private nexus repo and thats it. You need corresponding   jakarta.jms-api dependency. This library is available in public maven repo.</p>\n"}],"owner":{"account_id":24140256,"reputation":39,"user_id":18106551,"display_name":"Sricharan Anand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1530,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75226831,"answer_count":3,"score":3,"last_activity_date":1682579647,"creation_date":1674590597,"question_id":75226702,"body_markdown":"I am trying to work on a tibco JMS CDC product. I have issues setting up the configuration and could not find a solution to my problem.\r\n\r\n```\r\nimport com.tibco.tibjms.TibjmsConnectionFactory;\r\n\r\nimport javax.jms.JMSException;\r\n```\r\n\r\n    @Configuration\r\n    @EnableJms\r\n    public class TibcoBusConfiguration {\r\n        @Value(&quot;${ems.password}&quot;)\r\n        private String password;\r\n    \r\n        @Value(&quot;${ems.port}&quot;)\r\n        private String port;\r\n    \r\n        @Value(&quot;${ems.topic}&quot;)\r\n        private String queue;\r\n    \r\n        @Value(&quot;${ems.server}&quot;)\r\n        private String server;\r\n    \r\n        @Value(&quot;${ems.user}&quot;)\r\n        private String user;\r\n    \r\n        @Bean(name = &quot;tibjmsConnectionFactory&quot;)\r\n        public TibjmsConnectionFactory jmsConnectionFactory() throws javax.jms.JMSException {\r\n            final TibjmsConnectionFactory factory = new TibjmsConnectionFactory();\r\n    \r\n            factory.setServerUrl(serverURL());\r\n            factory.setUserName(user);\r\n            factory.setUserPassword(password);\r\n    \r\n            return factory;\r\n        }\r\n    \r\n        @Bean\r\n        public JmsTemplate jmsTemplate(\r\n            @Autowired TibjmsConnectionFactory tibjmsConnectionFactory) throws JMSException {\r\n            final JmsTemplate jmsTemplate = new JmsTemplate();\r\n    \r\n            jmsTemplate.setConnectionFactory(jmsConnectionFactory());\r\n            jmsTemplate.setDefaultDestinationName(queue);\r\n            jmsTemplate.setExplicitQosEnabled(true);\r\n            jmsTemplate.setDeliveryMode(DeliveryMode.PERSISTENT);\r\n            jmsTemplate.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\r\n            jmsTemplate.setSessionTransacted(false);\r\n    \r\n            return jmsTemplate;\r\n        }\r\n    \r\n        private String serverURL() {\r\n            return &quot;tcp://&quot; + server + &quot;:&quot; + port;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n   \r\n\r\n\r\nUnfortunately JmsTemplate only allows jakarta.jms.ConnectionFactory, how do I pass in the TibcoConnectionFactory, because casting is not allowed since the classes do not match. Is my understanding of this incorrect?\r\n\r\nI have the following JAR&#39;s in my maven setup: tibjms.jar jakarta.jms-api-3.0 javax.jms-api-2.0\r\n\r\nThanks in Advance","title":"TibcojmsConnectionFactory configuration issues","body":"<p>I am trying to work on a tibco JMS CDC product. I have issues setting up the configuration and could not find a solution to my problem.</p>\n<pre><code>import com.tibco.tibjms.TibjmsConnectionFactory;\n\nimport javax.jms.JMSException;\n</code></pre>\n<pre><code>@Configuration\n@EnableJms\npublic class TibcoBusConfiguration {\n    @Value(&quot;${ems.password}&quot;)\n    private String password;\n\n    @Value(&quot;${ems.port}&quot;)\n    private String port;\n\n    @Value(&quot;${ems.topic}&quot;)\n    private String queue;\n\n    @Value(&quot;${ems.server}&quot;)\n    private String server;\n\n    @Value(&quot;${ems.user}&quot;)\n    private String user;\n\n    @Bean(name = &quot;tibjmsConnectionFactory&quot;)\n    public TibjmsConnectionFactory jmsConnectionFactory() throws javax.jms.JMSException {\n        final TibjmsConnectionFactory factory = new TibjmsConnectionFactory();\n\n        factory.setServerUrl(serverURL());\n        factory.setUserName(user);\n        factory.setUserPassword(password);\n\n        return factory;\n    }\n\n    @Bean\n    public JmsTemplate jmsTemplate(\n        @Autowired TibjmsConnectionFactory tibjmsConnectionFactory) throws JMSException {\n        final JmsTemplate jmsTemplate = new JmsTemplate();\n\n        jmsTemplate.setConnectionFactory(jmsConnectionFactory());\n        jmsTemplate.setDefaultDestinationName(queue);\n        jmsTemplate.setExplicitQosEnabled(true);\n        jmsTemplate.setDeliveryMode(DeliveryMode.PERSISTENT);\n        jmsTemplate.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\n        jmsTemplate.setSessionTransacted(false);\n\n        return jmsTemplate;\n    }\n\n    private String serverURL() {\n        return &quot;tcp://&quot; + server + &quot;:&quot; + port;\n    }\n\n\n\n}\n</code></pre>\n<p>Unfortunately JmsTemplate only allows jakarta.jms.ConnectionFactory, how do I pass in the TibcoConnectionFactory, because casting is not allowed since the classes do not match. Is my understanding of this incorrect?</p>\n<p>I have the following JAR's in my maven setup: tibjms.jar jakarta.jms-api-3.0 javax.jms-api-2.0</p>\n<p>Thanks in Advance</p>\n"},{"tags":["java","arrays","spring-boot","set"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1682579392,"post_id":76117606,"comment_id":134238887,"body_markdown":"You can use some kind of ordered set like TreeSet (order determined by the values), or LinkedHashSet (order determined based on the insertion order). Then the order will remain the same.  If you use HashSet, the order will be controlled by the hashing of the values (not directly in your control), but probably will remain the same every time.","body":"You can use some kind of ordered set like TreeSet (order determined by the values), or LinkedHashSet (order determined based on the insertion order). Then the order will remain the same.  If you use HashSet, the order will be controlled by the hashing of the values (not directly in your control), but probably will remain the same every time."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682579581,"post_id":76117606,"comment_id":134238938,"body_markdown":"[The Javadoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#toArray(T%5B%5D)) directly answers your Question.","body":"<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#toArray(T%5B%5D)\" rel=\"nofollow noreferrer\">The Javadoc</a> directly answers your Question."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682579565,"creation_date":1682579565,"answer_id":76117684,"question_id":76117606,"body_markdown":"`toArray()` is only guaranteed to stick to a particular order if it&#39;s a Set with a defined iteration order. In practice, almost any implementation will return a consistent order for a single instance, even if that order is undefined. But if you want to adhere to the spec, it&#39;s best to use an ordered set like `LinkedHashSet` or `TreeSet`. If you don&#39;t control creation of the set, you can always copy it to an ordered set to ensure consistent iteration.","title":"Java Sets to Array","body":"<p><code>toArray()</code> is only guaranteed to stick to a particular order if it's a Set with a defined iteration order. In practice, almost any implementation will return a consistent order for a single instance, even if that order is undefined. But if you want to adhere to the spec, it's best to use an ordered set like <code>LinkedHashSet</code> or <code>TreeSet</code>. If you don't control creation of the set, you can always copy it to an ordered set to ensure consistent iteration.</p>\n"}],"owner":{"account_id":25960892,"reputation":26,"user_id":19677541,"display_name":"wittlemissginger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682579565,"creation_date":1682579049,"question_id":76117606,"body_markdown":"I&#39;m converting a Java set to an array like: `Integer[] nums= numbers.toArray(new Integer[0]);`\r\n\r\nSay I have that line in a method that I call multiple times. Would the nums array be the same every time (stays in the same order), or would it be random in which order it&#39;s in?\r\n\r\nI&#39;m using this in a Spring Boot project, and SQL doesn&#39;t support arrays, so I&#39;m saving them as sets instead; this particular bit is used to determine player order, and the method it&#39;s in gets the next player. I&#39;m trying not to get repeating players.\r\n\r\nIf you have a better way of doing this as well, I&#39;m all ears","title":"Java Sets to Array","body":"<p>I'm converting a Java set to an array like: <code>Integer[] nums= numbers.toArray(new Integer[0]);</code></p>\n<p>Say I have that line in a method that I call multiple times. Would the nums array be the same every time (stays in the same order), or would it be random in which order it's in?</p>\n<p>I'm using this in a Spring Boot project, and SQL doesn't support arrays, so I'm saving them as sets instead; this particular bit is used to determine player order, and the method it's in gets the next player. I'm trying not to get repeating players.</p>\n<p>If you have a better way of doing this as well, I'm all ears</p>\n"},{"tags":["java","eclipse","annotations","compiler-warnings","suppress-warnings"],"comments":[{"owner":{"account_id":133139,"reputation":22924,"user_id":334274,"accept_rate":100,"display_name":"Jivings"},"score":10,"creation_date":1330684027,"post_id":9531467,"comment_id":12075280,"body_markdown":"It really depends on if you like seeing squggily lines in your code. It drives me mad.","body":"It really depends on if you like seeing squggily lines in your code. It drives me mad."},{"owner":{"account_id":62626,"reputation":10896,"user_id":185919,"accept_rate":89,"display_name":"java.is.for.desktop"},"score":2,"creation_date":1612832306,"post_id":9531467,"comment_id":116884662,"body_markdown":"In case someone is coming from a web search like I did: There is a way to disable a false warning about redundant suppression in IDEA: `@SuppressWarnings({ &quot;RedundantSuppression&quot;, &quot;&lt;your_false_warning&gt;&quot; })`","body":"In case someone is coming from a web search like I did: There is a way to disable a false warning about redundant suppression in IDEA: <code>@SuppressWarnings({ &quot;RedundantSuppression&quot;, &quot;&lt;your_false_warning&gt;&quot; })</code>"}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1330683352,"creation_date":1330683352,"answer_id":9531507,"question_id":9531467,"body_markdown":"Go to\r\n\r\n*Window* → *Preferences* → *Java* → *Compiler* → *Errors/Warnings* → *Annotations*.\r\n\r\nAnd select ***Ignore*** for ***Unused &#39;@SuppressWarnings` token***.","title":"Unnecessary @SuppressWarnings(&quot;unused&quot;)","body":"<p>Go to</p>\n\n<p><em>Window</em> → <em>Preferences</em> → <em>Java</em> → <em>Compiler</em> → <em>Errors/Warnings</em> → <em>Annotations</em>.</p>\n\n<p>And select <strong><em>Ignore</em></strong> for <strong><em>Unused '@SuppressWarnings` token</em></strong>.</p>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1330684153,"creation_date":1330684153,"answer_id":9531732,"question_id":9531467,"body_markdown":"In the code in your question, the `@SuppressWarnings(&quot;unused&quot;)` annotation is unnecessary because the method is either overriding another method from a superclass or implementing an interface. Even if you don&#39;t actually use the `whatever` parameter it&#39;s mandatory to declare it, otherwise the `@Override` annotation will produce an error (you&#39;d be changing the signature of the overridden method if you removed the parameter.)\r\n\r\nIn some older versions of Eclipse the code as shown would not cause a warning, but in more recent releases it does. I believe it&#39;s a valid warning, and I&#39;d rather remove the `@SuppressWarnings(&quot;unused&quot;)` in this case.","title":"Unnecessary @SuppressWarnings(&quot;unused&quot;)","body":"<p>In the code in your question, the <code>@SuppressWarnings(\"unused\")</code> annotation is unnecessary because the method is either overriding another method from a superclass or implementing an interface. Even if you don't actually use the <code>whatever</code> parameter it's mandatory to declare it, otherwise the <code>@Override</code> annotation will produce an error (you'd be changing the signature of the overridden method if you removed the parameter.)</p>\n\n<p>In some older versions of Eclipse the code as shown would not cause a warning, but in more recent releases it does. I believe it's a valid warning, and I'd rather remove the <code>@SuppressWarnings(\"unused\")</code> in this case.</p>\n"},{"tags":[],"owner":{"account_id":373701,"reputation":1606,"user_id":723506,"accept_rate":75,"display_name":"David Carboni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1330952378,"creation_date":1330945865,"answer_id":9565630,"question_id":9531467,"body_markdown":"Alternatively, if you think it&#39;s more correct to delete the SuppressWarnings annotation:\r\n\r\nWindow -&gt; Preferences -&gt; Java -&gt; Compiler -&gt; Errors/Warnings -&gt; Unnecessary code -&gt; Value of parameter is not used\r\n\r\nand select **Ignore in overriding and implementing methods**","title":"Unnecessary @SuppressWarnings(&quot;unused&quot;)","body":"<p>Alternatively, if you think it's more correct to delete the SuppressWarnings annotation:</p>\n\n<p>Window -> Preferences -> Java -> Compiler -> Errors/Warnings -> Unnecessary code -> Value of parameter is not used</p>\n\n<p>and select <strong>Ignore in overriding and implementing methods</strong></p>\n"},{"tags":[],"owner":{"account_id":239958,"reputation":506,"user_id":509904,"accept_rate":50,"display_name":"Torben Vesterager"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1346739814,"creation_date":1346739814,"answer_id":12257836,"question_id":9531467,"body_markdown":"In my code there&#39;s no inheritance defining the 3 methods with @SuppressWarnings(&quot;unused&quot;)\r\n\r\nThis code gives &#39;Unnecessary @SuppressWarnings(&quot;unused&quot;)&#39; in Eclipse Juno (latest version), but if I remove the @SuppressWarnings(&quot;unused&quot;), I get &quot;Constructor/Method is never used&quot; warnings in IntelliJ IDEA 11.1.3\r\n\r\nThe methods aren&#39;t directly used in the project, only by 3rd party products Jackson, JAXB &amp; GSON, so IntelliJ is right, I would say ...\r\n\r\n\r\n\tpublic class EmailUnsendable extends SkjemaError {\r\n\r\n\t\tprivate NestedCommand command;        // Can&#39;t be Command (interface) because of GSON!\r\n\r\n\t\t@SuppressWarnings(&quot;unused&quot;)            // Used by Jackson/JAXB/GSON\r\n\t\tpublic EmailUnsendable() {\r\n\t\t}\r\n\r\n\t\tpublic EmailUnsendable(String referenceNumber, String stackTrace, NestedCommand command) {\r\n\t\t\tsuper(referenceNumber, stackTrace);\r\n\t\t\tthis.command = command;\r\n\t\t}\r\n\r\n\t\t@SuppressWarnings(&quot;unused&quot;)            // Used by Jackson/JAXB/GSON\r\n\t\tpublic NestedCommand getCommand() {\r\n\t\t\treturn command;\r\n\t\t}\r\n\r\n\t\t@SuppressWarnings(&quot;unused&quot;)            // Used by Jackson/JAXB/GSON\r\n\t\tpublic void setCommand(NestedCommand command) {\r\n\t\t\tthis.command = command;\r\n\t\t}\r\n\t}\r\n\r\nI believe this is an error in Eclipse.","title":"Unnecessary @SuppressWarnings(&quot;unused&quot;)","body":"<p>In my code there's no inheritance defining the 3 methods with @SuppressWarnings(\"unused\")</p>\n\n<p>This code gives 'Unnecessary @SuppressWarnings(\"unused\")' in Eclipse Juno (latest version), but if I remove the @SuppressWarnings(\"unused\"), I get \"Constructor/Method is never used\" warnings in IntelliJ IDEA 11.1.3</p>\n\n<p>The methods aren't directly used in the project, only by 3rd party products Jackson, JAXB &amp; GSON, so IntelliJ is right, I would say ...</p>\n\n<pre><code>public class EmailUnsendable extends SkjemaError {\n\n    private NestedCommand command;        // Can't be Command (interface) because of GSON!\n\n    @SuppressWarnings(\"unused\")            // Used by Jackson/JAXB/GSON\n    public EmailUnsendable() {\n    }\n\n    public EmailUnsendable(String referenceNumber, String stackTrace, NestedCommand command) {\n        super(referenceNumber, stackTrace);\n        this.command = command;\n    }\n\n    @SuppressWarnings(\"unused\")            // Used by Jackson/JAXB/GSON\n    public NestedCommand getCommand() {\n        return command;\n    }\n\n    @SuppressWarnings(\"unused\")            // Used by Jackson/JAXB/GSON\n    public void setCommand(NestedCommand command) {\n        this.command = command;\n    }\n}\n</code></pre>\n\n<p>I believe this is an error in Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":24385934,"reputation":111,"user_id":18316717,"display_name":"agitrubard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682579379,"creation_date":1682579379,"answer_id":76117656,"question_id":9531467,"body_markdown":"While I agree with what you&#39;re saying, there are specific situations where there is no alternative but to use this method. As another colleague mentioned, there may be functions used indirectly within a project that do not use this method, and removing it without knowledge of its purpose could cause issues.\r\n\r\nAn example of this could be validations done using the `@AssertTrue` annotation. The following example shows a validation added to check the possible values for the Status field, but this method is used by Spring and not called from any other part of the project. In this scenario, I see no harm in using the `@SuppressWarnings(&quot;unused&quot;)` annotation.\r\n\r\n```\r\n@AssertTrue\r\n@SuppressWarnings(&quot;unused&quot;)\r\nprivate boolean isStatusValid() {\r\n\r\n    if (this.status == null) {\r\n        return true;\r\n    }\r\n\r\n    EnumSet&lt;Status&gt; acceptedStatuses = EnumSet.of(Status.A, Status.P);\r\n    return EnumValidation.anyOf(status, acceptedStatuses);\r\n}\r\n```","title":"Unnecessary @SuppressWarnings(&quot;unused&quot;)","body":"<p>While I agree with what you're saying, there are specific situations where there is no alternative but to use this method. As another colleague mentioned, there may be functions used indirectly within a project that do not use this method, and removing it without knowledge of its purpose could cause issues.</p>\n<p>An example of this could be validations done using the <code>@AssertTrue</code> annotation. The following example shows a validation added to check the possible values for the Status field, but this method is used by Spring and not called from any other part of the project. In this scenario, I see no harm in using the <code>@SuppressWarnings(&quot;unused&quot;)</code> annotation.</p>\n<pre><code>@AssertTrue\n@SuppressWarnings(&quot;unused&quot;)\nprivate boolean isStatusValid() {\n\n    if (this.status == null) {\n        return true;\n    }\n\n    EnumSet&lt;Status&gt; acceptedStatuses = EnumSet.of(Status.A, Status.P);\n    return EnumValidation.anyOf(status, acceptedStatuses);\n}\n</code></pre>\n"}],"owner":{"account_id":339900,"reputation":8440,"user_id":669645,"accept_rate":91,"display_name":"Edd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111146,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":9531732,"answer_count":5,"score":67,"last_activity_date":1682579379,"creation_date":1330683190,"question_id":9531467,"body_markdown":"I&#39;m getting a compiler warning for the `@SuppressWarnings` annotation in eclipse for the code:\r\n\r\n    @Override\r\n    public boolean doSomething(@SuppressWarnings(&quot;unused&quot;) String whatever) throws AnException {\r\n        throw new AnException(&quot;I&#39;m still in bed and can&#39;t do anything until I&#39;ve had a shower!&quot;);\r\n    }\r\n\r\nIt looks like a yellow squiggle under the word &quot;unused&quot; and on mouse hover I get the tooltip `Unnecessary @SuppressWarnings(&quot;unused&quot;)`.\r\n\r\nI think another developer is being prompted to put in these annotations by eclipse and I&#39;m basically being prompted to take them out. How can I configure eclipse to prompt me to put the `@SuppressWarnings` annotation in instead of it complaining about it?\r\n\r\nIf anyone would like to comment on best practice here then that would also be most welcome.","title":"Unnecessary @SuppressWarnings(&quot;unused&quot;)","body":"<p>I'm getting a compiler warning for the <code>@SuppressWarnings</code> annotation in eclipse for the code:</p>\n\n<pre><code>@Override\npublic boolean doSomething(@SuppressWarnings(\"unused\") String whatever) throws AnException {\n    throw new AnException(\"I'm still in bed and can't do anything until I've had a shower!\");\n}\n</code></pre>\n\n<p>It looks like a yellow squiggle under the word \"unused\" and on mouse hover I get the tooltip <code>Unnecessary @SuppressWarnings(\"unused\")</code>.</p>\n\n<p>I think another developer is being prompted to put in these annotations by eclipse and I'm basically being prompted to take them out. How can I configure eclipse to prompt me to put the <code>@SuppressWarnings</code> annotation in instead of it complaining about it?</p>\n\n<p>If anyone would like to comment on best practice here then that would also be most welcome.</p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682535249,"post_id":76114044,"comment_id":134233233,"body_markdown":"Does this answer your question? [How do I make a dotted/dashed line in Android?](https://stackoverflow.com/questions/6103713/how-do-i-make-a-dotted-dashed-line-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6103713/how-do-i-make-a-dotted-dashed-line-in-android\">How do I make a dotted/dashed line in Android?</a>"}],"answers":[{"tags":[],"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682534952,"creation_date":1682534952,"answer_id":76114116,"question_id":76114044,"body_markdown":"you can use with library or customise the library code or you can directly use the classes as per your requirement \r\n\r\nhttps://github.com/Comcast/DahDit\r\n\r\nI hope it will work for you!!\r\n\r\nThankyou\r\n\r\n   \r\n\r\n     class DottedLine\r\n    @JvmOverloads constructor(context: Context?, attrs: AttributeSet? = null, defStyleAttr: Int = 0)\r\n        : View(context, attrs, defStyleAttr) {\r\n    \r\n        var dotRadius: Float\r\n        var minimumDotGap: Float\r\n        var orientation = Orientation.HORIZONTAL\r\n    \r\n        val paint: Paint = Paint()\r\n    \r\n        init {\r\n            val metrics = resources.displayMetrics\r\n            val twoDpDefault = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 2f, metrics)\r\n            val defaultBlack = Color.argb(255, 0, 0, 0)\r\n    \r\n            if (attrs != null) {\r\n                val typedArray = context?.theme?.obtainStyledAttributes(attrs, R.styleable.DottedLine, defStyleAttr, 0)\r\n                dotRadius = typedArray?.getDimension(R.styleable.DottedLine_dotRadius, twoDpDefault) ?: twoDpDefault\r\n                minimumDotGap = typedArray?.getDimension(R.styleable.DottedLine_minimumDotGap, twoDpDefault) ?: twoDpDefault\r\n                paint.color = typedArray?.getColor(R.styleable.DottedLine_dotColor, defaultBlack) ?: defaultBlack\r\n                val orientationOrdinal = typedArray?.getInt(R.styleable.DottedLine_orientation, Orientation.HORIZONTAL.ordinal)\r\n                        ?: Orientation.HORIZONTAL.ordinal\r\n                if (orientationOrdinal == Orientation.VERTICAL.ordinal) {\r\n                    orientation = Orientation.VERTICAL\r\n                } else {\r\n                    orientation = Orientation.HORIZONTAL\r\n                }\r\n                typedArray?.recycle()\r\n            } else {\r\n                dotRadius = twoDpDefault\r\n                minimumDotGap = twoDpDefault\r\n                paint.color = defaultBlack\r\n            }\r\n    \r\n            paint.style = Paint.Style.FILL\r\n            paint.flags = Paint.ANTI_ALIAS_FLAG\r\n        }\r\n    \r\n        override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\r\n            if (orientation == Orientation.HORIZONTAL) {\r\n                val widthNeeded = paddingLeft + paddingRight + suggestedMinimumWidth\r\n                val width = resolveSize(widthNeeded, widthMeasureSpec)\r\n    \r\n                val heightNeeded = paddingTop + paddingBottom + 2 * dotRadius\r\n                val height = resolveSize(heightNeeded.toInt(), heightMeasureSpec)\r\n    \r\n                setMeasuredDimension(width, height)\r\n            } else {\r\n                val widthNeeded = paddingLeft + paddingRight + 2 * dotRadius\r\n                val width = resolveSize(widthNeeded.toInt(), widthMeasureSpec)\r\n    \r\n                val heightNeeded = paddingTop + paddingBottom + suggestedMinimumHeight\r\n                val height = resolveSize(heightNeeded, heightMeasureSpec)\r\n    \r\n                setMeasuredDimension(width, height)\r\n            }\r\n        }\r\n    \r\n        override fun onDraw(canvas: Canvas) {\r\n            if (orientation == Orientation.HORIZONTAL) {\r\n                val w = canvas.width - paddingLeft - paddingRight\r\n                val d = 2 * dotRadius\r\n                val m = minimumDotGap\r\n                val c: Int = Math.floor(((w - d) / (d + m)).toDouble()).toInt()\r\n                val g: Float = (w - (d * (c + 1))) / c\r\n                for (i in 0..c) {\r\n                    canvas.drawCircle(paddingLeft + dotRadius + i * (d + g),\r\n                            paddingTop + dotRadius,\r\n                            dotRadius,\r\n                            paint)\r\n                }\r\n            } else {\r\n                val h = (canvas.height - paddingTop - paddingBottom).toFloat()\r\n                val d = 2 * dotRadius\r\n                val m = minimumDotGap\r\n                val c: Int = Math.floor(((h - d) / (d + m)).toDouble()).toInt()\r\n                val g: Float = (h - (d * (c + 1))) / c\r\n                for (i in 0..c) {\r\n                    canvas.drawCircle(paddingLeft + dotRadius,\r\n                            paddingTop + dotRadius + i * (d + g),\r\n                            dotRadius,\r\n                            paint)\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        enum class Orientation {\r\n            HORIZONTAL, VERTICAL\r\n        }\r\n    }\r\n\r\n\r\nI have you the above class only from the above library for your excepted result!! You can take reference for the above library ","title":"How create a round dotted line in android","body":"<p>you can use with library or customise the library code or you can directly use the classes as per your requirement</p>\n<p><a href=\"https://github.com/Comcast/DahDit\" rel=\"nofollow noreferrer\">https://github.com/Comcast/DahDit</a></p>\n<p>I hope it will work for you!!</p>\n<p>Thankyou</p>\n<pre><code> class DottedLine\n@JvmOverloads constructor(context: Context?, attrs: AttributeSet? = null, defStyleAttr: Int = 0)\n    : View(context, attrs, defStyleAttr) {\n\n    var dotRadius: Float\n    var minimumDotGap: Float\n    var orientation = Orientation.HORIZONTAL\n\n    val paint: Paint = Paint()\n\n    init {\n        val metrics = resources.displayMetrics\n        val twoDpDefault = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 2f, metrics)\n        val defaultBlack = Color.argb(255, 0, 0, 0)\n\n        if (attrs != null) {\n            val typedArray = context?.theme?.obtainStyledAttributes(attrs, R.styleable.DottedLine, defStyleAttr, 0)\n            dotRadius = typedArray?.getDimension(R.styleable.DottedLine_dotRadius, twoDpDefault) ?: twoDpDefault\n            minimumDotGap = typedArray?.getDimension(R.styleable.DottedLine_minimumDotGap, twoDpDefault) ?: twoDpDefault\n            paint.color = typedArray?.getColor(R.styleable.DottedLine_dotColor, defaultBlack) ?: defaultBlack\n            val orientationOrdinal = typedArray?.getInt(R.styleable.DottedLine_orientation, Orientation.HORIZONTAL.ordinal)\n                    ?: Orientation.HORIZONTAL.ordinal\n            if (orientationOrdinal == Orientation.VERTICAL.ordinal) {\n                orientation = Orientation.VERTICAL\n            } else {\n                orientation = Orientation.HORIZONTAL\n            }\n            typedArray?.recycle()\n        } else {\n            dotRadius = twoDpDefault\n            minimumDotGap = twoDpDefault\n            paint.color = defaultBlack\n        }\n\n        paint.style = Paint.Style.FILL\n        paint.flags = Paint.ANTI_ALIAS_FLAG\n    }\n\n    override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\n        if (orientation == Orientation.HORIZONTAL) {\n            val widthNeeded = paddingLeft + paddingRight + suggestedMinimumWidth\n            val width = resolveSize(widthNeeded, widthMeasureSpec)\n\n            val heightNeeded = paddingTop + paddingBottom + 2 * dotRadius\n            val height = resolveSize(heightNeeded.toInt(), heightMeasureSpec)\n\n            setMeasuredDimension(width, height)\n        } else {\n            val widthNeeded = paddingLeft + paddingRight + 2 * dotRadius\n            val width = resolveSize(widthNeeded.toInt(), widthMeasureSpec)\n\n            val heightNeeded = paddingTop + paddingBottom + suggestedMinimumHeight\n            val height = resolveSize(heightNeeded, heightMeasureSpec)\n\n            setMeasuredDimension(width, height)\n        }\n    }\n\n    override fun onDraw(canvas: Canvas) {\n        if (orientation == Orientation.HORIZONTAL) {\n            val w = canvas.width - paddingLeft - paddingRight\n            val d = 2 * dotRadius\n            val m = minimumDotGap\n            val c: Int = Math.floor(((w - d) / (d + m)).toDouble()).toInt()\n            val g: Float = (w - (d * (c + 1))) / c\n            for (i in 0..c) {\n                canvas.drawCircle(paddingLeft + dotRadius + i * (d + g),\n                        paddingTop + dotRadius,\n                        dotRadius,\n                        paint)\n            }\n        } else {\n            val h = (canvas.height - paddingTop - paddingBottom).toFloat()\n            val d = 2 * dotRadius\n            val m = minimumDotGap\n            val c: Int = Math.floor(((h - d) / (d + m)).toDouble()).toInt()\n            val g: Float = (h - (d * (c + 1))) / c\n            for (i in 0..c) {\n                canvas.drawCircle(paddingLeft + dotRadius,\n                        paddingTop + dotRadius + i * (d + g),\n                        dotRadius,\n                        paint)\n            }\n        }\n\n    }\n\n    enum class Orientation {\n        HORIZONTAL, VERTICAL\n    }\n}\n</code></pre>\n<p>I have you the above class only from the above library for your excepted result!! You can take reference for the above library</p>\n"}],"owner":{"account_id":28426308,"reputation":1,"user_id":21747637,"display_name":"Dawid Fendler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682579326,"creation_date":1682534350,"question_id":76114044,"body_markdown":"i need to create a line with round dots. I try create drawable and set this drawable as background for View component. Bu currently i can create a line with square and I haven&#39;t idea how  change my code to get rounded dots.\r\nBelow  is my code which i create line with Square.\r\n\r\n\r\n```\r\n`&lt;layer-list&gt;\r\n  &lt;item\r\n    android:left = &quot;-600dp&quot;\r\n    android:right = &quot;-600dp&quot;&gt;\r\n     \r\n     &lt;rotate\r\n       android:fromDeegres = &quot;90&quot;\r\n       android:toDeegres = &quot;90&quot;&gt;\r\n\r\n       &lt;shape \r\n         android:share = &quot;line&quot; &gt;\r\n\r\n          &lt;stroke \r\n            android:width = &quot;3dp&quot;\r\n            android:dashWidth = &quot;3dp&quot;\r\n            android:dashGap = &quot;4dp&quot;/&gt;\r\n\r\n        &lt;/shape&gt;\r\n       &lt;/rotate&gt;\r\n    &lt;/item&gt;\r\n&lt;/layer-list&gt;`\r\n```\r\n\r\nI try create this using code above.\r\nAnd I need to create something like this [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eIBPe.jpg","title":"How create a round dotted line in android","body":"<p>i need to create a line with round dots. I try create drawable and set this drawable as background for View component. Bu currently i can create a line with square and I haven't idea how  change my code to get rounded dots.\nBelow  is my code which i create line with Square.</p>\n<pre><code>`&lt;layer-list&gt;\n  &lt;item\n    android:left = &quot;-600dp&quot;\n    android:right = &quot;-600dp&quot;&gt;\n     \n     &lt;rotate\n       android:fromDeegres = &quot;90&quot;\n       android:toDeegres = &quot;90&quot;&gt;\n\n       &lt;shape \n         android:share = &quot;line&quot; &gt;\n\n          &lt;stroke \n            android:width = &quot;3dp&quot;\n            android:dashWidth = &quot;3dp&quot;\n            android:dashGap = &quot;4dp&quot;/&gt;\n\n        &lt;/shape&gt;\n       &lt;/rotate&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;`\n</code></pre>\n<p>I try create this using code above.\nAnd I need to create something like this <a href=\"https://i.stack.imgur.com/eIBPe.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","search","jtable","highlight"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1682578863,"post_id":76117555,"comment_id":134238784,"body_markdown":"by extending the cell renderer for the related columns - see the relevant part of the official tutorial [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html)","body":"by extending the cell renderer for the related columns - see the relevant part of the official tutorial <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1682602597,"post_id":76117555,"comment_id":134244275,"body_markdown":"I realize this is probably just for a school or learning assignment, but… you would be wise to avoid code like `WHERE user_log.username_id = &#39;&quot;+ username +&quot;&#39;&quot;`, which is **very dangerous** and one of the leading causes of sites being hacked.  Ironically, you are already using `prepareStatement`, which is good.  Your query should be `WHERE user_log.username_id = ?` and you should add `pst.setString(1, username);` before executing the query.  This guarantees that even if the username contains SQL statements, they will never be executed.  (Search the web for “SQL injection” to learn more.)","body":"I realize this is probably just for a school or learning assignment, but… you would be wise to avoid code like <code>WHERE user_log.username_id = &#39;&quot;+ username +&quot;&#39;&quot;</code>, which is <b>very dangerous</b> and one of the leading causes of sites being hacked.  Ironically, you are already using <code>prepareStatement</code>, which is good.  Your query should be <code>WHERE user_log.username_id = ?</code> and you should add <code>pst.setString(1, username);</code> before executing the query.  This guarantees that even if the username contains SQL statements, they will never be executed.  (Search the web for “SQL injection” to learn more.)"}],"owner":{"account_id":17489480,"reputation":1,"user_id":12681908,"display_name":"Dora"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682578640,"creation_date":1682578640,"question_id":76117555,"body_markdown":"jdialog which load the user log:\r\n![jdialog which load the user log](https://i.stack.imgur.com/fwrZc.png)\r\n\r\nThis image is after the user search row from a table:\r\n![This image is after the user search row from a table](https://i.stack.imgur.com/ohbGc.png)\r\n\r\nThis image supposedly I want to achieve:\r\n![This image supposedly I want to achieve](https://i.stack.imgur.com/Epeev.png)  I just want to put a highlight the text of a jtable cell whenever the user search a row\r\n\r\n```\r\nThe method below is to load the user log  to a table\r\n\r\nvoid loadUserLog(){\r\n        try {\r\n            dialog.connect();\r\n            query = &quot;SELECT user_log.login_date, user_log.login_time, user_log.logout_time &quot;\r\n                + &quot;FROM user_log WHERE user_log.username_id = &#39;&quot;+ username +&quot;&#39;&quot;;\r\n            pst = dialog.con.prepareStatement(query);\r\n            rs = pst.executeQuery();\r\n            \r\n            while (rs.next()) {\r\n                Object[] userLogData = {rs.getString(&quot;login_date&quot;), rs.getString(&quot;login_time&quot;), rs.getString(&quot;logout_time&quot;)};\r\n                tblUserLogModel = (DefaultTableModel) tblUserLog.getModel();\r\n                tblUserLogModel.addRow(userLogData);\r\n            }\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(this, e);\r\n        }\r\n    }\r\n   \r\n```\r\n\r\n         **The code below is the key release event of textfield**\r\n    \r\n    try {\r\n        dialog.connect();\r\n        // this query will search a row from database that enter the user\r\n        query = &quot;SELECT user_log.login_date, user_log.login_time, user_log.logout_time &quot;\r\n            + &quot;FROM user_log WHERE (user_log.login_date LIKE &#39;&quot;+txtSearch.getText()+&quot;%&#39; OR &quot;\r\n            + &quot;user_log.login_time LIKE &#39;&quot;+txtSearch.getText()+&quot;%&#39; OR user_log.logout_time&quot;\r\n            + &quot; LIKE &#39;&quot;+txtSearch.getText()+&quot;%&#39;) AND user_log.username_id = &#39;&quot;+username+&quot;&#39;&quot;;\r\n        \r\n        pst = dialog.con.prepareStatement(query);\r\n        rs = pst.executeQuery();\r\n        \r\n        if (txtSearch.getText().equals(&quot;&quot;)) {\r\n            tblUserLogModel.setRowCount(0);\r\n            loadUserLog();\r\n        }  \r\n        else{\r\n            tblUserLogModel.setRowCount(0);\r\n            while(rs.next()) {\r\n                Object\\[\\] userLogData = {rs.getString(&quot;login_date&quot;), rs.getString(&quot;login_time&quot;),                    rs.getString(&quot;logout_time&quot;)};\r\n                tblUserLogModel = (DefaultTableModel) tblUserLog.getModel();\r\n                tblUserLogModel.addRow(userLogData);\r\n            }\r\n        }\r\n    \r\n    } catch (Exception e) {\r\n        JOptionPane.showMessageDialog(this, e);\r\n    }\r\n     \r\nHow can I do that using the code above?\r\n\r\nWhen using that code, it will just load the row to jtable if that row has an equal string from the beginning base from the inputted text by the user\r\n\r\n","title":"how to highlight the the text of a jtable cell?","body":"<p>jdialog which load the user log:\n<img src=\"https://i.stack.imgur.com/fwrZc.png\" alt=\"jdialog which load the user log\" /></p>\n<p>This image is after the user search row from a table:\n<img src=\"https://i.stack.imgur.com/ohbGc.png\" alt=\"This image is after the user search row from a table\" /></p>\n<p>This image supposedly I want to achieve:\n<img src=\"https://i.stack.imgur.com/Epeev.png\" alt=\"This image supposedly I want to achieve\" />  I just want to put a highlight the text of a jtable cell whenever the user search a row</p>\n<pre><code>The method below is to load the user log  to a table\n\nvoid loadUserLog(){\n        try {\n            dialog.connect();\n            query = &quot;SELECT user_log.login_date, user_log.login_time, user_log.logout_time &quot;\n                + &quot;FROM user_log WHERE user_log.username_id = '&quot;+ username +&quot;'&quot;;\n            pst = dialog.con.prepareStatement(query);\n            rs = pst.executeQuery();\n            \n            while (rs.next()) {\n                Object[] userLogData = {rs.getString(&quot;login_date&quot;), rs.getString(&quot;login_time&quot;), rs.getString(&quot;logout_time&quot;)};\n                tblUserLogModel = (DefaultTableModel) tblUserLog.getModel();\n                tblUserLogModel.addRow(userLogData);\n            }\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(this, e);\n        }\n    }\n   \n</code></pre>\n<pre><code>     **The code below is the key release event of textfield**\n\ntry {\n    dialog.connect();\n    // this query will search a row from database that enter the user\n    query = &quot;SELECT user_log.login_date, user_log.login_time, user_log.logout_time &quot;\n        + &quot;FROM user_log WHERE (user_log.login_date LIKE '&quot;+txtSearch.getText()+&quot;%' OR &quot;\n        + &quot;user_log.login_time LIKE '&quot;+txtSearch.getText()+&quot;%' OR user_log.logout_time&quot;\n        + &quot; LIKE '&quot;+txtSearch.getText()+&quot;%') AND user_log.username_id = '&quot;+username+&quot;'&quot;;\n    \n    pst = dialog.con.prepareStatement(query);\n    rs = pst.executeQuery();\n    \n    if (txtSearch.getText().equals(&quot;&quot;)) {\n        tblUserLogModel.setRowCount(0);\n        loadUserLog();\n    }  \n    else{\n        tblUserLogModel.setRowCount(0);\n        while(rs.next()) {\n            Object\\[\\] userLogData = {rs.getString(&quot;login_date&quot;), rs.getString(&quot;login_time&quot;),                    rs.getString(&quot;logout_time&quot;)};\n            tblUserLogModel = (DefaultTableModel) tblUserLog.getModel();\n            tblUserLogModel.addRow(userLogData);\n        }\n    }\n\n} catch (Exception e) {\n    JOptionPane.showMessageDialog(this, e);\n}\n \n</code></pre>\n<p>How can I do that using the code above?</p>\n<p>When using that code, it will just load the row to jtable if that row has an equal string from the beginning base from the inputted text by the user</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":28430606,"reputation":11,"user_id":21751319,"display_name":"bruce66623"},"score":0,"creation_date":1682575951,"post_id":76117153,"comment_id":134238201,"body_markdown":"I thought java variable should be declared before assignment. Sorry for being a beginner. I&#39;d appreciate it if you can tell me where i can read the quotes.","body":"I thought java variable should be declared before assignment. Sorry for being a beginner. I&#39;d appreciate it if you can tell me where i can read the quotes."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1682575983,"post_id":76117153,"comment_id":134238211,"body_markdown":"&quot;I thought java variable should be declared before assignment&quot; - that&#39;s only the case for *local* variables.","body":"&quot;I thought java variable should be declared before assignment&quot; - that&#39;s only the case for <i>local</i> variables."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1682576086,"post_id":76117153,"comment_id":134238226,"body_markdown":"@JonSkeet maybe he thinks the static initialize block is executed before the static variables are created, rather than their location in the code","body":"@JonSkeet maybe he thinks the static initialize block is executed before the static variables are created, rather than their location in the code"},{"owner":{"account_id":26930742,"reputation":41,"user_id":20503199,"display_name":"StevenLasagna"},"score":0,"creation_date":1682581959,"post_id":76117153,"comment_id":134239429,"body_markdown":"https://stackoverflow.com/questions/19561332/in-what-order-do-static-blocks-and-initialization-blocks-execute-when-using-inhe this answer will help","body":"<a href=\"https://stackoverflow.com/questions/19561332/in-what-order-do-static-blocks-and-initialization-blocks-execute-when-using-inhe\" title=\"in what order do static blocks and initialization blocks execute when using inhe\">stackoverflow.com/questions/19561332/&hellip;</a> this answer will help"}],"answers":[{"tags":[],"owner":{"account_id":26335795,"reputation":948,"user_id":19995658,"display_name":"Sparkling Marcel "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682575987,"creation_date":1682575987,"answer_id":76117244,"question_id":76117153,"body_markdown":"When in a static block, if a variable has not been declared or initialized, it&#39;s gonna be initialized to the default value of it&#39;s data type.\r\n\r\nHere you are initializing an int `( a = 2 )`, therefore it&#39;s first being initialized as an int with the value 0, and then the value 2 is stored inside.\r\n\r\nAs for why that works that way, well that&#39;s just how the language works","title":"why variables can be assigned before declared in this code?","body":"<p>When in a static block, if a variable has not been declared or initialized, it's gonna be initialized to the default value of it's data type.</p>\n<p>Here you are initializing an int <code>( a = 2 )</code>, therefore it's first being initialized as an int with the value 0, and then the value 2 is stored inside.</p>\n<p>As for why that works that way, well that's just how the language works</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682576560,"creation_date":1682576560,"answer_id":76117305,"question_id":76117153,"body_markdown":"A *local* variable can&#39;t be used earlier (lexicographically) than its declaration.\r\n\r\nThat&#39;s specified in [JLS section 6.3](https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.3)\r\n\r\n&gt; The scope of a local variable declared in a block by a local variable declaration statement (&#167;14.4.2) is the rest of the block, starting with the declaration&#39;s own initializer and including any further declarators to the right in the local variable declaration statement.\r\n\r\nBut that doesn&#39;t apply to fields, whether they&#39;re static or instance fields. Fields are *members*, and as it also says in section 6.3:\r\n\r\n&gt; The scope of a declaration of a member `m` declared in or inherited by a class or interface C (&#167;8.2, &#167;9.2) is the entire body of `C`, including any nested class or interface declarations. If `C` is a record class, then the scope of m additionally includes the header of the record declaration of `C`.","title":"why variables can be assigned before declared in this code?","body":"<p>A <em>local</em> variable can't be used earlier (lexicographically) than its declaration.</p>\n<p>That's specified in <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.3\" rel=\"nofollow noreferrer\">JLS section 6.3</a></p>\n<blockquote>\n<p>The scope of a local variable declared in a block by a local variable declaration statement (§14.4.2) is the rest of the block, starting with the declaration's own initializer and including any further declarators to the right in the local variable declaration statement.</p>\n</blockquote>\n<p>But that doesn't apply to fields, whether they're static or instance fields. Fields are <em>members</em>, and as it also says in section 6.3:</p>\n<blockquote>\n<p>The scope of a declaration of a member <code>m</code> declared in or inherited by a class or interface C (§8.2, §9.2) is the entire body of <code>C</code>, including any nested class or interface declarations. If <code>C</code> is a record class, then the scope of m additionally includes the header of the record declaration of <code>C</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682576677,"creation_date":1682576677,"answer_id":76117326,"question_id":76117153,"body_markdown":"You can see what the scope of any declaration is, by reading [section 6.3][1] of the Java Language Specification.\r\n\r\nIn particular,\r\n\r\n&gt; The scope of a declaration of a member m declared in or inherited by a class or interface `C` is the entire body of `C`, including any nested class or interface declarations.\r\n\r\nSo the scope of `a` is the entire body of `testStatic`. The static initialiser is in the body of `testStatic`, so `a` is ***in scope*** in the body of the static initialiser.\r\n\r\nNo additional restrictions regarding whether `a` is accessible, or whether you can set it applies here, so `a = 2;` compiles.\r\n\r\nIn a sense, this works for the same reason that calling a method before it is declared works:\r\n\r\n```\r\nvoid f() {\r\n    g(); // can call g here!\r\n}\r\n\r\nvoid g() {}\r\n```\r\n\r\nNote that this is different in the case of referring to other static fields in the *field initialiser* of a static field. i.e. this does not compile:\r\n\r\n```\r\nclass Foo {\r\n    static int b = a; // changing this to Foo.a works\r\n    static int a = 0;\r\n}\r\n```\r\n\r\nEven though `a` is in scope in the field initialiser of `b`, this is now allowed in the specification, [section 8.3.3][2]:\r\n\r\n&gt; For a reference by simple name to a class variable f declared in class\r\n&gt; or interface C, it is a compile-time error if:\r\n&gt; \r\n&gt; - The reference appears either in a class variable initializer of C or\r\n&gt; in a static initializer of C (&#167;8.7); and\r\n&gt; \r\n&gt; - The reference appears either in the initializer of f&#39;s own declarator\r\n&gt; or at a point to the left of f&#39;s declarator; and\r\n&gt; \r\n&gt; - The reference is not on the left hand side of an assignment expression\r\n&gt; (&#167;15.26); and\r\n&gt; \r\n&gt; - The innermost class or interface enclosing the reference is C.\r\n\r\nAlso note that the scope of local variables does not include the code before it is declared:\r\n\r\n&gt; The scope of a local variable declared in a block by a local variable declaration statement (&#167;14.4.2) is the rest of the block, starting with the declaration&#39;s own initializer and including any further declarators to the right in the local variable declaration statement.\r\n\r\nNote the wording of &quot;the rest of the block&quot;.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.3\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.3.3","title":"why variables can be assigned before declared in this code?","body":"<p>You can see what the scope of any declaration is, by reading <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.3\" rel=\"nofollow noreferrer\">section 6.3</a> of the Java Language Specification.</p>\n<p>In particular,</p>\n<blockquote>\n<p>The scope of a declaration of a member m declared in or inherited by a class or interface <code>C</code> is the entire body of <code>C</code>, including any nested class or interface declarations.</p>\n</blockquote>\n<p>So the scope of <code>a</code> is the entire body of <code>testStatic</code>. The static initialiser is in the body of <code>testStatic</code>, so <code>a</code> is <em><strong>in scope</strong></em> in the body of the static initialiser.</p>\n<p>No additional restrictions regarding whether <code>a</code> is accessible, or whether you can set it applies here, so <code>a = 2;</code> compiles.</p>\n<p>In a sense, this works for the same reason that calling a method before it is declared works:</p>\n<pre><code>void f() {\n    g(); // can call g here!\n}\n\nvoid g() {}\n</code></pre>\n<p>Note that this is different in the case of referring to other static fields in the <em>field initialiser</em> of a static field. i.e. this does not compile:</p>\n<pre><code>class Foo {\n    static int b = a; // changing this to Foo.a works\n    static int a = 0;\n}\n</code></pre>\n<p>Even though <code>a</code> is in scope in the field initialiser of <code>b</code>, this is now allowed in the specification, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.3.3\" rel=\"nofollow noreferrer\">section 8.3.3</a>:</p>\n<blockquote>\n<p>For a reference by simple name to a class variable f declared in class\nor interface C, it is a compile-time error if:</p>\n<ul>\n<li><p>The reference appears either in a class variable initializer of C or\nin a static initializer of C (§8.7); and</p>\n</li>\n<li><p>The reference appears either in the initializer of f's own declarator\nor at a point to the left of f's declarator; and</p>\n</li>\n<li><p>The reference is not on the left hand side of an assignment expression\n(§15.26); and</p>\n</li>\n<li><p>The innermost class or interface enclosing the reference is C.</p>\n</li>\n</ul>\n</blockquote>\n<p>Also note that the scope of local variables does not include the code before it is declared:</p>\n<blockquote>\n<p>The scope of a local variable declared in a block by a local variable declaration statement (§14.4.2) is the rest of the block, starting with the declaration's own initializer and including any further declarators to the right in the local variable declaration statement.</p>\n</blockquote>\n<p>Note the wording of &quot;the rest of the block&quot;.</p>\n"},{"tags":[],"owner":{"account_id":16289782,"reputation":51,"user_id":11763527,"display_name":"Mihir Sharma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682578463,"creation_date":1682578463,"answer_id":76117534,"question_id":76117153,"body_markdown":"The code you provided does not throw any errors because it correctly initializes the static variable x before it is used in the static block.\r\n\r\n\r\ntechnically possible to initialize a variable in a static block before it is declared, it can make the code harder to understand and maintain. It&#39;s generally recommended to declare and initialize variables in the order they will be used, and to avoid using static blocks unless they are absolutely necessary.","title":"why variables can be assigned before declared in this code?","body":"<p>The code you provided does not throw any errors because it correctly initializes the static variable x before it is used in the static block.</p>\n<p>technically possible to initialize a variable in a static block before it is declared, it can make the code harder to understand and maintain. It's generally recommended to declare and initialize variables in the order they will be used, and to avoid using static blocks unless they are absolutely necessary.</p>\n"}],"owner":{"account_id":28430606,"reputation":11,"user_id":21751319,"display_name":"bruce66623"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1682578463,"creation_date":1682575025,"question_id":76117153,"body_markdown":"```\r\npublic class TestStatic{\r\n  static {a=2;}\r\n  static int a=1;\r\n  static int b=3;\r\n  static {b=4;}\r\n  public static void main(String[] args){\r\n    System.out.println(a);\r\n    System.out.println(b);}\r\n  }\r\n}\r\n```\r\nthe output is  \r\n\r\n```none\r\n1\r\n4\r\n```\r\n\r\nI wonder why the a=2 doesn&#39;t throw an error, for a is not declared yet. \r\n\r\nI understand the initialization order and static block &quot;static {a=2;}&quot; initializes before static variable &quot;static int a=1;&quot;, just can&#39;t figure out the &quot;a=2&quot; part.","title":"why variables can be assigned before declared in this code?","body":"<pre><code>public class TestStatic{\n  static {a=2;}\n  static int a=1;\n  static int b=3;\n  static {b=4;}\n  public static void main(String[] args){\n    System.out.println(a);\n    System.out.println(b);}\n  }\n}\n</code></pre>\n<p>the output is</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n4\n</code></pre>\n<p>I wonder why the a=2 doesn't throw an error, for a is not declared yet.</p>\n<p>I understand the initialization order and static block &quot;static {a=2;}&quot; initializes before static variable &quot;static int a=1;&quot;, just can't figure out the &quot;a=2&quot; part.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648122007,"post_id":71601494,"comment_id":126546735,"body_markdown":"Step back, think about it. The Sort class wants a LIST of strings. You have a single string. So .... why don&#39;t you create a LIST that has that one string inside? And as said, make yourself familiar with the rules and practices of this place, when asking for help with not working code, always provide a [mcve] to us.","body":"Step back, think about it. The Sort class wants a LIST of strings. You have a single string. So .... why don&#39;t you create a LIST that has that one string inside? And as said, make yourself familiar with the rules and practices of this place, when asking for help with not working code, always provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to us."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648121069,"creation_date":1648120741,"answer_id":71601529,"question_id":71601494,"body_markdown":"As compiler suggest error implies that the Java compiler is unable to resolve a value assigned to a variable or returned by a method, because its type is incompatible with the one declared on the variable or method and it can not convert `String` to a `List&lt;String&gt;` i.e\r\n\r\n    private Sort(Sort.Direction direction, List&lt;String&gt; properties)\r\n\r\nInto\r\n\r\n    private Sort(Sort.Direction direction, String properties)","title":"incompatib le types: java.lang.String cannot be converted to java.util.List&lt;java.lang.String&gt;","body":"<p>As compiler suggest error implies that the Java compiler is unable to resolve a value assigned to a variable or returned by a method, because its type is incompatible with the one declared on the variable or method and it can not convert <code>String</code> to a <code>List&lt;String&gt;</code> i.e</p>\n<pre><code>private Sort(Sort.Direction direction, List&lt;String&gt; properties)\n</code></pre>\n<p>Into</p>\n<pre><code>private Sort(Sort.Direction direction, String properties)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648123029,"creation_date":1648123029,"answer_id":71602075,"question_id":71601494,"body_markdown":"The method accepts a List&lt;String&gt; but you are passing a single String.  Wrap that String in a List and it can be passed to the existing method.\r\n\r\n    Sort sort = new Sort(Sort.Direction.DESC, Arrays.asList(MTS_DATE_CREATED_STRING));\r\n\r\nThe method in question is private, which implies that you may have control over the class in which it resides.  In that case, you may add overloaded versions of the method to accept a single String.\r\n\r\n    private Sort(Sort.Direction direction, String property) { ... }\r\n\r\nAnd/or a varargs version that accepts any number of Strings without a collection...\r\n\r\n    private Sort(Sort.Direction direction, String... properties) { ... }\r\n\r\n","title":"incompatib le types: java.lang.String cannot be converted to java.util.List&lt;java.lang.String&gt;","body":"<p>The method accepts a List but you are passing a single String.  Wrap that String in a List and it can be passed to the existing method.</p>\n<pre><code>Sort sort = new Sort(Sort.Direction.DESC, Arrays.asList(MTS_DATE_CREATED_STRING));\n</code></pre>\n<p>The method in question is private, which implies that you may have control over the class in which it resides.  In that case, you may add overloaded versions of the method to accept a single String.</p>\n<pre><code>private Sort(Sort.Direction direction, String property) { ... }\n</code></pre>\n<p>And/or a varargs version that accepts any number of Strings without a collection...</p>\n<pre><code>private Sort(Sort.Direction direction, String... properties) { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":996431,"reputation":1,"user_id":1012238,"display_name":"Safeeque Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682578357,"creation_date":1682267500,"answer_id":76086015,"question_id":71601494,"body_markdown":"Just change from \r\n\r\n    Sort sort = new Sort(Sort.Direction.DESC, Arrays.asList(MTS_DATE_CREATED_STRING));\r\n\r\nTO\r\n\r\n    Sort sort = Sort.by(Sort.Direction.DESC, MTS_DATE_CREATED_STRING);\r\n\r\n","title":"incompatib le types: java.lang.String cannot be converted to java.util.List&lt;java.lang.String&gt;","body":"<p>Just change from</p>\n<pre><code>Sort sort = new Sort(Sort.Direction.DESC, Arrays.asList(MTS_DATE_CREATED_STRING));\n</code></pre>\n<p>TO</p>\n<pre><code>Sort sort = Sort.by(Sort.Direction.DESC, MTS_DATE_CREATED_STRING);\n</code></pre>\n"}],"owner":{"account_id":24672993,"reputation":1,"user_id":18567766,"display_name":"RocksShr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2247,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1682578357,"creation_date":1648120551,"question_id":71601494,"body_markdown":"How do i convert this ?\r\n\r\n    Sort sort = new Sort(Sort.Direction.DESC, MTS_DATE_CREATED_STRING);\r\n    private Sort(Sort.Direction direction, List&lt;String&gt; properties) {       \r\n    }\r\n","title":"incompatib le types: java.lang.String cannot be converted to java.util.List&lt;java.lang.String&gt;","body":"<p>How do i convert this ?</p>\n<pre><code>Sort sort = new Sort(Sort.Direction.DESC, MTS_DATE_CREATED_STRING);\nprivate Sort(Sort.Direction direction, List&lt;String&gt; properties) {       \n}\n</code></pre>\n"},{"tags":["java","maven","benchmarking","project-structure"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1682578242,"post_id":76117447,"comment_id":134238654,"body_markdown":"I don&#39;t know of an established convention, but placing them in the test folder makes sense, if they test the performance of your code - just like other integration/load tests.","body":"I don&#39;t know of an established convention, but placing them in the test folder makes sense, if they test the performance of your code - just like other integration/load tests."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1682578317,"post_id":76117447,"comment_id":134238672,"body_markdown":"I would put them in the test folder. You could consider making the tests fail if performance degrades. You could also put them in a separate module.","body":"I would put them in the test folder. You could consider making the tests fail if performance degrades. You could also put them in a separate module."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1682578575,"post_id":76117447,"comment_id":134238724,"body_markdown":"Do not put anything you do not want in your production artifact inside the `src/main` folder.","body":"Do not put anything you do not want in your production artifact inside the <code>src&#47;main</code> folder."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682578581,"post_id":76117447,"comment_id":134238726,"body_markdown":"I would suggest to make a separate module as already suggested for those benchmarks...","body":"I would suggest to make a separate module as already suggested for those benchmarks..."}],"answers":[{"tags":[],"owner":{"account_id":7976288,"reputation":1639,"user_id":6019358,"display_name":"Bryce Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682578327,"creation_date":1682578327,"answer_id":76117515,"question_id":76117447,"body_markdown":"There is no strict convention on where to put benchmarks in a Maven project, you can just put them in a directory that makes sense for you, I usually just keep them in a &quot;benchmark&quot; or &quot;performance&quot; directory.\r\n\r\nIf you want to keep your benchmarks separate from your main code, you can create a new Maven module within your project specifically for benchmarks.\r\n\r\n\r\nI think keeping benchmarks in the project is a good practice, in case you need to modify or reuse them in the future, and keeping them in the project you can ensure that they are versioned and maintained along with  the codebase.\r\n\r\nBut this can be vary depends on the needs and organization of your project.","title":"Where should the benchmarks be put in a Java (Maven) project?","body":"<p>There is no strict convention on where to put benchmarks in a Maven project, you can just put them in a directory that makes sense for you, I usually just keep them in a &quot;benchmark&quot; or &quot;performance&quot; directory.</p>\n<p>If you want to keep your benchmarks separate from your main code, you can create a new Maven module within your project specifically for benchmarks.</p>\n<p>I think keeping benchmarks in the project is a good practice, in case you need to modify or reuse them in the future, and keeping them in the project you can ensure that they are versioned and maintained along with  the codebase.</p>\n<p>But this can be vary depends on the needs and organization of your project.</p>\n"}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76117515,"answer_count":1,"score":2,"last_activity_date":1682578327,"creation_date":1682577802,"question_id":76117447,"body_markdown":"I have some benchmarks that I would like to keep in the projects because I may modify them and use them again in the future, but I haven&#39;t found anything on where to put them.\r\nIn a Maven project tests have a test directory kept separate from main, but I don&#39;t suppose there&#39;s a benchmark directory.\r\n\r\nAm I even supposed to keep them in the project? \r\nIs there a convention on where to put benchmarks in a Maven project?","title":"Where should the benchmarks be put in a Java (Maven) project?","body":"<p>I have some benchmarks that I would like to keep in the projects because I may modify them and use them again in the future, but I haven't found anything on where to put them.\nIn a Maven project tests have a test directory kept separate from main, but I don't suppose there's a benchmark directory.</p>\n<p>Am I even supposed to keep them in the project?\nIs there a convention on where to put benchmarks in a Maven project?</p>\n"},{"tags":["java","digital-signature","bouncycastle"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1682522538,"post_id":76111994,"comment_id":134230263,"body_markdown":"What is your question? also: why do you access the file with two different paths? `new File(Paths.get(fileDir).getParent().toString(), &quot;/&quot; + &quot;signed.p7s&quot;)` vs. `new File(&quot;signed.p7s&quot;)` Is the signed file closed, before you try to read it again?","body":"What is your question? also: why do you access the file with two different paths? <code>new File(Paths.get(fileDir).getParent().toString(), &quot;&#47;&quot; + &quot;signed.p7s&quot;)</code> vs. <code>new File(&quot;signed.p7s&quot;)</code> Is the signed file closed, before you try to read it again?"},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1682532834,"post_id":76111994,"comment_id":134232814,"body_markdown":"1. I don&#39;t understand, why Signature is not verified. Why signer.verify(newJcaSimpleSignerInfoVerifierBuilder().build(certHolder)) returns false.  2.First part of path is the absolute path (home/data/), second - part is the name of file","body":"1. I don&#39;t understand, why Signature is not verified. Why signer.verify(newJcaSimpleSignerInfoVerifierBuilder().build(&zwnj;&#8203;certHolder)) returns false.  2.First part of path is the absolute path (home/data/), second - part is the name of file"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1682572989,"post_id":76111994,"comment_id":134237793,"body_markdown":"**Unable to reproduce.** If I stitch together the pieces of code you posted, with variable names changed as needed and filenames/paths suitable for my system, verify=true as expected. FYI you don&#39;t need to read and parse the cert separately, it&#39;s in the p12. (Also .p7s is registered for _detached_ signature, not encapsulated, but that doesn&#39;t matter to this code; it _might_ confuse _other_ tools.)","body":"<b>Unable to reproduce.</b> If I stitch together the pieces of code you posted, with variable names changed as needed and filenames/paths suitable for my system, verify=true as expected. FYI you don&#39;t need to read and parse the cert separately, it&#39;s in the p12. (Also .p7s is registered for <i>detached</i> signature, not encapsulated, but that doesn&#39;t matter to this code; it <i>might</i> confuse <i>other</i> tools.)"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1682575172,"post_id":76111994,"comment_id":134238067,"body_markdown":"I understand the difference between path and filename, but for signing you use an absolute path and for verifying the signature you use a relative path, that could lead to the problem that you don&#39;t verify the file that you created on signing. Also please add your question to the main text or the heading, not just leave it in the comments ;)","body":"I understand the difference between path and filename, but for signing you use an absolute path and for verifying the signature you use a relative path, that could lead to the problem that you don&#39;t verify the file that you created on signing. Also please add your question to the main text or the heading, not just leave it in the comments ;)"},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1682595401,"post_id":76111994,"comment_id":134242391,"body_markdown":"The problem was in cer-file. After recreation of test.cer the problem is gone","body":"The problem was in cer-file. After recreation of test.cer the problem is gone"}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682578036,"creation_date":1682519564,"question_id":76111994,"body_markdown":"By using OpenSsl, I generated cert &quot;test.cer&quot; and keystor &quot;test.p12&quot;\r\n\r\nThen the Sertificate created:\r\n\r\n        Security.addProvider(new BouncyCastleProvider());\r\n        CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;, &quot;BC&quot;);\r\n\r\n        X509Certificate certificate = (X509Certificate) certFactory\r\n                .generateCertificate(new FileInputStream(&quot;test.cer&quot;));\r\n\r\nRead source file and generated Private key:\r\n\r\n            byte[] fileContent = Files.readAllBytes(new File(&quot;source.txt&quot;).toPath());\r\n            char[] keystorePassword = &quot;password&quot;.toCharArray();\r\n            char[] keyPassword = &quot;password&quot;.toCharArray();\r\n            KeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            keystore.load(new FileInputStream(&quot;test.p12&quot;), keystorePassword);\r\n            PrivateKey privateKey = (PrivateKey) keystore.getKey(&quot;archive&quot;, keyPassword);\r\n\r\nAnd sign:\r\n\r\n        byte[] signedMessage = null;\r\n        List&lt;X509Certificate&gt; certList = new ArrayList&lt;X509Certificate&gt;();\r\n        CMSTypedData cmsData = new CMSProcessableByteArray(data);\r\n        certList.add(signingCertificate);\r\n        Store certs = new JcaCertStore(certList);\r\n        CMSSignedDataGenerator cmsGenerator = new CMSSignedDataGenerator();\r\n        ContentSigner contentSigner\r\n                = new JcaContentSignerBuilder(&quot;SHA256withRSA&quot;).build(signingKey);\r\n        cmsGenerator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(\r\n                new JcaDigestCalculatorProviderBuilder().setProvider(&quot;BC&quot;)\r\n                        .build()).build(contentSigner, signingCertificate));\r\n        cmsGenerator.addCertificates(certs);\r\n        CMSSignedData cms = cmsGenerator.generate(cmsData, true);\r\n        byte[] signedMessage = cms.getEncoded();\r\n\r\nsignedMessage I write to file with extension .p7s :\r\n\r\n        File targetFile = new File(Paths.get(fileDir).getParent().toString(), &quot;/&quot; + &quot;signed.p7s&quot;);\r\n        targetFile.createNewFile();\r\n        Files.write(Paths.get(targetFile.getAbsolutePath()), signedMessage);\r\n\r\nAnd then, when I&#39;m trying to verify signature I receive false-result. This is how verification realised:\r\n\r\n       byte[] signedData = Files.readAllBytes(new File(&quot;signed.p7s&quot;).toPath());\r\n        ByteArrayInputStream bIn = new ByteArrayInputStream(signedData);\r\n        ASN1InputStream aIn = new ASN1InputStream(bIn);\r\n        CMSSignedData s = new CMSSignedData(ContentInfo.getInstance(aIn.readObject()));\r\n        aIn.close();\r\n        bIn.close();\r\n        Store certs = s.getCertificates();\r\n        SignerInformationStore signers = s.getSignerInfos();\r\n        Collection&lt;SignerInformation&gt; c = signers.getSigners();\r\n        SignerInformation signer = c.iterator().next();\r\n        Collection&lt;X509CertificateHolder&gt; certCollection = certs.getMatches(signer.getSID());\r\n        Iterator&lt;X509CertificateHolder&gt; certIt = certCollection.iterator();\r\n        X509CertificateHolder certHolder = certIt.next();\r\n        boolean verifResult = signer.verify(newJcaSimpleSignerInfoVerifierBuilder().build(certHolder));\r\n\r\nIn {JAVA_HOME}/lib/security  I preliminarily extract local_policy.jar\r\n\r\n I don&#39;t understand, why Signature is not verified. Why signer.verify(newJcaSimpleSignerInfoVerifierBuilder().build(certHolder)) returns false\r\n      \r\n        \r\n\r\n           \r\n\r\n","title":"Verify signature by Bouncy Castle with Java","body":"<p>By using OpenSsl, I generated cert &quot;test.cer&quot; and keystor &quot;test.p12&quot;</p>\n<p>Then the Sertificate created:</p>\n<pre><code>    Security.addProvider(new BouncyCastleProvider());\n    CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;, &quot;BC&quot;);\n\n    X509Certificate certificate = (X509Certificate) certFactory\n            .generateCertificate(new FileInputStream(&quot;test.cer&quot;));\n</code></pre>\n<p>Read source file and generated Private key:</p>\n<pre><code>        byte[] fileContent = Files.readAllBytes(new File(&quot;source.txt&quot;).toPath());\n        char[] keystorePassword = &quot;password&quot;.toCharArray();\n        char[] keyPassword = &quot;password&quot;.toCharArray();\n        KeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);\n        keystore.load(new FileInputStream(&quot;test.p12&quot;), keystorePassword);\n        PrivateKey privateKey = (PrivateKey) keystore.getKey(&quot;archive&quot;, keyPassword);\n</code></pre>\n<p>And sign:</p>\n<pre><code>    byte[] signedMessage = null;\n    List&lt;X509Certificate&gt; certList = new ArrayList&lt;X509Certificate&gt;();\n    CMSTypedData cmsData = new CMSProcessableByteArray(data);\n    certList.add(signingCertificate);\n    Store certs = new JcaCertStore(certList);\n    CMSSignedDataGenerator cmsGenerator = new CMSSignedDataGenerator();\n    ContentSigner contentSigner\n            = new JcaContentSignerBuilder(&quot;SHA256withRSA&quot;).build(signingKey);\n    cmsGenerator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(\n            new JcaDigestCalculatorProviderBuilder().setProvider(&quot;BC&quot;)\n                    .build()).build(contentSigner, signingCertificate));\n    cmsGenerator.addCertificates(certs);\n    CMSSignedData cms = cmsGenerator.generate(cmsData, true);\n    byte[] signedMessage = cms.getEncoded();\n</code></pre>\n<p>signedMessage I write to file with extension .p7s :</p>\n<pre><code>    File targetFile = new File(Paths.get(fileDir).getParent().toString(), &quot;/&quot; + &quot;signed.p7s&quot;);\n    targetFile.createNewFile();\n    Files.write(Paths.get(targetFile.getAbsolutePath()), signedMessage);\n</code></pre>\n<p>And then, when I'm trying to verify signature I receive false-result. This is how verification realised:</p>\n<pre><code>   byte[] signedData = Files.readAllBytes(new File(&quot;signed.p7s&quot;).toPath());\n    ByteArrayInputStream bIn = new ByteArrayInputStream(signedData);\n    ASN1InputStream aIn = new ASN1InputStream(bIn);\n    CMSSignedData s = new CMSSignedData(ContentInfo.getInstance(aIn.readObject()));\n    aIn.close();\n    bIn.close();\n    Store certs = s.getCertificates();\n    SignerInformationStore signers = s.getSignerInfos();\n    Collection&lt;SignerInformation&gt; c = signers.getSigners();\n    SignerInformation signer = c.iterator().next();\n    Collection&lt;X509CertificateHolder&gt; certCollection = certs.getMatches(signer.getSID());\n    Iterator&lt;X509CertificateHolder&gt; certIt = certCollection.iterator();\n    X509CertificateHolder certHolder = certIt.next();\n    boolean verifResult = signer.verify(newJcaSimpleSignerInfoVerifierBuilder().build(certHolder));\n</code></pre>\n<p>In {JAVA_HOME}/lib/security  I preliminarily extract local_policy.jar</p>\n<p>I don't understand, why Signature is not verified. Why signer.verify(newJcaSimpleSignerInfoVerifierBuilder().build(certHolder)) returns false</p>\n"},{"tags":["java","java-8","migration","tomcat10"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682577678,"post_id":76117390,"comment_id":134238534,"body_markdown":"At a glance, it looks like you are mixing old `javax.*` technologies with `jakarta.*` technologies. Are you aware of the Oracle Java EE to Eclipse Jakarta EE transition?","body":"At a glance, it looks like you are mixing old <code>javax.*</code> technologies with <code>jakarta.*</code> technologies. Are you aware of the Oracle Java EE to Eclipse Jakarta EE transition?"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1682578651,"post_id":76117390,"comment_id":134238735,"body_markdown":"yes i have converted most of the javax dependency to jakarta and such changes been done in the code as well","body":"yes i have converted most of the javax dependency to jakarta and such changes been done in the code as well"}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682577198,"creation_date":1682577198,"question_id":76117390,"body_markdown":"Unable to compile the code below is the pom. \r\nAlso, it will be really appreciated if you can suggest any dependency version updates.\r\nalso, i&#39;m upgrading MySQL from 5.1.3 to 8.0.31.\r\nThere are also child project for this but I belive for those i can resolve the issues later by copying the depency if required. The error is happening in the parent project\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;name&gt;xyz&lt;/name&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.5.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;spring.version&gt;3.0.5.RELEASE&lt;/spring.version&gt;\r\n    \t\t&lt;aspectj.version&gt;1.8&lt;/aspectj.version&gt;\r\n    \t\t&lt;slf4j.version&gt;1.6.1&lt;/slf4j.version&gt;\r\n    \t\t&lt;ehcache-core.version&gt;2.4.2&lt;/ehcache-core.version&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;spring-security.version&gt;3.0.5.RELEASE&lt;/spring-security.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;Springframework milestone&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-maven-release&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Maven Release Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://maven.springframework.org/release&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-maven-milestone&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Maven Milestone Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-roo-repository&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Roo Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://spring-roo-repository.springsource.org/release&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;JBoss Repo&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases&lt;/url&gt;\r\n    \t\t\t&lt;name&gt;JBoss Repo&lt;/name&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-maven-release&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Maven Release Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://maven.springframework.org/release&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-maven-milestone&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Maven Milestone Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-roo-repository&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Roo Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://spring-roo-repository.springsource.org/release&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-acl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.8.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.16&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8.10&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;$1.8.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8.10&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sf.flexjson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flexjson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Spring dependencies --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0.M2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.6.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.4.16.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-search&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.4.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.6.1.Final&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;cglib&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.0.Final&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;cglib&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.transaction&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.transaction-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-pool&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.5.4&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-pool&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;xerces&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;xerces&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;xerces&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;ehcache-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${ehcache-core.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.31&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;bouncycastle&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;140&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.11.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.14.0&lt;/version&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;!-- NB: You must use Maven 2.0.9 or above or these are ignored (see \r\n    \t\t\t\t\t\tMNG-2972) --&gt;\r\n    \t\t\t\t\t&lt;!--&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;--&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;1.8.10&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;outxml&gt;true&lt;/outxml&gt;\r\n    \t\t\t\t\t&lt;aspectLibraries&gt;\r\n    \t\t\t\t\t\t&lt;aspectLibrary&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/aspectLibrary&gt;\r\n    \t\t\t\t\t&lt;/aspectLibraries&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;printSummary&gt;false&lt;/printSummary&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;!-- IDE --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.7&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n    \t\t\t\t\t&lt;downloadJavadocs&gt;false&lt;/downloadJavadocs&gt;\r\n    \t\t\t\t\t&lt;wtpversion&gt;2.0&lt;/wtpversion&gt;\r\n    \t\t\t\t\t&lt;additionalBuildcommands&gt;\r\n    \t\t\t\t\t\t&lt;buildCommand&gt;\r\n    \t\t\t\t\t\t\t&lt;name&gt;org.eclipse.ajdt.core.ajbuilder&lt;/name&gt;\r\n    \t\t\t\t\t\t\t&lt;arguments&gt;\r\n    \t\t\t\t\t\t\t\t&lt;aspectPath&gt;org.springframework.aspects&lt;/aspectPath&gt;\r\n    \t\t\t\t\t\t\t&lt;/arguments&gt;\r\n    \t\t\t\t\t\t&lt;/buildCommand&gt;\r\n    \t\t\t\t\t\t&lt;buildCommand&gt;\r\n    \t\t\t\t\t\t\t&lt;name&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/name&gt;\r\n    \t\t\t\t\t\t&lt;/buildCommand&gt;\r\n    \t\t\t\t\t&lt;/additionalBuildcommands&gt;\r\n    \t\t\t\t\t&lt;additionalProjectnatures&gt;\r\n    \t\t\t\t\t\t&lt;projectnature&gt;org.eclipse.ajdt.ui.ajnature&lt;/projectnature&gt;\r\n    \t\t\t\t\t\t&lt;projectnature&gt;org. spring framework.ide.eclipse.core.springnature&lt;/projectnature&gt;\r\n    \t\t\t\t\t&lt;/additionalProjectnatures&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt; \r\n\r\nerror that i&#39;m getting\r\n\r\n    [\u001B[1;31mERROR\u001B[m] Failed to execute goal \u001B[32morg.codehaus.mojo:aspectj-maven-plugin:1.14.0:compile\u001B[m \u001B[1m(default)\u001B[m on project \u001B[\u001B[m: \u001B[1;31mExecution default of goal org.codehaus.mojo:aspectj-maven-plugin:1.14.0:compile failed: Plugin org.codehaus.mojo:aspectj-maven-plugin:1.14.0 or one of its dependencies could not be resolved: Failed to collect dependencies at org.codehaus.mojo:aspectj-maven-plugin:jar:1.14.0 -&gt; org.aspectj:aspectjtools:jar:1.8\u001B[m: Failed to read artifact descriptor for org.aspectj:aspectjtools:jar:1.8: Could not transfer artifact org.aspectj:aspectjtools:pom:1.8 from/to spring-maven-release (http://maven.springframework.org/release): maven.springframework.org: Unknown host maven.springframework.org -&gt; \u001B[1m[Help 1]\u001B[m\r\n    [\u001B[1;31mERROR\u001B[m] \r\n    [\u001B[1;31mERROR\u001B[m] To see the full stack trace of the errors, re-run Maven with the \u001B[1m-e\u001B[m switch.\r\n    [\u001B[1;31mERROR\u001B[m] Re-run Maven using the \u001B[1m-X\u001B[m switch to enable full debug logging.\r\n    [\u001B[1;31mERROR\u001B[m] \r\n    [\u001B[1;31mERROR\u001B[m] For more information about the errors and possible solutions, please read the following articles:\r\n    [\u001B[1;31mERROR\u001B[m] \u001B[1m[Help 1]\u001B[m http://cwiki.apache.org/confluence/display/MAVEN/PluginResolutionException","title":"pom.xml issues not able to upgrade from jdk 7 and tomcat 7 to jdk 8 and tomcat 10","body":"<p>Unable to compile the code below is the pom.\nAlso, it will be really appreciated if you can suggest any dependency version updates.\nalso, i'm upgrading MySQL from 5.1.3 to 8.0.31.\nThere are also child project for this but I belive for those i can resolve the issues later by copying the depency if required. The error is happening in the parent project</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;xyz&lt;/name&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n                &lt;version&gt;3.0.5.RELEASE&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;properties&gt;\n        &lt;spring.version&gt;3.0.5.RELEASE&lt;/spring.version&gt;\n        &lt;aspectj.version&gt;1.8&lt;/aspectj.version&gt;\n        &lt;slf4j.version&gt;1.6.1&lt;/slf4j.version&gt;\n        &lt;ehcache-core.version&gt;2.4.2&lt;/ehcache-core.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;spring-security.version&gt;3.0.5.RELEASE&lt;/spring-security.version&gt;\n    &lt;/properties&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Springframework milestone&lt;/id&gt;\n            &lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-maven-release&lt;/id&gt;\n            &lt;name&gt;Spring Maven Release Repository&lt;/name&gt;\n            &lt;url&gt;http://maven.springframework.org/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-maven-milestone&lt;/id&gt;\n            &lt;name&gt;Spring Maven Milestone Repository&lt;/name&gt;\n            &lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-roo-repository&lt;/id&gt;\n            &lt;name&gt;Spring Roo Repository&lt;/name&gt;\n            &lt;url&gt;http://spring-roo-repository.springsource.org/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;JBoss Repo&lt;/id&gt;\n            &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases&lt;/url&gt;\n            &lt;name&gt;JBoss Repo&lt;/name&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-maven-release&lt;/id&gt;\n            &lt;name&gt;Spring Maven Release Repository&lt;/name&gt;\n            &lt;url&gt;http://maven.springframework.org/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-maven-milestone&lt;/id&gt;\n            &lt;name&gt;Spring Maven Milestone Repository&lt;/name&gt;\n            &lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-roo-repository&lt;/id&gt;\n            &lt;name&gt;Spring Roo Repository&lt;/name&gt;\n            &lt;url&gt;http://spring-roo-repository.springsource.org/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;updatePolicy&gt;false&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-acl&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n            &lt;version&gt;1.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;1.8.10&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;$1.8.0&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;1.8.10&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.flexjson&lt;/groupId&gt;\n            &lt;artifactId&gt;flexjson&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.M2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;3.6.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.16.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-search&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;3.6.1.Final&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;cglib&lt;/groupId&gt;\n                    &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;dom4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0.Final&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n                    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\n            &lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n            &lt;artifactId&gt;jta&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.transaction&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.transaction-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n            &lt;version&gt;1.5.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xerces&lt;/groupId&gt;\n                    &lt;artifactId&gt;xerces&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xerces&lt;/groupId&gt;\n                    &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n                    &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache-core&lt;/artifactId&gt;\n            &lt;version&gt;${ehcache-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.3&lt;/version&gt;\n    &lt;/dependency&gt;--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.31&lt;/version&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\n            &lt;version&gt;140&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.14.0&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;!-- NB: You must use Maven 2.0.9 or above or these are ignored (see \n                        MNG-2972) --&gt;\n                    &lt;!--&lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;--&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n                        &lt;version&gt;1.8.10&lt;/version&gt;\n                        &lt;scope&gt;runtime&lt;/scope&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;outxml&gt;true&lt;/outxml&gt;\n                    &lt;aspectLibraries&gt;\n                        &lt;aspectLibrary&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n                        &lt;/aspectLibrary&gt;\n                    &lt;/aspectLibraries&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;printSummary&gt;false&lt;/printSummary&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- IDE --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;downloadJavadocs&gt;false&lt;/downloadJavadocs&gt;\n                    &lt;wtpversion&gt;2.0&lt;/wtpversion&gt;\n                    &lt;additionalBuildcommands&gt;\n                        &lt;buildCommand&gt;\n                            &lt;name&gt;org.eclipse.ajdt.core.ajbuilder&lt;/name&gt;\n                            &lt;arguments&gt;\n                                &lt;aspectPath&gt;org.springframework.aspects&lt;/aspectPath&gt;\n                            &lt;/arguments&gt;\n                        &lt;/buildCommand&gt;\n                        &lt;buildCommand&gt;\n                            &lt;name&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/name&gt;\n                        &lt;/buildCommand&gt;\n                    &lt;/additionalBuildcommands&gt;\n                    &lt;additionalProjectnatures&gt;\n                        &lt;projectnature&gt;org.eclipse.ajdt.ui.ajnature&lt;/projectnature&gt;\n                        &lt;projectnature&gt;org. spring framework.ide.eclipse.core.springnature&lt;/projectnature&gt;\n                    &lt;/additionalProjectnatures&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt; \n</code></pre>\n<p>error that i'm getting</p>\n<pre><code>[[1;31mERROR[m] Failed to execute goal [32morg.codehaus.mojo:aspectj-maven-plugin:1.14.0:compile[m [1m(default)[m on project [[m: [1;31mExecution default of goal org.codehaus.mojo:aspectj-maven-plugin:1.14.0:compile failed: Plugin org.codehaus.mojo:aspectj-maven-plugin:1.14.0 or one of its dependencies could not be resolved: Failed to collect dependencies at org.codehaus.mojo:aspectj-maven-plugin:jar:1.14.0 -&gt; org.aspectj:aspectjtools:jar:1.8[m: Failed to read artifact descriptor for org.aspectj:aspectjtools:jar:1.8: Could not transfer artifact org.aspectj:aspectjtools:pom:1.8 from/to spring-maven-release (http://maven.springframework.org/release): maven.springframework.org: Unknown host maven.springframework.org -&gt; [1m[Help 1][m\n[[1;31mERROR[m] \n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n[[1;31mERROR[m] \n[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/PluginResolutionException\n</code></pre>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1306868122,"post_id":6191387,"comment_id":7203940,"body_markdown":"your `add()` implementation is broken.  you need to handle the results of `putIfAbsent()` correctly (otherwise you may add to the wrong list).","body":"your <code>add()</code> implementation is broken.  you need to handle the results of <code>putIfAbsent()</code> correctly (otherwise you may add to the wrong list)."},{"owner":{"account_id":41346,"reputation":1878,"user_id":120102,"accept_rate":80,"display_name":"Cameron"},"score":0,"creation_date":1306868437,"post_id":6191387,"comment_id":7204025,"body_markdown":"@jtahlborn Are you saying I need to call add() on the the List that  putIfAbsent() returns? If so, I disagree. putIfAbsent() returns whatever was **previously** associated with that key, which would be the wrong list. Right?","body":"@jtahlborn Are you saying I need to call add() on the the List that  putIfAbsent() returns? If so, I disagree. putIfAbsent() returns whatever was <b>previously</b> associated with that key, which would be the wrong list. Right?"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":1,"creation_date":1306869152,"post_id":6191387,"comment_id":7204232,"body_markdown":"please re-read the documentation on the `putIfAbsent()` method (note the name of the method for that matter).","body":"please re-read the documentation on the <code>putIfAbsent()</code> method (note the name of the method for that matter)."},{"owner":{"account_id":41346,"reputation":1878,"user_id":120102,"accept_rate":80,"display_name":"Cameron"},"score":0,"creation_date":1306870872,"post_id":6191387,"comment_id":7204690,"body_markdown":"I think I see what you mean now and have edited the add().  Is that the correct way to handle it?","body":"I think I see what you mean now and have edited the add().  Is that the correct way to handle it?"}],"answers":[{"tags":[],"owner":{"account_id":396294,"reputation":7040,"user_id":759762,"accept_rate":86,"display_name":"RMT"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1306864349,"creation_date":1306864003,"answer_id":6191422,"question_id":6191387,"body_markdown":"If the Map is already thread safe, then I think syncronizing the listToSearch should work. Im not 100% but I think it should work\r\n\r\n    synchronized(listToSearch)\r\n    {\r\n    \r\n    }","title":"Java concurrency with a Map of Lists","body":"<p>If the Map is already thread safe, then I think syncronizing the listToSearch should work. Im not 100% but I think it should work</p>\n\n<pre><code>synchronized(listToSearch)\n{\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195556,"reputation":6174,"user_id":438512,"display_name":"Spike Gronim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306864179,"creation_date":1306864179,"answer_id":6191457,"question_id":6191387,"body_markdown":"You can synchronize on listToSearch (&quot;synchronized(listToSearch) {...}&quot;). Make sure that there is no race condition creating the lists (use innerListStore.putIfAbsent to create them).","title":"Java concurrency with a Map of Lists","body":"<p>You can synchronize on listToSearch (\"synchronized(listToSearch) {...}\"). Make sure that there is no race condition creating the lists (use innerListStore.putIfAbsent to create them).</p>\n"},{"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1306864339,"creation_date":1306864339,"answer_id":6191483,"question_id":6191387,"body_markdown":"if the lists stored in the map are of the type that don&#39;t throw CME ([CopyOnWriteArrayList][1] for example) you can iterate at will\r\n\r\nthis can introduce some races though if you&#39;re not careful\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/CopyOnWriteArrayList.html","title":"Java concurrency with a Map of Lists","body":"<p>if the lists stored in the map are of the type that don't throw CME (<a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/CopyOnWriteArrayList.html\" rel=\"nofollow\">CopyOnWriteArrayList</a> for example) you can iterate at will</p>\n\n<p>this can introduce some races though if you're not careful</p>\n"},{"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1306864698,"creation_date":1306864354,"answer_id":6191486,"question_id":6191387,"body_markdown":"You could synchronize on just listToSearch, there&#39;s no reason to lock the entire map any time anyone is using just one entry.\r\n\r\nJust remember though, that you need to synchronize on the list everywhere it is modified!  Synchronizing the iterator doesn&#39;t automagically block other people from doing an add() or whatnot if you passed out to them references to the unsynchronized list.\r\n\r\nIt would be safest to just store synchronized lists in the Map and then lock on them when you iterate, and also document when you return a reference to the list that the user must sycnhronize on it if they iterate.  Synchronization is pretty cheap in modern JVMs when no actual contention is happening.  Of course if you never let a reference to one of the lists escape your class, you can handle it internally with a finer comb.\r\n\r\nAlternately you can use a threadsafe list such as CopyOnWriteArrayList that uses snapshot iterators.  What kind of point in time consistency you need is a design decision we can&#39;t make for you.  The [javadoc][1] also includes a helpful discussion of performance characteristics.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/CopyOnWriteArrayList.html","title":"Java concurrency with a Map of Lists","body":"<p>You could synchronize on just listToSearch, there's no reason to lock the entire map any time anyone is using just one entry.</p>\n\n<p>Just remember though, that you need to synchronize on the list everywhere it is modified!  Synchronizing the iterator doesn't automagically block other people from doing an add() or whatnot if you passed out to them references to the unsynchronized list.</p>\n\n<p>It would be safest to just store synchronized lists in the Map and then lock on them when you iterate, and also document when you return a reference to the list that the user must sycnhronize on it if they iterate.  Synchronization is pretty cheap in modern JVMs when no actual contention is happening.  Of course if you never let a reference to one of the lists escape your class, you can handle it internally with a finer comb.</p>\n\n<p>Alternately you can use a threadsafe list such as CopyOnWriteArrayList that uses snapshot iterators.  What kind of point in time consistency you need is a design decision we can't make for you.  The <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/CopyOnWriteArrayList.html\" rel=\"nofollow\">javadoc</a> also includes a helpful discussion of performance characteristics.</p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306865909,"creation_date":1306865909,"answer_id":6191754,"question_id":6191387,"body_markdown":"&gt; It would seem that I need to synchronize the entire contents of this method because if another method changed the contents of the list at innerListStore.get(listName) while this method is iterating over it, a ConcurrentModificationException would be thrown.\r\n\r\nAre other threads accessing the List itself, or only though operations exposed by `ListStore`?\r\n\r\nWill operations invoked by other threads result in the contents of the a List stored in the Map being changed? Or will entries only be added/removed from the Map?\r\n\r\nYou would only need to synchronize access to the List stored within the Map if different threads can result in changes to the same List instances. If the threads are only allowed to add/remove List instances from the Map (i.e. change the structure of the Map), then synchronization is not necessary.","title":"Java concurrency with a Map of Lists","body":"<blockquote>\n  <p>It would seem that I need to synchronize the entire contents of this method because if another method changed the contents of the list at innerListStore.get(listName) while this method is iterating over it, a ConcurrentModificationException would be thrown.</p>\n</blockquote>\n\n<p>Are other threads accessing the List itself, or only though operations exposed by <code>ListStore</code>?</p>\n\n<p>Will operations invoked by other threads result in the contents of the a List stored in the Map being changed? Or will entries only be added/removed from the Map?</p>\n\n<p>You would only need to synchronize access to the List stored within the Map if different threads can result in changes to the same List instances. If the threads are only allowed to add/remove List instances from the Map (i.e. change the structure of the Map), then synchronization is not necessary.</p>\n"},{"tags":[],"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306867273,"creation_date":1306867273,"answer_id":6192010,"question_id":6191387,"body_markdown":"You could use another abstraction from [Guava][1]\r\n\r\nNote that this will synchronize on the whole map, so it might be not that useful for you.\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/Multimaps.html#synchronizedListMultimap%28com.google.common.collect.ListMultimap%29","title":"Java concurrency with a Map of Lists","body":"<p>You could use another abstraction from <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/Multimaps.html#synchronizedListMultimap%28com.google.common.collect.ListMultimap%29\" rel=\"nofollow\">Guava</a></p>\n\n<p>Note that this will synchronize on the whole map, so it might be not that useful for you.</p>\n"},{"tags":[],"owner":{"account_id":72889,"reputation":4696,"user_id":210216,"display_name":"Jed Wesley-Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306883457,"creation_date":1306883457,"answer_id":6194590,"question_id":6191387,"body_markdown":"As you haven&#39;t provided any client for the map of lists apart from the `boolean listEntryExists(String listName, String listEntry)` method, I wonder why you are storing lists at all? This structure seems to be more naturally a `Map&lt;String, Set&lt;String&gt;&gt;` and the `listEntryExists` should use the `contains` method (available on `List` as well, but O(n) to the size of the list):\r\n\r\n    public boolean listEntryExists(String name, String entry) {\r\n      SetString&gt; set = map.get(name);\r\n      return (set == null) ? false : set.contains(entry;\r\n    }\r\n\r\nNow, the contains call can encapsulate whatever internal concurrency protocol you want it to.\r\n\r\nFor the `add` you can either use a synchronized wrapper (simple, but maybe slow) or if writes are infrequent compared to reads, utilise `ConcurrentMap.replace` to implement your own copy-on-write strategy. For instance, using Guava `ImmutableSet`:\r\n\r\n    public boolean add(String name, String entry) {\r\n      while(true) {\r\n        SetString&gt; set = map.get(name);\r\n        if (set == null) {\r\n          if (map.putIfAbsent(name, ImmutableSet.of(entry))\r\n            return true\r\n          continue;\r\n        }\r\n        if (set.contains(entry)\r\n          return false; // no need to change, already exists\r\n        Set&lt;String&gt; newSet = ImmutableSet.copyOf(Iterables.concat(set, ImmutableSet.of(entry))        \r\n        if (map.replace(name, set, newSet)\r\n          return true;\r\n      }\r\n    }\r\n\r\nThis is now an entirely thread-safe _lock-free_ structure, where concurrent readers and writers will not block each other (modulo the lock-freeness of the underlying ConcurrentMap implementation). This implementation does have an O(n) in its write, where your original implementation was O9n) in the read. Again if you are read-mostly rather than write-mostly this could be a big win.","title":"Java concurrency with a Map of Lists","body":"<p>As you haven't provided any client for the map of lists apart from the <code>boolean listEntryExists(String listName, String listEntry)</code> method, I wonder why you are storing lists at all? This structure seems to be more naturally a <code>Map&lt;String, Set&lt;String&gt;&gt;</code> and the <code>listEntryExists</code> should use the <code>contains</code> method (available on <code>List</code> as well, but O(n) to the size of the list):</p>\n\n<pre><code>public boolean listEntryExists(String name, String entry) {\n  SetString&gt; set = map.get(name);\n  return (set == null) ? false : set.contains(entry;\n}\n</code></pre>\n\n<p>Now, the contains call can encapsulate whatever internal concurrency protocol you want it to.</p>\n\n<p>For the <code>add</code> you can either use a synchronized wrapper (simple, but maybe slow) or if writes are infrequent compared to reads, utilise <code>ConcurrentMap.replace</code> to implement your own copy-on-write strategy. For instance, using Guava <code>ImmutableSet</code>:</p>\n\n<pre><code>public boolean add(String name, String entry) {\n  while(true) {\n    SetString&gt; set = map.get(name);\n    if (set == null) {\n      if (map.putIfAbsent(name, ImmutableSet.of(entry))\n        return true\n      continue;\n    }\n    if (set.contains(entry)\n      return false; // no need to change, already exists\n    Set&lt;String&gt; newSet = ImmutableSet.copyOf(Iterables.concat(set, ImmutableSet.of(entry))        \n    if (map.replace(name, set, newSet)\n      return true;\n  }\n}\n</code></pre>\n\n<p>This is now an entirely thread-safe <em>lock-free</em> structure, where concurrent readers and writers will not block each other (modulo the lock-freeness of the underlying ConcurrentMap implementation). This implementation does have an O(n) in its write, where your original implementation was O9n) in the read. Again if you are read-mostly rather than write-mostly this could be a big win.</p>\n"},{"tags":[],"owner":{"account_id":25153425,"reputation":41,"user_id":18998510,"display_name":"wromma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682577084,"creation_date":1682577084,"answer_id":76117379,"question_id":6191387,"body_markdown":"It can be done with less coding.\r\nHere is an example, it is part of the concurrency stress test Jcstress\r\n[enter link description here][1]\r\n\r\n    void add(String key, String val) {\r\n         List&lt;String&gt; list = map.computeIfAbsent(key,\r\n                        k -&gt; Collections.synchronizedList(new ArrayList&lt;&gt;()));\r\n         list.add(val);\r\n    }\r\n\r\n  [1]: https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/primitives/library/Library_01_CHM.java","title":"Java concurrency with a Map of Lists","body":"<p>It can be done with less coding.\nHere is an example, it is part of the concurrency stress test Jcstress\n<a href=\"https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/primitives/library/Library_01_CHM.java\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n<pre><code>void add(String key, String val) {\n     List&lt;String&gt; list = map.computeIfAbsent(key,\n                    k -&gt; Collections.synchronizedList(new ArrayList&lt;&gt;()));\n     list.add(val);\n}\n</code></pre>\n"}],"owner":{"account_id":41346,"reputation":1878,"user_id":120102,"accept_rate":80,"display_name":"Cameron"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4144,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6191486,"answer_count":8,"score":3,"last_activity_date":1682577084,"creation_date":1306863817,"question_id":6191387,"body_markdown":"I have a java class that is accessed by a lot of threads at once and want to make sure it is thread safe.  The class has one private field, which is a Map of Strings to Lists of Strings.  I&#39;ve implemented the Map as a ConcurrentHashMap to ensure gets and puts are thread safe:\r\n\r\n    public class ListStore {\r\n\r\n      private Map&lt;String, List&lt;String&gt;&gt; innerListStore;\r\n      \r\n      public ListStore() {\r\n        innerListStore = new ConcurrentHashMap&lt;String, List&lt;String&gt;&gt;();\r\n      }\r\n      ...\r\n    }\r\n\r\nSo given that gets and puts to the Map are thread safe, my concern is with the lists that are stored in the Map.  For instance, consider the following method that checks if a given entry exists in a given list in the store (I&#39;ve omitted error checking for brevity):\r\n\r\n    public boolean listEntryExists(String listName, String listEntry) {\r\n\r\n      List&lt;String&gt; listToSearch = innerListStore.get(listName);\r\n\r\n      for (String entryName : listToSearch) {\r\n        if(entryName.equals(listEntry)) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\nIt would seem that I need to synchronize the entire contents of this method because if another method changed the contents of the list at innerListStore.get(listName) while this method is iterating over it, a ConcurrentModificationException would be thrown.  \r\n\r\nIs that correct and if so, do I synchronize on innerListStore or would synchronizing on the local listToSearch variable work?\r\n\r\nUPDATE: Thanks for the responses.  It sounds like I can synchronize on the list itself. For more information, here is the add() method, which can be running at the same time the listEntryExists() method is running in another thread:\r\n\r\n    public void add(String listName, String entryName) {\r\n\r\n      List&lt;String&gt; addTo = innerListStore.get(listName);\r\n      if (addTo == null) {\r\n        addTo = Collections.synchronizedList(new ArrayList&lt;String&gt;());\r\n        List&lt;String&gt; added = innerListStore.putIfAbsent(listName, addTo);\r\n        if (added != null) {\r\n          addTo = added;\r\n        }\r\n      }\r\n\r\n      addTo.add(entryName);\r\n    }\r\n\r\nIf this is the only method that modifies the underlying lists stored in the map and no public methods return references to the map or entries in the map, can I synchronize iteration on the lists themselves and is this implementation of add() sufficient?","title":"Java concurrency with a Map of Lists","body":"<p>I have a java class that is accessed by a lot of threads at once and want to make sure it is thread safe.  The class has one private field, which is a Map of Strings to Lists of Strings.  I've implemented the Map as a ConcurrentHashMap to ensure gets and puts are thread safe:</p>\n\n<pre><code>public class ListStore {\n\n  private Map&lt;String, List&lt;String&gt;&gt; innerListStore;\n\n  public ListStore() {\n    innerListStore = new ConcurrentHashMap&lt;String, List&lt;String&gt;&gt;();\n  }\n  ...\n}\n</code></pre>\n\n<p>So given that gets and puts to the Map are thread safe, my concern is with the lists that are stored in the Map.  For instance, consider the following method that checks if a given entry exists in a given list in the store (I've omitted error checking for brevity):</p>\n\n<pre><code>public boolean listEntryExists(String listName, String listEntry) {\n\n  List&lt;String&gt; listToSearch = innerListStore.get(listName);\n\n  for (String entryName : listToSearch) {\n    if(entryName.equals(listEntry)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n</code></pre>\n\n<p>It would seem that I need to synchronize the entire contents of this method because if another method changed the contents of the list at innerListStore.get(listName) while this method is iterating over it, a ConcurrentModificationException would be thrown.  </p>\n\n<p>Is that correct and if so, do I synchronize on innerListStore or would synchronizing on the local listToSearch variable work?</p>\n\n<p>UPDATE: Thanks for the responses.  It sounds like I can synchronize on the list itself. For more information, here is the add() method, which can be running at the same time the listEntryExists() method is running in another thread:</p>\n\n<pre><code>public void add(String listName, String entryName) {\n\n  List&lt;String&gt; addTo = innerListStore.get(listName);\n  if (addTo == null) {\n    addTo = Collections.synchronizedList(new ArrayList&lt;String&gt;());\n    List&lt;String&gt; added = innerListStore.putIfAbsent(listName, addTo);\n    if (added != null) {\n      addTo = added;\n    }\n  }\n\n  addTo.add(entryName);\n}\n</code></pre>\n\n<p>If this is the only method that modifies the underlying lists stored in the map and no public methods return references to the map or entries in the map, can I synchronize iteration on the lists themselves and is this implementation of add() sufficient?</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":0,"creation_date":1639559490,"post_id":70360745,"comment_id":124377053,"body_markdown":"Pay attention to the last line of `dependencies` in your app level Gradle file.","body":"Pay attention to the last line of <code>dependencies</code> in your app level Gradle file."},{"owner":{"account_id":16571732,"reputation":55,"user_id":11974665,"display_name":"Aayush Shukla"},"score":0,"creation_date":1639560001,"post_id":70360745,"comment_id":124377257,"body_markdown":"@GenoChen I&#39;ve written that line trying to resolve the error myself, as I thought adding that dependency will resolve the issue but it didn&#39;t. :(","body":"@GenoChen I&#39;ve written that line trying to resolve the error myself, as I thought adding that dependency will resolve the issue but it didn&#39;t. :("}],"answers":[{"tags":[],"owner":{"account_id":11989376,"reputation":103,"user_id":8772998,"display_name":"Mojtaba Shirkhani"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1639819393,"creation_date":1639819393,"answer_id":70402261,"question_id":70360745,"body_markdown":"Add jcenter() to your repositories\r\n\r\n        buildscript {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n             classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n        }\r\n    }\r\n    \r\n        allprojects {\r\n            repositories {\r\n                google()\r\n                jcenter()\r\n            }\r\n        }\r\n\r\nAlso add java 11 to your project\r\n\r\n    compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &quot;11&quot;\r\n        }","title":"Gradle build failed : could not find org.jetbrains.kotlin even if I haven&#39;t used Kotlin","body":"<p>Add jcenter() to your repositories</p>\n<pre><code>    buildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n         classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10&quot;\n        classpath 'com.google.gms:google-services:4.3.10'\n    }\n}\n\n    allprojects {\n        repositories {\n            google()\n            jcenter()\n        }\n    }\n</code></pre>\n<p>Also add java 11 to your project</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n    targetCompatibility JavaVersion.VERSION_11\n    }\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24279713,"reputation":41,"user_id":18226449,"display_name":"Ricardo Rodea"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1645067240,"creation_date":1645035432,"answer_id":71147255,"question_id":70360745,"body_markdown":"Replace `jcenter()` with `mavenCentral()`","title":"Gradle build failed : could not find org.jetbrains.kotlin even if I haven&#39;t used Kotlin","body":"<p>Replace <code>jcenter()</code> with <code>mavenCentral()</code></p>\n"},{"tags":[],"owner":{"account_id":18702171,"reputation":1,"user_id":13634164,"display_name":"Prakash Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682577061,"creation_date":1682577025,"answer_id":76117373,"question_id":70360745,"body_markdown":"    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\nadd this line in your root level build.gradle\r\n","title":"Gradle build failed : could not find org.jetbrains.kotlin even if I haven&#39;t used Kotlin","body":"<pre><code>allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n</code></pre>\n<p>add this line in your root level build.gradle</p>\n"}],"owner":{"account_id":16571732,"reputation":55,"user_id":11974665,"display_name":"Aayush Shukla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7548,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70402261,"answer_count":3,"score":3,"last_activity_date":1682577061,"creation_date":1639558248,"question_id":70360745,"body_markdown":"I am creating an app in Android Studio IDE using Java, but whenever I build my project this error comes:\r\n```\r\nCould not find org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.10.\r\nRequired by:\r\n    project :app\r\n```\r\nI have checked all the previous answers, but they are outdated. I haven&#39;t even used Kotlin anywhere but despite of that, this error comes.\r\nHere&#39;s my app level Gradle code:\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;kotlin-android&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.safechat&quot;\r\n        minSdk 26\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.3.5&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.3.5&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.1&#39;\r\n    testImplementation &#39;junit:junit:&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.0.1&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;androidx.browser:browser:1.4.0&#39;\r\n\r\n}\r\n```\r\nand below is my project level Gradle code:\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nPlease help because I cannot develop further features without testing older features. (The line 8 in project level Gradle file causes errors on being removed, so I am bound to keep it)\r\n\r\nEdit 1 - Removed a confusing line from the code here as well as in my own file, didn&#39;t make any difference.\r\n\r\nEdit 2 - Added a necessary line for more clarification.","title":"Gradle build failed : could not find org.jetbrains.kotlin even if I haven&#39;t used Kotlin","body":"<p>I am creating an app in Android Studio IDE using Java, but whenever I build my project this error comes:</p>\n<pre><code>Could not find org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.10.\nRequired by:\n    project :app\n</code></pre>\n<p>I have checked all the previous answers, but they are outdated. I haven't even used Kotlin anywhere but despite of that, this error comes.\nHere's my app level Gradle code:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.safechat&quot;\n        minSdk 26\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    implementation 'androidx.navigation:navigation-fragment:2.3.5'\n    implementation 'androidx.navigation:navigation-ui:2.3.5'\n    implementation 'com.google.firebase:firebase-auth:21.0.1'\n    testImplementation 'junit:junit:'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation platform('com.google.firebase:firebase-bom:29.0.1')\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'androidx.browser:browser:1.4.0'\n\n}\n</code></pre>\n<p>and below is my project level Gradle code:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10&quot;\n        classpath 'com.google.gms:google-services:4.3.10'\n\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>Please help because I cannot develop further features without testing older features. (The line 8 in project level Gradle file causes errors on being removed, so I am bound to keep it)</p>\n<p>Edit 1 - Removed a confusing line from the code here as well as in my own file, didn't make any difference.</p>\n<p>Edit 2 - Added a necessary line for more clarification.</p>\n"},{"tags":["java","spring","spring-mvc","jackson"],"comments":[{"owner":{"account_id":2423151,"reputation":912,"user_id":2115680,"accept_rate":100,"display_name":"Marc-Andre"},"score":0,"creation_date":1373474215,"post_id":17576098,"comment_id":25573487,"body_markdown":"If DesignSerializer is mark with @Component, it&#39;s suppose to be a bean if I&#39;m not mistaken. You could grab the bean that was created by spring?","body":"If DesignSerializer is mark with @Component, it&#39;s suppose to be a bean if I&#39;m not mistaken. You could grab the bean that was created by spring?"},{"owner":{"account_id":199895,"reputation":10891,"user_id":445468,"accept_rate":50,"display_name":"Gleeb"},"score":0,"creation_date":1373474588,"post_id":17576098,"comment_id":25573663,"body_markdown":"how?, this serializer is being called by spring after finishing the controller with @ResponseBody","body":"how?, this serializer is being called by spring after finishing the controller with @ResponseBody"},{"owner":{"account_id":2423151,"reputation":912,"user_id":2115680,"accept_rate":100,"display_name":"Marc-Andre"},"score":0,"creation_date":1373474683,"post_id":17576098,"comment_id":25573706,"body_markdown":"don&#39;t you have an [Application Context](http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/context/ApplicationContext.html) that you use getBean on it?","body":"don&#39;t you have an <a href=\"http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/context/ApplicationContext.html\" rel=\"nofollow noreferrer\">Application Context</a> that you use getBean on it?"},{"owner":{"account_id":199895,"reputation":10891,"user_id":445468,"accept_rate":50,"display_name":"Gleeb"},"score":0,"creation_date":1373476519,"post_id":17576098,"comment_id":25574650,"body_markdown":"No. its spring MVC. and everything is annotated","body":"No. its spring MVC. and everything is annotated"},{"owner":{"account_id":2423151,"reputation":912,"user_id":2115680,"accept_rate":100,"display_name":"Marc-Andre"},"score":0,"creation_date":1373476582,"post_id":17576098,"comment_id":25574680,"body_markdown":"Sorry it is me that misread your comment.","body":"Sorry it is me that misread your comment."},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1373478706,"post_id":17576098,"comment_id":25575851,"body_markdown":"If Spring isn&#39;t managing this bean, then it can&#39;t inject anything into it.","body":"If Spring isn&#39;t managing this bean, then it can&#39;t inject anything into it."}],"answers":[{"tags":[],"owner":{"account_id":199895,"reputation":10891,"user_id":445468,"accept_rate":50,"display_name":"Gleeb"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1373485365,"creation_date":1373485365,"answer_id":17579550,"question_id":17576098,"body_markdown":"I Solved the problem by creating a static field in a different bean and then `@Autowire` its setter method.\r\n\r\n    @Service(&quot;ToolBox&quot;)\r\n    @Transactional\r\n    public class ToolBox \r\n    {\r\n\tstatic Logger logger = Logger.getLogger(ToolBox.class);\r\n\t\r\n\t\r\n\tprivate static IService service;\r\n\t\r\n\t\r\n\t@Autowired\r\n\tpublic void setService(IService service)\r\n\t{\r\n\t\tToolBox.service = service;\r\n\t}\r\n\t\r\n\tpublic static IService getService()\r\n\t{\r\n\t\treturn ToolBox.service;\r\n\t}}\r\n\r\nlike shown in this thread: https://stackoverflow.com/questions/1018797/autowired-static-field-spring-2-5","title":"How to @autowire some bean into JsonSerializer?","body":"<p>I Solved the problem by creating a static field in a different bean and then <code>@Autowire</code> its setter method.</p>\n\n<pre><code>@Service(\"ToolBox\")\n@Transactional\npublic class ToolBox \n{\nstatic Logger logger = Logger.getLogger(ToolBox.class);\n\n\nprivate static IService service;\n\n\n@Autowired\npublic void setService(IService service)\n{\n    ToolBox.service = service;\n}\n\npublic static IService getService()\n{\n    return ToolBox.service;\n}}\n</code></pre>\n\n<p>like shown in this thread: <a href=\"https://stackoverflow.com/questions/1018797/autowired-static-field-spring-2-5\">Can you use @Autowired with static fields?</a></p>\n"},{"tags":[],"owner":{"account_id":1022018,"reputation":2706,"user_id":1032111,"accept_rate":61,"display_name":"Peter Jurkovic"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1391546481,"creation_date":1391546481,"answer_id":21562939,"question_id":17576098,"body_markdown":"Solution is **[SpringBeanAutowiringSupport][1]** if you are using Spring Framework 2.5+.\r\n\r\n    public class DesignSerializer extends JsonSerializer&lt;Design&gt; {\r\n        \r\n    \t@Autowired\r\n        \tIDesignService designService;\r\n        }\r\n    \r\n        public DesignSerializer(){\r\n    \t\tSpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);    \r\n        }\r\n    \r\n    ...\r\n    \r\n    }\r\n\r\nI Hope that help you \r\n\r\n  [1]: http://docs.spring.io/spring/docs/2.5.6/api/org/springframework/web/context/support/SpringBeanAutowiringSupport.html","title":"How to @autowire some bean into JsonSerializer?","body":"<p>Solution is <strong><a href=\"http://docs.spring.io/spring/docs/2.5.6/api/org/springframework/web/context/support/SpringBeanAutowiringSupport.html\" rel=\"noreferrer\">SpringBeanAutowiringSupport</a></strong> if you are using Spring Framework 2.5+.</p>\n\n<pre><code>public class DesignSerializer extends JsonSerializer&lt;Design&gt; {\n\n    @Autowired\n        IDesignService designService;\n    }\n\n    public DesignSerializer(){\n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);    \n    }\n\n...\n\n}\n</code></pre>\n\n<p>I Hope that help you </p>\n"},{"tags":[],"owner":{"account_id":283723,"reputation":1973,"user_id":581395,"display_name":"veiset"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1404387518,"creation_date":1404385559,"answer_id":24552050,"question_id":17576098,"body_markdown":"We had the same problem with JsonSerializer and Spring autowiring. The solution that worked for us was to make two constructors. One for Spring which sets the dependency as a static field, and another one that is used by the Jackson initialisation. \r\n\r\nThis works because the Spring dependency injection (autowiring) happens before Jackson initialises the serializer. \r\n\r\n    @Component\r\n    public class MyCustomSerializer extends JsonSerializer&lt;String&gt; {\r\n    \r\n        private static IDesignService designService;\r\n    \r\n        // Required by Jackson annotation to instantiate the serializer\r\n        public MyCustomSerializer() { }\r\n    \r\n        @Autowired\r\n        public MyCustomSerializer(IDesignService designService) {\r\n            this.designService = designService;\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(String m, JsonGenerator gen, SerializerProvider s) {\r\n            gen.writeObject(MyCustomSerializer.designService.method(..));\r\n        }\r\n    }","title":"How to @autowire some bean into JsonSerializer?","body":"<p>We had the same problem with JsonSerializer and Spring autowiring. The solution that worked for us was to make two constructors. One for Spring which sets the dependency as a static field, and another one that is used by the Jackson initialisation. </p>\n\n<p>This works because the Spring dependency injection (autowiring) happens before Jackson initialises the serializer. </p>\n\n<pre><code>@Component\npublic class MyCustomSerializer extends JsonSerializer&lt;String&gt; {\n\n    private static IDesignService designService;\n\n    // Required by Jackson annotation to instantiate the serializer\n    public MyCustomSerializer() { }\n\n    @Autowired\n    public MyCustomSerializer(IDesignService designService) {\n        this.designService = designService;\n    }\n\n    @Override\n    public void serialize(String m, JsonGenerator gen, SerializerProvider s) {\n        gen.writeObject(MyCustomSerializer.designService.method(..));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4662993,"reputation":1515,"user_id":3776810,"accept_rate":76,"display_name":"Jaims"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682577011,"creation_date":1682577011,"answer_id":76117369,"question_id":17576098,"body_markdown":"If you&#39;re using Spring Boot, [`@JsonComponent`][1] will do the autowiring for you.\r\n\r\n```\r\n@JsonComponent\r\npublic class DesignSerializer extends JsonSerializer&lt;Design&gt; {\r\n    @Autowired\r\n    private DesignService designService;\r\n}\r\n```\r\n\r\nTesting this serializer can then be done while autoconfiguring json support.\r\n\r\n```\r\n@AutoConfigureJson\r\n@SpringBootTest\r\nclass DesignSerializerTest {\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n    \r\n    @Test\r\n    void testDesignSerializer() {\r\n        objectMapper.writer().writeValueAsString(new Design());\r\n    }\r\n}    \r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jackson/JsonComponent.html","title":"How to @autowire some bean into JsonSerializer?","body":"<p>If you're using Spring Boot, <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jackson/JsonComponent.html\" rel=\"nofollow noreferrer\"><code>@JsonComponent</code></a> will do the autowiring for you.</p>\n<pre><code>@JsonComponent\npublic class DesignSerializer extends JsonSerializer&lt;Design&gt; {\n    @Autowired\n    private DesignService designService;\n}\n</code></pre>\n<p>Testing this serializer can then be done while autoconfiguring json support.</p>\n<pre><code>@AutoConfigureJson\n@SpringBootTest\nclass DesignSerializerTest {\n\n    @Autowired\n    private ObjectMapper objectMapper;\n    \n    @Test\n    void testDesignSerializer() {\n        objectMapper.writer().writeValueAsString(new Design());\n    }\n}    \n</code></pre>\n"}],"owner":{"account_id":199895,"reputation":10891,"user_id":445468,"accept_rate":50,"display_name":"Gleeb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15282,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"accepted_answer_id":21562939,"answer_count":4,"score":28,"last_activity_date":1682577011,"creation_date":1373473905,"question_id":17576098,"body_markdown":"I am using lazy loading with hibernate in my web app.\r\n\r\nI would like to load some objects from the database at the parsing stage of the server response\r\n\r\n\r\n&gt;     @Component\r\n    public class DesignSerializer extends JsonSerializer&lt;Design&gt; {\r\n\t@Autowired\r\n\tIDesignService designService; &lt;-- is null\r\n}\r\n\r\n\r\nWhich is totally understandable because `DesignSerializer` is being instantiated with the &quot;new&quot; operator for each object.\r\n\r\nI am sure there is a way to inject my bean into that serializer when ever it is created, I just don&#39;t know how.\r\n\r\nCan you guys help me or point me in the right direction.","title":"How to @autowire some bean into JsonSerializer?","body":"<p>I am using lazy loading with hibernate in my web app.</p>\n\n<p>I would like to load some objects from the database at the parsing stage of the server response</p>\n\n<blockquote>\n<pre><code>@Component\npublic class DesignSerializer extends JsonSerializer&lt;Design&gt; {\n@Autowired\nIDesignService designService; &lt;-- is null\n</code></pre>\n  \n  <p>}</p>\n</blockquote>\n\n<p>Which is totally understandable because <code>DesignSerializer</code> is being instantiated with the \"new\" operator for each object.</p>\n\n<p>I am sure there is a way to inject my bean into that serializer when ever it is created, I just don't know how.</p>\n\n<p>Can you guys help me or point me in the right direction.</p>\n"},{"tags":["java","spring","gradle","lombok","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":15076433,"reputation":131,"user_id":15635042,"display_name":"Siddharth Aadarsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643632487,"creation_date":1643632487,"answer_id":70926047,"question_id":70925438,"body_markdown":"You are missing what properties you are willing to map in the EinheitMapper.Java \r\nAlso, @Column is not required there.\r\n\r\nI am sure you want to do the Mapping of Dto to Entity class and vice versa.\r\n\r\n\r\nIf you want to save your time for the inverse mapping from entity to dto\r\nYou can use :\r\n\r\n    @InheritInverseConfiguration\r\n\r\nSo your mapper should look like this: \r\n\r\n    @Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\r\n    @Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\r\n    Einheit einheitDtoToEinheit(EinheitDto dto);\r\n    \r\n    @InheritInverseConfiguration\r\n    @Mapping(target = &quot;eventCategory&quot;, source = &quot;eventCategory&quot;)\r\n","title":"Problem using Gradle and Mapstruct and Lombok and Spring Boot (No implementation for mapper)","body":"<p>You are missing what properties you are willing to map in the EinheitMapper.Java\nAlso, @Column is not required there.</p>\n<p>I am sure you want to do the Mapping of Dto to Entity class and vice versa.</p>\n<p>If you want to save your time for the inverse mapping from entity to dto\nYou can use :</p>\n<pre><code>@InheritInverseConfiguration\n</code></pre>\n<p>So your mapper should look like this:</p>\n<pre><code>@Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\n@Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\nEinheit einheitDtoToEinheit(EinheitDto dto);\n\n@InheritInverseConfiguration\n@Mapping(target = &quot;eventCategory&quot;, source = &quot;eventCategory&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24109714,"reputation":41,"user_id":18080459,"display_name":"Andreas Hellrich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643714057,"creation_date":1643714057,"answer_id":70939640,"question_id":70925438,"body_markdown":"So, as a workaround I migrated to maven and now it works.\r\nSeems like somehow the gradle inside my Spring Tool Suite did not work correctly.","title":"Problem using Gradle and Mapstruct and Lombok and Spring Boot (No implementation for mapper)","body":"<p>So, as a workaround I migrated to maven and now it works.\nSeems like somehow the gradle inside my Spring Tool Suite did not work correctly.</p>\n"},{"tags":[],"owner":{"account_id":25592959,"reputation":21,"user_id":19369355,"display_name":"Jonathan Couturier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655645568,"creation_date":1655645568,"answer_id":72677282,"question_id":70925438,"body_markdown":"In order to make Lombok and Mapstruct work together you will need the Lombok plugin.\r\n\r\nThe  Lombok plugin io.freefair.lombok plugin is required.\r\n\r\nHere is my working configuration:\r\n\r\n    plugins {\r\n        id &quot;io.freefair.lombok&quot; version &quot;6.5.0-rc1&quot;\r\n    }\r\n\r\n    dependencies {\r\n        compileOnly &quot;org.projectlombok:lombok:1.18.24&quot;\r\n        annotationProcessor &quot;org.projectlombok:lombok:1.18.24&quot;\r\n        testCompileOnly &quot;org.projectlombok:lombok:1.18.24&quot;\r\n        testAnnotationProcessor &quot;org.projectlombok:lombok:1.18.24&quot;\r\n      \r\n        compileOnly &quot;org.mapstruct:mapstruct:1.5.1.Final&quot;\r\n        testCompileOnly &quot;org.mapstruct:mapstruct:1.5.1.Final&quot;\r\n        annotationProcessor &quot;org.mapstruct:mapstruct-processor:1.5.1.Final&quot;\r\n        testAnnotationProcessor &quot;org.mapstruct:mapstruct- processor:1.5.1.Final&quot;\r\n        implementation &#39;org.projectlombok:lombok-mapstruct-binding:0.2.0&#39;\r\n    }\r\n\r\n","title":"Problem using Gradle and Mapstruct and Lombok and Spring Boot (No implementation for mapper)","body":"<p>In order to make Lombok and Mapstruct work together you will need the Lombok plugin.</p>\n<p>The  Lombok plugin io.freefair.lombok plugin is required.</p>\n<p>Here is my working configuration:</p>\n<pre><code>plugins {\n    id &quot;io.freefair.lombok&quot; version &quot;6.5.0-rc1&quot;\n}\n\ndependencies {\n    compileOnly &quot;org.projectlombok:lombok:1.18.24&quot;\n    annotationProcessor &quot;org.projectlombok:lombok:1.18.24&quot;\n    testCompileOnly &quot;org.projectlombok:lombok:1.18.24&quot;\n    testAnnotationProcessor &quot;org.projectlombok:lombok:1.18.24&quot;\n  \n    compileOnly &quot;org.mapstruct:mapstruct:1.5.1.Final&quot;\n    testCompileOnly &quot;org.mapstruct:mapstruct:1.5.1.Final&quot;\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:1.5.1.Final&quot;\n    testAnnotationProcessor &quot;org.mapstruct:mapstruct- processor:1.5.1.Final&quot;\n    implementation 'org.projectlombok:lombok-mapstruct-binding:0.2.0'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27866750,"reputation":11,"user_id":21278102,"display_name":"owl D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682576420,"creation_date":1682576420,"answer_id":76117289,"question_id":70925438,"body_markdown":"the dependency order is so important to make the lombok and mapStruct work together is fine, here are my dependencies order\r\n\r\n```\r\n    implementation &quot;org.projectlombok:lombok:1.18.26&quot;\r\n    annotationProcessor &quot;org.projectlombok:lombok:1.18.20&quot;\r\n    annotationProcessor &quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;\r\n\r\n    implementation &quot;org.mapstruct:mapstruct:1.5.5.Final&quot;\r\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:1.5.5.Final&quot;\r\n```","title":"Problem using Gradle and Mapstruct and Lombok and Spring Boot (No implementation for mapper)","body":"<p>the dependency order is so important to make the lombok and mapStruct work together is fine, here are my dependencies order</p>\n<pre><code>    implementation &quot;org.projectlombok:lombok:1.18.26&quot;\n    annotationProcessor &quot;org.projectlombok:lombok:1.18.20&quot;\n    annotationProcessor &quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;\n\n    implementation &quot;org.mapstruct:mapstruct:1.5.5.Final&quot;\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:1.5.5.Final&quot;\n</code></pre>\n"}],"owner":{"account_id":24109714,"reputation":41,"user_id":18080459,"display_name":"Andreas Hellrich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3757,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1682576420,"creation_date":1643629621,"question_id":70925438,"body_markdown":"I am using Gradle and Lombok and  Spring Boot and Mapstruct. \r\nFor some reason my mapper won&#39;t work. \r\nIt says, it cannot find an implementation for the mapper.\r\n\r\nI already tried different approaches of adding Mapstruct to my Gradle build.\r\nMaybe I am still importing it wrong?\r\n\r\nWhen searching stack overflow I found several answers for similar situations, but none of them worked for me.\r\n\r\nAnyways, here&#39;s my Code:\r\n\r\n**Einheit.Java:**\r\n\r\n```\r\npackage de.derandy.meinkochtopf.model;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.NonNull;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor\r\n@Table(name = &quot;einheit&quot;)\r\npublic class Einheit {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(unique = true)\r\n\tprivate Long id;\r\n\t@NonNull\r\n\tprivate String name;\r\n\r\n}\r\n\r\n```\r\n\r\n**EinheitDto.Java:**\r\n\r\n```\r\npackage de.derandy.meinkochtopf.model;\r\n\r\nimport javax.persistence.Column;\r\n\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.NonNull;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor\r\npublic class EinheitDto {\r\n\r\n\t@Column\r\n\tprivate Long id;\r\n\t@NonNull\r\n\tprivate String name;\r\n}\r\n\r\n```\r\n**EinheitMapper.Java:**\r\n```\r\npackage de.derandy.meinkochtopf.mapper;\r\n\r\nimport org.mapstruct.Mapper;\r\nimport org.mapstruct.factory.Mappers;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport de.derandy.meinkochtopf.model.Einheit;\r\nimport de.derandy.meinkochtopf.model.EinheitDto;\r\n\r\n@Mapper(componentModel = &quot;spring&quot;)\r\n@Component\r\npublic interface EinheitMapper {\r\n\r\n\tEinheitMapper INSTANCE = Mappers.getMapper(EinheitMapper.class);\r\n\t\r\n\t\r\n\t Einheit einheitDtoToEinheit(EinheitDto dto);\r\n\t EinheitDto einheitToEinheitDto(Einheit einheit);\r\n\r\n}\r\n\r\n```\r\n**build.gradle:**\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.6.3&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n\tid &quot;com.diffplug.eclipse.apt&quot; version &quot;3.26.0&quot;\r\n}\r\n\r\ngroup = &#39;de.derandy&#39;\r\nversion = &#39;1.0&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\t// Spring boot\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\t// Lombok\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\t\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\t// H2\r\n\truntimeOnly &#39;com.h2database:h2&#39;\r\n\t// Test\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\t// Mapstruct\r\n\tcompile &#39;org.mapstruct:mapstruct:1.4.2.Final&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.4.2.Final&#39;\r\n    testAnnotationProcessor &#39;org.mapstruct:mapstruct-processor:1.4.2.Final&#39; \r\n}\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n**application.properties:**\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.h2.console.enabled=true\r\nserver.error.include-message=always\r\nspring.banner.location=banner.txt\r\n```\r\n\r\n**Stack Trace:**\r\n```\r\norg.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.ExceptionInInitializerError\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1082)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)\r\n\tat de.derandy.meinkochtopf.controller.EinheitControllerTest.testGetEinheits_fails(EinheitControllerTest.java:50)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat de.derandy.meinkochtopf.controller.EinheitController.getEinheiten(EinheitController.java:42)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\t... 80 more\r\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: Cannot find implementation for de.derandy.meinkochtopf.mapper.EinheitMapper\r\n\tat org.mapstruct.factory.Mappers.getMapper(Mappers.java:61)\r\n\tat de.derandy.meinkochtopf.mapper.EinheitMapper.&lt;clinit&gt;(EinheitMapper.java:14)\r\n\t... 92 more\r\nCaused by: java.lang.ClassNotFoundException: Cannot find implementation for de.derandy.meinkochtopf.mapper.EinheitMapper\r\n\tat org.mapstruct.factory.Mappers.getMapper(Mappers.java:75)\r\n\tat org.mapstruct.factory.Mappers.getMapper(Mappers.java:58)\r\n\t... 93 more\r\n\r\n\r\n```\r\n**UPDATE:**\r\nI changed my mapper like this:\r\n```\r\n@Mapper\r\npublic interface EinheitMapper {\r\n\r\n\t\r\n\t@Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\r\n\t@Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\r\n\tEinheit einheitDtoToEinheit(EinheitDto dto);\r\n\r\n\t@Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\r\n\t@Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\r\n\tEinheitDto einheitToEinheitDto(Einheit einheit);\r\n\r\n}\r\n```\r\nNow it works if I build it with gradle but it does not work in Spring tool suite","title":"Problem using Gradle and Mapstruct and Lombok and Spring Boot (No implementation for mapper)","body":"<p>I am using Gradle and Lombok and  Spring Boot and Mapstruct.\nFor some reason my mapper won't work.\nIt says, it cannot find an implementation for the mapper.</p>\n<p>I already tried different approaches of adding Mapstruct to my Gradle build.\nMaybe I am still importing it wrong?</p>\n<p>When searching stack overflow I found several answers for similar situations, but none of them worked for me.</p>\n<p>Anyways, here's my Code:</p>\n<p><strong>Einheit.Java:</strong></p>\n<pre><code>package de.derandy.meinkochtopf.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.NonNull;\nimport lombok.RequiredArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Entity\n@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@RequiredArgsConstructor\n@Table(name = &quot;einheit&quot;)\npublic class Einheit {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(unique = true)\n    private Long id;\n    @NonNull\n    private String name;\n\n}\n\n</code></pre>\n<p><strong>EinheitDto.Java:</strong></p>\n<pre><code>package de.derandy.meinkochtopf.model;\n\nimport javax.persistence.Column;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.NonNull;\nimport lombok.RequiredArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@RequiredArgsConstructor\npublic class EinheitDto {\n\n    @Column\n    private Long id;\n    @NonNull\n    private String name;\n}\n\n</code></pre>\n<p><strong>EinheitMapper.Java:</strong></p>\n<pre><code>package de.derandy.meinkochtopf.mapper;\n\nimport org.mapstruct.Mapper;\nimport org.mapstruct.factory.Mappers;\nimport org.springframework.stereotype.Component;\n\nimport de.derandy.meinkochtopf.model.Einheit;\nimport de.derandy.meinkochtopf.model.EinheitDto;\n\n@Mapper(componentModel = &quot;spring&quot;)\n@Component\npublic interface EinheitMapper {\n\n    EinheitMapper INSTANCE = Mappers.getMapper(EinheitMapper.class);\n    \n    \n     Einheit einheitDtoToEinheit(EinheitDto dto);\n     EinheitDto einheitToEinheitDto(Einheit einheit);\n\n}\n\n</code></pre>\n<p><strong>build.gradle:</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.3'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id &quot;com.diffplug.eclipse.apt&quot; version &quot;3.26.0&quot;\n}\n\ngroup = 'de.derandy'\nversion = '1.0'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // Spring boot\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    // Lombok\n    compileOnly 'org.projectlombok:lombok'  \n    annotationProcessor 'org.projectlombok:lombok'\n    // H2\n    runtimeOnly 'com.h2database:h2'\n    // Test\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    // Mapstruct\n    compile 'org.mapstruct:mapstruct:1.4.2.Final'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.4.2.Final'\n    testAnnotationProcessor 'org.mapstruct:mapstruct-processor:1.4.2.Final' \n}\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p><strong>application.properties:</strong></p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\nserver.error.include-message=always\nspring.banner.location=banner.txt\n</code></pre>\n<p><strong>Stack Trace:</strong></p>\n<pre><code>org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.ExceptionInInitializerError\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1082)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:199)\n    at de.derandy.meinkochtopf.controller.EinheitControllerTest.testGetEinheits_fails(EinheitControllerTest.java:50)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.ExceptionInInitializerError\n    at de.derandy.meinkochtopf.controller.EinheitController.getEinheiten(EinheitController.java:42)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    ... 80 more\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: Cannot find implementation for de.derandy.meinkochtopf.mapper.EinheitMapper\n    at org.mapstruct.factory.Mappers.getMapper(Mappers.java:61)\n    at de.derandy.meinkochtopf.mapper.EinheitMapper.&lt;clinit&gt;(EinheitMapper.java:14)\n    ... 92 more\nCaused by: java.lang.ClassNotFoundException: Cannot find implementation for de.derandy.meinkochtopf.mapper.EinheitMapper\n    at org.mapstruct.factory.Mappers.getMapper(Mappers.java:75)\n    at org.mapstruct.factory.Mappers.getMapper(Mappers.java:58)\n    ... 93 more\n\n\n</code></pre>\n<p><strong>UPDATE:</strong>\nI changed my mapper like this:</p>\n<pre><code>@Mapper\npublic interface EinheitMapper {\n\n    \n    @Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\n    @Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\n    Einheit einheitDtoToEinheit(EinheitDto dto);\n\n    @Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\n    @Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\n    EinheitDto einheitToEinheitDto(Einheit einheit);\n\n}\n</code></pre>\n<p>Now it works if I build it with gradle but it does not work in Spring tool suite</p>\n"},{"tags":["java","android","kotlin","android-library","bottom-sheet"],"owner":{"account_id":28430766,"reputation":1,"user_id":21751453,"display_name":"byte digital"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682576413,"creation_date":1682576413,"question_id":76117287,"body_markdown":"Sorry if i have arise a dumb question but I am new here\r\n\r\nplease Guide me I am here in Android field Thank you !\r\nI have successfully created a bottomsheet with a custom layout but i want to find the views of that and set the click events on that\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nhere is my library and main activity code\r\n\r\n\r\nlibrary code\r\n\r\n```\r\nimport android.content.Context\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.widget.ImageButton\r\nimport android.widget.LinearLayout\r\nimport android.widget.TextView\r\nimport android.widget.Toast\r\nimport com.google.android.material.bottomsheet.BottomSheetBehavior\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog\r\n\r\nclass ToasterBottomSheet {\r\n     fun BottomSheet(context:Context,layout:Int){\r\n\r\n        val BottomSheetDialog= BottomSheetDialog(context,R.style.BottomSheetTheme)\r\n        val sheetView: View = LayoutInflater.from(context).inflate(layout,null)\r\n        BottomSheetDialog.behavior.state=(BottomSheetBehavior.STATE_EXPANDED);\r\n         BottomSheetDialog.behavior.maxWidth\r\n\r\n      // I want to find the views of the layout and set the click events on that  how do i  ??\r\n\r\n\r\n        BottomSheetDialog.setContentView(sheetView)\r\n        BottomSheetDialog.show()\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nMainActivity is here\r\n\r\n\r\n\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.widget.TextView\r\nimport com.bytedigital.mytoaster.ToastMesssage\r\nimport com.bytedigital.mytoaster.ToasterBottomSheet\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        \r\n        \r\n        val text=findViewById&lt;TextView&gt;(R.id.text)\r\n        text.setOnClickListener{\r\n            ToasterBottomSheet().BottomSheet(this,R.layout.botamsheet_layout)\r\n        }\r\n        \r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"want to create a android library to access bottomsheet in many projects with a custom layout how do i find the views of the custom layout","body":"<p>Sorry if i have arise a dumb question but I am new here</p>\n<p>please Guide me I am here in Android field Thank you !\nI have successfully created a bottomsheet with a custom layout but i want to find the views of that and set the click events on that</p>\n<p>here is my library and main activity code</p>\n<p>library code</p>\n<pre><code>import android.content.Context\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.widget.ImageButton\nimport android.widget.LinearLayout\nimport android.widget.TextView\nimport android.widget.Toast\nimport com.google.android.material.bottomsheet.BottomSheetBehavior\nimport com.google.android.material.bottomsheet.BottomSheetDialog\n\nclass ToasterBottomSheet {\n     fun BottomSheet(context:Context,layout:Int){\n\n        val BottomSheetDialog= BottomSheetDialog(context,R.style.BottomSheetTheme)\n        val sheetView: View = LayoutInflater.from(context).inflate(layout,null)\n        BottomSheetDialog.behavior.state=(BottomSheetBehavior.STATE_EXPANDED);\n         BottomSheetDialog.behavior.maxWidth\n\n      // I want to find the views of the layout and set the click events on that  how do i  ??\n\n\n        BottomSheetDialog.setContentView(sheetView)\n        BottomSheetDialog.show()\n\n\n    }\n}\n</code></pre>\n<p>MainActivity is here</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.TextView\nimport com.bytedigital.mytoaster.ToastMesssage\nimport com.bytedigital.mytoaster.ToasterBottomSheet\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        \n        \n        val text=findViewById&lt;TextView&gt;(R.id.text)\n        text.setOnClickListener{\n            ToasterBottomSheet().BottomSheet(this,R.layout.botamsheet_layout)\n        }\n        \n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","android-studio","date","simpledateformat"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":1,"creation_date":1618682436,"post_id":67141299,"comment_id":118678320,"body_markdown":"have you tried Locale.ROOT","body":"have you tried Locale.ROOT"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1618726356,"post_id":67141299,"comment_id":118685945,"body_markdown":"So that we know that we understand each other, could you be specific and precise about the expected/desired result?","body":"So that we know that we understand each other, could you be specific and precise about the expected/desired result?"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1618728187,"creation_date":1618682716,"answer_id":67141411,"question_id":67141299,"body_markdown":"The `java.util` date-time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to `java.time`, the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html)&lt;sup&gt;* &lt;/sup&gt;. \r\n\r\n**Using modern date-time API:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneId;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter dtfEnglish = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;, Locale.ENGLISH);\r\n    \r\n    \t\tDateTimeFormatter dtfArabic = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;, Locale.ENGLISH)\r\n    \t\t\t\t.localizedBy(new Locale(&quot;ar&quot;));\r\n    \r\n    \t\t// Change the ZoneId as per your requirement e.g. ZoneId.of(&quot;Asia/Dubai&quot;)\r\n    \t\tLocalDate date = LocalDate.now(ZoneId.systemDefault());\r\n    \r\n    \t\tSystem.out.println(date.format(dtfEnglish));\r\n    \t\tSystem.out.println(date.format(dtfArabic));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    18/04/2021\r\n    ١٨/٠٤/٢٠٢١\r\n\r\n\r\nLearn more about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n\r\n\r\n","title":"SimpleDateFormat date comes in arabic","body":"<p>The <code>java.util</code> date-time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to <code>java.time</code>, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a><sup>* </sup>.</p>\n<p><strong>Using modern date-time API:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter dtfEnglish = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;, Locale.ENGLISH);\n\n        DateTimeFormatter dtfArabic = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;, Locale.ENGLISH)\n                .localizedBy(new Locale(&quot;ar&quot;));\n\n        // Change the ZoneId as per your requirement e.g. ZoneId.of(&quot;Asia/Dubai&quot;)\n        LocalDate date = LocalDate.now(ZoneId.systemDefault());\n\n        System.out.println(date.format(dtfEnglish));\n        System.out.println(date.format(dtfArabic));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>18/04/2021\n١٨/٠٤/٢٠٢١\n</code></pre>\n<p>Learn more about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618727347,"creation_date":1618683536,"answer_id":67141537,"question_id":67141299,"body_markdown":"I recommend that you use java.time, the modern Java date and time API, for your date work. If I have understood that Firebase doesn’t provide a `date` data type, then I think that for storing you will want:\r\n\r\n        String currentDateandTime = LocalDate.now(ZoneId.systemDefault()).toString();\r\n        System.out.println(currentDateandTime);\r\n\r\nOutput when running just now in my time zone:\r\n\r\n&gt; 2021-04-17\r\n\r\nThe result is independent of locale. On retrieval the one-arg `LocalDate.parse(CharSequence)` will parse the same string back into a `LocalDate`.\r\n\r\nEdit: The format you want, 2021-04-17, is an international standard known as ISO 8601, and I consider it wise of you to use it in your program too. I am exploiting the fact that `LocalDate` and the other classes of java.time produce ISO 8601 from their `toString` methods and parse the same format back in their one-arg `parse` methods. So when dealing with ISO 8601 (as a rule) we don’t need to specify a format nor a formatter neither for formatting nor for parsing. Had you wanted a different format, you would have used a `DateTimeFormatter` for specifying it.\r\n\r\n## Question: Doesn’t java.time require Android API level 26?\r\n\r\njava.time works nicely on both older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.\r\n - In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - On older Android either use desugaring or the Android edition of ThreeTen Backport. It’s called ThreeTenABP. In the latter case make sure you import the date and time classes from `org.threeten.bp` with subpackages.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - Edit: [Wikipedia article: ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table)\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.\r\n","title":"SimpleDateFormat date comes in arabic","body":"<p>I recommend that you use java.time, the modern Java date and time API, for your date work. If I have understood that Firebase doesn’t provide a <code>date</code> data type, then I think that for storing you will want:</p>\n<pre><code>    String currentDateandTime = LocalDate.now(ZoneId.systemDefault()).toString();\n    System.out.println(currentDateandTime);\n</code></pre>\n<p>Output when running just now in my time zone:</p>\n<blockquote>\n<p>2021-04-17</p>\n</blockquote>\n<p>The result is independent of locale. On retrieval the one-arg <code>LocalDate.parse(CharSequence)</code> will parse the same string back into a <code>LocalDate</code>.</p>\n<p>Edit: The format you want, 2021-04-17, is an international standard known as ISO 8601, and I consider it wise of you to use it in your program too. I am exploiting the fact that <code>LocalDate</code> and the other classes of java.time produce ISO 8601 from their <code>toString</code> methods and parse the same format back in their one-arg <code>parse</code> methods. So when dealing with ISO 8601 (as a rule) we don’t need to specify a format nor a formatter neither for formatting nor for parsing. Had you wanted a different format, you would have used a <code>DateTimeFormatter</code> for specifying it.</p>\n<h2>Question: Doesn’t java.time require Android API level 26?</h2>\n<p>java.time works nicely on both older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.</li>\n<li>In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On older Android either use desugaring or the Android edition of ThreeTen Backport. It’s called ThreeTenABP. In the latter case make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li>Edit: <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia article: ISO 8601</a></li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a></li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23445495,"reputation":1,"user_id":17502369,"display_name":"Naor Bar Kochva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682576301,"creation_date":1682576301,"answer_id":76117279,"question_id":67141299,"body_markdown":"If you want to take the data as 17/04/2021 under any condition, you could just change the second argument to be Locale.US .\r\n\r\n    SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.US);\r\n    String currentDateandTime = df.format(new Date());\r\n","title":"SimpleDateFormat date comes in arabic","body":"<p>If you want to take the data as 17/04/2021 under any condition, you could just change the second argument to be Locale.US .</p>\n<pre><code>SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.US);\nString currentDateandTime = df.format(new Date());\n</code></pre>\n"}],"owner":{"account_id":18082251,"reputation":57,"user_id":13144070,"display_name":"MustapTR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1682576301,"creation_date":1618682031,"question_id":67141299,"body_markdown":"I download the user&#39;s date data and write this data to firebase. However, the date format will not work correctly when data is added from Arabic locations.\r\nHow can I fix this?\r\n\r\nOutput:\r\n\r\n\r\n    &quot;٢٠٢١-٠٤-١٧&quot;\r\n\r\nMy Code:\r\n\r\n                SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());\r\n                String currentDateandTime = df.format(new Date());\r\n\r\nI do not want to receive data in Arabic alphabet. I should take the data as 17/04/2021 under any condition. Not as /١٧/٢٠٢١.","title":"SimpleDateFormat date comes in arabic","body":"<p>I download the user's date data and write this data to firebase. However, the date format will not work correctly when data is added from Arabic locations.\nHow can I fix this?</p>\n<p>Output:</p>\n<pre><code>&quot;٢٠٢١-٠٤-١٧&quot;\n</code></pre>\n<p>My Code:</p>\n<pre><code>            SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());\n            String currentDateandTime = df.format(new Date());\n</code></pre>\n<p>I do not want to receive data in Arabic alphabet. I should take the data as 17/04/2021 under any condition. Not as /١٧/٢٠٢١.</p>\n"},{"tags":["java","angular","spring-boot","iis","deployment"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1600683420,"post_id":63990154,"comment_id":113154421,"body_markdown":"Does this answer your question? [Running a java web application in IIS](https://stackoverflow.com/questions/2256084/running-a-java-web-application-in-iis)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2256084/running-a-java-web-application-in-iis\">Running a java web application in IIS</a>"}],"answers":[{"tags":[],"owner":{"account_id":15452263,"reputation":9128,"user_id":11147346,"display_name":"Jalpa Panchal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682575913,"creation_date":1600744861,"answer_id":64002626,"question_id":63990154,"body_markdown":"It is a java based application so it is not recommended to deploy in iis.you could use a docker container to run the application and then use a reverse proxy to redirect the request to that API.\r\n\r\nReference link:\r\n\r\nhttps://github.com/jonashackt/ansible-windows-docker-springboot\r\n\r\nhttps://techcommunity.microsoft.com/t5/iis-support-blog/setup-iis-with-url-rewrite-as-a-reverse-proxy-for-real-world/ba-p/846222\r\n\r\n\r\n\r\n","title":"how to deploy Spring boot application in IIS","body":"<p>It is a java based application so it is not recommended to deploy in iis.you could use a docker container to run the application and then use a reverse proxy to redirect the request to that API.</p>\n<p>Reference link:</p>\n<p><a href=\"https://github.com/jonashackt/ansible-windows-docker-springboot\" rel=\"nofollow noreferrer\">https://github.com/jonashackt/ansible-windows-docker-springboot</a></p>\n<p><a href=\"https://techcommunity.microsoft.com/t5/iis-support-blog/setup-iis-with-url-rewrite-as-a-reverse-proxy-for-real-world/ba-p/846222\" rel=\"nofollow noreferrer\">https://techcommunity.microsoft.com/t5/iis-support-blog/setup-iis-with-url-rewrite-as-a-reverse-proxy-for-real-world/ba-p/846222</a></p>\n"}],"owner":{"account_id":19098043,"reputation":447,"user_id":13946904,"display_name":"Jeb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64002626,"answer_count":1,"score":0,"last_activity_date":1682575913,"creation_date":1600682883,"question_id":63990154,"body_markdown":"I have a [Spring boot][1] application, If I want to run that application locally we can run with `spring-boot:run` Or by just executing the main class our project is ready to work. But here I want to deploy the same on IIS Server. \r\n\r\nI have an angular app, by just adding the path and running `ng build --prod` is sufficient to run in the IIS but when coming to java I am confused to run the application in IIS.\r\n\r\nI dont think so it will work with `spring-boot:run` as it is using internal tomcat server, But in the IIS how do we need to deploy this application.\r\n\r\n  [1]: https://github.com/ramram43210/Java_Spring_2019/tree/master/JavaEE_2019/SpringBoot_ExternalTomcat/HelloWorld","title":"how to deploy Spring boot application in IIS","body":"<p>I have a <a href=\"https://github.com/ramram43210/Java_Spring_2019/tree/master/JavaEE_2019/SpringBoot_ExternalTomcat/HelloWorld\" rel=\"nofollow noreferrer\">Spring boot</a> application, If I want to run that application locally we can run with <code>spring-boot:run</code> Or by just executing the main class our project is ready to work. But here I want to deploy the same on IIS Server.</p>\n<p>I have an angular app, by just adding the path and running <code>ng build --prod</code> is sufficient to run in the IIS but when coming to java I am confused to run the application in IIS.</p>\n<p>I dont think so it will work with <code>spring-boot:run</code> as it is using internal tomcat server, But in the IIS how do we need to deploy this application.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1682488999,"post_id":76107536,"comment_id":134222036,"body_markdown":"Why fixate on using `arrayToList`? There are many other ways to convert an array to list, like `Arrays.asList`.","body":"Why fixate on using <code>arrayToList</code>? There are many other ways to convert an array to list, like <code>Arrays.asList</code>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1682489881,"post_id":76107536,"comment_id":134222193,"body_markdown":"In fact, you could have just wrote`Set.of(SEARCH_REQ, SEARCH_RES)`.","body":"In fact, you could have just wrote<code>Set.of(SEARCH_REQ, SEARCH_RES)</code>."},{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1682496218,"post_id":76107536,"comment_id":134223496,"body_markdown":"Rewrite initialization of set may be a better choice.","body":"Rewrite initialization of set may be a better choice."}],"owner":{"account_id":281594,"reputation":131,"user_id":577994,"accept_rate":75,"display_name":"BoomRamada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682575758,"creation_date":1682488131,"question_id":76107536,"body_markdown":"I have upgrade from spring 4.2x to 5.3x, since then I&#39;m getting a Cannot infer type arguments for HashSet&lt;&gt; error on following code.\r\n\r\n    public static final String SEARCH_REQ = &quot;Search Request&quot;;\r\n    public static final String SEARCH_RES = &quot;Search Response&quot;;\r\n    \r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static Set&lt;String&gt; SEARCH_ACTIONS = new HashSet&lt;&gt;(CollectionUtils.arrayToList(new String[] {\r\n            SEARCH_REQ,\r\n            SEARCH_RES\r\n            }));\r\n\r\nIn Spring 4.2x CollectionUtils.arrayToList implemented as follows;\r\n\r\n    \tpublic static List arrayToList(Object source) {\r\n\t\treturn Arrays.asList(ObjectUtils.toObjectArray(source));\r\n\t}\r\n\r\nand in 5.3, as follows;\r\n\r\n    \tpublic static List&lt;?&gt; arrayToList(@Nullable Object source) {\r\n\t\treturn Arrays.asList(ObjectUtils.toObjectArray(source));\r\n\t}\r\n\r\nWhat would be the best way to resolve this issue?\r\n\r\nEDIT : Thanks all, I went with `Arrays.asList` also can be fixed if I use `private static Set&lt;?&gt;` instead of `private static Set&lt;String&gt;` . ","title":"Cannot infer type arguments for HashSet&lt;&gt; error after spring upgrade","body":"<p>I have upgrade from spring 4.2x to 5.3x, since then I'm getting a Cannot infer type arguments for HashSet&lt;&gt; error on following code.</p>\n<pre><code>public static final String SEARCH_REQ = &quot;Search Request&quot;;\npublic static final String SEARCH_RES = &quot;Search Response&quot;;\n\n@SuppressWarnings(&quot;unchecked&quot;)\nprivate static Set&lt;String&gt; SEARCH_ACTIONS = new HashSet&lt;&gt;(CollectionUtils.arrayToList(new String[] {\n        SEARCH_REQ,\n        SEARCH_RES\n        }));\n</code></pre>\n<p>In Spring 4.2x CollectionUtils.arrayToList implemented as follows;</p>\n<pre><code>    public static List arrayToList(Object source) {\n    return Arrays.asList(ObjectUtils.toObjectArray(source));\n}\n</code></pre>\n<p>and in 5.3, as follows;</p>\n<pre><code>    public static List&lt;?&gt; arrayToList(@Nullable Object source) {\n    return Arrays.asList(ObjectUtils.toObjectArray(source));\n}\n</code></pre>\n<p>What would be the best way to resolve this issue?</p>\n<p>EDIT : Thanks all, I went with <code>Arrays.asList</code> also can be fixed if I use <code>private static Set&lt;?&gt;</code> instead of <code>private static Set&lt;String&gt;</code> .</p>\n"},{"tags":["java","mongodb","object","quarkus","kogito"],"comments":[{"owner":{"account_id":10816166,"reputation":156,"user_id":7955025,"display_name":"Cristiano Nicolai"},"score":1,"creation_date":1678530018,"post_id":75684111,"comment_id":133552920,"body_markdown":"Unfortunately, there is no workaround for this at this point. Kogito persistence needs a concrete type, or at least a Serializable type, in order to persist data to DB. If changing the data model is not possible, perhaps open a JIRA explaining your use case so that the team can investigate an alternative.","body":"Unfortunately, there is no workaround for this at this point. Kogito persistence needs a concrete type, or at least a Serializable type, in order to persist data to DB. If changing the data model is not possible, perhaps open a JIRA explaining your use case so that the team can investigate an alternative."}],"owner":{"account_id":20260580,"reputation":135,"user_id":14859042,"display_name":"codeforHarman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682575718,"creation_date":1678362068,"question_id":75684111,"body_markdown":"I had created a Kogito application with quarkus and it was working well with all data types and complex POJO classes.\r\nAfter I introduced MongoDB persistence into the picture, the Object types are causing the application build to fail. I have in my POJO&#39;s certain Object type properties.\r\nChecking the documentation i was able to discover that since java.lang.Object is not serializable, we cannot use it.\r\nI have certain logic dependent on Objects, so is there any workaround i can do to overcome this?","title":"Achieve Object perisistance in MongoDB Kogito","body":"<p>I had created a Kogito application with quarkus and it was working well with all data types and complex POJO classes.\nAfter I introduced MongoDB persistence into the picture, the Object types are causing the application build to fail. I have in my POJO's certain Object type properties.\nChecking the documentation i was able to discover that since java.lang.Object is not serializable, we cannot use it.\nI have certain logic dependent on Objects, so is there any workaround i can do to overcome this?</p>\n"},{"tags":["java","import","extends","java-6","implements"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1682575848,"post_id":76117207,"comment_id":134238181,"body_markdown":"`implements` was an old hack, please don&#39;t do that anymore.  `import` is much better.  If the number of imports is truly huge, you can consider using a global wildcard (`*`) to import many constants at once.","body":"<code>implements</code> was an old hack, please don&#39;t do that anymore.  <code>import</code> is much better.  If the number of imports is truly huge, you can consider using a global wildcard (<code>*</code>) to import many constants at once."},{"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"score":0,"creation_date":1682576367,"post_id":76117207,"comment_id":134238283,"body_markdown":"yeah, is rare to see it in current code that&#180;s partly why i am a little bit lost, as for imports, some classes are quite crazy but i have to do a few patches, not rework the whole project","body":"yeah, is rare to see it in current code that&#180;s partly why i am a little bit lost, as for imports, some classes are quite crazy but i have to do a few patches, not rework the whole project"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1682578426,"post_id":76117207,"comment_id":134238694,"body_markdown":"Do you have a specific question about the pros and cons of these approaches?","body":"Do you have a specific question about the pros and cons of these approaches?"},{"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"score":0,"creation_date":1682579550,"post_id":76117207,"comment_id":134238929,"body_markdown":"@tgdavies Well, it would be great to know the pros and cons of the three options in legacy code in order to obtain an homogeneous solution for this sort of interfaces. That being said, markspace recommends Import above implements which is in it&#180;s own way an answer","body":"@tgdavies Well, it would be great to know the pros and cons of the three options in legacy code in order to obtain an homogeneous solution for this sort of interfaces. That being said, markspace recommends Import above implements which is in it&#180;s own way an answer"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":2,"creation_date":1682581025,"post_id":76117207,"comment_id":134239216,"body_markdown":"extends and implements should be used rather for achieving polymorphism or implementing specific design patterns. You are clearly &quot;just&quot; reaching for the specific values, therefore static import seems like the way to go.","body":"extends and implements should be used rather for achieving polymorphism or implementing specific design patterns. You are clearly &quot;just&quot; reaching for the specific values, therefore static import seems like the way to go."},{"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"score":0,"creation_date":1682581205,"post_id":76117207,"comment_id":134239255,"body_markdown":"Thanks for your answer @fascynacja i will go that way. I have in the backlog a major update for this project but it&#180;s so far way that more than the backlog is the backyard.","body":"Thanks for your answer @fascynacja i will go that way. I have in the backlog a major update for this project but it&#180;s so far way that more than the backlog is the backyard."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683538263,"post_id":76117207,"comment_id":134376671,"body_markdown":"Since you wrote “*some static and final and some just public*”, it’s worth clarifying that all fields declared in an interface are implicitly `public`, `static`, and `final`, without the need to declare. You may add the redundant modifiers or omit them, but it’s strongly recommended to be consistent, as declaring these modifiers only on some of the fields obfuscates the fact that all fields have the same modifiers. Besides that, @fascynacja is right, don’t implement this interface, use `import static …`","body":"Since you wrote “<i>some static and final and some just public</i>”, it’s worth clarifying that all fields declared in an interface are implicitly <code>public</code>, <code>static</code>, and <code>final</code>, without the need to declare. You may add the redundant modifiers or omit them, but it’s strongly recommended to be consistent, as declaring these modifiers only on some of the fields obfuscates the fact that all fields have the same modifiers. Besides that, @fascynacja is right, don’t implement this interface, use <code>import static …</code>"}],"owner":{"account_id":17426804,"reputation":296,"user_id":12631570,"display_name":"Grismak"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1682578403,"answer_count":0,"score":2,"last_activity_date":1682575550,"creation_date":1682575550,"question_id":76117207,"body_markdown":"I am currently working on a legacy code in Java 1.6 and i found that they have a Constants Interface in the Utils package (Is a quite old Webapps) [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NIioK.png\r\n\r\nWell, some of the classes import the interface and some just implements it. While i am unable to make some major fixes in the project i would like to use the same solution for every classes that is using this class (almost everything in the projects calls for it).\r\n\r\nThe content of the class is just a few hundreds of Strings, some static and final and some just public.\r\n\r\nWhich option is the better approach for this sort of Constants file? \r\nextends, implements or just a basic import?","title":"Implements, Extends or import a Constants Interface","body":"<p>I am currently working on a legacy code in Java 1.6 and i found that they have a Constants Interface in the Utils package (Is a quite old Webapps) <a href=\"https://i.stack.imgur.com/NIioK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NIioK.png\" alt=\"enter image description here\" /></a></p>\n<p>Well, some of the classes import the interface and some just implements it. While i am unable to make some major fixes in the project i would like to use the same solution for every classes that is using this class (almost everything in the projects calls for it).</p>\n<p>The content of the class is just a few hundreds of Strings, some static and final and some just public.</p>\n<p>Which option is the better approach for this sort of Constants file?\nextends, implements or just a basic import?</p>\n"},{"tags":["java","algorithm","optimization"],"answers":[{"tags":[],"owner":{"account_id":795481,"reputation":755,"user_id":869766,"display_name":"han"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324063311,"creation_date":1324063311,"answer_id":8539105,"question_id":8532312,"body_markdown":"One apparent issue is that your code only considers joining route *j* after route *i* when *j &lt; i*.  You should also consider joining them the other way around - in other words, in the inner loop in computeSavingsElements *j* should go up to the number of customer nodes (`vrp.getDimension()`). \r\n\r\nOf course it&#39;s hard to tell if there are bugs in the parts of the code you are not showing, e.g. is the array `routeWhereTheCustomerIsTheLastOne` properly updated?","title":"Can you help me with my Clarke and Wright algorithm implementation?","body":"<p>One apparent issue is that your code only considers joining route <em>j</em> after route <em>i</em> when <em>j &lt; i</em>.  You should also consider joining them the other way around - in other words, in the inner loop in computeSavingsElements <em>j</em> should go up to the number of customer nodes (<code>vrp.getDimension()</code>). </p>\n\n<p>Of course it's hard to tell if there are bugs in the parts of the code you are not showing, e.g. is the array <code>routeWhereTheCustomerIsTheLastOne</code> properly updated?</p>\n"}],"owner":{"display_name":"user855520"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7988,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1682575240,"creation_date":1324028625,"question_id":8532312,"body_markdown":"I am trying to implement the [Clarke and Wright algorithm](http://web.mit.edu/urban_or_book/www/book/chapter6/6.4.12.html) to construct an initial VRP solution.\r\nIt seems to run properly but for some reason the solution&#39;s quality I get is not the expected one.\r\n\r\nHere&#39;s my code to compute the savings element:\r\n\r\n    private void computeSavingsElements() {\r\n\t\tfor(int i = 0; i&lt;vrp.getDimension(); i++) { \r\n\t\t\tfor(int j = 0; j &lt;  i; j++) { \t\t\t\r\n\t\t\t\t\tdouble savingValue =  vrp.distance(i, 0) + vrp.distance(0, j) - lamda * vrp.distance(i, j);\r\n\t\t\t\t\tSavingsElement savingElement = new SavingsElement (i,j, savingValue);\r\n\t\t\t\t\tsavingsElements.add(savingElement);\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tCollections.sort(savingsElements); // sort in ascending order\r\n\t\tCollections.reverse(savingsElements); // but we need descending order\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\nThe method to construct the solution:\r\n\r\n\r\n    private void constructSolution() {\r\n\t\tList&lt;VRPNode&gt; nodes = this.vrp.getNodesList();\r\n\t\tVRPNode depot = this.vrp.getDepot();\r\n\t\tdouble vehicleCapacity = this.vrp.getVehicleCapacity();\r\n\t\t\r\n\t\t\r\n\t\tVRPSolution solution = new VRPSolution(vehicleCapacity, depot);\r\n\t\t\r\n\t\t/*\r\n\t\t * In the initial solution, each vehicle serves exactly one customer\r\n\t\t */\r\n\t\tfor (VRPNode customer:nodes) {\r\n\t\t\tif (customer.getId()!=0) { // if not depot\r\n\t\t\t\tVRPRoute route = new VRPRoute(vehicleCapacity, depot);\r\n\t\t\t\troute.addCustomer(customer);\r\n\t\t\t\tsolution.addRoute(route);\r\n\t\t\t\troute = null; // eliminate obsolete reference to free resources\r\n\t\t\t}\r\n\t\t}\t\r\n\t\t\r\n\t\t//System.out.println(&quot;INITIAL SOLUTION: \\n&quot;+solution.toString());\r\n\t\t\r\n\t\tint mergesCounter=0;\r\n\t\tfor (SavingsElement savingElement : this.savingsElements) {\r\n\t\t\tif (savingElement.getSavingValue() &gt; 0) { // If serving customers consecutively in a route is profitable\r\n\t\t\t\t\r\n\t\t\t\tVRPNode i = this.vrp.getNode(savingElement.getNodeId1());\r\n\t\t\t\tVRPNode j = this.vrp.getNode(savingElement.getNodeId2());\r\n\t\t\t\t\r\n\t\t\t\tVRPRoute route1 = solution.routeWhereTheCustomerIsTheLastOne(i);\r\n\t\t\t\tVRPRoute route2 = solution.routeWhereTheCustomerIsTheFirstOne(j);\r\n\t\t\t\t\r\n\t\t\t\tif ((route1!=null) &amp; (route2!=null)) {\r\n\t\t\t\t\tif (route1.getDemand() + route2.getDemand() &lt;= this.vrp.getVehicleCapacity()) { // if merge is feasible\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t * Merge the two routes\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\tsolution.mergeRoutes(route1, route2);\r\n\t\t\t\t\t\tmergesCounter++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\t\r\n\t\t//System.out.println(&quot;\\n\\nAfter &quot;+mergesCounter+&quot; Merges&quot;+&quot;\\n&quot;+solution.toString());\r\n\t\tthis.solutionConstructed = solution;\r\n\t\t\r\n\t}\r\n\r\n\r\nAnd for the route merges:\r\n\r\n    public void mergeRoutes(VRPRoute a, VRPRoute b) {\r\n\t\t/*\r\n\t\t * Provided that feasibility check has already been performed\r\n\t\t */\r\n\t\tList&lt;VRPNode&gt; customersFromRouteA = new LinkedList&lt;VRPNode&gt;(a.getCustomersInRoute());\r\n\t\tList&lt;VRPNode&gt; customersFromRouteB = new LinkedList&lt;VRPNode&gt;(b.getCustomersInRoute());\r\n\t\t\r\n\t\t/*\r\n\t\t * Remove the old routes\r\n\t\t */\r\n\t\tsolutionRoutes.remove(a);\r\n\t\tsolutionRoutes.remove(b);\r\n\t\t\r\n\t\t/*\r\n\t\t * Construct a new merged route\r\n\t\t */\r\n\t\tVRPRoute mergedRoute = new VRPRoute(vehicleCapacity,depot);\r\n\t\t\r\n\t\t/*\r\n\t\t * The new route has to serve all the customers \r\n\t\t * both from route a and b\r\n\t\t */\r\n\t\tfor (VRPNode customerFromA:  customersFromRouteA) {\r\n\t\t\tmergedRoute.addCustomer(customerFromA);\r\n\t\t}\r\n\t\t\r\n\t\tfor (VRPNode customerFromB:  customersFromRouteB) {\r\n\t\t\tmergedRoute.addCustomer(customerFromB);\r\n\t\t}\r\n\t\t\r\n\t\taddRoute(mergedRoute);\r\n\r\n\t\tevaluateSolutionCost();\r\n\t}\r\n\r\n\r\nIt seems to compute the savings correctly and to merge the route as it should, but the constructed solution&#39;s cost is too much. For example in a given instance I get 1220 while it should be 820.\r\n\r\n  [1]: http://web.mit.edu/urban_or_book/www/book/chapter6/6.4.12.html","title":"Can you help me with my Clarke and Wright algorithm implementation?","body":"<p>I am trying to implement the <a href=\"http://web.mit.edu/urban_or_book/www/book/chapter6/6.4.12.html\" rel=\"nofollow noreferrer\">Clarke and Wright algorithm</a> to construct an initial VRP solution.\nIt seems to run properly but for some reason the solution's quality I get is not the expected one.</p>\n<p>Here's my code to compute the savings element:</p>\n<pre><code>private void computeSavingsElements() {\n    for(int i = 0; i&lt;vrp.getDimension(); i++) { \n        for(int j = 0; j &lt;  i; j++) {           \n                double savingValue =  vrp.distance(i, 0) + vrp.distance(0, j) - lamda * vrp.distance(i, j);\n                SavingsElement savingElement = new SavingsElement (i,j, savingValue);\n                savingsElements.add(savingElement);                                                 \n        }\n    }\n    Collections.sort(savingsElements); // sort in ascending order\n    Collections.reverse(savingsElements); // but we need descending order\n    \n}\n</code></pre>\n<p>The method to construct the solution:</p>\n<pre><code>private void constructSolution() {\n    List&lt;VRPNode&gt; nodes = this.vrp.getNodesList();\n    VRPNode depot = this.vrp.getDepot();\n    double vehicleCapacity = this.vrp.getVehicleCapacity();\n    \n    \n    VRPSolution solution = new VRPSolution(vehicleCapacity, depot);\n    \n    /*\n     * In the initial solution, each vehicle serves exactly one customer\n     */\n    for (VRPNode customer:nodes) {\n        if (customer.getId()!=0) { // if not depot\n            VRPRoute route = new VRPRoute(vehicleCapacity, depot);\n            route.addCustomer(customer);\n            solution.addRoute(route);\n            route = null; // eliminate obsolete reference to free resources\n        }\n    }   \n    \n    //System.out.println(&quot;INITIAL SOLUTION: \\n&quot;+solution.toString());\n    \n    int mergesCounter=0;\n    for (SavingsElement savingElement : this.savingsElements) {\n        if (savingElement.getSavingValue() &gt; 0) { // If serving customers consecutively in a route is profitable\n            \n            VRPNode i = this.vrp.getNode(savingElement.getNodeId1());\n            VRPNode j = this.vrp.getNode(savingElement.getNodeId2());\n            \n            VRPRoute route1 = solution.routeWhereTheCustomerIsTheLastOne(i);\n            VRPRoute route2 = solution.routeWhereTheCustomerIsTheFirstOne(j);\n            \n            if ((route1!=null) &amp; (route2!=null)) {\n                if (route1.getDemand() + route2.getDemand() &lt;= this.vrp.getVehicleCapacity()) { // if merge is feasible\n                    /*\n                     * Merge the two routes\n                     */\n                    solution.mergeRoutes(route1, route2);\n                    mergesCounter++;\n                }\n            }\n            \n            \n        }\n        \n    }   \n    //System.out.println(&quot;\\n\\nAfter &quot;+mergesCounter+&quot; Merges&quot;+&quot;\\n&quot;+solution.toString());\n    this.solutionConstructed = solution;\n    \n}\n</code></pre>\n<p>And for the route merges:</p>\n<pre><code>public void mergeRoutes(VRPRoute a, VRPRoute b) {\n    /*\n     * Provided that feasibility check has already been performed\n     */\n    List&lt;VRPNode&gt; customersFromRouteA = new LinkedList&lt;VRPNode&gt;(a.getCustomersInRoute());\n    List&lt;VRPNode&gt; customersFromRouteB = new LinkedList&lt;VRPNode&gt;(b.getCustomersInRoute());\n    \n    /*\n     * Remove the old routes\n     */\n    solutionRoutes.remove(a);\n    solutionRoutes.remove(b);\n    \n    /*\n     * Construct a new merged route\n     */\n    VRPRoute mergedRoute = new VRPRoute(vehicleCapacity,depot);\n    \n    /*\n     * The new route has to serve all the customers \n     * both from route a and b\n     */\n    for (VRPNode customerFromA:  customersFromRouteA) {\n        mergedRoute.addCustomer(customerFromA);\n    }\n    \n    for (VRPNode customerFromB:  customersFromRouteB) {\n        mergedRoute.addCustomer(customerFromB);\n    }\n    \n    addRoute(mergedRoute);\n\n    evaluateSolutionCost();\n}\n</code></pre>\n<p>It seems to compute the savings correctly and to merge the route as it should, but the constructed solution's cost is too much. For example in a given instance I get 1220 while it should be 820.</p>\n"},{"tags":["java","groovy","gradle"],"comments":[{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":3,"creation_date":1466474665,"post_id":23796404,"comment_id":63319042,"body_markdown":"Did you ever figure this out? I have the exact same issue. Someone on the discussion forum recommended putting exclude inside a compile block, but whenever I try to do so, I get this exact error.","body":"Did you ever figure this out? I have the exact same issue. Someone on the discussion forum recommended putting exclude inside a compile block, but whenever I try to do so, I get this exact error."},{"owner":{"account_id":7799917,"reputation":311,"user_id":5899746,"accept_rate":36,"display_name":"Shankar"},"score":0,"creation_date":1677055487,"post_id":23796404,"comment_id":133259853,"body_markdown":"Hi,\n\nSometimes we need to check gradle-wrapper.properties - distributionUrl whixh I used 7 and reverted back to 6.1 and working fine.","body":"Hi,  Sometimes we need to check gradle-wrapper.properties - distributionUrl whixh I used 7 and reverted back to 6.1 and working fine."}],"answers":[{"tags":[],"owner":{"account_id":403352,"reputation":4731,"user_id":771055,"display_name":"Radim"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1631303271,"creation_date":1400738572,"answer_id":23798912,"question_id":23796404,"body_markdown":"It should be `exclude module: &#39;net.milkbowl:vault:1.2.27&#39;`(add `module:`) as explained in documentation for `DependencyHandler` [linked from here][1] because `ModuleDependency.exclude(java.util.Map)` method is used.\r\n\r\n\r\n  [1]: http://www.gradle.org/docs/current/javadoc/org/gradle/api/Project.html#dependencies(groovy.lang.Closure)","title":"Could not find method compile() for arguments Gradle","body":"<p>It should be <code>exclude module: 'net.milkbowl:vault:1.2.27'</code>(add <code>module:</code>) as explained in documentation for <code>DependencyHandler</code> <a href=\"http://www.gradle.org/docs/current/javadoc/org/gradle/api/Project.html#dependencies(groovy.lang.Closure)\" rel=\"nofollow noreferrer\">linked from here</a> because <code>ModuleDependency.exclude(java.util.Map)</code> method is used.</p>\n"},{"tags":[],"owner":{"account_id":413995,"reputation":28249,"user_id":787968,"accept_rate":25,"display_name":"Rene Groeschke"},"down_vote_count":3,"up_vote_count":127,"is_accepted":false,"score":124,"last_activity_date":1400745315,"creation_date":1400745315,"answer_id":23800903,"question_id":23796404,"body_markdown":"`compile` is a `configuration` that is usually introduced by a plugin (most likely the java plugin) Have a look at the gradle userguide for details about configurations. For now adding the java plugin on top of your build script should do the trick:\r\n\r\n    apply plugin:&#39;java&#39;","title":"Could not find method compile() for arguments Gradle","body":"<p><code>compile</code> is a <code>configuration</code> that is usually introduced by a plugin (most likely the java plugin) Have a look at the gradle userguide for details about configurations. For now adding the java plugin on top of your build script should do the trick:</p>\n\n<pre><code>apply plugin:'java'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2580915,"reputation":5333,"user_id":2237635,"display_name":"RussellStewart"},"down_vote_count":0,"up_vote_count":185,"is_accepted":false,"score":185,"last_activity_date":1503303722,"creation_date":1446013542,"answer_id":33384263,"question_id":23796404,"body_markdown":"Make sure that you are editing the correct `build.gradle` file. I received this error when editing `android/build.gradle` rather than `android/app/build.gradle`.","title":"Could not find method compile() for arguments Gradle","body":"<p>Make sure that you are editing the correct <code>build.gradle</code> file. I received this error when editing <code>android/build.gradle</code> rather than <code>android/app/build.gradle</code>.</p>\n"},{"tags":[],"owner":{"account_id":5631297,"reputation":704,"user_id":4458186,"display_name":"Priyanshu Singh"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1631267373,"creation_date":1482472074,"answer_id":41295844,"question_id":23796404,"body_markdown":"Add the dependency to your **project-level** `build.gradle`:\r\n\r\n    classpath &#39;com.google.gms:google-services:3.0.0&#39;\r\n    \r\n    \r\nAdd the plugin to your **app-level** `build.gradle`:\r\n\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n**app-level** `build.gradle`:\r\n    \r\n    dependencies {\r\n            compile &#39;com.google.android.gms:play-services-auth:9.8.0&#39;\r\n    }","title":"Could not find method compile() for arguments Gradle","body":"<p>Add the dependency to your <strong>project-level</strong> <code>build.gradle</code>:</p>\n<pre><code>classpath 'com.google.gms:google-services:3.0.0'\n</code></pre>\n<p>Add the plugin to your <strong>app-level</strong> <code>build.gradle</code>:</p>\n<pre><code>apply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p><strong>app-level</strong> <code>build.gradle</code>:</p>\n<pre><code>dependencies {\n        compile 'com.google.android.gms:play-services-auth:9.8.0'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":272573,"reputation":10312,"user_id":563735,"accept_rate":71,"display_name":"Rohit Mandiwal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1485308091,"creation_date":1485308091,"answer_id":41842007,"question_id":23796404,"body_markdown":"In my case, all the `compile` statements has somehow arranged in a single line. separating them in individual lines has fixed the issue.","title":"Could not find method compile() for arguments Gradle","body":"<p>In my case, all the <code>compile</code> statements has somehow arranged in a single line. separating them in individual lines has fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":1527660,"reputation":2400,"user_id":1579915,"display_name":"dr0i"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548168881,"creation_date":1548168881,"answer_id":54310903,"question_id":23796404,"body_markdown":"In my case I had to remove some files that were created by gradle at some point in my study to make things work. So, cleaning up after messing up and then it ran fine ...\r\n\r\nIf you experienced this issue in a git project, do `git status` and remove the unrevisioned files. (For me `elasticsearch` had a problem with `plugins/analysis-icu`).\r\n\r\n`Gradle Version`        : 5.1.1\r\n ","title":"Could not find method compile() for arguments Gradle","body":"<p>In my case I had to remove some files that were created by gradle at some point in my study to make things work. So, cleaning up after messing up and then it ran fine ...</p>\n\n<p>If you experienced this issue in a git project, do <code>git status</code> and remove the unrevisioned files. (For me <code>elasticsearch</code> had a problem with <code>plugins/analysis-icu</code>).</p>\n\n<p><code>Gradle Version</code>        : 5.1.1</p>\n"},{"tags":[],"owner":{"account_id":970839,"reputation":11204,"user_id":993439,"accept_rate":77,"display_name":"longi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1575284210,"creation_date":1575284210,"answer_id":59137462,"question_id":23796404,"body_markdown":"Just for the record: I accidentally enabled **Offline work** under *Preferences -&gt; Build,Execution,Deployment -&gt; Gradle -&gt; uncheck Offline Work*, but the error message was misleading","title":"Could not find method compile() for arguments Gradle","body":"<p>Just for the record: I accidentally enabled <strong>Offline work</strong> under <em>Preferences -> Build,Execution,Deployment -> Gradle -> uncheck Offline Work</em>, but the error message was misleading</p>\n"},{"tags":[],"owner":{"account_id":20957178,"reputation":8067,"user_id":15397371,"display_name":"ashelkov"},"down_vote_count":0,"up_vote_count":793,"is_accepted":false,"score":793,"last_activity_date":1618333835,"creation_date":1617307952,"answer_id":66910991,"question_id":23796404,"body_markdown":"Note that the `compile`, `runtime`, `testCompile`, and `testRuntime` configurations introduced by the Java plugin have been deprecated since [Gradle 4.10][1] ([Aug 27, 2018][2]), and were finally removed in [Gradle 7.0][3] ([Apr 9, 2021][2]).\r\n\r\nThe aforementioned configurations should be replaced by `implementation`, `runtimeOnly`, `testImplementation`, and `testRuntimeOnly`, respectively.\r\n\r\n\r\n  [1]: https://docs.gradle.org/4.10/userguide/java_plugin.html#sec:java_plugin_and_dependency_management\r\n  [2]: https://gradle.org/releases/\r\n  [3]: https://docs.gradle.org/7.0/userguide/java_library_plugin.html#sec:java_library_configurations_graph","title":"Could not find method compile() for arguments Gradle","body":"<p>Note that the <code>compile</code>, <code>runtime</code>, <code>testCompile</code>, and <code>testRuntime</code> configurations introduced by the Java plugin have been deprecated since <a href=\"https://docs.gradle.org/4.10/userguide/java_plugin.html#sec:java_plugin_and_dependency_management\" rel=\"noreferrer\">Gradle 4.10</a> (<a href=\"https://gradle.org/releases/\" rel=\"noreferrer\">Aug 27, 2018</a>), and were finally removed in <a href=\"https://docs.gradle.org/7.0/userguide/java_library_plugin.html#sec:java_library_configurations_graph\" rel=\"noreferrer\">Gradle 7.0</a> (<a href=\"https://gradle.org/releases/\" rel=\"noreferrer\">Apr 9, 2021</a>).</p>\n<p>The aforementioned configurations should be replaced by <code>implementation</code>, <code>runtimeOnly</code>, <code>testImplementation</code>, and <code>testRuntimeOnly</code>, respectively.</p>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1633077977,"creation_date":1622818161,"answer_id":67839341,"question_id":23796404,"body_markdown":"In my case the problem was mismatch in the gradle version. I have installed gradle **on mac** using \r\n\r\n    brew install gradle\r\nand got the latest gradle which was 7.0\r\n\r\nHowever when I cloned by project repo and executed the gradle taks it failed with below error\r\n\r\n    * What went wrong:\r\n    A problem occurred evaluating root project &#39;digital-engineering-course&#39;.\r\n    &gt; Could not find method compile() for arguments [org.springframework.boot:spring-boot-starter-web, build_bzpgd6h32w4m8umtmgs76ewog$_run_closure3$_closure8@b55ca3] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n\r\n`build.gradle` file looked pretty normal to me as it has regular dependencies\r\n\r\n    dependencies {\r\n    \tcompile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\t{\r\n    \t\texclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n    \t} \r\n    \tcompile(&quot;org.springframework.boot:spring-boot-starter-data-mongodb&quot;)\t\r\n\r\nIt took me a while to understand the problem is mismatch of version. Gradle is not able to find the method `compile()` because I was using gradle 7.0 in my bash.\r\n\r\nAnd the project was supposed to be ran with gradle 4.8 (Actually gradle wrapper was to be used, but that was breaking for another interesting issue `Could not find or load main class org.gradle.wrapper.GradleWrapperMain` \r\n(If interested [please follow this for details][1])\r\n\r\nThe reason for failure is compile is that the **compile**, **runtime**, **testCompile**, and **testRuntime** configurations introduced by the Java plugin have been deprecated since Gradle 4.10, and were finally removed in Gradle 7.0.\r\n\r\nSo, to solve the problem I had to install the lower version of gradle. If you want to manage multiple version of gradle use [sdkman][2] (earlier known as gvm)\r\n\r\nInstallation on macOs / linux is as simple as executing below\r\n\r\n    curl -s &quot;https://get.sdkman.io&quot; | bash\r\n\r\nOnce done use\r\n\r\n    sdk list gradle\r\n\r\nIt will list out all the available versions of the gradle. As per your need install and use. for e.g\r\n\r\n`sdk install gradle 4.8` (this will choose the 4.8 by default in current shell)\r\n`sdk use gradle 4.8` (if already installed, this is suffice to switch between gradle version)\r\n\r\nAnd now the `build.gradle` was able to compile and execute the task.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67839118/1503163\r\n  [2]: https://sdkman.io/","title":"Could not find method compile() for arguments Gradle","body":"<p>In my case the problem was mismatch in the gradle version. I have installed gradle <strong>on mac</strong> using</p>\n<pre><code>brew install gradle\n</code></pre>\n<p>and got the latest gradle which was 7.0</p>\n<p>However when I cloned by project repo and executed the gradle taks it failed with below error</p>\n<pre><code>* What went wrong:\nA problem occurred evaluating root project 'digital-engineering-course'.\n&gt; Could not find method compile() for arguments [org.springframework.boot:spring-boot-starter-web, build_bzpgd6h32w4m8umtmgs76ewog$_run_closure3$_closure8@b55ca3] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n</code></pre>\n<p><code>build.gradle</code> file looked pretty normal to me as it has regular dependencies</p>\n<pre><code>dependencies {\n    compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    } \n    compile(&quot;org.springframework.boot:spring-boot-starter-data-mongodb&quot;)    \n</code></pre>\n<p>It took me a while to understand the problem is mismatch of version. Gradle is not able to find the method <code>compile()</code> because I was using gradle 7.0 in my bash.</p>\n<p>And the project was supposed to be ran with gradle 4.8 (Actually gradle wrapper was to be used, but that was breaking for another interesting issue <code>Could not find or load main class org.gradle.wrapper.GradleWrapperMain</code>\n(If interested <a href=\"https://stackoverflow.com/a/67839118/1503163\">please follow this for details</a>)</p>\n<p>The reason for failure is compile is that the <strong>compile</strong>, <strong>runtime</strong>, <strong>testCompile</strong>, and <strong>testRuntime</strong> configurations introduced by the Java plugin have been deprecated since Gradle 4.10, and were finally removed in Gradle 7.0.</p>\n<p>So, to solve the problem I had to install the lower version of gradle. If you want to manage multiple version of gradle use <a href=\"https://sdkman.io/\" rel=\"noreferrer\">sdkman</a> (earlier known as gvm)</p>\n<p>Installation on macOs / linux is as simple as executing below</p>\n<pre><code>curl -s &quot;https://get.sdkman.io&quot; | bash\n</code></pre>\n<p>Once done use</p>\n<pre><code>sdk list gradle\n</code></pre>\n<p>It will list out all the available versions of the gradle. As per your need install and use. for e.g</p>\n<p><code>sdk install gradle 4.8</code> (this will choose the 4.8 by default in current shell)\n<code>sdk use gradle 4.8</code> (if already installed, this is suffice to switch between gradle version)</p>\n<p>And now the <code>build.gradle</code> was able to compile and execute the task.</p>\n"}],"owner":{"account_id":4372272,"reputation":3329,"user_id":3663074,"display_name":"Ichbinjoe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453268,"favorite_count":0,"down_vote_count":1,"up_vote_count":319,"accepted_answer_id":23798912,"answer_count":9,"score":318,"last_activity_date":1682575124,"creation_date":1400721955,"question_id":23796404,"body_markdown":"Looked around for this solution for much too long now, and I&#39;m not sure if I missed it or just misstyped something, but my Gradle script will not compile. I am migrating to Gradle, and am very new with it. I am very used to using Maven for dependency management, but Gradle seems best me for now. From running this snippet of code:\r\n\r\n    dependencies {\r\n      compile group: &#39;org.bukkit&#39;, name: &#39;bukkit&#39;, version: &#39;1.7.9-R0.1-SNAPSHOT&#39;\r\n      compile(&#39;io.ibj:MattLib:1.1-SNAPSHOT&#39;) {\r\n        exclude group: &#39;de.bananaco&#39;\r\n        exclude &#39;net.milkbowl:vault:1.2.27&#39;\r\n      }\r\n      compile group: &#39;net.citizensnpcs&#39;, name: &#39;citizens&#39;, version: &#39;2.0.12&#39;\r\n      compile group: &#39;com.sk89q&#39;, name: &#39;worldedit&#39;, version: &#39;5.6.1&#39;\r\n      compile group: &#39;com.sk89q&#39;, name: &#39;worldguard&#39;, version: &#39;5.9&#39;\r\n      compile group: &#39;net.milkbowl&#39;, name: &#39;vault&#39;, version: &#39;1.2.12&#39;\r\n      compile fileTree(dir: &#39;libs&#39;, includes: [&#39;*.jar&#39;])\r\n    }\r\n\r\n**NOTE:** I do have the java, maven, nexus, shadow, and rebel plugins applied.\r\n\r\nWhen I run my Gradle task, I encounter this error: \r\n    \r\n    Could not find method compile() for arguments [[io.ibj:MattLib:1.1-SNAPSHOT], build_1b5iofu9r9krp7o8mme0dqo9l$_run_closure2_closure8@66fb45e5] on root project &#39;project&#39;\r\n\r\nIf I remove the `MattLib` dependency from my project and reinsert it as\r\n\r\n    compile &#39;io.ibj:MattLib:1.1-SNAPSHOT&#39;\r\n\r\nThe script completes, but I have dependency issues. I read up here:\r\n\r\n    dependencies {\r\n      compile(&quot;org.gradle.test.excludes:api:1.0&quot;) {\r\n        exclude module: &#39;shared&#39;\r\n      }\r\n    }\r\n\r\n(From Chapter 50 From [the Gradle Manual][1])\r\n\r\nthat what I have SHOULD work, but I am confused why it doesn&#39;t.\r\n\r\n`gradle --version` output:\r\n\r\n    Groovy:       1.8.6\r\n    Ant:          Apache Ant(TM) version 1.9.3 compiled on December 23 2013\r\n    Ivy:          2.2.0\r\n    JVM:          1.8.0_05 (Oracle Corporation 25.5-b02)\r\n    OS:           Windows 7 6.1 amd64\r\n\r\n\r\n  [1]: http://www.gradle.org/docs/current/userguide/dependency_management.html","title":"Could not find method compile() for arguments Gradle","body":"<p>Looked around for this solution for much too long now, and I'm not sure if I missed it or just misstyped something, but my Gradle script will not compile. I am migrating to Gradle, and am very new with it. I am very used to using Maven for dependency management, but Gradle seems best me for now. From running this snippet of code:</p>\n<pre><code>dependencies {\n  compile group: 'org.bukkit', name: 'bukkit', version: '1.7.9-R0.1-SNAPSHOT'\n  compile('io.ibj:MattLib:1.1-SNAPSHOT') {\n    exclude group: 'de.bananaco'\n    exclude 'net.milkbowl:vault:1.2.27'\n  }\n  compile group: 'net.citizensnpcs', name: 'citizens', version: '2.0.12'\n  compile group: 'com.sk89q', name: 'worldedit', version: '5.6.1'\n  compile group: 'com.sk89q', name: 'worldguard', version: '5.9'\n  compile group: 'net.milkbowl', name: 'vault', version: '1.2.12'\n  compile fileTree(dir: 'libs', includes: ['*.jar'])\n}\n</code></pre>\n<p><strong>NOTE:</strong> I do have the java, maven, nexus, shadow, and rebel plugins applied.</p>\n<p>When I run my Gradle task, I encounter this error:</p>\n<pre><code>Could not find method compile() for arguments [[io.ibj:MattLib:1.1-SNAPSHOT], build_1b5iofu9r9krp7o8mme0dqo9l$_run_closure2_closure8@66fb45e5] on root project 'project'\n</code></pre>\n<p>If I remove the <code>MattLib</code> dependency from my project and reinsert it as</p>\n<pre><code>compile 'io.ibj:MattLib:1.1-SNAPSHOT'\n</code></pre>\n<p>The script completes, but I have dependency issues. I read up here:</p>\n<pre><code>dependencies {\n  compile(&quot;org.gradle.test.excludes:api:1.0&quot;) {\n    exclude module: 'shared'\n  }\n}\n</code></pre>\n<p>(From Chapter 50 From <a href=\"http://www.gradle.org/docs/current/userguide/dependency_management.html\" rel=\"noreferrer\">the Gradle Manual</a>)</p>\n<p>that what I have SHOULD work, but I am confused why it doesn't.</p>\n<p><code>gradle --version</code> output:</p>\n<pre><code>Groovy:       1.8.6\nAnt:          Apache Ant(TM) version 1.9.3 compiled on December 23 2013\nIvy:          2.2.0\nJVM:          1.8.0_05 (Oracle Corporation 25.5-b02)\nOS:           Windows 7 6.1 amd64\n</code></pre>\n"},{"tags":["java","cxf","jax-ws","cdi","ws-security"],"answers":[{"tags":[],"owner":{"account_id":8698073,"reputation":40,"user_id":6508874,"display_name":"Cristian-Florin Pandele"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682575070,"creation_date":1682575070,"answer_id":76117156,"question_id":75532332,"body_markdown":"The solution for me was to create a callback handler where I pass the username and password.\r\n\r\nAfter reading [this][1] article, I&#39;ve created the UserToken Password callback handler class(client side) and updated the client code and configured the &quot;out&quot; interceptor(client side) where I specified the type of authentication.\r\n\r\n```\r\npublic class UTPasswordCallback implements CallbackHandler {\r\n \r\n    public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\r\n        for (Callback callback : callbacks) {\r\n            WSPasswordCallback wpc = (WSPasswordCallback) callback;\r\n            if (wpc.getIdentifier().equals(&quot;cxf&quot;)) {\r\n                wpc.setPassword(&quot;cxf&quot;);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\npublic class HWClient {\r\n \r\n    public static void main(String[] args) {\r\n        HelloWorldService service = new HelloWorldService();\r\n        HelloWorld hw = service.getHelloWorldPort();\r\n         \r\n        Client client = ClientProxy.getClient(hw);\r\n        Endpoint endpoint = client.getEndpoint();\r\n \r\n        Map props = new HashMap();\r\n        props.put(WSHandlerConstants.ACTION, WSHandlerConstants.USERNAME_TOKEN);\r\n        props.put(WSHandlerConstants.PASSWORD_TYPE, WSConstants.PW_TEXT);\r\n        props.put(WSHandlerConstants.PW_CALLBACK_CLASS, UTPasswordCallback.class.getName());\r\n        props.put(WSHandlerConstants.USER, &quot;cxf&quot;);\r\n         \r\n        WSS4JOutInterceptor wssOut = new WSS4JOutInterceptor(props);\r\n        endpoint.getOutInterceptors().add(wssOut);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://examples.javacodegeeks.com/enterprise-java/jws/jax-ws-client-basic-authentication-example/","title":"How to inject @AppConfigProperty in CallbackHandler of WSS4JOutInterceptor","body":"<p>The solution for me was to create a callback handler where I pass the username and password.</p>\n<p>After reading <a href=\"https://examples.javacodegeeks.com/enterprise-java/jws/jax-ws-client-basic-authentication-example/\" rel=\"nofollow noreferrer\">this</a> article, I've created the UserToken Password callback handler class(client side) and updated the client code and configured the &quot;out&quot; interceptor(client side) where I specified the type of authentication.</p>\n<pre><code>public class UTPasswordCallback implements CallbackHandler {\n \n    public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\n        for (Callback callback : callbacks) {\n            WSPasswordCallback wpc = (WSPasswordCallback) callback;\n            if (wpc.getIdentifier().equals(&quot;cxf&quot;)) {\n                wpc.setPassword(&quot;cxf&quot;);\n                return;\n            }\n        }\n    }\n}\n\npublic class HWClient {\n \n    public static void main(String[] args) {\n        HelloWorldService service = new HelloWorldService();\n        HelloWorld hw = service.getHelloWorldPort();\n         \n        Client client = ClientProxy.getClient(hw);\n        Endpoint endpoint = client.getEndpoint();\n \n        Map props = new HashMap();\n        props.put(WSHandlerConstants.ACTION, WSHandlerConstants.USERNAME_TOKEN);\n        props.put(WSHandlerConstants.PASSWORD_TYPE, WSConstants.PW_TEXT);\n        props.put(WSHandlerConstants.PW_CALLBACK_CLASS, UTPasswordCallback.class.getName());\n        props.put(WSHandlerConstants.USER, &quot;cxf&quot;);\n         \n        WSS4JOutInterceptor wssOut = new WSS4JOutInterceptor(props);\n        endpoint.getOutInterceptors().add(wssOut);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8698073,"reputation":40,"user_id":6508874,"display_name":"Cristian-Florin Pandele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76117156,"answer_count":1,"score":0,"last_activity_date":1682575070,"creation_date":1677066699,"question_id":75532332,"body_markdown":"For context: I have to make a call to one of our webservices(internal call from a batchjob) and pass in the username and password required(the webservice is protected with WS-Security)\r\n\r\nMy goal is to be able to inject the value of &quot;username&quot; into my InternalServicePasswordCallback(classname passed to WSS4JOutInterceptor) but the injected field is null.\r\nInjecting the same property works in another class managed by CDI.\r\n\r\nThis is most of the class that I&#39;m trying to inject into, it contains no other constructors or public fields.\r\n\r\n    public class InternalServicePasswordCallback implements CallbackHandler {\r\n        private static final String APP_PROPERTIES = &quot;app.properties&quot;;\r\n     \r\n        @Inject\r\n        @AppConfigProperty(&quot;USERNAME&quot;)\r\n        private String username;\r\n     \r\n        public InternalServicePasswordCallback() {}\r\n     \r\n        public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {for (Callback callback : callbacks) {\r\n            WSPasswordCallback wpc = (WSPasswordCallback) callback;\r\n                if (wpc.getIdentifier().equals(properties.get(username))) {\r\n                    wpc.setPassword((String) properties.get(somepass));\r\n                    return;\r\n                }\r\n            }\r\n    }\r\n\r\nI&#39;m passing the InternalServicePasswordCallback class to the WSS4JOutInterceptor  interceptor. And im testing by deploying the jboss application to my local server.\r\n\r\n```\r\nprivate void setEndPoint(Object port, String endPoint) {      \r\n    BindingProvider bp = (BindingProvider) port;\r\n    bp.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, endPoint);\r\n    Client client = ClientProxy.getClient(port);\r\n     \r\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n    props.put(ConfigurationConstants.ACTION, ConfigurationConstants.USERNAME_TOKEN);\r\n    props.put(ConfigurationConstants.PASSWORD_TYPE, WSS4JConstants.PW_TEXT);\r\n    props.put(ConfigurationConstants.PW_CALLBACK_CLASS, InternalServicePasswordCallback.class.getName());\r\n    props.put(ConfigurationConstants.USER, user);\r\n    WSS4JOutInterceptor wssOut = new WSS4JOutInterceptor(props);\r\n    Endpoint endpoint = client.getEndpoint();\r\n    endpoint.getOutInterceptors().add(wssOut);\r\n     \r\n    client.getOutInterceptors().add(new LoggingOutInterceptor(-1));\r\n    client.getInInterceptors().add(new LoggingInInterceptor(-1));\r\n}\r\n```\r\n\r\nFrameworks/tools used:\r\n- Application container/server: jboss-eap-7.3\r\n- Apache CXF version: 3.3.9\r\n- Java version: OpenJDK 11\r\n- Jakarta EE version:jakarta.enterprise.cdi-api:2.0.2.redhat-00002\r\n\r\nMy assumption is that jboss/weld CDI does not take care of the instantiation of the InternalServicePasswordCallback class and thus cant inject other managed beans into it, am I correct?\r\n\r\nThank you for your time!\r\n\r\n","title":"How to inject @AppConfigProperty in CallbackHandler of WSS4JOutInterceptor","body":"<p>For context: I have to make a call to one of our webservices(internal call from a batchjob) and pass in the username and password required(the webservice is protected with WS-Security)</p>\n<p>My goal is to be able to inject the value of &quot;username&quot; into my InternalServicePasswordCallback(classname passed to WSS4JOutInterceptor) but the injected field is null.\nInjecting the same property works in another class managed by CDI.</p>\n<p>This is most of the class that I'm trying to inject into, it contains no other constructors or public fields.</p>\n<pre><code>public class InternalServicePasswordCallback implements CallbackHandler {\n    private static final String APP_PROPERTIES = &quot;app.properties&quot;;\n \n    @Inject\n    @AppConfigProperty(&quot;USERNAME&quot;)\n    private String username;\n \n    public InternalServicePasswordCallback() {}\n \n    public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {for (Callback callback : callbacks) {\n        WSPasswordCallback wpc = (WSPasswordCallback) callback;\n            if (wpc.getIdentifier().equals(properties.get(username))) {\n                wpc.setPassword((String) properties.get(somepass));\n                return;\n            }\n        }\n}\n</code></pre>\n<p>I'm passing the InternalServicePasswordCallback class to the WSS4JOutInterceptor  interceptor. And im testing by deploying the jboss application to my local server.</p>\n<pre><code>private void setEndPoint(Object port, String endPoint) {      \n    BindingProvider bp = (BindingProvider) port;\n    bp.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, endPoint);\n    Client client = ClientProxy.getClient(port);\n     \n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConfigurationConstants.ACTION, ConfigurationConstants.USERNAME_TOKEN);\n    props.put(ConfigurationConstants.PASSWORD_TYPE, WSS4JConstants.PW_TEXT);\n    props.put(ConfigurationConstants.PW_CALLBACK_CLASS, InternalServicePasswordCallback.class.getName());\n    props.put(ConfigurationConstants.USER, user);\n    WSS4JOutInterceptor wssOut = new WSS4JOutInterceptor(props);\n    Endpoint endpoint = client.getEndpoint();\n    endpoint.getOutInterceptors().add(wssOut);\n     \n    client.getOutInterceptors().add(new LoggingOutInterceptor(-1));\n    client.getInInterceptors().add(new LoggingInInterceptor(-1));\n}\n</code></pre>\n<p>Frameworks/tools used:</p>\n<ul>\n<li>Application container/server: jboss-eap-7.3</li>\n<li>Apache CXF version: 3.3.9</li>\n<li>Java version: OpenJDK 11</li>\n<li>Jakarta EE version:jakarta.enterprise.cdi-api:2.0.2.redhat-00002</li>\n</ul>\n<p>My assumption is that jboss/weld CDI does not take care of the instantiation of the InternalServicePasswordCallback class and thus cant inject other managed beans into it, am I correct?</p>\n<p>Thank you for your time!</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","google-oauth"],"owner":{"account_id":15008191,"reputation":608,"user_id":10833496,"display_name":"Power_tile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682574827,"creation_date":1682574827,"question_id":76117136,"body_markdown":"I am using Spring Security 5 with Google OAuth API. I would like all my `/user/**` requests to be authenticated, and if not redirect. My Spring Boot application is running at `localhost:&lt;BackEndPort&gt;` and my frontend (React) running at `localhost:&lt;FrontEndPort&gt;`.\r\n\r\nMy Backend filter on authentication code:\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        return http.authorizeHttpRequests(authorize -&gt; authorize.requestMatchers(&quot;/user/**&quot;).authenticated()\r\n                                                                .anyRequest().permitAll())\r\n                   .oauth2Login().and().build();\r\n    }\r\n}\r\n```\r\n\r\nMy `application.properties` configuration:\r\n\r\n```\r\nspring.security.oauth2.client.registration.google.scope=openid,email,profile\r\nspring.security.oauth2.client.provider.google.authorization-uri=https://accounts.google.com/o/oauth2/auth\r\nspring.security.oauth2.client.provider.google.token-uri=https://accounts.google.com/o/oauth2/token\r\nspring.security.oauth2.client.provider.google.user-info-uri=https://www.googleapis.com/oauth2/v3/userinfo\r\nspring.security.oauth2.client.provider.google.user-name-attribute=name\r\nspring.security.oauth2.client.registration.google.redirect-uri=http://localhost:${server.port}/user/\r\n```\r\n\r\nAnd in my Google API Console I configured redirect URI to `localhost:&lt;BackEndPort&gt;/user/`.\r\n\r\nTwo questions:\r\n\r\n1) Currently, accessing `localhost:&lt;BackEndPort&gt;/user/` redirects me to the Google OAuth page of choosing an account. However, after choosing I am redirected to the same page, and am forever stuck :( How should I change the `configure` function?\r\n\r\n2) My frontend that initiates the request to backend (GET `localhost:&lt;BackEndPort&gt;/user/` for user information in this case) receives a CORS restriction even though I added `@CrossOrigin(origins = &quot;http://localhost:&lt;FrontEndPort&gt;&quot;)` at my `/user/` Controller class. Deleting the `SecurityConfig` class erases the CORS restriction...?","title":"Spring Security 5 with Google OAuth Redirection Loop","body":"<p>I am using Spring Security 5 with Google OAuth API. I would like all my <code>/user/**</code> requests to be authenticated, and if not redirect. My Spring Boot application is running at <code>localhost:&lt;BackEndPort&gt;</code> and my frontend (React) running at <code>localhost:&lt;FrontEndPort&gt;</code>.</p>\n<p>My Backend filter on authentication code:</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\n        return http.authorizeHttpRequests(authorize -&gt; authorize.requestMatchers(&quot;/user/**&quot;).authenticated()\n                                                                .anyRequest().permitAll())\n                   .oauth2Login().and().build();\n    }\n}\n</code></pre>\n<p>My <code>application.properties</code> configuration:</p>\n<pre><code>spring.security.oauth2.client.registration.google.scope=openid,email,profile\nspring.security.oauth2.client.provider.google.authorization-uri=https://accounts.google.com/o/oauth2/auth\nspring.security.oauth2.client.provider.google.token-uri=https://accounts.google.com/o/oauth2/token\nspring.security.oauth2.client.provider.google.user-info-uri=https://www.googleapis.com/oauth2/v3/userinfo\nspring.security.oauth2.client.provider.google.user-name-attribute=name\nspring.security.oauth2.client.registration.google.redirect-uri=http://localhost:${server.port}/user/\n</code></pre>\n<p>And in my Google API Console I configured redirect URI to <code>localhost:&lt;BackEndPort&gt;/user/</code>.</p>\n<p>Two questions:</p>\n<ol>\n<li><p>Currently, accessing <code>localhost:&lt;BackEndPort&gt;/user/</code> redirects me to the Google OAuth page of choosing an account. However, after choosing I am redirected to the same page, and am forever stuck :( How should I change the <code>configure</code> function?</p>\n</li>\n<li><p>My frontend that initiates the request to backend (GET <code>localhost:&lt;BackEndPort&gt;/user/</code> for user information in this case) receives a CORS restriction even though I added <code>@CrossOrigin(origins = &quot;http://localhost:&lt;FrontEndPort&gt;&quot;)</code> at my <code>/user/</code> Controller class. Deleting the <code>SecurityConfig</code> class erases the CORS restriction...?</p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","exception","overriding"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1580225731,"post_id":59952013,"comment_id":106023677,"body_markdown":"The error message mentions ambiguity. That sounds like there are multiple exception handlers for the same exception class and the compiler won&#39;t pick a random one. I have no idea about a solution though.","body":"The error message mentions ambiguity. That sounds like there are multiple exception handlers for the same exception class and the compiler won&#39;t pick a random one. I have no idea about a solution though."},{"owner":{"account_id":6357701,"reputation":85,"user_id":4934368,"display_name":"Marcel Oostebring"},"score":0,"creation_date":1580226034,"post_id":59952013,"comment_id":106023843,"body_markdown":"I know what the message means, Spring handles it internally as well, that&#39;s why I&#39;m overriding it (Extending the class at first, then override it.)","body":"I know what the message means, Spring handles it internally as well, that&#39;s why I&#39;m overriding it (Extending the class at first, then override it.)"},{"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"score":0,"creation_date":1580229045,"post_id":59952013,"comment_id":106025521,"body_markdown":"@MarcelOostebring please check my answer, this will help you https://stackoverflow.com/a/57961101/10426557 if this helps upvote please...","body":"@MarcelOostebring please check my answer, this will help you <a href=\"https://stackoverflow.com/a/57961101/10426557\">stackoverflow.com/a/57961101/10426557</a> if this helps upvote please..."},{"owner":{"account_id":6357701,"reputation":85,"user_id":4934368,"display_name":"Marcel Oostebring"},"score":0,"creation_date":1580281328,"post_id":59952013,"comment_id":106041247,"body_markdown":"@One guy that unfortunately did not help me. I&#39;m still getting the ambigious exception handler method mapped error.","body":"@One guy that unfortunately did not help me. I&#39;m still getting the ambigious exception handler method mapped error."},{"owner":{"account_id":4163070,"reputation":873,"user_id":3412696,"display_name":"Rafi"},"score":0,"creation_date":1629706616,"post_id":59952013,"comment_id":121747776,"body_markdown":"May help someone, I got it working with this : https://stackoverflow.com/a/68888906/3412696","body":"May help someone, I got it working with this : <a href=\"https://stackoverflow.com/a/68888906/3412696\">stackoverflow.com/a/68888906/3412696</a>"},{"owner":{"account_id":2756475,"reputation":896,"user_id":2374391,"display_name":"Ehsan Shekari"},"score":0,"creation_date":1672919022,"post_id":59952013,"comment_id":132383533,"body_markdown":"I think the Spring boot version is causing the problem. Unfortunately, in some of tutorials the versions are not mentioned and the speed of change is insane these days.","body":"I think the Spring boot version is causing the problem. Unfortunately, in some of tutorials the versions are not mentioned and the speed of change is insane these days."}],"answers":[{"tags":[],"owner":{"account_id":16179189,"reputation":599,"user_id":11681150,"display_name":"Yogeen Loriya"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1580282615,"creation_date":1580282615,"answer_id":59962238,"question_id":59952013,"body_markdown":"If you want to create your own response, then try with the below code.\r\n\r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler {\r\n    \r\n        @ExceptionHandler(MethodArgumentNotValidException.class)\r\n        protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex) {\r\n            Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\r\n            body.put(&quot;error&quot;, ex);\r\n            return new ResponseEntity&lt;&gt;(body, HttpStatus.UNPROCESSABLE_ENTITY);\r\n        }\r\n    }\r\n\r\nYou can change the Map to your customize object and set the error pieces of information you want. I hope it will work.\r\n","title":"How to override handleMethodArgumentNotValid properly in Spring Boot","body":"<p>If you want to create your own response, then try with the below code.</p>\n\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex) {\n        Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n        body.put(\"error\", ex);\n        return new ResponseEntity&lt;&gt;(body, HttpStatus.UNPROCESSABLE_ENTITY);\n    }\n}\n</code></pre>\n\n<p>You can change the Map to your customize object and set the error pieces of information you want. I hope it will work.</p>\n"}],"owner":{"account_id":6357701,"reputation":85,"user_id":4934368,"display_name":"Marcel Oostebring"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11368,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":59962238,"answer_count":1,"score":6,"last_activity_date":1682574822,"creation_date":1580225249,"question_id":59952013,"body_markdown":"I&#39;m trying to override the `handleMethodArgumentNotValid` method. But I&#39;m still getting the error: \r\n\r\n`Caused by: java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]`\r\n\r\nI&#39;ve overridden the method as suggested in various posts (for example in https://stackoverflow.com/questions/16651160/spring-rest-errorhandling-controlleradvice-valid) like this: \r\n\r\n```\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@RestControllerAdvice\r\npublic class CustomExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @Override\r\n    @ExceptionHandler(value = MethodArgumentNotValidException.class)\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest webRequest) {\r\n        String message = errorMessageBuilder(ex);\r\n        return handleExceptionInternal(ex, message, new HttpHeaders(), HttpStatus.UNPROCESSABLE_ENTITY, webRequest);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\nSincerely,\r\n\r\nMarcel","title":"How to override handleMethodArgumentNotValid properly in Spring Boot","body":"<p>I'm trying to override the <code>handleMethodArgumentNotValid</code> method. But I'm still getting the error: </p>\n\n<p><code>Caused by: java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]</code></p>\n\n<p>I've overridden the method as suggested in various posts (for example in <a href=\"https://stackoverflow.com/questions/16651160/spring-rest-errorhandling-controlleradvice-valid\">Spring Rest ErrorHandling @ControllerAdvice / @Valid</a>) like this: </p>\n\n<pre><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@RestControllerAdvice\npublic class CustomExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @Override\n    @ExceptionHandler(value = MethodArgumentNotValidException.class)\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest webRequest) {\n        String message = errorMessageBuilder(ex);\n        return handleExceptionInternal(ex, message, new HttpHeaders(), HttpStatus.UNPROCESSABLE_ENTITY, webRequest);\n    }\n}\n\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>Sincerely,</p>\n\n<p>Marcel</p>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":58848,"reputation":1817,"user_id":1873862,"display_name":"petrch"},"score":0,"creation_date":1682574397,"post_id":76116082,"comment_id":134237982,"body_markdown":"I was just curious, started reading about this and found this page https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ql-reference.multiplestatements.transactions.html I don&#39;t say it is an answer, but it may be userful for you.","body":"I was just curious, started reading about this and found this page <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ql-reference.multiplestatements.transactions.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/amazondynamodb/latest/developerguide/&hellip;</a> I don&#39;t say it is an answer, but it may be userful for you."}],"owner":{"account_id":7261939,"reputation":349,"user_id":5538299,"accept_rate":79,"display_name":"DawnZHANG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682573817,"creation_date":1682557824,"question_id":76116082,"body_markdown":"### Context\r\nHave a DDB table with schema:\r\n\r\n```\r\nHashKey: UserId\r\nSortKey: UUID\r\nAttribute: status\r\n```\r\n\r\n### Question\r\nWant to compose a `putItem request` with below condition: \r\n1. If userId does not exist, write to the table with PENDING status\r\n2. If userId already exist, only allow write if the existing record is NOT in PENDING status. In another word, if the existing record is in SUCCESS status, allow write to the table.\r\n\r\n### Expectation\r\nWrite Request: `Andy(UserId) 123(UUID) PENDING`\r\nOnly allow write success if there no existing `Andy(UserId) PENDING` in the table already, that is, at any time, the table should only have one record with `Andy(UserId) PENDING`.\r\n\r\n### What I have tried\r\nFirst try:\r\n```\r\nExpression.builder()\r\n   .expression(&quot;#status &lt;&gt; :pendingStatus&quot;)\r\n   .putExpressionName(&quot;#status&quot;, &quot;status&quot;)\r\n   .putExpressionValue(&quot;:pendingStatus&quot;, AttributeValue.builder().s(&quot;PENDING&quot;).build())\r\n   .build();\r\n```\r\nDoes not work as expected:\r\nif `Andy(UserId) 123(UUID) PENDING` already exist in the table, and I want to write `Andy(UserId) 456(UUID) PENDING`, the operation should fail with conditional check failure, but it was succeeding.\r\n\r\nSecond try:\r\n```\r\nExpression.builder()\r\n   .expression(&quot;(attribute_exists(userId) AND #status &lt;&gt; :pendingStatus)&quot;)\r\n   .putExpressionName(&quot;#transactionStatus&quot;, &quot;transactionStatus&quot;)\r\n   .putExpressionValue(&quot;:pendingStatus&quot;,\r\n                       AttributeValue.builder()\r\n                                     .s(&quot;PENDING&quot;)\r\n                                     .build())\r\n   .build();\r\n```\r\nDoes not work as expected:\r\nThis condition does not allow new userId to be inserted into the table.\r\n\r\n\r\nThird try: \r\n```\r\nExpression.builder()\r\n   .expression(&quot;(attribute_exists(userId) AND #status &lt;&gt; :pendingStatus) OR attribute_not_exists(userId)&quot;)\r\n   .putExpressionName(&quot;#transactionStatus&quot;, &quot;transactionStatus&quot;)\r\n   .putExpressionValue(&quot;:pendingStatus&quot;,\r\n                       AttributeValue.builder()\r\n                                     .s(&quot;PENDING&quot;)\r\n                                     .build())\r\n   .build();\r\n```\r\nDoes not work as expected:\r\nif `Andy(UserId) 123(UUID) PENDING` already exist in the table, and I want to write `Andy(UserId) 456(UUID) PENDING`, the operation should fail with conditional check failure, but it was succeeding.\r\n\r\nI think either I have to change change the table key schema or I need a working condition expression to achieve this, any help would be appreciated.","title":"Dynamodb write operation with conditional expression","body":"<h3>Context</h3>\n<p>Have a DDB table with schema:</p>\n<pre><code>HashKey: UserId\nSortKey: UUID\nAttribute: status\n</code></pre>\n<h3>Question</h3>\n<p>Want to compose a <code>putItem request</code> with below condition:</p>\n<ol>\n<li>If userId does not exist, write to the table with PENDING status</li>\n<li>If userId already exist, only allow write if the existing record is NOT in PENDING status. In another word, if the existing record is in SUCCESS status, allow write to the table.</li>\n</ol>\n<h3>Expectation</h3>\n<p>Write Request: <code>Andy(UserId) 123(UUID) PENDING</code>\nOnly allow write success if there no existing <code>Andy(UserId) PENDING</code> in the table already, that is, at any time, the table should only have one record with <code>Andy(UserId) PENDING</code>.</p>\n<h3>What I have tried</h3>\n<p>First try:</p>\n<pre><code>Expression.builder()\n   .expression(&quot;#status &lt;&gt; :pendingStatus&quot;)\n   .putExpressionName(&quot;#status&quot;, &quot;status&quot;)\n   .putExpressionValue(&quot;:pendingStatus&quot;, AttributeValue.builder().s(&quot;PENDING&quot;).build())\n   .build();\n</code></pre>\n<p>Does not work as expected:\nif <code>Andy(UserId) 123(UUID) PENDING</code> already exist in the table, and I want to write <code>Andy(UserId) 456(UUID) PENDING</code>, the operation should fail with conditional check failure, but it was succeeding.</p>\n<p>Second try:</p>\n<pre><code>Expression.builder()\n   .expression(&quot;(attribute_exists(userId) AND #status &lt;&gt; :pendingStatus)&quot;)\n   .putExpressionName(&quot;#transactionStatus&quot;, &quot;transactionStatus&quot;)\n   .putExpressionValue(&quot;:pendingStatus&quot;,\n                       AttributeValue.builder()\n                                     .s(&quot;PENDING&quot;)\n                                     .build())\n   .build();\n</code></pre>\n<p>Does not work as expected:\nThis condition does not allow new userId to be inserted into the table.</p>\n<p>Third try:</p>\n<pre><code>Expression.builder()\n   .expression(&quot;(attribute_exists(userId) AND #status &lt;&gt; :pendingStatus) OR attribute_not_exists(userId)&quot;)\n   .putExpressionName(&quot;#transactionStatus&quot;, &quot;transactionStatus&quot;)\n   .putExpressionValue(&quot;:pendingStatus&quot;,\n                       AttributeValue.builder()\n                                     .s(&quot;PENDING&quot;)\n                                     .build())\n   .build();\n</code></pre>\n<p>Does not work as expected:\nif <code>Andy(UserId) 123(UUID) PENDING</code> already exist in the table, and I want to write <code>Andy(UserId) 456(UUID) PENDING</code>, the operation should fail with conditional check failure, but it was succeeding.</p>\n<p>I think either I have to change change the table key schema or I need a working condition expression to achieve this, any help would be appreciated.</p>\n"},{"tags":["java","spring-boot","package","hexagonal-architecture"],"answers":[{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682572895,"creation_date":1682534257,"answer_id":76114036,"question_id":76113710,"body_markdown":"I would probably rename the `domain` to `core` and inside of the core, I would 2 more packages domains, and applications.\r\n```\r\ncore\r\n |___ domain\r\n |___ application\r\n```\r\n\r\ninside the domain, I would add more packages such as `entities`, `value objects`, and `domain events`. However, this preference is leaning more toward following a DDD approach that uses hexagonal architecture. I would also move `ports` under `application`.\r\n\r\nHence you would have something similar to:\r\n\r\n```\r\ncore\r\n |___ domain\r\n |      |_ entities\r\n |      |_ events \r\n |      |_ valueObjects\r\n |\r\n |___ application\r\n         |_ services\r\n         |_ ports\r\n```\r\n\r\nBut, it is worth mentioning that Uncle Bob, emphasizes the importance of aligning your application architecture with your domain. He argues that the architecture of a software system should reflect the business domain it serves, rather than the particular technical details of the application.\r\n\r\nHence, as long your core/domain is independent of any other detail (UI, database, external system) you should be fine.\r\n\r\nregarding the other packages you have already mentioned,  I would probably leave them the same.\r\n\r\n*Edited*:\r\n\r\nRegarding the `domain.entities` or (`domain.model`) that represents your domain, you would still have `db.entities` that are used for persistence. For example, if you are developing a spring boot application and let&#39;s say you are using JPA to help in persistence, and your in the context of an `OrderService`. Typically you you would have in your domain (an entity [in DDD] or model [the name you used in your case]) called Order that is purely a Java object:\r\n\r\n```\r\npublic class Order {\r\n  private String id;\r\n  ....\r\n \r\n  //constructors, other functions ... \r\n}\r\n```\r\n\r\nHowever, on the `adapters.outbound.db.entities` you will have the persistence object of this order domain that would have annotations such as `@Entity` for example. if you are wondering why you can use this annotation here because you are at the level of the infra where you can are allowed to use ORMs or other technical details technology. Hence you would end up with:\r\n\r\n```\r\n@Entity\r\npublic class OrderEntity {\r\n\r\n  @Id\r\n  private String id;\r\n  ....\r\n \r\n \r\n}\r\n```\r\n\r\nNotice how in the example above am now using hibernate/JPA syntax, in the future if you decide to change to a different ORM you could simply change the `OrderEntity` instead of your core model `Order` since the latter should only change for business requirements and not for technical details. So in my previous answer `domain.entities` does not reflect the persistence model but the Domain model which reflects your business objects. To move from your `Order` to `OrderEntity` you would basically do mapping between these two classes by making sure the `core` does not depend on the `infra`. Meaning that at no point in time, you shall see `OrderEntity` in your imports when you are in the core. But vice versa is possible (finding `Order` in the infra layer) because your external/infra/.. should depend on core.\r\n\r\nRegarding `domain.ValueObject`, in brief value object is an immutable object that represents a concept or an entity that is identified by its attributes rather than its identity these can be used to typically model concepts such as date, time, money... Let&#39;s take an example:\r\n\r\nYour order would probably have a price, instead of having a double value that represents the price of this order you would probably create a `Money` value object.\r\n\r\n```\r\npublic class Order {\r\n  private String id;\r\n  private Money price;\r\n  ....\r\n \r\n  //constructors, other functions ... \r\n}\r\n\r\npublic class Money {\r\n private final BigDecimal amount;\r\n\r\n  // conversion functions\r\n  // rouding\r\n}\r\n```\r\nSo probably now you are wondering the reason behind this encapsulation. Well, one example behind this encapsulation:\r\n\r\n1. The Money Value Object can encapsulate all the rules and calculations related to money in the domain, such as currency conversion, rounding, and formatting. This couldn&#39;t be achieved by having a simple `double price` field without leaking information to the `Order` model or by creating for example an `OrderPriceCalculator` service.\r\n\r\nWhereas for the persistence model `OrderEntity` once you are mapping from `Order` to `OrderEntity` the `OrderEntity` could now have the price as a `double` property since you are just persisting the `Order` model, and now logic or conversion should be occurring at this level.\r\n\r\nIn summary, these added concepts are well-known in the DDD space as previously mentioned. I would encourage to read about the topic as it would help in designing your application.\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n","title":"What sub-packages are recommended to use to dispatch classes when creating an hexagonal architecture for a Java (here spring-boot) application?","body":"<p>I would probably rename the <code>domain</code> to <code>core</code> and inside of the core, I would 2 more packages domains, and applications.</p>\n<pre><code>core\n |___ domain\n |___ application\n</code></pre>\n<p>inside the domain, I would add more packages such as <code>entities</code>, <code>value objects</code>, and <code>domain events</code>. However, this preference is leaning more toward following a DDD approach that uses hexagonal architecture. I would also move <code>ports</code> under <code>application</code>.</p>\n<p>Hence you would have something similar to:</p>\n<pre><code>core\n |___ domain\n |      |_ entities\n |      |_ events \n |      |_ valueObjects\n |\n |___ application\n         |_ services\n         |_ ports\n</code></pre>\n<p>But, it is worth mentioning that Uncle Bob, emphasizes the importance of aligning your application architecture with your domain. He argues that the architecture of a software system should reflect the business domain it serves, rather than the particular technical details of the application.</p>\n<p>Hence, as long your core/domain is independent of any other detail (UI, database, external system) you should be fine.</p>\n<p>regarding the other packages you have already mentioned,  I would probably leave them the same.</p>\n<p><em>Edited</em>:</p>\n<p>Regarding the <code>domain.entities</code> or (<code>domain.model</code>) that represents your domain, you would still have <code>db.entities</code> that are used for persistence. For example, if you are developing a spring boot application and let's say you are using JPA to help in persistence, and your in the context of an <code>OrderService</code>. Typically you you would have in your domain (an entity [in DDD] or model [the name you used in your case]) called Order that is purely a Java object:</p>\n<pre><code>public class Order {\n  private String id;\n  ....\n \n  //constructors, other functions ... \n}\n</code></pre>\n<p>However, on the <code>adapters.outbound.db.entities</code> you will have the persistence object of this order domain that would have annotations such as <code>@Entity</code> for example. if you are wondering why you can use this annotation here because you are at the level of the infra where you can are allowed to use ORMs or other technical details technology. Hence you would end up with:</p>\n<pre><code>@Entity\npublic class OrderEntity {\n\n  @Id\n  private String id;\n  ....\n \n \n}\n</code></pre>\n<p>Notice how in the example above am now using hibernate/JPA syntax, in the future if you decide to change to a different ORM you could simply change the <code>OrderEntity</code> instead of your core model <code>Order</code> since the latter should only change for business requirements and not for technical details. So in my previous answer <code>domain.entities</code> does not reflect the persistence model but the Domain model which reflects your business objects. To move from your <code>Order</code> to <code>OrderEntity</code> you would basically do mapping between these two classes by making sure the <code>core</code> does not depend on the <code>infra</code>. Meaning that at no point in time, you shall see <code>OrderEntity</code> in your imports when you are in the core. But vice versa is possible (finding <code>Order</code> in the infra layer) because your external/infra/.. should depend on core.</p>\n<p>Regarding <code>domain.ValueObject</code>, in brief value object is an immutable object that represents a concept or an entity that is identified by its attributes rather than its identity these can be used to typically model concepts such as date, time, money... Let's take an example:</p>\n<p>Your order would probably have a price, instead of having a double value that represents the price of this order you would probably create a <code>Money</code> value object.</p>\n<pre><code>public class Order {\n  private String id;\n  private Money price;\n  ....\n \n  //constructors, other functions ... \n}\n\npublic class Money {\n private final BigDecimal amount;\n\n  // conversion functions\n  // rouding\n}\n</code></pre>\n<p>So probably now you are wondering the reason behind this encapsulation. Well, one example behind this encapsulation:</p>\n<ol>\n<li>The Money Value Object can encapsulate all the rules and calculations related to money in the domain, such as currency conversion, rounding, and formatting. This couldn't be achieved by having a simple <code>double price</code> field without leaking information to the <code>Order</code> model or by creating for example an <code>OrderPriceCalculator</code> service.</li>\n</ol>\n<p>Whereas for the persistence model <code>OrderEntity</code> once you are mapping from <code>Order</code> to <code>OrderEntity</code> the <code>OrderEntity</code> could now have the price as a <code>double</code> property since you are just persisting the <code>Order</code> model, and now logic or conversion should be occurring at this level.</p>\n<p>In summary, these added concepts are well-known in the DDD space as previously mentioned. I would encourage to read about the topic as it would help in designing your application.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682572895,"creation_date":1682531592,"question_id":76113710,"body_markdown":"I discovered the hexagonal architecture and I&#39;m willing to apply it on a rather large _Spring Boot_ application.\r\n\r\nA _stackoverflow_ user started a question with a list of sub-packages looking to me really convenient to use, or at least to think about, in this https://stackoverflow.com/questions/73198158/classes-and-packages-encapsulation-in-an-hexagonal-architecture question.\r\n\r\nThe questioner was planning to use a list of packages starting that way:\r\n\r\n```\r\n[....].domain.model\r\n[....].domain.ports\r\n[....].domain.services\r\n\r\n[....].adapters.inbound\r\n[....].adapters.inbound.rest\r\n[....].adapters.inbound.bus\r\n\r\n[....].adapters.outbound\r\n[....].adapters.outbound.db\r\n[....].adapters.outbound.db.entities\r\n[....].adapters.outbound.db.repositories\r\n[....].adapters.outbound.db.mappers\r\n\r\n[....].adapters.outbound.bus\r\n[....].adapters.outbound.bus.dtos\r\n[....].adapters.outbound.bus.mappers\r\n```\r\n\r\nWhat are the most complete lists of sub-packages recommended to use (or to think about) when creating an hexagonal architecture?\r\n\r\nI know: it depends of the kind of application I&#39;m doing, that&#39;s true. But in general, if you had to do a template, in this given example of twelve first packages, what would you add, change?","title":"What sub-packages are recommended to use to dispatch classes when creating an hexagonal architecture for a Java (here spring-boot) application?","body":"<p>I discovered the hexagonal architecture and I'm willing to apply it on a rather large <em>Spring Boot</em> application.</p>\n<p>A <em>stackoverflow</em> user started a question with a list of sub-packages looking to me really convenient to use, or at least to think about, in this <a href=\"https://stackoverflow.com/questions/73198158/classes-and-packages-encapsulation-in-an-hexagonal-architecture\">Classes and packages encapsulation in an hexagonal architecture</a> question.</p>\n<p>The questioner was planning to use a list of packages starting that way:</p>\n<pre><code>[....].domain.model\n[....].domain.ports\n[....].domain.services\n\n[....].adapters.inbound\n[....].adapters.inbound.rest\n[....].adapters.inbound.bus\n\n[....].adapters.outbound\n[....].adapters.outbound.db\n[....].adapters.outbound.db.entities\n[....].adapters.outbound.db.repositories\n[....].adapters.outbound.db.mappers\n\n[....].adapters.outbound.bus\n[....].adapters.outbound.bus.dtos\n[....].adapters.outbound.bus.mappers\n</code></pre>\n<p>What are the most complete lists of sub-packages recommended to use (or to think about) when creating an hexagonal architecture?</p>\n<p>I know: it depends of the kind of application I'm doing, that's true. But in general, if you had to do a template, in this given example of twelve first packages, what would you add, change?</p>\n"},{"tags":["java","rabbitmq","load-testing","project-reactor","onbackpressed"],"answers":[{"tags":[],"owner":{"account_id":7669432,"reputation":1445,"user_id":5812179,"accept_rate":50,"display_name":"Niamatullah Bakhshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682572453,"creation_date":1682572085,"answer_id":76116918,"question_id":75852532,"body_markdown":"My initial assumption was that the issue must be with the project reactor. However, the issue seems to be with `spring integration.`\r\n\r\nThe flow of requests in my application is as follows:\r\n\r\n    FooController (1) ➝ FooService (2) ➝ Spring Integration (3) ➝ RabbitMQ (4)\r\n\r\nAs explained in the question, this flow works fine for sometimes. However, after processing few requests i.e. 300 requests, the app hangs and fails to accept more requests i.e. returning `503 http reponse`. \r\n\r\nAfter a through research, it seems the requests stop in step `(3)` which is delegating the tasks to spring integration for some unknown reasons.\r\n\r\nSolution: \r\n\r\n    FooController (1) ➝ FooService (2) ➝ RabbitMQ (3)\r\n\r\nNote: delegating the tasks to Spring Integration is convenient and recommended. So, the more ideal scenario would be as follow should the root cause get resolved with `spring integration (4)`.\r\n\r\n    FooController (1) ➝ Spring Integration(2) ➝ FooService (3) ➝ Spring Integration(4) ➝ RabbitMQ (5)\r\n\r\n\r\n","title":"sending message to RabbitMQ using spring integration stops processing items when the app is under load","body":"<p>My initial assumption was that the issue must be with the project reactor. However, the issue seems to be with <code>spring integration.</code></p>\n<p>The flow of requests in my application is as follows:</p>\n<pre><code>FooController (1) ➝ FooService (2) ➝ Spring Integration (3) ➝ RabbitMQ (4)\n</code></pre>\n<p>As explained in the question, this flow works fine for sometimes. However, after processing few requests i.e. 300 requests, the app hangs and fails to accept more requests i.e. returning <code>503 http reponse</code>.</p>\n<p>After a through research, it seems the requests stop in step <code>(3)</code> which is delegating the tasks to spring integration for some unknown reasons.</p>\n<p>Solution:</p>\n<pre><code>FooController (1) ➝ FooService (2) ➝ RabbitMQ (3)\n</code></pre>\n<p>Note: delegating the tasks to Spring Integration is convenient and recommended. So, the more ideal scenario would be as follow should the root cause get resolved with <code>spring integration (4)</code>.</p>\n<pre><code>FooController (1) ➝ Spring Integration(2) ➝ FooService (3) ➝ Spring Integration(4) ➝ RabbitMQ (5)\n</code></pre>\n"}],"owner":{"account_id":7669432,"reputation":1445,"user_id":5812179,"accept_rate":50,"display_name":"Niamatullah Bakhshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682572453,"creation_date":1679896942,"question_id":75852532,"body_markdown":"I am using **projectreactor** Sinks with backPressureBuffer support to handle incoming requests in my spring boot application. \r\nIn my `FooService.kt` \r\n\r\n    private val requestProcessor = Sinks.many().multicast().onBackpressureBuffer&lt;FooRequest&gt;(100)\r\n\r\nAn EmitFailureHandler as follows \r\n\r\n      val emitFailureHandler = EmitFailureHandler { _: SignalType?, emitResult: EmitResult -&gt;\r\n        (emitResult == EmitResult.FAIL_NON_SERIALIZED || emitResult == EmitResult.FAIL_OVERFLOW)\r\n      }\r\n\r\nI have defined an **init** method inside the class as follows: \r\n\r\n      init {\r\n        requestProcessor.asFlux()\r\n          .flatMap { request -&gt;\r\n            try {\r\n              logger.debug(&quot;handleByRabbitMq : {}&quot;, request)\r\n              footGateway.handleByRabbitMq(request)\r\n            } catch (e: Exception) {\r\n              logger.error(&quot;unknown error when processing foo request&quot;, e)\r\n              Mono.empty()\r\n            }\r\n          }\r\n          .subscribe()\r\n      }\r\n\r\n\r\n      fun handleRequest(fooRequest: FooRequest): Mono&lt;FooResponse&gt; {\r\n        val (_, id) = fooRequest\r\n        val responseSink = Sinks.one&lt;FooResponse&gt;()\r\n        responseListeners[id] = responseSink\r\n        requestProcessor.emitNext(fooRequest, emitFailureHandler)\r\n        return responseSink.asMono()\r\n          .timeout(Duration.ofSeconds(10))\r\n          .onErrorResume { Mono.just(FooResponse(REQUEST_SUBMITTED)) }\r\n          .doOnTerminate { responseListeners.remove(id) }\r\n      }\r\n\r\n**FooController.kt**\r\n\r\n      @GetMapping(&quot;/foo/request&quot;)\r\n      @Timed(value = &quot;foo.request&quot;)\r\n      fun fooRequest(fooRequest: FooRequest): Mono&lt;String&gt; {\r\n        return performAction(fooRequest)\r\n          .flatMap { fooResponse -&gt;\r\n            Mono.fromCallable {\r\n              &quot;FooResponse: $fooResponse&quot;\r\n            }\r\n          }\r\n          .doOnNext { logger.debug(&quot;response {}&quot;, it) }\r\n      }\r\n\r\n      fun performAction(fooRequest: FooRequest): Mono&lt;FooResponse&gt; {\r\n        return Mono.just(fooRequest))\r\n          .flatMap { request -&gt;\r\n            fooService.handleRequest(request)\r\n          }\r\n          .doOnNext { response -&gt;\r\n            //some operations here\r\n            logger.debug(response)\r\n          }.subscribeOn(Schedulers.boundedElastic())\r\n      }\r\n\r\nEverything works great. The requests are emitted and processed normally initially.\r\n\r\n**Problem**: When the app goes under a load of requests or when I do the load tesing using frameworks like ```k6```, the ```requestProcessor``` stops emitting the items. In other words, the ```init``` block stops executing despite the ```requestProcessor.emitNext(fooRequest, emitFailureHandler)``` getting called.\r\n\r\nInitially, the app threw ```FAIL_NON_SERIALIZED``` and ```FAIL_OVERFLOW``` error. For this, I added the above ```emitFailureHandler```. It helped but postponed the issue for a few hours. \r\n\r\n 1. The App still responds though the success rate is 96%. This is still\r\n    good. \r\n 2. The second time execution: The success rate jumps down to 88%.\r\n    After execution of this, the app throws `503 http reponse` and no longer accepts requests.\r\n\r\n 3.logs.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MURYa.png\r\n  [2]: https://i.stack.imgur.com/zM4nz.png\r\n  [3]: https://i.stack.imgur.com/UwLi4.png\r\n\r\n\r\nNew findings: \r\nThere seems to be some issues with the RabbitMQ [`fooGateway.handleByRabbitMq(request)`]. I have been digging around it but failed to see any errors. With removing the rabbitMQ in the **init** block, the app becomes responsive. Yet, I need to know the cause? \r\n","title":"sending message to RabbitMQ using spring integration stops processing items when the app is under load","body":"<p>I am using <strong>projectreactor</strong> Sinks with backPressureBuffer support to handle incoming requests in my spring boot application.\nIn my <code>FooService.kt</code></p>\n<pre><code>private val requestProcessor = Sinks.many().multicast().onBackpressureBuffer&lt;FooRequest&gt;(100)\n</code></pre>\n<p>An EmitFailureHandler as follows</p>\n<pre><code>  val emitFailureHandler = EmitFailureHandler { _: SignalType?, emitResult: EmitResult -&gt;\n    (emitResult == EmitResult.FAIL_NON_SERIALIZED || emitResult == EmitResult.FAIL_OVERFLOW)\n  }\n</code></pre>\n<p>I have defined an <strong>init</strong> method inside the class as follows:</p>\n<pre><code>  init {\n    requestProcessor.asFlux()\n      .flatMap { request -&gt;\n        try {\n          logger.debug(&quot;handleByRabbitMq : {}&quot;, request)\n          footGateway.handleByRabbitMq(request)\n        } catch (e: Exception) {\n          logger.error(&quot;unknown error when processing foo request&quot;, e)\n          Mono.empty()\n        }\n      }\n      .subscribe()\n  }\n\n\n  fun handleRequest(fooRequest: FooRequest): Mono&lt;FooResponse&gt; {\n    val (_, id) = fooRequest\n    val responseSink = Sinks.one&lt;FooResponse&gt;()\n    responseListeners[id] = responseSink\n    requestProcessor.emitNext(fooRequest, emitFailureHandler)\n    return responseSink.asMono()\n      .timeout(Duration.ofSeconds(10))\n      .onErrorResume { Mono.just(FooResponse(REQUEST_SUBMITTED)) }\n      .doOnTerminate { responseListeners.remove(id) }\n  }\n</code></pre>\n<p><strong>FooController.kt</strong></p>\n<pre><code>  @GetMapping(&quot;/foo/request&quot;)\n  @Timed(value = &quot;foo.request&quot;)\n  fun fooRequest(fooRequest: FooRequest): Mono&lt;String&gt; {\n    return performAction(fooRequest)\n      .flatMap { fooResponse -&gt;\n        Mono.fromCallable {\n          &quot;FooResponse: $fooResponse&quot;\n        }\n      }\n      .doOnNext { logger.debug(&quot;response {}&quot;, it) }\n  }\n\n  fun performAction(fooRequest: FooRequest): Mono&lt;FooResponse&gt; {\n    return Mono.just(fooRequest))\n      .flatMap { request -&gt;\n        fooService.handleRequest(request)\n      }\n      .doOnNext { response -&gt;\n        //some operations here\n        logger.debug(response)\n      }.subscribeOn(Schedulers.boundedElastic())\n  }\n</code></pre>\n<p>Everything works great. The requests are emitted and processed normally initially.</p>\n<p><strong>Problem</strong>: When the app goes under a load of requests or when I do the load tesing using frameworks like <code>k6</code>, the <code>requestProcessor</code> stops emitting the items. In other words, the <code>init</code> block stops executing despite the <code>requestProcessor.emitNext(fooRequest, emitFailureHandler)</code> getting called.</p>\n<p>Initially, the app threw <code>FAIL_NON_SERIALIZED</code> and <code>FAIL_OVERFLOW</code> error. For this, I added the above <code>emitFailureHandler</code>. It helped but postponed the issue for a few hours.</p>\n<ol>\n<li>The App still responds though the success rate is 96%. This is still\ngood.</li>\n<li>The second time execution: The success rate jumps down to 88%.\nAfter execution of this, the app throws <code>503 http reponse</code> and no longer accepts requests.</li>\n</ol>\n<p>3.logs.</p>\n<p><a href=\"https://i.stack.imgur.com/MURYa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MURYa.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/zM4nz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zM4nz.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/UwLi4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UwLi4.png\" alt=\"enter image description here\" /></a></p>\n<p>New findings:\nThere seems to be some issues with the RabbitMQ [<code>fooGateway.handleByRabbitMq(request)</code>]. I have been digging around it but failed to see any errors. With removing the rabbitMQ in the <strong>init</strong> block, the app becomes responsive. Yet, I need to know the cause?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682570851,"post_id":76116809,"comment_id":134237536,"body_markdown":"`public class Button extends JButton` is a bad place to start","body":"<code>public class Button extends JButton</code> is a bad place to start"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1682570928,"post_id":76116809,"comment_id":134237549,"body_markdown":"`button = new JButton();` is never displayed in any context which would be useful, so the user can&#39;t click it so it&#39;s `ActionListener` will never be triggered","body":"<code>button = new JButton();</code> is never displayed in any context which would be useful, so the user can&#39;t click it so it&#39;s <code>ActionListener</code> will never be triggered"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682571021,"post_id":76116809,"comment_id":134237562,"body_markdown":"Swing is NOT thread safe, your `Thread` is dangerous and you should consider using a Swing `Timer` instead.  Swing is double buffered by default, so you &quot;backing buffer&quot; implementation is pointless and you should be overriding `paintComponent` instead of `paint` anyway.","body":"Swing is NOT thread safe, your <code>Thread</code> is dangerous and you should consider using a Swing <code>Timer</code> instead.  Swing is double buffered by default, so you &quot;backing buffer&quot; implementation is pointless and you should be overriding <code>paintComponent</code> instead of <code>paint</code> anyway."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682571061,"post_id":76116809,"comment_id":134237573,"body_markdown":"I could reimplement your entire logic by simply making use of the standard Swing library, so I&#39;m not seeing the point of the custom painting workflow or &quot;thread&quot;","body":"I could reimplement your entire logic by simply making use of the standard Swing library, so I&#39;m not seeing the point of the custom painting workflow or &quot;thread&quot;"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682571925,"creation_date":1682571925,"answer_id":76116910,"question_id":76116809,"body_markdown":"The basic answer to your question is, because that&#39;s not how it works.\r\n\r\nSwing is NOT thread safe, you should not be updating the UI, or any state the UI relies on, from outside the context of the Event Dispatching Thread.\r\n\r\n`public class Button extends JButton implements ActionListener  {` is pointless, you&#39;re not adding any new functionality to the class and instead are creating ANOTHER instance of `JButton` inside it, which is never displayed in any usable context, so the user will never be able to interact with it.\r\n\r\nSince `JButton` already supports displaying `Icon`s, it seems otherwise pointless.\r\n\r\nThis throws your entire &quot;custom paint&quot; process into question, why would you actually need it, it&#39;s not adding anything that wouldn&#39;t otherwise be achieved more efficiently and with a lot of less effort on your part.\r\n\r\nI would recommend spending some time looking at [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/) and [How to Use Buttons, Check Boxes, and Radio Buttons](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html)\r\n\r\nAlso, don&#39;t think you&#39;re smarter then the inbuilt layout system, seriously as someone whose built a few custom layouts in the past, it&#39;s complicated!  Make use of the available libraries and save yourself a lot of trouble.  See [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for more details.\r\n\r\nThe following example will, basically, do exactly what you seem to be wanting to do, with a lot less effort...\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                ActionListener actionListener = new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        System.out.println(&quot;Did click &quot; + e.getActionCommand());\r\n                    }\r\n                };\r\n                for (int index = 0; index &lt; 2; index++) {\r\n                    JButton btn = new JButton(new ImageIcon(ImageIO.read(getClass().getResource(&quot;/images/RainbowHand.png&quot;))));\r\n                    btn.setActionCommand(&quot;Button&quot; + index);\r\n                    btn.addActionListener(actionListener);\r\n                    add(btn);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nI would also suggest looking at:\r\n\r\n* [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html)\r\n* [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)\r\n* [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)","title":"Why didn&#39;t my buttons respond to my action listener","body":"<p>The basic answer to your question is, because that's not how it works.</p>\n<p>Swing is NOT thread safe, you should not be updating the UI, or any state the UI relies on, from outside the context of the Event Dispatching Thread.</p>\n<p><code>public class Button extends JButton implements ActionListener  {</code> is pointless, you're not adding any new functionality to the class and instead are creating ANOTHER instance of <code>JButton</code> inside it, which is never displayed in any usable context, so the user will never be able to interact with it.</p>\n<p>Since <code>JButton</code> already supports displaying <code>Icon</code>s, it seems otherwise pointless.</p>\n<p>This throws your entire &quot;custom paint&quot; process into question, why would you actually need it, it's not adding anything that wouldn't otherwise be achieved more efficiently and with a lot of less effort on your part.</p>\n<p>I would recommend spending some time looking at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons, Check Boxes, and Radio Buttons</a></p>\n<p>Also, don't think you're smarter then the inbuilt layout system, seriously as someone whose built a few custom layouts in the past, it's complicated!  Make use of the available libraries and save yourself a lot of trouble.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> for more details.</p>\n<p>The following example will, basically, do exactly what you seem to be wanting to do, with a lot less effort...</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            ActionListener actionListener = new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.out.println(&quot;Did click &quot; + e.getActionCommand());\n                }\n            };\n            for (int index = 0; index &lt; 2; index++) {\n                JButton btn = new JButton(new ImageIcon(ImageIO.read(getClass().getResource(&quot;/images/RainbowHand.png&quot;))));\n                btn.setActionCommand(&quot;Button&quot; + index);\n                btn.addActionListener(actionListener);\n                add(btn);\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>I would also suggest looking at:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a></li>\n</ul>\n"}],"owner":{"account_id":18746940,"reputation":1,"user_id":13668876,"display_name":"Beginner Programmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1682658201,"answer_count":1,"score":-4,"last_activity_date":1682571979,"creation_date":1682570400,"question_id":76116809,"body_markdown":"I am a noob and this is my first question on this website. I was working on my rhythm game in java, but I don&#39;t know why this didn&#39;t click.\r\n\r\nMy button class\r\n\r\n    public class Button extends JButton implements ActionListener  {\r\n    private int x, y;\r\n    private ImageIcon icon;\r\n    public JButton button;\r\n    \r\n    public Button(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        icon = new ImageIcon(&quot;Betterbutton.png&quot;);\r\n        button = new JButton();\r\n        button.setIcon(icon);\r\n        button.setBounds(x, y, 100, 100);\r\n        button.addActionListener(this);\r\n        button.setFocusable(false);\r\n        \r\n        \r\n        \r\n    }\r\n    \r\n    public void actionPerformed(ActionEvent e) {\r\n    if(e.getSource()==button) {\r\n    System.out.println(&quot;Clicked&quot;);\r\n    }\r\n    }\r\n    \r\n    public void draw(Graphics g2d) {\r\n        g2d.drawImage(icon.getImage(), x, y, button.getWidth(), button.getHeight(), button);\r\n    }\r\n\r\nMy game class\r\n\r\n    public class Game extends JPanel implements Runnable, KeyListener, MouseListener,     MouseMotionListener,  ActionListener  {\r\n    private BufferedImage back;\r\n    private int key;\r\n    \r\n    private Button[] buttons;\r\n    \r\n    public Game() {\r\n        new Thread(this).start();\r\n    \r\n    \r\n        // Create an array of MyButton objects\r\n        buttons = new Button[2];\r\n        buttons[0] = new Button( 100, 500);\r\n        buttons[1] = new Button( 500, 500);\r\n        \r\n        for (Button button : buttons) {\r\n            button.button.addActionListener(this);\r\n        }\r\n    }\r\n    \r\n    public void run() {\r\n        try {\r\n            while (true) {\r\n                Thread.currentThread().sleep(5);\r\n                repaint();\r\n            }\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n    \r\n    public void paint(Graphics g) {\r\n        Graphics2D twoDgraph = (Graphics2D) g;\r\n        if (back == null)\r\n            back = (BufferedImage) ((createImage(getWidth(), getHeight())));\r\n    \r\n        Graphics g2d = back.createGraphics();\r\n    \r\n        g2d.clearRect(0, 0, getSize().width, getSize().height);\r\n    \r\n        g2d.setFont(new Font(&quot;Broadway&quot;, Font.BOLD, 50));\r\n    \r\n        // Draw all the buttons\r\n        for (Button button : buttons) {\r\n            button.draw(g2d);\r\n        }\r\n    \r\n        twoDgraph.drawImage(back, null, 0, 0);\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    @Override\r\n    public void mouseClicked(MouseEvent e) {\r\n    \t// TODO Auto-generated method stub\r\n    \tfor (Button button : buttons) {\r\n            if (button.getBounds().contains(e.getPoint())) {\r\n                System.out.println(&quot;Button clicked&quot;);\r\n                \r\n            }\r\n        }\r\n       \r\n    }\r\n    \r\n    \r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n    \t// TODO Auto-generated method stub\r\n    \tfor (Button button : buttons) {\r\n            if (e.getSource() == button.button) {\r\n                System.out.println(&quot;Button clicked!&quot;);\r\n                // Do something when a button is clicked\r\n            }\r\n        }\r\n    }\r\n\r\n\\*I deleted a few lines of unimportant code to make this post shorter, etc, the import and the other mouselistener\r\n\r\nI tried adding a mouselistener and actionlistener in both class, but the problem might be that I am drawing the pictures wrong. ","title":"Why didn&#39;t my buttons respond to my action listener","body":"<p>I am a noob and this is my first question on this website. I was working on my rhythm game in java, but I don't know why this didn't click.</p>\n<p>My button class</p>\n<pre><code>public class Button extends JButton implements ActionListener  {\nprivate int x, y;\nprivate ImageIcon icon;\npublic JButton button;\n\npublic Button(int x, int y) {\n    this.x = x;\n    this.y = y;\n    icon = new ImageIcon(&quot;Betterbutton.png&quot;);\n    button = new JButton();\n    button.setIcon(icon);\n    button.setBounds(x, y, 100, 100);\n    button.addActionListener(this);\n    button.setFocusable(false);\n    \n    \n    \n}\n\npublic void actionPerformed(ActionEvent e) {\nif(e.getSource()==button) {\nSystem.out.println(&quot;Clicked&quot;);\n}\n}\n\npublic void draw(Graphics g2d) {\n    g2d.drawImage(icon.getImage(), x, y, button.getWidth(), button.getHeight(), button);\n}\n</code></pre>\n<p>My game class</p>\n<pre><code>public class Game extends JPanel implements Runnable, KeyListener, MouseListener,     MouseMotionListener,  ActionListener  {\nprivate BufferedImage back;\nprivate int key;\n\nprivate Button[] buttons;\n\npublic Game() {\n    new Thread(this).start();\n\n\n    // Create an array of MyButton objects\n    buttons = new Button[2];\n    buttons[0] = new Button( 100, 500);\n    buttons[1] = new Button( 500, 500);\n    \n    for (Button button : buttons) {\n        button.button.addActionListener(this);\n    }\n}\n\npublic void run() {\n    try {\n        while (true) {\n            Thread.currentThread().sleep(5);\n            repaint();\n        }\n    } catch (Exception e) {\n    }\n}\n\npublic void paint(Graphics g) {\n    Graphics2D twoDgraph = (Graphics2D) g;\n    if (back == null)\n        back = (BufferedImage) ((createImage(getWidth(), getHeight())));\n\n    Graphics g2d = back.createGraphics();\n\n    g2d.clearRect(0, 0, getSize().width, getSize().height);\n\n    g2d.setFont(new Font(&quot;Broadway&quot;, Font.BOLD, 50));\n\n    // Draw all the buttons\n    for (Button button : buttons) {\n        button.draw(g2d);\n    }\n\n    twoDgraph.drawImage(back, null, 0, 0);\n}\n\n\n\n\n@Override\npublic void mouseClicked(MouseEvent e) {\n    // TODO Auto-generated method stub\n    for (Button button : buttons) {\n        if (button.getBounds().contains(e.getPoint())) {\n            System.out.println(&quot;Button clicked&quot;);\n            \n        }\n    }\n   \n}\n\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    // TODO Auto-generated method stub\n    for (Button button : buttons) {\n        if (e.getSource() == button.button) {\n            System.out.println(&quot;Button clicked!&quot;);\n            // Do something when a button is clicked\n        }\n    }\n}\n</code></pre>\n<p>*I deleted a few lines of unimportant code to make this post shorter, etc, the import and the other mouselistener</p>\n<p>I tried adding a mouselistener and actionlistener in both class, but the problem might be that I am drawing the pictures wrong.</p>\n"},{"tags":["java","non-ascii-characters"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1339611440,"post_id":11020893,"comment_id":14407080,"body_markdown":"why do you want to remove them?","body":"why do you want to remove them?"},{"owner":{"account_id":159676,"reputation":88183,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"score":1,"creation_date":1339611986,"post_id":11020893,"comment_id":14407319,"body_markdown":"@jtahlborn, Mongo fails to serialize these values","body":"@jtahlborn, Mongo fails to serialize these values"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1543230678,"post_id":11020893,"comment_id":93829424,"body_markdown":"@daydreamer [citation needed] [\\xc2d](http://www.codetable.net/hex/c2d) is a valid Unicode character. If MongoDB uses UTF-8 is should be able to serialize them. Perhaps you have an XY Problem here? How are you serializing your text?","body":"@daydreamer [citation needed] <a href=\"http://www.codetable.net/hex/c2d\" rel=\"nofollow noreferrer\">\\xc2d</a> is a valid Unicode character. If MongoDB uses UTF-8 is should be able to serialize them. Perhaps you have an XY Problem here? How are you serializing your text?"}],"answers":[{"tags":[],"owner":{"account_id":1555653,"reputation":945,"user_id":1446848,"accept_rate":100,"display_name":"exception"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1339611462,"creation_date":1339611462,"answer_id":11020942,"question_id":11020893,"body_markdown":"You can use java.text.normalizer","title":"Remove non-ASCII non-printable characters from a String","body":"<p>You can use java.text.normalizer</p>\n"},{"tags":[],"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1339611469,"creation_date":1339611469,"answer_id":11020944,"question_id":11020893,"body_markdown":"You can try this code:\r\n\r\n    public String cleanInvalidCharacters(String in) {\r\n        StringBuilder out = new StringBuilder();\r\n        char current;\r\n        if (in == null || (&quot;&quot;.equals(in))) {\r\n            return &quot;&quot;;\r\n        }\r\n        for (int i = 0; i &lt; in.length(); i++) {\r\n            current = in.charAt(i);\r\n            if ((current == 0x9)\r\n                    || (current == 0xA)\r\n                    || (current == 0xD)\r\n                    || ((current &gt;= 0x20) &amp;&amp; (current &lt;= 0xD7FF))\r\n                    || ((current &gt;= 0xE000) &amp;&amp; (current &lt;= 0xFFFD))\r\n                    || ((current &gt;= 0x10000) &amp;&amp; (current &lt;= 0x10FFFF))) {\r\n                out.append(current);\r\n            }\r\n\r\n        }\r\n        return out.toString().replaceAll(&quot;\\\\s&quot;, &quot; &quot;);\r\n    }\r\n\r\nIt works for me to remove invalid characters from `String`.","title":"Remove non-ASCII non-printable characters from a String","body":"<p>You can try this code:</p>\n\n<pre><code>public String cleanInvalidCharacters(String in) {\n    StringBuilder out = new StringBuilder();\n    char current;\n    if (in == null || (\"\".equals(in))) {\n        return \"\";\n    }\n    for (int i = 0; i &lt; in.length(); i++) {\n        current = in.charAt(i);\n        if ((current == 0x9)\n                || (current == 0xA)\n                || (current == 0xD)\n                || ((current &gt;= 0x20) &amp;&amp; (current &lt;= 0xD7FF))\n                || ((current &gt;= 0xE000) &amp;&amp; (current &lt;= 0xFFFD))\n                || ((current &gt;= 0x10000) &amp;&amp; (current &lt;= 0x10FFFF))) {\n            out.append(current);\n        }\n\n    }\n    return out.toString().replaceAll(\"\\\\s\", \" \");\n}\n</code></pre>\n\n<p>It works for me to remove invalid characters from <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1465316608,"creation_date":1339612782,"answer_id":11021262,"question_id":11020893,"body_markdown":"Your requirements are not clear. All characters in a Java `String` are Unicode characters, so if you remove them, you&#39;ll be left with an empty string. I assume what you mean is that you want to remove any non-ASCII, non-printable characters.\r\n\r\n    String clean = str.replaceAll(&quot;\\\\P{Print}&quot;, &quot;&quot;);\r\n\r\nHere, `\\p{Print}` [represents a POSIX character class][1] for printable ASCII characters, while `\\P{Print}` is the complement of that class. With this expression, all characters that are *not* printable ASCII are replaced with the empty string. (The extra backslash is because `\\` starts an escape sequence in string literals.)\r\n\r\n---\r\n\r\nApparently, all the input characters are actually ASCII characters that represent a printable encoding of non-printable or non-ASCII characters. Mongo shouldn&#39;t have any trouble with these strings, because they contain only plain printable ASCII characters. \r\n\r\nThis all sounds a little fishy to me. What I believe is happening is that the data really do contain non-printable and non-ASCII characters, and another component (like a logging framework) is replacing these with a printable representation. In your simple tests, you are failing to translate the printable representation back to the original string, so you mistakenly believe the first regular expression is not working. \r\n\r\nThat&#39;s my guess, but if I&#39;ve misread the situation and you really do need to strip out literal `\\xHH` escapes, you can do it with the following regular expression.\r\n\r\n    String clean = str.replaceAll(&quot;\\\\\\\\x\\\\p{XDigit}{2}&quot;, &quot;&quot;);\r\n\r\n---\r\n\r\nThe API documentation for the [`Pattern`][2] class does a good job of listing all of the syntax supported by Java&#39;s regex library. For more elaboration on what all of the syntax means, I have found the [Regular-Expressions.info site][3] very helpful.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#sum\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\r\n  [3]: http://www.regular-expressions.info/","title":"Remove non-ASCII non-printable characters from a String","body":"<p>Your requirements are not clear. All characters in a Java <code>String</code> are Unicode characters, so if you remove them, you'll be left with an empty string. I assume what you mean is that you want to remove any non-ASCII, non-printable characters.</p>\n\n<pre><code>String clean = str.replaceAll(\"\\\\P{Print}\", \"\");\n</code></pre>\n\n<p>Here, <code>\\p{Print}</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#sum\" rel=\"noreferrer\">represents a POSIX character class</a> for printable ASCII characters, while <code>\\P{Print}</code> is the complement of that class. With this expression, all characters that are <em>not</em> printable ASCII are replaced with the empty string. (The extra backslash is because <code>\\</code> starts an escape sequence in string literals.)</p>\n\n<hr>\n\n<p>Apparently, all the input characters are actually ASCII characters that represent a printable encoding of non-printable or non-ASCII characters. Mongo shouldn't have any trouble with these strings, because they contain only plain printable ASCII characters. </p>\n\n<p>This all sounds a little fishy to me. What I believe is happening is that the data really do contain non-printable and non-ASCII characters, and another component (like a logging framework) is replacing these with a printable representation. In your simple tests, you are failing to translate the printable representation back to the original string, so you mistakenly believe the first regular expression is not working. </p>\n\n<p>That's my guess, but if I've misread the situation and you really do need to strip out literal <code>\\xHH</code> escapes, you can do it with the following regular expression.</p>\n\n<pre><code>String clean = str.replaceAll(\"\\\\\\\\x\\\\p{XDigit}{2}\", \"\");\n</code></pre>\n\n<hr>\n\n<p>The API documentation for the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\"><code>Pattern</code></a> class does a good job of listing all of the syntax supported by Java's regex library. For more elaboration on what all of the syntax means, I have found the <a href=\"http://www.regular-expressions.info/\" rel=\"noreferrer\">Regular-Expressions.info site</a> very helpful.</p>\n"},{"tags":[],"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1616076556,"creation_date":1339613267,"answer_id":11021401,"question_id":11020893,"body_markdown":"With [Google Guava][1]&#39;s [`CharMatcher`][2], you can remove any [non-printable][3] characters and then retain all ASCII characters (dropping any accents) like this:\r\n\r\n    String printable = CharMatcher.INVISIBLE.removeFrom(input);\r\n    String clean = CharMatcher.ASCII.retainFrom(printable);\r\n\r\nNot sure if that&#39;s what you really want, but it removes anything expressed as escape sequences in your question&#39;s sample data.\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: https://guava.dev/releases/snapshot/api/docs/com/google/common/base/CharMatcher.html\r\n  [3]: https://guava.dev/releases/snapshot/api/docs/com/google/common/base/CharMatcher.html#invisible()","title":"Remove non-ASCII non-printable characters from a String","body":"<p>With <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Google Guava</a>'s <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/base/CharMatcher.html\" rel=\"nofollow noreferrer\"><code>CharMatcher</code></a>, you can remove any <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/base/CharMatcher.html#invisible()\" rel=\"nofollow noreferrer\">non-printable</a> characters and then retain all ASCII characters (dropping any accents) like this:</p>\n<pre><code>String printable = CharMatcher.INVISIBLE.removeFrom(input);\nString clean = CharMatcher.ASCII.retainFrom(printable);\n</code></pre>\n<p>Not sure if that's what you really want, but it removes anything expressed as escape sequences in your question's sample data.</p>\n"},{"tags":[],"owner":{"account_id":3107533,"reputation":528,"user_id":2630033,"accept_rate":94,"display_name":"Ivan Pavić"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1436945606,"creation_date":1436945606,"answer_id":31424164,"question_id":11020893,"body_markdown":"I know it&#39;s maybe late but for future reference:\r\n\r\n    String clean = str.replaceAll(&quot;\\\\P{Print}&quot;, &quot;&quot;);\r\n\r\nRemoves all non printable characters, but that includes `\\n` (line feed), `\\t`(tab) and `\\r`(carriage return), and sometimes you want to keep those characters.\r\n\r\nFor that problem use inverted logic:\r\n\r\n    String clean = str.replaceAll(&quot;[^\\\\n\\\\r\\\\t\\\\p{Print}]&quot;, &quot;&quot;);","title":"Remove non-ASCII non-printable characters from a String","body":"<p>I know it's maybe late but for future reference:</p>\n\n<pre><code>String clean = str.replaceAll(\"\\\\P{Print}\", \"\");\n</code></pre>\n\n<p>Removes all non printable characters, but that includes <code>\\n</code> (line feed), <code>\\t</code>(tab) and <code>\\r</code>(carriage return), and sometimes you want to keep those characters.</p>\n\n<p>For that problem use inverted logic:</p>\n\n<pre><code>String clean = str.replaceAll(\"[^\\\\n\\\\r\\\\t\\\\p{Print}]\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646585,"reputation":9,"user_id":3764680,"display_name":"Sivaram Kandappan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1494428693,"creation_date":1494428693,"answer_id":43896297,"question_id":11020893,"body_markdown":"Input =&gt; &quot;**This** \\u7279**text** \\u7279**is what I need**&quot;\r\nOutput =&gt; &quot;**This text is what I need**&quot;\r\n\r\nIf you are trying to remove Unicode characters from a string like above this code will work\r\n\r\n    Pattern unicodeCharsPattern = Pattern.compile(&quot;\\\\\\\\u(\\\\p{XDigit}{4})&quot;);\r\n    Matcher unicodeMatcher = unicodeChars.matcher(data);\r\n    String cleanData = null;\r\n    if (unicodeMatcher.find()) {\r\n        cleanData = unicodeMatcher.replaceAll(&quot;&quot;);\r\n    }","title":"Remove non-ASCII non-printable characters from a String","body":"<p>Input => \"<strong>This</strong> \\u7279<strong>text</strong> \\u7279<strong>is what I need</strong>\"\nOutput => \"<strong>This text is what I need</strong>\"</p>\n\n<p>If you are trying to remove Unicode characters from a string like above this code will work</p>\n\n<pre><code>Pattern unicodeCharsPattern = Pattern.compile(\"\\\\\\\\u(\\\\p{XDigit}{4})\");\nMatcher unicodeMatcher = unicodeChars.matcher(data);\nString cleanData = null;\nif (unicodeMatcher.find()) {\n    cleanData = unicodeMatcher.replaceAll(\"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11215104,"reputation":21,"user_id":8227999,"display_name":"Stephen Hodgkiss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682571643,"creation_date":1682571643,"answer_id":76116889,"question_id":11020893,"body_markdown":"This simple function worked better for me:\r\n\r\n    \r\n    function remove_non_ascii(str) {\r\n      \r\n        if ((str===null) || (str===&#39;&#39;))\r\n             return false;\r\n       else\r\n         str = str.toString();\r\n        \r\n        return str.replace(/[^\\x20-\\x7E]/g, &#39;&#39;);\r\n    }","title":"Remove non-ASCII non-printable characters from a String","body":"<p>This simple function worked better for me:</p>\n<pre><code>function remove_non_ascii(str) {\n  \n    if ((str===null) || (str===''))\n         return false;\n   else\n     str = str.toString();\n    \n    return str.replace(/[^\\x20-\\x7E]/g, '');\n}\n</code></pre>\n"}],"owner":{"account_id":159676,"reputation":88183,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68308,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":11021262,"answer_count":7,"score":24,"last_activity_date":1682571643,"creation_date":1339611264,"question_id":11020893,"body_markdown":"I get user input including non-ASCII characters and non-printable characters, such as  \r\n\r\n    \\xc2d\r\n    \\xa0\r\n    \\xe7\r\n    \\xc3\\ufffdd\r\n    \\xc3\\ufffdd\r\n    \\xc2\\xa0\r\n    \\xc3\\xa7\r\n    \\xa0\\xa0\r\n\r\nfor example:\r\n\r\n    email : abc@gmail.com\\xa0\\xa0\r\n    street : 123 Main St.\\xc2\\xa0\r\n\r\ndesired output:\r\n\r\n      email : abc@gmail.com\r\n      street : 123 Main St.\r\n\r\nWhat is the best way to removing them using Java?  \r\nI tried the following, but doesn&#39;t seem to work\r\n\r\n    public static void main(String args[]) throws UnsupportedEncodingException {\r\n            String s = &quot;abc@gmail\\\\xe9.com&quot;;\r\n            String email = &quot;abc@gmail.com\\\\xa0\\\\xa0&quot;;\r\n    \r\n            System.out.println(s.replaceAll(&quot;\\\\P{Print}&quot;, &quot;&quot;));\r\n            System.out.println(email.replaceAll(&quot;\\\\P{Print}&quot;, &quot;&quot;));\r\n        }\r\nOutput\r\n\r\n    abc@gmail\\xe9.com\r\n    abc@gmail.com\\xa0\\xa0","title":"Remove non-ASCII non-printable characters from a String","body":"<p>I get user input including non-ASCII characters and non-printable characters, such as  </p>\n\n<pre><code>\\xc2d\n\\xa0\n\\xe7\n\\xc3\\ufffdd\n\\xc3\\ufffdd\n\\xc2\\xa0\n\\xc3\\xa7\n\\xa0\\xa0\n</code></pre>\n\n<p>for example:</p>\n\n<pre><code>email : abc@gmail.com\\xa0\\xa0\nstreet : 123 Main St.\\xc2\\xa0\n</code></pre>\n\n<p>desired output:</p>\n\n<pre><code>  email : abc@gmail.com\n  street : 123 Main St.\n</code></pre>\n\n<p>What is the best way to removing them using Java?<br>\nI tried the following, but doesn't seem to work</p>\n\n<pre><code>public static void main(String args[]) throws UnsupportedEncodingException {\n        String s = \"abc@gmail\\\\xe9.com\";\n        String email = \"abc@gmail.com\\\\xa0\\\\xa0\";\n\n        System.out.println(s.replaceAll(\"\\\\P{Print}\", \"\"));\n        System.out.println(email.replaceAll(\"\\\\P{Print}\", \"\"));\n    }\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>abc@gmail\\xe9.com\nabc@gmail.com\\xa0\\xa0\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","certificate","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":15512345,"reputation":104,"user_id":11190809,"display_name":"Jose M"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1682571188,"creation_date":1629099261,"answer_id":68798990,"question_id":68651276,"body_markdown":"I was able to make it work by using a JKS keystore instead of a p12 certificate.\r\n\r\nFirst, I used the private key and both private and public keys as an input to generate a P12 certificate:\r\n\r\n    openssl pkcs12 -export -inkey &lt;private_key&gt;.pem -in &lt;all_keys&gt;.pem -name new_certificate -out certificate.p12\r\n\r\nFinally, I converted the P12 certificate into a JKS keystore using keytool:\r\n\r\n    keytool -importkeystore -srckeystore certificate.p12 -srcstoretype pkcs12 -destkeystore certificate.jks\r\n\r\nThen, I could finally load it in a RestTemplate instance using SSLContext:\r\n\r\n```java\r\n@Value(&quot;${trust-store}&quot;)\r\nprivate String trustStore;\r\n@Value(&quot;${trust-store-password}&quot;)\r\nprivate String trustStorePassword;\r\n\r\n@Bean\r\npublic RestTemplate getRestTemplate(RestTemplateBuilder builder) throws IOException, CertificateException,\r\n                                                                        NoSuchAlgorithmException, KeyStoreException,\r\n                                                                        KeyManagementException, UnrecoverableKeyException {\r\n    Resource trustStoreCertificate = new ClassPathResource(trustStore);\r\n    File certificate = new File(&quot;combined.jks&quot;);\r\n    FileUtils.copyInputStreamToFile(trustStoreCertificate.getInputStream(), certificate);\r\n    SSLContext sslContext = new SSLContextBuilder()\r\n        .loadKeyMaterial(certificate , trustStorePassword.toCharArray(), trustStorePassword.toCharArray()).build();\r\n    SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext);\r\n    \r\n    HttpClient httpClient = HttpClients.custom()\r\n        .setSSLSocketFactory(socketFactory)\r\n        .build();\r\n    \r\n    certificate.delete();\r\n    \r\n    return builder\r\n        .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\r\n        .build();\r\n}\r\n```","title":"How to use RestTemplate with certificate authentication?","body":"<p>I was able to make it work by using a JKS keystore instead of a p12 certificate.</p>\n<p>First, I used the private key and both private and public keys as an input to generate a P12 certificate:</p>\n<pre><code>openssl pkcs12 -export -inkey &lt;private_key&gt;.pem -in &lt;all_keys&gt;.pem -name new_certificate -out certificate.p12\n</code></pre>\n<p>Finally, I converted the P12 certificate into a JKS keystore using keytool:</p>\n<pre><code>keytool -importkeystore -srckeystore certificate.p12 -srcstoretype pkcs12 -destkeystore certificate.jks\n</code></pre>\n<p>Then, I could finally load it in a RestTemplate instance using SSLContext:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${trust-store}&quot;)\nprivate String trustStore;\n@Value(&quot;${trust-store-password}&quot;)\nprivate String trustStorePassword;\n\n@Bean\npublic RestTemplate getRestTemplate(RestTemplateBuilder builder) throws IOException, CertificateException,\n                                                                        NoSuchAlgorithmException, KeyStoreException,\n                                                                        KeyManagementException, UnrecoverableKeyException {\n    Resource trustStoreCertificate = new ClassPathResource(trustStore);\n    File certificate = new File(&quot;combined.jks&quot;);\n    FileUtils.copyInputStreamToFile(trustStoreCertificate.getInputStream(), certificate);\n    SSLContext sslContext = new SSLContextBuilder()\n        .loadKeyMaterial(certificate , trustStorePassword.toCharArray(), trustStorePassword.toCharArray()).build();\n    SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext);\n    \n    HttpClient httpClient = HttpClients.custom()\n        .setSSLSocketFactory(socketFactory)\n        .build();\n    \n    certificate.delete();\n    \n    return builder\n        .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\n        .build();\n}\n</code></pre>\n"}],"owner":{"account_id":15512345,"reputation":104,"user_id":11190809,"display_name":"Jose M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68798990,"answer_count":1,"score":0,"last_activity_date":1682571188,"creation_date":1628080130,"question_id":68651276,"body_markdown":"I have an endpoint which requires SSL authentication. I&#39;m able to successfully post a request on that endpoint with:\r\n\r\n```curl --location --request POST &#39;https://someurl.click&#39; --header &#39;some headers&#39; --cert my_cert.pem```\r\n\r\nI need to create a Spring Boot application which POSTs a request to that endpoint using that certificate with RestTemplate. I&#39;ve read that PEM certificates are not valid and I need to use p12 or JKS.\r\n\r\nSo I converted my certificate to p12 with:\r\n\r\n```openssl pkcs12 -export -in my_cert.pem -out my_cert.p12```\r\n\r\nAnd used it as a Trust Store in my Bean as suggested by several references (where trustStore points to the converted p12 certificate):\r\n\r\n        @Value(&quot;${trust-store}&quot;)\r\n    \tprivate Resource trustStore;\r\n    \r\n    \t@Value(&quot;${trust-store-password}&quot;)\r\n    \tprivate String trustStorePassword;\r\n    \r\n    \t@Bean\r\n    \tpublic RestTemplate getRestTemplate(RestTemplateBuilder builder) throws IOException, CertificateException, NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\r\n    \t\tSSLContext sslContext = new SSLContextBuilder()\r\n            .loadTrustMaterial(trustStore.getURL(), trustStorePassword.toCharArray())\r\n            .build();\r\n        SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext);\r\n    \r\n        HttpClient httpClient = HttpClients.custom()\r\n            .setSSLSocketFactory(socketFactory)\r\n            .build();\r\n    \r\n        return builder\r\n            .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\r\n            .build();\r\n    \t}\r\n\r\nWhen using this RestTemplate I&#39;m having SSL handshake errors.\r\n\r\nCode:\r\n\r\n    String response = restTemplate.postForObject(myEndpoint, request, String.class);\r\n\r\nOutput:\r\n\r\n    2021-08-04 12:06:41.926 ERROR 129727 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://myurl.click&quot;: readHandshakeRecord; nested exception is javax.net.ssl.SSLException: readHandshakeRecord] with root cause\r\n    \r\n    java.net.SocketException: Broken pipe (Write failed)\r\n            at java.base/java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:na]\r\n            at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110) ~[na:na]\r\n            at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150) ~[na:na]\r\n            at java.base/sun.security.ssl.SSLSocketOutputRecord.encodeChangeCipherSpec(SSLSocketOutputRecord.java:221) ~[na:na]\r\n            at java.base/sun.security.ssl.OutputRecord.changeWriteCiphers(OutputRecord.java:162) ~[na:na]\r\n            at java.base/sun.security.ssl.ChangeCipherSpec$T10ChangeCipherSpecProducer.produce(ChangeCipherSpec.java:118) ~[na:na]\r\n            at java.base/sun.security.ssl.Finished$T12FinishedProducer.onProduceFinished(Finished.java:395) ~[na:na]\r\n            at java.base/sun.security.ssl.Finished$T12FinishedProducer.produce(Finished.java:379) ~[na:na]...\r\n\r\nAny advice is greately appreciated.","title":"How to use RestTemplate with certificate authentication?","body":"<p>I have an endpoint which requires SSL authentication. I'm able to successfully post a request on that endpoint with:</p>\n<p><code>curl --location --request POST 'https://someurl.click' --header 'some headers' --cert my_cert.pem</code></p>\n<p>I need to create a Spring Boot application which POSTs a request to that endpoint using that certificate with RestTemplate. I've read that PEM certificates are not valid and I need to use p12 or JKS.</p>\n<p>So I converted my certificate to p12 with:</p>\n<p><code>openssl pkcs12 -export -in my_cert.pem -out my_cert.p12</code></p>\n<p>And used it as a Trust Store in my Bean as suggested by several references (where trustStore points to the converted p12 certificate):</p>\n<pre><code>    @Value(&quot;${trust-store}&quot;)\n    private Resource trustStore;\n\n    @Value(&quot;${trust-store-password}&quot;)\n    private String trustStorePassword;\n\n    @Bean\n    public RestTemplate getRestTemplate(RestTemplateBuilder builder) throws IOException, CertificateException, NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\n        SSLContext sslContext = new SSLContextBuilder()\n        .loadTrustMaterial(trustStore.getURL(), trustStorePassword.toCharArray())\n        .build();\n    SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext);\n\n    HttpClient httpClient = HttpClients.custom()\n        .setSSLSocketFactory(socketFactory)\n        .build();\n\n    return builder\n        .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\n        .build();\n    }\n</code></pre>\n<p>When using this RestTemplate I'm having SSL handshake errors.</p>\n<p>Code:</p>\n<pre><code>String response = restTemplate.postForObject(myEndpoint, request, String.class);\n</code></pre>\n<p>Output:</p>\n<pre><code>2021-08-04 12:06:41.926 ERROR 129727 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://myurl.click&quot;: readHandshakeRecord; nested exception is javax.net.ssl.SSLException: readHandshakeRecord] with root cause\n\njava.net.SocketException: Broken pipe (Write failed)\n        at java.base/java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:na]\n        at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110) ~[na:na]\n        at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150) ~[na:na]\n        at java.base/sun.security.ssl.SSLSocketOutputRecord.encodeChangeCipherSpec(SSLSocketOutputRecord.java:221) ~[na:na]\n        at java.base/sun.security.ssl.OutputRecord.changeWriteCiphers(OutputRecord.java:162) ~[na:na]\n        at java.base/sun.security.ssl.ChangeCipherSpec$T10ChangeCipherSpecProducer.produce(ChangeCipherSpec.java:118) ~[na:na]\n        at java.base/sun.security.ssl.Finished$T12FinishedProducer.onProduceFinished(Finished.java:395) ~[na:na]\n        at java.base/sun.security.ssl.Finished$T12FinishedProducer.produce(Finished.java:379) ~[na:na]...\n</code></pre>\n<p>Any advice is greately appreciated.</p>\n"},{"tags":["java","android","file"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1604243335,"creation_date":1604243335,"answer_id":64633381,"question_id":64633308,"body_markdown":"&gt; First question here is why it displays a file named &quot;servo.dat&quot; as numbers (in this case it shows &quot;5889&quot;)?\r\n\r\nBecause it is not a file. It is a piece of content, and you are attempting to treat the path portion of a `Uri` as a filesystem path, which is is not.\r\n\r\nIf you want a display name for the content:\r\n\r\n- Call `DocumentFile.fromSingleUri()`, passing in your `Uri`, to create a `DocumentFile`\r\n- Call `getDisplayName` on the `DocumentFile`\r\n\r\n&gt; Basically the path provided here is incorrect\r\n\r\nThat is because you are trying to treat the path portion of a `Uri` as a filesystem path, which it is not.\r\n\r\nTo get an `InputStream`, call `openInputStream()` on a `ContentResolver`, passing in your `Uri`. See [the documentation](https://developer.android.com/training/data-storage/shared/documents-files#input_stream). So, for example, from a method in an `Activity`, you would use `InputStream inputStream = getContentResolver().openInputStream(uri);`.\r\n\r\n&gt; I&#39;m getting confused since I&#39;m new to both Android app development and Android itself\r\n\r\nYou may wish to consider reading a book on Android app development or taking a course in Android app development.\r\n","title":"Android open file input stream from uri","body":"<blockquote>\n<p>First question here is why it displays a file named &quot;servo.dat&quot; as numbers (in this case it shows &quot;5889&quot;)?</p>\n</blockquote>\n<p>Because it is not a file. It is a piece of content, and you are attempting to treat the path portion of a <code>Uri</code> as a filesystem path, which is is not.</p>\n<p>If you want a display name for the content:</p>\n<ul>\n<li>Call <code>DocumentFile.fromSingleUri()</code>, passing in your <code>Uri</code>, to create a <code>DocumentFile</code></li>\n<li>Call <code>getDisplayName</code> on the <code>DocumentFile</code></li>\n</ul>\n<blockquote>\n<p>Basically the path provided here is incorrect</p>\n</blockquote>\n<p>That is because you are trying to treat the path portion of a <code>Uri</code> as a filesystem path, which it is not.</p>\n<p>To get an <code>InputStream</code>, call <code>openInputStream()</code> on a <code>ContentResolver</code>, passing in your <code>Uri</code>. See <a href=\"https://developer.android.com/training/data-storage/shared/documents-files#input_stream\" rel=\"nofollow noreferrer\">the documentation</a>. So, for example, from a method in an <code>Activity</code>, you would use <code>InputStream inputStream = getContentResolver().openInputStream(uri);</code>.</p>\n<blockquote>\n<p>I'm getting confused since I'm new to both Android app development and Android itself</p>\n</blockquote>\n<p>You may wish to consider reading a book on Android app development or taking a course in Android app development.</p>\n"},{"tags":[],"owner":{"account_id":28429291,"reputation":1,"user_id":21750172,"display_name":"Muthukumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682571172,"creation_date":1682563167,"answer_id":76116340,"question_id":64633308,"body_markdown":"Reading or open .xls(office Excel) type of file through uri with InputStram.\r\nIn this displayXlsData(), i never use String obj(Ex: userName and password) mentioned below. So, hi viewers, Don&#39;t confuse. I just checked the result though Log.d() only. \r\n\r\nProgram Detail : Uri xls_UriData;\r\n\r\n public void displayXlsData() throws IOException {\r\n\r\n        InputStream myInput;\r\n        myInput  = getContentResolver().openInputStream(xls_UriData);\r\n        // Create a POI File System object\r\n        POIFSFileSystem myFileSystem = new POIFSFileSystem(myInput);\r\n\r\n        // Create a workbook using the File System\r\n        HSSFWorkbook myWorkBook = new HSSFWorkbook(myFileSystem);\r\n\r\n        // Get the first sheet from workbook\r\n        HSSFSheet mySheet = myWorkBook.getSheetAt(0);\r\n\r\n        // We now need something to iterate through the cells.\r\n        Iterator&lt;Row&gt; rowIter = mySheet.rowIterator();\r\n        int rowno =0;\r\n\r\n        while (rowIter.hasNext()) {\r\n                rowno++ ;\r\n            HSSFRow myRow = (HSSFRow) rowIter.next();\r\n            if(rowno !=0) {\r\n                Iterator&lt;Cell&gt; cellIter = myRow.cellIterator();\r\n                int colno =0;\r\n                String userName=&quot;&quot;, password=&quot;&quot;;\r\n                while (cellIter.hasNext()) {\r\n                    HSSFCell myCell = (HSSFCell) cellIter.next();\r\n                    if (colno==0){\r\n                        userName = myCell.toString();\r\n                    }else if (colno==1){\r\n                        password = myCell.toString();\r\n                    }\r\n                    Log.e(&quot;Excel_2&quot;, &quot; Index :&quot; + myCell.getColumnIndex() + &quot; -- &quot; + myCell);\r\n                colno++;\r\n                }\r\n                \r\n            }\r\n        }\r\n        rowno++;\r\n\r\n    } // Closing displayXlsData()\r\n ","title":"Android open file input stream from uri","body":"<p>Reading or open .xls(office Excel) type of file through uri with InputStram.\nIn this displayXlsData(), i never use String obj(Ex: userName and password) mentioned below. So, hi viewers, Don't confuse. I just checked the result though Log.d() only.</p>\n<p>Program Detail : Uri xls_UriData;</p>\n<p>public void displayXlsData() throws IOException {</p>\n<pre><code>    InputStream myInput;\n    myInput  = getContentResolver().openInputStream(xls_UriData);\n    // Create a POI File System object\n    POIFSFileSystem myFileSystem = new POIFSFileSystem(myInput);\n\n    // Create a workbook using the File System\n    HSSFWorkbook myWorkBook = new HSSFWorkbook(myFileSystem);\n\n    // Get the first sheet from workbook\n    HSSFSheet mySheet = myWorkBook.getSheetAt(0);\n\n    // We now need something to iterate through the cells.\n    Iterator&lt;Row&gt; rowIter = mySheet.rowIterator();\n    int rowno =0;\n\n    while (rowIter.hasNext()) {\n            rowno++ ;\n        HSSFRow myRow = (HSSFRow) rowIter.next();\n        if(rowno !=0) {\n            Iterator&lt;Cell&gt; cellIter = myRow.cellIterator();\n            int colno =0;\n            String userName=&quot;&quot;, password=&quot;&quot;;\n            while (cellIter.hasNext()) {\n                HSSFCell myCell = (HSSFCell) cellIter.next();\n                if (colno==0){\n                    userName = myCell.toString();\n                }else if (colno==1){\n                    password = myCell.toString();\n                }\n                Log.e(&quot;Excel_2&quot;, &quot; Index :&quot; + myCell.getColumnIndex() + &quot; -- &quot; + myCell);\n            colno++;\n            }\n            \n        }\n    }\n    rowno++;\n\n} // Closing displayXlsData()\n</code></pre>\n"}],"owner":{"account_id":15014318,"reputation":19,"user_id":10837779,"display_name":"Filippo Iacobellis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64633381,"answer_count":2,"score":1,"last_activity_date":1682571172,"creation_date":1604242840,"question_id":64633308,"body_markdown":"I&#39;m trying to upload a file by copying it from mobile app to server app running on windows.\r\nI used a file chooser to let the user select the file:\r\n``` \r\npublic void openFile(View view) {\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;*/*&quot;);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(Intent.createChooser(intent, &quot;Select file&quot;), LEARN_TREE);\r\n} \r\n```\r\nThen i got the uri from the intent of onActivityResult.\r\nFirst question here is why it displays a file named &quot;servo.dat&quot; as numbers (in this case it shows &quot;5889&quot;)?\r\n\r\nAfter that I put the uri as an extra into another intent and use that intent to start another activity.\r\nIn the second activity I retrieve the uri.\r\nNow I&#39;d like to use FileInputStream to read bytes from my file in order to write them to the ObjectOutputStream created from Socket.getOutputStream().\r\nHere is where it doesn&#39;t work. Basically the path provided here\r\n```\r\nFileInputStream fis = new FileInputStream(uri.getPath());\r\n```\r\nis incorrect. If I check on my device the file location is Download/servo.dat, the Uri in the app shows Download/5889 and the absolute path that I tried retrieving using a UriUtils library found online shows storage/emulated/0/Download/servo.dat but this one doesn&#39;t actually exist on my phone.\r\n\r\nI think it&#39;s not so hard but I&#39;m getting confused since I&#39;m new to both Android app development and Android itself, please help!\r\n\r\n**I&#39;m open to any good solution, I saw online there is the ContentResolver class that should be helpful but I didn&#39;t manage to understand how to use it :|**\r\n","title":"Android open file input stream from uri","body":"<p>I'm trying to upload a file by copying it from mobile app to server app running on windows.\nI used a file chooser to let the user select the file:</p>\n<pre><code>public void openFile(View view) {\n        Intent intent = new Intent();\n        intent.setType(&quot;*/*&quot;);\n        intent.setAction(Intent.ACTION_GET_CONTENT);\n        startActivityForResult(Intent.createChooser(intent, &quot;Select file&quot;), LEARN_TREE);\n} \n</code></pre>\n<p>Then i got the uri from the intent of onActivityResult.\nFirst question here is why it displays a file named &quot;servo.dat&quot; as numbers (in this case it shows &quot;5889&quot;)?</p>\n<p>After that I put the uri as an extra into another intent and use that intent to start another activity.\nIn the second activity I retrieve the uri.\nNow I'd like to use FileInputStream to read bytes from my file in order to write them to the ObjectOutputStream created from Socket.getOutputStream().\nHere is where it doesn't work. Basically the path provided here</p>\n<pre><code>FileInputStream fis = new FileInputStream(uri.getPath());\n</code></pre>\n<p>is incorrect. If I check on my device the file location is Download/servo.dat, the Uri in the app shows Download/5889 and the absolute path that I tried retrieving using a UriUtils library found online shows storage/emulated/0/Download/servo.dat but this one doesn't actually exist on my phone.</p>\n<p>I think it's not so hard but I'm getting confused since I'm new to both Android app development and Android itself, please help!</p>\n<p><strong>I'm open to any good solution, I saw online there is the ContentResolver class that should be helpful but I didn't manage to understand how to use it :|</strong></p>\n"},{"tags":["java","unit-testing","visual-studio-code","gradle"],"answers":[{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660268090,"creation_date":1660268090,"answer_id":73328432,"question_id":73321161,"body_markdown":"The `-parameters` should be the argument passed to Java Compiler, you can follow this guide: https://github.com/redhat-developer/vscode-java/wiki/Settings-Global-Preferences\r\n\r\n1. Set the setting `java.settings.url` pointing to the `.prefs` file. (You can create it wherever you want)\r\n2. In the `.prefs` file, add following line:\r\n```\r\norg.eclipse.jdt.core.compiler.codegen.methodParameters=generate\r\n```","title":"How to run Java tests in VSCode with -parameters flag?","body":"<p>The <code>-parameters</code> should be the argument passed to Java Compiler, you can follow this guide: <a href=\"https://github.com/redhat-developer/vscode-java/wiki/Settings-Global-Preferences\" rel=\"nofollow noreferrer\">https://github.com/redhat-developer/vscode-java/wiki/Settings-Global-Preferences</a></p>\n<ol>\n<li>Set the setting <code>java.settings.url</code> pointing to the <code>.prefs</code> file. (You can create it wherever you want)</li>\n<li>In the <code>.prefs</code> file, add following line:</li>\n</ol>\n<pre><code>org.eclipse.jdt.core.compiler.codegen.methodParameters=generate\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26687986,"reputation":1,"user_id":20296983,"display_name":"Dean Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682569017,"creation_date":1682568713,"answer_id":76116677,"question_id":73321161,"body_markdown":" 1. Select VSCode -&gt; File -&gt; Preferences -&gt; Settings  Open Setting page (Either User or Workspace)\r\n 2. Type in &quot;url&quot; filter out and Find Java &gt; Settings:URL: \r\n 3. Type in Java Setting file path/name (Ex: D:\\java.settings)\r\n 4. Edit Java Setting file (D:\\java.settings) and Add following line:\r\n\r\n`org.eclipse.jdt.core.compiler.codegen.methodParameters=generate\r\n`\r\n\r\n 5. Re-Build Code, should be OK now.  \r\n\r\n","title":"How to run Java tests in VSCode with -parameters flag?","body":"<ol>\n<li>Select VSCode -&gt; File -&gt; Preferences -&gt; Settings  Open Setting page (Either User or Workspace)</li>\n<li>Type in &quot;url&quot; filter out and Find Java &gt; Settings:URL:</li>\n<li>Type in Java Setting file path/name (Ex: D:\\java.settings)</li>\n<li>Edit Java Setting file (D:\\java.settings) and Add following line:</li>\n</ol>\n<p><code>org.eclipse.jdt.core.compiler.codegen.methodParameters=generate </code></p>\n<ol start=\"5\">\n<li>Re-Build Code, should be OK now.</li>\n</ol>\n"}],"owner":{"account_id":13097820,"reputation":122,"user_id":9463210,"display_name":"DrRelling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73328432,"answer_count":2,"score":0,"last_activity_date":1682569017,"creation_date":1660223092,"question_id":73321161,"body_markdown":"I opened a Gradle Spring boot project in VS Code, and it picked up all the unit tests as expected. Most of the tests run without any problems, but for the ones using the embedded database as I get this error:\r\n\r\n`org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters. Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.`\r\n\r\nBoth the problem and the solution are pretty clear from the error, but I&#39;d prefer not to set @Param everywhere and I can&#39;t figure out how to set this flag in VS Code when I&#39;m running the tests. Is it possible to set javac flags in VS Code, and if so how do I do it?\r\n\r\nI&#39;ve tried adding several variations on the following to settings.json, without success:\r\n```\r\n&quot;java.test.config&quot;: {\r\n    &quot;args&quot;: [&quot;parameters&quot;]\r\n}\r\n```\r\nThese tests work fine if I run them with `gradle test` or in IntelliJ.","title":"How to run Java tests in VSCode with -parameters flag?","body":"<p>I opened a Gradle Spring boot project in VS Code, and it picked up all the unit tests as expected. Most of the tests run without any problems, but for the ones using the embedded database as I get this error:</p>\n<p><code>org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters. Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.</code></p>\n<p>Both the problem and the solution are pretty clear from the error, but I'd prefer not to set @Param everywhere and I can't figure out how to set this flag in VS Code when I'm running the tests. Is it possible to set javac flags in VS Code, and if so how do I do it?</p>\n<p>I've tried adding several variations on the following to settings.json, without success:</p>\n<pre><code>&quot;java.test.config&quot;: {\n    &quot;args&quot;: [&quot;parameters&quot;]\n}\n</code></pre>\n<p>These tests work fine if I run them with <code>gradle test</code> or in IntelliJ.</p>\n"},{"tags":["java","swing","jtable","jscrollpane"],"comments":[{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":0,"creation_date":1509464625,"post_id":47037416,"comment_id":81025224,"body_markdown":"Maybe [this](https://stackoverflow.com/questions/42534763/how-to-save-a-jtable-on-pdf-with-a-jtable-header/42538618#42538618) could help you...","body":"Maybe <a href=\"https://stackoverflow.com/questions/42534763/how-to-save-a-jtable-on-pdf-with-a-jtable-header/42538618#42538618\">this</a> could help you..."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1509467706,"post_id":47037416,"comment_id":81027213,"body_markdown":"Try to pass `JTable` to `componentToImage`","body":"Try to pass <code>JTable</code> to <code>componentToImage</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1509483252,"post_id":47037416,"comment_id":81036064,"body_markdown":"@c0der Because they seem to be using the row header support of the `JScrollPane`, that won&#39;t work","body":"@c0der Because they seem to be using the row header support of the <code>JScrollPane</code>, that won&#39;t work"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1509483376,"post_id":47037416,"comment_id":81036127,"body_markdown":"You&#39;ll need to devise a solution which allows you to paint both the scroll pane&#39;s row header, column header AND the `JTable` side by side.  This is no easy task to say the least.  You&#39;re probably going to have to resort to some fancy trickery to make it work, extracting the column model and renderer, the row header, set up the `JTable` so the column widths are correct and then manually paint each of the to the image","body":"You&#39;ll need to devise a solution which allows you to paint both the scroll pane&#39;s row header, column header AND the <code>JTable</code> side by side.  This is no easy task to say the least.  You&#39;re probably going to have to resort to some fancy trickery to make it work, extracting the column model and renderer, the row header, set up the <code>JTable</code> so the column widths are correct and then manually paint each of the to the image"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1509508463,"post_id":47037416,"comment_id":81043097,"body_markdown":"@MadProgrammer would it be easier to disable row header support, pass `JTable` to `componentToImage` and enable row header support again ?","body":"@MadProgrammer would it be easier to disable row header support, pass <code>JTable</code> to <code>componentToImage</code> and enable row header support again ?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1509509006,"post_id":47037416,"comment_id":81043217,"body_markdown":"@c0der I think is generally the problem the OP is having.  `JTable` delegates the column and row header to the `JScrollPane`, so they aren&#39;t rendered as part of the `JTable`. Assuming the OP wants the table to be saved as it&#39;s displayed, then they will need to also paint the row and column header themselves","body":"@c0der I think is generally the problem the OP is having.  <code>JTable</code> delegates the column and row header to the <code>JScrollPane</code>, so they aren&#39;t rendered as part of the <code>JTable</code>. Assuming the OP wants the table to be saved as it&#39;s displayed, then they will need to also paint the row and column header themselves"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1509484525,"creation_date":1509484525,"answer_id":47044639,"question_id":47037416,"body_markdown":"Based on you image, I would suggest that you are making use of the `JScrollPane`&#39;s `rowHeader` support.  Rendering a `JTable` is not an easy task at the best of times, normally you&#39;d just make use of the table&#39;s inbuilt support for printing, but that doesn&#39;t take into account the `JScrollPane`s `rowHeader`, and a large enough table might want to print to multiple pages, and that just gets messy.\r\n\r\nIn your case, you&#39;re going to have to disassemble the `JScrollPane` and render the `rowHeader`, `columnHeader` and main `view` yourself.\r\n\r\nAt a &quot;very&quot; basic level, this would invoke calculating the overall size required to render all the components, calculating the offset positions for each component and painting them, something like this...\r\n\r\n    Component columnHeader = scrollPane.getColumnHeader().getView();\r\n    Component rowHeader = scrollPane.getRowHeader().getView();\r\n    Component view = scrollPane.getViewport().getView();\r\n\r\n    int width = rowHeader.getPreferredSize().width + view.getPreferredSize().width;\r\n    int height = columnHeader.getPreferredSize().height + view.getPreferredSize().height;\r\n\r\n    BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n    Graphics2D g2d = img.createGraphics();\r\n    g2d.setColor(Color.WHITE);\r\n    g2d.fillRect(0, 0, width, height);\r\n    int xOffset = rowHeader.getPreferredSize().width;\r\n    int yOffset = columnHeader.getPreferredSize().height;\r\n\r\n    Graphics2D rowHeaderG = (Graphics2D) g2d.create();\r\n    rowHeaderG.translate(0, yOffset);\r\n    rowHeader.printAll(rowHeaderG);\r\n    rowHeaderG.dispose();\r\n\r\n    Graphics2D colHeaderG = (Graphics2D) g2d.create();\r\n    colHeaderG.translate(xOffset, 0);\r\n    columnHeader.printAll(colHeaderG);\r\n    colHeaderG.dispose();\r\n\r\n    Graphics2D viewG = (Graphics2D) g2d.create();\r\n    viewG.translate(xOffset, yOffset);\r\n    view.printAll(viewG);\r\n    viewG.dispose();\r\n    g2d.dispose();\r\n\r\nI borrowed some code from an older example and implemented the basic idea as an example.  Since I don&#39;t have your code, any additional issues you have you&#39;re going to have to try and solve yourself (it&#39;s hard to debug by crystal ball), but this should give you helping start\r\n\r\nFrom the window...\r\n\r\n[![From the frame][1]][1]\r\n\r\nto the image...\r\n\r\n[![to the image][2]][2]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.JViewport;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ListSelectionEvent;\r\n    import javax.swing.event.ListSelectionListener;\r\n    import javax.swing.event.TableColumnModelEvent;\r\n    import javax.swing.event.TableColumnModelListener;\r\n    import javax.swing.table.JTableHeader;\r\n    import javax.swing.table.TableCellRenderer;\r\n    import javax.swing.table.TableColumn;\r\n    import javax.swing.table.TableColumnModel;\r\n\r\n    public class TableRowHeaderTest {\r\n\r\n        public static void main(String[] args) {\r\n            new TableRowHeaderTest();\r\n        }\r\n\r\n        public TableRowHeaderTest() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n\r\n                    Object rowData1[][]\r\n                            = {\r\n                                {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;},\r\n                                {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;},\r\n                                {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;},\r\n                                {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;}\r\n                            };\r\n\r\n                    Object columnNames1[] = {&quot;HEADER 1&quot;, &quot;HEADER 2&quot;, &quot;HEADER 3&quot;, &quot;HEADER 4&quot;};\r\n\r\n                    JTable table1 = new TableWithRowHeader(rowData1, columnNames1);\r\n\r\n                    table1.getColumnModel().getColumn(0).setPreferredWidth(120);\r\n\r\n                    JScrollPane scrollPane1 = new JScrollPane(table1);\r\n    //                scrollPane1.setColumnHeaderView(null);\r\n\r\n                    JButton print = new JButton(&quot;Save&quot;);\r\n                    print.addActionListener(new ActionListener() {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            print(scrollPane1);\r\n                        }\r\n                    });\r\n\r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.add(scrollPane1);\r\n                    frame.add(print, BorderLayout.SOUTH);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        protected void print(JScrollPane scrollPane) {\r\n            Component columnHeader = scrollPane.getColumnHeader().getView();\r\n            Component rowHeader = scrollPane.getRowHeader().getView();\r\n            Component view = scrollPane.getViewport().getView();\r\n\r\n            int width = rowHeader.getPreferredSize().width + view.getPreferredSize().width;\r\n            int height = columnHeader.getPreferredSize().height + view.getPreferredSize().height;\r\n\r\n            BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n            Graphics2D g2d = img.createGraphics();\r\n            g2d.setColor(Color.WHITE);\r\n            g2d.fillRect(0, 0, width, height);\r\n            int xOffset = rowHeader.getPreferredSize().width;\r\n            int yOffset = columnHeader.getPreferredSize().height;\r\n\r\n            Graphics2D rowHeaderG = (Graphics2D) g2d.create();\r\n            rowHeaderG.translate(0, yOffset);\r\n            rowHeader.printAll(rowHeaderG);\r\n            rowHeaderG.dispose();\r\n\r\n            Graphics2D colHeaderG = (Graphics2D) g2d.create();\r\n            colHeaderG.translate(xOffset, 0);\r\n            columnHeader.printAll(colHeaderG);\r\n            colHeaderG.dispose();\r\n\r\n            Graphics2D viewG = (Graphics2D) g2d.create();\r\n            viewG.translate(xOffset, yOffset);\r\n            view.printAll(viewG);\r\n            viewG.dispose();\r\n            g2d.dispose();\r\n\r\n            try {\r\n                ImageIO.write(img, &quot;png&quot;, new File(&quot;Test.png&quot;));\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n        public class TableWithRowHeader extends JTable {\r\n\r\n            private TableRowHeader rowHeader;\r\n\r\n            public TableWithRowHeader(final Object[][] rowData, final Object[] columnNames) {\r\n                super(rowData, columnNames);\r\n                rowHeader = new TableRowHeader(this);\r\n                setGridColor(Color.LIGHT_GRAY);\r\n            }\r\n\r\n            @Override\r\n            protected void configureEnclosingScrollPane() {\r\n                // This is required as it calls a private method...\r\n                super.configureEnclosingScrollPane();\r\n\r\n                Container parent = SwingUtilities.getUnwrappedParent(this);\r\n                if (parent instanceof JViewport) {\r\n\r\n                    JViewport port = (JViewport) parent;\r\n                    Container gp = port.getParent();\r\n                    if (gp instanceof JScrollPane) {\r\n\r\n                        JScrollPane scrollPane = (JScrollPane) gp;\r\n                        JViewport viewport = scrollPane.getViewport();\r\n                        if (viewport == null || SwingUtilities.getUnwrappedView(viewport) != this) {\r\n                            return;\r\n                        }\r\n    //                    scrollPane.setColumnHeaderView(null);\r\n                        scrollPane.setRowHeaderView(rowHeader);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        public class TableRowHeader extends JTableHeader {\r\n\r\n            private JTable table;\r\n\r\n            public TableRowHeader(JTable table) {\r\n                super(table.getColumnModel());\r\n                this.table = table;\r\n\r\n                table.getColumnModel().addColumnModelListener(new TableColumnModelListener() {\r\n\r\n                    @Override\r\n                    public void columnAdded(TableColumnModelEvent e) {\r\n                        repaint();\r\n                    }\r\n\r\n                    @Override\r\n                    public void columnRemoved(TableColumnModelEvent e) {\r\n                        repaint();\r\n                    }\r\n\r\n                    @Override\r\n                    public void columnMoved(TableColumnModelEvent e) {\r\n                        repaint();\r\n                    }\r\n\r\n                    @Override\r\n                    public void columnMarginChanged(ChangeEvent e) {\r\n                        repaint();\r\n                    }\r\n\r\n                    @Override\r\n                    public void columnSelectionChanged(ListSelectionEvent e) {\r\n                        // Don&#39;t care about this, want to highlight the row...\r\n                    }\r\n                });\r\n                table.getSelectionModel().addListSelectionListener(new ListSelectionListener() {\r\n                    @Override\r\n                    public void valueChanged(ListSelectionEvent e) {\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            public JTable getTable() {\r\n                return table;\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                Dimension size = new Dimension();\r\n                JTable table = getTable();\r\n                if (table != null) {\r\n                    TableColumnModel model = table.getColumnModel();\r\n                    if (model != null) {\r\n\r\n                        for (int index = 0; index &lt; model.getColumnCount(); index++) {\r\n\r\n                            TableColumn column = model.getColumn(index);\r\n                            TableCellRenderer renderer = column.getHeaderRenderer();\r\n                            if (renderer == null) {\r\n\r\n                                renderer = getDefaultRenderer();\r\n\r\n                            }\r\n                            Component comp = renderer.getTableCellRendererComponent(table, column.getHeaderValue(), false, false, -1, index);\r\n                            size.width = Math.max(comp.getPreferredSize().width, size.width);\r\n                            size.height += table.getRowHeight(index);\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n                return size;\r\n\r\n            }\r\n\r\n            /**\r\n             * Overridden to avoid propagating a invalidate up the tree when the\r\n             * cell renderer child is configured.\r\n             */\r\n            @Override\r\n            public void invalidate() {\r\n            }\r\n\r\n            /**\r\n             * If the specified component is already a child of this then we don&#39;t\r\n             * bother doing anything - stacking order doesn&#39;t matter for cell\r\n             * renderer components (CellRendererPane doesn&#39;t paint anyway).\r\n             */\r\n            @Override\r\n            protected void addImpl(Component x, Object constraints, int index) {\r\n                if (x.getParent() == this) {\r\n                    return;\r\n                } else {\r\n                    super.addImpl(x, constraints, index);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n\r\n    //            super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n\r\n                g2d.setColor(getBackground());\r\n                g2d.fillRect(0, 0, getWidth(), getHeight());\r\n\r\n                JTable table = getTable();\r\n                if (table != null) {\r\n\r\n                    int width = getWidth();\r\n\r\n                    TableColumnModel model = table.getColumnModel();\r\n                    if (model != null) {\r\n\r\n                        for (int index = 0; index &lt; model.getColumnCount(); index++) {\r\n\r\n                            TableColumn column = model.getColumn(index);\r\n                            TableCellRenderer renderer = column.getHeaderRenderer();\r\n                            if (renderer == null) {\r\n\r\n                                renderer = getDefaultRenderer();\r\n\r\n                            }\r\n\r\n                            boolean selected = table.getSelectedRow() == index;\r\n\r\n                            Component comp = renderer.getTableCellRendererComponent(table, column.getHeaderValue(), selected, false, 0, index);\r\n\r\n                            add(comp);\r\n                            comp.validate();\r\n\r\n                            int height = table.getRowHeight(index) - 1;\r\n                            comp.setBounds(0, 0, width, height);\r\n                            comp.paint(g2d);\r\n                            comp.setBounds(-width, -height, 0, 0);\r\n\r\n                            g2d.setColor(table.getGridColor());\r\n                            g2d.drawLine(0, height, width, height);\r\n\r\n                            g2d.translate(0, height + 1);\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n                g2d.dispose();\r\n                removeAll();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i10n3.png\r\n  [2]: https://i.stack.imgur.com/dg1ln.png","title":"Convert to image of a JTable within a JScrollPane","body":"<p>Based on you image, I would suggest that you are making use of the <code>JScrollPane</code>'s <code>rowHeader</code> support.  Rendering a <code>JTable</code> is not an easy task at the best of times, normally you'd just make use of the table's inbuilt support for printing, but that doesn't take into account the <code>JScrollPane</code>s <code>rowHeader</code>, and a large enough table might want to print to multiple pages, and that just gets messy.</p>\n\n<p>In your case, you're going to have to disassemble the <code>JScrollPane</code> and render the <code>rowHeader</code>, <code>columnHeader</code> and main <code>view</code> yourself.</p>\n\n<p>At a \"very\" basic level, this would invoke calculating the overall size required to render all the components, calculating the offset positions for each component and painting them, something like this...</p>\n\n<pre><code>Component columnHeader = scrollPane.getColumnHeader().getView();\nComponent rowHeader = scrollPane.getRowHeader().getView();\nComponent view = scrollPane.getViewport().getView();\n\nint width = rowHeader.getPreferredSize().width + view.getPreferredSize().width;\nint height = columnHeader.getPreferredSize().height + view.getPreferredSize().height;\n\nBufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\nGraphics2D g2d = img.createGraphics();\ng2d.setColor(Color.WHITE);\ng2d.fillRect(0, 0, width, height);\nint xOffset = rowHeader.getPreferredSize().width;\nint yOffset = columnHeader.getPreferredSize().height;\n\nGraphics2D rowHeaderG = (Graphics2D) g2d.create();\nrowHeaderG.translate(0, yOffset);\nrowHeader.printAll(rowHeaderG);\nrowHeaderG.dispose();\n\nGraphics2D colHeaderG = (Graphics2D) g2d.create();\ncolHeaderG.translate(xOffset, 0);\ncolumnHeader.printAll(colHeaderG);\ncolHeaderG.dispose();\n\nGraphics2D viewG = (Graphics2D) g2d.create();\nviewG.translate(xOffset, yOffset);\nview.printAll(viewG);\nviewG.dispose();\ng2d.dispose();\n</code></pre>\n\n<p>I borrowed some code from an older example and implemented the basic idea as an example.  Since I don't have your code, any additional issues you have you're going to have to try and solve yourself (it's hard to debug by crystal ball), but this should give you helping start</p>\n\n<p>From the window...</p>\n\n<p><a href=\"https://i.stack.imgur.com/i10n3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i10n3.png\" alt=\"From the frame\"></a></p>\n\n<p>to the image...</p>\n\n<p><a href=\"https://i.stack.imgur.com/dg1ln.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dg1ln.png\" alt=\"to the image\"></a></p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.JViewport;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ListSelectionEvent;\nimport javax.swing.event.ListSelectionListener;\nimport javax.swing.event.TableColumnModelEvent;\nimport javax.swing.event.TableColumnModelListener;\nimport javax.swing.table.JTableHeader;\nimport javax.swing.table.TableCellRenderer;\nimport javax.swing.table.TableColumn;\nimport javax.swing.table.TableColumnModel;\n\npublic class TableRowHeaderTest {\n\n    public static void main(String[] args) {\n        new TableRowHeaderTest();\n    }\n\n    public TableRowHeaderTest() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                Object rowData1[][]\n                        = {\n                            {\"\", \"\", \"\", \"\"},\n                            {\"\", \"\", \"\", \"\"},\n                            {\"\", \"\", \"\", \"\"},\n                            {\"\", \"\", \"\", \"\"}\n                        };\n\n                Object columnNames1[] = {\"HEADER 1\", \"HEADER 2\", \"HEADER 3\", \"HEADER 4\"};\n\n                JTable table1 = new TableWithRowHeader(rowData1, columnNames1);\n\n                table1.getColumnModel().getColumn(0).setPreferredWidth(120);\n\n                JScrollPane scrollPane1 = new JScrollPane(table1);\n//                scrollPane1.setColumnHeaderView(null);\n\n                JButton print = new JButton(\"Save\");\n                print.addActionListener(new ActionListener() {\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        print(scrollPane1);\n                    }\n                });\n\n                JFrame frame = new JFrame(\"Testing\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(scrollPane1);\n                frame.add(print, BorderLayout.SOUTH);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    protected void print(JScrollPane scrollPane) {\n        Component columnHeader = scrollPane.getColumnHeader().getView();\n        Component rowHeader = scrollPane.getRowHeader().getView();\n        Component view = scrollPane.getViewport().getView();\n\n        int width = rowHeader.getPreferredSize().width + view.getPreferredSize().width;\n        int height = columnHeader.getPreferredSize().height + view.getPreferredSize().height;\n\n        BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n        Graphics2D g2d = img.createGraphics();\n        g2d.setColor(Color.WHITE);\n        g2d.fillRect(0, 0, width, height);\n        int xOffset = rowHeader.getPreferredSize().width;\n        int yOffset = columnHeader.getPreferredSize().height;\n\n        Graphics2D rowHeaderG = (Graphics2D) g2d.create();\n        rowHeaderG.translate(0, yOffset);\n        rowHeader.printAll(rowHeaderG);\n        rowHeaderG.dispose();\n\n        Graphics2D colHeaderG = (Graphics2D) g2d.create();\n        colHeaderG.translate(xOffset, 0);\n        columnHeader.printAll(colHeaderG);\n        colHeaderG.dispose();\n\n        Graphics2D viewG = (Graphics2D) g2d.create();\n        viewG.translate(xOffset, yOffset);\n        view.printAll(viewG);\n        viewG.dispose();\n        g2d.dispose();\n\n        try {\n            ImageIO.write(img, \"png\", new File(\"Test.png\"));\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n\n    }\n\n    public class TableWithRowHeader extends JTable {\n\n        private TableRowHeader rowHeader;\n\n        public TableWithRowHeader(final Object[][] rowData, final Object[] columnNames) {\n            super(rowData, columnNames);\n            rowHeader = new TableRowHeader(this);\n            setGridColor(Color.LIGHT_GRAY);\n        }\n\n        @Override\n        protected void configureEnclosingScrollPane() {\n            // This is required as it calls a private method...\n            super.configureEnclosingScrollPane();\n\n            Container parent = SwingUtilities.getUnwrappedParent(this);\n            if (parent instanceof JViewport) {\n\n                JViewport port = (JViewport) parent;\n                Container gp = port.getParent();\n                if (gp instanceof JScrollPane) {\n\n                    JScrollPane scrollPane = (JScrollPane) gp;\n                    JViewport viewport = scrollPane.getViewport();\n                    if (viewport == null || SwingUtilities.getUnwrappedView(viewport) != this) {\n                        return;\n                    }\n//                    scrollPane.setColumnHeaderView(null);\n                    scrollPane.setRowHeaderView(rowHeader);\n                }\n            }\n        }\n\n    }\n\n    public class TableRowHeader extends JTableHeader {\n\n        private JTable table;\n\n        public TableRowHeader(JTable table) {\n            super(table.getColumnModel());\n            this.table = table;\n\n            table.getColumnModel().addColumnModelListener(new TableColumnModelListener() {\n\n                @Override\n                public void columnAdded(TableColumnModelEvent e) {\n                    repaint();\n                }\n\n                @Override\n                public void columnRemoved(TableColumnModelEvent e) {\n                    repaint();\n                }\n\n                @Override\n                public void columnMoved(TableColumnModelEvent e) {\n                    repaint();\n                }\n\n                @Override\n                public void columnMarginChanged(ChangeEvent e) {\n                    repaint();\n                }\n\n                @Override\n                public void columnSelectionChanged(ListSelectionEvent e) {\n                    // Don't care about this, want to highlight the row...\n                }\n            });\n            table.getSelectionModel().addListSelectionListener(new ListSelectionListener() {\n                @Override\n                public void valueChanged(ListSelectionEvent e) {\n                    repaint();\n                }\n            });\n        }\n\n        public JTable getTable() {\n            return table;\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            Dimension size = new Dimension();\n            JTable table = getTable();\n            if (table != null) {\n                TableColumnModel model = table.getColumnModel();\n                if (model != null) {\n\n                    for (int index = 0; index &lt; model.getColumnCount(); index++) {\n\n                        TableColumn column = model.getColumn(index);\n                        TableCellRenderer renderer = column.getHeaderRenderer();\n                        if (renderer == null) {\n\n                            renderer = getDefaultRenderer();\n\n                        }\n                        Component comp = renderer.getTableCellRendererComponent(table, column.getHeaderValue(), false, false, -1, index);\n                        size.width = Math.max(comp.getPreferredSize().width, size.width);\n                        size.height += table.getRowHeight(index);\n\n                    }\n\n                }\n            }\n            return size;\n\n        }\n\n        /**\n         * Overridden to avoid propagating a invalidate up the tree when the\n         * cell renderer child is configured.\n         */\n        @Override\n        public void invalidate() {\n        }\n\n        /**\n         * If the specified component is already a child of this then we don't\n         * bother doing anything - stacking order doesn't matter for cell\n         * renderer components (CellRendererPane doesn't paint anyway).\n         */\n        @Override\n        protected void addImpl(Component x, Object constraints, int index) {\n            if (x.getParent() == this) {\n                return;\n            } else {\n                super.addImpl(x, constraints, index);\n            }\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n\n//            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            g2d.setColor(getBackground());\n            g2d.fillRect(0, 0, getWidth(), getHeight());\n\n            JTable table = getTable();\n            if (table != null) {\n\n                int width = getWidth();\n\n                TableColumnModel model = table.getColumnModel();\n                if (model != null) {\n\n                    for (int index = 0; index &lt; model.getColumnCount(); index++) {\n\n                        TableColumn column = model.getColumn(index);\n                        TableCellRenderer renderer = column.getHeaderRenderer();\n                        if (renderer == null) {\n\n                            renderer = getDefaultRenderer();\n\n                        }\n\n                        boolean selected = table.getSelectedRow() == index;\n\n                        Component comp = renderer.getTableCellRendererComponent(table, column.getHeaderValue(), selected, false, 0, index);\n\n                        add(comp);\n                        comp.validate();\n\n                        int height = table.getRowHeight(index) - 1;\n                        comp.setBounds(0, 0, width, height);\n                        comp.paint(g2d);\n                        comp.setBounds(-width, -height, 0, 0);\n\n                        g2d.setColor(table.getGridColor());\n                        g2d.drawLine(0, height, width, height);\n\n                        g2d.translate(0, height + 1);\n\n                    }\n\n                }\n            }\n            g2d.dispose();\n            removeAll();\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15029735,"reputation":85,"user_id":10848253,"display_name":"Chauncey Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682568875,"creation_date":1682568875,"answer_id":76116688,"question_id":47037416,"body_markdown":"below example code can be a good solution:\r\n   \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.*;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.*;\r\n    import javax.swing.table.*;\r\n  \r\n    public class TableToImage\r\n    {\r\n    public static void main(String[] args)\r\n    {\r\n        final JTable table = getTable();\r\n        JButton save = new JButton(&quot;save&quot;);\r\n        save.addActionListener(new ActionListener()\r\n        {\r\n            public void actionPerformed(ActionEvent e)\r\n            {\r\n                saveToImage(table, table.getTableHeader());\r\n            }\r\n        });\r\n        JPanel north = new JPanel();\r\n        north.add(save);\r\n        JFrame f = new JFrame();\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.getContentPane().add(north, &quot;North&quot;);\r\n        f.getContentPane().add(new JScrollPane(table));\r\n        f.setSize(400,400);\r\n        f.setLocation(200,200);\r\n        f.setVisible(true);\r\n    }\r\n  \r\n    private static JTable getTable()\r\n    {\r\n        String[] headers = {\r\n            &quot;column 1&quot;, &quot;column 2&quot;, &quot;column 3&quot;, &quot;column 4&quot;\r\n        };\r\n        int rows = 50;\r\n        int cols = 4;\r\n        String[][] data = new String[rows][cols];\r\n        for(int j = 0; j &lt; rows; j++)\r\n            for(int k = 0; k &lt; cols; k++)\r\n                data[j][k] = &quot;item &quot; + (j * cols + k + 1);\r\n        return new JTable(data, headers);\r\n    }\r\n  \r\n    private static void saveToImage(JTable table, JTableHeader header)\r\n    {\r\n        int w = Math.max(table.getWidth(), header.getWidth());\r\n        int h = table.getHeight() + header.getHeight();\r\n        BufferedImage bi = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D g2 = bi.createGraphics();\r\n        header.paint(g2);\r\n        g2.translate(0, header.getHeight());\r\n        table.paint(g2);\r\n        g2.dispose();\r\n        try\r\n        {\r\n     String userHomeFolder = System.getProperty(&quot;user.home&quot;) + &quot;/Desktop&quot;;\r\n            ImageIO.write(bi, &quot;png&quot;, new File(userHomeFolder,&quot;tableImage.png&quot;));\r\n        }\r\n        catch(IOException ioe)\r\n        {\r\n            System.out.println(&quot;write: &quot; + ioe.getMessage());\r\n        }\r\n    }\r\n    }","title":"Convert to image of a JTable within a JScrollPane","body":"<p>below example code can be a good solution:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.image.BufferedImage;\nimport java.io.*;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport javax.swing.table.*;\n\npublic class TableToImage\n{\npublic static void main(String[] args)\n{\n    final JTable table = getTable();\n    JButton save = new JButton(&quot;save&quot;);\n    save.addActionListener(new ActionListener()\n    {\n        public void actionPerformed(ActionEvent e)\n        {\n            saveToImage(table, table.getTableHeader());\n        }\n    });\n    JPanel north = new JPanel();\n    north.add(save);\n    JFrame f = new JFrame();\n    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    f.getContentPane().add(north, &quot;North&quot;);\n    f.getContentPane().add(new JScrollPane(table));\n    f.setSize(400,400);\n    f.setLocation(200,200);\n    f.setVisible(true);\n}\n\nprivate static JTable getTable()\n{\n    String[] headers = {\n        &quot;column 1&quot;, &quot;column 2&quot;, &quot;column 3&quot;, &quot;column 4&quot;\n    };\n    int rows = 50;\n    int cols = 4;\n    String[][] data = new String[rows][cols];\n    for(int j = 0; j &lt; rows; j++)\n        for(int k = 0; k &lt; cols; k++)\n            data[j][k] = &quot;item &quot; + (j * cols + k + 1);\n    return new JTable(data, headers);\n}\n\nprivate static void saveToImage(JTable table, JTableHeader header)\n{\n    int w = Math.max(table.getWidth(), header.getWidth());\n    int h = table.getHeight() + header.getHeight();\n    BufferedImage bi = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\n    Graphics2D g2 = bi.createGraphics();\n    header.paint(g2);\n    g2.translate(0, header.getHeight());\n    table.paint(g2);\n    g2.dispose();\n    try\n    {\n String userHomeFolder = System.getProperty(&quot;user.home&quot;) + &quot;/Desktop&quot;;\n        ImageIO.write(bi, &quot;png&quot;, new File(userHomeFolder,&quot;tableImage.png&quot;));\n    }\n    catch(IOException ioe)\n    {\n        System.out.println(&quot;write: &quot; + ioe.getMessage());\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":1790857,"reputation":4370,"user_id":1631306,"accept_rate":95,"display_name":"user1631306"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47044639,"answer_count":2,"score":1,"last_activity_date":1682568875,"creation_date":1509458905,"question_id":47037416,"body_markdown":"I have a `JTable` inside a `JScrollPane`, which is under a `JPanel`. I need to export the table as an image. It works fine if the table is small enough to be viewed completely in the `JScrollPane`, without the scrollbar. But if the table is too big and needs scroller to go right and left or up and down, then only part of the table is visible in the exported image. \r\nI am using the following code\r\n\r\n    public BufferedImage componentToImage( Component component, boolean visible)\r\n\t{\r\n\t\tif (visible)\r\n\t\t{\r\n\t\t\tBufferedImage img = new BufferedImage(component.getWidth(), component.getHeight(), BufferedImage.TRANSLUCENT);\r\n\t\t\tGraphics2D g2d = (Graphics2D) img.getGraphics();\r\n\t\t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\tcomponent.paintAll(g2d);\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tFile outputfile = new File(&quot;C:\\\\Users\\\\SciOme Admin\\\\Desktop\\\\a.png&quot;);\r\n\t\t\t\tImageIO.write(img, &quot;png&quot;, outputfile);\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn img;\r\n\t\t}\r\n    }\r\n\r\n\r\nwhere I am passing `JScrollPane` as the component.\r\nI am getting attached partial image, with scroll bars. But I need the complete `JTable`. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hNkHP.png\r\n\r\nI can&#39;t pass the `JTable` as the component, as I am using two overlapping tables in the `JScrollPane`. One table is used to just show the row headers and keep them visible always, even when scrolling to the right. ","title":"Convert to image of a JTable within a JScrollPane","body":"<p>I have a <code>JTable</code> inside a <code>JScrollPane</code>, which is under a <code>JPanel</code>. I need to export the table as an image. It works fine if the table is small enough to be viewed completely in the <code>JScrollPane</code>, without the scrollbar. But if the table is too big and needs scroller to go right and left or up and down, then only part of the table is visible in the exported image. \nI am using the following code</p>\n\n<pre><code>public BufferedImage componentToImage( Component component, boolean visible)\n{\n    if (visible)\n    {\n        BufferedImage img = new BufferedImage(component.getWidth(), component.getHeight(), BufferedImage.TRANSLUCENT);\n        Graphics2D g2d = (Graphics2D) img.getGraphics();\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        component.paintAll(g2d);\n        try\n        {\n            File outputfile = new File(\"C:\\\\Users\\\\SciOme Admin\\\\Desktop\\\\a.png\");\n            ImageIO.write(img, \"png\", outputfile);\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n        return img;\n    }\n}\n</code></pre>\n\n<p>where I am passing <code>JScrollPane</code> as the component.\nI am getting attached partial image, with scroll bars. But I need the complete <code>JTable</code>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/hNkHP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hNkHP.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can't pass the <code>JTable</code> as the component, as I am using two overlapping tables in the <code>JScrollPane</code>. One table is used to just show the row headers and keep them visible always, even when scrolling to the right. </p>\n"},{"tags":["java","security","owasp","pci-dss"],"comments":[{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":1,"creation_date":1495805456,"post_id":44202842,"comment_id":75418401,"body_markdown":"if someone can tamper with your RAM memory to find a Java String, you have indeed worse security problems, however you may use a simple char array to store the PAN and manually blank it after usage, Be sure every time you convert it to String (for whavever scope you have), to mask it (like 5255***********2) or to get just last few bytes. I don&#39;t get the REST part thou, if you receive the call, it&#39;s up to the Merchant to have a SAQ-D (he acquires the sensitive data), any REST call is considered S2S.","body":"if someone can tamper with your RAM memory to find a Java String, you have indeed worse security problems, however you may use a simple char array to store the PAN and manually blank it after usage, Be sure every time you convert it to String (for whavever scope you have), to mask it (like 5255***********2) or to get just last few bytes. I don&#39;t get the REST part thou, if you receive the call, it&#39;s up to the Merchant to have a SAQ-D (he acquires the sensitive data), any REST call is considered S2S."},{"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"score":0,"creation_date":1495805805,"post_id":44202842,"comment_id":75418649,"body_markdown":"The requirement can be extrapolated to &#39;not use RAM at all&#39;. However, you can use `char[]` and immediately null out its elements after use, since arrays are mutable.","body":"The requirement can be extrapolated to &#39;not use RAM at all&#39;. However, you can use <code>char[]</code> and immediately null out its elements after use, since arrays are mutable."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1495806046,"post_id":44202842,"comment_id":75418800,"body_markdown":"See [here](https://pcissc.secure.force.com/faq/articles/Frequently_Asked_Question/Should-cardholder-data-be-encrypted-while-in-memory) - for a rebuff of your security officer. It all depends on the interpretation of *at rest*.","body":"See <a href=\"https://pcissc.secure.force.com/faq/articles/Frequently_Asked_Question/Should-cardholder-data-be-encrypted-while-in-memory\" rel=\"nofollow noreferrer\">here</a> - for a rebuff of your security officer. It all depends on the interpretation of <i>at rest</i>."},{"owner":{"account_id":6551055,"reputation":380,"user_id":5065445,"display_name":"Tomas Jacko"},"score":0,"creation_date":1495806759,"post_id":44202842,"comment_id":75419259,"body_markdown":"By the REST example, I think, that all input already come in String, so the conversion to the char[] already lost the point, because there already are sensitive data in memory waiting for the GC. And I know, I could handle this with processing byte stream and convert them to the char[], but this seems to me as inventing the wheel.","body":"By the REST example, I think, that all input already come in String, so the conversion to the char[] already lost the point, because there already are sensitive data in memory waiting for the GC. And I know, I could handle this with processing byte stream and convert them to the char[], but this seems to me as inventing the wheel."}],"answers":[{"tags":[],"owner":{"account_id":3844774,"reputation":1,"user_id":3186694,"display_name":"Sriram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682568149,"creation_date":1682568149,"answer_id":76116645,"question_id":44202842,"body_markdown":"Immutable objects stay in memory the same way normal objects are. The efficiency it brings to table is if two variables are assigned same value it won’t create a new copy but assign reference of same object in memory to both. A normal mutable object also stays in memory after it is de referenced until GC picks it up for cleanup. If you use languages like Scala and few others that by default use immutable objects then I understand from your CISO argument your software is never compliant","title":"Java String vs PCI-DSS Sensitive data","body":"<p>Immutable objects stay in memory the same way normal objects are. The efficiency it brings to table is if two variables are assigned same value it won’t create a new copy but assign reference of same object in memory to both. A normal mutable object also stays in memory after it is de referenced until GC picks it up for cleanup. If you use languages like Scala and few others that by default use immutable objects then I understand from your CISO argument your software is never compliant</p>\n"}],"owner":{"account_id":6551055,"reputation":380,"user_id":5065445,"display_name":"Tomas Jacko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682568149,"creation_date":1495805215,"question_id":44202842,"body_markdown":"In Requirement 3.2 of PCIDSS is the first sentence: &quot;Do not store sensitive authentication data after authorization&quot;. Should I this apply also to the operation memory(RAM)? Because my security officer understands it this way, so he prohibits us from using java.lang.String in Java language.\r\nHis point of view is, that because JAVA String is immutable, so it&#39;s impossible to delete it immediately after authorization and is necessary to wait to a garbage collector to remove it from RAM. The garbage collector isn&#39;t under our control, so we can&#39;t force to remove sensitive data from RAM immediately after the authorization. Because of this, we aren&#39;t compliant with Requirement 3.2.\r\nMy point is, that Requirement 3.2, isn&#39;t about the RAM, but about the persistent storage (filesystem, DB and so on). \r\nThis is not only about replacing some central representation of PAN from String to Char array, but it&#39;ll also blocking us from use lots of standard JAVA libs for IO. For example REST controllers in case of payment gateway.\r\nNow we are at a stage of designing the new application, so decide this will really help us. \r\nIs there any official explanation from trusted source?","title":"Java String vs PCI-DSS Sensitive data","body":"<p>In Requirement 3.2 of PCIDSS is the first sentence: \"Do not store sensitive authentication data after authorization\". Should I this apply also to the operation memory(RAM)? Because my security officer understands it this way, so he prohibits us from using java.lang.String in Java language.\nHis point of view is, that because JAVA String is immutable, so it's impossible to delete it immediately after authorization and is necessary to wait to a garbage collector to remove it from RAM. The garbage collector isn't under our control, so we can't force to remove sensitive data from RAM immediately after the authorization. Because of this, we aren't compliant with Requirement 3.2.\nMy point is, that Requirement 3.2, isn't about the RAM, but about the persistent storage (filesystem, DB and so on). \nThis is not only about replacing some central representation of PAN from String to Char array, but it'll also blocking us from use lots of standard JAVA libs for IO. For example REST controllers in case of payment gateway.\nNow we are at a stage of designing the new application, so decide this will really help us. \nIs there any official explanation from trusted source?</p>\n"},{"tags":["java","android","adapter"],"owner":{"account_id":28429774,"reputation":1,"user_id":21750594,"display_name":"Hansel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682567938,"creation_date":1682567938,"question_id":76116630,"body_markdown":"I want to create a fragment where I display a CardView containing data fetched from a database that is currently on the localhost server.It is only showing a blank fragment screen; nothing is being displayed.\r\n\r\n\r\nHere is the Fragment where the CardView is supposed to be displayed (UserFindFundiFragment):\r\n\r\n```\r\npackage com.example.fundijava;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.core.text.StringKt;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.textclassifier.TextLinks;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n\r\npublic class UserFindFundiFragment extends Fragment {\r\n\r\n    RecyclerView recyclerView;\r\n    RecyclerView.LayoutManager layoutManager;\r\n    FindFundiAdapter adapter;\r\n    ArrayList&lt;FundiProfile&gt; fundiProfileArrayList;\r\n    private static final String BASE_URL = &quot;http://192.168.100.43/MyFundiApp/getFundiProfiles.php&quot;;\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n    }\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n//        View view = inflater.inflate(R.layout.fragment_user_find_fundi, container, false);\r\n//        recyclerView = view.findViewById(R.id.userFindFundiRecyclerView);\r\n//        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(getContext());\r\n//        recyclerView.setLayoutManager(linearLayoutManager);\r\n//\r\n//        adapter = new FindFundiAdapter();\r\n//        recyclerView.setAdapter(adapter);\r\n//\r\n//        return view;\r\n\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_user_find_fundi, container, false);\r\n        recyclerView = view.findViewById(R.id.userFindFundiRecyclerView); //Specifying in which recycler view the info fetched will be displayed\r\n        layoutManager = new GridLayoutManager(getContext(), 1); //Creating a vertical grid layout in this fragment\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        fundiProfileArrayList = new ArrayList&lt;&gt;();\r\n\r\n        // Initialize adapter with an empty ArrayList\r\n        adapter = new FindFundiAdapter(getContext(), fundiProfileArrayList);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        getFundiProfiles();\r\n\r\n//        return inflater.inflate(R.layout.fragment_user_find_fundi, container, false);\r\n        return view;\r\n    }\r\n\r\n    private void getFundiProfiles() {\r\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, BASE_URL,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        try {\r\n                            JSONArray jsonArray = new JSONArray(response);\r\n                            for (int i = 0; i &lt; jsonArray.length(); i++) { //Loop through all the elements\r\n                                JSONObject jsonObject = jsonArray.getJSONObject(i);\r\n\r\n                                String fundiProfileID = jsonObject.getString(&quot;fundiProfileID&quot;);\r\n                                String fundiID = jsonObject.getString(&quot;fundiID&quot;);\r\n                                String name = jsonObject.getString(&quot;name&quot;);\r\n                                String gender = jsonObject.getString(&quot;gender&quot;);\r\n                                String profession = jsonObject.getString(&quot;profession&quot;);\r\n                                String county = jsonObject.getString(&quot;county&quot;);\r\n                                String experience = jsonObject.getString(&quot;experience&quot;);\r\n                                Boolean availability = jsonObject.getBoolean(&quot;availability&quot;);\r\n                                String package_1 = jsonObject.getString(&quot;package_1&quot;);\r\n                                Integer package_1_cost = jsonObject.getInt(&quot;package_1_cost&quot;);\r\n                                String package_2 = jsonObject.getString(&quot;package_2&quot;);\r\n                                Integer package_2_cost = jsonObject.getInt(&quot;package_2_cost&quot;);\r\n                                String package_3 = jsonObject.getString(&quot;package_3&quot;);\r\n                                Integer package_3_cost = jsonObject.getInt(&quot;package_3_cost&quot;);\r\n                                String package_4 = jsonObject.getString(&quot;package_4&quot;);\r\n                                Integer package_4_cost = jsonObject.getInt(&quot;package_4_cost&quot;);\r\n\r\n\r\n                                FundiProfile fundiProfile = new FundiProfile(\r\n                                        fundiProfileID,\r\n                                        fundiID,\r\n                                        name,\r\n                                        gender,\r\n                                        profession,\r\n                                        county,\r\n                                        experience,\r\n                                        availability,\r\n                                        package_1,\r\n                                        package_2,\r\n                                        package_3,\r\n                                        package_4,\r\n                                        package_1_cost,\r\n                                        package_2_cost,\r\n                                        package_3_cost,\r\n                                        package_4_cost\r\n                                );\r\n\r\n                                fundiProfileArrayList.add(fundiProfile);\r\n                            }\r\n                        } catch (JSONException exception) {\r\n\r\n                        }\r\n\r\n                        // Notify the adapter that the data set has changed\r\n                        adapter.notifyDataSetChanged();\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(getContext(), error.toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        Volley.newRequestQueue(getContext()).add(stringRequest);\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere is the xml for the UserFindFundiFragment:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    tools:context=&quot;.UserFindFundiFragment&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/userFindFundiRecyclerView&quot;\r\n        app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:overScrollMode=&quot;never&quot;\r\n        tools:listitem=&quot;@layout/fundi_profile_card&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\nHere is the FindFundiAdapter:\r\n\r\n```\r\npackage com.example.fundijava;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class FindFundiAdapter extends RecyclerView.Adapter&lt;FindFundiAdapter.FindFundiViewHolder&gt; {\r\n\r\n    Context context;\r\n    List&lt;FundiProfile&gt; fundiProfileArrayList = new ArrayList&lt;&gt;();\r\n\r\n    public FindFundiAdapter(Context context, List&lt;FundiProfile&gt; fundiProfileArrayList) {\r\n//        Constructor\r\n        this.context = context;\r\n        this.fundiProfileArrayList = fundiProfileArrayList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public FindFundiViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n//        When the fragment is called on by the parent, this will inflate the card view inside the relevant frame layout\r\n        View view = LayoutInflater.from(context).inflate(R.layout.fundi_profile_card, parent, false);\r\n        return new FindFundiViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull FindFundiViewHolder holder, int position) {\r\n        final FundiProfile fundiProfile = fundiProfileArrayList.get(position);\r\n\r\n        //Declaring the view holders whose contents should be updated\r\n        holder.textViewfundiId.setText(fundiProfile.getFundiID());\r\n        holder.textViewfundiname.setText(fundiProfile.getName());\r\n        holder.textViewfundigender.setText(fundiProfile.getGender());\r\n        holder.textViewfundiprofession.setText(fundiProfile.getProfession());\r\n        holder.textViewfundicounty.setText(fundiProfile.getCounty());\r\n        holder.textViewfundiexperience.setText(fundiProfile.getExperience());\r\n        holder.textViewfundiavailability.setText(fundiProfile.getAvailability().toString());\r\n        holder.textViewpackage1.setText(fundiProfile.getPackage_1());\r\n        holder.textViewpackage1cost.setText(&quot;Ksh &quot;+ fundiProfile.getPackage_1_cost());;\r\n        holder.textViewpackage2.setText(fundiProfile.getPackage_2());\r\n        holder.textViewpackage2cost.setText(&quot;Ksh &quot;+ fundiProfile.getPackage_2_cost());\r\n        holder.textViewpackage3.setText(fundiProfile.getPackage_3());\r\n        holder.textviewpackage3cost.setText(&quot;Ksh &quot;+ fundiProfile.getPackage_3_cost());\r\n        holder.textViewpackage4.setText(fundiProfile.getPackage_4());\r\n        holder.textViewpackage4cost.setText(&quot;Ksh &quot;+ fundiProfile.getPackage_4_cost());\r\n\r\n        holder.linearLayoutFundiProfileCard.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n//                getSupportFragmentManager().beginTransaction().replace(R.id.fundiFragmentContainer, new FundiNotificationsFragment()).commit();\r\n//                Fragment fragment = new Fragment(context, UserFindFundiFragment.class);\r\n//                fragment.startActivity(fragment);\r\n//                Intent intent = new Intent(context, FundiActivity.class);\r\n//                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return fundiProfileArrayList.size();\r\n    }\r\n\r\n    public static class FindFundiViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private TextView textViewfundiId;\r\n        private TextView textViewfundiname;\r\n        private TextView textViewfundiprofession;\r\n        private TextView textViewfundigender;\r\n        private TextView textViewfundicounty;\r\n        private TextView textViewfundiexperience;\r\n        private TextView textViewfundiavailability;\r\n        private TextView textViewpackage1;\r\n        private TextView textViewpackage1cost;\r\n        private TextView textViewpackage2;\r\n        private TextView textViewpackage2cost;\r\n        private TextView textViewpackage3;\r\n        private TextView textviewpackage3cost;\r\n        private TextView textViewpackage4;\r\n        private TextView textViewpackage4cost;\r\n\r\n        private LinearLayout linearLayoutFundiProfileCard;\r\n        public FindFundiViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n//            Declaring variables as and initialising them as the respective views in which queried fundi profile data will be displayed\r\n            linearLayoutFundiProfileCard = itemView.findViewById(R.id.fundiProfileContainer);\r\n\r\n            textViewfundiId = itemView.findViewById(R.id.fundiID);\r\n            textViewfundiname = itemView.findViewById(R.id.fundiname);\r\n            textViewfundiprofession = itemView.findViewById(R.id.fundiprofession);\r\n            textViewfundigender = itemView.findViewById(R.id.fundigender);\r\n            textViewfundicounty = itemView.findViewById(R.id.fundicounty);\r\n            textViewfundiexperience = itemView.findViewById(R.id.fundiexperience);\r\n            textViewfundiavailability = itemView.findViewById(R.id.fundiavailability);\r\n            textViewpackage1 = itemView.findViewById(R.id.fundipackage1);\r\n            textViewpackage1cost = itemView.findViewById(R.id.fundipackage1cost);\r\n            textViewpackage2 = itemView.findViewById(R.id.fundipackage2);\r\n            textViewpackage2cost = itemView.findViewById(R.id.fundipackage2cost);\r\n            textViewpackage3 = itemView.findViewById(R.id.fundipackage3);\r\n            textviewpackage3cost = itemView.findViewById(R.id.fundipackage3cost);\r\n            textViewpackage4 = itemView.findViewById(R.id.fundipackage4);\r\n            textViewpackage4cost = itemView.findViewById(R.id.fundipackage4cost);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere is my model:\r\n\r\n```\r\npackage com.example.fundijava;\r\n\r\n/*\r\n* This is a class to represent a fundi profile. It will be used to define the profile attributes\r\n* and class methods to retrieve data that will be displayed in the fundi profile card that will\r\n* subsequently be displayed in the UserFindFundi fragment. */\r\npublic class FundiProfile {\r\n    private String fundiProfileID, fundiID, name, gender, profession, county, experience, package_1, package_2, package_3, package_4;\r\n    private Integer package_1_cost, package_2_cost, package_3_cost, package_4_cost;\r\n    private Boolean availability;\r\n\r\n    public FundiProfile (String fundiProfileID, String fundiID, String name, String gender,\r\n                         String profession, String county, String experience, Boolean availability,\r\n                         String package_1, String package_2, String package_3, String package_4,\r\n                         Integer package_1_cost, Integer package_2_cost, Integer package_3_cost,\r\n                         Integer package_4_cost) {\r\n        this.fundiProfileID = fundiProfileID;\r\n        this.fundiID = fundiID;\r\n        this.name = name;\r\n        this.gender = gender;\r\n        this.profession = profession;\r\n        this.county = county;\r\n        this.experience = experience;\r\n        this.availability = availability;\r\n        this.package_1 = package_1;\r\n        this.package_1_cost = package_1_cost;\r\n        this.package_2 = package_2;\r\n        this.package_2_cost = package_2_cost;\r\n        this.package_3 = package_3;\r\n        this.package_3_cost = package_3_cost;\r\n        this.package_4 = package_4;\r\n        this.package_4_cost = package_4_cost;\r\n    }\r\n\r\n    public String getFundiProfileID() { return fundiProfileID;}\r\n    public void setFundiProfileID(String fundiProfileID) { this.fundiProfileID = fundiProfileID; }\r\n\r\n    public String getFundiID() { return fundiID;}\r\n    public void setFundiID(String fundiID) { this.fundiID = fundiID; }\r\n\r\n    public String getName() { return name;}\r\n    public void setName(String name) { this.name = name; }\r\n\r\n    public String getGender() { return gender;}\r\n    public void setGender(String gender) { this.gender = gender; }\r\n\r\n    public String getProfession() { return profession;}\r\n    public void setProfession(String profession) { this.profession = profession; }\r\n\r\n    public String getCounty() { return county;}\r\n    public void setCounty(String county) { this.county = county; }\r\n\r\n    public String getExperience() { return experience;}\r\n    public void setExperience(String experience) { this.experience = experience; }\r\n\r\n    public Boolean getAvailability() { return availability;}\r\n    public void setAvailability(Boolean availability) { this.availability = availability; }\r\n    public String getPackage_1() { return package_1;}\r\n    public void setPackage_1(String package_1) { this.package_1 = package_1; }\r\n\r\n    public Integer getPackage_1_cost() { return package_1_cost;}\r\n    public void setPackage_1_cost(Integer package_1_cost) { this.package_1_cost = package_1_cost; }\r\n\r\n    public String getPackage_2() { return package_2;}\r\n    public void setPackage_2(String package_2) { this.package_2 = package_2; }\r\n\r\n    public Integer getPackage_2_cost() { return package_2_cost;}\r\n    public void setPackage_2_cost(Integer package_2_cost) { this.package_2_cost = package_2_cost; }\r\n\r\n    public String getPackage_3() { return package_3;}\r\n    public void setPackage_3(String package_3) { this.package_3 = package_3; }\r\n\r\n    public Integer getPackage_3_cost() { return package_3_cost;}\r\n    public void setPackage_3_cost(Integer package_3_cost) { this.package_3_cost = package_3_cost; }\r\n\r\n    public String getPackage_4() { return package_4;}\r\n    public void setPackage_4(String package_4) { this.package_4 = package_4; }\r\n\r\n    public Integer getPackage_4_cost() { return package_4_cost;}\r\n    public void setPackage_4_cost(Integer package_4_cost) { this.package_4_cost = package_4_cost; }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nHere is the CardView xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:background=&quot;#C4DCD0D0&quot;\r\n    app:cardElevation=&quot;3dp&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/fundiProfileContainer&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:padding=&quot;25sp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/fundiID&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;5sp&quot;\r\n            android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n            android:textStyle=&quot;italic&quot;\r\n            android:text=&quot;FundiID 1&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/fundiname&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;5sp&quot;\r\n            android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n            android:text=&quot;Name 1&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/fundiavailability&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;5sp&quot;\r\n            android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n            android:text=&quot;Availability&quot;/&gt;\r\n\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/fundiprofession&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n                    android:padding=&quot;5sp&quot;\r\n                    android:text=&quot;Profession 1&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/fundigender&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:padding=&quot;5sp&quot;\r\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n                    android:text=&quot;Gender 1&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/fundicounty&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:padding=&quot;5sp&quot;\r\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n                    android:text=&quot;County 1&quot;/&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/fundiexperience&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:padding=&quot;5sp&quot;\r\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n                    android:text=&quot;Experience 1&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;View\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;1dp&quot;\r\n            android:background=&quot;@color/purple_200&quot;/&gt;\r\n\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/fundipackage1&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:padding=&quot;5sp&quot;\r\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n                    android:text=&quot;Package 1&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/fundipackage1cost&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:padding=&quot;5sp&quot;\r\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n                    android:text=&quot;Package 1 Cost&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/fundipackage2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:padding=&quot;5sp&quot;\r\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n                    android:text=&quot;Package 2&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/fundipackage2cost&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:padding=&quot;5sp&quot;\r\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n                    android:text=&quot;Package 2 Cost&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/fundipackage3&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:padding=&quot;5sp&quot;\r\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n                    android:text=&quot;Package 3&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/fundipackage3cost&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:padding=&quot;5sp&quot;\r\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n                    android:text=&quot;Package 3 cost&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/fundipackage4&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:padding=&quot;5sp&quot;\r\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n                    android:text=&quot;Package 4&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/fundipackage4cost&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:padding=&quot;5sp&quot;\r\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\r\n                    android:text=&quot;Package 4 cost&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n```\r\nI was expecting the cardview to be displayed in the UserFindFundiFragment,while containing data that has been retrieved from the database.","title":"CardView with data from local Database, not displaying in fragment","body":"<p>I want to create a fragment where I display a CardView containing data fetched from a database that is currently on the localhost server.It is only showing a blank fragment screen; nothing is being displayed.</p>\n<p>Here is the Fragment where the CardView is supposed to be displayed (UserFindFundiFragment):</p>\n<pre><code>package com.example.fundijava;\n\nimport android.os.Bundle;\n\nimport androidx.core.text.StringKt;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.textclassifier.TextLinks;\nimport android.widget.LinearLayout;\nimport android.widget.Toast;\n\nimport com.android.volley.Request;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class UserFindFundiFragment extends Fragment {\n\n    RecyclerView recyclerView;\n    RecyclerView.LayoutManager layoutManager;\n    FindFundiAdapter adapter;\n    ArrayList&lt;FundiProfile&gt; fundiProfileArrayList;\n    private static final String BASE_URL = &quot;http://192.168.100.43/MyFundiApp/getFundiProfiles.php&quot;;\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n//        View view = inflater.inflate(R.layout.fragment_user_find_fundi, container, false);\n//        recyclerView = view.findViewById(R.id.userFindFundiRecyclerView);\n//        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(getContext());\n//        recyclerView.setLayoutManager(linearLayoutManager);\n//\n//        adapter = new FindFundiAdapter();\n//        recyclerView.setAdapter(adapter);\n//\n//        return view;\n\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_user_find_fundi, container, false);\n        recyclerView = view.findViewById(R.id.userFindFundiRecyclerView); //Specifying in which recycler view the info fetched will be displayed\n        layoutManager = new GridLayoutManager(getContext(), 1); //Creating a vertical grid layout in this fragment\n        recyclerView.setLayoutManager(layoutManager);\n        fundiProfileArrayList = new ArrayList&lt;&gt;();\n\n        // Initialize adapter with an empty ArrayList\n        adapter = new FindFundiAdapter(getContext(), fundiProfileArrayList);\n        recyclerView.setAdapter(adapter);\n\n        getFundiProfiles();\n\n//        return inflater.inflate(R.layout.fragment_user_find_fundi, container, false);\n        return view;\n    }\n\n    private void getFundiProfiles() {\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, BASE_URL,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        try {\n                            JSONArray jsonArray = new JSONArray(response);\n                            for (int i = 0; i &lt; jsonArray.length(); i++) { //Loop through all the elements\n                                JSONObject jsonObject = jsonArray.getJSONObject(i);\n\n                                String fundiProfileID = jsonObject.getString(&quot;fundiProfileID&quot;);\n                                String fundiID = jsonObject.getString(&quot;fundiID&quot;);\n                                String name = jsonObject.getString(&quot;name&quot;);\n                                String gender = jsonObject.getString(&quot;gender&quot;);\n                                String profession = jsonObject.getString(&quot;profession&quot;);\n                                String county = jsonObject.getString(&quot;county&quot;);\n                                String experience = jsonObject.getString(&quot;experience&quot;);\n                                Boolean availability = jsonObject.getBoolean(&quot;availability&quot;);\n                                String package_1 = jsonObject.getString(&quot;package_1&quot;);\n                                Integer package_1_cost = jsonObject.getInt(&quot;package_1_cost&quot;);\n                                String package_2 = jsonObject.getString(&quot;package_2&quot;);\n                                Integer package_2_cost = jsonObject.getInt(&quot;package_2_cost&quot;);\n                                String package_3 = jsonObject.getString(&quot;package_3&quot;);\n                                Integer package_3_cost = jsonObject.getInt(&quot;package_3_cost&quot;);\n                                String package_4 = jsonObject.getString(&quot;package_4&quot;);\n                                Integer package_4_cost = jsonObject.getInt(&quot;package_4_cost&quot;);\n\n\n                                FundiProfile fundiProfile = new FundiProfile(\n                                        fundiProfileID,\n                                        fundiID,\n                                        name,\n                                        gender,\n                                        profession,\n                                        county,\n                                        experience,\n                                        availability,\n                                        package_1,\n                                        package_2,\n                                        package_3,\n                                        package_4,\n                                        package_1_cost,\n                                        package_2_cost,\n                                        package_3_cost,\n                                        package_4_cost\n                                );\n\n                                fundiProfileArrayList.add(fundiProfile);\n                            }\n                        } catch (JSONException exception) {\n\n                        }\n\n                        // Notify the adapter that the data set has changed\n                        adapter.notifyDataSetChanged();\n                    }\n                }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(getContext(), error.toString(), Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        Volley.newRequestQueue(getContext()).add(stringRequest);\n    }\n}\n</code></pre>\n<p>Here is the xml for the UserFindFundiFragment:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    tools:context=&quot;.UserFindFundiFragment&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/userFindFundiRecyclerView&quot;\n        app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:overScrollMode=&quot;never&quot;\n        tools:listitem=&quot;@layout/fundi_profile_card&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>Here is the FindFundiAdapter:</p>\n<pre><code>package com.example.fundijava;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport androidx.fragment.app.Fragment;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.FragmentTransaction;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class FindFundiAdapter extends RecyclerView.Adapter&lt;FindFundiAdapter.FindFundiViewHolder&gt; {\n\n    Context context;\n    List&lt;FundiProfile&gt; fundiProfileArrayList = new ArrayList&lt;&gt;();\n\n    public FindFundiAdapter(Context context, List&lt;FundiProfile&gt; fundiProfileArrayList) {\n//        Constructor\n        this.context = context;\n        this.fundiProfileArrayList = fundiProfileArrayList;\n    }\n\n    @NonNull\n    @Override\n    public FindFundiViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n//        When the fragment is called on by the parent, this will inflate the card view inside the relevant frame layout\n        View view = LayoutInflater.from(context).inflate(R.layout.fundi_profile_card, parent, false);\n        return new FindFundiViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull FindFundiViewHolder holder, int position) {\n        final FundiProfile fundiProfile = fundiProfileArrayList.get(position);\n\n        //Declaring the view holders whose contents should be updated\n        holder.textViewfundiId.setText(fundiProfile.getFundiID());\n        holder.textViewfundiname.setText(fundiProfile.getName());\n        holder.textViewfundigender.setText(fundiProfile.getGender());\n        holder.textViewfundiprofession.setText(fundiProfile.getProfession());\n        holder.textViewfundicounty.setText(fundiProfile.getCounty());\n        holder.textViewfundiexperience.setText(fundiProfile.getExperience());\n        holder.textViewfundiavailability.setText(fundiProfile.getAvailability().toString());\n        holder.textViewpackage1.setText(fundiProfile.getPackage_1());\n        holder.textViewpackage1cost.setText(&quot;Ksh &quot;+ fundiProfile.getPackage_1_cost());;\n        holder.textViewpackage2.setText(fundiProfile.getPackage_2());\n        holder.textViewpackage2cost.setText(&quot;Ksh &quot;+ fundiProfile.getPackage_2_cost());\n        holder.textViewpackage3.setText(fundiProfile.getPackage_3());\n        holder.textviewpackage3cost.setText(&quot;Ksh &quot;+ fundiProfile.getPackage_3_cost());\n        holder.textViewpackage4.setText(fundiProfile.getPackage_4());\n        holder.textViewpackage4cost.setText(&quot;Ksh &quot;+ fundiProfile.getPackage_4_cost());\n\n        holder.linearLayoutFundiProfileCard.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n//                getSupportFragmentManager().beginTransaction().replace(R.id.fundiFragmentContainer, new FundiNotificationsFragment()).commit();\n//                Fragment fragment = new Fragment(context, UserFindFundiFragment.class);\n//                fragment.startActivity(fragment);\n//                Intent intent = new Intent(context, FundiActivity.class);\n//                context.startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return fundiProfileArrayList.size();\n    }\n\n    public static class FindFundiViewHolder extends RecyclerView.ViewHolder {\n\n        private TextView textViewfundiId;\n        private TextView textViewfundiname;\n        private TextView textViewfundiprofession;\n        private TextView textViewfundigender;\n        private TextView textViewfundicounty;\n        private TextView textViewfundiexperience;\n        private TextView textViewfundiavailability;\n        private TextView textViewpackage1;\n        private TextView textViewpackage1cost;\n        private TextView textViewpackage2;\n        private TextView textViewpackage2cost;\n        private TextView textViewpackage3;\n        private TextView textviewpackage3cost;\n        private TextView textViewpackage4;\n        private TextView textViewpackage4cost;\n\n        private LinearLayout linearLayoutFundiProfileCard;\n        public FindFundiViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n//            Declaring variables as and initialising them as the respective views in which queried fundi profile data will be displayed\n            linearLayoutFundiProfileCard = itemView.findViewById(R.id.fundiProfileContainer);\n\n            textViewfundiId = itemView.findViewById(R.id.fundiID);\n            textViewfundiname = itemView.findViewById(R.id.fundiname);\n            textViewfundiprofession = itemView.findViewById(R.id.fundiprofession);\n            textViewfundigender = itemView.findViewById(R.id.fundigender);\n            textViewfundicounty = itemView.findViewById(R.id.fundicounty);\n            textViewfundiexperience = itemView.findViewById(R.id.fundiexperience);\n            textViewfundiavailability = itemView.findViewById(R.id.fundiavailability);\n            textViewpackage1 = itemView.findViewById(R.id.fundipackage1);\n            textViewpackage1cost = itemView.findViewById(R.id.fundipackage1cost);\n            textViewpackage2 = itemView.findViewById(R.id.fundipackage2);\n            textViewpackage2cost = itemView.findViewById(R.id.fundipackage2cost);\n            textViewpackage3 = itemView.findViewById(R.id.fundipackage3);\n            textviewpackage3cost = itemView.findViewById(R.id.fundipackage3cost);\n            textViewpackage4 = itemView.findViewById(R.id.fundipackage4);\n            textViewpackage4cost = itemView.findViewById(R.id.fundipackage4cost);\n        }\n    }\n}\n</code></pre>\n<p>Here is my model:</p>\n<pre><code>package com.example.fundijava;\n\n/*\n* This is a class to represent a fundi profile. It will be used to define the profile attributes\n* and class methods to retrieve data that will be displayed in the fundi profile card that will\n* subsequently be displayed in the UserFindFundi fragment. */\npublic class FundiProfile {\n    private String fundiProfileID, fundiID, name, gender, profession, county, experience, package_1, package_2, package_3, package_4;\n    private Integer package_1_cost, package_2_cost, package_3_cost, package_4_cost;\n    private Boolean availability;\n\n    public FundiProfile (String fundiProfileID, String fundiID, String name, String gender,\n                         String profession, String county, String experience, Boolean availability,\n                         String package_1, String package_2, String package_3, String package_4,\n                         Integer package_1_cost, Integer package_2_cost, Integer package_3_cost,\n                         Integer package_4_cost) {\n        this.fundiProfileID = fundiProfileID;\n        this.fundiID = fundiID;\n        this.name = name;\n        this.gender = gender;\n        this.profession = profession;\n        this.county = county;\n        this.experience = experience;\n        this.availability = availability;\n        this.package_1 = package_1;\n        this.package_1_cost = package_1_cost;\n        this.package_2 = package_2;\n        this.package_2_cost = package_2_cost;\n        this.package_3 = package_3;\n        this.package_3_cost = package_3_cost;\n        this.package_4 = package_4;\n        this.package_4_cost = package_4_cost;\n    }\n\n    public String getFundiProfileID() { return fundiProfileID;}\n    public void setFundiProfileID(String fundiProfileID) { this.fundiProfileID = fundiProfileID; }\n\n    public String getFundiID() { return fundiID;}\n    public void setFundiID(String fundiID) { this.fundiID = fundiID; }\n\n    public String getName() { return name;}\n    public void setName(String name) { this.name = name; }\n\n    public String getGender() { return gender;}\n    public void setGender(String gender) { this.gender = gender; }\n\n    public String getProfession() { return profession;}\n    public void setProfession(String profession) { this.profession = profession; }\n\n    public String getCounty() { return county;}\n    public void setCounty(String county) { this.county = county; }\n\n    public String getExperience() { return experience;}\n    public void setExperience(String experience) { this.experience = experience; }\n\n    public Boolean getAvailability() { return availability;}\n    public void setAvailability(Boolean availability) { this.availability = availability; }\n    public String getPackage_1() { return package_1;}\n    public void setPackage_1(String package_1) { this.package_1 = package_1; }\n\n    public Integer getPackage_1_cost() { return package_1_cost;}\n    public void setPackage_1_cost(Integer package_1_cost) { this.package_1_cost = package_1_cost; }\n\n    public String getPackage_2() { return package_2;}\n    public void setPackage_2(String package_2) { this.package_2 = package_2; }\n\n    public Integer getPackage_2_cost() { return package_2_cost;}\n    public void setPackage_2_cost(Integer package_2_cost) { this.package_2_cost = package_2_cost; }\n\n    public String getPackage_3() { return package_3;}\n    public void setPackage_3(String package_3) { this.package_3 = package_3; }\n\n    public Integer getPackage_3_cost() { return package_3_cost;}\n    public void setPackage_3_cost(Integer package_3_cost) { this.package_3_cost = package_3_cost; }\n\n    public String getPackage_4() { return package_4;}\n    public void setPackage_4(String package_4) { this.package_4 = package_4; }\n\n    public Integer getPackage_4_cost() { return package_4_cost;}\n    public void setPackage_4_cost(Integer package_4_cost) { this.package_4_cost = package_4_cost; }\n\n\n\n}\n\n</code></pre>\n<p>Here is the CardView xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:background=&quot;#C4DCD0D0&quot;\n    app:cardElevation=&quot;3dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/fundiProfileContainer&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        android:clickable=&quot;true&quot;\n        android:focusable=&quot;true&quot;\n        android:padding=&quot;25sp&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/fundiID&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;5sp&quot;\n            android:fontFamily=&quot;@font/poppinsmedium&quot;\n            android:textStyle=&quot;italic&quot;\n            android:text=&quot;FundiID 1&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/fundiname&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;5sp&quot;\n            android:fontFamily=&quot;@font/poppinsmedium&quot;\n            android:text=&quot;Name 1&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/fundiavailability&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;5sp&quot;\n            android:fontFamily=&quot;@font/poppinsmedium&quot;\n            android:text=&quot;Availability&quot;/&gt;\n\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/fundiprofession&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\n                    android:padding=&quot;5sp&quot;\n                    android:text=&quot;Profession 1&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/fundigender&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;5sp&quot;\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\n                    android:text=&quot;Gender 1&quot;/&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/fundicounty&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;5sp&quot;\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\n                    android:text=&quot;County 1&quot;/&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/fundiexperience&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;5sp&quot;\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\n                    android:text=&quot;Experience 1&quot;/&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n\n\n        &lt;View\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;1dp&quot;\n            android:background=&quot;@color/purple_200&quot;/&gt;\n\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/fundipackage1&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;5sp&quot;\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\n                    android:text=&quot;Package 1&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/fundipackage1cost&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;5sp&quot;\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\n                    android:text=&quot;Package 1 Cost&quot;/&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/fundipackage2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;5sp&quot;\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\n                    android:text=&quot;Package 2&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/fundipackage2cost&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;5sp&quot;\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\n                    android:text=&quot;Package 2 Cost&quot;/&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/fundipackage3&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;5sp&quot;\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\n                    android:text=&quot;Package 3&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/fundipackage3cost&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;5sp&quot;\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\n                    android:text=&quot;Package 3 cost&quot;/&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/fundipackage4&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;5sp&quot;\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\n                    android:text=&quot;Package 4&quot;/&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/fundipackage4cost&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:padding=&quot;5sp&quot;\n                    android:fontFamily=&quot;@font/poppinsmedium&quot;\n                    android:text=&quot;Package 4 cost&quot;/&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n\n</code></pre>\n<p>I was expecting the cardview to be displayed in the UserFindFundiFragment,while containing data that has been retrieved from the database.</p>\n"},{"tags":["java","swagger","jax-rs","openapi"],"comments":[{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1682608173,"post_id":76116586,"comment_id":134245798,"body_markdown":"You are missing the [required fields](https://spec.openapis.org/oas/v3.0.3#fixed-fields) in your example.  I suspect that is not the root cause of your issue, but your issue [isn&#39;t reproducible](https://stackoverflow.com/help/minimal-reproducible-example) with the example you&#39;ve provided.","body":"You are missing the <a href=\"https://spec.openapis.org/oas/v3.0.3#fixed-fields\" rel=\"nofollow noreferrer\">required fields</a> in your example.  I suspect that is not the root cause of your issue, but your issue <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">isn&#39;t reproducible</a> with the example you&#39;ve provided."},{"owner":{"account_id":3085969,"reputation":167,"user_id":2613090,"display_name":"rfrp"},"score":0,"creation_date":1682630134,"post_id":76116586,"comment_id":134250483,"body_markdown":"The only fields that appear are the required. The info about the service it&#39;s not appearing.","body":"The only fields that appear are the required. The info about the service it&#39;s not appearing."}],"owner":{"account_id":3085969,"reputation":167,"user_id":2613090,"display_name":"rfrp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682567721,"creation_date":1682567142,"question_id":76116586,"body_markdown":"I have configured my java application with jaxrs to generate the documentation for OpenAPI using [swagger-api](https://github.com/swagger-api/swagger-core) but it&#39;s not generating all the fields of OpenAPI object.\r\nJust is generating the fiedls, openapi, paths and components:\r\n\r\n\r\n```json\r\n{\r\n  &quot;openapi&quot;: &quot;3.0.1&quot;,\r\n  &quot;paths&quot;: {\r\n    &quot;/dummyCheck&quot;: {\r\n      &quot;post&quot;: {\r\n        &quot;operationId&quot;: &quot;dummyCheck&quot;,\r\n        &quot;requestBody&quot;: {\r\n          &quot;content&quot;: {\r\n            &quot;application/json&quot;: {\r\n              &quot;schema&quot;: {\r\n                &quot;$ref&quot;: &quot;#/components/schemas/Dummy&quot;\r\n              }\r\n            }\r\n          }\r\n        },\r\n        &quot;responses&quot;: {\r\n          &quot;default&quot;: {\r\n            &quot;description&quot;: &quot;default response&quot;,\r\n            &quot;content&quot;: {\r\n              &quot;application/json&quot;: {}\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  &quot;components&quot;: {\r\n    &quot;schemas&quot;: {\r\n      &quot;Dummy&quot;: {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;numero&quot;: {\r\n            &quot;type&quot;: &quot;number&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI have followed [the instructions that appear in the documentation](https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Getting-started#your-own-configuration), but adding an openapi-configuration.json file int the classpath or in WEB-INF it&#39;s not giving the expected result.\r\n\r\nI have this in my `pom.xml` file:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n  &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\r\n  &lt;version&gt;2.2.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n  &lt;artifactId&gt;swagger-jaxrs2-servlet-initializer-v2&lt;/artifactId&gt;\r\n  &lt;version&gt;2.2.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd the class that expose the services is like this\r\n\r\n```java\r\n@Path(&quot;&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\npublic class RSDummyCheck {\r\n\t\r\n\t@Path(&quot;/dummyCheck&quot;)\r\n\t@POST\r\n\tpublic Response dummyCheck(Dummy input) {\r\n\t\tDummy resultado = input;\r\n\t\treturn Response.ok(resultado, &quot;application/json&quot;).build();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nThe config that i&#39;m using in `openapi-configuration.json` is:\r\n\r\n\r\n```json\r\n{\r\n    &quot;prettyPrint&quot; : true,\r\n    &quot;cacheTTL&quot;: 0,\r\n    &quot;readAllResources&quot;: true,\r\n    &quot;openAPI&quot;: {\r\n        &quot;info&quot;: {\r\n            &quot;version&quot;: &quot;1.0&quot;,\r\n            &quot;title&quot;: &quot;Title&quot;,\r\n            &quot;description&quot;: &quot;Here is the description&quot;,\r\n            &quot;contact&quot;: {\r\n                &quot;email&quot;: &quot;support@incredibleservice.com&quot;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have moved the file openapi-configuration.json to all location that the documentation say it could be (WEB-INF, in the classpath) and i have changed the name and the extension, but nothing works.\r\nI have debugged the io.swagger.v3.jaxrs2.integration.servlet.SwaggerServletInitializer and it is not reading the file.\r\n\r\nWhy the generation is incomplete and is not taken the openapi-configuration file?\r\n","title":"Swagger is not generating a full api documentation","body":"<p>I have configured my java application with jaxrs to generate the documentation for OpenAPI using <a href=\"https://github.com/swagger-api/swagger-core\" rel=\"nofollow noreferrer\">swagger-api</a> but it's not generating all the fields of OpenAPI object.\nJust is generating the fiedls, openapi, paths and components:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;openapi&quot;: &quot;3.0.1&quot;,\n  &quot;paths&quot;: {\n    &quot;/dummyCheck&quot;: {\n      &quot;post&quot;: {\n        &quot;operationId&quot;: &quot;dummyCheck&quot;,\n        &quot;requestBody&quot;: {\n          &quot;content&quot;: {\n            &quot;application/json&quot;: {\n              &quot;schema&quot;: {\n                &quot;$ref&quot;: &quot;#/components/schemas/Dummy&quot;\n              }\n            }\n          }\n        },\n        &quot;responses&quot;: {\n          &quot;default&quot;: {\n            &quot;description&quot;: &quot;default response&quot;,\n            &quot;content&quot;: {\n              &quot;application/json&quot;: {}\n            }\n          }\n        }\n      }\n    }\n  },\n  &quot;components&quot;: {\n    &quot;schemas&quot;: {\n      &quot;Dummy&quot;: {\n        &quot;type&quot;: &quot;object&quot;,\n        &quot;properties&quot;: {\n          &quot;numero&quot;: {\n            &quot;type&quot;: &quot;number&quot;\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>I have followed <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Getting-started#your-own-configuration\" rel=\"nofollow noreferrer\">the instructions that appear in the documentation</a>, but adding an openapi-configuration.json file int the classpath or in WEB-INF it's not giving the expected result.</p>\n<p>I have this in my <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n  &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\n  &lt;version&gt;2.2.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n  &lt;artifactId&gt;swagger-jaxrs2-servlet-initializer-v2&lt;/artifactId&gt;\n  &lt;version&gt;2.2.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And the class that expose the services is like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic class RSDummyCheck {\n    \n    @Path(&quot;/dummyCheck&quot;)\n    @POST\n    public Response dummyCheck(Dummy input) {\n        Dummy resultado = input;\n        return Response.ok(resultado, &quot;application/json&quot;).build();\n    }\n\n}\n\n</code></pre>\n<p>The config that i'm using in <code>openapi-configuration.json</code> is:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;prettyPrint&quot; : true,\n    &quot;cacheTTL&quot;: 0,\n    &quot;readAllResources&quot;: true,\n    &quot;openAPI&quot;: {\n        &quot;info&quot;: {\n            &quot;version&quot;: &quot;1.0&quot;,\n            &quot;title&quot;: &quot;Title&quot;,\n            &quot;description&quot;: &quot;Here is the description&quot;,\n            &quot;contact&quot;: {\n                &quot;email&quot;: &quot;support@incredibleservice.com&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p>I have moved the file openapi-configuration.json to all location that the documentation say it could be (WEB-INF, in the classpath) and i have changed the name and the extension, but nothing works.\nI have debugged the io.swagger.v3.jaxrs2.integration.servlet.SwaggerServletInitializer and it is not reading the file.</p>\n<p>Why the generation is incomplete and is not taken the openapi-configuration file?</p>\n"},{"tags":["java","spring","maven","tomcat","http-status-code-404"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1444600102,"post_id":33070419,"comment_id":53959056,"body_markdown":"How are you deploying your projects in tomcat? Are you sure they&#39;re being deployed by checking the logs?","body":"How are you deploying your projects in tomcat? Are you sure they&#39;re being deployed by checking the logs?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1444600246,"post_id":33070419,"comment_id":53959089,"body_markdown":"Are the applications listing in the Tomcat Manager, and are they started? Is the HOME page working (`http://localhost:8080/`)?","body":"Are the applications listing in the Tomcat Manager, and are they started? Is the HOME page working (<code>http:&#47;&#47;localhost:8080&#47;</code>)?"},{"owner":{"account_id":2541338,"reputation":2106,"user_id":2207083,"accept_rate":70,"display_name":"Jakub Turcovsky"},"score":0,"creation_date":1444600975,"post_id":33070419,"comment_id":53959285,"body_markdown":"@LuiggiMendoza I&#39;m deploying it via Idea or via manager. From logs: &quot;Artifact is deployed successfully&quot; confirms that deploy was successful.","body":"@LuiggiMendoza I&#39;m deploying it via Idea or via manager. From logs: &quot;Artifact is deployed successfully&quot; confirms that deploy was successful."},{"owner":{"account_id":2541338,"reputation":2106,"user_id":2207083,"accept_rate":70,"display_name":"Jakub Turcovsky"},"score":0,"creation_date":1444601055,"post_id":33070419,"comment_id":53959307,"body_markdown":"@Andreas HOME page is working, my applications listed in manager are running.","body":"@Andreas HOME page is working, my applications listed in manager are running."},{"owner":{"account_id":6697099,"reputation":709,"user_id":5164811,"display_name":"Erwan C."},"score":0,"creation_date":1444638980,"post_id":33070419,"comment_id":53970300,"body_markdown":"@2rec are applications in your tomcat&#39;s webapps folder ? Can you post your conf/server.xml ?","body":"@2rec are applications in your tomcat&#39;s webapps folder ? Can you post your conf/server.xml ?"},{"owner":{"account_id":2541338,"reputation":2106,"user_id":2207083,"accept_rate":70,"display_name":"Jakub Turcovsky"},"score":0,"creation_date":1444656632,"post_id":33070419,"comment_id":53981214,"body_markdown":"@ErwanC. Yes, applications are in webapps folder. Please see my server.xml file in my edited question above. It&#39;s a default file.","body":"@ErwanC. Yes, applications are in webapps folder. Please see my server.xml file in my edited question above. It&#39;s a default file."},{"owner":{"account_id":3592297,"reputation":156,"user_id":2998057,"display_name":"caburse"},"score":0,"creation_date":1444661786,"post_id":33070419,"comment_id":54077148,"body_markdown":"Most of the spring-boot examples I&#39;ve seen run embedded tomcat. Check out this post which has the same question. [spring-boot-war-without-tomcat-embedded](http://stackoverflow.com/questions/25991789/spring-boot-war-without-tomcat-embedded)","body":"Most of the spring-boot examples I&#39;ve seen run embedded tomcat. Check out this post which has the same question. <a href=\"http://stackoverflow.com/questions/25991789/spring-boot-war-without-tomcat-embedded\">spring-boot-war-without-tomcat-embedded</a>"},{"owner":{"account_id":2541338,"reputation":2106,"user_id":2207083,"accept_rate":70,"display_name":"Jakub Turcovsky"},"score":0,"creation_date":1444667931,"post_id":33070419,"comment_id":54077149,"body_markdown":"The spring boot project was only one of many I&#39;ve used, but I&#39;ll try your solution on it and let you know.","body":"The spring boot project was only one of many I&#39;ve used, but I&#39;ll try your solution on it and let you know."},{"owner":{"account_id":2541338,"reputation":2106,"user_id":2207083,"accept_rate":70,"display_name":"Jakub Turcovsky"},"score":0,"creation_date":1444671065,"post_id":33070419,"comment_id":54077150,"body_markdown":"So no, this is not working. :-/ I&#39;ve had the war packaging option turned on before, but the exclusion of embedded tomcat didn&#39;t help.","body":"So no, this is not working. :-/ I&#39;ve had the war packaging option turned on before, but the exclusion of embedded tomcat didn&#39;t help."},{"owner":{"account_id":913012,"reputation":5226,"user_id":946409,"accept_rate":65,"display_name":"Pitel"},"score":0,"creation_date":1444831708,"post_id":33070419,"comment_id":54077142,"body_markdown":"This question seems really similiar to another question. So, try this answer: http://stackoverflow.com/a/28089714/946409","body":"This question seems really similiar to another question. So, try this answer: <a href=\"http://stackoverflow.com/a/28089714/946409\">stackoverflow.com/a/28089714/946409</a>"},{"owner":{"account_id":1551178,"reputation":909,"user_id":1443521,"display_name":"Will Hogan"},"score":0,"creation_date":1445142454,"post_id":33070419,"comment_id":54194166,"body_markdown":"A few questions: \n\n1. After building https://github.com/shagstrom/spring-mvc-hibernate-skeleton with Maven, do you end up with `skeleton-1.0.0.war`? \n2. If so, what are the results on executing `jar tf skeleton-1.0.0.war`? \n3. If you copy this WAR file to `apache-tomcat-8.0.27/webapps/` do you see a `skeleton-1.0.0` directory being created by Tomcat?","body":"A few questions:   1. After building <a href=\"https://github.com/shagstrom/spring-mvc-hibernate-skeleton\" rel=\"nofollow noreferrer\">github.com/shagstrom/spring-mvc-hibernate-skeleton</a> with Maven, do you end up with <code>skeleton-1.0.0.war</code>?  2. If so, what are the results on executing <code>jar tf skeleton-1.0.0.war</code>?  3. If you copy this WAR file to <code>apache-tomcat-8.0.27&#47;webapps&#47;</code> do you see a <code>skeleton-1.0.0</code> directory being created by Tomcat?"}],"answers":[{"tags":[],"owner":{"account_id":4884732,"reputation":86,"user_id":5450221,"display_name":"HsYoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444924472,"creation_date":1444924472,"answer_id":33153142,"question_id":33070419,"body_markdown":"If you installed tomcat successfully, you may have seen tomcat main page from browser http://localhost:8080/ URL. (Otherwise, you need to check tomcat installation first.)\r\n\r\nI guess you may have built jar by fallowing above sites that you mentioned.\r\nI am wondering whether you applied the jar into your tomcat or not because you mentioned same result from any other projects.\r\nYou need to apply jar or war into your tomcat in order to apply java program.\r\n\r\nHere are links that I wish they might be helpful to you.\r\n\r\nPackaging war : https://stackoverflow.com/questions/5108019/how-to-make-war-file-in-eclipse\r\n\r\nTomcat - war file deployment : https://www.youtube.com/watch?v=9X9DA8oVodk\r\n\r\n","title":"Tomcat: status code 404 on requests of every application","body":"<p>If you installed tomcat successfully, you may have seen tomcat main page from browser <a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">http://localhost:8080/</a> URL. (Otherwise, you need to check tomcat installation first.)</p>\n\n<p>I guess you may have built jar by fallowing above sites that you mentioned.\nI am wondering whether you applied the jar into your tomcat or not because you mentioned same result from any other projects.\nYou need to apply jar or war into your tomcat in order to apply java program.</p>\n\n<p>Here are links that I wish they might be helpful to you.</p>\n\n<p>Packaging war : <a href=\"https://stackoverflow.com/questions/5108019/how-to-make-war-file-in-eclipse\">How to make war file in Eclipse</a></p>\n\n<p>Tomcat - war file deployment : <a href=\"https://www.youtube.com/watch?v=9X9DA8oVodk\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=9X9DA8oVodk</a></p>\n"},{"tags":[],"owner":{"account_id":405444,"reputation":51,"user_id":774337,"display_name":"bifulcoluigi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662623418,"creation_date":1570355967,"answer_id":58256152,"question_id":33070419,"body_markdown":"If tomcat returns 404 response, you have to check those points:\r\n\r\n - check if your deploy was correct\r\n - check if war bootstrap and its `ServletContext` initialization has no errors\r\n - check if the resource your invoking was successfully exposed.\r\n\r\nTo test these issues you have to expose:\r\n \r\n - static resource test\r\n - web service resource test\r\n\r\nin this way you can exclude the pitfalls you can meet during application deploy","title":"Tomcat: status code 404 on requests of every application","body":"<p>If tomcat returns 404 response, you have to check those points:</p>\n<ul>\n<li>check if your deploy was correct</li>\n<li>check if war bootstrap and its <code>ServletContext</code> initialization has no errors</li>\n<li>check if the resource your invoking was successfully exposed.</li>\n</ul>\n<p>To test these issues you have to expose:</p>\n<ul>\n<li>static resource test</li>\n<li>web service resource test</li>\n</ul>\n<p>in this way you can exclude the pitfalls you can meet during application deploy</p>\n"},{"tags":[],"owner":{"account_id":28429730,"reputation":1,"user_id":21750553,"display_name":"Eliane Guedes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682567069,"creation_date":1682567069,"answer_id":76116581,"question_id":33070419,"body_markdown":"&lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt; status code 404\r\n\r\n      &lt;!-- Use the LockOutRealm to prevent attempts to guess user passwords\r\n           via a brute-force attack --&gt;\r\n      &lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;\r\n        &lt;!-- This Realm uses the UserDatabase configured in the global JNDI\r\n             resources under the key &quot;UserDatabase&quot;.  Any edits\r\n             that are performed against this UserDatabase are immediately\r\n             available for use by the Realm.  --&gt;\r\n        &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;\r\n               resourceName=&quot;UserDatabase&quot;/&gt;\r\n      &lt;/Realm&gt;\r\n\r\n      &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot;\r\n            unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\r\n\r\n        &lt;!-- SingleSignOn valve, share authentication between web applications\r\n             Documentation at: /docs/config/valve.html --&gt;\r\n        &lt;!--\r\n        &lt;Valve className=&quot;org.apache.catalina.authenticator.SingleSignOn&quot; /&gt;\r\n        --&gt;\r\n\r\n        &lt;!-- Access log processes all example.\r\n             Documentation at: /docs/config/valve.html\r\n             Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\r\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\r\n               prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot;\r\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\r\n\r\n      &lt;/Host&gt;\r\n    &lt;/Engine&gt;\r\n  &lt;/Service&gt;\r\n&lt;/Server&gt;","title":"Tomcat: status code 404 on requests of every application","body":"<p> status code 404</p>\n<pre><code>  &lt;!-- Use the LockOutRealm to prevent attempts to guess user passwords\n       via a brute-force attack --&gt;\n  &lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;\n    &lt;!-- This Realm uses the UserDatabase configured in the global JNDI\n         resources under the key &quot;UserDatabase&quot;.  Any edits\n         that are performed against this UserDatabase are immediately\n         available for use by the Realm.  --&gt;\n    &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;\n           resourceName=&quot;UserDatabase&quot;/&gt;\n  &lt;/Realm&gt;\n\n  &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot;\n        unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\n\n    &lt;!-- SingleSignOn valve, share authentication between web applications\n         Documentation at: /docs/config/valve.html --&gt;\n    &lt;!--\n    &lt;Valve className=&quot;org.apache.catalina.authenticator.SingleSignOn&quot; /&gt;\n    --&gt;\n\n    &lt;!-- Access log processes all example.\n         Documentation at: /docs/config/valve.html\n         Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\n    &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\n           prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot;\n           pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\n\n  &lt;/Host&gt;\n&lt;/Engine&gt;\n</code></pre>\n  \n\n"}],"owner":{"account_id":2541338,"reputation":2106,"user_id":2207083,"accept_rate":70,"display_name":"Jakub Turcovsky"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4232,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1682567069,"creation_date":1444599847,"question_id":33070419,"body_markdown":"Every application deployed on my Tomcat returns `status code 404` on every request I make. I&#39;ve tried several projects, helloworlds or skeletons and every project behaves the same as others:\r\n\r\n[![enter image description here][1]][1]\r\n___\r\n**Some of the projects I&#39;ve used:**\r\n\r\n[https://github.com/mwarman/skeleton-ws-spring-boot][2]\r\n\r\n[https://spring.io/guides/gs/rest-service/][3] (I can run it with `mvn spring-boot:run` but it&#39;s not working as deployed to Tomcat)\r\n\r\nhttps://github.com/shagstrom/spring-mvc-hibernate-skeleton\r\n\r\n___\r\n\r\nI&#39;m using the newest `Tomcat8 (8.0.27)`, `Oracle JDK 8`. I&#39;ve also tried `Tomcat7` with `OpenJDK 7`. \r\nUsed Tomcats are running on **MAC** and **Debian**. \r\nI&#39;ve build apps via **mvn** and via **Intellij Idea**.\r\n\r\nTomcats are clean, no configs are changed (except adding manager-gui user).\r\n\r\nSince I&#39;ve tried many different projects, I don&#39;t believe the problem is in the code. Is it in Tomcat&#39;s config? How can I get it to work?\r\n\r\n**EDIT:**\r\n`server.xml` code:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\r\n      &lt;Listener className=&quot;org.apache.catalina.startup.VersionLoggerListener&quot; /&gt;\r\n      \r\n      &lt;!--APR library loader. Documentation at /docs/apr.html --&gt;\r\n      &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;\r\n      &lt;!-- Prevent memory leaks due to use of particular java/javax APIs--&gt;\r\n      &lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; /&gt;\r\n      &lt;Listener className=&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot; /&gt;\r\n      &lt;Listener className=&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot; /&gt;\r\n    \r\n      &lt;!-- Global JNDI resources\r\n           Documentation at /docs/jndi-resources-howto.html\r\n      --&gt;\r\n      &lt;GlobalNamingResources&gt;\r\n        &lt;!-- Editable user database that can also be used by\r\n             UserDatabaseRealm to authenticate users\r\n        --&gt;\r\n        &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;\r\n                  type=&quot;org.apache.catalina.UserDatabase&quot;\r\n                  description=&quot;User database that can be updated and saved&quot;\r\n                  factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;\r\n                  pathname=&quot;conf/tomcat-users.xml&quot; /&gt;\r\n      &lt;/GlobalNamingResources&gt;\r\n    \r\n      &lt;Service name=&quot;Catalina&quot;&gt;\r\n    \r\n        &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n                   connectionTimeout=&quot;20000&quot;\r\n                   redirectPort=&quot;8443&quot; /&gt;\r\n    \r\n        &lt;!-- Define an AJP 1.3 Connector on port 8009 --&gt;\r\n        &lt;Connector port=&quot;8009&quot; protocol=&quot;AJP/1.3&quot; redirectPort=&quot;8443&quot; /&gt;\r\n    \r\n        &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt;\r\n    \r\n          &lt;!-- Use the LockOutRealm to prevent attempts to guess user passwords\r\n               via a brute-force attack --&gt;\r\n          &lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;\r\n            &lt;!-- This Realm uses the UserDatabase configured in the global JNDI\r\n                 resources under the key &quot;UserDatabase&quot;.  Any edits\r\n                 that are performed against this UserDatabase are immediately\r\n                 available for use by the Realm.  --&gt;\r\n            &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;\r\n                   resourceName=&quot;UserDatabase&quot;/&gt;\r\n          &lt;/Realm&gt;\r\n    \r\n          &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot;\r\n                unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\r\n    \r\n            &lt;!-- SingleSignOn valve, share authentication between web applications\r\n                 Documentation at: /docs/config/valve.html --&gt;\r\n            &lt;!--\r\n            &lt;Valve className=&quot;org.apache.catalina.authenticator.SingleSignOn&quot; /&gt;\r\n            --&gt;\r\n    \r\n            &lt;!-- Access log processes all example.\r\n                 Documentation at: /docs/config/valve.html\r\n                 Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\r\n            &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\r\n                   prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot;\r\n                   pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\r\n    \r\n          &lt;/Host&gt;\r\n        &lt;/Engine&gt;\r\n      &lt;/Service&gt;\r\n    &lt;/Server&gt;\r\n\r\n  [1]: http://i.stack.imgur.com/AK1jk.png\r\n  [2]: https://github.com/mwarman/skeleton-ws-spring-boot\r\n  [3]: https://spring.io/guides/gs/rest-service/","title":"Tomcat: status code 404 on requests of every application","body":"<p>Every application deployed on my Tomcat returns <code>status code 404</code> on every request I make. I've tried several projects, helloworlds or skeletons and every project behaves the same as others:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AK1jk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AK1jk.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>Some of the projects I've used:</strong></p>\n\n<p><a href=\"https://github.com/mwarman/skeleton-ws-spring-boot\" rel=\"nofollow noreferrer\">https://github.com/mwarman/skeleton-ws-spring-boot</a></p>\n\n<p><a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/rest-service/</a> (I can run it with <code>mvn spring-boot:run</code> but it's not working as deployed to Tomcat)</p>\n\n<p><a href=\"https://github.com/shagstrom/spring-mvc-hibernate-skeleton\" rel=\"nofollow noreferrer\">https://github.com/shagstrom/spring-mvc-hibernate-skeleton</a></p>\n\n<hr>\n\n<p>I'm using the newest <code>Tomcat8 (8.0.27)</code>, <code>Oracle JDK 8</code>. I've also tried <code>Tomcat7</code> with <code>OpenJDK 7</code>. \nUsed Tomcats are running on <strong>MAC</strong> and <strong>Debian</strong>. \nI've build apps via <strong>mvn</strong> and via <strong>Intellij Idea</strong>.</p>\n\n<p>Tomcats are clean, no configs are changed (except adding manager-gui user).</p>\n\n<p>Since I've tried many different projects, I don't believe the problem is in the code. Is it in Tomcat's config? How can I get it to work?</p>\n\n<p><strong>EDIT:</strong>\n<code>server.xml</code> code:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;Server port=\"8005\" shutdown=\"SHUTDOWN\"&gt;\n  &lt;Listener className=\"org.apache.catalina.startup.VersionLoggerListener\" /&gt;\n\n  &lt;!--APR library loader. Documentation at /docs/apr.html --&gt;\n  &lt;Listener className=\"org.apache.catalina.core.AprLifecycleListener\" SSLEngine=\"on\" /&gt;\n  &lt;!-- Prevent memory leaks due to use of particular java/javax APIs--&gt;\n  &lt;Listener className=\"org.apache.catalina.core.JreMemoryLeakPreventionListener\" /&gt;\n  &lt;Listener className=\"org.apache.catalina.mbeans.GlobalResourcesLifecycleListener\" /&gt;\n  &lt;Listener className=\"org.apache.catalina.core.ThreadLocalLeakPreventionListener\" /&gt;\n\n  &lt;!-- Global JNDI resources\n       Documentation at /docs/jndi-resources-howto.html\n  --&gt;\n  &lt;GlobalNamingResources&gt;\n    &lt;!-- Editable user database that can also be used by\n         UserDatabaseRealm to authenticate users\n    --&gt;\n    &lt;Resource name=\"UserDatabase\" auth=\"Container\"\n              type=\"org.apache.catalina.UserDatabase\"\n              description=\"User database that can be updated and saved\"\n              factory=\"org.apache.catalina.users.MemoryUserDatabaseFactory\"\n              pathname=\"conf/tomcat-users.xml\" /&gt;\n  &lt;/GlobalNamingResources&gt;\n\n  &lt;Service name=\"Catalina\"&gt;\n\n    &lt;Connector port=\"8080\" protocol=\"HTTP/1.1\"\n               connectionTimeout=\"20000\"\n               redirectPort=\"8443\" /&gt;\n\n    &lt;!-- Define an AJP 1.3 Connector on port 8009 --&gt;\n    &lt;Connector port=\"8009\" protocol=\"AJP/1.3\" redirectPort=\"8443\" /&gt;\n\n    &lt;Engine name=\"Catalina\" defaultHost=\"localhost\"&gt;\n\n      &lt;!-- Use the LockOutRealm to prevent attempts to guess user passwords\n           via a brute-force attack --&gt;\n      &lt;Realm className=\"org.apache.catalina.realm.LockOutRealm\"&gt;\n        &lt;!-- This Realm uses the UserDatabase configured in the global JNDI\n             resources under the key \"UserDatabase\".  Any edits\n             that are performed against this UserDatabase are immediately\n             available for use by the Realm.  --&gt;\n        &lt;Realm className=\"org.apache.catalina.realm.UserDatabaseRealm\"\n               resourceName=\"UserDatabase\"/&gt;\n      &lt;/Realm&gt;\n\n      &lt;Host name=\"localhost\"  appBase=\"webapps\"\n            unpackWARs=\"true\" autoDeploy=\"true\"&gt;\n\n        &lt;!-- SingleSignOn valve, share authentication between web applications\n             Documentation at: /docs/config/valve.html --&gt;\n        &lt;!--\n        &lt;Valve className=\"org.apache.catalina.authenticator.SingleSignOn\" /&gt;\n        --&gt;\n\n        &lt;!-- Access log processes all example.\n             Documentation at: /docs/config/valve.html\n             Note: The pattern used is equivalent to using pattern=\"common\" --&gt;\n        &lt;Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\"\n               prefix=\"localhost_access_log\" suffix=\".txt\"\n               pattern=\"%h %l %u %t &amp;quot;%r&amp;quot; %s %b\" /&gt;\n\n      &lt;/Host&gt;\n    &lt;/Engine&gt;\n  &lt;/Service&gt;\n&lt;/Server&gt;\n</code></pre>\n"},{"tags":["java","regex","regex-group","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682564819,"creation_date":1682562988,"answer_id":76116333,"question_id":76116311,"body_markdown":"Here&#39;s a pure java way:\r\n\r\n    List&lt;List&lt;String&gt;&gt; result = Arrays.stream(input.replaceAll(&quot;^.\\\\{?|}?.$&quot;, &quot;&quot;).split(&quot;},\\\\{&quot;))\r\n        .map(inner -&gt; Arrays.stream(inner.replaceAll(&quot;^.&#39;?|&#39;?.$&quot;, &quot;&quot;).split(&quot;&#39;,&#39;&quot;)).toList())\r\n        .toList();\r\n\r\nwhich:\r\n- trims `[{` from the front and `}]` from the back (curlys optional)\r\n- splits on `},{`\r\n- does a similar thing to the inner arrays\r\n\r\n---\r\n\r\nYou could also use a json parser:\r\n\r\n    ObjectMapper om = new ObjectMapper().configure(JsonParser.Feature.ALLOW_SINGLE_QUOTES, true);\r\n    List&lt;List&lt;String&gt;&gt; result = om.readValue(input.replace(&quot;{&quot;, &quot;[&quot;).replace(&quot;}&quot;,&quot;]&quot;), new TypeReference&lt;List&lt;List&lt;String&gt;&gt;&gt;() {});\r\n\r\nbut you must:\r\n\r\n- allow single quotes\r\n- replace curlys with squares to become valid json\r\n\r\n","title":"Splitting regex for &quot;[{&#39;v4&#39;,&#39;v5&#39;},{&#39;v6&#39;,&#39;v7&#39;}]&quot;","body":"<p>Here's a pure java way:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; result = Arrays.stream(input.replaceAll(&quot;^.\\\\{?|}?.$&quot;, &quot;&quot;).split(&quot;},\\\\{&quot;))\n    .map(inner -&gt; Arrays.stream(inner.replaceAll(&quot;^.'?|'?.$&quot;, &quot;&quot;).split(&quot;','&quot;)).toList())\n    .toList();\n</code></pre>\n<p>which:</p>\n<ul>\n<li>trims <code>[{</code> from the front and <code>}]</code> from the back (curlys optional)</li>\n<li>splits on <code>},{</code></li>\n<li>does a similar thing to the inner arrays</li>\n</ul>\n<hr />\n<p>You could also use a json parser:</p>\n<pre><code>ObjectMapper om = new ObjectMapper().configure(JsonParser.Feature.ALLOW_SINGLE_QUOTES, true);\nList&lt;List&lt;String&gt;&gt; result = om.readValue(input.replace(&quot;{&quot;, &quot;[&quot;).replace(&quot;}&quot;,&quot;]&quot;), new TypeReference&lt;List&lt;List&lt;String&gt;&gt;&gt;() {});\n</code></pre>\n<p>but you must:</p>\n<ul>\n<li>allow single quotes</li>\n<li>replace curlys with squares to become valid json</li>\n</ul>\n"}],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76116333,"answer_count":1,"score":0,"last_activity_date":1682564819,"creation_date":1682562438,"question_id":76116311,"body_markdown":"**TL;DR**\r\n\r\nI have a large set of data that looks like arrays of value-only JSON objects. I&#39;m wondering if regex can concisely handle this structure:\r\n\r\n```\r\n&quot;[]&quot;                        --&gt; List.of(List.of())\r\n&quot;[{&#39;v1&#39;,&#39;v2&#39;,&#39;v3&#39;}]&quot;        --&gt; List.of(List.of(&quot;v1&quot;,&quot;v2&quot;,&quot;v3&quot;))\r\n&quot;[{&#39;v4&#39;,&#39;v5&#39;},{&#39;v6&#39;,&#39;v7&#39;}]&quot; --&gt; List.of(List.of(&quot;v4&quot;,&quot;v5&quot;),List.of(&quot;v6&quot;,&quot;v7&quot;))\r\n```\r\n\r\nThe values are ordered; a POJO will be constructed for each inner list with the ordered arguments and each value is a primitive (`int`, `long`, or `String`) as defined in each POJO.\r\n\r\n**Details**\r\n\r\nThis parser is part of a Jackson CSV serializer/deserializer of POJOs with a container of POJO. Unfortunately, `CsvMapper` only supports POJOs with a container of primitives thus the need for the custom parser (as far as I can tell). As an example, a structure like this:\r\n\r\n```\r\nrecord Person(\r\n    String name,\r\n    List&lt;Pet&gt; pets) {\r\n}\r\n\r\nrecord Pet(\r\n    String name,\r\n    String type) {\r\n}\r\n```\r\n\r\nso the following:\r\n\r\n```\r\nnew Person(&quot;Jan&quot;, List.of(new Pet(&quot;Mr. Bubbles&quot;, &quot;dog&quot;), new Pet(&quot;Lilly&quot;, &quot;cat&quot;)));\r\n```\r\n\r\nis serialized to CSV as two columns:\r\n\r\n```\r\nJan,&quot;[{&#39;Mr. Bubbles&#39;,&#39;dog&#39;}, {&#39;Lilly&#39;,&#39;cat&#39;}]&quot;\r\n```\r\n\r\nwhere the second column is a container of POJOs. To deserialize this, my custom Jackson deserializer does this:\r\n\r\n```\r\npublic static class PersonDeserializer extends StdDeserializer&lt;Person&gt; {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    public PersonDeserializer() {\r\n        this(Person.class);\r\n    }\r\n\r\n    public PersonDeserializer(Class&lt;Person&gt; type) {\r\n        super(type);\r\n    }\r\n\r\n    @Override\r\n    public Person deserialize(JsonParser p, DeserializationContext ctxt)\r\n      throws IOException, JsonProcessingException {\r\n        JsonNode node = p.getCodec().readTree(p);\r\n\r\n        String name = node.get(&quot;name&quot;).asText();\r\n        List&lt;Pet&gt; pets = deserialize(node.get(&quot;pets&quot;).asText());\r\n\r\n        return new Person(name, pets);\r\n    }\r\n\r\n    private static List&lt;Pet&gt; deserialize(String serializedPets) {\r\n        List&lt;Pet&gt; pets = new ArrayList&lt;&gt;();\r\n\r\n        // messy custom parser, ATM\r\n        // ...\r\n\r\n        return pets;\r\n    }\r\n\r\n}\r\n```\r\n\r\nwhere a very messy `deserialize` custom parser builds the POJOs. I&#39;m hoping someone with more regex experience can help?","title":"Splitting regex for &quot;[{&#39;v4&#39;,&#39;v5&#39;},{&#39;v6&#39;,&#39;v7&#39;}]&quot;","body":"<p><strong>TL;DR</strong></p>\n<p>I have a large set of data that looks like arrays of value-only JSON objects. I'm wondering if regex can concisely handle this structure:</p>\n<pre><code>&quot;[]&quot;                        --&gt; List.of(List.of())\n&quot;[{'v1','v2','v3'}]&quot;        --&gt; List.of(List.of(&quot;v1&quot;,&quot;v2&quot;,&quot;v3&quot;))\n&quot;[{'v4','v5'},{'v6','v7'}]&quot; --&gt; List.of(List.of(&quot;v4&quot;,&quot;v5&quot;),List.of(&quot;v6&quot;,&quot;v7&quot;))\n</code></pre>\n<p>The values are ordered; a POJO will be constructed for each inner list with the ordered arguments and each value is a primitive (<code>int</code>, <code>long</code>, or <code>String</code>) as defined in each POJO.</p>\n<p><strong>Details</strong></p>\n<p>This parser is part of a Jackson CSV serializer/deserializer of POJOs with a container of POJO. Unfortunately, <code>CsvMapper</code> only supports POJOs with a container of primitives thus the need for the custom parser (as far as I can tell). As an example, a structure like this:</p>\n<pre><code>record Person(\n    String name,\n    List&lt;Pet&gt; pets) {\n}\n\nrecord Pet(\n    String name,\n    String type) {\n}\n</code></pre>\n<p>so the following:</p>\n<pre><code>new Person(&quot;Jan&quot;, List.of(new Pet(&quot;Mr. Bubbles&quot;, &quot;dog&quot;), new Pet(&quot;Lilly&quot;, &quot;cat&quot;)));\n</code></pre>\n<p>is serialized to CSV as two columns:</p>\n<pre><code>Jan,&quot;[{'Mr. Bubbles','dog'}, {'Lilly','cat'}]&quot;\n</code></pre>\n<p>where the second column is a container of POJOs. To deserialize this, my custom Jackson deserializer does this:</p>\n<pre><code>public static class PersonDeserializer extends StdDeserializer&lt;Person&gt; {\n    private static final long serialVersionUID = 1L;\n\n    public PersonDeserializer() {\n        this(Person.class);\n    }\n\n    public PersonDeserializer(Class&lt;Person&gt; type) {\n        super(type);\n    }\n\n    @Override\n    public Person deserialize(JsonParser p, DeserializationContext ctxt)\n      throws IOException, JsonProcessingException {\n        JsonNode node = p.getCodec().readTree(p);\n\n        String name = node.get(&quot;name&quot;).asText();\n        List&lt;Pet&gt; pets = deserialize(node.get(&quot;pets&quot;).asText());\n\n        return new Person(name, pets);\n    }\n\n    private static List&lt;Pet&gt; deserialize(String serializedPets) {\n        List&lt;Pet&gt; pets = new ArrayList&lt;&gt;();\n\n        // messy custom parser, ATM\n        // ...\n\n        return pets;\n    }\n\n}\n</code></pre>\n<p>where a very messy <code>deserialize</code> custom parser builds the POJOs. I'm hoping someone with more regex experience can help?</p>\n"},{"tags":["java","performance","jakarta-ee","websocket","java-ee-7"],"comments":[{"owner":{"account_id":2050865,"reputation":904,"user_id":1829921,"display_name":"omerhakanbilici"},"score":0,"creation_date":1478172556,"post_id":27037570,"comment_id":68050557,"body_markdown":"did you find any solution? I&#39;m using hazelcast.Imap and it can&#39;t store websocket.Session object. I need all Session objects for broadcast all sessions.","body":"did you find any solution? I&#39;m using hazelcast.Imap and it can&#39;t store websocket.Session object. I need all Session objects for broadcast all sessions."},{"owner":{"account_id":3103872,"reputation":263,"user_id":2627241,"accept_rate":14,"display_name":"Ihromant"},"score":0,"creation_date":1480697602,"post_id":27037570,"comment_id":69085930,"body_markdown":"Unfortunately not, currently I&#39;m storing all Sessions in ConcurrentHashMap","body":"Unfortunately not, currently I&#39;m storing all Sessions in ConcurrentHashMap"},{"owner":{"account_id":2050865,"reputation":904,"user_id":1829921,"display_name":"omerhakanbilici"},"score":0,"creation_date":1480713705,"post_id":27037570,"comment_id":69093584,"body_markdown":"our solution for clustered environments is using hazelcast topic to let know all clusters there is an event and they broadcast their stored sessions in map.","body":"our solution for clustered environments is using hazelcast topic to let know all clusters there is an event and they broadcast their stored sessions in map."}],"answers":[{"tags":[],"owner":{"account_id":341561,"reputation":3985,"user_id":672246,"accept_rate":32,"display_name":"Arun Gupta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682561717,"creation_date":1416502647,"answer_id":27045235,"question_id":27037570,"body_markdown":"You can do something like:\r\n\r\n    Map&lt;String, Session&gt; map = new HashMap&lt;&gt;();\r\n    static Map&lt;String, Session&gt; peers = Collections.synchronizedMap(map);\r\n\r\n    @OnOpen\r\n    public void onOpen(Session session) {\r\n       peers.put(session.getId(), session);\r\n    }\r\n\r\n    @OnClose\r\n    public void onClose(Session session) {\r\n        peers.remove(session.getId());\r\n    }\r\n\r\n    private static Session findOtherSessionById(Session user, String id) {\r\n        if (peers.containsKey(user.getId()) {\r\n            return peers.get(user.getId());\r\n        }\r\n    }","title":"Find websocket session by id in Java EE 7","body":"<p>You can do something like:</p>\n<pre><code>Map&lt;String, Session&gt; map = new HashMap&lt;&gt;();\nstatic Map&lt;String, Session&gt; peers = Collections.synchronizedMap(map);\n\n@OnOpen\npublic void onOpen(Session session) {\n   peers.put(session.getId(), session);\n}\n\n@OnClose\npublic void onClose(Session session) {\n    peers.remove(session.getId());\n}\n\nprivate static Session findOtherSessionById(Session user, String id) {\n    if (peers.containsKey(user.getId()) {\n        return peers.get(user.getId());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3103872,"reputation":263,"user_id":2627241,"accept_rate":14,"display_name":"Ihromant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4076,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1682561717,"creation_date":1416480227,"question_id":27037570,"body_markdown":"I&#39;ve read Java EE documentation and for me is unclear one thing. According to API, the only way to find another Session is a code like this: (assuming that we&#39;ve identifier of other session):\r\n\r\n    import javax.websocket.Session;\r\n    ...\r\n    private static Session findOtherSessionById(Session user, String id) {\r\n\t\tfor (Session session : user.getOpenSessions()) {\r\n\t\t\tif (id.equals(session.getId())) {\r\n\t\t\t\treturn session;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\nBut when we&#39;ve thousands of users, this code is a performance bottleneck.\r\n\r\nSo, is there a way to get Session by id fast without using own ConcurrentHashMap for this? Or maybe some application server has undocummented feature for this (for me Wildfly would be great)?\r\n","title":"Find websocket session by id in Java EE 7","body":"<p>I've read Java EE documentation and for me is unclear one thing. According to API, the only way to find another Session is a code like this: (assuming that we've identifier of other session):</p>\n\n<pre><code>import javax.websocket.Session;\n...\nprivate static Session findOtherSessionById(Session user, String id) {\n    for (Session session : user.getOpenSessions()) {\n        if (id.equals(session.getId())) {\n            return session;\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>But when we've thousands of users, this code is a performance bottleneck.</p>\n\n<p>So, is there a way to get Session by id fast without using own ConcurrentHashMap for this? Or maybe some application server has undocummented feature for this (for me Wildfly would be great)?</p>\n"},{"tags":["java","pdf","mathjax"],"comments":[{"owner":{"account_id":18952346,"reputation":11,"user_id":13829759,"display_name":"Scott Stelmar"},"score":0,"creation_date":1682701828,"post_id":76116272,"comment_id":134262478,"body_markdown":"The base HTML\n\nhttps://1drv.ms/u/s!AsDqSHL4-Yguk7VkMkaOMi7GENjebg","body":"The base HTML  <a href=\"https://1drv.ms/u/s!AsDqSHL4-Yguk7VkMkaOMi7GENjebg\" rel=\"nofollow noreferrer\">1drv.ms/u/s!AsDqSHL4-Yguk7VkMkaOMi7GENjebg</a>"},{"owner":{"account_id":18952346,"reputation":11,"user_id":13829759,"display_name":"Scott Stelmar"},"score":0,"creation_date":1682801331,"post_id":76116272,"comment_id":134273298,"body_markdown":"That&#39;s what I was looking for, a timer or a semaphore to tell it when it&#39;s finished re-rendering by Mathjax. Thanks.","body":"That&#39;s what I was looking for, a timer or a semaphore to tell it when it&#39;s finished re-rendering by Mathjax. Thanks."},{"owner":{"account_id":18952346,"reputation":11,"user_id":13829759,"display_name":"Scott Stelmar"},"score":0,"creation_date":1682803626,"post_id":76116272,"comment_id":134273554,"body_markdown":"Here&#39;s the corrected code adding navigation options\n        var navigation = new NavigationOptions\n            {   Timeout = 0,\n                WaitUntil = new[] {WaitUntilNavigation.Networkidle0 }\n            };\n        await page.GoToAsync(&quot;https://localhost:44392/Calculation.html&quot;, navigation);","body":"Here&#39;s the corrected code adding navigation options         var navigation = new NavigationOptions             {   Timeout = 0,                 WaitUntil = new[] {WaitUntilNavigation.Networkidle0 }             };         await page.GoToAsync(&quot;<a href=\"https://localhost:44392/Calculation.html\" rel=\"nofollow noreferrer\">localhost:44392/Calculation.html</a>&quot;, navigation);"}],"owner":{"account_id":18952346,"reputation":11,"user_id":13829759,"display_name":"Scott Stelmar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682561543,"creation_date":1682561543,"question_id":76116272,"body_markdown":"I&#39;m trying to convert an HTML page to PDF using Puppeteer. The page in question uses Mathjax to render formulas. It appears that Puppeteer is not letting the page scripts complete before rendering.\r\nIs there a semaphore to use to wait for re-render before writing to PDF?\r\n\r\nI get good results when using an online convert tool https://html2pdf.com/\r\n[![Correctly rendered](https://i.stack.imgur.com/MEo9g.jpg)](https://i.stack.imgur.com/MEo9g.jpg)\r\n\r\nHowever, I get incomplete results when using Puppeteer.\r\n[![Incorrectly rendered](https://i.stack.imgur.com/yNMGa.png)](https://i.stack.imgur.com/yNMGa.png)\r\n\r\n","title":"JavaScript timing in Puppeteer","body":"<p>I'm trying to convert an HTML page to PDF using Puppeteer. The page in question uses Mathjax to render formulas. It appears that Puppeteer is not letting the page scripts complete before rendering.\nIs there a semaphore to use to wait for re-render before writing to PDF?</p>\n<p>I get good results when using an online convert tool <a href=\"https://html2pdf.com/\" rel=\"nofollow noreferrer\">https://html2pdf.com/</a>\n<a href=\"https://i.stack.imgur.com/MEo9g.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MEo9g.jpg\" alt=\"Correctly rendered\" /></a></p>\n<p>However, I get incomplete results when using Puppeteer.\n<a href=\"https://i.stack.imgur.com/yNMGa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yNMGa.png\" alt=\"Incorrectly rendered\" /></a></p>\n"},{"tags":["java","android-room"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682526487,"post_id":76112918,"comment_id":134231419,"body_markdown":"Primary keys should be non-null - try changing the type from `Integer` to `int`.","body":"Primary keys should be non-null - try changing the type from <code>Integer</code> to <code>int</code>."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1682526566,"post_id":76112918,"comment_id":134231436,"body_markdown":"Try `public Integer uid = null;` (note the `= null`) portion. See [_&quot;How to auto generate primary id, without using &quot;autoGenerate = true&quot;&quot;_](https://stackoverflow.com/a/71073465/1762224). As @dominicoder states, you can alternatively use the primitive `int`. The preferred type for a non-null primary ID key is typically `long`.","body":"Try <code>public Integer uid = null;</code> (note the <code>= null</code>) portion. See <a href=\"https://stackoverflow.com/a/71073465/1762224\"><i>&quot;How to auto generate primary id, without using &quot;autoGenerate = true&quot;&quot;</i></a>. As @dominicoder states, you can alternatively use the primitive <code>int</code>. The preferred type for a non-null primary ID key is typically <code>long</code>."},{"owner":{"account_id":27084001,"reputation":31,"user_id":20632784,"display_name":"kirialium"},"score":0,"creation_date":1682528435,"post_id":76112918,"comment_id":134231927,"body_markdown":"I changed the data types. I tried int, Integer, long, Long. id is zero anyway. After all, I just need the data to be added to a new row in the table.","body":"I changed the data types. I tried int, Integer, long, Long. id is zero anyway. After all, I just need the data to be added to a new row in the table."},{"owner":{"account_id":213468,"reputation":103487,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682679203,"post_id":76112918,"comment_id":134257230,"body_markdown":"@Mr.Polywhirl Explicit use of `= null` should be unnecessary, because that is already the default value of an Object field like `Integer`.","body":"@Mr.Polywhirl Explicit use of <code>= null</code> should be unnecessary, because that is already the default value of an Object field like <code>Integer</code>."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682560848,"creation_date":1682541877,"answer_id":76114943,"question_id":76112918,"body_markdown":"If using **Integer** then Room expects the uid to be **null** for a value to be generated. If a value, such as 0 is used then that value will be used for the uid.\r\n\r\nAs the insertAll method doesn&#39;t specify an onConflict strategy, then the default strategy is ABORT. As such the use of 0, more than once will result in a crash due to the UNIQUE constraint conflict (the value as it is a Primary Key must be unique).\r\n\r\n* an onConflict strategy of **IGNORE** (e.g. `@Insert(onConflict = OnConflictStrategy.IGNORE)`) will not result in a crash if there is a duplicate, but the row will not be inserted.\r\n* an onConflict strategy of **REPLACE** (e.g. `@Insert(onConflict = OnConflictStrategy.REPLACE)`), will replace the already existing row, by deleting the row and inserting another (as opposed to updating the row)\r\n\r\n* it is often useful to know what has been done. The `@Insert` function can return a long/Long value. \r\n   * If a row has been inserted then the value will be the **rowid** (for an integer type primary key, the column is  an alias of the special, normally hidden **rowid** column)\r\n   * If a row has not been inserted (i.e. ignored) then the value will be **-1** (note that it is in fact possible to specify -1 as a value, although ) \r\n\r\n&gt; As I understood from the documentation, @PrimaryKey(autoGenerate = true) should generate a new identifier for the uid.\r\n\r\nThis documentation is misleading/false. If you were to use `autoGenerate  false` or as it is the default just `@PrimaryKey` then the uid will still be generated when a null uid is specified. \r\n\r\nHowever, there is a subtle difference in that when autoGenerate is true, the SQLite **`AUTOINCREMENT`** keyword is included in the table definition.\r\n\r\nThe **`AUTOINCREMENT`** (*`autoGenerate = true`*) keyword adds a constraint(rule) that the generated value MUST be greater than any used value (even if the row with the highest value has been deleted). SQLite needs a way to keep a record of the highest ever used value, it does this by using a system table called **sqlite_sequence** which will be created by SQLite if required.\r\n\r\nThe **sqlite_sequence** table will have a row per table that has AUTOINCREMENT and that is where the value is stored. There are overheads accessing and maintaining this additional table. In fact the SQLite documentation says *[The AUTOINCREMENT keyword imposes extra CPU, memory, disk space, and disk I/O overhead and should be avoided if not strictly needed. It is usually not needed.][1]* \r\n\r\nI would suggest that the most efficient/correct option is to use:-\r\n\r\n    @Entity\r\n    public class User {\r\n        @PrimaryKey\r\n        public Long uid;\r\n    \r\n        @ColumnInfo(name = &quot;first_name&quot;)\r\n        public String firstName;\r\n    \r\n        @ColumnInfo(name = &quot;last_name&quot;)\r\n        public String lastName;\r\n    }\r\n\r\n- Long as Integer does not have the capacity to hold a 64bit signed value, Long does.\r\n\r\nAnd to always ensure that the uid is null when inserting a new row.\r\n\r\n\r\n**Demonstration**\r\n\r\nPerhaps consider the following that demonstrates much of what has been stated. Noting that `autoGenerate` has been left to the default of `false` *(which is suggested as being better for majority of cases)*\r\n\r\nAs such the **User** class as above has been used throughout.\r\n\r\nHowever, the **UserDao** interface has been expanded to cater for using the 3 discussed/mentioned conflict strategies (ABORT, IGNORE and REPLACE):-\r\n\r\n    @Dao\r\n    public interface UserDao {\r\n        @Query(&quot;SELECT * FROM user&quot;)\r\n        List&lt;User&gt; getAll();\r\n    \r\n        @Query(&quot;SELECT * FROM user WHERE uid IN (:userIds)&quot;)\r\n        List&lt;User&gt; loadAllByIds(int[] userIds);\r\n    \r\n        @Query(&quot;SELECT * FROM user WHERE first_name LIKE :first AND &quot; +\r\n                &quot;last_name LIKE :last LIMIT 1&quot;)\r\n        User findByName(String first, String last);\r\n    \r\n        @Insert\r\n        Long insertAll(User user);\r\n        @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n        long insertAllWithReplace(User user);\r\n        @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n        long insertAllWithIgnore(User user);\r\n    \r\n        @Delete\r\n        void delete(User user);\r\n    }\r\n\r\n\r\nTo facilitate using the above an `@Database` annotated abstract class **TheDatabase** :-\r\n\r\n    @Database(entities = {User.class}, exportSchema = false, version = 1)\r\n    abstract class TheDatabase extends RoomDatabase {\r\n        abstract UserDao getUserDao();\r\n    \r\n        private static volatile TheDatabase instance;\r\n        static TheDatabase getInstance(Context context) {\r\n            if (instance==null) {\r\n                instance= Room.databaseBuilder(context,TheDatabase.class,&quot;the_database.db&quot;)\r\n                        .allowMainThreadQueries()\r\n                        .build();\r\n            }\r\n            return instance;\r\n        }\r\n    }\r\n\r\nLastly some activity code to demonstrate various inserts with functions to :-\r\n\r\n* write the data currently in the database to the log **logAllUsers**, and\r\n* to insert a row, specifying the conflict strategy and capturing any failure and also writing the result (returned rowid value) of the insert to the log.\r\n\r\n**MainActivity** :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TheDatabase db;\r\n        UserDao dao;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            /* Prepare to use the database and daos */\r\n            db = TheDatabase.getInstance(this);\r\n            dao = db.getUserDao();\r\n    \r\n            /* Prepare the 1 User that will be used throughout */\r\n            User newUser = new User();\r\n            newUser.firstName=&quot;Fred&quot;;\r\n            newUser.lastName=&quot;Bloggs&quot;;\r\n    \r\n            /* Stage 1 insert with generated uid and ABORT conflict strategy */\r\n            dao.insertAll(newUser);\r\n            logAllUsers(&quot;_STAGE1&quot;);\r\n    \r\n            /* AS uid is null then the following will add 3 new rows */\r\n            for (int i = 0; i &lt; 3; i++ ) {\r\n                dao.insertAll(newUser);\r\n            }\r\n            logAllUsers(&quot;_STAGE2&quot;);\r\n    \r\n            /* SHOULD NOT REALLY BE USED as the uid value will be 0*/\r\n            newUser.uid=0;\r\n            dao.insertAll(newUser);\r\n            logAllUsers(&quot;_STAGE3&quot;);\r\n    \r\n    \r\n            /* More in-depth debugging of inserts */\r\n            /* duplicate use of 0 uid with ABORT */\r\n            logAttemptedInsert(newUser,&quot;_STAGE4&quot;, OnConflictStrategy.ABORT);\r\n            /* duplicate use of 0 uid with REPLACE */\r\n            logAttemptedInsert(newUser,&quot;_STAGE5&quot;, OnConflictStrategy.REPLACE);\r\n            /* duplicate use of 0 uid with IGNORE */\r\n            logAttemptedInsert(newUser,&quot;_STAGE6&quot;, OnConflictStrategy.IGNORE);\r\n            /* Negative uid  ~~~ BEST TO NOT USE ~~~ */\r\n            newUser.uid = -100;\r\n            logAttemptedInsert(newUser,&quot;_STAGE_7&quot;,OnConflictStrategy.IGNORE);\r\n        }\r\n    \r\n        void logAllUsers(String tagSuffix) {\r\n            for(User u: dao.getAll()) {\r\n                Log.d(&quot;DBINFO&quot; + tagSuffix,&quot;User ID is &quot; + u.uid + &quot; FirstName is &quot; + u.firstName + &quot; LastName is &quot; + u.lastName);\r\n            }\r\n        }\r\n    \r\n        void logAttemptedInsert(User user, String tagSuffix, Integer onConflictStrategy) {\r\n            long insertedRowid= -888;\r\n            try {\r\n                switch(onConflictStrategy) {\r\n                    case OnConflictStrategy.IGNORE:\r\n                        insertedRowid = dao.insertAllWithIgnore(user);\r\n                        break;\r\n                    case OnConflictStrategy.REPLACE:\r\n                        insertedRowid = dao.insertAllWithReplace(user);\r\n                        break;\r\n                    default:\r\n                        insertedRowid = dao.insertAll(user);\r\n                        break;\r\n                }\r\n            } catch (SQLiteException e) {\r\n                Log.d(&quot;DBINFO_&quot; + tagSuffix,&quot;SQLITE EXCEPTION TRAPPED. Exception Message=\\n\\t&quot; + e.getMessage());\r\n                insertedRowid = -999;\r\n            } finally {\r\n                Log.d(&quot;DBINFO&quot; + tagSuffix,&quot;INSERT RESULT for USER WITH ID as &quot; + user.uid + &quot; FIRSTNAME as &quot; + user.firstName + &quot; and LASTNAME as &quot; + user.lastName + &quot; WAS &quot; + insertedRowid);\r\n                logAllUsers(tagSuffix);\r\n            }\r\n        }\r\n    }\r\n\r\n- Note that the above is designed to just be run the once.\r\n\r\n**Results of running the Demo**\r\n\r\nWhen run the output to the log includes:-\r\n\r\n    2023-04-27 11:02:00.108 D/DBINFO_STAGE1: User ID is 1 FirstName is Fred LastName is Bloggs\r\n    \r\n    \r\n    2023-04-27 11:02:00.133 D/DBINFO_STAGE2: User ID is 1 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.134 D/DBINFO_STAGE2: User ID is 2 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.134 D/DBINFO_STAGE2: User ID is 3 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.134 D/DBINFO_STAGE2: User ID is 4 FirstName is Fred LastName is Bloggs\r\n    \r\n    \r\n    2023-04-27 11:02:00.141 D/DBINFO_STAGE3: User ID is 0 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.141 D/DBINFO_STAGE3: User ID is 1 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.141 D/DBINFO_STAGE3: User ID is 2 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.141 D/DBINFO_STAGE3: User ID is 3 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.141 D/DBINFO_STAGE3: User ID is 4 FirstName is Fred LastName is Bloggs\r\n    \r\n    \r\n    2023-04-27 11:02:00.144 D/DBINFO__STAGE4: SQLITE EXCEPTION TRAPPED. Exception Message=\r\n        \tUNIQUE constraint failed: User.uid (code 1555 SQLITE_CONSTRAINT_PRIMARYKEY)\r\n    2023-04-27 11:02:00.144 D/DBINFO_STAGE4: INSERT RESULT for USER WITH ID as 0 FIRSTNAME as Fred and LASTNAME as Bloggs WAS -999\r\n    2023-04-27 11:02:00.145 D/DBINFO_STAGE4: User ID is 0 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.145 D/DBINFO_STAGE4: User ID is 1 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.145 D/DBINFO_STAGE4: User ID is 2 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.145 D/DBINFO_STAGE4: User ID is 3 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.146 D/DBINFO_STAGE4: User ID is 4 FirstName is Fred LastName is Bloggs\r\n    \r\n    \r\n    2023-04-27 11:02:00.148 D/DBINFO_STAGE5: INSERT RESULT for USER WITH ID as 0 FIRSTNAME as Fred and LASTNAME as Bloggs WAS 0\r\n    2023-04-27 11:02:00.150 D/DBINFO_STAGE5: User ID is 0 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.150 D/DBINFO_STAGE5: User ID is 1 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.151 D/DBINFO_STAGE5: User ID is 2 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.151 D/DBINFO_STAGE5: User ID is 3 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.151 D/DBINFO_STAGE5: User ID is 4 FirstName is Fred LastName is Bloggs\r\n    \r\n    \r\n    2023-04-27 11:02:00.153 D/DBINFO_STAGE6: INSERT RESULT for USER WITH ID as 0 FIRSTNAME as Fred and LASTNAME as Bloggs WAS -1\r\n    2023-04-27 11:02:00.155 D/DBINFO_STAGE6: User ID is 0 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.155 D/DBINFO_STAGE6: User ID is 1 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.156 D/DBINFO_STAGE6: User ID is 2 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.156 D/DBINFO_STAGE6: User ID is 3 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.156 D/DBINFO_STAGE6: User ID is 4 FirstName is Fred LastName is Bloggs\r\n    \r\n    \r\n    2023-04-27 11:02:00.157 D/DBINFO_STAGE_7: INSERT RESULT for USER WITH ID as -100 FIRSTNAME as Fred and LASTNAME as Bloggs WAS -100\r\n    2023-04-27 11:02:00.160 D/DBINFO_STAGE_7: User ID is -100 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.161 D/DBINFO_STAGE_7: User ID is 0 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.161 D/DBINFO_STAGE_7: User ID is 1 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.161 D/DBINFO_STAGE_7: User ID is 2 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.161 D/DBINFO_STAGE_7: User ID is 3 FirstName is Fred LastName is Bloggs\r\n    2023-04-27 11:02:00.161 D/DBINFO_STAGE_7: User ID is 4 FirstName is Fred LastName is Bloggs\r\n\r\n\r\n* Stage 1 has inserted the single row and the uid has been generated with a value of 1 as explained/expected.\r\n* Stage 2 has inserted the additional 3 rows with generated uid values (2-4 inclusive), as explained/expected.\r\n* Stage 3 has inserted another row with a specific uid value of 0, as explained/expected.\r\n* Stage 4 has NOT inserted another row with 0 as the specified uid value, the default onConflict strategy of ABORT resulted in an exception which was trapped and reported on. The 4 existing rows (0-4 inclusive) are the only rows that exist, as per the code -999 was returned to indicate the trapped exception.\r\n* Stage 5 has REPLACED row 0 returning 0 as the inserted rowid (note not -1 indicating nothing inserted). As such again all 5 rows exist.\r\n* Stage 6 has IGNORED the insert as a row with a uid of 0 already exists. Unlike Stage 4 there was no underlying exception so -1 has been returned, typically indicating nothing inserted. Still just the 5 rows exist.\r\n* Stage 6 has inserted a row with a negative value of -100 and is the value returned from the insert (if -1 were used then you would not know if the row were inserted or not according to the returned -1). 6 rows now exist.\r\n**App Inspection**\r\n\r\nUsing **App Inspection** then the end result appears to confirm the end result of 6 rows as per:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\nusing a New Query from App Inspection the absence of **sqlite_master** can be seen as per:-\r\n\r\n[![enter image description here][3]][3]\r\n\r\n* if `autoGenerate true` were used then the resource costly sqlite_squence table could be seen as per:-\r\n\r\n* [![enter image description here][4]][4]\r\n* slqite_sequence itself would contain:-\r\n* [![enter image description here][5]][5]\r\n    * i.e the highest ever used value of uid (4).\r\n\r\nTo show this hidden aliased **rowid** then:-\r\n[![enter image description here][6]][6]\r\n\r\n**Notes**\r\n\r\n* With Room only tables with **rowid** are supported via annotations. However, SQLite does support ***WITHOUT ROWID tables***, in which case `AUTOINCREMENT` cannot be used.\r\n* `AUTOINCREMENT` aka `autoGenerate=true`, due to the rule that a generated row MUST be greater than any existing row, will result in an SQLITE_FULL exception if the highest value allowable for the generated value (9223372036854775807), whilst without `AUTOINCREMENT` the algorithm will attempt to use an unused value (if a negative rowid has been used then this can be a negative value) thus it is unlikely that an SQLITE_FULL exception will result.\r\n    * With current storage devices that number of rows is impossible. However, if 9223372036854775807 were specified as a value, even if there are only a few rows, then the exception, due to the rule, would eventuate if `AUTOINCREMENT` were used.\r\n\r\n      * e.g. :- [![enter image description here][7]][7]\r\n      * and then:- [![!\\[enter image description here][8]][8]\r\n      * with the Event Log showing *11:48 am\tDatabase Inspector: An error occurred while running the statement: database or disk is full (code 13 SQLITE_FULL)*, even though there are only 7 rows\r\n      * Without `AUTOINCREMENT` then using the same 2 queries results in:-\r\n      * [![enter image description here][9]][9]\r\n      * As can be seen an 8th row with New as the first_name and ASIF as the last name has been inserted with an available unused generated value rather than crashing.\r\n\r\n\r\n  [1]: https://www.sqlite.org/autoinc.html\r\n  [2]: https://i.stack.imgur.com/lig80.png\r\n  [3]: https://i.stack.imgur.com/SAXUd.png\r\n  [4]: https://i.stack.imgur.com/loCqS.png\r\n  [5]: https://i.stack.imgur.com/xv7wJ.png\r\n  [6]: https://i.stack.imgur.com/dMOgB.png\r\n  [7]: https://i.stack.imgur.com/qOBst.png\r\n  [8]: https://i.stack.imgur.com/S6QEv.png\r\n  [9]: https://i.stack.imgur.com/cQlWf.png","title":"Why is the key not generated in the SQL Room?","body":"<p>If using <strong>Integer</strong> then Room expects the uid to be <strong>null</strong> for a value to be generated. If a value, such as 0 is used then that value will be used for the uid.</p>\n<p>As the insertAll method doesn't specify an onConflict strategy, then the default strategy is ABORT. As such the use of 0, more than once will result in a crash due to the UNIQUE constraint conflict (the value as it is a Primary Key must be unique).</p>\n<ul>\n<li><p>an onConflict strategy of <strong>IGNORE</strong> (e.g. <code>@Insert(onConflict = OnConflictStrategy.IGNORE)</code>) will not result in a crash if there is a duplicate, but the row will not be inserted.</p>\n</li>\n<li><p>an onConflict strategy of <strong>REPLACE</strong> (e.g. <code>@Insert(onConflict = OnConflictStrategy.REPLACE)</code>), will replace the already existing row, by deleting the row and inserting another (as opposed to updating the row)</p>\n</li>\n<li><p>it is often useful to know what has been done. The <code>@Insert</code> function can return a long/Long value.</p>\n<ul>\n<li>If a row has been inserted then the value will be the <strong>rowid</strong> (for an integer type primary key, the column is  an alias of the special, normally hidden <strong>rowid</strong> column)</li>\n<li>If a row has not been inserted (i.e. ignored) then the value will be <strong>-1</strong> (note that it is in fact possible to specify -1 as a value, although )</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>As I understood from the documentation, @PrimaryKey(autoGenerate = true) should generate a new identifier for the uid.</p>\n</blockquote>\n<p>This documentation is misleading/false. If you were to use <code>autoGenerate  false</code> or as it is the default just <code>@PrimaryKey</code> then the uid will still be generated when a null uid is specified.</p>\n<p>However, there is a subtle difference in that when autoGenerate is true, the SQLite <strong><code>AUTOINCREMENT</code></strong> keyword is included in the table definition.</p>\n<p>The <strong><code>AUTOINCREMENT</code></strong> (<em><code>autoGenerate = true</code></em>) keyword adds a constraint(rule) that the generated value MUST be greater than any used value (even if the row with the highest value has been deleted). SQLite needs a way to keep a record of the highest ever used value, it does this by using a system table called <strong>sqlite_sequence</strong> which will be created by SQLite if required.</p>\n<p>The <strong>sqlite_sequence</strong> table will have a row per table that has AUTOINCREMENT and that is where the value is stored. There are overheads accessing and maintaining this additional table. In fact the SQLite documentation says <em><a href=\"https://www.sqlite.org/autoinc.html\" rel=\"nofollow noreferrer\">The AUTOINCREMENT keyword imposes extra CPU, memory, disk space, and disk I/O overhead and should be avoided if not strictly needed. It is usually not needed.</a></em></p>\n<p>I would suggest that the most efficient/correct option is to use:-</p>\n<pre><code>@Entity\npublic class User {\n    @PrimaryKey\n    public Long uid;\n\n    @ColumnInfo(name = &quot;first_name&quot;)\n    public String firstName;\n\n    @ColumnInfo(name = &quot;last_name&quot;)\n    public String lastName;\n}\n</code></pre>\n<ul>\n<li>Long as Integer does not have the capacity to hold a 64bit signed value, Long does.</li>\n</ul>\n<p>And to always ensure that the uid is null when inserting a new row.</p>\n<p><strong>Demonstration</strong></p>\n<p>Perhaps consider the following that demonstrates much of what has been stated. Noting that <code>autoGenerate</code> has been left to the default of <code>false</code> <em>(which is suggested as being better for majority of cases)</em></p>\n<p>As such the <strong>User</strong> class as above has been used throughout.</p>\n<p>However, the <strong>UserDao</strong> interface has been expanded to cater for using the 3 discussed/mentioned conflict strategies (ABORT, IGNORE and REPLACE):-</p>\n<pre><code>@Dao\npublic interface UserDao {\n    @Query(&quot;SELECT * FROM user&quot;)\n    List&lt;User&gt; getAll();\n\n    @Query(&quot;SELECT * FROM user WHERE uid IN (:userIds)&quot;)\n    List&lt;User&gt; loadAllByIds(int[] userIds);\n\n    @Query(&quot;SELECT * FROM user WHERE first_name LIKE :first AND &quot; +\n            &quot;last_name LIKE :last LIMIT 1&quot;)\n    User findByName(String first, String last);\n\n    @Insert\n    Long insertAll(User user);\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    long insertAllWithReplace(User user);\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    long insertAllWithIgnore(User user);\n\n    @Delete\n    void delete(User user);\n}\n</code></pre>\n<p>To facilitate using the above an <code>@Database</code> annotated abstract class <strong>TheDatabase</strong> :-</p>\n<pre><code>@Database(entities = {User.class}, exportSchema = false, version = 1)\nabstract class TheDatabase extends RoomDatabase {\n    abstract UserDao getUserDao();\n\n    private static volatile TheDatabase instance;\n    static TheDatabase getInstance(Context context) {\n        if (instance==null) {\n            instance= Room.databaseBuilder(context,TheDatabase.class,&quot;the_database.db&quot;)\n                    .allowMainThreadQueries()\n                    .build();\n        }\n        return instance;\n    }\n}\n</code></pre>\n<p>Lastly some activity code to demonstrate various inserts with functions to :-</p>\n<ul>\n<li>write the data currently in the database to the log <strong>logAllUsers</strong>, and</li>\n<li>to insert a row, specifying the conflict strategy and capturing any failure and also writing the result (returned rowid value) of the insert to the log.</li>\n</ul>\n<p><strong>MainActivity</strong> :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TheDatabase db;\n    UserDao dao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        /* Prepare to use the database and daos */\n        db = TheDatabase.getInstance(this);\n        dao = db.getUserDao();\n\n        /* Prepare the 1 User that will be used throughout */\n        User newUser = new User();\n        newUser.firstName=&quot;Fred&quot;;\n        newUser.lastName=&quot;Bloggs&quot;;\n\n        /* Stage 1 insert with generated uid and ABORT conflict strategy */\n        dao.insertAll(newUser);\n        logAllUsers(&quot;_STAGE1&quot;);\n\n        /* AS uid is null then the following will add 3 new rows */\n        for (int i = 0; i &lt; 3; i++ ) {\n            dao.insertAll(newUser);\n        }\n        logAllUsers(&quot;_STAGE2&quot;);\n\n        /* SHOULD NOT REALLY BE USED as the uid value will be 0*/\n        newUser.uid=0;\n        dao.insertAll(newUser);\n        logAllUsers(&quot;_STAGE3&quot;);\n\n\n        /* More in-depth debugging of inserts */\n        /* duplicate use of 0 uid with ABORT */\n        logAttemptedInsert(newUser,&quot;_STAGE4&quot;, OnConflictStrategy.ABORT);\n        /* duplicate use of 0 uid with REPLACE */\n        logAttemptedInsert(newUser,&quot;_STAGE5&quot;, OnConflictStrategy.REPLACE);\n        /* duplicate use of 0 uid with IGNORE */\n        logAttemptedInsert(newUser,&quot;_STAGE6&quot;, OnConflictStrategy.IGNORE);\n        /* Negative uid  ~~~ BEST TO NOT USE ~~~ */\n        newUser.uid = -100;\n        logAttemptedInsert(newUser,&quot;_STAGE_7&quot;,OnConflictStrategy.IGNORE);\n    }\n\n    void logAllUsers(String tagSuffix) {\n        for(User u: dao.getAll()) {\n            Log.d(&quot;DBINFO&quot; + tagSuffix,&quot;User ID is &quot; + u.uid + &quot; FirstName is &quot; + u.firstName + &quot; LastName is &quot; + u.lastName);\n        }\n    }\n\n    void logAttemptedInsert(User user, String tagSuffix, Integer onConflictStrategy) {\n        long insertedRowid= -888;\n        try {\n            switch(onConflictStrategy) {\n                case OnConflictStrategy.IGNORE:\n                    insertedRowid = dao.insertAllWithIgnore(user);\n                    break;\n                case OnConflictStrategy.REPLACE:\n                    insertedRowid = dao.insertAllWithReplace(user);\n                    break;\n                default:\n                    insertedRowid = dao.insertAll(user);\n                    break;\n            }\n        } catch (SQLiteException e) {\n            Log.d(&quot;DBINFO_&quot; + tagSuffix,&quot;SQLITE EXCEPTION TRAPPED. Exception Message=\\n\\t&quot; + e.getMessage());\n            insertedRowid = -999;\n        } finally {\n            Log.d(&quot;DBINFO&quot; + tagSuffix,&quot;INSERT RESULT for USER WITH ID as &quot; + user.uid + &quot; FIRSTNAME as &quot; + user.firstName + &quot; and LASTNAME as &quot; + user.lastName + &quot; WAS &quot; + insertedRowid);\n            logAllUsers(tagSuffix);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Note that the above is designed to just be run the once.</li>\n</ul>\n<p><strong>Results of running the Demo</strong></p>\n<p>When run the output to the log includes:-</p>\n<pre><code>2023-04-27 11:02:00.108 D/DBINFO_STAGE1: User ID is 1 FirstName is Fred LastName is Bloggs\n\n\n2023-04-27 11:02:00.133 D/DBINFO_STAGE2: User ID is 1 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.134 D/DBINFO_STAGE2: User ID is 2 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.134 D/DBINFO_STAGE2: User ID is 3 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.134 D/DBINFO_STAGE2: User ID is 4 FirstName is Fred LastName is Bloggs\n\n\n2023-04-27 11:02:00.141 D/DBINFO_STAGE3: User ID is 0 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.141 D/DBINFO_STAGE3: User ID is 1 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.141 D/DBINFO_STAGE3: User ID is 2 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.141 D/DBINFO_STAGE3: User ID is 3 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.141 D/DBINFO_STAGE3: User ID is 4 FirstName is Fred LastName is Bloggs\n\n\n2023-04-27 11:02:00.144 D/DBINFO__STAGE4: SQLITE EXCEPTION TRAPPED. Exception Message=\n        UNIQUE constraint failed: User.uid (code 1555 SQLITE_CONSTRAINT_PRIMARYKEY)\n2023-04-27 11:02:00.144 D/DBINFO_STAGE4: INSERT RESULT for USER WITH ID as 0 FIRSTNAME as Fred and LASTNAME as Bloggs WAS -999\n2023-04-27 11:02:00.145 D/DBINFO_STAGE4: User ID is 0 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.145 D/DBINFO_STAGE4: User ID is 1 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.145 D/DBINFO_STAGE4: User ID is 2 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.145 D/DBINFO_STAGE4: User ID is 3 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.146 D/DBINFO_STAGE4: User ID is 4 FirstName is Fred LastName is Bloggs\n\n\n2023-04-27 11:02:00.148 D/DBINFO_STAGE5: INSERT RESULT for USER WITH ID as 0 FIRSTNAME as Fred and LASTNAME as Bloggs WAS 0\n2023-04-27 11:02:00.150 D/DBINFO_STAGE5: User ID is 0 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.150 D/DBINFO_STAGE5: User ID is 1 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.151 D/DBINFO_STAGE5: User ID is 2 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.151 D/DBINFO_STAGE5: User ID is 3 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.151 D/DBINFO_STAGE5: User ID is 4 FirstName is Fred LastName is Bloggs\n\n\n2023-04-27 11:02:00.153 D/DBINFO_STAGE6: INSERT RESULT for USER WITH ID as 0 FIRSTNAME as Fred and LASTNAME as Bloggs WAS -1\n2023-04-27 11:02:00.155 D/DBINFO_STAGE6: User ID is 0 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.155 D/DBINFO_STAGE6: User ID is 1 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.156 D/DBINFO_STAGE6: User ID is 2 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.156 D/DBINFO_STAGE6: User ID is 3 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.156 D/DBINFO_STAGE6: User ID is 4 FirstName is Fred LastName is Bloggs\n\n\n2023-04-27 11:02:00.157 D/DBINFO_STAGE_7: INSERT RESULT for USER WITH ID as -100 FIRSTNAME as Fred and LASTNAME as Bloggs WAS -100\n2023-04-27 11:02:00.160 D/DBINFO_STAGE_7: User ID is -100 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.161 D/DBINFO_STAGE_7: User ID is 0 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.161 D/DBINFO_STAGE_7: User ID is 1 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.161 D/DBINFO_STAGE_7: User ID is 2 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.161 D/DBINFO_STAGE_7: User ID is 3 FirstName is Fred LastName is Bloggs\n2023-04-27 11:02:00.161 D/DBINFO_STAGE_7: User ID is 4 FirstName is Fred LastName is Bloggs\n</code></pre>\n<ul>\n<li>Stage 1 has inserted the single row and the uid has been generated with a value of 1 as explained/expected.</li>\n<li>Stage 2 has inserted the additional 3 rows with generated uid values (2-4 inclusive), as explained/expected.</li>\n<li>Stage 3 has inserted another row with a specific uid value of 0, as explained/expected.</li>\n<li>Stage 4 has NOT inserted another row with 0 as the specified uid value, the default onConflict strategy of ABORT resulted in an exception which was trapped and reported on. The 4 existing rows (0-4 inclusive) are the only rows that exist, as per the code -999 was returned to indicate the trapped exception.</li>\n<li>Stage 5 has REPLACED row 0 returning 0 as the inserted rowid (note not -1 indicating nothing inserted). As such again all 5 rows exist.</li>\n<li>Stage 6 has IGNORED the insert as a row with a uid of 0 already exists. Unlike Stage 4 there was no underlying exception so -1 has been returned, typically indicating nothing inserted. Still just the 5 rows exist.</li>\n<li>Stage 6 has inserted a row with a negative value of -100 and is the value returned from the insert (if -1 were used then you would not know if the row were inserted or not according to the returned -1). 6 rows now exist.\n<strong>App Inspection</strong></li>\n</ul>\n<p>Using <strong>App Inspection</strong> then the end result appears to confirm the end result of 6 rows as per:-</p>\n<p><a href=\"https://i.stack.imgur.com/lig80.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lig80.png\" alt=\"enter image description here\" /></a></p>\n<p>using a New Query from App Inspection the absence of <strong>sqlite_master</strong> can be seen as per:-</p>\n<p><a href=\"https://i.stack.imgur.com/SAXUd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SAXUd.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><p>if <code>autoGenerate true</code> were used then the resource costly sqlite_squence table could be seen as per:-</p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/loCqS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/loCqS.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>slqite_sequence itself would contain:-</p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/xv7wJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xv7wJ.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>i.e the highest ever used value of uid (4).</li>\n</ul>\n</li>\n</ul>\n<p>To show this hidden aliased <strong>rowid</strong> then:-\n<a href=\"https://i.stack.imgur.com/dMOgB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dMOgB.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Notes</strong></p>\n<ul>\n<li>With Room only tables with <strong>rowid</strong> are supported via annotations. However, SQLite does support <em><strong>WITHOUT ROWID tables</strong></em>, in which case <code>AUTOINCREMENT</code> cannot be used.</li>\n<li><code>AUTOINCREMENT</code> aka <code>autoGenerate=true</code>, due to the rule that a generated row MUST be greater than any existing row, will result in an SQLITE_FULL exception if the highest value allowable for the generated value (9223372036854775807), whilst without <code>AUTOINCREMENT</code> the algorithm will attempt to use an unused value (if a negative rowid has been used then this can be a negative value) thus it is unlikely that an SQLITE_FULL exception will result.\n<ul>\n<li><p>With current storage devices that number of rows is impossible. However, if 9223372036854775807 were specified as a value, even if there are only a few rows, then the exception, due to the rule, would eventuate if <code>AUTOINCREMENT</code> were used.</p>\n<ul>\n<li>e.g. :- <a href=\"https://i.stack.imgur.com/qOBst.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qOBst.png\" alt=\"enter image description here\" /></a></li>\n<li>and then:- <a href=\"https://i.stack.imgur.com/S6QEv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S6QEv.png\" alt=\"![enter image description here\" /></a></li>\n<li>with the Event Log showing <em>11:48 am    Database Inspector: An error occurred while running the statement: database or disk is full (code 13 SQLITE_FULL)</em>, even though there are only 7 rows</li>\n<li>Without <code>AUTOINCREMENT</code> then using the same 2 queries results in:-</li>\n<li><a href=\"https://i.stack.imgur.com/cQlWf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cQlWf.png\" alt=\"enter image description here\" /></a></li>\n<li>As can be seen an 8th row with New as the first_name and ASIF as the last name has been inserted with an available unused generated value rather than crashing.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":27084001,"reputation":31,"user_id":20632784,"display_name":"kirialium"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76114943,"answer_count":1,"score":2,"last_activity_date":1682560848,"creation_date":1682525377,"question_id":76112918,"body_markdown":"User Code:\r\n\r\n```\r\n@Entity\r\npublic class User {\r\n    @PrimaryKey(autoGenerate = true)\r\n    public Integer uid;\r\n\r\n    @ColumnInfo(name = &quot;first_name&quot;)\r\n    public String firstName;\r\n\r\n    @ColumnInfo(name = &quot;last_name&quot;)\r\n    public String lastName;\r\n}\r\n```\r\n\r\nDao:\r\n\r\n```\r\n@Dao\r\npublic interface UserDao {\r\n    @Query(&quot;SELECT * FROM user&quot;)\r\n    List&lt;User&gt; getAll();\r\n\r\n    @Query(&quot;SELECT * FROM user WHERE uid IN (:userIds)&quot;)\r\n    List&lt;User&gt; loadAllByIds(int[] userIds);\r\n\r\n    @Query(&quot;SELECT * FROM user WHERE first_name LIKE :first AND &quot; +\r\n        &quot;last_name LIKE :last LIMIT 1&quot;)\r\n    User findByName(String first, String last);\r\n\r\n    @Insert\r\n    void insertAll(User user);\r\n\r\n    @Delete\r\n    void delete(User user);\r\n}\r\n```\r\n\r\nActivity:\r\n\r\n```\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        DataBase db = Room.databaseBuilder(getApplicationContext(), DataBase.class, &quot;DB&quot;)\r\n                .allowMainThreadQueries().build();\r\n\r\n        User user = new User();\r\n        user.firstName = &quot;Ste&quot;;\r\n        user.lastName = &quot;Kor&quot;;\r\n\r\n        UserDao userDao = db.userDao();\r\n        userDao.insertAll(user);\r\n    }\r\n}\r\n```\r\n\r\nAs I understood from the documentation, @PrimaryKey(autoGenerate = true) should generate a new identifier for the uid. But when I add a new object, it is assigned the ID 0 and the application crashes.\r\n\r\nIf you set the value manually, then everything works, but I need it to be set by itself","title":"Why is the key not generated in the SQL Room?","body":"<p>User Code:</p>\n<pre><code>@Entity\npublic class User {\n    @PrimaryKey(autoGenerate = true)\n    public Integer uid;\n\n    @ColumnInfo(name = &quot;first_name&quot;)\n    public String firstName;\n\n    @ColumnInfo(name = &quot;last_name&quot;)\n    public String lastName;\n}\n</code></pre>\n<p>Dao:</p>\n<pre><code>@Dao\npublic interface UserDao {\n    @Query(&quot;SELECT * FROM user&quot;)\n    List&lt;User&gt; getAll();\n\n    @Query(&quot;SELECT * FROM user WHERE uid IN (:userIds)&quot;)\n    List&lt;User&gt; loadAllByIds(int[] userIds);\n\n    @Query(&quot;SELECT * FROM user WHERE first_name LIKE :first AND &quot; +\n        &quot;last_name LIKE :last LIMIT 1&quot;)\n    User findByName(String first, String last);\n\n    @Insert\n    void insertAll(User user);\n\n    @Delete\n    void delete(User user);\n}\n</code></pre>\n<p>Activity:</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        DataBase db = Room.databaseBuilder(getApplicationContext(), DataBase.class, &quot;DB&quot;)\n                .allowMainThreadQueries().build();\n\n        User user = new User();\n        user.firstName = &quot;Ste&quot;;\n        user.lastName = &quot;Kor&quot;;\n\n        UserDao userDao = db.userDao();\n        userDao.insertAll(user);\n    }\n}\n</code></pre>\n<p>As I understood from the documentation, @PrimaryKey(autoGenerate = true) should generate a new identifier for the uid. But when I add a new object, it is assigned the ID 0 and the application crashes.</p>\n<p>If you set the value manually, then everything works, but I need it to be set by itself</p>\n"},{"tags":["java","android-studio","mpandroidchart","heartrate"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682560086,"creation_date":1682558788,"answer_id":76116122,"question_id":76115492,"body_markdown":"To get this to work, you need to remove the calls that set the x axis limits in `onCreate`, these do not appear to play nicely with the realtime chart.\r\n\r\n```java\r\n// customize x-axis\r\nXAxis x = chart.getXAxis();\r\n\r\n// Remove these\r\n//x.setAxisMinimum(0);\r\n//x.setAxisMaximum(dataSet.getEntryCount());\r\n\r\nx.setDrawGridLines(false);\r\nx.setDrawLabels(false);\r\n```\r\n\r\nWith those calls removed, the chart updates for me (testing with a mock provider of the BPM data, shown below).\r\n\r\nI also modified the `addEntry` method to correctly remove entries as well, otherwise when you get to `maxVisibleEntries` it just keeps adding entries at the same x value. Instead, you should add them at `set.getXMax()+1`, like this:\r\n\r\n```java\r\nprivate void addEntry(final float bpm) {\r\n    runOnUiThread(() -&gt; {\r\n\r\n        LineData data = chart.getData();\r\n\r\n        if (data == null) {\r\n            data = new LineData();\r\n            chart.setData(data);\r\n        }\r\n\r\n        LineDataSet set = (LineDataSet)data.getDataSetByIndex(0);\r\n\r\n        if (set == null) {\r\n            set = createSet();\r\n            data.addDataSet(set);\r\n        }\r\n        \r\n        // Add the new entry to the chart - do not use\r\n        // set.getEntryCount() for the x value here or it just\r\n        // stays constant once you hit maxVisibleEntries\r\n        float x = set.getEntryCount() == 0 ? 0 : set.getXMax()+1;\r\n        data.addEntry(new Entry(x, bpm), 0);\r\n\r\n        int maxVisibleEntries = 30;\r\n        if (data.getEntryCount() &gt; maxVisibleEntries) {\r\n            data.removeEntry(0, 0);\r\n        }\r\n\r\n        // Set the X-axis range based on the number of entries \r\n        // you want to show\r\n        chart.setVisibleXRangeMaximum(maxVisibleEntries);\r\n        chart.setVisibleXRangeMinimum(10);\r\n\r\n        // Although it happens to work here, you don&#39;t want \r\n        // to use getEntryCount() here either. This sets the \r\n        // X position of the left side of the viewport, but once\r\n        // you hit maxVisibleEntries getEntryCount() is a constant\r\n        // even as the chart x value continues to change.\r\n        chart.moveViewToX(x - maxVisibleEntries);\r\n\r\n        // Notify the chart that the data has changed\r\n        data.notifyDataChanged();\r\n        chart.notifyDataSetChanged();\r\n    });\r\n}\r\n```\r\n\r\nI replaced the Udp dependency with the following mock to test the chart behavior with realtime data (a good idea to do when asking a question like this so someone else could replicate your problem with minimal dependencies):\r\n\r\n```java\r\nprivate final Handler handler = new Handler();\r\nprivate final Random random = new Random();\r\nprivate final Runnable postBeat = new Runnable() {\r\n    @Override\r\n    public void run() {\r\n        float bpm = 60 + 30*random.nextFloat();\r\n        addEntry(bpm);\r\n        handler.postDelayed(postBeat, 500);\r\n    }\r\n};\r\n\r\n@Override\r\nprotected void onResume() {\r\n    super.onResume();\r\n    handler.postDelayed(postBeat, 500);\r\n}\r\n\r\n@Override\r\nprotected void onPause() {\r\n    super.onPause();\r\n    handler.removeCallbacksAndMessages(null);\r\n}\r\n```","title":"MPandroid. The app is receiving data, but the chart is not updating","body":"<p>To get this to work, you need to remove the calls that set the x axis limits in <code>onCreate</code>, these do not appear to play nicely with the realtime chart.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// customize x-axis\nXAxis x = chart.getXAxis();\n\n// Remove these\n//x.setAxisMinimum(0);\n//x.setAxisMaximum(dataSet.getEntryCount());\n\nx.setDrawGridLines(false);\nx.setDrawLabels(false);\n</code></pre>\n<p>With those calls removed, the chart updates for me (testing with a mock provider of the BPM data, shown below).</p>\n<p>I also modified the <code>addEntry</code> method to correctly remove entries as well, otherwise when you get to <code>maxVisibleEntries</code> it just keeps adding entries at the same x value. Instead, you should add them at <code>set.getXMax()+1</code>, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void addEntry(final float bpm) {\n    runOnUiThread(() -&gt; {\n\n        LineData data = chart.getData();\n\n        if (data == null) {\n            data = new LineData();\n            chart.setData(data);\n        }\n\n        LineDataSet set = (LineDataSet)data.getDataSetByIndex(0);\n\n        if (set == null) {\n            set = createSet();\n            data.addDataSet(set);\n        }\n        \n        // Add the new entry to the chart - do not use\n        // set.getEntryCount() for the x value here or it just\n        // stays constant once you hit maxVisibleEntries\n        float x = set.getEntryCount() == 0 ? 0 : set.getXMax()+1;\n        data.addEntry(new Entry(x, bpm), 0);\n\n        int maxVisibleEntries = 30;\n        if (data.getEntryCount() &gt; maxVisibleEntries) {\n            data.removeEntry(0, 0);\n        }\n\n        // Set the X-axis range based on the number of entries \n        // you want to show\n        chart.setVisibleXRangeMaximum(maxVisibleEntries);\n        chart.setVisibleXRangeMinimum(10);\n\n        // Although it happens to work here, you don't want \n        // to use getEntryCount() here either. This sets the \n        // X position of the left side of the viewport, but once\n        // you hit maxVisibleEntries getEntryCount() is a constant\n        // even as the chart x value continues to change.\n        chart.moveViewToX(x - maxVisibleEntries);\n\n        // Notify the chart that the data has changed\n        data.notifyDataChanged();\n        chart.notifyDataSetChanged();\n    });\n}\n</code></pre>\n<p>I replaced the Udp dependency with the following mock to test the chart behavior with realtime data (a good idea to do when asking a question like this so someone else could replicate your problem with minimal dependencies):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Handler handler = new Handler();\nprivate final Random random = new Random();\nprivate final Runnable postBeat = new Runnable() {\n    @Override\n    public void run() {\n        float bpm = 60 + 30*random.nextFloat();\n        addEntry(bpm);\n        handler.postDelayed(postBeat, 500);\n    }\n};\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    handler.postDelayed(postBeat, 500);\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    handler.removeCallbacksAndMessages(null);\n}\n</code></pre>\n"}],"owner":{"account_id":28427890,"reputation":11,"user_id":21748969,"display_name":"Nirvana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682560086,"creation_date":1682547617,"question_id":76115492,"body_markdown":"```\r\npackage com.example.communication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\nimport androidx.core.content.ContextCompat;\r\nimport com.github.mikephil.charting.charts.LineChart;\r\nimport com.github.mikephil.charting.components.Legend;\r\nimport com.github.mikephil.charting.components.XAxis;\r\nimport com.github.mikephil.charting.components.YAxis;\r\nimport com.github.mikephil.charting.data.Entry;\r\nimport com.github.mikephil.charting.data.LineData;\r\nimport com.github.mikephil.charting.data.LineDataSet;\r\nimport com.github.mikephil.charting.interfaces.datasets.ILineDataSet;\r\n\r\npublic class MainActivity extends AppCompatActivity implements UdpReceiver.OnMessageReceivedListener {\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n    private TextView messageTextView;\r\n    private UdpReceiver udpReceiver;\r\n\r\n    private LineChart chart;\r\n    private final int count = 0;\r\n    private LineDataSet dataSet;\r\n    private float lastX = 0;\r\n\r\n    private static final String SERVER_IP = &quot;0.0.0.0&quot;; // Replace with your tablet IP\r\n    private static final int SERVER_PORT = 8888;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        messageTextView = findViewById(R.id.messageTextView);\r\n\r\n        chart = findViewById(R.id.chart);\r\n\r\n        // enable description text\r\n        chart.getDescription().setEnabled(true);\r\n        chart.getDescription().setText(&quot;Beats Per Minute&quot;);\r\n\r\n        // enable touch gestures\r\n        chart.setTouchEnabled(true);\r\n\r\n        // enable scaling and dragging\r\n        chart.setDragEnabled(true);\r\n        chart.setScaleEnabled(true);\r\n\r\n        // if disabled, scaling can be done on x- and y-axis separately\r\n        chart.setPinchZoom(true);\r\n\r\n        // set an empty data set\r\n        chart.setData(new LineData());\r\n\r\n        // create data set and assign to dataSet variable\r\n        dataSet = createSet();\r\n\r\n        // add dataSet to chart\r\n        chart.getData().addDataSet(dataSet);\r\n\r\n        // customize x-axis\r\n        XAxis x = chart.getXAxis();\r\n        x.setAxisMinimum(0);\r\n        x.setAxisMaximum(dataSet.getEntryCount()); // to increase the max\r\n        x.setDrawGridLines(false);\r\n        x.setDrawLabels(false);\r\n\r\n        // customize left y-axis\r\n        YAxis leftAxis = chart.getAxisLeft();\r\n        leftAxis.setAxisMinimum(0);\r\n        leftAxis.setAxisMaximum(220);\r\n        leftAxis.setDrawGridLines(true);\r\n        leftAxis.setDrawZeroLine(true);\r\n        leftAxis.setZeroLineColor(Color.GRAY);\r\n        leftAxis.setGranularityEnabled(true);\r\n\r\n        // customize right y-axis\r\n        chart.getAxisRight().setEnabled(false);\r\n\r\n        // customize legend\r\n        Legend legend = chart.getLegend();\r\n        legend.setForm(Legend.LegendForm.LINE);\r\n\r\n        // add gradient fill to line chart\r\n        Drawable drawable = ContextCompat.getDrawable(this, R.drawable.gradient_fill);\r\n        chart.setBackground(drawable);\r\n\r\n        // Refresh the chart\r\n        chart.invalidate();\r\n\r\n        udpReceiver = new UdpReceiver(this);\r\n        udpReceiver.startReceiver(SERVER_IP, SERVER_PORT);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n\r\n        udpReceiver.stopReceiver();\r\n    }\r\n\r\n\r\n\r\n    private void addEntry(final float bpm) {\r\n        runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                LineData data = chart.getData();\r\n\r\n                if (data == null) {\r\n                    data = new LineData();\r\n                    chart.setData(data);\r\n                }\r\n\r\n                ILineDataSet set = data.getDataSetByIndex(0);\r\n\r\n                if (set == null) {\r\n                    set = createSet();\r\n                    data.addDataSet(set);\r\n                }\r\n\r\n                // Add the new entry to the chart\r\n                data.addEntry(new Entry(set.getEntryCount(), bpm), 0);\r\n\r\n                // Set the X-axis range based on the number of entries in the chart\r\n                chart.setVisibleXRangeMaximum(dataSet.getEntryCount()); //to change max\r\n                chart.setVisibleXRangeMinimum(20);\r\n                chart.moveViewToX(data.getEntryCount() - 1);\r\n\r\n                // Notify the chart that the data has changed\r\n                data.notifyDataChanged();\r\n                chart.notifyDataSetChanged();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n    private LineDataSet createSet() {\r\n        LineDataSet set = new LineDataSet(null, &quot;Beats Per Minute&quot;);\r\n        set.setLineWidth(2f);\r\n        set.setDrawCircles(false);\r\n        set.setDrawValues(false);\r\n        set.setColor(Color.WHITE);\r\n        set.setMode(LineDataSet.Mode.LINEAR);\r\n        return set;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onMessageReceived(String message) {\r\n        //String[] data = message.split(&quot;,&quot;);\r\n        String[] data = new String[2];\r\n        data[0] = &quot;&quot;;\r\n        data[1] = &quot;&quot;;\r\n        if (message.contains(&quot;,&quot;)) {\r\n            data = message.split(&quot;,&quot;);\r\n        }\r\n        int irValue = 0;\r\n        float beatsPerMinute = 0;\r\n        int beatAvg = 0;\r\n\r\n\r\n        for (String item : data) {\r\n            if (item.startsWith(&quot;IR=&quot;)) {\r\n                irValue = Integer.parseInt(item.substring(3));\r\n            } else if (item.startsWith(&quot;BPM=&quot;)) {\r\n                beatsPerMinute = Float.parseFloat(item.substring(4));\r\n                if (beatsPerMinute &gt;= 60 &amp;&amp; beatsPerMinute &lt;= 100) {\r\n                    addEntry(beatsPerMinute);\r\n                }\r\n            }\r\n                /*\r\n            } else if (item.startsWith(&quot;Avg BPM=&quot;)) {\r\n                beatAvg = Integer.parseInt(item.substring(4));\r\n            }\r\n                 */\r\n\r\n            final int finalIrValue = irValue;\r\n            final float finalBeatsPerMinute = beatsPerMinute;\r\n            final int finalBeatAvg = beatAvg;\r\n\r\n            runOnUiThread(() -&gt; {\r\n                messageTextView.setText(&quot;IR Value: &quot; + finalIrValue +\r\n                        &quot;\\nBeats Per Minute: &quot; + finalBeatsPerMinute +\r\n                        &quot;\\nBeat Average: &quot; + finalBeatAvg);\r\n\r\n                // Add the new data to the chart\r\n                LineData chartData = chart.getData();\r\n\r\n                if (chartData != null) {\r\n                    ILineDataSet set = chartData.getDataSetByIndex(0);\r\n\r\n                    if (set == null) {\r\n                        set = createSet();\r\n                        chartData.addDataSet(set);\r\n                    }\r\n\r\n\r\n                    chartData.addEntry(new Entry(set.getEntryCount(), finalBeatsPerMinute), 0);\r\n\r\n                    // Limit the number of visible entries\r\n                    int maxVisibleEntries = 10;\r\n                    if (chartData.getEntryCount() &gt; maxVisibleEntries) {\r\n                        chartData.removeEntry(0, 0);\r\n                    }\r\n\r\n                    // Notify chart that data has changed\r\n                    chartData.notifyDataChanged();\r\n                    chart.notifyDataSetChanged();\r\n                    chart.setVisibleXRangeMaximum(maxVisibleEntries);\r\n                    chart.moveViewToX(chartData.getEntryCount() - 1);\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nFor the code above, I am using MPandroid to display the real time data using UDP from a heart rate sensor on a line chart, the app is receiving the BPM but not displaying. The chart is visible, but the BPM (Beats Per Minute) line on the chart is not shown, but the data has been received successfully on the UDP channel, but missing the line on the chart to display the BPM value. What would&#39;ve been the issue?\r\n\r\n                     ","title":"MPandroid. The app is receiving data, but the chart is not updating","body":"<pre><code>package com.example.communication;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.graphics.Color;\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport androidx.core.content.ContextCompat;\nimport com.github.mikephil.charting.charts.LineChart;\nimport com.github.mikephil.charting.components.Legend;\nimport com.github.mikephil.charting.components.XAxis;\nimport com.github.mikephil.charting.components.YAxis;\nimport com.github.mikephil.charting.data.Entry;\nimport com.github.mikephil.charting.data.LineData;\nimport com.github.mikephil.charting.data.LineDataSet;\nimport com.github.mikephil.charting.interfaces.datasets.ILineDataSet;\n\npublic class MainActivity extends AppCompatActivity implements UdpReceiver.OnMessageReceivedListener {\n    private static final String TAG = &quot;MainActivity&quot;;\n    private TextView messageTextView;\n    private UdpReceiver udpReceiver;\n\n    private LineChart chart;\n    private final int count = 0;\n    private LineDataSet dataSet;\n    private float lastX = 0;\n\n    private static final String SERVER_IP = &quot;0.0.0.0&quot;; // Replace with your tablet IP\n    private static final int SERVER_PORT = 8888;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        messageTextView = findViewById(R.id.messageTextView);\n\n        chart = findViewById(R.id.chart);\n\n        // enable description text\n        chart.getDescription().setEnabled(true);\n        chart.getDescription().setText(&quot;Beats Per Minute&quot;);\n\n        // enable touch gestures\n        chart.setTouchEnabled(true);\n\n        // enable scaling and dragging\n        chart.setDragEnabled(true);\n        chart.setScaleEnabled(true);\n\n        // if disabled, scaling can be done on x- and y-axis separately\n        chart.setPinchZoom(true);\n\n        // set an empty data set\n        chart.setData(new LineData());\n\n        // create data set and assign to dataSet variable\n        dataSet = createSet();\n\n        // add dataSet to chart\n        chart.getData().addDataSet(dataSet);\n\n        // customize x-axis\n        XAxis x = chart.getXAxis();\n        x.setAxisMinimum(0);\n        x.setAxisMaximum(dataSet.getEntryCount()); // to increase the max\n        x.setDrawGridLines(false);\n        x.setDrawLabels(false);\n\n        // customize left y-axis\n        YAxis leftAxis = chart.getAxisLeft();\n        leftAxis.setAxisMinimum(0);\n        leftAxis.setAxisMaximum(220);\n        leftAxis.setDrawGridLines(true);\n        leftAxis.setDrawZeroLine(true);\n        leftAxis.setZeroLineColor(Color.GRAY);\n        leftAxis.setGranularityEnabled(true);\n\n        // customize right y-axis\n        chart.getAxisRight().setEnabled(false);\n\n        // customize legend\n        Legend legend = chart.getLegend();\n        legend.setForm(Legend.LegendForm.LINE);\n\n        // add gradient fill to line chart\n        Drawable drawable = ContextCompat.getDrawable(this, R.drawable.gradient_fill);\n        chart.setBackground(drawable);\n\n        // Refresh the chart\n        chart.invalidate();\n\n        udpReceiver = new UdpReceiver(this);\n        udpReceiver.startReceiver(SERVER_IP, SERVER_PORT);\n    }\n\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n\n        udpReceiver.stopReceiver();\n    }\n\n\n\n    private void addEntry(final float bpm) {\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                LineData data = chart.getData();\n\n                if (data == null) {\n                    data = new LineData();\n                    chart.setData(data);\n                }\n\n                ILineDataSet set = data.getDataSetByIndex(0);\n\n                if (set == null) {\n                    set = createSet();\n                    data.addDataSet(set);\n                }\n\n                // Add the new entry to the chart\n                data.addEntry(new Entry(set.getEntryCount(), bpm), 0);\n\n                // Set the X-axis range based on the number of entries in the chart\n                chart.setVisibleXRangeMaximum(dataSet.getEntryCount()); //to change max\n                chart.setVisibleXRangeMinimum(20);\n                chart.moveViewToX(data.getEntryCount() - 1);\n\n                // Notify the chart that the data has changed\n                data.notifyDataChanged();\n                chart.notifyDataSetChanged();\n            }\n        });\n    }\n\n\n\n\n    private LineDataSet createSet() {\n        LineDataSet set = new LineDataSet(null, &quot;Beats Per Minute&quot;);\n        set.setLineWidth(2f);\n        set.setDrawCircles(false);\n        set.setDrawValues(false);\n        set.setColor(Color.WHITE);\n        set.setMode(LineDataSet.Mode.LINEAR);\n        return set;\n    }\n\n\n    @Override\n    public void onMessageReceived(String message) {\n        //String[] data = message.split(&quot;,&quot;);\n        String[] data = new String[2];\n        data[0] = &quot;&quot;;\n        data[1] = &quot;&quot;;\n        if (message.contains(&quot;,&quot;)) {\n            data = message.split(&quot;,&quot;);\n        }\n        int irValue = 0;\n        float beatsPerMinute = 0;\n        int beatAvg = 0;\n\n\n        for (String item : data) {\n            if (item.startsWith(&quot;IR=&quot;)) {\n                irValue = Integer.parseInt(item.substring(3));\n            } else if (item.startsWith(&quot;BPM=&quot;)) {\n                beatsPerMinute = Float.parseFloat(item.substring(4));\n                if (beatsPerMinute &gt;= 60 &amp;&amp; beatsPerMinute &lt;= 100) {\n                    addEntry(beatsPerMinute);\n                }\n            }\n                /*\n            } else if (item.startsWith(&quot;Avg BPM=&quot;)) {\n                beatAvg = Integer.parseInt(item.substring(4));\n            }\n                 */\n\n            final int finalIrValue = irValue;\n            final float finalBeatsPerMinute = beatsPerMinute;\n            final int finalBeatAvg = beatAvg;\n\n            runOnUiThread(() -&gt; {\n                messageTextView.setText(&quot;IR Value: &quot; + finalIrValue +\n                        &quot;\\nBeats Per Minute: &quot; + finalBeatsPerMinute +\n                        &quot;\\nBeat Average: &quot; + finalBeatAvg);\n\n                // Add the new data to the chart\n                LineData chartData = chart.getData();\n\n                if (chartData != null) {\n                    ILineDataSet set = chartData.getDataSetByIndex(0);\n\n                    if (set == null) {\n                        set = createSet();\n                        chartData.addDataSet(set);\n                    }\n\n\n                    chartData.addEntry(new Entry(set.getEntryCount(), finalBeatsPerMinute), 0);\n\n                    // Limit the number of visible entries\n                    int maxVisibleEntries = 10;\n                    if (chartData.getEntryCount() &gt; maxVisibleEntries) {\n                        chartData.removeEntry(0, 0);\n                    }\n\n                    // Notify chart that data has changed\n                    chartData.notifyDataChanged();\n                    chart.notifyDataSetChanged();\n                    chart.setVisibleXRangeMaximum(maxVisibleEntries);\n                    chart.moveViewToX(chartData.getEntryCount() - 1);\n                }\n            });\n        }\n\n    }\n\n}\n\n\n</code></pre>\n<p>For the code above, I am using MPandroid to display the real time data using UDP from a heart rate sensor on a line chart, the app is receiving the BPM but not displaying. The chart is visible, but the BPM (Beats Per Minute) line on the chart is not shown, but the data has been received successfully on the UDP channel, but missing the line on the chart to display the BPM value. What would've been the issue?</p>\n"},{"tags":["java","maven","spring-security","gwt","gwt-rpc"],"comments":[{"owner":{"account_id":2168226,"reputation":1449,"user_id":1920835,"display_name":"Robert Newton"},"score":1,"creation_date":1682481652,"post_id":76068488,"comment_id":134221166,"body_markdown":"If this spring library is being used in the client, the maven artifact for the spring library must include the source files (.java) so that GWT can compile the source.  Or if the source is in a separate artifact then that must be added as a dependency too.","body":"If this spring library is being used in the client, the maven artifact for the spring library must include the source files (.java) so that GWT can compile the source.  Or if the source is in a separate artifact then that must be added as a dependency too."},{"owner":{"account_id":11645284,"reputation":75,"user_id":8528405,"display_name":"Oscar Londo&#241;o"},"score":0,"creation_date":1682545132,"post_id":76068488,"comment_id":134235066,"body_markdown":"Thanks, @RobertNewton, I really appreciate your response.\n\nI added the &quot;sources&quot; as a dependency in the pom.xml of both client and model modules, but the error message still appears. Is there anything else I should add/modify?\n\n`\n&lt;dependency&gt;\n\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n\t&lt;version&gt;${spring-security-version}&lt;/version&gt;\n\t&lt;classifier&gt;sources&lt;/classifier&gt;\n&lt;/dependency&gt;\n`","body":"Thanks, @RobertNewton, I really appreciate your response.  I added the &quot;sources&quot; as a dependency in the pom.xml of both client and model modules, but the error message still appears. Is there anything else I should add/modify?  ` &lt;dependency&gt; \t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt; \t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt; \t&lt;version&gt;${spring-security-version}&lt;/version&gt; \t&lt;classifier&gt;sources&lt;/classifier&gt; &lt;/dependency&gt; `"}],"answers":[{"tags":[],"owner":{"account_id":2168226,"reputation":1449,"user_id":1920835,"display_name":"Robert Newton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682559580,"creation_date":1682559580,"answer_id":76116169,"question_id":76068488,"body_markdown":"In your GWT (*.gwt.xml) module file, you need an `&lt;inherits&gt;` tag for this spring dependency also.\r\n\r\nThis spring library probably does not come with its own GWT module file though, so you will need to create your own.  In your client project you could create a package such as `org.springframework.security`, create a GWT module file for the spring library and put it in the package.  Then you can inherit it in your main GWT module file\r\n\r\nRefer to this question/answer:\r\nhttps://stackoverflow.com/a/70538165/1920835","title":"No source code is available for type org.springframework.security.core.GrantedAuthority","body":"<p>In your GWT (*.gwt.xml) module file, you need an <code>&lt;inherits&gt;</code> tag for this spring dependency also.</p>\n<p>This spring library probably does not come with its own GWT module file though, so you will need to create your own.  In your client project you could create a package such as <code>org.springframework.security</code>, create a GWT module file for the spring library and put it in the package.  Then you can inherit it in your main GWT module file</p>\n<p>Refer to this question/answer:\n<a href=\"https://stackoverflow.com/a/70538165/1920835\">https://stackoverflow.com/a/70538165/1920835</a></p>\n"}],"owner":{"account_id":11645284,"reputation":75,"user_id":8528405,"display_name":"Oscar Londo&#241;o"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682559580,"creation_date":1682027242,"question_id":76068488,"body_markdown":" - I have a legacy multi-module GWT project.\r\n - One of the modules contains the DTO and Enum classes.\r\n - One of the DTO classes extends the `org.springframework.security.core.GrantedAuthority` class, so in the pom.xml it has the maven *spring-security-core* dependency of *org.springframework.security*.\r\n - When I tried to run the `package` command, i got the message: \r\n\r\n\r\n&gt; ***No source code is available for type***\r\n&gt; ***org.springframework.security.core.GrantedAuthority; did you forget to***\r\n&gt; ***inherit a required module?***\r\n - I tried to apply solutions that were recommended in some posts that I found with similar messages, I even found [one that related the same error][1], but none of those solutions worked for me.\r\n\r\n\r\n**Could you please help me figure out what is causing this error and how I could fix it?**\r\n____\r\n\r\nTo reproduce the issue you can follow the steps I did:\r\n\r\n 1. I used [GWT Archetypes][2] to create a basic project called `GWTRPCModular`; and:\r\n\t- JDK 17 (but also I tried it with 8)\r\n\t- Eclipse 2023-03 \r\n\t- Apache Maven 3.8.6\r\n\t- GWT 2.10.0\r\n\t\r\n 3. The project was generated with 3 modules: `GWTRPCModular-client`, `GWTRPCModular-server` and `GWTRPCModular-shared`.\r\n 4. I added a module called `GWTRPCModular-model` for the DTOs *(similar to my legacy project)* and in the pom.xml I added the necessary dependencies.\r\n 5. I included the `&lt;source path=&quot;model&quot; /&gt;` to the *.gwt.xml file.\r\n 6. I created the `UserSessionDTO` class\r\n```\r\nimport java.util.Collection;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.userdetails.User;\r\n\r\npublic class UserSessionDTO extends User {\r\n\r\n\tprivate static final long serialVersionUID = -6391317902265663080L;\r\n\r\n\tpublic UserSessionDTO(String username, String password, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n\t\tsuper(username, password, authorities);\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n}\r\n```\r\n\r\n6. I ran the `mvn clean install`\r\n7. Finally I ran the `mvn package` and the message appeared:\r\n```\r\n...\r\n[INFO] --- gwt-maven-plugin:1.0.1:compile (default-compile) GWTRPCModular-client ---\r\n[INFO] Compiling module com.foo.gwtmodular.App\r\n[INFO]    Tracing compile failure path for type &#39;com.foo.gwtmodular.model.dto.UserSessionDTO&#39;\r\n[INFO]       [ERROR] Errors in &#39;com/foo/gwtmodular/model/dto/UserSessionDTO.java&#39;\r\n[INFO]          [ERROR] Line 8: No source code is available for type org.springframework.security.core.userdetails.User; did you forget to inherit a required module?\r\n[INFO]          [ERROR] Line 12: No source code is available for type org.springframework.security.core.GrantedAuthority; did you forget to inherit a required module?\r\n...  \r\n```\r\nIf you need anything else to review this case, please let me know.\r\n\r\n**I thank you in advance for any help you can provide!**\r\n\r\n\r\n  [1]: https://groups.google.com/g/google-web-toolkit/c/-pTzWanmFv0\r\n  [2]: https://github.com/tbroyer/gwt-maven-archetypes/","title":"No source code is available for type org.springframework.security.core.GrantedAuthority","body":"<ul>\n<li>I have a legacy multi-module GWT project.</li>\n<li>One of the modules contains the DTO and Enum classes.</li>\n<li>One of the DTO classes extends the <code>org.springframework.security.core.GrantedAuthority</code> class, so in the pom.xml it has the maven <em>spring-security-core</em> dependency of <em>org.springframework.security</em>.</li>\n<li>When I tried to run the <code>package</code> command, i got the message:</li>\n</ul>\n<blockquote>\n<p><em><strong>No source code is available for type</strong></em>\n<em><strong>org.springframework.security.core.GrantedAuthority; did you forget to</strong></em>\n<em><strong>inherit a required module?</strong></em></p>\n</blockquote>\n<ul>\n<li>I tried to apply solutions that were recommended in some posts that I found with similar messages, I even found <a href=\"https://groups.google.com/g/google-web-toolkit/c/-pTzWanmFv0\" rel=\"nofollow noreferrer\">one that related the same error</a>, but none of those solutions worked for me.</li>\n</ul>\n<p><strong>Could you please help me figure out what is causing this error and how I could fix it?</strong></p>\n<hr />\n<p>To reproduce the issue you can follow the steps I did:</p>\n<ol>\n<li><p>I used <a href=\"https://github.com/tbroyer/gwt-maven-archetypes/\" rel=\"nofollow noreferrer\">GWT Archetypes</a> to create a basic project called <code>GWTRPCModular</code>; and:</p>\n<ul>\n<li>JDK 17 (but also I tried it with 8)</li>\n<li>Eclipse 2023-03</li>\n<li>Apache Maven 3.8.6</li>\n<li>GWT 2.10.0</li>\n</ul>\n</li>\n<li><p>The project was generated with 3 modules: <code>GWTRPCModular-client</code>, <code>GWTRPCModular-server</code> and <code>GWTRPCModular-shared</code>.</p>\n</li>\n<li><p>I added a module called <code>GWTRPCModular-model</code> for the DTOs <em>(similar to my legacy project)</em> and in the pom.xml I added the necessary dependencies.</p>\n</li>\n<li><p>I included the <code>&lt;source path=&quot;model&quot; /&gt;</code> to the *.gwt.xml file.</p>\n</li>\n<li><p>I created the <code>UserSessionDTO</code> class</p>\n</li>\n</ol>\n<pre><code>import java.util.Collection;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.User;\n\npublic class UserSessionDTO extends User {\n\n    private static final long serialVersionUID = -6391317902265663080L;\n\n    public UserSessionDTO(String username, String password, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        super(username, password, authorities);\n        // TODO Auto-generated constructor stub\n    }\n}\n</code></pre>\n<ol start=\"6\">\n<li>I ran the <code>mvn clean install</code></li>\n<li>Finally I ran the <code>mvn package</code> and the message appeared:</li>\n</ol>\n<pre><code>...\n[INFO] --- gwt-maven-plugin:1.0.1:compile (default-compile) GWTRPCModular-client ---\n[INFO] Compiling module com.foo.gwtmodular.App\n[INFO]    Tracing compile failure path for type 'com.foo.gwtmodular.model.dto.UserSessionDTO'\n[INFO]       [ERROR] Errors in 'com/foo/gwtmodular/model/dto/UserSessionDTO.java'\n[INFO]          [ERROR] Line 8: No source code is available for type org.springframework.security.core.userdetails.User; did you forget to inherit a required module?\n[INFO]          [ERROR] Line 12: No source code is available for type org.springframework.security.core.GrantedAuthority; did you forget to inherit a required module?\n...  \n</code></pre>\n<p>If you need anything else to review this case, please let me know.</p>\n<p><strong>I thank you in advance for any help you can provide!</strong></p>\n"},{"tags":["java","selenium-webdriver","assert"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":1,"creation_date":1682483116,"post_id":76107118,"comment_id":134221287,"body_markdown":"Are you using TestNG or JUnit or ? I would look at their docs and see if they either have one or you can extend something.","body":"Are you using TestNG or JUnit or ? I would look at their docs and see if they either have one or you can extend something."},{"owner":{"account_id":8178335,"reputation":89,"user_id":6156391,"display_name":"Divya"},"score":0,"creation_date":1682493053,"post_id":76107118,"comment_id":134222842,"body_markdown":"We use TestNG. I made a correction. The Class having the test extends a Basetest class.\nMy question is how can I use Soft Assert when we have Asserts spread across multiple methods thats in other class. Can I create a SoftAssert obj in the test class and pass it as a parameter when calling the methods to verify? \nIs this a good way of doing the check or if there is a better way of handling it","body":"We use TestNG. I made a correction. The Class having the test extends a Basetest class. My question is how can I use Soft Assert when we have Asserts spread across multiple methods thats in other class. Can I create a SoftAssert obj in the test class and pass it as a parameter when calling the methods to verify?  Is this a good way of doing the check or if there is a better way of handling it"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1682529959,"post_id":76107118,"comment_id":134232232,"body_markdown":"There&#39;s a lot of existing documentation on how to implement soft asserts in TestNG. I would suggest you do some googling and reading and find the method that works best for you.","body":"There&#39;s a lot of existing documentation on how to implement soft asserts in TestNG. I would suggest you do some googling and reading and find the method that works best for you."}],"answers":[{"tags":[],"owner":{"account_id":8178335,"reputation":89,"user_id":6156391,"display_name":"Divya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682558657,"creation_date":1682558657,"answer_id":76116117,"question_id":76107118,"body_markdown":"I was able to achieve this\r\n```\r\npublic class TestClass extends BaseTest {\r\n\r\n@Test(description=&quot;test to verify if the keyboard and mouse attributes are generated)\r\npublic void testKeyboardMouseAttributes(String os, String browser, String device){\r\nSoftAssert sftp = new SoftAssert();\r\n//User performs some keyboard and mouse actions\r\nInterfaceToVerifyAttributes verifyAttr = new InterfaceToVerifyAttributes(os,browser,device,sftp);\r\nsftp = verifyAttr.keyboardAttributes(sftp);\r\n}\r\nsftp.assertAll();\r\n}\r\n\r\npublic class InterfaceToVerifyAttributes {\r\n    private String os, browser, device;\r\nSoftAssert sftp;\r\n    public InterfaceToVerifyAttributes(String os, String browser, String device, SoftAssert sftp) {\r\n        this.os = os;\r\n        this.browser = browser;\r\n        this.device = device;\r\n        this.sftp = sftp;\r\n    }\r\npublic SoftAssert keyboardAttributes(SoftAssert sftp){\r\nVerifyAttributes verifyAttr = new VerifyAttributes( os, browser, device, sftp);\r\n        sftp = verifyAttr.verifyUnknownSession(sftp);\r\n\r\n}\r\n\r\nreturn sftp;\r\n}\r\n\r\npublic class VerifyAttributes{\r\nprivate String os, browser, device;\r\nSoftAssert sftp;\r\n\r\n public VerifyAttributes(String os, String browser, String device, SoftAssert sftp) {\r\n        this.os = os;\r\n        this.browser = browser;\r\n        this.device = device;\r\n        this.sftp = sftp;\r\n}\r\n\r\npublic SoftAssert verifyUnknownSession(SoftAssert sftp) {\r\n            sftp.assertNotNull(api.getSpecifiedParameter(&quot;unknown_session&quot;),\r\n                    &quot; ** should be unknown session ** &quot; + os + &quot; &quot; + browser);\r\n}\r\n\r\nreturn sftp;\r\n}\r\n```","title":"Can I pass Soft Assert object as a method parameter?","body":"<p>I was able to achieve this</p>\n<pre><code>public class TestClass extends BaseTest {\n\n@Test(description=&quot;test to verify if the keyboard and mouse attributes are generated)\npublic void testKeyboardMouseAttributes(String os, String browser, String device){\nSoftAssert sftp = new SoftAssert();\n//User performs some keyboard and mouse actions\nInterfaceToVerifyAttributes verifyAttr = new InterfaceToVerifyAttributes(os,browser,device,sftp);\nsftp = verifyAttr.keyboardAttributes(sftp);\n}\nsftp.assertAll();\n}\n\npublic class InterfaceToVerifyAttributes {\n    private String os, browser, device;\nSoftAssert sftp;\n    public InterfaceToVerifyAttributes(String os, String browser, String device, SoftAssert sftp) {\n        this.os = os;\n        this.browser = browser;\n        this.device = device;\n        this.sftp = sftp;\n    }\npublic SoftAssert keyboardAttributes(SoftAssert sftp){\nVerifyAttributes verifyAttr = new VerifyAttributes( os, browser, device, sftp);\n        sftp = verifyAttr.verifyUnknownSession(sftp);\n\n}\n\nreturn sftp;\n}\n\npublic class VerifyAttributes{\nprivate String os, browser, device;\nSoftAssert sftp;\n\n public VerifyAttributes(String os, String browser, String device, SoftAssert sftp) {\n        this.os = os;\n        this.browser = browser;\n        this.device = device;\n        this.sftp = sftp;\n}\n\npublic SoftAssert verifyUnknownSession(SoftAssert sftp) {\n            sftp.assertNotNull(api.getSpecifiedParameter(&quot;unknown_session&quot;),\n                    &quot; ** should be unknown session ** &quot; + os + &quot; &quot; + browser);\n}\n\nreturn sftp;\n}\n</code></pre>\n"}],"owner":{"account_id":8178335,"reputation":89,"user_id":6156391,"display_name":"Divya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682558657,"creation_date":1682482489,"question_id":76107118,"body_markdown":"The existing Framework is designed in the below way. We assert a few checks in the VerifyAttributes. Question is I want to change the Assert to soft Assert so the test does not stop on failure of a single Assertion and the test continues.\r\nHow can I use a single soft assertion object for all of the checks? Can I create a soft assert in the parent class within the test and pass it as an attribute when calling the methods? \r\n```\r\npublic class TestClass extends BaseTest {\r\n\r\n@Test(description=&quot;test to verify if the keyboard and mouse attributes are generated)\r\npublic void testKeyboardMouseAttributes(String os, String browser, String device){\r\n//User performs some keyboard and mouse actions\r\nInterfaceToVerifyAttributes verifyAttr = new InterfaceToVerifyAttributes(&quot;testKeyboardMouseAttributes&quot;,os,browser,device);\r\nverifyAttr.keyboardAttributes();\r\n}\r\n}\r\n\r\npublic class InterfaceToVerifyAttributes {\r\n    private String os, browser, device, testcase;\r\n    public InterfaceToVerifyAttributes(String tc, String os, String browser, String device) {\r\n        this.os = os;\r\n        this.browser = browser;\r\n        this.device = device;\r\n        this.testcase=tc;\r\n    }\r\npublic void keyboardAttributes(){\r\nVerifyAttributes verifyAttr = new VerifyAttributes(testcase, os, browser, device);\r\n        verifyAttr.verifyUnknownSession(false);\r\n        verifyAttr.keyboardAttributes();\r\n}}\r\n\r\npublic class VerifyAttributes{\r\nprivate String os, browser, device, orgId;\r\n//getters and setters\r\n\r\npublic void verifyUnknownSession(boolean expected) {\r\n            Assert.assertNotNull(api.getSpecifiedParameter(&quot;unknown_session&quot;),\r\n                    &quot; ** should be unknown session ** &quot; + testcase + &quot; &quot; + os + &quot; &quot; + browser + &quot; org_id &quot; + orgId);\r\n}\r\npublic void verifyKeyboardPageElements() {\r\n        Assert.assertNotNull(//attribute is present);\r\nAssert.assertTrue(//attribute value is equal to something);\r\n//A few other assertions\r\n      }\r\npublic void verifyMouseElements() {\r\n        Assert.assertNotNull(//attribute is present);\r\nAssert.assertTrue(//attribute value is equal to something);\r\n//A few other assertions\r\n      }\r\npublic void verifyPasswordType() { //This method is not used but is present\r\n        Assert.assertNotNull(//attribute is present);\r\nAssert.assertTrue(//attribute value is equal to something);\r\n//A few other assertions\r\n      }\r\n\r\n}\r\n\r\n```","title":"Can I pass Soft Assert object as a method parameter?","body":"<p>The existing Framework is designed in the below way. We assert a few checks in the VerifyAttributes. Question is I want to change the Assert to soft Assert so the test does not stop on failure of a single Assertion and the test continues.\nHow can I use a single soft assertion object for all of the checks? Can I create a soft assert in the parent class within the test and pass it as an attribute when calling the methods?</p>\n<pre><code>public class TestClass extends BaseTest {\n\n@Test(description=&quot;test to verify if the keyboard and mouse attributes are generated)\npublic void testKeyboardMouseAttributes(String os, String browser, String device){\n//User performs some keyboard and mouse actions\nInterfaceToVerifyAttributes verifyAttr = new InterfaceToVerifyAttributes(&quot;testKeyboardMouseAttributes&quot;,os,browser,device);\nverifyAttr.keyboardAttributes();\n}\n}\n\npublic class InterfaceToVerifyAttributes {\n    private String os, browser, device, testcase;\n    public InterfaceToVerifyAttributes(String tc, String os, String browser, String device) {\n        this.os = os;\n        this.browser = browser;\n        this.device = device;\n        this.testcase=tc;\n    }\npublic void keyboardAttributes(){\nVerifyAttributes verifyAttr = new VerifyAttributes(testcase, os, browser, device);\n        verifyAttr.verifyUnknownSession(false);\n        verifyAttr.keyboardAttributes();\n}}\n\npublic class VerifyAttributes{\nprivate String os, browser, device, orgId;\n//getters and setters\n\npublic void verifyUnknownSession(boolean expected) {\n            Assert.assertNotNull(api.getSpecifiedParameter(&quot;unknown_session&quot;),\n                    &quot; ** should be unknown session ** &quot; + testcase + &quot; &quot; + os + &quot; &quot; + browser + &quot; org_id &quot; + orgId);\n}\npublic void verifyKeyboardPageElements() {\n        Assert.assertNotNull(//attribute is present);\nAssert.assertTrue(//attribute value is equal to something);\n//A few other assertions\n      }\npublic void verifyMouseElements() {\n        Assert.assertNotNull(//attribute is present);\nAssert.assertTrue(//attribute value is equal to something);\n//A few other assertions\n      }\npublic void verifyPasswordType() { //This method is not used but is present\n        Assert.assertNotNull(//attribute is present);\nAssert.assertTrue(//attribute value is equal to something);\n//A few other assertions\n      }\n\n}\n\n</code></pre>\n"},{"tags":["javascript","java","android","web-crawler"],"answers":[{"tags":[],"owner":{"display_name":"user5734311"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1479411909,"creation_date":1479411909,"answer_id":40663727,"question_id":40662921,"body_markdown":"Got it to work. Two small problems:\r\n\r\n 1. You&#39;re making a UI call in the function called by JavaScript. That&#39;s not allowed.\r\n    Replace `MainActivity.count.setText(occ);` with \r\n\r\n        runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                count.setText(String.valueOf(occ));\r\n            }\r\n        });\r\n 2. This code already fixes the 2nd issue: calling `setText(int)` expects a resource ID, thus you need to convert to a String first.\r\n\r\n(You need to also remove `static` from your declaration of `count`)","title":"Extract text from a Webview","body":"<p>Got it to work. Two small problems:</p>\n\n<ol>\n<li><p>You're making a UI call in the function called by JavaScript. That's not allowed.\nReplace <code>MainActivity.count.setText(occ);</code> with </p>\n\n<pre><code>runOnUiThread(new Runnable() {\n    @Override\n    public void run() {\n        count.setText(String.valueOf(occ));\n    }\n});\n</code></pre></li>\n<li>This code already fixes the 2nd issue: calling <code>setText(int)</code> expects a resource ID, thus you need to convert to a String first.</li>\n</ol>\n\n<p>(You need to also remove <code>static</code> from your declaration of <code>count</code>)</p>\n"},{"tags":[],"owner":{"account_id":22687542,"reputation":271,"user_id":16856898,"display_name":"RatherBeSailing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682555913,"creation_date":1682555913,"answer_id":76115979,"question_id":40662921,"body_markdown":"While the provided code is correct Kotlin supports a simpler version\r\n\r\n```lang-kt\r\nval webView = findViewById&lt;WebView&gt;(R.id.webView)\r\nwebView.getSettings().setJavaScriptEnabled(true)\r\nwebView.webViewClient = object : WebViewClient() {\r\n    override fun onPageFinished(view: WebView?, url: String?) {\r\n        super.onPageFinished(view, url)\r\n        webView.evaluateJavascript(&quot;document.body.textContent&quot;) { text -&gt;\r\n            var count = 0\r\n            for (ch in text) if (ch == &#39;a&#39;) count++\r\n            Log.d(TAG, &quot;Webpage contains $count a&#39;s&quot;)\r\n        }\r\n    }\r\n}\r\nwebView.loadUrl(downloadURL)\r\n\r\n```\r\n\r\nThe single line evaluateJavaScript replaces the (longer) MyJavaScriptInterface\r\n\r\nNote: the provided code uses &quot;document.body.textContent&quot; rather than &quot;document.documentElement.outerHTML&quot;. Other values are possible including document.body.innerHTML and document.body.outerHTML","title":"Extract text from a Webview","body":"<p>While the provided code is correct Kotlin supports a simpler version</p>\n<pre class=\"lang-kt prettyprint-override\"><code>val webView = findViewById&lt;WebView&gt;(R.id.webView)\nwebView.getSettings().setJavaScriptEnabled(true)\nwebView.webViewClient = object : WebViewClient() {\n    override fun onPageFinished(view: WebView?, url: String?) {\n        super.onPageFinished(view, url)\n        webView.evaluateJavascript(&quot;document.body.textContent&quot;) { text -&gt;\n            var count = 0\n            for (ch in text) if (ch == 'a') count++\n            Log.d(TAG, &quot;Webpage contains $count a's&quot;)\n        }\n    }\n}\nwebView.loadUrl(downloadURL)\n\n</code></pre>\n<p>The single line evaluateJavaScript replaces the (longer) MyJavaScriptInterface</p>\n<p>Note: the provided code uses &quot;document.body.textContent&quot; rather than &quot;document.documentElement.outerHTML&quot;. Other values are possible including document.body.innerHTML and document.body.outerHTML</p>\n"}],"owner":{"account_id":7697172,"reputation":79,"user_id":5831229,"accept_rate":71,"display_name":"Abhishek Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40663727,"answer_count":2,"score":0,"last_activity_date":1682555913,"creation_date":1479409062,"question_id":40662921,"body_markdown":"I basically want to extract text from inside a webpage that is already loaded into the `Webview` of the app.\r\n\r\nJust as a trial, I built an app to count the occurrence of the Rupee symbol(₹) with the help of method from [this post][1].\r\n\r\nSee the screenshot:\r\n[App&#39;s Screenshot][2]\r\n\r\nBut I am not able to make it work. The `TextView` should show the number of &#39;₹&#39; symbols on the webpage but it stays unchanged.\r\n\r\nI am a noob at Android and would highly appritiate any help :)\r\n\r\nThis is my code:\r\n(MainActivity)\r\n\r\n    \r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.webkit.JavascriptInterface;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        static TextView count;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            count = (TextView) findViewById(R.id.textView);\r\n    \r\n        /* An instance of this class will be registered as a JavaScript interface */\r\n            class MyJavaScriptInterface {\r\n                @JavascriptInterface\r\n                @SuppressWarnings(&quot;unused&quot;)\r\n                public void processHTML(String html) {\r\n                    // process the html as needed by the app\r\n    \r\n                    int occ = 0;\r\n    \r\n                    for(int i = 0 ; i &lt; html.length() ; i++)\r\n                        if(html.charAt(i) == &#39;₹&#39;)\r\n                            occ++;\r\n    \r\n                    MainActivity.count.setText(occ);\r\n                }\r\n            }\r\n    \r\n            final WebView browser = (WebView) findViewById(R.id.browser);\r\n    \r\n            /* JavaScript must be enabled if you want it to work, obviously */\r\n            browser.getSettings().setJavaScriptEnabled(true);\r\n    \r\n            /* Register a new JavaScript interface called HTMLOUT */\r\n            browser.addJavascriptInterface(new MyJavaScriptInterface(), &quot;HTMLOUT&quot;);\r\n    \r\n            /* WebViewClient must be set BEFORE calling loadUrl! */\r\n            browser.setWebViewClient(new WebViewClient() {\r\n                @Override\r\n                public void onPageFinished(WebView view, String url) {\r\n    \r\n                    /* This call inject JavaScript into the page which just finished loading. */\r\n                    browser.loadUrl(&quot;javascript:HTMLOUT.processHTML(document.documentElement.outerHTML);&quot;);\r\n    \r\n                }\r\n            });\r\n    \r\n            /* load a web page */\r\n            browser.loadUrl(&quot;https://www.google.co.in/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=buy+chocolate&quot;);\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/2376471/how-do-i-get-the-web-page-contents-from-a-webview\r\n  [2]: https://i.stack.imgur.com/w5vYl.jpg\r\n","title":"Extract text from a Webview","body":"<p>I basically want to extract text from inside a webpage that is already loaded into the <code>Webview</code> of the app.</p>\n\n<p>Just as a trial, I built an app to count the occurrence of the Rupee symbol(₹) with the help of method from <a href=\"https://stackoverflow.com/questions/2376471/how-do-i-get-the-web-page-contents-from-a-webview\">this post</a>.</p>\n\n<p>See the screenshot:\n<a href=\"https://i.stack.imgur.com/w5vYl.jpg\" rel=\"nofollow noreferrer\">App's Screenshot</a></p>\n\n<p>But I am not able to make it work. The <code>TextView</code> should show the number of '₹' symbols on the webpage but it stays unchanged.</p>\n\n<p>I am a noob at Android and would highly appritiate any help :)</p>\n\n<p>This is my code:\n(MainActivity)</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.webkit.JavascriptInterface;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    static TextView count;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        count = (TextView) findViewById(R.id.textView);\n\n    /* An instance of this class will be registered as a JavaScript interface */\n        class MyJavaScriptInterface {\n            @JavascriptInterface\n            @SuppressWarnings(\"unused\")\n            public void processHTML(String html) {\n                // process the html as needed by the app\n\n                int occ = 0;\n\n                for(int i = 0 ; i &lt; html.length() ; i++)\n                    if(html.charAt(i) == '₹')\n                        occ++;\n\n                MainActivity.count.setText(occ);\n            }\n        }\n\n        final WebView browser = (WebView) findViewById(R.id.browser);\n\n        /* JavaScript must be enabled if you want it to work, obviously */\n        browser.getSettings().setJavaScriptEnabled(true);\n\n        /* Register a new JavaScript interface called HTMLOUT */\n        browser.addJavascriptInterface(new MyJavaScriptInterface(), \"HTMLOUT\");\n\n        /* WebViewClient must be set BEFORE calling loadUrl! */\n        browser.setWebViewClient(new WebViewClient() {\n            @Override\n            public void onPageFinished(WebView view, String url) {\n\n                /* This call inject JavaScript into the page which just finished loading. */\n                browser.loadUrl(\"javascript:HTMLOUT.processHTML(document.documentElement.outerHTML);\");\n\n            }\n        });\n\n        /* load a web page */\n        browser.loadUrl(\"https://www.google.co.in/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=buy+chocolate\");\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","performance","executorservice","fork-join"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1682558117,"post_id":76115901,"comment_id":134236459,"body_markdown":"(1) ForkJoinPool doesn’t have a `get` method. I think you meant ForkJoinTask.get(). (2) That get method absolutely does wait for the task to finish. Are you sure you’re submitting synchronous tasks to the ForkJoinPool? (3) A ForkJoinPool *is* an ExecutorService, so you should forget about the ForkJoinTasks returned by submit and instead call the ForkJoinPool’s shutdown() method followed by awaitTermination. You also may want to look into the invokeAll method.","body":"(1) ForkJoinPool doesn’t have a <code>get</code> method. I think you meant ForkJoinTask.get(). (2) That get method absolutely does wait for the task to finish. Are you sure you’re submitting synchronous tasks to the ForkJoinPool? (3) A ForkJoinPool <i>is</i> an ExecutorService, so you should forget about the ForkJoinTasks returned by submit and instead call the ForkJoinPool’s shutdown() method followed by awaitTermination. You also may want to look into the invokeAll method."},{"owner":{"account_id":7207750,"reputation":1,"user_id":5502845,"display_name":"Karthik A.K"},"score":0,"creation_date":1682559059,"post_id":76115901,"comment_id":134236531,"body_markdown":"Yes. I meant the task.get(). I did call the shutdown and awaitTermination in the end. But every time some of the records were lost.","body":"Yes. I meant the task.get(). I did call the shutdown and awaitTermination in the end. But every time some of the records were lost."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682579266,"post_id":76115901,"comment_id":134238863,"body_markdown":"By the way, consider [bulk insert](https://en.m.wikipedia.org/wiki/Bulk_insert) to greatly improve your loading times. For example, see [this guide for Postgres](https://www.postgresql.org/docs/current/populate.html).","body":"By the way, consider <a href=\"https://en.m.wikipedia.org/wiki/Bulk_insert\" rel=\"nofollow noreferrer\">bulk insert</a> to greatly improve your loading times. For example, see <a href=\"https://www.postgresql.org/docs/current/populate.html\" rel=\"nofollow noreferrer\">this guide for Postgres</a>."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1682598530,"post_id":76115901,"comment_id":134243146,"body_markdown":"Double check you have not trapped exceptions and continued.","body":"Double check you have not trapped exceptions and continued."},{"owner":{"account_id":7207750,"reputation":1,"user_id":5502845,"display_name":"Karthik A.K"},"score":0,"creation_date":1682683260,"post_id":76115901,"comment_id":134258054,"body_markdown":"@DuncG Nope no exceptions.","body":"@DuncG Nope no exceptions."}],"owner":{"account_id":7207750,"reputation":1,"user_id":5502845,"display_name":"Karthik A.K"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682554494,"creation_date":1682554494,"question_id":76115901,"body_markdown":"We have a scenario to insert ~4M records into database. We receive these records in batches of 56 files, each containing ~80k records.\r\n\r\n\r\nUsed Forkjoinpool  to insert the records in batches of 1000.\r\nOnce all the threads are completed we proceed further.\r\n\r\nNoticed that Forkjoinpool.get() is not blocking. It doesn&#39;t wait for the thread to complete.\r\nThis is causing some of the records to be missed(~5k) saving in the database.\r\n\r\nReplaced Forkjoinpool with ExecutorService which works as expected. All the ~4M records are saved.\r\n\r\nWanted to understand why Forkjoinpool.get() is not blocking.\r\n\r\nBoth the approaches take ~5 mins to complete. Performance wise no issues.\r\n\r\n\r\nForkJoinpool\r\n\r\n```\r\n//Partition 80000 records into chunks of 1000 records\r\nList&lt;List&lt;EntityObject&gt;&gt; entitiesPartitonList = Lists.partion(EntityObjectsList);\r\n\r\nForkJoinPool filesFJP= new ForkJoinPool(80);\r\nfilesFJP.submit(()-&gt;entitiesPartitonList.parallelStream().foreach(entitesBatch-&gt;{\r\n            jdbctemplate.batchupdate(query,entitesBatch.toArray(new Map[entitesBatch.size]))\r\n})).get();\r\n```\r\n\r\nExectorService\r\n\r\n```\r\nList&lt;Future&lt;Boolean&gt;&gt; futures = new ArrayList&lt;&gt;();\r\nExecutorService es=Executors.newFixedThreadPool(80)\r\n\r\nentitiesPartitonList.foreach(entitesBatch-&gt;futures.add(es.submit(()-&gt;{\r\n        jdbctemplate.batchupdate(query,entitesBatch.toArray(new Map[entitesBatch.size]))\r\n})));\r\n\r\nfutures.foreach(fut-&gt;fut.get());\r\n```","title":"Forkjoinpool behavior vs ExecutorService","body":"<p>We have a scenario to insert ~4M records into database. We receive these records in batches of 56 files, each containing ~80k records.</p>\n<p>Used Forkjoinpool  to insert the records in batches of 1000.\nOnce all the threads are completed we proceed further.</p>\n<p>Noticed that Forkjoinpool.get() is not blocking. It doesn't wait for the thread to complete.\nThis is causing some of the records to be missed(~5k) saving in the database.</p>\n<p>Replaced Forkjoinpool with ExecutorService which works as expected. All the ~4M records are saved.</p>\n<p>Wanted to understand why Forkjoinpool.get() is not blocking.</p>\n<p>Both the approaches take ~5 mins to complete. Performance wise no issues.</p>\n<p>ForkJoinpool</p>\n<pre><code>//Partition 80000 records into chunks of 1000 records\nList&lt;List&lt;EntityObject&gt;&gt; entitiesPartitonList = Lists.partion(EntityObjectsList);\n\nForkJoinPool filesFJP= new ForkJoinPool(80);\nfilesFJP.submit(()-&gt;entitiesPartitonList.parallelStream().foreach(entitesBatch-&gt;{\n            jdbctemplate.batchupdate(query,entitesBatch.toArray(new Map[entitesBatch.size]))\n})).get();\n</code></pre>\n<p>ExectorService</p>\n<pre><code>List&lt;Future&lt;Boolean&gt;&gt; futures = new ArrayList&lt;&gt;();\nExecutorService es=Executors.newFixedThreadPool(80)\n\nentitiesPartitonList.foreach(entitesBatch-&gt;futures.add(es.submit(()-&gt;{\n        jdbctemplate.batchupdate(query,entitesBatch.toArray(new Map[entitesBatch.size]))\n})));\n\nfutures.foreach(fut-&gt;fut.get());\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":19285386,"reputation":482,"user_id":14096471,"display_name":"Vlad Ulshin"},"score":0,"creation_date":1682392496,"post_id":76096931,"comment_id":134204167,"body_markdown":"My wild guess is, your 403 error due to missing or incorrect  authorization configuration.  check on authorizeRequests() in websecurity  configuration.","body":"My wild guess is, your 403 error due to missing or incorrect  authorization configuration.  check on authorizeRequests() in websecurity  configuration."},{"owner":{"account_id":5481134,"reputation":3,"user_id":4357561,"display_name":"DiTi"},"score":0,"creation_date":1682422643,"post_id":76096931,"comment_id":134209400,"body_markdown":"@VladUlshin I&#39;m not modifying this part at all, so it is default. The only part modified is login success handler, authentication entrypoint (sending 401). Everything else is as present above in the config.","body":"@VladUlshin I&#39;m not modifying this part at all, so it is default. The only part modified is login success handler, authentication entrypoint (sending 401). Everything else is as present above in the config."},{"owner":{"account_id":5481134,"reputation":3,"user_id":4357561,"display_name":"DiTi"},"score":0,"creation_date":1682473450,"post_id":76096931,"comment_id":134220363,"body_markdown":"I added some more information including potential root cause of the problem. I still need to know why is that even a problem","body":"I added some more information including potential root cause of the problem. I still need to know why is that even a problem"},{"owner":{"account_id":19285386,"reputation":482,"user_id":14096471,"display_name":"Vlad Ulshin"},"score":0,"creation_date":1682555511,"post_id":76096931,"comment_id":134236209,"body_markdown":"I&#39;ve tried to reproduce your problem and found similar behavior.","body":"I&#39;ve tried to reproduce your problem and found similar behavior."},{"owner":{"account_id":19285386,"reputation":482,"user_id":14096471,"display_name":"Vlad Ulshin"},"score":0,"creation_date":1682557228,"post_id":76096931,"comment_id":134236384,"body_markdown":"On my tests, I found that without providing ( --header &#39;Authorization: Basic dXNlcjpwYXNzd29yZA==&#39;) I get 401, also can&#39;t access resource ( using curl ) with a session cookie  after successful authentication (even after removing CSRF protection) IMHO httpBasic() can&#39;t handle session and needs Authorization header on each request.   On web based test, if request to resource throw an exception (inside resource method)  I get 403  error without any special handling - that is similar what you have.","body":"On my tests, I found that without providing ( --header &#39;Authorization: Basic dXNlcjpwYXNzd29yZA==&#39;) I get 401, also can&#39;t access resource ( using curl ) with a session cookie  after successful authentication (even after removing CSRF protection) IMHO httpBasic() can&#39;t handle session and needs Authorization header on each request.   On web based test, if request to resource throw an exception (inside resource method)  I get 403  error without any special handling - that is similar what you have."},{"owner":{"account_id":5481134,"reputation":3,"user_id":4357561,"display_name":"DiTi"},"score":0,"creation_date":1682639290,"post_id":76096931,"comment_id":134251569,"body_markdown":"Yes, lack of return token gives 401, which is intended (config will direct you to failureHandler), but once authentication is correct, but any kind of exception happens, you always get 403 as a default error from security. It probably makes some sense - you don&#39;t want to say too much about your insides, but from development perspective it&#39;s a little problematic.\nAnyway, sad part is that now when I know what&#39;s the cause I suddenly can find tons of articles talking about 403 in spring, but I couldn&#39;t couple of days ago :D","body":"Yes, lack of return token gives 401, which is intended (config will direct you to failureHandler), but once authentication is correct, but any kind of exception happens, you always get 403 as a default error from security. It probably makes some sense - you don&#39;t want to say too much about your insides, but from development perspective it&#39;s a little problematic. Anyway, sad part is that now when I know what&#39;s the cause I suddenly can find tons of articles talking about 403 in spring, but I couldn&#39;t couple of days ago :D"}],"answers":[{"tags":[],"owner":{"account_id":5481134,"reputation":3,"user_id":4357561,"display_name":"DiTi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682554360,"creation_date":1682554360,"answer_id":76115895,"question_id":76096931,"body_markdown":"So with a lot of testing I&#39;m certain of the problem now.\r\nIt seems 403 is a default error code for every exception which is thrown by the security with CSRF protection. It is most likely default behaviour and maybe even wanted. Such response doesn&#39;t contain anything useful - neither real status code, nor reason.\r\nWhy did it happen to me for the successful requests? This is a bit tricky, but it seems whenever @ResponseStatus contains &quot;reason&quot; (ignoerd when empty) Spring assumes it&#39;s a reason for unwanted behaviour and by default throws an error. And this error is a sign for security to block the response and send 403.\r\n```\r\n * &lt;p&gt;&lt;strong&gt;Warning&lt;/strong&gt;: when using this annotation on an exception\r\n * class, or when setting the {@code reason} attribute of this annotation,\r\n * the {@code HttpServletResponse.sendError} method will be used.\r\n```\r\nThis is not very satisfying (Exception handling, not response status reason) as I probably have to find a way to change this behaviour at least for dev environment as it makes testing a lot easier. I&#39;ve seen something about AccessDeniedHandler, but I need more reaserch. Still a hint for those who will face similar issue.","title":"Why client gets 403 error on successful request - Spring?","body":"<p>So with a lot of testing I'm certain of the problem now.\nIt seems 403 is a default error code for every exception which is thrown by the security with CSRF protection. It is most likely default behaviour and maybe even wanted. Such response doesn't contain anything useful - neither real status code, nor reason.\nWhy did it happen to me for the successful requests? This is a bit tricky, but it seems whenever @ResponseStatus contains &quot;reason&quot; (ignoerd when empty) Spring assumes it's a reason for unwanted behaviour and by default throws an error. And this error is a sign for security to block the response and send 403.</p>\n<pre><code> * &lt;p&gt;&lt;strong&gt;Warning&lt;/strong&gt;: when using this annotation on an exception\n * class, or when setting the {@code reason} attribute of this annotation,\n * the {@code HttpServletResponse.sendError} method will be used.\n</code></pre>\n<p>This is not very satisfying (Exception handling, not response status reason) as I probably have to find a way to change this behaviour at least for dev environment as it makes testing a lot easier. I've seen something about AccessDeniedHandler, but I need more reaserch. Still a hint for those who will face similar issue.</p>\n"}],"owner":{"account_id":5481134,"reputation":3,"user_id":4357561,"display_name":"DiTi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76115895,"answer_count":1,"score":0,"last_activity_date":1682554360,"creation_date":1682382403,"question_id":76096931,"body_markdown":"I&#39;m playing with Spring Boot and I&#39;ve got to the point where I&#39;m trying to manage security. I was following outdated tutorial, so there was a lot I had to improve myself, but I&#39;ve got to the point where my requests work fine - require previous login and then CSRF token in the header and they do whet they are suppose to do logging statuses like 200/201, but also 400/404 (all custom). The problem is that I know about it only if I read the logs (or verify the result by for example checking if something was created/deleted), because the response I receive is usually 403. I say usually, because I somehow managed to fix POST-&gt;201 when I was fixing something else (so I don&#39;t even know how).\r\n\r\nHere&#39;s my config:\r\n```\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        XorCsrfTokenRequestAttributeHandler delegate = new XorCsrfTokenRequestAttributeHandler();\r\n        delegate.setCsrfRequestAttributeName(&quot;_csrf&quot;);\r\n        CsrfTokenRequestHandler requestHandler = delegate::handle;\r\n        http.cors().and().csrf().ignoringRequestMatchers(&quot;/api/login&quot;).csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()).csrfTokenRequestHandler(requestHandler)\r\n            .and()\r\n                .authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/sayhello&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/**&quot;).authenticated()\r\n            .and()\r\n                .httpBasic()\r\n            .and()\r\n                .exceptionHandling().authenticationEntryPoint(restAuthenticationEntryPoint)\r\n            .and()\r\n                .formLogin().loginProcessingUrl(&quot;/api/login&quot;)\r\n                    .successHandler(loginSuccessHandler)\r\n                    .failureHandler(new SimpleUrlAuthenticationFailureHandler());\r\n        return http.build();\r\n    }\r\n```\r\nExample of &quot;failing&quot; request:\r\n```\r\ncurl --location --request DELETE &#39;http://&lt;xxx&gt;/api/todo/40ae6186&#39; \\\r\n--header &#39;X-XSRF-TOKEN: &lt;xxx&gt;&#39; \\\r\n--header &#39;Cookie: JSESSIONID=&lt;xxx&gt;; XSRF-TOKEN=&lt;xxx&gt;&#39;\r\n```\r\nIt doesn&#39;t matter if there is an object to delete (should send 200) or it does not (404) - the response that client gets is 403. I tried in console and in Postman.\r\n\r\nIn case it matters here are logs from the container:\r\nNot found:\r\n```\r\n2023-04-25T00:10:10.269Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\r\n2023-04-25T00:10:10.269Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\r\n2023-04-25T00:10:10.270Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\r\n2023-04-25T00:10:10.270Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\r\n2023-04-25T00:10:10.271Z DEBUG 1 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : DELETE &quot;/api/todo/2c08f95b&quot;, parameters={}\r\n2023-04-25T00:10:10.271Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\r\n2023-04-25T00:10:10.275Z DEBUG 1 --- [nio-8080-exec-3] org.hibernate.SQL                        : select t1_0.id,t1_0.completed,t1_0.title from to_do t1_0 where t1_0.id=?\r\n2023-04-25T00:10:10.285Z DEBUG 1 --- [nio-8080-exec-3] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [com.ditidev.demospring.exception.EntityNotFoundException]\r\n2023-04-25T00:10:10.285Z DEBUG 1 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\r\n2023-04-25T00:10:10.286Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n2023-04-25T00:10:10.287Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n```\r\n200:\r\n```\r\n2023-04-25T00:10:38.548Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\r\n2023-04-25T00:10:38.549Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\r\n2023-04-25T00:10:38.550Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\r\n2023-04-25T00:10:38.551Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\r\n2023-04-25T00:10:38.551Z DEBUG 1 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE &quot;/api/todo/40ae6186&quot;, parameters={}\r\n2023-04-25T00:10:38.551Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\r\n2023-04-25T00:10:38.555Z DEBUG 1 --- [nio-8080-exec-4] org.hibernate.SQL                        : select t1_0.id,t1_0.completed,t1_0.title from to_do t1_0 where t1_0.id=?\r\n2023-04-25T00:10:38.562Z DEBUG 1 --- [nio-8080-exec-4] org.hibernate.SQL                        : delete from to_do where id=?\r\n2023-04-25T00:10:38.576Z DEBUG 1 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n2023-04-25T00:10:38.578Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n2023-04-25T00:10:38.579Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n```\r\n\r\nThe biggest concern I have is with the repeating *BasicErrorController#error* messages, so I tried to follow then, but didn&#39;t get anywhere. Also I was running remote debugging and in fact sometimes it did send correct response to the client, but I wasn&#39;t able to pinpoint what makes the change. There is only one thing that usually happens at the same time - Java errors:\r\n```\r\n2023-04-25T00:21:57.403Z ERROR 1 --- [nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] threw exception\r\n\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n        at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.2.jar!/:6.0.2]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar!/:6.0.2]\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar!/:6.0.2]\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar!/:6.0.2]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar!/:6.0.2]\r\n```\r\nand\r\n```\r\n2023-04-25T00:21:57.404Z ERROR 1 --- [nio-8080-exec-8] o.a.c.c.C.[Tomcat].[localhost]           : Exception Processing ErrorPage[errorCode=0, location=/error]\r\n\r\njakarta.servlet.ServletException: Unable to handle the Spring Security Exception because the response is already committed.\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:144) ~[spring-security-web-6.0.2.jar!/:6.0.2]\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar!/:6.0.2]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar!/:6.0.2]\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar!/:6.0.2]\r\n...\r\nCaused by: org.springframework.security.access.AccessDeniedException: Access Denied\r\n        at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.2.jar!/:6.0.2]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar!/:6.0.2]\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar!/:6.0.2]\r\n```\r\n\r\n**EDIT 26.04.2023**\r\nI did more debugging and only after removing completely security config I realised that some of my requests throw something unexpected, but hidden at a first glance (response status is unchanged, so I didn&#39;t look in logs assuming all is fine).\r\n```\r\n2023-04-26T00:01:38.289Z DEBUG 1 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : DELETE &quot;/api/todo/7e999648-3cbc-49d0-b698-2a7a2733a644&quot;, parameters={}\r\n2023-04-26T00:01:38.290Z DEBUG 1 --- [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\r\n2023-04-26T00:01:38.296Z DEBUG 1 --- [nio-8080-exec-7] org.hibernate.SQL                        : select t1_0.id,t1_0.completed,t1_0.title from to_do t1_0 where t1_0.id=?\r\n2023-04-26T00:01:38.383Z DEBUG 1 --- [nio-8080-exec-7] org.hibernate.SQL                        : delete from to_do where id=?\r\n2023-04-26T00:01:38.494Z DEBUG 1 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n2023-04-26T00:01:38.495Z DEBUG 1 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for DELETE &quot;/error&quot;, parameters={}\r\n2023-04-26T00:01:38.497Z DEBUG 1 --- [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n2023-04-26T00:01:38.498Z DEBUG 1 --- [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using &#39;application/json&#39;, given [*/*] and supported [application/json, application/*+json]\r\n2023-04-26T00:01:38.499Z DEBUG 1 --- [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Apr 26 00:01:38 UTC 2023, status=200, error=OK, message=Succesfully deleted., path=/a (truncated)...]\r\n2023-04-26T00:01:38.500Z DEBUG 1 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 200\r\n```\r\nNow, although without full confidence yet, I can say that most likely 403 was sent by security filters due to this unexpected part about ERROR dispatch. Without security enabled response status simply remains and I must have missed it before.\r\nNow, one more important thing - this only happens with DELETE requests (no matter what outcome).\r\n\r\n**Another EDIT**\r\nLooks like one of the reasons (and there were two) was adding &#39;reason&#39; for the status\r\n```\r\n@ResponseStatus(code=HttpStatus.OK, reason=&quot;Succesfully deleted.&quot;)\r\n```\r\nWhy would that be a problem? Originally I made my delete methods not return anything which resulted in lack of feedback, so I added &#39;reason&#39; to have something. Now I set object to be returned (or String) and it does not throw any unexpected errors, but I still have to see what would happen with void.\r\n\r\nOnto the second reason - it is the custom exception, but here I can&#39;t seem to understant what&#39;s wrong, because it literally looks like this:\r\n```\r\n@ResponseStatus(HttpStatus.NOT_FOUND)\r\npublic class EntityNotFoundException extends RuntimeException {}\r\n```\r\nThere is now way this is problematic, but it must be since this exception is also used by GET method when failing to find object. Another idea that I have is that maybe custom response requires ResponseBody annotation, but why would it not be needed when response is an object from DB. Here are my methods to review:\r\n```\r\n@GetMapping\r\npublic List&lt;ToDo&gt; findAll(){\r\n    return toDoService.findAll();\r\n}\r\n\r\n@PostMapping\r\n@ResponseStatus(HttpStatus.CREATED)\r\npublic ToDo create(@RequestBody ToDo toDo){\r\n    return toDoService.save(toDo);\r\n}\r\n\r\n@DeleteMapping(&quot;/{id}&quot;)\r\n@ResponseStatus(code=HttpStatus.OK, reason=&quot;Succesfully deleted.&quot;)\r\npublic ToDo deleteById(@PathVariable String id){\r\n    return toDoService.deleteById(id);\r\n}\r\n```\r\nPS I still need to verify if fixing what I found is the answer for my initial question, but obviously I need the root reason to be understood too.","title":"Why client gets 403 error on successful request - Spring?","body":"<p>I'm playing with Spring Boot and I've got to the point where I'm trying to manage security. I was following outdated tutorial, so there was a lot I had to improve myself, but I've got to the point where my requests work fine - require previous login and then CSRF token in the header and they do whet they are suppose to do logging statuses like 200/201, but also 400/404 (all custom). The problem is that I know about it only if I read the logs (or verify the result by for example checking if something was created/deleted), because the response I receive is usually 403. I say usually, because I somehow managed to fix POST-&gt;201 when I was fixing something else (so I don't even know how).</p>\n<p>Here's my config:</p>\n<pre><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        XorCsrfTokenRequestAttributeHandler delegate = new XorCsrfTokenRequestAttributeHandler();\n        delegate.setCsrfRequestAttributeName(&quot;_csrf&quot;);\n        CsrfTokenRequestHandler requestHandler = delegate::handle;\n        http.cors().and().csrf().ignoringRequestMatchers(&quot;/api/login&quot;).csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()).csrfTokenRequestHandler(requestHandler)\n            .and()\n                .authorizeHttpRequests()\n                    .requestMatchers(&quot;/sayhello&quot;).permitAll()\n                    .requestMatchers(&quot;/api/**&quot;).authenticated()\n            .and()\n                .httpBasic()\n            .and()\n                .exceptionHandling().authenticationEntryPoint(restAuthenticationEntryPoint)\n            .and()\n                .formLogin().loginProcessingUrl(&quot;/api/login&quot;)\n                    .successHandler(loginSuccessHandler)\n                    .failureHandler(new SimpleUrlAuthenticationFailureHandler());\n        return http.build();\n    }\n</code></pre>\n<p>Example of &quot;failing&quot; request:</p>\n<pre><code>curl --location --request DELETE 'http://&lt;xxx&gt;/api/todo/40ae6186' \\\n--header 'X-XSRF-TOKEN: &lt;xxx&gt;' \\\n--header 'Cookie: JSESSIONID=&lt;xxx&gt;; XSRF-TOKEN=&lt;xxx&gt;'\n</code></pre>\n<p>It doesn't matter if there is an object to delete (should send 200) or it does not (404) - the response that client gets is 403. I tried in console and in Postman.</p>\n<p>In case it matters here are logs from the container:\nNot found:</p>\n<pre><code>2023-04-25T00:10:10.269Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\n2023-04-25T00:10:10.269Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\n2023-04-25T00:10:10.270Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\n2023-04-25T00:10:10.270Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\n2023-04-25T00:10:10.271Z DEBUG 1 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : DELETE &quot;/api/todo/2c08f95b&quot;, parameters={}\n2023-04-25T00:10:10.271Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\n2023-04-25T00:10:10.275Z DEBUG 1 --- [nio-8080-exec-3] org.hibernate.SQL                        : select t1_0.id,t1_0.completed,t1_0.title from to_do t1_0 where t1_0.id=?\n2023-04-25T00:10:10.285Z DEBUG 1 --- [nio-8080-exec-3] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [com.ditidev.demospring.exception.EntityNotFoundException]\n2023-04-25T00:10:10.285Z DEBUG 1 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\n2023-04-25T00:10:10.286Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2023-04-25T00:10:10.287Z DEBUG 1 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n</code></pre>\n<p>200:</p>\n<pre><code>2023-04-25T00:10:38.548Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\n2023-04-25T00:10:38.549Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\n2023-04-25T00:10:38.550Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\n2023-04-25T00:10:38.551Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\n2023-04-25T00:10:38.551Z DEBUG 1 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE &quot;/api/todo/40ae6186&quot;, parameters={}\n2023-04-25T00:10:38.551Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\n2023-04-25T00:10:38.555Z DEBUG 1 --- [nio-8080-exec-4] org.hibernate.SQL                        : select t1_0.id,t1_0.completed,t1_0.title from to_do t1_0 where t1_0.id=?\n2023-04-25T00:10:38.562Z DEBUG 1 --- [nio-8080-exec-4] org.hibernate.SQL                        : delete from to_do where id=?\n2023-04-25T00:10:38.576Z DEBUG 1 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2023-04-25T00:10:38.578Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2023-04-25T00:10:38.579Z DEBUG 1 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n</code></pre>\n<p>The biggest concern I have is with the repeating <em>BasicErrorController#error</em> messages, so I tried to follow then, but didn't get anywhere. Also I was running remote debugging and in fact sometimes it did send correct response to the client, but I wasn't able to pinpoint what makes the change. There is only one thing that usually happens at the same time - Java errors:</p>\n<pre><code>2023-04-25T00:21:57.403Z ERROR 1 --- [nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] threw exception\n\norg.springframework.security.access.AccessDeniedException: Access Denied\n        at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.2.jar!/:6.0.2]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar!/:6.0.2]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar!/:6.0.2]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar!/:6.0.2]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar!/:6.0.2]\n</code></pre>\n<p>and</p>\n<pre><code>2023-04-25T00:21:57.404Z ERROR 1 --- [nio-8080-exec-8] o.a.c.c.C.[Tomcat].[localhost]           : Exception Processing ErrorPage[errorCode=0, location=/error]\n\njakarta.servlet.ServletException: Unable to handle the Spring Security Exception because the response is already committed.\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:144) ~[spring-security-web-6.0.2.jar!/:6.0.2]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar!/:6.0.2]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar!/:6.0.2]\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar!/:6.0.2]\n...\nCaused by: org.springframework.security.access.AccessDeniedException: Access Denied\n        at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.2.jar!/:6.0.2]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar!/:6.0.2]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar!/:6.0.2]\n</code></pre>\n<p><strong>EDIT 26.04.2023</strong>\nI did more debugging and only after removing completely security config I realised that some of my requests throw something unexpected, but hidden at a first glance (response status is unchanged, so I didn't look in logs assuming all is fine).</p>\n<pre><code>2023-04-26T00:01:38.289Z DEBUG 1 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : DELETE &quot;/api/todo/7e999648-3cbc-49d0-b698-2a7a2733a644&quot;, parameters={}\n2023-04-26T00:01:38.290Z DEBUG 1 --- [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ditidev.demospring.controller.ToDoController#deleteById(String)\n2023-04-26T00:01:38.296Z DEBUG 1 --- [nio-8080-exec-7] org.hibernate.SQL                        : select t1_0.id,t1_0.completed,t1_0.title from to_do t1_0 where t1_0.id=?\n2023-04-26T00:01:38.383Z DEBUG 1 --- [nio-8080-exec-7] org.hibernate.SQL                        : delete from to_do where id=?\n2023-04-26T00:01:38.494Z DEBUG 1 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2023-04-26T00:01:38.495Z DEBUG 1 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for DELETE &quot;/error&quot;, parameters={}\n2023-04-26T00:01:38.497Z DEBUG 1 --- [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2023-04-26T00:01:38.498Z DEBUG 1 --- [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]\n2023-04-26T00:01:38.499Z DEBUG 1 --- [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Apr 26 00:01:38 UTC 2023, status=200, error=OK, message=Succesfully deleted., path=/a (truncated)...]\n2023-04-26T00:01:38.500Z DEBUG 1 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 200\n</code></pre>\n<p>Now, although without full confidence yet, I can say that most likely 403 was sent by security filters due to this unexpected part about ERROR dispatch. Without security enabled response status simply remains and I must have missed it before.\nNow, one more important thing - this only happens with DELETE requests (no matter what outcome).</p>\n<p><strong>Another EDIT</strong>\nLooks like one of the reasons (and there were two) was adding 'reason' for the status</p>\n<pre><code>@ResponseStatus(code=HttpStatus.OK, reason=&quot;Succesfully deleted.&quot;)\n</code></pre>\n<p>Why would that be a problem? Originally I made my delete methods not return anything which resulted in lack of feedback, so I added 'reason' to have something. Now I set object to be returned (or String) and it does not throw any unexpected errors, but I still have to see what would happen with void.</p>\n<p>Onto the second reason - it is the custom exception, but here I can't seem to understant what's wrong, because it literally looks like this:</p>\n<pre><code>@ResponseStatus(HttpStatus.NOT_FOUND)\npublic class EntityNotFoundException extends RuntimeException {}\n</code></pre>\n<p>There is now way this is problematic, but it must be since this exception is also used by GET method when failing to find object. Another idea that I have is that maybe custom response requires ResponseBody annotation, but why would it not be needed when response is an object from DB. Here are my methods to review:</p>\n<pre><code>@GetMapping\npublic List&lt;ToDo&gt; findAll(){\n    return toDoService.findAll();\n}\n\n@PostMapping\n@ResponseStatus(HttpStatus.CREATED)\npublic ToDo create(@RequestBody ToDo toDo){\n    return toDoService.save(toDo);\n}\n\n@DeleteMapping(&quot;/{id}&quot;)\n@ResponseStatus(code=HttpStatus.OK, reason=&quot;Succesfully deleted.&quot;)\npublic ToDo deleteById(@PathVariable String id){\n    return toDoService.deleteById(id);\n}\n</code></pre>\n<p>PS I still need to verify if fixing what I found is the answer for my initial question, but obviously I need the root reason to be understood too.</p>\n"},{"tags":["java","maven","gradle","sonarqube","jedit"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682440149,"creation_date":1682440149,"answer_id":76103487,"question_id":76103115,"body_markdown":"It is very easy to add a maven pom.xml file. Add a blank [pom.xml][1] to the root folder (not src) of the project.\r\n\r\n\r\n\r\n\r\n  [1]: https://gist.github.com/martensjostrand/4131573","title":"How to upload to sonarqube a java project without maven or gradle?","body":"<p>It is very easy to add a maven pom.xml file. Add a blank <a href=\"https://gist.github.com/martensjostrand/4131573\" rel=\"nofollow noreferrer\">pom.xml</a> to the root folder (not src) of the project.</p>\n"},{"tags":[],"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682554044,"creation_date":1682440728,"answer_id":76103562,"question_id":76103115,"body_markdown":"jEdit uses Ant. To analyze an ant project, you can use [SonarScanner for Ant][1]. (Disclaimer: I&#39;ve never used it myself)\r\n\r\n\r\n  [1]: https://docs.sonarcloud.io/advanced-setup/ci-based-analysis/sonarscanner-for-ant/","title":"How to upload to sonarqube a java project without maven or gradle?","body":"<p>jEdit uses Ant. To analyze an ant project, you can use <a href=\"https://docs.sonarcloud.io/advanced-setup/ci-based-analysis/sonarscanner-for-ant/\" rel=\"nofollow noreferrer\">SonarScanner for Ant</a>. (Disclaimer: I've never used it myself)</p>\n"}],"owner":{"account_id":21922598,"reputation":53,"user_id":16205646,"display_name":"WillUpdate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76103562,"answer_count":2,"score":1,"last_activity_date":1682554044,"creation_date":1682437796,"question_id":76103115,"body_markdown":"I have downloaded an open-source project, jEdit version 5.5, but it doesn&#39;t have maven or gradle. I would like to analyze it using SonarQube, but if I choose the other alternative besides maven and gradle for the analyze, I get an error that I have java files and I should remove them from the analysis. Do you know how I should address this issue?","title":"How to upload to sonarqube a java project without maven or gradle?","body":"<p>I have downloaded an open-source project, jEdit version 5.5, but it doesn't have maven or gradle. I would like to analyze it using SonarQube, but if I choose the other alternative besides maven and gradle for the analyze, I get an error that I have java files and I should remove them from the analysis. Do you know how I should address this issue?</p>\n"},{"tags":["java","mysql","hibernate","jpa"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1682348216,"post_id":76092989,"comment_id":134196855,"body_markdown":"Only thing I can think of is to bundle that into a procedure.","body":"Only thing I can think of is to bundle that into a procedure."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1682349153,"post_id":76092989,"comment_id":134197113,"body_markdown":"These are separate queries that need to be executed as separate statements - you need an updateCount and getCount methods you run in the same transactional method. Or you create a stored procedure in the database to do this","body":"These are separate queries that need to be executed as separate statements - you need an updateCount and getCount methods you run in the same transactional method. Or you create a stored procedure in the database to do this"},{"owner":{"account_id":26237252,"reputation":41,"user_id":19912177,"display_name":"BefuddledBarberian"},"score":0,"creation_date":1682350785,"post_id":76092989,"comment_id":134197554,"body_markdown":"@Chris will creating stored procedure guarentee atomicity?","body":"@Chris will creating stored procedure guarentee atomicity?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1682352100,"post_id":76092989,"comment_id":134197891,"body_markdown":"If the procedure is in a transaction, sure. You absolutely can do the same thing server side though with two separate methods, one for update, one for get that participate in the same transaction. What you are doing is pretty much the same as what JPA providers do for table sequencing solutions, and will use a non-JTA datasource so that the update+select can be done outside of the current transaction so as to not block throughput as much.","body":"If the procedure is in a transaction, sure. You absolutely can do the same thing server side though with two separate methods, one for update, one for get that participate in the same transaction. What you are doing is pretty much the same as what JPA providers do for table sequencing solutions, and will use a non-JTA datasource so that the update+select can be done outside of the current transaction so as to not block throughput as much."}],"answers":[{"tags":[],"owner":{"account_id":9411646,"reputation":67,"user_id":6997851,"display_name":"Creed21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682553645,"creation_date":1682350046,"answer_id":76093543,"question_id":76092989,"body_markdown":"These are 2 logical operations: Update and Read (updated value).\r\nSo first try to update value if entity exists, then fetch the updated data.\r\n\r\n    @Query (&quot;just 1 native query&quot;, native = true)\r\n","title":"JPA : Update and return new value","body":"<p>These are 2 logical operations: Update and Read (updated value).\nSo first try to update value if entity exists, then fetch the updated data.</p>\n<pre><code>@Query (&quot;just 1 native query&quot;, native = true)\n</code></pre>\n"}],"owner":{"account_id":26237252,"reputation":41,"user_id":19912177,"display_name":"BefuddledBarberian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682553645,"creation_date":1682346599,"question_id":76092989,"body_markdown":"With JPA, I&#39;m trying to update a value in the table and also return the new value.\r\n\r\nThe schema :\r\n\r\n    CREATE TABLE CountTable (\r\n        id varchar(255) primary key,\r\n\r\n        productName varchar(255),\r\n        count long\r\n    );\r\n\r\nMy code :\r\n\r\n     @Modifying\r\n      @Transactional\r\n      @Query(value = &quot;update CountTable ct set ct.count = ct.count + 1 where ct.productName = ?1; &quot; +\r\n              &quot;select ct.count from CountTable ct where ct.productName=?1&quot;, nativeQuery = true)\r\n      public Integer addCount(String productName);\r\n\r\nAnd I get this error :\r\n\r\n    Servlet.service() for servlet [dispatcherServlet] in context with path [/v1/db] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal] with root cause\r\n\r\nI have to run both the queries together since there would be multiple pods running and the data needs to be consistent.\r\n\r\nHow to fix this issue, or is there a better way to do this? Thanks\r\n\r\n","title":"JPA : Update and return new value","body":"<p>With JPA, I'm trying to update a value in the table and also return the new value.</p>\n<p>The schema :</p>\n<pre><code>CREATE TABLE CountTable (\n    id varchar(255) primary key,\n\n    productName varchar(255),\n    count long\n);\n</code></pre>\n<p>My code :</p>\n<pre><code> @Modifying\n  @Transactional\n  @Query(value = &quot;update CountTable ct set ct.count = ct.count + 1 where ct.productName = ?1; &quot; +\n          &quot;select ct.count from CountTable ct where ct.productName=?1&quot;, nativeQuery = true)\n  public Integer addCount(String productName);\n</code></pre>\n<p>And I get this error :</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [/v1/db] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal] with root cause\n</code></pre>\n<p>I have to run both the queries together since there would be multiple pods running and the data needs to be consistent.</p>\n<p>How to fix this issue, or is there a better way to do this? Thanks</p>\n"},{"tags":["java","android"],"owner":{"account_id":27763363,"reputation":1,"user_id":21195314,"display_name":"Aryan Shinde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682551664,"answer_count":0,"score":0,"last_activity_date":1682551743,"creation_date":1682532057,"question_id":76113762,"body_markdown":"I am not able to get the location of the user in android studio. I have choosed Java as my backend language. I need an alternative way to get the location of the user instead of fusedlocation, but I am not able to implement it in my project. Please help me with the code that I should use in my project for getting the location.\r\n\r\nMy Backend Code -\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport android.Manifest;\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.location.LocationManager;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private Button getLocationBtn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        getLocationBtn = findViewById(R.id.getLocationBTN);\r\n        getLocationBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                getLocation();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void getLocation() {\r\n        LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 1);\r\n            return;\r\n        }\r\n        Location location = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n        if (location != null) {\r\n            double latitude = location.getLatitude();\r\n            double longitude = location.getLongitude();\r\n            Toast.makeText(this, &quot;Latitude: &quot; + latitude + &quot;\\nLongitude: &quot; + longitude, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(this, &quot;Unable to get location&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried with fused location but its not working in my case. I need the code which used other method to get the current location of user instead of fusedlocation.","title":"Get user location in android","body":"<p>I am not able to get the location of the user in android studio. I have choosed Java as my backend language. I need an alternative way to get the location of the user instead of fusedlocation, but I am not able to implement it in my project. Please help me with the code that I should use in my project for getting the location.</p>\n<p>My Backend Code -</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.Manifest;\nimport android.content.Context;\nimport android.content.pm.PackageManager;\nimport android.location.Location;\nimport android.location.LocationManager;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Button getLocationBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        getLocationBtn = findViewById(R.id.getLocationBTN);\n        getLocationBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                getLocation();\n            }\n        });\n\n    }\n\n    private void getLocation() {\n        LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 1);\n            return;\n        }\n        Location location = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);\n        if (location != null) {\n            double latitude = location.getLatitude();\n            double longitude = location.getLongitude();\n            Toast.makeText(this, &quot;Latitude: &quot; + latitude + &quot;\\nLongitude: &quot; + longitude, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, &quot;Unable to get location&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>I tried with fused location but its not working in my case. I need the code which used other method to get the current location of user instead of fusedlocation.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1650691844,"post_id":71977025,"comment_id":127184860,"body_markdown":"Have you seen/tried: [Android studio dumping hprof file into the project folder](https://stackoverflow.com/q/44824442/295004)","body":"Have you seen/tried: <a href=\"https://stackoverflow.com/q/44824442/295004\">Android studio dumping hprof file into the project folder</a>"},{"owner":{"account_id":19165804,"reputation":476,"user_id":14000547,"display_name":"Tanmay Agarwal"},"score":0,"creation_date":1650691936,"post_id":71977025,"comment_id":127184869,"body_markdown":"yes I have already tried that","body":"yes I have already tried that"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1650693211,"post_id":71977025,"comment_id":127185027,"body_markdown":"You should probably [edit your post](https://stackoverflow.com/posts/71977025/edit) to include what gradle memory configuration you are using, and if you tried building just from the command line. FYI: [Expiring Daemon because JVM heap space is exhausted](https://stackoverflow.com/q/56075455/295004)","body":"You should probably <a href=\"https://stackoverflow.com/posts/71977025/edit\">edit your post</a> to include what gradle memory configuration you are using, and if you tried building just from the command line. FYI: <a href=\"https://stackoverflow.com/q/56075455/295004\">Expiring Daemon because JVM heap space is exhausted</a>"},{"owner":{"account_id":19165804,"reputation":476,"user_id":14000547,"display_name":"Tanmay Agarwal"},"score":0,"creation_date":1650720599,"post_id":71977025,"comment_id":127189859,"body_markdown":"yes i have updated plz check","body":"yes i have updated plz check"}],"answers":[{"tags":[],"owner":{"account_id":19165804,"reputation":476,"user_id":14000547,"display_name":"Tanmay Agarwal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682551578,"creation_date":1650795498,"answer_id":71987452,"question_id":71977025,"body_markdown":"Finally, I am happy to tell everyone, after a long hit and trial for last 3-4 days, I found a perfect solution, these are my updated settings which helped me to solve my java heap issue:-\r\n\r\ngradle.properties --:\r\n\r\n    signing.element.storePath=pathTo.keystore\r\n    signing.element.storePassword=Secret\r\n    signing.element.keyId=Secret\r\n    vector.debugPrivateData=false\r\n    org.gradle.parallel=true\r\n    android.enableJetifier=true\r\n    android.useAndroidX=true\r\n    org.gradle.vfs.watch=true\r\n    signing.element.keyPassword=Secret\r\n    vector.httpLogLevel=BASIC\r\n    org.gradle.configureondemand=true\r\n    org.gradle.daemon=true\r\n    \r\n    org.gradle.jvmargs=-Xmx12800m -XX:MaxPermSize=1024m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8 -XX:MaxHeapSize=256m\r\n\r\n\r\nand most important thing, VM options, go to help --&gt; edit custom VM options:-\r\n\r\n    -Xms2024m\r\n    -Xmx12800m\r\n    -XX:MaxPermSize=1024m\r\n    -XX:ReservedCodeCacheSize=512m\r\n    -XX:+UseCompressedOops\r\n\r\n","title":"Out of memory : Java Heap Size Error on a project forked from GitHub","body":"<p>Finally, I am happy to tell everyone, after a long hit and trial for last 3-4 days, I found a perfect solution, these are my updated settings which helped me to solve my java heap issue:-</p>\n<p>gradle.properties --:</p>\n<pre><code>signing.element.storePath=pathTo.keystore\nsigning.element.storePassword=Secret\nsigning.element.keyId=Secret\nvector.debugPrivateData=false\norg.gradle.parallel=true\nandroid.enableJetifier=true\nandroid.useAndroidX=true\norg.gradle.vfs.watch=true\nsigning.element.keyPassword=Secret\nvector.httpLogLevel=BASIC\norg.gradle.configureondemand=true\norg.gradle.daemon=true\n\norg.gradle.jvmargs=-Xmx12800m -XX:MaxPermSize=1024m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8 -XX:MaxHeapSize=256m\n</code></pre>\n<p>and most important thing, VM options, go to help --&gt; edit custom VM options:-</p>\n<pre><code>-Xms2024m\n-Xmx12800m\n-XX:MaxPermSize=1024m\n-XX:ReservedCodeCacheSize=512m\n-XX:+UseCompressedOops\n</code></pre>\n"}],"owner":{"account_id":19165804,"reputation":476,"user_id":14000547,"display_name":"Tanmay Agarwal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1484,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71987452,"answer_count":1,"score":2,"last_activity_date":1682551578,"creation_date":1650690919,"question_id":71977025,"body_markdown":"I am working on a client app and I have made forked on GitHub, it&#39;s a very big app, and from the previous 3 days, I am getting errors out of memory: Java heap size. I tried all troubleshoots, increase heap size also, check the same code on a 16GB laptop, and there also got the same error.\r\n\r\nError log:-\r\n\r\n\r\n        Cause 1: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$RunnableWrapperWorkAction\r\n    \tat org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:339)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:131)\r\n    \tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:341)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:326)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:127)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:89)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:79)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:67)\r\n    \tat org.gradle.workers.internal.DefaultWorkerExecutor.await(DefaultWorkerExecutor.java:247)\r\n    \tat com.android.build.gradle.internal.tasks.Workers$WorkerExecutorAdapter.await(Workers.kt:109)\r\n    \tat com.android.ide.common.resources.MergeWriter.end(MergeWriter.java:48)\r\n    \tat com.android.ide.common.resources.MergedResourceWriter.end(MergedResourceWriter.java:199)\r\n    \tat com.android.ide.common.resources.DataMerger.mergeData(DataMerger.java:292)\r\n    \tat com.android.ide.common.resources.ResourceMerger.mergeData(ResourceMerger.java:385)\r\n    \tat com.android.build.gradle.tasks.MergeResources.lambda$doFullTaskAction$1(MergeResources.java:339)\r\n    \tat com.android.build.gradle.internal.tasks.Blocks.recordSpan(Blocks.java:51)\r\n    \tat com.android.build.gradle.tasks.MergeResources.doFullTaskAction(MergeResources.java:335)\r\n    \tat com.android.build.gradle.tasks.MergeResources.doTaskAction(MergeResources.java:394)\r\n    \tat com.android.build.gradle.internal.tasks.NewIncrementalTask$taskAction$$inlined$recordTaskAction$1.invoke(BaseTask.kt:69)\r\n    \tat com.android.build.gradle.internal.tasks.Blocks.recordSpan(Blocks.java:51)\r\n    \tat com.android.build.gradle.internal.tasks.NewIncrementalTask.taskAction(NewIncrementalTask.kt:47)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor846.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n    \tat org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\r\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n    \tat org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\r\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n    \tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n    \tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n    \tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n    \tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n    \tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n    \tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n    \tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\r\n    \tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n    \tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\r\n    \tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n    \tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\r\n    \tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n    \tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n    \tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n    \tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n    \tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n    \tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n    \tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\r\n    \tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n    \tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n    \tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n    \tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n    \tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n    \tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n    \tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.desktop/java.awt.image.DataBufferInt.&lt;init&gt;(DataBufferInt.java:75)\r\n    \tat java.desktop/java.awt.image.Raster.createPackedRaster(Raster.java:467)\r\n    \tat java.desktop/java.awt.image.DirectColorModel.createCompatibleWritableRaster(DirectColorModel.java:1032)\r\n    \tat java.desktop/java.awt.image.BufferedImage.&lt;init&gt;(BufferedImage.java:333)\r\n    \tat com.android.ide.common.util.AssetUtil.newArgbBufferedImage(AssetUtil.java:51)\r\n    \tat com.android.ide.common.vectordrawable.VdPreview.getPreviewFromVectorTree(VdPreview.java:264)\r\n    \tat com.android.ide.common.vectordrawable.VdPreview.getPreviewFromVectorXml(VdPreview.java:199)\r\n    \tat com.android.builder.png.VectorDrawableRenderer.generateFile(VectorDrawableRenderer.java:275)\r\n    \tat com.android.build.gradle.tasks.MergeResources$MergeResourcesVectorDrawableRenderer.generateFile(MergeResources.java:721)\r\n    \tat com.android.ide.common.resources.MergedResourceWriter$FileGenerationWorkAction.run(MergedResourceWriter.java:409)\r\n    \tat com.android.build.gradle.internal.tasks.Workers$RunnableWrapperWorkAction.run(Workers.kt:181)\r\n    \tat com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\r\n\r\n\r\nand one thing which i notice is everytime this error occurs, some type of .hprof files of around 1-2 gb each are formed in that android project folder, i tried deleting them and then clean and rebuild , then again this thing happends.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nthis is my gradle memory configuration and i have even change it to maximum also and different also , still getting that same issue :-\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n**\r\n\r\nUPDATE 1--&gt;One strange thing which I notice is that, when I created a zip of this same project and then try to do Gradle build, I am able to do it without any issue. \r\n\r\nWhich means issue occurring only on GitHub one, so please guide me how to solve this issue, as GitHub one is very important.\r\n**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dkc8d.png\r\n  [2]: https://i.stack.imgur.com/iy6Ss.png\r\n  [3]: https://i.stack.imgur.com/W0VGq.png\r\n  [4]: https://i.stack.imgur.com/btFwH.png","title":"Out of memory : Java Heap Size Error on a project forked from GitHub","body":"<p>I am working on a client app and I have made forked on GitHub, it's a very big app, and from the previous 3 days, I am getting errors out of memory: Java heap size. I tried all troubleshoots, increase heap size also, check the same code on a 16GB laptop, and there also got the same error.</p>\n<p>Error log:-</p>\n<pre><code>    Cause 1: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$RunnableWrapperWorkAction\n    at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:339)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:131)\n    at org.gradle.internal.Factories$1.create(Factories.java:31)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:341)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:326)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:127)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:89)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:79)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:67)\n    at org.gradle.workers.internal.DefaultWorkerExecutor.await(DefaultWorkerExecutor.java:247)\n    at com.android.build.gradle.internal.tasks.Workers$WorkerExecutorAdapter.await(Workers.kt:109)\n    at com.android.ide.common.resources.MergeWriter.end(MergeWriter.java:48)\n    at com.android.ide.common.resources.MergedResourceWriter.end(MergedResourceWriter.java:199)\n    at com.android.ide.common.resources.DataMerger.mergeData(DataMerger.java:292)\n    at com.android.ide.common.resources.ResourceMerger.mergeData(ResourceMerger.java:385)\n    at com.android.build.gradle.tasks.MergeResources.lambda$doFullTaskAction$1(MergeResources.java:339)\n    at com.android.build.gradle.internal.tasks.Blocks.recordSpan(Blocks.java:51)\n    at com.android.build.gradle.tasks.MergeResources.doFullTaskAction(MergeResources.java:335)\n    at com.android.build.gradle.tasks.MergeResources.doTaskAction(MergeResources.java:394)\n    at com.android.build.gradle.internal.tasks.NewIncrementalTask$taskAction$$inlined$recordTaskAction$1.invoke(BaseTask.kt:69)\n    at com.android.build.gradle.internal.tasks.Blocks.recordSpan(Blocks.java:51)\n    at com.android.build.gradle.internal.tasks.NewIncrementalTask.taskAction(NewIncrementalTask.kt:47)\n    at jdk.internal.reflect.GeneratedMethodAccessor846.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.OutOfMemoryError: Java heap space\n    at java.desktop/java.awt.image.DataBufferInt.&lt;init&gt;(DataBufferInt.java:75)\n    at java.desktop/java.awt.image.Raster.createPackedRaster(Raster.java:467)\n    at java.desktop/java.awt.image.DirectColorModel.createCompatibleWritableRaster(DirectColorModel.java:1032)\n    at java.desktop/java.awt.image.BufferedImage.&lt;init&gt;(BufferedImage.java:333)\n    at com.android.ide.common.util.AssetUtil.newArgbBufferedImage(AssetUtil.java:51)\n    at com.android.ide.common.vectordrawable.VdPreview.getPreviewFromVectorTree(VdPreview.java:264)\n    at com.android.ide.common.vectordrawable.VdPreview.getPreviewFromVectorXml(VdPreview.java:199)\n    at com.android.builder.png.VectorDrawableRenderer.generateFile(VectorDrawableRenderer.java:275)\n    at com.android.build.gradle.tasks.MergeResources$MergeResourcesVectorDrawableRenderer.generateFile(MergeResources.java:721)\n    at com.android.ide.common.resources.MergedResourceWriter$FileGenerationWorkAction.run(MergedResourceWriter.java:409)\n    at com.android.build.gradle.internal.tasks.Workers$RunnableWrapperWorkAction.run(Workers.kt:181)\n    at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\n</code></pre>\n<p>and one thing which i notice is everytime this error occurs, some type of .hprof files of around 1-2 gb each are formed in that android project folder, i tried deleting them and then clean and rebuild , then again this thing happends.</p>\n<p><a href=\"https://i.stack.imgur.com/dkc8d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dkc8d.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/iy6Ss.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iy6Ss.png\" alt=\"enter image description here\" /></a></p>\n<p>this is my gradle memory configuration and i have even change it to maximum also and different also , still getting that same issue :-</p>\n<p><a href=\"https://i.stack.imgur.com/W0VGq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W0VGq.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/btFwH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/btFwH.png\" alt=\"enter image description here\" /></a>\n**</p>\n<p>UPDATE 1--&gt;One strange thing which I notice is that, when I created a zip of this same project and then try to do Gradle build, I am able to do it without any issue.</p>\n<p>Which means issue occurring only on GitHub one, so please guide me how to solve this issue, as GitHub one is very important.\n**</p>\n"},{"tags":["java","lambda"],"answers":[{"tags":[],"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1682551076,"creation_date":1460001292,"answer_id":36466412,"question_id":36466016,"body_markdown":"You could replace lambda expression with your own implementation of the `InterfaceName` interface.\r\n\r\n    class InterfaceNameImpl implements InterfaceName {\r\n    \t@Override\r\n    \tpublic Object speed() {\r\n    \t\treturn new Object();\r\n    \t}\r\n    }\r\n\r\nSubsequently, you can replace your statement that uses lambda expression with \r\n\r\n    InterfaceName vehicle = new InterfaceNameImpl();\r\n\r\nYou can even use anonymous classes without explicitly having the above class that implements `InterfaceName`\r\n\r\n\tInterfaceName vehicle1 = new InterfaceName() {\r\n\t\t@Override\r\n\t\tpublic Object speed() {\r\n\t\t\treturn new Object();\r\n\t\t}\r\n\t};\r\n\r\nOn a different note, you could even simplify your lambda usage from\r\n\r\n    InterfaceName vehicle =(InterfaceName &amp; Serializable) () -&gt;{return new Object();};\r\n\r\nto\r\n\r\n    InterfaceName vehicle = () -&gt; new Object();\r\n\r\nor an even shorter version is\r\n\r\n    InterfaceName vehicle = Object::new;\r\n\r\nIn case, you want to understand how lambdas are implemented internally by the compiler you can go through [Java-8-Lambdas-A-Peek-Under-the-Hood](http://www.infoq.com/articles/Java-8-Lambdas-A-Peek-Under-the-Hood)","title":"How to convert Lambda into simple Java function","body":"<p>You could replace lambda expression with your own implementation of the <code>InterfaceName</code> interface.</p>\n<pre><code>class InterfaceNameImpl implements InterfaceName {\n    @Override\n    public Object speed() {\n        return new Object();\n    }\n}\n</code></pre>\n<p>Subsequently, you can replace your statement that uses lambda expression with</p>\n<pre><code>InterfaceName vehicle = new InterfaceNameImpl();\n</code></pre>\n<p>You can even use anonymous classes without explicitly having the above class that implements <code>InterfaceName</code></p>\n<pre><code>InterfaceName vehicle1 = new InterfaceName() {\n    @Override\n    public Object speed() {\n        return new Object();\n    }\n};\n</code></pre>\n<p>On a different note, you could even simplify your lambda usage from</p>\n<pre><code>InterfaceName vehicle =(InterfaceName &amp; Serializable) () -&gt;{return new Object();};\n</code></pre>\n<p>to</p>\n<pre><code>InterfaceName vehicle = () -&gt; new Object();\n</code></pre>\n<p>or an even shorter version is</p>\n<pre><code>InterfaceName vehicle = Object::new;\n</code></pre>\n<p>In case, you want to understand how lambdas are implemented internally by the compiler you can go through <a href=\"http://www.infoq.com/articles/Java-8-Lambdas-A-Peek-Under-the-Hood\" rel=\"nofollow noreferrer\">Java-8-Lambdas-A-Peek-Under-the-Hood</a></p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682551572,"creation_date":1460002591,"answer_id":36466607,"question_id":36466016,"body_markdown":"Delete the field entirely. This is the same:\r\n\r\n    public abstract class Performance implements InterfaceName {\r\n        Object speed() {\r\n            return new Object();\r\n        }\r\n    }\r\n","title":"How to convert Lambda into simple Java function","body":"<p>Delete the field entirely. This is the same:</p>\n<pre><code>public abstract class Performance implements InterfaceName {\n    Object speed() {\n        return new Object();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7114959,"reputation":67,"user_id":5441599,"display_name":"ela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11013,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":36466412,"answer_count":2,"score":4,"last_activity_date":1682551572,"creation_date":1459998419,"question_id":36466016,"body_markdown":"I am trying to understand a program in java which has used lambda to return object into the reference variable of an interface. I want to convert lambda into simple java function, but not sure how to do it.\r\n\r\nThe program is as follows:\r\n```java   \r\npublic abstract class Performance implements Serializable\r\n{ \r\n    InterfaceName vehicle =(InterfaceName &amp; Serializable) () -&gt;{return new Object();};\r\n    Object speed() \r\n    {\r\n        return vehicle.speed();\r\n    }\r\n}\r\n```\r\nThe interface is as follows:-\r\n\r\n```\r\npublic interface InterfaceName \r\n{\r\n    Object speed();\r\n}\r\n```\r\nHow could I convert this program into a simple Java program without use of a lambda, as a learning exercise?","title":"How to convert Lambda into simple Java function","body":"<p>I am trying to understand a program in java which has used lambda to return object into the reference variable of an interface. I want to convert lambda into simple java function, but not sure how to do it.</p>\n<p>The program is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Performance implements Serializable\n{ \n    InterfaceName vehicle =(InterfaceName &amp; Serializable) () -&gt;{return new Object();};\n    Object speed() \n    {\n        return vehicle.speed();\n    }\n}\n</code></pre>\n<p>The interface is as follows:-</p>\n<pre><code>public interface InterfaceName \n{\n    Object speed();\n}\n</code></pre>\n<p>How could I convert this program into a simple Java program without use of a lambda, as a learning exercise?</p>\n"},{"tags":["java","escaping","unicode-escapes","stringescapeutils"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682507005,"creation_date":1682505233,"answer_id":76109765,"question_id":76109151,"body_markdown":"- Sharing this:\r\n\r\n   https://stackoverflow.com/q/10008989/592355\r\n\r\n- The top answer but also [this(2nd top)](https://stackoverflow.com/a/32932829/592355):\r\n\r\n   &gt;&gt;`StringEscapeUtils.escapeJava(&quot;...&quot;);`\r\n\r\n   &gt; It also escapes quotes, This may be an unwanted behaviour. \r\n\r\n\r\nMeans:\r\n  - your expectation is rather &quot;exotic&quot;\r\n  - behavior could have changed with `StringEscapeUtils` version/namespace/package (??)\r\n\r\n### But no problem\r\n\r\n(deleting the if-block + obsolete code (i.e. extra effort) from [top answer](https://stackoverflow.com/a/10009552/592355))\r\n\r\n&gt;```\r\n&gt;@Test\r\n&gt;void testEncoding() {\r\n&gt;  final String src = &quot;(안녕하세요.)&quot;; // this has to be read with the right encoding (!)\r\n&gt;  final StringBuilder result = new StringBuilder();\r\n&gt;  src.chars().forEach(ch -&gt; {\r\n&gt;    result\r\n&gt;      .append(&quot;\\\\u&quot;)\r\n&gt;      .append(\r\n&gt;        Integer.toHexString(0x10000 | ch)\r\n&gt;        .substring(1)\r\n&gt;        .toUpperCase() // or lower case, if you like ;)\r\n&gt;      );\r\n&gt;  });\r\n&gt;  System.out.println(result);\r\n&gt;}\r\n&gt;```\r\n(+ java updates)\r\n\r\nWe get:\r\n```\r\n\\u0028\\uC548\\uB155\\uD558\\uC138\\uC694\\u002E\\u0029\r\n```","title":"How to convert &#39;(&#39; to unicode(\\u0028) in java?","body":"<ul>\n<li><p>Sharing this:</p>\n<p><a href=\"https://stackoverflow.com/q/10008989/592355\">Library for converting native2ascii and vice versa</a></p>\n</li>\n<li><p>The top answer but also <a href=\"https://stackoverflow.com/a/32932829/592355\">this(2nd top)</a>:</p>\n<blockquote>\n<blockquote>\n<p><code>StringEscapeUtils.escapeJava(&quot;...&quot;);</code></p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p>It also escapes quotes, This may be an unwanted behaviour.</p>\n</blockquote>\n</li>\n</ul>\n<p>Means:</p>\n<ul>\n<li>your expectation is rather &quot;exotic&quot;</li>\n<li>behavior could have changed with <code>StringEscapeUtils</code> version/namespace/package (??)</li>\n</ul>\n<h3>But no problem</h3>\n<p>(deleting the if-block + obsolete code (i.e. extra effort) from <a href=\"https://stackoverflow.com/a/10009552/592355\">top answer</a>)</p>\n<blockquote>\n<pre><code>@Test\nvoid testEncoding() {\n final String src = &quot;(안녕하세요.)&quot;; // this has to be read with the right encoding (!)\n final StringBuilder result = new StringBuilder();\n src.chars().forEach(ch -&gt; {\n   result\n     .append(&quot;\\\\u&quot;)\n     .append(\n       Integer.toHexString(0x10000 | ch)\n       .substring(1)\n       .toUpperCase() // or lower case, if you like ;)\n     );\n });\n System.out.println(result);\n}\n</code></pre>\n</blockquote>\n<p>(+ java updates)</p>\n<p>We get:</p>\n<pre><code>\\u0028\\uC548\\uB155\\uD558\\uC138\\uC694\\u002E\\u0029\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682506078,"creation_date":1682506078,"answer_id":76109880,"question_id":76109151,"body_markdown":"Here&#39;s a minimal 1-liner that converts all chars to their escaped form:\r\n\r\n    str = str.chars().mapToObj(c -&gt; String.format(&quot;\\\\u%04x&quot;, c)).collect(joining());\r\n\r\nSee [live demo][1].\r\n\r\n\r\n  [1]: https://ideone.com/3FRDnv","title":"How to convert &#39;(&#39; to unicode(\\u0028) in java?","body":"<p>Here's a minimal 1-liner that converts all chars to their escaped form:</p>\n<pre><code>str = str.chars().mapToObj(c -&gt; String.format(&quot;\\\\u%04x&quot;, c)).collect(joining());\n</code></pre>\n<p>See <a href=\"https://ideone.com/3FRDnv\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n"}],"owner":{"account_id":28421286,"reputation":1,"user_id":21743329,"display_name":"thlee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682551407,"creation_date":1682501183,"question_id":76109151,"body_markdown":"I want to convert following string to an escaped String.\r\n\r\nI am using `StringEscapeUtils.escapeJava()`, but it didn&#39;t escape the brackets.\r\n\r\nFor example:\r\n\r\n    val str = &quot;(안녕하세요.)&quot;;\r\n    System.out.println(StringEscapeUtils.escapeJava(str))\r\n\r\nExpected:\r\n\r\n    \\\\u0028\\\\uC548\\\\uB155\\\\uD558\\\\uC138\\\\uC694\\\\u002e\\\\u0029\r\n\r\nActual:\r\n\r\n    (\\\\uC548\\\\uB155\\\\uD558\\\\uC138\\\\uC694.)\r\n\r\nI want to know the reason why it cannot convert to expected and how to convert to expected.","title":"How to convert &#39;(&#39; to unicode(\\u0028) in java?","body":"<p>I want to convert following string to an escaped String.</p>\n<p>I am using <code>StringEscapeUtils.escapeJava()</code>, but it didn't escape the brackets.</p>\n<p>For example:</p>\n<pre><code>val str = &quot;(안녕하세요.)&quot;;\nSystem.out.println(StringEscapeUtils.escapeJava(str))\n</code></pre>\n<p>Expected:</p>\n<pre><code>\\\\u0028\\\\uC548\\\\uB155\\\\uD558\\\\uC138\\\\uC694\\\\u002e\\\\u0029\n</code></pre>\n<p>Actual:</p>\n<pre><code>(\\\\uC548\\\\uB155\\\\uD558\\\\uC138\\\\uC694.)\n</code></pre>\n<p>I want to know the reason why it cannot convert to expected and how to convert to expected.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682551281,"creation_date":1682551281,"answer_id":76115719,"question_id":76115546,"body_markdown":"`@DeleteMapping(&quot;/{id}&quot;)`\r\n\r\nand `(@RequestBody String id)` don&#39;t seem to match!\r\n\r\nPlease try:\r\n\r\n`(@PathVariable String id)` instead.","title":"Problems with Spring Boot API (delete request)","body":"<p><code>@DeleteMapping(&quot;/{id}&quot;)</code></p>\n<p>and <code>(@RequestBody String id)</code> don't seem to match!</p>\n<p>Please try:</p>\n<p><code>(@PathVariable String id)</code> instead.</p>\n"}],"owner":{"account_id":20741255,"reputation":57,"user_id":15230857,"display_name":"Victor Hugo Santos de Moraes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76115719,"answer_count":1,"score":0,"last_activity_date":1682551281,"creation_date":1682548577,"question_id":76115546,"body_markdown":"What&#39;s up!?\r\n\r\nI&#39;m starting with Spring Boot API development with MongoDB. I&#39;m taking a course about that and in the part of delete an user by id, I got stuck. See:\r\n\r\nI have a controller named UserResource:\r\n\r\n    package com.victor.workshopmongo.resources;\r\n    \r\n    import java.net.URI;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n    \r\n    import com.victor.workshopmongo.domain.User;\r\n    import com.victor.workshopmongo.dto.UserDTO;\r\n    import com.victor.workshopmongo.services.UserService;\r\n    \r\n    @RestController\r\n    @RequestMapping(value = &quot;/users&quot;)\r\n    public class UserResource {\r\n    \r\n    \t@Autowired\r\n    \tprivate UserService service;\r\n    \r\n    \t@GetMapping\r\n    \tpublic ResponseEntity&lt;List&lt;UserDTO&gt;&gt; findAll() {\r\n    \t\tList&lt;User&gt; list = service.findAll();\r\n    \t\tList&lt;UserDTO&gt; listDto = list.stream().map(x -&gt; new UserDTO(x)).collect(Collectors.toList());\r\n    \t\treturn ResponseEntity.ok().body(listDto);\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;UserDTO&gt; findById(@PathVariable String id) {\r\n    \t\tUser obj = service.findById(id);\r\n    \t\treturn ResponseEntity.ok().body(new UserDTO(obj));\r\n    \t}\r\n    \r\n    \t@PostMapping\r\n    \tpublic ResponseEntity&lt;Void&gt; insert(@RequestBody UserDTO objDto) {\r\n    \t\tUser obj = service.fromDTO(objDto);\r\n    \t\tobj = service.insert(obj);\r\n    \t\tURI uri = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(obj.getId()).encode()\r\n    \t\t\t\t.toUri();\r\n    \t\treturn ResponseEntity.created(uri).build();\r\n    \t}\r\n    \r\n    \t@DeleteMapping(&quot;/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Void&gt; delete(@RequestBody String id) {\r\n    \t\tservice.delete(id);\r\n    \t\treturn ResponseEntity.noContent().build();\r\n    \t}\r\n    }\r\n\r\nand a service layer named UserService:\r\n\r\n    package com.victor.workshopmongo.services;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.victor.workshopmongo.domain.User;\r\n    import com.victor.workshopmongo.dto.UserDTO;\r\n    import com.victor.workshopmongo.repository.UserRepository;\r\n    import com.victor.workshopmongo.services.exception.ObjectNotFoundException;\r\n    \r\n    @Service\r\n    public class UserService {\r\n    \r\n    \t@Autowired\r\n    \tprivate UserRepository repo;\r\n    \r\n    \tpublic List&lt;User&gt; findAll() {\r\n    \t\treturn repo.findAll();\r\n    \t}\r\n    \r\n    \tpublic User findById(String id) {\r\n    \t\tOptional&lt;User&gt; optionalUser = repo.findById(id);\r\n    \t\tUser user = optionalUser.orElseThrow(() -&gt; new ObjectNotFoundException(&quot;Objeto n&#227;o encontrado&quot;));\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    \tpublic User insert(User obj) {\r\n    \t\treturn repo.insert(obj);\r\n    \t}\r\n    \r\n    \tpublic void delete(String id) {\r\n    \t\tfindById(id);\r\n    \t\trepo.deleteById(id);\r\n    \t}\r\n    \r\n    \tpublic User fromDTO(UserDTO objDto) {\r\n    \t\treturn new User(objDto.getId(), objDto.getName(), objDto.getEmail());\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nWhen I send an delete request through Postman using any id, I get this:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-04-26T21:18:54.465+00:00&quot;,\r\n        &quot;status&quot;: 400,\r\n        &quot;error&quot;: &quot;Bad Request&quot;,\r\n        &quot;path&quot;: &quot;/users/64499188d3a8843737cc57dc&quot;\r\n    }\r\n\r\nBefore you ask me if I&#39;m inserting the correct id, there are the registered ids:\r\n\r\n    [{\r\n      &quot;_id&quot;: {\r\n        &quot;$oid&quot;: &quot;6449953dbd83981c4ca21358&quot;\r\n      },\r\n      &quot;name&quot;: &quot;Maria Brown&quot;,\r\n      &quot;email&quot;: &quot;maria@gmail.com&quot;\r\n    },{\r\n      &quot;_id&quot;: {\r\n        &quot;$oid&quot;: &quot;6449953dbd83981c4ca21359&quot;\r\n      },\r\n      &quot;name&quot;: &quot;Alex Green&quot;,\r\n      &quot;email&quot;: &quot;alex@gmail.com&quot;\r\n    },{\r\n      &quot;_id&quot;: {\r\n        &quot;$oid&quot;: &quot;6449953dbd83981c4ca2135a&quot;\r\n      },\r\n      &quot;name&quot;: &quot;Bob Grey&quot;,\r\n      &quot;email&quot;: &quot;bob@gmail.com&quot;\r\n    }]\r\n\r\nAnd this the request I&#39;m trying do make with delete method:\r\n\r\n    http://localhost:8080/users/6449953dbd83981c4ca21358\r\n\r\nIf you need some more information, feel free to ask me.\r\nI will leave here the github link too, if you need to see the full code: https://github.com/VictorHSM24/workshop-spring-boot-mongodb\r\n","title":"Problems with Spring Boot API (delete request)","body":"<p>What's up!?</p>\n<p>I'm starting with Spring Boot API development with MongoDB. I'm taking a course about that and in the part of delete an user by id, I got stuck. See:</p>\n<p>I have a controller named UserResource:</p>\n<pre><code>package com.victor.workshopmongo.resources;\n\nimport java.net.URI;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n\nimport com.victor.workshopmongo.domain.User;\nimport com.victor.workshopmongo.dto.UserDTO;\nimport com.victor.workshopmongo.services.UserService;\n\n@RestController\n@RequestMapping(value = &quot;/users&quot;)\npublic class UserResource {\n\n    @Autowired\n    private UserService service;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;UserDTO&gt;&gt; findAll() {\n        List&lt;User&gt; list = service.findAll();\n        List&lt;UserDTO&gt; listDto = list.stream().map(x -&gt; new UserDTO(x)).collect(Collectors.toList());\n        return ResponseEntity.ok().body(listDto);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;UserDTO&gt; findById(@PathVariable String id) {\n        User obj = service.findById(id);\n        return ResponseEntity.ok().body(new UserDTO(obj));\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Void&gt; insert(@RequestBody UserDTO objDto) {\n        User obj = service.fromDTO(objDto);\n        obj = service.insert(obj);\n        URI uri = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(obj.getId()).encode()\n                .toUri();\n        return ResponseEntity.created(uri).build();\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Void&gt; delete(@RequestBody String id) {\n        service.delete(id);\n        return ResponseEntity.noContent().build();\n    }\n}\n</code></pre>\n<p>and a service layer named UserService:</p>\n<pre><code>package com.victor.workshopmongo.services;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.victor.workshopmongo.domain.User;\nimport com.victor.workshopmongo.dto.UserDTO;\nimport com.victor.workshopmongo.repository.UserRepository;\nimport com.victor.workshopmongo.services.exception.ObjectNotFoundException;\n\n@Service\npublic class UserService {\n\n    @Autowired\n    private UserRepository repo;\n\n    public List&lt;User&gt; findAll() {\n        return repo.findAll();\n    }\n\n    public User findById(String id) {\n        Optional&lt;User&gt; optionalUser = repo.findById(id);\n        User user = optionalUser.orElseThrow(() -&gt; new ObjectNotFoundException(&quot;Objeto não encontrado&quot;));\n        return user;\n    }\n\n    public User insert(User obj) {\n        return repo.insert(obj);\n    }\n\n    public void delete(String id) {\n        findById(id);\n        repo.deleteById(id);\n    }\n\n    public User fromDTO(UserDTO objDto) {\n        return new User(objDto.getId(), objDto.getName(), objDto.getEmail());\n    }\n}\n</code></pre>\n<p>When I send an delete request through Postman using any id, I get this:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-04-26T21:18:54.465+00:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;path&quot;: &quot;/users/64499188d3a8843737cc57dc&quot;\n}\n</code></pre>\n<p>Before you ask me if I'm inserting the correct id, there are the registered ids:</p>\n<pre><code>[{\n  &quot;_id&quot;: {\n    &quot;$oid&quot;: &quot;6449953dbd83981c4ca21358&quot;\n  },\n  &quot;name&quot;: &quot;Maria Brown&quot;,\n  &quot;email&quot;: &quot;maria@gmail.com&quot;\n},{\n  &quot;_id&quot;: {\n    &quot;$oid&quot;: &quot;6449953dbd83981c4ca21359&quot;\n  },\n  &quot;name&quot;: &quot;Alex Green&quot;,\n  &quot;email&quot;: &quot;alex@gmail.com&quot;\n},{\n  &quot;_id&quot;: {\n    &quot;$oid&quot;: &quot;6449953dbd83981c4ca2135a&quot;\n  },\n  &quot;name&quot;: &quot;Bob Grey&quot;,\n  &quot;email&quot;: &quot;bob@gmail.com&quot;\n}]\n</code></pre>\n<p>And this the request I'm trying do make with delete method:</p>\n<pre><code>http://localhost:8080/users/6449953dbd83981c4ca21358\n</code></pre>\n<p>If you need some more information, feel free to ask me.\nI will leave here the github link too, if you need to see the full code: <a href=\"https://github.com/VictorHSM24/workshop-spring-boot-mongodb\" rel=\"nofollow noreferrer\">https://github.com/VictorHSM24/workshop-spring-boot-mongodb</a></p>\n"},{"tags":["java","mongodb","mongodb-java","compose-db"],"comments":[{"owner":{"account_id":64052,"reputation":1440,"user_id":189293,"accept_rate":78,"display_name":"Rhangaun"},"score":0,"creation_date":1473248681,"post_id":39079876,"comment_id":66065907,"body_markdown":"I found out that the `isSocketKeepAlive` flag of the `MongoClientOptions` is `false` by default, I changed it to true and I&#39;m now waiting to see if I get the error again.","body":"I found out that the <code>isSocketKeepAlive</code> flag of the <code>MongoClientOptions</code> is <code>false</code> by default, I changed it to true and I&#39;m now waiting to see if I get the error again."},{"owner":{"account_id":1648387,"reputation":4973,"user_id":1519444,"display_name":"Feng"},"score":8,"creation_date":1473839929,"post_id":39079876,"comment_id":66288789,"body_markdown":"unfortunatly, with .socketKeepAlive(true), we also get this error, my drive version is 3.0.4","body":"unfortunatly, with .socketKeepAlive(true), we also get this error, my drive version is 3.0.4"},{"owner":{"account_id":1657768,"reputation":1355,"user_id":1526810,"accept_rate":52,"display_name":"Narges"},"score":0,"creation_date":1505906554,"post_id":39079876,"comment_id":79602066,"body_markdown":"could you find the reason at last? I face to this error now","body":"could you find the reason at last? I face to this error now"},{"owner":{"account_id":304839,"reputation":1896,"user_id":614588,"accept_rate":61,"display_name":"Eric Clack"},"score":0,"creation_date":1516012935,"post_id":39079876,"comment_id":83505301,"body_markdown":"Can you check how many connections you have available?  Run this from the mongo shell: `db.serverStatus().connections`\n{ &quot;current&quot; : 204, &quot;available&quot; : 0, &quot;totalCreated&quot; : NumberLong(931) }","body":"Can you check how many connections you have available?  Run this from the mongo shell: <code>db.serverStatus().connections</code> { &quot;current&quot; : 204, &quot;available&quot; : 0, &quot;totalCreated&quot; : NumberLong(931) }"},{"owner":{"account_id":3340837,"reputation":847,"user_id":2807165,"display_name":"AbdurrahmanY"},"score":0,"creation_date":1658762767,"post_id":39079876,"comment_id":129126478,"body_markdown":"if you are here for this error and java socket is closed take a look at: https://www.mongodb.com/community/forums/t/prematurely-reached-end-of-stream/139733","body":"if you are here for this error and java socket is closed take a look at: <a href=\"https://www.mongodb.com/community/forums/t/prematurely-reached-end-of-stream/139733\" rel=\"nofollow noreferrer\">mongodb.com/community/forums/t/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5288199,"reputation":2922,"user_id":4221475,"accept_rate":25,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1473250470,"creation_date":1473250470,"answer_id":39369698,"question_id":39079876,"body_markdown":"I found it in some documentation:\r\n\r\n**For long running applications, it is often prudent to enable &quot;keepAlive&quot; with a number of milliseconds. Without it, after some period of time you may start to see &quot;connection closed&quot; errors for what seems like no reason.**\r\n\r\nCheck if this helps. When you connect to mongoDB you can pass socket options to it. I am from node background we use following options to keep it alive.\r\n\r\n    server: {\r\n            socketOptions: {\r\n                keepAlive: 100,\r\n                connectTimeoutMS: 30000\r\n            }\r\n        }\r\n\r\nHope this helps!!","title":"MongoSocketReadException: Prematurely reached end of stream (after a period of inactivity)","body":"<p>I found it in some documentation:</p>\n\n<p><strong>For long running applications, it is often prudent to enable \"keepAlive\" with a number of milliseconds. Without it, after some period of time you may start to see \"connection closed\" errors for what seems like no reason.</strong></p>\n\n<p>Check if this helps. When you connect to mongoDB you can pass socket options to it. I am from node background we use following options to keep it alive.</p>\n\n<pre><code>server: {\n        socketOptions: {\n            keepAlive: 100,\n            connectTimeoutMS: 30000\n        }\n    }\n</code></pre>\n\n<p>Hope this helps!!</p>\n"},{"tags":[],"owner":{"account_id":7438965,"reputation":84,"user_id":5657353,"display_name":"Daqian"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1656847637,"creation_date":1474002982,"answer_id":39524128,"question_id":39079876,"body_markdown":"\r\nI agree with Rhangaun&#39;s answer here is my solution in code of JAVA:\r\n\r\n    \r\n\r\n\r\n\r\n\t\tpublic static DB getMongoDB() {\r\n\r\n\t\t\tMongoClientOptions.Builder builder = new MongoClientOptions.Builder();\r\n\t\t\t//build the connection options  \r\n\t\t\tbuilder.maxConnectionIdleTime(60000);//set the max wait time in (ms)\r\n\t\t\tMongoClientOptions opts = builder.build();\r\n\t\t\t\r\n\t\t\r\n\t\t\tchar[] password2 = &quot;mypassword&quot;.toCharArray();\r\n\t\t\t\r\n\t\t\tMongoCredential credential2 = MongoCredential.createCredential(&quot;username&quot;, &quot;databasename&quot;,password2);\r\n\t\t\t\r\n           \r\n            //add your option to the connection \r\n\r\n\t\t\tMongoClient mongoClient = new MongoClient(new ServerAddress(&quot;server ip&quot;,27017), Arrays.asList(credential2),opts);\r\n\t\t\t//use your database \r\n\t\t\tcachedDb = mongoClient.getDB(&quot;databasename&quot;);\r\n\t\t\t\r\n\t\treturn cachedDb;\r\n\r\n\t}\r\n\r\n\r\nHere is my research link:http://3t.io/blog/how-to-prevent-your-connection-from-dropping-with-hosted-mongodb-instances/\r\n\r\nHope it helps you.\r\n  ","title":"MongoSocketReadException: Prematurely reached end of stream (after a period of inactivity)","body":"<p>I agree with Rhangaun's answer here is my solution in code of JAVA:</p>\n<pre><code>    public static DB getMongoDB() {\n\n        MongoClientOptions.Builder builder = new MongoClientOptions.Builder();\n        //build the connection options  \n        builder.maxConnectionIdleTime(60000);//set the max wait time in (ms)\n        MongoClientOptions opts = builder.build();\n        \n    \n        char[] password2 = &quot;mypassword&quot;.toCharArray();\n        \n        MongoCredential credential2 = MongoCredential.createCredential(&quot;username&quot;, &quot;databasename&quot;,password2);\n        \n       \n        //add your option to the connection \n\n        MongoClient mongoClient = new MongoClient(new ServerAddress(&quot;server ip&quot;,27017), Arrays.asList(credential2),opts);\n        //use your database \n        cachedDb = mongoClient.getDB(&quot;databasename&quot;);\n        \n    return cachedDb;\n\n}\n</code></pre>\n<p>Here is my research link:<a href=\"http://3t.io/blog/how-to-prevent-your-connection-from-dropping-with-hosted-mongodb-instances/\" rel=\"nofollow noreferrer\">http://3t.io/blog/how-to-prevent-your-connection-from-dropping-with-hosted-mongodb-instances/</a></p>\n<p>Hope it helps you.</p>\n"},{"tags":[],"owner":{"account_id":5426850,"reputation":361,"user_id":4318846,"display_name":"iengchen"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1532502745,"creation_date":1532502745,"answer_id":51512885,"question_id":39079876,"body_markdown":"I solve this problem by set sslEnabled to true,code sample：\r\n\r\n    @Bean\r\n\tpublic MongoClient mongoClient() {\r\n\t\tList&lt;ServerAddress&gt; saList = new ArrayList&lt;&gt;();\r\n\t\tsaList.add(new ServerAddress(&quot;cluster0-shard-00-00-75shm.gcp.mongodb.net&quot;, 27017));\r\n\t\tsaList.add(new ServerAddress(&quot;cluster0-shard-00-01-75shm.gcp.mongodb.net&quot;, 27017));\r\n\t\tsaList.add(new ServerAddress(&quot;cluster0-shard-00-02-75shm.gcp.mongodb.net&quot;, 27017));\r\n\t\t\r\n\t\tchar[] pwd =  &quot;password&quot;.toCharArray();\r\n\t\tMongoCredential credential = MongoCredential.createCredential(&quot;username&quot;, &quot;admin&quot;, pwd);\r\n\t\r\n        //set sslEnabled to true here\r\n\t\tMongoClientOptions options = MongoClientOptions.builder()\r\n\t\t\t\t.readPreference(ReadPreference.primaryPreferred())\r\n\t\t\t\t.retryWrites(true)\r\n\t\t\t\t.requiredReplicaSetName(&quot;Cluster0-shard-0&quot;)\r\n\t\t\t\t.maxConnectionIdleTime(6000)\r\n\t\t\t\t.sslEnabled(true)\r\n\t\t\t\t.build();\r\n\t\t\r\n\t\tMongoClient mongoClient = new MongoClient(saList, credential, options);\t\t\r\n\t\treturn mongoClient;\r\n\t}\r\n\r\nAddition: my client jar is org.mongodb.mongodb-driver 3.6.4,server is mongodb atlas M0 3.6.6 on GCP","title":"MongoSocketReadException: Prematurely reached end of stream (after a period of inactivity)","body":"<p>I solve this problem by set sslEnabled to true,code sample：</p>\n\n<pre><code>@Bean\npublic MongoClient mongoClient() {\n    List&lt;ServerAddress&gt; saList = new ArrayList&lt;&gt;();\n    saList.add(new ServerAddress(\"cluster0-shard-00-00-75shm.gcp.mongodb.net\", 27017));\n    saList.add(new ServerAddress(\"cluster0-shard-00-01-75shm.gcp.mongodb.net\", 27017));\n    saList.add(new ServerAddress(\"cluster0-shard-00-02-75shm.gcp.mongodb.net\", 27017));\n\n    char[] pwd =  \"password\".toCharArray();\n    MongoCredential credential = MongoCredential.createCredential(\"username\", \"admin\", pwd);\n\n    //set sslEnabled to true here\n    MongoClientOptions options = MongoClientOptions.builder()\n            .readPreference(ReadPreference.primaryPreferred())\n            .retryWrites(true)\n            .requiredReplicaSetName(\"Cluster0-shard-0\")\n            .maxConnectionIdleTime(6000)\n            .sslEnabled(true)\n            .build();\n\n    MongoClient mongoClient = new MongoClient(saList, credential, options);     \n    return mongoClient;\n}\n</code></pre>\n\n<p>Addition: my client jar is org.mongodb.mongodb-driver 3.6.4,server is mongodb atlas M0 3.6.6 on GCP</p>\n"},{"tags":[],"owner":{"account_id":4323208,"reputation":2481,"user_id":3530707,"display_name":"julianm"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1547433227,"creation_date":1547433227,"answer_id":54175156,"question_id":39079876,"body_markdown":"### This worked for me in spring boot and cloud based mongo (Atlas clustered instances).   \nEdit application.properties like this:\n\n    spring.data.mongodb.uri = mongodb+srv://username:password@solarsystem-1tpu0.mongodb.net/dbname\n\nFor **regular mongo instances** (non-clustered) use this:\n\n    spring.data.mongodb.uri = mongodb://username:password@solarsystem-shard-00-00-1tpu0.mongodb.net:27017,hostname2:27017/dbname?ssl=true\n\n - If you want to set other **connection options**, you can chain\n   multiple parameters using &#39;&amp;&#39; ; documentation here:\n   https://mongodb.github.io/mongo-java-driver/3.4/javadoc/com/mongodb/MongoClientURI.html\n - If you were using other **spring.data.mongodb parameters**, you should\n   **remove all of them** otherwise spring won&#39;t read\n   spring.data.mongodb.uri\n\n","title":"MongoSocketReadException: Prematurely reached end of stream (after a period of inactivity)","body":"<h3>This worked for me in spring boot and cloud based mongo (Atlas clustered instances).</h3>\n<p>Edit application.properties like this:</p>\n<pre><code>spring.data.mongodb.uri = mongodb+srv://username:password@solarsystem-1tpu0.mongodb.net/dbname\n</code></pre>\n<p>For <strong>regular mongo instances</strong> (non-clustered) use this:</p>\n<pre><code>spring.data.mongodb.uri = mongodb://username:password@solarsystem-shard-00-00-1tpu0.mongodb.net:27017,hostname2:27017/dbname?ssl=true\n</code></pre>\n<ul>\n<li>If you want to set other <strong>connection options</strong>, you can chain\nmultiple parameters using '&amp;' ; documentation here:\n<a href=\"https://mongodb.github.io/mongo-java-driver/3.4/javadoc/com/mongodb/MongoClientURI.html\" rel=\"noreferrer\">https://mongodb.github.io/mongo-java-driver/3.4/javadoc/com/mongodb/MongoClientURI.html</a></li>\n<li>If you were using other <strong>spring.data.mongodb parameters</strong>, you should\n<strong>remove all of them</strong> otherwise spring won't read\nspring.data.mongodb.uri</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3634060,"reputation":1294,"user_id":3194525,"display_name":"maaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602612430,"creation_date":1602612430,"answer_id":64340767,"question_id":39079876,"body_markdown":"To me it was a whole different issue - I was using [mongo-java-server][1] with [Fongo][2] and ended up getting this error. Turns out that [old versions of it are not compatible with `FieldType.DECIMAL128` conversions][3].\r\n\r\nUpdating it to the latest one (1.36.0 currently) fixed the issue for me.\r\n\r\n\r\n  [1]: https://github.com/bwaldvogel/mongo-java-server\r\n  [2]: https://github.com/fakemongo/fongo\r\n  [3]: https://github.com/bwaldvogel/mongo-java-server/issues/45","title":"MongoSocketReadException: Prematurely reached end of stream (after a period of inactivity)","body":"<p>To me it was a whole different issue - I was using <a href=\"https://github.com/bwaldvogel/mongo-java-server\" rel=\"nofollow noreferrer\">mongo-java-server</a> with <a href=\"https://github.com/fakemongo/fongo\" rel=\"nofollow noreferrer\">Fongo</a> and ended up getting this error. Turns out that <a href=\"https://github.com/bwaldvogel/mongo-java-server/issues/45\" rel=\"nofollow noreferrer\">old versions of it are not compatible with <code>FieldType.DECIMAL128</code> conversions</a>.</p>\n<p>Updating it to the latest one (1.36.0 currently) fixed the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":4802426,"reputation":55,"user_id":3878671,"accept_rate":75,"display_name":"Jose Salas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604350772,"creation_date":1604350772,"answer_id":64653259,"question_id":39079876,"body_markdown":"The problem is that Mongodb end the connection. You need to increase the timeout of the Mongodb Driver here is an example code.\r\n\r\n     MongoClientOptions.Builder builder = new MongoClientOptions.Builder();\r\n        //build the connection options\r\n        builder.maxConnectionIdleTime(86400000);//set the max wait time in (ms)\r\n        MongoClientOptions opts = builder.build();\r\n\r\n\r\n\r\n\r\n        final Morphia morphia = new Morphia();\r\n\r\n\r\n        morphia.mapPackage(&quot;com.java.code&quot;);\r\n\r\n\r\n        final String hostURL = &quot;host_url&quot;;\r\n                \r\n\r\n        MongoCredential  credential = MongoCredential.createCredential(&quot;username&quot;,&quot;database&quot;,&quot;Password&quot;.toCharArray()); \r\n\r\n        ServerAddress address = new ServerAddress(hostURL);\r\n\r\n\r\n        List&lt;MongoCredential&gt; credentialList = new ArrayList&lt;&gt;();\r\n        credentialList.add(credential);\r\n\r\n\r\n       final MongoClient client = new MongoClient(address,credentialList,opts);\r\n\r\n\r\n\r\n\r\n        // create the Datastore connecting to the default port on the local host\r\n        datastore  = morphia.createDatastore(client,&quot;datastore&quot;);","title":"MongoSocketReadException: Prematurely reached end of stream (after a period of inactivity)","body":"<p>The problem is that Mongodb end the connection. You need to increase the timeout of the Mongodb Driver here is an example code.</p>\n<pre><code> MongoClientOptions.Builder builder = new MongoClientOptions.Builder();\n    //build the connection options\n    builder.maxConnectionIdleTime(86400000);//set the max wait time in (ms)\n    MongoClientOptions opts = builder.build();\n\n\n\n\n    final Morphia morphia = new Morphia();\n\n\n    morphia.mapPackage(&quot;com.java.code&quot;);\n\n\n    final String hostURL = &quot;host_url&quot;;\n            \n\n    MongoCredential  credential = MongoCredential.createCredential(&quot;username&quot;,&quot;database&quot;,&quot;Password&quot;.toCharArray()); \n\n    ServerAddress address = new ServerAddress(hostURL);\n\n\n    List&lt;MongoCredential&gt; credentialList = new ArrayList&lt;&gt;();\n    credentialList.add(credential);\n\n\n   final MongoClient client = new MongoClient(address,credentialList,opts);\n\n\n\n\n    // create the Datastore connecting to the default port on the local host\n    datastore  = morphia.createDatastore(client,&quot;datastore&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13161401,"reputation":333,"user_id":9506781,"display_name":"Oskarro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682550010,"creation_date":1682550010,"answer_id":76115648,"question_id":39079876,"body_markdown":"I was able to fix it after taking two steps.\r\n\r\n**First one:**  \r\nPreparation of the appropriate MongoClientSettings object containing the key settings for our Mongo client.\r\n\r\n    private MongoClientSettings getMongoClientSettings() {\r\n        return MongoClientSettings.builder()\r\n            .retryWrites(true)\r\n            .applyToConnectionPoolSettings(poolSettings -&gt; poolSettings\r\n                    .minSize(5)\r\n                    .maxSize(300)\r\n                    .maxConnectionIdleTime(0, TimeUnit.MILLISECONDS))\r\n            .applyToSocketSettings(socketSettings -&gt; socketSettings\r\n                    .connectTimeout(1, TimeUnit.MINUTES)\r\n                    .readTimeout(1, TimeUnit.MINUTES))\r\n            .build();\r\n    }\r\n\r\n\r\n*maxConnectionIdleTime – the maximum time a connection can be unused. A zero value indicates no limit to the idle time.*  \r\n\r\n*maxSize - The maximum number of connections allowed. Those connections will be kept in the pool when idle. Once the pool is exhausted, any operation requiring a connection will block waiting for an available connection. Default is 100*\r\n\r\n*minSize - The minimum number of connections. Those connections will be kept in the pool when idle, and the pool will ensure that it contains at least this minimum number. Default is 0*\r\n\r\n**Second one:**  \r\nIncreasing the default timeout in application.properties / application.yaml file (or the one you already have)\r\n\r\n    mongodb:\r\n     database: your_db_name\r\n     authDatabase: admin\r\n     config:\r\n       enabled: true\r\n       write:\r\n         writeConcern:\r\n           isMajority: true\r\n         timeout:\r\n           milliseconds: 100000\r\n\r\nCheck it out and it should work :)","title":"MongoSocketReadException: Prematurely reached end of stream (after a period of inactivity)","body":"<p>I was able to fix it after taking two steps.</p>\n<p><strong>First one:</strong><br />\nPreparation of the appropriate MongoClientSettings object containing the key settings for our Mongo client.</p>\n<pre><code>private MongoClientSettings getMongoClientSettings() {\n    return MongoClientSettings.builder()\n        .retryWrites(true)\n        .applyToConnectionPoolSettings(poolSettings -&gt; poolSettings\n                .minSize(5)\n                .maxSize(300)\n                .maxConnectionIdleTime(0, TimeUnit.MILLISECONDS))\n        .applyToSocketSettings(socketSettings -&gt; socketSettings\n                .connectTimeout(1, TimeUnit.MINUTES)\n                .readTimeout(1, TimeUnit.MINUTES))\n        .build();\n}\n</code></pre>\n<p><em>maxConnectionIdleTime – the maximum time a connection can be unused. A zero value indicates no limit to the idle time.</em></p>\n<p><em>maxSize - The maximum number of connections allowed. Those connections will be kept in the pool when idle. Once the pool is exhausted, any operation requiring a connection will block waiting for an available connection. Default is 100</em></p>\n<p><em>minSize - The minimum number of connections. Those connections will be kept in the pool when idle, and the pool will ensure that it contains at least this minimum number. Default is 0</em></p>\n<p><strong>Second one:</strong><br />\nIncreasing the default timeout in application.properties / application.yaml file (or the one you already have)</p>\n<pre><code>mongodb:\n database: your_db_name\n authDatabase: admin\n config:\n   enabled: true\n   write:\n     writeConcern:\n       isMajority: true\n     timeout:\n       milliseconds: 100000\n</code></pre>\n<p>Check it out and it should work :)</p>\n"}],"owner":{"account_id":64052,"reputation":1440,"user_id":189293,"accept_rate":78,"display_name":"Rhangaun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98615,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":39524128,"answer_count":7,"score":32,"last_activity_date":1682550010,"creation_date":1471869771,"question_id":39079876,"body_markdown":"I get this error on a `find` call (default Java Driver) after a period of inactivity. I tried to add a manual heartbeat (writing to a capped collection), but it didn&#39;t help. I only get the issue while being connected to an instance on compose (i.e. not in a local context).\r\n\r\nMongoDB version is 3.2.8, latest driver (3.3), using Java 8.\r\n\r\nAny idea ?","title":"MongoSocketReadException: Prematurely reached end of stream (after a period of inactivity)","body":"<p>I get this error on a <code>find</code> call (default Java Driver) after a period of inactivity. I tried to add a manual heartbeat (writing to a capped collection), but it didn't help. I only get the issue while being connected to an instance on compose (i.e. not in a local context).</p>\n\n<p>MongoDB version is 3.2.8, latest driver (3.3), using Java 8.</p>\n\n<p>Any idea ?</p>\n"},{"tags":["java","jms","activemq","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682549908,"creation_date":1682549908,"answer_id":76115642,"question_id":76106157,"body_markdown":"ActiveMQ 5.18.1 has a client jar to support jakarta (used by Spring 6)\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n      &lt;artifactId&gt;activemq-client-jakarta&lt;/artifactId&gt;\r\n      &lt;version&gt;5.18.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"How to migrate the ActiveMQ &quot;Classic&quot; with Spring 5 to Spring 6?","body":"<p>ActiveMQ 5.18.1 has a client jar to support jakarta (used by Spring 6)</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n  &lt;artifactId&gt;activemq-client-jakarta&lt;/artifactId&gt;\n  &lt;version&gt;5.18.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2140858,"reputation":53,"user_id":1899526,"display_name":"HienNg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682549908,"creation_date":1682465632,"question_id":76106157,"body_markdown":"I&#39;m implementing JMS using ActiveMQ &quot;Classic&quot; and Spring 5 to handle requests/responses between distributed components in the application. (Requests send from a Web component to an ActiveMQ broker. There is a business component that listens and handles the requests from the broker, then sends responses to correlation requests)\r\n\r\nFor technical reasons (vulnerability and keeping the stuff up to date), we need to migrate to Spring 6. However, most of the JMS API was deprecated and removed in Spring 6, especially the package `org.springframework.jms.remoting.*`\r\n\r\nI do some research to try migrating the JMS part, but I do not find out one.\r\n\r\nCould you please give me suggestions, solutions, or reference resources to solve this migration?","title":"How to migrate the ActiveMQ &quot;Classic&quot; with Spring 5 to Spring 6?","body":"<p>I'm implementing JMS using ActiveMQ &quot;Classic&quot; and Spring 5 to handle requests/responses between distributed components in the application. (Requests send from a Web component to an ActiveMQ broker. There is a business component that listens and handles the requests from the broker, then sends responses to correlation requests)</p>\n<p>For technical reasons (vulnerability and keeping the stuff up to date), we need to migrate to Spring 6. However, most of the JMS API was deprecated and removed in Spring 6, especially the package <code>org.springframework.jms.remoting.*</code></p>\n<p>I do some research to try migrating the JMS part, but I do not find out one.</p>\n<p>Could you please give me suggestions, solutions, or reference resources to solve this migration?</p>\n"},{"tags":["java","runtime-compilation"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1379867556,"post_id":18946085,"comment_id":27977522,"body_markdown":"Compile the class then load it with a custom classloader...","body":"Compile the class then load it with a custom classloader..."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1379869405,"post_id":18946085,"comment_id":27978061,"body_markdown":"What is the reason for the &quot;no disk-access&quot; requirement?","body":"What is the reason for the &quot;no disk-access&quot; requirement?"},{"owner":{"account_id":415316,"reputation":8582,"user_id":790053,"accept_rate":62,"display_name":"Sergio"},"score":0,"creation_date":1379874798,"post_id":18946085,"comment_id":27979684,"body_markdown":"Hello @Thorbjorn, I need this for a library intended to be used by third parties. One reason is that I am attempting to minimize the requirements of my library (like the availability of a user temp directory).","body":"Hello @Thorbjorn, I need this for a library intended to be used by third parties. One reason is that I am attempting to minimize the requirements of my library (like the availability of a user temp directory)."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1379876630,"post_id":18946085,"comment_id":27980314,"body_markdown":"I Would say that &quot;please have a compiler in your class path&quot; is a bit more restrictive than &quot;please have a temp folder&quot;.","body":"I Would say that &quot;please have a compiler in your class path&quot; is a bit more restrictive than &quot;please have a temp folder&quot;."},{"owner":{"account_id":1333388,"reputation":418,"user_id":3746632,"display_name":"ldmtwo"},"score":0,"creation_date":1510702602,"post_id":18946085,"comment_id":81545438,"body_markdown":"Possible duplicate of [How do you dynamically compile and load external java classes?](https://stackoverflow.com/questions/21544446/how-do-you-dynamically-compile-and-load-external-java-classes)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/21544446/how-do-you-dynamically-compile-and-load-external-java-classes\">How do you dynamically compile and load external java classes?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1379867759,"creation_date":1379867759,"answer_id":18946130,"question_id":18946085,"body_markdown":"It is possible if you have JDK, java complier is in tools.jar which comes with JDK only. See http://docs.oracle.com/javase/7/docs/api/javax/tools/package-summary.html","title":"Is it possible to compile a class on the fly in Java without using external libraries?","body":"<p>It is possible if you have JDK, java complier is in tools.jar which comes with JDK only. See <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/tools/package-summary.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/javax/tools/package-summary.html</a></p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379870385,"creation_date":1379869260,"answer_id":18946385,"question_id":18946085,"body_markdown":"&gt; Java Compiler API .. in-memory compilation is not supported. Is this correct?\n\nNo. The [STBC](http://pscode.org/stbc/) uses the `JavaCompiler` to do exactly that.\n\n&gt; ..and instantiating such class afterwards?\n\nThe STBC does not go as far as trying to load/run the class, but I believe it should be possible.  I imagine it might require a custom &#39;in memory&#39; class loader though.\n\n&gt; ..the JavaCompiler API can do that independently if the JDK is installed or not?\n\nFrom the page..\n\n&gt; ## System Requirements\n&gt;\n&gt; STBC will run on any computer with a version 1.6+ Java &lt;del&gt;Plug-In&lt;/del&gt;* JDK (AKA SDK).\n&gt;\n&gt; `*` The API that STBC uses is merely a public interface to the compiler in the `tools.jar` that is distributed *only with JDKs* (though the &#39;public JRE&#39; of the JDK also seems to acquire a `tools.jar`). ..","title":"Is it possible to compile a class on the fly in Java without using external libraries?","body":"<blockquote>\n<p>Java Compiler API .. in-memory compilation is not supported. Is this correct?</p>\n</blockquote>\n<p>No. The <a href=\"http://pscode.org/stbc/\" rel=\"nofollow noreferrer\">STBC</a> uses the <code>JavaCompiler</code> to do exactly that.</p>\n<blockquote>\n<p>..and instantiating such class afterwards?</p>\n</blockquote>\n<p>The STBC does not go as far as trying to load/run the class, but I believe it should be possible.  I imagine it might require a custom 'in memory' class loader though.</p>\n<blockquote>\n<p>..the JavaCompiler API can do that independently if the JDK is installed or not?</p>\n</blockquote>\n<p>From the page..</p>\n<blockquote>\n<h2>System Requirements</h2>\n<p>STBC will run on any computer with a version 1.6+ Java <del>Plug-In</del>* JDK (AKA SDK).</p>\n<p><code>*</code> The API that STBC uses is merely a public interface to the compiler in the <code>tools.jar</code> that is distributed <em>only with JDKs</em> (though the 'public JRE' of the JDK also seems to acquire a <code>tools.jar</code>). ..</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16214011,"reputation":41,"user_id":14807337,"display_name":"jerome angibaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682548862,"creation_date":1682548862,"answer_id":76115570,"question_id":18946085,"body_markdown":"JeKa (https://jeka.dev) provides a rich set of class to make it simpler than using JdkTool.","title":"Is it possible to compile a class on the fly in Java without using external libraries?","body":"<p>JeKa (<a href=\"https://jeka.dev\" rel=\"nofollow noreferrer\">https://jeka.dev</a>) provides a rich set of class to make it simpler than using JdkTool.</p>\n"}],"owner":{"account_id":415316,"reputation":8582,"user_id":790053,"accept_rate":62,"display_name":"Sergio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1682548862,"creation_date":1379867478,"question_id":18946085,"body_markdown":"It seems to me that the Java Compiler API allows to compile at runtime a class, writing its output (the .class file) to the file system. However, in-memory compilation is not supported. Is this correct ? or is possible to use this API to compile a class in memory (from a String) and instantiating such class afterwards ?\r\n\r\n(I know I can compile the class to the file system and load it afterwards with a custom class loader, but I am wondering if I can compile it in memory, without passing by the file system).\r\n\r\nIs there another alternative mechanism to do such in memory compilation using the J2SE only? \r\n[BeanShell][1] (I library that can do what I want) mentions in its web page that it may be included in the J2SE at &quot;some point in the future&quot;, however, the status of its [JSR][2] is &quot;Dormant&quot; (whatever does it mean). \r\n\r\n\r\n**Update:**\r\n\r\nIdeally, I would like to know if this can be done with the J2SE only (or if there are any expected enhancements to J2SE that will allow me to do this in, for example, Java 8). However, tips about how to do that requirying the JDK to be installed are also appreciated (thanks Evgeniy).\r\n\r\n  [1]: http://www.beanshell.org/home.html\r\n  [2]: http://jcp.org/en/jsr/detail?id=274","title":"Is it possible to compile a class on the fly in Java without using external libraries?","body":"<p>It seems to me that the Java Compiler API allows to compile at runtime a class, writing its output (the .class file) to the file system. However, in-memory compilation is not supported. Is this correct ? or is possible to use this API to compile a class in memory (from a String) and instantiating such class afterwards ?</p>\n\n<p>(I know I can compile the class to the file system and load it afterwards with a custom class loader, but I am wondering if I can compile it in memory, without passing by the file system).</p>\n\n<p>Is there another alternative mechanism to do such in memory compilation using the J2SE only? \n<a href=\"http://www.beanshell.org/home.html\" rel=\"nofollow\">BeanShell</a> (I library that can do what I want) mentions in its web page that it may be included in the J2SE at \"some point in the future\", however, the status of its <a href=\"http://jcp.org/en/jsr/detail?id=274\" rel=\"nofollow\">JSR</a> is \"Dormant\" (whatever does it mean). </p>\n\n<p><strong>Update:</strong></p>\n\n<p>Ideally, I would like to know if this can be done with the J2SE only (or if there are any expected enhancements to J2SE that will allow me to do this in, for example, Java 8). However, tips about how to do that requirying the JDK to be installed are also appreciated (thanks Evgeniy).</p>\n"},{"tags":["java","grpc","channel","stub"],"answers":[{"tags":[],"owner":{"account_id":2595922,"reputation":3702,"user_id":2249614,"accept_rate":83,"display_name":"Fabian Braun"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1593516291,"creation_date":1593516291,"answer_id":62656357,"question_id":62656248,"body_markdown":"It&#39;s intended to be kept open and reused across your application. See for instance this [thread][1] on github, in which one of the contributors states:\r\n\r\n&gt; Channels are expensive to create, and the general recommendation is to use one per application, shared among the service stubs.\r\n\r\n\r\n  [1]: https://github.com/grpc/grpc-java/issues/3268","title":"When should GRPC ManagedChannel be shutdown?","body":"<p>It's intended to be kept open and reused across your application. See for instance this <a href=\"https://github.com/grpc/grpc-java/issues/3268\" rel=\"noreferrer\">thread</a> on github, in which one of the contributors states:</p>\n<blockquote>\n<p>Channels are expensive to create, and the general recommendation is to use one per application, shared among the service stubs.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3858847,"reputation":12443,"user_id":3197055,"display_name":"Kavindu Dodanduwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682547348,"creation_date":1682547348,"answer_id":76115473,"question_id":62656248,"body_markdown":"The shutdown can be used if you see the need to close existing connections(ex: streams) and prevent future connections. A possible scenario is an application exit with a clean state (i.e - finalize all network communications and exit).\r\n\r\nHowever, as Fabian highlighted channels are recommended to be reused where possible. This is further confirmed from the [performance best practices guide][1]\r\n\r\n&gt; Always re-use stubs and channels when possible.\r\n\r\n\r\n  [1]: https://grpc.io/docs/guides/performance/","title":"When should GRPC ManagedChannel be shutdown?","body":"<p>The shutdown can be used if you see the need to close existing connections(ex: streams) and prevent future connections. A possible scenario is an application exit with a clean state (i.e - finalize all network communications and exit).</p>\n<p>However, as Fabian highlighted channels are recommended to be reused where possible. This is further confirmed from the <a href=\"https://grpc.io/docs/guides/performance/\" rel=\"nofollow noreferrer\">performance best practices guide</a></p>\n<blockquote>\n<p>Always re-use stubs and channels when possible.</p>\n</blockquote>\n"}],"owner":{"account_id":2211459,"reputation":609,"user_id":1953180,"accept_rate":14,"display_name":"Ozturk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5096,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1682547348,"creation_date":1593515935,"question_id":62656248,"body_markdown":"    ManagedChannel managedChannel = ManagedChannelBuilder.forTarget(host).usePlaintext().build();\r\n\r\nWhen I should shutdown the managed channel? Sould it be open all time ? Or Should I close this channel after every operations?","title":"When should GRPC ManagedChannel be shutdown?","body":"<pre><code>ManagedChannel managedChannel = ManagedChannelBuilder.forTarget(host).usePlaintext().build();\n</code></pre>\n<p>When I should shutdown the managed channel? Sould it be open all time ? Or Should I close this channel after every operations?</p>\n"},{"tags":["java","spring","kotlin","detekt"],"answers":[{"tags":[],"owner":{"account_id":6270052,"reputation":91,"user_id":5186011,"display_name":"akobor"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1571756989,"creation_date":1571756989,"answer_id":58507295,"question_id":58502969,"body_markdown":"You can add `@Suppress(&quot;SpreadOperator&quot;)` before your expression like this:\r\n\r\n```kotlin\r\n@SpringBootApplication(exclude = [RedisAutoConfiguration::class])\r\n@EnableCircuitBreaker\r\n@EnableScheduling\r\nclass MyApplication {\r\n\r\n    companion object : KLogging()\r\n}\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    Thread.setDefaultUncaughtExceptionHandler { _, exception -&gt;\r\n        MessCallsApplication.logger.error(exception) { &quot;Uncaught exception&quot; }\r\n    }\r\n    @Suppress(&quot;SpreadOperator&quot;)\r\n    runApplication&lt;MessCallsApplication&gt;(*args)\r\n}\r\n```","title":"How to get rid of from SpreadOperator performance warning that was given by Detekt while using Spring Boot?","body":"<p>You can add <code>@Suppress(\"SpreadOperator\")</code> before your expression like this:</p>\n\n<pre><code>@SpringBootApplication(exclude = [RedisAutoConfiguration::class])\n@EnableCircuitBreaker\n@EnableScheduling\nclass MyApplication {\n\n    companion object : KLogging()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    Thread.setDefaultUncaughtExceptionHandler { _, exception -&gt;\n        MessCallsApplication.logger.error(exception) { \"Uncaught exception\" }\n    }\n    @Suppress(\"SpreadOperator\")\n    runApplication&lt;MessCallsApplication&gt;(*args)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1646124369,"creation_date":1624268565,"answer_id":68065710,"question_id":58502969,"body_markdown":"In your particular case:\r\n\r\n```kotlin\r\n runApplication&lt;MessCallsApplication&gt;(args = args)\r\n```\r\n\r\nEdit: \r\n\r\nThis detekt warning is not longer a case:\r\nhttps://github.com/detekt/detekt/pull/3157\r\n\r\nHowever as Klitos Kyriacou mentioned in code - this array is copied (even twice!). Decompiled bytecode:\r\n\r\n```java\r\npublic final class MessCallsApplicationKt {\r\n   public static final void main(@NotNull String[] args) {\r\n      Intrinsics.checkNotNullParameter(args, &quot;args&quot;);\r\n      Schedulers.enableMetrics();\r\n      String[] args$iv = (String[])Arrays.copyOf(args, args.length);\r\n      int $i$f$runApplication = false;\r\n      Intrinsics.checkExpressionValueIsNotNull(SpringApplication.run(MessCallsApplication.class, (String[])Arrays.copyOf(args$iv, args$iv.length)), &quot;SpringApplication.run(T::class.java, *args)&quot;);\r\n   }\r\n}\r\n```\r\n","title":"How to get rid of from SpreadOperator performance warning that was given by Detekt while using Spring Boot?","body":"<p>In your particular case:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> runApplication&lt;MessCallsApplication&gt;(args = args)\n</code></pre>\n<p>Edit:</p>\n<p>This detekt warning is not longer a case:\n<a href=\"https://github.com/detekt/detekt/pull/3157\" rel=\"noreferrer\">https://github.com/detekt/detekt/pull/3157</a></p>\n<p>However as Klitos Kyriacou mentioned in code - this array is copied (even twice!). Decompiled bytecode:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class MessCallsApplicationKt {\n   public static final void main(@NotNull String[] args) {\n      Intrinsics.checkNotNullParameter(args, &quot;args&quot;);\n      Schedulers.enableMetrics();\n      String[] args$iv = (String[])Arrays.copyOf(args, args.length);\n      int $i$f$runApplication = false;\n      Intrinsics.checkExpressionValueIsNotNull(SpringApplication.run(MessCallsApplication.class, (String[])Arrays.copyOf(args$iv, args$iv.length)), &quot;SpringApplication.run(T::class.java, *args)&quot;);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17068120,"reputation":31,"user_id":12349641,"display_name":"Jeff Fang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632725748,"creation_date":1632725748,"answer_id":69342362,"question_id":58502969,"body_markdown":"or simply change from:\r\n\r\n    fun main(args: Array&lt;String&gt;)\r\n\r\nto\r\n    \r\n    fun main(vararg args: String)","title":"How to get rid of from SpreadOperator performance warning that was given by Detekt while using Spring Boot?","body":"<p>or simply change from:</p>\n<pre><code>fun main(args: Array&lt;String&gt;)\n</code></pre>\n<p>to</p>\n<pre><code>fun main(vararg args: String)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21489602,"reputation":1,"user_id":15835583,"display_name":"user15835583"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656611691,"creation_date":1656611691,"answer_id":72820113,"question_id":58502969,"body_markdown":"you have to pass the * to the run method:\r\n\r\n    fun main(vararg args: String) {\r\n      runApplication&lt;RateRefresherApplication&gt;(*args)\r\n    }\r\n\r\n ","title":"How to get rid of from SpreadOperator performance warning that was given by Detekt while using Spring Boot?","body":"<p>you have to pass the * to the run method:</p>\n<pre><code>fun main(vararg args: String) {\n  runApplication&lt;RateRefresherApplication&gt;(*args)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59653,"reputation":17337,"user_id":178433,"accept_rate":90,"display_name":"gMale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682546071,"creation_date":1682468090,"answer_id":76106297,"question_id":58502969,"body_markdown":"I had this in a function call like this:\r\n\r\n```\r\nprivate fun combine(vararg messages: String){ . . . }\r\n\r\n...\r\n\r\n//elsewhere\r\ncombine(*messages)\r\n```\r\nIn my particular case, it made sense to change the signature of this to the following (because it was intended to process a vararg from another function, rather than accept a comma-separated list, itself).\r\n\r\nThis uses with the `vararg` parameter as an array, rather than converting it into yet another variable argument:\r\n\r\n```\r\nprivate fun combine(messages: Array&lt;out String&gt;){ . . . }\r\n\r\n...\r\n\r\n//elsewhere\r\ncombine(messages) // now can remove spread operator\r\n```","title":"How to get rid of from SpreadOperator performance warning that was given by Detekt while using Spring Boot?","body":"<p>I had this in a function call like this:</p>\n<pre><code>private fun combine(vararg messages: String){ . . . }\n\n...\n\n//elsewhere\ncombine(*messages)\n</code></pre>\n<p>In my particular case, it made sense to change the signature of this to the following (because it was intended to process a vararg from another function, rather than accept a comma-separated list, itself).</p>\n<p>This uses with the <code>vararg</code> parameter as an array, rather than converting it into yet another variable argument:</p>\n<pre><code>private fun combine(messages: Array&lt;out String&gt;){ . . . }\n\n...\n\n//elsewhere\ncombine(messages) // now can remove spread operator\n</code></pre>\n"}],"owner":{"account_id":16745014,"reputation":1464,"user_id":12103573,"display_name":"Seydazimov Nurbol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7086,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1682546071,"creation_date":1571742716,"question_id":58502969,"body_markdown":"Recently, I added [Detekt][1] analyzer to my application. \r\n\r\nAfter I runned detekt (./gradlew detekt), I got SpreadOperator warning in my main class of application. \r\n\r\nWarning on code: `runApplication&lt;MessCallsApplication&gt;(*args) `\r\n\r\nYou can read about SpreadOperator warning here: [`SpreadOperator Warning`][2]\r\n\r\nmy main class: \r\n\r\n```\r\n@SpringBootApplication(exclude = [RedisAutoConfiguration::class])\r\n@EnableCircuitBreaker\r\n@EnableScheduling\r\nclass MyApplication {\r\n\r\n    companion object : KLogging()\r\n}\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    Thread.setDefaultUncaughtExceptionHandler { _, exception -&gt;\r\n        MessCallsApplication.logger.error(exception) { &quot;Uncaught exception&quot; }\r\n    }\r\n\r\n    runApplication&lt;MessCallsApplication&gt;(*args)\r\n}\r\n``` \r\n\r\n\r\n  [1]: https://github.com/arturbosch/detekt\r\n  [2]: https://arturbosch.github.io/detekt/performance.html\r\n\r\n\r\nQuestion is, What is the best practice to get rid of from that SpreadOperator warning? Or is it impossible?","title":"How to get rid of from SpreadOperator performance warning that was given by Detekt while using Spring Boot?","body":"<p>Recently, I added <a href=\"https://github.com/arturbosch/detekt\" rel=\"noreferrer\">Detekt</a> analyzer to my application.</p>\n<p>After I runned detekt (./gradlew detekt), I got SpreadOperator warning in my main class of application.</p>\n<p>Warning on code: <code>runApplication&lt;MessCallsApplication&gt;(*args) </code></p>\n<p>You can read about SpreadOperator warning here: <a href=\"https://arturbosch.github.io/detekt/performance.html\" rel=\"noreferrer\"><code>SpreadOperator Warning</code></a></p>\n<p>my main class:</p>\n<pre><code>@SpringBootApplication(exclude = [RedisAutoConfiguration::class])\n@EnableCircuitBreaker\n@EnableScheduling\nclass MyApplication {\n\n    companion object : KLogging()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    Thread.setDefaultUncaughtExceptionHandler { _, exception -&gt;\n        MessCallsApplication.logger.error(exception) { &quot;Uncaught exception&quot; }\n    }\n\n    runApplication&lt;MessCallsApplication&gt;(*args)\n}\n</code></pre>\n<p>Question is, What is the best practice to get rid of from that SpreadOperator warning? Or is it impossible?</p>\n"},{"tags":["java","macos","netbeans","web3-java"],"comments":[{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":1,"creation_date":1518312973,"post_id":48727376,"comment_id":84453731,"body_markdown":"The question looks offtopic. However, here&#39;s a hint: Netbeans is an IDE, it paints code in cool colors and allows you to jump between files. What you need is a tool for managing dependencies. Look out for build tools like Apache Maven or Gradle. Declare [web3j](https://mvnrepository.com/artifact/org.web3j/core/3.2.0) as dependency by adding it to the build definition. Then make sure it builds and compiles from the console. Then you can import it with Netbeans or Eclipse or whatever you want.","body":"The question looks offtopic. However, here&#39;s a hint: Netbeans is an IDE, it paints code in cool colors and allows you to jump between files. What you need is a tool for managing dependencies. Look out for build tools like Apache Maven or Gradle. Declare <a href=\"https://mvnrepository.com/artifact/org.web3j/core/3.2.0\" rel=\"nofollow noreferrer\">web3j</a> as dependency by adding it to the build definition. Then make sure it builds and compiles from the console. Then you can import it with Netbeans or Eclipse or whatever you want."},{"owner":{"account_id":7531626,"reputation":2235,"user_id":5719578,"accept_rate":100,"display_name":"Yohannes Gebremariam"},"score":0,"creation_date":1518313068,"post_id":48727376,"comment_id":84453757,"body_markdown":"Did you read the `readme.rst`? It looks it has some instructions.","body":"Did you read the <code>readme.rst</code>? It looks it has some instructions."},{"owner":{"account_id":2052842,"reputation":124,"user_id":1831409,"accept_rate":67,"display_name":"Chris"},"score":0,"creation_date":1518314321,"post_id":48727376,"comment_id":84453979,"body_markdown":"@YohannesGebremariam I did... it looks like it was an issue with my unfamiliarity with netbeans, rather than the library.  thanks for the reply","body":"@YohannesGebremariam I did... it looks like it was an issue with my unfamiliarity with netbeans, rather than the library.  thanks for the reply"},{"owner":{"account_id":2052842,"reputation":124,"user_id":1831409,"accept_rate":67,"display_name":"Chris"},"score":0,"creation_date":1518315144,"post_id":48727376,"comment_id":84454123,"body_markdown":"@AndreyTyukin out of curiosity what do you think would have been a better place to post this, given that I wasn&#39;t sure where the issue was?  I seldom post here since, on the rare occasion I can&#39;t figure it out myself, whatever I&#39;m looking for is usually answered already...  OR do you think, based on my situation at the time, I could have written the issue out better?","body":"@AndreyTyukin out of curiosity what do you think would have been a better place to post this, given that I wasn&#39;t sure where the issue was?  I seldom post here since, on the rare occasion I can&#39;t figure it out myself, whatever I&#39;m looking for is usually answered already...  OR do you think, based on my situation at the time, I could have written the issue out better?"},{"owner":{"account_id":2052842,"reputation":124,"user_id":1831409,"accept_rate":67,"display_name":"Chris"},"score":0,"creation_date":1518315718,"post_id":48727376,"comment_id":84454231,"body_markdown":"seriously!? down-votes?  with an utter absence of constructive criticism as to why? Great community here... definitely a nice learning environment (-_-)  ...I clearly stated I wasn&#39;t sure how to ask what I needed to. at least leave feedback on why you&#39;re down voting and how i can maybe avoid it in a similar situation later.","body":"seriously!? down-votes?  with an utter absence of constructive criticism as to why? Great community here... definitely a nice learning environment (-_-)  ...I clearly stated I wasn&#39;t sure how to ask what I needed to. at least leave feedback on why you&#39;re down voting and how i can maybe avoid it in a similar situation later."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1518316273,"post_id":48727376,"comment_id":84454342,"body_markdown":"@Chris This [meta thread](https://meta.stackoverflow.com/questions/251134/where-can-i-ask-about-finding-a-tool-library-or-favorite-off-site-resource) here redirects to [Software Recommendations StackExchange](https://softwarerecs.stackexchange.com/help/on-topic). Quote from [here](https://meta.stackexchange.com/questions/199411/where-can-i-ask-a-question-about-finding-general-software-that-meets-certain-req): &quot;Software Recommendations Stack Exchange accepts questions about general-purpose software, development tools and libraries, as well as more specialized software&quot;.","body":"@Chris This <a href=\"https://meta.stackoverflow.com/questions/251134/where-can-i-ask-about-finding-a-tool-library-or-favorite-off-site-resource\">meta thread</a> here redirects to <a href=\"https://softwarerecs.stackexchange.com/help/on-topic\">Software Recommendations StackExchange</a>. Quote from <a href=\"https://meta.stackexchange.com/questions/199411/where-can-i-ask-a-question-about-finding-general-software-that-meets-certain-req\">here</a>: &quot;Software Recommendations Stack Exchange accepts questions about general-purpose software, development tools and libraries, as well as more specialized software&quot;."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1518316352,"post_id":48727376,"comment_id":84454354,"body_markdown":"@Chris I guess that the downvotes were attracted mostly by the very long and very unprecise title. I didn&#39;t downvote anything, by the way ;)","body":"@Chris I guess that the downvotes were attracted mostly by the very long and very unprecise title. I didn&#39;t downvote anything, by the way ;)"},{"owner":{"account_id":2052842,"reputation":124,"user_id":1831409,"accept_rate":67,"display_name":"Chris"},"score":0,"creation_date":1518316796,"post_id":48727376,"comment_id":84454432,"body_markdown":"@AndreyTyukin thanks! I definitely would never have even known that subdomain existed. It does seem a bit more appropriate for my question. much appreciated.","body":"@AndreyTyukin thanks! I definitely would never have even known that subdomain existed. It does seem a bit more appropriate for my question. much appreciated."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":1,"creation_date":1518317744,"post_id":48727376,"comment_id":84454583,"body_markdown":"@Chris More appropriate: yes, but I can&#39;t tell you how long it would take to get any kind of reaction there: 14k questions vs 15Million questions on SO. You know, if you simply showed a little basic java code snippet with the most basic single line with web3j, and then posted compile errors, and stated clearly what you want in the title, you wouldn&#39;t have attracted any downvotes, and you would probably get the same answer in the end. This &quot;software recomendation&quot; question could be bent a little until it looks like an ordinary programming compile-error question, and everything would be fine.","body":"@Chris More appropriate: yes, but I can&#39;t tell you how long it would take to get any kind of reaction there: 14k questions vs 15Million questions on SO. You know, if you simply showed a little basic java code snippet with the most basic single line with web3j, and then posted compile errors, and stated clearly what you want in the title, you wouldn&#39;t have attracted any downvotes, and you would probably get the same answer in the end. This &quot;software recomendation&quot; question could be bent a little until it looks like an ordinary programming compile-error question, and everything would be fine."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1518317976,"post_id":48727376,"comment_id":84454626,"body_markdown":"@Chris And if you decide to ask on SRSE, check the &quot;How to ask&quot;-section there too: they also seem to have very specific rules for what constitutes a proper question.","body":"@Chris And if you decide to ask on SRSE, check the &quot;How to ask&quot;-section there too: they also seem to have very specific rules for what constitutes a proper question."},{"owner":{"account_id":2052842,"reputation":124,"user_id":1831409,"accept_rate":67,"display_name":"Chris"},"score":0,"creation_date":1518319782,"post_id":48727376,"comment_id":84454940,"body_markdown":"@AndreyTyukin Thanks for the feedback! that makes sense. and yeah, i read their &#39;how to ask&#39; section. It&#39;s pretty clear actually.  I guess I just need to work on asking better questions lol... though when I can figure out how to ask what I need to know, I&#39;m usually close enough to an answer to figure it out. I assumed the base site (SO) would be for more general questions since it&#39;s not specialized like say wordpress.stackoverflow. you live you learn.  next time I&#39;ll look for a subdomain I guess.","body":"@AndreyTyukin Thanks for the feedback! that makes sense. and yeah, i read their &#39;how to ask&#39; section. It&#39;s pretty clear actually.  I guess I just need to work on asking better questions lol... though when I can figure out how to ask what I need to know, I&#39;m usually close enough to an answer to figure it out. I assumed the base site (SO) would be for more general questions since it&#39;s not specialized like say wordpress.stackoverflow. you live you learn.  next time I&#39;ll look for a subdomain I guess."}],"answers":[{"tags":[],"owner":{"account_id":12920357,"reputation":187,"user_id":9343066,"display_name":"Jo&#227;o Gon&#231;alves"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1518313141,"creation_date":1518313141,"answer_id":48727412,"question_id":48727376,"body_markdown":"In Netbeans, create a new &quot;Maven Java Project&quot;.\r\n\r\nIn the file pom.xml, simply add the following code. This will make the &quot;include&quot;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.web3j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to add web3j to my project in NetBeans","body":"<p>In Netbeans, create a new \"Maven Java Project\".</p>\n\n<p>In the file pom.xml, simply add the following code. This will make the \"include\"</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.web3j&lt;/groupId&gt;\n  &lt;artifactId&gt;core&lt;/artifactId&gt;\n  &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2052842,"reputation":124,"user_id":1831409,"accept_rate":67,"display_name":"Chris"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":48727412,"answer_count":1,"score":-1,"last_activity_date":1682545547,"creation_date":1518312671,"question_id":48727376,"body_markdown":"I&#39;m trying to use web3j (https://github.com/web3j/web3j) and I can&#39;t figure out how.\r\n\r\nI know Java (I&#39;ve developed android apps in android studio) but not netbeans. Though I haven&#39;t touched Java in forever. I am familiar with building and interacting with Ethereum contracts from the command line. \r\n\r\nI need to connect to an Ethereum contract through java, so I googled around for a while and found web3j. However... I can&#39;t figure out how to actually use/install/require it. There&#39;s a sample project, but I&#39;m not sure how to import that to netbeans. And when I google &quot;connect to ethereum with java&quot; or something along those lines all the articles gloss over the web3j part and just assume it&#39;s already setup. \r\n\r\nHow do I add this library to my Java project in netbeans?\r\n\r\n","title":"How to add web3j to my project in NetBeans","body":"<p>I'm trying to use web3j (<a href=\"https://github.com/web3j/web3j\" rel=\"nofollow noreferrer\">https://github.com/web3j/web3j</a>) and I can't figure out how.</p>\n<p>I know Java (I've developed android apps in android studio) but not netbeans. Though I haven't touched Java in forever. I am familiar with building and interacting with Ethereum contracts from the command line.</p>\n<p>I need to connect to an Ethereum contract through java, so I googled around for a while and found web3j. However... I can't figure out how to actually use/install/require it. There's a sample project, but I'm not sure how to import that to netbeans. And when I google &quot;connect to ethereum with java&quot; or something along those lines all the articles gloss over the web3j part and just assume it's already setup.</p>\n<p>How do I add this library to my Java project in netbeans?</p>\n"},{"tags":["java","ethereum","solidity","web3-java"],"answers":[{"tags":[],"owner":{"account_id":11566973,"reputation":10383,"user_id":8474917,"display_name":"Adam Kipnis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1519319772,"creation_date":1519238886,"answer_id":48913307,"question_id":48905703,"body_markdown":"&gt; As I understood that we have to use TransactionReceipt if we want to extract the events..\n\n`TransactionReceipt` is not the only way to listen for events. You can also set up an Observable filter:\n\n    contract.someEventObservable(startBlock, endBlock).subscribe(event -&gt; ...);\n\n`TransactionReceipt` is a good way to get access to the events thrown for one specific transaction. All events thrown during the transaction are included in the receipt. However, if you want to process events in general across multiple transactions and/or use filters, you want to use an Observable filter. There&#39;s an entire section on event filters with examples [here][1].\n\n&gt; how I can define accounts ( many credentials ) if the TransactionReceipt doesn&#39;t have parameters for ( from which account, gas limit, ..etc).\n\nIf I&#39;m understanding this question correctly, you want to know how to process the events section of the `TransactionReceipt`? Web3j provides a helper method in the contract instance which will process the logs from `TransactionReceipt`.\n\n`EventValues eventValues = contract.processEVENT_NAMEEvent(transactionReceipt);`\n\nReplace EVENT_NAME with the event type you&#39;re interested in. Any account specific information you need to identify the event you want (address, name, etc) should be included in the event itself.\n\n**EDIT:** Based on your comment, it looks like I misunderstood this part of your question. I&#39;ll leave my previous answer here in case it&#39;s useful for processing events and address your question below.\n\nAfter you create your contract instance (either through `deploy` or `load`), you can change the gas limit and gas price. Both have setters in the wrapper&#39;s parent class. Therefore, you can reuse the same wrapper to call different functions in your contract using the appropriate gas parameters for that particular function.\n\nHowever, you cannot change the underlying `Credentials` (at least, not without subclassing or changing the generated wrapper). For different credentials, create different wrapper objects using `.load`.\n\n&gt; but this error appears:\n&gt;\n&gt;  `Error processing transaction request: Error: Exceeds block gas limit`\n\nI can&#39;t help with this without seeing the contract and code used to call the function.\n\n  [1]: https://docs.web3j.io/filters.html","title":"invoke a smart contract function from java application without need to listen to events","body":"<blockquote>\n<p>As I understood that we have to use TransactionReceipt if we want to extract the events..</p>\n</blockquote>\n<p><code>TransactionReceipt</code> is not the only way to listen for events. You can also set up an Observable filter:</p>\n<pre><code>contract.someEventObservable(startBlock, endBlock).subscribe(event -&gt; ...);\n</code></pre>\n<p><code>TransactionReceipt</code> is a good way to get access to the events thrown for one specific transaction. All events thrown during the transaction are included in the receipt. However, if you want to process events in general across multiple transactions and/or use filters, you want to use an Observable filter. There's an entire section on event filters with examples <a href=\"https://docs.web3j.io/filters.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>how I can define accounts ( many credentials ) if the TransactionReceipt doesn't have parameters for ( from which account, gas limit, ..etc).</p>\n</blockquote>\n<p>If I'm understanding this question correctly, you want to know how to process the events section of the <code>TransactionReceipt</code>? Web3j provides a helper method in the contract instance which will process the logs from <code>TransactionReceipt</code>.</p>\n<p><code>EventValues eventValues = contract.processEVENT_NAMEEvent(transactionReceipt);</code></p>\n<p>Replace EVENT_NAME with the event type you're interested in. Any account specific information you need to identify the event you want (address, name, etc) should be included in the event itself.</p>\n<p><strong>EDIT:</strong> Based on your comment, it looks like I misunderstood this part of your question. I'll leave my previous answer here in case it's useful for processing events and address your question below.</p>\n<p>After you create your contract instance (either through <code>deploy</code> or <code>load</code>), you can change the gas limit and gas price. Both have setters in the wrapper's parent class. Therefore, you can reuse the same wrapper to call different functions in your contract using the appropriate gas parameters for that particular function.</p>\n<p>However, you cannot change the underlying <code>Credentials</code> (at least, not without subclassing or changing the generated wrapper). For different credentials, create different wrapper objects using <code>.load</code>.</p>\n<blockquote>\n<p>but this error appears:</p>\n<p><code>Error processing transaction request: Error: Exceeds block gas limit</code></p>\n</blockquote>\n<p>I can't help with this without seeing the contract and code used to call the function.</p>\n"}],"owner":{"account_id":10291630,"reputation":467,"user_id":7593227,"accept_rate":42,"display_name":"sheemar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48913307,"answer_count":1,"score":1,"last_activity_date":1682545475,"creation_date":1519215347,"question_id":48905703,"body_markdown":"As I understood that we have to use TransactionReceipt if we want to extract the events..\r\n\r\n    TransactionReceipt transactionReceipt = contract.someMethod(\r\n             &lt;param1&gt;,\r\n             ...).send();\r\n\r\nbut what about for example if I have a function called &quot;register&quot; and need many accounts to register their self by invoking the function register.\r\n\r\nhow I can define accounts ( many credentials ) if the TransactionReceipt doesn&#39;t have parameters for ( from which account, gas limit, ..etc).\r\n\r\n\r\nOne more thing that I invoked the &quot;register&quot; function using TransactionReceipt as the following:\r\n\r\n     TransactionReceipt transactionReceipt = contract.register(&quot;John&quot;,BigInteger.valueOf(101)).send();\r\n\r\nbut this error appears:\r\n\r\n&gt; Error processing transaction request: Error: Exceeds block gas limit\r\n ","title":"invoke a smart contract function from java application without need to listen to events","body":"<p>As I understood that we have to use TransactionReceipt if we want to extract the events..</p>\n<pre><code>TransactionReceipt transactionReceipt = contract.someMethod(\n         &lt;param1&gt;,\n         ...).send();\n</code></pre>\n<p>but what about for example if I have a function called &quot;register&quot; and need many accounts to register their self by invoking the function register.</p>\n<p>how I can define accounts ( many credentials ) if the TransactionReceipt doesn't have parameters for ( from which account, gas limit, ..etc).</p>\n<p>One more thing that I invoked the &quot;register&quot; function using TransactionReceipt as the following:</p>\n<pre><code> TransactionReceipt transactionReceipt = contract.register(&quot;John&quot;,BigInteger.valueOf(101)).send();\n</code></pre>\n<p>but this error appears:</p>\n<blockquote>\n<p>Error processing transaction request: Error: Exceeds block gas limit</p>\n</blockquote>\n"},{"tags":["java","spring-security","sha1"],"comments":[{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1682543769,"post_id":76114375,"comment_id":134234833,"body_markdown":"You can use the `DelegatingPasswordEncoder` implementation and migrate your password smoothly by adding a prefix to them, you can opt for a more secure algorithm going forward and still support matching the old ones","body":"You can use the <code>DelegatingPasswordEncoder</code> implementation and migrate your password smoothly by adding a prefix to them, you can opt for a more secure algorithm going forward and still support matching the old ones"}],"owner":{"account_id":23865216,"reputation":23,"user_id":17867642,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682544528,"creation_date":1682537083,"question_id":76114375,"body_markdown":"Our dev team has been notified that our application will no longer be deployed until we upgrade from Spring Security 4.x to Spring Security 5, due to an authorization bypass vulnerability in earlier versions of Spring Security.  I&#39;m struggling with our authentication code, which uses the Spring Security 4 SHAPasswordEncoder, which has been removed from Spring Security 5.  I have a simple application that encodes a text string as an SHA-1 encoded string, and I have &quot;successfully&quot; migrated the code for that app to Spring Security 5, but I&#39;m getting a very different string back when encoding it.\r\n\r\nThe old application:\r\n\r\n```\r\nimport org.springframework.security.authentication.encoding.ShaPasswordEncoder;\r\n\r\n/**\r\n * Small java utility to take a single string and generate an SHA encoded string from\r\n * the original string, for use as an EIS local password\r\n * \r\n * Usage:\r\n * \t\tPwGen &lt;string_to_encode&gt;\r\n *\r\n */\r\npublic class PwGen {\r\n\t\r\n    public static void main(String[] args) {\r\n        PwGen pwGen = new PwGen();\r\n        pwGen.generatePassword(args);\r\n    }\r\n    \r\n    private void generatePassword(final String[] args) {\r\n\r\n        if (args.length != 1) {\r\n    \t\tusage();\r\n    \t\treturn;\r\n    \t}\r\n\r\n        System.out.println(&quot;Generating password&quot;);\r\n        \r\n        ShaPasswordEncoder passwordEncoder = new ShaPasswordEncoder();\r\n    \t\r\n    \tString encodedPassword = passwordEncoder.encodePassword((String)args[0], &quot;&quot;);\r\n    \tSystem.out.println(encodedPassword);\r\n    }\r\n    \r\n    private void usage() {\r\n    \tSystem.out.println(&quot;Usage: pwGen &lt;string_to_encode&gt;&quot;);\r\n    \tSystem.out.println(&quot;Application will return an encoded string for use as a password&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe new application:\r\n\r\n```\r\nimport org.springframework.security.crypto.password.MessageDigestPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\n/**\r\n * Small java utility to take a single string and generate an SHA encoded string from\r\n * the original string, for use as an EIS local password\r\n * \r\n * Usage:\r\n * \t\tPwGen &lt;string_to_encode&gt;\r\n *\r\n */\r\npublic class PwGen {\r\n\t\r\n    public static void main(String[] args) {\r\n        PwGen pwGen = new PwGen();\r\n    \tpwGen.generatePassword(args);\r\n    }\r\n    \r\n    private void generatePassword(final String[] args) {\r\n\r\n        if (args.length != 1) {\r\n    \t\tusage();\r\n    \t\treturn;\r\n    \t}\r\n\r\n        System.out.println(&quot;Generating password&quot;);\r\n        \r\n        PasswordEncoder passwordEncoder = new MessageDigestPasswordEncoder(&quot;SHA-1&quot;);\r\n    \tString encodedPassword = passwordEncoder.encode(args[0]);\r\n        \r\n    \tSystem.out.println(encodedPassword);\r\n    }\r\n    \r\n    private void usage() {\r\n    \tSystem.out.println(&quot;Usage: pwGen &lt;string_to_encode&gt;&quot;);\r\n    \tSystem.out.println(&quot;Application will return an encoded string for use as a password&quot;);\r\n    }\r\n}\r\n```\r\n\r\nUsing the old application, encoding the string &quot;password&quot; produced the following encoded string: 5baa61e4c9b93f3f0682250b6cf8331b7ee68fd8\r\n\r\nThis was an easily predictable solution, as our database contains the exact same string.\r\n\r\nThe new application produces a different string every time I run it, so I no longer can generate specific passwords for users.  I am very aware that this entire process is not secure, but the application is old and there will be a complete rewrite in the not-to-distant future, so management is not excited about funding an intermediate rewrite.  How do I guarantee that the MessageDigestPasswordEncoder brings back the same string as the actual encoded password?","title":"Spring Security 5 generates different encoded string than Spring Security 4 using SHA-1 encoding","body":"<p>Our dev team has been notified that our application will no longer be deployed until we upgrade from Spring Security 4.x to Spring Security 5, due to an authorization bypass vulnerability in earlier versions of Spring Security.  I'm struggling with our authentication code, which uses the Spring Security 4 SHAPasswordEncoder, which has been removed from Spring Security 5.  I have a simple application that encodes a text string as an SHA-1 encoded string, and I have &quot;successfully&quot; migrated the code for that app to Spring Security 5, but I'm getting a very different string back when encoding it.</p>\n<p>The old application:</p>\n<pre><code>import org.springframework.security.authentication.encoding.ShaPasswordEncoder;\n\n/**\n * Small java utility to take a single string and generate an SHA encoded string from\n * the original string, for use as an EIS local password\n * \n * Usage:\n *      PwGen &lt;string_to_encode&gt;\n *\n */\npublic class PwGen {\n    \n    public static void main(String[] args) {\n        PwGen pwGen = new PwGen();\n        pwGen.generatePassword(args);\n    }\n    \n    private void generatePassword(final String[] args) {\n\n        if (args.length != 1) {\n            usage();\n            return;\n        }\n\n        System.out.println(&quot;Generating password&quot;);\n        \n        ShaPasswordEncoder passwordEncoder = new ShaPasswordEncoder();\n        \n        String encodedPassword = passwordEncoder.encodePassword((String)args[0], &quot;&quot;);\n        System.out.println(encodedPassword);\n    }\n    \n    private void usage() {\n        System.out.println(&quot;Usage: pwGen &lt;string_to_encode&gt;&quot;);\n        System.out.println(&quot;Application will return an encoded string for use as a password&quot;);\n    }\n}\n</code></pre>\n<p>The new application:</p>\n<pre><code>import org.springframework.security.crypto.password.MessageDigestPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n/**\n * Small java utility to take a single string and generate an SHA encoded string from\n * the original string, for use as an EIS local password\n * \n * Usage:\n *      PwGen &lt;string_to_encode&gt;\n *\n */\npublic class PwGen {\n    \n    public static void main(String[] args) {\n        PwGen pwGen = new PwGen();\n        pwGen.generatePassword(args);\n    }\n    \n    private void generatePassword(final String[] args) {\n\n        if (args.length != 1) {\n            usage();\n            return;\n        }\n\n        System.out.println(&quot;Generating password&quot;);\n        \n        PasswordEncoder passwordEncoder = new MessageDigestPasswordEncoder(&quot;SHA-1&quot;);\n        String encodedPassword = passwordEncoder.encode(args[0]);\n        \n        System.out.println(encodedPassword);\n    }\n    \n    private void usage() {\n        System.out.println(&quot;Usage: pwGen &lt;string_to_encode&gt;&quot;);\n        System.out.println(&quot;Application will return an encoded string for use as a password&quot;);\n    }\n}\n</code></pre>\n<p>Using the old application, encoding the string &quot;password&quot; produced the following encoded string: 5baa61e4c9b93f3f0682250b6cf8331b7ee68fd8</p>\n<p>This was an easily predictable solution, as our database contains the exact same string.</p>\n<p>The new application produces a different string every time I run it, so I no longer can generate specific passwords for users.  I am very aware that this entire process is not secure, but the application is old and there will be a complete rewrite in the not-to-distant future, so management is not excited about funding an intermediate rewrite.  How do I guarantee that the MessageDigestPasswordEncoder brings back the same string as the actual encoded password?</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1682542803,"post_id":76114962,"comment_id":134234618,"body_markdown":"What is the nature of the data corruption? Bit flips? Deletions? Whole 4k sections of data missing? Something else? Simply being lenient about the PDF spec isn&#39;t a magical solution to information being missing or irretrievably turned to garbage.","body":"What is the nature of the data corruption? Bit flips? Deletions? Whole 4k sections of data missing? Something else? Simply being lenient about the PDF spec isn&#39;t a magical solution to information being missing or irretrievably turned to garbage."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1682542927,"post_id":76114962,"comment_id":134234649,"body_markdown":"As we don&#39;t have *those corrupted PDF files,&quot; how should we tell the best approach to address them specifically? And how should we know whether *correcting without information loss* is possible for them?","body":"As we don&#39;t have <i>those corrupted PDF files,&quot; how should we tell the best approach to address them specifically? And how should we know whether *correcting without information loss</i> is possible for them?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1682571881,"post_id":76114962,"comment_id":134237649,"body_markdown":"(After your edit) OK, so there appear to be issues with the cross reference table of your pdf. Still there can be many different types of pdf corruption that cause issues there, so without being able to analyze the specific file, one cannot say whether there will be some data loss or not.","body":"(After your edit) OK, so there appear to be issues with the cross reference table of your pdf. Still there can be many different types of pdf corruption that cause issues there, so without being able to analyze the specific file, one cannot say whether there will be some data loss or not."}],"owner":{"account_id":28427369,"reputation":1,"user_id":21748523,"display_name":"Sebasti&#225;n Duque"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682544252,"creation_date":1682542070,"question_id":76114962,"body_markdown":"When I use setLenient property in pdfParser to false, I get the follwoing exception: java.io.IOException: XREF for 5:0 points to wrong object: 4:0 at offset 1013093. However if I set that flag to true the pdf file is parsed without problem.\r\n\r\nI would like to know please how does setLenient flag work and wether it is safe to use, I mean, will I have information loss?","title":"Is setLenient in pdfBox in java safe for healing PDF files?","body":"<p>When I use setLenient property in pdfParser to false, I get the follwoing exception: java.io.IOException: XREF for 5:0 points to wrong object: 4:0 at offset 1013093. However if I set that flag to true the pdf file is parsed without problem.</p>\n<p>I would like to know please how does setLenient flag work and wether it is safe to use, I mean, will I have information loss?</p>\n"},{"tags":["java","stdin"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1558893764,"post_id":56316100,"comment_id":99241246,"body_markdown":"Never close System.in or an object that wraps it until you are fully done using it.","body":"Never close System.in or an object that wraps it until you are fully done using it."},{"owner":{"account_id":1127568,"reputation":8540,"user_id":1114453,"accept_rate":61,"display_name":"dariober"},"score":0,"creation_date":1558894176,"post_id":56316100,"comment_id":99241353,"body_markdown":"@HovercraftFullOfEels - thanks but removing `br.close()` doesn&#39;t change the issue","body":"@HovercraftFullOfEels - thanks but removing <code>br.close()</code> doesn&#39;t change the issue"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1558900144,"post_id":56316100,"comment_id":99242806,"body_markdown":"It seems to me that when you start your program, the System.in isn&#39;t getting input from the console but from the file (since you&#39;re piping the text file into the Java program from the OS). I don&#39;t know how to re-direct it to the console. Why not instead pass the file path into the program on start-up, and then","body":"It seems to me that when you start your program, the System.in isn&#39;t getting input from the console but from the file (since you&#39;re piping the text file into the Java program from the OS). I don&#39;t know how to re-direct it to the console. Why not instead pass the file path into the program on start-up, and then"},{"owner":{"account_id":1127568,"reputation":8540,"user_id":1114453,"accept_rate":61,"display_name":"dariober"},"score":0,"creation_date":1558905349,"post_id":56316100,"comment_id":99243834,"body_markdown":"Not sure what you mean by _pass the file path into the program on start-up, and then –_. In reality, the input may come from something like `sort file.txt | cut -f1-3 | ... | java -jar myprog.jar`","body":"Not sure what you mean by <i>pass the file path into the program on start-up, and then –</i>. In reality, the input may come from something like <code>sort file.txt | cut -f1-3 | ... | java -jar myprog.jar</code>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1558910299,"post_id":56316100,"comment_id":99244680,"body_markdown":"By your command line calls, you are telling the operating system to send the contents of the file to your Java program&#39;s standard input stream, and so this stream is no longer available to communicate with the OS&#39;s console. A way around this, to allow both is to pass the file name as a command line parameter, create a FileInputStream wrapped by a BufferedInputStream, and this will leave the System.in unmolested and still attached to the OS&#39;s system console.","body":"By your command line calls, you are telling the operating system to send the contents of the file to your Java program&#39;s standard input stream, and so this stream is no longer available to communicate with the OS&#39;s console. A way around this, to allow both is to pass the file name as a command line parameter, create a FileInputStream wrapped by a BufferedInputStream, and this will leave the System.in unmolested and still attached to the OS&#39;s system console."},{"owner":{"account_id":1127568,"reputation":8540,"user_id":1114453,"accept_rate":61,"display_name":"dariober"},"score":0,"creation_date":1558943572,"post_id":56316100,"comment_id":99251772,"body_markdown":"Sorry for being thick but...&quot; _pass the file name as a command line parameter_&quot; doesn&#39;t this defeat the point of what I&#39;m trying to do? That is, read a file from stdin first and then get the user&#39;s interactive input?","body":"Sorry for being thick but...&quot; <i>pass the file name as a command line parameter</i>&quot; doesn&#39;t this defeat the point of what I&#39;m trying to do? That is, read a file from stdin first and then get the user&#39;s interactive input?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1558955976,"post_id":56316100,"comment_id":99257595,"body_markdown":"No expert at this, but I have to wonder if what you&#39;re trying to do is impossible to do. But the best way to find out for sure is to place a bounty on your question after a few days.","body":"No expert at this, but I have to wonder if what you&#39;re trying to do is impossible to do. But the best way to find out for sure is to place a bounty on your question after a few days."}],"answers":[{"tags":[],"owner":{"account_id":1748947,"reputation":1890,"user_id":1598508,"accept_rate":100,"display_name":"Krzysztof Jabłoński"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682543973,"creation_date":1682543973,"answer_id":76115180,"question_id":56316100,"body_markdown":"It is not possible to do it the way you originally wanted to. Standard file descriptors are created by operating system as the process is being prepared to execute. When executed in a pipeline, downstream process&#39; input file descriptor is bound to the upstream process&#39; output file descriptor, hence only the first process in the pipeline has the input stream associated with the console.\r\n\r\nIt is however possible to redirect a non-standard file descriptor to a process from the file and execute the command as the only process in the pipeline like this:\r\n\r\n    someCommand 3&lt;file.txt\r\n\r\nIn principle, it works just fine. `someCommand` could read fd3 (file descriptor 3) and then read from standard input (fd0) as well. The catch is, it doesn&#39;t just work with pure java.\r\n\r\nJava does not support accessing non-standard file descriptors. So even if operating system binds the file you want to fd3, there&#39;s no way for your class to get to it without leaving cosy JVM context. It was discussed in a separate question https://stackoverflow.com/questions/4845122/using-a-numbered-file-descriptor-from-java and a user named user180100 has shared an interesting resource with some crude JNI solution: https://www.kfu.com/~nsayer/Java/jni-filedesc.html\r\nIn essence, native method is called which constructs a `FileDescriptor` class instance and sets it&#39;s `fd` field  to an integer value of file descriptor returned by `fopen` or `fileno` called from within the native context.","title":"Java: Read file from stdin then prompt user for input","body":"<p>It is not possible to do it the way you originally wanted to. Standard file descriptors are created by operating system as the process is being prepared to execute. When executed in a pipeline, downstream process' input file descriptor is bound to the upstream process' output file descriptor, hence only the first process in the pipeline has the input stream associated with the console.</p>\n<p>It is however possible to redirect a non-standard file descriptor to a process from the file and execute the command as the only process in the pipeline like this:</p>\n<pre><code>someCommand 3&lt;file.txt\n</code></pre>\n<p>In principle, it works just fine. <code>someCommand</code> could read fd3 (file descriptor 3) and then read from standard input (fd0) as well. The catch is, it doesn't just work with pure java.</p>\n<p>Java does not support accessing non-standard file descriptors. So even if operating system binds the file you want to fd3, there's no way for your class to get to it without leaving cosy JVM context. It was discussed in a separate question <a href=\"https://stackoverflow.com/questions/4845122/using-a-numbered-file-descriptor-from-java\">Using a numbered file descriptor from Java</a> and a user named user180100 has shared an interesting resource with some crude JNI solution: <a href=\"https://www.kfu.com/%7Ensayer/Java/jni-filedesc.html\" rel=\"nofollow noreferrer\">https://www.kfu.com/~nsayer/Java/jni-filedesc.html</a>\nIn essence, native method is called which constructs a <code>FileDescriptor</code> class instance and sets it's <code>fd</code> field  to an integer value of file descriptor returned by <code>fopen</code> or <code>fileno</code> called from within the native context.</p>\n"}],"owner":{"account_id":1127568,"reputation":8540,"user_id":1114453,"accept_rate":61,"display_name":"dariober"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682543973,"creation_date":1558893706,"question_id":56316100,"body_markdown":"I&#39;m writing a Java program that reads a file from `stdin` and then prompts the user for interactive input. It should be executed like:\r\n\r\n    cat file.txt | java -jar myprog.jar\r\n    #\r\n    # ...Read file.txt then prompt user:\r\n    #\r\n    Some input please: \r\n\r\nThe problem is that after reading `file.txt`, the `stdin` seems &quot;used up&quot; and I don&#39;t know how to restore it to get user&#39;s input. Here&#39;s an example of what I&#39;m trying to do:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tBufferedReader br= new BufferedReader(new InputStreamReader(System.in));\r\n    \t\tString line;\r\n    \t\twhile((line = br.readLine()) != null) {\r\n    \t\t\t// Do something with line\r\n    \t\t\tSystem.out.println(line);\r\n    \t\t}\r\n    \t\tbr.close();\r\n    \r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tString input= scanner.nextLine();\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nWhen I executed it, I get:\r\n\r\n    echo -e &quot;foo\\nbar\\nbaz&quot; | java -jar biojava-tmp.jar \r\n    foo\r\n    bar\r\n    baz\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n    \tat java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n    \tat biojava_tmp.Main.main(Main.java:21)\r\n\r\nHow can I resolve this?\r\n\r\n----\r\n\r\nPS: In my real program I don&#39;t use `Scanner`, instead I use [jline](https://github.com/jline/jline2) as below but I figure the problem is the same.\r\n\r\n    ConsoleReader console= new ConsoleReader();\r\n    console.readLine()\r\n\r\n","title":"Java: Read file from stdin then prompt user for input","body":"<p>I'm writing a Java program that reads a file from <code>stdin</code> and then prompts the user for interactive input. It should be executed like:</p>\n\n<pre><code>cat file.txt | java -jar myprog.jar\n#\n# ...Read file.txt then prompt user:\n#\nSome input please: \n</code></pre>\n\n<p>The problem is that after reading <code>file.txt</code>, the <code>stdin</code> seems \"used up\" and I don't know how to restore it to get user's input. Here's an example of what I'm trying to do:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n\n        BufferedReader br= new BufferedReader(new InputStreamReader(System.in));\n        String line;\n        while((line = br.readLine()) != null) {\n            // Do something with line\n            System.out.println(line);\n        }\n        br.close();\n\n        Scanner scanner = new Scanner(System.in);\n        String input= scanner.nextLine();\n\n    }\n}\n</code></pre>\n\n<p>When I executed it, I get:</p>\n\n<pre><code>echo -e \"foo\\nbar\\nbaz\" | java -jar biojava-tmp.jar \nfoo\nbar\nbaz\nException in thread \"main\" java.util.NoSuchElementException: No line found\n    at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n    at biojava_tmp.Main.main(Main.java:21)\n</code></pre>\n\n<p>How can I resolve this?</p>\n\n<hr>\n\n<p>PS: In my real program I don't use <code>Scanner</code>, instead I use <a href=\"https://github.com/jline/jline2\" rel=\"nofollow noreferrer\">jline</a> as below but I figure the problem is the same.</p>\n\n<pre><code>ConsoleReader console= new ConsoleReader();\nconsole.readLine()\n</code></pre>\n"},{"tags":["java","sql-server","android-studio"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1682545333,"post_id":76115133,"comment_id":134235098,"body_markdown":"`192.168.132.47` is a non-routable address for a LAN, you won&#39;t be able to reach it from a mobile (cellular) hotspot. Have you tried reconnecting to your LAN&#39;s wi-fi access point?","body":"<code>192.168.132.47</code> is a non-routable address for a LAN, you won&#39;t be able to reach it from a mobile (cellular) hotspot. Have you tried reconnecting to your LAN&#39;s wi-fi access point?"}],"owner":{"account_id":26399302,"reputation":1,"user_id":20049988,"display_name":"Abderrahmane El Hathout"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682543621,"creation_date":1682543621,"question_id":76115133,"body_markdown":"Im&#39; trying to connect to SQL Server database, it worked before but i don&#39;t know what&#39;s wrong here, can someone help \r\nMaybe it&#39;s worth mentioning that i&#39;m using mobile hotspot to connect to internet with pc (it has worked previously)\r\n\r\n```\r\n@SuppressLint(&quot;NewApi&quot;)\r\n    public Connection connectionClass() {\r\n        Connection con = null;\r\n\r\n        String ip = &quot;192.168.132.47&quot;, port = &quot;1433&quot;, username = &quot;abderahman&quot;, password = &quot;admin&quot;, databasename = &quot;APM_Recherche_Emploi&quot;;\r\n        StrictMode.ThreadPolicy tp = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(tp);\r\n        try {\r\n            Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n            String connectionUrl = &quot;jdbc:jtds:sqlserver://&quot; + ip + &quot;:&quot; + port + &quot;;databasename=&quot; + databasename + &quot;;User=&quot; + username + &quot;;password=&quot; + password + &quot;;&quot;;\r\n            con = DriverManager.getConnection(connectionUrl);\r\n        } catch (Exception exception) {\r\n            Log.e(&quot;Error&quot;, exception.getMessage());\r\n        }\r\n\r\n        return con;\r\n    }\r\n```\r\n\r\nClick listener code \r\n```\r\n sauvegarder.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String strnomEntreprise = nomEntreprise.getText().toString();\r\n                String strsecAct = secAct.getText().toString();\r\n                String strlieuAct = lieuAct.getText().toString();\r\n                String strdesc = descriptionEntreprise.getText().toString();\r\n\r\n                Connection connection;\r\n                ___ConnectionClass c = new ___ConnectionClass();\r\n                connection = c.connectionClass();\r\n                if (connection != null) {\r\n\r\n                    try {\r\n\r\n                       String SQLinsert = &quot;INSERT INTO Recruteur (Nom, Prenom, Entreprise, Description_Entreprise, Lieu_Activite_Entreprise, Secteur_Activite, Num_Tel, Email, Mot_de_passe) VALUES(&#39;&quot; + nomRec + &quot;&#39;,&#39;&quot; + prenomRec + &quot;&#39;,&#39;&quot; + strnomEntreprise + &quot;&#39;,&#39;&quot; + strdesc + &quot;&#39;,&#39;&quot; + strlieuAct + &quot;&#39;,&#39;&quot; + strsecAct + &quot;&#39;,&#39;&quot; + telRec + &quot;&#39;,&#39;&quot; + emailRec + &quot;&#39;,&#39;&quot; + passRec + &quot;&#39;);&quot;;\r\n                        Statement statement = connection.createStatement();\r\n                        int resultSet = statement.executeUpdate(SQLinsert);\r\n\r\n\r\n                    } catch (Exception exception) {\r\n                        Log.e(&quot;Error&quot;, exception.getMessage());\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n```\r\nHere is the android Manifest file \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.pfe_jobz_recherche_emploi&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n\r\n    &lt;application\r\n       // just activities here \r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\n\r\n\r\nAdded jtds jar file, and TCP/IP is enabled","title":"Can&#39;t connect tp SQL Server in android studio via TCP/IP","body":"<p>Im' trying to connect to SQL Server database, it worked before but i don't know what's wrong here, can someone help\nMaybe it's worth mentioning that i'm using mobile hotspot to connect to internet with pc (it has worked previously)</p>\n<pre><code>@SuppressLint(&quot;NewApi&quot;)\n    public Connection connectionClass() {\n        Connection con = null;\n\n        String ip = &quot;192.168.132.47&quot;, port = &quot;1433&quot;, username = &quot;abderahman&quot;, password = &quot;admin&quot;, databasename = &quot;APM_Recherche_Emploi&quot;;\n        StrictMode.ThreadPolicy tp = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n        StrictMode.setThreadPolicy(tp);\n        try {\n            Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n            String connectionUrl = &quot;jdbc:jtds:sqlserver://&quot; + ip + &quot;:&quot; + port + &quot;;databasename=&quot; + databasename + &quot;;User=&quot; + username + &quot;;password=&quot; + password + &quot;;&quot;;\n            con = DriverManager.getConnection(connectionUrl);\n        } catch (Exception exception) {\n            Log.e(&quot;Error&quot;, exception.getMessage());\n        }\n\n        return con;\n    }\n</code></pre>\n<p>Click listener code</p>\n<pre><code> sauvegarder.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String strnomEntreprise = nomEntreprise.getText().toString();\n                String strsecAct = secAct.getText().toString();\n                String strlieuAct = lieuAct.getText().toString();\n                String strdesc = descriptionEntreprise.getText().toString();\n\n                Connection connection;\n                ___ConnectionClass c = new ___ConnectionClass();\n                connection = c.connectionClass();\n                if (connection != null) {\n\n                    try {\n\n                       String SQLinsert = &quot;INSERT INTO Recruteur (Nom, Prenom, Entreprise, Description_Entreprise, Lieu_Activite_Entreprise, Secteur_Activite, Num_Tel, Email, Mot_de_passe) VALUES('&quot; + nomRec + &quot;','&quot; + prenomRec + &quot;','&quot; + strnomEntreprise + &quot;','&quot; + strdesc + &quot;','&quot; + strlieuAct + &quot;','&quot; + strsecAct + &quot;','&quot; + telRec + &quot;','&quot; + emailRec + &quot;','&quot; + passRec + &quot;');&quot;;\n                        Statement statement = connection.createStatement();\n                        int resultSet = statement.executeUpdate(SQLinsert);\n\n\n                    } catch (Exception exception) {\n                        Log.e(&quot;Error&quot;, exception.getMessage());\n                    }\n                }\n            }\n        });\n\n</code></pre>\n<p>Here is the android Manifest file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.pfe_jobz_recherche_emploi&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\n\n    &lt;application\n       // just activities here \n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Added jtds jar file, and TCP/IP is enabled</p>\n"},{"tags":["java","apache-kafka","avro","flink-streaming"],"owner":{"account_id":28425970,"reputation":1,"user_id":21747346,"display_name":"Maurya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682542937,"creation_date":1682534007,"question_id":76114012,"body_markdown":"I have a flink application written in Java that reads messages from a given kafka topic and uses a given subject name to get latest schema from schema registry. It uses this schema to deserialize the message and put it into an s3 bucket in parquet format. However, the application seems to run when I am using a schema of a small size , about 10 fields. But, I am unable to run the application when I am using a schema of larger size about 160 fields.\r\n\r\n\r\nIt results in an exception as below\r\n\r\n\r\n```\r\nCaused by: org.apache.flink.streaming.runtime.tasks.StreamTaskException: Could not serialize inputs.\r\n\tat org.apache.flink.streaming.api.graph.StreamConfig.setInputs(StreamConfig.java:262)\r\nCaused by: org.apache.flink.streaming.runtime.tasks.StreamTaskException: Could not serialize inputs.\r\n\r\n\tat org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.setVertexConfig(StreamingJobGraphGenerator.java:688)\r\n\tat org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.createChain(StreamingJobGraphGenerator.java:460)\r\n\tat org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.createChain(StreamingJobGraphGenerator.java:412)\r\n\tat org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.createChain(StreamingJobGraphGenerator.java:412)\r\n\tat org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.createChain(StreamingJobGraphGenerator.java:412)\r\n\tat org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.setChaining(StreamingJobGraphGenerator.java:378)\r\n\tat org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.createJobGraph(StreamingJobGraphGenerator.java:179)\r\n\tat org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.createJobGraph(StreamingJobGraphGenerator.java:117)\r\n\tat org.apache.flink.streaming.api.graph.StreamGraph.getJobGraph(StreamGraph.java:934)\r\n\tat org.apache.flink.client.StreamGraphTranslator.translateToJobGraph(StreamGraphTranslator.java:50)\r\n\tat org.apache.flink.client.FlinkPipelineTranslationUtil.getJobGraph(FlinkPipelineTranslationUtil.java:39)\r\n\tat org.apache.flink.client.deployment.executors.PipelineExecutorUtils.getJobGraph(PipelineExecutorUtils.java:56)\r\n\tat org.apache.flink.client.deployment.executors.LocalExecutor.getJobGraph(LocalExecutor.java:104)\r\n\tat org.apache.flink.client.deployment.executors.LocalExecutor.execute(LocalExecutor.java:82)\r\n\tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.executeAsync(StreamExecutionEnvironment.java:1957)\r\n\tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1848)\r\n\tat org.apache.flink.streaming.api.environment.LocalStreamEnvironment.execute(LocalStreamEnvironment.java:69)\r\n\tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1834)\r\n\tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1817)\r\n\tat com.thomsonreuters.connector.FlinkS3MultiSink.kafkaS3ConsumeData(FlinkS3MultiSink.java:141)\r\n\t... 1 more\r\nCaused by: java.io.UTFDataFormatException\r\nCaused by: java.io.UTFDataFormatException\r\n\r\n\tat java.base/java.io.ObjectOutputStream$BlockDataOutputStream.writeUTF(ObjectOutputStream.java:2170)\r\n\tat java.base/java.io.ObjectOutputStream$BlockDataOutputStream.writeUTF(ObjectOutputStream.java:2013)\r\n\tat java.base/java.io.ObjectOutputStream.writeUTF(ObjectOutputStream.java:872)\r\n\tat org.apache.flink.formats.avro.typeutils.SerializableAvroSchema.writeObject(SerializableAvroSchema.java:55)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1145)\r\n\tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1497)\r\n\tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\r\n\tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\r\n\tat java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\r\n\tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)\r\n\tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\r\n\tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\r\n\tat java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\r\n\tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)\r\n\tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\r\n\tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\r\n\tat java.base/java.io.ObjectOutputStream.writeArray(ObjectOutputStream.java:1379)\r\n\tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1175)\r\n\tat java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)\r\n\tat org.apache.flink.util.InstantiationUtil.serializeObject(InstantiationUtil.java:624)\r\n\tat org.apache.flink.util.InstantiationUtil.writeObjectToConfig(InstantiationUtil.java:546)\r\n\tat org.apache.flink.streaming.api.graph.StreamConfig.setInputs(StreamConfig.java:260)\r\n\t... 21 more\r\n\r\n```\r\n\r\nKafka Source logic\r\n```\r\nfinal KafkaSource&lt;GenericRecordWrapper&gt; source = KafkaSource.&lt;GenericRecordWrapper&gt;builder()\r\n\t\t\t\t\t.setBootstrapServers(connectorProperties.getBootstrapServers())\r\n\t\t\t\t\t.setTopics(topicList)\r\n\t\t\t\t\t.setGroupId(connectorProperties.getGroupId())\r\n\t\t\t\t\t.setStartingOffsets(OffsetsInitializer.latest())\r\n\t\t\t\t\t.setProperty(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, connectorProperties.getSecurityProtocol())\r\n\t\t\t\t\t.setProperty(SaslConfigs.SASL_MECHANISM, connectorProperties.getSaslMechanism())\r\n\t\t\t\t\t.setProperty(SaslConfigs.SASL_JAAS_CONFIG, connectorProperties.getSaslJaasConfig())\r\n\t\t\t\t\t.setProperties(connectorProperties.getKafkaConsumerConfig())\r\n\t\t\t\t\t.setDeserializer(KafkaRecordDeserializationSchema.of(new CustomGenDeserializer(avroSchema, connectorProperties.getSchemaRegistryUrl()))).build();\r\n```\r\n\r\nDeserialization logic\r\n\r\n```\r\nprivate final transient Schema schema;\r\nprivate final DeserializationSchema&lt;?&gt; deserializationSchema;\r\n\tpublic CustomGenDeserializer(final Schema avroSchema, final String registryUrl)\r\n\t{\r\n\t\tschema = avroSchema;\r\n\t\tdeserializationSchema = ConfluentRegistryAvroDeserializationSchema.forGeneric(avroSchema, registryUrl);\r\n\t}\r\n\r\n@Override\r\n\tpublic GenericRecordWrapper deserialize(final ConsumerRecord&lt;byte[], byte[]&gt; consumerRecord) throws Exception\r\n\t{\r\n\t\tGenericRecordWrapper obj = new GenericRecordWrapper();\r\n\t\ttry\r\n\t\t{\r\n\t\t\tobj.setTopicName(consumerRecord.topic());\r\n\t\t\tGenericRecord genericRecord = (GenericRecord) deserializationSchema.deserialize(consumerRecord.value());\r\n\t\t\tlog.info(&quot;key: {}, topic: {}, partition: {}, offset: {}&quot;, consumerRecord.key() != null ? new String(consumerRecord.key()) : consumerRecord.key(),\r\n\t\t\t\t\t consumerRecord.topic(), consumerRecord.partition(), consumerRecord.offset());\r\n\t\t\tobj.setGenericRecord(genericRecord);\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tlog.error(&quot;Error deserializing record with topic-name: {}, partition: {}, offset: {}, timestamp: {}, key: {}, value: {}&quot;,\r\n\t\t\t\t\t  consumerRecord.topic(), consumerRecord.partition(), consumerRecord.offset(), consumerRecord.timestamp(),\r\n\t\t\t\t\t  consumerRecord.key() != null ? new String(consumerRecord.key()) : consumerRecord.key(),\r\n\t\t\t\t\t  consumerRecord.value() != null ? new String(consumerRecord.value()) : consumerRecord.value());\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn obj;\r\n\t}\r\n```\r\n\r\nI have tried to run the application when the topic was empty and when it had exactly one message. In both scenarios, I am getting the same error as above. From the error, it seems like it is unable to serialize inputs. (I suspect it to be the schema because it only happens when I use the large schema). which led me to believe that I may need to configure the application differently when using a large schema.\r\n\r\nI know that the schema I am using is perfectly fine and is in an expected avro format as I am using it to produce message and also consume messages from a different consumer springboot application.\r\n\r\n\r\nPlease advise if I need to using any specific configs in a flink application when using large schema.\r\n\r\nApplication version details\r\nFlink : 1.13.2\r\nJava : 1.11\r\n","title":"Flink application doesn&#39;t seem to run when using a large avro schema","body":"<p>I have a flink application written in Java that reads messages from a given kafka topic and uses a given subject name to get latest schema from schema registry. It uses this schema to deserialize the message and put it into an s3 bucket in parquet format. However, the application seems to run when I am using a schema of a small size , about 10 fields. But, I am unable to run the application when I am using a schema of larger size about 160 fields.</p>\n<p>It results in an exception as below</p>\n<pre><code>Caused by: org.apache.flink.streaming.runtime.tasks.StreamTaskException: Could not serialize inputs.\n    at org.apache.flink.streaming.api.graph.StreamConfig.setInputs(StreamConfig.java:262)\nCaused by: org.apache.flink.streaming.runtime.tasks.StreamTaskException: Could not serialize inputs.\n\n    at org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.setVertexConfig(StreamingJobGraphGenerator.java:688)\n    at org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.createChain(StreamingJobGraphGenerator.java:460)\n    at org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.createChain(StreamingJobGraphGenerator.java:412)\n    at org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.createChain(StreamingJobGraphGenerator.java:412)\n    at org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.createChain(StreamingJobGraphGenerator.java:412)\n    at org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.setChaining(StreamingJobGraphGenerator.java:378)\n    at org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.createJobGraph(StreamingJobGraphGenerator.java:179)\n    at org.apache.flink.streaming.api.graph.StreamingJobGraphGenerator.createJobGraph(StreamingJobGraphGenerator.java:117)\n    at org.apache.flink.streaming.api.graph.StreamGraph.getJobGraph(StreamGraph.java:934)\n    at org.apache.flink.client.StreamGraphTranslator.translateToJobGraph(StreamGraphTranslator.java:50)\n    at org.apache.flink.client.FlinkPipelineTranslationUtil.getJobGraph(FlinkPipelineTranslationUtil.java:39)\n    at org.apache.flink.client.deployment.executors.PipelineExecutorUtils.getJobGraph(PipelineExecutorUtils.java:56)\n    at org.apache.flink.client.deployment.executors.LocalExecutor.getJobGraph(LocalExecutor.java:104)\n    at org.apache.flink.client.deployment.executors.LocalExecutor.execute(LocalExecutor.java:82)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.executeAsync(StreamExecutionEnvironment.java:1957)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1848)\n    at org.apache.flink.streaming.api.environment.LocalStreamEnvironment.execute(LocalStreamEnvironment.java:69)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1834)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:1817)\n    at com.thomsonreuters.connector.FlinkS3MultiSink.kafkaS3ConsumeData(FlinkS3MultiSink.java:141)\n    ... 1 more\nCaused by: java.io.UTFDataFormatException\nCaused by: java.io.UTFDataFormatException\n\n    at java.base/java.io.ObjectOutputStream$BlockDataOutputStream.writeUTF(ObjectOutputStream.java:2170)\n    at java.base/java.io.ObjectOutputStream$BlockDataOutputStream.writeUTF(ObjectOutputStream.java:2013)\n    at java.base/java.io.ObjectOutputStream.writeUTF(ObjectOutputStream.java:872)\n    at org.apache.flink.formats.avro.typeutils.SerializableAvroSchema.writeObject(SerializableAvroSchema.java:55)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1145)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1497)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\n    at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\n    at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1553)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1510)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1433)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1179)\n    at java.base/java.io.ObjectOutputStream.writeArray(ObjectOutputStream.java:1379)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1175)\n    at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:349)\n    at org.apache.flink.util.InstantiationUtil.serializeObject(InstantiationUtil.java:624)\n    at org.apache.flink.util.InstantiationUtil.writeObjectToConfig(InstantiationUtil.java:546)\n    at org.apache.flink.streaming.api.graph.StreamConfig.setInputs(StreamConfig.java:260)\n    ... 21 more\n\n</code></pre>\n<p>Kafka Source logic</p>\n<pre><code>final KafkaSource&lt;GenericRecordWrapper&gt; source = KafkaSource.&lt;GenericRecordWrapper&gt;builder()\n                    .setBootstrapServers(connectorProperties.getBootstrapServers())\n                    .setTopics(topicList)\n                    .setGroupId(connectorProperties.getGroupId())\n                    .setStartingOffsets(OffsetsInitializer.latest())\n                    .setProperty(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, connectorProperties.getSecurityProtocol())\n                    .setProperty(SaslConfigs.SASL_MECHANISM, connectorProperties.getSaslMechanism())\n                    .setProperty(SaslConfigs.SASL_JAAS_CONFIG, connectorProperties.getSaslJaasConfig())\n                    .setProperties(connectorProperties.getKafkaConsumerConfig())\n                    .setDeserializer(KafkaRecordDeserializationSchema.of(new CustomGenDeserializer(avroSchema, connectorProperties.getSchemaRegistryUrl()))).build();\n</code></pre>\n<p>Deserialization logic</p>\n<pre><code>private final transient Schema schema;\nprivate final DeserializationSchema&lt;?&gt; deserializationSchema;\n    public CustomGenDeserializer(final Schema avroSchema, final String registryUrl)\n    {\n        schema = avroSchema;\n        deserializationSchema = ConfluentRegistryAvroDeserializationSchema.forGeneric(avroSchema, registryUrl);\n    }\n\n@Override\n    public GenericRecordWrapper deserialize(final ConsumerRecord&lt;byte[], byte[]&gt; consumerRecord) throws Exception\n    {\n        GenericRecordWrapper obj = new GenericRecordWrapper();\n        try\n        {\n            obj.setTopicName(consumerRecord.topic());\n            GenericRecord genericRecord = (GenericRecord) deserializationSchema.deserialize(consumerRecord.value());\n            log.info(&quot;key: {}, topic: {}, partition: {}, offset: {}&quot;, consumerRecord.key() != null ? new String(consumerRecord.key()) : consumerRecord.key(),\n                     consumerRecord.topic(), consumerRecord.partition(), consumerRecord.offset());\n            obj.setGenericRecord(genericRecord);\n        }\n        catch (Exception e)\n        {\n            log.error(&quot;Error deserializing record with topic-name: {}, partition: {}, offset: {}, timestamp: {}, key: {}, value: {}&quot;,\n                      consumerRecord.topic(), consumerRecord.partition(), consumerRecord.offset(), consumerRecord.timestamp(),\n                      consumerRecord.key() != null ? new String(consumerRecord.key()) : consumerRecord.key(),\n                      consumerRecord.value() != null ? new String(consumerRecord.value()) : consumerRecord.value());\n            return null;\n        }\n        return obj;\n    }\n</code></pre>\n<p>I have tried to run the application when the topic was empty and when it had exactly one message. In both scenarios, I am getting the same error as above. From the error, it seems like it is unable to serialize inputs. (I suspect it to be the schema because it only happens when I use the large schema). which led me to believe that I may need to configure the application differently when using a large schema.</p>\n<p>I know that the schema I am using is perfectly fine and is in an expected avro format as I am using it to produce message and also consume messages from a different consumer springboot application.</p>\n<p>Please advise if I need to using any specific configs in a flink application when using large schema.</p>\n<p>Application version details\nFlink : 1.13.2\nJava : 1.11</p>\n"},{"tags":["java","avro"],"owner":{"account_id":6433608,"reputation":927,"user_id":4985852,"accept_rate":62,"display_name":"Zichen Ma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682542877,"creation_date":1682480921,"question_id":76107042,"body_markdown":"I am working on a schema.avsc file, which need to have a enum field and it&#39;s optional. My partial avsc schema is like this:\r\n\r\n    {\r\n          &quot;name&quot;: &quot;StrategyType&quot;,\r\n          &quot;type&quot;: [&quot;null&quot;, {\r\n            &quot;type&quot;: &quot;enum&quot;,\r\n            &quot;name&quot;: &quot;StrategyType&quot;,\r\n            &quot;symbols&quot;: [&quot;TYPE_A&quot;, &quot;TYPE_B&quot;]\r\n          }]\r\n        }\r\nhowever, when I try to use confluent-7.3.2 producer to produce a sample message like this: \r\n\r\n    {\r\n        ...,\r\n        &quot;StrategyType&quot;: &quot;TYPE_A&quot;\r\n    }\r\nor  \r\n\r\n    {\r\n            ...,\r\n            &quot;StrategyType&quot;: {&quot;enum&quot; : &quot;TYPE_A&quot;}\r\n        }\r\nor  \r\n\r\n    {\r\n            ...,\r\n            &quot;StrategyType&quot;: {&quot;string&quot; : &quot;TYPE_A&quot;}\r\n        }\r\nor in https://stackoverflow.com/questions/50283736/avro-enum-field which added the name space, like this (it worked once, but now failed again): \r\n\r\n    &quot;StrategyType&quot;: {\r\n            &quot;com.namespace.StrategyType&quot;: &quot;TYPE_A&quot;\r\n        }\r\n\r\nIt all throw errors: \r\n\r\n    Caused by: org.apache.avro.AvroTypeException: Expected start-union. Got VALUE_STRING\r\n    \tat org.apache.avro.io.JsonDecoder.error(JsonDecoder.java:511)\r\n    \tat org.apache.avro.io.JsonDecoder.readIndex(JsonDecoder.java:430)\r\n    \tat org.apache.avro.io.ResolvingDecoder.readIndex(ResolvingDecoder.java:282)\r\n    \tat org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:188)\r\n    \tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:161)\r\n    \tat org.apache.avro.generic.GenericDatumReader.readField(GenericDatumReader.java:260)\r\n    \tat org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:248)\r\n    \tat org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:180)\r\n    \tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:161)\r\n    \tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:154)\r\n    \tat io.confluent.kafka.schemaregistry.avro.AvroSchemaUtils.toObject(AvroSchemaUtils.java:214)\r\n    \tat io.confluent.kafka.formatter.AvroMessageReader.readFrom(AvroMessageReader.java:124)\r\n\r\nIf I put StrategyType is null, it works. Any ideas, how to fix this issue? Thanks a lot in advanced!","title":"Avro ENUM field: Caused by: org.apache.avro.AvroTypeException: Expected start-union. Got VALUE_STRING","body":"<p>I am working on a schema.avsc file, which need to have a enum field and it's optional. My partial avsc schema is like this:</p>\n<pre><code>{\n      &quot;name&quot;: &quot;StrategyType&quot;,\n      &quot;type&quot;: [&quot;null&quot;, {\n        &quot;type&quot;: &quot;enum&quot;,\n        &quot;name&quot;: &quot;StrategyType&quot;,\n        &quot;symbols&quot;: [&quot;TYPE_A&quot;, &quot;TYPE_B&quot;]\n      }]\n    }\n</code></pre>\n<p>however, when I try to use confluent-7.3.2 producer to produce a sample message like this:</p>\n<pre><code>{\n    ...,\n    &quot;StrategyType&quot;: &quot;TYPE_A&quot;\n}\n</code></pre>\n<p>or</p>\n<pre><code>{\n        ...,\n        &quot;StrategyType&quot;: {&quot;enum&quot; : &quot;TYPE_A&quot;}\n    }\n</code></pre>\n<p>or</p>\n<pre><code>{\n        ...,\n        &quot;StrategyType&quot;: {&quot;string&quot; : &quot;TYPE_A&quot;}\n    }\n</code></pre>\n<p>or in <a href=\"https://stackoverflow.com/questions/50283736/avro-enum-field\">Avro ENUM field</a> which added the name space, like this (it worked once, but now failed again):</p>\n<pre><code>&quot;StrategyType&quot;: {\n        &quot;com.namespace.StrategyType&quot;: &quot;TYPE_A&quot;\n    }\n</code></pre>\n<p>It all throw errors:</p>\n<pre><code>Caused by: org.apache.avro.AvroTypeException: Expected start-union. Got VALUE_STRING\n    at org.apache.avro.io.JsonDecoder.error(JsonDecoder.java:511)\n    at org.apache.avro.io.JsonDecoder.readIndex(JsonDecoder.java:430)\n    at org.apache.avro.io.ResolvingDecoder.readIndex(ResolvingDecoder.java:282)\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:188)\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:161)\n    at org.apache.avro.generic.GenericDatumReader.readField(GenericDatumReader.java:260)\n    at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:248)\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:180)\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:161)\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:154)\n    at io.confluent.kafka.schemaregistry.avro.AvroSchemaUtils.toObject(AvroSchemaUtils.java:214)\n    at io.confluent.kafka.formatter.AvroMessageReader.readFrom(AvroMessageReader.java:124)\n</code></pre>\n<p>If I put StrategyType is null, it works. Any ideas, how to fix this issue? Thanks a lot in advanced!</p>\n"},{"tags":["java","gradle","intellij-idea","java-native-interface"],"answers":[{"tags":[],"owner":{"display_name":"user11416826"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644495655,"creation_date":1644495655,"answer_id":71065002,"question_id":71025738,"body_markdown":"I simply changed my approach and am now loading my native libraries at Runtime in the class which defines the native functions using\r\n\r\n    static {\r\n       System.load(&#39;absolute Path to .so file&#39;)\r\n    }\r\n\r\nWorks like a charm.","title":"Gradle add native library dir to java.library.path (not for test but for run)","body":"<p>I simply changed my approach and am now loading my native libraries at Runtime in the class which defines the native functions using</p>\n<pre><code>static {\n   System.load('absolute Path to .so file')\n}\n</code></pre>\n<p>Works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":122494,"reputation":14696,"user_id":316343,"accept_rate":62,"display_name":"Jahan Zinedine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682542751,"creation_date":1682324076,"answer_id":76089883,"question_id":71025738,"body_markdown":"For `run` task:\r\n\r\n```\r\napplication {\r\n    mainClass.set(&quot;x.y.ApplicationKt&quot;)\r\n\r\n    applicationDefaultJvmArgs += listOf(\r\n        &quot;-Djava.library.path=${projectDir}/libs/your_native_library_folder/&quot;\r\n    )\r\n}\r\n```\r\n\r\nFor my Kotlin project to have tests working:\r\n\r\n    tasks.withType&lt;Test&gt;().all {\r\n        systemProperty(\r\n            &quot;java.library.path&quot;,\r\n            &quot;someAbsolutePath:anotherPath&quot; //Replace : with ; for windows\r\n        )\r\n    }\r\n\r\nFor typical Gradle projects:\r\n\r\n    test{\r\n        systemProperty(\r\n            &quot;java.library.path&quot;,\r\n            &quot;someAbsolutePath:anotherPath&quot; //Replace : with ; for windows\r\n        )\r\n    }\r\n\r\n\r\n","title":"Gradle add native library dir to java.library.path (not for test but for run)","body":"<p>For <code>run</code> task:</p>\n<pre><code>application {\n    mainClass.set(&quot;x.y.ApplicationKt&quot;)\n\n    applicationDefaultJvmArgs += listOf(\n        &quot;-Djava.library.path=${projectDir}/libs/your_native_library_folder/&quot;\n    )\n}\n</code></pre>\n<p>For my Kotlin project to have tests working:</p>\n<pre><code>tasks.withType&lt;Test&gt;().all {\n    systemProperty(\n        &quot;java.library.path&quot;,\n        &quot;someAbsolutePath:anotherPath&quot; //Replace : with ; for windows\n    )\n}\n</code></pre>\n<p>For typical Gradle projects:</p>\n<pre><code>test{\n    systemProperty(\n        &quot;java.library.path&quot;,\n        &quot;someAbsolutePath:anotherPath&quot; //Replace : with ; for windows\n    )\n}\n</code></pre>\n"}],"owner":{"display_name":"user11416826"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3797,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":71065002,"answer_count":2,"score":7,"last_activity_date":1682542751,"creation_date":1644269920,"question_id":71025738,"body_markdown":"Maybe someone here can help me.\r\nI have a Java Project in which I use Gradle and process the whole thing in IntelliJ. (Specs down below)\r\n\r\nIn my project I use JNI and write my own C++ library (.so file) which I put in a directory in my project e.g. `./native/build/lib/main/debug/libnative.so`.\r\n\r\nNow, when running my program normally in IntelliJ, I want the VM to add the path of my `.so`-library to the `java.library.path` and use it accordingly.\r\nAt the moment I have to do this for each main class individually by going to `Edit Configurations` and under `Modify Options &gt; Add VM Options` add `-Djava.library.path=...../native/build/lib/main/debug`. But somehow it must be possible to set this globally for all classes in gradle, or not ?\r\n\r\nI know you can add in `gradle.build` the java.library.path for tests like follows \r\n\r\n    test {\r\n        systemProperty &#39;java.library.path&#39;,&#39;path/to/directory&#39;\r\n    }\r\n\r\nbut I don&#39;t need this for the tests but for the normal run/start of a main function in a class when clicking the green Arrow in IntelliJ. I already tried to add it in all task like follows\r\n\r\n    compileJava {\r\n        &quot;-Djava.library.path=${System.getProperty(&#39;java.library.path&#39;)}:${project(&#39;:native&#39;).buildDir}/lib/main/debug&quot;\r\n    }\r\n    processResources {\r\n        &quot;-Djava.library.path=${System.getProperty(&#39;java.library.path&#39;)}:${project(&#39;:native&#39;).buildDir}/lib/main/debug&quot;\r\n    }\r\n    classes {\r\n        &quot;-Djava.library.path=${System.getProperty(&#39;java.library.path&#39;)}:${project(&#39;:native&#39;).buildDir}/lib/main/debug&quot;\r\n    }\r\n    jar {\r\n        &quot;-Djava.library.path=${System.getProperty(&#39;java.library.path&#39;)}:${project(&#39;:native&#39;).buildDir}/lib/main/debug&quot;\r\n    }\r\n    startScripts {\r\n        &quot;-Djava.library.path=${System.getProperty(&#39;java.library.path&#39;)}:${project(&#39;:native&#39;).buildDir}/lib/main/debug&quot;\r\n    }\r\n    installDist {\r\n        &quot;-Djava.library.path=${System.getProperty(&#39;java.library.path&#39;)}:${project(&#39;:native&#39;).buildDir}/lib/main/debug&quot;\r\n    }\r\n    build {\r\n        &quot;-Djava.library.path=${System.getProperty(&#39;java.library.path&#39;)}:${project(&#39;:native&#39;).buildDir}/lib/main/debug&quot;\r\n    }\r\nbut without success. Note that only in `test` &#39;systemProperty&#39; can be used. Since in other tasks a &#39;No Signature Method exception&#39; is thrown .When I try to start the program I get `Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no native in java.library.path: [/usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]`.\r\n\r\nI use here simply the following class:\r\n\r\n    public class A {\r\n        public static native void print0();\r\n\r\n        static {\r\n            System.loadLibrary(&quot;native&quot;);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            print0();\r\n        }\r\n    }\r\n\r\nand yes, it works when i individually set `-Djava.library.path...` in `Run Configuration`\r\n\r\nEnvironment:\r\n- IntelliJ IDEA Ultimate 2021.3.2\r\n- AdoptOpenJDK 11.0.11+9 hs\r\n- Gradle 7.1","title":"Gradle add native library dir to java.library.path (not for test but for run)","body":"<p>Maybe someone here can help me.\nI have a Java Project in which I use Gradle and process the whole thing in IntelliJ. (Specs down below)</p>\n<p>In my project I use JNI and write my own C++ library (.so file) which I put in a directory in my project e.g. <code>./native/build/lib/main/debug/libnative.so</code>.</p>\n<p>Now, when running my program normally in IntelliJ, I want the VM to add the path of my <code>.so</code>-library to the <code>java.library.path</code> and use it accordingly.\nAt the moment I have to do this for each main class individually by going to <code>Edit Configurations</code> and under <code>Modify Options &gt; Add VM Options</code> add <code>-Djava.library.path=...../native/build/lib/main/debug</code>. But somehow it must be possible to set this globally for all classes in gradle, or not ?</p>\n<p>I know you can add in <code>gradle.build</code> the java.library.path for tests like follows</p>\n<pre><code>test {\n    systemProperty 'java.library.path','path/to/directory'\n}\n</code></pre>\n<p>but I don't need this for the tests but for the normal run/start of a main function in a class when clicking the green Arrow in IntelliJ. I already tried to add it in all task like follows</p>\n<pre><code>compileJava {\n    &quot;-Djava.library.path=${System.getProperty('java.library.path')}:${project(':native').buildDir}/lib/main/debug&quot;\n}\nprocessResources {\n    &quot;-Djava.library.path=${System.getProperty('java.library.path')}:${project(':native').buildDir}/lib/main/debug&quot;\n}\nclasses {\n    &quot;-Djava.library.path=${System.getProperty('java.library.path')}:${project(':native').buildDir}/lib/main/debug&quot;\n}\njar {\n    &quot;-Djava.library.path=${System.getProperty('java.library.path')}:${project(':native').buildDir}/lib/main/debug&quot;\n}\nstartScripts {\n    &quot;-Djava.library.path=${System.getProperty('java.library.path')}:${project(':native').buildDir}/lib/main/debug&quot;\n}\ninstallDist {\n    &quot;-Djava.library.path=${System.getProperty('java.library.path')}:${project(':native').buildDir}/lib/main/debug&quot;\n}\nbuild {\n    &quot;-Djava.library.path=${System.getProperty('java.library.path')}:${project(':native').buildDir}/lib/main/debug&quot;\n}\n</code></pre>\n<p>but without success. Note that only in <code>test</code> 'systemProperty' can be used. Since in other tasks a 'No Signature Method exception' is thrown .When I try to start the program I get <code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no native in java.library.path: [/usr/java/packages/lib, /usr/lib64, /lib64, /lib, /usr/lib]</code>.</p>\n<p>I use here simply the following class:</p>\n<pre><code>public class A {\n    public static native void print0();\n\n    static {\n        System.loadLibrary(&quot;native&quot;);\n    }\n\n    public static void main(String[] args) {\n        print0();\n    }\n}\n</code></pre>\n<p>and yes, it works when i individually set <code>-Djava.library.path...</code> in <code>Run Configuration</code></p>\n<p>Environment:</p>\n<ul>\n<li>IntelliJ IDEA Ultimate 2021.3.2</li>\n<li>AdoptOpenJDK 11.0.11+9 hs</li>\n<li>Gradle 7.1</li>\n</ul>\n"},{"tags":["java","guava"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1512338894,"creation_date":1429805642,"answer_id":29829037,"question_id":29828829,"body_markdown":"You could explicitly create a builder:\r\n\r\n    ImmutableMap&lt;String, Long&gt; oldPrices = ImmutableMap.of(&quot;banana&quot;, 4, &quot;apple&quot;, 7);\r\n    ImmutableMap&lt;String, Long&gt; newPrices =\r\n        new ImmutableMap.Builder()\r\n        .putAll(oldPrices)\r\n        .put(&quot;orange&quot;, 9)\r\n        .build();\r\n\r\nEDIT:&lt;br/&gt;\r\nAs noted in the comments, this won&#39;t allow overriding existing values. This can be done by going through an initializer block of a different `Map` (e.g., a `HashMap`). It&#39;s anything but elegant, but it should work:\r\n\r\n    ImmutableMap&lt;String, Long&gt; oldPrices = ImmutableMap.of(&quot;banana&quot;, 4, &quot;apple&quot;, 7);\r\n    ImmutableMap&lt;String, Long&gt; newPrices =\r\n        new ImmutableMap.Builder()\r\n        .putAll(new HashMap&lt;&gt;() {{\r\n            putAll(oldPrices);\r\n            put(&quot;orange&quot;, 9); // new value\r\n            put(&quot;apple&quot;, 12); // override an old value\r\n         }})\r\n        .build();\r\n","title":"Copy an ImmutableMap with additional or new values","body":"<p>You could explicitly create a builder:</p>\n\n<pre><code>ImmutableMap&lt;String, Long&gt; oldPrices = ImmutableMap.of(\"banana\", 4, \"apple\", 7);\nImmutableMap&lt;String, Long&gt; newPrices =\n    new ImmutableMap.Builder()\n    .putAll(oldPrices)\n    .put(\"orange\", 9)\n    .build();\n</code></pre>\n\n<p>EDIT:<br/>\nAs noted in the comments, this won't allow overriding existing values. This can be done by going through an initializer block of a different <code>Map</code> (e.g., a <code>HashMap</code>). It's anything but elegant, but it should work:</p>\n\n<pre><code>ImmutableMap&lt;String, Long&gt; oldPrices = ImmutableMap.of(\"banana\", 4, \"apple\", 7);\nImmutableMap&lt;String, Long&gt; newPrices =\n    new ImmutableMap.Builder()\n    .putAll(new HashMap&lt;&gt;() {{\n        putAll(oldPrices);\n        put(\"orange\", 9); // new value\n        put(\"apple\", 12); // override an old value\n     }})\n    .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":34025,"reputation":23628,"user_id":95725,"display_name":"NamshubWriter"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1429931620,"creation_date":1429931620,"answer_id":29860574,"question_id":29828829,"body_markdown":"Just copy the `ImmutableMap` into a new `HashMap`, add the items, and convert to a new `ImmutableMap`\r\n\r\n    ImmutableMap&lt;String, Long&gt; oldPrices = ImmutableMap.of(&quot;banana&quot;, 4, &quot;apple&quot;, 7);\r\n    Map&lt;String, Long&gt; copy = new HashMap&lt;&gt;(oldPrices);\r\n    copy.put(&quot;orange&quot;, 9); // add a new entry\r\n    copy.put(&quot;apple&quot;, 12); // replace the value of an existing entry\r\n\r\n    ImmutableMap&lt;String, Long&gt; newPrices = ImmutableMap.copyOf(copy);\r\n ","title":"Copy an ImmutableMap with additional or new values","body":"<p>Just copy the <code>ImmutableMap</code> into a new <code>HashMap</code>, add the items, and convert to a new <code>ImmutableMap</code></p>\n\n<pre><code>ImmutableMap&lt;String, Long&gt; oldPrices = ImmutableMap.of(\"banana\", 4, \"apple\", 7);\nMap&lt;String, Long&gt; copy = new HashMap&lt;&gt;(oldPrices);\ncopy.put(\"orange\", 9); // add a new entry\ncopy.put(\"apple\", 12); // replace the value of an existing entry\n\nImmutableMap&lt;String, Long&gt; newPrices = ImmutableMap.copyOf(copy);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8472838,"reputation":51,"user_id":7201006,"display_name":"JustifiedAndAncient"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498141461,"creation_date":1498141461,"answer_id":44702215,"question_id":29828829,"body_markdown":"Well I&#39;ve done this with streams but it isn&#39;t perfect:\r\n\r\n    public static &lt;K,V&gt; Map&lt;K,V&gt; update(final Map&lt;K,V&gt; map, final Map.Entry&lt;K,V&gt; replace)\r\n    {\r\n        return Stream.concat(\r\n            Stream.of(replace),\r\n            map.entrySet().stream()\r\n                .filter(kv -&gt; ! replace.getKey().equals(kv.getKey()))\r\n        .collect(Collectors.toMap(SimpleImmutableEntry::getKey, SimpleImmutableEntry::getValue));\r\n    }\r\n\r\nand this only inserts or updates a single entry. Note that ImmutableMap &amp; the associated collector can be dropped in (which is what I actually used)","title":"Copy an ImmutableMap with additional or new values","body":"<p>Well I've done this with streams but it isn't perfect:</p>\n\n<pre><code>public static &lt;K,V&gt; Map&lt;K,V&gt; update(final Map&lt;K,V&gt; map, final Map.Entry&lt;K,V&gt; replace)\n{\n    return Stream.concat(\n        Stream.of(replace),\n        map.entrySet().stream()\n            .filter(kv -&gt; ! replace.getKey().equals(kv.getKey()))\n    .collect(Collectors.toMap(SimpleImmutableEntry::getKey, SimpleImmutableEntry::getValue));\n}\n</code></pre>\n\n<p>and this only inserts or updates a single entry. Note that ImmutableMap &amp; the associated collector can be dropped in (which is what I actually used)</p>\n"},{"tags":[],"owner":{"account_id":5098793,"reputation":1,"user_id":4089127,"display_name":"Android_Rookie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505227798,"creation_date":1505227798,"answer_id":46179526,"question_id":29828829,"body_markdown":"Not a terribly performant code, but the below would work\r\n\r\n    private &lt;K, V&gt; ImmutableMap.Builder&lt;K, V&gt; update(final ImmutableMap.Builder&lt;K, V&gt; builder, final List&lt;ImmutablePair&lt;K, V&gt;&gt; replace) {\r\n        Set&lt;K&gt; keys = replace.stream().map(entry -&gt; entry.getKey()).collect(toSet());\r\n        Map&lt;K, V&gt; map = new HashMap&lt;&gt;();\r\n        builder.build().forEach((key, val) -&gt; {\r\n            if (!keys.contains(key)) {\r\n                map.put(key, val);\r\n            }\r\n        });\r\n        ImmutableMap.Builder&lt;K, V&gt; newBuilder = ImmutableMap.builder();\r\n        newBuilder.putAll(map);\r\n        replace.stream().forEach(kvEntry -&gt; newBuilder.put(kvEntry.getKey(), kvEntry.getValue()));\r\n        return newBuilder;\r\n    }\r\n","title":"Copy an ImmutableMap with additional or new values","body":"<p>Not a terribly performant code, but the below would work</p>\n\n<pre><code>private &lt;K, V&gt; ImmutableMap.Builder&lt;K, V&gt; update(final ImmutableMap.Builder&lt;K, V&gt; builder, final List&lt;ImmutablePair&lt;K, V&gt;&gt; replace) {\n    Set&lt;K&gt; keys = replace.stream().map(entry -&gt; entry.getKey()).collect(toSet());\n    Map&lt;K, V&gt; map = new HashMap&lt;&gt;();\n    builder.build().forEach((key, val) -&gt; {\n        if (!keys.contains(key)) {\n            map.put(key, val);\n        }\n    });\n    ImmutableMap.Builder&lt;K, V&gt; newBuilder = ImmutableMap.builder();\n    newBuilder.putAll(map);\n    replace.stream().forEach(kvEntry -&gt; newBuilder.put(kvEntry.getKey(), kvEntry.getValue()));\n    return newBuilder;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":186752,"reputation":8053,"user_id":424353,"accept_rate":88,"display_name":"Bogdan Calmac"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1523659055,"creation_date":1523658742,"answer_id":49825966,"question_id":29828829,"body_markdown":"Staying with Guava, you can create a utility method that skips duplicates when building the new map. This is done with the help of `Maps.filterKeys()`. \r\n\r\nThis is the utility function:\r\n\r\n    private &lt;T, U&gt; ImmutableMap&lt;T, U&gt; extendMap(ImmutableMap&lt;T, U&gt; original, ImmutableMap&lt;T, U&gt; changes) {\r\n        return ImmutableMap.&lt;T, U&gt;builder()\r\n                .putAll(changes)\r\n                .putAll(Maps.filterKeys(original, key -&gt; !changes.containsKey(key)))\r\n                .build();\r\n    }\r\n\r\nand here is a unit test with your data (based on AssertJ).\r\n\r\n    @Test\r\n    public void extendMap() {\r\n        ImmutableMap&lt;String, Integer&gt; oldPrices = ImmutableMap.of(&quot;banana&quot;, 4, &quot;apple&quot;, 7);\r\n        ImmutableMap&lt;String, Integer&gt; changes = ImmutableMap.of(&quot;orange&quot;, 9, &quot;apple&quot;, 12);\r\n        ImmutableMap&lt;String, Integer&gt; newPrices = extendMap(oldPrices, changes);\r\n        assertThat(newPrices).contains(\r\n                entry(&quot;banana&quot;, 4),\r\n                entry(&quot;apple&quot;, 12),\r\n                entry(&quot;orange&quot;, 9));\r\n\r\n    }\r\n\r\nUPDATE: Here is a slightly more elegant alternative for the utility function based on `Maps.difference()`.\r\n\r\n    private &lt;T, U&gt; ImmutableMap&lt;T, U&gt; extendMap(ImmutableMap&lt;T, U&gt; original, ImmutableMap&lt;T, U&gt; changes) {\r\n        return ImmutableMap.&lt;T, U&gt;builder()\r\n                .putAll(Maps.difference(original, changes).entriesOnlyOnLeft())\r\n                .putAll(changes)\r\n                .build();\r\n    }\r\n","title":"Copy an ImmutableMap with additional or new values","body":"<p>Staying with Guava, you can create a utility method that skips duplicates when building the new map. This is done with the help of <code>Maps.filterKeys()</code>. </p>\n\n<p>This is the utility function:</p>\n\n<pre><code>private &lt;T, U&gt; ImmutableMap&lt;T, U&gt; extendMap(ImmutableMap&lt;T, U&gt; original, ImmutableMap&lt;T, U&gt; changes) {\n    return ImmutableMap.&lt;T, U&gt;builder()\n            .putAll(changes)\n            .putAll(Maps.filterKeys(original, key -&gt; !changes.containsKey(key)))\n            .build();\n}\n</code></pre>\n\n<p>and here is a unit test with your data (based on AssertJ).</p>\n\n<pre><code>@Test\npublic void extendMap() {\n    ImmutableMap&lt;String, Integer&gt; oldPrices = ImmutableMap.of(\"banana\", 4, \"apple\", 7);\n    ImmutableMap&lt;String, Integer&gt; changes = ImmutableMap.of(\"orange\", 9, \"apple\", 12);\n    ImmutableMap&lt;String, Integer&gt; newPrices = extendMap(oldPrices, changes);\n    assertThat(newPrices).contains(\n            entry(\"banana\", 4),\n            entry(\"apple\", 12),\n            entry(\"orange\", 9));\n\n}\n</code></pre>\n\n<p>UPDATE: Here is a slightly more elegant alternative for the utility function based on <code>Maps.difference()</code>.</p>\n\n<pre><code>private &lt;T, U&gt; ImmutableMap&lt;T, U&gt; extendMap(ImmutableMap&lt;T, U&gt; original, ImmutableMap&lt;T, U&gt; changes) {\n    return ImmutableMap.&lt;T, U&gt;builder()\n            .putAll(Maps.difference(original, changes).entriesOnlyOnLeft())\n            .putAll(changes)\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":15335,"reputation":22636,"user_id":1288364,"accept_rate":71,"display_name":"Andres Jaan Tack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26594,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":29829037,"answer_count":5,"score":20,"last_activity_date":1682542351,"creation_date":1429805110,"question_id":29828829,"body_markdown":"Much like how an `ImmutableList` could be extended as such:\r\n\r\n    ImmutableList&lt;Long&gt; originalList = ImmutableList.of(1, 2, 3);\r\n    ImmutableList&lt;Long&gt; extendedList = Iterables.concat(originalList, ImmutableList.of(4, 5));\r\n\r\nIf I have an existing map, how could I extend it (or create a new copy with replaced values)?\r\n\r\n    ImmutableMap&lt;String, Long&gt; oldPrices = ImmutableMap.of(&quot;banana&quot;, 4, &quot;apple&quot;, 7);\r\n    ImmutableMap&lt;String, Long&gt; newPrices = … // Increase apple prices, leave others.\r\n                                             //  =&gt; { &quot;banana&quot;: 4, &quot;apple&quot;: 9 }\r\n\r\n(Let&#39;s not seek an efficient solution, as apparently [that doesn&#39;t exist by design][1]. This question rather seeks the most idiomatic solution.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9091449","title":"Copy an ImmutableMap with additional or new values","body":"<p>Much like how an <code>ImmutableList</code> could be extended as such:</p>\n\n<pre><code>ImmutableList&lt;Long&gt; originalList = ImmutableList.of(1, 2, 3);\nImmutableList&lt;Long&gt; extendedList = Iterables.concat(originalList, ImmutableList.of(4, 5));\n</code></pre>\n\n<p>If I have an existing map, how could I extend it (or create a new copy with replaced values)?</p>\n\n<pre><code>ImmutableMap&lt;String, Long&gt; oldPrices = ImmutableMap.of(\"banana\", 4, \"apple\", 7);\nImmutableMap&lt;String, Long&gt; newPrices = … // Increase apple prices, leave others.\n                                         //  =&gt; { \"banana\": 4, \"apple\": 9 }\n</code></pre>\n\n<p>(Let's not seek an efficient solution, as apparently <a href=\"https://stackoverflow.com/questions/9091449\">that doesn't exist by design</a>. This question rather seeks the most idiomatic solution.)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":3,"creation_date":1362404907,"post_id":15202997,"comment_id":21423467,"body_markdown":"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.7","body":"<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.7\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.7</a>"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":1,"creation_date":1362405038,"post_id":15202997,"comment_id":21423543,"body_markdown":"See - http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html or maybe just write a test.","body":"See - <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/Class.html</a> or maybe just write a test."},{"owner":{"account_id":320279,"reputation":20132,"user_id":638471,"accept_rate":83,"display_name":"vbence"},"score":7,"creation_date":1401984884,"post_id":15202997,"comment_id":37108261,"body_markdown":"@GrahamBorland The javadoc says **&quot;as defined by the Java Language Specification&quot;** - so you can look it up in that document. Just because it is not a clickable link people can still do a minimal effort and click on the first search engine result.","body":"@GrahamBorland The javadoc says <b>&quot;as defined by the Java Language Specification&quot;</b> - so you can look it up in that document. Just because it is not a clickable link people can still do a minimal effort and click on the first search engine result."},{"owner":{"account_id":216107,"reputation":32723,"user_id":471136,"accept_rate":77,"display_name":"pathikrit"},"score":80,"creation_date":1416394815,"post_id":15202997,"comment_id":42555884,"body_markdown":"@vbence: Most people would rather get things done than look up the JLS for trivial things like this. Hence, this is the first Google result :)","body":"@vbence: Most people would rather get things done than look up the JLS for trivial things like this. Hence, this is the first Google result :)"}],"answers":[{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"down_vote_count":2,"up_vote_count":1322,"is_accepted":true,"score":1320,"last_activity_date":1656407960,"creation_date":1362406047,"answer_id":15203417,"question_id":15202997,"body_markdown":"If you&#39;re unsure about something, try writing a test first.\r\n\r\nI did this:\r\n\r\n```java\r\nclass ClassNameTest {\r\n    public static void main(final String... arguments) {\r\n        printNamesForClass(\r\n            int.class,\r\n            &quot;int.class (primitive)&quot;);\r\n        printNamesForClass(\r\n            String.class,\r\n            &quot;String.class (ordinary class)&quot;);\r\n        printNamesForClass(\r\n            java.util.HashMap.SimpleEntry.class,\r\n            &quot;java.util.HashMap.SimpleEntry.class (nested class)&quot;);\r\n        printNamesForClass(\r\n            new java.io.Serializable(){}.getClass(),\r\n            &quot;new java.io.Serializable(){}.getClass() (anonymous inner class)&quot;);\r\n    }\r\n\r\n    private static void printNamesForClass(final Class&lt;?&gt; clazz, final String label) {\r\n        System.out.println(label + &quot;:&quot;);\r\n        System.out.println(&quot;    getName():          &quot; + clazz.getName());\r\n        System.out.println(&quot;    getCanonicalName(): &quot; + clazz.getCanonicalName());\r\n        System.out.println(&quot;    getSimpleName():    &quot; + clazz.getSimpleName());\r\n        System.out.println(&quot;    getTypeName():      &quot; + clazz.getTypeName()); // added in Java 8\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n\r\nPrints:\r\n&lt;!-- language: lang-none --&gt;\r\n```\r\nint.class (primitive):\r\n    getName():          int\r\n    getCanonicalName(): int\r\n    getSimpleName():    int\r\n    getTypeName():      int\r\n\r\nString.class (ordinary class):\r\n    getName():          java.lang.String\r\n    getCanonicalName(): java.lang.String\r\n    getSimpleName():    String\r\n    getTypeName():      java.lang.String\r\n\r\njava.util.HashMap.SimpleEntry.class (nested class):\r\n    getName():          java.util.AbstractMap$SimpleEntry\r\n    getCanonicalName(): java.util.AbstractMap.SimpleEntry\r\n    getSimpleName():    SimpleEntry\r\n    getTypeName():      java.util.AbstractMap$SimpleEntry\r\n\r\nnew java.io.Serializable(){}.getClass() (anonymous inner class):\r\n    getName():          ClassNameTest$1\r\n    getCanonicalName(): null\r\n    getSimpleName():    \r\n    getTypeName():      ClassNameTest$1\r\n```\r\n\r\nThere&#39;s an empty entry in the last block where `getSimpleName` returns an empty string.\r\n\r\nThe upshot looking at this is:\r\n\r\n&gt; - the **name** is the name that you&#39;d use to dynamically load the class with, for example, a call to `Class.forName` with the default `ClassLoader`. Within the scope of a certain `ClassLoader`, all classes have unique names.\r\n&gt; - the **canonical name** is the name that would be used in an import statement. It might be useful during `toString` or logging operations. When the `javac` compiler has complete view of a classpath, it enforces uniqueness of canonical names within it by clashing fully qualified class and package names at compile time. However JVMs must accept such name clashes, and thus canonical names do not uniquely identify classes within a `ClassLoader`. (In hindsight, a better name for this getter would have been `getJavaName`; but this method dates from a time when the JVM was used solely to run Java programs.)\r\n&gt; - the **simple name** loosely identifies the class, again might be useful during `toString` or logging operations but is not guaranteed to be unique.\r\n&gt; - the **type name** returns &quot;an informative string for the name of this type&quot;, &quot;It&#39;s like `toString`: it&#39;s purely informative and has no contract value&quot;. (as written by sir4ur0n)\r\n\r\nAlso you can commonly reference the Java Language Specification documentation for these types technical Java API details:\r\n\r\n&gt; - Here&#39;s the Java 11 **Specification** on this subject matter:  https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.7\r\n&gt; \r\n&gt; `Example 6.7-2.` and `Example 6.7-2.` goes over `Fully Qualified Names` and `Fully Qualified Names v. Canonical Name` respectively","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>If you're unsure about something, try writing a test first.</p>\n<p>I did this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ClassNameTest {\n    public static void main(final String... arguments) {\n        printNamesForClass(\n            int.class,\n            &quot;int.class (primitive)&quot;);\n        printNamesForClass(\n            String.class,\n            &quot;String.class (ordinary class)&quot;);\n        printNamesForClass(\n            java.util.HashMap.SimpleEntry.class,\n            &quot;java.util.HashMap.SimpleEntry.class (nested class)&quot;);\n        printNamesForClass(\n            new java.io.Serializable(){}.getClass(),\n            &quot;new java.io.Serializable(){}.getClass() (anonymous inner class)&quot;);\n    }\n\n    private static void printNamesForClass(final Class&lt;?&gt; clazz, final String label) {\n        System.out.println(label + &quot;:&quot;);\n        System.out.println(&quot;    getName():          &quot; + clazz.getName());\n        System.out.println(&quot;    getCanonicalName(): &quot; + clazz.getCanonicalName());\n        System.out.println(&quot;    getSimpleName():    &quot; + clazz.getSimpleName());\n        System.out.println(&quot;    getTypeName():      &quot; + clazz.getTypeName()); // added in Java 8\n        System.out.println();\n    }\n}\n</code></pre>\n<p>Prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>int.class (primitive):\n    getName():          int\n    getCanonicalName(): int\n    getSimpleName():    int\n    getTypeName():      int\n\nString.class (ordinary class):\n    getName():          java.lang.String\n    getCanonicalName(): java.lang.String\n    getSimpleName():    String\n    getTypeName():      java.lang.String\n\njava.util.HashMap.SimpleEntry.class (nested class):\n    getName():          java.util.AbstractMap$SimpleEntry\n    getCanonicalName(): java.util.AbstractMap.SimpleEntry\n    getSimpleName():    SimpleEntry\n    getTypeName():      java.util.AbstractMap$SimpleEntry\n\nnew java.io.Serializable(){}.getClass() (anonymous inner class):\n    getName():          ClassNameTest$1\n    getCanonicalName(): null\n    getSimpleName():    \n    getTypeName():      ClassNameTest$1\n</code></pre>\n<p>There's an empty entry in the last block where <code>getSimpleName</code> returns an empty string.</p>\n<p>The upshot looking at this is:</p>\n<blockquote>\n<ul>\n<li>the <strong>name</strong> is the name that you'd use to dynamically load the class with, for example, a call to <code>Class.forName</code> with the default <code>ClassLoader</code>. Within the scope of a certain <code>ClassLoader</code>, all classes have unique names.</li>\n<li>the <strong>canonical name</strong> is the name that would be used in an import statement. It might be useful during <code>toString</code> or logging operations. When the <code>javac</code> compiler has complete view of a classpath, it enforces uniqueness of canonical names within it by clashing fully qualified class and package names at compile time. However JVMs must accept such name clashes, and thus canonical names do not uniquely identify classes within a <code>ClassLoader</code>. (In hindsight, a better name for this getter would have been <code>getJavaName</code>; but this method dates from a time when the JVM was used solely to run Java programs.)</li>\n<li>the <strong>simple name</strong> loosely identifies the class, again might be useful during <code>toString</code> or logging operations but is not guaranteed to be unique.</li>\n<li>the <strong>type name</strong> returns &quot;an informative string for the name of this type&quot;, &quot;It's like <code>toString</code>: it's purely informative and has no contract value&quot;. (as written by sir4ur0n)</li>\n</ul>\n</blockquote>\n<p>Also you can commonly reference the Java Language Specification documentation for these types technical Java API details:</p>\n<blockquote>\n<ul>\n<li>Here's the Java 11 <strong>Specification</strong> on this subject matter:  <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.7\" rel=\"noreferrer\">https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.7</a></li>\n</ul>\n<p><code>Example 6.7-2.</code> and <code>Example 6.7-2.</code> goes over <code>Fully Qualified Names</code> and <code>Fully Qualified Names v. Canonical Name</code> respectively</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"down_vote_count":2,"up_vote_count":85,"is_accepted":false,"score":83,"last_activity_date":1534847149,"creation_date":1399561605,"answer_id":23545622,"question_id":15202997,"body_markdown":"In addition to Nick Holt&#39;s observations, I ran a few cases for `Array` data type:\r\n\r\n&lt;!-- language: lang-java --&gt;\t\r\n\t\t\r\n\t//primitive Array\r\n\tint demo[] = new int[5];\r\n\tClass&lt;? extends int[]&gt; clzz = demo.getClass();\r\n\tSystem.out.println(clzz.getName());\r\n\tSystem.out.println(clzz.getCanonicalName());\r\n\tSystem.out.println(clzz.getSimpleName());\t\t\r\n\t\t\r\n\tSystem.out.println();\r\n\t\t\r\n\t\t\r\n\t//Object Array\r\n\tInteger demo[] = new Integer[5]; \r\n\tClass&lt;? extends Integer[]&gt; clzz = demo.getClass();\r\n\tSystem.out.println(clzz.getName());\r\n\tSystem.out.println(clzz.getCanonicalName());\r\n\tSystem.out.println(clzz.getSimpleName());\r\n\t\t\r\n\t\t\r\nAbove code snippet prints:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [I\r\n    int[]\r\n    int[]\r\n    \r\n    [Ljava.lang.Integer;\r\n    java.lang.Integer[]\r\n    Integer[]\r\n\r\n","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>In addition to Nick Holt's observations, I ran a few cases for <code>Array</code> data type:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>//primitive Array\nint demo[] = new int[5];\nClass&lt;? extends int[]&gt; clzz = demo.getClass();\nSystem.out.println(clzz.getName());\nSystem.out.println(clzz.getCanonicalName());\nSystem.out.println(clzz.getSimpleName());       \n\nSystem.out.println();\n\n\n//Object Array\nInteger demo[] = new Integer[5]; \nClass&lt;? extends Integer[]&gt; clzz = demo.getClass();\nSystem.out.println(clzz.getName());\nSystem.out.println(clzz.getCanonicalName());\nSystem.out.println(clzz.getSimpleName());\n</code></pre>\n\n<p>Above code snippet prints:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[I\nint[]\nint[]\n\n[Ljava.lang.Integer;\njava.lang.Integer[]\nInteger[]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":258390,"reputation":14093,"user_id":540552,"accept_rate":86,"display_name":"Victor Stafusa - BozoNaCadeia"},"down_vote_count":1,"up_vote_count":124,"is_accepted":false,"score":123,"last_activity_date":1554264173,"creation_date":1428535998,"answer_id":29527145,"question_id":15202997,"body_markdown":"Adding local classes, lambdas and the `toString()` method to complete the previous two answers. Further, I add arrays of lambdas and arrays of anonymous classes (which do not make any sense in practice though):\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package com.example;\r\n    \r\n    public final class TestClassNames {\r\n        private static void showClass(Class&lt;?&gt; c) {\r\n            System.out.println(&quot;getName():          &quot; + c.getName());\r\n            System.out.println(&quot;getCanonicalName(): &quot; + c.getCanonicalName());\r\n            System.out.println(&quot;getSimpleName():    &quot; + c.getSimpleName());\r\n            System.out.println(&quot;toString():         &quot; + c.toString());\r\n            System.out.println();\r\n        }\r\n    \r\n        private static void x(Runnable r) {\r\n            showClass(r.getClass());\r\n            showClass(java.lang.reflect.Array.newInstance(r.getClass(), 1).getClass()); // Obtains an array class of a lambda base type.\r\n        }\r\n    \r\n        public static class NestedClass {}\r\n    \r\n        public class InnerClass {}\r\n    \r\n        public static void main(String[] args) {\r\n            class LocalClass {}\r\n            showClass(void.class);\r\n            showClass(int.class);\r\n            showClass(String.class);\r\n            showClass(Runnable.class);\r\n            showClass(SomeEnum.class);\r\n            showClass(SomeAnnotation.class);\r\n            showClass(int[].class);\r\n            showClass(String[].class);\r\n            showClass(NestedClass.class);\r\n            showClass(InnerClass.class);\r\n            showClass(LocalClass.class);\r\n            showClass(LocalClass[].class);\r\n            Object anonymous = new java.io.Serializable() {};\r\n            showClass(anonymous.getClass());\r\n            showClass(java.lang.reflect.Array.newInstance(anonymous.getClass(), 1).getClass()); // Obtains an array class of an anonymous base type.\r\n            x(() -&gt; {});\r\n        }\r\n    }\r\n    \r\n    enum SomeEnum {\r\n       BLUE, YELLOW, RED;\r\n    }\r\n    \r\n    @interface SomeAnnotation {}\r\n\r\nThis is the full output:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    getName():          void\r\n    getCanonicalName(): void\r\n    getSimpleName():    void\r\n    toString():         void\r\n    \r\n    getName():          int\r\n    getCanonicalName(): int\r\n    getSimpleName():    int\r\n    toString():         int\r\n    \r\n    getName():          java.lang.String\r\n    getCanonicalName(): java.lang.String\r\n    getSimpleName():    String\r\n    toString():         class java.lang.String\r\n    \r\n    getName():          java.lang.Runnable\r\n    getCanonicalName(): java.lang.Runnable\r\n    getSimpleName():    Runnable\r\n    toString():         interface java.lang.Runnable\r\n    \r\n    getName():          com.example.SomeEnum\r\n    getCanonicalName(): com.example.SomeEnum\r\n    getSimpleName():    SomeEnum\r\n    toString():         class com.example.SomeEnum\r\n    \r\n    getName():          com.example.SomeAnnotation\r\n    getCanonicalName(): com.example.SomeAnnotation\r\n    getSimpleName():    SomeAnnotation\r\n    toString():         interface com.example.SomeAnnotation\r\n    \r\n    getName():          [I\r\n    getCanonicalName(): int[]\r\n    getSimpleName():    int[]\r\n    toString():         class [I\r\n    \r\n    getName():          [Ljava.lang.String;\r\n    getCanonicalName(): java.lang.String[]\r\n    getSimpleName():    String[]\r\n    toString():         class [Ljava.lang.String;\r\n    \r\n    getName():          com.example.TestClassNames$NestedClass\r\n    getCanonicalName(): com.example.TestClassNames.NestedClass\r\n    getSimpleName():    NestedClass\r\n    toString():         class com.example.TestClassNames$NestedClass\r\n    \r\n    getName():          com.example.TestClassNames$InnerClass\r\n    getCanonicalName(): com.example.TestClassNames.InnerClass\r\n    getSimpleName():    InnerClass\r\n    toString():         class com.example.TestClassNames$InnerClass\r\n    \r\n    getName():          com.example.TestClassNames$1LocalClass\r\n    getCanonicalName(): null\r\n    getSimpleName():    LocalClass\r\n    toString():         class com.example.TestClassNames$1LocalClass\r\n    \r\n    getName():          [Lcom.example.TestClassNames$1LocalClass;\r\n    getCanonicalName(): null\r\n    getSimpleName():    LocalClass[]\r\n    toString():         class [Lcom.example.TestClassNames$1LocalClass;\r\n    \r\n    getName():          com.example.TestClassNames$1\r\n    getCanonicalName(): null\r\n    getSimpleName():    \r\n    toString():         class com.example.TestClassNames$1\r\n    \r\n    getName():          [Lcom.example.TestClassNames$1;\r\n    getCanonicalName(): null\r\n    getSimpleName():    []\r\n    toString():         class [Lcom.example.TestClassNames$1;\r\n    \r\n    getName():          com.example.TestClassNames$$Lambda$1/1175962212\r\n    getCanonicalName(): com.example.TestClassNames$$Lambda$1/1175962212\r\n    getSimpleName():    TestClassNames$$Lambda$1/1175962212\r\n    toString():         class com.example.TestClassNames$$Lambda$1/1175962212\r\n    \r\n    getName():          [Lcom.example.TestClassNames$$Lambda$1;\r\n    getCanonicalName(): com.example.TestClassNames$$Lambda$1/1175962212[]\r\n    getSimpleName():    TestClassNames$$Lambda$1/1175962212[]\r\n    toString():         class [Lcom.example.TestClassNames$$Lambda$1;\r\n\r\nSo, here are the rules. First, lets start with primitive types and `void`:\r\n\r\n1. If the class object represents a primitive type or `void`, all the four methods simply returns its name.\r\n\r\nNow the rules for the `getName()` method:\r\n\r\n2. Every non-lambda and non-array class or interface (i.e, top-level, nested, inner, local and anonymous) has a name (which is returned by `getName()`) that is the package name followed by a dot (if there is a package), followed by the name of its class-file as generated by the compiler (whithout the suffix `.class`). If there is no package, it is simply the name of the class-file. If the class is an inner, nested, local or anonymous class, the compiler should generate at least one `$` in its class-file name. Note that for anonymous classes, the class name would end with a dollar-sign followed by a number.\r\n3. Lambda class names are generally unpredictable, and you shouldn&#39;t care about they anyway. Exactly, their name is the name of the enclosing class, followed by `$$Lambda$`, followed by a number, followed by a slash, followed by another number.\r\n4. The class descriptor of the primitives are `Z` for `boolean`, `B` for `byte`, `S` for `short`, `C` for `char`, `I` for `int`, `J` for `long`, `F` for `float` and `D` for `double`. For non-array classes and interfaces the class descriptor is `L` followed by what is given by `getName()` followed by `;`. For array classes, the class descriptor is `[` followed by the class descriptor of the component type (which may be itself another array class).\r\n5. For array classes, the `getName()` method returns its class descriptor. This rule seems to fail only for array classes whose the component type is a lambda (which possibly is a bug), but hopefully this should not matter anyway because there is no point even on the existence of array classes whose component type is a lambda.\r\n\r\nNow, the `toString()` method:\r\n\r\n6. If the class instance represents an interface (or an annotation, which is a special type of interface), the `toString()` returns `&quot;interface &quot; + getName()`. If it is a primitive, it returns simply `getName()`. If it is something else (a class type, even if it is a pretty weird one), it returns `&quot;class &quot; + getName()`.\r\n\r\nThe `getCanonicalName()` method:\r\n\r\n7. For top-level classes and interfaces, the `getCanonicalName()` method returns just what the `getName()` method returns.\r\n8. The `getCanonicalName()` method returns `null` for anonymous or local classes and for array classes of those.\r\n9. For inner and nested classes and interfaces, the `getCanonicalName()` method returns what the `getName()` method would replacing the compiler-introduced dollar-signs by dots.\r\n10. For array classes, the `getCanonicalName()` method returns `null` if the canonical name of the component type is `null`. Otherwise, it returns the canonical name of the component type followed by `[]`.\r\n\r\nThe `getSimpleName()` method:\r\n\r\n11. For top-level, nested, inner and local classes, the `getSimpleName()` returns the name of the class as written in the source file.\r\n12. For anonymous classes the `getSimpleName()` returns an empty `String`.\r\n13. For lambda classes the `getSimpleName()` just returns what the `getName()` would return without the package name. This do not makes much sense and looks like a bug for me, but there is no point in calling `getSimpleName()` on a lambda class to start with.\r\n14. For array classes the `getSimpleName()` method returns the simple name of the component class followed by `[]`. This have the funny/weird side-effect that array classes whose component type is an anonymous class have just `[]` as their simple names.","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>Adding local classes, lambdas and the <code>toString()</code> method to complete the previous two answers. Further, I add arrays of lambdas and arrays of anonymous classes (which do not make any sense in practice though):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\npublic final class TestClassNames {\n    private static void showClass(Class&lt;?&gt; c) {\n        System.out.println(\"getName():          \" + c.getName());\n        System.out.println(\"getCanonicalName(): \" + c.getCanonicalName());\n        System.out.println(\"getSimpleName():    \" + c.getSimpleName());\n        System.out.println(\"toString():         \" + c.toString());\n        System.out.println();\n    }\n\n    private static void x(Runnable r) {\n        showClass(r.getClass());\n        showClass(java.lang.reflect.Array.newInstance(r.getClass(), 1).getClass()); // Obtains an array class of a lambda base type.\n    }\n\n    public static class NestedClass {}\n\n    public class InnerClass {}\n\n    public static void main(String[] args) {\n        class LocalClass {}\n        showClass(void.class);\n        showClass(int.class);\n        showClass(String.class);\n        showClass(Runnable.class);\n        showClass(SomeEnum.class);\n        showClass(SomeAnnotation.class);\n        showClass(int[].class);\n        showClass(String[].class);\n        showClass(NestedClass.class);\n        showClass(InnerClass.class);\n        showClass(LocalClass.class);\n        showClass(LocalClass[].class);\n        Object anonymous = new java.io.Serializable() {};\n        showClass(anonymous.getClass());\n        showClass(java.lang.reflect.Array.newInstance(anonymous.getClass(), 1).getClass()); // Obtains an array class of an anonymous base type.\n        x(() -&gt; {});\n    }\n}\n\nenum SomeEnum {\n   BLUE, YELLOW, RED;\n}\n\n@interface SomeAnnotation {}\n</code></pre>\n\n<p>This is the full output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>getName():          void\ngetCanonicalName(): void\ngetSimpleName():    void\ntoString():         void\n\ngetName():          int\ngetCanonicalName(): int\ngetSimpleName():    int\ntoString():         int\n\ngetName():          java.lang.String\ngetCanonicalName(): java.lang.String\ngetSimpleName():    String\ntoString():         class java.lang.String\n\ngetName():          java.lang.Runnable\ngetCanonicalName(): java.lang.Runnable\ngetSimpleName():    Runnable\ntoString():         interface java.lang.Runnable\n\ngetName():          com.example.SomeEnum\ngetCanonicalName(): com.example.SomeEnum\ngetSimpleName():    SomeEnum\ntoString():         class com.example.SomeEnum\n\ngetName():          com.example.SomeAnnotation\ngetCanonicalName(): com.example.SomeAnnotation\ngetSimpleName():    SomeAnnotation\ntoString():         interface com.example.SomeAnnotation\n\ngetName():          [I\ngetCanonicalName(): int[]\ngetSimpleName():    int[]\ntoString():         class [I\n\ngetName():          [Ljava.lang.String;\ngetCanonicalName(): java.lang.String[]\ngetSimpleName():    String[]\ntoString():         class [Ljava.lang.String;\n\ngetName():          com.example.TestClassNames$NestedClass\ngetCanonicalName(): com.example.TestClassNames.NestedClass\ngetSimpleName():    NestedClass\ntoString():         class com.example.TestClassNames$NestedClass\n\ngetName():          com.example.TestClassNames$InnerClass\ngetCanonicalName(): com.example.TestClassNames.InnerClass\ngetSimpleName():    InnerClass\ntoString():         class com.example.TestClassNames$InnerClass\n\ngetName():          com.example.TestClassNames$1LocalClass\ngetCanonicalName(): null\ngetSimpleName():    LocalClass\ntoString():         class com.example.TestClassNames$1LocalClass\n\ngetName():          [Lcom.example.TestClassNames$1LocalClass;\ngetCanonicalName(): null\ngetSimpleName():    LocalClass[]\ntoString():         class [Lcom.example.TestClassNames$1LocalClass;\n\ngetName():          com.example.TestClassNames$1\ngetCanonicalName(): null\ngetSimpleName():    \ntoString():         class com.example.TestClassNames$1\n\ngetName():          [Lcom.example.TestClassNames$1;\ngetCanonicalName(): null\ngetSimpleName():    []\ntoString():         class [Lcom.example.TestClassNames$1;\n\ngetName():          com.example.TestClassNames$$Lambda$1/1175962212\ngetCanonicalName(): com.example.TestClassNames$$Lambda$1/1175962212\ngetSimpleName():    TestClassNames$$Lambda$1/1175962212\ntoString():         class com.example.TestClassNames$$Lambda$1/1175962212\n\ngetName():          [Lcom.example.TestClassNames$$Lambda$1;\ngetCanonicalName(): com.example.TestClassNames$$Lambda$1/1175962212[]\ngetSimpleName():    TestClassNames$$Lambda$1/1175962212[]\ntoString():         class [Lcom.example.TestClassNames$$Lambda$1;\n</code></pre>\n\n<p>So, here are the rules. First, lets start with primitive types and <code>void</code>:</p>\n\n<ol>\n<li>If the class object represents a primitive type or <code>void</code>, all the four methods simply returns its name.</li>\n</ol>\n\n<p>Now the rules for the <code>getName()</code> method:</p>\n\n<ol start=\"2\">\n<li>Every non-lambda and non-array class or interface (i.e, top-level, nested, inner, local and anonymous) has a name (which is returned by <code>getName()</code>) that is the package name followed by a dot (if there is a package), followed by the name of its class-file as generated by the compiler (whithout the suffix <code>.class</code>). If there is no package, it is simply the name of the class-file. If the class is an inner, nested, local or anonymous class, the compiler should generate at least one <code>$</code> in its class-file name. Note that for anonymous classes, the class name would end with a dollar-sign followed by a number.</li>\n<li>Lambda class names are generally unpredictable, and you shouldn't care about they anyway. Exactly, their name is the name of the enclosing class, followed by <code>$$Lambda$</code>, followed by a number, followed by a slash, followed by another number.</li>\n<li>The class descriptor of the primitives are <code>Z</code> for <code>boolean</code>, <code>B</code> for <code>byte</code>, <code>S</code> for <code>short</code>, <code>C</code> for <code>char</code>, <code>I</code> for <code>int</code>, <code>J</code> for <code>long</code>, <code>F</code> for <code>float</code> and <code>D</code> for <code>double</code>. For non-array classes and interfaces the class descriptor is <code>L</code> followed by what is given by <code>getName()</code> followed by <code>;</code>. For array classes, the class descriptor is <code>[</code> followed by the class descriptor of the component type (which may be itself another array class).</li>\n<li>For array classes, the <code>getName()</code> method returns its class descriptor. This rule seems to fail only for array classes whose the component type is a lambda (which possibly is a bug), but hopefully this should not matter anyway because there is no point even on the existence of array classes whose component type is a lambda.</li>\n</ol>\n\n<p>Now, the <code>toString()</code> method:</p>\n\n<ol start=\"6\">\n<li>If the class instance represents an interface (or an annotation, which is a special type of interface), the <code>toString()</code> returns <code>\"interface \" + getName()</code>. If it is a primitive, it returns simply <code>getName()</code>. If it is something else (a class type, even if it is a pretty weird one), it returns <code>\"class \" + getName()</code>.</li>\n</ol>\n\n<p>The <code>getCanonicalName()</code> method:</p>\n\n<ol start=\"7\">\n<li>For top-level classes and interfaces, the <code>getCanonicalName()</code> method returns just what the <code>getName()</code> method returns.</li>\n<li>The <code>getCanonicalName()</code> method returns <code>null</code> for anonymous or local classes and for array classes of those.</li>\n<li>For inner and nested classes and interfaces, the <code>getCanonicalName()</code> method returns what the <code>getName()</code> method would replacing the compiler-introduced dollar-signs by dots.</li>\n<li>For array classes, the <code>getCanonicalName()</code> method returns <code>null</code> if the canonical name of the component type is <code>null</code>. Otherwise, it returns the canonical name of the component type followed by <code>[]</code>.</li>\n</ol>\n\n<p>The <code>getSimpleName()</code> method:</p>\n\n<ol start=\"11\">\n<li>For top-level, nested, inner and local classes, the <code>getSimpleName()</code> returns the name of the class as written in the source file.</li>\n<li>For anonymous classes the <code>getSimpleName()</code> returns an empty <code>String</code>.</li>\n<li>For lambda classes the <code>getSimpleName()</code> just returns what the <code>getName()</code> would return without the package name. This do not makes much sense and looks like a bug for me, but there is no point in calling <code>getSimpleName()</code> on a lambda class to start with.</li>\n<li>For array classes the <code>getSimpleName()</code> method returns the simple name of the component class followed by <code>[]</code>. This have the funny/weird side-effect that array classes whose component type is an anonymous class have just <code>[]</code> as their simple names.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1580982,"reputation":57898,"user_id":1468366,"accept_rate":78,"display_name":"MvG"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1582360140,"creation_date":1462180539,"answer_id":36978943,"question_id":15202997,"body_markdown":"I&#39;ve been confused by the wide range of different naming schemes as well, and was just about to ask and answer my own question on this when I found this question here. I think my findings fit it well enough, and complement what&#39;s already here. My focus is looking for *documentation* on the various terms, and adding some more related terms that might crop up in other places.\r\n\r\nConsider the following example:\r\n\r\n    package a.b;\r\n    class C {\r\n      static class D extends C {\r\n      }\r\n      D d;\r\n      D[] ds;\r\n    }\r\n\r\n* The **simple name** of `D` is `D`. That&#39;s just the part you wrote when declaring the class. [Anonymous classes](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9) have no simple name. [`Class.getSimpleName()`](http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getSimpleName--) returns this name or the empty string. It is possible for the simple name to contain a `$` if you write it like this, since `$` is a valid part of an identifier as per [JLS section 3.8](https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.8) (even if it is somewhat discouraged).\r\n\r\n* According to [the JLS section 6.7](http://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.7), both `a.b.C.D` and `a.b.C.D.D.D` would be **fully qualified names**, but only `a.b.C.D` would be the **canonical name** of `D`. So every canonical name is a fully qualified name, but the converse is not always true. [`Class.getCanonicalName()`](http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getCanonicalName--) will return the canonical name or `null`.\r\n\r\n* [`Class.getName()`](http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getName--) is documented to return the **binary name**, as specified in [JLS section 13.1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-13.html#jls-13.1). In this case it returns `a.b.C$D` for `D` and `[La.b.C$D;` for `D[]`.\r\n\r\n* [This answer](https://stackoverflow.com/a/13343540/1468366) demonstrates that it is possible for two classes loaded by the same class loader to have the same **canonical name** but distinct **binary names**. Neither name is sufficient to reliably deduce the other: if you have the canonical name, you don&#39;t know which parts of the name are packages and which are containing classes. If you have the binary name, you don&#39;t know which `$` were introduced as separators and which were part of some simple name. (The class file [stores the binary name](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.4.1) of the [class itself](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.1) and its [enclosing class](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.7.6), which allows the runtime to [make this distinction](https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/5be9c5bfcfe9/src/share/classes/java/lang/Class.java#l1280).)\r\n\r\n* [Anonymous classes](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9) and [local classes](https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.3) have no **fully qualified names** but still have a **binary name**. The same holds for classes nested inside such classes. *Every* class has a binary name.\r\n\r\n* Running `javap -v -private` on `a/b/C.class` shows that the bytecode refers to the type of `d` as `La/b/C$D;` and that of the array `ds` as `[La/b/C$D;`. These are called **descriptors**, and they are specified in [JVMS section 4.3](http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.3).\r\n\r\n* The class name `a/b/C$D` used in both of these descriptors is what you get by replacing `.` by `/` in the binary name. The JVM spec apparently calls this the **internal form of the binary name**. [JVMS section 4.2.1](http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.2.1) describes it, and states that the difference from the binary name were for historical reasons.\r\n\r\n* The **file name** of a class in one of the typical filename-based class loaders is what you get if you interpret the `/` in the internal form of the binary name as a directory separator, and append the file name extension `.class` to it. It&#39;s resolved relative to the class path used by the class loader in question.","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>I've been confused by the wide range of different naming schemes as well, and was just about to ask and answer my own question on this when I found this question here. I think my findings fit it well enough, and complement what's already here. My focus is looking for <em>documentation</em> on the various terms, and adding some more related terms that might crop up in other places.</p>\n\n<p>Consider the following example:</p>\n\n<pre><code>package a.b;\nclass C {\n  static class D extends C {\n  }\n  D d;\n  D[] ds;\n}\n</code></pre>\n\n<ul>\n<li><p>The <strong>simple name</strong> of <code>D</code> is <code>D</code>. That's just the part you wrote when declaring the class. <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9\" rel=\"noreferrer\">Anonymous classes</a> have no simple name. <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getSimpleName--\" rel=\"noreferrer\"><code>Class.getSimpleName()</code></a> returns this name or the empty string. It is possible for the simple name to contain a <code>$</code> if you write it like this, since <code>$</code> is a valid part of an identifier as per <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.8\" rel=\"noreferrer\">JLS section 3.8</a> (even if it is somewhat discouraged).</p></li>\n<li><p>According to <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.7\" rel=\"noreferrer\">the JLS section 6.7</a>, both <code>a.b.C.D</code> and <code>a.b.C.D.D.D</code> would be <strong>fully qualified names</strong>, but only <code>a.b.C.D</code> would be the <strong>canonical name</strong> of <code>D</code>. So every canonical name is a fully qualified name, but the converse is not always true. <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getCanonicalName--\" rel=\"noreferrer\"><code>Class.getCanonicalName()</code></a> will return the canonical name or <code>null</code>.</p></li>\n<li><p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getName--\" rel=\"noreferrer\"><code>Class.getName()</code></a> is documented to return the <strong>binary name</strong>, as specified in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-13.html#jls-13.1\" rel=\"noreferrer\">JLS section 13.1</a>. In this case it returns <code>a.b.C$D</code> for <code>D</code> and <code>[La.b.C$D;</code> for <code>D[]</code>.</p></li>\n<li><p><a href=\"https://stackoverflow.com/a/13343540/1468366\">This answer</a> demonstrates that it is possible for two classes loaded by the same class loader to have the same <strong>canonical name</strong> but distinct <strong>binary names</strong>. Neither name is sufficient to reliably deduce the other: if you have the canonical name, you don't know which parts of the name are packages and which are containing classes. If you have the binary name, you don't know which <code>$</code> were introduced as separators and which were part of some simple name. (The class file <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.4.1\" rel=\"noreferrer\">stores the binary name</a> of the <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.1\" rel=\"noreferrer\">class itself</a> and its <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.7.6\" rel=\"noreferrer\">enclosing class</a>, which allows the runtime to <a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/5be9c5bfcfe9/src/share/classes/java/lang/Class.java#l1280\" rel=\"noreferrer\">make this distinction</a>.)</p></li>\n<li><p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9\" rel=\"noreferrer\">Anonymous classes</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.3\" rel=\"noreferrer\">local classes</a> have no <strong>fully qualified names</strong> but still have a <strong>binary name</strong>. The same holds for classes nested inside such classes. <em>Every</em> class has a binary name.</p></li>\n<li><p>Running <code>javap -v -private</code> on <code>a/b/C.class</code> shows that the bytecode refers to the type of <code>d</code> as <code>La/b/C$D;</code> and that of the array <code>ds</code> as <code>[La/b/C$D;</code>. These are called <strong>descriptors</strong>, and they are specified in <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.3\" rel=\"noreferrer\">JVMS section 4.3</a>.</p></li>\n<li><p>The class name <code>a/b/C$D</code> used in both of these descriptors is what you get by replacing <code>.</code> by <code>/</code> in the binary name. The JVM spec apparently calls this the <strong>internal form of the binary name</strong>. <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.2.1\" rel=\"noreferrer\">JVMS section 4.2.1</a> describes it, and states that the difference from the binary name were for historical reasons.</p></li>\n<li><p>The <strong>file name</strong> of a class in one of the typical filename-based class loaders is what you get if you interpret the <code>/</code> in the internal form of the binary name as a directory separator, and append the file name extension <code>.class</code> to it. It's resolved relative to the class path used by the class loader in question.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4763281,"reputation":131,"user_id":3850131,"accept_rate":0,"display_name":"Kiran"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1464909145,"creation_date":1464909145,"answer_id":37603567,"question_id":15202997,"body_markdown":"this is best document I found describing getName(), getSimpleName(), getCanonicalName()\r\n\r\nhttps://javahowtodoit.wordpress.com/2014/09/09/java-lang-class-what-is-the-difference-between-class-getname-class-getcanonicalname-and-class-getsimplename/\r\n\r\n\r\n    // Primitive type\r\n    int.class.getName();          // -&gt; int\r\n    int.class.getCanonicalName(); // -&gt; int\r\n    int.class.getSimpleName();    // -&gt; int\r\n     \r\n    // Standard class\r\n    Integer.class.getName();          // -&gt; java.lang.Integer\r\n    Integer.class.getCanonicalName(); // -&gt; java.lang.Integer\r\n    Integer.class.getSimpleName();    // -&gt; Integer\r\n     \r\n    // Inner class\r\n    Map.Entry.class.getName();          // -&gt; java.util.Map$Entry\r\n    Map.Entry.class.getCanonicalName(); // -&gt; java.util.Map.Entry\r\n    Map.Entry.class.getSimpleName();    // -&gt; Entry     \r\n     \r\n    // Anonymous inner class\r\n    Class&lt;?&gt; anonymousInnerClass = new Cloneable() {}.getClass();\r\n    anonymousInnerClass.getName();          // -&gt; somepackage.SomeClass$1\r\n    anonymousInnerClass.getCanonicalName(); // -&gt; null\r\n    anonymousInnerClass.getSimpleName();    // -&gt; // An empty string\r\n     \r\n    // Array of primitives\r\n    Class&lt;?&gt; primitiveArrayClass = new int[0].getClass();\r\n    primitiveArrayClass.getName();          // -&gt; [I\r\n    primitiveArrayClass.getCanonicalName(); // -&gt; int[]\r\n    primitiveArrayClass.getSimpleName();    // -&gt; int[]\r\n     \r\n    // Array of objects\r\n    Class&lt;?&gt; objectArrayClass = new Integer[0].getClass();\r\n    objectArrayClass.getName();          // -&gt; [Ljava.lang.Integer;\r\n    objectArrayClass.getCanonicalName(); // -&gt; java.lang.Integer[]\r\n    objectArrayClass.getSimpleName();    // -&gt; Integer[]\r\n\r\n","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>this is best document I found describing getName(), getSimpleName(), getCanonicalName()</p>\n\n<p><a href=\"https://javahowtodoit.wordpress.com/2014/09/09/java-lang-class-what-is-the-difference-between-class-getname-class-getcanonicalname-and-class-getsimplename/\" rel=\"noreferrer\">https://javahowtodoit.wordpress.com/2014/09/09/java-lang-class-what-is-the-difference-between-class-getname-class-getcanonicalname-and-class-getsimplename/</a></p>\n\n<pre><code>// Primitive type\nint.class.getName();          // -&gt; int\nint.class.getCanonicalName(); // -&gt; int\nint.class.getSimpleName();    // -&gt; int\n\n// Standard class\nInteger.class.getName();          // -&gt; java.lang.Integer\nInteger.class.getCanonicalName(); // -&gt; java.lang.Integer\nInteger.class.getSimpleName();    // -&gt; Integer\n\n// Inner class\nMap.Entry.class.getName();          // -&gt; java.util.Map$Entry\nMap.Entry.class.getCanonicalName(); // -&gt; java.util.Map.Entry\nMap.Entry.class.getSimpleName();    // -&gt; Entry     \n\n// Anonymous inner class\nClass&lt;?&gt; anonymousInnerClass = new Cloneable() {}.getClass();\nanonymousInnerClass.getName();          // -&gt; somepackage.SomeClass$1\nanonymousInnerClass.getCanonicalName(); // -&gt; null\nanonymousInnerClass.getSimpleName();    // -&gt; // An empty string\n\n// Array of primitives\nClass&lt;?&gt; primitiveArrayClass = new int[0].getClass();\nprimitiveArrayClass.getName();          // -&gt; [I\nprimitiveArrayClass.getCanonicalName(); // -&gt; int[]\nprimitiveArrayClass.getSimpleName();    // -&gt; int[]\n\n// Array of objects\nClass&lt;?&gt; objectArrayClass = new Integer[0].getClass();\nobjectArrayClass.getName();          // -&gt; [Ljava.lang.Integer;\nobjectArrayClass.getCanonicalName(); // -&gt; java.lang.Integer[]\nobjectArrayClass.getSimpleName();    // -&gt; Integer[]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3543091,"reputation":807,"user_id":2959707,"display_name":"Shirish Singh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476022530,"creation_date":1476022530,"answer_id":39944575,"question_id":15202997,"body_markdown":"    \tpublic void printReflectionClassNames(){\r\n\t\tStringBuffer buffer = new StringBuffer();\r\n\t\tClass clazz= buffer.getClass();\r\n\t\tSystem.out.println(&quot;Reflection on String Buffer Class&quot;);\r\n\t\tSystem.out.println(&quot;Name: &quot;+clazz.getName());\r\n\t\tSystem.out.println(&quot;Simple Name: &quot;+clazz.getSimpleName());\r\n\t\tSystem.out.println(&quot;Canonical Name: &quot;+clazz.getCanonicalName());\r\n\t\tSystem.out.println(&quot;Type Name: &quot;+clazz.getTypeName());\r\n\t}\r\n\r\n    outputs:\r\n    Reflection on String Buffer Class\r\n    Name: java.lang.StringBuffer\r\n    Simple Name: StringBuffer\r\n    Canonical Name: java.lang.StringBuffer\r\n    Type Name: java.lang.StringBuffer\r\n","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<pre><code>    public void printReflectionClassNames(){\n    StringBuffer buffer = new StringBuffer();\n    Class clazz= buffer.getClass();\n    System.out.println(\"Reflection on String Buffer Class\");\n    System.out.println(\"Name: \"+clazz.getName());\n    System.out.println(\"Simple Name: \"+clazz.getSimpleName());\n    System.out.println(\"Canonical Name: \"+clazz.getCanonicalName());\n    System.out.println(\"Type Name: \"+clazz.getTypeName());\n}\n\noutputs:\nReflection on String Buffer Class\nName: java.lang.StringBuffer\nSimple Name: StringBuffer\nCanonical Name: java.lang.StringBuffer\nType Name: java.lang.StringBuffer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309832,"reputation":13267,"user_id":622495,"accept_rate":87,"display_name":"Sim"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1503452756,"creation_date":1503451648,"answer_id":45829250,"question_id":15202997,"body_markdown":"It is interesting to note that `getCanonicalName()` and `getSimpleName()` can raise `InternalError` when the class name is malformed. This happens for some non-Java JVM languages, e.g., Scala.\r\n\r\nConsider the following (Scala 2.11 on Java 8):\r\n\r\n    scala&gt; case class C()\r\n    defined class C\r\n\r\n    scala&gt; val c = C()\r\n    c: C = C()\r\n\r\n    scala&gt; c.getClass.getSimpleName\r\n    java.lang.InternalError: Malformed class name\r\n      at java.lang.Class.getSimpleName(Class.java:1330)\r\n      ... 32 elided\r\n\r\n    scala&gt; c.getClass.getCanonicalName\r\n    java.lang.InternalError: Malformed class name\r\n      at java.lang.Class.getSimpleName(Class.java:1330)\r\n      at java.lang.Class.getCanonicalName(Class.java:1399)\r\n      ... 32 elided\r\n\r\n    scala&gt; c.getClass.getName\r\n    res2: String = C\r\n\r\nThis can be a problem for mixed language environments or environments that dynamically load bytecode, e.g., app servers and other platform software.\r\n\r\n","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>It is interesting to note that <code>getCanonicalName()</code> and <code>getSimpleName()</code> can raise <code>InternalError</code> when the class name is malformed. This happens for some non-Java JVM languages, e.g., Scala.</p>\n\n<p>Consider the following (Scala 2.11 on Java 8):</p>\n\n<pre><code>scala&gt; case class C()\ndefined class C\n\nscala&gt; val c = C()\nc: C = C()\n\nscala&gt; c.getClass.getSimpleName\njava.lang.InternalError: Malformed class name\n  at java.lang.Class.getSimpleName(Class.java:1330)\n  ... 32 elided\n\nscala&gt; c.getClass.getCanonicalName\njava.lang.InternalError: Malformed class name\n  at java.lang.Class.getSimpleName(Class.java:1330)\n  at java.lang.Class.getCanonicalName(Class.java:1399)\n  ... 32 elided\n\nscala&gt; c.getClass.getName\nres2: String = C\n</code></pre>\n\n<p>This can be a problem for mixed language environments or environments that dynamically load bytecode, e.g., app servers and other platform software.</p>\n"},{"tags":[],"owner":{"account_id":9378438,"reputation":1138,"user_id":8504033,"display_name":"Abdul Alim Shakir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570421358,"creation_date":1570420471,"answer_id":58263351,"question_id":15202997,"body_markdown":"**getName()** – returns the name of the entity (class, interface, array class, primitive type, or void) represented by this Class object, as a String.\r\n\r\n**getCanonicalName()** – returns the canonical name of the underlying class as defined by the Java Language Specification.\r\n\r\n**getSimpleName()** –  returns the simple name of the underlying class, that is the name it has been given in the source code.\r\n\r\n    package com.practice;\r\n\r\n    public class ClassName {\r\n    public static void main(String[] args) {\r\n\r\n      ClassName c = new ClassName();\r\n      Class cls = c.getClass();\r\n\r\n      // returns the canonical name of the underlying class if it exists\r\n      System.out.println(&quot;Class = &quot; + cls.getCanonicalName());    //Class = com.practice.ClassName\r\n      System.out.println(&quot;Class = &quot; + cls.getName());             //Class = com.practice.ClassName\r\n      System.out.println(&quot;Class = &quot; + cls.getSimpleName());       //Class = ClassName\r\n      System.out.println(&quot;Class = &quot; + Map.Entry.class.getName());             // -&gt; Class = java.util.Map$Entry\r\n      System.out.println(&quot;Class = &quot; + Map.Entry.class.getCanonicalName());    // -&gt; Class = java.util.Map.Entry\r\n      System.out.println(&quot;Class = &quot; + Map.Entry.class.getSimpleName());       // -&gt; Class = Entry \r\n      }\r\n    }\r\n\r\nOne difference is that if you use an *anonymous class* you can get a null value when trying to get the name of the class using the `getCanonicalName()`\r\n\r\nAnother fact is that `getName()` method behaves differently than the `getCanonicalName()` method for *inner classes*. `getName()` uses a dollar as the separator between the enclosing class canonical name and the inner class simple name.\r\n\r\n\r\nTo know more about [retrieving a class name in Java][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-class-name","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p><strong>getName()</strong> – returns the name of the entity (class, interface, array class, primitive type, or void) represented by this Class object, as a String.</p>\n\n<p><strong>getCanonicalName()</strong> – returns the canonical name of the underlying class as defined by the Java Language Specification.</p>\n\n<p><strong>getSimpleName()</strong> –  returns the simple name of the underlying class, that is the name it has been given in the source code.</p>\n\n<pre><code>package com.practice;\n\npublic class ClassName {\npublic static void main(String[] args) {\n\n  ClassName c = new ClassName();\n  Class cls = c.getClass();\n\n  // returns the canonical name of the underlying class if it exists\n  System.out.println(\"Class = \" + cls.getCanonicalName());    //Class = com.practice.ClassName\n  System.out.println(\"Class = \" + cls.getName());             //Class = com.practice.ClassName\n  System.out.println(\"Class = \" + cls.getSimpleName());       //Class = ClassName\n  System.out.println(\"Class = \" + Map.Entry.class.getName());             // -&gt; Class = java.util.Map$Entry\n  System.out.println(\"Class = \" + Map.Entry.class.getCanonicalName());    // -&gt; Class = java.util.Map.Entry\n  System.out.println(\"Class = \" + Map.Entry.class.getSimpleName());       // -&gt; Class = Entry \n  }\n}\n</code></pre>\n\n<p>One difference is that if you use an <em>anonymous class</em> you can get a null value when trying to get the name of the class using the <code>getCanonicalName()</code></p>\n\n<p>Another fact is that <code>getName()</code> method behaves differently than the <code>getCanonicalName()</code> method for <em>inner classes</em>. <code>getName()</code> uses a dollar as the separator between the enclosing class canonical name and the inner class simple name.</p>\n\n<p>To know more about <a href=\"https://www.baeldung.com/java-class-name\" rel=\"nofollow noreferrer\">retrieving a class name in Java</a>.</p>\n"}],"owner":{"account_id":1006247,"reputation":15843,"user_id":1019952,"accept_rate":60,"display_name":"Mohamed Taher Alrefaie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326781,"favorite_count":0,"down_vote_count":9,"up_vote_count":1164,"accepted_answer_id":15203417,"answer_count":8,"score":1155,"last_activity_date":1682542247,"creation_date":1362404728,"question_id":15202997,"body_markdown":"In Java, what is the difference between these:\r\n\r\n    Object o1 = ....\r\n    o1.getClass().getSimpleName();\r\n    o1.getClass().getName();\r\n    o1.getClass().getCanonicalName();\r\n\r\n\r\nI have checked the Javadoc multiple times and yet this never explains it well.\r\nI also ran a test and that didn&#39;t reflect any real meaning behind the way these methods are called.","title":"What is the difference between canonical name, simple name and class name in Java Class?","body":"<p>In Java, what is the difference between these:</p>\n\n<pre><code>Object o1 = ....\no1.getClass().getSimpleName();\no1.getClass().getName();\no1.getClass().getCanonicalName();\n</code></pre>\n\n<p>I have checked the Javadoc multiple times and yet this never explains it well.\nI also ran a test and that didn't reflect any real meaning behind the way these methods are called.</p>\n"},{"tags":["java","android","kotlin","whatsapp"],"owner":{"account_id":24830822,"reputation":182,"user_id":18710014,"display_name":"Himanshu Yadav Anshu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682541479,"creation_date":1682541479,"question_id":76114906,"body_markdown":"The chat itemview of recyclerview of whatsapp message screen is having different type of text view , please refer the screenshot below, and let me know how can I create one like that .\r\n\r\nIn the image you can see the margin between the message text and time textview , I cannot figure out that how it is changing the bottom margin when we try to send a message to overlap the time text .\r\n\r\n[![screenshot of whatsapp chat ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gVUBT.jpg","title":"How to create itemview like Whatsapp message Itemview of recyclerview","body":"<p>The chat itemview of recyclerview of whatsapp message screen is having different type of text view , please refer the screenshot below, and let me know how can I create one like that .</p>\n<p>In the image you can see the margin between the message text and time textview , I cannot figure out that how it is changing the bottom margin when we try to send a message to overlap the time text .</p>\n<p><a href=\"https://i.stack.imgur.com/gVUBT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVUBT.jpg\" alt=\"screenshot of whatsapp chat \" /></a></p>\n"},{"tags":["java","unicode","comments"],"comments":[{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":3,"creation_date":1433840882,"post_id":30727515,"comment_id":49511623,"body_markdown":"Although strange, I don&#39;t see this as a real issue. Regular users wouldn&#39;t know the difference between code hidden in a comment and regular code so to them it doesn&#39;t matter. Then, it might be a team member hiding code from the other members, but developers will react when seeing a strange comment like this, and either delete it or investigate. If this were to get through and put into use, a VCS will tell you which person did it, so one would get caught.","body":"Although strange, I don&#39;t see this as a real issue. Regular users wouldn&#39;t know the difference between code hidden in a comment and regular code so to them it doesn&#39;t matter. Then, it might be a team member hiding code from the other members, but developers will react when seeing a strange comment like this, and either delete it or investigate. If this were to get through and put into use, a VCS will tell you which person did it, so one would get caught."},{"owner":{"account_id":3851476,"reputation":15138,"user_id":3191557,"accept_rate":100,"display_name":"dhke"},"score":202,"creation_date":1433840944,"post_id":30727515,"comment_id":49511660,"body_markdown":"One interesting thing is at least that **OP&#39;s IDE obviously gets it wrong** and displays incorrect highlighting,","body":"One interesting thing is at least that <b>OP&#39;s IDE obviously gets it wrong</b> and displays incorrect highlighting,"},{"owner":{"account_id":3851476,"reputation":15138,"user_id":3191557,"accept_rate":100,"display_name":"dhke"},"score":14,"creation_date":1433841038,"post_id":30727515,"comment_id":49511724,"body_markdown":"Possibly related: http://stackoverflow.com/questions/4448180/why-does-java-permit-escaped-unicode-characters-in-the-source-code","body":"Possibly related: <a href=\"http://stackoverflow.com/questions/4448180/why-does-java-permit-escaped-unicode-characters-in-the-source-code\" title=\"why does java permit escaped unicode characters in the source code\">stackoverflow.com/questions/4448180/&hellip;</a>"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":6,"creation_date":1433841070,"post_id":30727515,"comment_id":49511746,"body_markdown":"@Tobb: Yes, the authoritative answer can only come from the designers. However, there may be information somehwere on why this was done (compatibility, limitation of tools etc.), so it *is* answerable.","body":"@Tobb: Yes, the authoritative answer can only come from the designers. However, there may be information somehwere on why this was done (compatibility, limitation of tools etc.), so it <i>is</i> answerable."},{"owner":{"account_id":2486854,"reputation":5426,"user_id":2165134,"display_name":"Zelldon"},"score":2,"creation_date":1433841179,"post_id":30727515,"comment_id":49511819,"body_markdown":"&#39;cause newline character is also allowed ... i had it tested with c++ and c# these languages are skiping the lines after reading // but java seems to parse the line complete and interprete the code as newline char.","body":"&#39;cause newline character is also allowed ... i had it tested with c++ and c# these languages are skiping the lines after reading // but java seems to parse the line complete and interprete the code as newline char."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":48,"creation_date":1433841342,"post_id":30727515,"comment_id":49511928,"body_markdown":"@Tobb But Java designers [are visiting SO](http://stackoverflow.com/a/23476994/1393766) so it is *possible* to get answers by one of them. Also they may exist resources which already answer this question.","body":"@Tobb But Java designers <a href=\"http://stackoverflow.com/a/23476994/1393766\">are visiting SO</a> so it is <i>possible</i> to get answers by one of them. Also they may exist resources which already answer this question."},{"owner":{"account_id":3584048,"reputation":2341,"user_id":2991594,"accept_rate":80,"display_name":"Pelit Mamani"},"score":2,"creation_date":1433841807,"post_id":30727515,"comment_id":49512257,"body_markdown":"I don&#39;t know for sure, but I suspect it&#39;s just a side effect of the general decision to process unidoce chars inside comments. Perhaps to allow code comments in foreign languages, or with mathematical greek signs. Personally I&#39;d avoid it... (javadoc might be an exception, but then I don&#39;t need this feature because HTML has its own support for special chars).","body":"I don&#39;t know for sure, but I suspect it&#39;s just a side effect of the general decision to process unidoce chars inside comments. Perhaps to allow code comments in foreign languages, or with mathematical greek signs. Personally I&#39;d avoid it... (javadoc might be an exception, but then I don&#39;t need this feature because HTML has its own support for special chars)."},{"owner":{"account_id":2486854,"reputation":5426,"user_id":2165134,"display_name":"Zelldon"},"score":2,"creation_date":1433843359,"post_id":30727515,"comment_id":49513367,"body_markdown":"http://stackoverflow.com/questions/3866187/why-cant-i-use-u000d-and-u000a-as-cr-and-lf-in-java funny example","body":"<a href=\"http://stackoverflow.com/questions/3866187/why-cant-i-use-u000d-and-u000a-as-cr-and-lf-in-java\" title=\"why cant i use u000d and u000a as cr and lf in java\">stackoverflow.com/questions/3866187/&hellip;</a> funny example"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":10,"creation_date":1433849475,"post_id":30727515,"comment_id":49517677,"body_markdown":"Unicode escapes are allowed **anywhere** and are always parsed before everything else. The intent is that any source file can be converted to an equivalent file containing only ASCII characters.","body":"Unicode escapes are allowed <b>anywhere</b> and are always parsed before everything else. The intent is that any source file can be converted to an equivalent file containing only ASCII characters."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":1,"creation_date":1433849522,"post_id":30727515,"comment_id":49517717,"body_markdown":"Related: http://stackoverflow.com/q/13116648/319403","body":"Related: <a href=\"http://stackoverflow.com/q/13116648/319403\">stackoverflow.com/q/13116648/319403</a>"},{"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"score":2,"creation_date":1433854002,"post_id":30727515,"comment_id":49521013,"body_markdown":"@dhke: This is also displayed as a comment in Eclipse, so do you know any IDE which does **not** display it as a comment?","body":"@dhke: This is also displayed as a comment in Eclipse, so do you know any IDE which does <b>not</b> display it as a comment?"},{"owner":{"account_id":3851476,"reputation":15138,"user_id":3191557,"accept_rate":100,"display_name":"dhke"},"score":1,"creation_date":1433857128,"post_id":30727515,"comment_id":49523590,"body_markdown":"@Thomas Netbeans (at least in 8.0.2) terminates the comment after the Unicode escaped newline, showing the `println()` as code. It also shows the same behaviour as the compiler for the escaped comment start code from https://stackoverflow.com/questions/4448180/why-does-java-permit-escaped-unicode-characters-in-the-source-code","body":"@Thomas Netbeans (at least in 8.0.2) terminates the comment after the Unicode escaped newline, showing the <code>println()</code> as code. It also shows the same behaviour as the compiler for the escaped comment start code from <a href=\"https://stackoverflow.com/questions/4448180/why-does-java-permit-escaped-unicode-characters-in-the-source-code\" title=\"why does java permit escaped unicode characters in the source code\">stackoverflow.com/questions/4448180/&hellip;</a>"},{"owner":{"account_id":4959811,"reputation":5014,"user_id":3991344,"accept_rate":92,"display_name":"Pokechu22"},"score":5,"creation_date":1433863209,"post_id":30727515,"comment_id":49528564,"body_markdown":"This also means that invalid Unicode escapes in comments cause compile errors (such as a windows path continuing `\\users`), which can be annoying.","body":"This also means that invalid Unicode escapes in comments cause compile errors (such as a windows path continuing <code>\\users</code>), which can be annoying."},{"owner":{"account_id":986239,"reputation":1789,"user_id":1004651,"accept_rate":67,"display_name":"Matthias"},"score":9,"creation_date":1433876106,"post_id":30727515,"comment_id":49536874,"body_markdown":"@dhke The OP didn&#39;t mention how his/her IDE displays that code. The only thing about highlighting that we can tell from the question text is that the Java code highlighter here in SO gets it wrong.","body":"@dhke The OP didn&#39;t mention how his/her IDE displays that code. The only thing about highlighting that we can tell from the question text is that the Java code highlighter here in SO gets it wrong."},{"owner":{"account_id":204638,"reputation":2131,"user_id":452979,"display_name":"CuriousRabbit"},"score":2,"creation_date":1433885789,"post_id":30727515,"comment_id":49542323,"body_markdown":"What you are showing is a bug in the IDE. It&#39;s perfectly valid code. That the IDE does not SHOW it as code is the bug. IDEs need to stop assuming compilers are not cognizant of unicode.","body":"What you are showing is a bug in the IDE. It&#39;s perfectly valid code. That the IDE does not SHOW it as code is the bug. IDEs need to stop assuming compilers are not cognizant of unicode."},{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":5,"creation_date":1433886094,"post_id":30727515,"comment_id":49542465,"body_markdown":"@CuriousRabbit, what makes you draw the conclusion that it&#39;s a bug in OP&#39;s IDE? (How do you even know OP is *using* an IDE?)","body":"@CuriousRabbit, what makes you draw the conclusion that it&#39;s a bug in OP&#39;s IDE? (How do you even know OP is <i>using</i> an IDE?)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":42,"creation_date":1433890462,"post_id":30727515,"comment_id":49544125,"body_markdown":"The simple answer is that the code isn&#39;t in a comment at all, by the rules of the language, so the question is ill-formed.","body":"The simple answer is that the code isn&#39;t in a comment at all, by the rules of the language, so the question is ill-formed."},{"owner":{"account_id":34404,"reputation":81844,"user_id":97248,"accept_rate":91,"display_name":"pts"},"score":1,"creation_date":1436477442,"post_id":30727515,"comment_id":50643264,"body_markdown":"`\\u000d` is the carriage return; `\\u000a` would be the newline. Either of them finishes the `//` comment.","body":"<code>\\u000d</code> is the carriage return; <code>\\u000a</code> would be the newline. Either of them finishes the <code>&#47;&#47;</code> comment."}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":764,"is_accepted":true,"score":764,"last_activity_date":1477713384,"creation_date":1433841230,"answer_id":30727799,"question_id":30727515,"body_markdown":"Unicode decoding takes place before any other lexical translation. The key benefit of this is that it makes it trivial to go back and forth between ASCII and any other encoding. You don&#39;t even need to figure out where comments begin and end!\r\n\r\nAs stated in [JLS Section 3.3](https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.3) this allows any ASCII based tool to process the source files:\r\n\r\n&gt; [...] The Java programming language specifies a standard way of transforming a program written in Unicode into ASCII that changes a program into a form that can be processed by ASCII-based tools. [...]\r\n\r\nThis gives a fundamental guarantee for platform independence (independence of supported character sets) which has always been a key goal for the Java platform. \r\n\r\nBeing able to write any Unicode character anywhere in the file is a neat feature, and especially important in comments, when documenting code in non-latin languages. The fact that it can interfere with the semantics in such subtle ways is just an (unfortunate) side-effect.\r\n\r\nThere are many gotchas on this theme and [*Java Puzzlers*](http://www.javapuzzlers.com/) by Joshua Bloch and Neal Gafter included the following variant:\r\n\r\n&gt; Is this a legal Java program? If so, what does it print?\r\n&gt;\r\n&gt;     \\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u0020\\u0020\\u0020\\u0020\r\n&gt;     \\u0063\\u006c\\u0061\\u0073\\u0073\\u0020\\u0055\\u0067\\u006c\\u0079\r\n&gt;     \\u007b\\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u0020\\u0020\\u0020\r\n&gt;     \\u0020\\u0020\\u0020\\u0020\\u0073\\u0074\\u0061\\u0074\\u0069\\u0063\r\n&gt;     \\u0076\\u006f\\u0069\\u0064\\u0020\\u006d\\u0061\\u0069\\u006e\\u0028\r\n&gt;     \\u0053\\u0074\\u0072\\u0069\\u006e\\u0067\\u005b\\u005d\\u0020\\u0020\r\n&gt;     \\u0020\\u0020\\u0020\\u0020\\u0061\\u0072\\u0067\\u0073\\u0029\\u007b\r\n&gt;     \\u0053\\u0079\\u0073\\u0074\\u0065\\u006d\\u002e\\u006f\\u0075\\u0074\r\n&gt;     \\u002e\\u0070\\u0072\\u0069\\u006e\\u0074\\u006c\\u006e\\u0028\\u0020\r\n&gt;     \\u0022\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0077\\u0022\\u002b\r\n&gt;     \\u0022\\u006f\\u0072\\u006c\\u0064\\u0022\\u0029\\u003b\\u007d\\u007d\r\n\r\n(This program turns out to be a plain &quot;Hello World&quot; program.)\r\n\r\nIn the solution to the puzzler, they point out the following:\r\n\r\n&gt; More seriously, this puzzle serves to reinforce the lessons of the previous three: **Unicode escapes are essential when you need to insert characters that can’t be represented in any other way into your program. Avoid them in all other cases.**\r\n\r\n\r\n----------\r\n\r\nSource: [Java: Executing code in comments?!](http://programming.guide/java/executing-code-in-comments.html)","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>Unicode decoding takes place before any other lexical translation. The key benefit of this is that it makes it trivial to go back and forth between ASCII and any other encoding. You don't even need to figure out where comments begin and end!</p>\n\n<p>As stated in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.3\">JLS Section 3.3</a> this allows any ASCII based tool to process the source files:</p>\n\n<blockquote>\n  <p>[...] The Java programming language specifies a standard way of transforming a program written in Unicode into ASCII that changes a program into a form that can be processed by ASCII-based tools. [...]</p>\n</blockquote>\n\n<p>This gives a fundamental guarantee for platform independence (independence of supported character sets) which has always been a key goal for the Java platform. </p>\n\n<p>Being able to write any Unicode character anywhere in the file is a neat feature, and especially important in comments, when documenting code in non-latin languages. The fact that it can interfere with the semantics in such subtle ways is just an (unfortunate) side-effect.</p>\n\n<p>There are many gotchas on this theme and <a href=\"http://www.javapuzzlers.com/\"><em>Java Puzzlers</em></a> by Joshua Bloch and Neal Gafter included the following variant:</p>\n\n<blockquote>\n  <p>Is this a legal Java program? If so, what does it print?</p>\n\n<pre><code>\\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u0020\\u0020\\u0020\\u0020\n\\u0063\\u006c\\u0061\\u0073\\u0073\\u0020\\u0055\\u0067\\u006c\\u0079\n\\u007b\\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u0020\\u0020\\u0020\n\\u0020\\u0020\\u0020\\u0020\\u0073\\u0074\\u0061\\u0074\\u0069\\u0063\n\\u0076\\u006f\\u0069\\u0064\\u0020\\u006d\\u0061\\u0069\\u006e\\u0028\n\\u0053\\u0074\\u0072\\u0069\\u006e\\u0067\\u005b\\u005d\\u0020\\u0020\n\\u0020\\u0020\\u0020\\u0020\\u0061\\u0072\\u0067\\u0073\\u0029\\u007b\n\\u0053\\u0079\\u0073\\u0074\\u0065\\u006d\\u002e\\u006f\\u0075\\u0074\n\\u002e\\u0070\\u0072\\u0069\\u006e\\u0074\\u006c\\u006e\\u0028\\u0020\n\\u0022\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0077\\u0022\\u002b\n\\u0022\\u006f\\u0072\\u006c\\u0064\\u0022\\u0029\\u003b\\u007d\\u007d\n</code></pre>\n</blockquote>\n\n<p>(This program turns out to be a plain \"Hello World\" program.)</p>\n\n<p>In the solution to the puzzler, they point out the following:</p>\n\n<blockquote>\n  <p>More seriously, this puzzle serves to reinforce the lessons of the previous three: <strong>Unicode escapes are essential when you need to insert characters that can’t be represented in any other way into your program. Avoid them in all other cases.</strong></p>\n</blockquote>\n\n<hr>\n\n<p>Source: <a href=\"http://programming.guide/java/executing-code-in-comments.html\">Java: Executing code in comments?!</a></p>\n"},{"tags":[],"owner":{"account_id":165234,"reputation":136753,"user_id":388520,"accept_rate":51,"display_name":"zwol"},"down_vote_count":11,"up_vote_count":81,"is_accepted":false,"score":70,"last_activity_date":1601347402,"creation_date":1433863000,"answer_id":30736170,"question_id":30727515,"body_markdown":"The `\\u000d` escape terminates a comment because `\\u` escapes are uniformly converted to the corresponding Unicode characters *before* the program is tokenized.  You could equally use `\\u0057\\u0057` instead of `//` to *begin* a comment.\r\n\r\nThis is a bug in your IDE, which should syntax-highlight the line to make it clear that the `\\u000d` ends the comment.\r\n\r\nThis is also a design error in the language.  It can&#39;t be corrected now, because that would break programs that depend on it.  `\\u` escapes should either be converted to the corresponding Unicode character by the compiler only in contexts where that &quot;makes sense&quot; (string literals and identifiers, and probably nowhere else) or they should have been forbidden to generate characters in the U+0000–007F range, or both.  Either of those semantics would have prevented the comment from being terminated by the `\\u000d` escape, without interfering with the cases where `\\u` escapes are useful—note that that *includes* use of `\\u` escapes inside comments as a way to encode comments in a non-Latin script, because the text editor could take a broader view of where `\\u` escapes are significant than the compiler does.  (I am not aware of any editor or IDE that will display `\\u` escapes as the corresponding characters in *any* context, though.)\r\n\r\nThere is a similar design error in the C family,&lt;sup&gt;1&lt;/sup&gt; where backslash-newline is processed before comment boundaries are determined, so e.g.\r\n\r\n```c\r\n// this is a comment \\\r\n   this is still in the comment!\r\n```\r\n\r\nI bring this up to illustrate that it happens to be easy to make this particular design error, and not realize that it&#39;s an error until it is too late to correct it, if you are used to thinking about tokenization and parsing the way compiler programmers think about tokenization and parsing.  Basically, if you have already defined your formal grammar and then someone comes up with a syntactic special case &amp;mdash; trigraphs, backslash-newline, encoding arbitrary Unicode characters in source files limited to ASCII, whatever &amp;mdash; that needs to be wedged in, it&#39;s easier to add a transformation pass *before* the tokenizer than it is to redefine the tokenizer to pay attention to where it makes sense to use that special case.\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; For pedants: I am aware that this aspect of C was 100% intentional, with the rationale &amp;mdash; I am not making this up &amp;mdash; that it would allow you to mechanically force-fit code with arbitrarily long lines onto punched cards.  It was still an incorrect design decision.","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>The <code>\\u000d</code> escape terminates a comment because <code>\\u</code> escapes are uniformly converted to the corresponding Unicode characters <em>before</em> the program is tokenized.  You could equally use <code>\\u0057\\u0057</code> instead of <code>//</code> to <em>begin</em> a comment.</p>\n<p>This is a bug in your IDE, which should syntax-highlight the line to make it clear that the <code>\\u000d</code> ends the comment.</p>\n<p>This is also a design error in the language.  It can't be corrected now, because that would break programs that depend on it.  <code>\\u</code> escapes should either be converted to the corresponding Unicode character by the compiler only in contexts where that &quot;makes sense&quot; (string literals and identifiers, and probably nowhere else) or they should have been forbidden to generate characters in the U+0000–007F range, or both.  Either of those semantics would have prevented the comment from being terminated by the <code>\\u000d</code> escape, without interfering with the cases where <code>\\u</code> escapes are useful—note that that <em>includes</em> use of <code>\\u</code> escapes inside comments as a way to encode comments in a non-Latin script, because the text editor could take a broader view of where <code>\\u</code> escapes are significant than the compiler does.  (I am not aware of any editor or IDE that will display <code>\\u</code> escapes as the corresponding characters in <em>any</em> context, though.)</p>\n<p>There is a similar design error in the C family,<sup>1</sup> where backslash-newline is processed before comment boundaries are determined, so e.g.</p>\n<pre class=\"lang-c prettyprint-override\"><code>// this is a comment \\\n   this is still in the comment!\n</code></pre>\n<p>I bring this up to illustrate that it happens to be easy to make this particular design error, and not realize that it's an error until it is too late to correct it, if you are used to thinking about tokenization and parsing the way compiler programmers think about tokenization and parsing.  Basically, if you have already defined your formal grammar and then someone comes up with a syntactic special case — trigraphs, backslash-newline, encoding arbitrary Unicode characters in source files limited to ASCII, whatever — that needs to be wedged in, it's easier to add a transformation pass <em>before</em> the tokenizer than it is to redefine the tokenizer to pay attention to where it makes sense to use that special case.</p>\n<p><sup>1</sup> For pedants: I am aware that this aspect of C was 100% intentional, with the rationale — I am not making this up — that it would allow you to mechanically force-fit code with arbitrarily long lines onto punched cards.  It was still an incorrect design decision.</p>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":8,"up_vote_count":29,"is_accepted":false,"score":21,"last_activity_date":1436397593,"creation_date":1433868466,"answer_id":30738171,"question_id":30727515,"body_markdown":"I agree with @zwol that this is a design mistake; but I&#39;m even more critical of it.\r\n\r\n`\\u` escape is useful in string and char literals; and that&#39;s the only place that it should exist. It should be handled the same way as other escapes like `\\n`; and `&quot;\\u000A&quot;` *should* mean exactly `&quot;\\n&quot;`.\r\n\r\nThere is absolutely no point of having `\\uxxxx` in comments - nobody can read that.\r\n\r\nSimilarly, there&#39;s no point of using `\\uxxxx` in other part of the program. The only exception is probably in public APIs that are coerced to contain some non-ascii chars - what&#39;s the last time we&#39;ve seen that?\r\n\r\nThe designers had their reasons in 1995, but 20 years later, this appears to be a wrong choice.\r\n\r\n*(question to readers - why does this question keep getting new votes? is this question linked from somewhere popular?)*","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>I agree with @zwol that this is a design mistake; but I'm even more critical of it.</p>\n\n<p><code>\\u</code> escape is useful in string and char literals; and that's the only place that it should exist. It should be handled the same way as other escapes like <code>\\n</code>; and <code>\"\\u000A\"</code> <em>should</em> mean exactly <code>\"\\n\"</code>.</p>\n\n<p>There is absolutely no point of having <code>\\uxxxx</code> in comments - nobody can read that.</p>\n\n<p>Similarly, there's no point of using <code>\\uxxxx</code> in other part of the program. The only exception is probably in public APIs that are coerced to contain some non-ascii chars - what's the last time we've seen that?</p>\n\n<p>The designers had their reasons in 1995, but 20 years later, this appears to be a wrong choice.</p>\n\n<p><em>(question to readers - why does this question keep getting new votes? is this question linked from somewhere popular?)</em></p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":1,"up_vote_count":149,"is_accepted":false,"score":148,"last_activity_date":1436628698,"creation_date":1433872750,"answer_id":30739477,"question_id":30727515,"body_markdown":"Since this hasn’t addressed yet, here an explanation, why the translation of Unicode escapes happens before any other source code processing:\r\n\r\nThe idea behind it was that it allows lossless translations of Java source code between different character encodings. Today, there is widespread Unicode support, and this doesn’t look like a problem, but back then it wasn’t easy for a developer from a western country to receive some source code from his Asian colleague containing Asian characters, make some changes (including compiling and testing it) and sending the result back, all without damaging something.\r\n\r\nSo, Java source code can be written in any encoding and allows a wide range of characters within identifiers, character and `String` literals and comments. Then, in order to transfer it losslessly, all characters not supported by the target encoding are replaced by their Unicode escapes.\r\n\r\nThis is a reversible process and the interesting point is that the translation can be done by a tool which doesn’t need to know anything about the Java source code syntax as the translation rule is not dependent on it. This works as the translation to their actual Unicode characters inside the compiler happens independently to the Java source code syntax as well. It implies that you can perform an arbitrary number of translation steps in both directions without ever changing the meaning of the source code.\r\n\r\nThis is the reason for another weird feature which hasn’t even mentioned: the `\\uuuuuuxxxx` syntax:\r\n\r\nWhen a translation tool is escaping characters and encounters a sequence that is already an escaped sequence, it should insert an additional `u` into the sequence, converting `\\ucafe` to `\\uucafe`. The meaning doesn’t change, but when converting into the other direction, the tool should just remove one `u` and replace only sequences containing a single `u` by their Unicode characters. That way, even Unicode escapes are retained in their original form when converting back and forth. I guess, no-one ever used that feature…\r\n","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>Since this hasn’t addressed yet, here an explanation, why the translation of Unicode escapes happens before any other source code processing:</p>\n\n<p>The idea behind it was that it allows lossless translations of Java source code between different character encodings. Today, there is widespread Unicode support, and this doesn’t look like a problem, but back then it wasn’t easy for a developer from a western country to receive some source code from his Asian colleague containing Asian characters, make some changes (including compiling and testing it) and sending the result back, all without damaging something.</p>\n\n<p>So, Java source code can be written in any encoding and allows a wide range of characters within identifiers, character and <code>String</code> literals and comments. Then, in order to transfer it losslessly, all characters not supported by the target encoding are replaced by their Unicode escapes.</p>\n\n<p>This is a reversible process and the interesting point is that the translation can be done by a tool which doesn’t need to know anything about the Java source code syntax as the translation rule is not dependent on it. This works as the translation to their actual Unicode characters inside the compiler happens independently to the Java source code syntax as well. It implies that you can perform an arbitrary number of translation steps in both directions without ever changing the meaning of the source code.</p>\n\n<p>This is the reason for another weird feature which hasn’t even mentioned: the <code>\\uuuuuuxxxx</code> syntax:</p>\n\n<p>When a translation tool is escaping characters and encounters a sequence that is already an escaped sequence, it should insert an additional <code>u</code> into the sequence, converting <code>\\ucafe</code> to <code>\\uucafe</code>. The meaning doesn’t change, but when converting into the other direction, the tool should just remove one <code>u</code> and replace only sequences containing a single <code>u</code> by their Unicode characters. That way, even Unicode escapes are retained in their original form when converting back and forth. I guess, no-one ever used that feature…</p>\n"},{"tags":[],"owner":{"account_id":2614934,"reputation":696,"user_id":2264197,"display_name":"Jonathan Gibbons"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1435772567,"creation_date":1433875536,"answer_id":30740325,"question_id":30727515,"body_markdown":"This was an intentional design choice that goes all the way back to the original design of Java.\r\n\r\nTo those folks who ask &quot;who wants Unicode escapes in comments?&quot;, I presume they are folks whose native language uses the Latin character set. In other words, it is inherent in the original design of Java that folks could use arbitrary Unicode characters wherever legal in a Java program, most typically in comments and strings.\r\n\r\nIt is arguably a shortcoming in programs (like IDEs) used to view the source text that such programs cannot interpret the Unicode escapes and display the corresponding glyph.","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>This was an intentional design choice that goes all the way back to the original design of Java.</p>\n\n<p>To those folks who ask \"who wants Unicode escapes in comments?\", I presume they are folks whose native language uses the Latin character set. In other words, it is inherent in the original design of Java that folks could use arbitrary Unicode characters wherever legal in a Java program, most typically in comments and strings.</p>\n\n<p>It is arguably a shortcoming in programs (like IDEs) used to view the source text that such programs cannot interpret the Unicode escapes and display the corresponding glyph.</p>\n"},{"tags":[],"owner":{"account_id":1170257,"reputation":2183,"user_id":1147600,"display_name":"Pepijn Schmitz"},"down_vote_count":1,"up_vote_count":110,"is_accepted":false,"score":109,"last_activity_date":1433957837,"creation_date":1433957837,"answer_id":30763499,"question_id":30727515,"body_markdown":"I&#39;m going to completely ineffectually add the point, just because I can&#39;t help myself and I haven&#39;t seen it made yet, that the question is invalid since it contains a hidden premise which is wrong, namely that the code is in a comment!\r\n\r\nIn Java source code \\u000d is equivalent in every way to an ASCII CR character. It is a line ending, plain and simple, wherever it occurs. The formatting in the question is misleading, what that sequence of characters actually syntactically corresponds to is:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static void main(String... args) {\r\n       // The comment below is no typo. \r\n       // \r\n     System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n\r\nIMHO the most correct answer is therefore: the code executes because it isn&#39;t in a comment; it&#39;s on the next line. &quot;Executing code in comments&quot; is not allowed in Java, just like you would expect.\r\n\r\nMuch of the confusion stems from the fact that syntax highlighters and IDEs aren&#39;t sophisticated enough to take this situation into account. They either don&#39;t process the unicode escapes at all, or they do it after parsing the code instead of before, like `javac` does.","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>I'm going to completely ineffectually add the point, just because I can't help myself and I haven't seen it made yet, that the question is invalid since it contains a hidden premise which is wrong, namely that the code is in a comment!</p>\n\n<p>In Java source code \\u000d is equivalent in every way to an ASCII CR character. It is a line ending, plain and simple, wherever it occurs. The formatting in the question is misleading, what that sequence of characters actually syntactically corresponds to is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n   // The comment below is no typo. \n   // \n System.out.println(\"Hello World!\");\n}\n</code></pre>\n\n<p>IMHO the most correct answer is therefore: the code executes because it isn't in a comment; it's on the next line. \"Executing code in comments\" is not allowed in Java, just like you would expect.</p>\n\n<p>Much of the confusion stems from the fact that syntax highlighters and IDEs aren't sophisticated enough to take this situation into account. They either don't process the unicode escapes at all, or they do it after parsing the code instead of before, like <code>javac</code> does.</p>\n"},{"tags":[],"owner":{"account_id":161215,"reputation":12004,"user_id":381801,"accept_rate":82,"display_name":"Martijn"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1436628812,"creation_date":1434110363,"answer_id":30802558,"question_id":30727515,"body_markdown":"The only people who can answer why Unicode escapes were implemented as they were are the people who wrote the specification.\r\n\r\nA plausible reason for this is that there was the desire to allow the entire BMP as possible characters of Java source code. This presents a problem though:\r\n\r\n* You want to be able to use any BMP character.\r\n* You want to be able to input any BMP charater reasonably easy. A way to do this is with Unicode escapes.\r\n* You want to keep the lexical specification easy for humans to read and write, and reasonably easy to implement as well.\r\n\r\nThis is incredibly difficult when Unicode escapes enter the fray: it creates a whole load of new lexer rules.\r\n\r\nThe easy way out is to do lexing in two steps: first search and replace all Unicode escapes with the character it represents, and then parse the resulting document as if Unicode escapes don&#39;t exist.\r\n\r\nThe upside to this is that it&#39;s easy to specify, so it makes the specification simpler, and it&#39;s easy to implement.\r\n\r\nThe downside is, well, your example.\r\n","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>The only people who can answer why Unicode escapes were implemented as they were are the people who wrote the specification.</p>\n\n<p>A plausible reason for this is that there was the desire to allow the entire BMP as possible characters of Java source code. This presents a problem though:</p>\n\n<ul>\n<li>You want to be able to use any BMP character.</li>\n<li>You want to be able to input any BMP charater reasonably easy. A way to do this is with Unicode escapes.</li>\n<li>You want to keep the lexical specification easy for humans to read and write, and reasonably easy to implement as well.</li>\n</ul>\n\n<p>This is incredibly difficult when Unicode escapes enter the fray: it creates a whole load of new lexer rules.</p>\n\n<p>The easy way out is to do lexing in two steps: first search and replace all Unicode escapes with the character it represents, and then parse the resulting document as if Unicode escapes don't exist.</p>\n\n<p>The upside to this is that it's easy to specify, so it makes the specification simpler, and it's easy to implement.</p>\n\n<p>The downside is, well, your example.</p>\n"},{"tags":[],"owner":{"account_id":24749,"reputation":113,"user_id":63146,"display_name":"Jim Sawyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629156881,"creation_date":1628903573,"answer_id":68779645,"question_id":30727515,"body_markdown":"&quot;The reason for this is that the Java compiler parses the Unicode character \\u000d as a new line&quot;.\r\n\r\nIf true, then that&#39;s precisely where the error occurs.\r\n\r\nJava compilers should perhaps refuse to compile this source, because (as Java source code) it is ill-formed, thus either bad to begin with, tampered with en route, or mutated by something in the tool-chain that does not understand the transformation rules. They should *not* blindly transform it.\r\n\r\nIf the editor in question is an ASCII-only tool, then said editor is doing the right thing--treating the Unicode escape sequence as a meaningless string of characters in (an ill-formed) comment.\r\n\r\nIf the editor in question is a Unicode-aware tool, then it is also doing the right thing--leaving the Unicode escape sequence &quot;as is&quot;, and treating it as a meaningless string of characters in (an ill-formed) comment.\r\n\r\nLossless, reversible conversion requires transformations that map 1-1 onto--thus the intersection of the two sets must be empty. Here the two sets in question can overlap even if no characters are modified by a correctly implemented escape-ify-ing transformation because escaped-Unicode in the range (000-07F) might already be present in the input stream.\r\n \r\nIf the goal is lossless, reversible conversion between Unicode and ASCII, the requirement for transforming to/from ASCII is to escape-ify/re-encode any Unicode characters greater than hex 007F, and leave the rest alone.\r\n\r\nHaving done that, a language that is Unicode aware will treat escaped-Unicode characters as an error anywhere other than inside a comment or a string--they must not be converted within comments, but they must be converted within strings--therefore conversion must not happen until *after* lexical analysis has turned the source into tokens (i.e. lexemes), allowing conversions to be done in a type-safe manner. \r\n","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>&quot;The reason for this is that the Java compiler parses the Unicode character \\u000d as a new line&quot;.</p>\n<p>If true, then that's precisely where the error occurs.</p>\n<p>Java compilers should perhaps refuse to compile this source, because (as Java source code) it is ill-formed, thus either bad to begin with, tampered with en route, or mutated by something in the tool-chain that does not understand the transformation rules. They should <em>not</em> blindly transform it.</p>\n<p>If the editor in question is an ASCII-only tool, then said editor is doing the right thing--treating the Unicode escape sequence as a meaningless string of characters in (an ill-formed) comment.</p>\n<p>If the editor in question is a Unicode-aware tool, then it is also doing the right thing--leaving the Unicode escape sequence &quot;as is&quot;, and treating it as a meaningless string of characters in (an ill-formed) comment.</p>\n<p>Lossless, reversible conversion requires transformations that map 1-1 onto--thus the intersection of the two sets must be empty. Here the two sets in question can overlap even if no characters are modified by a correctly implemented escape-ify-ing transformation because escaped-Unicode in the range (000-07F) might already be present in the input stream.</p>\n<p>If the goal is lossless, reversible conversion between Unicode and ASCII, the requirement for transforming to/from ASCII is to escape-ify/re-encode any Unicode characters greater than hex 007F, and leave the rest alone.</p>\n<p>Having done that, a language that is Unicode aware will treat escaped-Unicode characters as an error anywhere other than inside a comment or a string--they must not be converted within comments, but they must be converted within strings--therefore conversion must not happen until <em>after</em> lexical analysis has turned the source into tokens (i.e. lexemes), allowing conversions to be done in a type-safe manner.</p>\n"}],"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85140,"favorite_count":0,"down_vote_count":21,"up_vote_count":1430,"accepted_answer_id":30727799,"answer_count":8,"score":1409,"last_activity_date":1682541313,"creation_date":1433840536,"question_id":30727515,"body_markdown":"The following code produces the output &quot;Hello World!&quot; (no really, try it).\r\n\r\n    public static void main(String... args) {\r\n\r\n       // The comment below is not a typo.\r\n       // \\u000d System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n\r\nThe reason for this is that the Java compiler parses the Unicode character `\\u000d` as a new line and gets transformed into:\r\n\r\n    public static void main(String... args) {\r\n\r\n       // The comment below is not a typo.\r\n       //\r\n       System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n\r\nThus resulting into a comment being &quot;executed&quot;.\r\n\r\nSince this can be used to &quot;hide&quot; malicious code or whatever an evil programmer can conceive, **why is it allowed in comments**?\r\n\r\nWhy is this allowed by the Java specification?\r\n","title":"Why is executing Java code in comments with certain Unicode characters allowed?","body":"<p>The following code produces the output \"Hello World!\" (no really, try it).</p>\n\n<pre><code>public static void main(String... args) {\n\n   // The comment below is not a typo.\n   // \\u000d System.out.println(\"Hello World!\");\n}\n</code></pre>\n\n<p>The reason for this is that the Java compiler parses the Unicode character <code>\\u000d</code> as a new line and gets transformed into:</p>\n\n<pre><code>public static void main(String... args) {\n\n   // The comment below is not a typo.\n   //\n   System.out.println(\"Hello World!\");\n}\n</code></pre>\n\n<p>Thus resulting into a comment being \"executed\".</p>\n\n<p>Since this can be used to \"hide\" malicious code or whatever an evil programmer can conceive, <strong>why is it allowed in comments</strong>?</p>\n\n<p>Why is this allowed by the Java specification?</p>\n"},{"tags":["java","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682504775,"creation_date":1682504775,"answer_id":76109714,"question_id":76109540,"body_markdown":"You can use an in-memory database if you want to avoid mocking the repository. This will give you more flexibility (for instance, the test will not care if you call `saveWallet` 3 times or `saveAllWallets(...)` once). On the other hand, the mocks will make the test run much faster, so it&#39;s basically a trade-off.\r\n\r\nIn your case, you have to decide if you want to use a `@DataJpaTest` and the in-memory database. This will mean you need to set up the DB connection as explained [in this article][1]. To test, you will then use @Autowire for the repositories instead of trying to mock them.\r\n\r\nAlternatively, you can use `@Mock` or `@MockBean` for the repositories and do not set up an in-memory DB (and no longer user `@DataJpaTest`).\r\n\r\nLastly, you should avoid mocking the class you want to test. So, if you want to test a WalletService that uses WaleltRepo, you can mock WalletRepo. But if you want to test WalletRepo that talks to the DB, you&#39;ll need to &quot;mock&quot; the DB by providing this in-memory solution\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-h2-database","title":"JUnit5 repository class test cases","body":"<p>You can use an in-memory database if you want to avoid mocking the repository. This will give you more flexibility (for instance, the test will not care if you call <code>saveWallet</code> 3 times or <code>saveAllWallets(...)</code> once). On the other hand, the mocks will make the test run much faster, so it's basically a trade-off.</p>\n<p>In your case, you have to decide if you want to use a <code>@DataJpaTest</code> and the in-memory database. This will mean you need to set up the DB connection as explained <a href=\"https://www.baeldung.com/spring-boot-h2-database\" rel=\"nofollow noreferrer\">in this article</a>. To test, you will then use @Autowire for the repositories instead of trying to mock them.</p>\n<p>Alternatively, you can use <code>@Mock</code> or <code>@MockBean</code> for the repositories and do not set up an in-memory DB (and no longer user <code>@DataJpaTest</code>).</p>\n<p>Lastly, you should avoid mocking the class you want to test. So, if you want to test a WalletService that uses WaleltRepo, you can mock WalletRepo. But if you want to test WalletRepo that talks to the DB, you'll need to &quot;mock&quot; the DB by providing this in-memory solution</p>\n"},{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682540591,"creation_date":1682538920,"answer_id":76114603,"question_id":76109540,"body_markdown":"&gt; So my question is when do we really need a database connection for\r\n&gt; test cases?\r\n\r\nThis depends on the type of test that you are writing, normally when you are testing something in your application that crosses a boundary to an external system/database, you write integration tests. In this case, by connecting to a database integration tests are more suitable since you are making sure that fetching/saving data is being done correctly.\r\n\r\nIn this case, you would actually need a `test` database which can be achieved in 2 ways:\r\n\r\n1. H2 in-memory database (you need to add the dependency, and configure it ...)\r\n2. Test Containers (you can spin up in docker container the same database technology you are using but for testing)\r\n\r\n&gt; how do we write JUnit 5 test cases without a database connection\r\n\r\nThen you would need to run Unit Tests, instead of Integration test, which is what you are doing here. In a unit test, you would `mock` your services, whereas, in an Integration Test, you will boot up your spring application and use the actual injected services. To make your tests work in this you would need to avoid loading your application context this could be done by simply removing `@DataJpaTest` and `AutoConfigureTestDatabase` because these annotations are basically telling your test that you are writing an integration test meaning you will actually run you spring boot application and load its context.\r\n\r\nIn general, it&#39;s a better practice to be writing an Integration Test, and remove the `mock` annotation on your repository to actually using an inject service\r\n\r\n\r\n\r\n","title":"JUnit5 repository class test cases","body":"<blockquote>\n<p>So my question is when do we really need a database connection for\ntest cases?</p>\n</blockquote>\n<p>This depends on the type of test that you are writing, normally when you are testing something in your application that crosses a boundary to an external system/database, you write integration tests. In this case, by connecting to a database integration tests are more suitable since you are making sure that fetching/saving data is being done correctly.</p>\n<p>In this case, you would actually need a <code>test</code> database which can be achieved in 2 ways:</p>\n<ol>\n<li>H2 in-memory database (you need to add the dependency, and configure it ...)</li>\n<li>Test Containers (you can spin up in docker container the same database technology you are using but for testing)</li>\n</ol>\n<blockquote>\n<p>how do we write JUnit 5 test cases without a database connection</p>\n</blockquote>\n<p>Then you would need to run Unit Tests, instead of Integration test, which is what you are doing here. In a unit test, you would <code>mock</code> your services, whereas, in an Integration Test, you will boot up your spring application and use the actual injected services. To make your tests work in this you would need to avoid loading your application context this could be done by simply removing <code>@DataJpaTest</code> and <code>AutoConfigureTestDatabase</code> because these annotations are basically telling your test that you are writing an integration test meaning you will actually run you spring boot application and load its context.</p>\n<p>In general, it's a better practice to be writing an Integration Test, and remove the <code>mock</code> annotation on your repository to actually using an inject service</p>\n"}],"owner":{"account_id":28144527,"reputation":37,"user_id":21507039,"display_name":"Anup Panchal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76109714,"answer_count":2,"score":0,"last_activity_date":1682540591,"creation_date":1682503664,"question_id":76109540,"body_markdown":"**This my JUni5 repository levele test cases**\r\n\r\n\r\n```\r\n@DataJpaTest\r\n@ExtendWith(MockitoExtension.class)\r\n@AutoConfigureTestDatabase(replace = Replace.NONE)\r\nclass WalletRepositoryTest {\r\n    @Mock private WalletRepository walletRepository;\r\n    @Mock private UserRepository userRepository;\r\n    private static final User USER = createUser();\r\n    private static final WalletDetail WALLET_DETAIL = createWalletDetail(USER);\r\n\r\n    private static User createUser() {\r\n        final var user = new User();\r\n        user.setUserId(1);\r\n        user.setUid(&quot;4dcd810b-b9b1-4006-89a2-b50e9ed5ee67&quot;);\r\n        user.setName(&quot;guest&quot;);\r\n        user.setMobileNo(&quot;1234567890&quot;);\r\n        user.setEmail(&quot;guest98787@guest.com&quot;);\r\n        user.setPassword(&quot;1234abc&quot;);\r\n        return user;\r\n    }\r\n\r\n    private static WalletDetail createWalletDetail(final User user) {\r\n        final var walletDetail = new WalletDetail();\r\n        walletDetail.setWalletId(1);\r\n        walletDetail.setUid(&quot;86bd3f49-f9bc-425c-b5a1-2f353e9061ff&quot;);\r\n        walletDetail.setUser(user);\r\n        walletDetail.setWalletAmount(20.0);\r\n        return walletDetail;\r\n    }\r\n    @Test\r\n    void findByUser() {\r\n        when(userRepository.save(any(User.class))).thenReturn(USER);\r\n        when(walletRepository.save(any(WalletDetail.class))).thenReturn(WALLET_DETAIL);\r\n        when(walletRepository.findByUser(anyInt())).thenReturn(WALLET_DETAIL);\r\n\r\n        userRepository.save(USER);\r\n        walletRepository.save(WALLET_DETAIL);\r\n\r\n        final var result = walletRepository.findByUser(1);\r\n\r\n        assertNotNull(result);\r\n        assertEquals(1, result.getWalletId());\r\n    }\r\n}\r\n```\r\n\r\n\r\nin my project, I am using Gradle\r\nAnd using PostgreSQL database\r\n\r\nwhen in my system closes the database connection my test cases not working when I create a build.\r\n\r\n**show this error**\r\n\r\n```\r\nWalletRepositoryTest &gt; findByUser() FAILED\r\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:142\r\n        Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1762\r\n            Caused by: org.flywaydb.core.internal.exception.FlywaySqlException at JdbcUtils.java:60\r\n                Caused by: org.postgresql.util.PSQLException at ConnectionFactoryImpl.java:342\r\n                    Caused by: java.net.ConnectException at Net.java:-2\r\n```\r\n\r\n\r\n\r\n\r\n**So my question is when do we really need a database connection for test cases?**\r\n\r\nand how do we write JUnit 5 test cases without a database connection","title":"JUnit5 repository class test cases","body":"<p><strong>This my JUni5 repository levele test cases</strong></p>\n<pre><code>@DataJpaTest\n@ExtendWith(MockitoExtension.class)\n@AutoConfigureTestDatabase(replace = Replace.NONE)\nclass WalletRepositoryTest {\n    @Mock private WalletRepository walletRepository;\n    @Mock private UserRepository userRepository;\n    private static final User USER = createUser();\n    private static final WalletDetail WALLET_DETAIL = createWalletDetail(USER);\n\n    private static User createUser() {\n        final var user = new User();\n        user.setUserId(1);\n        user.setUid(&quot;4dcd810b-b9b1-4006-89a2-b50e9ed5ee67&quot;);\n        user.setName(&quot;guest&quot;);\n        user.setMobileNo(&quot;1234567890&quot;);\n        user.setEmail(&quot;guest98787@guest.com&quot;);\n        user.setPassword(&quot;1234abc&quot;);\n        return user;\n    }\n\n    private static WalletDetail createWalletDetail(final User user) {\n        final var walletDetail = new WalletDetail();\n        walletDetail.setWalletId(1);\n        walletDetail.setUid(&quot;86bd3f49-f9bc-425c-b5a1-2f353e9061ff&quot;);\n        walletDetail.setUser(user);\n        walletDetail.setWalletAmount(20.0);\n        return walletDetail;\n    }\n    @Test\n    void findByUser() {\n        when(userRepository.save(any(User.class))).thenReturn(USER);\n        when(walletRepository.save(any(WalletDetail.class))).thenReturn(WALLET_DETAIL);\n        when(walletRepository.findByUser(anyInt())).thenReturn(WALLET_DETAIL);\n\n        userRepository.save(USER);\n        walletRepository.save(WALLET_DETAIL);\n\n        final var result = walletRepository.findByUser(1);\n\n        assertNotNull(result);\n        assertEquals(1, result.getWalletId());\n    }\n}\n</code></pre>\n<p>in my project, I am using Gradle\nAnd using PostgreSQL database</p>\n<p>when in my system closes the database connection my test cases not working when I create a build.</p>\n<p><strong>show this error</strong></p>\n<pre><code>WalletRepositoryTest &gt; findByUser() FAILED\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:142\n        Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1762\n            Caused by: org.flywaydb.core.internal.exception.FlywaySqlException at JdbcUtils.java:60\n                Caused by: org.postgresql.util.PSQLException at ConnectionFactoryImpl.java:342\n                    Caused by: java.net.ConnectException at Net.java:-2\n</code></pre>\n<p><strong>So my question is when do we really need a database connection for test cases?</strong></p>\n<p>and how do we write JUnit 5 test cases without a database connection</p>\n"},{"tags":["java","spring","properties-file"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682532005,"post_id":76113346,"comment_id":134232665,"body_markdown":"Have you tried anything?","body":"Have you tried anything?"},{"owner":{"account_id":13838717,"reputation":25,"user_id":9989621,"display_name":"nicstratis"},"score":0,"creation_date":1682539962,"post_id":76113346,"comment_id":134234068,"body_markdown":"I manage to combine 2 values to create a new one but didn&#39;t find a way to use only a part of existing value to create a new one.","body":"I manage to combine 2 values to create a new one but didn&#39;t find a way to use only a part of existing value to create a new one."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682540415,"creation_date":1682540415,"answer_id":76114798,"question_id":76113346,"body_markdown":"You seem to need to use [Spring Expression Language][1] (SpEL).\r\n\r\nThe expression could be something like:\r\n```\r\n&quot;#{&#39;${prop1}&#39;.substring(1,3)}&quot;\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions","title":"Java properties file. Using part of a value to create another value (key-value)","body":"<p>You seem to need to use <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions\" rel=\"nofollow noreferrer\">Spring Expression Language</a> (SpEL).</p>\n<p>The expression could be something like:</p>\n<pre><code>&quot;#{'${prop1}'.substring(1,3)}&quot;\n</code></pre>\n"}],"owner":{"account_id":13838717,"reputation":25,"user_id":9989621,"display_name":"nicstratis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1682678553,"accepted_answer_id":76114798,"answer_count":1,"score":-2,"last_activity_date":1682540415,"creation_date":1682528465,"question_id":76113346,"body_markdown":"I know that by using the ${} we can use the value of another key.\r\n\r\nwhat if we want to use part of that value? for example, ignore the first 10 chars and use this value. \r\n\r\nor using regular expressions for more complex stuff.\r\n\r\ncan this be done using only properties.file?\r\n\r\ntried to find a kind of substr for this but I was able only to find ${}","title":"Java properties file. Using part of a value to create another value (key-value)","body":"<p>I know that by using the ${} we can use the value of another key.</p>\n<p>what if we want to use part of that value? for example, ignore the first 10 chars and use this value.</p>\n<p>or using regular expressions for more complex stuff.</p>\n<p>can this be done using only properties.file?</p>\n<p>tried to find a kind of substr for this but I was able only to find ${}</p>\n"},{"tags":["java","wildfly","log4j2","jboss-logging"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682509267,"post_id":76109417,"comment_id":134226464,"body_markdown":"Does this answer your question? [Log message as json format in wildfly logs](https://stackoverflow.com/questions/59469499/log-message-as-json-format-in-wildfly-logs)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59469499/log-message-as-json-format-in-wildfly-logs\">Log message as json format in wildfly logs</a>"},{"owner":{"account_id":28420353,"reputation":23,"user_id":21742499,"display_name":"Ferdi"},"score":0,"creation_date":1682514682,"post_id":76109417,"comment_id":134227948,"body_markdown":"Thank you, but no it doesn&#39;t answer my question. In your referenced link the problem is about &quot;how to log in json format with wildfly&quot;. My current setup (see last sub-title of my question) already does that much, but when it appends also my java-application-json-logs, it escapes my java-application-json-log turning those logs into non-json.","body":"Thank you, but no it doesn&#39;t answer my question. In your referenced link the problem is about &quot;how to log in json format with wildfly&quot;. My current setup (see last sub-title of my question) already does that much, but when it appends also my java-application-json-logs, it escapes my java-application-json-log turning those logs into non-json."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1682517259,"post_id":76109417,"comment_id":134228653,"body_markdown":"Do you need to use a log4j configuration file?","body":"Do you need to use a log4j configuration file?"},{"owner":{"account_id":28420353,"reputation":23,"user_id":21742499,"display_name":"Ferdi"},"score":0,"creation_date":1682518115,"post_id":76109417,"comment_id":134228933,"body_markdown":"Hi James, yes on java application side I have to use log4j2, I cannot swap it with another logging lib.","body":"Hi James, yes on java application side I have to use log4j2, I cannot swap it with another logging lib."}],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682539465,"creation_date":1682518171,"answer_id":76111775,"question_id":76109417,"body_markdown":"You&#39;re using both the logging configuration in WildFly and including a logging configuration in your deployment with a handler which is writing to `System.out`. WildFly wraps `System.out` and `System.err` in a logger. When another log manager writes to one of the standard streams, then it&#39;s processed through the log manager.\r\n\r\nWith JSON logging you&#39;ve got three options. \r\n\r\n1. You can accept the JSON output that WildFly outputs and remove your logging configuration from your deployment. Note that this will be the most consistent output and include logs from WildFly.\r\n2. You can set the [`direct`][1] configuration parameter to `true`. Do note the remarks there of how messages could still be interwined.\r\n3. Write your JSON output to a file instead of the console.\r\n\r\nDo note with the second option you may end up with two different JSON formats.\r\n\r\n[1]: https://logging.apache.org/log4j/2.x/manual/appenders.html#ConsoleAppender","title":"java - jboss logmanager breaks json format of my application json-logs from log4j2 by escaping quotes","body":"<p>You're using both the logging configuration in WildFly and including a logging configuration in your deployment with a handler which is writing to <code>System.out</code>. WildFly wraps <code>System.out</code> and <code>System.err</code> in a logger. When another log manager writes to one of the standard streams, then it's processed through the log manager.</p>\n<p>With JSON logging you've got three options.</p>\n<ol>\n<li>You can accept the JSON output that WildFly outputs and remove your logging configuration from your deployment. Note that this will be the most consistent output and include logs from WildFly.</li>\n<li>You can set the <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#ConsoleAppender\" rel=\"nofollow noreferrer\"><code>direct</code></a> configuration parameter to <code>true</code>. Do note the remarks there of how messages could still be interwined.</li>\n<li>Write your JSON output to a file instead of the console.</li>\n</ol>\n<p>Do note with the second option you may end up with two different JSON formats.</p>\n"}],"owner":{"account_id":28420353,"reputation":23,"user_id":21742499,"display_name":"Ferdi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76111775,"answer_count":1,"score":2,"last_activity_date":1682539465,"creation_date":1682502929,"question_id":76109417,"body_markdown":"## Context is:\r\nI have switched from logging to file as text towards logging to stdout as json, to send the log messages as parsable json-logs to the elastic stack with kibana.\r\n\r\nThe wildfly server (version 22.0.1.Final or 26.1.3.Final) uses the jboss logger which I also switched from Textbased logging to structured parsable json logs writing them also to stdout.\r\n\r\nThe jboss logger takes the logs from our java application (with log4j2) and wraps them into it&#39;s own log message enriching it with more context.\r\n\r\n## Problem is:\r\nthe application json-logs are getting escaped by the jboss logger before appending it, therefore breaking the json format and making it unparsable for the rest of our workflow.\r\n\r\n\r\nThis is the result with the setting jboss-logger in json format &amp; log4j2 in json format - see the key &#39;message&#39; where quotation marks are escaped like `\\&quot;log.level\\&quot;: \\&quot;INFO\\&quot;` instead of `&quot;log.level&quot;: &quot;INFO&quot;`\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-04-26T09:01:50.489+02:00&quot;,\r\n    &quot;sequence&quot;: 295,\r\n    &quot;loggerClassName&quot;: &quot;org.jboss.logmanager.Logger&quot;,\r\n    &quot;loggerName&quot;: &quot;stdout&quot;,\r\n    &quot;level&quot;: &quot;INFO&quot;,\r\n    &quot;message&quot;: &quot;{\\&quot;@timestamp\\&quot;:\\&quot;2023-04-25T12:01:50.488Z\\&quot;,\\&quot;log.level\\&quot;: \\&quot;INFO\\&quot;,\\&quot;message\\&quot;:\\&quot;creating a new account for userid 146\\&quot;, \\&quot;ecs.version\\&quot;: \\&quot;1.2.0\\&quot;,\\&quot;service.name\\&quot;:\\&quot;my_project_x\\&quot;,\\&quot;service.version\\&quot;:\\&quot;5.67\\&quot;,\\&quot;event.dataset\\&quot;:\\&quot;my_project_x.log\\&quot;,\\&quot;process.thread.name\\&quot;:\\&quot;default task-2\\&quot;,\\&quot;log.logger\\&quot;:\\&quot;org.my_project_x.logic.AccountImpl\\&quot;,\\&quot;hostname\\&quot;:\\&quot;Lenovo\\&quot;,\\&quot;environment\\&quot;:\\&quot;develop\\&quot;,\\&quot;user.id\\&quot;:\\&quot;146\\&quot;,\\&quot;log\\&quot;:{\\&quot;origin\\&quot;:{\\&quot;file\\&quot;:{\\&quot;name\\&quot;:\\&quot;AccountImpl.java\\&quot;,\\&quot;line\\&quot;:720},\\&quot;function\\&quot;:\\&quot;addAccount\\&quot;}}}&quot;,\r\n    &quot;threadName&quot;: &quot;default task-2&quot;,\r\n    &quot;threadId&quot;: 183,\r\n    &quot;mdc&quot;: {},\r\n    &quot;ndc&quot;: &quot;&quot;,\r\n    &quot;hostName&quot;: &quot;lenovo-p14s&quot;,\r\n    &quot;processName&quot;: &quot;jboss-modules.jar&quot;,\r\n    &quot;processId&quot;: 64672\r\n}\r\n```\r\n\r\n\r\nthen I tried turning the jboss logger back to Text format while leaving the application logs as json in log4j2.\r\nLike this the application logs stay correctly in the json format:\r\n```\r\n2023-04-26 10:49:59,407 INFO  [stdout] (default task-6) {&quot;@timestamp&quot;:&quot;2023-04-26T10:49:59,407Z&quot;,&quot;log.level&quot;: &quot;INFO&quot;,&quot;message&quot;:&quot;creating a new account for userid 166.&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;my_project_x&quot;,&quot;service.version&quot;:&quot;5.67&quot;,&quot;event.dataset&quot;:&quot;my_project_x.log&quot;,&quot;process.thread.name&quot;:&quot;default task-6&quot;,&quot;log.logger&quot;:&quot;org.my_project_x.logic.AccountImpl&quot;,&quot;hostname&quot;:&quot;Lenovo&quot;,&quot;environment&quot;:&quot;develop&quot;,&quot;user.id&quot;:&quot;166&quot;,&quot;log&quot;:{&quot;origin&quot;:{&quot;file&quot;:{&quot;name&quot;:&quot;AccountImpl.java&quot;,&quot;line&quot;:720},&quot;function&quot;:&quot;addAccount&quot;}}}\r\n```\r\nbut I would like to have the jboss logs also in the json format, while leaving my application logs in valid json format.\r\n\r\n# Question is:\r\nI could not find any way to disable the escaping of the application logs when turning on the json format for the jboss logger. Is there any way to have our application logs in correct json format, while also having the jboss logs in json, resulting in a valid json (application log4j2) in json (jboss log).\r\n\r\nAny help will be appreciated.\r\n\r\nRegards,\r\n\r\n### ps: my setup if needed\r\nfor wildfly / jboss logger\r\n```\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:logging:8.0&quot;&gt;\r\n    &lt;console-handler name=&quot;CONSOLE&quot;&gt;\r\n        &lt;level name=&quot;INFO&quot;/&gt;\r\n        &lt;formatter&gt;\r\n            &lt;named-formatter name=&quot;JSON&quot;/&gt;\r\n        &lt;/formatter&gt;\r\n    &lt;/console-handler&gt;\r\n    &lt;periodic-rotating-file-handler name=&quot;FILE&quot; autoflush=&quot;true&quot;&gt;\r\n        &lt;formatter&gt;\r\n            &lt;named-formatter name=&quot;PATTERN&quot;/&gt;\r\n        &lt;/formatter&gt;\r\n        &lt;file relative-to=&quot;jboss.server.log.dir&quot; path=&quot;server.log&quot;/&gt;\r\n        &lt;suffix value=&quot;.yyyy-MM-dd&quot;/&gt;\r\n        &lt;append value=&quot;true&quot;/&gt;\r\n    &lt;/periodic-rotating-file-handler&gt;\r\n    &lt;logger category=&quot;com.arjuna&quot;&gt;\r\n        &lt;level name=&quot;WARN&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    &lt;logger category=&quot;io.jaegertracing.Configuration&quot;&gt;\r\n        &lt;level name=&quot;WARN&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    &lt;logger category=&quot;org.jboss.as.config&quot;&gt;\r\n        &lt;level name=&quot;DEBUG&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    &lt;logger category=&quot;sun.rmi&quot;&gt;\r\n        &lt;level name=&quot;WARN&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    &lt;root-logger&gt;\r\n        &lt;level name=&quot;INFO&quot;/&gt;\r\n        &lt;handlers&gt;\r\n            &lt;handler name=&quot;CONSOLE&quot;/&gt;\r\n            &lt;handler name=&quot;FILE&quot;/&gt;\r\n        &lt;/handlers&gt;\r\n    &lt;/root-logger&gt;\r\n    &lt;formatter name=&quot;PATTERN&quot;&gt;\r\n        &lt;pattern-formatter pattern=&quot;%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\r\n    &lt;/formatter&gt;\r\n    &lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\r\n        &lt;pattern-formatter pattern=&quot;%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\r\n    &lt;/formatter&gt;\r\n    &lt;formatter name=&quot;JSON&quot;&gt;\r\n        &lt;json-formatter/&gt;\r\n    &lt;/formatter&gt;\r\n&lt;/subsystem&gt;\r\n```\r\n\r\nfor log4j2 (version 2.19.0) in the java application:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration packages=&quot;org.my_project_x.logging&quot; status=&quot;WARN&quot; strict=&quot;true&quot; verbose=&quot;true&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;myConsoleLog&quot;&gt;\r\n            &lt;IgnoreExceptions&gt;false&lt;/IgnoreExceptions&gt;\r\n            &lt;EcsLayout serviceName=&quot;my_project_x&quot; serviceVersion=&quot;${serverVersion}&quot; includeOrigin=&quot;true&quot; eventDataset=&quot;my_project_x.log&quot;&gt;\r\n                &lt;KeyValuePair key=&quot;hostname&quot; value=&quot;%hostname&quot;/&gt;\r\n                &lt;KeyValuePair key=&quot;environment&quot; value=&quot;develop&quot;/&gt;\r\n                &lt;KeyValuePair key=&quot;user.id&quot; value=&quot;%userId&quot;/&gt;\r\n            &lt;/EcsLayout&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;org.my_project_x&quot;&gt;\r\n            &lt;Level&gt;INFO&lt;/Level&gt;\r\n        &lt;/Logger&gt;\r\n        \r\n        &lt;Root&gt;\r\n            &lt;AppenderRef ref=&quot;myConsoleLog&quot;/&gt;\r\n            &lt;Level&gt;WARN&lt;/Level&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n\r\n\r\n\r\n","title":"java - jboss logmanager breaks json format of my application json-logs from log4j2 by escaping quotes","body":"<h2>Context is:</h2>\n<p>I have switched from logging to file as text towards logging to stdout as json, to send the log messages as parsable json-logs to the elastic stack with kibana.</p>\n<p>The wildfly server (version 22.0.1.Final or 26.1.3.Final) uses the jboss logger which I also switched from Textbased logging to structured parsable json logs writing them also to stdout.</p>\n<p>The jboss logger takes the logs from our java application (with log4j2) and wraps them into it's own log message enriching it with more context.</p>\n<h2>Problem is:</h2>\n<p>the application json-logs are getting escaped by the jboss logger before appending it, therefore breaking the json format and making it unparsable for the rest of our workflow.</p>\n<p>This is the result with the setting jboss-logger in json format &amp; log4j2 in json format - see the key 'message' where quotation marks are escaped like <code>\\&quot;log.level\\&quot;: \\&quot;INFO\\&quot;</code> instead of <code>&quot;log.level&quot;: &quot;INFO&quot;</code></p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-04-26T09:01:50.489+02:00&quot;,\n    &quot;sequence&quot;: 295,\n    &quot;loggerClassName&quot;: &quot;org.jboss.logmanager.Logger&quot;,\n    &quot;loggerName&quot;: &quot;stdout&quot;,\n    &quot;level&quot;: &quot;INFO&quot;,\n    &quot;message&quot;: &quot;{\\&quot;@timestamp\\&quot;:\\&quot;2023-04-25T12:01:50.488Z\\&quot;,\\&quot;log.level\\&quot;: \\&quot;INFO\\&quot;,\\&quot;message\\&quot;:\\&quot;creating a new account for userid 146\\&quot;, \\&quot;ecs.version\\&quot;: \\&quot;1.2.0\\&quot;,\\&quot;service.name\\&quot;:\\&quot;my_project_x\\&quot;,\\&quot;service.version\\&quot;:\\&quot;5.67\\&quot;,\\&quot;event.dataset\\&quot;:\\&quot;my_project_x.log\\&quot;,\\&quot;process.thread.name\\&quot;:\\&quot;default task-2\\&quot;,\\&quot;log.logger\\&quot;:\\&quot;org.my_project_x.logic.AccountImpl\\&quot;,\\&quot;hostname\\&quot;:\\&quot;Lenovo\\&quot;,\\&quot;environment\\&quot;:\\&quot;develop\\&quot;,\\&quot;user.id\\&quot;:\\&quot;146\\&quot;,\\&quot;log\\&quot;:{\\&quot;origin\\&quot;:{\\&quot;file\\&quot;:{\\&quot;name\\&quot;:\\&quot;AccountImpl.java\\&quot;,\\&quot;line\\&quot;:720},\\&quot;function\\&quot;:\\&quot;addAccount\\&quot;}}}&quot;,\n    &quot;threadName&quot;: &quot;default task-2&quot;,\n    &quot;threadId&quot;: 183,\n    &quot;mdc&quot;: {},\n    &quot;ndc&quot;: &quot;&quot;,\n    &quot;hostName&quot;: &quot;lenovo-p14s&quot;,\n    &quot;processName&quot;: &quot;jboss-modules.jar&quot;,\n    &quot;processId&quot;: 64672\n}\n</code></pre>\n<p>then I tried turning the jboss logger back to Text format while leaving the application logs as json in log4j2.\nLike this the application logs stay correctly in the json format:</p>\n<pre><code>2023-04-26 10:49:59,407 INFO  [stdout] (default task-6) {&quot;@timestamp&quot;:&quot;2023-04-26T10:49:59,407Z&quot;,&quot;log.level&quot;: &quot;INFO&quot;,&quot;message&quot;:&quot;creating a new account for userid 166.&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;my_project_x&quot;,&quot;service.version&quot;:&quot;5.67&quot;,&quot;event.dataset&quot;:&quot;my_project_x.log&quot;,&quot;process.thread.name&quot;:&quot;default task-6&quot;,&quot;log.logger&quot;:&quot;org.my_project_x.logic.AccountImpl&quot;,&quot;hostname&quot;:&quot;Lenovo&quot;,&quot;environment&quot;:&quot;develop&quot;,&quot;user.id&quot;:&quot;166&quot;,&quot;log&quot;:{&quot;origin&quot;:{&quot;file&quot;:{&quot;name&quot;:&quot;AccountImpl.java&quot;,&quot;line&quot;:720},&quot;function&quot;:&quot;addAccount&quot;}}}\n</code></pre>\n<p>but I would like to have the jboss logs also in the json format, while leaving my application logs in valid json format.</p>\n<h1>Question is:</h1>\n<p>I could not find any way to disable the escaping of the application logs when turning on the json format for the jboss logger. Is there any way to have our application logs in correct json format, while also having the jboss logs in json, resulting in a valid json (application log4j2) in json (jboss log).</p>\n<p>Any help will be appreciated.</p>\n<p>Regards,</p>\n<h3>ps: my setup if needed</h3>\n<p>for wildfly / jboss logger</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:logging:8.0&quot;&gt;\n    &lt;console-handler name=&quot;CONSOLE&quot;&gt;\n        &lt;level name=&quot;INFO&quot;/&gt;\n        &lt;formatter&gt;\n            &lt;named-formatter name=&quot;JSON&quot;/&gt;\n        &lt;/formatter&gt;\n    &lt;/console-handler&gt;\n    &lt;periodic-rotating-file-handler name=&quot;FILE&quot; autoflush=&quot;true&quot;&gt;\n        &lt;formatter&gt;\n            &lt;named-formatter name=&quot;PATTERN&quot;/&gt;\n        &lt;/formatter&gt;\n        &lt;file relative-to=&quot;jboss.server.log.dir&quot; path=&quot;server.log&quot;/&gt;\n        &lt;suffix value=&quot;.yyyy-MM-dd&quot;/&gt;\n        &lt;append value=&quot;true&quot;/&gt;\n    &lt;/periodic-rotating-file-handler&gt;\n    &lt;logger category=&quot;com.arjuna&quot;&gt;\n        &lt;level name=&quot;WARN&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;logger category=&quot;io.jaegertracing.Configuration&quot;&gt;\n        &lt;level name=&quot;WARN&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;logger category=&quot;org.jboss.as.config&quot;&gt;\n        &lt;level name=&quot;DEBUG&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;logger category=&quot;sun.rmi&quot;&gt;\n        &lt;level name=&quot;WARN&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;root-logger&gt;\n        &lt;level name=&quot;INFO&quot;/&gt;\n        &lt;handlers&gt;\n            &lt;handler name=&quot;CONSOLE&quot;/&gt;\n            &lt;handler name=&quot;FILE&quot;/&gt;\n        &lt;/handlers&gt;\n    &lt;/root-logger&gt;\n    &lt;formatter name=&quot;PATTERN&quot;&gt;\n        &lt;pattern-formatter pattern=&quot;%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\n    &lt;/formatter&gt;\n    &lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\n        &lt;pattern-formatter pattern=&quot;%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\n    &lt;/formatter&gt;\n    &lt;formatter name=&quot;JSON&quot;&gt;\n        &lt;json-formatter/&gt;\n    &lt;/formatter&gt;\n&lt;/subsystem&gt;\n</code></pre>\n<p>for log4j2 (version 2.19.0) in the java application:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration packages=&quot;org.my_project_x.logging&quot; status=&quot;WARN&quot; strict=&quot;true&quot; verbose=&quot;true&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;myConsoleLog&quot;&gt;\n            &lt;IgnoreExceptions&gt;false&lt;/IgnoreExceptions&gt;\n            &lt;EcsLayout serviceName=&quot;my_project_x&quot; serviceVersion=&quot;${serverVersion}&quot; includeOrigin=&quot;true&quot; eventDataset=&quot;my_project_x.log&quot;&gt;\n                &lt;KeyValuePair key=&quot;hostname&quot; value=&quot;%hostname&quot;/&gt;\n                &lt;KeyValuePair key=&quot;environment&quot; value=&quot;develop&quot;/&gt;\n                &lt;KeyValuePair key=&quot;user.id&quot; value=&quot;%userId&quot;/&gt;\n            &lt;/EcsLayout&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;org.my_project_x&quot;&gt;\n            &lt;Level&gt;INFO&lt;/Level&gt;\n        &lt;/Logger&gt;\n        \n        &lt;Root&gt;\n            &lt;AppenderRef ref=&quot;myConsoleLog&quot;/&gt;\n            &lt;Level&gt;WARN&lt;/Level&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","jvm","stack-machine"],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682279345,"creation_date":1682279345,"answer_id":76086934,"question_id":76086392,"body_markdown":"To evaluate `a = b * c`, for example, it&#39;s `push b; push c; multiply; pop a`.  \r\n\r\nAfter the multiply, b and c are not &#39;in&#39; the stack. The values were only temporarily there.\r\n\r\nI think the appropriate way to look at the operand stack is to consider it as a set of fast registers. Like general-register machines, arithmetic is done in the fast registers; the stack has the benefit that the &#39;register addresses&#39; are implicit, saving some instruction bits.\r\n\r\nIf you want b and c to be &#39;always&#39; in the stack, which means they&#39;re at arbitrary locations relative to the stack top, then you&#39;ve just turned your stack into a non-stack machine since you either need 3-address instructions (like &#39;multiply a,b,c&#39;) or you need an accumulator (so &#39;load a; multiply b; store c&#39;), where in each case a,b,c are the addresses of some locations in the stack - possibly encoded as offsets from the stack top.  \r\n\r\nWhat makes that a &#39;non-stack&#39; architecture is that arithmetic is no longer being done on the topmost cells of the stack, implicitly identified, but instead is between arbitrary locations explicitly identified.\r\n\r\n","title":"Why does the JVM have a separate array of local variables?","body":"<p>To evaluate <code>a = b * c</code>, for example, it's <code>push b; push c; multiply; pop a</code>.</p>\n<p>After the multiply, b and c are not 'in' the stack. The values were only temporarily there.</p>\n<p>I think the appropriate way to look at the operand stack is to consider it as a set of fast registers. Like general-register machines, arithmetic is done in the fast registers; the stack has the benefit that the 'register addresses' are implicit, saving some instruction bits.</p>\n<p>If you want b and c to be 'always' in the stack, which means they're at arbitrary locations relative to the stack top, then you've just turned your stack into a non-stack machine since you either need 3-address instructions (like 'multiply a,b,c') or you need an accumulator (so 'load a; multiply b; store c'), where in each case a,b,c are the addresses of some locations in the stack - possibly encoded as offsets from the stack top.</p>\n<p>What makes that a 'non-stack' architecture is that arithmetic is no longer being done on the topmost cells of the stack, implicitly identified, but instead is between arbitrary locations explicitly identified.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682539299,"creation_date":1682539299,"answer_id":76114652,"question_id":76086392,"body_markdown":"&gt; Is this design rationale recorded somewhere?\r\n\r\nI doubt that you will find a satisfying answer to this question.\r\n\r\nWhen people began working on what is now known as Java around 30 years ago this wasn&#39;t a big commitee and some elaborate process . It was a small group of people working tightly together and explicitly formed to _work autonomously without the bureaucracy that was stalling other Sun projects&quot;_. The process was therefore probably more: someone proposed something to the group, there was some discussion and then it was decided without much writing down of rationales.\r\n\r\nSource for the &quot;small group&quot;: https://en.wikipedia.org/wiki/Java_(software_platform)#History\r\n\r\n----\r\nSome thoughts on the other points you&#39;ve made:\r\n\r\n&gt; I guess it would need a few more instructions to manipulate the stack (much like advanced RPN calculators do)\r\n\r\nWithout local variables you would have to replace `iload`, `aload` and some more variants with `ipick`, `apick` and similar variants that pick a value from some offset from the top of the operand stack and push it on top of the operand stack.\r\n\r\nSimilarly you would need to replace `istore`, `astore` and some more variants with `ireplace`, `areplace` and similar variants that pop a value from the operand stack and replace the value at some offset of the top of the operand stack with the popped value.\r\n\r\nThe main difference between the existing instructions and the proposed instructions would be that the existing instructions always use the same offset for a specific local variable while the proposed instructions would have to use different offsets for a specific local variable depending on how much values have been pushed to the operand stack.\r\n\r\n&gt; but how does one know whether that tradeoff would be worth it? \r\n\r\nIMHO not using local variables would make Java byte code harder to work with (for example when doing [Verification of class Files](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.10)) without reaping any benefits.\r\n\r\nNote that at runtime there are no separate memory spaces for local variables and the operand stack. Conceptually the JVM uses one [Frame](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.6) per method invocation and this frame contains the local variables and the operand stack.","title":"Why does the JVM have a separate array of local variables?","body":"<blockquote>\n<p>Is this design rationale recorded somewhere?</p>\n</blockquote>\n<p>I doubt that you will find a satisfying answer to this question.</p>\n<p>When people began working on what is now known as Java around 30 years ago this wasn't a big commitee and some elaborate process . It was a small group of people working tightly together and explicitly formed to <em>work autonomously without the bureaucracy that was stalling other Sun projects&quot;</em>. The process was therefore probably more: someone proposed something to the group, there was some discussion and then it was decided without much writing down of rationales.</p>\n<p>Source for the &quot;small group&quot;: <a href=\"https://en.wikipedia.org/wiki/Java_(software_platform)#History\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Java_(software_platform)#History</a></p>\n<hr />\n<p>Some thoughts on the other points you've made:</p>\n<blockquote>\n<p>I guess it would need a few more instructions to manipulate the stack (much like advanced RPN calculators do)</p>\n</blockquote>\n<p>Without local variables you would have to replace <code>iload</code>, <code>aload</code> and some more variants with <code>ipick</code>, <code>apick</code> and similar variants that pick a value from some offset from the top of the operand stack and push it on top of the operand stack.</p>\n<p>Similarly you would need to replace <code>istore</code>, <code>astore</code> and some more variants with <code>ireplace</code>, <code>areplace</code> and similar variants that pop a value from the operand stack and replace the value at some offset of the top of the operand stack with the popped value.</p>\n<p>The main difference between the existing instructions and the proposed instructions would be that the existing instructions always use the same offset for a specific local variable while the proposed instructions would have to use different offsets for a specific local variable depending on how much values have been pushed to the operand stack.</p>\n<blockquote>\n<p>but how does one know whether that tradeoff would be worth it?</p>\n</blockquote>\n<p>IMHO not using local variables would make Java byte code harder to work with (for example when doing <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.10\" rel=\"nofollow noreferrer\">Verification of class Files</a>) without reaping any benefits.</p>\n<p>Note that at runtime there are no separate memory spaces for local variables and the operand stack. Conceptually the JVM uses one <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.6\" rel=\"nofollow noreferrer\">Frame</a> per method invocation and this frame contains the local variables and the operand stack.</p>\n"}],"owner":{"account_id":1577388,"reputation":14849,"user_id":1463507,"accept_rate":75,"display_name":"kqr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76114652,"answer_count":2,"score":0,"last_activity_date":1682539299,"creation_date":1682272299,"question_id":76086392,"body_markdown":"This question is sort of the opposite of this existing one: https://stackoverflow.com/q/61302770/1463507\r\n\r\nThat question asks why the JVM does not operate directly on the local variables. I&#39;m wondering, since we have the stack anyway, why not operate only on the stack and forego the local variables entirely? \r\n\r\nI guess it would need a few more instructions to manipulate the stack (much like advanced RPN calculators do), but how does one know whether that tradeoff would be worth it? Is this design rationale recorded somewhere?\r\n\r\nThe specification is light on rationale (https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.6.1), but I suspect that&#39;s because the specification is the wrong document for it, and maybe there&#39;s an annotated specification somewhere like with Ada?","title":"Why does the JVM have a separate array of local variables?","body":"<p>This question is sort of the opposite of this existing one: <a href=\"https://stackoverflow.com/q/61302770/1463507\">What is the role of operand stack in JVM?</a></p>\n<p>That question asks why the JVM does not operate directly on the local variables. I'm wondering, since we have the stack anyway, why not operate only on the stack and forego the local variables entirely?</p>\n<p>I guess it would need a few more instructions to manipulate the stack (much like advanced RPN calculators do), but how does one know whether that tradeoff would be worth it? Is this design rationale recorded somewhere?</p>\n<p>The specification is light on rationale (<a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.6.1\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.6.1</a>), but I suspect that's because the specification is the wrong document for it, and maybe there's an annotated specification somewhere like with Ada?</p>\n"},{"tags":["java","tomcat","netbeans"],"comments":[{"owner":{"account_id":213468,"reputation":103487,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1682521509,"post_id":76112305,"comment_id":134229959,"body_markdown":"I don&#39;t think Tomcat 8 is compatible with Java 17. Try using Tomcat 9 (if you&#39;re using Java EE or Jakarta EE 8 or lower), or Tomcat 10 (if you&#39;re using Jakarta EE 9 or higher, including Spring 6 or Spring Boot 3).","body":"I don&#39;t think Tomcat 8 is compatible with Java 17. Try using Tomcat 9 (if you&#39;re using Java EE or Jakarta EE 8 or lower), or Tomcat 10 (if you&#39;re using Jakarta EE 9 or higher, including Spring 6 or Spring Boot 3)."},{"owner":{"account_id":24238273,"reputation":3,"user_id":18191048,"display_name":"Henrique Delben"},"score":0,"creation_date":1682522103,"post_id":76112305,"comment_id":134230129,"body_markdown":"i&#39;m using jdk 17 actually (just edited the post). Which version do you think should I have? (sorry, all those terms EE, jarkarta are unknown to me)","body":"i&#39;m using jdk 17 actually (just edited the post). Which version do you think should I have? (sorry, all those terms EE, jarkarta are unknown to me)"},{"owner":{"account_id":213468,"reputation":103487,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682522390,"post_id":76112305,"comment_id":134230219,"body_markdown":"&#39;jdk 17&#39; is Java 17...","body":"&#39;jdk 17&#39; is Java 17..."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1682523442,"post_id":76112305,"comment_id":134230540,"body_markdown":"There is a [useful grid on Tomcat&#39;s web site](https://tomcat.apache.org/whichversion.html) showing version compatibility between Tomcat and Java. Note that it shows your version of Tomcat (&quot;_8.0.x_&quot;) has been _&quot;superseded&quot;_. So pick whatever newer version of Tomcat is compatible with your requirements. Any of them should work fine with Java 17. Update your question if you still have problems when using a valid Tomcat version.","body":"There is a <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">useful grid on Tomcat&#39;s web site</a> showing version compatibility between Tomcat and Java. Note that it shows your version of Tomcat (&quot;<i>8.0.x</i>&quot;) has been <i>&quot;superseded&quot;</i>. So pick whatever newer version of Tomcat is compatible with your requirements. Any of them should work fine with Java 17. Update your question if you still have problems when using a valid Tomcat version."},{"owner":{"account_id":24238273,"reputation":3,"user_id":18191048,"display_name":"Henrique Delben"},"score":0,"creation_date":1682523817,"post_id":76112305,"comment_id":134230650,"body_markdown":"Just updated to tomcat10. Same error skomisa. What do you think it can be?","body":"Just updated to tomcat10. Same error skomisa. What do you think it can be?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1682524891,"post_id":76112305,"comment_id":134230977,"body_markdown":"What you are showing us as server log data does not look like the server log to me. The contents suggest you were looking in one of the `*access_log*.txt` files. Can you double-check? Make sure to look in the latest `catalina*.log` and `localhost*.log` files for the most relevant root cause error message(s) related to the failed deployment.","body":"What you are showing us as server log data does not look like the server log to me. The contents suggest you were looking in one of the <code>*access_log*.txt</code> files. Can you double-check? Make sure to look in the latest <code>catalina*.log</code> and <code>localhost*.log</code> files for the most relevant root cause error message(s) related to the failed deployment."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1682528561,"post_id":76112305,"comment_id":134231949,"body_markdown":"I agree with Andrew that the messages you are showing seem to be coming from **access.log**. But in some of those messages the response is HTTP 401 (Unauthorized). There can be multiple reasons for that, so first update your question to completely remove the irrelevant Tomcat 8 data, and instead show the error messages you get when using Tomcat 10, particularly in the server log (_&quot;catalina.log&quot;_). As a separate matter, also verify that you can still access the Tomcat server despite your problems, by going to `http://localhost:8080`. State in your question whether that works or not.","body":"I agree with Andrew that the messages you are showing seem to be coming from <b>access.log</b>. But in some of those messages the response is HTTP 401 (Unauthorized). There can be multiple reasons for that, so first update your question to completely remove the irrelevant Tomcat 8 data, and instead show the error messages you get when using Tomcat 10, particularly in the server log (<i>&quot;catalina.log&quot;</i>). As a separate matter, also verify that you can still access the Tomcat server despite your problems, by going to <code>http:&#47;&#47;localhost:8080</code>. State in your question whether that works or not."},{"owner":{"account_id":24238273,"reputation":3,"user_id":18191048,"display_name":"Henrique Delben"},"score":0,"creation_date":1682529235,"post_id":76112305,"comment_id":134232089,"body_markdown":"Andrew sorry to bother you with those really simple and dumb (possibly)  questions but I can&#39;t find any other log files besides the &quot;/var/log/tomcat10/localhost.2023-04-26.log&quot;, catalina.err and catalina.out which in both cases (catalina.out and .err) are not used.","body":"Andrew sorry to bother you with those really simple and dumb (possibly)  questions but I can&#39;t find any other log files besides the &quot;/var/log/tomcat10/localhost.2023-04-26.log&quot;, catalina.err and catalina.out which in both cases (catalina.out and .err) are not used."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682530300,"post_id":76112305,"comment_id":134232306,"body_markdown":"Where is your Tomcat installed? Look in there (if you didn&#39;t already). Side note: to ping someone who has commented in your question, use the `@` symbol followed by their user name (no spaces):  @andrewjames","body":"Where is your Tomcat installed? Look in there (if you didn&#39;t already). Side note: to ping someone who has commented in your question, use the <code>@</code> symbol followed by their user name (no spaces):  @andrewjames"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1682532594,"post_id":76112305,"comment_id":134232770,"body_markdown":"It looks like I mislead you about the log files. Because you are using Arch L:inux (which I have never used), [this is how logging works:](https://wiki.archlinux.org/title/tomcat#:~:text=Tomcat%20when%20used%20with%20official,%2Flog%2Ftomcatn%2Fcatalina.) _&quot;Tomcat when used with official Arch Linux packages uses systemd&#39;s journalctl for startup log. This means that files /var/log/tomcatn/catalina.err and /var/log/tomcatn/catalina.out are not used.&quot;_. My apologies.","body":"It looks like I mislead you about the log files. Because you are using Arch L:inux (which I have never used), <a href=\"https://wiki.archlinux.org/title/tomcat#:~:text=Tomcat%20when%20used%20with%20official,%2Flog%2Ftomcatn%2Fcatalina.\" rel=\"nofollow noreferrer\">this is how logging works:</a> <i>&quot;Tomcat when used with official Arch Linux packages uses systemd&#39;s journalctl for startup log. This means that files /var/log/tomcatn/catalina.err and /var/log/tomcatn/catalina.out are not used.&quot;</i>. My apologies."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1682532864,"post_id":76112305,"comment_id":134232816,"body_markdown":"Just a guess, but is your problem possibly arising because you have not updated the &quot;[CHANGE_ME]&quot; passwords in file **tomcat-users.xml**, as described in section [2 Initial configuration](https://wiki.archlinux.org/title/tomcat#Initial_configuration)? See also [Tomcat 9 can&#39;t log into manager/html](https://stackoverflow.com/q/50750252/2985643). I don&#39;t think that is the cause of those _401_ errors in your log, but if you haven&#39;t already updated **tomcat-users.xml** you definitely need to do that regardless.","body":"Just a guess, but is your problem possibly arising because you have not updated the &quot;[CHANGE_ME]&quot; passwords in file <b>tomcat-users.xml</b>, as described in section <a href=\"https://wiki.archlinux.org/title/tomcat#Initial_configuration\" rel=\"nofollow noreferrer\">2 Initial configuration</a>? See also <a href=\"https://stackoverflow.com/q/50750252/2985643\">Tomcat 9 can&#39;t log into manager/html</a>. I don&#39;t think that is the cause of those <i>401</i> errors in your log, but if you haven&#39;t already updated <b>tomcat-users.xml</b> you definitely need to do that regardless."},{"owner":{"account_id":24238273,"reputation":3,"user_id":18191048,"display_name":"Henrique Delben"},"score":0,"creation_date":1682538925,"post_id":76112305,"comment_id":134233881,"body_markdown":"@skomisa I did actually, i think it has to due to the user roles (permissions) that exists inside tomcat, but I basically set all permissions/roles to the &quot;root&quot; user I created but  it still returns those 401 errors","body":"@skomisa I did actually, i think it has to due to the user roles (permissions) that exists inside tomcat, but I basically set all permissions/roles to the &quot;root&quot; user I created but  it still returns those 401 errors"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1682541112,"post_id":76112305,"comment_id":134234289,"body_markdown":"OK. Note that the error message in your question states _&quot;See the server log for details&quot;_, so check the server log and update your question with those details. That is essential for resolving your issue. From the [Arch Linux/Tomcat documentation on logging](https://wiki.archlinux.org/title/tomcat#Logging): _&quot;Tomcat when used with official Arch Linux packages uses systemd&#39;s journalctl for startup log&quot;_.","body":"OK. Note that the error message in your question states <i>&quot;See the server log for details&quot;</i>, so check the server log and update your question with those details. That is essential for resolving your issue. From the <a href=\"https://wiki.archlinux.org/title/tomcat#Logging\" rel=\"nofollow noreferrer\">Arch Linux/Tomcat documentation on logging</a>: <i>&quot;Tomcat when used with official Arch Linux packages uses systemd&#39;s journalctl for startup log&quot;</i>."}],"owner":{"account_id":24238273,"reputation":3,"user_id":18191048,"display_name":"Henrique Delben"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682539066,"creation_date":1682521429,"question_id":76112305,"body_markdown":"I&#39;m currently using NetBeans 16.1 and Tomcat 10 with Java 17 and trying to run a web application.\r\n\r\nWhen I try to run it, it appears this message:\r\n\r\n&gt; In-place deployment at /home/henriquedelben/Documentos/WebApplication1/build/web\r\nDeployment is in progress...\r\ndeploy?config=file%3A%2Ftmp%2Fcontext2029074434843372881.xml&amp;path=/WebApplication1\r\nFAIL - Failed to deploy application at context path [/WebApplication1]\r\n/home/henriquedelben/Documentos/WebApplication1/nbproject/build-impl.xml:1030: The module has not been deployed.\r\nSee the server log for details.\r\nBUILD FAILED (total time: 0 seconds)\r\n\r\nI know that on Arch Linux&#39;s version, Tomcat&#39;s default deploy location is /var/lib/tomcat8/webapps. Is it because it&#39;s not deploying on the right place or something?\r\n\r\nThe connection to Tomcat 10 is made with a user with all manager-* permissions and using by default port 8080 \r\n\r\nHere is the log file in /var/log/tomcat10/localhost.2023-04-26.log\r\n\r\nobs.: As far as arch linux documentation goes, I  don&#39;t know about any other server log files (besides catalina.err and catalina.out)\r\n\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 401 2499\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 200 196\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 401 2499\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 200 196\r\n    127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/deploy?config=file%3A%2Ftmp%2Fcontext2029074434843372881.xml&amp;path=/WebApplication1 HTTP/1.1&quot; 401 2499\r\n    127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/deploy?config=file%3A%2Ftmp%2Fcontext2029074434843372881.xml&amp;path=/WebApplication1 HTTP/1.1&quot; 200 82\r\n\r\nWhen I set up the web server, i went to Tools&gt;Servers and added &quot;Apache Tomcat or TomEE&quot; and both catalina home and base and set to: &quot;/usr/share/tomcat8&quot; which is the main folder on arch linux&#39;s installation using pacman\r\n\r\n","title":"Can&#39;t deploy Java web application using Tomcat and NetBeans on arch linux","body":"<p>I'm currently using NetBeans 16.1 and Tomcat 10 with Java 17 and trying to run a web application.</p>\n<p>When I try to run it, it appears this message:</p>\n<blockquote>\n<p>In-place deployment at /home/henriquedelben/Documentos/WebApplication1/build/web\nDeployment is in progress...\ndeploy?config=file%3A%2Ftmp%2Fcontext2029074434843372881.xml&amp;path=/WebApplication1\nFAIL - Failed to deploy application at context path [/WebApplication1]\n/home/henriquedelben/Documentos/WebApplication1/nbproject/build-impl.xml:1030: The module has not been deployed.\nSee the server log for details.\nBUILD FAILED (total time: 0 seconds)</p>\n</blockquote>\n<p>I know that on Arch Linux's version, Tomcat's default deploy location is /var/lib/tomcat8/webapps. Is it because it's not deploying on the right place or something?</p>\n<p>The connection to Tomcat 10 is made with a user with all manager-* permissions and using by default port 8080</p>\n<p>Here is the log file in /var/log/tomcat10/localhost.2023-04-26.log</p>\n<p>obs.: As far as arch linux documentation goes, I  don't know about any other server log files (besides catalina.err and catalina.out)</p>\n<pre><code>127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\n127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\n127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\n127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;HEAD /netbeans-tomcat-status-test HTTP/1.1&quot; 404 -\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/ HTTP/1.1&quot; 200 38\n127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 401 2499\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 200 196\n127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 401 2499\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/list HTTP/1.1&quot; 200 196\n127.0.0.1 - - [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/deploy?config=file%3A%2Ftmp%2Fcontext2029074434843372881.xml&amp;path=/WebApplication1 HTTP/1.1&quot; 401 2499\n127.0.0.1 - root [26/Apr/2023:10:48:26 -0300] &quot;GET /manager/text/deploy?config=file%3A%2Ftmp%2Fcontext2029074434843372881.xml&amp;path=/WebApplication1 HTTP/1.1&quot; 200 82\n</code></pre>\n<p>When I set up the web server, i went to Tools&gt;Servers and added &quot;Apache Tomcat or TomEE&quot; and both catalina home and base and set to: &quot;/usr/share/tomcat8&quot; which is the main folder on arch linux's installation using pacman</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1682536844,"post_id":76114308,"comment_id":134233537,"body_markdown":"What if there are multiple processes doing the exact same thing at the same time?  Who wins?  It is generally considered better practice to do an insert and handle a key constraint instead.  Your DB does needs a unique constraint on `code_number` to do this.","body":"What if there are multiple processes doing the exact same thing at the same time?  Who wins?  It is generally considered better practice to do an insert and handle a key constraint instead.  Your DB does needs a unique constraint on <code>code_number</code> to do this."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1682540714,"post_id":76114308,"comment_id":134234228,"body_markdown":"I agree with @stdunbar; just add a unique index on code_number and try the save operation, catching the constraint violation exception.","body":"I agree with @stdunbar; just add a unique index on code_number and try the save operation, catching the constraint violation exception."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682622252,"post_id":76114308,"comment_id":134249069,"body_markdown":"[`UPSERT`](https://en.wikipedia.org/wiki/Merge_(SQL))","body":"<a href=\"https://en.wikipedia.org/wiki/Merge_(SQL)\" rel=\"nofollow noreferrer\"><code>UPSERT</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682539000,"creation_date":1682539000,"answer_id":76114618,"question_id":76114308,"body_markdown":"There are few points that you are missing here\r\n&lt;Li&gt;Concurrency - your assumption is that your code will always be executed by one thread at a time. But the truth is there could be two or more threads trying to insert the exact code number in parallel.\r\n&lt;br/&gt; you may call bunch of methods from a single method from service layer and could make it synchronized but again what if there are multiple instances of your application running on separate JVM or VM or machines. So, it&#39;s better to use unique constraint at the database level.&lt;/li&gt;\r\n&lt;li&gt; Performance - By executing this check/query everytime, you are wasting resources like CPU cycle of application OS, Database, and consuming network bandwidth too. &lt;/li&gt;","title":"How to check if record exists before insert - Spring JPA","body":"<p>There are few points that you are missing here</p>\n<Li>Concurrency - your assumption is that your code will always be executed by one thread at a time. But the truth is there could be two or more threads trying to insert the exact code number in parallel.\n<br/> you may call bunch of methods from a single method from service layer and could make it synchronized but again what if there are multiple instances of your application running on separate JVM or VM or machines. So, it's better to use unique constraint at the database level.</li>\n<li> Performance - By executing this check/query everytime, you are wasting resources like CPU cycle of application OS, Database, and consuming network bandwidth too. </li>\n"}],"owner":{"account_id":21477997,"reputation":51,"user_id":15825902,"display_name":"Djorkaeff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1682665704,"accepted_answer_id":76114618,"answer_count":1,"score":1,"last_activity_date":1682539000,"creation_date":1682536542,"question_id":76114308,"body_markdown":"In the project that I am doing, I want to check if a record with the same data already exists in a specific field in the database, if it already exists then do not insert, if it does not exist that does insert, I am searching the way to reach the expected result, but I don&#39;t know if there are other alternatives to obtain the result I expect.\r\n\r\n\r\nThis is my code that I am using.\r\n\r\nEntity:\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class Users {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id_user&quot;)\r\n\tprivate Long idUser;\r\n\r\n\t@Column(name = &quot;user&quot;, nullable = false, length = 150)\r\n\tprivate String user;\r\n\r\n\t@Column(name = &quot;code_number&quot;, nullable = false, length = 10)\r\n\tprivate String codeNumber;\r\n\r\n        public Long getIdUser() {\r\n\t\treturn idUser;\r\n\t}\r\n\r\n\tpublic void setIdUser(Long idUser) {\r\n\t\tthis.idUser = idUser;\r\n\t}\r\n\r\n        public String getUser() {\r\n\t\treturn user;\r\n\t}\r\n\r\n\tpublic void setUser(String user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n        public String getCodeNumber() {\r\n\t\treturn codeNumber;\r\n\t}\r\n\r\n\tpublic void setCodeNumber(String codeNumber) {\r\n\t\tthis.codeNumber = codeNumber;\r\n\t}\r\n}\r\n```\r\n\r\nQuery/Repository:\r\n\r\n```\r\n@Query(nativeQuery= true, value=&quot;SELECT DISTINCT(code_number) FROM users WHERE code_number= :codeNumber&quot;)\r\nboolean findByCodeNumber(String codeNumber);\r\n```\r\n\r\nConditional:\r\n\r\n```\r\npublic String processUserRegister(Users users) {\r\n    if(repo.findByCodeNumber(users.getCodeNumber())) {\r\n        return &quot;redirect:/error&quot;;\r\n    } else {\r\n        return &quot;redirect:/success&quot;;\r\n    }\r\n}\r\n```","title":"How to check if record exists before insert - Spring JPA","body":"<p>In the project that I am doing, I want to check if a record with the same data already exists in a specific field in the database, if it already exists then do not insert, if it does not exist that does insert, I am searching the way to reach the expected result, but I don't know if there are other alternatives to obtain the result I expect.</p>\n<p>This is my code that I am using.</p>\n<p>Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class Users {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id_user&quot;)\n    private Long idUser;\n\n    @Column(name = &quot;user&quot;, nullable = false, length = 150)\n    private String user;\n\n    @Column(name = &quot;code_number&quot;, nullable = false, length = 10)\n    private String codeNumber;\n\n        public Long getIdUser() {\n        return idUser;\n    }\n\n    public void setIdUser(Long idUser) {\n        this.idUser = idUser;\n    }\n\n        public String getUser() {\n        return user;\n    }\n\n    public void setUser(String user) {\n        this.user = user;\n    }\n\n        public String getCodeNumber() {\n        return codeNumber;\n    }\n\n    public void setCodeNumber(String codeNumber) {\n        this.codeNumber = codeNumber;\n    }\n}\n</code></pre>\n<p>Query/Repository:</p>\n<pre><code>@Query(nativeQuery= true, value=&quot;SELECT DISTINCT(code_number) FROM users WHERE code_number= :codeNumber&quot;)\nboolean findByCodeNumber(String codeNumber);\n</code></pre>\n<p>Conditional:</p>\n<pre><code>public String processUserRegister(Users users) {\n    if(repo.findByCodeNumber(users.getCodeNumber())) {\n        return &quot;redirect:/error&quot;;\n    } else {\n        return &quot;redirect:/success&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","date","if-statement","while-loop"],"comments":[{"owner":{"account_id":15165138,"reputation":459,"user_id":10942864,"display_name":"Stitt"},"score":0,"creation_date":1682508617,"post_id":76110110,"comment_id":134226294,"body_markdown":"You are only handling each digit once due to the nature of your while loop. I imagine that you want to have the bottom two lines of your while loop in and `else{}` statement, but even then, I don&#39;t believe you will see the result you expect.","body":"You are only handling each digit once due to the nature of your while loop. I imagine that you want to have the bottom two lines of your while loop in and <code>else{}</code> statement, but even then, I don&#39;t believe you will see the result you expect."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682511562,"post_id":76110110,"comment_id":134227064,"body_markdown":"It seems pretty clear that your code turns 2020 into 3131 since you are only considering incrementing each digit individually. You wanted 3111, but there is nothing in your code that would turn the 2 in the 10ths place into a 1. An idea would be to start from the most significant digit and whenever one digit is incremented, you can just replace every less significant digit with 1 regardless what it was.","body":"It seems pretty clear that your code turns 2020 into 3131 since you are only considering incrementing each digit individually. You wanted 3111, but there is nothing in your code that would turn the 2 in the 10ths place into a 1. An idea would be to start from the most significant digit and whenever one digit is incremented, you can just replace every less significant digit with 1 regardless what it was."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1682513453,"post_id":76110110,"comment_id":134227579,"body_markdown":"You wrote: _if i input ... 1600 ... the nearest odd date will be ... 1711_ Actually I think it will be 1599.","body":"You wrote: <i>if i input ... 1600 ... the nearest odd date will be ... 1711</i> Actually I think it will be 1599."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682528011,"post_id":76110110,"comment_id":134231833,"body_markdown":"*calculate the closest date to the original that has all odd digits* Did you mean the closest *later* year?","body":"<i>calculate the closest date to the original that has all odd digits</i> Did you mean the closest <i>later</i> year?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682534248,"post_id":76110110,"comment_id":134233057,"body_markdown":"@Abra It’s not perfectly clear, but I interpret the word *increment* in the title to mean the next *higher* year value (so not 1599). I’d prefer it this had been clear from the body of the question.","body":"@Abra It’s not perfectly clear, but I interpret the word <i>increment</i> in the title to mean the next <i>higher</i> year value (so not 1599). I’d prefer it this had been clear from the body of the question."}],"answers":[{"tags":[],"owner":{"account_id":10700005,"reputation":43,"user_id":11908014,"display_name":"M Shahzeb Raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682530222,"creation_date":1682513181,"answer_id":76110913,"question_id":76110110,"body_markdown":"Here is the solution to your problem (In JavaScript, although the algorithm will work for you)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function getOddYear (year) {\r\n\r\n        // convert to string\r\n        const yearString = year.toString();\r\n        \r\n        // initialize an empty string to be used to store transformedYearDigits\r\n        let modYearString = &#39;&#39;;\r\n        \r\n        // a boolean to check if any of the digits has been transformed already\r\n        let transformedOneAlready = false;\r\n\r\n        // loop over each of the digits\r\n        for (let index = 0; index &lt; yearString.length; index++) {\r\n            \r\n            // check if current digit is even\r\n            if (yearString[index] % 2 === 0 &amp;&amp; !transformedOneAlready) {    \r\n                modYearString = modYearString.concat(\r\n                    parseInt(yearString[index]) + 1\r\n                )\r\n                transformedOneAlready = true;    \r\n            }\r\n            // if transformations has occured: replace the consequent digits with 1(lowest odd number)\r\n            else if (transformedOneAlready){\r\n                modYearString = modYearString.concat(1)\r\n            }\r\n            // if the digit is already odd and no transformation has occured\r\n            else {\r\n                modYearString = modYearString.concat(yearString[index])\r\n            }\r\n        };\r\n\r\n        // print the comparison of input and output\r\n        console.log(year, &#39; --&gt; &#39;,modYearString)\r\n        // convert the transformed year to a number from string\r\n        return parseInt(modYearString);\r\n    }\r\n\r\n\r\n    // run the function for each of the numbers in the array\r\n    [2020,1911,2034,2344,3241,3048,3035,3481].forEach(\r\n        (e)=&gt;getOddYear(e)\r\n    )\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAll you have to do is \r\n 1. find the leftmost even digit\r\n 2. increment it with 1\r\n 3. replace all the consequent digits with the lowest odd number i.e. 1\r\n 4. keep the consequent digits as is, if no even number is found","title":"Increment a year until all digits are odd (closest odd date to original date)","body":"<p>Here is the solution to your problem (In JavaScript, although the algorithm will work for you)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getOddYear (year) {\n\n    // convert to string\n    const yearString = year.toString();\n    \n    // initialize an empty string to be used to store transformedYearDigits\n    let modYearString = '';\n    \n    // a boolean to check if any of the digits has been transformed already\n    let transformedOneAlready = false;\n\n    // loop over each of the digits\n    for (let index = 0; index &lt; yearString.length; index++) {\n        \n        // check if current digit is even\n        if (yearString[index] % 2 === 0 &amp;&amp; !transformedOneAlready) {    \n            modYearString = modYearString.concat(\n                parseInt(yearString[index]) + 1\n            )\n            transformedOneAlready = true;    \n        }\n        // if transformations has occured: replace the consequent digits with 1(lowest odd number)\n        else if (transformedOneAlready){\n            modYearString = modYearString.concat(1)\n        }\n        // if the digit is already odd and no transformation has occured\n        else {\n            modYearString = modYearString.concat(yearString[index])\n        }\n    };\n\n    // print the comparison of input and output\n    console.log(year, ' --&gt; ',modYearString)\n    // convert the transformed year to a number from string\n    return parseInt(modYearString);\n}\n\n\n// run the function for each of the numbers in the array\n[2020,1911,2034,2344,3241,3048,3035,3481].forEach(\n    (e)=&gt;getOddYear(e)\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>All you have to do is</p>\n<ol>\n<li>find the leftmost even digit</li>\n<li>increment it with 1</li>\n<li>replace all the consequent digits with the lowest odd number i.e. 1</li>\n<li>keep the consequent digits as is, if no even number is found</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21747100,"reputation":1,"user_id":19985542,"display_name":"Marie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682525215,"creation_date":1682513333,"answer_id":76110939,"question_id":76110110,"body_markdown":"For everyone who needs it here’s the answer:\r\n\r\n```\r\nboolean allOdd = true;\r\nString yearString = Integer.toString(year);\r\nfor (char digit : yearString.toCharArray()) {\r\n\tint num = Character.getNumericValue(digit);\r\n\tif (num % 2 == 0) {\r\n\t\tallOdd = false;\r\n\t\tbreak;\r\n\t}\r\n}\r\n\r\nif (!allOdd) {\r\n\tint increment = 1;\r\n\twhile (true) {\r\n\t\tint newYear = year + increment;\r\n\t\tString newYearString = Integer.toString(newYear);\r\n\t\tboolean newAllOdd = true;\r\n\t\tfor (char digit : newYearString.toCharArray()) {\r\n\t\t\tint num = Character.getNumericValue(digit);\r\n\t\t\tif (num % 2 == 0) {\r\n\t\t\t\tnewAllOdd = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (newAllOdd) {\r\n\t\t\tyear = newYear;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tincrement += 2;\r\n\t}\r\n}\r\n\r\n```\r\n","title":"Increment a year until all digits are odd (closest odd date to original date)","body":"<p>For everyone who needs it here’s the answer:</p>\n<pre><code>boolean allOdd = true;\nString yearString = Integer.toString(year);\nfor (char digit : yearString.toCharArray()) {\n    int num = Character.getNumericValue(digit);\n    if (num % 2 == 0) {\n        allOdd = false;\n        break;\n    }\n}\n\nif (!allOdd) {\n    int increment = 1;\n    while (true) {\n        int newYear = year + increment;\n        String newYearString = Integer.toString(newYear);\n        boolean newAllOdd = true;\n        for (char digit : newYearString.toCharArray()) {\n            int num = Character.getNumericValue(digit);\n            if (num % 2 == 0) {\n                newAllOdd = false;\n                break;\n            }\n        }\n        if (newAllOdd) {\n            year = newYear;\n            break;\n        }\n        increment += 2;\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682538887,"creation_date":1682528928,"answer_id":76113396,"question_id":76110110,"body_markdown":"&gt;Increment a year until all digits are odd (closest odd date to original date)\r\n\r\nHere is one approach.\r\n```\r\nint[] s = {\r\n        2020,1900,1570,1620,3461\r\n};\r\nfor (int year : s) {\r\n    System.out.printf(&quot;year = %4d, closest = %4d%n&quot;, year,\r\n            closestOddYear(year));\r\n}\r\n```\r\nprints\r\n```\r\nyear = 2020, closest = 3111\r\nyear = 1900, closest = 1911\r\nyear = 1570, closest = 1571\r\nyear = 1620, closest = 1711\r\nyear = 3461, closest = 3511\r\n```\r\nStarting with the initial year, the method normalizes the year to the first odd one that is equal to or greater the argument.  Subsequent years are increased by 2, skipping the even years since the first low order digit must be odd regardless of the others. This method simply iterates over the odd years until the one meeting the requirements is found. \r\n```\r\npublic static int closestOddYear(int year) {\r\n    year += ((year &amp; 1) == 1) ? 0 : 1;\r\n    while (!areDigitsOdd(year)) {\r\n            year += 2;\r\n    }\r\n    return year;\r\n}\r\n\r\n```\r\nThis method just checks the `lsb` of each exposed digit to see if it is odd.  Since all odd numbers have the lower order bit set, this just ANDs 1 with that bit.  A result of `0` would indicate an even digit, and `1` would be odd. The method short circuits to `false` if any encountered digit is even.  Otherwise it returns `true`.\r\n```\r\npublic static boolean areDigitsOdd(int year) {\r\n    while (year &gt; 0) {\r\n        if ((year &amp; 1) != 1) {\r\n            return false;\r\n        }\r\n        year /= 10;\r\n    }\r\n    return true;\r\n}","title":"Increment a year until all digits are odd (closest odd date to original date)","body":"<blockquote>\n<p>Increment a year until all digits are odd (closest odd date to original date)</p>\n</blockquote>\n<p>Here is one approach.</p>\n<pre><code>int[] s = {\n        2020,1900,1570,1620,3461\n};\nfor (int year : s) {\n    System.out.printf(&quot;year = %4d, closest = %4d%n&quot;, year,\n            closestOddYear(year));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>year = 2020, closest = 3111\nyear = 1900, closest = 1911\nyear = 1570, closest = 1571\nyear = 1620, closest = 1711\nyear = 3461, closest = 3511\n</code></pre>\n<p>Starting with the initial year, the method normalizes the year to the first odd one that is equal to or greater the argument.  Subsequent years are increased by 2, skipping the even years since the first low order digit must be odd regardless of the others. This method simply iterates over the odd years until the one meeting the requirements is found.</p>\n<pre><code>public static int closestOddYear(int year) {\n    year += ((year &amp; 1) == 1) ? 0 : 1;\n    while (!areDigitsOdd(year)) {\n            year += 2;\n    }\n    return year;\n}\n\n</code></pre>\n<p>This method just checks the <code>lsb</code> of each exposed digit to see if it is odd.  Since all odd numbers have the lower order bit set, this just ANDs 1 with that bit.  A result of <code>0</code> would indicate an even digit, and <code>1</code> would be odd. The method short circuits to <code>false</code> if any encountered digit is even.  Otherwise it returns <code>true</code>.</p>\n<pre><code>public static boolean areDigitsOdd(int year) {\n    while (year &gt; 0) {\n        if ((year &amp; 1) != 1) {\n            return false;\n        }\n        year /= 10;\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":21747100,"reputation":1,"user_id":19985542,"display_name":"Marie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76110939,"answer_count":3,"score":0,"last_activity_date":1682538887,"creation_date":1682507846,"question_id":76110110,"body_markdown":"My program requires that I take in a year (E.g. 2020) and check that every number in the year is odd(has only 3, 5, 7, 9). if every number in the year is not odd, then I need to calculate the closest date to the original that has all odd digits. in order to do this I have coded an if statement that checks if the last digit is odd and then checks all the others, if they are even then it increments. However, i am having an issue where the last two digits in a date aren&#39;t correct. for example it will output correctly if i input 1900 or 1600 or 1570 - the nearest odd date will be 1911 and 1711 and 1571 respectively. however, if i enter a date where last two digits aren&#39;t zero then the output is wrong (E.g. 2020&#39;s output should be 3111 but it instead output 3131). I have been going back and forth on how to change this but it only results in more errors. if anyone could help fix this code or provide some logic of how to go about fixing it that would be great.\r\n\r\n\r\n```\r\n// Increment the last digit of the year to make it odd\r\n                if (year % 10 % 2 == 0) {\r\n                    year++;\r\n                    System.out.println(&quot;year after increment:&quot; + year);\r\n                }\r\n// check all other digits and increment\r\n                int temp = year / 10;\r\n                int i = 10;\r\n                while (temp &gt; 0) {\r\n                    if (temp % i % 2 == 0) {\r\n                        year += i;\r\n                    }\r\n                    i *= 10;\r\n                    temp /= 10;\r\n                }\r\n                System.out.println(&quot;Year:&quot; + year);\r\n```\r\n\r\n\r\nI tried:\r\n2020\r\n1900\r\n1570\r\n1620\r\n3461\r\n\r\nI expected an output of:\r\n3111\r\n1911\r\n1571\r\n1711\r\n3511\r\n\r\nWhat i got:\r\n3131\r\n1911\r\n1571\r\n1731\r\n3571","title":"Increment a year until all digits are odd (closest odd date to original date)","body":"<p>My program requires that I take in a year (E.g. 2020) and check that every number in the year is odd(has only 3, 5, 7, 9). if every number in the year is not odd, then I need to calculate the closest date to the original that has all odd digits. in order to do this I have coded an if statement that checks if the last digit is odd and then checks all the others, if they are even then it increments. However, i am having an issue where the last two digits in a date aren't correct. for example it will output correctly if i input 1900 or 1600 or 1570 - the nearest odd date will be 1911 and 1711 and 1571 respectively. however, if i enter a date where last two digits aren't zero then the output is wrong (E.g. 2020's output should be 3111 but it instead output 3131). I have been going back and forth on how to change this but it only results in more errors. if anyone could help fix this code or provide some logic of how to go about fixing it that would be great.</p>\n<pre><code>// Increment the last digit of the year to make it odd\n                if (year % 10 % 2 == 0) {\n                    year++;\n                    System.out.println(&quot;year after increment:&quot; + year);\n                }\n// check all other digits and increment\n                int temp = year / 10;\n                int i = 10;\n                while (temp &gt; 0) {\n                    if (temp % i % 2 == 0) {\n                        year += i;\n                    }\n                    i *= 10;\n                    temp /= 10;\n                }\n                System.out.println(&quot;Year:&quot; + year);\n</code></pre>\n<p>I tried:\n2020\n1900\n1570\n1620\n3461</p>\n<p>I expected an output of:\n3111\n1911\n1571\n1711\n3511</p>\n<p>What i got:\n3131\n1911\n1571\n1731\n3571</p>\n"},{"tags":["java","kotlin","android-11","saf"],"owner":{"account_id":28421395,"reputation":1,"user_id":21743421,"display_name":"Atlantisツ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682538843,"creation_date":1682538531,"question_id":76114545,"body_markdown":"I have a test program that requests access to the **Android/obb** folder, but I do not know how I can move files to this folder. I tried to use standard kotlin functions to manage files, but it didn&#39;t give any result. I also have a similar version written in Java.\r\n\r\n    private fun moveFile(src: File, dest: File): Boolean {\r\n        return src.renameTo(dest)\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n    private val handleIntentActivityResult =\r\n        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) {\r\n            if (it.resultCode != Activity.RESULT_OK)\r\n                return@registerForActivityResult\r\n            val directoryUri = it.data?.data ?: return@registerForActivityResult\r\n            contentResolver.takePersistableUriPermission(\r\n                directoryUri, Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION\r\n            )\r\n            if (checkIfGotAccess())\r\n                onGotAccess()\r\n            else\r\n                Log.d(&quot;AppLog&quot;, &quot;you didn&#39;t grant permission to the correct folder&quot;)\r\n        }\r\n\r\n\r\n    @RequiresApi(Build.VERSION_CODES.Q)\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        val openDirectoryButton = findViewById&lt;Button&gt;(R.id.button1)\r\n        val test = findViewById&lt;Button&gt;(R.id.button2)\r\n        val test1 = findViewById&lt;Button&gt;(R.id.button3)\r\n        openDirectoryButton.setOnClickListener {\r\n            openDirectory()\r\n        }\r\n        test.setOnClickListener {\r\n            main()\r\n        }\r\n        test1.setOnClickListener {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                main1()\r\n            }\r\n        }\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.R)\r\n    private fun main1() {\r\n        val uri = Uri.parse(&quot;package:${BuildConfig.APPLICATION_ID}&quot;)\r\n\r\n        startActivity(\r\n            Intent(\r\n                Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION,\r\n                uri\r\n            )\r\n        )\r\n    }\r\n\r\n    private fun main() {\r\n        val from = File(Environment.getExternalStorageDirectory(), &quot;video.mp4&quot;)\r\n        val to = File(Environment.getExternalStorageDirectory(), &quot;Android/obb/video.mp4&quot;)\r\n        try {\r\n            val isSuccess = moveFile(from, to)\r\n            if (isSuccess) {\r\n                val text = &quot;File Moved Successfully!&quot;\r\n                val duration = Toast.LENGTH_SHORT\r\n\r\n                val toast = Toast.makeText(applicationContext, text, duration)\r\n                toast.show()\r\n            } else {\r\n                val text = &quot;File Moved Failed!&quot;\r\n                val duration = Toast.LENGTH_SHORT\r\n\r\n                val toast = Toast.makeText(applicationContext, text, duration)\r\n                toast.show()\r\n            }\r\n        } catch (ex: IOException) {\r\n            ex.printStackTrace()\r\n        }\r\n    }\r\n\r\n    private fun checkIfGotAccess(): Boolean {\r\n        return contentResolver.persistedUriPermissions.indexOfFirst { uriPermission -&gt;\r\n            uriPermission.uri.equals(androidTreeUri) &amp;&amp; uriPermission.isReadPermission &amp;&amp; uriPermission.isWritePermission\r\n        } &gt;= 0\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n    private fun onGotAccess() {\r\n        Log.d(&quot;AppLog&quot;, &quot;got access to Android folder. showing content of each folder:&quot;)\r\n        @Suppress(&quot;DEPRECATION&quot;)\r\n        File(Environment.getExternalStorageDirectory(), &quot;Android/obb&quot;).listFiles()?.forEach { androidSubFolder -&gt;\r\n            val docId = &quot;$ANDROID_DOCID/${androidSubFolder.name}&quot;\r\n            val childrenUri = DocumentsContract.buildChildDocumentsUriUsingTree(androidTreeUri, docId)\r\n            val contentResolver = this.contentResolver\r\n            Log.d(&quot;AppLog&quot;, &quot;content of:${androidSubFolder.absolutePath} :&quot;)\r\n            contentResolver.query(childrenUri, null, null, null)\r\n                ?.use { cursor -&gt;\r\n                    val filesCount = cursor.count\r\n                    Log.d(&quot;AppLog&quot;, &quot;filesCount:$filesCount&quot;)\r\n                    val nameIndex = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME)\r\n                    val mimeIndex = cursor.getColumnIndex(&quot;mime_type&quot;)\r\n                    while (cursor.moveToNext()) {\r\n                        val displayName = cursor.getString(nameIndex)\r\n                        val mimeType = cursor.getString(mimeIndex)\r\n                        Log.d(&quot;AppLog&quot;, &quot;  $displayName isFolder?${mimeType == DocumentsContract.Document.MIME_TYPE_DIR}&quot;)\r\n                    }\r\n                }\r\n        }\r\n    }\r\n    @RequiresApi(Build.VERSION_CODES.Q)\r\n    private fun openDirectory() {\r\n        if (checkIfGotAccess())\r\n            onGotAccess()\r\n        else {\r\n            val primaryStorageVolume = (getSystemService(STORAGE_SERVICE) as StorageManager).primaryStorageVolume\r\n            val intent =\r\n                primaryStorageVolume.createOpenDocumentTreeIntent().putExtra(EXTRA_INITIAL_URI, androidUri)\r\n            handleIntentActivityResult.launch(intent)\r\n        }\r\n    }\r\n\r\n    companion object {\r\n        private const val ANDROID_DOCID = &quot;primary:Android/obb&quot;\r\n        private const val EXTERNAL_STORAGE_PROVIDER_AUTHORITY = &quot;com.android.externalstorage.documents&quot;\r\n        private val androidUri = DocumentsContract.buildDocumentUri(\r\n            EXTERNAL_STORAGE_PROVIDER_AUTHORITY, ANDROID_DOCID\r\n        )\r\n        private val androidTreeUri = DocumentsContract.buildTreeDocumentUri(\r\n            EXTERNAL_STORAGE_PROVIDER_AUTHORITY, ANDROID_DOCID\r\n        )\r\n    }\r\n\r\nI think I need to use **SAF** but haven&#39;t found the way I need in my situation.","title":"How can I move files to the Android/obb folder on api31 and above","body":"<p>I have a test program that requests access to the <strong>Android/obb</strong> folder, but I do not know how I can move files to this folder. I tried to use standard kotlin functions to manage files, but it didn't give any result. I also have a similar version written in Java.</p>\n<pre><code>private fun moveFile(src: File, dest: File): Boolean {\n    return src.renameTo(dest)\n}\n\n@RequiresApi(Build.VERSION_CODES.O)\nprivate val handleIntentActivityResult =\n    registerForActivityResult(ActivityResultContracts.StartActivityForResult()) {\n        if (it.resultCode != Activity.RESULT_OK)\n            return@registerForActivityResult\n        val directoryUri = it.data?.data ?: return@registerForActivityResult\n        contentResolver.takePersistableUriPermission(\n            directoryUri, Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION\n        )\n        if (checkIfGotAccess())\n            onGotAccess()\n        else\n            Log.d(&quot;AppLog&quot;, &quot;you didn't grant permission to the correct folder&quot;)\n    }\n\n\n@RequiresApi(Build.VERSION_CODES.Q)\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val openDirectoryButton = findViewById&lt;Button&gt;(R.id.button1)\n    val test = findViewById&lt;Button&gt;(R.id.button2)\n    val test1 = findViewById&lt;Button&gt;(R.id.button3)\n    openDirectoryButton.setOnClickListener {\n        openDirectory()\n    }\n    test.setOnClickListener {\n        main()\n    }\n    test1.setOnClickListener {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            main1()\n        }\n    }\n}\n\n@RequiresApi(Build.VERSION_CODES.R)\nprivate fun main1() {\n    val uri = Uri.parse(&quot;package:${BuildConfig.APPLICATION_ID}&quot;)\n\n    startActivity(\n        Intent(\n            Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION,\n            uri\n        )\n    )\n}\n\nprivate fun main() {\n    val from = File(Environment.getExternalStorageDirectory(), &quot;video.mp4&quot;)\n    val to = File(Environment.getExternalStorageDirectory(), &quot;Android/obb/video.mp4&quot;)\n    try {\n        val isSuccess = moveFile(from, to)\n        if (isSuccess) {\n            val text = &quot;File Moved Successfully!&quot;\n            val duration = Toast.LENGTH_SHORT\n\n            val toast = Toast.makeText(applicationContext, text, duration)\n            toast.show()\n        } else {\n            val text = &quot;File Moved Failed!&quot;\n            val duration = Toast.LENGTH_SHORT\n\n            val toast = Toast.makeText(applicationContext, text, duration)\n            toast.show()\n        }\n    } catch (ex: IOException) {\n        ex.printStackTrace()\n    }\n}\n\nprivate fun checkIfGotAccess(): Boolean {\n    return contentResolver.persistedUriPermissions.indexOfFirst { uriPermission -&gt;\n        uriPermission.uri.equals(androidTreeUri) &amp;&amp; uriPermission.isReadPermission &amp;&amp; uriPermission.isWritePermission\n    } &gt;= 0\n}\n\n@RequiresApi(Build.VERSION_CODES.O)\nprivate fun onGotAccess() {\n    Log.d(&quot;AppLog&quot;, &quot;got access to Android folder. showing content of each folder:&quot;)\n    @Suppress(&quot;DEPRECATION&quot;)\n    File(Environment.getExternalStorageDirectory(), &quot;Android/obb&quot;).listFiles()?.forEach { androidSubFolder -&gt;\n        val docId = &quot;$ANDROID_DOCID/${androidSubFolder.name}&quot;\n        val childrenUri = DocumentsContract.buildChildDocumentsUriUsingTree(androidTreeUri, docId)\n        val contentResolver = this.contentResolver\n        Log.d(&quot;AppLog&quot;, &quot;content of:${androidSubFolder.absolutePath} :&quot;)\n        contentResolver.query(childrenUri, null, null, null)\n            ?.use { cursor -&gt;\n                val filesCount = cursor.count\n                Log.d(&quot;AppLog&quot;, &quot;filesCount:$filesCount&quot;)\n                val nameIndex = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME)\n                val mimeIndex = cursor.getColumnIndex(&quot;mime_type&quot;)\n                while (cursor.moveToNext()) {\n                    val displayName = cursor.getString(nameIndex)\n                    val mimeType = cursor.getString(mimeIndex)\n                    Log.d(&quot;AppLog&quot;, &quot;  $displayName isFolder?${mimeType == DocumentsContract.Document.MIME_TYPE_DIR}&quot;)\n                }\n            }\n    }\n}\n@RequiresApi(Build.VERSION_CODES.Q)\nprivate fun openDirectory() {\n    if (checkIfGotAccess())\n        onGotAccess()\n    else {\n        val primaryStorageVolume = (getSystemService(STORAGE_SERVICE) as StorageManager).primaryStorageVolume\n        val intent =\n            primaryStorageVolume.createOpenDocumentTreeIntent().putExtra(EXTRA_INITIAL_URI, androidUri)\n        handleIntentActivityResult.launch(intent)\n    }\n}\n\ncompanion object {\n    private const val ANDROID_DOCID = &quot;primary:Android/obb&quot;\n    private const val EXTERNAL_STORAGE_PROVIDER_AUTHORITY = &quot;com.android.externalstorage.documents&quot;\n    private val androidUri = DocumentsContract.buildDocumentUri(\n        EXTERNAL_STORAGE_PROVIDER_AUTHORITY, ANDROID_DOCID\n    )\n    private val androidTreeUri = DocumentsContract.buildTreeDocumentUri(\n        EXTERNAL_STORAGE_PROVIDER_AUTHORITY, ANDROID_DOCID\n    )\n}\n</code></pre>\n<p>I think I need to use <strong>SAF</strong> but haven't found the way I need in my situation.</p>\n"},{"tags":["java","latex","tex"],"comments":[{"owner":{"account_id":537765,"reputation":43147,"user_id":906113,"accept_rate":70,"display_name":"str"},"score":3,"creation_date":1354970824,"post_id":13777558,"comment_id":18943447,"body_markdown":"LaTeX is a huge library, and I bet you can call it from the command line (also using Java).","body":"LaTeX is a huge library, and I bet you can call it from the command line (also using Java)."}],"answers":[{"tags":[],"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1354971258,"creation_date":1354971258,"answer_id":13777649,"question_id":13777558,"body_markdown":"LaTeX is a **full programming language**. Parsing it means executing the program.\r\n\r\nWhile it seems to be simple in many of the common cases - `\\section` etc. - it is by far not trivial. In fact, it should be turing complete. And some parts will even have a more or less different syntax. Take TIKZ for example - an excellent graph drawing library for LaTeX. It&#39;s syntax is somewhat like latex, but other parts are more that of modern programming languages. And a lot is like stylesheets.\r\n\r\nHowever, you might be able to get away with supporting just **part of the latex syntax**. Have a look at what [Texlipse][1] does. It&#39;s in Java.\r\n\r\n  [1]: http://texlipse.sf.net/","title":"Full LaTeX parser in Java","body":"<p>LaTeX is a <strong>full programming language</strong>. Parsing it means executing the program.</p>\n\n<p>While it seems to be simple in many of the common cases - <code>\\section</code> etc. - it is by far not trivial. In fact, it should be turing complete. And some parts will even have a more or less different syntax. Take TIKZ for example - an excellent graph drawing library for LaTeX. It's syntax is somewhat like latex, but other parts are more that of modern programming languages. And a lot is like stylesheets.</p>\n\n<p>However, you might be able to get away with supporting just <strong>part of the latex syntax</strong>. Have a look at what <a href=\"http://texlipse.sf.net/\" rel=\"noreferrer\">Texlipse</a> does. It's in Java.</p>\n"},{"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682538700,"creation_date":1585859477,"answer_id":61000600,"question_id":13777558,"body_markdown":"The heading said parsing and google lead me to here. Thus, I also include an example of `JLaTeXMath` and hints on other parsers.\r\n\r\n## SnuggleTeX\r\n\r\n[SnuggleTeX](https://github.com/davemckain/snuggletex) BSD License - has a good parser, too. \r\n\r\n```java\r\n        /* Create vanilla SnuggleEngine and new SnuggleSession */\r\n        SnuggleEngine engine = new SnuggleEngine();\r\n        SnuggleSession session = engine.createSession();\r\n        \r\n        /* Parse some very basic Math Mode input */\r\n        SnuggleInput input = new SnuggleInput(&quot;$$ x+2=3 $$&quot;);\r\n        session.parseInput(input);\r\n        \r\n        /* Convert the results to an XML String, which in this case will\r\n         * be a single MathML &lt;math&gt;...&lt;/math&gt; element. */\r\n        String xmlString = session.buildXMLString();\r\n```\r\n\r\nSource: &lt;https://github.com/davemckain/snuggletex/blob/development_1_2_x/snuggletex-core/src/main/java/uk/ac/ed/ph/snuggletex/samples/MinimalExample.java&gt;.\r\n\r\nIt can even do `\\newcommand`:\r\n\r\n```latex\r\n\\newcommand{\\test}[1]{Hello #1}\\test{There} more text afterwards\r\nHello There more text afterwards\r\n```\r\n\r\nSource: https://github.com/davemckain/snuggletex/blob/development_1_2_x/snuggletex-core/src/test/resources/line-tests.txt\r\n\r\n## JLaTeXMath\r\n\r\nI would use [JLaTeXMath](https://github.com/opencollab/jlatexmath) if GPL license is OK: \r\n\r\n&gt; &quot;JLaTeXMath is the best Java library to display LaTeX code.&quot;\r\n\r\n```java\r\n\r\nimport org.scilab.forge.jlatexmath.TeXConstants;\r\nimport org.scilab.forge.jlatexmath.TeXFormula;\r\n\r\npublic class Example5 {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String latex = &quot;\\\\begin{array}{|c|l|||r|c|}&quot;;\r\n        latex += &quot;\\\\hline&quot;;\r\n        latex += &quot;\\\\text{Matrix}&amp;\\\\multicolumn{2}{|c|}{\\\\text{Multicolumns}}&amp;\\\\text{Font sizes commands}\\\\cr&quot;;\r\n        latex += &quot;\\\\hline&quot;;\r\n        latex += &quot;\\\\begin{pmatrix}\\\\alpha_{11}&amp;\\\\cdots&amp;\\\\alpha_{1n}\\\\cr\\\\hdotsfor{3}\\\\cr\\\\alpha_{n1}&amp;\\\\cdots&amp;\\\\alpha_{nn}\\\\end{pmatrix}&amp;\\\\Large \\\\text{Large Right}&amp;\\\\small \\\\text{small Left}&amp;\\\\tiny \\\\text{tiny Tiny}\\\\cr&quot;;\r\n        latex += &quot;\\\\hline&quot;;\r\n        latex += &quot;\\\\multicolumn{4}{|c|}{\\\\Huge \\\\text{Huge Multicolumns}}\\\\cr&quot;;\r\n        latex += &quot;\\\\hline&quot;;\r\n        latex += &quot;\\\\end{array}&quot;;\r\n\r\n        TeXFormula formula = new TeXFormula(latex);\r\n        formula.createPNG(TeXConstants.STYLE_DISPLAY, 20, &quot;target/Example5.png&quot;, Color.white, Color.black);\r\n    }\r\n}\r\n```\r\n\r\nSource for TeXFormula: &lt;https://github.com/opencollab/jlatexmath/blob/7995ce52b2699c9a3a8428a94c1f3762cdcb0284/jlatexmath/src/main/java/org/scilab/forge/jlatexmath/TeXFormula.java#L244&gt;\r\n\r\n\r\n## Other solutions\r\n\r\n* [JavaTex](http://javatex.sourceforge.net/): https://sourceforge.net/projects/javatex/files/javatex/V0.2/. Seems to be a complete LaTeX engine.\r\n* [JavaTeX from CTAN](https://ctan.org/pkg/javatex?lang=de) - from 1998, but might still perform well.\r\n\r\n(partially based on https://tex.stackexchange.com/q/41609/9075)","title":"Full LaTeX parser in Java","body":"<p>The heading said parsing and google lead me to here. Thus, I also include an example of <code>JLaTeXMath</code> and hints on other parsers.</p>\n<h2>SnuggleTeX</h2>\n<p><a href=\"https://github.com/davemckain/snuggletex\" rel=\"nofollow noreferrer\">SnuggleTeX</a> BSD License - has a good parser, too.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        /* Create vanilla SnuggleEngine and new SnuggleSession */\n        SnuggleEngine engine = new SnuggleEngine();\n        SnuggleSession session = engine.createSession();\n        \n        /* Parse some very basic Math Mode input */\n        SnuggleInput input = new SnuggleInput(&quot;$$ x+2=3 $$&quot;);\n        session.parseInput(input);\n        \n        /* Convert the results to an XML String, which in this case will\n         * be a single MathML &lt;math&gt;...&lt;/math&gt; element. */\n        String xmlString = session.buildXMLString();\n</code></pre>\n<p>Source: <a href=\"https://github.com/davemckain/snuggletex/blob/development_1_2_x/snuggletex-core/src/main/java/uk/ac/ed/ph/snuggletex/samples/MinimalExample.java\" rel=\"nofollow noreferrer\">https://github.com/davemckain/snuggletex/blob/development_1_2_x/snuggletex-core/src/main/java/uk/ac/ed/ph/snuggletex/samples/MinimalExample.java</a>.</p>\n<p>It can even do <code>\\newcommand</code>:</p>\n<pre class=\"lang-latex prettyprint-override\"><code>\\newcommand{\\test}[1]{Hello #1}\\test{There} more text afterwards\nHello There more text afterwards\n</code></pre>\n<p>Source: <a href=\"https://github.com/davemckain/snuggletex/blob/development_1_2_x/snuggletex-core/src/test/resources/line-tests.txt\" rel=\"nofollow noreferrer\">https://github.com/davemckain/snuggletex/blob/development_1_2_x/snuggletex-core/src/test/resources/line-tests.txt</a></p>\n<h2>JLaTeXMath</h2>\n<p>I would use <a href=\"https://github.com/opencollab/jlatexmath\" rel=\"nofollow noreferrer\">JLaTeXMath</a> if GPL license is OK:</p>\n<blockquote>\n<p>&quot;JLaTeXMath is the best Java library to display LaTeX code.&quot;</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.scilab.forge.jlatexmath.TeXConstants;\nimport org.scilab.forge.jlatexmath.TeXFormula;\n\npublic class Example5 {\n\n    public static void main(String[] args) {\n\n        String latex = &quot;\\\\begin{array}{|c|l|||r|c|}&quot;;\n        latex += &quot;\\\\hline&quot;;\n        latex += &quot;\\\\text{Matrix}&amp;\\\\multicolumn{2}{|c|}{\\\\text{Multicolumns}}&amp;\\\\text{Font sizes commands}\\\\cr&quot;;\n        latex += &quot;\\\\hline&quot;;\n        latex += &quot;\\\\begin{pmatrix}\\\\alpha_{11}&amp;\\\\cdots&amp;\\\\alpha_{1n}\\\\cr\\\\hdotsfor{3}\\\\cr\\\\alpha_{n1}&amp;\\\\cdots&amp;\\\\alpha_{nn}\\\\end{pmatrix}&amp;\\\\Large \\\\text{Large Right}&amp;\\\\small \\\\text{small Left}&amp;\\\\tiny \\\\text{tiny Tiny}\\\\cr&quot;;\n        latex += &quot;\\\\hline&quot;;\n        latex += &quot;\\\\multicolumn{4}{|c|}{\\\\Huge \\\\text{Huge Multicolumns}}\\\\cr&quot;;\n        latex += &quot;\\\\hline&quot;;\n        latex += &quot;\\\\end{array}&quot;;\n\n        TeXFormula formula = new TeXFormula(latex);\n        formula.createPNG(TeXConstants.STYLE_DISPLAY, 20, &quot;target/Example5.png&quot;, Color.white, Color.black);\n    }\n}\n</code></pre>\n<p>Source for TeXFormula: <a href=\"https://github.com/opencollab/jlatexmath/blob/7995ce52b2699c9a3a8428a94c1f3762cdcb0284/jlatexmath/src/main/java/org/scilab/forge/jlatexmath/TeXFormula.java#L244\" rel=\"nofollow noreferrer\">https://github.com/opencollab/jlatexmath/blob/7995ce52b2699c9a3a8428a94c1f3762cdcb0284/jlatexmath/src/main/java/org/scilab/forge/jlatexmath/TeXFormula.java#L244</a></p>\n<h2>Other solutions</h2>\n<ul>\n<li><a href=\"http://javatex.sourceforge.net/\" rel=\"nofollow noreferrer\">JavaTex</a>: <a href=\"https://sourceforge.net/projects/javatex/files/javatex/V0.2/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/javatex/files/javatex/V0.2/</a>. Seems to be a complete LaTeX engine.</li>\n<li><a href=\"https://ctan.org/pkg/javatex?lang=de\" rel=\"nofollow noreferrer\">JavaTeX from CTAN</a> - from 1998, but might still perform well.</li>\n</ul>\n<p>(partially based on <a href=\"https://tex.stackexchange.com/q/41609/9075\">https://tex.stackexchange.com/q/41609/9075</a>)</p>\n"}],"owner":{"account_id":274883,"reputation":5504,"user_id":567390,"accept_rate":89,"display_name":"Todd Davies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8689,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"closed_date":1597308911,"accepted_answer_id":13777649,"answer_count":2,"score":7,"last_activity_date":1682538700,"creation_date":1354970580,"question_id":13777558,"body_markdown":"I&#39;ve written [small Java application][1] to create printable flashcards for my Maths revision.\r\n\r\nAt the moment, I&#39;m using [JLaTeXMath][2] to generate the images for each side from LaTeX.\r\n\r\nThe only problem is, that JLaTeXMath seems to be limited to LaTeX formula. I want to use the same program to create flashcards for other subjects such as Biology, where the questions and answers will be text based (rather than equation based) and LaTeX formula&#39;s aren&#39;t suitable for this.\r\n\r\nAre there any Java libraries that can parse LaTeX?\r\nOr is there a better way of doing this?\r\n\r\n\r\n  [1]: https://github.com/Todd-Davies/MathsIdentities\r\n  [2]: http://forge.scilab.org/index.php/p/jlatexmath/\r\n","title":"Full LaTeX parser in Java","body":"<p>I've written <a href=\"https://github.com/Todd-Davies/MathsIdentities\" rel=\"noreferrer\">small Java application</a> to create printable flashcards for my Maths revision.</p>\n\n<p>At the moment, I'm using <a href=\"http://forge.scilab.org/index.php/p/jlatexmath/\" rel=\"noreferrer\">JLaTeXMath</a> to generate the images for each side from LaTeX.</p>\n\n<p>The only problem is, that JLaTeXMath seems to be limited to LaTeX formula. I want to use the same program to create flashcards for other subjects such as Biology, where the questions and answers will be text based (rather than equation based) and LaTeX formula's aren't suitable for this.</p>\n\n<p>Are there any Java libraries that can parse LaTeX?\nOr is there a better way of doing this?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"score":0,"creation_date":1682539338,"post_id":76114556,"comment_id":134233953,"body_markdown":"Have you tried to add `@ExceptionHandler(ClientAbortException.class) `  above the API resource that you wish to handle?","body":"Have you tried to add <code>@ExceptionHandler(ClientAbortException.class) </code>  above the API resource that you wish to handle?"},{"owner":{"account_id":6220861,"reputation":399,"user_id":4840535,"accept_rate":100,"display_name":"Phong6698"},"score":0,"creation_date":1682585371,"post_id":76114556,"comment_id":134240168,"body_markdown":"@Roland `@ExceptionHandler(ClientAbortException.class)?` needs to be over an exception handler method. In this case it&#39;s the `handleLockException` method.","body":"@Roland <code>@ExceptionHandler(ClientAbortException.class)?</code> needs to be over an exception handler method. In this case it&#39;s the <code>handleLockException</code> method."}],"owner":{"account_id":6220861,"reputation":399,"user_id":4840535,"accept_rate":100,"display_name":"Phong6698"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682538583,"creation_date":1682538583,"question_id":76114556,"body_markdown":"When a client aborts a request it throws out a `ClientAbortException`.\r\nAccording to this [answer][1], the exception can be catched with `@ExceptionHandler(ClientAbortException.class)`. With that, all methods in that Controller will get handled. \r\n\r\nSo my question is, how can the `ClientAbortException` be handled for only one specific method in a Controller class?\r\n\r\n\r\nFor example I want the method `with` be handled and `without` not be handled. But currently both would be handled because of `@ExceptionHandler(ClientAbortException.class)`.\r\n``` java\r\n@Slf4j\r\n@RestController\r\n@AllArgsConstructor\r\n@RequestMapping(value = &quot;/api/report&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic class ReportResource {\r\n\r\n    private ReportApplicationService reportApplicationService;\r\n\r\n    @PostMapping(&quot;with&quot;)\r\n    public ResponseEntity with(@RequestBody FindReport findReport) throws Exception {\r\n        return ResponseEntity.ok(reportApplicationService.createReport(findReport));\r\n    }\r\n\r\n    @PostMapping(&quot;without&quot;)\r\n    public ResponseEntity without(@RequestBody FindReport findReport) throws Exception {\r\n        return ResponseEntity.ok(reportApplicationService.createReport(findReport));\r\n    }\r\n\r\n    @ExceptionHandler(ClientAbortException.class)\r\n    public void handleLockException(ClientAbortException exception, HttpServletRequest request) {\r\n        final String message = &quot;ClientAbortException generated by request {} {} from remote address {} with X-FORWARDED-FOR {}&quot;;\r\n        final String headerXFF = request.getHeader(&quot;X-FORWARDED-FOR&quot;);\r\n        log.warn(message, request.getMethod(), request.getRequestURL(), request.getRemoteAddr(), headerXFF);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65423702/4840535","title":"Handle ClientAbortException on a specific method in Spring","body":"<p>When a client aborts a request it throws out a <code>ClientAbortException</code>.\nAccording to this <a href=\"https://stackoverflow.com/a/65423702/4840535\">answer</a>, the exception can be catched with <code>@ExceptionHandler(ClientAbortException.class)</code>. With that, all methods in that Controller will get handled.</p>\n<p>So my question is, how can the <code>ClientAbortException</code> be handled for only one specific method in a Controller class?</p>\n<p>For example I want the method <code>with</code> be handled and <code>without</code> not be handled. But currently both would be handled because of <code>@ExceptionHandler(ClientAbortException.class)</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestController\n@AllArgsConstructor\n@RequestMapping(value = &quot;/api/report&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class ReportResource {\n\n    private ReportApplicationService reportApplicationService;\n\n    @PostMapping(&quot;with&quot;)\n    public ResponseEntity with(@RequestBody FindReport findReport) throws Exception {\n        return ResponseEntity.ok(reportApplicationService.createReport(findReport));\n    }\n\n    @PostMapping(&quot;without&quot;)\n    public ResponseEntity without(@RequestBody FindReport findReport) throws Exception {\n        return ResponseEntity.ok(reportApplicationService.createReport(findReport));\n    }\n\n    @ExceptionHandler(ClientAbortException.class)\n    public void handleLockException(ClientAbortException exception, HttpServletRequest request) {\n        final String message = &quot;ClientAbortException generated by request {} {} from remote address {} with X-FORWARDED-FOR {}&quot;;\n        final String headerXFF = request.getHeader(&quot;X-FORWARDED-FOR&quot;);\n        log.warn(message, request.getMethod(), request.getRequestURL(), request.getRemoteAddr(), headerXFF);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jar","jruby","warbler"],"answers":[{"tags":[],"owner":{"account_id":8324,"reputation":10946,"user_id":14952,"accept_rate":83,"display_name":"Robert Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333334535,"creation_date":1333334535,"answer_id":9970308,"question_id":9963018,"body_markdown":"According to the Warbler bug you refer to, the fix has been merged, but it looks like no gem has been released since.\r\n\r\nI suggest you try building a latest warbler gem from the github source, as per [this question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2577346/how-to-install-gem-from-github-source","title":"Create a standalone jar with JRuby","body":"<p>According to the Warbler bug you refer to, the fix has been merged, but it looks like no gem has been released since.</p>\n\n<p>I suggest you try building a latest warbler gem from the github source, as per <a href=\"https://stackoverflow.com/questions/2577346/how-to-install-gem-from-github-source\">this question</a></p>\n"},{"tags":[],"owner":{"account_id":46231,"reputation":1122,"user_id":136492,"display_name":"manat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1339736554,"creation_date":1339674472,"answer_id":11032432,"question_id":9963018,"body_markdown":"Rawr is quite simpler for the standalone app. In your case, I guess you haven&#39;t specified the main class yet. You should check it on build_configuration.rb \r\n\r\n    # The main ruby file to invoke, minus the .rb extension\r\n    # default value: &quot;main&quot;\r\n    #\r\n    c.main_ruby_file = &quot;hello&quot;\r\n\r\nwhere in my case, hello.rb is the main ruby file.\r\n","title":"Create a standalone jar with JRuby","body":"<p>Rawr is quite simpler for the standalone app. In your case, I guess you haven't specified the main class yet. You should check it on build_configuration.rb </p>\n\n<pre><code># The main ruby file to invoke, minus the .rb extension\n# default value: \"main\"\n#\nc.main_ruby_file = \"hello\"\n</code></pre>\n\n<p>where in my case, hello.rb is the main ruby file.</p>\n"}],"owner":{"account_id":1152536,"reputation":452,"user_id":1133942,"accept_rate":75,"display_name":"The_Fritz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1860,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11032432,"answer_count":2,"score":2,"last_activity_date":1682538522,"creation_date":1333269469,"question_id":9963018,"body_markdown":"I made some little programs with Swing-components in JRuby. Now I want to convert these to .jar-archives.\r\n\r\nThe first option I found is **warbler**: https://github.com/jruby/warbler\r\nMaking a jar should be as simple as:\r\n\r\n    $ chmod a+x bin/mylittleprogram.rb\r\n    $ warble jar\r\n\r\nBut warble is aborted with an error: &quot;can&#39;t modify frozen string&quot;\r\nsame issue as here: https://github.com/jruby/warbler/issues/76\r\n\r\nI&#39;m a newbie and, frankly speaking, I don&#39;t get from the thread at github **what to do** (like: look for x in file y and change it to z) to make it work. Like the guy who started the thread, I have an Ubuntu OS (11.04) und MRI and JRuby installed. \r\n\r\n\r\nI also found rawr: http://rawr.rubyforge.org/\r\nMaking a jar should work as follows:\r\n\r\n    rawr install\r\n    rake rawr:jar\r\n    java -jar package/jar/your_jar_file.jar\r\n\r\nIn my case, I get an error:\r\n\r\n    Exception in thread &quot;main&quot; org.jruby.exceptions.RaiseException: (LoadError) no such file to load -- main\r\n\r\nMy Question: Which of these two options will be easier to use?\r\nIt would be also very helpful, to get an explanation what warbler and rawr do in the background. \r\n\r\nMany thanks in advance!","title":"Create a standalone jar with JRuby","body":"<p>I made some little programs with Swing-components in JRuby. Now I want to convert these to .jar-archives.</p>\n\n<p>The first option I found is <strong>warbler</strong>: <a href=\"https://github.com/jruby/warbler\" rel=\"nofollow\">https://github.com/jruby/warbler</a>\nMaking a jar should be as simple as:</p>\n\n<pre><code>$ chmod a+x bin/mylittleprogram.rb\n$ warble jar\n</code></pre>\n\n<p>But warble is aborted with an error: \"can't modify frozen string\"\nsame issue as here: <a href=\"https://github.com/jruby/warbler/issues/76\" rel=\"nofollow\">https://github.com/jruby/warbler/issues/76</a></p>\n\n<p>I'm a newbie and, frankly speaking, I don't get from the thread at github <strong>what to do</strong> (like: look for x in file y and change it to z) to make it work. Like the guy who started the thread, I have an Ubuntu OS (11.04) und MRI and JRuby installed. </p>\n\n<p>I also found rawr: <a href=\"http://rawr.rubyforge.org/\" rel=\"nofollow\">http://rawr.rubyforge.org/</a>\nMaking a jar should work as follows:</p>\n\n<pre><code>rawr install\nrake rawr:jar\njava -jar package/jar/your_jar_file.jar\n</code></pre>\n\n<p>In my case, I get an error:</p>\n\n<pre><code>Exception in thread \"main\" org.jruby.exceptions.RaiseException: (LoadError) no such file to load -- main\n</code></pre>\n\n<p>My Question: Which of these two options will be easier to use?\nIt would be also very helpful, to get an explanation what warbler and rawr do in the background. </p>\n\n<p>Many thanks in advance!</p>\n"},{"tags":["java","spring-boot","openapi","swagger-codegen","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682538292,"creation_date":1682538292,"answer_id":76114512,"question_id":76105965,"body_markdown":"This is expected behavior.  The server url doesn&#39;t go above the method.  Even if it did, it wouldn&#39;t look as you are expecting. Instead, it would have the full server address, like this:\r\n```java\r\n@RequestMapping(value = &quot;https://my.api.com/employee/details/v2/address&quot;, produces = { &quot;application/json&quot; }, method = RequestMethod.GET)\r\n```\r\n\r\nWhen I used your example with [`openapi-generator V4.3.1`][1] to generate code, I got two classes.  One interface called `DefaultApi` and one Controller, which implements `DefaultApi` called `DefaultApiController`.  The `DefaultApi` interface looked like this\r\n```java\r\n@RequestMapping(value = &quot;/address&quot;,\r\n    produces = { &quot;application/json&quot; }, \r\n    method = RequestMethod.GET)\r\ndefault ResponseEntity&lt;Response&gt; stackOverflowAnswer() {\r\n    return getDelegate().stackOverflowAnswer();\r\n}\r\n```\r\nNotice the value in the `RequestMapping` is `/address`.\r\n\r\nThe key here is the api implementation, which sets the `RequestMapping` at the class level.\r\n```java\r\n@Controller\r\n@RequestMapping(&quot;${openapi.stackOverflowAnswer.base-path:/employee/details/v2}&quot;)\r\npublic class DefaultApiController implements DefaultApi {\r\n```\r\n\r\nNotice here how the RequestMapping has a value appended to it.  This value is expected to be set by you in your application.properties or Spring Configuration file.\r\n\r\nHowever, I don&#39;t recommend that.  You should make your own controller, which implements the `DefaultApi`.  This is where you would implement your controller with your logic for how that controller (and API) should handle any requests and responses.\r\n\r\n  [1]: https://github.com/OpenAPITools/openapi-generator/releases/tag/v4.3.1","title":"open-api codegen doesn&#39;t add context path to the request-path url","body":"<p>This is expected behavior.  The server url doesn't go above the method.  Even if it did, it wouldn't look as you are expecting. Instead, it would have the full server address, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;https://my.api.com/employee/details/v2/address&quot;, produces = { &quot;application/json&quot; }, method = RequestMethod.GET)\n</code></pre>\n<p>When I used your example with <a href=\"https://github.com/OpenAPITools/openapi-generator/releases/tag/v4.3.1\" rel=\"nofollow noreferrer\"><code>openapi-generator V4.3.1</code></a> to generate code, I got two classes.  One interface called <code>DefaultApi</code> and one Controller, which implements <code>DefaultApi</code> called <code>DefaultApiController</code>.  The <code>DefaultApi</code> interface looked like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/address&quot;,\n    produces = { &quot;application/json&quot; }, \n    method = RequestMethod.GET)\ndefault ResponseEntity&lt;Response&gt; stackOverflowAnswer() {\n    return getDelegate().stackOverflowAnswer();\n}\n</code></pre>\n<p>Notice the value in the <code>RequestMapping</code> is <code>/address</code>.</p>\n<p>The key here is the api implementation, which sets the <code>RequestMapping</code> at the class level.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;${openapi.stackOverflowAnswer.base-path:/employee/details/v2}&quot;)\npublic class DefaultApiController implements DefaultApi {\n</code></pre>\n<p>Notice here how the RequestMapping has a value appended to it.  This value is expected to be set by you in your application.properties or Spring Configuration file.</p>\n<p>However, I don't recommend that.  You should make your own controller, which implements the <code>DefaultApi</code>.  This is where you would implement your controller with your logic for how that controller (and API) should handle any requests and responses.</p>\n"}],"owner":{"account_id":12537544,"reputation":155,"user_id":9123737,"display_name":"Runtime Terror - BS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682538292,"creation_date":1682462969,"question_id":76105965,"body_markdown":"I use OAS 3.0 yaml spec to define APIs and use openapi-generator (v4.3.1) to generate controller interface and models.\r\n\r\nBelow is the spec for which the codegen works fine (notice the urls in the &#39;**paths**&#39; and &#39;**servers**&#39; keys):\r\n\r\n```\r\nopenapi: &#39;3.0.0&#39;\r\ninfo:\r\n  version: 1.0.0\r\n  title: &quot;My API&quot;\r\nservers:\r\n  - url: https://my.api.com/employee\r\n    description: Employee API\r\npaths:\r\n  /details/v2/address:\r\n    get:\r\n      // &lt;rest of the spec&gt; ..\r\n```\r\n\r\nHowever, I have been asked to move &quot;/details/v2&quot; to the **servers.url** key at the top of the spec as this part of the url is common for all the endpoints.\r\n\r\nSo now the modified spec is something like.\r\n\r\n```\r\nopenapi: &#39;3.0.0&#39;\r\ninfo:\r\n  version: 1.0.0\r\n  title: &quot;My API&quot;\r\nservers:\r\n  - url: https://my.api.com/employee/details/v2\r\n    description: Employee API\r\npaths:\r\n  /address:\r\n    get:\r\n      // &lt;rest of the spec&gt; ..\r\n```\r\n\r\nBut the problem is that the newly generated interface does not contain the expected url in the RequestMapping annotation. Below is actual and expected code:\r\n\r\n**actual generated code:** `@RequestMapping(value = &quot;/address&quot;, produces = { &quot;application/json&quot; }, method = RequestMethod.GET)`\r\n\r\n**expected code:** `@RequestMapping(value = &quot;/details/v2/address&quot;, produces = { &quot;application/json&quot; }, method = RequestMethod.GET)`\r\n\r\nI am guessing this either requires change either in the spec or in the openapi-generator config.\r\n\r\nPlease let me know what could be done to fix this.","title":"open-api codegen doesn&#39;t add context path to the request-path url","body":"<p>I use OAS 3.0 yaml spec to define APIs and use openapi-generator (v4.3.1) to generate controller interface and models.</p>\n<p>Below is the spec for which the codegen works fine (notice the urls in the '<strong>paths</strong>' and '<strong>servers</strong>' keys):</p>\n<pre><code>openapi: '3.0.0'\ninfo:\n  version: 1.0.0\n  title: &quot;My API&quot;\nservers:\n  - url: https://my.api.com/employee\n    description: Employee API\npaths:\n  /details/v2/address:\n    get:\n      // &lt;rest of the spec&gt; ..\n</code></pre>\n<p>However, I have been asked to move &quot;/details/v2&quot; to the <strong>servers.url</strong> key at the top of the spec as this part of the url is common for all the endpoints.</p>\n<p>So now the modified spec is something like.</p>\n<pre><code>openapi: '3.0.0'\ninfo:\n  version: 1.0.0\n  title: &quot;My API&quot;\nservers:\n  - url: https://my.api.com/employee/details/v2\n    description: Employee API\npaths:\n  /address:\n    get:\n      // &lt;rest of the spec&gt; ..\n</code></pre>\n<p>But the problem is that the newly generated interface does not contain the expected url in the RequestMapping annotation. Below is actual and expected code:</p>\n<p><strong>actual generated code:</strong> <code>@RequestMapping(value = &quot;/address&quot;, produces = { &quot;application/json&quot; }, method = RequestMethod.GET)</code></p>\n<p><strong>expected code:</strong> <code>@RequestMapping(value = &quot;/details/v2/address&quot;, produces = { &quot;application/json&quot; }, method = RequestMethod.GET)</code></p>\n<p>I am guessing this either requires change either in the spec or in the openapi-generator config.</p>\n<p>Please let me know what could be done to fix this.</p>\n"},{"tags":["java","spring","spring-boot","testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682516008,"post_id":76111304,"comment_id":134228312,"body_markdown":"For starters stop mixing JUnit4/JUnit5. `@RunWith(SpringRunner.class)` is for JUnit4, your `@BeforeEach` indicates JUnit5.","body":"For starters stop mixing JUnit4/JUnit5. <code>@RunWith(SpringRunner.class)</code> is for JUnit4, your <code>@BeforeEach</code> indicates JUnit5."},{"owner":{"account_id":23696256,"reputation":1,"user_id":17719943,"display_name":"Connor"},"score":0,"creation_date":1682520197,"post_id":76111304,"comment_id":134229581,"body_markdown":"I got &quot;java.lang.NullPointerException: Cannot invoke &quot;com.myshoppingdemo.service.UserServiceImpl.checkIfUserIsNull(long)&quot; because &quot;this.userServiceImpl&quot; is null\n&quot; after I commented out @RunWith(SpringRunner.class)","body":"I got &quot;java.lang.NullPointerException: Cannot invoke &quot;com.myshoppingdemo.service.UserServiceImpl.checkIfUserIsNul&zwnj;&#8203;l(long)&quot; because &quot;this.userServiceImpl&quot; is null &quot; after I commented out @RunWith(SpringRunner.class)"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1682520302,"post_id":76111304,"comment_id":134229619,"body_markdown":"@Connor for junit5, use `@ExtendWith(SpringExtension.class)`","body":"@Connor for junit5, use <code>@ExtendWith(SpringExtension.class)</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682522895,"post_id":76111304,"comment_id":134230384,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682538124,"creation_date":1682538124,"answer_id":76114499,"question_id":76111304,"body_markdown":"One of the first issues I have noticed is basically using Junit4 and Junit5 interchangeably which is wrong and can cause weird issues. Another piece of advice is basically while running Integration Tests make sure that either you are running your tests on completely new H2 instances, or in the `beforeEach` delete all records and let each test setup the needed data. Otherwise you will start coupling your test data which could lead to fuzzy results depending on your tests run","title":"Integration test fails in my Spring Boot application","body":"<p>One of the first issues I have noticed is basically using Junit4 and Junit5 interchangeably which is wrong and can cause weird issues. Another piece of advice is basically while running Integration Tests make sure that either you are running your tests on completely new H2 instances, or in the <code>beforeEach</code> delete all records and let each test setup the needed data. Otherwise you will start coupling your test data which could lead to fuzzy results depending on your tests run</p>\n"}],"owner":{"account_id":23696256,"reputation":1,"user_id":17719943,"display_name":"Connor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682538124,"creation_date":1682515486,"question_id":76111304,"body_markdown":"I&#39;m working on integration tests in my Spring Boot application. And I use H2 database for testing.\r\n\r\nI get \r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :true\r\nActual   :false\r\n```\r\n\r\nafter I run assertTrue(userServiceImpl.checkIfUserIsNull(1L)); in isUserNullCheck in UserServiceTest. I think I set up the database properly but the test always fails and I can&#39;t find the problem. \r\n\r\nUser\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;\\&quot;user\\&quot;&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;username&quot;)\r\n\tprivate String userName;\r\n\r\n\t@Column(name = &quot;password&quot;)\r\n\tprivate String password;\r\n\r\n\t@Column(name = &quot;first_name&quot;)\r\n\tprivate String firstName;\r\n\r\n\t@Column(name = &quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\r\n\t@Column(name = &quot;email&quot;)\r\n\tprivate String email;\r\n\r\n\t@ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n\t@JoinTable(name = &quot;users_roles&quot;, \r\n\tjoinColumns = @JoinColumn(name = &quot;user_id&quot;), \r\n\tinverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n\tprivate Collection&lt;Role&gt; roles;\r\n\r\n\tpublic User() {\r\n\t}\r\n\r\n\tpublic User(String userName, String password, String firstName, String lastName, String email) {\r\n\t\tthis.userName = userName;\r\n\t\tthis.password = password;\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic User(String userName, String password, String firstName, String lastName, String email,\r\n\t\t\tCollection&lt;Role&gt; roles) {\r\n\t\tthis.userName = userName;\r\n\t\tthis.password = password;\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t\tthis.email = email;\r\n\t\tthis.roles = roles;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getUserName() {\r\n\t\treturn userName;\r\n\t}\r\n\r\n\tpublic void setUserName(String userName) {\r\n\t\tthis.userName = userName;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic Collection&lt;Role&gt; getRoles() {\r\n\t\treturn roles;\r\n\t}\r\n\r\n\tpublic void setRoles(Collection&lt;Role&gt; roles) {\r\n\t\tthis.roles = roles;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;User{&quot; + &quot;id=&quot; + id + &quot;, userName=&#39;&quot; + userName + &#39;\\&#39;&#39; + &quot;, password=&#39;&quot; + &quot;*********&quot; + &#39;\\&#39;&#39;\r\n\t\t\t\t+ &quot;, firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; + &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; + &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39;\r\n\t\t\t\t+ &quot;, roles=&quot; + roles + &#39;}&#39;;\r\n\t}\r\n}\r\n```\r\n\r\nUserservice\r\n\r\n```\r\npublic interface UserService extends UserDetailsService {\r\n\r\n\tpublic Optional&lt;User&gt; findByUserName(String userName);\r\n\r\n\tpublic void save(CrmUser crmUser);\r\n\r\n\tvoid deleteById(Long theId);\r\n\r\n\tpublic boolean checkIfUserIsNull(long id);\r\n\r\n}\r\n```\r\nUserServiceImpl\r\n\r\n```\r\n@Service\r\n@Transactional\r\npublic class UserServiceImpl implements UserService {\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private RoleRepository roleRepository;\r\n\r\n    @Lazy\r\n    @Autowired\r\n    private BCryptPasswordEncoder passwordEncoder;\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(UserServiceImpl.class);\r\n\r\n    @Override\r\n    @Transactional\r\n    public Optional&lt;User&gt; findByUserName(String userName) {\r\n        // check the database if the user already exists\r\n        return userRepository.findByUserName(userName);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public void save(CrmUser crmUser) {\r\n        User user = new User();\r\n        // assign user details to the user object\r\n        user.setUserName(crmUser.getUserName());\r\n        user.setPassword(passwordEncoder.encode(crmUser.getPassword()));\r\n        user.setFirstName(crmUser.getFirstName());\r\n        user.setLastName(crmUser.getLastName());\r\n        user.setEmail(crmUser.getEmail());\r\n\r\n        // give user default role of &quot;CUSTOMER&quot;\r\n        Optional&lt;Role&gt; roleCustomer = roleRepository.findRoleByName(&quot;ROLE_CUSTOMER&quot;);\r\n        log.info(&quot;The role &quot; + roleCustomer);\r\n        if (!roleCustomer.isPresent()) {\r\n            throw new NoSuchElementException(&quot;The role is not found&quot;);\r\n        } else {\r\n            user.setRoles(Collections.singletonList(roleCustomer.get()));\r\n        }\r\n        // save user in the database\r\n        userRepository.save(user);\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public void deleteById(Long theId) {\r\n        Session currentSession = entityManager.unwrap(Session.class);\r\n        Query theQuery = currentSession.createQuery(&quot;delete from User where id=:userId&quot;);\r\n        theQuery.setParameter(&quot;userId&quot;, theId);\r\n        theQuery.executeUpdate();\r\n    }\r\n\r\n\r\n    @Override\r\n    @Transactional\r\n    public UserDetails loadUserByUsername(String userName) throws UsernameNotFoundException {\r\n        Optional&lt;User&gt; user = userRepository.findByUserName(userName);\r\n        log.info(&quot;user is present: &quot; + user.isPresent());\r\n        if (!user.isPresent()) {\r\n            throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\r\n        }\r\n        log.info(&quot;password: &quot; + user.get().getPassword());\r\n        return new org.springframework.security.core.userdetails.User(user.get().getUserName(), user.get().getPassword(),\r\n                mapRolesToAuthorities(user.get().getRoles()));\r\n    }\r\nprivate Collection&lt;? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection&lt;Role&gt; roles) {\r\n        if (roles == null) {\r\n            return Collections.emptyList();\r\n        }\r\n        return roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\r\n    }\r\n\r\n    public boolean checkIfUserIsNull(long id) {\r\n        Optional&lt;User&gt; user = userRepository.findById(id);\r\n        return user.isPresent();\r\n    }\r\n}\r\n```\r\n\r\nUserRepository\r\n```\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    Optional&lt;User&gt; findByUserName(String userName);\r\n}\r\n```\r\n\r\napplication-test.properties\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL;INIT=CREATE SCHEMA IF NOT EXISTS &quot;user&quot;\\\\;SET SCHEMA &quot;user&quot;;DB_CLOSE_DELAY=-1\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.datasource.initialization-mode=always\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.h2.console.enabled=true\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql = true\r\n\r\nsql.script.create.user1=INSERT INTO &quot;user&quot; (id,username,password,first_name,last_name,email) VALUES \\\r\n  (1,&#39;john&#39;,&#39;$2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K&#39;,&#39;John&#39;,&#39;Doe&#39;,&#39;john@luv2code.com&#39;)\r\nsql.script.create.user2=INSERT INTO &quot;user&quot; (id,username,password,first_name,last_name,email) VALUES \\\r\n  (2,&#39;mary&#39;,&#39;$2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K&#39;,&#39;Mary&#39;,&#39;Public&#39;,&#39;mary@luv2code.com&#39;)\r\nsql.script.create.user3=INSERT INTO &quot;user&quot; (id,username,password,first_name,last_name,email) VALUES \\\r\n  (3,&#39;susan&#39;,&#39;$2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K&#39;,&#39;Susan&#39;,&#39;Adams&#39;,&#39;susan@luv2code.com&#39;)\r\n\r\n\r\nsql.script.create.role1=INSERT INTO `role` (id,name) VALUES (1,&#39;ROLE_CUSTOMER&#39;)\r\nsql.script.create.role2=INSERT INTO `role` (id,name) VALUES (2,&#39;ROLE_ADMIN&#39;)\r\n\r\nsql.script.create.users_roles.user1=INSERT INTO `users_roles` (user_id,role_id) VALUES (1, 1)\r\nsql.script.create.users_roles.user2=INSERT INTO `users_roles` (user_id,role_id) VALUES (2, 2)\r\nsql.script.create.users_roles.user3=INSERT INTO `users_roles` (user_id,role_id) VALUES (3, 2)\r\n\r\nsql.script.delete.user=DELETE FROM user\r\nsql.script.delete.role=DELETE FROM role\r\nsql.script.delete.users_roles=DELETE FROM users_roles\r\n```\r\n\r\nUserServiceTest\r\n\r\n```\r\n@TestPropertySource(&quot;/application-test.properties&quot;)\r\n@SpringBootTest\r\n@RunWith(SpringRunner.class)\r\npublic class UserServiceTest {\r\n\r\n    @Autowired\r\n    private static JdbcTemplate jdbc;\r\n@Autowired\r\n    private UserServiceImpl userServiceImpl;\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(UserServiceTest.class);\r\n\r\n    @Value(&quot;${sql.script.create.user1}&quot;)\r\n    private String sqlCreateUser1;\r\n\r\n    @Value(&quot;${sql.script.create.user2}&quot;)\r\n    private String sqlCreateUser2;\r\n\r\n    @Value(&quot;${sql.script.create.user3}&quot;)\r\n    private String sqlCreateUser3;\r\n\r\n    @Value(&quot;${sql.script.create.role1}&quot;)\r\n    private String sqlCreateRole1;\r\n\r\n    @Value(&quot;${sql.script.create.role2}&quot;)\r\n    private String sqlCreateRole2;\r\n\r\n    @Value(&quot;${sql.script.create.users_roles.user1}&quot;)\r\n    private String sqlCreateUsersRolesUser1;\r\n\r\n    @Value(&quot;${sql.script.create.users_roles.user3}&quot;)\r\n    private String sqlCreateUsersRolesUser2;\r\n\r\n    @Value(&quot;${sql.script.create.users_roles.user3}&quot;)\r\n    private String sqlCreateUsersRolesUser3;\r\n\r\n    @Value(&quot;${sql.script.delete.user}&quot;)\r\n    private String sqlDeleteUser;\r\n\r\n    @Value(&quot;${sql.script.delete.role}&quot;)\r\n    private String sqlDeleteRole;\r\n\r\n    @Value(&quot;${sql.script.delete.users_roles}&quot;)\r\n    private String sqlDeleteUsersRoles;\r\n\r\n    @BeforeEach\r\n    public void setupDatabase() {\r\n        jdbc.execute(sqlCreateUser1);\r\n        jdbc.execute(sqlCreateUser2);\r\n        jdbc.execute(sqlCreateUser3);\r\n        jdbc.execute(sqlCreateRole1);\r\n        jdbc.execute(sqlCreateRole2);\r\n        jdbc.execute(sqlCreateUsersRolesUser1);\r\n        jdbc.execute(sqlCreateUsersRolesUser2);\r\n        jdbc.execute(sqlCreateUsersRolesUser3);\r\n    }\r\n\r\n    @Test\r\n    public void isUserNullCheck() {\r\n        assertTrue(userServiceImpl.checkIfUserIsNull(1L));\r\n        assertFalse(userServiceImpl.checkIfUserIsNull(0L));\r\n    }\r\n\r\n    @AfterEach\r\n    public void afterAll() {\r\n        jdbc.execute(sqlDeleteUser);\r\n        jdbc.execute(sqlDeleteRole);\r\n        jdbc.execute(sqlDeleteUsersRoles);\r\n    }\r\n}\r\n```\r\n\r\nI checked the sql statements and the code. They seem fine. I can&#39;t find the problem.","title":"Integration test fails in my Spring Boot application","body":"<p>I'm working on integration tests in my Spring Boot application. And I use H2 database for testing.</p>\n<p>I get</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :true\nActual   :false\n</code></pre>\n<p>after I run assertTrue(userServiceImpl.checkIfUserIsNull(1L)); in isUserNullCheck in UserServiceTest. I think I set up the database properly but the test always fails and I can't find the problem.</p>\n<p>User</p>\n<pre><code>@Entity\n@Table(name = &quot;\\&quot;user\\&quot;&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;users_roles&quot;, \n    joinColumns = @JoinColumn(name = &quot;user_id&quot;), \n    inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Collection&lt;Role&gt; roles;\n\n    public User() {\n    }\n\n    public User(String userName, String password, String firstName, String lastName, String email) {\n        this.userName = userName;\n        this.password = password;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.email = email;\n    }\n\n    public User(String userName, String password, String firstName, String lastName, String email,\n            Collection&lt;Role&gt; roles) {\n        this.userName = userName;\n        this.password = password;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.email = email;\n        this.roles = roles;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public Collection&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Collection&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; + &quot;id=&quot; + id + &quot;, userName='&quot; + userName + '\\'' + &quot;, password='&quot; + &quot;*********&quot; + '\\''\n                + &quot;, firstName='&quot; + firstName + '\\'' + &quot;, lastName='&quot; + lastName + '\\'' + &quot;, email='&quot; + email + '\\''\n                + &quot;, roles=&quot; + roles + '}';\n    }\n}\n</code></pre>\n<p>Userservice</p>\n<pre><code>public interface UserService extends UserDetailsService {\n\n    public Optional&lt;User&gt; findByUserName(String userName);\n\n    public void save(CrmUser crmUser);\n\n    void deleteById(Long theId);\n\n    public boolean checkIfUserIsNull(long id);\n\n}\n</code></pre>\n<p>UserServiceImpl</p>\n<pre><code>@Service\n@Transactional\npublic class UserServiceImpl implements UserService {\n    @Autowired\n    private EntityManager entityManager;\n\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private RoleRepository roleRepository;\n\n    @Lazy\n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    private static final Logger log = LoggerFactory.getLogger(UserServiceImpl.class);\n\n    @Override\n    @Transactional\n    public Optional&lt;User&gt; findByUserName(String userName) {\n        // check the database if the user already exists\n        return userRepository.findByUserName(userName);\n    }\n\n    @Override\n    @Transactional\n    public void save(CrmUser crmUser) {\n        User user = new User();\n        // assign user details to the user object\n        user.setUserName(crmUser.getUserName());\n        user.setPassword(passwordEncoder.encode(crmUser.getPassword()));\n        user.setFirstName(crmUser.getFirstName());\n        user.setLastName(crmUser.getLastName());\n        user.setEmail(crmUser.getEmail());\n\n        // give user default role of &quot;CUSTOMER&quot;\n        Optional&lt;Role&gt; roleCustomer = roleRepository.findRoleByName(&quot;ROLE_CUSTOMER&quot;);\n        log.info(&quot;The role &quot; + roleCustomer);\n        if (!roleCustomer.isPresent()) {\n            throw new NoSuchElementException(&quot;The role is not found&quot;);\n        } else {\n            user.setRoles(Collections.singletonList(roleCustomer.get()));\n        }\n        // save user in the database\n        userRepository.save(user);\n    }\n\n    @Override\n    @Transactional\n    public void deleteById(Long theId) {\n        Session currentSession = entityManager.unwrap(Session.class);\n        Query theQuery = currentSession.createQuery(&quot;delete from User where id=:userId&quot;);\n        theQuery.setParameter(&quot;userId&quot;, theId);\n        theQuery.executeUpdate();\n    }\n\n\n    @Override\n    @Transactional\n    public UserDetails loadUserByUsername(String userName) throws UsernameNotFoundException {\n        Optional&lt;User&gt; user = userRepository.findByUserName(userName);\n        log.info(&quot;user is present: &quot; + user.isPresent());\n        if (!user.isPresent()) {\n            throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\n        }\n        log.info(&quot;password: &quot; + user.get().getPassword());\n        return new org.springframework.security.core.userdetails.User(user.get().getUserName(), user.get().getPassword(),\n                mapRolesToAuthorities(user.get().getRoles()));\n    }\nprivate Collection&lt;? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection&lt;Role&gt; roles) {\n        if (roles == null) {\n            return Collections.emptyList();\n        }\n        return roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\n    }\n\n    public boolean checkIfUserIsNull(long id) {\n        Optional&lt;User&gt; user = userRepository.findById(id);\n        return user.isPresent();\n    }\n}\n</code></pre>\n<p>UserRepository</p>\n<pre><code>\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findByUserName(String userName);\n}\n</code></pre>\n<p>application-test.properties</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL;INIT=CREATE SCHEMA IF NOT EXISTS &quot;user&quot;\\\\;SET SCHEMA &quot;user&quot;;DB_CLOSE_DELAY=-1\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.datasource.initialization-mode=always\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql = true\n\nsql.script.create.user1=INSERT INTO &quot;user&quot; (id,username,password,first_name,last_name,email) VALUES \\\n  (1,'john','$2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K','John','Doe','john@luv2code.com')\nsql.script.create.user2=INSERT INTO &quot;user&quot; (id,username,password,first_name,last_name,email) VALUES \\\n  (2,'mary','$2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K','Mary','Public','mary@luv2code.com')\nsql.script.create.user3=INSERT INTO &quot;user&quot; (id,username,password,first_name,last_name,email) VALUES \\\n  (3,'susan','$2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K','Susan','Adams','susan@luv2code.com')\n\n\nsql.script.create.role1=INSERT INTO `role` (id,name) VALUES (1,'ROLE_CUSTOMER')\nsql.script.create.role2=INSERT INTO `role` (id,name) VALUES (2,'ROLE_ADMIN')\n\nsql.script.create.users_roles.user1=INSERT INTO `users_roles` (user_id,role_id) VALUES (1, 1)\nsql.script.create.users_roles.user2=INSERT INTO `users_roles` (user_id,role_id) VALUES (2, 2)\nsql.script.create.users_roles.user3=INSERT INTO `users_roles` (user_id,role_id) VALUES (3, 2)\n\nsql.script.delete.user=DELETE FROM user\nsql.script.delete.role=DELETE FROM role\nsql.script.delete.users_roles=DELETE FROM users_roles\n</code></pre>\n<p>UserServiceTest</p>\n<pre><code>@TestPropertySource(&quot;/application-test.properties&quot;)\n@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class UserServiceTest {\n\n    @Autowired\n    private static JdbcTemplate jdbc;\n@Autowired\n    private UserServiceImpl userServiceImpl;\n\n    private static final Logger log = LoggerFactory.getLogger(UserServiceTest.class);\n\n    @Value(&quot;${sql.script.create.user1}&quot;)\n    private String sqlCreateUser1;\n\n    @Value(&quot;${sql.script.create.user2}&quot;)\n    private String sqlCreateUser2;\n\n    @Value(&quot;${sql.script.create.user3}&quot;)\n    private String sqlCreateUser3;\n\n    @Value(&quot;${sql.script.create.role1}&quot;)\n    private String sqlCreateRole1;\n\n    @Value(&quot;${sql.script.create.role2}&quot;)\n    private String sqlCreateRole2;\n\n    @Value(&quot;${sql.script.create.users_roles.user1}&quot;)\n    private String sqlCreateUsersRolesUser1;\n\n    @Value(&quot;${sql.script.create.users_roles.user3}&quot;)\n    private String sqlCreateUsersRolesUser2;\n\n    @Value(&quot;${sql.script.create.users_roles.user3}&quot;)\n    private String sqlCreateUsersRolesUser3;\n\n    @Value(&quot;${sql.script.delete.user}&quot;)\n    private String sqlDeleteUser;\n\n    @Value(&quot;${sql.script.delete.role}&quot;)\n    private String sqlDeleteRole;\n\n    @Value(&quot;${sql.script.delete.users_roles}&quot;)\n    private String sqlDeleteUsersRoles;\n\n    @BeforeEach\n    public void setupDatabase() {\n        jdbc.execute(sqlCreateUser1);\n        jdbc.execute(sqlCreateUser2);\n        jdbc.execute(sqlCreateUser3);\n        jdbc.execute(sqlCreateRole1);\n        jdbc.execute(sqlCreateRole2);\n        jdbc.execute(sqlCreateUsersRolesUser1);\n        jdbc.execute(sqlCreateUsersRolesUser2);\n        jdbc.execute(sqlCreateUsersRolesUser3);\n    }\n\n    @Test\n    public void isUserNullCheck() {\n        assertTrue(userServiceImpl.checkIfUserIsNull(1L));\n        assertFalse(userServiceImpl.checkIfUserIsNull(0L));\n    }\n\n    @AfterEach\n    public void afterAll() {\n        jdbc.execute(sqlDeleteUser);\n        jdbc.execute(sqlDeleteRole);\n        jdbc.execute(sqlDeleteUsersRoles);\n    }\n}\n</code></pre>\n<p>I checked the sql statements and the code. They seem fine. I can't find the problem.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5827331,"reputation":1,"user_id":5810132,"display_name":"Shaswati"},"score":0,"creation_date":1453205692,"post_id":34875520,"comment_id":57490918,"body_markdown":"The fully qualified name solved the conflict, Thanks !","body":"The fully qualified name solved the conflict, Thanks !"},{"owner":{"account_id":1428032,"reputation":5782,"user_id":1351076,"accept_rate":60,"display_name":"krlzlx"},"score":0,"creation_date":1453207022,"post_id":34875520,"comment_id":57491728,"body_markdown":"Then validate the answer that helped you!","body":"Then validate the answer that helped you!"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453203007,"creation_date":1453203007,"answer_id":34875652,"question_id":34875520,"body_markdown":"Two options:\r\n\r\n1. Fully qualify the name of the selenium-provided class, avoiding the need for the conflicting import:\r\n\r\n        ChromeDriver myChromeDriver = new ChromeDriver(); // One from same package\r\n        org.openqa.selenium.chrome.ChromeDriver theirChromeDriver = new org.openqa.selenium.chrome.ChromeDriver();  // One from selenium\r\n\r\n2. Rename your `ChromeDriver` class.","title":"The import org.openqa.selenium.chrome.ChromeDriver conflicts with a type defined in the same file","body":"<p>Two options:</p>\n\n<ol>\n<li><p>Fully qualify the name of the selenium-provided class, avoiding the need for the conflicting import:</p>\n\n<pre><code>ChromeDriver myChromeDriver = new ChromeDriver(); // One from same package\norg.openqa.selenium.chrome.ChromeDriver theirChromeDriver = new org.openqa.selenium.chrome.ChromeDriver();  // One from selenium\n</code></pre></li>\n<li><p>Rename your <code>ChromeDriver</code> class.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8223586,"reputation":13,"user_id":6186528,"display_name":"Mahesh kafle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682537553,"creation_date":1682537456,"answer_id":76114419,"question_id":34875520,"body_markdown":"You could have named your .java file as TakesScreenshot.java this is the reason you got the issue. Just rename your file from TakesScreenshot.java to TakesScreenshotDemo.java or sth else.","title":"The import org.openqa.selenium.chrome.ChromeDriver conflicts with a type defined in the same file","body":"<p>You could have named your .java file as TakesScreenshot.java this is the reason you got the issue. Just rename your file from TakesScreenshot.java to TakesScreenshotDemo.java or sth else.</p>\n"}],"owner":{"account_id":5827331,"reputation":1,"user_id":5810132,"display_name":"Shaswati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1241,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1682537553,"creation_date":1453202662,"question_id":34875520,"body_markdown":"While trying to set chrome browser for selenium testing I am facing this conflict, please help !","title":"The import org.openqa.selenium.chrome.ChromeDriver conflicts with a type defined in the same file","body":"<p>While trying to set chrome browser for selenium testing I am facing this conflict, please help !</p>\n"},{"tags":["java","integer","double","runtime","long-integer"],"answers":[{"tags":[],"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682536910,"creation_date":1682536910,"answer_id":76114353,"question_id":76114289,"body_markdown":"`(long)(Math.pow((i+1),2)-((3*i)+1)+i)` from your first solution, you are casting the result of your equation as a long which supports very large numbers. in your second you are not casting to a long, so java assumes the result is an int. when the result of that equation starts to become very large, it no longer fits in an int so you are getting unexpected results from the later iterations of your for loop.","title":"Not showing correct output for a input 100000 - Runtime error","body":"<p><code>(long)(Math.pow((i+1),2)-((3*i)+1)+i)</code> from your first solution, you are casting the result of your equation as a long which supports very large numbers. in your second you are not casting to a long, so java assumes the result is an int. when the result of that equation starts to become very large, it no longer fits in an int so you are getting unexpected results from the later iterations of your for loop.</p>\n"}],"owner":{"account_id":26795674,"reputation":1,"user_id":20388452,"display_name":"vinit yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682549561,"answer_count":1,"score":0,"last_activity_date":1682536910,"creation_date":1682536337,"question_id":76114289,"body_markdown":"Sigma of Equation\r\nGiven a number N, find the value of the below equation for the given number.\r\n\r\nEquation\r\n\r\n    N\r\n    ∑  {(X + 1)^2 - (3X + 1) + X}\r\n    X = 1\r\n\r\nInput Format\r\n&gt;First line contains an integer n\r\n\r\nOutput Format\r\n&gt;Single line output representing the value.\r\n\r\nExample 1\r\n\r\n    Input\r\n    1\r\n    Output\r\n    1\r\n\r\nExample 2\r\n\r\n    Input\r\n    2\r\n    Output\r\n    5\r\n\r\nExplanation\r\n\r\n    {(1+1)&#178; - (3x1+1) + (1)} + {(2+1)&#178; - (3x2+1) +2} = 4 - 4 +1 + 9 -7 +2 = 5\r\n\r\nConstraints\r\n\r\n    1 &lt;= n &lt;= 105\r\n\r\n### **I have two solution one is working and second is not working for some test cases like n=100000.\r\n# Solution 1(Working):**\r\n```\r\n\r\nimport java.util.*;\r\nimport static java.lang.Math.ceil;\r\n\r\nclass Solution {\r\n    public long SigmaEquation(int n ) {\r\n\t\tlong ans=0;\r\n\t\tfor(int i=1; i&lt;=n; i++){\r\n\t\t\tans = ans + (long)(Math.pow((i+1),2)-((3*i)+1)+i);\r\n\t\t}\r\n\t\treturn ans;\r\n\t}\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        Solution Obj = new Solution();\r\n        System.out.println(Obj.SigmaEquation(n));\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n### **Solution 2(error for some test cases like n= 100000 ):-**\r\n```\r\n\r\nimport java.util.*;\r\nimport static java.lang.Math.ceil;\r\n\r\nclass Solution {\r\n    public long SigmaEquation(int n ) {\r\n\t\tlong ans=0;\r\n\t\tfor(int i=1; i&lt;=n; i++){\r\n\t\t\tans = ans + (((i+1)*(i+1))-((3*i)+1)+i);\r\n\t\t}\r\n\t\treturn ans;\r\n\t}\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        Solution Obj = new Solution();\r\n        System.out.println(Obj.SigmaEquation(n));\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n### Getting this issue for solution 2 why?\r\n### and why the same issue solved in solution 1 program?\r\n\r\n### Wrong Answer\r\n\r\n    Time Limit : 171ms\r\n    Time Taken By Your Code : 152ms\r\n\r\n### Input\r\n\r\n    100000\r\n\r\n### Correct Output\r\n\r\n    333338333350000\r\n\r\n### Your Output\r\n\r\n    18104913692784\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Not showing correct output for a input 100000 - Runtime error","body":"<p>Sigma of Equation\nGiven a number N, find the value of the below equation for the given number.</p>\n<p>Equation</p>\n<pre><code>N\n∑  {(X + 1)^2 - (3X + 1) + X}\nX = 1\n</code></pre>\n<p>Input Format</p>\n<blockquote>\n<p>First line contains an integer n</p>\n</blockquote>\n<p>Output Format</p>\n<blockquote>\n<p>Single line output representing the value.</p>\n</blockquote>\n<p>Example 1</p>\n<pre><code>Input\n1\nOutput\n1\n</code></pre>\n<p>Example 2</p>\n<pre><code>Input\n2\nOutput\n5\n</code></pre>\n<p>Explanation</p>\n<pre><code>{(1+1)² - (3x1+1) + (1)} + {(2+1)² - (3x2+1) +2} = 4 - 4 +1 + 9 -7 +2 = 5\n</code></pre>\n<p>Constraints</p>\n<pre><code>1 &lt;= n &lt;= 105\n</code></pre>\n<h3>**I have two solution one is working and second is not working for some test cases like n=100000.</h3>\n<h1>Solution 1(Working):**</h1>\n<pre><code>\nimport java.util.*;\nimport static java.lang.Math.ceil;\n\nclass Solution {\n    public long SigmaEquation(int n ) {\n        long ans=0;\n        for(int i=1; i&lt;=n; i++){\n            ans = ans + (long)(Math.pow((i+1),2)-((3*i)+1)+i);\n        }\n        return ans;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        Solution Obj = new Solution();\n        System.out.println(Obj.SigmaEquation(n));\n\n    }\n}\n\n\n</code></pre>\n<h3><strong>Solution 2(error for some test cases like n= 100000 ):-</strong></h3>\n<pre><code>\nimport java.util.*;\nimport static java.lang.Math.ceil;\n\nclass Solution {\n    public long SigmaEquation(int n ) {\n        long ans=0;\n        for(int i=1; i&lt;=n; i++){\n            ans = ans + (((i+1)*(i+1))-((3*i)+1)+i);\n        }\n        return ans;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        Solution Obj = new Solution();\n        System.out.println(Obj.SigmaEquation(n));\n\n    }\n}\n\n</code></pre>\n<h3>Getting this issue for solution 2 why?</h3>\n<h3>and why the same issue solved in solution 1 program?</h3>\n<h3>Wrong Answer</h3>\n<pre><code>Time Limit : 171ms\nTime Taken By Your Code : 152ms\n</code></pre>\n<h3>Input</h3>\n<pre><code>100000\n</code></pre>\n<h3>Correct Output</h3>\n<pre><code>333338333350000\n</code></pre>\n<h3>Your Output</h3>\n<pre><code>18104913692784\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1318015,"reputation":3345,"user_id":1264476,"display_name":"Germann Arlington"},"score":0,"creation_date":1396888493,"post_id":22918059,"comment_id":34980418,"body_markdown":"Blocking call? How about `wait()` method?","body":"Blocking call? How about <code>wait()</code> method?"},{"owner":{"account_id":1370050,"reputation":19409,"user_id":1305516,"accept_rate":59,"display_name":"David says Reinstate Monica"},"score":0,"creation_date":1396888507,"post_id":22918059,"comment_id":34980426,"body_markdown":"You could also just spawn off another thread.","body":"You could also just spawn off another thread."}],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1682536549,"creation_date":1396888492,"answer_id":22918122,"question_id":22918059,"body_markdown":"You can use [ScheduledThreadPoolExecutor][1]. For example:\r\n\r\n```java\r\nvar scheduler = Executors.newScheduledThreadPool(1);\r\n\r\n\r\nvar scheduledFuture = scheduler.schedule(this::method,  5, TimeUnit.SECONDS);\r\n\r\n\r\npublic String method() {\r\n    System.out.println(&quot;Executed!&quot;);\r\n    return &quot;Called!&quot;;\r\n}\r\n```\r\n\r\nFirst a `ScheduledExecutorService` is created with one thread in. \r\n\r\nThen an anonymous implementation of the `Callable` interface is created and passed to the `schedule()` method. The two last parameters specify that the `Callable` should be executed after 5 seconds.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html\r\n","title":"Is there any alternative to Thread.sleep()?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ScheduledThreadPoolExecutor</a>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var scheduler = Executors.newScheduledThreadPool(1);\n\n\nvar scheduledFuture = scheduler.schedule(this::method,  5, TimeUnit.SECONDS);\n\n\npublic String method() {\n    System.out.println(&quot;Executed!&quot;);\n    return &quot;Called!&quot;;\n}\n</code></pre>\n<p>First a <code>ScheduledExecutorService</code> is created with one thread in.</p>\n<p>Then an anonymous implementation of the <code>Callable</code> interface is created and passed to the <code>schedule()</code> method. The two last parameters specify that the <code>Callable</code> should be executed after 5 seconds.</p>\n"}],"owner":{"account_id":1820811,"reputation":6166,"user_id":1654930,"accept_rate":71,"display_name":"Phate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2031,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22918122,"answer_count":1,"score":2,"last_activity_date":1682536549,"creation_date":1396888293,"question_id":22918059,"body_markdown":"I need to perform some waiting between one call and another.\r\nProblem is that this waiting will be made in a library so it is not a good practice to put a Thread.sleep() there. No swing involved, this library is a jna interface.\r\n\r\nSo..is there any alternative suited for my case?","title":"Is there any alternative to Thread.sleep()?","body":"<p>I need to perform some waiting between one call and another.\nProblem is that this waiting will be made in a library so it is not a good practice to put a Thread.sleep() there. No swing involved, this library is a jna interface.</p>\n\n<p>So..is there any alternative suited for my case?</p>\n"},{"tags":["java","spring-boot","yaml","springdoc-openapi-maven-plugin"],"comments":[{"owner":{"account_id":4476677,"reputation":2544,"user_id":3641635,"display_name":"Zilog80"},"score":0,"creation_date":1696844456,"post_id":76114262,"comment_id":136200296,"body_markdown":"You must add two execution goals as pre and post integration tests to the spring-boot-maven-plugin: start and stop. The springdoc-openapi-maven-plugin needs spring-boot to start a local server to produce the docs as it is mean to operate at runtime.","body":"You must add two execution goals as pre and post integration tests to the spring-boot-maven-plugin: start and stop. The springdoc-openapi-maven-plugin needs spring-boot to start a local server to produce the docs as it is mean to operate at runtime."}],"owner":{"account_id":7347810,"reputation":389,"user_id":5594989,"accept_rate":83,"display_name":"Sergio Antonio Snchez Camarero"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682536165,"creation_date":1682536050,"question_id":76114262,"body_markdown":"I&#39;m trying to generate a file openapi.yaml with the correct annotation and with the &quot;springdoc-openapi-maven-plugin:1.4&quot;\r\nThe project is structured in a hexagonal architecture ande the dependency and plugin are on a submodule of rest package.\r\nI have tested this plugin in the step with a simple architecture and it worked but with this hexagonal architecture not work.\r\n\r\nI&#39;m ussing this dependencys:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\nAnd I have this plugin:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n       &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;1.4&lt;/version&gt;\r\n       &lt;executions&gt;\r\n          &lt;execution&gt;\r\n             &lt;phase&gt;integration-test&lt;/phase&gt;\r\n             &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n             &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n       &lt;configuration&gt;\r\n          &lt;apiDocsUrl&gt;http://localhost:8080/v3/api-docs&lt;/apiDocsUrl&gt;\r\n          &lt;outputFileName&gt;openapi.yaml&lt;/outputFileName&gt;\r\n          &lt;outputDir&gt;${project.basedir}/src/main/resources&lt;/outputDir&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAnd when I execute &quot;generate&quot; of the plugin, this returned this: \r\n\r\n\r\n\r\n    [INFO] --- springdoc-openapi-maven-plugin:1.4:generate (default-cli) @ server-api-openapi ---\r\n    [ERROR] An error has occured\r\n    java.net.ConnectException: Connection refused\r\n        at sun.nio.ch.Net.connect0 (Native Method)\r\n        at sun.nio.ch.Net.connect (Net.java:579)\r\n        at sun.nio.ch.Net.connect (Net.java:568)\r\n        at sun.nio.ch.NioSocketImpl.connect (NioSocketImpl.java:588)\r\n        at java.net.Socket.connect (Socket.java:633)\r\n        at java.net.Socket.connect (Socket.java:583)\r\n        at sun.net.NetworkClient.doConnect (NetworkClient.java:183)\r\n        at sun.net.www.http.HttpClient.openServer (HttpClient.java:531)\r\n        at sun.net.www.http.HttpClient.openServer (HttpClient.java:636)\r\n        at sun.net.www.http.HttpClient.&lt;init&gt; (HttpClient.java:279)\r\n        at sun.net.www.http.HttpClient.New (HttpClient.java:384)\r\n        at sun.net.www.http.HttpClient.New (HttpClient.java:406)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient (HttpURLConnection.java:1309)\r\n        at sun.net.www.protocol.http.HttpURLConnection.plainConnect0 (HttpURLConnection.java:1242)\r\n        at sun.net.www.protocol.http.HttpURLConnection.plainConnect (HttpURLConnection.java:1128)\r\n        at sun.net.www.protocol.http.HttpURLConnection.connect (HttpURLConnection.java:1057)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream0 (HttpURLConnection.java:1665)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream (HttpURLConnection.java:1589)\r\n        at java.net.HttpURLConnection.getResponseCode (HttpURLConnection.java:529)\r\n        at org.springdoc.maven.plugin.SpringDocMojo.execute (SpringDocMojo.java:110)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n\r\nCould anyone help me?\r\n\r\nThanks","title":"Generate OpenApi 3 with annotation SpringBoot v3","body":"<p>I'm trying to generate a file openapi.yaml with the correct annotation and with the &quot;springdoc-openapi-maven-plugin:1.4&quot;\nThe project is structured in a hexagonal architecture ande the dependency and plugin are on a submodule of rest package.\nI have tested this plugin in the step with a simple architecture and it worked but with this hexagonal architecture not work.</p>\n<p>I'm ussing this dependencys:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>And I have this plugin:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n   &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;1.4&lt;/version&gt;\n   &lt;executions&gt;\n      &lt;execution&gt;\n         &lt;phase&gt;integration-test&lt;/phase&gt;\n         &lt;goals&gt;\n            &lt;goal&gt;generate&lt;/goal&gt;\n         &lt;/goals&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n   &lt;configuration&gt;\n      &lt;apiDocsUrl&gt;http://localhost:8080/v3/api-docs&lt;/apiDocsUrl&gt;\n      &lt;outputFileName&gt;openapi.yaml&lt;/outputFileName&gt;\n      &lt;outputDir&gt;${project.basedir}/src/main/resources&lt;/outputDir&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And when I execute &quot;generate&quot; of the plugin, this returned this:</p>\n<pre><code>[INFO] --- springdoc-openapi-maven-plugin:1.4:generate (default-cli) @ server-api-openapi ---\n[ERROR] An error has occured\njava.net.ConnectException: Connection refused\n    at sun.nio.ch.Net.connect0 (Native Method)\n    at sun.nio.ch.Net.connect (Net.java:579)\n    at sun.nio.ch.Net.connect (Net.java:568)\n    at sun.nio.ch.NioSocketImpl.connect (NioSocketImpl.java:588)\n    at java.net.Socket.connect (Socket.java:633)\n    at java.net.Socket.connect (Socket.java:583)\n    at sun.net.NetworkClient.doConnect (NetworkClient.java:183)\n    at sun.net.www.http.HttpClient.openServer (HttpClient.java:531)\n    at sun.net.www.http.HttpClient.openServer (HttpClient.java:636)\n    at sun.net.www.http.HttpClient.&lt;init&gt; (HttpClient.java:279)\n    at sun.net.www.http.HttpClient.New (HttpClient.java:384)\n    at sun.net.www.http.HttpClient.New (HttpClient.java:406)\n    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient (HttpURLConnection.java:1309)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect0 (HttpURLConnection.java:1242)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect (HttpURLConnection.java:1128)\n    at sun.net.www.protocol.http.HttpURLConnection.connect (HttpURLConnection.java:1057)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0 (HttpURLConnection.java:1665)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream (HttpURLConnection.java:1589)\n    at java.net.HttpURLConnection.getResponseCode (HttpURLConnection.java:529)\n    at org.springdoc.maven.plugin.SpringDocMojo.execute (SpringDocMojo.java:110)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n</code></pre>\n<p>Could anyone help me?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","maven","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1682536485,"post_id":76114227,"comment_id":134233475,"body_markdown":"you can enable spring DEBUG level logs and post them in full here so we can see the reason for the 401. Also, `WebSecurityConfigurerAdapter` is deprecated, and you should upgrade to spring boot 3 and Spring Security 6. Also is there any reason to why you are not using the built in handling of JWTs that already comes with spring security? https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html and here is an example https://github.com/Tandolf/spring-security-jwt-demo","body":"you can enable spring DEBUG level logs and post them in full here so we can see the reason for the 401. Also, <code>WebSecurityConfigurerAdapter</code> is deprecated, and you should upgrade to spring boot 3 and Spring Security 6. Also is there any reason to why you are not using the built in handling of JWTs that already comes with spring security? <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a> and here is an example <a href=\"https://github.com/Tandolf/spring-security-jwt-demo\" rel=\"nofollow noreferrer\">github.com/Tandolf/spring-security-jwt-demo</a>"}],"owner":{"account_id":25845523,"reputation":45,"user_id":19580434,"display_name":"HelloTy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682535790,"creation_date":1682535790,"question_id":76114227,"body_markdown":"I&#39;m trying to bundle my React and Springboot Project to run on the same port. Whenever I run them separately, it works fine. React running on 3000 and springboot server running on 8080. However, whenever I try to run the JAR file I get a 401 error. I have the maven resources plugin copying the frontend files to the static folder. How can I solve this error? All my security files down below...\r\n\r\n**SecurityConfig.java**\r\n```\r\n@Configuration\r\n@EnableWebSecurity(debug = true)\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@EnableWebMvc\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    public static final String[] PUBLIC_URL={\r\n            &quot;/index.html&quot;, &quot;/&quot;, &quot;/home&quot;,&quot;/login&quot;,\r\n            &quot;/api/v1/auth/register&quot;,\r\n            &quot;/api/v1/auth/authenticate&quot;,\r\n            &quot;/api/v1/articles/**&quot;,\r\n            &quot;/api/v1/comments/get/**&quot;,\r\n            &quot;/api/v1/contact/**&quot;,\r\n            &quot;/api/v1/admin/login&quot;,\r\n            &quot;/api/v1/file/**&quot;,\r\n            &quot;/api/v1/seller/login**&quot;\r\n    };\r\n    @Autowired\r\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    @Autowired\r\n    private CustomUserDetailService customUserDetailService;\r\n\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .antMatchers(PUBLIC_URL).permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(customUserDetailService).passwordEncoder(passwordEncoder);\r\n\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n}\r\n```\r\n**JwtAuthenticationEntryPoint.java**\r\n```\r\n@Component\r\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response,\r\n                         AuthenticationException authException) throws IOException, ServletException {\r\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED,&quot;Access Denined !&quot;);\r\n\r\n    }\r\n}\r\n```\r\n**JWTAuthenticationfilter.java**\r\n```\r\n@Component\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private JwtTokenHelper jwtTokenHelper;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) {\r\n\r\n        String requestToken = request.getHeader(&quot;Authorization&quot;);\r\n        System.out.println(requestToken);\r\n\r\n        String username = null;\r\n        String token = null;\r\n\r\n        if (requestToken != null &amp;&amp; requestToken.startsWith(&quot;Bearer&quot;)) {\r\n\r\n            token = requestToken.substring(7);\r\n\r\n            try {\r\n                username = jwtTokenHelper.extractUsername(token);\r\n            } catch (IllegalArgumentException r) {\r\n                System.out.println(&quot;Unable to get Jwt token&quot;);\r\n            } catch (ExpiredJwtException e) {\r\n                System.out.println(&quot;Token has expired&quot;);\r\n            } catch (MalformedJwtException e) {\r\n                System.out.println(&quot;invalid jwt&quot;);\r\n\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Jwt token does not start with Bearer&quot;);\r\n        }\r\n\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n            if (jwtTokenHelper.validateToken(token, userDetails)) {\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken=new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\r\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n            } else {\r\n                System.out.println(&quot;invalid jwt&quot;);\r\n\r\n            }\r\n\r\n        } else {\r\n            System.out.println(&quot;invalid jwt&quot;);\r\n\r\n        }\r\n\r\n        try {\r\n            filterChain.doFilter(request,response);\r\n        } catch (IOException e) {\r\n            System.out.println(e);\r\n            throw new RuntimeException(e);\r\n        } catch (ServletException e) {\r\n            System.out.println(e);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n**Pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;GameReviewz&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;GameReviewz&lt;/name&gt;\r\n    &lt;description&gt;SpringBoot Application for GameReviewz&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;from&gt;\r\n                        &lt;image&gt;openjdk:17&lt;/image&gt;\r\n                    &lt;/from&gt;\r\n                    &lt;container&gt;\r\n                        &lt;ports&gt;\r\n                            &lt;port&gt;8080&lt;/port&gt;\r\n                        &lt;/ports&gt;\r\n                        &lt;format&gt;OCI&lt;/format&gt;\r\n                    &lt;/container&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;build-frontend&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;!-- Use the latest released version:\r\n                                  https://repo1.maven.org/maven2/com/github/eirslett/frontend-maven-plugin/ --&gt;\r\n                        &lt;version&gt;1.12.1&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;nodeVersion&gt;v4.6.0&lt;/nodeVersion&gt;\r\n                            &lt;workingDirectory&gt;src/frontend&lt;/workingDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;install node and npm&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;nodeVersion&gt;v16.16.0&lt;/nodeVersion&gt;\r\n                                    &lt;npmVersion&gt;8.11.0&lt;/npmVersion&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;npm install&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;arguments&gt;install&lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;npm run build&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;arguments&gt;run build&lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;copy-build-folder&lt;/id&gt;\r\n                                &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;resources&gt;\r\n                                        &lt;resource&gt;\r\n                                            &lt;directory&gt;src/frontend/build&lt;/directory&gt;\r\n                                        &lt;/resource&gt;\r\n                                    &lt;/resources&gt;\r\n                                    &lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n ","title":"Bundle React and Springboot Project","body":"<p>I'm trying to bundle my React and Springboot Project to run on the same port. Whenever I run them separately, it works fine. React running on 3000 and springboot server running on 8080. However, whenever I try to run the JAR file I get a 401 error. I have the maven resources plugin copying the frontend files to the static folder. How can I solve this error? All my security files down below...</p>\n<p><strong>SecurityConfig.java</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity(debug = true)\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@EnableWebMvc\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    public static final String[] PUBLIC_URL={\n            &quot;/index.html&quot;, &quot;/&quot;, &quot;/home&quot;,&quot;/login&quot;,\n            &quot;/api/v1/auth/register&quot;,\n            &quot;/api/v1/auth/authenticate&quot;,\n            &quot;/api/v1/articles/**&quot;,\n            &quot;/api/v1/comments/get/**&quot;,\n            &quot;/api/v1/contact/**&quot;,\n            &quot;/api/v1/admin/login&quot;,\n            &quot;/api/v1/file/**&quot;,\n            &quot;/api/v1/seller/login**&quot;\n    };\n    @Autowired\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    @Autowired\n    private CustomUserDetailService customUserDetailService;\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .antMatchers(PUBLIC_URL).permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(customUserDetailService).passwordEncoder(passwordEncoder);\n\n    }\n\n\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p><strong>JwtAuthenticationEntryPoint.java</strong></p>\n<pre><code>@Component\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response,\n                         AuthenticationException authException) throws IOException, ServletException {\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED,&quot;Access Denined !&quot;);\n\n    }\n}\n</code></pre>\n<p><strong>JWTAuthenticationfilter.java</strong></p>\n<pre><code>@Component\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    private JwtTokenHelper jwtTokenHelper;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) {\n\n        String requestToken = request.getHeader(&quot;Authorization&quot;);\n        System.out.println(requestToken);\n\n        String username = null;\n        String token = null;\n\n        if (requestToken != null &amp;&amp; requestToken.startsWith(&quot;Bearer&quot;)) {\n\n            token = requestToken.substring(7);\n\n            try {\n                username = jwtTokenHelper.extractUsername(token);\n            } catch (IllegalArgumentException r) {\n                System.out.println(&quot;Unable to get Jwt token&quot;);\n            } catch (ExpiredJwtException e) {\n                System.out.println(&quot;Token has expired&quot;);\n            } catch (MalformedJwtException e) {\n                System.out.println(&quot;invalid jwt&quot;);\n\n            }\n        } else {\n            System.out.println(&quot;Jwt token does not start with Bearer&quot;);\n        }\n\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n            if (jwtTokenHelper.validateToken(token, userDetails)) {\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken=new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n            } else {\n                System.out.println(&quot;invalid jwt&quot;);\n\n            }\n\n        } else {\n            System.out.println(&quot;invalid jwt&quot;);\n\n        }\n\n        try {\n            filterChain.doFilter(request,response);\n        } catch (IOException e) {\n            System.out.println(e);\n            throw new RuntimeException(e);\n        } catch (ServletException e) {\n            System.out.println(e);\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p><strong>Pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;GameReviewz&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;GameReviewz&lt;/name&gt;\n    &lt;description&gt;SpringBoot Application for GameReviewz&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;from&gt;\n                        &lt;image&gt;openjdk:17&lt;/image&gt;\n                    &lt;/from&gt;\n                    &lt;container&gt;\n                        &lt;ports&gt;\n                            &lt;port&gt;8080&lt;/port&gt;\n                        &lt;/ports&gt;\n                        &lt;format&gt;OCI&lt;/format&gt;\n                    &lt;/container&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;build-frontend&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                        &lt;!-- Use the latest released version:\n                                  https://repo1.maven.org/maven2/com/github/eirslett/frontend-maven-plugin/ --&gt;\n                        &lt;version&gt;1.12.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;v4.6.0&lt;/nodeVersion&gt;\n                            &lt;workingDirectory&gt;src/frontend&lt;/workingDirectory&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;install node and npm&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;nodeVersion&gt;v16.16.0&lt;/nodeVersion&gt;\n                                    &lt;npmVersion&gt;8.11.0&lt;/npmVersion&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;npm install&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;install&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;npm run build&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;run build&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;copy-build-folder&lt;/id&gt;\n                                &lt;phase&gt;process-classes&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;copy-resources&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;resources&gt;\n                                        &lt;resource&gt;\n                                            &lt;directory&gt;src/frontend/build&lt;/directory&gt;\n                                        &lt;/resource&gt;\n                                    &lt;/resources&gt;\n                                    &lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","java-time","iso8601","datetimeoffset"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":5,"creation_date":1682415154,"post_id":76099560,"comment_id":134207729,"body_markdown":"Your observation is correct. Have you got a question? What is it? In the ISO 8601 standard the colon is optional. java.time including `ISO_DATE_TIME` parses *the most common* ISO 8601 variants, not all of them. The inability to parse the offset without the colon is probably the best known example of an ISO 8601 variant that is not parsed natively. If you need to parse it, you can build your own formatter as also shown under the question that you are linking to.","body":"Your observation is correct. Have you got a question? What is it? In the ISO 8601 standard the colon is optional. java.time including <code>ISO_DATE_TIME</code> parses <i>the most common</i> ISO 8601 variants, not all of them. The inability to parse the offset without the colon is probably the best known example of an ISO 8601 variant that is not parsed natively. If you need to parse it, you can build your own formatter as also shown under the question that you are linking to."},{"owner":{"account_id":9680846,"reputation":111,"user_id":7182619,"display_name":"Mohamed Afzal"},"score":0,"creation_date":1682415676,"post_id":76099560,"comment_id":134207855,"body_markdown":"As per the official documentation -&gt; There no mention of what you are claiming.\nhttps://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME.","body":"As per the official documentation -&gt; There no mention of what you are claiming. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/format/&hellip;</a>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1682416879,"post_id":76099560,"comment_id":134208151,"body_markdown":"&quot;As per the official documentation -&gt; There no mention of what you are claiming.&quot; follow the link for &quot;offset ID&quot; (3rd bullet). It says &quot;There are 3 formats&quot;, one of which is simply Z, the other two require a colon.","body":"&quot;As per the official documentation -&gt; There no mention of what you are claiming.&quot; follow the link for &quot;offset ID&quot; (3rd bullet). It says &quot;There are 3 formats&quot;, one of which is simply Z, the other two require a colon."},{"owner":{"account_id":9680846,"reputation":111,"user_id":7182619,"display_name":"Mohamed Afzal"},"score":0,"creation_date":1682421118,"post_id":76099560,"comment_id":134209068,"body_markdown":"@AndyTurner : yes Thanks for mentioning, in doc list the formats thats handled https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#getId--\nThe ID is minor variation to the standard ISO-8601 formatted string for the offset. There are three formats:\n\nZ - for UTC (ISO-8601)\n+hh:mm or -hh:mm - if the seconds are zero (ISO-8601)\n+hh:mm:ss or -hh:mm:ss - if the seconds are non-zero (not ISO-8601)","body":"@AndyTurner : yes Thanks for mentioning, in doc list the formats thats handled <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#getId--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a> The ID is minor variation to the standard ISO-8601 formatted string for the offset. There are three formats:  Z - for UTC (ISO-8601) +hh:mm or -hh:mm - if the seconds are zero (ISO-8601) +hh:mm:ss or -hh:mm:ss - if the seconds are non-zero (not ISO-8601)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1682421570,"post_id":76099560,"comment_id":134209171,"body_markdown":"Thanks for the question. I have pasted it into the question for you. More depth and clarity to your question is always welcome and should always be given as edits to your original question. You may then at-sign ping me (or who asked) in a comment if you find it appropriate to notify of the edit.","body":"Thanks for the question. I have pasted it into the question for you. More depth and clarity to your question is always welcome and should always be given as edits to your original question. You may then at-sign ping me (or who asked) in a comment if you find it appropriate to notify of the edit."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1682421953,"post_id":76099560,"comment_id":134209252,"body_markdown":"For why it doesn’t: We’d either have to enter into a guessing game or ask the original developers, Stephen Colebourne in particular. My interpretation is what I have already said: they deliberately chose to support the most common ISO variants and not all of them. Supporting all possible ISO 8601 formats would have been a **major** extension to java.time, so quite clearly not what they would want. And then they had to draw the line somewhere. In the big picture I personally find that leaving out the variant without colon in the offset seems fair.","body":"For why it doesn’t: We’d either have to enter into a guessing game or ask the original developers, Stephen Colebourne in particular. My interpretation is what I have already said: they deliberately chose to support the most common ISO variants and not all of them. Supporting all possible ISO 8601 formats would have been a <b>major</b> extension to java.time, so quite clearly not what they would want. And then they had to draw the line somewhere. In the big picture I personally find that leaving out the variant without colon in the offset seems fair."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682423444,"post_id":76099560,"comment_id":134209618,"body_markdown":"And to be honest, with the update your question was closed with the wrong reason, it is no more missing clarity, but should probably instead have been closed as opinion-based or unanswerable because it requires mind reading. Stack Overflow works well with questions that can be answered with facts, and unless we’re lucky to find an authoritative source for the design criteria of java.time, I’m afraid that this question can’t.","body":"And to be honest, with the update your question was closed with the wrong reason, it is no more missing clarity, but should probably instead have been closed as opinion-based or unanswerable because it requires mind reading. Stack Overflow works well with questions that can be answered with facts, and unless we’re lucky to find an authoritative source for the design criteria of java.time, I’m afraid that this question can’t."},{"owner":{"account_id":9680846,"reputation":111,"user_id":7182619,"display_name":"Mohamed Afzal"},"score":0,"creation_date":1682425248,"post_id":76099560,"comment_id":134210114,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253314/discussion-between-mohamed-afzal-and-ole-v-v).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253314/discussion-between-mohamed-afzal-and-ole-v-v\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682535668,"creation_date":1682517562,"answer_id":76111689,"question_id":76099560,"body_markdown":"The ISO-8601 standard has changed over the years. To my recollection, the offset without colon was only originally supported when using the basic ISO format where separators are omitted, eg. either use &quot;2022-03-17T23:00:00.000+00:00&quot; or &quot;20220317T230000.000+0000&quot; but not a mixture (2004 version of ISO-8601).\r\n\r\nFor the method in question, java.time supports the common ISO  format with separators. It was always the case that advanced use cases would need to create their own formatter, for which good support was designed. Key to the design of the method was the idea of round-tripping - the `parse(String)` method parses the output from `toString()` (unless using a specific formatter).","title":"Why can’t Java 8 DateTimeFormatter.ISO_DATE_TIME handle offset zone without colon in it, ISO standards have 4 Offset formats.?","body":"<p>The ISO-8601 standard has changed over the years. To my recollection, the offset without colon was only originally supported when using the basic ISO format where separators are omitted, eg. either use &quot;2022-03-17T23:00:00.000+00:00&quot; or &quot;20220317T230000.000+0000&quot; but not a mixture (2004 version of ISO-8601).</p>\n<p>For the method in question, java.time supports the common ISO  format with separators. It was always the case that advanced use cases would need to create their own formatter, for which good support was designed. Key to the design of the method was the idea of round-tripping - the <code>parse(String)</code> method parses the output from <code>toString()</code> (unless using a specific formatter).</p>\n"}],"owner":{"account_id":9680846,"reputation":111,"user_id":7182619,"display_name":"Mohamed Afzal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76111689,"answer_count":1,"score":0,"last_activity_date":1682535668,"creation_date":1682414550,"question_id":76099560,"body_markdown":"    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n        // date/time\r\n        .append(DateTimeFormatter.ISO_DATE_TIME)\r\n        .toFormatter();\r\n    \r\n    //can&#39;t handle the first example\r\n    \r\n    System.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000+0000&quot;, formatter));\r\n    System.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000+00&quot;, formatter));\r\n    System.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000+00:00&quot;, formatter));\r\n    System.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000Z&quot;, formatter));\r\n\r\nSolution / work around is in\r\nhttps://stackoverflow.com/questions/46487403/java-8-date-and-time-parse-iso-8601-string-without-colon-in-offset\r\n\r\nI am checking why Java 8 ISO_DATE_TIME can&#39;t handle the format which is an ISO Complaint -\r\nhttps://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators\r\n\r\n    &lt;time&gt;Z\r\n    &lt;time&gt;&#177;hh:mm\r\n    &lt;time&gt;&#177;hhmm\r\n    &lt;time&gt;&#177;hh\r\n\r\nMy question is simple and straightforward -&gt; Why is Java 8 not handling formats mentioned as part of ISO Standard ( only 4 ISO offset formats )?\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#getId--\r\n\r\n","title":"Why can’t Java 8 DateTimeFormatter.ISO_DATE_TIME handle offset zone without colon in it, ISO standards have 4 Offset formats.?","body":"<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    // date/time\n    .append(DateTimeFormatter.ISO_DATE_TIME)\n    .toFormatter();\n\n//can't handle the first example\n\nSystem.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000+0000&quot;, formatter));\nSystem.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000+00&quot;, formatter));\nSystem.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000+00:00&quot;, formatter));\nSystem.out.println(OffsetDateTime.parse(&quot;2022-03-17T23:00:00.000Z&quot;, formatter));\n</code></pre>\n<p>Solution / work around is in\n<a href=\"https://stackoverflow.com/questions/46487403/java-8-date-and-time-parse-iso-8601-string-without-colon-in-offset\">Java 8 Date and Time: parse ISO 8601 string without colon in offset</a></p>\n<p>I am checking why Java 8 ISO_DATE_TIME can't handle the format which is an ISO Complaint -\n<a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators</a></p>\n<pre><code>&lt;time&gt;Z\n&lt;time&gt;±hh:mm\n&lt;time&gt;±hhmm\n&lt;time&gt;±hh\n</code></pre>\n<p>My question is simple and straightforward -&gt; Why is Java 8 not handling formats mentioned as part of ISO Standard ( only 4 ISO offset formats )?</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME</a></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#getId--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#getId--</a></p>\n"},{"tags":["java","spring","project-reactor"],"owner":{"account_id":344269,"reputation":347,"user_id":676483,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682534684,"creation_date":1682534684,"question_id":76114078,"body_markdown":"I am trying to download several files from remote locations, adding them to a zip file and then sending the resulting zip file to another location. The files in the zip can be quite big, big enough to cause all kinds of buffer issues, so it really should be a streaming solution.\r\n\r\nWhat I have made so far works if I download the files in another thread, writing it to a PipedOutputStream which is connected to a PipedInputStream.\r\n\r\nSee this example:\r\n\r\n```java\r\nvoid test() throws IOException {\r\n    var outputLocation = &quot;http://localhost:5000/anything&quot;;\r\n    var pipedInputStream = new PipedInputStream();\r\n    var pipedOutputStream = new PipedOutputStream(pipedInputStream);\r\n\r\n    var thread = new Thread(() -&gt; {\r\n        try {\r\n            var zip = new ZipOutputStream(pipedOutputStream);\r\n\r\n            for (var i = 0; i &lt; 10; i++) {\r\n                // This should really be a web request for a remote file, which should\r\n                // return an InputStream that can be piped into the zip output stream\r\n                zip.putNextEntry(new ZipEntry(&quot;test&quot; + i + &quot;.txt&quot;));\r\n                new ByteArrayInputStream((&quot;Hello &quot; + i).getBytes())\r\n                    .transferTo(zip);\r\n                zip.closeEntry();\r\n            }\r\n\r\n            zip.close();\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    });\r\n\r\n    thread.start();\r\n\r\n    var response = webClient.post()\r\n        .uri(outputLocation)\r\n        .body(BodyInserters.fromResource(new InputStreamResource(pipedInputStream)))\r\n        .retrieve()\r\n        .bodyToMono(JsonNode.class)\r\n        .block();\r\n\r\n    System.out.println(&quot;Response: &quot; + response);\r\n}\r\n```\r\n\r\nWhat I am really wondering about is how to get this done in a more reactor appropriate way? \r\n\r\nAnother attempt I did was to first create the upload request, and subscribing to it, but the program finishes before it can say it is complete.\r\n\r\nSee\r\n```java\r\nvoid test2() throws IOException {\r\n    var outputLocation = &quot;http://localhost:5000/anything&quot;;\r\n    var pipedInputStream = new PipedInputStream();\r\n    var pipedOutputStream = new PipedOutputStream(pipedInputStream);\r\n\r\n    var response = webClient.post()\r\n        .uri(outputLocation)\r\n        .body(BodyInserters.fromResource(new InputStreamResource(pipedInputStream)))\r\n        .retrieve()\r\n        .bodyToMono(JsonNode.class)\r\n        .subscribe((a) -&gt; {\r\n            System.out.println(&quot;Completed&quot;);\r\n        });\r\n\r\n    try {\r\n        var zip = new ZipOutputStream(pipedOutputStream);\r\n\r\n        for (var i = 0; i &lt; 10; i++) {\r\n            // This should really be a web request for a remote file, which should\r\n            // return an InputStream that can be piped into the zip output stream\r\n            zip.putNextEntry(new ZipEntry(&quot;test&quot; + i + &quot;.txt&quot;));\r\n            // should be: downloadFile().transferTo(zip);\r\n            new ByteArrayInputStream((&quot;Hello &quot; + i).getBytes())\r\n                .transferTo(zip);\r\n            zip.closeEntry();\r\n        }\r\n\r\n        zip.close();\r\n    }\r\n    catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    // This method returns before the &quot;Completed&quot; part is outputted, due to how \r\n    // this whole system works. How do I &quot;block&quot; until the upload request is done?\r\n}\r\n```\r\n\r\nMy suspicion is that I should be creating some kind of Flux and passing that to the request as a body producer, but how would that even work?\r\n\r\n","title":"How can a spring WebClient response be piped, zipped and forwarded to another request?","body":"<p>I am trying to download several files from remote locations, adding them to a zip file and then sending the resulting zip file to another location. The files in the zip can be quite big, big enough to cause all kinds of buffer issues, so it really should be a streaming solution.</p>\n<p>What I have made so far works if I download the files in another thread, writing it to a PipedOutputStream which is connected to a PipedInputStream.</p>\n<p>See this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void test() throws IOException {\n    var outputLocation = &quot;http://localhost:5000/anything&quot;;\n    var pipedInputStream = new PipedInputStream();\n    var pipedOutputStream = new PipedOutputStream(pipedInputStream);\n\n    var thread = new Thread(() -&gt; {\n        try {\n            var zip = new ZipOutputStream(pipedOutputStream);\n\n            for (var i = 0; i &lt; 10; i++) {\n                // This should really be a web request for a remote file, which should\n                // return an InputStream that can be piped into the zip output stream\n                zip.putNextEntry(new ZipEntry(&quot;test&quot; + i + &quot;.txt&quot;));\n                new ByteArrayInputStream((&quot;Hello &quot; + i).getBytes())\n                    .transferTo(zip);\n                zip.closeEntry();\n            }\n\n            zip.close();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    });\n\n    thread.start();\n\n    var response = webClient.post()\n        .uri(outputLocation)\n        .body(BodyInserters.fromResource(new InputStreamResource(pipedInputStream)))\n        .retrieve()\n        .bodyToMono(JsonNode.class)\n        .block();\n\n    System.out.println(&quot;Response: &quot; + response);\n}\n</code></pre>\n<p>What I am really wondering about is how to get this done in a more reactor appropriate way?</p>\n<p>Another attempt I did was to first create the upload request, and subscribing to it, but the program finishes before it can say it is complete.</p>\n<p>See</p>\n<pre class=\"lang-java prettyprint-override\"><code>void test2() throws IOException {\n    var outputLocation = &quot;http://localhost:5000/anything&quot;;\n    var pipedInputStream = new PipedInputStream();\n    var pipedOutputStream = new PipedOutputStream(pipedInputStream);\n\n    var response = webClient.post()\n        .uri(outputLocation)\n        .body(BodyInserters.fromResource(new InputStreamResource(pipedInputStream)))\n        .retrieve()\n        .bodyToMono(JsonNode.class)\n        .subscribe((a) -&gt; {\n            System.out.println(&quot;Completed&quot;);\n        });\n\n    try {\n        var zip = new ZipOutputStream(pipedOutputStream);\n\n        for (var i = 0; i &lt; 10; i++) {\n            // This should really be a web request for a remote file, which should\n            // return an InputStream that can be piped into the zip output stream\n            zip.putNextEntry(new ZipEntry(&quot;test&quot; + i + &quot;.txt&quot;));\n            // should be: downloadFile().transferTo(zip);\n            new ByteArrayInputStream((&quot;Hello &quot; + i).getBytes())\n                .transferTo(zip);\n            zip.closeEntry();\n        }\n\n        zip.close();\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    // This method returns before the &quot;Completed&quot; part is outputted, due to how \n    // this whole system works. How do I &quot;block&quot; until the upload request is done?\n}\n</code></pre>\n<p>My suspicion is that I should be creating some kind of Flux and passing that to the request as a body producer, but how would that even work?</p>\n"},{"tags":["java","android","jdbc"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1682530144,"post_id":76113511,"comment_id":134232270,"body_markdown":"Why don&#39;t you use `COALESCE` in the query instead?","body":"Why don&#39;t you use <code>COALESCE</code> in the query instead?"},{"owner":{"account_id":6024811,"reputation":351,"user_id":5518907,"accept_rate":30,"display_name":"Сергей Соколов"},"score":0,"creation_date":1682530333,"post_id":76113511,"comment_id":134232312,"body_markdown":"I understand MySQL way too, but the question is about java way.","body":"I understand MySQL way too, but the question is about java way."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682532922,"post_id":76113511,"comment_id":134232828,"body_markdown":"It’s not beautiful, but if you prefer: `Optional.ofNullable(rs.getString(&quot;column&quot;)).orElse(&quot;&quot;)`.","body":"It’s not beautiful, but if you prefer: <code>Optional.ofNullable(rs.getString(&quot;column&quot;)).orElse(&quot;&quot;)</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682558334,"post_id":76113511,"comment_id":134236472,"body_markdown":"Better than using `Optional` is `Objects.requireNonNullElse(rs.getString(&quot;column&quot;), &quot;&quot;)` was this what you were after?","body":"Better than using <code>Optional</code> is <code>Objects.requireNonNullElse(rs.getString(&quot;column&quot;), &quot;&quot;)</code> was this what you were after?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1688846868,"post_id":76113511,"comment_id":135129869,"body_markdown":"you can create a function that accepts resultset and index and return string or &quot;&quot;, like: getStringFromResultSet(rs, index)","body":"you can create a function that accepts resultset and index and return string or &quot;&quot;, like: getStringFromResultSet(rs, index)"}],"answers":[{"tags":[],"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682533342,"creation_date":1682533342,"answer_id":76113929,"question_id":76113511,"body_markdown":"If the only downside of the last solution that you proposed is complex syntax, why not create a function like this?\r\n\r\n    private String getStringOrNull(String columnName) {\r\n        String output = rs.getString(&quot;column&quot;);\r\n        return output == null ? &quot;&quot; : output;\r\n    }\r\n\r\nOr if you don&#39;t want extract the separate function, you can use `Optional` instead:\r\n\r\n    String output = Optional.ofNullable(rs.getString(&quot;column&quot;)).orElse(&quot;&quot;);\r\n\r\n","title":"Simplest way to get correct string from ResultSet, or empty string if null","body":"<p>If the only downside of the last solution that you proposed is complex syntax, why not create a function like this?</p>\n<pre><code>private String getStringOrNull(String columnName) {\n    String output = rs.getString(&quot;column&quot;);\n    return output == null ? &quot;&quot; : output;\n}\n</code></pre>\n<p>Or if you don't want extract the separate function, you can use <code>Optional</code> instead:</p>\n<pre><code>String output = Optional.ofNullable(rs.getString(&quot;column&quot;)).orElse(&quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":6024811,"reputation":351,"user_id":5518907,"accept_rate":30,"display_name":"Сергей Соколов"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682533342,"creation_date":1682529827,"question_id":76113511,"body_markdown":"I have some ResultSet from SELECT MySQL query. The value is string, but it can be null. What is the simplest and shortest way to get correct string from ResultSet, or empty string if null?\r\n\r\n    String.valueOf(rs.getObject(&quot;column&quot;));\r\n\r\nshort way, but may be, not correct and fast\r\n\r\n    output = rs.getString(&quot;column&quot;);\r\n    if(output == null){output= &quot;&quot;;}\r\n\r\nright way, but long, with additional variable, and not comfortable especially when I have to create parceble value from ResultSet - something like:\r\n\r\n    Discount.create(rs.getString(&quot;Code&quot;), rs.getString(&quot;Df&quot;), rs.getString(&quot;Di&quot;));\r\n\r\nAre there any other ideas? (I understand that I can make my parceble values nullable)","title":"Simplest way to get correct string from ResultSet, or empty string if null","body":"<p>I have some ResultSet from SELECT MySQL query. The value is string, but it can be null. What is the simplest and shortest way to get correct string from ResultSet, or empty string if null?</p>\n<pre><code>String.valueOf(rs.getObject(&quot;column&quot;));\n</code></pre>\n<p>short way, but may be, not correct and fast</p>\n<pre><code>output = rs.getString(&quot;column&quot;);\nif(output == null){output= &quot;&quot;;}\n</code></pre>\n<p>right way, but long, with additional variable, and not comfortable especially when I have to create parceble value from ResultSet - something like:</p>\n<pre><code>Discount.create(rs.getString(&quot;Code&quot;), rs.getString(&quot;Df&quot;), rs.getString(&quot;Di&quot;));\n</code></pre>\n<p>Are there any other ideas? (I understand that I can make my parceble values nullable)</p>\n"},{"tags":["java","shortest-path","jgrapht"],"comments":[{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1682526176,"post_id":76111418,"comment_id":134231319,"body_markdown":"@nohanon Is there an order in which you want to visit those obligatory vertices, i.e.: in your example, are you looking for a shortest path where vertices B and D are visited consecutively somewhere along the path from A to F, or are you looking for a shortest path that connects A to F that also visits B and D somewhere along that route but not necessarily consecutively or in that specific order?","body":"@nohanon Is there an order in which you want to visit those obligatory vertices, i.e.: in your example, are you looking for a shortest path where vertices B and D are visited consecutively somewhere along the path from A to F, or are you looking for a shortest path that connects A to F that also visits B and D somewhere along that route but not necessarily consecutively or in that specific order?"},{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1682526249,"post_id":76111418,"comment_id":134231347,"body_markdown":"JGraphT doesn&#39;t have a class `ConstrainedShortestPathAlgorithm` or anything similar. This code generated by chatGPT is impressive though. If JGraphT were to have such a class, this is exactly how we would have implemented it :)","body":"JGraphT doesn&#39;t have a class <code>ConstrainedShortestPathAlgorithm</code> or anything similar. This code generated by chatGPT is impressive though. If JGraphT were to have such a class, this is exactly how we would have implemented it :)"},{"owner":{"account_id":28423553,"reputation":19,"user_id":21745278,"display_name":"nohahanon"},"score":0,"creation_date":1682551030,"post_id":76111418,"comment_id":134235796,"body_markdown":"@JorisKinbable &gt;&gt; Is there an order in which you want to visit those obligatory vertices\n: yes\n&gt;&gt; not necessarily consecutively or in that specific order? :\nyes","body":"@JorisKinbable &gt;&gt; Is there an order in which you want to visit those obligatory vertices : yes &gt;&gt; not necessarily consecutively or in that specific order? : yes"},{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1683578702,"post_id":76111418,"comment_id":134385463,"body_markdown":"Did the answer below answer your question? If so, click the &#39;accept&#39; answer button. If not, consider indicating what&#39;s missing.","body":"Did the answer below answer your question? If so, click the &#39;accept&#39; answer button. If not, consider indicating what&#39;s missing."}],"answers":[{"tags":[],"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682533210,"creation_date":1682528945,"answer_id":76113398,"question_id":76111418,"body_markdown":"JGraphT does not have a class `ConstrainedShortestPathAlgorithm`, perhaps in the future. I assume that you are looking for a shortest path that (i) connects your source and target vertices and (ii) a pre-specified subset of &#39;obligatory&#39; vertices are visited along that path, but not necessary in that order. So in your example, a shortest path could be A-D-E-B-F. In this path, vertices B and D are visited, but not in this order.\r\n\r\nClaim: this problem is NP-hard. Proof: Pick a traveling salesman problem instance, add 2 vertices, say S and T, and connect them to all other vertices with zero cost. Then find a shortest path from S to T, that must pass through all other vertices in the graph. The resulting problem would solve your TSP problem.\r\n\r\nSince your problem is NP-hard, depending on the graph it would make solving this problem quite challenging. Nevertheless, to solve your problem, here&#39;s 2 alternative solution approaches:\r\n\r\n1. Create a new, undirected graph, say G&#39;, containing your source vertex S, target vertex T and all obligatory vertices. Next, add edge (S,T) with weight 0. For every other pair of vertices i and j in G&#39;, compute the shortest path from i to j in your original graph G using any shortest path algorithm (e.g. Dijkstra&#39;s algorithm). If such path exists, add edge (i,j) to G&#39; and set its weight equal to the length of the shortest path. Omit edge (i,j) if no such shortest path exists. Finally, solve a Traveling Salesman Problem on the resulting graph G&#39;. This will provide you with an optimal order in which you have to visit your vertices.  As a final step, you would have to reconstruct a solution in terms of the original graph G. As per example, imagine that your TSP tour would be: A-D-B-F. The optimal solution would then be a concatenation of the shortest paths: P(A,D) - P(D,B) - P(B-F), where P(i,j) is the shortest path from i to j in G.\r\n\r\n2. A heuristic but easy way to solve your problem is to first order your set of obligatory vertices, and then find a shortest path between them. This works particularly well on map-based graphs. Imagine you want to compute a shortest-path roadtrip that starts in Amsterdam and ends Rome. Along the way you want to visit Paris and Brussels. In this example, {Paris,Brussels} are your obligatory vertices. You could simply order the set of obligatory vertices, e.g. &#39;go to the nearest city first&#39;. From Amsterdam, the nearest city in your obligatory set is Brussels. The second nearest city is Paris. So you would want to visit Brussels first, and then Paris. You could then compute the shortest path Amsterdam to Brussels, add to that the shortest path from Brussels to Paris, and finally add to that the shortest path from Paris to Rome. For geographical networks this could work very well.\r\n\r\nNote: both approaches can be implemented in JGraphT. The first approach requires a shortest path algorithm and an algorithm to solve TSP problems, the 2nd approach only uses shortest path algorithms. JGraphT has both. W.r.t. TSP algorithms, JGraphT has both exact and heuristic algorithms. The scalability of JGraphT&#39;s exact TSP algorithm is limited; if you would need to solve really large instances, you&#39;d be better of using the Concorde TSP solver.","title":"How to find a shortest path that must pass through a predefined subset of vertices","body":"<p>JGraphT does not have a class <code>ConstrainedShortestPathAlgorithm</code>, perhaps in the future. I assume that you are looking for a shortest path that (i) connects your source and target vertices and (ii) a pre-specified subset of 'obligatory' vertices are visited along that path, but not necessary in that order. So in your example, a shortest path could be A-D-E-B-F. In this path, vertices B and D are visited, but not in this order.</p>\n<p>Claim: this problem is NP-hard. Proof: Pick a traveling salesman problem instance, add 2 vertices, say S and T, and connect them to all other vertices with zero cost. Then find a shortest path from S to T, that must pass through all other vertices in the graph. The resulting problem would solve your TSP problem.</p>\n<p>Since your problem is NP-hard, depending on the graph it would make solving this problem quite challenging. Nevertheless, to solve your problem, here's 2 alternative solution approaches:</p>\n<ol>\n<li><p>Create a new, undirected graph, say G', containing your source vertex S, target vertex T and all obligatory vertices. Next, add edge (S,T) with weight 0. For every other pair of vertices i and j in G', compute the shortest path from i to j in your original graph G using any shortest path algorithm (e.g. Dijkstra's algorithm). If such path exists, add edge (i,j) to G' and set its weight equal to the length of the shortest path. Omit edge (i,j) if no such shortest path exists. Finally, solve a Traveling Salesman Problem on the resulting graph G'. This will provide you with an optimal order in which you have to visit your vertices.  As a final step, you would have to reconstruct a solution in terms of the original graph G. As per example, imagine that your TSP tour would be: A-D-B-F. The optimal solution would then be a concatenation of the shortest paths: P(A,D) - P(D,B) - P(B-F), where P(i,j) is the shortest path from i to j in G.</p>\n</li>\n<li><p>A heuristic but easy way to solve your problem is to first order your set of obligatory vertices, and then find a shortest path between them. This works particularly well on map-based graphs. Imagine you want to compute a shortest-path roadtrip that starts in Amsterdam and ends Rome. Along the way you want to visit Paris and Brussels. In this example, {Paris,Brussels} are your obligatory vertices. You could simply order the set of obligatory vertices, e.g. 'go to the nearest city first'. From Amsterdam, the nearest city in your obligatory set is Brussels. The second nearest city is Paris. So you would want to visit Brussels first, and then Paris. You could then compute the shortest path Amsterdam to Brussels, add to that the shortest path from Brussels to Paris, and finally add to that the shortest path from Paris to Rome. For geographical networks this could work very well.</p>\n</li>\n</ol>\n<p>Note: both approaches can be implemented in JGraphT. The first approach requires a shortest path algorithm and an algorithm to solve TSP problems, the 2nd approach only uses shortest path algorithms. JGraphT has both. W.r.t. TSP algorithms, JGraphT has both exact and heuristic algorithms. The scalability of JGraphT's exact TSP algorithm is limited; if you would need to solve really large instances, you'd be better of using the Concorde TSP solver.</p>\n"}],"owner":{"account_id":28423553,"reputation":19,"user_id":21745278,"display_name":"nohahanon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76113398,"answer_count":1,"score":0,"last_activity_date":1682533210,"creation_date":1682516130,"question_id":76111418,"body_markdown":"I wanna get the shortest path with specifying vertices that must be passed. I asked chatGPT to solve it and I got a code but a library doesn&#39;t exist: org.jgrapht.alg.shortestpath.ConstrainedShortestPathAlgorithm\r\nWhat is the instead library? Or what is correct code?\r\n\r\n```\r\nimport org.jgrapht.Graph;\r\nimport org.jgrapht.GraphPath;\r\nimport org.jgrapht.alg.shortestpath.ConstrainedShortestPathAlgorithm;\r\nimport org.jgrapht.graph.DefaultWeightedEdge;\r\nimport org.jgrapht.graph.SimpleWeightedGraph;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        // Create a simple weighted graph\r\n        Graph&lt;String, DefaultWeightedEdge&gt; graph = new SimpleWeightedGraph&lt;&gt;(DefaultWeightedEdge.class);\r\n\r\n        // Add vertices\r\n        List&lt;String&gt; vertices = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;);\r\n        for (String vertex : vertices)\r\n            graph.addVertex(vertex);\r\n\r\n        // Add edges with weights\r\n        graph.setEdgeWeight(graph.addEdge(&quot;A&quot;, &quot;B&quot;), 3);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;A&quot;, &quot;C&quot;), 1);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;B&quot;, &quot;C&quot;), 1);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;B&quot;, &quot;D&quot;), 2);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;C&quot;, &quot;D&quot;), 2);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;C&quot;, &quot;E&quot;), 4);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;D&quot;, &quot;F&quot;), 3);\r\n        graph.setEdgeWeight(graph.addEdge(&quot;E&quot;, &quot;F&quot;), 2);\r\n\r\n        // Set constraints to pass through vertices &quot;B&quot; and &quot;D&quot;\r\n        Set&lt;String&gt; constraints = new HashSet&lt;&gt;(Arrays.asList(&quot;B&quot;, &quot;D&quot;));\r\n\r\n        // Find the shortest path while passing through the specified constraints\r\n        ConstrainedShortestPathAlgorithm&lt;String, DefaultWeightedEdge&gt; cspa = new ConstrainedShortestPathAlgorithm&lt;&gt;(\r\n                graph);\r\n        GraphPath&lt;String, DefaultWeightedEdge&gt; shortestPath = cspa.getShortestPath(&quot;A&quot;, &quot;F&quot;,\r\n                new VertexSetConstraint&lt;&gt;(constraints));\r\n\r\n        // Print the shortest path\r\n        System.out.println(&quot;Shortest path while passing through vertices &quot; + constraints + &quot;: &quot;\r\n                + shortestPath.getVertexList() + &quot;, weight=&quot; + shortestPath.getWeight());\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m using jgrapht-1.5.1.\r\nI checked folders but the library doesn&#39;t exist.","title":"How to find a shortest path that must pass through a predefined subset of vertices","body":"<p>I wanna get the shortest path with specifying vertices that must be passed. I asked chatGPT to solve it and I got a code but a library doesn't exist: org.jgrapht.alg.shortestpath.ConstrainedShortestPathAlgorithm\nWhat is the instead library? Or what is correct code?</p>\n<pre><code>import org.jgrapht.Graph;\nimport org.jgrapht.GraphPath;\nimport org.jgrapht.alg.shortestpath.ConstrainedShortestPathAlgorithm;\nimport org.jgrapht.graph.DefaultWeightedEdge;\nimport org.jgrapht.graph.SimpleWeightedGraph;\n\nimport java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        // Create a simple weighted graph\n        Graph&lt;String, DefaultWeightedEdge&gt; graph = new SimpleWeightedGraph&lt;&gt;(DefaultWeightedEdge.class);\n\n        // Add vertices\n        List&lt;String&gt; vertices = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;);\n        for (String vertex : vertices)\n            graph.addVertex(vertex);\n\n        // Add edges with weights\n        graph.setEdgeWeight(graph.addEdge(&quot;A&quot;, &quot;B&quot;), 3);\n        graph.setEdgeWeight(graph.addEdge(&quot;A&quot;, &quot;C&quot;), 1);\n        graph.setEdgeWeight(graph.addEdge(&quot;B&quot;, &quot;C&quot;), 1);\n        graph.setEdgeWeight(graph.addEdge(&quot;B&quot;, &quot;D&quot;), 2);\n        graph.setEdgeWeight(graph.addEdge(&quot;C&quot;, &quot;D&quot;), 2);\n        graph.setEdgeWeight(graph.addEdge(&quot;C&quot;, &quot;E&quot;), 4);\n        graph.setEdgeWeight(graph.addEdge(&quot;D&quot;, &quot;F&quot;), 3);\n        graph.setEdgeWeight(graph.addEdge(&quot;E&quot;, &quot;F&quot;), 2);\n\n        // Set constraints to pass through vertices &quot;B&quot; and &quot;D&quot;\n        Set&lt;String&gt; constraints = new HashSet&lt;&gt;(Arrays.asList(&quot;B&quot;, &quot;D&quot;));\n\n        // Find the shortest path while passing through the specified constraints\n        ConstrainedShortestPathAlgorithm&lt;String, DefaultWeightedEdge&gt; cspa = new ConstrainedShortestPathAlgorithm&lt;&gt;(\n                graph);\n        GraphPath&lt;String, DefaultWeightedEdge&gt; shortestPath = cspa.getShortestPath(&quot;A&quot;, &quot;F&quot;,\n                new VertexSetConstraint&lt;&gt;(constraints));\n\n        // Print the shortest path\n        System.out.println(&quot;Shortest path while passing through vertices &quot; + constraints + &quot;: &quot;\n                + shortestPath.getVertexList() + &quot;, weight=&quot; + shortestPath.getWeight());\n    }\n}\n</code></pre>\n<p>I'm using jgrapht-1.5.1.\nI checked folders but the library doesn't exist.</p>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":0,"creation_date":1537503579,"post_id":52436468,"comment_id":91816180,"body_markdown":"will the number of spaces around `id` always be the same?","body":"will the number of spaces around <code>id</code> always be the same?"},{"owner":{"account_id":12101184,"reputation":121,"user_id":8842183,"display_name":"Alex"},"score":0,"creation_date":1537595025,"post_id":52436468,"comment_id":91850606,"body_markdown":"No, it depends on user input","body":"No, it depends on user input"},{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":0,"creation_date":1537746003,"post_id":52436468,"comment_id":91884304,"body_markdown":"The best way for key `id` would be to `trim()` the user input in your frontend app. As for the value `1`, you can trim it in the controller.","body":"The best way for key <code>id</code> would be to <code>trim()</code> the user input in your frontend app. As for the value <code>1</code>, you can trim it in the controller."},{"owner":{"account_id":12101184,"reputation":121,"user_id":8842183,"display_name":"Alex"},"score":0,"creation_date":1537758019,"post_id":52436468,"comment_id":91886233,"body_markdown":"Hi @Kartik, the input is from others&#39; java code and my code can&#39;t relay on others&#39; code for some reason. So there is no frontend. For now, the only solution I can do is receiving the input as a map, and format every element in the map, then convert them to my object. But it is not graceful I think","body":"Hi @Kartik, the input is from others&#39; java code and my code can&#39;t relay on others&#39; code for some reason. So there is no frontend. For now, the only solution I can do is receiving the input as a map, and format every element in the map, then convert them to my object. But it is not graceful I think"}],"answers":[{"tags":[],"owner":{"account_id":12705257,"reputation":399,"user_id":9230755,"display_name":"Artem Namednev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589394908,"creation_date":1537510124,"answer_id":52437587,"question_id":52436468,"body_markdown":"You may use `@JsonProperty` annotation like this:\r\n\r\n    class ID {\r\n\r\n        @JsonProperty(&quot;id   &quot;)\r\n        String id;\r\n\r\n        public String getId() {\r\n            return id;\r\n        }\r\n    }\r\n    \r\nAnd then:\r\n\r\n    String id = myIdClassInstance.getId().trim();\r\n\r\nBut this will work only in cases where the number of spaces is fixed.\r\n\r\nAlso, you can access the fields of the object only at clearly defined names.\r\n\r\nIf you really want that `&quot;id&quot;` and `&quot;id    &quot;` to point to the same field, you will need to format the JSON manually before sending it.","title":"How to deserialize JSON string when field name and/or value contain white space leading/tailing by using jackson","body":"<p>You may use <code>@JsonProperty</code> annotation like this:</p>\n\n<pre><code>class ID {\n\n    @JsonProperty(\"id   \")\n    String id;\n\n    public String getId() {\n        return id;\n    }\n}\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>String id = myIdClassInstance.getId().trim();\n</code></pre>\n\n<p>But this will work only in cases where the number of spaces is fixed.</p>\n\n<p>Also, you can access the fields of the object only at clearly defined names.</p>\n\n<p>If you really want that <code>\"id\"</code> and <code>\"id    \"</code> to point to the same field, you will need to format the JSON manually before sending it.</p>\n"},{"tags":[],"owner":{"account_id":28426035,"reputation":1,"user_id":21747401,"display_name":"Alice Cooper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682533146,"creation_date":1682532960,"answer_id":76113889,"question_id":52436468,"body_markdown":"In my opinion, it is better to edit JSON beforehand and remove extra spaces. \r\n\r\n    var json = &quot;{\\&quot;id   \\&quot;: \\&quot;   1\\&quot;}&quot;;\r\n    json = json.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n\r\nYou&#39;ll get: `{&quot;id&quot;:&quot;1&quot;}`\r\nAnd then your POJO class will be correct.\r\n\r\nAfter you can try to deserialize this json via Jackson. For example:\r\n\r\n    var id = mapper.readValue(json, ID.class);","title":"How to deserialize JSON string when field name and/or value contain white space leading/tailing by using jackson","body":"<p>In my opinion, it is better to edit JSON beforehand and remove extra spaces.</p>\n<pre><code>var json = &quot;{\\&quot;id   \\&quot;: \\&quot;   1\\&quot;}&quot;;\njson = json.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n</code></pre>\n<p>You'll get: <code>{&quot;id&quot;:&quot;1&quot;}</code>\nAnd then your POJO class will be correct.</p>\n<p>After you can try to deserialize this json via Jackson. For example:</p>\n<pre><code>var id = mapper.readValue(json, ID.class);\n</code></pre>\n"}],"owner":{"account_id":12101184,"reputation":121,"user_id":8842183,"display_name":"Alex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2055,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682533146,"creation_date":1537502894,"question_id":52436468,"body_markdown":"Input json: \r\n\r\n    {&quot;id   &quot;: &quot;   1&quot;}\r\n\r\njava class defineded:\r\n\r\n    class ID {\r\n        String id;\r\n    }\r\nhow to correctly get the ID object with &quot;id = 1&quot; instead of  &quot;id = null&quot; \r\n\r\n\r\n","title":"How to deserialize JSON string when field name and/or value contain white space leading/tailing by using jackson","body":"<p>Input json: </p>\n\n<pre><code>{\"id   \": \"   1\"}\n</code></pre>\n\n<p>java class defineded:</p>\n\n<pre><code>class ID {\n    String id;\n}\n</code></pre>\n\n<p>how to correctly get the ID object with \"id = 1\" instead of  \"id = null\" </p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"score":3,"creation_date":1271107949,"post_id":2625579,"comment_id":2638439,"body_markdown":"What is the question? `&lt;clinit&gt;` is not a generic method but the (compiler-generated magic) name of the special constructor method which does class initialization.","body":"What is the question? <code>&lt;clinit&gt;</code> is not a generic method but the (compiler-generated magic) name of the special constructor method which does class initialization."},{"owner":{"account_id":34651,"reputation":3177,"user_id":97992,"accept_rate":80,"display_name":"Droo"},"score":0,"creation_date":1271108986,"post_id":2625579,"comment_id":2638567,"body_markdown":"Sorry...should have been more clear.  I think I incorrectly assumed that the static block had something to do with the static generic type.","body":"Sorry...should have been more clear.  I think I incorrectly assumed that the static block had something to do with the static generic type."}],"answers":[{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1393603572,"creation_date":1271107875,"answer_id":2625609,"question_id":2625579,"body_markdown":"    return Collections.&lt;ComplexObject&gt; emptyList();\r\n\r\nUsing this will get rid of warnings from Eclipse about non-generic collections.\r\n\r\nHaving said that, a typed empty list is going to be functionally identical to an untyped empty list due to empty list being immutable and Java erasing generic types at compile time.\r\n","title":"Type-safe, generic, empty Collections with static generics","body":"<pre><code>return Collections.&lt;ComplexObject&gt; emptyList();\n</code></pre>\n\n<p>Using this will get rid of warnings from Eclipse about non-generic collections.</p>\n\n<p>Having said that, a typed empty list is going to be functionally identical to an untyped empty list due to empty list being immutable and Java erasing generic types at compile time.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1271107995,"creation_date":1271107995,"answer_id":2625616,"question_id":2625579,"body_markdown":"`&lt;clinit&gt;` is the name of the method into which the class initialization code is collected by during compilation. (That is, all of the code inside `static {}` blocks, and the initializers of static members, in source code order.)\r\n\r\nIt has nothing to do with explicit type parameters in method invocations.","title":"Type-safe, generic, empty Collections with static generics","body":"<p><code>&lt;clinit&gt;</code> is the name of the method into which the class initialization code is collected by during compilation. (That is, all of the code inside <code>static {}</code> blocks, and the initializers of static members, in source code order.)</p>\n\n<p>It has nothing to do with explicit type parameters in method invocations.</p>\n"},{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271108128,"creation_date":1271108128,"answer_id":2625633,"question_id":2625579,"body_markdown":"`&lt;clinit&gt;` is the static initializer block. It is a block of code which is executed exactly once (when the class is loaded).\r\n\r\nSo, instead of writing\r\n\r\n\r\n    class  A  {\r\n       static int x = 5;\r\n    }\r\n\r\nOne can write:\r\n   \r\n    class A {\r\n       static int x;\r\n\r\n       static {  // static initializer starts\r\n          x = 5; \r\n       }\r\n    }\r\n\r\nThese two classes are equivalent. Inside a static initializer block one can place arbitrary code and thus initialize static fields with the results of complicated calculations.\r\n\r\n","title":"Type-safe, generic, empty Collections with static generics","body":"<p><code>&lt;clinit&gt;</code> is the static initializer block. It is a block of code which is executed exactly once (when the class is loaded).</p>\n\n<p>So, instead of writing</p>\n\n<pre><code>class  A  {\n   static int x = 5;\n}\n</code></pre>\n\n<p>One can write:</p>\n\n<pre><code>class A {\n   static int x;\n\n   static {  // static initializer starts\n      x = 5; \n   }\n}\n</code></pre>\n\n<p>These two classes are equivalent. Inside a static initializer block one can place arbitrary code and thus initialize static fields with the results of complicated calculations.</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1271110100,"creation_date":1271110100,"answer_id":2625806,"question_id":2625579,"body_markdown":"&gt; EDIT: How is the static Generic type\r\n&gt; accomplished?\r\n\r\nhttp://www.docjar.com/html/api/java/util/Collections.java.html\r\n\r\n    public class Collections {\r\n        ...\r\n        public static final List EMPTY_LIST = new EmptyList&lt;Object&gt;();\r\n        ...\r\n        public static final &lt;T&gt; List&lt;T&gt; emptyList() {\r\n            return (List&lt;T&gt;) EMPTY_LIST;\r\n        }\r\n        ...\r\n    }\r\n\r\nYou can see the link for the implementation of the EmptyList class if you&#39;re curious, but for your question, it doesn&#39;t matter.\r\n","title":"Type-safe, generic, empty Collections with static generics","body":"<blockquote>\n  <p>EDIT: How is the static Generic type\n  accomplished?</p>\n</blockquote>\n\n<p><a href=\"http://www.docjar.com/html/api/java/util/Collections.java.html\" rel=\"noreferrer\">http://www.docjar.com/html/api/java/util/Collections.java.html</a></p>\n\n<pre><code>public class Collections {\n    ...\n    public static final List EMPTY_LIST = new EmptyList&lt;Object&gt;();\n    ...\n    public static final &lt;T&gt; List&lt;T&gt; emptyList() {\n        return (List&lt;T&gt;) EMPTY_LIST;\n    }\n    ...\n}\n</code></pre>\n\n<p>You can see the link for the implementation of the EmptyList class if you're curious, but for your question, it doesn't matter.</p>\n"},{"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682533035,"creation_date":1682533035,"answer_id":76113895,"question_id":2625579,"body_markdown":"For those who are looking for a similar solution, but for more current time (2023/Apr) where one has moved on to using `List.of()` as a terse replacement for `Collections.emptyList()`...\r\n\r\nIn the same way the type is prefixed to the method in\r\n\r\n`Collections.&lt;ComplexObject&gt;emptyList();`\r\n\r\nUse the same method-prefix pattern:\r\n\r\n`List.&lt;ComplexObject&gt;of();`","title":"Type-safe, generic, empty Collections with static generics","body":"<p>For those who are looking for a similar solution, but for more current time (2023/Apr) where one has moved on to using <code>List.of()</code> as a terse replacement for <code>Collections.emptyList()</code>...</p>\n<p>In the same way the type is prefixed to the method in</p>\n<p><code>Collections.&lt;ComplexObject&gt;emptyList();</code></p>\n<p>Use the same method-prefix pattern:</p>\n<p><code>List.&lt;ComplexObject&gt;of();</code></p>\n"}],"owner":{"account_id":34651,"reputation":3177,"user_id":97992,"accept_rate":80,"display_name":"Droo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16350,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":2625806,"answer_count":5,"score":13,"last_activity_date":1682533035,"creation_date":1271107591,"question_id":2625579,"body_markdown":"I return empty collections vs. null whenever possible.  I switch between two methods for  doing so using [java.util.Collections][1]:\r\n\r\n    return Collections.EMPTY_LIST;\r\n    return Collections.emptyList();\r\n\r\nwhere `emptyList()` is supposed to be type-safe.  But I recently discovered:\r\n\r\n    return Collections.&lt;ComplexObject&gt; emptyList();\r\n    return Collections.&lt;ComplexObject&gt; singletonList(new ComplexObject());\r\n\r\netc.\r\n\r\nI see this method in Eclipse Package Explorer:\r\n\r\n    &lt;clinit&gt; () : void\r\n\r\nbut I don&#39;t see how this is done in the source code (1.5).  How is this magic tomfoolerie happening!!\r\n\r\n**EDIT:\r\nHow is the static Generic type accomplished?**\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collections.html","title":"Type-safe, generic, empty Collections with static generics","body":"<p>I return empty collections vs. null whenever possible.  I switch between two methods for  doing so using <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collections.html\" rel=\"noreferrer\">java.util.Collections</a>:</p>\n\n<pre><code>return Collections.EMPTY_LIST;\nreturn Collections.emptyList();\n</code></pre>\n\n<p>where <code>emptyList()</code> is supposed to be type-safe.  But I recently discovered:</p>\n\n<pre><code>return Collections.&lt;ComplexObject&gt; emptyList();\nreturn Collections.&lt;ComplexObject&gt; singletonList(new ComplexObject());\n</code></pre>\n\n<p>etc.</p>\n\n<p>I see this method in Eclipse Package Explorer:</p>\n\n<pre><code>&lt;clinit&gt; () : void\n</code></pre>\n\n<p>but I don't see how this is done in the source code (1.5).  How is this magic tomfoolerie happening!!</p>\n\n<p><strong>EDIT:\nHow is the static Generic type accomplished?</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9520,"page":472,"page_size":100}
