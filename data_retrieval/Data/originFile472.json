{"items":[{"tags":["java","apache-kafka","docker-compose","confluent-schema-registry","testcontainers"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1675902348,"post_id":75388650,"comment_id":133030127,"body_markdown":"Hi, Can you share a minimal reproducer via github, please?","body":"Hi, Can you share a minimal reproducer via github, please?"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1675955865,"post_id":75388650,"comment_id":133042732,"body_markdown":"Can I may suggest using Redpanda? https://www.testcontainers.org/modules/redpanda/","body":"Can I may suggest using Redpanda? <a href=\"https://www.testcontainers.org/modules/redpanda/\" rel=\"nofollow noreferrer\">testcontainers.org/modules/redpanda</a>"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1677083284,"post_id":75388650,"comment_id":133268531,"body_markdown":"did you manage to get this working?","body":"did you manage to get this working?"},{"owner":{"account_id":23109701,"reputation":13,"user_id":17217807,"display_name":"azurius"},"score":0,"creation_date":1677155222,"post_id":75388650,"comment_id":133284014,"body_markdown":"@user1555190 yes actually! Alex&#39;s answer just needed some minor changes to fit my project, but it works now!","body":"@user1555190 yes actually! Alex&#39;s answer just needed some minor changes to fit my project, but it works now!"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1678830529,"post_id":75388650,"comment_id":133609194,"body_markdown":"@azurius did you make it work with an external zookeeper?","body":"@azurius did you make it work with an external zookeeper?"}],"answers":[{"comments":[{"owner":{"account_id":7291708,"reputation":3515,"user_id":5557885,"accept_rate":54,"display_name":"rajadilipkolli"},"score":1,"creation_date":1681735961,"post_id":75389041,"comment_id":134099892,"body_markdown":"With minor changes I was able to achieve the same, thanks. here is the link for others to follow https://github.com/rajadilipkolli/kafka-experiments/blob/master/spring-boot-kafka-avro/src/test/java/com/sivalabs/springbootkafkaavro/SpringBootKafkaAvroApplicationTests.java","body":"With minor changes I was able to achieve the same, thanks. here is the link for others to follow <a href=\"https://github.com/rajadilipkolli/kafka-experiments/blob/master/spring-boot-kafka-avro/src/test/java/com/sivalabs/springbootkafkaavro/SpringBootKafkaAvroApplicationTests.java\" rel=\"nofollow noreferrer\">github.com/rajadilipkolli/kafka-experiments/blob/master/&hellip;</a>"},{"owner":{"account_id":5193931,"reputation":419,"user_id":4155906,"accept_rate":31,"display_name":"Thejas"},"score":0,"creation_date":1695138448,"post_id":75389041,"comment_id":135982603,"body_markdown":"@Alex  I tried above configuration but the application is running forever.  SCHEMA_REGISTRY.withKafka(KAFKA).start(); is taking a lot of time","body":"@Alex  I tried above configuration but the application is running forever.  SCHEMA_REGISTRY.withKafka(KAFKA).start(); is taking a lot of time"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1695144323,"post_id":75389041,"comment_id":135983692,"body_markdown":"check container logs and see where it&#39;s stuck","body":"check container logs and see where it&#39;s stuck"}],"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1675874825,"creation_date":1675874825,"answer_id":75389041,"question_id":75388650,"body_markdown":"Here is working setup of Kafka &amp; Schema Registry for Testcontainers. It could help to find the issue in your setup\r\n\r\n\r\n**Schema Registry**\r\n```\r\npublic class SchemaRegistryContainer extends GenericContainer&lt;SchemaRegistryContainer&gt; {\r\n\tpublic static final String SCHEMA_REGISTRY_IMAGE =\r\n\t\t\t&quot;confluentinc/cp-schema-registry&quot;;\r\n\tpublic static final int SCHEMA_REGISTRY_PORT = 8081;\r\n\r\n\tpublic SchemaRegistryContainer() {\r\n\t\tthis(CONFLUENT_PLATFORM_VERSION);\r\n\t}\r\n\r\n\tpublic SchemaRegistryContainer(String version) {\r\n\t\tsuper(SCHEMA_REGISTRY_IMAGE + &quot;:&quot; + version);\r\n\r\n\t\twaitingFor(Wait.forHttp(&quot;/subjects&quot;).forStatusCode(200));\r\n\t\twithExposedPorts(SCHEMA_REGISTRY_PORT);\r\n\t}\r\n\r\n\tpublic SchemaRegistryContainer withKafka(KafkaContainer kafka) {\r\n\t\treturn withKafka(kafka.getNetwork(), kafka.getNetworkAliases().get(0) + &quot;:9092&quot;);\r\n\t}\r\n\r\n\tpublic SchemaRegistryContainer withKafka(Network network, String bootstrapServers) {\r\n\t\twithNetwork(network);\r\n\t\twithEnv(&quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schema-registry&quot;);\r\n\t\twithEnv(&quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:8081&quot;);\r\n\t\twithEnv(&quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, &quot;PLAINTEXT://&quot; + bootstrapServers);\r\n\t\treturn self();\r\n\t}\r\n}\r\n```\r\n\r\n**Kafka + Schema Registry**\r\n\r\n```\r\n    public static final String CONFLUENT_PLATFORM_VERSION = &quot;5.5.1&quot;;\r\n\r\n\tprivate static final Network KAFKA_NETWORK = Network.newNetwork();\r\n\tprivate static final DockerImageName KAFKA_IMAGE = DockerImageName.parse(&quot;confluentinc/cp-kafka&quot;)\r\n\t\t\t.withTag(CONFLUENT_PLATFORM_VERSION);\r\n\tprivate static final KafkaContainer KAFKA = new KafkaContainer(KAFKA_IMAGE)\r\n\t\t\t.withNetwork(KAFKA_NETWORK)\r\n\t\t\t.withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_MIN_ISR&quot;, &quot;1&quot;)\r\n\t\t\t.withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR&quot;, &quot;1&quot;);\r\n\r\n\tprivate static final SchemaRegistryContainer SCHEMA_REGISTRY =\r\n\t\t\tnew SchemaRegistryContainer(CONFLUENT_PLATFORM_VERSION);\r\n    \r\n    @BeforeAll\r\n\tstatic void startKafkaContainer() {\r\n\t\tKAFKA.start();\r\n\t\tSCHEMA_REGISTRY.withKafka(KAFKA).start();\r\n\r\n        // init kafka properties for consumer or producer\r\n        ....\r\n        kafkaProperties.setBootstrapServers(KAFKA.getBootstrapServers());\r\n\t\tkafkaProperties.setSchemaRegistryUrl(&quot;http://&quot; + SCHEMA_REGISTRY.getHost() + &quot;:&quot; + SCHEMA_REGISTRY.getFirstMappedPort());\r\n\t}\r\n\r\n```\r\n\r\n\r\n","title":"Testcontainers SchemaRegistry can&#39;t connect to Kafka container","body":"<p>Here is working setup of Kafka &amp; Schema Registry for Testcontainers. It could help to find the issue in your setup</p>\n<p><strong>Schema Registry</strong></p>\n<pre><code>public class SchemaRegistryContainer extends GenericContainer&lt;SchemaRegistryContainer&gt; {\n    public static final String SCHEMA_REGISTRY_IMAGE =\n            &quot;confluentinc/cp-schema-registry&quot;;\n    public static final int SCHEMA_REGISTRY_PORT = 8081;\n\n    public SchemaRegistryContainer() {\n        this(CONFLUENT_PLATFORM_VERSION);\n    }\n\n    public SchemaRegistryContainer(String version) {\n        super(SCHEMA_REGISTRY_IMAGE + &quot;:&quot; + version);\n\n        waitingFor(Wait.forHttp(&quot;/subjects&quot;).forStatusCode(200));\n        withExposedPorts(SCHEMA_REGISTRY_PORT);\n    }\n\n    public SchemaRegistryContainer withKafka(KafkaContainer kafka) {\n        return withKafka(kafka.getNetwork(), kafka.getNetworkAliases().get(0) + &quot;:9092&quot;);\n    }\n\n    public SchemaRegistryContainer withKafka(Network network, String bootstrapServers) {\n        withNetwork(network);\n        withEnv(&quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schema-registry&quot;);\n        withEnv(&quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:8081&quot;);\n        withEnv(&quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, &quot;PLAINTEXT://&quot; + bootstrapServers);\n        return self();\n    }\n}\n</code></pre>\n<p><strong>Kafka + Schema Registry</strong></p>\n<pre><code>    public static final String CONFLUENT_PLATFORM_VERSION = &quot;5.5.1&quot;;\n\n    private static final Network KAFKA_NETWORK = Network.newNetwork();\n    private static final DockerImageName KAFKA_IMAGE = DockerImageName.parse(&quot;confluentinc/cp-kafka&quot;)\n            .withTag(CONFLUENT_PLATFORM_VERSION);\n    private static final KafkaContainer KAFKA = new KafkaContainer(KAFKA_IMAGE)\n            .withNetwork(KAFKA_NETWORK)\n            .withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_MIN_ISR&quot;, &quot;1&quot;)\n            .withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR&quot;, &quot;1&quot;);\n\n    private static final SchemaRegistryContainer SCHEMA_REGISTRY =\n            new SchemaRegistryContainer(CONFLUENT_PLATFORM_VERSION);\n    \n    @BeforeAll\n    static void startKafkaContainer() {\n        KAFKA.start();\n        SCHEMA_REGISTRY.withKafka(KAFKA).start();\n\n        // init kafka properties for consumer or producer\n        ....\n        kafkaProperties.setBootstrapServers(KAFKA.getBootstrapServers());\n        kafkaProperties.setSchemaRegistryUrl(&quot;http://&quot; + SCHEMA_REGISTRY.getHost() + &quot;:&quot; + SCHEMA_REGISTRY.getFirstMappedPort());\n    }\n\n</code></pre>\n"}],"owner":{"account_id":23109701,"reputation":13,"user_id":17217807,"display_name":"azurius"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3002,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75389041,"answer_count":1,"score":1,"last_activity_date":1682606281,"creation_date":1675872879,"question_id":75388650,"body_markdown":"I want to run integration tests that test my kafka listener and avro serialization. this requires a Kafka and a Schema regsitry (transitively also a Zookeeper). \r\n\r\nWhen testing I currently have to a docker-compose.yml, but I want to reduce user error by building the required containers via testcontainers. The Kafka and Zookeeper instances get started neatly and seem to work just fine - my application can create the required topics and the listener is subscribed as well, I can even send messages via kafka console producer. \r\n\r\n\r\nWhat does not work is the SchemaRegistry. The container starts, apparently connects to the ZK but cannot establish a connection to the broker. It retries connecting for some time until it times out and subsequently the container is stopped. I therefore cannot register and read my avro schematas for (De-)Serialization in my test which fail because of this.\r\n\r\nI can&#39;t find the reason why the SR can apparently connect to the ZK but cant find my broker.\r\n\r\nDid someone run into this problem as well? Did you manage to get this running? If so, how so?\r\nI need Kafka and the Schema Registry testcontainers to be fully available for my tests, so omitting any of them is not an option. \r\n\r\nI could also keep using the docker-compose.yml but I would really like to setup my test environment fully programmatically.\r\n\r\nThe schema registry container logs the following:\r\n```\r\n2023-02-08 16:56:09 [2023-02-08 15:56:09,556] INFO Session establishment complete on server zookeeper/192.168.144.2:2181, session id = 0x1000085b81e0003, negotiated timeout = 40000 (org.apache.zookeeper.ClientCnxn)\r\n2023-02-08 16:56:09 [2023-02-08 15:56:09,696] INFO Session: 0x1000085b81e0003 closed (org.apache.zookeeper.ZooKeeper)\r\n2023-02-08 16:56:09 [2023-02-08 15:56:09,696] INFO EventThread shut down for session: 0x1000085b81e0003 (org.apache.zookeeper.ClientCnxn)\r\n2023-02-08 16:56:09 [2023-02-08 15:56:09,787] INFO AdminClientConfig values:\r\n/*  Omitted for brevity  */\r\n(org.apache.kafka.clients.admin.AdminClientConfig)\r\n2023-02-08 16:56:10 [2023-02-08 15:56:10,284] INFO Kafka version: 7.3.1-ccs (org.apache.kafka.common.utils.AppInfoParser)\r\n2023-02-08 16:56:10 [2023-02-08 15:56:10,284] INFO Kafka commitId: 8628b0341c3c4676 (org.apache.kafka.common.utils.AppInfoParser)\r\n2023-02-08 16:56:10 [2023-02-08 15:56:10,284] INFO Kafka startTimeMs: 1675871770281 (org.apache.kafka.common.utils.AppInfoParser)\r\n2023-02-08 16:56:10 [2023-02-08 15:56:10,308] INFO [AdminClient clientId=adminclient-1] Node -1 disconnected. (org.apache.kafka.clients.NetworkClient)\r\n2023-02-08 16:56:10 [2023-02-08 15:56:10,313] WARN [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:54776) could not be established. Broker may not be available. (org.apache.kafka.clients.NetworkClient)\r\n/*  These lines repeat a few times until the container times out and exits.  */\r\n2023-02-08 16:56:50 [2023-02-08 15:56:50,144] INFO [AdminClient clientId=adminclient-1] Node -1 disconnected. (org.apache.kafka.clients.NetworkClient)\r\n2023-02-08 16:56:50 [2023-02-08 15:56:50,144] WARN [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:54776) could not be established. Broker may not be available. (org.apache.kafka.clients.NetworkClient)\r\n2023-02-08 16:56:50 [2023-02-08 15:56:50,298] ERROR Error while getting broker list. (io.confluent.admin.utils.ClusterStatus)\r\n2023-02-08 16:56:50 java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\r\n2023-02-08 16:56:50     at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\r\n2023-02-08 16:56:50     at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\r\n2023-02-08 16:56:50     at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\r\n2023-02-08 16:56:50     at io.confluent.admin.utils.ClusterStatus.isKafkaReady(ClusterStatus.java:147)\r\n2023-02-08 16:56:50     at io.confluent.admin.utils.cli.KafkaReadyCommand.main(KafkaReadyCommand.java:149)\r\n2023-02-08 16:56:50 Caused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\r\n2023-02-08 16:56:51 [2023-02-08 15:56:51,103] INFO [AdminClient clientId=adminclient-1] Node -1 disconnected. (org.apache.kafka.clients.NetworkClient)\r\n2023-02-08 16:56:51 [2023-02-08 15:56:51,103] WARN [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:54776) could not be established. Broker may not be available. (org.apache.kafka.clients.NetworkClient)\r\n2023-02-08 16:56:51 [2023-02-08 15:56:51,300] INFO Expected 1 brokers but found only 0. Trying to query Kafka for metadata again ... (io.confluent.admin.utils.ClusterStatus)\r\n2023-02-08 16:56:51 [2023-02-08 15:56:51,300] ERROR Expected 1 brokers but found only 0. Brokers found []. (io.confluent.admin.utils.ClusterStatus)\r\n2023-02-08 16:56:51 Using log4j config /etc/schema-registry/log4j.properties\r\n```\r\n\r\nMy base test class. ITs that need Kafka extend this class\r\n```\r\n@Testcontainers\r\n@SpringBootTest\r\n@Slf4j\r\npublic class AbstractIT {\r\n\r\n  private static final Network network = Network.newNetwork();\r\n\r\n  protected static GenericContainer ZOOKEEPER = new GenericContainer&lt;&gt;(\r\n      DockerImageName.parse(&quot;confluentinc/cp-zookeeper:7.2.0&quot;))\r\n      .withNetwork(network)\r\n      .withNetworkAliases(&quot;zookeeper&quot;)\r\n      .withEnv(Map.of(\r\n          &quot;ZOOKEEPER_CLIENT_PORT&quot;, &quot;2181&quot;,\r\n          &quot;ZOOKEEPER_TICK_TIME&quot;, &quot;2000&quot;));\r\n  \r\n  protected static final KafkaContainer KAFKA = new KafkaContainer(\r\n      DockerImageName.parse(&quot;confluentinc/cp-kafka&quot;))\r\n      .withExternalZookeeper(&quot;zookeeper:2181&quot;)\r\n      .dependsOn(ZOOKEEPER)\r\n      .withNetwork(network)\r\n      .withNetworkAliases(&quot;broker&quot;);\r\n\r\n  protected static final GenericContainer SCHEMAREGSISTRY = new GenericContainer&lt;&gt;(\r\n      DockerImageName.parse(&quot;confluentinc/cp-schema-registry&quot;))\r\n      .dependsOn(ZOOKEEPER, KAFKA)\r\n      .withEnv(Map.of(\r\n          &quot;SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL&quot;, &quot;zookeeper:2181&quot;,\r\n          &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schemaregistry&quot;,\r\n          &quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:8085&quot;,\r\n          &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, &quot;broker:9092&quot;))\r\n      .withNetwork(network)\r\n      .withNetworkAliases(&quot;schemaregistry&quot;);\r\n\r\n  @DynamicPropertySource\r\n  static void registerPgProperties(DynamicPropertyRegistry registry) {\r\n    registry.add(&quot;bootstrap.servers&quot;, KAFKA::getBootstrapServers);\r\n    registry.add(&quot;spring.kafka.bootstrap-servers&quot;, KAFKA::getBootstrapServers);\r\n    registry.add(&quot;spring.kafka.consumer.auto-offset-reset&quot;, () -&gt; &quot;earliest&quot;);\r\n    registry.add(&quot;spring.data.mongodb.uri&quot;, MONGODB::getConnectionString);\r\n    registry.add(&quot;spring.data.mongodb.database&quot;, () -&gt;&quot;test&quot;);\r\n  }\r\n\r\n//container startup, shutdown as well as topic creation omitted for brevity\r\n\r\n}\r\n```\r\n\r\nMy docker-compose.yml that I want to replicate with testcontainers\r\n```\r\nversion: &quot;3.5&quot;\r\nservices:\r\n  zookeeper:\r\n    image: confluentinc/cp-zookeeper:7.2.0\r\n    hostname: zookeeper\r\n    container_name: zookeeper\r\n    ports:\r\n      - &quot;2181:2181&quot;\r\n    environment:\r\n      ZOOKEEPER_CLIENT_PORT: 2181\r\n      ZOOKEEPER_TICK_TIME: 2000\r\n\r\n  broker:\r\n    image: confluentinc/cp-kafka:7.2.0\r\n    hostname: broker\r\n    container_name: broker\r\n    restart: always\r\n    depends_on:\r\n      - zookeeper\r\n    ports:\r\n      - &quot;29092:29092&quot;\r\n      - &quot;9092:9092&quot;\r\n    environment:\r\n      KAFKA_BROKER_ID: 1\r\n      KAFKA_ZOOKEEPER_CONNECT: &#39;zookeeper:2181&#39;\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker:9092,PLAINTEXT_HOST://localhost:29092\r\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\r\n      KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1\r\n      KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\r\n      KAFKA_SCHEMA_REGISTRY_URL: &quot;schemaregistry:8085&quot;\r\n\r\n\r\n  schemaregistry:\r\n    container_name: schemaregistry\r\n    hostname: schemaregistry\r\n    image: confluentinc/cp-schema-registry:5.1.2\r\n    restart: always\r\n    depends_on:\r\n      - zookeeper\r\n    environment:\r\n      SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: &quot;zookeeper:2181&quot;\r\n      SCHEMA_REGISTRY_HOST_NAME: schemaregistry\r\n      SCHEMA_REGISTRY_LISTENERS: &quot;http://0.0.0.0:8085&quot;\r\n    ports:\r\n      - &quot;8085:8085&quot;\r\n    volumes:\r\n      - &quot;./src/main/avro/:/etc/schema&quot;\r\n```","title":"Testcontainers SchemaRegistry can&#39;t connect to Kafka container","body":"<p>I want to run integration tests that test my kafka listener and avro serialization. this requires a Kafka and a Schema regsitry (transitively also a Zookeeper).</p>\n<p>When testing I currently have to a docker-compose.yml, but I want to reduce user error by building the required containers via testcontainers. The Kafka and Zookeeper instances get started neatly and seem to work just fine - my application can create the required topics and the listener is subscribed as well, I can even send messages via kafka console producer.</p>\n<p>What does not work is the SchemaRegistry. The container starts, apparently connects to the ZK but cannot establish a connection to the broker. It retries connecting for some time until it times out and subsequently the container is stopped. I therefore cannot register and read my avro schematas for (De-)Serialization in my test which fail because of this.</p>\n<p>I can't find the reason why the SR can apparently connect to the ZK but cant find my broker.</p>\n<p>Did someone run into this problem as well? Did you manage to get this running? If so, how so?\nI need Kafka and the Schema Registry testcontainers to be fully available for my tests, so omitting any of them is not an option.</p>\n<p>I could also keep using the docker-compose.yml but I would really like to setup my test environment fully programmatically.</p>\n<p>The schema registry container logs the following:</p>\n<pre><code>2023-02-08 16:56:09 [2023-02-08 15:56:09,556] INFO Session establishment complete on server zookeeper/192.168.144.2:2181, session id = 0x1000085b81e0003, negotiated timeout = 40000 (org.apache.zookeeper.ClientCnxn)\n2023-02-08 16:56:09 [2023-02-08 15:56:09,696] INFO Session: 0x1000085b81e0003 closed (org.apache.zookeeper.ZooKeeper)\n2023-02-08 16:56:09 [2023-02-08 15:56:09,696] INFO EventThread shut down for session: 0x1000085b81e0003 (org.apache.zookeeper.ClientCnxn)\n2023-02-08 16:56:09 [2023-02-08 15:56:09,787] INFO AdminClientConfig values:\n/*  Omitted for brevity  */\n(org.apache.kafka.clients.admin.AdminClientConfig)\n2023-02-08 16:56:10 [2023-02-08 15:56:10,284] INFO Kafka version: 7.3.1-ccs (org.apache.kafka.common.utils.AppInfoParser)\n2023-02-08 16:56:10 [2023-02-08 15:56:10,284] INFO Kafka commitId: 8628b0341c3c4676 (org.apache.kafka.common.utils.AppInfoParser)\n2023-02-08 16:56:10 [2023-02-08 15:56:10,284] INFO Kafka startTimeMs: 1675871770281 (org.apache.kafka.common.utils.AppInfoParser)\n2023-02-08 16:56:10 [2023-02-08 15:56:10,308] INFO [AdminClient clientId=adminclient-1] Node -1 disconnected. (org.apache.kafka.clients.NetworkClient)\n2023-02-08 16:56:10 [2023-02-08 15:56:10,313] WARN [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:54776) could not be established. Broker may not be available. (org.apache.kafka.clients.NetworkClient)\n/*  These lines repeat a few times until the container times out and exits.  */\n2023-02-08 16:56:50 [2023-02-08 15:56:50,144] INFO [AdminClient clientId=adminclient-1] Node -1 disconnected. (org.apache.kafka.clients.NetworkClient)\n2023-02-08 16:56:50 [2023-02-08 15:56:50,144] WARN [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:54776) could not be established. Broker may not be available. (org.apache.kafka.clients.NetworkClient)\n2023-02-08 16:56:50 [2023-02-08 15:56:50,298] ERROR Error while getting broker list. (io.confluent.admin.utils.ClusterStatus)\n2023-02-08 16:56:50 java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\n2023-02-08 16:56:50     at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n2023-02-08 16:56:50     at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\n2023-02-08 16:56:50     at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\n2023-02-08 16:56:50     at io.confluent.admin.utils.ClusterStatus.isKafkaReady(ClusterStatus.java:147)\n2023-02-08 16:56:50     at io.confluent.admin.utils.cli.KafkaReadyCommand.main(KafkaReadyCommand.java:149)\n2023-02-08 16:56:50 Caused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\n2023-02-08 16:56:51 [2023-02-08 15:56:51,103] INFO [AdminClient clientId=adminclient-1] Node -1 disconnected. (org.apache.kafka.clients.NetworkClient)\n2023-02-08 16:56:51 [2023-02-08 15:56:51,103] WARN [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:54776) could not be established. Broker may not be available. (org.apache.kafka.clients.NetworkClient)\n2023-02-08 16:56:51 [2023-02-08 15:56:51,300] INFO Expected 1 brokers but found only 0. Trying to query Kafka for metadata again ... (io.confluent.admin.utils.ClusterStatus)\n2023-02-08 16:56:51 [2023-02-08 15:56:51,300] ERROR Expected 1 brokers but found only 0. Brokers found []. (io.confluent.admin.utils.ClusterStatus)\n2023-02-08 16:56:51 Using log4j config /etc/schema-registry/log4j.properties\n</code></pre>\n<p>My base test class. ITs that need Kafka extend this class</p>\n<pre><code>@Testcontainers\n@SpringBootTest\n@Slf4j\npublic class AbstractIT {\n\n  private static final Network network = Network.newNetwork();\n\n  protected static GenericContainer ZOOKEEPER = new GenericContainer&lt;&gt;(\n      DockerImageName.parse(&quot;confluentinc/cp-zookeeper:7.2.0&quot;))\n      .withNetwork(network)\n      .withNetworkAliases(&quot;zookeeper&quot;)\n      .withEnv(Map.of(\n          &quot;ZOOKEEPER_CLIENT_PORT&quot;, &quot;2181&quot;,\n          &quot;ZOOKEEPER_TICK_TIME&quot;, &quot;2000&quot;));\n  \n  protected static final KafkaContainer KAFKA = new KafkaContainer(\n      DockerImageName.parse(&quot;confluentinc/cp-kafka&quot;))\n      .withExternalZookeeper(&quot;zookeeper:2181&quot;)\n      .dependsOn(ZOOKEEPER)\n      .withNetwork(network)\n      .withNetworkAliases(&quot;broker&quot;);\n\n  protected static final GenericContainer SCHEMAREGSISTRY = new GenericContainer&lt;&gt;(\n      DockerImageName.parse(&quot;confluentinc/cp-schema-registry&quot;))\n      .dependsOn(ZOOKEEPER, KAFKA)\n      .withEnv(Map.of(\n          &quot;SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL&quot;, &quot;zookeeper:2181&quot;,\n          &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schemaregistry&quot;,\n          &quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:8085&quot;,\n          &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, &quot;broker:9092&quot;))\n      .withNetwork(network)\n      .withNetworkAliases(&quot;schemaregistry&quot;);\n\n  @DynamicPropertySource\n  static void registerPgProperties(DynamicPropertyRegistry registry) {\n    registry.add(&quot;bootstrap.servers&quot;, KAFKA::getBootstrapServers);\n    registry.add(&quot;spring.kafka.bootstrap-servers&quot;, KAFKA::getBootstrapServers);\n    registry.add(&quot;spring.kafka.consumer.auto-offset-reset&quot;, () -&gt; &quot;earliest&quot;);\n    registry.add(&quot;spring.data.mongodb.uri&quot;, MONGODB::getConnectionString);\n    registry.add(&quot;spring.data.mongodb.database&quot;, () -&gt;&quot;test&quot;);\n  }\n\n//container startup, shutdown as well as topic creation omitted for brevity\n\n}\n</code></pre>\n<p>My docker-compose.yml that I want to replicate with testcontainers</p>\n<pre><code>version: &quot;3.5&quot;\nservices:\n  zookeeper:\n    image: confluentinc/cp-zookeeper:7.2.0\n    hostname: zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n\n  broker:\n    image: confluentinc/cp-kafka:7.2.0\n    hostname: broker\n    container_name: broker\n    restart: always\n    depends_on:\n      - zookeeper\n    ports:\n      - &quot;29092:29092&quot;\n      - &quot;9092:9092&quot;\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper:2181'\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker:9092,PLAINTEXT_HOST://localhost:29092\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\n      KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1\n      KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\n      KAFKA_SCHEMA_REGISTRY_URL: &quot;schemaregistry:8085&quot;\n\n\n  schemaregistry:\n    container_name: schemaregistry\n    hostname: schemaregistry\n    image: confluentinc/cp-schema-registry:5.1.2\n    restart: always\n    depends_on:\n      - zookeeper\n    environment:\n      SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: &quot;zookeeper:2181&quot;\n      SCHEMA_REGISTRY_HOST_NAME: schemaregistry\n      SCHEMA_REGISTRY_LISTENERS: &quot;http://0.0.0.0:8085&quot;\n    ports:\n      - &quot;8085:8085&quot;\n    volumes:\n      - &quot;./src/main/avro/:/etc/schema&quot;\n</code></pre>\n"},{"tags":["java","hibernate","jpa","orm","migration"],"comments":[{"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"score":0,"creation_date":1438291908,"post_id":31725067,"comment_id":51404238,"body_markdown":"Unfortunately no - this hasn&#39;t changed since JPA 2.0. But you can check the anwers in [here](http://stackoverflow.com/questions/2880209/jpa-findbyexample). I would guess for simple use cases you can build something like _wallenborn_ is creating there.","body":"Unfortunately no - this hasn&#39;t changed since JPA 2.0. But you can check the anwers in <a href=\"http://stackoverflow.com/questions/2880209/jpa-findbyexample\">here</a>. I would guess for simple use cases you can build something like <i>wallenborn</i> is creating there."}],"answers":[{"comments":[{"owner":{"account_id":17313844,"reputation":130,"user_id":12540804,"display_name":"Darkwyng"},"score":2,"creation_date":1682587258,"post_id":31741343,"comment_id":134240595,"body_markdown":"I would think that JPA will contain a solution by now - since Hibernate 6 has removed Example. I am looking for a way to replace our usage of Example...","body":"I would think that JPA will contain a solution by now - since Hibernate 6 has removed Example. I am looking for a way to replace our usage of Example..."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682605222,"creation_date":1438330550,"answer_id":31741343,"question_id":31725067,"body_markdown":"JPA doesn&#39;t offer this yet, but you can use Spring Data JPA [Query by Example](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example).","title":"JPA equivalents to Hibernate org.hibernate.criterion.Example?","body":"<p>JPA doesn't offer this yet, but you can use Spring Data JPA <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example\" rel=\"nofollow noreferrer\">Query by Example</a>.</p>\n"}],"owner":{"account_id":3189791,"reputation":89,"user_id":2694403,"display_name":"skywards"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":31741343,"answer_count":1,"score":5,"last_activity_date":1682605222,"creation_date":1438262666,"question_id":31725067,"body_markdown":"I have an application that uses Hibernate. We are moving to JPA 2.1 standard.\r\nThere are a lot of usage of &quot;org.hibernate.criterion.Example&quot; with its (excludeProperty) feature. Is there any equivalent to &quot;Hibernate Example&quot; in JPA 2.1?\r\n\r\nThanks.","title":"JPA equivalents to Hibernate org.hibernate.criterion.Example?","body":"<p>I have an application that uses Hibernate. We are moving to JPA 2.1 standard.\nThere are a lot of usage of \"org.hibernate.criterion.Example\" with its (excludeProperty) feature. Is there any equivalent to \"Hibernate Example\" in JPA 2.1?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java"],"owner":{"account_id":8235404,"reputation":1,"user_id":6194803,"display_name":"Micah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682605186,"creation_date":1682605128,"question_id":76121461,"body_markdown":"Am doing some automation in my app, need a way to listen to whether payment has been made successfully(customer debited).I do not want to depend on the payload sent to the URL provided. That is, the phone umber provided&#160; receives STKPush to enter the pin, then pin is entered and the customer is debited. Now want to **listen to debit part of it** ,so that when debit is successful I start&#160; an&#160;activity in my app .The response below is for STKPush and I do not want to start the activity from there.Kindly assist.\r\n\r\n    mApiClient.mpesaService().sendPush(stkPush).enqueue(new Callback&lt;STKPush&gt;() {\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;STKPush&gt; call, @NonNull Response&lt;STKPush&gt; response) {\r\n\r\n                mProgressDialog.dismiss();\r\n\r\n                try {\r\n\r\n                    if (response.isSuccessful()) {\r\n\r\n                        Timber.d(&quot;post submitted to API. %s&quot;, response.body());\r\n                        \r\n                        RazorpayPaymentSuccess();\r\n                        new Intent(MainACheckout.this, MainActivity_The_Current_providers.class);\r\n\r\n                        //Toast.makeText(MainACheckout.this, &quot;Now ready to save&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    } else {\r\n\r\n                        Timber.e(&quot;Response %s&quot;, response.errorBody().string());\r\n                        AlertDialog.Builder builder = new AlertDialog.Builder(MainACheckout.this);\r\n                        ViewGroup viewGroup = findViewById(android.R.id.content);\r\n                        View dialogView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.customview, viewGroup, false);\r\n                        builder.setView(dialogView);\r\n                        AlertDialog alertDialog = builder.create();\r\n                        alertDialog.setTitle(&quot;Error!&quot;);\r\n                        alertDialog.setMessage(&quot;Something went wrong&quot;);\r\n                        alertDialog.show();\r\n\r\n                        // Toast.makeText(MainActivity_Placing_orders.this, &quot;Not successful&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                } catch (Exception e) {\r\n\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;STKPush&gt; call, @NonNull Throwable t) {\r\n                mProgressDialog.dismiss();\r\n                Timber.e(t);\r\n            }\r\n        });","title":"M-Pesa payment success","body":"<p>Am doing some automation in my app, need a way to listen to whether payment has been made successfully(customer debited).I do not want to depend on the payload sent to the URL provided. That is, the phone umber provided  receives STKPush to enter the pin, then pin is entered and the customer is debited. Now want to <strong>listen to debit part of it</strong> ,so that when debit is successful I start  an activity in my app .The response below is for STKPush and I do not want to start the activity from there.Kindly assist.</p>\n<pre><code>mApiClient.mpesaService().sendPush(stkPush).enqueue(new Callback&lt;STKPush&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;STKPush&gt; call, @NonNull Response&lt;STKPush&gt; response) {\n\n            mProgressDialog.dismiss();\n\n            try {\n\n                if (response.isSuccessful()) {\n\n                    Timber.d(&quot;post submitted to API. %s&quot;, response.body());\n                    \n                    RazorpayPaymentSuccess();\n                    new Intent(MainACheckout.this, MainActivity_The_Current_providers.class);\n\n                    //Toast.makeText(MainACheckout.this, &quot;Now ready to save&quot;, Toast.LENGTH_SHORT).show();\n\n                } else {\n\n                    Timber.e(&quot;Response %s&quot;, response.errorBody().string());\n                    AlertDialog.Builder builder = new AlertDialog.Builder(MainACheckout.this);\n                    ViewGroup viewGroup = findViewById(android.R.id.content);\n                    View dialogView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.customview, viewGroup, false);\n                    builder.setView(dialogView);\n                    AlertDialog alertDialog = builder.create();\n                    alertDialog.setTitle(&quot;Error!&quot;);\n                    alertDialog.setMessage(&quot;Something went wrong&quot;);\n                    alertDialog.show();\n\n                    // Toast.makeText(MainActivity_Placing_orders.this, &quot;Not successful&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n            } catch (Exception e) {\n\n                e.printStackTrace();\n            }\n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;STKPush&gt; call, @NonNull Throwable t) {\n            mProgressDialog.dismiss();\n            Timber.e(t);\n        }\n    });\n</code></pre>\n"},{"tags":["java","android","macos","android-ndk"],"owner":{"account_id":16059704,"reputation":243,"user_id":14576798,"display_name":"Rohit gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682605155,"creation_date":1682604805,"question_id":76121410,"body_markdown":"I am trying to integrate soundtouch library android.\r\n\r\nI&#39;m getting this error:\r\n```\r\njava.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libsoundtouch.so&quot; not found\r\n    at java.lang.Runtime.loadLibrary0(Runtime.java:1077)\r\n    at java.lang.Runtime.loadLibrary0(Runtime.java:998)\r\n    at java.lang.System.loadLibrary(System.java:1661)\r\n    at com.ola.soundtouch.SoundTouch.&lt;clinit&gt;(SoundTouch.java:8)\r\n```\r\nThis is my directory:\r\n```\r\n:app\r\n\r\n:soundtouch\r\n\r\n - jni\r\n - libs\r\n    - armeabi-v7a\r\n       - libsoundtouch.so\r\n    - arm64-v8a\r\n       - libsoundtouch.so\r\n - src\r\n    - main\r\n       - jniLibs\r\n         - armeabi-v7a\r\n           - libsoundtouch.so\r\n         - arm64-v8a\r\n           - libsoundtouch.so\r\n```\r\nUsing `ndk-build` command I created the `.so` files.\r\n\r\nThis is my soundtouch `build.gradle` file:\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n\r\nandroid {\r\n    packagingOptions {\r\n        pickFirst &#39;lib/armeabi-v7a/libsoundtouch.so&#39;\r\n        pickFirst &#39;lib/arm64-v8a/libsoundtouch.so&#39;\r\n    }\r\n    sourceSets {\r\n        main {\r\n            jniLibs.srcDirs = [&quot;src/main/jniLibs&quot;]\r\n        }\r\n    }\r\n    namespace &#39;com.example.soundtouch&#39;\r\n    compileSdkVersion 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.soundtouch&quot;\r\n        minSdkVersion 24\r\n        targetSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        ndk {\r\n            abiFilters &quot;armeabi-v7a&quot;, &quot;arm64-v8a&quot;\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            shrinkResources false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.so&quot;])\r\n    implementation files(&#39;libs/armeabi-v7a/libsoundtouch.so&#39;)\r\n}\r\n```\r\nIn `:app build.gradle` I have added `implementation project(&#39;:soundtouch&#39;)`\r\n\r\nGradle:\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.0.2-all.zip\r\nclasspath(&quot;com.android.tools.build:gradle:4.2.2&quot;)\r\n```\r\nApi Version:\r\n```\r\nCompile 33\r\nTarget 33\r\n```\r\nI built the APK but on analyzing it I found in libs folder this doesnt contain the `libsoundtouch.so` file.","title":"java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libsoundtouch.so&quot; not found","body":"<p>I am trying to integrate soundtouch library android.</p>\n<p>I'm getting this error:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libsoundtouch.so&quot; not found\n    at java.lang.Runtime.loadLibrary0(Runtime.java:1077)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:998)\n    at java.lang.System.loadLibrary(System.java:1661)\n    at com.ola.soundtouch.SoundTouch.&lt;clinit&gt;(SoundTouch.java:8)\n</code></pre>\n<p>This is my directory:</p>\n<pre><code>:app\n\n:soundtouch\n\n - jni\n - libs\n    - armeabi-v7a\n       - libsoundtouch.so\n    - arm64-v8a\n       - libsoundtouch.so\n - src\n    - main\n       - jniLibs\n         - armeabi-v7a\n           - libsoundtouch.so\n         - arm64-v8a\n           - libsoundtouch.so\n</code></pre>\n<p>Using <code>ndk-build</code> command I created the <code>.so</code> files.</p>\n<p>This is my soundtouch <code>build.gradle</code> file:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n}\n\nandroid {\n    packagingOptions {\n        pickFirst 'lib/armeabi-v7a/libsoundtouch.so'\n        pickFirst 'lib/arm64-v8a/libsoundtouch.so'\n    }\n    sourceSets {\n        main {\n            jniLibs.srcDirs = [&quot;src/main/jniLibs&quot;]\n        }\n    }\n    namespace 'com.example.soundtouch'\n    compileSdkVersion 33\n\n    defaultConfig {\n        applicationId &quot;com.example.soundtouch&quot;\n        minSdkVersion 24\n        targetSdkVersion 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        ndk {\n            abiFilters &quot;armeabi-v7a&quot;, &quot;arm64-v8a&quot;\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            shrinkResources false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.so&quot;])\n    implementation files('libs/armeabi-v7a/libsoundtouch.so')\n}\n</code></pre>\n<p>In <code>:app build.gradle</code> I have added <code>implementation project(':soundtouch')</code></p>\n<p>Gradle:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.0.2-all.zip\nclasspath(&quot;com.android.tools.build:gradle:4.2.2&quot;)\n</code></pre>\n<p>Api Version:</p>\n<pre><code>Compile 33\nTarget 33\n</code></pre>\n<p>I built the APK but on analyzing it I found in libs folder this doesnt contain the <code>libsoundtouch.so</code> file.</p>\n"},{"tags":["java","mongodb","changeset"],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682676764,"post_id":76121442,"comment_id":134256734,"body_markdown":"Your answer only contains code. I recommend that you don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes.","body":"Your answer only contains code. I recommend that you don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes."}],"tags":[],"owner":{"account_id":11144522,"reputation":46,"user_id":8179793,"display_name":"oneWalker"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682604994,"creation_date":1682604994,"answer_id":76121442,"question_id":76121181,"body_markdown":"```shell\r\ndb.collection.updateMany(\r\n  {\r\n    &quot;type&quot;: &quot;CUSTOM&quot;,\r\n    &quot;reportId&quot;: &quot;desiredReport&quot;\r\n  },\r\n  {\r\n    &quot;$pull&quot;: {\r\n      &quot;reportDef.reportParameters&quot;: &quot;b&quot;\r\n    }\r\n  }\r\n);\r\n```","title":"How to write Mongo db changeset to remove child node","body":"<pre class=\"lang-bash prettyprint-override\"><code>db.collection.updateMany(\n  {\n    &quot;type&quot;: &quot;CUSTOM&quot;,\n    &quot;reportId&quot;: &quot;desiredReport&quot;\n  },\n  {\n    &quot;$pull&quot;: {\n      &quot;reportDef.reportParameters&quot;: &quot;b&quot;\n    }\n  }\n);\n</code></pre>\n"}],"owner":{"account_id":25278119,"reputation":31,"user_id":19106386,"display_name":"Shilpa HM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682604994,"creation_date":1682603378,"question_id":76121181,"body_markdown":"I have a List of Documents like below which I got it from Mongodb\r\n\r\n\r\n\r\n    {\r\n    &quot;_id&quot;:&quot;some_random_id&quot;\r\n    &quot;name&quot;: &quot;report1&quot;\r\n    &quot;reportDef&quot;:\r\n    \t{\r\n    \t&quot;reportParameters&quot;:\r\n    \t\t[&quot;a&quot;,\r\n    \t\t&quot;b&quot;,\r\n    \t\t&quot;c&quot;,\r\n    \t\t&quot;d&quot;,\r\n    \t\t&quot;e&quot;\r\n    \t\t]\r\n    \t}\r\n    \t\r\n    &quot;type&quot;: &quot;CUSTOM&quot;\r\n    &quot;reportId&quot;: &quot;desiredReport&quot;\r\n    }\r\n    \r\n    \r\n    {\r\n    &quot;_id&quot;:&quot;some_random_id&quot;\r\n    &quot;name&quot;: &quot;report1&quot;\r\n    &quot;reportDef&quot;:\r\n    \t{\r\n    \t&quot;reportParameters&quot;:\r\n    \t\t[&quot;e&quot;,\r\n    \t\t&quot;f&quot;,\r\n    \t\t&quot;b&quot;,\r\n    \t\t&quot;y&quot;,\r\n    \t\t&quot;z&quot;\r\n    \t\t]\r\n    \t}\r\n    \t\r\n    &quot;type&quot;: &quot;CUSTOM&quot;\r\n    &quot;reportId&quot;: &quot;desiredReport&quot;\r\n    }\r\n\r\nand I need to remove &quot;b&quot; from the reportParameters if this condition satisfies i.e., if type=&quot;CUSTOM&quot; and reportId=&quot;desiredReport&quot;\r\n\r\nmeans final json document should be like below\r\n\r\n    {\r\n    &quot;_id&quot;:&quot;some_random_id&quot;\r\n    &quot;name&quot;: &quot;report1&quot;\r\n    &quot;reportDef&quot;:\r\n    \t{\r\n    \t&quot;reportParameters&quot;:\r\n    \t\t[&quot;a&quot;,\r\n    \t\t&quot;c&quot;,\r\n    \t\t&quot;d&quot;,\r\n    \t\t&quot;e&quot;\r\n    \t\t]\r\n    \t}\r\n    \t\r\n    &quot;type&quot;: &quot;CUSTOM&quot;\r\n    &quot;reportId&quot;: &quot;desiredReport&quot;\r\n    }\r\n    \r\n    {\r\n    &quot;_id&quot;:&quot;some_random_id&quot;\r\n    &quot;name&quot;: &quot;report1&quot;\r\n    &quot;reportDef&quot;:\r\n    \t{\r\n    \t&quot;reportParameters&quot;:\r\n    \t\t[&quot;e&quot;,\r\n    \t\t&quot;f&quot;,\r\n    \t\t&quot;y&quot;,\r\n    \t\t&quot;z&quot;\r\n    \t\t]\r\n    \t}\r\n    \t\r\n    &quot;type&quot;: &quot;CUSTOM&quot;\r\n    &quot;reportId&quot;: &quot;desiredReport&quot;\r\n    }\r\n\r\n\r\nHow to add changeset to achieve this?\r\n","title":"How to write Mongo db changeset to remove child node","body":"<p>I have a List of Documents like below which I got it from Mongodb</p>\n<pre><code>{\n&quot;_id&quot;:&quot;some_random_id&quot;\n&quot;name&quot;: &quot;report1&quot;\n&quot;reportDef&quot;:\n    {\n    &quot;reportParameters&quot;:\n        [&quot;a&quot;,\n        &quot;b&quot;,\n        &quot;c&quot;,\n        &quot;d&quot;,\n        &quot;e&quot;\n        ]\n    }\n    \n&quot;type&quot;: &quot;CUSTOM&quot;\n&quot;reportId&quot;: &quot;desiredReport&quot;\n}\n\n\n{\n&quot;_id&quot;:&quot;some_random_id&quot;\n&quot;name&quot;: &quot;report1&quot;\n&quot;reportDef&quot;:\n    {\n    &quot;reportParameters&quot;:\n        [&quot;e&quot;,\n        &quot;f&quot;,\n        &quot;b&quot;,\n        &quot;y&quot;,\n        &quot;z&quot;\n        ]\n    }\n    \n&quot;type&quot;: &quot;CUSTOM&quot;\n&quot;reportId&quot;: &quot;desiredReport&quot;\n}\n</code></pre>\n<p>and I need to remove &quot;b&quot; from the reportParameters if this condition satisfies i.e., if type=&quot;CUSTOM&quot; and reportId=&quot;desiredReport&quot;</p>\n<p>means final json document should be like below</p>\n<pre><code>{\n&quot;_id&quot;:&quot;some_random_id&quot;\n&quot;name&quot;: &quot;report1&quot;\n&quot;reportDef&quot;:\n    {\n    &quot;reportParameters&quot;:\n        [&quot;a&quot;,\n        &quot;c&quot;,\n        &quot;d&quot;,\n        &quot;e&quot;\n        ]\n    }\n    \n&quot;type&quot;: &quot;CUSTOM&quot;\n&quot;reportId&quot;: &quot;desiredReport&quot;\n}\n\n{\n&quot;_id&quot;:&quot;some_random_id&quot;\n&quot;name&quot;: &quot;report1&quot;\n&quot;reportDef&quot;:\n    {\n    &quot;reportParameters&quot;:\n        [&quot;e&quot;,\n        &quot;f&quot;,\n        &quot;y&quot;,\n        &quot;z&quot;\n        ]\n    }\n    \n&quot;type&quot;: &quot;CUSTOM&quot;\n&quot;reportId&quot;: &quot;desiredReport&quot;\n}\n</code></pre>\n<p>How to add changeset to achieve this?</p>\n"},{"tags":["java","spring","testing","junit"],"answers":[{"tags":[],"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667060247,"creation_date":1667060247,"answer_id":74246872,"question_id":74245744,"body_markdown":"The content type you&#39;ve set is used for the request, but in your assertion you&#39;re checking for the content type which is returned in the response.\r\n\r\nAs you can see in the log, there is no content type or body set in the MockHttpServletResponse:\r\n\r\n    MockHttpServletResponse:\r\n           Status = 200\r\n    Error message = null\r\n          Headers = []\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\nSo there seems to be an issue with the returned object in your mocked result of \r\n\r\n    when(employeeService.save(employeeDto.toEmployee())).thenReturn(employee);\r\n\r\nsince the result of this will be rendered to a JSON object you&#39;re doing your assertions on.","title":"I have an error &quot;Content type not set&quot; when testing with junit","body":"<p>The content type you've set is used for the request, but in your assertion you're checking for the content type which is returned in the response.</p>\n<p>As you can see in the log, there is no content type or body set in the MockHttpServletResponse:</p>\n<pre><code>MockHttpServletResponse:\n       Status = 200\nError message = null\n      Headers = []\n Content type = null\n         Body = \nForwarded URL = null\n</code></pre>\n<p>Redirected URL = null\nCookies = []</p>\n<p>So there seems to be an issue with the returned object in your mocked result of</p>\n<pre><code>when(employeeService.save(employeeDto.toEmployee())).thenReturn(employee);\n</code></pre>\n<p>since the result of this will be rendered to a JSON object you're doing your assertions on.</p>\n"},{"tags":[],"owner":{"account_id":18580192,"reputation":21,"user_id":13539927,"display_name":"Sajjad Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682604994,"creation_date":1682114862,"answer_id":76077010,"question_id":74245744,"body_markdown":"I had a same issue related to `Content-Type` while writing test.\r\nI was writing test for REST controller. I had mockbean of my service when ever I was trying to access my service method my service method was iterating the list then matching the `id` and then returned me a object but when I was writing test, I was not using let list, just passing single object that was causing the issue of `Content-Type`. I hope this might help.\r\n\r\n***Note***: I was not using repository. I was using hardcoded values in my services.\r\n\r\n","title":"I have an error &quot;Content type not set&quot; when testing with junit","body":"<p>I had a same issue related to <code>Content-Type</code> while writing test.\nI was writing test for REST controller. I had mockbean of my service when ever I was trying to access my service method my service method was iterating the list then matching the <code>id</code> and then returned me a object but when I was writing test, I was not using let list, just passing single object that was causing the issue of <code>Content-Type</code>. I hope this might help.</p>\n<p><em><strong>Note</strong></em>: I was not using repository. I was using hardcoded values in my services.</p>\n"}],"owner":{"account_id":26769224,"reputation":3,"user_id":20365901,"display_name":"poub 770"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74246872,"answer_count":2,"score":0,"last_activity_date":1682604994,"creation_date":1667050440,"question_id":74245744,"body_markdown":"I use spring boot 2.7 and test with junit\r\nduring the execution of the tests I get an error :\r\nthe other tests work well.\r\n\r\ncontroller \r\n\r\n```java\r\n@PostMapping(value = &quot;/employees&quot;)\r\npublic ResponseEntity&lt;Employee&gt; addEmployee(@Valid @RequestBody EmployeeDto employeeDto) {\r\n\r\n    Optional&lt;Employee&gt; employeeDb = employeeService.findByEmail(employeeDto.getEmail());\r\n\r\n    // must not exist in database\r\n    if (!employeeDb.isEmpty()) {\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\r\n    }\r\n\r\n    // convertion dto -&gt; model\r\n    Employee employee = employeeDto.toEmployee();\r\n\r\n    return new ResponseEntity&lt;&gt;(employeeService.save(employee), HttpStatus.OK);\r\n}\r\n```\r\n\r\ncontrollerTest\r\n\r\n```java\r\n@Test\r\nvoid addEmployee() throws Exception {\r\n\r\n    when(employeeService.save(employeeDto.toEmployee())).thenReturn(employee);\r\n    when(employeeService.findByEmail(any(String.class))).thenReturn(Optional.of(employee));\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    String json = objectMapper.writeValueAsString(employeeDto);\r\n\r\n    mockMvc.perform(\r\n        MockMvcRequestBuilders\r\n        .post(REST_URL)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .accept(MediaType.APPLICATION_JSON)\r\n        .characterEncoding(&quot;utf-8&quot;)\r\n        .content(json)\r\n    )\r\n    .andExpect(status().isOk())\r\n    .andExpect(content().contentTypeCompatibleWith(MediaType.APPLICATION_JSON))\r\n    .andExpect(jsonPath(&quot;$.firstname&quot;, is(employee.getFirstname())))\r\n    .andExpect(jsonPath(&quot;$.lastname&quot;, is(employee.getLastname())))\r\n    .andExpect(jsonPath(&quot;$.email&quot;, is(employee.getEmail())));\r\n}\r\n```\r\n\r\nthe error : &quot;Content type not set&quot;\r\nyet in the test I indicate well the content-type : &quot;.contentType(MediaType.APPLICATION_JSON)&quot;\r\n\r\n```\r\nMockHttpServletRequest:\r\n      HTTP Method = POST\r\n      Request URI = /api/employees/\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;74&quot;]\r\n             Body = {&quot;email&quot;:&quot;test1@test.com&quot;,&quot;firstname&quot;:&quot;firstname1&quot;,&quot;lastname&quot;:&quot;lastname1&quot;}\r\n    Session Attrs = {}\r\n\r\nHandler:\r\n             Type = com.acme.app1.controllers.EmployeeController\r\n           Method = com.acme.app1.controllers.EmployeeController#addEmployee(EmployeeDto)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 200\r\n    Error message = null\r\n          Headers = []\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\njava.lang.AssertionError: Content type not set\r\n\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:37)\r\n\tat org.springframework.test.util.AssertionErrors.assertTrue(AssertionErrors.java:70)\r\n\tat org.springframework.test.util.AssertionErrors.assertNotNull(AssertionErrors.java:106)\r\n```\r\n\r\nfor the test to be successful, what should I change?","title":"I have an error &quot;Content type not set&quot; when testing with junit","body":"<p>I use spring boot 2.7 and test with junit\nduring the execution of the tests I get an error :\nthe other tests work well.</p>\n<p>controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/employees&quot;)\npublic ResponseEntity&lt;Employee&gt; addEmployee(@Valid @RequestBody EmployeeDto employeeDto) {\n\n    Optional&lt;Employee&gt; employeeDb = employeeService.findByEmail(employeeDto.getEmail());\n\n    // must not exist in database\n    if (!employeeDb.isEmpty()) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\n    }\n\n    // convertion dto -&gt; model\n    Employee employee = employeeDto.toEmployee();\n\n    return new ResponseEntity&lt;&gt;(employeeService.save(employee), HttpStatus.OK);\n}\n</code></pre>\n<p>controllerTest</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid addEmployee() throws Exception {\n\n    when(employeeService.save(employeeDto.toEmployee())).thenReturn(employee);\n    when(employeeService.findByEmail(any(String.class))).thenReturn(Optional.of(employee));\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    String json = objectMapper.writeValueAsString(employeeDto);\n\n    mockMvc.perform(\n        MockMvcRequestBuilders\n        .post(REST_URL)\n        .contentType(MediaType.APPLICATION_JSON)\n        .accept(MediaType.APPLICATION_JSON)\n        .characterEncoding(&quot;utf-8&quot;)\n        .content(json)\n    )\n    .andExpect(status().isOk())\n    .andExpect(content().contentTypeCompatibleWith(MediaType.APPLICATION_JSON))\n    .andExpect(jsonPath(&quot;$.firstname&quot;, is(employee.getFirstname())))\n    .andExpect(jsonPath(&quot;$.lastname&quot;, is(employee.getLastname())))\n    .andExpect(jsonPath(&quot;$.email&quot;, is(employee.getEmail())));\n}\n</code></pre>\n<p>the error : &quot;Content type not set&quot;\nyet in the test I indicate well the content-type : &quot;.contentType(MediaType.APPLICATION_JSON)&quot;</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /api/employees/\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;74&quot;]\n             Body = {&quot;email&quot;:&quot;test1@test.com&quot;,&quot;firstname&quot;:&quot;firstname1&quot;,&quot;lastname&quot;:&quot;lastname1&quot;}\n    Session Attrs = {}\n\nHandler:\n             Type = com.acme.app1.controllers.EmployeeController\n           Method = com.acme.app1.controllers.EmployeeController#addEmployee(EmployeeDto)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = []\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: Content type not set\n\n    at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:37)\n    at org.springframework.test.util.AssertionErrors.assertTrue(AssertionErrors.java:70)\n    at org.springframework.test.util.AssertionErrors.assertNotNull(AssertionErrors.java:106)\n</code></pre>\n<p>for the test to be successful, what should I change?</p>\n"},{"tags":["java","fonts","jasper-reports","dynamic-reports"],"comments":[{"owner":{"account_id":2000366,"reputation":1729,"user_id":1791574,"accept_rate":47,"display_name":"user1791574"},"score":0,"creation_date":1387031744,"post_id":20584290,"comment_id":30794033,"body_markdown":"Have you install this font in your server machine.","body":"Have you install this font in your server machine."},{"owner":{"account_id":1161452,"reputation":1509,"user_id":1147388,"accept_rate":29,"display_name":"Oiew"},"score":0,"creation_date":1526808349,"post_id":20584290,"comment_id":87881001,"body_markdown":"Similar question was discussed here: https://stackoverflow.com/questions/25404145/register-font-is-corrupting-ttf-file/25503853#25503853","body":"Similar question was discussed here: <a href=\"https://stackoverflow.com/questions/25404145/register-font-is-corrupting-ttf-file/25503853#25503853\" title=\"register font is corrupting ttf file\">stackoverflow.com/questions/25404145/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1387118178,"post_id":20592121,"comment_id":30814997,"body_markdown":"What is the font&#39;s URL?","body":"What is the font&#39;s URL?"},{"owner":{"account_id":280941,"reputation":4574,"user_id":576954,"accept_rate":68,"display_name":"MoienGK"},"score":0,"creation_date":1387118471,"post_id":20592121,"comment_id":30815056,"body_markdown":"now it is an address on my disk say &#39;/home/raysis/tahoma.ttf&#39; but before that i copied my font into resource folder","body":"now it is an address on my disk say &#39;/home/raysis/tahoma.ttf&#39; but before that i copied my font into resource folder"}],"tags":[],"owner":{"account_id":280941,"reputation":4574,"user_id":576954,"accept_rate":68,"display_name":"MoienGK"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387091023,"creation_date":1387091023,"answer_id":20592121,"question_id":20584290,"body_markdown":"I managed to solve it by changing relative URL of font to absolute URL. But i don&#39;t know why relative URL causes that problem.","title":"What does java.awt.FontFormatException: bad table, tag=1196445523 indicating?","body":"<p>I managed to solve it by changing relative URL of font to absolute URL. But i don't know why relative URL causes that problem.</p>\n"},{"tags":[],"owner":{"account_id":1248077,"reputation":121,"user_id":1209114,"display_name":"Leonardo Pessoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1448290516,"creation_date":1448290516,"answer_id":33874027,"question_id":20584290,"body_markdown":"In my case, I&#39;m using Maven 3.3.3 to build my releases.\r\nThe maven-resource-plugin was filtering the resources and applying UTF-8 in font files (.ttf).\r\n\r\nSo, I added this configuration and it solved the problem.\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/jasperreports_extension.properties&lt;/include&gt;\r\n                    &lt;include&gt;**/tecsofti-fonts.xml&lt;/include&gt;\r\n                    &lt;include&gt;**/*.ttf&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;","title":"What does java.awt.FontFormatException: bad table, tag=1196445523 indicating?","body":"<p>In my case, I'm using Maven 3.3.3 to build my releases.\nThe maven-resource-plugin was filtering the resources and applying UTF-8 in font files (.ttf).</p>\n\n<p>So, I added this configuration and it solved the problem.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;false&lt;/filtering&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/jasperreports_extension.properties&lt;/include&gt;\n                &lt;include&gt;**/tecsofti-fonts.xml&lt;/include&gt;\n                &lt;include&gt;**/*.ttf&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3561836,"reputation":1206,"user_id":3408806,"display_name":"nobjta_9x_tq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557377211,"creation_date":1557377211,"answer_id":56052354,"question_id":20584290,"body_markdown":"I replace /fonts/FONT.TTF to ./fonts/FONT.TTF and it work\r\nNote: replace in fonts.xml and resources\\jasperreports_extension.properties","title":"What does java.awt.FontFormatException: bad table, tag=1196445523 indicating?","body":"<p>I replace /fonts/FONT.TTF to ./fonts/FONT.TTF and it work\nNote: replace in fonts.xml and resources\\jasperreports_extension.properties</p>\n"},{"tags":[],"owner":{"account_id":8065471,"reputation":1181,"user_id":6079771,"display_name":"moolsbytheway"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682604890,"creation_date":1682604890,"answer_id":76121429,"question_id":20584290,"body_markdown":"In my case the font file was corrupted.\r\nIt worked when i replaced it.","title":"What does java.awt.FontFormatException: bad table, tag=1196445523 indicating?","body":"<p>In my case the font file was corrupted.\nIt worked when i replaced it.</p>\n"}],"owner":{"account_id":280941,"reputation":4574,"user_id":576954,"accept_rate":68,"display_name":"MoienGK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4973,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1682604890,"creation_date":1387030116,"question_id":20584290,"body_markdown":"I have followed [this link][1] to  add fonts to my jasper report project, but i get this exception when trying to build the report, what does this exception mean any way? i can&#39;t find any solution on how to solve it.\r\nnote that i am trying to add  `Ubuntu-LI` font\r\n\r\n    17:26:35-218 -  - raysis.rohani.rg.report.builder.ReportBuilder.show(120) - error in showing the jasper report (called from ReportBuilder)\r\n    net.sf.jasperreports.engine.JRRuntimeException: java.awt.FontFormatException: bad table, tag=1196445523\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontFace.&lt;init&gt;(SimpleFontFace.java:104)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontFace.&lt;init&gt;(SimpleFontFace.java:128)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontFace.getInstance(SimpleFontFace.java:67)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontFamily.setNormal(SimpleFontFamily.java:99)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.parseFontFamily(SimpleFontExtensionHelper.java:261)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.parseFontFamilies(SimpleFontExtensionHelper.java:232)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.loadFontFamilies(SimpleFontExtensionHelper.java:193)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.loadFontFamilies(SimpleFontExtensionHelper.java:162)\r\n    \tat net.sf.jasperreports.engine.fonts.FontExtensionsRegistry.getExtensions(FontExtensionsRegistry.java:56)\r\n    \tat net.sf.jasperreports.extensions.DefaultExtensionsRegistry.getExtensions(DefaultExtensionsRegistry.java:110)\r\n    \tat net.sf.jasperreports.engine.DefaultJasperReportsContext.getExtensions(DefaultJasperReportsContext.java:246)\r\n    \tat net.sf.jasperreports.engine.fonts.FontUtil.getFontInfo(FontUtil.java:185)\r\n    \tat net.sf.jasperreports.engine.fonts.FontUtil.getAwtFontFromBundles(FontUtil.java:245)\r\n    \tat net.sf.dynamicreports.design.transformation.StyleResolver.getFont(StyleResolver.java:96)\r\n    \tat net.sf.dynamicreports.design.transformation.StyleResolver.getFont(StyleResolver.java:71)\r\n    \tat net.sf.dynamicreports.design.transformation.StyleResolver.getFontHeight(StyleResolver.java:52)\r\n    \tat net.sf.dynamicreports.design.transformation.TemplateTransform.getTextFieldHeight(TemplateTransform.java:967)\r\n    \tat net.sf.dynamicreports.design.transformation.ComponentTransform.textField(ComponentTransform.java:332)\r\n    \tat net.sf.dynamicreports.design.transformation.ComponentTransform.component(ComponentTransform.java:152)\r\n    \tat net.sf.dynamicreports.design.transformation.ComponentTransform.list(ComponentTransform.java:285)\r\n    \tat net.sf.dynamicreports.design.transformation.BandTransform.band(BandTransform.java:184)\r\n    \tat net.sf.dynamicreports.design.transformation.BandTransform.transform(BandTransform.java:74)\r\n    \tat net.sf.dynamicreports.design.base.DRDesignReport.transform(DRDesignReport.java:135)\r\n    \tat net.sf.dynamicreports.design.base.DRDesignReport.&lt;init&gt;(DRDesignReport.java:107)\r\n    \tat net.sf.dynamicreports.design.base.DRDesignReport.&lt;init&gt;(DRDesignReport.java:99)\r\n    \tat net.sf.dynamicreports.jasper.builder.JasperReportBuilder.toJasperReportDesign(JasperReportBuilder.java:261)\r\n    \tat net.sf.dynamicreports.jasper.builder.JasperReportBuilder.getJasperParameters(JasperReportBuilder.java:288)\r\n    \tat net.sf.dynamicreports.jasper.builder.JasperReportBuilder.toJasperPrint(JasperReportBuilder.java:299)\r\n    \tat net.sf.dynamicreports.jasper.builder.JasperReportBuilder.show(JasperReportBuilder.java:328)\r\n    \tat raysis.rohani.rg.report.JasperBuilder.show(JasperBuilder.java:121)\r\n    \tat raysis.rohani.rg.report.builder.ReportBuilder.show(ReportBuilder.java:118)\r\n    \tat raysis.rohani.rg.report.test.ReportMaker.main(ReportMaker.java:46)\r\n    Caused by: java.awt.FontFormatException: bad table, tag=1196445523\r\n    \tat sun.font.TrueTypeFont.init(TrueTypeFont.java:547)\r\n    \tat sun.font.TrueTypeFont.&lt;init&gt;(TrueTypeFont.java:191)\r\n    \tat sun.font.SunFontManager.createFont2D(SunFontManager.java:2460)\r\n    \tat java.awt.Font.&lt;init&gt;(Font.java:614)\r\n    \tat java.awt.Font.createFont0(Font.java:968)\r\n    \tat java.awt.Font.createFont(Font.java:876)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontFace.&lt;init&gt;(SimpleFontFace.java:100)\r\n    \t... 31 more\r\n\r\nany help will be highly apreciated\r\n  [1]: http://www.dynamicreports.org/documentation/fonts","title":"What does java.awt.FontFormatException: bad table, tag=1196445523 indicating?","body":"<p>I have followed <a href=\"http://www.dynamicreports.org/documentation/fonts\" rel=\"nofollow\">this link</a> to  add fonts to my jasper report project, but i get this exception when trying to build the report, what does this exception mean any way? i can't find any solution on how to solve it.\nnote that i am trying to add  <code>Ubuntu-LI</code> font</p>\n\n<pre><code>17:26:35-218 -  - raysis.rohani.rg.report.builder.ReportBuilder.show(120) - error in showing the jasper report (called from ReportBuilder)\nnet.sf.jasperreports.engine.JRRuntimeException: java.awt.FontFormatException: bad table, tag=1196445523\n    at net.sf.jasperreports.engine.fonts.SimpleFontFace.&lt;init&gt;(SimpleFontFace.java:104)\n    at net.sf.jasperreports.engine.fonts.SimpleFontFace.&lt;init&gt;(SimpleFontFace.java:128)\n    at net.sf.jasperreports.engine.fonts.SimpleFontFace.getInstance(SimpleFontFace.java:67)\n    at net.sf.jasperreports.engine.fonts.SimpleFontFamily.setNormal(SimpleFontFamily.java:99)\n    at net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.parseFontFamily(SimpleFontExtensionHelper.java:261)\n    at net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.parseFontFamilies(SimpleFontExtensionHelper.java:232)\n    at net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.loadFontFamilies(SimpleFontExtensionHelper.java:193)\n    at net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.loadFontFamilies(SimpleFontExtensionHelper.java:162)\n    at net.sf.jasperreports.engine.fonts.FontExtensionsRegistry.getExtensions(FontExtensionsRegistry.java:56)\n    at net.sf.jasperreports.extensions.DefaultExtensionsRegistry.getExtensions(DefaultExtensionsRegistry.java:110)\n    at net.sf.jasperreports.engine.DefaultJasperReportsContext.getExtensions(DefaultJasperReportsContext.java:246)\n    at net.sf.jasperreports.engine.fonts.FontUtil.getFontInfo(FontUtil.java:185)\n    at net.sf.jasperreports.engine.fonts.FontUtil.getAwtFontFromBundles(FontUtil.java:245)\n    at net.sf.dynamicreports.design.transformation.StyleResolver.getFont(StyleResolver.java:96)\n    at net.sf.dynamicreports.design.transformation.StyleResolver.getFont(StyleResolver.java:71)\n    at net.sf.dynamicreports.design.transformation.StyleResolver.getFontHeight(StyleResolver.java:52)\n    at net.sf.dynamicreports.design.transformation.TemplateTransform.getTextFieldHeight(TemplateTransform.java:967)\n    at net.sf.dynamicreports.design.transformation.ComponentTransform.textField(ComponentTransform.java:332)\n    at net.sf.dynamicreports.design.transformation.ComponentTransform.component(ComponentTransform.java:152)\n    at net.sf.dynamicreports.design.transformation.ComponentTransform.list(ComponentTransform.java:285)\n    at net.sf.dynamicreports.design.transformation.BandTransform.band(BandTransform.java:184)\n    at net.sf.dynamicreports.design.transformation.BandTransform.transform(BandTransform.java:74)\n    at net.sf.dynamicreports.design.base.DRDesignReport.transform(DRDesignReport.java:135)\n    at net.sf.dynamicreports.design.base.DRDesignReport.&lt;init&gt;(DRDesignReport.java:107)\n    at net.sf.dynamicreports.design.base.DRDesignReport.&lt;init&gt;(DRDesignReport.java:99)\n    at net.sf.dynamicreports.jasper.builder.JasperReportBuilder.toJasperReportDesign(JasperReportBuilder.java:261)\n    at net.sf.dynamicreports.jasper.builder.JasperReportBuilder.getJasperParameters(JasperReportBuilder.java:288)\n    at net.sf.dynamicreports.jasper.builder.JasperReportBuilder.toJasperPrint(JasperReportBuilder.java:299)\n    at net.sf.dynamicreports.jasper.builder.JasperReportBuilder.show(JasperReportBuilder.java:328)\n    at raysis.rohani.rg.report.JasperBuilder.show(JasperBuilder.java:121)\n    at raysis.rohani.rg.report.builder.ReportBuilder.show(ReportBuilder.java:118)\n    at raysis.rohani.rg.report.test.ReportMaker.main(ReportMaker.java:46)\nCaused by: java.awt.FontFormatException: bad table, tag=1196445523\n    at sun.font.TrueTypeFont.init(TrueTypeFont.java:547)\n    at sun.font.TrueTypeFont.&lt;init&gt;(TrueTypeFont.java:191)\n    at sun.font.SunFontManager.createFont2D(SunFontManager.java:2460)\n    at java.awt.Font.&lt;init&gt;(Font.java:614)\n    at java.awt.Font.createFont0(Font.java:968)\n    at java.awt.Font.createFont(Font.java:876)\n    at net.sf.jasperreports.engine.fonts.SimpleFontFace.&lt;init&gt;(SimpleFontFace.java:100)\n    ... 31 more\n</code></pre>\n\n<p>any help will be highly apreciated</p>\n"},{"tags":["java","parallel-processing","java-stream"],"comments":[{"owner":{"account_id":1197724,"reputation":4402,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":0,"creation_date":1682563796,"post_id":76116361,"comment_id":134236896,"body_markdown":"We can&#39;t reproduce your issue with the information you&#39;ve provided.","body":"We can&#39;t reproduce your issue with the information you&#39;ve provided."},{"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"score":0,"creation_date":1682564123,"post_id":76116361,"comment_id":134236919,"body_markdown":"@nicomp We dont have to reproduce this, oracle document itself says forEachOrdered is not efficient with parallelStream","body":"@nicomp We dont have to reproduce this, oracle document itself says forEachOrdered is not efficient with parallelStream"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1682564267,"post_id":76116361,"comment_id":134236934,"body_markdown":"When you say &#39;I have tested the code but it seems more efficient&#39;, what does that mean? Did you write 2 test cases and ran them with [JMH](https://www.baeldung.com/java-microbenchmark-harness)? If the answer is no - then it is likely you have no basis to make this claim.","body":"When you say &#39;I have tested the code but it seems more efficient&#39;, what does that mean? Did you write 2 test cases and ran them with <a href=\"https://www.baeldung.com/java-microbenchmark-harness\" rel=\"nofollow noreferrer\">JMH</a>? If the answer is no - then it is likely you have no basis to make this claim."},{"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"score":0,"creation_date":1682564760,"post_id":76116361,"comment_id":134236977,"body_markdown":"@rzwitserloot I have not used bench mark, trying only with multiple test cases and StopWatch","body":"@rzwitserloot I have not used bench mark, trying only with multiple test cases and StopWatch"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1682566302,"post_id":76116361,"comment_id":134237101,"body_markdown":"@VishnuTS it is OK to assume that `finalProd` is supposed to have the mapped products in the same order as `products`?","body":"@VishnuTS it is OK to assume that <code>finalProd</code> is supposed to have the mapped products in the same order as <code>products</code>?"},{"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"score":1,"creation_date":1682566539,"post_id":76116361,"comment_id":134237116,"body_markdown":"@Andr&#233;sAlcarraz yes expecting mapped products should have same as products","body":"@Andr&#233;sAlcarraz yes expecting mapped products should have same as products"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1682566912,"post_id":76116361,"comment_id":134237138,"body_markdown":"Ok @VishnuTS, I added an answer, with some explanation, there are comments with unsupported claims that it won&#39;t respect the order, but I didn&#39;t find anywhere that&#39;s not true. So if you test it and it works, please accept it.","body":"Ok @VishnuTS, I added an answer, with some explanation, there are comments with unsupported claims that it won&#39;t respect the order, but I didn&#39;t find anywhere that&#39;s not true. So if you test it and it works, please accept it."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1682568006,"post_id":76116361,"comment_id":134237236,"body_markdown":"Does this answer your question? [Why parallel stream get collected sequentially in Java 8](https://stackoverflow.com/questions/29709140/why-parallel-stream-get-collected-sequentially-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29709140/why-parallel-stream-get-collected-sequentially-in-java-8\">Why parallel stream get collected sequentially in Java 8</a>"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1682568313,"post_id":76116361,"comment_id":134237257,"body_markdown":"As @Andr&#233;sAlcarraz pointed out, most collect and reduce operations do maintain encounter order unless source or target are unordered. This comes at a cost, however - performance may be somewhere between forEach and forEachOrdered.","body":"As @Andr&#233;sAlcarraz pointed out, most collect and reduce operations do maintain encounter order unless source or target are unordered. This comes at a cost, however - performance may be somewhere between forEach and forEachOrdered."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1682564320,"post_id":76116394,"comment_id":134236940,"body_markdown":"This would not guarantee that the data is processed in order, let alone turns into a list that holds the same order, and you&#39;re making wild stabs in the dark about what `finalProd` even is, here. If you don&#39;t have enough information, don&#39;t just toss a random answer out.","body":"This would not guarantee that the data is processed in order, let alone turns into a list that holds the same order, and you&#39;re making wild stabs in the dark about what <code>finalProd</code> even is, here. If you don&#39;t have enough information, don&#39;t just toss a random answer out."},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1682565193,"post_id":76116394,"comment_id":134237012,"body_markdown":"@rzwitserloot Can you say why, linking to a source, or demonstrate with an example why it does not respect the order? About the assumption is quite reasonable given the OP&#39;s question.","body":"@rzwitserloot Can you say why, linking to a source, or demonstrate with an example why it does not respect the order? About the assumption is quite reasonable given the OP&#39;s question."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682567162,"post_id":76116394,"comment_id":134237153,"body_markdown":"In other words, the burden of proof is on you, not on me. Without specced proof that this works, the correct act is to presume it won&#39;t work - even if running it on a JVM right now appears to indicate that it does.","body":"In other words, the burden of proof is on you, not on me. Without specced proof that this works, the correct act is to presume it won&#39;t work - even if running it on a JVM right now appears to indicate that it does."},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":1,"creation_date":1682567299,"post_id":76116394,"comment_id":134237164,"body_markdown":"@rzwitserloot The ordered streams guarantee ordered processing regardless of it being processed in parallel or sequentially, if the code of the mapping function has race conditions is not in the scope of the question or the answer. Just read the javadoc to see a proof of what I claim https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Ordering.","body":"@rzwitserloot The ordered streams guarantee ordered processing regardless of it being processed in parallel or sequentially, if the code of the mapping function has race conditions is not in the scope of the question or the answer. Just read the javadoc to see a proof of what I claim <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Ordering\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":3,"creation_date":1682567787,"post_id":76116394,"comment_id":134237212,"body_markdown":"@rzwitserloot the OP has clarified that only the order in the result is important. Encounter order will be preserved by the toList-Collector. See https://stackoverflow.com/questions/29709140/why-parallel-stream-get-collected-sequentially-in-java-8","body":"@rzwitserloot the OP has clarified that only the order in the result is important. Encounter order will be preserved by the toList-Collector. See <a href=\"https://stackoverflow.com/questions/29709140/why-parallel-stream-get-collected-sequentially-in-java-8\" title=\"why parallel stream get collected sequentially in java 8\">stackoverflow.com/questions/29709140/&hellip;</a>"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682603527,"post_id":76116394,"comment_id":134244521,"body_markdown":"@AndresAlcarraz wrote: _The ordered streams guarantee_ - uh, okay. That&#39;s nice. This answer does not use an ordered stream, your comment isn&#39;t relevant to this answer.","body":"@AndresAlcarraz wrote: <i>The ordered streams guarantee</i> - uh, okay. That&#39;s nice. This answer does not use an ordered stream, your comment isn&#39;t relevant to this answer."},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1682604419,"post_id":76116394,"comment_id":134244754,"body_markdown":"@rzwitserloot The `products` list is ordered, otherwise it wouldn&#39;t make sense to respect that order. It&#39;s implicit to the question. And an ordered collection produces an ordered stream.","body":"@rzwitserloot The <code>products</code> list is ordered, otherwise it wouldn&#39;t make sense to respect that order. It&#39;s implicit to the question. And an ordered collection produces an ordered stream."}],"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"comment_count":7,"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1682604822,"creation_date":1682564041,"answer_id":76116394,"question_id":76116361,"body_markdown":"This assumes that `finalProd` is supposed to have the products in `products` mapped and in the same order:\r\n\r\n```java\r\nfinalProd = products\r\n     .parallelStream()\r\n     .map(p-&gt; mapProduct(p))\r\n     .collect(Collectors.toList())\r\n```\r\n\r\nThe `parallelStream()` method creates a parallel stream to be processed concurrently, the `map` operation maintains the order of the `stream` and finally the collector collects them to a list which respects the order also.\r\n\r\nYou can check this claim in the [`stream` package javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Ordering):\r\nOrdering\r\n\r\n&gt; Streams may or may not have a defined encounter order. Whether or not a stream has an encounter order depends on the source and the intermediate operations. **Certain stream sources (such as List or arrays) are intrinsically ordered**, \r\n&gt; **If a stream is ordered, most operations are constrained to operate on the elements in their encounter order; if the source of a stream is a List containing [1, 2, 3], then the result of executing map(x -&gt; x*2) must be [2, 4, 6]**...\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt;For parallel streams, relaxing the ordering constraint can sometimes enable more efficient execution. Certain aggregate operations, such as filtering duplicates (distinct()) or grouped reductions (Collectors.groupingBy()) can be implemented more efficiently if ordering of elements is not relevant. Similarly, operations that are intrinsically tied to encounter order, such as limit(), may require buffering to ensure proper ordering, undermining the benefit of parallelism. **In cases where the stream has an encounter order, but the user does not particularly care about that encounter order, explicitly de-ordering the stream with unordered()** may improve parallel performance for some stateful or terminal operations. However, most stream pipelines, such as the &quot;sum of weight of blocks&quot; example above, still parallelize efficiently even under ordering constraints.\r\n\r\nEmphasis is mine, but since we are only applying operations that respect the order, we can ensure the resulting order.","title":"Java parallel task execution","body":"<p>This assumes that <code>finalProd</code> is supposed to have the products in <code>products</code> mapped and in the same order:</p>\n<pre class=\"lang-java prettyprint-override\"><code>finalProd = products\n     .parallelStream()\n     .map(p-&gt; mapProduct(p))\n     .collect(Collectors.toList())\n</code></pre>\n<p>The <code>parallelStream()</code> method creates a parallel stream to be processed concurrently, the <code>map</code> operation maintains the order of the <code>stream</code> and finally the collector collects them to a list which respects the order also.</p>\n<p>You can check this claim in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Ordering\" rel=\"nofollow noreferrer\"><code>stream</code> package javadoc</a>:\nOrdering</p>\n<blockquote>\n<p>Streams may or may not have a defined encounter order. Whether or not a stream has an encounter order depends on the source and the intermediate operations. <strong>Certain stream sources (such as List or arrays) are intrinsically ordered</strong>,\n<strong>If a stream is ordered, most operations are constrained to operate on the elements in their encounter order; if the source of a stream is a List containing [1, 2, 3], then the result of executing map(x -&gt; x*2) must be [2, 4, 6]</strong>...</p>\n<p>...</p>\n<p>For parallel streams, relaxing the ordering constraint can sometimes enable more efficient execution. Certain aggregate operations, such as filtering duplicates (distinct()) or grouped reductions (Collectors.groupingBy()) can be implemented more efficiently if ordering of elements is not relevant. Similarly, operations that are intrinsically tied to encounter order, such as limit(), may require buffering to ensure proper ordering, undermining the benefit of parallelism. <strong>In cases where the stream has an encounter order, but the user does not particularly care about that encounter order, explicitly de-ordering the stream with unordered()</strong> may improve parallel performance for some stateful or terminal operations. However, most stream pipelines, such as the &quot;sum of weight of blocks&quot; example above, still parallelize efficiently even under ordering constraints.</p>\n</blockquote>\n<p>Emphasis is mine, but since we are only applying operations that respect the order, we can ensure the resulting order.</p>\n"}],"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1682568712,"accepted_answer_id":76116394,"answer_count":1,"score":0,"last_activity_date":1682604822,"creation_date":1682563437,"question_id":76116361,"body_markdown":"I have 1000 products which needs to executed in parallel and result of the output is also a collection. I need to maintain the order, so I used `parallelStream()` with `forEachOrdered`like below\r\n\r\n \r\n\r\n    products.parallelStream().forEachOrdered(pdt -&gt; \r\n     finalProd.add(mapProduct(pdt)));\r\n\r\n \r\nI have tested the code and it seems it is not efficient but better than using `stream()`. As per the [oracle documentation][1] \r\n\r\n&gt;  the method forEachOrdered, which processes the elements of the stream\r\n&gt; in the order specified by its source, regardless of whether you\r\n&gt; executed the stream in serial or parallel. Note that you may lose the\r\n&gt; benefits of parallelism if you use operations like forEachOrdered with\r\n&gt; parallel streams.\r\n\r\nwe are not using full potential of parallelism if we use `forEachOrdered` , Can someone suggest a better way to handle parallel task? I am worried about order only in last output, not concerned about order of execution\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\r\n\r\n","title":"Java parallel task execution","body":"<p>I have 1000 products which needs to executed in parallel and result of the output is also a collection. I need to maintain the order, so I used <code>parallelStream()</code> with <code>forEachOrdered</code>like below</p>\n<pre><code>products.parallelStream().forEachOrdered(pdt -&gt; \n finalProd.add(mapProduct(pdt)));\n</code></pre>\n<p>I have tested the code and it seems it is not efficient but better than using <code>stream()</code>. As per the <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\" rel=\"nofollow noreferrer\">oracle documentation</a></p>\n<blockquote>\n<p>the method forEachOrdered, which processes the elements of the stream\nin the order specified by its source, regardless of whether you\nexecuted the stream in serial or parallel. Note that you may lose the\nbenefits of parallelism if you use operations like forEachOrdered with\nparallel streams.</p>\n</blockquote>\n<p>we are not using full potential of parallelism if we use <code>forEachOrdered</code> , Can someone suggest a better way to handle parallel task? I am worried about order only in last output, not concerned about order of execution</p>\n"},{"tags":["java","jdbc","transactions","connection"],"comments":[{"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1418565971,"post_id":27467901,"comment_id":43375102,"body_markdown":"The documentation for [Transaction.html#isActive()](http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Transaction.html#isActive%28%29) in Hibernate says &quot;we cannot know that a transaction is active when it is initiated directly through the JDBC Connection&quot;, so I&#39;m guessing that the answer to your question is &quot;No.&quot;","body":"The documentation for <a href=\"http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Transaction.html#isActive%28%29\" rel=\"nofollow noreferrer\">Transaction.html#isActive()</a> in Hibernate says &quot;we cannot know that a transaction is active when it is initiated directly through the JDBC Connection&quot;, so I&#39;m guessing that the answer to your question is &quot;No.&quot;"},{"owner":{"account_id":41625,"reputation":5920,"user_id":121035,"display_name":"steve"},"score":0,"creation_date":1418626102,"post_id":27467901,"comment_id":43390909,"body_markdown":"why do you need to know it? Should&#39;t the other thread release the connection only when it is finished?","body":"why do you need to know it? Should&#39;t the other thread release the connection only when it is finished?"},{"owner":{"account_id":4795114,"reputation":657,"user_id":3873267,"accept_rate":57,"display_name":"caniaskyouaquestion"},"score":0,"creation_date":1418636253,"post_id":27467901,"comment_id":43394903,"body_markdown":"i too don&#39;t understand from your question why you need to know when it has started, but if you are worried about your multithreaded environment just say con.autoCommit(false) when you start and set it to true when you are done.","body":"i too don&#39;t understand from your question why you need to know when it has started, but if you are worried about your multithreaded environment just say con.autoCommit(false) when you start and set it to true when you are done."},{"owner":{"account_id":364237,"reputation":2712,"user_id":708510,"accept_rate":0,"display_name":"Jeff_Alieffson"},"score":0,"creation_date":1418736768,"post_id":27467901,"comment_id":43441624,"body_markdown":"I already use it. I set autoCommit(false) at the beginning of application. Because all actions are inside of some transaction scope.","body":"I already use it. I set autoCommit(false) at the beginning of application. Because all actions are inside of some transaction scope."},{"owner":{"account_id":364237,"reputation":2712,"user_id":708510,"accept_rate":0,"display_name":"Jeff_Alieffson"},"score":0,"creation_date":1418737330,"post_id":27467901,"comment_id":43441989,"body_markdown":"Regarding the above question, I use a singleton to do all database actions therefore the connection is one for all threads. Any way I solved the problem. I defined my own method like startTransaction, where I change the boolean flag, like inTransaction=true, and on my commit() and rollback() methods I set this flag to inTransaction=false.","body":"Regarding the above question, I use a singleton to do all database actions therefore the connection is one for all threads. Any way I solved the problem. I defined my own method like startTransaction, where I change the boolean flag, like inTransaction=true, and on my commit() and rollback() methods I set this flag to inTransaction=false."},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1644936504,"post_id":27467901,"comment_id":125733664,"body_markdown":"Some JDBC drivers (Teradata, Azure Synapse) open a phantom &quot;transaction&quot; for queries and metadata queries, and if you do not call conn.rollback() afterwards, some operations (like drop table) will hang, especially if they are done from a *different* connection.  So it would be nice to know &quot;did the driver leave a transaction open?&quot; so that I can abort it.  Unfortunately I have not discovered how to know that and so we are left to call rollback() quite often.","body":"Some JDBC drivers (Teradata, Azure Synapse) open a phantom &quot;transaction&quot; for queries and metadata queries, and if you do not call conn.rollback() afterwards, some operations (like drop table) will hang, especially if they are done from a <i>different</i> connection.  So it would be nice to know &quot;did the driver leave a transaction open?&quot; so that I can abort it.  Unfortunately I have not discovered how to know that and so we are left to call rollback() quite often."}],"answers":[{"tags":[],"owner":{"account_id":14241958,"reputation":136,"user_id":10288029,"display_name":"Anilal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682604781,"creation_date":1682604781,"answer_id":76121405,"question_id":27467901,"body_markdown":"Check the value of \r\n```\r\ncon.getAutoCommit()\r\n```\r\nIf the return value is &#39;false&#39; means some one has already disabled autoCommit and they will execute con.commit(). So you can assume that transaction is enabled.","title":"How to know the transaction is active in JDBC?","body":"<p>Check the value of</p>\n<pre><code>con.getAutoCommit()\n</code></pre>\n<p>If the return value is 'false' means some one has already disabled autoCommit and they will execute con.commit(). So you can assume that transaction is enabled.</p>\n"}],"owner":{"account_id":364237,"reputation":2712,"user_id":708510,"accept_rate":0,"display_name":"Jeff_Alieffson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1415,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1682604781,"creation_date":1418548658,"question_id":27467901,"body_markdown":"Is there a way to know whether there is any pending transaction in JDBC?\r\nI mean the Connection class method. \r\nTo commit we call \r\n\r\n    Connection con;\r\n    con.commit();\r\n\r\nto rollback \r\n\r\n    con.rollback();\r\n\r\nBut how to know, if the transaction already began. I&#39;m writing multithreaded application, and transaction may began by other process. I must know it.\r\nit may be something like to\r\n\r\n    con.inTransaction();\r\n\r\n","title":"How to know the transaction is active in JDBC?","body":"<p>Is there a way to know whether there is any pending transaction in JDBC?\nI mean the Connection class method. \nTo commit we call </p>\n\n<pre><code>Connection con;\ncon.commit();\n</code></pre>\n\n<p>to rollback </p>\n\n<pre><code>con.rollback();\n</code></pre>\n\n<p>But how to know, if the transaction already began. I'm writing multithreaded application, and transaction may began by other process. I must know it.\nit may be something like to</p>\n\n<pre><code>con.inTransaction();\n</code></pre>\n"},{"tags":["java","heap-memory","wildfly","eden"],"owner":{"account_id":7813468,"reputation":1,"user_id":21752443,"display_name":"Rafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682604753,"creation_date":1682584155,"question_id":76118330,"body_markdown":"We have a `Wildfly` containger with 8Gb. It configured to use G1 as garbage collector.\r\n\r\nWe had problems of usage with eden space, in 1 hour `Wildfly` uses all eden space without any wars.  \r\nThis only happens with wildfly, we tried the same memory configuration in `Tomcat` and usage is normal.  \r\nAlso we remove scanner.  \r\nWhen we activated `Dynatrace` the performance got even worst.  \r\n\r\n&gt;  -server -Xms8024m -Xmx8024m -XX:MaxMetaspaceSize=256m -XX:+UseG1GC\r\n&gt; -XX:MaxGCPauseMillis=500 -XX:+DisableExplicitGC -XX:+UseStringDeduplication -XX:+ParallelRefProcEnabled -XX:MaxMetaspaceSize=512m -XX:MaxTenuringThreshold=5\r\n\r\nSame happens without `G1GC` , only diference is that PS Eden Space reserve by default less heap.  \r\n\r\nWe don&#39;t understand this behavior and how much it can affect performance.  gc is done when eden is full and seems to don&#39;t produce almost suspension but still we don&#39;t like it.\r\n\r\nDoes anyone know if this is normal in Wildfly / Jboss?\r\n\r\nThanks in advance.\r\n\r\n\r\nWe try disable Dynatrace,remove wars, heap-dumps that didn&#39;t show nothing special...we try to use the latest Wildfly with JDK11.  \r\nThe only difference was that without Dynatrace eden memory grows slower.","title":"wildfly performance , high usage eden space without use it","body":"<p>We have a <code>Wildfly</code> containger with 8Gb. It configured to use G1 as garbage collector.</p>\n<p>We had problems of usage with eden space, in 1 hour <code>Wildfly</code> uses all eden space without any wars.<br />\nThis only happens with wildfly, we tried the same memory configuration in <code>Tomcat</code> and usage is normal.<br />\nAlso we remove scanner.<br />\nWhen we activated <code>Dynatrace</code> the performance got even worst.</p>\n<blockquote>\n<p>-server -Xms8024m -Xmx8024m -XX:MaxMetaspaceSize=256m -XX:+UseG1GC\n-XX:MaxGCPauseMillis=500 -XX:+DisableExplicitGC -XX:+UseStringDeduplication -XX:+ParallelRefProcEnabled -XX:MaxMetaspaceSize=512m -XX:MaxTenuringThreshold=5</p>\n</blockquote>\n<p>Same happens without <code>G1GC</code> , only diference is that PS Eden Space reserve by default less heap.</p>\n<p>We don't understand this behavior and how much it can affect performance.  gc is done when eden is full and seems to don't produce almost suspension but still we don't like it.</p>\n<p>Does anyone know if this is normal in Wildfly / Jboss?</p>\n<p>Thanks in advance.</p>\n<p>We try disable Dynatrace,remove wars, heap-dumps that didn't show nothing special...we try to use the latest Wildfly with JDK11.<br />\nThe only difference was that without Dynatrace eden memory grows slower.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1682542750,"post_id":76115016,"comment_id":134234607,"body_markdown":"Please share the full exception with stacktrace.","body":"Please share the full exception with stacktrace."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1682544595,"post_id":76115016,"comment_id":134234975,"body_markdown":"What is the exact location difference between folder ABC and the / top folder of your webapp, second, the Keystone folder is usually configured to the SSL TLS in the server configuration.","body":"What is the exact location difference between folder ABC and the / top folder of your webapp, second, the Keystone folder is usually configured to the SSL TLS in the server configuration."},{"owner":{"account_id":1069576,"reputation":775,"user_id":1069186,"accept_rate":63,"display_name":"Coder17"},"score":0,"creation_date":1682603588,"post_id":76115016,"comment_id":134244531,"body_markdown":"abc is not a folder. It is the encoded string of keystore.jks file","body":"abc is not a folder. It is the encoded string of keystore.jks file"}],"owner":{"account_id":1069576,"reputation":775,"user_id":1069186,"accept_rate":63,"display_name":"Coder17"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682604707,"creation_date":1682542554,"question_id":76115016,"body_markdown":"I have an application.yml file with value as \r\n\r\n      ssl:\r\n        keys:\r\n          store: abc\r\n          password: cGFkc3Bhc3N3b3Jk\r\n          algorithm: JKS\r\n          alias: chjkcw==\r\n          key-password: cGFkc6Khc3N3b3Jk\r\n\r\nwhere abc is the encoded value of my keystore.jks file\r\n\r\nNow I am trying to retrieve the privateKey from that file using\r\n\r\n            this.password = decodeBase64(password);\r\n            String decodedAlias = new String(Base64.getDecoder().decode(alias), UTF_8);\r\n            keyStore = loadKeyStore(Base64.getDecoder().decode(store), this.password, algorithm);\r\n            privateKey = (PrivateKey) keyStore.getKey(decodedAlias, decodeBase64(keyPassword));\r\n\r\n            private static KeyStore loadKeyStore(byte[] keyStoreBytes, char[] password, String algorithm)\r\n                throws KeyStoreException, CertificateException, NoSuchAlgorithmException, IOException {\r\n            KeyStore keyStore = KeyStore.getInstance(algorithm);\r\n            keyStore.load(new ByteArrayInputStream(keyStoreBytes), password);\r\n            return keyStore;\r\n        }\r\n\r\nThis code is giving me `java.io.FileNotFoundException: Could not open ServletContext resource [/abc]`\r\n\r\nWhen I gave these details to my colleague who is using eclipse ide, it works for him and I am using intellij. Not sure if this is ide issue. Also, is there any dependency missing? Which dependency do I need?","title":"unable to decode the encoded keystore.jks file in java","body":"<p>I have an application.yml file with value as</p>\n<pre><code>  ssl:\n    keys:\n      store: abc\n      password: cGFkc3Bhc3N3b3Jk\n      algorithm: JKS\n      alias: chjkcw==\n      key-password: cGFkc6Khc3N3b3Jk\n</code></pre>\n<p>where abc is the encoded value of my keystore.jks file</p>\n<p>Now I am trying to retrieve the privateKey from that file using</p>\n<pre><code>        this.password = decodeBase64(password);\n        String decodedAlias = new String(Base64.getDecoder().decode(alias), UTF_8);\n        keyStore = loadKeyStore(Base64.getDecoder().decode(store), this.password, algorithm);\n        privateKey = (PrivateKey) keyStore.getKey(decodedAlias, decodeBase64(keyPassword));\n\n        private static KeyStore loadKeyStore(byte[] keyStoreBytes, char[] password, String algorithm)\n            throws KeyStoreException, CertificateException, NoSuchAlgorithmException, IOException {\n        KeyStore keyStore = KeyStore.getInstance(algorithm);\n        keyStore.load(new ByteArrayInputStream(keyStoreBytes), password);\n        return keyStore;\n    }\n</code></pre>\n<p>This code is giving me <code>java.io.FileNotFoundException: Could not open ServletContext resource [/abc]</code></p>\n<p>When I gave these details to my colleague who is using eclipse ide, it works for him and I am using intellij. Not sure if this is ide issue. Also, is there any dependency missing? Which dependency do I need?</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1495007678,"post_id":44018730,"comment_id":75064644,"body_markdown":"Part of the specification of [`List#add`](https://docs.oracle.com/javase/7/docs/api/java/util/List.html#add(E)) is &quot;throws [`UnsupportedOperationException`](https://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html) if the add operation is not supported by this list&quot;. The list implementation returned by `Arrays.asList` conforms to the interface&#39;s specification by throwing such an exception.","body":"Part of the specification of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/List.html#add(E)\" rel=\"nofollow noreferrer\"><code>List#add</code></a> is &quot;throws <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"nofollow noreferrer\"><code>UnsupportedOperationException</code></a> if the add operation is not supported by this list&quot;. The list implementation returned by <code>Arrays.asList</code> conforms to the interface&#39;s specification by throwing such an exception."},{"owner":{"account_id":4670913,"reputation":3692,"user_id":3782729,"display_name":"Piotr Rogowski"},"score":0,"creation_date":1495007694,"post_id":44018730,"comment_id":75064656,"body_markdown":"check that `System.out.print(list2)`","body":"check that <code>System.out.print(list2)</code>"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":5,"creation_date":1495007695,"post_id":44018730,"comment_id":75064658,"body_markdown":"These methods are of course implemented, but they will throw `UnsupportedOperationException` when you call them.","body":"These methods are of course implemented, but they will throw <code>UnsupportedOperationException</code> when you call them."},{"owner":{"account_id":5403567,"reputation":1300,"user_id":4302708,"accept_rate":80,"display_name":"Snehal Patel"},"score":1,"creation_date":1495007756,"post_id":44018730,"comment_id":75064700,"body_markdown":"Refer java.util.Arrays.ArrayList&lt;E&gt; which is return by Arrays.asList().\nIt will answer your question.","body":"Refer java.util.Arrays.ArrayList&lt;E&gt; which is return by Arrays.asList(). It will answer your question."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1495007765,"post_id":44018730,"comment_id":75064706,"body_markdown":"If you read the documentation more carefully, you&#39;ll see that `add()` and `remove()` are *optional operations* that may be unsupported by implementing classes. They&#39;ll have **some** implementation, but that could be to throw an exception.","body":"If you read the documentation more carefully, you&#39;ll see that <code>add()</code> and <code>remove()</code> are <i>optional operations</i> that may be unsupported by implementing classes. They&#39;ll have <b>some</b> implementation, but that could be to throw an exception."},{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":3,"creation_date":1495007766,"post_id":44018730,"comment_id":75064707,"body_markdown":"&quot;aren&#39;t allowed&quot; is not the same as &quot;not implemented&quot;","body":"&quot;aren&#39;t allowed&quot; is not the same as &quot;not implemented&quot;"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1495008468,"post_id":44018730,"comment_id":75065151,"body_markdown":"I think the only problem with your question is the wording. It actually gives &quot;food for thought&quot;; and I never questioned before on the exact behavior of the lists returned by that call. On the other hand, that tells you one thing: you can use this method for 10+ years without worrying that `remove()` will throw at you. Because the normal use case is to not remove something from such a list ;-)","body":"I think the only problem with your question is the wording. It actually gives &quot;food for thought&quot;; and I never questioned before on the exact behavior of the lists returned by that call. On the other hand, that tells you one thing: you can use this method for 10+ years without worrying that <code>remove()</code> will throw at you. Because the normal use case is to not remove something from such a list ;-)"}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1495007929,"post_id":44018831,"comment_id":75064806,"body_markdown":"How does this answer the question?","body":"How does this answer the question?"},{"owner":{"account_id":4989128,"reputation":1168,"user_id":4011890,"display_name":"Noixes"},"score":0,"creation_date":1495008130,"post_id":44018831,"comment_id":75064941,"body_markdown":"For example you can implement a Class with List that throws a &quot;NotImplementedException&quot; on call of add or remove. So you can guarantee that the methods are not working","body":"For example you can implement a Class with List that throws a &quot;NotImplementedException&quot; on call of add or remove. So you can guarantee that the methods are not working"}],"tags":[],"owner":{"account_id":4989128,"reputation":1168,"user_id":4011890,"display_name":"Noixes"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1495007816,"creation_date":1495007816,"answer_id":44018831,"question_id":44018730,"body_markdown":"As you can see in the [Oracle Java doc][1] the documentation says that Arrays.asList(..) returns a fixed sized list. So it can be an implementation of the list interface that doesnt allow a change in the list size.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)","title":"What is the return type of Arrays.asList?","body":"<p>As you can see in the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)\" rel=\"nofollow noreferrer\">Oracle Java doc</a> the documentation says that Arrays.asList(..) returns a fixed sized list. So it can be an implementation of the list interface that doesnt allow a change in the list size.</p>\n"},{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1495010751,"post_id":44018943,"comment_id":75066745,"body_markdown":"@Tom Kudos. Actually I wasnt aware of that. Thanks for pointing this out ... I updated my answer accordingly. And for the record: imho, this behavior is very surprising ... thus: not how I would have done it.","body":"@Tom Kudos. Actually I wasnt aware of that. Thanks for pointing this out ... I updated my answer accordingly. And for the record: imho, this behavior is very surprising ... thus: not how I would have done it."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1495011626,"post_id":44018943,"comment_id":75067394,"body_markdown":"Well it kinda makes sense that it is only structural immutable, because someone still can have a reference to the underlying array and prefer to use that next to the wrapped list reference. Thus altering the size would result in a different array reference for the list and one can&#39;t use both anymore (the original array and the list for the same data), although I don&#39;t know why one should want to do that :D.","body":"Well it kinda makes sense that it is only structural immutable, because someone still can have a reference to the underlying array and prefer to use that next to the wrapped list reference. Thus altering the size would result in a different array reference for the list and one can&#39;t use both anymore (the original array and the list for the same data), although I don&#39;t know why one should want to do that :D."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1495011822,"post_id":44018943,"comment_id":75067514,"body_markdown":"I agree; I ended up writing my own wrappers for that purpose; as we arent using guava in our environment ... anyway: any other hints what I could do to get my answer into the &quot;upvote worthy&quot; side of things?","body":"I agree; I ended up writing my own wrappers for that purpose; as we arent using guava in our environment ... anyway: any other hints what I could do to get my answer into the &quot;upvote worthy&quot; side of things?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1495012700,"post_id":44018943,"comment_id":75068164,"body_markdown":"The mutable wrapper returned by `Arrays.asList()` is actually quite useful for adapting to list-mutating helpers that are not available for simple arrays, like those in the `Collections` class.","body":"The mutable wrapper returned by <code>Arrays.asList()</code> is actually quite useful for adapting to list-mutating helpers that are not available for simple arrays, like those in the <code>Collections</code> class."}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1495010695,"creation_date":1495008192,"answer_id":44018943,"question_id":44018730,"body_markdown":"There is a subtle detail here that is probably easy to miss:\r\n\r\nThe [Arrays.asList()][1] javadoc briefly mentions:\r\n\r\n&gt; Returns a fixed-size list backed by the specified array. \r\n\r\nIn other words: yes, you receive something that says &quot;I am a List&quot;; but in fact, the underlying implementation gives you something we would call an *structurally immutable* list object. Thus all the methods that would change the *structure* of that specific list ... are &quot;disabled&quot; (by throwing exceptions at the call). You can still call `set()` though to **change** elements within that list.\r\n\r\nLong story short: the *purpose* of this method is **not** to give you a fully List-supporting object. The purpose of this method is to allow you to quickly create a **fixed** &quot;list&quot; of objects. \r\n\r\nAnd more of personal opinion: I agree, this is actually not &quot;consistent&quot;. I would have expected that either a completely **immutable** list would be returned; instead of some &quot;half-baked&quot; &quot;structurally immutable&quot;. \r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)","title":"What is the return type of Arrays.asList?","body":"<p>There is a subtle detail here that is probably easy to miss:</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)\" rel=\"noreferrer\">Arrays.asList()</a> javadoc briefly mentions:</p>\n\n<blockquote>\n  <p>Returns a fixed-size list backed by the specified array. </p>\n</blockquote>\n\n<p>In other words: yes, you receive something that says \"I am a List\"; but in fact, the underlying implementation gives you something we would call an <em>structurally immutable</em> list object. Thus all the methods that would change the <em>structure</em> of that specific list ... are \"disabled\" (by throwing exceptions at the call). You can still call <code>set()</code> though to <strong>change</strong> elements within that list.</p>\n\n<p>Long story short: the <em>purpose</em> of this method is <strong>not</strong> to give you a fully List-supporting object. The purpose of this method is to allow you to quickly create a <strong>fixed</strong> \"list\" of objects. </p>\n\n<p>And more of personal opinion: I agree, this is actually not \"consistent\". I would have expected that either a completely <strong>immutable</strong> list would be returned; instead of some \"half-baked\" \"structurally immutable\". </p>\n"},{"tags":[],"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495011611,"creation_date":1495011611,"answer_id":44020147,"question_id":44018730,"body_markdown":"The core of your question is:\r\n\r\n&gt; If list2 has a reference of `List` interface, I expect it to implement ALL methods included in `List` interface in Java.\r\n\r\nYou&#39;re right that anything that claims to be a `List` must contain an implementation of every method in the `List` interface. But the behaviour of that implementation is up to the implementation. A well behaved implementation should do what the JavaDoc for `List` does, but for example, `List.add()` notes:\r\n\r\n&gt; **Throws:**\r\n&gt; \r\n&gt; *UnsupportedOperationException* - if the add operation is not supported by this list\r\n\r\nThis is because it&#39;s often useful to have a `List` that you can iterate and read, but can&#39;t add to. Sometimes that&#39;s because it would be impossible -- for example, the list is a view onto a database for which you don&#39;t have write access. Sometimes it&#39;s because it would be illogical -- if you have a list of all four playing card suits, it makes no sense to change it. Sometimes it&#39;s just there to protect the programmer, in the same way as the `final` keyword stops you mistakenly modifying a variable. *Immutable* collections have huge benefits in security and in reliable multi-threading.\r\n\r\nIn this case, it&#39;s the first of these: it would be impossible within the constraints of what `Arrays.asList()` does. Because it&#39;s a a `List` view of an array, you can only do the same things you could do to an array. You can&#39;t change the length of an array, therefore you can&#39;t use `.add()` or `.remove()` on a `List` obtained from `Arrays.asList()`.\r\n\r\n---\r\n\r\nSome extra details, out of interest.\r\n\r\nThe Javadoc for `Arrays.asList()` doesn&#39;t tell you what the concrete class of the returned object will be; only its interface, `List`. That&#39;s because it&#39;s none of your business, and the implementation is free to change it.\r\n\r\nHowever we can look at the source code, and see that `Arrays.java` contains `private static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;`. This is what `Arrays.asList()` returns -- it&#39;s quite different and separate from `java.util.ArrayList`. It is private to `Arrays`, but another class can use it via the public interface `List`.\r\n\r\nThis implementation extends `AbstractList`, whose documentation includes:\r\n\r\n&gt; To implement an unmodifiable list, the programmer needs only to extend this class and provide implementations for the `get(int)` and `size()` methods.\r\n&gt;\r\n&gt; To implement a modifiable list, the programmer must additionally override the `set(int, E)` method (which otherwise throws an `UnsupportedOperationException`). If the list is variable-size the programmer must additionally override the `add(int, E)` and `remove(int)` methods.\r\n\r\nThe private `Arrays.ArrayList` does not extend `add()` or `remove()`.\r\n","title":"What is the return type of Arrays.asList?","body":"<p>The core of your question is:</p>\n\n<blockquote>\n  <p>If list2 has a reference of <code>List</code> interface, I expect it to implement ALL methods included in <code>List</code> interface in Java.</p>\n</blockquote>\n\n<p>You're right that anything that claims to be a <code>List</code> must contain an implementation of every method in the <code>List</code> interface. But the behaviour of that implementation is up to the implementation. A well behaved implementation should do what the JavaDoc for <code>List</code> does, but for example, <code>List.add()</code> notes:</p>\n\n<blockquote>\n  <p><strong>Throws:</strong></p>\n  \n  <p><em>UnsupportedOperationException</em> - if the add operation is not supported by this list</p>\n</blockquote>\n\n<p>This is because it's often useful to have a <code>List</code> that you can iterate and read, but can't add to. Sometimes that's because it would be impossible -- for example, the list is a view onto a database for which you don't have write access. Sometimes it's because it would be illogical -- if you have a list of all four playing card suits, it makes no sense to change it. Sometimes it's just there to protect the programmer, in the same way as the <code>final</code> keyword stops you mistakenly modifying a variable. <em>Immutable</em> collections have huge benefits in security and in reliable multi-threading.</p>\n\n<p>In this case, it's the first of these: it would be impossible within the constraints of what <code>Arrays.asList()</code> does. Because it's a a <code>List</code> view of an array, you can only do the same things you could do to an array. You can't change the length of an array, therefore you can't use <code>.add()</code> or <code>.remove()</code> on a <code>List</code> obtained from <code>Arrays.asList()</code>.</p>\n\n<hr>\n\n<p>Some extra details, out of interest.</p>\n\n<p>The Javadoc for <code>Arrays.asList()</code> doesn't tell you what the concrete class of the returned object will be; only its interface, <code>List</code>. That's because it's none of your business, and the implementation is free to change it.</p>\n\n<p>However we can look at the source code, and see that <code>Arrays.java</code> contains <code>private static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;</code>. This is what <code>Arrays.asList()</code> returns -- it's quite different and separate from <code>java.util.ArrayList</code>. It is private to <code>Arrays</code>, but another class can use it via the public interface <code>List</code>.</p>\n\n<p>This implementation extends <code>AbstractList</code>, whose documentation includes:</p>\n\n<blockquote>\n  <p>To implement an unmodifiable list, the programmer needs only to extend this class and provide implementations for the <code>get(int)</code> and <code>size()</code> methods.</p>\n  \n  <p>To implement a modifiable list, the programmer must additionally override the <code>set(int, E)</code> method (which otherwise throws an <code>UnsupportedOperationException</code>). If the list is variable-size the programmer must additionally override the <code>add(int, E)</code> and <code>remove(int)</code> methods.</p>\n</blockquote>\n\n<p>The private <code>Arrays.ArrayList</code> does not extend <code>add()</code> or <code>remove()</code>.</p>\n"},{"tags":[],"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682604482,"creation_date":1579691728,"answer_id":59858448,"question_id":44018730,"body_markdown":"It returns `java.util.Arrays.ArrayList` which is a _fixed-size list_, not `java.util.ArrayList`.","title":"What is the return type of Arrays.asList?","body":"<p>It returns <code>java.util.Arrays.ArrayList</code> which is a <em>fixed-size list</em>, not <code>java.util.ArrayList</code>.</p>\n"},{"tags":[],"owner":{"display_name":"user2112247"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580475799,"creation_date":1580474699,"answer_id":60004212,"question_id":44018730,"body_markdown":"Arrays.asList(ia) method returns an object from a class that extends AbstractList&lt;E&gt; class and AbstractList&lt;E&gt; class implements List&lt;E&gt; interface.\r\nThe name of this class that extends AbstractList&lt;E&gt; is unfortunately ArrayList (the same name with the public ArrayList that we all know-java.util.ArrayList). But be careful. This class is an **inner** private static class of class Arrays an instance of which is created and returned by Arrays.asList method. Check the source code of class Arrays [here][1]. So the path of this inner private static class is java.util.Arrays.ArrayList and NOT java.util.ArrayList. These are different classes despite having the same name and we can not create java.util.Arrays.ArrayList with new operator because is private. Only as a return from Arrays method like Arrays.asList method.\r\n\r\nSo as we see in Arrays source code the **inner** private static ArrayList class extends AbstractList&lt;E&gt; class. AbstractList&lt;E&gt; class is an abstract class that implements List&lt;E&gt; interface. So it has to implement the two overloaded add methods from List interface. As we see in the source code of [AbstractList&lt;E&gt;][2] class implements the add(int index,E element) method of List interface so that always returns UnsupportedOperationException.\r\n\r\n    public void add(int index, E element) {\r\n        throw new UnsupportedOperationException();\r\n    }\r\n\r\n\r\nWhy? Be patient. The implementation of second add(E element) calls the previous add(int index,E element) with the first argument as the size of the list\r\n\r\n    public boolean add(E e) {\r\n        add(size(), e);\r\n        return true;\r\n    }\r\n\r\nProud to be here... we continue...\r\nIf a class that extends AbstractList&lt;E&gt; (like inner ArrayList class of class Array) does not override the two inherited add methods then an UnsupportedOperationException will be returned whenever an add method is called.\r\nChecking the source code of inner ArrayList class of class Array we find that there is not overridden method of add(int index, E element)...\r\n\r\nSo...quod erat demonstrandum\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/be44bff34df4/src/share/classes/java/util/Arrays.java\r\n  [2]: http://www.docjar.com/html/api/java/util/AbstractList.java.html","title":"What is the return type of Arrays.asList?","body":"<p>Arrays.asList(ia) method returns an object from a class that extends AbstractList class and AbstractList class implements List interface.\nThe name of this class that extends AbstractList is unfortunately ArrayList (the same name with the public ArrayList that we all know-java.util.ArrayList). But be careful. This class is an <strong>inner</strong> private static class of class Arrays an instance of which is created and returned by Arrays.asList method. Check the source code of class Arrays <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/be44bff34df4/src/share/classes/java/util/Arrays.java\" rel=\"nofollow noreferrer\">here</a>. So the path of this inner private static class is java.util.Arrays.ArrayList and NOT java.util.ArrayList. These are different classes despite having the same name and we can not create java.util.Arrays.ArrayList with new operator because is private. Only as a return from Arrays method like Arrays.asList method.</p>\n\n<p>So as we see in Arrays source code the <strong>inner</strong> private static ArrayList class extends AbstractList class. AbstractList class is an abstract class that implements List interface. So it has to implement the two overloaded add methods from List interface. As we see in the source code of <a href=\"http://www.docjar.com/html/api/java/util/AbstractList.java.html\" rel=\"nofollow noreferrer\">AbstractList</a> class implements the add(int index,E element) method of List interface so that always returns UnsupportedOperationException.</p>\n\n<pre><code>public void add(int index, E element) {\n    throw new UnsupportedOperationException();\n}\n</code></pre>\n\n<p>Why? Be patient. The implementation of second add(E element) calls the previous add(int index,E element) with the first argument as the size of the list</p>\n\n<pre><code>public boolean add(E e) {\n    add(size(), e);\n    return true;\n}\n</code></pre>\n\n<p>Proud to be here... we continue...\nIf a class that extends AbstractList (like inner ArrayList class of class Array) does not override the two inherited add methods then an UnsupportedOperationException will be returned whenever an add method is called.\nChecking the source code of inner ArrayList class of class Array we find that there is not overridden method of add(int index, E element)...</p>\n\n<p>So...quod erat demonstrandum</p>\n"}],"owner":{"account_id":7054874,"reputation":14072,"user_id":5402618,"accept_rate":45,"display_name":"CrazySynthax"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9483,"favorite_count":0,"down_vote_count":5,"up_vote_count":11,"answer_count":5,"score":6,"last_activity_date":1682604482,"creation_date":1495007524,"question_id":44018730,"body_markdown":"I read this post:\r\nhttps://stackoverflow.com/questions/16748030/difference-between-arrays-aslistarray-vs-new-arraylistintegerarrays-aslist\r\n\r\nand I have a question about it. \r\nI look at the line: \r\n\r\n    List&lt;Integer&gt; list2 = Arrays.asList(ia)\r\n\r\nand still there is a line saying: \r\n\r\n&gt; Of course, some List operations aren&#39;t allowed on the wrapper, like\r\n&gt; adding or removing elements from the list, you can only read or\r\n&gt; overwrite the elements.\r\n\r\nIf list2 has a reference of List Interface, I expect it to implement ALL methods included in List interface in Java. https://docs.oracle.com/javase/7/docs/api/java/util/List.html. \r\n\r\n\t\r\n&gt; add(int index, E element)\r\n\r\n and \r\n\r\n&gt; remove(int index)\r\n\r\nshow in List interface, so how is it possible that they are not implemented in list2? \r\n\r\nI would have expected that `list2` is a **List**; and thus I could call **all** methods belonging to the List interface?! So why are there exceptions thrown when calling `add()` or `remove()`?\r\n","title":"What is the return type of Arrays.asList?","body":"<p>I read this post:\n<a href=\"https://stackoverflow.com/questions/16748030/difference-between-arrays-aslistarray-vs-new-arraylistintegerarrays-aslist\">Difference between Arrays.asList(array) vs new ArrayList&lt;Integer&gt;(Arrays.asList(ia)) in java</a></p>\n\n<p>and I have a question about it. \nI look at the line: </p>\n\n<pre><code>List&lt;Integer&gt; list2 = Arrays.asList(ia)\n</code></pre>\n\n<p>and still there is a line saying: </p>\n\n<blockquote>\n  <p>Of course, some List operations aren't allowed on the wrapper, like\n  adding or removing elements from the list, you can only read or\n  overwrite the elements.</p>\n</blockquote>\n\n<p>If list2 has a reference of List Interface, I expect it to implement ALL methods included in List interface in Java. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/List.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/List.html</a>. </p>\n\n<blockquote>\n  <p>add(int index, E element)</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>remove(int index)</p>\n</blockquote>\n\n<p>show in List interface, so how is it possible that they are not implemented in list2? </p>\n\n<p>I would have expected that <code>list2</code> is a <strong>List</strong>; and thus I could call <strong>all</strong> methods belonging to the List interface?! So why are there exceptions thrown when calling <code>add()</code> or <code>remove()</code>?</p>\n"},{"tags":["java","eclipse","spring","file"],"answers":[{"comments":[{"owner":{"display_name":"user4933349"},"score":0,"creation_date":1455794711,"post_id":35479691,"comment_id":58653841,"body_markdown":"file reading is done in inMemory so i cannot transfer to any destination","body":"file reading is done in inMemory so i cannot transfer to any destination"}],"tags":[],"owner":{"account_id":3151238,"reputation":3086,"user_id":2664649,"accept_rate":60,"display_name":"Amey Jadiye"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455793561,"creation_date":1455793561,"answer_id":35479691,"question_id":35479290,"body_markdown":"Take look at [MultipartFile][1] \r\n\r\nIn that you can go with : \r\n\r\n    void\ttransferTo(File dest)\r\n\r\nThis method transfer the received file to the given destination file.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html","title":"Multipart File to File InputStream","body":"<p>Take look at <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html\" rel=\"nofollow\">MultipartFile</a> </p>\n\n<p>In that you can go with : </p>\n\n<pre><code>void    transferTo(File dest)\n</code></pre>\n\n<p>This method transfer the received file to the given destination file.</p>\n"},{"comments":[{"owner":{"display_name":"user4933349"},"score":0,"creation_date":1455806486,"post_id":35481763,"comment_id":58662349,"body_markdown":"i want to delete the temporary location as well at the end (including the contents and path)","body":"i want to delete the temporary location as well at the end (including the contents and path)"},{"owner":{"account_id":4358519,"reputation":1017,"user_id":3556394,"accept_rate":25,"display_name":"PyThon"},"score":3,"creation_date":1455811124,"post_id":35481763,"comment_id":58665951,"body_markdown":"@KaMaL - You can simply delete the file if you are 100% sure that you will not need this  in future. But a better approach will be the second one, accessing either directly via **InputStream** or a more efficient version via **BufferedInputStream**. This way you will be able to access the file in memory.","body":"@KaMaL - You can simply delete the file if you are 100% sure that you will not need this  in future. But a better approach will be the second one, accessing either directly via <b>InputStream</b> or a more efficient version via <b>BufferedInputStream</b>. This way you will be able to access the file in memory."},{"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"score":0,"creation_date":1667897261,"post_id":35481763,"comment_id":131271090,"body_markdown":"The file is not downloading if I directly take InputStream from URL.","body":"The file is not downloading if I directly take InputStream from URL."}],"tags":[],"owner":{"account_id":4358519,"reputation":1017,"user_id":3556394,"accept_rate":25,"display_name":"PyThon"},"comment_count":3,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1455799233,"creation_date":1455799233,"answer_id":35481763,"question_id":35479290,"body_markdown":"You can&#39;t create an instance of FileInputStream unless your file is not on file system.\r\n\r\nYou have to either first save the multipart file in temporary location on server using \r\n\r\n    file.transferTo(tempFile);\r\n    InputStream stream = new FileInputStream(tempFile);\r\n\r\nBut multipart file can also be read simply via basic streams methods such as\r\n\r\n    InputStream inputStream =  new BufferedInputStream(file.getInputStream());\r\n","title":"Multipart File to File InputStream","body":"<p>You can't create an instance of FileInputStream unless your file is not on file system.</p>\n\n<p>You have to either first save the multipart file in temporary location on server using </p>\n\n<pre><code>file.transferTo(tempFile);\nInputStream stream = new FileInputStream(tempFile);\n</code></pre>\n\n<p>But multipart file can also be read simply via basic streams methods such as</p>\n\n<pre><code>InputStream inputStream =  new BufferedInputStream(file.getInputStream());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4654182,"reputation":25,"user_id":3770169,"display_name":"Akshay"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1516173401,"creation_date":1516170503,"answer_id":48294843,"question_id":35479290,"body_markdown":"For a multipart file eg:\r\n\r\n    FileMultipartData part =  new FileMultipartData();\r\n    InputStream inputStream = part.getFileMultipart().get(0).getByteStream();\r\n\r\nThis worked for me in my code. Please try it","title":"Multipart File to File InputStream","body":"<p>For a multipart file eg:</p>\n\n<pre><code>FileMultipartData part =  new FileMultipartData();\nInputStream inputStream = part.getFileMultipart().get(0).getByteStream();\n</code></pre>\n\n<p>This worked for me in my code. Please try it</p>\n"},{"tags":[],"owner":{"account_id":10356964,"reputation":41,"user_id":7638582,"display_name":"P.Saranya"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1545138089,"creation_date":1545135748,"answer_id":53832918,"question_id":35479290,"body_markdown":"Try using:\r\n\r\n    MultipartFile uploadedFile = ((MultipartHttpServletRequest)request).getFile(&#39;file_name&#39;)\r\n    InputStream inputStream = new ByteArrayInputStream(uploadedFile?.getBytes())\r\n","title":"Multipart File to File InputStream","body":"<p>Try using:</p>\n\n<pre><code>MultipartFile uploadedFile = ((MultipartHttpServletRequest)request).getFile('file_name')\nInputStream inputStream = new ByteArrayInputStream(uploadedFile?.getBytes())\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6468461,"reputation":996,"user_id":5009459,"accept_rate":25,"display_name":"JBarros35"},"score":1,"creation_date":1605632162,"post_id":60374945,"comment_id":114707819,"body_markdown":"InputStream cannot be instantiated.","body":"InputStream cannot be instantiated."},{"owner":{"account_id":7645656,"reputation":83,"user_id":5796425,"accept_rate":60,"display_name":"Baljeet Singh"},"score":0,"creation_date":1624097416,"post_id":60374945,"comment_id":120268499,"body_markdown":"InputStream showing error, it cannot be instantiated","body":"InputStream showing error, it cannot be instantiated"}],"tags":[],"owner":{"account_id":17288616,"reputation":235,"user_id":12520670,"display_name":"tutorialTpoint"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1582543543,"creation_date":1582543543,"answer_id":60374945,"question_id":35479290,"body_markdown":"\r\n\r\nTo convert Multipart file to Input Stream\r\n\r\n\r\n    MultipartFile file;\r\n    InputStream inputStream = new InputStream(file.getInputStream());\r\n\r\nThis worked for me.\r\n","title":"Multipart File to File InputStream","body":"<p>To convert Multipart file to Input Stream</p>\n\n<pre><code>MultipartFile file;\nInputStream inputStream = new InputStream(file.getInputStream());\n</code></pre>\n\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":6528960,"reputation":1668,"user_id":5050750,"display_name":"Amir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641760163,"creation_date":1641760163,"answer_id":70645239,"question_id":35479290,"body_markdown":"    MultipartFile file;\r\n    InputStream inputStream = file.getInputStream();","title":"Multipart File to File InputStream","body":"<pre><code>MultipartFile file;\nInputStream inputStream = file.getInputStream();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6868120,"reputation":79,"user_id":5279698,"display_name":"Hemus7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658783645,"creation_date":1658783645,"answer_id":73115419,"question_id":35479290,"body_markdown":"We may just cast and use like below\r\n\r\n    FileInputStream file = (FileInputStream) multipartFile.getInputStream();\r\n\r\n","title":"Multipart File to File InputStream","body":"<p>We may just cast and use like below</p>\n<pre><code>FileInputStream file = (FileInputStream) multipartFile.getInputStream();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21510053,"reputation":51,"user_id":15852900,"display_name":"Ibrahim Hossain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682604457,"creation_date":1681613722,"answer_id":76025696,"question_id":35479290,"body_markdown":"      String filename = file.getOriginalFilename();\r\n      Random val = new Random();\r\n      int randomNumber = val.nextInt(999999);\r\n      String filePath = path + File.separator + randomNumber+filename;\r\n      file.transferTo(Paths.get(filePath));\r\n\r\n**Note:** Generate the appropriate file-sending destination path and use the Multipartfile object file.transfterTo() method. its alternative of `copy()` the copy method makes me at runtime error, so the best way to copy and store your image use the file.transferTo() object.","title":"Multipart File to File InputStream","body":"<pre><code>  String filename = file.getOriginalFilename();\n  Random val = new Random();\n  int randomNumber = val.nextInt(999999);\n  String filePath = path + File.separator + randomNumber+filename;\n  file.transferTo(Paths.get(filePath));\n</code></pre>\n<p><strong>Note:</strong> Generate the appropriate file-sending destination path and use the Multipartfile object file.transfterTo() method. its alternative of <code>copy()</code> the copy method makes me at runtime error, so the best way to copy and store your image use the file.transferTo() object.</p>\n"}],"owner":{"display_name":"user4933349"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76868,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":8,"score":17,"last_activity_date":1682604457,"creation_date":1455792485,"question_id":35479290,"body_markdown":"How can I convert a `MultipartFile` to `FileInputStream` in memory?\r\n\r\nI have tried to below , but i am facing the error as\r\n\r\n&gt; org.springframework.web.multipart.commons.CommonsMultipartFile cannot\r\n&gt; be cast to java.io.File\r\n\r\n\r\nMy Code is  \r\n\r\n    FileInputStream fis = new FileInputStream((File)file);\r\n\r\nwhere file is a multipart file","title":"Multipart File to File InputStream","body":"<p>How can I convert a <code>MultipartFile</code> to <code>FileInputStream</code> in memory?</p>\n\n<p>I have tried to below , but i am facing the error as</p>\n\n<blockquote>\n  <p>org.springframework.web.multipart.commons.CommonsMultipartFile cannot\n  be cast to java.io.File</p>\n</blockquote>\n\n<p>My Code is  </p>\n\n<pre><code>FileInputStream fis = new FileInputStream((File)file);\n</code></pre>\n\n<p>where file is a multipart file</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1682589680,"post_id":76119042,"comment_id":134241127,"body_markdown":"What is the value of the `key` inside `.child(key)`?","body":"What is the value of the <code>key</code> inside <code>.child(key)</code>?"},{"owner":{"account_id":28133948,"reputation":3,"user_id":21497992,"display_name":"Bart"},"score":0,"creation_date":1682589925,"post_id":76119042,"comment_id":134241186,"body_markdown":"the key is the reminder that he tries to access, i forgot to add the mainpage in which by pressing the section of the reminder should access this particular reminder settings (going to the EditActivity)","body":"the key is the reminder that he tries to access, i forgot to add the mainpage in which by pressing the section of the reminder should access this particular reminder settings (going to the EditActivity)"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1682590041,"post_id":76119042,"comment_id":134241207,"body_markdown":"If you hardcode the value of the `key` does your code work?","body":"If you hardcode the value of the <code>key</code> does your code work?"},{"owner":{"account_id":28133948,"reputation":3,"user_id":21497992,"display_name":"Bart"},"score":0,"creation_date":1682590232,"post_id":76119042,"comment_id":134241263,"body_markdown":"I didnt try but ill try it right now","body":"I didnt try but ill try it right now"},{"owner":{"account_id":28133948,"reputation":3,"user_id":21497992,"display_name":"Bart"},"score":0,"creation_date":1682592083,"post_id":76119042,"comment_id":134241679,"body_markdown":"no, it didnt work","body":"no, it didnt work"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1682593531,"post_id":76119042,"comment_id":134241959,"body_markdown":"&quot;it didn&#39;t work&quot; doesn&#39;t provide enough information so we can help. What exactly didn&#39;t work? Do you have any errors?","body":"&quot;it didn&#39;t work&quot; doesn&#39;t provide enough information so we can help. What exactly didn&#39;t work? Do you have any errors?"},{"owner":{"account_id":28133948,"reputation":3,"user_id":21497992,"display_name":"Bart"},"score":0,"creation_date":1682594024,"post_id":76119042,"comment_id":134242079,"body_markdown":"No, it doesnt write any error but when i press the update button it won&#39;t do anything but get me to the main page. Nothing changes neither in the database or the app itself","body":"No, it doesnt write any error but when i press the update button it won&#39;t do anything but get me to the main page. Nothing changes neither in the database or the app itself"},{"owner":{"account_id":28133948,"reputation":3,"user_id":21497992,"display_name":"Bart"},"score":0,"creation_date":1682594168,"post_id":76119042,"comment_id":134242105,"body_markdown":"and when i hardcoded the key it still wont do anything in fact, it will do the same as it was before(go back to the main page without any issues or bugs) I guess it has a problem with updating the value of it","body":"and when i hardcoded the key it still wont do anything in fact, it will do the same as it was before(go back to the main page without any issues or bugs) I guess it has a problem with updating the value of it"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1682596224,"post_id":76119042,"comment_id":134242571,"body_markdown":"First of all, stop ignoring errors. At a minimum, please add `Log.d(TAG, databaseError.getMessage());`. Do you get something printed out in the logcat?","body":"First of all, stop ignoring errors. At a minimum, please add <code>Log.d(TAG, databaseError.getMessage());</code>. Do you get something printed out in the logcat?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682604358,"creation_date":1682604358,"answer_id":76121338,"question_id":76119042,"body_markdown":"When you create a new reminder, you write it to:\r\n\r\n```\r\nreminderref.child(&quot;Reminder&quot;).child(uid).child(key).setValue(rmd)\r\n```\r\n\r\nSo the path of the reminder in the database is `/Reminder/$uid/$key`.\r\n\r\n---\r\n\r\nThat means that to delete the reminder, you also need to delete it from that specific path. Yet your code to delete a reminder is:\r\n```\r\nreminderref.child(key).removeValue()\r\n```\r\n\r\nSo this tries to delete the data at path `/$key` only, which is not the same data as you wrote above.\r\n\r\n---\r\n\r\nTo delete the reminder, construct the exact same path and call `removeValue` on that:\r\n\r\n```\r\nreminderref.child(&quot;Reminder&quot;).child(uid).child(key).removeValue()\r\n```\r\n","title":"how to edit and delete information that is in the Firebase database in android?","body":"<p>When you create a new reminder, you write it to:</p>\n<pre><code>reminderref.child(&quot;Reminder&quot;).child(uid).child(key).setValue(rmd)\n</code></pre>\n<p>So the path of the reminder in the database is <code>/Reminder/$uid/$key</code>.</p>\n<hr />\n<p>That means that to delete the reminder, you also need to delete it from that specific path. Yet your code to delete a reminder is:</p>\n<pre><code>reminderref.child(key).removeValue()\n</code></pre>\n<p>So this tries to delete the data at path <code>/$key</code> only, which is not the same data as you wrote above.</p>\n<hr />\n<p>To delete the reminder, construct the exact same path and call <code>removeValue</code> on that:</p>\n<pre><code>reminderref.child(&quot;Reminder&quot;).child(uid).child(key).removeValue()\n</code></pre>\n"}],"owner":{"account_id":28133948,"reputation":3,"user_id":21497992,"display_name":"Bart"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682604384,"creation_date":1682589077,"question_id":76119042,"body_markdown":"My issue is that I can&#39;t delete and edit the data that is in the realtime database, to access it i have unique key, uid and i need to change the values of the date, time title(example of the database in the screenshot).\r\n\r\n\r\n```\r\npublic class EditActivity extends AppCompatActivity implements View.OnClickListener {\r\n    EditText aTime, aDate, aTitle;\r\n    Button btnUpdate, btnDelete;\r\n    DatabaseReference reminderref;\r\n    String key;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.edit_activity);\r\n\r\n        aTime = findViewById(R.id.editTime);\r\n        aDate = findViewById(R.id.editDate);\r\n        aTitle = findViewById(R.id.editTitle);\r\n        btnUpdate = findViewById(R.id.editButton);\r\n        btnDelete = findViewById(R.id.deleteButton);\r\n        reminderref = FirebaseDatabase.getInstance().getReference().child(&quot;Reminder&quot;);\r\n\r\n        // Retrieve the data to be edited from the Firebase Realtime Database\r\n        key = getIntent().getStringExtra(&quot;key&quot;);\r\n        reminderref.child(key).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n                    Reminder reminder = snapshot.getValue(Reminder.class);\r\n                    if (reminder != null) {\r\n                        aTitle.setText(reminder.getTitle());\r\n                        aDate.setText(reminder.getDate());\r\n                        aTime.setText(reminder.getTime());\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                // Handle database error\r\n            }\r\n        });\r\n\r\n        btnUpdate.setOnClickListener(this);\r\n        btnDelete.setOnClickListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n            case R.id.editButton:\r\n                updateReminder();\r\n                break;\r\n            case R.id.deleteButton:\r\n                deleteReminder();\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void updateReminder() {\r\n        String title = aTitle.getText().toString();\r\n        String date = aDate.getText().toString();\r\n        String time = aTime.getText().toString();\r\n\r\n        Reminder reminder = new Reminder();\r\n        reminder.setTitle(title);\r\n        reminder.setDate(date);\r\n        reminder.setTime(time);\r\n        reminder.setUid(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n\r\n        reminderref.child(key).setValue(reminder)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        Toast.makeText(EditActivity.this, &quot;Reminder updated successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                        finish();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(EditActivity.this, &quot;Failed to update reminder&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void deleteReminder() {\r\n        reminderref.child(key).removeValue()\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        Toast.makeText(EditActivity.this, &quot;Reminder deleted successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                        finish();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(EditActivity.this, &quot;Failed to delete reminder&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n}\r\n```\r\n\r\ni also going to include the activity that saves the reminder to the database, hope it helps.\r\n\r\n```\r\npublic class SaveActivity extends AppCompatActivity implements View.OnClickListener {\r\n    FirebaseAuth firebaseAuth;\r\n    Button btnadd;\r\n    SharedPreferences sp;\r\n    EditText aTime,aDate,aTitle;\r\n    FirebaseDatabase firebaseDatabase;\r\n    DatabaseReference reminderref;\r\n    StorageReference storageReference;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.add_activity);\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n        aTime = (EditText) findViewById(R.id.aTime);\r\n        aDate = (EditText) findViewById(R.id.aDate);\r\n        aTitle = (EditText) findViewById(R.id.aTitle);\r\n        btnadd = (Button) findViewById(R.id.btnadd);\r\n        reminderref = FirebaseDatabase.getInstance().getReference();\r\n\r\n        aDate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                showDatePickerDialog();\r\n            }\r\n        });\r\n\r\n        aTime.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                showTimePickerDialog();\r\n            }\r\n        });\r\n        btnadd.setOnClickListener(this);\r\n\r\n        FirebaseUser firebaseUser= firebaseAuth.getCurrentUser();\r\n        firebaseDatabase = FirebaseDatabase.getInstance();}\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        if(btnadd == view) {\r\n            writeNewReminder();\r\n            Intent intent = new Intent(this, MainPageActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n\r\n    private void showDatePickerDialog() {\r\n        // Get the current date\r\n        Calendar calendar = Calendar.getInstance();\r\n        int year = calendar.get(Calendar.YEAR);\r\n        int month = calendar.get(Calendar.MONTH);\r\n        int day = calendar.get(Calendar.DAY_OF_MONTH);\r\n\r\n        // Create a new DatePickerDialog and show it\r\n        DatePickerDialog datePickerDialog = new DatePickerDialog(this, new DatePickerDialog.OnDateSetListener() {\r\n            @Override\r\n            public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\r\n                // Update the EditText with the selected date\r\n                aDate.setText(dayOfMonth + &quot;/&quot; + (month + 1) + &quot;/&quot; + year);\r\n            }\r\n        }, year, month, day);\r\n        datePickerDialog.show();\r\n    }\r\n\r\n    private void showTimePickerDialog() {\r\n        // Get the current time\r\n        Calendar calendar = Calendar.getInstance();\r\n        int hour = calendar.get(Calendar.HOUR_OF_DAY);\r\n        int minute = calendar.get(Calendar.MINUTE);\r\n\r\n        // Create a new TimePickerDialog and show it\r\n        TimePickerDialog timePickerDialog = new TimePickerDialog(this, new TimePickerDialog.OnTimeSetListener() {\r\n            @Override\r\n            public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\r\n                // Update the EditText with the selected time\r\n                String time = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, hourOfDay, minute);\r\n                aTime.setText(time);\r\n            }\r\n        }, hour, minute, true);\r\n        timePickerDialog.show();\r\n    }\r\n    private void writeNewReminder() {\r\n        String uid = firebaseAuth.getUid();\r\n        String title = aTitle.getText().toString();\r\n        String date = aDate.getText().toString();\r\n        String time = aTime.getText().toString();\r\n        String key = reminderref.child(uid).push().getKey();\r\n\r\n\r\n        Reminder rmd = new Reminder();\r\n        rmd.setDate(date);\r\n        rmd.setTime(time);\r\n        rmd.setTitle(title);\r\n        rmd.setUid(uid);\r\n        rmd.key = key;\r\n\r\n        reminderref.child(&quot;Reminder&quot;).child(uid).child(key).setValue(rmd)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        Toast.makeText(SaveActivity.this, &quot;Reminder added successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(SaveActivity.this, &quot;Failed to add reminder&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n        if (id == R.id.mmadd) {\r\n            Intent intent = new Intent(this, SaveActivity.class);\r\n            startActivity(intent);\r\n        }\r\n        if (id == R.id.mmreturn){\r\n            Intent intent = new Intent(this, MainPageActivity.class);\r\n            startActivity(intent);\r\n        }[enter image description here](https://i.stack.imgur.com/Bu8tr.png)\r\n        if (id == R.id.mmatapp){\r\n            Intent intent = new Intent(this, MainFragment.class);\r\n            startActivity(intent);\r\n        }\r\n        if (id == R.id.mmexit){\r\n            finishAffinity();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n}\r\n```\r\nAnd that i the mainpage that by pressing the reminder should access the particular reminder that is pressed and edit/delete it:\r\n```\r\npublic class MainPageActivity extends AppCompatActivity {\r\n    private FirebaseAuth mAuth;\r\n    private DatabaseReference databaseRef;\r\n    private ArrayList&lt;Reminder&gt; remindersList;\r\n    private ReminderAdapter reminderAdapter;\r\n    private ListView mrlv;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main_page);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\r\n        String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n        databaseRef = firebaseDatabase.getReference(&quot;Reminder&quot;).child(uid);\r\n\r\n        remindersList = new ArrayList&lt;&gt;();\r\n        reminderAdapter = new ReminderAdapter(getApplicationContext(), R.layout.templet_example, remindersList);\r\n        mrlv = findViewById(R.id.mrv);\r\n        mrlv.setAdapter(reminderAdapter);\r\n\r\n        databaseRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                remindersList.clear();\r\n                for (DataSnapshot postSnapshot : dataSnapshot.getChildren()) {\r\n                    Reminder reminder = postSnapshot.getValue(Reminder.class);\r\n                    remindersList.add(reminder);\r\n                }\r\n                reminderAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                // Handle errors\r\n            }\r\n        });\r\n\r\n        mrlv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                Reminder reminder = remindersList.get(position);\r\n                Intent intent = new Intent(MainPageActivity.this, EditActivity.class);\r\n                intent.putExtra(&quot;key&quot;, reminder.key);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_top, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n        if (id == R.id.mmadd) {\r\n            Intent intent = new Intent(this, SaveActivity.class);\r\n            startActivity(intent);\r\n        }\r\n        if (id == R.id.mmreturn){\r\n            Intent intent = new Intent(this, MainPageActivity.class);\r\n            startActivity(intent);\r\n        }\r\n        if (id == R.id.mmatapp){\r\n            Intent intent = new Intent(this, MainFragment.class);\r\n            startActivity(intent);\r\n        }\r\n        if (id == R.id.mmexit){\r\n            finishAffinity();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n![example of the Realtime Database][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8KZLt.png","title":"how to edit and delete information that is in the Firebase database in android?","body":"<p>My issue is that I can't delete and edit the data that is in the realtime database, to access it i have unique key, uid and i need to change the values of the date, time title(example of the database in the screenshot).</p>\n<pre><code>public class EditActivity extends AppCompatActivity implements View.OnClickListener {\n    EditText aTime, aDate, aTitle;\n    Button btnUpdate, btnDelete;\n    DatabaseReference reminderref;\n    String key;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.edit_activity);\n\n        aTime = findViewById(R.id.editTime);\n        aDate = findViewById(R.id.editDate);\n        aTitle = findViewById(R.id.editTitle);\n        btnUpdate = findViewById(R.id.editButton);\n        btnDelete = findViewById(R.id.deleteButton);\n        reminderref = FirebaseDatabase.getInstance().getReference().child(&quot;Reminder&quot;);\n\n        // Retrieve the data to be edited from the Firebase Realtime Database\n        key = getIntent().getStringExtra(&quot;key&quot;);\n        reminderref.child(key).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()) {\n                    Reminder reminder = snapshot.getValue(Reminder.class);\n                    if (reminder != null) {\n                        aTitle.setText(reminder.getTitle());\n                        aDate.setText(reminder.getDate());\n                        aTime.setText(reminder.getTime());\n                    }\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                // Handle database error\n            }\n        });\n\n        btnUpdate.setOnClickListener(this);\n        btnDelete.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.editButton:\n                updateReminder();\n                break;\n            case R.id.deleteButton:\n                deleteReminder();\n                break;\n        }\n    }\n\n    private void updateReminder() {\n        String title = aTitle.getText().toString();\n        String date = aDate.getText().toString();\n        String time = aTime.getText().toString();\n\n        Reminder reminder = new Reminder();\n        reminder.setTitle(title);\n        reminder.setDate(date);\n        reminder.setTime(time);\n        reminder.setUid(FirebaseAuth.getInstance().getCurrentUser().getUid());\n\n        reminderref.child(key).setValue(reminder)\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        Toast.makeText(EditActivity.this, &quot;Reminder updated successfully&quot;, Toast.LENGTH_SHORT).show();\n                        finish();\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(EditActivity.this, &quot;Failed to update reminder&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n\n    private void deleteReminder() {\n        reminderref.child(key).removeValue()\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        Toast.makeText(EditActivity.this, &quot;Reminder deleted successfully&quot;, Toast.LENGTH_SHORT).show();\n                        finish();\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(EditActivity.this, &quot;Failed to delete reminder&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n}\n</code></pre>\n<p>i also going to include the activity that saves the reminder to the database, hope it helps.</p>\n<pre><code>public class SaveActivity extends AppCompatActivity implements View.OnClickListener {\n    FirebaseAuth firebaseAuth;\n    Button btnadd;\n    SharedPreferences sp;\n    EditText aTime,aDate,aTitle;\n    FirebaseDatabase firebaseDatabase;\n    DatabaseReference reminderref;\n    StorageReference storageReference;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.add_activity);\n        firebaseAuth = FirebaseAuth.getInstance();\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        aTime = (EditText) findViewById(R.id.aTime);\n        aDate = (EditText) findViewById(R.id.aDate);\n        aTitle = (EditText) findViewById(R.id.aTitle);\n        btnadd = (Button) findViewById(R.id.btnadd);\n        reminderref = FirebaseDatabase.getInstance().getReference();\n\n        aDate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                showDatePickerDialog();\n            }\n        });\n\n        aTime.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                showTimePickerDialog();\n            }\n        });\n        btnadd.setOnClickListener(this);\n\n        FirebaseUser firebaseUser= firebaseAuth.getCurrentUser();\n        firebaseDatabase = FirebaseDatabase.getInstance();}\n\n    @Override\n    public void onClick(View view) {\n        if(btnadd == view) {\n            writeNewReminder();\n            Intent intent = new Intent(this, MainPageActivity.class);\n            startActivity(intent);\n        }\n    }\n\n    private void showDatePickerDialog() {\n        // Get the current date\n        Calendar calendar = Calendar.getInstance();\n        int year = calendar.get(Calendar.YEAR);\n        int month = calendar.get(Calendar.MONTH);\n        int day = calendar.get(Calendar.DAY_OF_MONTH);\n\n        // Create a new DatePickerDialog and show it\n        DatePickerDialog datePickerDialog = new DatePickerDialog(this, new DatePickerDialog.OnDateSetListener() {\n            @Override\n            public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\n                // Update the EditText with the selected date\n                aDate.setText(dayOfMonth + &quot;/&quot; + (month + 1) + &quot;/&quot; + year);\n            }\n        }, year, month, day);\n        datePickerDialog.show();\n    }\n\n    private void showTimePickerDialog() {\n        // Get the current time\n        Calendar calendar = Calendar.getInstance();\n        int hour = calendar.get(Calendar.HOUR_OF_DAY);\n        int minute = calendar.get(Calendar.MINUTE);\n\n        // Create a new TimePickerDialog and show it\n        TimePickerDialog timePickerDialog = new TimePickerDialog(this, new TimePickerDialog.OnTimeSetListener() {\n            @Override\n            public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n                // Update the EditText with the selected time\n                String time = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, hourOfDay, minute);\n                aTime.setText(time);\n            }\n        }, hour, minute, true);\n        timePickerDialog.show();\n    }\n    private void writeNewReminder() {\n        String uid = firebaseAuth.getUid();\n        String title = aTitle.getText().toString();\n        String date = aDate.getText().toString();\n        String time = aTime.getText().toString();\n        String key = reminderref.child(uid).push().getKey();\n\n\n        Reminder rmd = new Reminder();\n        rmd.setDate(date);\n        rmd.setTime(time);\n        rmd.setTitle(title);\n        rmd.setUid(uid);\n        rmd.key = key;\n\n        reminderref.child(&quot;Reminder&quot;).child(uid).child(key).setValue(rmd)\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        Toast.makeText(SaveActivity.this, &quot;Reminder added successfully&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(SaveActivity.this, &quot;Failed to add reminder&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        if (id == R.id.mmadd) {\n            Intent intent = new Intent(this, SaveActivity.class);\n            startActivity(intent);\n        }\n        if (id == R.id.mmreturn){\n            Intent intent = new Intent(this, MainPageActivity.class);\n            startActivity(intent);\n        }[enter image description here](https://i.stack.imgur.com/Bu8tr.png)\n        if (id == R.id.mmatapp){\n            Intent intent = new Intent(this, MainFragment.class);\n            startActivity(intent);\n        }\n        if (id == R.id.mmexit){\n            finishAffinity();\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n<p>And that i the mainpage that by pressing the reminder should access the particular reminder that is pressed and edit/delete it:</p>\n<pre><code>public class MainPageActivity extends AppCompatActivity {\n    private FirebaseAuth mAuth;\n    private DatabaseReference databaseRef;\n    private ArrayList&lt;Reminder&gt; remindersList;\n    private ReminderAdapter reminderAdapter;\n    private ListView mrlv;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_page);\n\n        mAuth = FirebaseAuth.getInstance();\n        FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\n        String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n        databaseRef = firebaseDatabase.getReference(&quot;Reminder&quot;).child(uid);\n\n        remindersList = new ArrayList&lt;&gt;();\n        reminderAdapter = new ReminderAdapter(getApplicationContext(), R.layout.templet_example, remindersList);\n        mrlv = findViewById(R.id.mrv);\n        mrlv.setAdapter(reminderAdapter);\n\n        databaseRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                remindersList.clear();\n                for (DataSnapshot postSnapshot : dataSnapshot.getChildren()) {\n                    Reminder reminder = postSnapshot.getValue(Reminder.class);\n                    remindersList.add(reminder);\n                }\n                reminderAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                // Handle errors\n            }\n        });\n\n        mrlv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                Reminder reminder = remindersList.get(position);\n                Intent intent = new Intent(MainPageActivity.this, EditActivity.class);\n                intent.putExtra(&quot;key&quot;, reminder.key);\n                startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_top, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        if (id == R.id.mmadd) {\n            Intent intent = new Intent(this, SaveActivity.class);\n            startActivity(intent);\n        }\n        if (id == R.id.mmreturn){\n            Intent intent = new Intent(this, MainPageActivity.class);\n            startActivity(intent);\n        }\n        if (id == R.id.mmatapp){\n            Intent intent = new Intent(this, MainFragment.class);\n            startActivity(intent);\n        }\n        if (id == R.id.mmexit){\n            finishAffinity();\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/8KZLt.png\" alt=\"example of the Realtime Database\" /></p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"owner":{"account_id":351717,"reputation":145,"user_id":688368,"accept_rate":75,"display_name":"Bogdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682604276,"creation_date":1682604276,"question_id":76121327,"body_markdown":"I have following issues with the main class User being created in the database\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public class UserEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.TABLE)\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\r\n        private Set&lt;BookEntity&gt; books = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n\r\nand also the users_books table is created. Now I have a new class StudentEntity that extends UserEntity\r\n\r\n    @Entity\r\n    @Table(name = &quot;students&quot;)\r\n    public class StudentEntity extends UserEntity {\r\n        private String studentId;\r\n    \r\n        //...\r\n    }\r\nHibernate also creates now students table in the database but students_books table is not created. So now trying to persist StudentEntity in the database causes Error: \r\norg.hibernate.exception.ConstraintViolationException: could not execute statement: Cannot add or update a child row: a foreign key constraint fails ...\r\n\r\nAny ideas what can be done so the students_books table is also created?","title":"Java Hibernate extended class doesn&#39;t create join table","body":"<p>I have following issues with the main class User being created in the database</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic class UserEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.TABLE)\n    private Long id;\n\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\n    private Set&lt;BookEntity&gt; books = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>and also the users_books table is created. Now I have a new class StudentEntity that extends UserEntity</p>\n<pre><code>@Entity\n@Table(name = &quot;students&quot;)\npublic class StudentEntity extends UserEntity {\n    private String studentId;\n\n    //...\n}\n</code></pre>\n<p>Hibernate also creates now students table in the database but students_books table is not created. So now trying to persist StudentEntity in the database causes Error:\norg.hibernate.exception.ConstraintViolationException: could not execute statement: Cannot add or update a child row: a foreign key constraint fails ...</p>\n<p>Any ideas what can be done so the students_books table is also created?</p>\n"},{"tags":["java","spring-boot","azure"],"answers":[{"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682598464,"creation_date":1682598464,"answer_id":76120427,"question_id":75956079,"body_markdown":"- Check if the URL is accessible from the same network as the Azure Video Indexer service. You can try accessing the URL from a different machine on the same network to see if it is accessible.\r\n- It is possible that the URL is blocked by a firewall or network restriction that prevents access from certain IP addresses or networks. Make sure that the IP address of the server running the indexer is allowed to access the URL.\r\n\r\n- I have installed Azure Video Indexer and locally I have recorded a video to index the file and download.\r\n![enter image description here](https://i.stack.imgur.com/lNUmt.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/YMLdF.png)\r\n\r\n- Below Spring Boot controller that uses the Azure Video Indexer SDK to index videos and retrieve video data.\r\n```java\r\n@RestController\r\npublic class VideoController {\r\n    private static final String FILE_DIRECTORY = &quot;/path/to/videos/&quot;;\r\n\r\n    @Autowired\r\n    private AzureVideoIndexerService videoIndexerService;\r\n\r\n    @GetMapping(value = &quot;/download/{uuid}&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n    public ResponseEntity&lt;byte[]&gt; downloadVideo(@PathVariable String uuid) {\r\n        try {\r\n            File file = new File(FILE_DIRECTORY + uuid + &quot;.mp4&quot;);\r\n            byte[] videoBytes = Files.readAllBytes(file.toPath());\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n            headers.setContentLength(videoBytes.length);\r\n            headers.setContentDisposition(ContentDisposition.attachment()\r\n                .filename(uuid + &quot;.mp4&quot;)\r\n                .build());\r\n            return new ResponseEntity&lt;&gt;(videoBytes, headers, HttpStatus.OK);\r\n        } catch (IOException e) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\n    @PostMapping(value = &quot;/index/{uuid}&quot;)\r\n    public ResponseEntity&lt;String&gt; indexVideo(@PathVariable String uuid) {\r\n        try {\r\n            String videoUrl = &quot;http://localhost:8080/download/&quot; + uuid;\r\n            String indexId = videoIndexerService.indexVideo(videoUrl);\r\n            return new ResponseEntity&lt;&gt;(&quot;Video indexing started with index id &quot; + indexId, HttpStatus.OK);\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(&quot;Failed to start video indexing: &quot; + e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n}\r\n```\r\nThe .mp4 file that has been indexed into Azure AI Indexer.\r\n\r\n![enter image description here](https://i.stack.imgur.com/vRIuh.png)\r\n\r\nThe `uuid` parameter in the `downloadVideo` method corresponds to the UUID or File ID of the video file that you want to download. Below is the sample URL which makings as the request to download the file.\r\n\r\n![enter image description here](https://i.stack.imgur.com/yOXFo.png)\r\n\r\n- Azure Video indexer might be running in a different network environment than the one you are using to access the URL. That may result in different network configurations, firewalls, proxies etc., that might be blocking access to the URL from the Azure Video indexer.\r\n","title":"Using AI Azure Video indexer I am getting URL_UNREACHABLE but the URL is accessible from other sites","body":"<ul>\n<li><p>Check if the URL is accessible from the same network as the Azure Video Indexer service. You can try accessing the URL from a different machine on the same network to see if it is accessible.</p>\n</li>\n<li><p>It is possible that the URL is blocked by a firewall or network restriction that prevents access from certain IP addresses or networks. Make sure that the IP address of the server running the indexer is allowed to access the URL.</p>\n</li>\n<li><p>I have installed Azure Video Indexer and locally I have recorded a video to index the file and download.\n<img src=\"https://i.stack.imgur.com/lNUmt.png\" alt=\"enter image description here\" /></p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/YMLdF.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Below Spring Boot controller that uses the Azure Video Indexer SDK to index videos and retrieve video data.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class VideoController {\n    private static final String FILE_DIRECTORY = &quot;/path/to/videos/&quot;;\n\n    @Autowired\n    private AzureVideoIndexerService videoIndexerService;\n\n    @GetMapping(value = &quot;/download/{uuid}&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\n    public ResponseEntity&lt;byte[]&gt; downloadVideo(@PathVariable String uuid) {\n        try {\n            File file = new File(FILE_DIRECTORY + uuid + &quot;.mp4&quot;);\n            byte[] videoBytes = Files.readAllBytes(file.toPath());\n            HttpHeaders headers = new HttpHeaders();\n            headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n            headers.setContentLength(videoBytes.length);\n            headers.setContentDisposition(ContentDisposition.attachment()\n                .filename(uuid + &quot;.mp4&quot;)\n                .build());\n            return new ResponseEntity&lt;&gt;(videoBytes, headers, HttpStatus.OK);\n        } catch (IOException e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n\n    @PostMapping(value = &quot;/index/{uuid}&quot;)\n    public ResponseEntity&lt;String&gt; indexVideo(@PathVariable String uuid) {\n        try {\n            String videoUrl = &quot;http://localhost:8080/download/&quot; + uuid;\n            String indexId = videoIndexerService.indexVideo(videoUrl);\n            return new ResponseEntity&lt;&gt;(&quot;Video indexing started with index id &quot; + indexId, HttpStatus.OK);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(&quot;Failed to start video indexing: &quot; + e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n<p>The .mp4 file that has been indexed into Azure AI Indexer.</p>\n<p><img src=\"https://i.stack.imgur.com/vRIuh.png\" alt=\"enter image description here\" /></p>\n<p>The <code>uuid</code> parameter in the <code>downloadVideo</code> method corresponds to the UUID or File ID of the video file that you want to download. Below is the sample URL which makings as the request to download the file.</p>\n<p><img src=\"https://i.stack.imgur.com/yOXFo.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Azure Video indexer might be running in a different network environment than the one you are using to access the URL. That may result in different network configurations, firewalls, proxies etc., that might be blocking access to the URL from the Azure Video indexer.</li>\n</ul>\n"}],"owner":{"account_id":26225009,"reputation":1,"user_id":19901821,"display_name":"Roberto Gonzalez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682604233,"creation_date":1680849839,"question_id":75956079,"body_markdown":"I have implemented an integration with Azure AU Indexer. The POST call for index returns URL_UNREACHABLE but the URL is accessible from a web browser for example. No authentication is defined yet on the download server.\r\n```none\r\n org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;{&quot;ErrorType&quot;:&quot;URL_UNREACHABLE&quot;,&quot;Message&quot;:&quot;Url &#39;https://server/api/v1/download/3911ed0c-16eb-4ad8-a282-244006f05346&#39; is unreachable. Trace id: &#39;06e23f6f-d3d7-4bd1-a750-51877b30e8e9&#39;.&quot;}&quot;\r\n```\r\nI am using Java SpringBoot to server the request with this piece of code\r\n\r\n```java\r\n@GetMapping(&quot;download/{uuid}&quot;)\r\npublic ResponseEntity&lt;StreamingResponseBody&gt; download(@PathVariable String uuid) throws Exception {\r\n\r\n    DownloadResult result = teService.download(uuid);\r\n\r\n    return ResponseEntity.ok()\r\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + uuid + &quot;\\&quot;&quot;)\r\n            .header(HttpHeaders.CONTENT_LENGTH, result.getObjectSize().toString())\r\n            .header(HttpHeaders.CONTENT_TYPE, result.getMimeType())\r\n            .header(HttpHeaders.PRAGMA, &quot;public&quot;)\r\n            .header(HttpHeaders.EXPIRES, &quot;-1&quot;)\r\n            .header(HttpHeaders.CACHE_CONTROL, &quot;public, must-revalidate, post-check=0, pre-check=0&quot;)\r\n            .body(result.getResponseBody());\r\n}\r\n```\r\nI have tried to change the Headers to return it as an inline stream with no success. I am expecting that the Azure AI indexer can download the video as other sites","title":"Using AI Azure Video indexer I am getting URL_UNREACHABLE but the URL is accessible from other sites","body":"<p>I have implemented an integration with Azure AU Indexer. The POST call for index returns URL_UNREACHABLE but the URL is accessible from a web browser for example. No authentication is defined yet on the download server.</p>\n<pre class=\"lang-none prettyprint-override\"><code> org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;{&quot;ErrorType&quot;:&quot;URL_UNREACHABLE&quot;,&quot;Message&quot;:&quot;Url 'https://server/api/v1/download/3911ed0c-16eb-4ad8-a282-244006f05346' is unreachable. Trace id: '06e23f6f-d3d7-4bd1-a750-51877b30e8e9'.&quot;}&quot;\n</code></pre>\n<p>I am using Java SpringBoot to server the request with this piece of code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;download/{uuid}&quot;)\npublic ResponseEntity&lt;StreamingResponseBody&gt; download(@PathVariable String uuid) throws Exception {\n\n    DownloadResult result = teService.download(uuid);\n\n    return ResponseEntity.ok()\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + uuid + &quot;\\&quot;&quot;)\n            .header(HttpHeaders.CONTENT_LENGTH, result.getObjectSize().toString())\n            .header(HttpHeaders.CONTENT_TYPE, result.getMimeType())\n            .header(HttpHeaders.PRAGMA, &quot;public&quot;)\n            .header(HttpHeaders.EXPIRES, &quot;-1&quot;)\n            .header(HttpHeaders.CACHE_CONTROL, &quot;public, must-revalidate, post-check=0, pre-check=0&quot;)\n            .body(result.getResponseBody());\n}\n</code></pre>\n<p>I have tried to change the Headers to return it as an inline stream with no success. I am expecting that the Azure AI indexer can download the video as other sites</p>\n"},{"tags":["java","synchronization","immutability","volatile"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1370986019,"post_id":17054062,"comment_id":24658516,"body_markdown":"Why not ask your 3 separate questions as... 3 separate questions?","body":"Why not ask your 3 separate questions as... 3 separate questions?"},{"owner":{"account_id":2098299,"reputation":4834,"user_id":1866587,"accept_rate":40,"display_name":"selig"},"score":0,"creation_date":1370990378,"post_id":17054062,"comment_id":24660219,"body_markdown":"because there&#39;s 4? ;)","body":"because there&#39;s 4? ;)"},{"owner":{"account_id":2110397,"reputation":263,"user_id":1875798,"accept_rate":37,"display_name":"user1875798"},"score":0,"creation_date":1371017394,"post_id":17054062,"comment_id":24666468,"body_markdown":"These all look related to me and if some one comes to these questions and proper answer that would be really helpful for him/her.","body":"These all look related to me and if some one comes to these questions and proper answer that would be really helpful for him/her."}],"answers":[{"tags":[],"owner":{"account_id":15988,"reputation":872908,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370986007,"creation_date":1370986007,"answer_id":17054114,"question_id":17054062,"body_markdown":" 1. Yes; `volatile` only applies to the reference it&#39;s applied to.\r\n\r\n 2. No; objects that happen to be pointed to by final fields do not magically become immutable.  \r\nAn object with mutable non-public members is only immutable if those members can never be mutated.  (obviously)","title":"Doubts related to volatile , immutable objects, and their use to achieve synchronization","body":"<ol>\n<li><p>Yes; <code>volatile</code> only applies to the reference it's applied to.</p></li>\n<li><p>No; objects that happen to be pointed to by final fields do not magically become immutable.<br>\nAn object with mutable non-public members is only immutable if those members can never be mutated.  (obviously)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2110397,"reputation":263,"user_id":1875798,"accept_rate":37,"display_name":"user1875798"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1371155477,"creation_date":1371155477,"answer_id":17096474,"question_id":17054062,"body_markdown":"Found out after some testing all my answers.\r\n\r\n1. volatile only applies to reference. Any object point by volatile object need not to be visible other threads.\r\n\r\n2. Yes final is important. Without it object of class will not be immutable.\r\n\r\n3. Suppose a variable &quot;obj&quot; is pointing to location x(where the actual object is placed) when a function call on obj is started then during function call all member variables will be read from location x even if some other thread assign a different object on &quot;obj&quot;.\r\n\r\n4. Assumed explanations for all answers are correct.","title":"Doubts related to volatile , immutable objects, and their use to achieve synchronization","body":"<p>Found out after some testing all my answers.</p>\n\n<ol>\n<li><p>volatile only applies to reference. Any object point by volatile object need not to be visible other threads.</p></li>\n<li><p>Yes final is important. Without it object of class will not be immutable.</p></li>\n<li><p>Suppose a variable \"obj\" is pointing to location x(where the actual object is placed) when a function call on obj is started then during function call all member variables will be read from location x even if some other thread assign a different object on \"obj\".</p></li>\n<li><p>Assumed explanations for all answers are correct.</p></li>\n</ol>\n"}],"owner":{"account_id":2110397,"reputation":263,"user_id":1875798,"accept_rate":37,"display_name":"user1875798"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17096474,"answer_count":2,"score":0,"last_activity_date":1682604060,"creation_date":1370985764,"question_id":17054062,"body_markdown":"I was reading book &quot;java concurrency in practice&quot; and end up with some doubts after few pages.\r\n\r\n1) Voltile with non premitive data types :\r\n private volatile Student s; \r\nwhat is significance of volatile when it comes with non premitive data types  ? (I think in this case only think that is sure to be visible to all threads is what Strudent object s is pointing currently and it is possible one thread A modifies some internal member of student and that is not visible to other threads. Am I right ??)\r\n\r\n2)\r\nIs a variable can be immutable , even if internal members are not declared as final  ?? \r\nFor example :\r\n\r\n    Class  A {\r\n    \r\n    \tprivate Set&lt;String&gt; s = new Set();\r\n    \tpublic A() {\r\n    \t\ts.add(&quot;Moe&quot;);\r\n    \t\ts.add(&quot;Larry&quot;);\r\n    \t\ts.add(&quot;Curly&quot;);\r\n    \t}\r\n    } \r\n\r\n \r\n\r\nIn this class do we need to make Set s final to make it immutable or this class is still immutable ? (because even in this case we can&#39;t change state of object after it is created).\r\n\r\n\r\n3 ) There is one example in book that shows how to use volatile and immutable class in combination to get synchronization. Before I put that question I have one more doubt.\r\nsuppose there is some function like this :\r\n\r\n    private Student s = new Student;\r\n    \r\n    void func() {\r\n    \ts.func2();      // 1\r\n    \tif(s.isPossible()) { //2\r\n    \t\ts = new Student(); //3\t\t\r\n    \t}\r\n    }\r\n\r\na)func2() acess internal members of s. Now consider Thread A entered into func2 after executing line 1 and Thread B same time reassign s with new object. When Thread A resumes\r\nwhat it will use new object or the old one ? ( suppose s initally points to memory location 100 (old object) and after a new object is assigned it started pointing to 200 (new object)\r\nthen when Thread A resumes it will acess address 100 or address 200).  \r\n\r\nb) If I make s volatile , will it make any difference to above case.\r\n\r\n\r\n4.) And here is last one \r\n\r\n\r\n    @Immutable\r\n    class OneValueCache {\r\n    \tprivate final BigInteger lastNumber;\r\n    \tprivate final BigInteger[] lastFactors;\r\n    \tpublic OneValueCache(BigInteger i,\r\n    \tBigInteger[] factors) {\r\n    \t\tlastNumber = i;\r\n    \t\tlastFactors = Arrays.copyOf(factors, factors.length);\r\n    \t}\r\n    \tpublic BigInteger[] getFactors(BigInteger i) {\r\n    \t\tif (lastNumber == null || !lastNumber.equals(i))\r\n    \t\t\treturn null;\r\n    \t\telse\r\n    \t\t\treturn Arrays.copyOf(lastFactors, lastFactors.length);\r\n        }\r\n    }\r\n\r\n    @ThreadSafe\r\n    public class VolatileCachedFactorizer implements Servlet {\r\n    \tprivate volatile OneValueCache cache = new OneValueCache(null, null);\r\n    \tpublic void service(ServletRequest req, ServletResponse resp) {\r\n    \t\tBigInteger i = extractFromRequest(req);\r\n    \t\tBigInteger[] factors = cache.getFactors(i); // Position A\r\n    \t\r\n    \t\tif (factors == null) {\r\n    \t\t\tfactors = factor(i);\r\n    \t\t\tcache = new OneValueCache(i, factors); // Position B\r\n    \t\t}\r\n    \t\tencodeIntoResponse(resp, factors);\r\n    \t}\r\n    }\r\n\r\nAccroding to book class &quot;VolatileCachedFactorizer&quot; is thread safe. Here is my reasoning why it is thread safe (Correct me if I am wrong.) Positin A and Position B are\r\ndoubtful positions.\r\n\r\nPosition A : As cache is pointing to immutable object , any function call is safe (right ?).\r\n\r\nPosition B : It can have two issue\r\n \r\na)Threads see cache improperly initialized . Not possible in this case as immutable object are guaranteed to be properly initialized (right ?).\r\n\r\nb)New assigned object not visible to other threads. Not possible is this case as cache is volatile (right ?).\r\n\r\nBut it is possible thread A call getFactors()  and other thread B reassign cache , in this case A will continue to see old object (right ?) ","title":"Doubts related to volatile , immutable objects, and their use to achieve synchronization","body":"<p>I was reading book \"java concurrency in practice\" and end up with some doubts after few pages.</p>\n\n<p>1) Voltile with non premitive data types :\n private volatile Student s; \nwhat is significance of volatile when it comes with non premitive data types  ? (I think in this case only think that is sure to be visible to all threads is what Strudent object s is pointing currently and it is possible one thread A modifies some internal member of student and that is not visible to other threads. Am I right ??)</p>\n\n<p>2)\nIs a variable can be immutable , even if internal members are not declared as final  ?? \nFor example :</p>\n\n<pre><code>Class  A {\n\n    private Set&lt;String&gt; s = new Set();\n    public A() {\n        s.add(\"Moe\");\n        s.add(\"Larry\");\n        s.add(\"Curly\");\n    }\n} \n</code></pre>\n\n<p>In this class do we need to make Set s final to make it immutable or this class is still immutable ? (because even in this case we can't change state of object after it is created).</p>\n\n<p>3 ) There is one example in book that shows how to use volatile and immutable class in combination to get synchronization. Before I put that question I have one more doubt.\nsuppose there is some function like this :</p>\n\n<pre><code>private Student s = new Student;\n\nvoid func() {\n    s.func2();      // 1\n    if(s.isPossible()) { //2\n        s = new Student(); //3      \n    }\n}\n</code></pre>\n\n<p>a)func2() acess internal members of s. Now consider Thread A entered into func2 after executing line 1 and Thread B same time reassign s with new object. When Thread A resumes\nwhat it will use new object or the old one ? ( suppose s initally points to memory location 100 (old object) and after a new object is assigned it started pointing to 200 (new object)\nthen when Thread A resumes it will acess address 100 or address 200).  </p>\n\n<p>b) If I make s volatile , will it make any difference to above case.</p>\n\n<p>4.) And here is last one </p>\n\n<pre><code>@Immutable\nclass OneValueCache {\n    private final BigInteger lastNumber;\n    private final BigInteger[] lastFactors;\n    public OneValueCache(BigInteger i,\n    BigInteger[] factors) {\n        lastNumber = i;\n        lastFactors = Arrays.copyOf(factors, factors.length);\n    }\n    public BigInteger[] getFactors(BigInteger i) {\n        if (lastNumber == null || !lastNumber.equals(i))\n            return null;\n        else\n            return Arrays.copyOf(lastFactors, lastFactors.length);\n    }\n}\n\n@ThreadSafe\npublic class VolatileCachedFactorizer implements Servlet {\n    private volatile OneValueCache cache = new OneValueCache(null, null);\n    public void service(ServletRequest req, ServletResponse resp) {\n        BigInteger i = extractFromRequest(req);\n        BigInteger[] factors = cache.getFactors(i); // Position A\n\n        if (factors == null) {\n            factors = factor(i);\n            cache = new OneValueCache(i, factors); // Position B\n        }\n        encodeIntoResponse(resp, factors);\n    }\n}\n</code></pre>\n\n<p>Accroding to book class \"VolatileCachedFactorizer\" is thread safe. Here is my reasoning why it is thread safe (Correct me if I am wrong.) Positin A and Position B are\ndoubtful positions.</p>\n\n<p>Position A : As cache is pointing to immutable object , any function call is safe (right ?).</p>\n\n<p>Position B : It can have two issue</p>\n\n<p>a)Threads see cache improperly initialized . Not possible in this case as immutable object are guaranteed to be properly initialized (right ?).</p>\n\n<p>b)New assigned object not visible to other threads. Not possible is this case as cache is volatile (right ?).</p>\n\n<p>But it is possible thread A call getFactors()  and other thread B reassign cache , in this case A will continue to see old object (right ?) </p>\n"},{"tags":["java","spring","spring-mvc"],"owner":{"account_id":2391768,"reputation":665,"user_id":2091487,"accept_rate":100,"display_name":"headlikearock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682603712,"creation_date":1680282623,"question_id":75901083,"body_markdown":"I&#39;m upgrading Spring versions and switching from using AbstractExcelView  to AbstractXlsxView. In AbstractExcelView I was able to set the url field to specify an excel document to start with. I don&#39;t see this option in the replacement classes (AbstractXlsxView, AbstractXlsView or  AbstractXlsxStreamingView). Here&#39;s an example of how it was specified in views.xml:\r\n\r\n    &lt;bean id=&quot;project.contact.list.report&quot;\r\n       \tclass=&quot;web.view.excel.reports.project.ProjectContactListReportExcelView&quot;&gt;\r\n       \t&lt;property name=&quot;url&quot; value=&quot;/WEB-INF/view/excel/reports/project/project_contact_list_report&quot;/&gt;\r\n    &lt;/bean&gt;","title":"How to set URL when switching from AbstractExcelView to AbstractXlsxView","body":"<p>I'm upgrading Spring versions and switching from using AbstractExcelView  to AbstractXlsxView. In AbstractExcelView I was able to set the url field to specify an excel document to start with. I don't see this option in the replacement classes (AbstractXlsxView, AbstractXlsView or  AbstractXlsxStreamingView). Here's an example of how it was specified in views.xml:</p>\n<pre><code>&lt;bean id=&quot;project.contact.list.report&quot;\n    class=&quot;web.view.excel.reports.project.ProjectContactListReportExcelView&quot;&gt;\n    &lt;property name=&quot;url&quot; value=&quot;/WEB-INF/view/excel/reports/project/project_contact_list_report&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","adobe","aem","aem-6"],"answers":[{"comments":[{"owner":{"account_id":9126685,"reputation":614,"user_id":6790065,"accept_rate":67,"display_name":"Thilina Dinith Fonseka"},"score":0,"creation_date":1628132008,"post_id":68653738,"comment_id":121340776,"body_markdown":"i did that too. but still it was failing. then did it from the scratch. im really wondering why it happen and why there is no way to recover it without starting from the scratch which is very time consuming","body":"i did that too. but still it was failing. then did it from the scratch. im really wondering why it happen and why there is no way to recover it without starting from the scratch which is very time consuming"},{"owner":{"account_id":70798,"reputation":2030,"user_id":204968,"display_name":"ronnyfm"},"score":1,"creation_date":1628175546,"post_id":68653738,"comment_id":121355903,"body_markdown":"There are a lot of possible causes. For example, how are you shutting down the instance? Abruptly killing the process or sudden machine restarts usually corrupt the instance. Is this happening after you install your code? What is the AEM version that you are running and what is the expected AEM version in your project? Is any service pack pending that should be installed before deploying your code?","body":"There are a lot of possible causes. For example, how are you shutting down the instance? Abruptly killing the process or sudden machine restarts usually corrupt the instance. Is this happening after you install your code? What is the AEM version that you are running and what is the expected AEM version in your project? Is any service pack pending that should be installed before deploying your code?"},{"owner":{"account_id":9126685,"reputation":614,"user_id":6790065,"accept_rate":67,"display_name":"Thilina Dinith Fonseka"},"score":0,"creation_date":1628737305,"post_id":68653738,"comment_id":121502848,"body_markdown":"I think that&#39;s the reason for having this issue I guess. (not shutting down the aem instance correctly). but im looking to recover it instead of a fresh installation. my aem version is 6.5 i have installed the service package before the code installation. it worked fine in 1st then giving this error. maybe due to sudden machine restarts. but there should be a way to recover it right ?","body":"I think that&#39;s the reason for having this issue I guess. (not shutting down the aem instance correctly). but im looking to recover it instead of a fresh installation. my aem version is 6.5 i have installed the service package before the code installation. it worked fine in 1st then giving this error. maybe due to sudden machine restarts. but there should be a way to recover it right ?"},{"owner":{"account_id":70798,"reputation":2030,"user_id":204968,"display_name":"ronnyfm"},"score":1,"creation_date":1628784261,"post_id":68653738,"comment_id":121519970,"body_markdown":"Yes, but it is harder to recover, it should be better to have a fresh instance and have a proper start/stop script or you can use the built-in on/off when you double click the JAR.","body":"Yes, but it is harder to recover, it should be better to have a fresh instance and have a proper start/stop script or you can use the built-in on/off when you double click the JAR."}],"tags":[],"owner":{"account_id":70798,"reputation":2030,"user_id":204968,"display_name":"ronnyfm"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628089819,"creation_date":1628089819,"answer_id":68653738,"question_id":68632900,"body_markdown":"Yeah, most likely the instance is corrupted. You can try using the oak-run tool to compact the repository and identify the last good segment: https://jackrabbit.apache.org/oak/docs/command_line.html\r\n\r\nIf this is a development environment, it would be quicker to start from scratch.","title":"AEM 6.5 - AuthenticationSupport service missing. Cannot authenticate request","body":"<p>Yeah, most likely the instance is corrupted. You can try using the oak-run tool to compact the repository and identify the last good segment: <a href=\"https://jackrabbit.apache.org/oak/docs/command_line.html\" rel=\"nofollow noreferrer\">https://jackrabbit.apache.org/oak/docs/command_line.html</a></p>\n<p>If this is a development environment, it would be quicker to start from scratch.</p>\n"},{"comments":[{"owner":{"account_id":2252016,"reputation":6192,"user_id":1984049,"accept_rate":74,"display_name":"Oliver"},"score":0,"creation_date":1666278458,"post_id":72478329,"comment_id":130903608,"body_markdown":"In my case all my bundles were up i.e. active and only felix console was working nothing else was opening it showed 503.\nPerforming above step resolved my issue.","body":"In my case all my bundles were up i.e. active and only felix console was working nothing else was opening it showed 503. Performing above step resolved my issue."}],"tags":[],"owner":{"account_id":25457033,"reputation":71,"user_id":19257497,"display_name":"Horacio"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1654182039,"creation_date":1654182039,"answer_id":72478329,"question_id":68632900,"body_markdown":"In my case, I was able to fix this issue by removing the following folder before starting the instance:\r\n\r\nrm -rf crx-quickstart/launchpad/config/org/apache/sling/jcr/repoinit","title":"AEM 6.5 - AuthenticationSupport service missing. Cannot authenticate request","body":"<p>In my case, I was able to fix this issue by removing the following folder before starting the instance:</p>\n<p>rm -rf crx-quickstart/launchpad/config/org/apache/sling/jcr/repoinit</p>\n"},{"tags":[],"owner":{"account_id":13141291,"reputation":130,"user_id":9492800,"display_name":"Pl&#224;cid Masvidal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682603675,"creation_date":1682603675,"answer_id":76121222,"question_id":68632900,"body_markdown":"I fix it by deleting the following:\r\n\r\ncrx-quickstart/repository/segmentstore/repo.lock\r\n\r\ncrx-quickstart/launchpad/felix/cache.lock\r\n\r\ncrx-quickstart/repository/index\r\n\r\ncrx-quickstart/launchpad/config/org/apache/sling/jcr/repoinit","title":"AEM 6.5 - AuthenticationSupport service missing. Cannot authenticate request","body":"<p>I fix it by deleting the following:</p>\n<p>crx-quickstart/repository/segmentstore/repo.lock</p>\n<p>crx-quickstart/launchpad/felix/cache.lock</p>\n<p>crx-quickstart/repository/index</p>\n<p>crx-quickstart/launchpad/config/org/apache/sling/jcr/repoinit</p>\n"}],"owner":{"account_id":9126685,"reputation":614,"user_id":6790065,"accept_rate":67,"display_name":"Thilina Dinith Fonseka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14514,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1682603675,"creation_date":1627980171,"question_id":68632900,"body_markdown":"im always getting this error in my local environment up. \r\n\r\n    HTTP ERROR 503 AuthenticationSupport service missing. Cannot authenticate the request.\r\n    URI:\t/\r\n    STATUS:\t503\r\n    MESSAGE:\tAuthenticationSupport service missing. Cannot authenticate the request.\r\n    SERVLET:\torg.apache.felix.http.base.internal.dispatch.DispatcherServlet-7eebf294\r\n\r\nthere is a suggestion to remove index files in crx-start/repository folder but it didn&#39;t work out for me. not able to access the login page even ","title":"AEM 6.5 - AuthenticationSupport service missing. Cannot authenticate request","body":"<p>im always getting this error in my local environment up.</p>\n<pre><code>HTTP ERROR 503 AuthenticationSupport service missing. Cannot authenticate the request.\nURI:    /\nSTATUS: 503\nMESSAGE:    AuthenticationSupport service missing. Cannot authenticate the request.\nSERVLET:    org.apache.felix.http.base.internal.dispatch.DispatcherServlet-7eebf294\n</code></pre>\n<p>there is a suggestion to remove index files in crx-start/repository folder but it didn't work out for me. not able to access the login page even</p>\n"},{"tags":["java","spring-boot","maven","build"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1679847573,"post_id":75848977,"comment_id":133790229,"body_markdown":"https://stackoverflow.com/q/38882080/927493","body":"<a href=\"https://stackoverflow.com/q/38882080/927493\">stackoverflow.com/q/38882080/927493</a>"},{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1679848509,"post_id":75848977,"comment_id":133790390,"body_markdown":"@JFabianMeier that Q has extensive answer, however it does not answer this question How java.version property works?","body":"@JFabianMeier that Q has extensive answer, however it does not answer this question How java.version property works?"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1679848774,"post_id":75848977,"comment_id":133790435,"body_markdown":"Spring Boot doesn&#39;t process the value, the compiler does. The question does not make any sense.","body":"Spring Boot doesn&#39;t process the value, the compiler does. The question does not make any sense."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679849365,"post_id":75848977,"comment_id":133790533,"body_markdown":"The default java compiler level defined in Spring Boot Starter Parent is (still) the 1.8 The property overrides this default. In your example to 17.","body":"The default java compiler level defined in Spring Boot Starter Parent is (still) the 1.8 The property overrides this default. In your example to 17."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679856178,"post_id":75848977,"comment_id":133791671,"body_markdown":"Starting with Spring Boot 3.0 the value is given with `17` (https://repo1.maven.org/maven2/org/springframework/boot/spring-boot-starter-parent/3.0.5/spring-boot-starter-parent-3.0.5.pom)","body":"Starting with Spring Boot 3.0 the value is given with <code>17</code> (<a href=\"https://repo1.maven.org/maven2/org/springframework/boot/spring-boot-starter-parent/3.0.5/spring-boot-starter-parent-3.0.5.pom\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/org/springframework/boot/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679850493,"creation_date":1679849229,"answer_id":75849183,"question_id":75848977,"body_markdown":"spring-boot-starter-parent uses `java.version` property to set value for both `maven.compiler.source` and `maven.compiler.target`\r\n\r\n```xml\r\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n  &lt;name&gt;spring-boot-starter-parent&lt;/name&gt;\r\n  &lt;description&gt;Parent pom providing dependency and plugin management for applications built with Maven&lt;/description&gt;\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;resource.delimiter&gt;@&lt;/resource.delimiter&gt;\r\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n  &lt;/properties&gt;\r\n```\r\n\r\nSources\r\n\r\nhttps://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-starters/spring-boot-starter-parent/build.gradle#L20-L30\r\n\r\nP.S. It is likely that Spring Boot 3.1 will switch to\r\n`maven.compiler.release` instead:  \r\nhttps://github.com/spring-projects/spring-boot/pull/34761","title":"how maven &lt;java.version&gt; property is processed by Spring Boot build?","body":"<p>spring-boot-starter-parent uses <code>java.version</code> property to set value for both <code>maven.compiler.source</code> and <code>maven.compiler.target</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;name&gt;spring-boot-starter-parent&lt;/name&gt;\n  &lt;description&gt;Parent pom providing dependency and plugin management for applications built with Maven&lt;/description&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;resource.delimiter&gt;@&lt;/resource.delimiter&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>Sources</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-starters/spring-boot-starter-parent/build.gradle#L20-L30\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-starters/spring-boot-starter-parent/build.gradle#L20-L30</a></p>\n<p>P.S. It is likely that Spring Boot 3.1 will switch to\n<code>maven.compiler.release</code> instead:<br />\n<a href=\"https://github.com/spring-projects/spring-boot/pull/34761\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/pull/34761</a></p>\n"}],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":817,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75849183,"answer_count":1,"score":0,"last_activity_date":1682603649,"creation_date":1679847346,"question_id":75848977,"body_markdown":"With Spring Boot (built with maven)  \r\nit is common to specify Java version in `pom.xml` as\r\n\r\n```xml\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n```\r\n\r\nHowever from Spring Boot Maven Plugin Documentation  \r\nhttps://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/\r\nhas nothing related to Java compilation.\r\n\r\n**How `java.version` property is processed by Spring Boot build?**","title":"how maven &lt;java.version&gt; property is processed by Spring Boot build?","body":"<p>With Spring Boot (built with maven)<br />\nit is common to specify Java version in <code>pom.xml</code> as</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>However from Spring Boot Maven Plugin Documentation<br />\n<a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/</a>\nhas nothing related to Java compilation.</p>\n<p><strong>How <code>java.version</code> property is processed by Spring Boot build?</strong></p>\n"},{"tags":["java","server","nanohttpd"],"comments":[{"owner":{"account_id":1197724,"reputation":4402,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":0,"creation_date":1682541673,"post_id":76114739,"comment_id":134234407,"body_markdown":"We need to see your code in order to help you fix it.","body":"We need to see your code in order to help you fix it."},{"owner":{"account_id":10945010,"reputation":71,"user_id":8043456,"display_name":"No&#233; Otero Mateo"},"score":0,"creation_date":1682542122,"post_id":76114739,"comment_id":134234469,"body_markdown":"I have already added the code. Thanks for the suggestion.","body":"I have already added the code. Thanks for the suggestion."}],"answers":[{"tags":[],"owner":{"account_id":10893719,"reputation":16,"user_id":16710897,"display_name":"Rodrigo Peixoto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682554044,"creation_date":1682544834,"answer_id":76115264,"question_id":76114739,"body_markdown":"\r\n\r\nTo include static content such as images and JavaScript in the HTML response, you can create a directory within your project to store these files. Let&#39;s call it `static`.\r\n\r\nNext, you need to serve the static content files from this directory. You can do this by creating a `StaticFileServer` class that extends the `NanoHTTPD` class and overrides the `serve()` method. In the `serve()` method, you can check if the requested URI starts with the string &quot;/static&quot; and if so, serve the corresponding file from the `static` directory. Here&#39;s an example:\r\n\r\n    ```java\r\n    import fi.iki.elonen.NanoHTTPD;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    public class StaticFileServer extends NanoHTTPD {\r\n        private final String staticDir;\r\n    \r\n        public StaticFileServer(int port, String staticDir) {\r\n            super(port);\r\n            this.staticDir = staticDir;\r\n        }\r\n    \r\n        @Override\r\n        public Response serve(IHTTPSession session) {\r\n            String uri = session.getUri();\r\n            if (uri.startsWith(&quot;/static&quot;)) {\r\n                String filePath = staticDir + uri.substring(7); // Remove &quot;/static&quot; prefix\r\n                try {\r\n                    InputStream inputStream = new FileInputStream(filePath);\r\n                    return newChunkedResponse(Response.Status.OK, getMimeType(filePath), inputStream);\r\n                } catch (IOException e) {\r\n                    return newFixedLengthResponse(Response.Status.NOT_FOUND, NanoHTTPD.MIME_PLAINTEXT, &quot;File not found&quot;);\r\n                }\r\n            } else {\r\n                // Handle other requests here\r\n            }\r\n        }\r\n    \r\n        private String getMimeType(String filePath) {\r\n            if (filePath.endsWith(&quot;.html&quot;)) {\r\n                return NanoHTTPD.MIME_HTML;\r\n            } else if (filePath.endsWith(&quot;.css&quot;)) {\r\n                return &quot;text/css&quot;;\r\n            } else if (filePath.endsWith(&quot;.js&quot;)) {\r\n                return &quot;application/javascript&quot;;\r\n            } else if (filePath.endsWith(&quot;.png&quot;)) {\r\n                return &quot;image/png&quot;;\r\n            } else if (filePath.endsWith(&quot;.jpg&quot;) || filePath.endsWith(&quot;.jpeg&quot;)) {\r\n                return &quot;image/jpeg&quot;;\r\n            } else if (filePath.endsWith(&quot;.gif&quot;)) {\r\n                return &quot;image/gif&quot;;\r\n            } else {\r\n                return NanoHTTPD.MIME_DEFAULT_BINARY;\r\n            }\r\n        }\r\n    }\r\n    ```\r\n\r\nIn the `serve()` method, we check if the URI starts with &quot;/static&quot;. If it does, we construct the file path by removing the &quot;/static&quot; prefix and appending it to the `staticDir` path. Then we open an input stream to read the file and return a `ChunkedResponse` with the file&#39;s MIME type. If the file is not found, we return a 404 Not Found response.\r\n\r\nNow that we have our `StaticFileServer` class, we can use it to serve our static files. In your main HTTP server program, you can create an instance of the `StaticFileServer` class and pass in the port and the path to the `static` directory. Then, in the `serve()` method of your main HTTP server program, you can generate the HTML response and include references to the static files using their URLs:\r\n\r\n    ```java\r\n    public class MainServer extends NanoHTTPD {\r\n        private static final int PORT = 8080;\r\n        private static final String STATIC_DIR = &quot;static&quot;;\r\n    \r\n        public MainServer() {\r\n            super(PORT);\r\n        }\r\n    \r\n        @Override\r\n        public Response serve(IHTTPSession session) {\r\n            String uri = session.getUri();\r\n            if (uri.equals(&quot;/&quot;)) {\r\n                // Generate HTML response with references to static files\r\n                String responseHtml = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;Home&lt;/title&gt;&quot; +\r\n                                      &quot;&lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;/static/style.css\\&quot;&gt;&quot; +\r\n                                      &quot;&lt;script src=\\&quot;/static/script.js\\&quot;&gt;&lt;/script&gt;&lt;/head&gt;&quot; +\r\n                                      &quot;&lt;body\r\n\r\n\r\n","title":"Extending NanoHTTPD","body":"<p>To include static content such as images and JavaScript in the HTML response, you can create a directory within your project to store these files. Let's call it <code>static</code>.</p>\n<p>Next, you need to serve the static content files from this directory. You can do this by creating a <code>StaticFileServer</code> class that extends the <code>NanoHTTPD</code> class and overrides the <code>serve()</code> method. In the <code>serve()</code> method, you can check if the requested URI starts with the string &quot;/static&quot; and if so, serve the corresponding file from the <code>static</code> directory. Here's an example:</p>\n<pre><code>```java\nimport fi.iki.elonen.NanoHTTPD;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class StaticFileServer extends NanoHTTPD {\n    private final String staticDir;\n\n    public StaticFileServer(int port, String staticDir) {\n        super(port);\n        this.staticDir = staticDir;\n    }\n\n    @Override\n    public Response serve(IHTTPSession session) {\n        String uri = session.getUri();\n        if (uri.startsWith(&quot;/static&quot;)) {\n            String filePath = staticDir + uri.substring(7); // Remove &quot;/static&quot; prefix\n            try {\n                InputStream inputStream = new FileInputStream(filePath);\n                return newChunkedResponse(Response.Status.OK, getMimeType(filePath), inputStream);\n            } catch (IOException e) {\n                return newFixedLengthResponse(Response.Status.NOT_FOUND, NanoHTTPD.MIME_PLAINTEXT, &quot;File not found&quot;);\n            }\n        } else {\n            // Handle other requests here\n        }\n    }\n\n    private String getMimeType(String filePath) {\n        if (filePath.endsWith(&quot;.html&quot;)) {\n            return NanoHTTPD.MIME_HTML;\n        } else if (filePath.endsWith(&quot;.css&quot;)) {\n            return &quot;text/css&quot;;\n        } else if (filePath.endsWith(&quot;.js&quot;)) {\n            return &quot;application/javascript&quot;;\n        } else if (filePath.endsWith(&quot;.png&quot;)) {\n            return &quot;image/png&quot;;\n        } else if (filePath.endsWith(&quot;.jpg&quot;) || filePath.endsWith(&quot;.jpeg&quot;)) {\n            return &quot;image/jpeg&quot;;\n        } else if (filePath.endsWith(&quot;.gif&quot;)) {\n            return &quot;image/gif&quot;;\n        } else {\n            return NanoHTTPD.MIME_DEFAULT_BINARY;\n        }\n    }\n}\n```\n</code></pre>\n<p>In the <code>serve()</code> method, we check if the URI starts with &quot;/static&quot;. If it does, we construct the file path by removing the &quot;/static&quot; prefix and appending it to the <code>staticDir</code> path. Then we open an input stream to read the file and return a <code>ChunkedResponse</code> with the file's MIME type. If the file is not found, we return a 404 Not Found response.</p>\n<p>Now that we have our <code>StaticFileServer</code> class, we can use it to serve our static files. In your main HTTP server program, you can create an instance of the <code>StaticFileServer</code> class and pass in the port and the path to the <code>static</code> directory. Then, in the <code>serve()</code> method of your main HTTP server program, you can generate the HTML response and include references to the static files using their URLs:</p>\n<pre><code>```java\npublic class MainServer extends NanoHTTPD {\n    private static final int PORT = 8080;\n    private static final String STATIC_DIR = &quot;static&quot;;\n\n    public MainServer() {\n        super(PORT);\n    }\n\n    @Override\n    public Response serve(IHTTPSession session) {\n        String uri = session.getUri();\n        if (uri.equals(&quot;/&quot;)) {\n            // Generate HTML response with references to static files\n            String responseHtml = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;Home&lt;/title&gt;&quot; +\n                                  &quot;&lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;/static/style.css\\&quot;&gt;&quot; +\n                                  &quot;&lt;script src=\\&quot;/static/script.js\\&quot;&gt;&lt;/script&gt;&lt;/head&gt;&quot; +\n                                  &quot;&lt;body\n</code></pre>\n"}],"owner":{"account_id":10945010,"reputation":71,"user_id":8043456,"display_name":"No&#233; Otero Mateo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76115264,"answer_count":1,"score":0,"last_activity_date":1682603626,"creation_date":1682539976,"question_id":76114739,"body_markdown":"I need to write a HTTP server program in Java that\r\n\r\n - Process SOME requests (i.e, having certain parameters) to store some data sent from clients, and.\r\n - The rest of requests show a &quot;home&quot; page, showing the data received from the clients.\r\n\r\nThe problem is, in the &quot;home&quot; page I want to show a page that uses local images or JavaScript, and I don&#39;t know how to make it work. I mean, I have seen the example in NanoHTTPD home page and it works great, but where should I place the static content (images, js) to be included in the HTML I generate as a response?\r\n\r\nCode added as per request.\r\n\r\n@nicomp, this example is an adaptation from the example code in https://github.com/NanoHttpd/nanohttpd. The image monkey.png is not served (it appears as a broken img in the browser).\r\n\r\n```java\r\npublic class Main extends NanoHTTPD {\r\n\r\n    public Main() throws IOException {\r\n        super(8080);\r\n        start(NanoHTTPD.SOCKET_READ_TIMEOUT, false);\r\n        System.out.println(&quot;\\nRunning! Point your browsers to http://localhost:8080/ \\n&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            new Main();\r\n        } catch (IOException ioe) {\r\n            System.err.println(&quot;Couldn&#39;t start server:\\n&quot; + ioe);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Response serve(IHTTPSession session) {\r\n        String msg = &quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello server&lt;/h1&gt;\\n&quot;;\r\n        msg += &quot;&lt;img src=\\&quot;monkey.png\\&quot;&gt;&quot;;\r\n        return newFixedLengthResponse(msg + &quot;&lt;/body&gt;&lt;/html&gt;\\n&quot;);\r\n    }\r\n}\r\n```","title":"Extending NanoHTTPD","body":"<p>I need to write a HTTP server program in Java that</p>\n<ul>\n<li>Process SOME requests (i.e, having certain parameters) to store some data sent from clients, and.</li>\n<li>The rest of requests show a &quot;home&quot; page, showing the data received from the clients.</li>\n</ul>\n<p>The problem is, in the &quot;home&quot; page I want to show a page that uses local images or JavaScript, and I don't know how to make it work. I mean, I have seen the example in NanoHTTPD home page and it works great, but where should I place the static content (images, js) to be included in the HTML I generate as a response?</p>\n<p>Code added as per request.</p>\n<p>@nicomp, this example is an adaptation from the example code in <a href=\"https://github.com/NanoHttpd/nanohttpd\" rel=\"nofollow noreferrer\">https://github.com/NanoHttpd/nanohttpd</a>. The image monkey.png is not served (it appears as a broken img in the browser).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main extends NanoHTTPD {\n\n    public Main() throws IOException {\n        super(8080);\n        start(NanoHTTPD.SOCKET_READ_TIMEOUT, false);\n        System.out.println(&quot;\\nRunning! Point your browsers to http://localhost:8080/ \\n&quot;);\n    }\n\n    public static void main(String[] args) {\n        try {\n            new Main();\n        } catch (IOException ioe) {\n            System.err.println(&quot;Couldn't start server:\\n&quot; + ioe);\n        }\n    }\n\n    @Override\n    public Response serve(IHTTPSession session) {\n        String msg = &quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello server&lt;/h1&gt;\\n&quot;;\n        msg += &quot;&lt;img src=\\&quot;monkey.png\\&quot;&gt;&quot;;\n        return newFixedLengthResponse(msg + &quot;&lt;/body&gt;&lt;/html&gt;\\n&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","sockets","websocket","socket.io"],"answers":[{"tags":[],"owner":{"account_id":6238794,"reputation":10830,"user_id":4853133,"accept_rate":0,"display_name":"Quick learner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617093540,"creation_date":1617093540,"answer_id":66867449,"question_id":66865612,"body_markdown":"**I would suggest you to do these following things:-**\r\n\r\n&gt; 1) Check your socket is correct and working , you can check it in any\r\n&gt; website or software to make sure socket is being connected. If your\r\n&gt; socket url is working then do this second step.\r\n&gt; \r\n&gt; 2) Initialise and connect socket in application class like this.\r\n\r\n  a) Mention application class in manifest.\r\n\r\n  b) Create a class and use this class in your project\r\n\r\n\r\n    import io.socket.client.IO;\r\n    import io.socket.client.Socket;\r\n    import io.socket.emitter.Emitter;\r\n    \r\n    \r\n    public class ApplicationClass extends Application {\r\n        public static final String TAG = ApplicationClass.class.getSimpleName();\r\n        private static ApplicationClass mInstance;\r\n        public static io.socket.client.Socket mSocket;\r\n    \r\n        @Override\r\n        protected void attachBaseContext(Context base) {\r\n            super.attachBaseContext(base);\r\n            MultiDex.install(base);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            initializeSocket();\r\n            mInstance = this;\r\n        }\r\n    \r\n        private void initializeSocket() {\r\n            IO.Options options = new IO.Options();\r\n            options.forceNew = true;\r\n            options.reconnection = true;\r\n            options.reconnectionDelay = 2000;\r\n            options.reconnectionDelayMax = 5000;\r\n            try {\r\n                mSocket = IO.socket(WebAPIUrls.SOCKET_URL);\r\n                mSocket.on(Socket.EVENT_CONNECT, onConnect);\r\n                mSocket.on(Socket.EVENT_CONNECT_ERROR, onConnectError);\r\n                mSocket.on(Socket.EVENT_CONNECT_TIMEOUT, onConnectError);\r\n                mSocket.on(Socket.EVENT_DISCONNECT, onDisconnect);\r\n                if(!mSocket.connected()){\r\n                    mSocket.connect();\r\n                }\r\n            } catch (URISyntaxException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n        }\r\n        public Emitter.Listener onConnect = new Emitter.Listener() {\r\n            @Override\r\n            public void call(Object... args) {\r\n                Log.d(TAG, &quot;Socket Connected!&quot;);\r\n            }\r\n        };\r\n    \r\n        private Emitter.Listener onConnectError = new Emitter.Listener() {\r\n            @Override\r\n            public void call(Object... args) {\r\n                Log.d(TAG, &quot;onConnectError&quot;);\r\n            }\r\n        };\r\n        private Emitter.Listener onDisconnect = new Emitter.Listener() {\r\n            @Override\r\n            public void call(Object... args) {\r\n                Log.d(TAG, &quot;onDisconnect&quot;);\r\n               /* if(!mSocket.connected()){\r\n                    mSocket.connect();\r\n                }*/\r\n            }\r\n        };\r\n       \r\n    \r\n        public static synchronized ApplicationClass getInstance() {\r\n            ApplicationClass appController;\r\n            synchronized (ApplicationClass.class) {\r\n                appController = mInstance;\r\n            }\r\n            return appController;\r\n        }\r\n       \r\n        public static Socket returnSocketInstance() {\r\n            return mSocket;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Socket.io is not connecting in android, How to connect socket in android?","body":"<p><strong>I would suggest you to do these following things:-</strong></p>\n<blockquote>\n<ol>\n<li><p>Check your socket is correct and working , you can check it in any\nwebsite or software to make sure socket is being connected. If your\nsocket url is working then do this second step.</p>\n</li>\n<li><p>Initialise and connect socket in application class like this.</p>\n</li>\n</ol>\n</blockquote>\n<p>a) Mention application class in manifest.</p>\n<p>b) Create a class and use this class in your project</p>\n<pre><code>import io.socket.client.IO;\nimport io.socket.client.Socket;\nimport io.socket.emitter.Emitter;\n\n\npublic class ApplicationClass extends Application {\n    public static final String TAG = ApplicationClass.class.getSimpleName();\n    private static ApplicationClass mInstance;\n    public static io.socket.client.Socket mSocket;\n\n    @Override\n    protected void attachBaseContext(Context base) {\n        super.attachBaseContext(base);\n        MultiDex.install(base);\n\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        initializeSocket();\n        mInstance = this;\n    }\n\n    private void initializeSocket() {\n        IO.Options options = new IO.Options();\n        options.forceNew = true;\n        options.reconnection = true;\n        options.reconnectionDelay = 2000;\n        options.reconnectionDelayMax = 5000;\n        try {\n            mSocket = IO.socket(WebAPIUrls.SOCKET_URL);\n            mSocket.on(Socket.EVENT_CONNECT, onConnect);\n            mSocket.on(Socket.EVENT_CONNECT_ERROR, onConnectError);\n            mSocket.on(Socket.EVENT_CONNECT_TIMEOUT, onConnectError);\n            mSocket.on(Socket.EVENT_DISCONNECT, onDisconnect);\n            if(!mSocket.connected()){\n                mSocket.connect();\n            }\n        } catch (URISyntaxException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n    public Emitter.Listener onConnect = new Emitter.Listener() {\n        @Override\n        public void call(Object... args) {\n            Log.d(TAG, &quot;Socket Connected!&quot;);\n        }\n    };\n\n    private Emitter.Listener onConnectError = new Emitter.Listener() {\n        @Override\n        public void call(Object... args) {\n            Log.d(TAG, &quot;onConnectError&quot;);\n        }\n    };\n    private Emitter.Listener onDisconnect = new Emitter.Listener() {\n        @Override\n        public void call(Object... args) {\n            Log.d(TAG, &quot;onDisconnect&quot;);\n           /* if(!mSocket.connected()){\n                mSocket.connect();\n            }*/\n        }\n    };\n   \n\n    public static synchronized ApplicationClass getInstance() {\n        ApplicationClass appController;\n        synchronized (ApplicationClass.class) {\n            appController = mInstance;\n        }\n        return appController;\n    }\n   \n    public static Socket returnSocketInstance() {\n        return mSocket;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":16140350,"reputation":15,"user_id":11651689,"display_name":"Nazibul Alam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1779,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66867449,"answer_count":1,"score":1,"last_activity_date":1682603176,"creation_date":1617084621,"question_id":66865612,"body_markdown":"I&#39;m new to socket.io\r\nI have tried everything I came across but still it&#39;s false when is use the connected() function.\r\n\r\nI&#39;ve checked the permissions I have both of :\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nI have also used : `android:usesCleartextTraffic=&quot;true&quot;`\r\n\r\nThis is my code:\r\n\r\n    public class LoginFragment extends Fragment {\r\n    \r\n        FragmentLoginBinding binding;\r\n        private NavController controller;\r\n        private Socket socket;\r\n        {\r\n            try {\r\n                socket = IO.socket(TimeAndData.getSocketURL());// it&#39;s something like this &quot;http://xxx.xxx.xxx.xxx:xxxx&quot;\r\n            } catch (URISyntaxException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n    \r\n    \r\n            controller = Navigation.getInstance().getController();\r\n            binding = FragmentLoginBinding.inflate(getLayoutInflater(),container,false);\r\n    \r\n            socket.connect();\r\n    \r\n            binding.loginBtn.setOnClickListener(v -&gt; {\r\n                if(!binding.etUsername.getText().toString().isEmpty()) {\r\n                    if(!binding.etPass.getText().toString().isEmpty()) {\r\n                        binding.loginBtn.setClickable(false);\r\n                        submit();\r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n            return binding.getRoot();\r\n        }\r\n    \r\n        private void submit() {\r\n            binding.progressBar.setVisibility(View.VISIBLE);\r\n            RequestQueue rq = Volley.newRequestQueue(requireContext());\r\n    \r\n            StringRequest jor = new StringRequest(Request.Method.POST, TimeAndData.getLoginURL(), responseStr -&gt;  {\r\n    \r\n                JsonObject object = new Gson().fromJson(responseStr, JsonObject.class);\r\n                binding.progressBar.setVisibility(View.GONE);\r\n                if(object.get(&quot;status&quot;).getAsInt()==200) {\r\n    \r\n                    TimeAndData.setDisplayName(object.get(&quot;displayName&quot;).getAsString());\r\n                    TimeAndData.setBalance(object.get(&quot;balance&quot;).getAsString());\r\n                    TimeAndData.setFullName(object.get(&quot;fullName&quot;).getAsString());\r\n                    TimeAndData.setUserId(object.get(&quot;userId&quot;).getAsString());\r\n                    TimeAndData.setUserName(object.get(&quot;userName&quot;).getAsString());\r\n    \r\n    \r\n                    initSocket(object.get(&quot;userId&quot;).getAsString());\r\n    \r\n                    //controller.navigate(R.id.navigation_choice);\r\n                }else if(object.get(&quot;status&quot;).getAsInt()==401){\r\n                    Toast toast = Toast.makeText(requireContext(), object.get(&quot;msg&quot;).getAsString(),Toast.LENGTH_SHORT);\r\n                    toast.setGravity(Gravity.TOP,0,0);\r\n                    toast.show();\r\n                    binding.progressBar.setVisibility(View.GONE);\r\n                    binding.loginBtn.setClickable(true);\r\n                }else {\r\n                    Toast toast = Toast.makeText(requireContext(), &quot;Internal Server Error&quot;,Toast.LENGTH_SHORT);\r\n                    toast.setGravity(Gravity.TOP,0,0);\r\n                    toast.show();\r\n                    binding.progressBar.setVisibility(View.GONE);\r\n                    binding.loginBtn.setClickable(true);\r\n                }\r\n    \r\n    \r\n            }, error -&gt; Toast.makeText(getContext(), error.getMessage(), Toast.LENGTH_SHORT).show()){\r\n                @Override\r\n                public String getBodyContentType() {\r\n                    return &quot;application/x-www-form-urlencoded&quot;;\r\n                }\r\n    \r\n                @Override\r\n                protected Map&lt;String, String&gt; getParams()\r\n                {\r\n                    Map&lt;String, String&gt;  params = new HashMap&lt;&gt;();\r\n                    params.put(&quot;userName&quot;, binding.etUsername.getText().toString());\r\n                    params.put(&quot;password&quot;, binding.etPass.getText().toString());\r\n    \r\n                    return params;\r\n                }\r\n            };\r\n    \r\n            rq.add(jor);\r\n        }\r\n    \r\n        private void initSocket(String agent_id) {\r\n    \r\n    \r\n            \r\n            Toast toast = Toast.makeText(requireContext(), String.valueOf(socket.connected()),Toast.LENGTH_SHORT);//shows false\r\n            toast.setGravity(Gravity.TOP,0,0);\r\n            toast.show();\r\n    }\r\n\r\nWhat am I doing wrong here? I&#39;m stuck here and I have deadline tomorrow","title":"Socket.io is not connecting in android, How to connect socket in android?","body":"<p>I'm new to socket.io\nI have tried everything I came across but still it's false when is use the connected() function.</p>\n<p>I've checked the permissions I have both of :</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>I have also used : <code>android:usesCleartextTraffic=&quot;true&quot;</code></p>\n<p>This is my code:</p>\n<pre><code>public class LoginFragment extends Fragment {\n\n    FragmentLoginBinding binding;\n    private NavController controller;\n    private Socket socket;\n    {\n        try {\n            socket = IO.socket(TimeAndData.getSocketURL());// it's something like this &quot;http://xxx.xxx.xxx.xxx:xxxx&quot;\n        } catch (URISyntaxException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n\n        controller = Navigation.getInstance().getController();\n        binding = FragmentLoginBinding.inflate(getLayoutInflater(),container,false);\n\n        socket.connect();\n\n        binding.loginBtn.setOnClickListener(v -&gt; {\n            if(!binding.etUsername.getText().toString().isEmpty()) {\n                if(!binding.etPass.getText().toString().isEmpty()) {\n                    binding.loginBtn.setClickable(false);\n                    submit();\n                }\n            }\n        });\n\n\n\n        return binding.getRoot();\n    }\n\n    private void submit() {\n        binding.progressBar.setVisibility(View.VISIBLE);\n        RequestQueue rq = Volley.newRequestQueue(requireContext());\n\n        StringRequest jor = new StringRequest(Request.Method.POST, TimeAndData.getLoginURL(), responseStr -&gt;  {\n\n            JsonObject object = new Gson().fromJson(responseStr, JsonObject.class);\n            binding.progressBar.setVisibility(View.GONE);\n            if(object.get(&quot;status&quot;).getAsInt()==200) {\n\n                TimeAndData.setDisplayName(object.get(&quot;displayName&quot;).getAsString());\n                TimeAndData.setBalance(object.get(&quot;balance&quot;).getAsString());\n                TimeAndData.setFullName(object.get(&quot;fullName&quot;).getAsString());\n                TimeAndData.setUserId(object.get(&quot;userId&quot;).getAsString());\n                TimeAndData.setUserName(object.get(&quot;userName&quot;).getAsString());\n\n\n                initSocket(object.get(&quot;userId&quot;).getAsString());\n\n                //controller.navigate(R.id.navigation_choice);\n            }else if(object.get(&quot;status&quot;).getAsInt()==401){\n                Toast toast = Toast.makeText(requireContext(), object.get(&quot;msg&quot;).getAsString(),Toast.LENGTH_SHORT);\n                toast.setGravity(Gravity.TOP,0,0);\n                toast.show();\n                binding.progressBar.setVisibility(View.GONE);\n                binding.loginBtn.setClickable(true);\n            }else {\n                Toast toast = Toast.makeText(requireContext(), &quot;Internal Server Error&quot;,Toast.LENGTH_SHORT);\n                toast.setGravity(Gravity.TOP,0,0);\n                toast.show();\n                binding.progressBar.setVisibility(View.GONE);\n                binding.loginBtn.setClickable(true);\n            }\n\n\n        }, error -&gt; Toast.makeText(getContext(), error.getMessage(), Toast.LENGTH_SHORT).show()){\n            @Override\n            public String getBodyContentType() {\n                return &quot;application/x-www-form-urlencoded&quot;;\n            }\n\n            @Override\n            protected Map&lt;String, String&gt; getParams()\n            {\n                Map&lt;String, String&gt;  params = new HashMap&lt;&gt;();\n                params.put(&quot;userName&quot;, binding.etUsername.getText().toString());\n                params.put(&quot;password&quot;, binding.etPass.getText().toString());\n\n                return params;\n            }\n        };\n\n        rq.add(jor);\n    }\n\n    private void initSocket(String agent_id) {\n\n\n        \n        Toast toast = Toast.makeText(requireContext(), String.valueOf(socket.connected()),Toast.LENGTH_SHORT);//shows false\n        toast.setGravity(Gravity.TOP,0,0);\n        toast.show();\n}\n</code></pre>\n<p>What am I doing wrong here? I'm stuck here and I have deadline tomorrow</p>\n"},{"tags":["java","junit","mockito","junit4"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1682538043,"post_id":76113844,"comment_id":134233729,"body_markdown":"Please don&#39;t post the same question over and over: [1](https://stackoverflow.com/questions/76106454/how-to-do-a-unit-test-with-junit-and-mockito-in-java-on-methods-that-read-a-path), [2](https://stackoverflow.com/questions/76105752/how-to-do-a-unit-test-with-junit-and-mockito-in-java-on-methods-that-prefer-date), [3](https://stackoverflow.com/questions/76103872/how-to-do-a-unit-test-with-junit-and-mockito-in-java-on-methods-that-i-need-to-t), [4](https://stackoverflow.com/questions/76103154/how-to-make-a-unit-test-with-junit-and-mockito-in-java)","body":"Please don&#39;t post the same question over and over: <a href=\"https://stackoverflow.com/questions/76106454/how-to-do-a-unit-test-with-junit-and-mockito-in-java-on-methods-that-read-a-path\">1</a>, <a href=\"https://stackoverflow.com/questions/76105752/how-to-do-a-unit-test-with-junit-and-mockito-in-java-on-methods-that-prefer-date\">2</a>, <a href=\"https://stackoverflow.com/questions/76103872/how-to-do-a-unit-test-with-junit-and-mockito-in-java-on-methods-that-i-need-to-t\">3</a>, <a href=\"https://stackoverflow.com/questions/76103154/how-to-make-a-unit-test-with-junit-and-mockito-in-java\">4</a>"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1682538262,"post_id":76113844,"comment_id":134233766,"body_markdown":"If you don&#39;t get an answer, try to refine your question, include what you have already tried and how that didn&#39;t work. See [ask].","body":"If you don&#39;t get an answer, try to refine your question, include what you have already tried and how that didn&#39;t work. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1682538854,"post_id":76113844,"comment_id":134233867,"body_markdown":"It&#39;s also not clear to me what you want to test. That the file name gets built correctly? That errors get logged? That the file must not exist? Something else?","body":"It&#39;s also not clear to me what you want to test. That the file name gets built correctly? That errors get logged? That the file must not exist? Something else?"},{"owner":{"account_id":19287101,"reputation":9,"user_id":20296892,"display_name":"Jonathan Ortiz"},"score":0,"creation_date":1682539239,"post_id":76113844,"comment_id":134233937,"body_markdown":"Robert With respect to your first comment, I changed the question to see if it explained a little better and basically to this question that I updated, I only need to verify that the file is really being created in such a path and that if it exists, delete it and create it again","body":"Robert With respect to your first comment, I changed the question to see if it explained a little better and basically to this question that I updated, I only need to verify that the file is really being created in such a path and that if it exists, delete it and create it again"},{"owner":{"account_id":19287101,"reputation":9,"user_id":20296892,"display_name":"Jonathan Ortiz"},"score":0,"creation_date":1682539501,"post_id":76113844,"comment_id":134233987,"body_markdown":"Robert Regarding your second comment and the question that was before this one that I just updated, if it only required checking that the file really exists in such a path and likewise checking the case in which it does not exist, then return empty","body":"Robert Regarding your second comment and the question that was before this one that I just updated, if it only required checking that the file really exists in such a path and likewise checking the case in which it does not exist, then return empty"}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682580977,"creation_date":1682580257,"answer_id":76117775,"question_id":76113844,"body_markdown":"Just check if `file.createNewFile()` calls\r\n\r\n     @Test\r\n     public void testGetFilePE() {\r\n     File file = mock(File.class)\r\n     yourMockedService.getFilePE(&quot;String&quot;); \r\n     verify(file).createNewFile();\r\n    }\r\n\r\nThen if you need to test all cases. Like `else` statement or `catch` block. You will need to simulate throwing errors and mock `if` statemement","title":"How to test a method using Junit and Mockito in Java on a method that creates a file in such a path","body":"<p>Just check if <code>file.createNewFile()</code> calls</p>\n<pre><code> @Test\n public void testGetFilePE() {\n File file = mock(File.class)\n yourMockedService.getFilePE(&quot;String&quot;); \n verify(file).createNewFile();\n}\n</code></pre>\n<p>Then if you need to test all cases. Like <code>else</code> statement or <code>catch</code> block. You will need to simulate throwing errors and mock <code>if</code> statemement</p>\n"},{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682602789,"creation_date":1682602789,"answer_id":76121096,"question_id":76113844,"body_markdown":"The problem here is that you use the file system in your test. This adds an external dependency that you should not have in a unit test. File systems may or may not be in the right state, they have caches which may trip your test randomly, and they are generally much slower than working with memory only. The best thing would be to refactor the code (or actually the callers of the code under test) to work with `InputStream` and `OutputStream` which you can easily use with `FileInputStream` and `FileOutputStream` in real life, but swap against `ByteArrayInputStream` and `ByteArrayOutputStream` respectively. If your code creates an empty file, nothing guarantees that the file will still exist or still be empty when the caller of your code tries to use it. Separating file creation from actually using the file opens you up for a [symlink race](https://en.wikipedia.org/wiki/Symlink_race).\r\n\r\nThat said, if you want to test that the code under test creates or deletes files, you&#39;ll have to ask the file system, or mock the file system.\r\n\r\n\r\nUsing a real file system (I&#39;d avoid this)\r\n---\r\n\r\nUse the same `File` methods as the code under test, like the code below. Note that this is untested code, as you didn&#39;t provide a [MCVE](https://stackoverflow.com/help/minimal-reproducible-example):\r\n\r\n```java\r\n@Test\r\npublic void createsFileIfItDoesNotExist() throws InterruptedException {\r\n    String fecha = &quot;2023-04-26&quot;;\r\n\r\n    String path = getFilePE(fecha);\r\n\r\n    assertEquals(ConstantsFiles.FILE_NAME_PE + fecha + ConstantsFiles.FILE_EXTENSION, path, &quot;wrong path&quot;);\r\n\r\n    Thread.sleep(5 * 1000); // ms\r\n    File expected = new File(path);\r\n    assertTrue(expected.exists(), &quot;should have create a file&quot;);\r\n    assertEquals(0, expected.length(), &quot;file should be empty&quot;);\r\n}\r\n```\r\n\r\nSome remarks:\r\n\r\n- The assertion for the path is a lot like the code under test; I&#39;d probably hard-code the path in the test, or remove the check completely. But this depends on what you want to test.\r\n\r\n- The `Thread.sleep` is there to allow the file system to reflect the changes. Currently it sleeps for 5 seconds, which is already bad enough as most tests should run much faster than that. If the test is flaky (sometimes passes, sometimes fails), you may need to increase this.\r\n\r\n- You may be able to decrease the chance of tests interfering with each other by using JUnit5&#39;s [@TempDir](https://junit.org/junit5/docs/5.4.1/api/org/junit/jupiter/api/io/TempDir.html) annotation (see [this Java Magazine blog post](https://blogs.oracle.com/javamagazine/post/working-and-unit-testing-with-temporary-files-in-java)), but that requires that you pass in the constant parts of the path you build, instead of just using some global constants.\r\n\r\n- For other tests, make sure you use different dates, or one test may clobber the files from another test, or files may unexpectedly exist (the joy of a shared dependency).\r\n\r\n\r\nMocking the file system\r\n---\r\n\r\nAgain, untested code:\r\n\r\n```java\r\n@Test\r\npublic void createsFileIfItDoesNotExist() {\r\n    File f = mock(File.class);\r\n    when(f.createNewFile).thenReturn(true);\r\n    getFilePE(&quot;2023-04-26&quot;);\r\n    verify(f).createNewFile(&quot;/expected/path/to/the/file&quot;);\r\n}\r\n```\r\n\r\n\r\n\r\nWith whatever style you go, write more tests along those lines, e.g., with creating the file and writing something to it (or faking it exists), and then checking that it got truncated, or whatever else you want to test.","title":"How to test a method using Junit and Mockito in Java on a method that creates a file in such a path","body":"<p>The problem here is that you use the file system in your test. This adds an external dependency that you should not have in a unit test. File systems may or may not be in the right state, they have caches which may trip your test randomly, and they are generally much slower than working with memory only. The best thing would be to refactor the code (or actually the callers of the code under test) to work with <code>InputStream</code> and <code>OutputStream</code> which you can easily use with <code>FileInputStream</code> and <code>FileOutputStream</code> in real life, but swap against <code>ByteArrayInputStream</code> and <code>ByteArrayOutputStream</code> respectively. If your code creates an empty file, nothing guarantees that the file will still exist or still be empty when the caller of your code tries to use it. Separating file creation from actually using the file opens you up for a <a href=\"https://en.wikipedia.org/wiki/Symlink_race\" rel=\"nofollow noreferrer\">symlink race</a>.</p>\n<p>That said, if you want to test that the code under test creates or deletes files, you'll have to ask the file system, or mock the file system.</p>\n<h2>Using a real file system (I'd avoid this)</h2>\n<p>Use the same <code>File</code> methods as the code under test, like the code below. Note that this is untested code, as you didn't provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void createsFileIfItDoesNotExist() throws InterruptedException {\n    String fecha = &quot;2023-04-26&quot;;\n\n    String path = getFilePE(fecha);\n\n    assertEquals(ConstantsFiles.FILE_NAME_PE + fecha + ConstantsFiles.FILE_EXTENSION, path, &quot;wrong path&quot;);\n\n    Thread.sleep(5 * 1000); // ms\n    File expected = new File(path);\n    assertTrue(expected.exists(), &quot;should have create a file&quot;);\n    assertEquals(0, expected.length(), &quot;file should be empty&quot;);\n}\n</code></pre>\n<p>Some remarks:</p>\n<ul>\n<li><p>The assertion for the path is a lot like the code under test; I'd probably hard-code the path in the test, or remove the check completely. But this depends on what you want to test.</p>\n</li>\n<li><p>The <code>Thread.sleep</code> is there to allow the file system to reflect the changes. Currently it sleeps for 5 seconds, which is already bad enough as most tests should run much faster than that. If the test is flaky (sometimes passes, sometimes fails), you may need to increase this.</p>\n</li>\n<li><p>You may be able to decrease the chance of tests interfering with each other by using JUnit5's <a href=\"https://junit.org/junit5/docs/5.4.1/api/org/junit/jupiter/api/io/TempDir.html\" rel=\"nofollow noreferrer\">@TempDir</a> annotation (see <a href=\"https://blogs.oracle.com/javamagazine/post/working-and-unit-testing-with-temporary-files-in-java\" rel=\"nofollow noreferrer\">this Java Magazine blog post</a>), but that requires that you pass in the constant parts of the path you build, instead of just using some global constants.</p>\n</li>\n<li><p>For other tests, make sure you use different dates, or one test may clobber the files from another test, or files may unexpectedly exist (the joy of a shared dependency).</p>\n</li>\n</ul>\n<h2>Mocking the file system</h2>\n<p>Again, untested code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void createsFileIfItDoesNotExist() {\n    File f = mock(File.class);\n    when(f.createNewFile).thenReturn(true);\n    getFilePE(&quot;2023-04-26&quot;);\n    verify(f).createNewFile(&quot;/expected/path/to/the/file&quot;);\n}\n</code></pre>\n<p>With whatever style you go, write more tests along those lines, e.g., with creating the file and writing something to it (or faking it exists), and then checking that it got truncated, or whatever else you want to test.</p>\n"}],"owner":{"account_id":19287101,"reputation":9,"user_id":20296892,"display_name":"Jonathan Ortiz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1682602739,"answer_count":2,"score":-3,"last_activity_date":1682602789,"creation_date":1682532677,"question_id":76113844,"body_markdown":"I want to test a method using JUnit and Mockito in Java this method basically reads a path and creates a file, and if the file exists delete it and create it again, any examples you can help me with?\r\n\r\nHere is the method I want to test:\r\n\r\n    public String getFilePE(String fecha) {\r\n\t\tString fileName = null;\r\n\t\tString filePath = null;\r\n\t\tFile file = null;\r\n\r\n\t\ttry {\r\n\t\t\tlogger.info(&quot;Generando archivo para PE&quot;);\r\n\t\t\tfileName = ConstantsFiles.FILE_NAME_PE + fecha + ConstantsFiles.FILE_EXTENSION;\r\n\t\t\tfilePath = ConstantsFiles.FILE_PATH_PE + fileName;\r\n\t\t\tlogger.info(filePath);\r\n\t\t\t\r\n\t\t\tfile = new File(filePath);\r\n\t\t\tif (file.createNewFile()) {\r\n\t\t\t\tlogger.info(&quot;Archivo creado con exito &quot; + file.getName());\r\n\t\t\t} else {\r\n\t\t\t\tFiles.deleteIfExists(Paths.get(filePath));\r\n\t\t\t}\r\n\t\t} catch (IOException ex) {\r\n\t\t\tlogger.error(&quot;Error, el archivo no se pudo generar: &quot; + ex.getMessage(), ex);\r\n\t\t}\r\n\t\treturn filePath;\r\n\t}\r\n","title":"How to test a method using Junit and Mockito in Java on a method that creates a file in such a path","body":"<p>I want to test a method using JUnit and Mockito in Java this method basically reads a path and creates a file, and if the file exists delete it and create it again, any examples you can help me with?</p>\n<p>Here is the method I want to test:</p>\n<pre><code>public String getFilePE(String fecha) {\n    String fileName = null;\n    String filePath = null;\n    File file = null;\n\n    try {\n        logger.info(&quot;Generando archivo para PE&quot;);\n        fileName = ConstantsFiles.FILE_NAME_PE + fecha + ConstantsFiles.FILE_EXTENSION;\n        filePath = ConstantsFiles.FILE_PATH_PE + fileName;\n        logger.info(filePath);\n        \n        file = new File(filePath);\n        if (file.createNewFile()) {\n            logger.info(&quot;Archivo creado con exito &quot; + file.getName());\n        } else {\n            Files.deleteIfExists(Paths.get(filePath));\n        }\n    } catch (IOException ex) {\n        logger.error(&quot;Error, el archivo no se pudo generar: &quot; + ex.getMessage(), ex);\n    }\n    return filePath;\n}\n</code></pre>\n"},{"tags":["java","httprequest","multipartform-data","apache-httpclient-4.x","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682689409,"post_id":76121082,"comment_id":134259539,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28434751,"reputation":1,"user_id":21754995,"display_name":"null pointer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682602683,"creation_date":1682602683,"question_id":76121082,"body_markdown":"How can i create an HTTP multipart/form-data\r\n\r\nWhere wach part have no name?\r\n\r\n\\*\\* Example with attachment:\r\n\r\n\r\n\\`  \r\n\r\n\\--boundry_root_111111111111\r\n\r\nContent-Type: application/json; charset=utf-8\r\n\r\n{\r\n&quot;myJson&quot;: &quot;Data1&quot;\r\n}\r\n\r\n  \r\n\\--boundry_root_111111111111\r\n\r\nContent-type: Message/CPIM\r\n\r\nFrom: A\r\nDate: 2023-01-01\r\nTo: B\r\n\r\nContent-Type: text/plain; charset=utf-8\r\nContent-length: 10\r\n\r\nMyTextHere MyTextHere MyTextHere MyTextHere\r\n\r\nContent-type: multipart/related;boundary=&quot;boundary222222&quot;\r\n\\--boundary222222\r\nContent-ID:0\r\nContent-Type:image/jpeg;Name=&quot;202020.jpg&quot;  \r\nContent-Disposition:Attachment;Filename=&quot;202020.jpg&quot;\r\nContent-Location:202020.jpg\r\nContent-Transfer-Encoding:base64\r\n\r\nFileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64\r\nFileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64\r\n\r\n\r\n\\--boundary222222\r\n\\--boundry_root_111111111111\\`\r\n\r\n\r\n\r\n\r\n\r\nTried RestAssured \r\nApache Httpclient \r\n\r\nboth failed,  \r\nApache returned error when body part name was empty ,Restassured added default part name \r\n","title":"How to create Http multipart [multipart/form-data] with NO part names","body":"<p>How can i create an HTTP multipart/form-data</p>\n<p>Where wach part have no name?</p>\n<p>** Example with attachment:</p>\n<p>`</p>\n<p>--boundry_root_111111111111</p>\n<p>Content-Type: application/json; charset=utf-8</p>\n<p>{\n&quot;myJson&quot;: &quot;Data1&quot;\n}</p>\n<p>--boundry_root_111111111111</p>\n<p>Content-type: Message/CPIM</p>\n<p>From: A\nDate: 2023-01-01\nTo: B</p>\n<p>Content-Type: text/plain; charset=utf-8\nContent-length: 10</p>\n<p>MyTextHere MyTextHere MyTextHere MyTextHere</p>\n<p>Content-type: multipart/related;boundary=&quot;boundary222222&quot;\n--boundary222222\nContent-ID:0\nContent-Type:image/jpeg;Name=&quot;202020.jpg&quot;<br />\nContent-Disposition:Attachment;Filename=&quot;202020.jpg&quot;\nContent-Location:202020.jpg\nContent-Transfer-Encoding:base64</p>\n<p>FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64\nFileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64</p>\n<p>--boundary222222\n--boundry_root_111111111111`</p>\n<p>Tried RestAssured\nApache Httpclient</p>\n<p>both failed,<br />\nApache returned error when body part name was empty ,Restassured added default part name</p>\n"},{"tags":["python","java","opencv","android"],"owner":{"account_id":28434128,"reputation":1,"user_id":21754443,"display_name":"Mah&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682602666,"creation_date":1682602666,"question_id":76121078,"body_markdown":"# Context\r\nI have a very good OpenCV document scanner written in Python and I need to translate it to Java, for an android application. *PS : The text is hidden in the documents because of the morphology close operations.*\r\n\r\nI am using the same parameters on each version of the code, and yet, the results are different. \r\n\r\nThe current problem I am having is, after edge detection, I am unable to find the exact 4 corners of the document (in Java).\r\n\r\nHere&#39;s pictures that should be self-explanatory :\r\n\r\n[Corners in the Python version](https://i.stack.imgur.com/gvLBU.png)\r\n\r\n[Corners in the Java version](https://i.stack.imgur.com/CIYIo.png)\r\n\r\nThis is especially weird since the edge detection reveals the exact same contours : \r\n\r\n[Contours in the Python version](https://i.stack.imgur.com/sw9cf.png)\r\n\r\n[Contours in the Java version](https://i.stack.imgur.com/j0BQO.png)\r\n\r\nBoth images went through the same process, that I&#39;ll explain here and send a part of the code :\r\n\r\n1. Resizing\r\n2. Close morphology operations to get rid of the text on the document\r\n3. GrabCut() to get rid of the background\r\n4. Grayscale, GaussianBlur, Canny and dilate\r\n\r\nJava :\r\n\r\n```\r\n        // Method applications\r\n        Imgproc.cvtColor(img, gray, Imgproc.COLOR_RGB2GRAY);\r\n        Imgproc.GaussianBlur(gray, blur, new Size(11,11), 0);\r\n        Imgproc.Canny(blur, canny, 0, 200);\r\n        Imgproc.dilate(canny, dilate, Imgproc.getStructuringElement(Imgproc.MORPH_ELLIPSE, new Size(5,5)));\r\n```\r\n\r\nPython :\r\n\r\n```\r\n    # Transformation de l&#39;image BGR en image &quot;grayscale&quot;, nuances de gris\r\n    # Utilisation de la m&#233;thode &quot;GussianBlur()&quot; afin de retirer le bruit d&#39;image\r\n    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\r\n    blur = cv2.GaussianBlur(gray, (11,11), 0)\r\n    \r\n    # Utilisation des m&#233;thodes &quot;canny()&quot; et &quot;dilate()&quot; afin de d&#233;tecter tout les bords de l&#39;image\r\n    canny = cv2.Canny(blur, 0, 200)\r\n    dilate = cv2.dilate(canny, cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (5,5)))\r\n```\r\n\r\nMy principle question is WHY would the results be different using the same parameters, once in Python, once in Java? \r\n\r\nOne thing I found is that on the particular image I sent, if instead of using the biggest contour I use the first one detected (so contours.get(O)), it works in Java.\r\nBut if I try to use the biggest contour, Python works, and Java doesn&#39;t.\r\nHere&#39;s both code sample that are supposed to find to biggest contour :\r\n\r\n\r\nJava :\r\n```\r\n        MatOfPoint largestContour = Collections.max(contours, new Comparator&lt;MatOfPoint&gt;() {\r\n            @Override\r\n            public int compare(MatOfPoint o1, MatOfPoint o2) {\r\n                return Double.compare(Imgproc.contourArea(o1), Imgproc.contourArea(o2));\r\n            }\r\n        });\r\n        List&lt;MatOfPoint&gt; page = new ArrayList&lt;&gt;();\r\n        page.add(largestContour);\r\n```\r\n\r\nPython :\r\n```\r\npage = sorted(contours, key=cv2.contourArea, reverse=True)[:5]\r\n\r\n```\r\n\r\nThe coordinates of those corners are really important because I need to do a perspective transform later on. If only one of those corners is wrong, the whole perspective is wrong!\r\n\r\n\r\nThank you for reading. Feel free to ask for more details about the parameters I use in some functions if you need it to help me.\r\n\r\nPlease help !\r\n\r\n\r\nI tried the same methods with the same parameters in Python and Java, and the results are different.\r\nOne of the detected corners of the image is different in Java than Python, and that messes up the perspective transform.","title":"Document scanner doesn&#39;t detect the correct corners of the document. OpenCV Java &amp; Python","body":"<h1>Context</h1>\n<p>I have a very good OpenCV document scanner written in Python and I need to translate it to Java, for an android application. <em>PS : The text is hidden in the documents because of the morphology close operations.</em></p>\n<p>I am using the same parameters on each version of the code, and yet, the results are different.</p>\n<p>The current problem I am having is, after edge detection, I am unable to find the exact 4 corners of the document (in Java).</p>\n<p>Here's pictures that should be self-explanatory :</p>\n<p><a href=\"https://i.stack.imgur.com/gvLBU.png\" rel=\"nofollow noreferrer\">Corners in the Python version</a></p>\n<p><a href=\"https://i.stack.imgur.com/CIYIo.png\" rel=\"nofollow noreferrer\">Corners in the Java version</a></p>\n<p>This is especially weird since the edge detection reveals the exact same contours :</p>\n<p><a href=\"https://i.stack.imgur.com/sw9cf.png\" rel=\"nofollow noreferrer\">Contours in the Python version</a></p>\n<p><a href=\"https://i.stack.imgur.com/j0BQO.png\" rel=\"nofollow noreferrer\">Contours in the Java version</a></p>\n<p>Both images went through the same process, that I'll explain here and send a part of the code :</p>\n<ol>\n<li>Resizing</li>\n<li>Close morphology operations to get rid of the text on the document</li>\n<li>GrabCut() to get rid of the background</li>\n<li>Grayscale, GaussianBlur, Canny and dilate</li>\n</ol>\n<p>Java :</p>\n<pre><code>        // Method applications\n        Imgproc.cvtColor(img, gray, Imgproc.COLOR_RGB2GRAY);\n        Imgproc.GaussianBlur(gray, blur, new Size(11,11), 0);\n        Imgproc.Canny(blur, canny, 0, 200);\n        Imgproc.dilate(canny, dilate, Imgproc.getStructuringElement(Imgproc.MORPH_ELLIPSE, new Size(5,5)));\n</code></pre>\n<p>Python :</p>\n<pre><code>    # Transformation de l'image BGR en image &quot;grayscale&quot;, nuances de gris\n    # Utilisation de la méthode &quot;GussianBlur()&quot; afin de retirer le bruit d'image\n    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n    blur = cv2.GaussianBlur(gray, (11,11), 0)\n    \n    # Utilisation des méthodes &quot;canny()&quot; et &quot;dilate()&quot; afin de détecter tout les bords de l'image\n    canny = cv2.Canny(blur, 0, 200)\n    dilate = cv2.dilate(canny, cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (5,5)))\n</code></pre>\n<p>My principle question is WHY would the results be different using the same parameters, once in Python, once in Java?</p>\n<p>One thing I found is that on the particular image I sent, if instead of using the biggest contour I use the first one detected (so contours.get(O)), it works in Java.\nBut if I try to use the biggest contour, Python works, and Java doesn't.\nHere's both code sample that are supposed to find to biggest contour :</p>\n<p>Java :</p>\n<pre><code>        MatOfPoint largestContour = Collections.max(contours, new Comparator&lt;MatOfPoint&gt;() {\n            @Override\n            public int compare(MatOfPoint o1, MatOfPoint o2) {\n                return Double.compare(Imgproc.contourArea(o1), Imgproc.contourArea(o2));\n            }\n        });\n        List&lt;MatOfPoint&gt; page = new ArrayList&lt;&gt;();\n        page.add(largestContour);\n</code></pre>\n<p>Python :</p>\n<pre><code>page = sorted(contours, key=cv2.contourArea, reverse=True)[:5]\n\n</code></pre>\n<p>The coordinates of those corners are really important because I need to do a perspective transform later on. If only one of those corners is wrong, the whole perspective is wrong!</p>\n<p>Thank you for reading. Feel free to ask for more details about the parameters I use in some functions if you need it to help me.</p>\n<p>Please help !</p>\n<p>I tried the same methods with the same parameters in Python and Java, and the results are different.\nOne of the detected corners of the image is different in Java than Python, and that messes up the perspective transform.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682597307,"post_id":76120044,"comment_id":134242821,"body_markdown":"This is because your are mixing .yml and .properties files. You should use only one type. In this case .properties","body":"This is because your are mixing .yml and .properties files. You should use only one type. In this case .properties"},{"owner":{"account_id":3527102,"reputation":325,"user_id":2947880,"accept_rate":64,"display_name":"D.Razvan"},"score":0,"creation_date":1682605277,"post_id":76120044,"comment_id":134244975,"body_markdown":"@Mar-Z is there any info about this in the official documentation ?","body":"@Mar-Z is there any info about this in the official documentation ?"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1682608782,"post_id":76120044,"comment_id":134245951,"body_markdown":"@D.Razvan [This might be what you look for](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config).","body":"@D.Razvan <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">This might be what you look for</a>."}],"answers":[{"tags":[],"owner":{"account_id":17019450,"reputation":46,"user_id":12312431,"display_name":"Andrіі khoma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682602602,"creation_date":1682602602,"answer_id":76121068,"question_id":76120044,"body_markdown":"Spring 3.1 also introduces the new @PropertySource annotation as a convenient mechanism for adding property sources to the environment.\r\n\r\nWe can use this annotation in conjunction with the @Configuration annotation:\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:foo.properties&quot;)\r\n    public class PropertiesWithJavaConfig {\r\n        //...\r\n    }","title":"Spring boot configuration overriding not properly working","body":"<p>Spring 3.1 also introduces the new @PropertySource annotation as a convenient mechanism for adding property sources to the environment.</p>\n<p>We can use this annotation in conjunction with the @Configuration annotation:</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:foo.properties&quot;)\npublic class PropertiesWithJavaConfig {\n    //...\n}\n</code></pre>\n"}],"owner":{"account_id":3527102,"reputation":325,"user_id":2947880,"accept_rate":64,"display_name":"D.Razvan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682602602,"creation_date":1682596172,"question_id":76120044,"body_markdown":"Spring boot version for my app is 2.6.12.\r\nMy project has a dependency towards a library(with spring boot version 2.7.11) with an auto configuration like so:\r\n\r\n```\r\n@Configuration\r\n@EnableConfigurationProperties({LibProperties.class})\r\npublic class LibAutoConfiguration {\r\n    public LibAutoConfiguration() {\r\n    }\r\n\r\n    @Bean(\r\n        initMethod = &quot;checkSomething&quot;,\r\n        destroyMethod = &quot;release&quot;\r\n    )\r\n    SomeHandler someHandler(LibProperties properties, ShutdownManager shutdownManager) {\r\n        return new SomeHandler (properties, shutdownManager);\r\n    }\r\n\r\n    @Bean\r\n    ShutdownManager shutdownManager(ApplicationContext applicationContext) {\r\n        return new ShutdownManager(applicationContext);\r\n    }\r\n}\r\n```\r\n\r\nProperties configuration:\r\n\r\n```\r\n@ConfigurationProperties(&quot;lib&quot;)\r\n@ConstructorBinding\r\npublic class LibProperties {\r\n    private final int a;\r\n    private final String b;\r\n\r\n    public LibProperties(int a, String b) {\r\n\r\n        this.a = a;\r\n        this.b = b;\r\n    }\r\n    \r\n    // getters\r\n}\r\n```\r\n\r\nand the spring.factories file:\r\n\r\n```\r\norg.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\r\n  com.lib.config.LibAutoConfiguration\r\n```\r\n\r\nThis library also has a application.properties in classpath with empty values for the properties\r\n\r\nNow in my spring boot app I have my App class:\r\n\r\n```\r\n@SpringBootApplication(scanBasePackages = { com.myApp})\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        //blabla\r\n    }\r\n\r\n}\r\n```\r\n\r\nand my application.yml on the classpath with all properties defined under LibProperties configured. \r\n\r\nApplication fails on startup with:\r\n\r\n```\r\nFailed to bind properties under &#39;lib.a&#39; to int:\r\n\r\n    Property: lib.a\r\n    Value: &quot;&quot;\r\n    Origin: class path resource [application.properties] from myApp.jar!/BOOT-INF/lib/lib.jar - 6:0\r\n    Reason: failed to convert java.lang.String to int (caused by java.lang.IllegalArgumentException: A null value cannot be assigned to a primitive type)\r\n\r\nAction:\r\n\r\nUpdate your application&#39;s configuration\r\n```\r\n\r\nAs you can see, it does not override the properties from the library from my application.yml and still looks at the packaged application.properties. This does not happen if I switch to a .properties file inside the jar, or use the --spring.config.location to load the yml file.\r\n\r\nAnyone know what the underlying issue could be ? I would expect my app packaged .yml file to override properties under lib packaged .properties file.\r\n\r\nThanks","title":"Spring boot configuration overriding not properly working","body":"<p>Spring boot version for my app is 2.6.12.\nMy project has a dependency towards a library(with spring boot version 2.7.11) with an auto configuration like so:</p>\n<pre><code>@Configuration\n@EnableConfigurationProperties({LibProperties.class})\npublic class LibAutoConfiguration {\n    public LibAutoConfiguration() {\n    }\n\n    @Bean(\n        initMethod = &quot;checkSomething&quot;,\n        destroyMethod = &quot;release&quot;\n    )\n    SomeHandler someHandler(LibProperties properties, ShutdownManager shutdownManager) {\n        return new SomeHandler (properties, shutdownManager);\n    }\n\n    @Bean\n    ShutdownManager shutdownManager(ApplicationContext applicationContext) {\n        return new ShutdownManager(applicationContext);\n    }\n}\n</code></pre>\n<p>Properties configuration:</p>\n<pre><code>@ConfigurationProperties(&quot;lib&quot;)\n@ConstructorBinding\npublic class LibProperties {\n    private final int a;\n    private final String b;\n\n    public LibProperties(int a, String b) {\n\n        this.a = a;\n        this.b = b;\n    }\n    \n    // getters\n}\n</code></pre>\n<p>and the spring.factories file:</p>\n<pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\n  com.lib.config.LibAutoConfiguration\n</code></pre>\n<p>This library also has a application.properties in classpath with empty values for the properties</p>\n<p>Now in my spring boot app I have my App class:</p>\n<pre><code>@SpringBootApplication(scanBasePackages = { com.myApp})\npublic class Application {\n\n    public static void main(String[] args) {\n        //blabla\n    }\n\n}\n</code></pre>\n<p>and my application.yml on the classpath with all properties defined under LibProperties configured.</p>\n<p>Application fails on startup with:</p>\n<pre><code>Failed to bind properties under 'lib.a' to int:\n\n    Property: lib.a\n    Value: &quot;&quot;\n    Origin: class path resource [application.properties] from myApp.jar!/BOOT-INF/lib/lib.jar - 6:0\n    Reason: failed to convert java.lang.String to int (caused by java.lang.IllegalArgumentException: A null value cannot be assigned to a primitive type)\n\nAction:\n\nUpdate your application's configuration\n</code></pre>\n<p>As you can see, it does not override the properties from the library from my application.yml and still looks at the packaged application.properties. This does not happen if I switch to a .properties file inside the jar, or use the --spring.config.location to load the yml file.</p>\n<p>Anyone know what the underlying issue could be ? I would expect my app packaged .yml file to override properties under lib packaged .properties file.</p>\n<p>Thanks</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1682601498,"post_id":76120849,"comment_id":134244008,"body_markdown":"Yes, a lambda becomes an inner class. What do you mean &quot;what is an implication of $$Lambda&quot;? That&#39;s part of the autogenerated `toString` of the inner class.","body":"Yes, a lambda becomes an inner class. What do you mean &quot;what is an implication of $$Lambda&quot;? That&#39;s part of the autogenerated <code>toString</code> of the inner class."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1682601940,"post_id":76120849,"comment_id":134244125,"body_markdown":"Well, for most purposes it is the same as an anonymous inner class, like we wrote Comparators, EventHandlers etc for two decades: `new IntSupplier() { int getAsInt() {return 42;} };` If you want to dig deeper into how it is actually implemented in the JVM, your search term might be [LambdaMetafactory](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/invoke/LambdaMetafactory.html).","body":"Well, for most purposes it is the same as an anonymous inner class, like we wrote Comparators, EventHandlers etc for two decades: <code>new IntSupplier() { int getAsInt() {return 42;} };</code> If you want to dig deeper into how it is actually implemented in the JVM, your search term might be <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/invoke/LambdaMetafactory.html\" rel=\"nofollow noreferrer\">LambdaMetafactory</a>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1682699116,"post_id":76120849,"comment_id":134261895,"body_markdown":"See [What does $$ in javac generated name mean?](https://stackoverflow.com/q/36057007/2711488) and [Meaning of class file on the file system](https://stackoverflow.com/q/44475789/2711488)","body":"See <a href=\"https://stackoverflow.com/q/36057007/2711488\">What does $$ in javac generated name mean?</a> and <a href=\"https://stackoverflow.com/q/44475789/2711488\">Meaning of class file on the file system</a>"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1682602596,"creation_date":1682602291,"answer_id":76121024,"question_id":76120849,"body_markdown":"That is the name of a *hidden class*, as proposed in [JEP 371][1]. Since Java 15, this is how lambdas are implemented.\r\n\r\nThese are classes that are generated at runtime, using `Lookup.defineHiddenClass`, rather than `ClassLoader.defineClass`. Therefore, they are not loaded by a class loader.\r\n\r\nAs for the output of your code, the part after the `@` is the identity hash code of the object, as usual. The part before that is the name of the hidden class, `Foo$$Lambda$15/0x0000000840064c40`. This can be separated into two parts: `Foo$$Lambda$15` is the name used in the class definition (the bytes, in the *class file format* that is passed to `defineHiddenClass`), and `0x0000000840064c40` is an unqualified name generated by the JVM. The `$$` doesn&#39;t mean anything special. `$` is a valid character to be used in a class name.\r\n\r\nTowards the end of the JEP, it discusses the lifetime of hidden classes. The gist of it is that hidden classes can be unloaded as soon as there are no longer any live instances of the class. e.g. when the object created by the lambda expression is garbage collected.\r\n\r\n\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/371","title":"Lambda expression create inner classes at runtime","body":"<p>That is the name of a <em>hidden class</em>, as proposed in <a href=\"https://openjdk.org/jeps/371\" rel=\"noreferrer\">JEP 371</a>. Since Java 15, this is how lambdas are implemented.</p>\n<p>These are classes that are generated at runtime, using <code>Lookup.defineHiddenClass</code>, rather than <code>ClassLoader.defineClass</code>. Therefore, they are not loaded by a class loader.</p>\n<p>As for the output of your code, the part after the <code>@</code> is the identity hash code of the object, as usual. The part before that is the name of the hidden class, <code>Foo$$Lambda$15/0x0000000840064c40</code>. This can be separated into two parts: <code>Foo$$Lambda$15</code> is the name used in the class definition (the bytes, in the <em>class file format</em> that is passed to <code>defineHiddenClass</code>), and <code>0x0000000840064c40</code> is an unqualified name generated by the JVM. The <code>$$</code> doesn't mean anything special. <code>$</code> is a valid character to be used in a class name.</p>\n<p>Towards the end of the JEP, it discusses the lifetime of hidden classes. The gist of it is that hidden classes can be unloaded as soon as there are no longer any live instances of the class. e.g. when the object created by the lambda expression is garbage collected.</p>\n"}],"owner":{"account_id":8854601,"reputation":207,"user_id":6612731,"display_name":"RBS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682602596,"creation_date":1682601194,"question_id":76120849,"body_markdown":"To exploring lambda and its working, i write below code.\r\n\r\n    public class Foo { // enclose class\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(new Foo().new InnerFoo());\r\n        IntSupplier intSupplier = () -&gt; 42;\r\n        System.out.println(intSupplier);\r\n    }\r\n    \r\n    class InnerFoo{} // inner class\r\n    \r\n    }\r\n\r\nAfter execution of code, i come across below output.\r\n\r\n    Foo$InnerFoo@3af49f1c\r\n    Foo$$Lambda$15/0x0000000840064c40@13221655\r\n\r\ni have basically 2 question based on output.\r\n\r\n 1. To best of my knowledge, when every inner class is instantiated, it can be represent as **EnclosingClass$InnerClass@hashcode** as toString()(in case we do not override toString()). so does that mean, my **Foo$$Lambda$15/0x0000000840064c40@13221655** is a definition of inner class ? if is to so, than how long that inner class loaded remains in JVM ? \r\n 2. What is an implication of **$$Lambda**. How JVM will interpret it ? \r\n\r\n","title":"Lambda expression create inner classes at runtime","body":"<p>To exploring lambda and its working, i write below code.</p>\n<pre><code>public class Foo { // enclose class\n\npublic static void main(String[] args) {\n    System.out.println(new Foo().new InnerFoo());\n    IntSupplier intSupplier = () -&gt; 42;\n    System.out.println(intSupplier);\n}\n\nclass InnerFoo{} // inner class\n\n}\n</code></pre>\n<p>After execution of code, i come across below output.</p>\n<pre><code>Foo$InnerFoo@3af49f1c\nFoo$$Lambda$15/0x0000000840064c40@13221655\n</code></pre>\n<p>i have basically 2 question based on output.</p>\n<ol>\n<li>To best of my knowledge, when every inner class is instantiated, it can be represent as <strong>EnclosingClass$InnerClass@hashcode</strong> as toString()(in case we do not override toString()). so does that mean, my <strong>Foo$$Lambda$15/0x0000000840064c40@13221655</strong> is a definition of inner class ? if is to so, than how long that inner class loaded remains in JVM ?</li>\n<li>What is an implication of <strong>$$Lambda</strong>. How JVM will interpret it ?</li>\n</ol>\n"},{"tags":["java","security","jsp","google-app-engine"],"answers":[{"tags":[],"owner":{"account_id":3074,"reputation":5183,"user_id":4358,"accept_rate":88,"display_name":"ramayac"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287330966,"creation_date":1287330966,"answer_id":3953997,"question_id":3771386,"body_markdown":"the only thing I could think of, was the `&lt;security-constraint&gt;` element, that you can add in the deployment descriptor. \r\nAs you may know, an App Engine application can use Google Accounts for user authentication. An app can also specify access **restrictions for URL paths based on Google Accounts**, using the element mentioned in the deployment descriptor. **This security constraints apply to static files as well as servlets.**\r\n\r\nBut that is as far as it goes, because:\r\n&quot;Google App Engine does not support custom security roles (`&lt;security-role&gt;`) or alternate authentication mechanisms (`&lt;login-config&gt;`) in the deployment descriptor.&quot;\r\n\r\nFor more information, take a look at the GAE Java Deployment Descriptor: http://code.google.com/appengine/docs/java/config/webxml.html#Security_and_Authentication\r\n\r\nHope this helps!","title":"Google app engine: what are content folder data securing options?","body":"<p>the only thing I could think of, was the <code>&lt;security-constraint&gt;</code> element, that you can add in the deployment descriptor. \nAs you may know, an App Engine application can use Google Accounts for user authentication. An app can also specify access <strong>restrictions for URL paths based on Google Accounts</strong>, using the element mentioned in the deployment descriptor. <strong>This security constraints apply to static files as well as servlets.</strong></p>\n\n<p>But that is as far as it goes, because:\n\"Google App Engine does not support custom security roles (<code>&lt;security-role&gt;</code>) or alternate authentication mechanisms (<code>&lt;login-config&gt;</code>) in the deployment descriptor.\"</p>\n\n<p>For more information, take a look at the GAE Java Deployment Descriptor: <a href=\"http://code.google.com/appengine/docs/java/config/webxml.html#Security_and_Authentication\" rel=\"nofollow\">http://code.google.com/appengine/docs/java/config/webxml.html#Security_and_Authentication</a></p>\n\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":66223,"reputation":65403,"user_id":434051,"accept_rate":84,"display_name":"Rella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1682602345,"creation_date":1285172486,"question_id":3771386,"body_markdown":"It seems for me that when youve got low (in general hacking terms) quotas (I am talking about free GAE plan) and quite large files uoy wanna stream to your users youmust somehow to protect thouse files from &quot;bad&quot; users\r\n\r\nSo it is sad \r\n\r\n&gt; By default, App Engine makes all files\r\n&gt; in the WAR available as static files\r\n&gt; except JSPs and files in WEB-INF/. Any\r\n&gt; request for a URL whose path matches a\r\n&gt; static file serves the file directly\r\n&gt; to the browser—even if the path also\r\n&gt; matches a servlet or filter mapping.matches a servlet or filter mapping.\r\n\r\nwhat are short in implementing methods of folder protection inside WAR? (code, samples, articles examples etc)\r\n\r\n(situation: We use GAE for Java. So we just are programming JSP and Java and xml and JS and Html. So: empty gae project, no source yet (just some default html) a folder &#39;data&#39; in  that war with some files that should not get into bad hands)\r\n","title":"Google app engine: what are content folder data securing options?","body":"<p>It seems for me that when youve got low (in general hacking terms) quotas (I am talking about free GAE plan) and quite large files uoy wanna stream to your users youmust somehow to protect thouse files from \"bad\" users</p>\n\n<p>So it is sad </p>\n\n<blockquote>\n  <p>By default, App Engine makes all files\n  in the WAR available as static files\n  except JSPs and files in WEB-INF/. Any\n  request for a URL whose path matches a\n  static file serves the file directly\n  to the browser—even if the path also\n  matches a servlet or filter mapping.matches a servlet or filter mapping.</p>\n</blockquote>\n\n<p>what are short in implementing methods of folder protection inside WAR? (code, samples, articles examples etc)</p>\n\n<p>(situation: We use GAE for Java. So we just are programming JSP and Java and xml and JS and Html. So: empty gae project, no source yet (just some default html) a folder 'data' in  that war with some files that should not get into bad hands)</p>\n"},{"tags":["java","android","security","download","passwords"],"answers":[{"tags":[],"owner":{"account_id":297763,"reputation":1319,"user_id":603442,"display_name":"erloewe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296917651,"creation_date":1296917651,"answer_id":4907495,"question_id":4813134,"body_markdown":"Please see the [Apache HttpClient Examples, Client authentication][1]. Android ships with these libraries by default.\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/examples.html","title":"how can I download a file from a password protected folder in java","body":"<p>Please see the <a href=\"http://hc.apache.org/httpcomponents-client-ga/examples.html\" rel=\"nofollow\">Apache HttpClient Examples, Client authentication</a>. Android ships with these libraries by default.</p>\n"}],"owner":{"account_id":701622,"reputation":21,"user_id":591724,"display_name":"mendes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682602286,"creation_date":1296107057,"question_id":4813134,"body_markdown":"want to download a file from a online server and I don&#39;t want it to be acessible outside my application so I have protected the folder using the control panel , now I need to know how can I acccess and download that file in my java program ? Its an android app that downloads a database. My situation is that I have two databases, one for the free app and another for the paid version.And I dont want people downloading the paid version to the pc and using them on the free version app.Is there another easy way ?","title":"how can I download a file from a password protected folder in java","body":"<p>want to download a file from a online server and I don't want it to be acessible outside my application so I have protected the folder using the control panel , now I need to know how can I acccess and download that file in my java program ? Its an android app that downloads a database. My situation is that I have two databases, one for the free app and another for the paid version.And I dont want people downloading the paid version to the pc and using them on the free version app.Is there another easy way ?</p>\n"},{"tags":["java","mysql","spring","jpa"],"comments":[{"owner":{"account_id":28213482,"reputation":1,"user_id":21565355,"display_name":"Ferzinia"},"score":0,"creation_date":1682600207,"post_id":76120619,"comment_id":134243605,"body_markdown":"look here and example of my payload after i update an dependent:\n &quot;userDependents&quot;: [\n            {\n                &quot;uuid&quot;: &quot;a888f64f-88f0-4ccd-b352-5f00388cb741&quot;,\n                &quot;userId&quot;: &quot;ea30980b-518a-4240-0d8a-cf14lc10069k&quot;,\n                &quot;type&quot;: &quot;Son&quot;,\n                &quot;age&quot;: &quot;21&quot;,\n                &quot;createdAt&quot;: null,\n                &quot;updatedAt&quot;: &quot;2023-04-27 09:38:26&quot;,\n                &quot;removed&quot;: null\n            },","body":"look here and example of my payload after i update an dependent:  &quot;userDependents&quot;: [             {                 &quot;uuid&quot;: &quot;a888f64f-88f0-4ccd-b352-5f00388cb741&quot;,                 &quot;userId&quot;: &quot;ea30980b-518a-4240-0d8a-cf14lc10069k&quot;,                 &quot;type&quot;: &quot;Son&quot;,                 &quot;age&quot;: &quot;21&quot;,                 &quot;createdAt&quot;: null,                 &quot;updatedAt&quot;: &quot;2023-04-27 09:38:26&quot;,                 &quot;removed&quot;: null             },"},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1682600500,"post_id":76120619,"comment_id":134243689,"body_markdown":"can you paste `UserDTO` class , does it have `createdAt` field ?","body":"can you paste <code>UserDTO</code> class , does it have <code>createdAt</code> field ?"},{"owner":{"account_id":28213482,"reputation":1,"user_id":21565355,"display_name":"Ferzinia"},"score":0,"creation_date":1682601149,"post_id":76120619,"comment_id":134243902,"body_markdown":"there you go ! :) thanks","body":"there you go ! :) thanks"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1682604208,"post_id":76120619,"comment_id":134244693,"body_markdown":"Your method is taking UpdatePreferencesDependentsDTO and using that to populate an empty user data instance, which is then converted to an entity to be &#39;merged&#39; into your existing entity. Everything in that converted Entity instance will overwrite the existing managed entity data - even the properties you&#39;ve left blank. You need to set the UpdatePreferencesDependentsDTO data into the entity instance from the database directly, so that you only overwrite the specific fields you intend to set with the new data. Alternatively, you can mark createdAt with updateable=false","body":"Your method is taking UpdatePreferencesDependentsDTO and using that to populate an empty user data instance, which is then converted to an entity to be &#39;merged&#39; into your existing entity. Everything in that converted Entity instance will overwrite the existing managed entity data - even the properties you&#39;ve left blank. You need to set the UpdatePreferencesDependentsDTO data into the entity instance from the database directly, so that you only overwrite the specific fields you intend to set with the new data. Alternatively, you can mark createdAt with updateable=false"}],"answers":[{"comments":[{"owner":{"account_id":28213482,"reputation":1,"user_id":21565355,"display_name":"Ferzinia"},"score":0,"creation_date":1682622221,"post_id":76121009,"comment_id":134249060,"body_markdown":"exactly, frontend will pass the creationat and its ok! thank yooou","body":"exactly, frontend will pass the creationat and its ok! thank yooou"}],"tags":[],"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682602205,"creation_date":1682602205,"answer_id":76121009,"question_id":76120619,"body_markdown":"looks like in update method `updatePreferencesAndDependents`\r\nYou assign dependatns data from postman to `user`\r\n`user.setUserDependents(updateDTO.getUserDependents());` if postman does not sends `createdAt` it will be null, and if postman sends any value it will override value from db","title":"The method of my POST erase creation date time when i use the update function","body":"<p>looks like in update method <code>updatePreferencesAndDependents</code>\nYou assign dependatns data from postman to <code>user</code>\n<code>user.setUserDependents(updateDTO.getUserDependents());</code> if postman does not sends <code>createdAt</code> it will be null, and if postman sends any value it will override value from db</p>\n"}],"owner":{"account_id":28213482,"reputation":1,"user_id":21565355,"display_name":"Ferzinia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682602205,"creation_date":1682599712,"question_id":76120619,"body_markdown":"When i pass the json on postman it creates the dependents with no problem, when i type an existing dependent with his Uuid to update the data the creationAt is set to null, and only the updateAt is set. \r\n\r\n```\r\npublic void updatePreferencesAndDependents(UUID userId, UpdatePreferencesDependentsDTO updateDTO) {\r\n        var user = getUserById(userId);\r\n        user.setReferralHospital(updateDTO.getReferralHospital());\r\n        user.setReferralHospitalId(updateDTO.getReferralHospitalId());\r\n        user.setAttendance(updateDTO.getAttendance());\r\n        user.setCoverage(updateDTO.getCoverage());\r\n        user.setAccommodation(updateDTO.getAccommodation());\r\n        user.setPartaking(updateDTO.getPartaking());\r\n        user.setUserDependents(updateDTO.getUserDependents());\r\n        var entity = UserMapper.mapper.toEntity(user);\r\n        repository.save(entity);\r\n    }\r\n```\r\n\r\nthat i use in this endpoint:\r\n\r\n```\r\n @PostMapping(&quot;/update-preferences-dependents&quot;)\r\n    public ResponseEntity&lt;ResponseDTO&gt; updateDependentsAndPreferences(@RequestBody UpdatePreferencesDependentsDTO dto) {\r\n        try {\r\n            UUID userId = dto.getUuid();\r\n            service.updatePreferencesAndDependents(userId, dto);\r\n            return ResponseEntity.ok(response(&quot;User data updated.&quot;));\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error updating data.&quot;, e.getMessage());\r\n            return ResponseEntity.badRequest().body(response(&quot;Error updating user data.&quot;));\r\n        }\r\n```\r\n\r\ni have this mapper too:\r\n\r\n```\r\n\r\n@Named(&quot;UserMapper&quot;)\r\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\npublic interface UserMapper {\r\n    UserMapper mapper = Mappers.getMapper(UserMapper.class);\r\n\r\n    UserDTO toDto(UserEntity entity);\r\n\r\n    UserEntity toEntity(UserDTO dto);\r\n\r\n    List&lt;UserDTO&gt; toDto(List&lt;UserEntity&gt; entity);\r\n\r\n    List&lt;UserEntity&gt; toEntity(List&lt;UserDTO&gt; dto);\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;UserDependents&quot;)\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class UserDependentsEntity {\r\n\r\n    @Id\r\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\r\n    private UUID uuid;\r\n\r\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\r\n    private UUID userId;\r\n    private String type;\r\n    private String age;\r\n    private LocalDateTime createdAt;\r\n    private LocalDateTime updatedAt;\r\n    private Boolean removed;\r\n\r\n    @PreUpdate\r\n    public void preUpdate() {\r\n        this.updatedAt = LocalDateTimeUtil.now();\r\n    }\r\n\r\n    @PrePersist\r\n    public void prePersist() {\r\n        this.uuid = CryptoUtil.generateUUID();\r\n        this.createdAt = LocalDateTimeUtil.now();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class UserDependentsDTO {\r\n\r\n    private UUID uuid;\r\n    private UUID userId;\r\n    private String type;\r\n    private String age;\r\n\r\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\r\n    private LocalDateTime createdAt;\r\n\r\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\r\n    private LocalDateTime updatedAt;\r\n    private Boolean removed;\r\n}\r\n```\r\n\r\n\r\n\r\nI tried adding an if in @prepersist and in the method too but it looks horrible","title":"The method of my POST erase creation date time when i use the update function","body":"<p>When i pass the json on postman it creates the dependents with no problem, when i type an existing dependent with his Uuid to update the data the creationAt is set to null, and only the updateAt is set.</p>\n<pre><code>public void updatePreferencesAndDependents(UUID userId, UpdatePreferencesDependentsDTO updateDTO) {\n        var user = getUserById(userId);\n        user.setReferralHospital(updateDTO.getReferralHospital());\n        user.setReferralHospitalId(updateDTO.getReferralHospitalId());\n        user.setAttendance(updateDTO.getAttendance());\n        user.setCoverage(updateDTO.getCoverage());\n        user.setAccommodation(updateDTO.getAccommodation());\n        user.setPartaking(updateDTO.getPartaking());\n        user.setUserDependents(updateDTO.getUserDependents());\n        var entity = UserMapper.mapper.toEntity(user);\n        repository.save(entity);\n    }\n</code></pre>\n<p>that i use in this endpoint:</p>\n<pre><code> @PostMapping(&quot;/update-preferences-dependents&quot;)\n    public ResponseEntity&lt;ResponseDTO&gt; updateDependentsAndPreferences(@RequestBody UpdatePreferencesDependentsDTO dto) {\n        try {\n            UUID userId = dto.getUuid();\n            service.updatePreferencesAndDependents(userId, dto);\n            return ResponseEntity.ok(response(&quot;User data updated.&quot;));\n        } catch (Exception e) {\n            log.error(&quot;Error updating data.&quot;, e.getMessage());\n            return ResponseEntity.badRequest().body(response(&quot;Error updating user data.&quot;));\n        }\n</code></pre>\n<p>i have this mapper too:</p>\n<pre><code>\n@Named(&quot;UserMapper&quot;)\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic interface UserMapper {\n    UserMapper mapper = Mappers.getMapper(UserMapper.class);\n\n    UserDTO toDto(UserEntity entity);\n\n    UserEntity toEntity(UserDTO dto);\n\n    List&lt;UserDTO&gt; toDto(List&lt;UserEntity&gt; entity);\n\n    List&lt;UserEntity&gt; toEntity(List&lt;UserDTO&gt; dto);\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;UserDependents&quot;)\n@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class UserDependentsEntity {\n\n    @Id\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n    private UUID uuid;\n\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n    private UUID userId;\n    private String type;\n    private String age;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n    private Boolean removed;\n\n    @PreUpdate\n    public void preUpdate() {\n        this.updatedAt = LocalDateTimeUtil.now();\n    }\n\n    @PrePersist\n    public void prePersist() {\n        this.uuid = CryptoUtil.generateUUID();\n        this.createdAt = LocalDateTimeUtil.now();\n    }\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@ToString\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserDependentsDTO {\n\n    private UUID uuid;\n    private UUID userId;\n    private String type;\n    private String age;\n\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\n    private LocalDateTime createdAt;\n\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\n    private LocalDateTime updatedAt;\n    private Boolean removed;\n}\n</code></pre>\n<p>I tried adding an if in @prepersist and in the method too but it looks horrible</p>\n"},{"tags":["java","digital-signature","jarsigner"],"comments":[{"owner":{"account_id":450710,"reputation":10633,"user_id":846180,"accept_rate":87,"display_name":"skayred"},"score":0,"creation_date":1371309146,"post_id":17124628,"comment_id":24780378,"body_markdown":"Currently I&#39;m trying to use `JarSigner` sources, but without luck. I want to use Java solution, because my system must be portable. But GPG may be suitable too","body":"Currently I&#39;m trying to use <code>JarSigner</code> sources, but without luck. I want to use Java solution, because my system must be portable. But GPG may be suitable too"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1371309461,"post_id":17124628,"comment_id":24780458,"body_markdown":"I was asking about what your &quot;lot of users and keys&quot; were already using, actually. You can have a peek at the source of the Maven GPG plugin if you want to use GPG.","body":"I was asking about what your &quot;lot of users and keys&quot; were already using, actually. You can have a peek at the source of the Maven GPG plugin if you want to use GPG."},{"owner":{"account_id":450710,"reputation":10633,"user_id":846180,"accept_rate":87,"display_name":"skayred"},"score":0,"creation_date":1371310233,"post_id":17124628,"comment_id":24780633,"body_markdown":"Okay&#39; I&#39;ll try to use it. Currently I&#39;m just creating an architecture and discrovering the technologies","body":"Okay&#39; I&#39;ll try to use it. Currently I&#39;m just creating an architecture and discrovering the technologies"},{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":1,"creation_date":1682583460,"post_id":17124628,"comment_id":134239736,"body_markdown":"Does this answer your question? [How do you programmatically sign jar files in Java?](https://stackoverflow.com/questions/7688676/how-do-you-programmatically-sign-jar-files-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7688676/how-do-you-programmatically-sign-jar-files-in-java\">How do you programmatically sign jar files in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5236746,"reputation":173,"user_id":4185088,"display_name":"Aniket"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1429704195,"creation_date":1429704195,"answer_id":29796965,"question_id":17124628,"body_markdown":"I Signed jar using pom.xml I happy if it help you:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;ABC&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;applet&lt;/artifactId&gt;\r\n    \t&lt;version&gt;ABC&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;applet&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.aaa.bbb&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;keytool-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;genkey&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;keystore&gt;./target/chkey&lt;/keystore&gt;\r\n    \t\t\t\t\t&lt;alias&gt;ch&lt;/alias&gt;\r\n    \t\t\t\t\t&lt;dname&gt;cn=Organization Name, o=Org, l=xyz, st=mm, c=US&lt;/dname&gt;\r\n    \t\t\t\t\t&lt;keypass&gt;pass&lt;/keypass&gt;\r\n    \t\t\t\t\t&lt;storepass&gt;pass&lt;/storepass&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jarsigner-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;sign&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;sign&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;keystore&gt;./target/chkey&lt;/keystore&gt;\r\n    \t\t\t\t\t&lt;alias&gt;ch&lt;/alias&gt;\r\n    \t\t\t\t\t&lt;storepass&gt;pass&lt;/storepass&gt;\r\n    \t\t\t\t\t&lt;keypass&gt;pass&lt;/keypass&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;java&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;java-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;jre-1.8&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Sign JAR programmatically","body":"<p>I Signed jar using pom.xml I happy if it help you:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;ABC&lt;/groupId&gt;\n    &lt;artifactId&gt;applet&lt;/artifactId&gt;\n    &lt;version&gt;ABC&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;applet&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.aaa.bbb&lt;/groupId&gt;\n                &lt;artifactId&gt;keytool-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;genkey&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;keystore&gt;./target/chkey&lt;/keystore&gt;\n                    &lt;alias&gt;ch&lt;/alias&gt;\n                    &lt;dname&gt;cn=Organization Name, o=Org, l=xyz, st=mm, c=US&lt;/dname&gt;\n                    &lt;keypass&gt;pass&lt;/keypass&gt;\n                    &lt;storepass&gt;pass&lt;/storepass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jarsigner-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;sign&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;sign&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;keystore&gt;./target/chkey&lt;/keystore&gt;\n                    &lt;alias&gt;ch&lt;/alias&gt;\n                    &lt;storepass&gt;pass&lt;/storepass&gt;\n                    &lt;keypass&gt;pass&lt;/keypass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;java&lt;/groupId&gt;\n            &lt;artifactId&gt;java-plugin&lt;/artifactId&gt;\n            &lt;version&gt;jre-1.8&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":450710,"reputation":10633,"user_id":846180,"accept_rate":87,"display_name":"skayred"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682602039,"creation_date":1371306156,"question_id":17124628,"body_markdown":"I want to sign a JAR with my code and without keystores - using only private user&#39;s key (because I have a lot of users and keys).\r\n\r\nI&#39;ve found the same [question][1], but it uses keystores, and I want to do it using only `PrivateKey` or `String`. Is it possible and are there any libraries?\r\n\r\nI&#39;ll try to clarify the task. For example, we have some user and some service. User creates some module, packs it as the JAR and signs it using it&#39;s own private key which stored locally in some DB as the `String`.\r\n\r\nThen they send it to the service, and this service knows this user&#39;s public key (it is stored in the database too). And service verifies this JAR.\r\n\r\nI don&#39;t want to use keystores and aliases because I&#39;ll have to instantiate files on every JAR uploading.\r\n\r\n  [1]: https://stackoverflow.com/questions/7688676/how-do-you-programmatically-sign-jar-files-in-java\r\n","title":"Sign JAR programmatically","body":"<p>I want to sign a JAR with my code and without keystores - using only private user's key (because I have a lot of users and keys).</p>\n<p>I've found the same <a href=\"https://stackoverflow.com/questions/7688676/how-do-you-programmatically-sign-jar-files-in-java\">question</a>, but it uses keystores, and I want to do it using only <code>PrivateKey</code> or <code>String</code>. Is it possible and are there any libraries?</p>\n<p>I'll try to clarify the task. For example, we have some user and some service. User creates some module, packs it as the JAR and signs it using it's own private key which stored locally in some DB as the <code>String</code>.</p>\n<p>Then they send it to the service, and this service knows this user's public key (it is stored in the database too). And service verifies this JAR.</p>\n<p>I don't want to use keystores and aliases because I'll have to instantiate files on every JAR uploading.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1682591266,"post_id":76119342,"comment_id":134241471,"body_markdown":"It&#39;s not clear what IntStream has to do with this. You have *single* value... how are streams involved? Please provide more detail.","body":"It&#39;s not clear what IntStream has to do with this. You have <i>single</i> value... how are streams involved? Please provide more detail."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682591428,"creation_date":1682591428,"answer_id":76119382,"question_id":76119342,"body_markdown":"If I understand correctly, you simply want to map a single value to a string label. \r\n You could define a hashmap to map integer values to their labels for this purpose.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(0, &quot;bad&quot;);\r\n    map.put(1, &quot;normal&quot;);\r\n    map.put(2, &quot;good&quot;);\r\n    Random random = new Random();\r\n    int x = random.nextInt(3); // 0 - bad  1 - normal  2 - good\r\n    String str = map.get(x);\r\n\r\nIf you had a _collection_ of integer values, then using a stream might make more sense:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(0, 1, 2);\r\n    List&lt;String&gt; labels = list.stream()\r\n                              .map(x -&gt; map.get(x))\r\n                              .collect(Collectors.toList());\r\n    System.out.println(labels);  // [bad, normal, good]","title":"how to put one of the values in a stream in a String","body":"<p>If I understand correctly, you simply want to map a single value to a string label.\nYou could define a hashmap to map integer values to their labels for this purpose.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\nmap.put(0, &quot;bad&quot;);\nmap.put(1, &quot;normal&quot;);\nmap.put(2, &quot;good&quot;);\nRandom random = new Random();\nint x = random.nextInt(3); // 0 - bad  1 - normal  2 - good\nString str = map.get(x);\n</code></pre>\n<p>If you had a <em>collection</em> of integer values, then using a stream might make more sense:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; list = Arrays.asList(0, 1, 2);\nList&lt;String&gt; labels = list.stream()\n                          .map(x -&gt; map.get(x))\n                          .collect(Collectors.toList());\nSystem.out.println(labels);  // [bad, normal, good]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1682591536,"post_id":76119386,"comment_id":134241538,"body_markdown":"How do you know what Java version is used by OP?","body":"How do you know what Java version is used by OP?"},{"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"score":1,"creation_date":1682591769,"post_id":76119386,"comment_id":134241600,"body_markdown":"yes. thanks. I want to study the streams better now. therefore, sometimes there are questions, they may be inefficient work, but I will understand the work of the stream","body":"yes. thanks. I want to study the streams better now. therefore, sometimes there are questions, they may be inefficient work, but I will understand the work of the stream"},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1682592579,"post_id":76119386,"comment_id":134241784,"body_markdown":"I don&#39;t, I just use the latest LTS @MissChanandlerBong","body":"I don&#39;t, I just use the latest LTS @MissChanandlerBong"}],"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682591459,"creation_date":1682591459,"answer_id":76119386,"question_id":76119342,"body_markdown":"Yes, it is.\r\nYou can use the `IntStream#mapToObj` method.\r\n\r\nHowever, there are better ways of doing so. But as you&#39;re asking to do it with a `Stream`, here it is.\r\n\r\n```\r\nRandom random = new Random();\r\nint x = random.nextInt(3); // 0 - bad  1 - normal  2 - good\r\nString str = IntStream.of(x).mapToObj($ -&gt;\r\n        switch ($) {\r\n            case 0 -&gt; &quot;bad&quot;;\r\n            case 1 -&gt; &quot;normal&quot;;\r\n            case 2 -&gt; &quot;good&quot;;\r\n            default -&gt; throw new IllegalStateException(&quot;Unexpected value: &quot; + x);\r\n        }\r\n).findFirst().orElseThrow();\r\n\r\nSystem.out.println(&quot;str = &quot; + str);\r\n```","title":"how to put one of the values in a stream in a String","body":"<p>Yes, it is.\nYou can use the <code>IntStream#mapToObj</code> method.</p>\n<p>However, there are better ways of doing so. But as you're asking to do it with a <code>Stream</code>, here it is.</p>\n<pre><code>Random random = new Random();\nint x = random.nextInt(3); // 0 - bad  1 - normal  2 - good\nString str = IntStream.of(x).mapToObj($ -&gt;\n        switch ($) {\n            case 0 -&gt; &quot;bad&quot;;\n            case 1 -&gt; &quot;normal&quot;;\n            case 2 -&gt; &quot;good&quot;;\n            default -&gt; throw new IllegalStateException(&quot;Unexpected value: &quot; + x);\n        }\n).findFirst().orElseThrow();\n\nSystem.out.println(&quot;str = &quot; + str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682591673,"creation_date":1682591673,"answer_id":76119420,"question_id":76119342,"body_markdown":"You can utilize a const-like Map to store your mappings between strings and integers.\r\nThen you can use `mapToObj` function to get result using Java streams.\r\n\r\nFor a single element, that might look like\r\n\r\n```\r\nMap&lt;Integer, String&gt; mapping = Map.of(0, &quot;bad&quot;, 1, &quot;normal&quot;, 2, &quot;good&quot;);\r\nString result = IntStream.of(2).mapToObj(mapping::get).findFirst().get();\r\n```\r\n\r\nFor multiple elements:\r\nFor a single element, that might look like\r\n\r\n```\r\nMap&lt;Integer, String&gt; mapping = Map.of(0, &quot;bad&quot;, 1, &quot;normal&quot;, 2, &quot;good&quot;);\r\nList&lt;String&gt; results = IntStream.of(2).mapToObj(mapping::get).collect(Collectors.toList());\r\n```","title":"how to put one of the values in a stream in a String","body":"<p>You can utilize a const-like Map to store your mappings between strings and integers.\nThen you can use <code>mapToObj</code> function to get result using Java streams.</p>\n<p>For a single element, that might look like</p>\n<pre><code>Map&lt;Integer, String&gt; mapping = Map.of(0, &quot;bad&quot;, 1, &quot;normal&quot;, 2, &quot;good&quot;);\nString result = IntStream.of(2).mapToObj(mapping::get).findFirst().get();\n</code></pre>\n<p>For multiple elements:\nFor a single element, that might look like</p>\n<pre><code>Map&lt;Integer, String&gt; mapping = Map.of(0, &quot;bad&quot;, 1, &quot;normal&quot;, 2, &quot;good&quot;);\nList&lt;String&gt; results = IntStream.of(2).mapToObj(mapping::get).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1682601975,"answer_count":3,"score":-2,"last_activity_date":1682601966,"creation_date":1682591149,"question_id":76119342,"body_markdown":"I have an int type number. If the number is 0, then put &quot;bad&quot; in the String, If the number is 1, then put &quot;normal&quot; in the String, If the number is 2, then put &quot;good&quot; in the String. Is it possible to do this in stream?\r\n\r\n```java\r\nRandom random = new Random();\r\nint x = random.nextInt(3); // 0 - bad  1 - normal  2 - good\r\nString str = IntStream.of(x).\r\n```","title":"how to put one of the values in a stream in a String","body":"<p>I have an int type number. If the number is 0, then put &quot;bad&quot; in the String, If the number is 1, then put &quot;normal&quot; in the String, If the number is 2, then put &quot;good&quot; in the String. Is it possible to do this in stream?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Random random = new Random();\nint x = random.nextInt(3); // 0 - bad  1 - normal  2 - good\nString str = IntStream.of(x).\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jwt"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1682602090,"post_id":76120923,"comment_id":134244157,"body_markdown":"Given the current code `blackList` cannot be `null`, therefore *something* else is going on. And why do you want to blacklist JWTs in the first place, that defeats a large part of their purpose!?","body":"Given the current code <code>blackList</code> cannot be <code>null</code>, therefore <i>something</i> else is going on. And why do you want to blacklist JWTs in the first place, that defeats a large part of their purpose!?"},{"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"score":0,"creation_date":1682602257,"post_id":76120923,"comment_id":134244187,"body_markdown":"@luk2302 I need to invalidate the jwt once i create a new one, do you know another way to do that?","body":"@luk2302 I need to invalidate the jwt once i create a new one, do you know another way to do that?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1682613353,"post_id":76120923,"comment_id":134247085,"body_markdown":"You generally do **not** need to do that, no. As I said: that defeats e.g. the purpose of a JWT being self contained.","body":"You generally do <b>not</b> need to do that, no. As I said: that defeats e.g. the purpose of a JWT being self contained."}],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682602038,"answer_count":0,"score":0,"last_activity_date":1682601700,"creation_date":1682601700,"question_id":76120923,"body_markdown":"I want to create a jwt blacklist for everytime the user want to refresh the current one, (pratically there is also a fronted call to call this method every tot),\r\nMy question is i want this blacklist is running for all the thread so for each user(I using wildfly).\r\n\r\nMy code is this:\r\n\r\nThis when a jwt is created:\r\n\r\n    @Component\r\n    public class JwtTokenUtil{\r\n    private List&lt;String&gt; blackList = new ArrayList&lt;&gt;();\r\n    public String getUsernameFromToken(String token) {\r\n    \r\n            String username;\r\n    \r\n            try {\r\n                if (token != null) {\r\n                    String invalidToken;\r\n                    synchronized (blackList) {\r\n                        blackList.removeIf(tokn -&gt; isTokenExpired(tokn));\r\n                        invalidToken = blackList.stream().filter(blackList -&gt; blackList.equals(token)).collect(Collectors.joining());\r\n                        if (!StringUtils.isEmpty(invalidToken)) {\r\n                            throw new RuntimeException(&quot;JWT is invalid&quot;);\r\n                        }\r\n                    }\r\n                    final Claims claims = getClaimsFromToken(token);\r\n                    username = claims.getSubject();\r\n                } .....\r\n\r\nthis when it refresh (I get nullpointerException on blackList)\r\n\r\n \r\n\r\n    public Boolean canTokenBeRefreshed(String token) {\r\n            if (!isTokenExpired(token)) {\r\n                synchronized (blackList) { &lt;-NullPointerException\r\n                    blackList.removeIf(tokn -&gt; isTokenExpired(tokn));\r\n                    blackList.add(token);\r\n                }\r\n            }\r\n            return (!isTokenExpired(token));\r\n        }\r\n\r\n\r\nBoth method are in the same class, but i don&#39;t know if this is a right way to do it and why i keep getting nullPointerException ","title":"Create a JWT BlackList","body":"<p>I want to create a jwt blacklist for everytime the user want to refresh the current one, (pratically there is also a fronted call to call this method every tot),\nMy question is i want this blacklist is running for all the thread so for each user(I using wildfly).</p>\n<p>My code is this:</p>\n<p>This when a jwt is created:</p>\n<pre><code>@Component\npublic class JwtTokenUtil{\nprivate List&lt;String&gt; blackList = new ArrayList&lt;&gt;();\npublic String getUsernameFromToken(String token) {\n\n        String username;\n\n        try {\n            if (token != null) {\n                String invalidToken;\n                synchronized (blackList) {\n                    blackList.removeIf(tokn -&gt; isTokenExpired(tokn));\n                    invalidToken = blackList.stream().filter(blackList -&gt; blackList.equals(token)).collect(Collectors.joining());\n                    if (!StringUtils.isEmpty(invalidToken)) {\n                        throw new RuntimeException(&quot;JWT is invalid&quot;);\n                    }\n                }\n                final Claims claims = getClaimsFromToken(token);\n                username = claims.getSubject();\n            } .....\n</code></pre>\n<p>this when it refresh (I get nullpointerException on blackList)</p>\n<pre><code>public Boolean canTokenBeRefreshed(String token) {\n        if (!isTokenExpired(token)) {\n            synchronized (blackList) { &lt;-NullPointerException\n                blackList.removeIf(tokn -&gt; isTokenExpired(tokn));\n                blackList.add(token);\n            }\n        }\n        return (!isTokenExpired(token));\n    }\n</code></pre>\n<p>Both method are in the same class, but i don't know if this is a right way to do it and why i keep getting nullPointerException</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1682077021,"post_id":76072526,"comment_id":134162702,"body_markdown":"the reason for having a `finally` is to have code always executed - having a `return` in `finally` is *dangerous* (calling for surprises) - This special case is emphasized in the Java Language Specification [14.20.2. Execution of try-finally and try-catch-finally](https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.20.2-100-B-B-B): &quot;**If the finally block completes abruptly for reason S, then the try statement completes abruptly for reason S (and the throw of value V is discarded and forgotten).**&quot; (`return` completes abruptly)","body":"the reason for having a <code>finally</code> is to have code always executed - having a <code>return</code> in <code>finally</code> is <i>dangerous</i> (calling for surprises) - This special case is emphasized in the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.20.2-100-B-B-B\" rel=\"nofollow noreferrer\">14.20.2. Execution of try-finally and try-catch-finally</a>: &quot;<b>If the finally block completes abruptly for reason S, then the try statement completes abruptly for reason S (and the throw of value V is discarded and forgotten).</b>&quot; (<code>return</code> completes abruptly)"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682077176,"post_id":76072526,"comment_id":134162737,"body_markdown":"I suppose that these &quot;edge cases&quot; have their uses, if only to help teach us how Java works in these situations, but this type of code also gives me a &quot;nails on a chalkboard&quot; sensation, and I am hoping that it never sees the light of day.","body":"I suppose that these &quot;edge cases&quot; have their uses, if only to help teach us how Java works in these situations, but this type of code also gives me a &quot;nails on a chalkboard&quot; sensation, and I am hoping that it never sees the light of day."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1682077129,"post_id":76072604,"comment_id":134162724,"body_markdown":"link to the relevant Java Language Specification: [14.20.2. Execution of try-finally and try-catch-finally](https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.20.2-100-B-B-B): &quot;... **(and the throw of value V is discarded and forgotten).** ...&quot;","body":"link to the relevant Java Language Specification: <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.20.2-100-B-B-B\" rel=\"nofollow noreferrer\">14.20.2. Execution of try-finally and try-catch-finally</a>: &quot;... <b>(and the throw of value V is discarded and forgotten).</b> ...&quot;"}],"tags":[],"owner":{"account_id":15264979,"reputation":92,"user_id":11013912,"display_name":"Simon B"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682601361,"creation_date":1682075582,"answer_id":76072604,"question_id":76072526,"body_markdown":"By using a finally block, the execution is not halted, but executed regardless if there was an unhandled exeption or not. From the Oracle documentation:\r\n\r\n&gt; The finally block always executes when the try block exits.\r\n\r\nSo even though a Runtime Exception is being thrown (NumberFormatException), the finally block is executed regardless. Hence, the return value of the temp function is not an Exception, but -1.\r\n\r\n 1. A is printed\r\n 2. parseInt throws\r\n 3. finally block is being executed\r\n 4. D is printed, -1 returned\r\n 5. -1 is printed\r\n 6. Since no Exception is in the stack frame, F is printed\r\n\r\n## EDIT (27.04.2023):\r\n\r\nAs user16320675 pointed out, the relevant Java Language Specification section is [14.20.2](https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.20.2-100-B-B-B):\r\n\r\n(minimal paraphrasing)\r\n*If execution of the try block completes abruptly because of a throw of a value V, and the run-time type of V is not assignment compatible with a catchable exception class of any catch clause of the try statement, then the finally block is executed. If the finally block completes abruptly (meaning a return/yield/break/continue/throw statement), then the throw of value V is discarded and forgotten.*\r\n\r\n\r\n\r\n\r\nHope this helps.","title":"Why is NumberFormatException not caught in this code","body":"<p>By using a finally block, the execution is not halted, but executed regardless if there was an unhandled exeption or not. From the Oracle documentation:</p>\n<blockquote>\n<p>The finally block always executes when the try block exits.</p>\n</blockquote>\n<p>So even though a Runtime Exception is being thrown (NumberFormatException), the finally block is executed regardless. Hence, the return value of the temp function is not an Exception, but -1.</p>\n<ol>\n<li>A is printed</li>\n<li>parseInt throws</li>\n<li>finally block is being executed</li>\n<li>D is printed, -1 returned</li>\n<li>-1 is printed</li>\n<li>Since no Exception is in the stack frame, F is printed</li>\n</ol>\n<h2>EDIT (27.04.2023):</h2>\n<p>As user16320675 pointed out, the relevant Java Language Specification section is <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.20.2-100-B-B-B\" rel=\"nofollow noreferrer\">14.20.2</a>:</p>\n<p>(minimal paraphrasing)\n<em>If execution of the try block completes abruptly because of a throw of a value V, and the run-time type of V is not assignment compatible with a catchable exception class of any catch clause of the try statement, then the finally block is executed. If the finally block completes abruptly (meaning a return/yield/break/continue/throw statement), then the throw of value V is discarded and forgotten.</em></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":26538475,"reputation":1,"user_id":20169610,"display_name":"J. T"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682075585,"answer_count":1,"score":0,"last_activity_date":1682601361,"creation_date":1682075049,"question_id":76072526,"body_markdown":"\r\n```\r\npublic class Test {\r\n    public static int temp(String a, String b) {\r\n        try {\r\n            System.out.print(&quot;A&quot;);\r\n            return Integer.parseInt(a)/Integer.parseInt(b);\r\n        } catch(ArithmeticException e) {\r\n            System.out.print(&quot;C&quot;);\r\n            return 0;\r\n        } finally {\r\n            System.out.print(&quot;D&quot;);\r\n            return -1;\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        try {\r\n            System.out.print(temp(&quot;1&quot;, null));\r\n        } catch (Exception e) {\r\n            System.out.print(&quot;E&quot;);\r\n        } finally {\r\n            System.out.print(&quot;F&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe output for this program is AD-1F.\r\n\r\nBut since b is null, Integer.parseInt(b) should throw a NumberFormatException, which is propagated back, and should be caught by the catch block in the main method. The output that I traced would be AD-1EF.\r\n\r\nIf the code in main method try-block is replaced with Integer.parseInt(null), output will be EF, which means that the NumberFormatException thrown by Integer.parseInt(null) should be caught in the first case.","title":"Why is NumberFormatException not caught in this code","body":"<pre><code>public class Test {\n    public static int temp(String a, String b) {\n        try {\n            System.out.print(&quot;A&quot;);\n            return Integer.parseInt(a)/Integer.parseInt(b);\n        } catch(ArithmeticException e) {\n            System.out.print(&quot;C&quot;);\n            return 0;\n        } finally {\n            System.out.print(&quot;D&quot;);\n            return -1;\n        }\n    }\n    public static void main(String[] args) {\n        try {\n            System.out.print(temp(&quot;1&quot;, null));\n        } catch (Exception e) {\n            System.out.print(&quot;E&quot;);\n        } finally {\n            System.out.print(&quot;F&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The output for this program is AD-1F.</p>\n<p>But since b is null, Integer.parseInt(b) should throw a NumberFormatException, which is propagated back, and should be caught by the catch block in the main method. The output that I traced would be AD-1EF.</p>\n<p>If the code in main method try-block is replaced with Integer.parseInt(null), output will be EF, which means that the NumberFormatException thrown by Integer.parseInt(null) should be caught in the first case.</p>\n"},{"tags":["java","kubernetes","jenkins","certificate","jcasc"],"owner":{"account_id":11755625,"reputation":421,"user_id":8603405,"accept_rate":80,"display_name":"EilonA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682601212,"creation_date":1682598371,"question_id":76120410,"body_markdown":"For some reason, when I try to test my kubernetes plugin connection, I get this error when using my image.\r\nIt worked before, and now it doesn&#39;t.\r\n\r\nI&#39;m not sure what caused it, did anyone see this error before?\r\n\r\nLogs -\r\n```\r\njava.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors\r\n\tat java.base/sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:157)\r\n\tat java.base/sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:83)\r\n\tat java.base/java.security.cert.CertPathValidator.validate(CertPathValidator.java:309)\r\n\tat java.base/sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:364)\r\nCaused: sun.security.validator.ValidatorException: PKIX path validation failed\r\n\tat java.base/sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:369)\r\n\tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:275)\r\n\tat java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L8ciP.png\r\n\r\n\r\n\r\nUPDATE -\r\nWhen I&#39;m using the default jenkins/jenkins image I&#39;m getting this error -\r\n\r\n```\r\nError testing connection https://kubernetes.default: mapping values are not allowed here\r\nin &#39;reader&#39;, line 1, column 6:\r\n    sh: 1: aws: not found\r\n         ^\r\n```","title":"Jenkins Kubernetes - SSL issues PKIXCertPathValidator when trying to run jobs on slave pods","body":"<p>For some reason, when I try to test my kubernetes plugin connection, I get this error when using my image.\nIt worked before, and now it doesn't.</p>\n<p>I'm not sure what caused it, did anyone see this error before?</p>\n<p>Logs -</p>\n<pre><code>java.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors\n    at java.base/sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:157)\n    at java.base/sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:83)\n    at java.base/java.security.cert.CertPathValidator.validate(CertPathValidator.java:309)\n    at java.base/sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:364)\nCaused: sun.security.validator.ValidatorException: PKIX path validation failed\n    at java.base/sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:369)\n    at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:275)\n    at java.base/sun.security.validator.Validator.validate(Validator.java:264)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/L8ciP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L8ciP.png\" alt=\"enter image description here\" /></a></p>\n<p>UPDATE -\nWhen I'm using the default jenkins/jenkins image I'm getting this error -</p>\n<pre><code>Error testing connection https://kubernetes.default: mapping values are not allowed here\nin 'reader', line 1, column 6:\n    sh: 1: aws: not found\n         ^\n</code></pre>\n"},{"tags":["java","json","pdf","itext","itext7"],"comments":[{"owner":{"account_id":1707578,"reputation":868,"user_id":1566339,"display_name":"Andr&#233; Lemos"},"score":1,"creation_date":1663313984,"post_id":73733473,"comment_id":130214491,"body_markdown":"we do support paying customers. OP, just [create a ticket with itext](https://itextpdf.com/support).","body":"we do support paying customers. OP, just <a href=\"https://itextpdf.com/support\" rel=\"nofollow noreferrer\">create a ticket with itext</a>."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":1,"creation_date":1663332040,"post_id":73733473,"comment_id":130220481,"body_markdown":"I’m voting to close this question since it is a licensing issue. And iText did already respond and said &quot;open a ticket&quot;","body":"I’m voting to close this question since it is a licensing issue. And iText did already respond and said &quot;open a ticket&quot;"},{"owner":{"account_id":14767792,"reputation":51,"user_id":10665272,"display_name":"saladukha"},"score":0,"creation_date":1663661604,"post_id":73733473,"comment_id":130286483,"body_markdown":"@Andr&#233;Lemos I created a ticket. But no one has answered it for several days.","body":"@Andr&#233;Lemos I created a ticket. But no one has answered it for several days."},{"owner":{"account_id":1707578,"reputation":868,"user_id":1566339,"display_name":"Andr&#233; Lemos"},"score":1,"creation_date":1663663878,"post_id":73733473,"comment_id":130287298,"body_markdown":"it was created yesterday, 14 hours ago.","body":"it was created yesterday, 14 hours ago."}],"answers":[{"comments":[{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":0,"creation_date":1684524057,"post_id":76120846,"comment_id":134535077,"body_markdown":"Thank you - that solved this issue for me as well","body":"Thank you - that solved this issue for me as well"}],"tags":[],"owner":{"account_id":15501571,"reputation":85,"user_id":12530743,"display_name":"Narasimman P"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682601179,"creation_date":1682601179,"answer_id":76120846,"question_id":73733473,"body_markdown":"It&#39;s because of your project using old version of `com.fasterxml.jackson` jar at runtime.\r\n\r\nupdate all your `com.fasterxml.jackson` dependency to updated version.\r\nIn my case I updated it to `2.9.3` from `2.8.4`.","title":"iTextPDF: License File issue","body":"<p>It's because of your project using old version of <code>com.fasterxml.jackson</code> jar at runtime.</p>\n<p>update all your <code>com.fasterxml.jackson</code> dependency to updated version.\nIn my case I updated it to <code>2.9.3</code> from <code>2.8.4</code>.</p>\n"}],"owner":{"account_id":14767792,"reputation":51,"user_id":10665272,"display_name":"saladukha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682601179,"creation_date":1663254292,"question_id":73733473,"body_markdown":"I am using the commercial version of iTextPDF(7.2.3) and html2pdf(4.0.3) to generate a PDF file. But when checking the license key I get the following error:\r\n\r\n    Caused by: java.lang.NoSuchFieldError: _objectFieldValueSeparatorWithSpaces\r\n    \t\tat com.itextpdf.licensing.base.util.JsonUtil$CustomPrettyPrinter.&lt;init&gt;(JsonUtil.java:138)\r\n    \t\tat com.itextpdf.licensing.base.util.JsonUtil.serializeToString(JsonUtil.java:47)\r\n    \t\tat com.itextpdf.licensing.base.util.SigningUtil.getExpectedSignature(SigningUtil.java:67)\r\n    \t\tat com.itextpdf.licensing.base.util.SigningUtil.checkSignature(SigningUtil.java:52)\r\n    \t\tat com.itextpdf.licensing.base.actions.LoadLicenseEvent.validateLicenceFile(LoadLicenseEvent.java:118)\r\n    \t\tat com.itextpdf.licensing.base.actions.LoadLicenseEvent.getProperLicenseFile(LoadLicenseEvent.java:100)\r\n    \t\tat com.itextpdf.licensing.base.actions.LoadLicenseEvent.&lt;init&gt;(LoadLicenseEvent.java:42)\r\n    \t\tat com.itextpdf.licensing.base.LicenseKey.loadLicenseFile(LicenseKey.java:151)\r\n    \t\tat com.itextpdf.licensing.base.LicenseKey.loadListOfLicenses(LicenseKey.java:216)\r\n    \t\tat com.itextpdf.licensing.base.LicenseKey.loadLicenseFile(LicenseKey.java:129)\r\n    \t\tat com.itextpdf.licensing.base.LicenseKey.loadLicenseFile(LicenseKey.java:88)\r\n\r\npom.xml:\r\n\r\n    &lt;repositories&gt;   \r\n            &lt;repository&gt;\r\n                &lt;id&gt;itext&lt;/id&gt;\r\n                &lt;name&gt;iText Repository - releases&lt;/name&gt;\r\n                &lt;url&gt;https://repo.itextsupport.com/releases&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    ...\r\n    &lt;properties&gt;\r\n         &lt;itextpdf.version&gt;7.2.3&lt;/itextpdf.version&gt;\r\n         &lt;html2pdf.version&gt;4.0.3&lt;/html2pdf.version&gt;\r\n         &lt;itext.licensekey.version&gt;4.0.3&lt;/itext.licensekey.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;com.itextpdf.licensing&lt;/groupId&gt;\r\n          &lt;artifactId&gt;licensing-base&lt;/artifactId&gt;\r\n          &lt;version&gt;${itext.licensekey.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n          &lt;artifactId&gt;itext7-core&lt;/artifactId&gt;\r\n          &lt;version&gt;${itextpdf.version}&lt;/version&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n          &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\r\n          &lt;version&gt;${html2pdf.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\nThe method that performs the conversion to PDF:\r\n\r\n    private byte[] getPdfWithLocalesFontSupport(StringBuilder fileText) throws IOException {\r\n            LicenseKey.loadLicenseFile(new File(&quot;/path/key.json&quot;));\r\n            FontProvider fontProvider = new FontProvider(addCertificateFonts(), &quot;&quot;);\r\n            fontProvider.addStandardPdfFonts();\r\n    \r\n            ConverterProperties properties = new ConverterProperties().setFontProvider(fontProvider);\r\n            properties.setBaseUri(getBaseProjectUri());\r\n            try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\r\n                HtmlConverter.convertToPdf(fileText.toString(), out, properties);\r\n                return out.toByteArray();\r\n            }\r\n        }\r\n\r\nWhat is the problem and how to fix it?","title":"iTextPDF: License File issue","body":"<p>I am using the commercial version of iTextPDF(7.2.3) and html2pdf(4.0.3) to generate a PDF file. But when checking the license key I get the following error:</p>\n<pre><code>Caused by: java.lang.NoSuchFieldError: _objectFieldValueSeparatorWithSpaces\n        at com.itextpdf.licensing.base.util.JsonUtil$CustomPrettyPrinter.&lt;init&gt;(JsonUtil.java:138)\n        at com.itextpdf.licensing.base.util.JsonUtil.serializeToString(JsonUtil.java:47)\n        at com.itextpdf.licensing.base.util.SigningUtil.getExpectedSignature(SigningUtil.java:67)\n        at com.itextpdf.licensing.base.util.SigningUtil.checkSignature(SigningUtil.java:52)\n        at com.itextpdf.licensing.base.actions.LoadLicenseEvent.validateLicenceFile(LoadLicenseEvent.java:118)\n        at com.itextpdf.licensing.base.actions.LoadLicenseEvent.getProperLicenseFile(LoadLicenseEvent.java:100)\n        at com.itextpdf.licensing.base.actions.LoadLicenseEvent.&lt;init&gt;(LoadLicenseEvent.java:42)\n        at com.itextpdf.licensing.base.LicenseKey.loadLicenseFile(LicenseKey.java:151)\n        at com.itextpdf.licensing.base.LicenseKey.loadListOfLicenses(LicenseKey.java:216)\n        at com.itextpdf.licensing.base.LicenseKey.loadLicenseFile(LicenseKey.java:129)\n        at com.itextpdf.licensing.base.LicenseKey.loadLicenseFile(LicenseKey.java:88)\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;repositories&gt;   \n        &lt;repository&gt;\n            &lt;id&gt;itext&lt;/id&gt;\n            &lt;name&gt;iText Repository - releases&lt;/name&gt;\n            &lt;url&gt;https://repo.itextsupport.com/releases&lt;/url&gt;\n        &lt;/repository&gt;\n&lt;/repositories&gt;\n...\n&lt;properties&gt;\n     &lt;itextpdf.version&gt;7.2.3&lt;/itextpdf.version&gt;\n     &lt;html2pdf.version&gt;4.0.3&lt;/html2pdf.version&gt;\n     &lt;itext.licensekey.version&gt;4.0.3&lt;/itext.licensekey.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n&lt;dependency&gt;\n      &lt;groupId&gt;com.itextpdf.licensing&lt;/groupId&gt;\n      &lt;artifactId&gt;licensing-base&lt;/artifactId&gt;\n      &lt;version&gt;${itext.licensekey.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n      &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n      &lt;artifactId&gt;itext7-core&lt;/artifactId&gt;\n      &lt;version&gt;${itextpdf.version}&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n      &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n      &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\n      &lt;version&gt;${html2pdf.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n  \n<p>The method that performs the conversion to PDF:</p>\n<pre><code>private byte[] getPdfWithLocalesFontSupport(StringBuilder fileText) throws IOException {\n        LicenseKey.loadLicenseFile(new File(&quot;/path/key.json&quot;));\n        FontProvider fontProvider = new FontProvider(addCertificateFonts(), &quot;&quot;);\n        fontProvider.addStandardPdfFonts();\n\n        ConverterProperties properties = new ConverterProperties().setFontProvider(fontProvider);\n        properties.setBaseUri(getBaseProjectUri());\n        try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\n            HtmlConverter.convertToPdf(fileText.toString(), out, properties);\n            return out.toByteArray();\n        }\n    }\n</code></pre>\n<p>What is the problem and how to fix it?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":21112293,"reputation":1,"user_id":15520017,"display_name":"SURYA-DEVELOPER"},"score":0,"creation_date":1682599176,"post_id":76118248,"comment_id":134243336,"body_markdown":"@RequestMapping(value=&quot;/adduser&quot;,method=RequestMethod.POST)  i also used this but its showing same error","body":"@RequestMapping(value=&quot;/adduser&quot;,method=RequestMethod.POST)  i also used this but its showing same error"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682601208,"post_id":76118248,"comment_id":134243924,"body_markdown":"@SURYA-DEVELOPER That still expects a POST, while whatever you&#39;re using to perform the request to this API uses a GET while it should be using a POST. Given using POST is the correct semantics here, you should fix whatever performs the request to switch to using POST instead of GET.","body":"@SURYA-DEVELOPER That still expects a POST, while whatever you&#39;re using to perform the request to this API uses a GET while it should be using a POST. Given using POST is the correct semantics here, you should fix whatever performs the request to switch to using POST instead of GET."}],"tags":[],"owner":{"account_id":25274381,"reputation":21,"user_id":19103249,"display_name":"Truvada"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682583665,"creation_date":1682583644,"answer_id":76118248,"question_id":76118226,"body_markdown":"You used the annotation @PostMapping, which is used to map a request with the method POST, you&#39;re trying to access this path with a request using the method GET, try using a request with the method POST instead or switching to the annotation @GetMapping","title":"Method &#39;GET&#39; is not supported. org.springframework.web.HttpRequestMethodNotSupportedException:","body":"<p>You used the annotation @PostMapping, which is used to map a request with the method POST, you're trying to access this path with a request using the method GET, try using a request with the method POST instead or switching to the annotation @GetMapping</p>\n"}],"owner":{"account_id":21112293,"reputation":1,"user_id":15520017,"display_name":"SURYA-DEVELOPER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682631105,"answer_count":1,"score":0,"last_activity_date":1682601150,"creation_date":1682583446,"question_id":76118226,"body_markdown":"```java\r\n@RestController\r\npublic class userController {\r\n\t\r\n\t@Autowired\r\n\tuserRepo Userrepo;\r\n\t\r\n\t@PostMapping(&quot;/user1&quot;)\r\n\tpublic userModel createUser(@RequestBody userModel user)\r\n\t{\r\n\t\tuser.setUserId(111);\r\n\t\tuser.setUserName(&quot;sury&quot;);\r\n\t\tuser.setUserEmail(&quot;sury@gmail.com&quot;);\r\n\t\tuser.setUserPass(&quot;LeoLeo&quot;);\r\n\t\r\n        return Userrepo.save(user);\r\n\t}\r\n```\r\n\r\nI tried to store the data in the DB, but it&#39;s showing GET not supported error.","title":"Method &#39;GET&#39; is not supported. org.springframework.web.HttpRequestMethodNotSupportedException:","body":"<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class userController {\n    \n    @Autowired\n    userRepo Userrepo;\n    \n    @PostMapping(&quot;/user1&quot;)\n    public userModel createUser(@RequestBody userModel user)\n    {\n        user.setUserId(111);\n        user.setUserName(&quot;sury&quot;);\n        user.setUserEmail(&quot;sury@gmail.com&quot;);\n        user.setUserPass(&quot;LeoLeo&quot;);\n    \n        return Userrepo.save(user);\n    }\n</code></pre>\n<p>I tried to store the data in the DB, but it's showing GET not supported error.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1682600013,"post_id":76120554,"comment_id":134243561,"body_markdown":"`org.json.JSONException` extends `Exception`, so as a checked exception it must be handled.  Which means either catch it (as in your example), or update the method signature to throw the exception (icky).  From your example, that code snippet seems reasonable.  However, the code could be moved to a private method, which might make it feel less cluttered.","body":"<code>org.json.JSONException</code> extends <code>Exception</code>, so as a checked exception it must be handled.  Which means either catch it (as in your example), or update the method signature to throw the exception (icky).  From your example, that code snippet seems reasonable.  However, the code could be moved to a private method, which might make it feel less cluttered."}],"answers":[{"tags":[],"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682600010,"creation_date":1682600010,"answer_id":76120666,"question_id":76120554,"body_markdown":"In Java, if you are calling a method that throws a checked exception like `JSONException`, then you need to either handle the exception using a try-catch block or declare the exception to be thrown using the throws keyword.\r\n\r\nSo I think the only way to avoid try/catch block in this place is mark method as throwing `JSONException`.","title":"How can I remove the try-catch block when I&#39;m confident that an exception will never be thrown?","body":"<p>In Java, if you are calling a method that throws a checked exception like <code>JSONException</code>, then you need to either handle the exception using a try-catch block or declare the exception to be thrown using the throws keyword.</p>\n<p>So I think the only way to avoid try/catch block in this place is mark method as throwing <code>JSONException</code>.</p>\n"},{"comments":[{"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"score":0,"creation_date":1682600336,"post_id":76120709,"comment_id":134243638,"body_markdown":"JSONObject&#39;s constructor throws JSONException, so your solution will not work.","body":"JSONObject&#39;s constructor throws JSONException, so your solution will not work."},{"owner":{"account_id":26335795,"reputation":948,"user_id":19995658,"display_name":"Sparkling Marcel "},"score":0,"creation_date":1682600686,"post_id":76120709,"comment_id":134243741,"body_markdown":"https://javadoc.io/static/org.json/json/20230227/org/json/JSONObject.html#JSONObject--\n\nAccording to the documentation JSONObject constructor doesn&#39;t throw an exception if used with a map or no argument, therefore the code should be changed accordingly, but it quit defeats the purpose of a smaller code","body":"<a href=\"https://javadoc.io/static/org.json/json/20230227/org/json/JSONObject.html#JSONObject--\" rel=\"nofollow noreferrer\">javadoc.io/static/org.json/json/20230227/org/json/&hellip;</a>  According to the documentation JSONObject constructor doesn&#39;t throw an exception if used with a map or no argument, therefore the code should be changed accordingly, but it quit defeats the purpose of a smaller code"},{"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"score":0,"creation_date":1682600765,"post_id":76120709,"comment_id":134243769,"body_markdown":"In your solution you propose use constructor which consumes String... : new JSONObject(&quot;{\\&quot;EN\\&quot;: \\&quot;Spain\\&quot;, \\&quot;ES\\&quot;: \\&quot;Espa&#241;a\\&quot;}&quot;)","body":"In your solution you propose use constructor which consumes String... : new JSONObject(&quot;{\\&quot;EN\\&quot;: \\&quot;Spain\\&quot;, \\&quot;ES\\&quot;: \\&quot;Espa&#241;a\\&quot;}&quot;)"}],"tags":[],"owner":{"account_id":26335795,"reputation":948,"user_id":19995658,"display_name":"Sparkling Marcel "},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1682601008,"creation_date":1682600223,"answer_id":76120709,"question_id":76120554,"body_markdown":"If you really want to avoid the Try Catch, you can use the optString function from JSONObject.\r\n\r\ngetString throws an exception, so you either have to throw it yourself or put it inside a try catch\r\n\r\noptString kinda do the same thing but can return a default String if no string is found, and doesn&#39;t throw an exception.\r\n\r\nSo you can effectively replace your code by \r\n\r\n \r\n\r\n    textViewOfcountryName.setText(new JSONObject(new HashMap&lt;String, String&gt;() {{ put(&quot;EN&quot;, &quot;Spain&quot;); put(&quot;ES&quot;, &quot;Espa&#241;a&quot;); }}).optString(getString(R.string.iso_639)), &quot;&quot;);\r\n\r\nlink to docs for optString: https://javadoc.io/static/org.json/json/20230227/org/json/JSONObject.html#optString-java.lang.String-\r\n\r\n","title":"How can I remove the try-catch block when I&#39;m confident that an exception will never be thrown?","body":"<p>If you really want to avoid the Try Catch, you can use the optString function from JSONObject.</p>\n<p>getString throws an exception, so you either have to throw it yourself or put it inside a try catch</p>\n<p>optString kinda do the same thing but can return a default String if no string is found, and doesn't throw an exception.</p>\n<p>So you can effectively replace your code by</p>\n<pre><code>textViewOfcountryName.setText(new JSONObject(new HashMap&lt;String, String&gt;() {{ put(&quot;EN&quot;, &quot;Spain&quot;); put(&quot;ES&quot;, &quot;España&quot;); }}).optString(getString(R.string.iso_639)), &quot;&quot;);\n</code></pre>\n<p>link to docs for optString: <a href=\"https://javadoc.io/static/org.json/json/20230227/org/json/JSONObject.html#optString-java.lang.String-\" rel=\"nofollow noreferrer\">https://javadoc.io/static/org.json/json/20230227/org/json/JSONObject.html#optString-java.lang.String-</a></p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682600502,"creation_date":1682600502,"answer_id":76120747,"question_id":76120554,"body_markdown":"If you are using lombok, you can annotate your method with @SneakyThrows:\r\n```java\r\n@SneakyThrows\r\nvoid myMethod() {\r\n\t// ...\r\n\ttextViewOfcountryName.setText(new JSONObject(&quot;{\\&quot;EN\\&quot;: \\&quot;Spain\\&quot;, \\&quot;ES\\&quot;: \\&quot;Espa&#241;a\\&quot;}&quot;).getString(getString(R.string.iso_639)));\r\n\t// ...\r\n}\r\n```\r\n\r\nAlternatively, you can create a utility function that takes a *Runnable* function that throws an Exception, executes it, and catches and rethrows the exceptions as *RuntimeExceptions*:\r\n```java\r\npublic interface RunnableThrowingException&lt;T extends Exception&gt; {\r\n\tvoid run() throws T;\r\n}\r\n\r\npublic static void sneaky(RunnableThrowingException&lt;?&gt; runnableThrowing) {\r\n\ttry {\r\n\t\trunnableThrowing.run();\r\n\t} catch (Exception e) {\r\n\t\tthrow new RuntimeException(e);\r\n\t}\r\n}\r\n```\r\nYou can re-use this everywhere you need it like this:\r\n```\r\nvoid myMethod() {\r\n\t// ...\r\n\tsneaky(() -&gt; textViewOfcountryName.setText(new JSONObject(&quot;{\\&quot;EN\\&quot;: \\&quot;Spain\\&quot;, \\&quot;ES\\&quot;: \\&quot;Espa&#241;a\\&quot;}&quot;).getString(getString(R.string.iso_639))))\r\n\t// ...\r\n}\r\n```\r\nIf you don&#39;t want to define it yourself, you can always use a library like vavr or something similar for it: https://www.baeldung.com/exceptions-using-vavr\r\n","title":"How can I remove the try-catch block when I&#39;m confident that an exception will never be thrown?","body":"<p>If you are using lombok, you can annotate your method with @SneakyThrows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SneakyThrows\nvoid myMethod() {\n    // ...\n    textViewOfcountryName.setText(new JSONObject(&quot;{\\&quot;EN\\&quot;: \\&quot;Spain\\&quot;, \\&quot;ES\\&quot;: \\&quot;España\\&quot;}&quot;).getString(getString(R.string.iso_639)));\n    // ...\n}\n</code></pre>\n<p>Alternatively, you can create a utility function that takes a <em>Runnable</em> function that throws an Exception, executes it, and catches and rethrows the exceptions as <em>RuntimeExceptions</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface RunnableThrowingException&lt;T extends Exception&gt; {\n    void run() throws T;\n}\n\npublic static void sneaky(RunnableThrowingException&lt;?&gt; runnableThrowing) {\n    try {\n        runnableThrowing.run();\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>You can re-use this everywhere you need it like this:</p>\n<pre><code>void myMethod() {\n    // ...\n    sneaky(() -&gt; textViewOfcountryName.setText(new JSONObject(&quot;{\\&quot;EN\\&quot;: \\&quot;Spain\\&quot;, \\&quot;ES\\&quot;: \\&quot;España\\&quot;}&quot;).getString(getString(R.string.iso_639))))\n    // ...\n}\n</code></pre>\n<p>If you don't want to define it yourself, you can always use a library like vavr or something similar for it: <a href=\"https://www.baeldung.com/exceptions-using-vavr\" rel=\"nofollow noreferrer\">https://www.baeldung.com/exceptions-using-vavr</a></p>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76120709,"answer_count":3,"score":0,"last_activity_date":1682601008,"creation_date":1682599310,"question_id":76120554,"body_markdown":"The try-catch block adds unnecessary lines to the code, making it appear cluttered. Since the value will always exist, it&#39;s unnecessary to include a try-catch block. What&#39;s the recommended way to use JsonObject without needing to handle exceptions using try-catch or throws after the method?\r\n\r\n**Here is what I currently have:**\r\n\r\n    try {\r\n        textViewOfcountryName.setText(new JSONObject(&quot;{\\&quot;EN\\&quot;: \\&quot;Spain\\&quot;, \\&quot;ES\\&quot;: \\&quot;Espa&#241;a\\&quot;}&quot;).getString(getString(R.string.iso_639)));\r\n    } catch (JSONException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n**Here is what I&#39;m looking for:**\r\n\r\n    textViewOfcountryName.setText(new JSONObject(&quot;{\\&quot;EN\\&quot;: \\&quot;Spain\\&quot;, \\&quot;ES\\&quot;: \\&quot;Espa&#241;a\\&quot;}&quot;).getString(getString(R.string.iso_639)));","title":"How can I remove the try-catch block when I&#39;m confident that an exception will never be thrown?","body":"<p>The try-catch block adds unnecessary lines to the code, making it appear cluttered. Since the value will always exist, it's unnecessary to include a try-catch block. What's the recommended way to use JsonObject without needing to handle exceptions using try-catch or throws after the method?</p>\n<p><strong>Here is what I currently have:</strong></p>\n<pre><code>try {\n    textViewOfcountryName.setText(new JSONObject(&quot;{\\&quot;EN\\&quot;: \\&quot;Spain\\&quot;, \\&quot;ES\\&quot;: \\&quot;España\\&quot;}&quot;).getString(getString(R.string.iso_639)));\n} catch (JSONException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p><strong>Here is what I'm looking for:</strong></p>\n<pre><code>textViewOfcountryName.setText(new JSONObject(&quot;{\\&quot;EN\\&quot;: \\&quot;Spain\\&quot;, \\&quot;ES\\&quot;: \\&quot;España\\&quot;}&quot;).getString(getString(R.string.iso_639)));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1682600891,"post_id":76120770,"comment_id":134243811,"body_markdown":"You may be interested in result of `list.getClass()`.","body":"You may be interested in result of <code>list.getClass()</code>."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1682600982,"post_id":76120770,"comment_id":134243839,"body_markdown":"Or use a debugger, and inspect `list` to determine it&#39;s type.","body":"Or use a debugger, and inspect <code>list</code> to determine it&#39;s type."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":4,"creation_date":1682601100,"post_id":76120770,"comment_id":134243889,"body_markdown":"Either way, the JavaDoc tells you everything you need to know - it is fixed-size, serializable and random-access and backed by the array. The rest are implementation details and may vary from implementation to implementation.","body":"Either way, the JavaDoc tells you everything you need to know - it is fixed-size, serializable and random-access and backed by the array. The rest are implementation details and may vary from implementation to implementation."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1682602524,"post_id":76120770,"comment_id":134244255,"body_markdown":"if you really need to know, the type of returned instance - with actual Java (OpenJDK 20) - is `java.util.Arrays$ArrayList` - a nested class of `Arrays`, (unfortunately also) called `ArrayList` (not same as `java.util.ArrayList`) || Since that is not mentioned in the specification (aka javadoc,) this can be changed at any time, even be different in the same execution of the JVM (e.g. result of `List.of()` which depends on number of arguments AFAIK)","body":"if you really need to know, the type of returned instance - with actual Java (OpenJDK 20) - is <code>java.util.Arrays$ArrayList</code> - a nested class of <code>Arrays</code>, (unfortunately also) called <code>ArrayList</code> (not same as <code>java.util.ArrayList</code>) || Since that is not mentioned in the specification (aka javadoc,) this can be changed at any time, even be different in the same execution of the JVM (e.g. result of <code>List.of()</code> which depends on number of arguments AFAIK)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1682604313,"post_id":76120770,"comment_id":134244725,"body_markdown":"The actual class is an implementation detail, and you should not worry about that.","body":"The actual class is an implementation detail, and you should not worry about that."}],"owner":{"account_id":28220672,"reputation":13,"user_id":21571451,"display_name":"jachai.sotaro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682600798,"answer_count":0,"score":0,"last_activity_date":1682600677,"creation_date":1682600677,"question_id":76120770,"body_markdown":"[Java Docs](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#asList(T...)) on method `asList()` from `Arrays` class, has `List&lt;T&gt;` as a return type. Since you can *not* instantiate an interface in Java, what is the true &quot;nature&quot; of that object?\r\n\r\nConsider the following example:\r\n```java\r\nList&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4);\r\n```  \r\nFollowing this example, `list` is of `List&lt;Integer&gt;` type. But, what is its inherent type? \r\n\r\n-----\r\nIf it&#39;s not clear what I mean by true nature of an object or its inherent type, `List randomObject = new ArrayList();`, true nature of `randomObject` would be `ArrayList`, and not `List`.","title":"What is the true nature of the object returned by the Arrays.asList() method?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#asList(T...)\" rel=\"nofollow noreferrer\">Java Docs</a> on method <code>asList()</code> from <code>Arrays</code> class, has <code>List&lt;T&gt;</code> as a return type. Since you can <em>not</em> instantiate an interface in Java, what is the true &quot;nature&quot; of that object?</p>\n<p>Consider the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4);\n</code></pre>\n<p>Following this example, <code>list</code> is of <code>List&lt;Integer&gt;</code> type. But, what is its inherent type?</p>\n<hr />\n<p>If it's not clear what I mean by true nature of an object or its inherent type, <code>List randomObject = new ArrayList();</code>, true nature of <code>randomObject</code> would be <code>ArrayList</code>, and not <code>List</code>.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":1,"creation_date":1682593579,"post_id":76119572,"comment_id":134241971,"body_markdown":"[How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"<a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>"},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1682594580,"post_id":76119572,"comment_id":134242210,"body_markdown":"https://stackoverflow.com/questions/36644043/how-to-properly-shutdown-java-executorservice","body":"<a href=\"https://stackoverflow.com/questions/36644043/how-to-properly-shutdown-java-executorservice\" title=\"how to properly shutdown java executorservice\">stackoverflow.com/questions/36644043/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682595876,"post_id":76119572,"comment_id":134242490,"body_markdown":"with java&gt;=9, you can squash the &quot;whole body&quot; into 1 line: `futures.add(executorService.submit(() -&gt; calculatePrime(n)));`  ;)","body":"with java&gt;=9, you can squash the &quot;whole body&quot; into 1 line: <code>futures.add(executorService.submit(() -&gt; calculatePrime(n)));</code>  ;)"}],"answers":[{"comments":[{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":1,"creation_date":1682594429,"post_id":76119679,"comment_id":134242178,"body_markdown":"In a batch program we generally dont want the threaad pool to exit so that is the default behaviour. Like xerx says add an await and then exit close the service. once all non daemon threads are done, the JVM will exit. Alternatively or additionally you can add a 10 or more second delay and call System.exit yourself to force the jvm to exit even if any task is still procesing or hung.","body":"In a batch program we generally dont want the threaad pool to exit so that is the default behaviour. Like xerx says add an await and then exit close the service. once all non daemon threads are done, the JVM will exit. Alternatively or additionally you can add a 10 or more second delay and call System.exit yourself to force the jvm to exit even if any task is still procesing or hung."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":1,"creation_date":1682594491,"post_id":76119679,"comment_id":134242190,"body_markdown":"Can read https://www.google.com/search?q=java+daemon+vs+non+daemon+threads * https://stackoverflow.com/questions/45048346/how-to-exit-executorservice-after-all-the-threads-have-done-their-execution  * https://stackoverflow.com/questions/36644043/how-to-properly-shutdown-java-executorservice","body":"Can read <a href=\"https://www.google.com/search?q=java+daemon+vs+non+daemon+threads\" rel=\"nofollow noreferrer\">google.com/search?q=java+daemon+vs+non+daemon+threads</a> * <a href=\"https://stackoverflow.com/questions/45048346/how-to-exit-executorservice-after-all-the-threads-have-done-their-execution\" title=\"how to exit executorservice after all the threads have done their execution\">stackoverflow.com/questions/45048346/&hellip;</a>  * <a href=\"https://stackoverflow.com/questions/36644043/how-to-properly-shutdown-java-executorservice\" title=\"how to properly shutdown java executorservice\">stackoverflow.com/questions/36644043/&hellip;</a>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1682598773,"post_id":76119679,"comment_id":134243212,"body_markdown":"Actually, the executor service does _not_ prevent the main the main thread from exiting. If you are familiar with C or C++ then you probably know that the standard libraries for programs in those langauges call `exit()` after `main()` returns. That&#39;s not how Java works. A Java process does not exit until all\\* of its threads have terminaed.","body":"Actually, the executor service does <i>not</i> prevent the main the main thread from exiting. If you are familiar with C or C++ then you probably know that the standard libraries for programs in those langauges call <code>exit()</code> after <code>main()</code> returns. That&#39;s not how Java works. A Java process does not exit until all* of its threads have terminaed."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1682598903,"post_id":76119679,"comment_id":134243264,"body_markdown":"\\* I&#39;m ignoring the possibility of [_daemon threads_](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#setDaemon(boolean)) for simplicity&#39;s sake.","body":"* I&#39;m ignoring the possibility of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#setDaemon(boolean)\" rel=\"nofollow noreferrer\"><i>daemon threads</i></a> for simplicity&#39;s sake."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682600235,"post_id":76119679,"comment_id":134243614,"body_markdown":"i agree with all, @SolomonSlow except with &quot;executor service does not prevent the main thread from exiting&quot; because it is exactly/the only &quot;thread to terminate&quot; (which prevents exit)","body":"i agree with all, @SolomonSlow except with &quot;executor service does not prevent the main thread from exiting&quot; because it is exactly/the only &quot;thread to terminate&quot; (which prevents exit)"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1682602638,"post_id":76119679,"comment_id":134244287,"body_markdown":"But, the worker thread(s) that keep the process alive are not the _main_ thread. The main thread ends after `main` returns.","body":"But, the worker thread(s) that keep the process alive are not the <i>main</i> thread. The main thread ends after <code>main</code> returns."}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682595371,"creation_date":1682593747,"answer_id":76119679,"question_id":76119572,"body_markdown":"### Minimal fix\r\n\r\nAdd a:\r\n```\r\nexecutorService.shutdown(); // alternatively try(executorService.awaitTermination(...)) ...\r\n```\r\n\r\nas the last line of your `main()`.\r\n\r\nThe executor service (seems to, *surely* implemented also &quot;as a thread&quot;) &quot;reserves resources&quot; and prevents the main thread from exiting.\r\n\r\nIn the `0` scenario  we don&#39;t submit any tasks...\r\n\r\n## Alternatives/Documentation ([17][1]):\r\n\r\n&gt; `shutdown()`\r\n&gt; Initiates an orderly shutdown in which previously\r\n&gt; submitted tasks are executed, but no new tasks will be accepted...\r\n\r\n&gt; `shutdownNow()`\r\n&gt; Attempts to stop all actively executing tasks, halts the\r\n&gt; processing of waiting tasks, and returns a list of the tasks that were\r\n&gt; awaiting execution. This method does not wait for actively executing\r\n&gt; tasks to terminate. Use awaitTermination to do that...\r\n\r\n&gt;`boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException`\r\n&gt;Blocks until all tasks have completed execution after a shutdown request, or the timeout occurs, or the current thread is interrupted, whichever happens first...\r\n\r\n- `System.exit(/*code*/);` ;(\r\n\r\nThx, @tgkprog:\r\n\r\n- https://stackoverflow.com/questions/45048346/how-to-exit-executorservice-after-all-the-threads-have-done-their-execution\r\n- https://stackoverflow.com/questions/36644043/how-to-properly-shutdown-java-executorservice\r\n- https://www.google.com/search?q=java+daemon+vs+non+daemon+threads\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html","title":"Java program does not exit","body":"<h3>Minimal fix</h3>\n<p>Add a:</p>\n<pre><code>executorService.shutdown(); // alternatively try(executorService.awaitTermination(...)) ...\n</code></pre>\n<p>as the last line of your <code>main()</code>.</p>\n<p>The executor service (seems to, <em>surely</em> implemented also &quot;as a thread&quot;) &quot;reserves resources&quot; and prevents the main thread from exiting.</p>\n<p>In the <code>0</code> scenario  we don't submit any tasks...</p>\n<h2>Alternatives/Documentation (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">17</a>):</h2>\n<blockquote>\n<p><code>shutdown()</code>\nInitiates an orderly shutdown in which previously\nsubmitted tasks are executed, but no new tasks will be accepted...</p>\n</blockquote>\n<blockquote>\n<p><code>shutdownNow()</code>\nAttempts to stop all actively executing tasks, halts the\nprocessing of waiting tasks, and returns a list of the tasks that were\nawaiting execution. This method does not wait for actively executing\ntasks to terminate. Use awaitTermination to do that...</p>\n</blockquote>\n<blockquote>\n<p><code>boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException</code>\nBlocks until all tasks have completed execution after a shutdown request, or the timeout occurs, or the current thread is interrupted, whichever happens first...</p>\n</blockquote>\n<ul>\n<li><code>System.exit(/*code*/);</code> ;(</li>\n</ul>\n<p>Thx, @tgkprog:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45048346/how-to-exit-executorservice-after-all-the-threads-have-done-their-execution\">How to exit ExecutorService after all the threads have done their execution?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/36644043/how-to-properly-shutdown-java-executorservice\">How to properly shutdown java ExecutorService</a></li>\n<li><a href=\"https://www.google.com/search?q=java+daemon+vs+non+daemon+threads\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=java+daemon+vs+non+daemon+threads</a></li>\n</ul>\n"}],"owner":{"account_id":23897357,"reputation":61,"user_id":17896099,"display_name":"H-Bar"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1682600331,"accepted_answer_id":76119679,"answer_count":1,"score":1,"last_activity_date":1682600448,"creation_date":1682593044,"question_id":76119572,"body_markdown":"I am exploring multi threading in Java. I have come across this program to compute primes. Primes are computed in the most inefficient way possible. This is done in purpose to maximize the execution time.\r\n\r\nHere is the code\r\n\r\n```lang-java\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.util.concurrent.*;\r\n\r\nimport static java.lang.System.exit;\r\n\r\npublic class Part19_CalculatePrimeNumbersUsingFutureAndCallable {\r\n\r\n    public static void main(String[] args) {\r\n        ExecutorService executorService = Executors.newCachedThreadPool();\r\n        List&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n        System.out.println(String.format(&quot;The main thread : %s&quot;, Thread.currentThread().getName()));\r\n        while (true) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;\\nI can tell you the nth prime number, Enter n(0 to exit): &quot;);\r\n            int n = sc.nextInt();\r\n            if (n == 0)\r\n                break;\r\n\r\n            Callable&lt;Integer&gt; primeCalculator = new Callable&lt;Integer&gt;() {\r\n                @Override\r\n                public Integer call() throws Exception {\r\n                    return calculatePrime(n);\r\n                }\r\n            };\r\n\r\n            Future&lt;Integer&gt; primeNumberFuture = executorService.submit(primeCalculator);\r\n\r\n            futures.add(primeNumberFuture);\r\n\r\n        }\r\n\r\n        System.out.println(&quot;EXITED&quot;);\r\n\r\n        // check if any of the futures are completed\r\n\r\n        futures.forEach(f -&gt; {\r\n            try {\r\n                System.out.println(String.format(&quot;\\tComputed prime %s&quot;, f.get()));\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (ExecutionException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private static int calculatePrime(int n) {\r\n        int num = 1, count = 0, i;\r\n\r\n        while (count &lt; n) {\r\n            num = num + 1;\r\n            for (i = 2; i &lt;= num; i++) {\r\n                // determines the modulo and compare it with 0\r\n                if (num % i == 0) {\r\n                    // breaks the loop if the above condition returns true\r\n                    break;\r\n                }\r\n            }\r\n            if (i == num) {\r\n                // increments the count variable by 1 if the number is prime\r\n                count = count + 1;\r\n            }\r\n        }\r\n        return num;\r\n    }\r\n}\r\n```\r\nOUTPUT 1\r\n```lang-text\r\nThe main thread : main\r\n\r\nI can tell you the nth prime number, Enter n(0 to exit): \r\n\r\n0\r\n\r\nEXITED\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nThis outputs as expected\r\n\r\nOUTPUT 2\r\n```lang-text\r\nThe main thread : main\r\n\r\nI can tell you the nth prime number, Enter n(0 to exit): \r\n1\r\n\r\nI can tell you the nth prime number, Enter n(0 to exit): \r\n2\r\n\r\nI can tell you the nth prime number, Enter n(0 to exit): \r\n3\r\n\r\nI can tell you the nth prime number, Enter n(0 to exit): \r\n0\r\nEXITED\r\n  Computed prime 2\r\n  Computed prime 3\r\n  Computed prime 5\r\n```\r\nHere the program does not seem to terminate and I cannot understand why.\r\n","title":"Java program does not exit","body":"<p>I am exploring multi threading in Java. I have come across this program to compute primes. Primes are computed in the most inefficient way possible. This is done in purpose to maximize the execution time.</p>\n<p>Here is the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.concurrent.*;\n\nimport static java.lang.System.exit;\n\npublic class Part19_CalculatePrimeNumbersUsingFutureAndCallable {\n\n    public static void main(String[] args) {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        List&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\n        System.out.println(String.format(&quot;The main thread : %s&quot;, Thread.currentThread().getName()));\n        while (true) {\n            Scanner sc = new Scanner(System.in);\n            System.out.println(&quot;\\nI can tell you the nth prime number, Enter n(0 to exit): &quot;);\n            int n = sc.nextInt();\n            if (n == 0)\n                break;\n\n            Callable&lt;Integer&gt; primeCalculator = new Callable&lt;Integer&gt;() {\n                @Override\n                public Integer call() throws Exception {\n                    return calculatePrime(n);\n                }\n            };\n\n            Future&lt;Integer&gt; primeNumberFuture = executorService.submit(primeCalculator);\n\n            futures.add(primeNumberFuture);\n\n        }\n\n        System.out.println(&quot;EXITED&quot;);\n\n        // check if any of the futures are completed\n\n        futures.forEach(f -&gt; {\n            try {\n                System.out.println(String.format(&quot;\\tComputed prime %s&quot;, f.get()));\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            } catch (ExecutionException e) {\n                throw new RuntimeException(e);\n            }\n        });\n\n    }\n\n    private static int calculatePrime(int n) {\n        int num = 1, count = 0, i;\n\n        while (count &lt; n) {\n            num = num + 1;\n            for (i = 2; i &lt;= num; i++) {\n                // determines the modulo and compare it with 0\n                if (num % i == 0) {\n                    // breaks the loop if the above condition returns true\n                    break;\n                }\n            }\n            if (i == num) {\n                // increments the count variable by 1 if the number is prime\n                count = count + 1;\n            }\n        }\n        return num;\n    }\n}\n</code></pre>\n<p>OUTPUT 1</p>\n<pre class=\"lang-text prettyprint-override\"><code>The main thread : main\n\nI can tell you the nth prime number, Enter n(0 to exit): \n\n0\n\nEXITED\n\nProcess finished with exit code 0\n</code></pre>\n<p>This outputs as expected</p>\n<p>OUTPUT 2</p>\n<pre class=\"lang-text prettyprint-override\"><code>The main thread : main\n\nI can tell you the nth prime number, Enter n(0 to exit): \n1\n\nI can tell you the nth prime number, Enter n(0 to exit): \n2\n\nI can tell you the nth prime number, Enter n(0 to exit): \n3\n\nI can tell you the nth prime number, Enter n(0 to exit): \n0\nEXITED\n  Computed prime 2\n  Computed prime 3\n  Computed prime 5\n</code></pre>\n<p>Here the program does not seem to terminate and I cannot understand why.</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":0,"creation_date":1542782076,"post_id":53406388,"comment_id":93687672,"body_markdown":"take a `View` inside your `ConstriantLayout` and set color to that `View`.","body":"take a <code>View</code> inside your <code>ConstriantLayout</code> and set color to that <code>View</code>."}],"answers":[{"tags":[],"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1542861126,"creation_date":1542782241,"answer_id":53406473,"question_id":53406388,"body_markdown":"Try this way\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.v7.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:cardCornerRadius=&quot;10dp&quot;\r\n        app:cardElevation=&quot;2dp&quot;\r\n        app:cardUseCompatPadding=&quot;true&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;View\r\n                android:layout_width=&quot;5dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@color/colorAccent&quot; /&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:padding=&quot;10dp&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Nilesh Rathod&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Nilesh Rathod&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Nilesh Rathod&quot; /&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    \r\n    &lt;/android.support.v7.widget.CardView&gt;\r\n    \r\n**OUTPUT**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YpCAz.png","title":"How to set color in the side of cardview","body":"<p>Try this way</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"\n    app:cardCornerRadius=\"10dp\"\n    app:cardElevation=\"2dp\"\n    app:cardUseCompatPadding=\"true\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@android:color/white\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;View\n            android:layout_width=\"5dp\"\n            android:layout_height=\"match_parent\"\n            android:background=\"@color/colorAccent\" /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:orientation=\"vertical\"\n            android:padding=\"10dp\"&gt;\n\n            &lt;TextView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Nilesh Rathod\" /&gt;\n\n            &lt;TextView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Nilesh Rathod\" /&gt;\n\n            &lt;TextView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Nilesh Rathod\" /&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n\n\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/YpCAz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YpCAz.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":21926858,"reputation":29,"user_id":16209340,"display_name":"Ahmet &#214;zaydın"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682600379,"creation_date":1682600379,"answer_id":76120732,"question_id":53406388,"body_markdown":"how is looking for an answer for `Jetpack Compose`\r\n\r\n     Card(\r\n        modifier = Modifier.fillMaxSize().height(80.dp).padding(4.dp),\r\n        colors = CardDefaults.cardColors(\r\n            containerColor = Color.White,\r\n            contentColor = Color.White)\r\n        ) {\r\n        Row(modifier = Modifier.fillMaxSize().padding(0.dp)) {\r\n            Box(modifier = Modifier.height(80.dp).width(8.dp).padding(0.dp)) {\r\n                Button(\r\n                    modifier = Modifier.height(80.dp).width(8.dp).padding(0.dp),\r\n                    onClick = { },\r\n                    colors = ButtonDefaults.buttonColors(\r\n                        containerColor = Color.Red,\r\n                        contentColor = Color.Red,\r\n                    ),\r\n                    shape = RoundedCornerShape(8.dp, 0.dp, 0.dp, 8.dp),\r\n                ) { }\r\n            }\r\n            Text(modifier = Modifier.padding(8.dp), text = &quot;String&quot;, color = Color.Black)\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CsaRP.png","title":"How to set color in the side of cardview","body":"<p>how is looking for an answer for <code>Jetpack Compose</code></p>\n<pre><code> Card(\n    modifier = Modifier.fillMaxSize().height(80.dp).padding(4.dp),\n    colors = CardDefaults.cardColors(\n        containerColor = Color.White,\n        contentColor = Color.White)\n    ) {\n    Row(modifier = Modifier.fillMaxSize().padding(0.dp)) {\n        Box(modifier = Modifier.height(80.dp).width(8.dp).padding(0.dp)) {\n            Button(\n                modifier = Modifier.height(80.dp).width(8.dp).padding(0.dp),\n                onClick = { },\n                colors = ButtonDefaults.buttonColors(\n                    containerColor = Color.Red,\n                    contentColor = Color.Red,\n                ),\n                shape = RoundedCornerShape(8.dp, 0.dp, 0.dp, 8.dp),\n            ) { }\n        }\n        Text(modifier = Modifier.padding(8.dp), text = &quot;String&quot;, color = Color.Black)\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CsaRP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CsaRP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9705571,"reputation":153,"user_id":10683924,"display_name":"Dioptre Pic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1578,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":53406473,"answer_count":2,"score":8,"last_activity_date":1682600379,"creation_date":1542781774,"question_id":53406388,"body_markdown":"I&#39;m trying to understand what is the best way to set color in the side of a CardView like this \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nMy cardview looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:card_view=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/cardViewWe&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginLeft=&quot;4dp&quot;\r\n    android:layout_marginTop=&quot;4dp&quot;\r\n    android:layout_marginRight=&quot;4dp&quot;\r\n    android:layout_marginBottom=&quot;4dp&quot;\r\n    android:foreground=&quot;?attr/selectableItemBackground&quot;\r\n    android:transitionName=&quot;cardTransition&quot;\r\n    app:cardBackgroundColor=&quot;@drawable/selector&quot;\r\n    app:cardElevation=&quot;2dp&quot;\r\n\r\n    card_view:cardCornerRadius=&quot;8dp&quot;&gt;\r\n\r\n      &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n     .....\r\n     .....\r\n       &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qniDB.jpg","title":"How to set color in the side of cardview","body":"<p>I'm trying to understand what is the best way to set color in the side of a CardView like this </p>\n\n<p><a href=\"https://i.stack.imgur.com/qniDB.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qniDB.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>My cardview looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:card_view=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/cardViewWe\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_marginLeft=\"4dp\"\nandroid:layout_marginTop=\"4dp\"\nandroid:layout_marginRight=\"4dp\"\nandroid:layout_marginBottom=\"4dp\"\nandroid:foreground=\"?attr/selectableItemBackground\"\nandroid:transitionName=\"cardTransition\"\napp:cardBackgroundColor=\"@drawable/selector\"\napp:cardElevation=\"2dp\"\n\ncard_view:cardCornerRadius=\"8dp\"&gt;\n\n  &lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n .....\n .....\n   &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":["java","multithreading","executorservice","java.util.concurrent"],"comments":[{"owner":{"display_name":"user177800"},"score":0,"creation_date":1430548578,"post_id":29999109,"comment_id":48117669,"body_markdown":"because that is the way it works why do you not want to follow the documentation?","body":"because that is the way it works why do you not want to follow the documentation?"},{"owner":{"account_id":6203059,"reputation":926,"user_id":4832134,"accept_rate":55,"display_name":"John Rambo"},"score":0,"creation_date":1430549359,"post_id":29999109,"comment_id":48117828,"body_markdown":"Coz it wasn&#39;t mentioned in the documentation in a lucid manner.","body":"Coz it wasn&#39;t mentioned in the documentation in a lucid manner."}],"answers":[{"comments":[{"owner":{"account_id":6203059,"reputation":926,"user_id":4832134,"accept_rate":55,"display_name":"John Rambo"},"score":0,"creation_date":1430548124,"post_id":29999187,"comment_id":48117578,"body_markdown":"But when these non-daemon threads complete the execution of run(), these non-daemon threads would die. But it is not happening in my case. Any suggestions?","body":"But when these non-daemon threads complete the execution of run(), these non-daemon threads would die. But it is not happening in my case. Any suggestions?"},{"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"score":1,"creation_date":1458904411,"post_id":29999187,"comment_id":60069076,"body_markdown":"if you use a ThreadFactory to create daemon threads, then those tasks that were submitted would not be executed completely when JVM exits. In the example of the question, this option would result in no message prints.","body":"if you use a ThreadFactory to create daemon threads, then those tasks that were submitted would not be executed completely when JVM exits. In the example of the question, this option would result in no message prints."},{"owner":{"account_id":436091,"reputation":674,"user_id":823040,"accept_rate":72,"display_name":"sgnsajgon"},"score":0,"creation_date":1558553275,"post_id":29999187,"comment_id":99143797,"body_markdown":"@JohnRambo Non-deamon executor&#39;s threads do not die after execution of Runnable is completed. They wait for another Runnable to be submitted to execute.","body":"@JohnRambo Non-deamon executor&#39;s threads do not die after execution of Runnable is completed. They wait for another Runnable to be submitted to execute."},{"owner":{"account_id":4966019,"reputation":413,"user_id":3995317,"display_name":"Erik Lievaart"},"score":0,"creation_date":1623930112,"post_id":29999187,"comment_id":120220741,"body_markdown":"Daemon threads are essentially background processes. Don&#39;t create the Threads as daemons just because they have the &quot;side effect&quot; of not holding the VM hostage. Mark them as daemons if they actually ARE deamons. You are just making it more complicated because you now have to manually ensure that the VM doesn&#39;t shutdown before the work is completed. Calling `shutdown()` tells the `ExecutorService` to complete any outstanding work and to clean up Threads once they have completed their job, which is exactly what you want.","body":"Daemon threads are essentially background processes. Don&#39;t create the Threads as daemons just because they have the &quot;side effect&quot; of not holding the VM hostage. Mark them as daemons if they actually ARE deamons. You are just making it more complicated because you now have to manually ensure that the VM doesn&#39;t shutdown before the work is completed. Calling <code>shutdown()</code> tells the <code>ExecutorService</code> to complete any outstanding work and to clean up Threads once they have completed their job, which is exactly what you want."},{"owner":{"account_id":4966019,"reputation":413,"user_id":3995317,"display_name":"Erik Lievaart"},"score":0,"creation_date":1623930872,"post_id":29999187,"comment_id":120221072,"body_markdown":"As an alternative, you might create a `ThreadPoolExecutor` with a minimum of 0 threads and a keepalive that is short enough to ensure the VM shuts down in time. For example: `ThreadPoolExecutor executor = new ThreadPoolExecutor(0, 10, 1000, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;&gt;())`. Now, if you submit work to the executor, it will run in a non-daemon Thread that is automatically cleaned up after a period of being idle. You don&#39;t have to call shutdown. The VM will wait for the Threads to complete, but it won&#39;t wait for it longer than the keepalive afterwards.","body":"As an alternative, you might create a <code>ThreadPoolExecutor</code> with a minimum of 0 threads and a keepalive that is short enough to ensure the VM shuts down in time. For example: <code>ThreadPoolExecutor executor = new ThreadPoolExecutor(0, 10, 1000, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;&gt;())</code>. Now, if you submit work to the executor, it will run in a non-daemon Thread that is automatically cleaned up after a period of being idle. You don&#39;t have to call shutdown. The VM will wait for the Threads to complete, but it won&#39;t wait for it longer than the keepalive afterwards."}],"tags":[],"owner":{"account_id":293898,"reputation":12995,"user_id":597473,"display_name":"Piotrek Bzdyl"},"comment_count":5,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1430548425,"creation_date":1430547803,"answer_id":29999187,"question_id":29999109,"body_markdown":"According to [`Thread` javadoc][1]:\n\n&gt; The Java Virtual Machine continues to execute threads until either of the following occurs:\n&gt;\n&gt; - The exit method of class Runtime has been called and the security manager has permitted the exit operation to take place.\n&gt; - **All threads that are not daemon threads have died**, either by returning from the call to the run method or by throwing an exception that propagates beyond the run method.\n\nYour executor creates non-daemon threads which prevent your JVM from shutting down. Threads created by executors are usually pooled to run more than one task submitted to the executor - often this is a performance optimisation to reuse threads so they run more then one task (as creating new thread is an expensive operation). Depending on the implementation and configuration of the executor (e.g. see [`ThreadPoolExecutor` doc, especially `keepalive` configuration][2]) it might keep the threads running forever or terminate when they are unused for some time.\n\nYou must either call `shutdown` on your executor or create it with a custom [`ThreadFactory`][3] (e.g. using [`Executors.newFixedThreadPool(int, ThreadFactory)`][4]) where that thread factory will configure new threads as daemon ones.\n\n\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadFactory.html\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool-int-java.util.concurrent.ThreadFactory-","title":"ExecutorService JVM doesn&#39;t terminate","body":"<p>According to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html\" rel=\"nofollow noreferrer\"><code>Thread</code> javadoc</a>:</p>\n<blockquote>\n<p>The Java Virtual Machine continues to execute threads until either of the following occurs:</p>\n<ul>\n<li>The exit method of class Runtime has been called and the security manager has permitted the exit operation to take place.</li>\n<li><strong>All threads that are not daemon threads have died</strong>, either by returning from the call to the run method or by throwing an exception that propagates beyond the run method.</li>\n</ul>\n</blockquote>\n<p>Your executor creates non-daemon threads which prevent your JVM from shutting down. Threads created by executors are usually pooled to run more than one task submitted to the executor - often this is a performance optimisation to reuse threads so they run more then one task (as creating new thread is an expensive operation). Depending on the implementation and configuration of the executor (e.g. see <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\"><code>ThreadPoolExecutor</code> doc, especially <code>keepalive</code> configuration</a>) it might keep the threads running forever or terminate when they are unused for some time.</p>\n<p>You must either call <code>shutdown</code> on your executor or create it with a custom <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadFactory.html\" rel=\"nofollow noreferrer\"><code>ThreadFactory</code></a> (e.g. using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool-int-java.util.concurrent.ThreadFactory-\" rel=\"nofollow noreferrer\"><code>Executors.newFixedThreadPool(int, ThreadFactory)</code></a>) where that thread factory will configure new threads as daemon ones.</p>\n"}],"owner":{"account_id":6203059,"reputation":926,"user_id":4832134,"accept_rate":55,"display_name":"John Rambo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4552,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29999187,"answer_count":1,"score":6,"last_activity_date":1682600317,"creation_date":1430547206,"question_id":29999109,"body_markdown":"I don&#39;t understand why I have to call `executorService.shutdown()` explicitly to terminate `executorService`. If I do not call `shutdown()` then the JVM does not terminate on its own. \r\n\r\nWhat is wrong with my program or what concept am I missing?\r\n\r\n\r\n    public class ExecutorServiceExample {\r\n    \r\n    \tpublic static class Task1 implements Runnable {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(1000);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \r\n    \t\t\tSystem.out.println(&quot;Message from Task1 :&quot;\r\n    \t\t\t\t\t+ Thread.currentThread().getName());\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static class Task2 implements Runnable {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(1000);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Message from Task2 :&quot;\r\n    \t\t\t\t\t+ Thread.currentThread().getName());\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static class Task3 implements Runnable {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(1000);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Message from Task3 :&quot;\r\n    \t\t\t\t\t+ Thread.currentThread().getName());\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tExecutorService executorService = Executors.newFixedThreadPool(10);\r\n    \r\n    \t\tFuture future1 = executorService.submit(new Task1());\r\n    \t\tFuture future2 = executorService.submit(new Task2());\r\n    \t\tFuture future3 = executorService.submit(new Task3());\r\n    \r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n&gt; Message from Task2 :pool-1-thread-2\r\n&gt; \r\n&gt; Message from Task1 :pool-1-thread-1\r\n&gt; \r\n&gt; Message from Task3 :pool-1-thread-3\r\n\r\n\r\nThe JVM is still alive. If I will call shutdown() then only JVM would die.\r\n","title":"ExecutorService JVM doesn&#39;t terminate","body":"<p>I don't understand why I have to call <code>executorService.shutdown()</code> explicitly to terminate <code>executorService</code>. If I do not call <code>shutdown()</code> then the JVM does not terminate on its own.</p>\n<p>What is wrong with my program or what concept am I missing?</p>\n<pre><code>public class ExecutorServiceExample {\n\n    public static class Task1 implements Runnable {\n\n        @Override\n        public void run() {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n            System.out.println(&quot;Message from Task1 :&quot;\n                    + Thread.currentThread().getName());\n        }\n\n    }\n\n    public static class Task2 implements Runnable {\n\n        @Override\n        public void run() {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(&quot;Message from Task2 :&quot;\n                    + Thread.currentThread().getName());\n        }\n\n    }\n\n    public static class Task3 implements Runnable {\n\n        @Override\n        public void run() {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(&quot;Message from Task3 :&quot;\n                    + Thread.currentThread().getName());\n        }\n\n    }\n\n    public static void main(String[] args) {\n        ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n        Future future1 = executorService.submit(new Task1());\n        Future future2 = executorService.submit(new Task2());\n        Future future3 = executorService.submit(new Task3());\n\n\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>Message from Task2 :pool-1-thread-2</p>\n<p>Message from Task1 :pool-1-thread-1</p>\n<p>Message from Task3 :pool-1-thread-3</p>\n</blockquote>\n<p>The JVM is still alive. If I will call shutdown() then only JVM would die.</p>\n"},{"tags":["java","multithreading","executorservice","java.util.concurrent"],"answers":[{"comments":[{"owner":{"account_id":72894,"reputation":1017,"user_id":210225,"accept_rate":60,"display_name":"Java Spring Coder"},"score":0,"creation_date":1362210442,"post_id":15171992,"comment_id":21369521,"body_markdown":"Thanks Quoi. anyway can I send some signal from MyRunnable thread class saying that lets shutdownNow() executor service?","body":"Thanks Quoi. anyway can I send some signal from MyRunnable thread class saying that lets shutdownNow() executor service?"}],"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682600277,"creation_date":1362209352,"answer_id":15171992,"question_id":15171927,"body_markdown":"`Executor` will keep running with the underlying thread pool. You can still execute or submit a new task. It is recommended to shutdown Executor service call `ExecutorService.html#shutdown()`  which attempts to stop all actively executing tasks, halts the processing of waiting tasks, and returns a list of the tasks that were awaiting execution.\r\n\r\nYou can also use `ExecutorService.html#shutdownNow()` which stops all actively executing tasks, halts the processing of waiting tasks, and returns a list of the tasks that were awaiting execution. It is useful when you need immediate shutdown.","title":"Java ServiceExecutor terminating condition","body":"<p><code>Executor</code> will keep running with the underlying thread pool. You can still execute or submit a new task. It is recommended to shutdown Executor service call <code>ExecutorService.html#shutdown()</code>  which attempts to stop all actively executing tasks, halts the processing of waiting tasks, and returns a list of the tasks that were awaiting execution.</p>\n<p>You can also use <code>ExecutorService.html#shutdownNow()</code> which stops all actively executing tasks, halts the processing of waiting tasks, and returns a list of the tasks that were awaiting execution. It is useful when you need immediate shutdown.</p>\n"},{"tags":[],"owner":{"account_id":251983,"reputation":1400,"user_id":1212044,"accept_rate":55,"display_name":"Akhilesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362209583,"creation_date":1362209583,"answer_id":15172030,"question_id":15171927,"body_markdown":"Use shutdown method to gracefully shutdown from interface ExecuterService, as Quoi suggested it still runs even if threads are done. You can use submit anytime after that for new work. Other utility methods are [here][1] \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ExecutorService.html#shutdown%28%29","title":"Java ServiceExecutor terminating condition","body":"<p>Use shutdown method to gracefully shutdown from interface ExecuterService, as Quoi suggested it still runs even if threads are done. You can use submit anytime after that for new work. Other utility methods are <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ExecutorService.html#shutdown%28%29\" rel=\"nofollow\">here</a> </p>\n"},{"tags":[],"owner":{"account_id":1878619,"reputation":3619,"user_id":1699268,"accept_rate":83,"display_name":"MayurB"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362209626,"creation_date":1362209626,"answer_id":15172035,"question_id":15171927,"body_markdown":"you can think of it that way:\r\n\r\n`shutdown()` will just tell the executor service that it can&#39;t accept new tasks, but the already submitted tasks continue to run\r\n\r\n`shutdownNow()` will do the same AND will try to cancel the already submitted tasks by interrupting the relevant threads. Note that if your tasks ignore the interruption, `shutdownNow` will behave exactly the same way as shutdown.","title":"Java ServiceExecutor terminating condition","body":"<p>you can think of it that way:</p>\n\n<p><code>shutdown()</code> will just tell the executor service that it can't accept new tasks, but the already submitted tasks continue to run</p>\n\n<p><code>shutdownNow()</code> will do the same AND will try to cancel the already submitted tasks by interrupting the relevant threads. Note that if your tasks ignore the interruption, <code>shutdownNow</code> will behave exactly the same way as shutdown.</p>\n"},{"comments":[{"owner":{"account_id":72894,"reputation":1017,"user_id":210225,"accept_rate":60,"display_name":"Java Spring Coder"},"score":0,"creation_date":1362210169,"post_id":15172065,"comment_id":21369477,"body_markdown":"ok. anyway to stop the pool once all the worker threads are done processing?","body":"ok. anyway to stop the pool once all the worker threads are done processing?"},{"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"score":1,"creation_date":1362211326,"post_id":15172065,"comment_id":21369657,"body_markdown":"executor.shutdown() otherwise your app will never end","body":"executor.shutdown() otherwise your app will never end"},{"owner":{"account_id":72894,"reputation":1017,"user_id":210225,"accept_rate":60,"display_name":"Java Spring Coder"},"score":0,"creation_date":1362213558,"post_id":15172065,"comment_id":21370142,"body_markdown":"agree. that means I need to pass the executor object to MyRunnable and then shutdown from there. hopefully that should be right place to do.","body":"agree. that means I need to pass the executor object to MyRunnable and then shutdown from there. hopefully that should be right place to do."},{"owner":{"account_id":4178685,"reputation":4554,"user_id":3424423,"accept_rate":47,"display_name":"Nearoo"},"score":0,"creation_date":1522147890,"post_id":15172065,"comment_id":86025981,"body_markdown":"Are there any conditions where the program _does_ terminate? I have cases where it terminates, and cases where it doesn&#39;t.","body":"Are there any conditions where the program <i>does</i> terminate? I have cases where it terminates, and cases where it doesn&#39;t."}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1362209861,"creation_date":1362209861,"answer_id":15172065,"question_id":15171927,"body_markdown":"1) threads in a fixed thread pool executor never terminate once started\r\n\r\n2) there is no master thread in thread pool executor","title":"Java ServiceExecutor terminating condition","body":"<p>1) threads in a fixed thread pool executor never terminate once started</p>\n\n<p>2) there is no master thread in thread pool executor</p>\n"}],"owner":{"account_id":72894,"reputation":1017,"user_id":210225,"accept_rate":60,"display_name":"Java Spring Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1234,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15171992,"answer_count":4,"score":2,"last_activity_date":1682600277,"creation_date":1362208844,"question_id":15171927,"body_markdown":"I&#39;m new to java executor stuff.\r\n\r\nI&#39;m using Java&#39;s ExecutorService to launch several threads to process data.\r\n\r\n    Executor executor = Executors.newFixedThreadPool(poolSize);\r\n    \r\n    for(int i=0; i&lt; 5;i++) executor.execute(new MyRunnable(i));\r\n\r\nonce the threads don&#39;t find data, they gracefully terminate.\r\n\r\nMy question is what happens to the Executor when all the threads terminate, is it still running its master thread ? or it will terminate itself and whole application will finish gracefully?\r\n\r\nin case executor thread still runs, how can I let it terminate once all its child threads are done (poolSize number of threads).\r\n\r\n\r\n","title":"Java ServiceExecutor terminating condition","body":"<p>I'm new to java executor stuff.</p>\n\n<p>I'm using Java's ExecutorService to launch several threads to process data.</p>\n\n<pre><code>Executor executor = Executors.newFixedThreadPool(poolSize);\n\nfor(int i=0; i&lt; 5;i++) executor.execute(new MyRunnable(i));\n</code></pre>\n\n<p>once the threads don't find data, they gracefully terminate.</p>\n\n<p>My question is what happens to the Executor when all the threads terminate, is it still running its master thread ? or it will terminate itself and whole application will finish gracefully?</p>\n\n<p>in case executor thread still runs, how can I let it terminate once all its child threads are done (poolSize number of threads).</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","shadow-dom","dropdownbox"],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682600236,"creation_date":1682600236,"answer_id":76120712,"question_id":76046116,"body_markdown":"I don&#39;t see any `#shadow-root` in the html source code.\r\n\r\nExtracting desired text using `element.getText()` is working just fine.\r\n\r\n**Code example:**\r\n\r\n    package tests;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.JavascriptExecutor;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.ui.Select;\r\n    \r\n    import selenium.ChromeDriverSetup;\r\n    \r\n    public class DhanushS extends ChromeDriverSetup {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tWebDriver driver = startChromeDriver();\r\n    \t\tdriver.get(&quot;https://dash.bling-center.com/platform/home.html&quot;);\r\n    \t\tdriver.findElement(By.id(&quot;email&quot;)).sendKeys(&quot;testuser2704@mailinator.com&quot;);\r\n    \t\tdriver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;testuser2704&quot;);\r\n    \t\tdriver.findElement(By.xpath(&quot;/html/body/div/div[2]/div/div/button/p&quot;)).click();\r\n    \t\t\r\n    \t\tdriver.findElement(By.id(&quot;phone-tab&quot;)).click();\r\n    \t\tdriver.findElement(By.id(&quot;phonenumber_1&quot;)).click();\r\n    \t\tdriver.findElement(By.id(&quot;area_code&quot;)).sendKeys(&quot;+420&quot;);\t\t\r\n    \t\tdriver.findElement(By.id(&quot;phonenumber_continue&quot;)).click();\r\n    \t\t\r\n    \t\tWebElement setBusinessHours = driver.findElement(By.id(&quot;setBusinessHours&quot;));\r\n    \t\tWebElement businesshoursCheck = setBusinessHours.findElement(By.tagName(&quot;input&quot;));\r\n    \t\t\r\n    \t\tJavascriptExecutor js = (JavascriptExecutor) driver;\r\n    \t    js.executeScript(&quot;arguments[0].click();&quot;, businesshoursCheck);\r\n    \r\n    \t\tWebElement timezone = driver.findElement(By.id(&quot;timezone&quot;));\r\n    \t\t\r\n    \t\tString tzText = timezone.getText();\r\n    \t\tSystem.out.println(&quot;All options text:&quot; + System.lineSeparator() + tzText);\r\n    \t\t\r\n    \t\tSelect select = new Select(timezone);\t\t\r\n    \t\tString selectedTzText = select.getFirstSelectedOption().getText();\r\n    \t\tSystem.out.println(&quot;Selected option text:&quot; + System.lineSeparator() + selectedTzText);\r\n    \r\n    \t\tdriver.quit();\r\n    \t}\r\n    \r\n    }\r\n\r\n**Output:**\r\n\r\n    Starting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 23727\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    [1682600077.367][WARNING]: This version of ChromeDriver has not been tested with Chrome version 112.\r\n    Dub 27, 2023 2:54:37 ODP. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    All options text:\r\n                              Please Select\r\n                              US/Hawaii\r\n                              America/Los Angeles\r\n                              America/Vancouver\r\n                              Canada/Pacific\r\n                              America/Chicago\r\n                              Canada/Central\r\n                              America/New York\r\n                              America/Montreal\r\n                              America/Toronto\r\n                              Canada/Eastern\r\n                              America/Phoenix\r\n                            \r\n    Selected option text:\r\n    Please Select","title":"Cannot locate text inside #shadow-root (user-agent)","body":"<p>I don't see any <code>#shadow-root</code> in the html source code.</p>\n<p>Extracting desired text using <code>element.getText()</code> is working just fine.</p>\n<p><strong>Code example:</strong></p>\n<pre><code>package tests;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.ui.Select;\n\nimport selenium.ChromeDriverSetup;\n\npublic class DhanushS extends ChromeDriverSetup {\n\n    public static void main(String[] args) {\n    \n        WebDriver driver = startChromeDriver();\n        driver.get(&quot;https://dash.bling-center.com/platform/home.html&quot;);\n        driver.findElement(By.id(&quot;email&quot;)).sendKeys(&quot;testuser2704@mailinator.com&quot;);\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;testuser2704&quot;);\n        driver.findElement(By.xpath(&quot;/html/body/div/div[2]/div/div/button/p&quot;)).click();\n        \n        driver.findElement(By.id(&quot;phone-tab&quot;)).click();\n        driver.findElement(By.id(&quot;phonenumber_1&quot;)).click();\n        driver.findElement(By.id(&quot;area_code&quot;)).sendKeys(&quot;+420&quot;);        \n        driver.findElement(By.id(&quot;phonenumber_continue&quot;)).click();\n        \n        WebElement setBusinessHours = driver.findElement(By.id(&quot;setBusinessHours&quot;));\n        WebElement businesshoursCheck = setBusinessHours.findElement(By.tagName(&quot;input&quot;));\n        \n        JavascriptExecutor js = (JavascriptExecutor) driver;\n        js.executeScript(&quot;arguments[0].click();&quot;, businesshoursCheck);\n\n        WebElement timezone = driver.findElement(By.id(&quot;timezone&quot;));\n        \n        String tzText = timezone.getText();\n        System.out.println(&quot;All options text:&quot; + System.lineSeparator() + tzText);\n        \n        Select select = new Select(timezone);       \n        String selectedTzText = select.getFirstSelectedOption().getText();\n        System.out.println(&quot;Selected option text:&quot; + System.lineSeparator() + selectedTzText);\n\n        driver.quit();\n    }\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Starting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 23727\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n[1682600077.367][WARNING]: This version of ChromeDriver has not been tested with Chrome version 112.\nDub 27, 2023 2:54:37 ODP. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nAll options text:\n                          Please Select\n                          US/Hawaii\n                          America/Los Angeles\n                          America/Vancouver\n                          Canada/Pacific\n                          America/Chicago\n                          Canada/Central\n                          America/New York\n                          America/Montreal\n                          America/Toronto\n                          Canada/Eastern\n                          America/Phoenix\n                        \nSelected option text:\nPlease Select\n</code></pre>\n"}],"owner":{"account_id":28264659,"reputation":1,"user_id":21608794,"display_name":"Dhanush S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682600236,"creation_date":1681829777,"question_id":76046116,"body_markdown":"- [Image of HTML](https://i.stack.imgur.com/4OYte.png)\r\n\r\n- [Image of the Website](https://i.stack.imgur.com/LtXBh.png)\r\n\r\nI&#39;m using Selenium - Java with testNG for automating webpage.\r\n\r\nAs you can see in the image of the website, there is a &#39;Timezone&#39; dropdown menu with &#39;Please Select&#39; as the default value. I want to locate the &#39;Please Select&#39; text which is present in the `&lt;div&gt; aria-hidden = &quot;true&quot; Please Select&lt;/div&gt;` line under `#shadow-root (user-agent)`.\r\n\r\nIf I try to locate the text - &#39;Please Select&#39; ,  I was unsuccessful.\r\n\r\n1. Getting `org.openqa.selenium.NoSuchShadowRootException: no such shadow root` exception when I tried the below method.\r\n\r\n```\r\nWebElement element = driver.findElement(By.id(&quot;timezone&quot;));\r\n        WebElement shadowRoot1 = (WebElement) ((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].shadowRoot&quot;, element);\r\n        String text = shadowRoot1.findElement(By.cssSelector(&quot;div&quot;)).getText();\r\n        System.out.println(text);\r\n```\r\n\r\n2\\. Also tried to locate the element using `getShadowRoot()` method but the same exception occurs again.\r\n\r\nAlso attaching the [debugging screenshot](https://i.stack.imgur.com/jV2NM.png)  for reference.","title":"Cannot locate text inside #shadow-root (user-agent)","body":"<ul>\n<li><p><a href=\"https://i.stack.imgur.com/4OYte.png\" rel=\"nofollow noreferrer\">Image of HTML</a></p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/LtXBh.png\" rel=\"nofollow noreferrer\">Image of the Website</a></p>\n</li>\n</ul>\n<p>I'm using Selenium - Java with testNG for automating webpage.</p>\n<p>As you can see in the image of the website, there is a 'Timezone' dropdown menu with 'Please Select' as the default value. I want to locate the 'Please Select' text which is present in the <code>&lt;div&gt; aria-hidden = &quot;true&quot; Please Select&lt;/div&gt;</code> line under <code>#shadow-root (user-agent)</code>.</p>\n<p>If I try to locate the text - 'Please Select' ,  I was unsuccessful.</p>\n<ol>\n<li>Getting <code>org.openqa.selenium.NoSuchShadowRootException: no such shadow root</code> exception when I tried the below method.</li>\n</ol>\n<pre><code>WebElement element = driver.findElement(By.id(&quot;timezone&quot;));\n        WebElement shadowRoot1 = (WebElement) ((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].shadowRoot&quot;, element);\n        String text = shadowRoot1.findElement(By.cssSelector(&quot;div&quot;)).getText();\n        System.out.println(text);\n</code></pre>\n<p>2. Also tried to locate the element using <code>getShadowRoot()</code> method but the same exception occurs again.</p>\n<p>Also attaching the <a href=\"https://i.stack.imgur.com/jV2NM.png\" rel=\"nofollow noreferrer\">debugging screenshot</a>  for reference.</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","api-key"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673395521,"creation_date":1673395521,"answer_id":75077099,"question_id":75068204,"body_markdown":"Use two `SecurityFilterChain` @Beans: one with resource-server configuration (OAuth2, secured with Bearer access-tokens) and an other one for API key. Don&#39;t forget to order the two and limit the first loaded one with `securityMatcher`.\r\n\r\nFor instance, with filter-chain dedicated to API-key (all routes starting with `/secured-with-api-key/`) and a default one secured with OAuth2 (all routes which didn&#39;t match previous filter-chains):\r\n```java\r\n\t@Order(Ordered.HIGHEST_PRECEDENCE)\r\n\t@Bean\r\n\tSecurityFilterChain apiKeyFilterChain(HttpSecurity http) {\r\n\t\thttp.securityMatcher(new AntPathRequestMatcher(&quot;/secured-with-api-key/**&quot;));\r\n\t\t// more API key security conf\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tSecurityFilterChain defaultFilterChain(HttpSecurity http) {\r\n\t\thttp.oauth2ResourceServer().jwt();\r\n\t\t// resource-server security conf\r\n\t\treturn http.build();\r\n\t}\r\n```","title":"Is there a way to use API key for some endpoint and use OAuth2 for other endpoint in Spring Boot?","body":"<p>Use two <code>SecurityFilterChain</code> @Beans: one with resource-server configuration (OAuth2, secured with Bearer access-tokens) and an other one for API key. Don't forget to order the two and limit the first loaded one with <code>securityMatcher</code>.</p>\n<p>For instance, with filter-chain dedicated to API-key (all routes starting with <code>/secured-with-api-key/</code>) and a default one secured with OAuth2 (all routes which didn't match previous filter-chains):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Order(Ordered.HIGHEST_PRECEDENCE)\n    @Bean\n    SecurityFilterChain apiKeyFilterChain(HttpSecurity http) {\n        http.securityMatcher(new AntPathRequestMatcher(&quot;/secured-with-api-key/**&quot;));\n        // more API key security conf\n        return http.build();\n    }\n\n    @Bean\n    SecurityFilterChain defaultFilterChain(HttpSecurity http) {\n        http.oauth2ResourceServer().jwt();\n        // resource-server security conf\n        return http.build();\n    }\n</code></pre>\n"}],"owner":{"account_id":14172283,"reputation":1,"user_id":10238538,"display_name":"John Lai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1039,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682600076,"answer_count":1,"score":0,"last_activity_date":1682600164,"creation_date":1673344441,"question_id":75068204,"body_markdown":"I need to secure some endpoint with Google OAuth2 and secure some other endpoint with an API key.\r\n\r\nBefore I add ApiKeyFilter to AuthConfig, it works as expected. However, when I add the filter, I found the `&quot;/secured-with-api-key/**&quot;` and `&quot;/non-secured/**&quot;` works as expected, but the `&quot;/secured/**&quot;` can be accessed even without the JWT token. \r\n\r\nThis is the ApiKeyAuthFilter:\r\n```java\r\npublic class ApiKeyAuthFilter extends AbstractPreAuthenticatedProcessingFilter {\r\nprivate static final Logger LOG = LoggerFactory.getLogger(ApiKeyAuthFilter.class);\r\n\r\n    private final String apiKeyHeaderName;\r\n    private final String timestampHeaderName;\r\n    private final String signatureHeaderName;\r\n    \r\n    public ApiKeyAuthFilter(String apiKeyHeaderName, String timestampHeaderName, String signatureHeaderName) {\r\n        this.apiKeyHeaderName = apiKeyHeaderName;\r\n        this.timestampHeaderName = timestampHeaderName;\r\n        this.signatureHeaderName = signatureHeaderName;\r\n    }\r\n    \r\n    @Override\r\n    protected Object getPreAuthenticatedPrincipal(HttpServletRequest request) {\r\n        String apiKey = request.getHeader(apiKeyHeaderName);\r\n        String timestamp = request.getHeader(timestampHeaderName);\r\n        String signature = request.getHeader(signatureHeaderName);\r\n        return new AuthPrincipal(apiKey, timestamp, signature);\r\n    }\r\n    \r\n    @Override\r\n    protected Object getPreAuthenticatedCredentials(HttpServletRequest request) {\r\n        // No creds when using API key\r\n        return null;\r\n    }\r\n```\r\n\r\nThis is the SimpleAuthenticationManager:\r\n```java\r\n@Component\r\npublic class SimpleAuthenticationManager implements AuthenticationManager {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(SimpleAuthenticationManager.class);\r\n\r\n    @Autowired\r\n    private ApiKeysDatabase apiKeysDatabase;\r\n\r\n    @Autowired\r\n    private TokenVerifier tokenVerifier;\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\r\n        AuthPrincipal principal = (AuthPrincipal) authentication.getPrincipal();\r\n        if (principal.getApikey() == null || principal.getTimestamp() == null || principal.getSignature() == null) {\r\n            throw new BadCredentialsException(&quot;The API_KEY/timestamp/signature Header is missing.&quot;);\r\n        }\r\n        if (!apiKeysDatabase.isValidKey(principal.getApikey())) {\r\n            throw new BadCredentialsException(&quot;The API key was not found or not the expected value.&quot;);\r\n        }\r\n        if (!tokenVerifier.isTokenAuthorized(principal)) {\r\n            throw new BadCredentialsException(&quot;The signature is invalid&quot;);\r\n        }\r\n        authentication.setAuthenticated(true);\r\n        return authentication;\r\n    }\r\n}\r\n```\r\n\r\nThis is the AuthConfig:\r\n```\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class AuthConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private static final String API_KEY_HEADER_NAME = &quot;API_KEY&quot;;\r\n    private static final String TIMESTAMP_HEADER_NAME = &quot;timestamp&quot;;\r\n    private static final String SIGNATURE_HEADER_NAME = &quot;signature&quot;;\r\n\r\n    @Autowired\r\n    private SimpleAuthenticationManager simpleAuthenticationManager;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        ApiKeyAuthFilter filter = new ApiKeyAuthFilter(API_KEY_HEADER_NAME, TIMESTAMP_HEADER_NAME, SIGNATURE_HEADER_NAME);\r\n        filter.setAuthenticationManager(simpleAuthenticationManager);\r\n\r\n        http.antMatcher(&quot;/secured/**&quot;)\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/secured/**&quot;)\r\n                .fullyAuthenticated();\r\n\r\n        http.antMatcher(&quot;/non-secured/**&quot;)\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/non-secured/**&quot;)\r\n                .permitAll();\r\n\r\n        http.antMatcher(&quot;/secured-with-api-key/**&quot;)\r\n                .addFilter(filter)\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/secured-with-api-key/**&quot;)\r\n                .authenticated();\r\n\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.cors().and().csrf().disable();\r\n\r\n        http.oauth2ResourceServer().jwt();\r\n    }\r\n}\r\n```\r\n\r\nI expected `&quot;/secured/**&quot;` needs JWT to access, `&quot;/secured-with-api-key/**&quot;` needs an API key to access and `&quot;/non-secured/**&quot;` can be accessed by anyone.","title":"Is there a way to use API key for some endpoint and use OAuth2 for other endpoint in Spring Boot?","body":"<p>I need to secure some endpoint with Google OAuth2 and secure some other endpoint with an API key.</p>\n<p>Before I add ApiKeyFilter to AuthConfig, it works as expected. However, when I add the filter, I found the <code>&quot;/secured-with-api-key/**&quot;</code> and <code>&quot;/non-secured/**&quot;</code> works as expected, but the <code>&quot;/secured/**&quot;</code> can be accessed even without the JWT token.</p>\n<p>This is the ApiKeyAuthFilter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ApiKeyAuthFilter extends AbstractPreAuthenticatedProcessingFilter {\nprivate static final Logger LOG = LoggerFactory.getLogger(ApiKeyAuthFilter.class);\n\n    private final String apiKeyHeaderName;\n    private final String timestampHeaderName;\n    private final String signatureHeaderName;\n    \n    public ApiKeyAuthFilter(String apiKeyHeaderName, String timestampHeaderName, String signatureHeaderName) {\n        this.apiKeyHeaderName = apiKeyHeaderName;\n        this.timestampHeaderName = timestampHeaderName;\n        this.signatureHeaderName = signatureHeaderName;\n    }\n    \n    @Override\n    protected Object getPreAuthenticatedPrincipal(HttpServletRequest request) {\n        String apiKey = request.getHeader(apiKeyHeaderName);\n        String timestamp = request.getHeader(timestampHeaderName);\n        String signature = request.getHeader(signatureHeaderName);\n        return new AuthPrincipal(apiKey, timestamp, signature);\n    }\n    \n    @Override\n    protected Object getPreAuthenticatedCredentials(HttpServletRequest request) {\n        // No creds when using API key\n        return null;\n    }\n</code></pre>\n<p>This is the SimpleAuthenticationManager:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SimpleAuthenticationManager implements AuthenticationManager {\n\n    private static final Logger LOG = LoggerFactory.getLogger(SimpleAuthenticationManager.class);\n\n    @Autowired\n    private ApiKeysDatabase apiKeysDatabase;\n\n    @Autowired\n    private TokenVerifier tokenVerifier;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n\n        AuthPrincipal principal = (AuthPrincipal) authentication.getPrincipal();\n        if (principal.getApikey() == null || principal.getTimestamp() == null || principal.getSignature() == null) {\n            throw new BadCredentialsException(&quot;The API_KEY/timestamp/signature Header is missing.&quot;);\n        }\n        if (!apiKeysDatabase.isValidKey(principal.getApikey())) {\n            throw new BadCredentialsException(&quot;The API key was not found or not the expected value.&quot;);\n        }\n        if (!tokenVerifier.isTokenAuthorized(principal)) {\n            throw new BadCredentialsException(&quot;The signature is invalid&quot;);\n        }\n        authentication.setAuthenticated(true);\n        return authentication;\n    }\n}\n</code></pre>\n<p>This is the AuthConfig:</p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class AuthConfig extends WebSecurityConfigurerAdapter {\n\n    private static final String API_KEY_HEADER_NAME = &quot;API_KEY&quot;;\n    private static final String TIMESTAMP_HEADER_NAME = &quot;timestamp&quot;;\n    private static final String SIGNATURE_HEADER_NAME = &quot;signature&quot;;\n\n    @Autowired\n    private SimpleAuthenticationManager simpleAuthenticationManager;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        ApiKeyAuthFilter filter = new ApiKeyAuthFilter(API_KEY_HEADER_NAME, TIMESTAMP_HEADER_NAME, SIGNATURE_HEADER_NAME);\n        filter.setAuthenticationManager(simpleAuthenticationManager);\n\n        http.antMatcher(&quot;/secured/**&quot;)\n                .authorizeRequests()\n                .antMatchers(&quot;/secured/**&quot;)\n                .fullyAuthenticated();\n\n        http.antMatcher(&quot;/non-secured/**&quot;)\n                .authorizeRequests()\n                .antMatchers(&quot;/non-secured/**&quot;)\n                .permitAll();\n\n        http.antMatcher(&quot;/secured-with-api-key/**&quot;)\n                .addFilter(filter)\n                .authorizeRequests()\n                .antMatchers(&quot;/secured-with-api-key/**&quot;)\n                .authenticated();\n\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.cors().and().csrf().disable();\n\n        http.oauth2ResourceServer().jwt();\n    }\n}\n</code></pre>\n<p>I expected <code>&quot;/secured/**&quot;</code> needs JWT to access, <code>&quot;/secured-with-api-key/**&quot;</code> needs an API key to access and <code>&quot;/non-secured/**&quot;</code> can be accessed by anyone.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":3385312,"reputation":89,"user_id":2841378,"display_name":"hectorob91"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682554419,"creation_date":1682554419,"answer_id":76115899,"question_id":76115854,"body_markdown":"maybe it is not necessary for the native query.\r\n\r\n        List&lt;String&gt; findByNameIgnoreCaseContaining(String firstName);\r\n\r\nAnd in your service, you can check with an if statement if the response is empty or different to null.","title":"Spring Data/JPA - How can I check if a record already exists by name?","body":"<p>maybe it is not necessary for the native query.</p>\n<pre><code>    List&lt;String&gt; findByNameIgnoreCaseContaining(String firstName);\n</code></pre>\n<p>And in your service, you can check with an if statement if the response is empty or different to null.</p>\n"},{"comments":[{"owner":{"account_id":1300282,"reputation":1845,"user_id":1250358,"accept_rate":40,"display_name":"Ben M"},"score":1,"creation_date":1690224540,"post_id":76115971,"comment_id":135320654,"body_markdown":"This should not be the accepted answer, as it&#39;s inaccurate. This functionality is available with Spring Data JPA as evidenced by Oliver Drotbohm&#39;s answer below and supporting documentation.","body":"This should not be the accepted answer, as it&#39;s inaccurate. This functionality is available with Spring Data JPA as evidenced by Oliver Drotbohm&#39;s answer below and supporting documentation."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1682555732,"creation_date":1682555732,"answer_id":76115971,"question_id":76115854,"body_markdown":"Boolean return type for an `EXISTS` style query is not supported by JPA.\r\n\r\nHowever, you can work around this by creating a `default` method that has the signature you want and that calls the JPA method.\r\n\r\n    default boolean existsByFirstname(String firstname) {\r\n        return !findByFirstname(firstname).isEmpty();\r\n    }\r\n        \r\n    @Query(nativeQuery= true, value=&quot;SELECT first_name FROM students WHERE first_name = :firstname&quot;)\r\n    List&lt;String&gt; findByFirstname(String firstname);\r\n","title":"Spring Data/JPA - How can I check if a record already exists by name?","body":"<p>Boolean return type for an <code>EXISTS</code> style query is not supported by JPA.</p>\n<p>However, you can work around this by creating a <code>default</code> method that has the signature you want and that calls the JPA method.</p>\n<pre><code>default boolean existsByFirstname(String firstname) {\n    return !findByFirstname(firstname).isEmpty();\n}\n    \n@Query(nativeQuery= true, value=&quot;SELECT first_name FROM students WHERE first_name = :firstname&quot;)\nList&lt;String&gt; findByFirstname(String firstname);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682600022,"creation_date":1682600022,"answer_id":76120670,"question_id":76115854,"body_markdown":"As described in the [reference documentation][1], you can use the `exists` keyword and declare a derived query:\r\n\r\n    boolean existsByFirstname(String firstname);\r\n\r\nThis will project on the identifiers and check whether at least one result is returned.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-keywords","title":"Spring Data/JPA - How can I check if a record already exists by name?","body":"<p>As described in the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-keywords\" rel=\"nofollow noreferrer\">reference documentation</a>, you can use the <code>exists</code> keyword and declare a derived query:</p>\n<pre><code>boolean existsByFirstname(String firstname);\n</code></pre>\n<p>This will project on the identifiers and check whether at least one result is returned.</p>\n"}],"owner":{"account_id":21477997,"reputation":51,"user_id":15825902,"display_name":"Djorkaeff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76115971,"answer_count":3,"score":1,"last_activity_date":1682600022,"creation_date":1682553737,"question_id":76115854,"body_markdown":"I have a question with Spring Data/JPA, I would like to know if there is any way to check if a name is already registered in the database with some function in the Repository with parameters.\r\n\r\nI have the idea of ​​using a boolean, but I don&#39;t know how to execute it correctly to get the expected result.\r\n```\r\n@Query(nativeQuery= true, value=&quot;SELECT first_name FROM students WHERE first_name = :firstname&quot;)\r\nboolean findByFirstname(String firstname);\r\n```\r\n","title":"Spring Data/JPA - How can I check if a record already exists by name?","body":"<p>I have a question with Spring Data/JPA, I would like to know if there is any way to check if a name is already registered in the database with some function in the Repository with parameters.</p>\n<p>I have the idea of ​​using a boolean, but I don't know how to execute it correctly to get the expected result.</p>\n<pre><code>@Query(nativeQuery= true, value=&quot;SELECT first_name FROM students WHERE first_name = :firstname&quot;)\nboolean findByFirstname(String firstname);\n</code></pre>\n"},{"tags":["java","database","spring-boot","spring-data-jpa","master-slave"],"owner":{"account_id":25915558,"reputation":1,"user_id":19639004,"display_name":"Himanshu Ranjan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682599910,"creation_date":1682591530,"question_id":76119398,"body_markdown":"I want to implement master slave DB artitechure in my spring boot application and I am just using 2 normal DB instances,Havent configured something at DB level,I have listed down my configuration and error below,Can someone help? Do something config needs to be done at db level as I am just testing.Please let me know.\r\n\r\nHeres my DataSourceConfig:\r\n\r\n\r\n    @Configuration\r\n    public class DataSourceConfig extends HikariConfig {\r\n    \r\n        @Value(&quot;${spring.entity.scan.packages}&quot;)\r\n        private String packageToScan;\r\n    \r\n        @Value(&quot;${spring.datasource.master.url}&quot;)\r\n        private String masterDbUrl;\r\n    \r\n        @Value(&quot;${spring.datasource.master.username}&quot;)\r\n        private String masterDbUserName;\r\n    \r\n        @Value(&quot;${spring.datasource.master.password}&quot;)\r\n        private String masterDbPassword;\r\n    \r\n        @Value(&quot;${master.database.maxconnection}&quot;)\r\n        private int masterDbMaxConnection;\r\n    \r\n        @Value(&quot;${spring.datasource.slave.url}&quot;)\r\n        private String slaveDbUrl;\r\n    \r\n        @Value(&quot;${spring.datasource.slave.username}&quot;)\r\n        private String slaveDbUserName;\r\n    \r\n        @Value(&quot;${spring.datasource.slave.password}&quot;)\r\n        private String slaveDbPassword;\r\n    \r\n        @Value(&quot;${master.database.maxconnection}&quot;)\r\n        private int slaveDbMaxConnection;\r\n    \r\n    \r\n    \r\n        @Primary\r\n        @Bean(name = &quot;masterDataSource&quot;)\r\n        public DataSource masterDataSource() {\r\n            HikariConfig masterConfig = new HikariConfig();\r\n            masterConfig.setPoolName(DataSourceConfig.class.getName()+&quot;_master&quot;);\r\n            System.out.println(masterDbUrl);\r\n            System.out.println(masterDbUserName);\r\n            System.out.println(masterDbPassword);\r\n            System.out.println(masterDbMaxConnection);\r\n            masterConfig.setJdbcUrl(masterDbUrl);\r\n            masterConfig.setUsername(masterDbUserName);\r\n            masterConfig.setPassword(masterDbPassword);\r\n            masterConfig.setMaximumPoolSize(masterDbMaxConnection);\r\n            return new HikariDataSource(masterConfig);\r\n        }\r\n    \r\n        @Bean(name = &quot;slaveDataSource&quot;)\r\n        public DataSource slaveDataSource() {\r\n            HikariConfig slaveConfig = new HikariConfig();\r\n            slaveConfig.setPoolName(DataSourceConfig.class.getName()+&quot;_slave&quot;);\r\n            System.out.println(slaveDbUrl);\r\n            System.out.println(slaveDbUserName);\r\n            System.out.println(slaveDbPassword);\r\n            System.out.println(slaveDbMaxConnection);\r\n            slaveConfig.setJdbcUrl(slaveDbUrl);\r\n            slaveConfig.setUsername(slaveDbUserName);\r\n            slaveConfig.setMaximumPoolSize(slaveDbMaxConnection);\r\n            slaveConfig.setPassword(slaveDbPassword);\r\n            return new HikariDataSource(slaveConfig);\r\n        }\r\n    \r\n        @Bean\r\n        public DataSource routingDataSource() {\r\n            Map&lt;Object, Object&gt; targetDataSources = new LinkedHashMap&lt;&gt;();\r\n            RoutingDataSourceConfiguration routingDataSourceConfiguration = new RoutingDataSourceConfiguration();\r\n            DataSource master = this.masterDataSource();\r\n            targetDataSources.put(DataSourceTypes.MASTER, master);\r\n            DataSource slave = this.slaveDataSource();\r\n            targetDataSources.put(DataSourceTypes.SLAVE, slave);\r\n            routingDataSourceConfiguration.setTargetDataSources(targetDataSources);\r\n            routingDataSourceConfiguration.setDefaultTargetDataSource(master);\r\n            return routingDataSourceConfiguration;\r\n        }\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            return new LazyConnectionDataSourceProxy(routingDataSource());\r\n        }\r\n    \r\n        @Bean\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n            factory.setDataSource(dataSource());\r\n            factory.setPackagesToScan(packageToScan);\r\n            JpaVendorAdapter vendor = new HibernateJpaVendorAdapter();\r\n            factory.setJpaVendorAdapter(vendor);\r\n    \r\n            Properties properties = new Properties();\r\n            properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5Dialect&quot;);\r\n            properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n            properties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n    \r\n            factory.setJpaProperties(properties);\r\n            return factory;\r\n        }\r\n    \r\n        @Bean\r\n        @Primary\r\n        public PlatformTransactionManager transactionManager\r\n                (EntityManagerFactory entityManagerFactory) {\r\n            JpaTransactionManager tm = new JpaTransactionManager();\r\n            tm.setEntityManagerFactory(entityManagerFactory);\r\n            return tm;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nHere&#39;s my RoutingDataSourceConfiguration:\r\n\r\n\r\n    public class RoutingDataSourceConfiguration extends AbstractRoutingDataSource {\r\n        @Override\r\n        protected Object determineCurrentLookupKey() {\r\n            boolean isReadOnly = TransactionSynchronizationManager.isCurrentTransactionReadOnly();\r\n            logger.info(isReadOnly);\r\n            if(isReadOnly) {\r\n                return DataSourceTypes.SLAVE;\r\n            } else {\r\n                return DataSourceTypes.MASTER;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHere&#39;s my application.properties:\r\n\r\n    database.db.name=db_delivery\r\n    spring.datasource.master.url=jdbc:mysql://171.46.7.224/${database.db.name}?useUnicode=yes&amp;characterEncoding=UTF-8\r\n    spring.datasource.master.username=user\r\n    spring.datasource.master.password=pass\r\n    spring.datasource.master.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    spring.datasource.slave.url=jdbc:mysql://171.43.7.214/${database.db.name}?useUnicode=yes&amp;characterEncoding=UTF-8\r\n    spring.datasource.slave.username=user\r\n    spring.datasource.slave.password=pass\r\n    spring.datasource.slave.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.datasource.maximum-pool-size=10\r\n    spring.jpa.properties.hibernate.jdbc.batch_size=30\r\n    master.database.maxconnection=100\r\n    spring.entity.scan.packages=com.project\r\n    \r\n    server.port=8080\r\n    \r\n    spring.security.user.name=System\r\n    spring.security.user.password=pass\r\n\r\nHere&#39;s my repo:\r\n\r\n    @Repository\r\n    public interface JobsCycleCountRepo extends JpaRepository&lt;JobsCycleCount,Long&gt;  {\r\n    \r\n      @Transactional(readOnly = true)\r\n      List&lt;WarehouseJobsCycleCount&gt; findAllByJobId(Long jobId);\r\n    }\r\n\r\nHere&#39;s my entity WarehouseJobsCycleCount:\r\n\r\n    @Entity\r\n    @Table(name = &quot;warehouse_jobs_cycle_count&quot;)\r\n    @Data\r\n    public class WarehouseJobsCycleCount {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;job_id&quot;)\r\n      private Long jobId;\r\n    \r\n      @Column(name = &quot;sku_id&quot;)\r\n      private String skuId;\r\n    \r\n      @Column(name = &quot;location_id&quot;)\r\n      private Long locationId;\r\n    \r\n      @Enumerated(EnumType.STRING)\r\n      private WarehouseJobCycleCountStatus status;\r\n    \r\n    }\r\n\r\nNow when I call this repo method via any service method through a controller,I get an error like this:\r\n\r\n    SQL Error: 1054, SQLState: 42S22\r\n    2023-04-27 14:53:40.919 ERROR 10375 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column &#39;warehousej0_.jobId&#39; in &#39;field list&#39;\r\n    2023-04-27 14:53:41.060 ERROR 10375 --- [nio-8080-exec-1] c.d.w.exceptions.ControllerAdvisor       : Custom Exception: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    2023-04-27 14:53:42.256  WARN 10375 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet]\r\n\r\nHow to solve this? I have been stuck on this since 2 days but nothing is working.","title":"master slave Database configuration not working spring boot","body":"<p>I want to implement master slave DB artitechure in my spring boot application and I am just using 2 normal DB instances,Havent configured something at DB level,I have listed down my configuration and error below,Can someone help? Do something config needs to be done at db level as I am just testing.Please let me know.</p>\n<p>Heres my DataSourceConfig:</p>\n<pre><code>@Configuration\npublic class DataSourceConfig extends HikariConfig {\n\n    @Value(&quot;${spring.entity.scan.packages}&quot;)\n    private String packageToScan;\n\n    @Value(&quot;${spring.datasource.master.url}&quot;)\n    private String masterDbUrl;\n\n    @Value(&quot;${spring.datasource.master.username}&quot;)\n    private String masterDbUserName;\n\n    @Value(&quot;${spring.datasource.master.password}&quot;)\n    private String masterDbPassword;\n\n    @Value(&quot;${master.database.maxconnection}&quot;)\n    private int masterDbMaxConnection;\n\n    @Value(&quot;${spring.datasource.slave.url}&quot;)\n    private String slaveDbUrl;\n\n    @Value(&quot;${spring.datasource.slave.username}&quot;)\n    private String slaveDbUserName;\n\n    @Value(&quot;${spring.datasource.slave.password}&quot;)\n    private String slaveDbPassword;\n\n    @Value(&quot;${master.database.maxconnection}&quot;)\n    private int slaveDbMaxConnection;\n\n\n\n    @Primary\n    @Bean(name = &quot;masterDataSource&quot;)\n    public DataSource masterDataSource() {\n        HikariConfig masterConfig = new HikariConfig();\n        masterConfig.setPoolName(DataSourceConfig.class.getName()+&quot;_master&quot;);\n        System.out.println(masterDbUrl);\n        System.out.println(masterDbUserName);\n        System.out.println(masterDbPassword);\n        System.out.println(masterDbMaxConnection);\n        masterConfig.setJdbcUrl(masterDbUrl);\n        masterConfig.setUsername(masterDbUserName);\n        masterConfig.setPassword(masterDbPassword);\n        masterConfig.setMaximumPoolSize(masterDbMaxConnection);\n        return new HikariDataSource(masterConfig);\n    }\n\n    @Bean(name = &quot;slaveDataSource&quot;)\n    public DataSource slaveDataSource() {\n        HikariConfig slaveConfig = new HikariConfig();\n        slaveConfig.setPoolName(DataSourceConfig.class.getName()+&quot;_slave&quot;);\n        System.out.println(slaveDbUrl);\n        System.out.println(slaveDbUserName);\n        System.out.println(slaveDbPassword);\n        System.out.println(slaveDbMaxConnection);\n        slaveConfig.setJdbcUrl(slaveDbUrl);\n        slaveConfig.setUsername(slaveDbUserName);\n        slaveConfig.setMaximumPoolSize(slaveDbMaxConnection);\n        slaveConfig.setPassword(slaveDbPassword);\n        return new HikariDataSource(slaveConfig);\n    }\n\n    @Bean\n    public DataSource routingDataSource() {\n        Map&lt;Object, Object&gt; targetDataSources = new LinkedHashMap&lt;&gt;();\n        RoutingDataSourceConfiguration routingDataSourceConfiguration = new RoutingDataSourceConfiguration();\n        DataSource master = this.masterDataSource();\n        targetDataSources.put(DataSourceTypes.MASTER, master);\n        DataSource slave = this.slaveDataSource();\n        targetDataSources.put(DataSourceTypes.SLAVE, slave);\n        routingDataSourceConfiguration.setTargetDataSources(targetDataSources);\n        routingDataSourceConfiguration.setDefaultTargetDataSource(master);\n        return routingDataSourceConfiguration;\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        return new LazyConnectionDataSourceProxy(routingDataSource());\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n        factory.setDataSource(dataSource());\n        factory.setPackagesToScan(packageToScan);\n        JpaVendorAdapter vendor = new HibernateJpaVendorAdapter();\n        factory.setJpaVendorAdapter(vendor);\n\n        Properties properties = new Properties();\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5Dialect&quot;);\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n        properties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\n\n        factory.setJpaProperties(properties);\n        return factory;\n    }\n\n    @Bean\n    @Primary\n    public PlatformTransactionManager transactionManager\n            (EntityManagerFactory entityManagerFactory) {\n        JpaTransactionManager tm = new JpaTransactionManager();\n        tm.setEntityManagerFactory(entityManagerFactory);\n        return tm;\n    }\n\n\n}\n</code></pre>\n<p>Here's my RoutingDataSourceConfiguration:</p>\n<pre><code>public class RoutingDataSourceConfiguration extends AbstractRoutingDataSource {\n    @Override\n    protected Object determineCurrentLookupKey() {\n        boolean isReadOnly = TransactionSynchronizationManager.isCurrentTransactionReadOnly();\n        logger.info(isReadOnly);\n        if(isReadOnly) {\n            return DataSourceTypes.SLAVE;\n        } else {\n            return DataSourceTypes.MASTER;\n        }\n    }\n}\n</code></pre>\n<p>Here's my application.properties:</p>\n<pre><code>database.db.name=db_delivery\nspring.datasource.master.url=jdbc:mysql://171.46.7.224/${database.db.name}?useUnicode=yes&amp;characterEncoding=UTF-8\nspring.datasource.master.username=user\nspring.datasource.master.password=pass\nspring.datasource.master.datasource.driverClassName=com.mysql.jdbc.Driver\nspring.datasource.slave.url=jdbc:mysql://171.43.7.214/${database.db.name}?useUnicode=yes&amp;characterEncoding=UTF-8\nspring.datasource.slave.username=user\nspring.datasource.slave.password=pass\nspring.datasource.slave.datasource.driverClassName=com.mysql.jdbc.Driver\nspring.jpa.hibernate.ddl-auto = update\nspring.datasource.maximum-pool-size=10\nspring.jpa.properties.hibernate.jdbc.batch_size=30\nmaster.database.maxconnection=100\nspring.entity.scan.packages=com.project\n\nserver.port=8080\n\nspring.security.user.name=System\nspring.security.user.password=pass\n</code></pre>\n<p>Here's my repo:</p>\n<pre><code>@Repository\npublic interface JobsCycleCountRepo extends JpaRepository&lt;JobsCycleCount,Long&gt;  {\n\n  @Transactional(readOnly = true)\n  List&lt;WarehouseJobsCycleCount&gt; findAllByJobId(Long jobId);\n}\n</code></pre>\n<p>Here's my entity WarehouseJobsCycleCount:</p>\n<pre><code>@Entity\n@Table(name = &quot;warehouse_jobs_cycle_count&quot;)\n@Data\npublic class WarehouseJobsCycleCount {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n\n  @Column(name = &quot;job_id&quot;)\n  private Long jobId;\n\n  @Column(name = &quot;sku_id&quot;)\n  private String skuId;\n\n  @Column(name = &quot;location_id&quot;)\n  private Long locationId;\n\n  @Enumerated(EnumType.STRING)\n  private WarehouseJobCycleCountStatus status;\n\n}\n</code></pre>\n<p>Now when I call this repo method via any service method through a controller,I get an error like this:</p>\n<pre><code>SQL Error: 1054, SQLState: 42S22\n2023-04-27 14:53:40.919 ERROR 10375 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'warehousej0_.jobId' in 'field list'\n2023-04-27 14:53:41.060 ERROR 10375 --- [nio-8080-exec-1] c.d.w.exceptions.ControllerAdvisor       : Custom Exception: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n2023-04-27 14:53:42.256  WARN 10375 --- [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet]\n</code></pre>\n<p>How to solve this? I have been stuck on this since 2 days but nothing is working.</p>\n"},{"tags":["java","spring-boot","oauth-2.0","jwt"],"answers":[{"comments":[{"owner":{"account_id":11791732,"reputation":322,"user_id":8627656,"accept_rate":80,"display_name":"IsharaD"},"score":0,"creation_date":1668609287,"post_id":74456524,"comment_id":131447315,"body_markdown":"Thank you for your reply. This finds really helpful. What if I want to implement my own authentication and authorization server (Instead of using 3rd party provider) apart from social media sign-in? In that case, how can I handle the scenario? Let me clear this up more\n\n1. My own authentication and authorization server  (No 3rd party provider)\n2. Social media sign in\n\nHow this is possible with a single spring Boot application?","body":"Thank you for your reply. This finds really helpful. What if I want to implement my own authentication and authorization server (Instead of using 3rd party provider) apart from social media sign-in? In that case, how can I handle the scenario? Let me clear this up more  1. My own authentication and authorization server  (No 3rd party provider) 2. Social media sign in  How this is possible with a single spring Boot application?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1668609971,"post_id":74456524,"comment_id":131447634,"body_markdown":"You use a framework like Spring authorization-server project and re-invent the wheels (social login, roles management screens, connection to LDAP, multi-factor authentication, etc.). This will be much more work than you can imagine (and incredibly much more than configuring a Keycloak instance)","body":"You use a framework like Spring authorization-server project and re-invent the wheels (social login, roles management screens, connection to LDAP, multi-factor authentication, etc.). This will be much more work than you can imagine (and incredibly much more than configuring a Keycloak instance)"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674068942,"creation_date":1668583037,"answer_id":74456524,"question_id":74439526,"body_markdown":"What you. describe about user management (user registration, login, logout) are standard features of OAuth2 / OpenID **authorization-servers**. You should pick one &quot;from the shelf&quot; either on premise (like Keycloak) or in the cloud (like Auth0, Amazon Cognito, and many others). Many solutions include &quot;social&quot; identities federation.\r\n\r\nREST APIs are **resource-servers**. See [those tutorials][1] for security configuration and tests with mocked identities.\r\n\r\nUIs are **clients**. You should use an OAuth2 client lib to handle OAuth2 flows. Find one for your framework Spring has one if your UI is generated on server with Thymeleaf or alike, but there are libs for Angular, React and other frameworks running in browsers. \r\n\r\nSpring OAuth2 client libs can also be used in BFF (backend for front-end) scenario when browser client **is not OAuth2** (it is secured with session, not access-token) and talks to an app on the server which is the OAuth2 client (`spring-cloud-gateway` is a sample but you could also write your own app with `spring-boot-starter-oauth2-client`). This app translates the request with session into into one with access-token before forwarding it to resource-server. The aim is to hide tokens from Javascript in the browser. \r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"Enable Spring JWT Authentication and OAuth2 Authentication on Spring Boot Application","body":"<p>What you. describe about user management (user registration, login, logout) are standard features of OAuth2 / OpenID <strong>authorization-servers</strong>. You should pick one &quot;from the shelf&quot; either on premise (like Keycloak) or in the cloud (like Auth0, Amazon Cognito, and many others). Many solutions include &quot;social&quot; identities federation.</p>\n<p>REST APIs are <strong>resource-servers</strong>. See <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">those tutorials</a> for security configuration and tests with mocked identities.</p>\n<p>UIs are <strong>clients</strong>. You should use an OAuth2 client lib to handle OAuth2 flows. Find one for your framework Spring has one if your UI is generated on server with Thymeleaf or alike, but there are libs for Angular, React and other frameworks running in browsers.</p>\n<p>Spring OAuth2 client libs can also be used in BFF (backend for front-end) scenario when browser client <strong>is not OAuth2</strong> (it is secured with session, not access-token) and talks to an app on the server which is the OAuth2 client (<code>spring-cloud-gateway</code> is a sample but you could also write your own app with <code>spring-boot-starter-oauth2-client</code>). This app translates the request with session into into one with access-token before forwarding it to resource-server. The aim is to hide tokens from Javascript in the browser.</p>\n"}],"owner":{"account_id":11791732,"reputation":322,"user_id":8627656,"accept_rate":80,"display_name":"IsharaD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1058,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74456524,"answer_count":1,"score":1,"last_activity_date":1682599808,"creation_date":1668473405,"question_id":74439526,"body_markdown":"I’m developing a spring boot application where users can register into the system by providing the necessary information. The platform should provide users to authenticate with their registered user credentials or social media login credentials (google/Facebook). \r\n\r\nFor simple user authentication, I want to create a simple post request to the server with the user name and password and after validating, the server returns a token. I do not want to use the spring security form login here.\r\n\r\n But for social media logic, I believe I have to go with oAuth.\r\n\r\nI’m new to spring Boot and spring security. Do I need to integrate both JWT authentication and OAuth authentication for this scenario? A suggestion would be highly appreciated","title":"Enable Spring JWT Authentication and OAuth2 Authentication on Spring Boot Application","body":"<p>I’m developing a spring boot application where users can register into the system by providing the necessary information. The platform should provide users to authenticate with their registered user credentials or social media login credentials (google/Facebook).</p>\n<p>For simple user authentication, I want to create a simple post request to the server with the user name and password and after validating, the server returns a token. I do not want to use the spring security form login here.</p>\n<p>But for social media logic, I believe I have to go with oAuth.</p>\n<p>I’m new to spring Boot and spring security. Do I need to integrate both JWT authentication and OAuth authentication for this scenario? A suggestion would be highly appreciated</p>\n"},{"tags":["java","android","flutter","mobile","flutter-dependencies"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1682600199,"post_id":76120611,"comment_id":134243602,"body_markdown":"Can you add some code please ? as per error it looks like you have made mistake for ```SettingsClient```  import statement","body":"Can you add some code please ? as per error it looks like you have made mistake for <code>SettingsClient</code>  import statement"},{"owner":{"account_id":28407480,"reputation":21,"user_id":21731300,"display_name":"CHANDAN KUMAR"},"score":0,"creation_date":1682601361,"post_id":76120611,"comment_id":134243977,"body_markdown":"I have updated my android sdk to latest version and after that I am facing this issue, as soon as I allow location permission, app crashes and when I deny permission it works fine.","body":"I have updated my android sdk to latest version and after that I am facing this issue, as soon as I allow location permission, app crashes and when I deny permission it works fine."},{"owner":{"account_id":6791647,"reputation":1274,"user_id":5228569,"accept_rate":67,"display_name":"Alex.Marynovskyi"},"score":0,"creation_date":1682601695,"post_id":76120611,"comment_id":134244062,"body_markdown":"Provide the code and check if geolocator plugin has newer version","body":"Provide the code and check if geolocator plugin has newer version"},{"owner":{"account_id":17432542,"reputation":158,"user_id":12636279,"display_name":"Goutham"},"score":0,"creation_date":1682611913,"post_id":76120611,"comment_id":134246721,"body_markdown":"Can you provide the code of your gradle libraries dependencies?","body":"Can you provide the code of your gradle libraries dependencies?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682622979,"post_id":76120611,"comment_id":134249217,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28407480,"reputation":21,"user_id":21731300,"display_name":"CHANDAN KUMAR"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682599749,"creation_date":1682599672,"question_id":76120611,"body_markdown":"    FATAL EXCEPTION: main &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; java.lang.IncompatibleClassChangeError: Found interface com.google.android.gms.location.SettingsClient, but class was expected (declaration of &#39;com.google.android.gms.location.SettingsClient&#39; appears in /data/app/~~HoTjggNHdM1UIyerWixvHg==/com.roadrunner.freight.haulnow.uat-F_nQfTK-B2W5wucbp4Mxig==/base.apk)\r\n    \r\n    com.transistorsoft.xms.g.location.SettingsClient.checkLocationSettings(Unknown Source:70)\r\n    \r\n    com.transistorsoft.locationmanager.activity.TSLocationManagerActivity.checkLocationSettings(Unknown Source:29)com.transistorsoft.locationmanager.activity.TSLocationManagerActivity.execute(Unknown Source:47)com.transistorsoft.locationmanager.activity.TSLocationManagerActivity.onCreate(Unknown Source:14)android.app.Activity.performCreate(Activity.java:8290)android.app.Activity.performCreate(Activity.java:8270)android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\r\n    \r\n    android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4009)\r\n    \r\n    android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4201)\r\n    \r\n    android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n    \r\n    android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n    \r\n    android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n    \r\n    android.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\r\n    \r\n    android.os.Handler.dispatchMessage(Handler.java:106)\r\n    \r\n    android.os.Looper.loopOnce(Looper.java:226)\r\n    \r\n    android.os.Looper.loop(Looper.java:313)\r\n    \r\n    android.app.ActivityThread.main(ActivityThread.java:8669)\r\n    \r\n    java.lang.reflect.Method.invoke(Native Method)\r\n    \r\n    com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n    \r\n    com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n\r\n\r\nI am using Location plugin and geolocator plugin but still It crashes\r\n","title":"My App is Crashing when I accept Location permission in Android","body":"<pre><code>FATAL EXCEPTION: main                                                           java.lang.IncompatibleClassChangeError: Found interface com.google.android.gms.location.SettingsClient, but class was expected (declaration of 'com.google.android.gms.location.SettingsClient' appears in /data/app/~~HoTjggNHdM1UIyerWixvHg==/com.roadrunner.freight.haulnow.uat-F_nQfTK-B2W5wucbp4Mxig==/base.apk)\n\ncom.transistorsoft.xms.g.location.SettingsClient.checkLocationSettings(Unknown Source:70)\n\ncom.transistorsoft.locationmanager.activity.TSLocationManagerActivity.checkLocationSettings(Unknown Source:29)com.transistorsoft.locationmanager.activity.TSLocationManagerActivity.execute(Unknown Source:47)com.transistorsoft.locationmanager.activity.TSLocationManagerActivity.onCreate(Unknown Source:14)android.app.Activity.performCreate(Activity.java:8290)android.app.Activity.performCreate(Activity.java:8270)android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\n\nandroid.app.ActivityThread.performLaunchActivity(ActivityThread.java:4009)\n\nandroid.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4201)\n\nandroid.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n\nandroid.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n\nandroid.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n\nandroid.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\n\nandroid.os.Handler.dispatchMessage(Handler.java:106)\n\nandroid.os.Looper.loopOnce(Looper.java:226)\n\nandroid.os.Looper.loop(Looper.java:313)\n\nandroid.app.ActivityThread.main(ActivityThread.java:8669)\n\njava.lang.reflect.Method.invoke(Native Method)\n\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n\ncom.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n</code></pre>\n<p>I am using Location plugin and geolocator plugin but still It crashes</p>\n"},{"tags":["java","xml","xsd","xsd-validation"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682599706,"post_id":76119780,"comment_id":134243480,"body_markdown":"What have you tried, and what are you stuck on? Given the root XSD uses `include`, it should work just as if the content of the other two XSDs are in the root XSD (i.e. as if there is only one XSD).","body":"What have you tried, and what are you stuck on? Given the root XSD uses <code>include</code>, it should work just as if the content of the other two XSDs are in the root XSD (i.e. as if there is only one XSD)."},{"owner":{"account_id":8865517,"reputation":17,"user_id":6620817,"display_name":"Kamalraj"},"score":0,"creation_date":1682601099,"post_id":76119780,"comment_id":134243888,"body_markdown":"@MarkRotteveel , I Have tried to Generate XML using Eclipse for above XSD. But while Generating, It Does not Create For two XSD which is in the  root XSD.","body":"@MarkRotteveel , I Have tried to Generate XML using Eclipse for above XSD. But while Generating, It Does not Create For two XSD which is in the  root XSD."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1682601448,"post_id":76119780,"comment_id":134243996,"body_markdown":"Then you need to edit your question and provide a [mre] that describes exactly what you do, what the results were and what you expected. Also, please don&#39;t randomly capitalize words. In English, you only capitalize the first letter of a sentence, &#39;I&#39; (first person singular), and the first letter of given names (including languages, names of months and days, etc). All other words should be lowercase.","body":"Then you need to edit your question and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that describes exactly what you do, what the results were and what you expected. Also, please don&#39;t randomly capitalize words. In English, you only capitalize the first letter of a sentence, &#39;I&#39; (first person singular), and the first letter of given names (including languages, names of months and days, etc). All other words should be lowercase."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1682602459,"post_id":76119780,"comment_id":134244242,"body_markdown":"Are you constrained to use Eclipse? There are many other tools that attempt to generate XML from XSD.","body":"Are you constrained to use Eclipse? There are many other tools that attempt to generate XML from XSD."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1682610929,"post_id":76119780,"comment_id":134246478,"body_markdown":"Generate an XML instance with XMLBeans: https://stackoverflow.com/questions/50106696/create-xml-file-according-to-xsd-schema/50106837#50106837","body":"Generate an XML instance with XMLBeans: <a href=\"https://stackoverflow.com/questions/50106696/create-xml-file-according-to-xsd-schema/50106837#50106837\" title=\"create xml file according to xsd schema\">stackoverflow.com/questions/50106696/&hellip;</a>"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1682613354,"post_id":76119780,"comment_id":134247087,"body_markdown":"The includes in the schema should allow multiple schemas to be combined.  An well formed Xml has only one root element.  If you have two different xml you need to have another schema which has two possible child items.","body":"The includes in the schema should allow multiple schemas to be combined.  An well formed Xml has only one root element.  If you have two different xml you need to have another schema which has two possible child items."},{"owner":{"account_id":8865517,"reputation":17,"user_id":6620817,"display_name":"Kamalraj"},"score":0,"creation_date":1682618314,"post_id":76119780,"comment_id":134248299,"body_markdown":"@MichaelKay could you please suggest me some other tool for this","body":"@MichaelKay could you please suggest me some other tool for this"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1682624262,"post_id":76119780,"comment_id":134249436,"body_markdown":"I&#39;ve come across several (e.g. the one in Oxygen), but I don&#39;t know whether they provide the feature you require.","body":"I&#39;ve come across several (e.g. the one in Oxygen), but I don&#39;t know whether they provide the feature you require."}],"owner":{"account_id":8865517,"reputation":17,"user_id":6620817,"display_name":"Kamalraj"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682599599,"creation_date":1682594487,"question_id":76119780,"body_markdown":"I need to create an XML file from an XSD file, but its schema is present in multiple XSDs. I have tried to create using Eclipse IDE.\r\n\r\nTo generate XML for CREATEE_ABC_REQ, two other schemas are present in ABC-Messaging.xsd and EX-Bulk-Types.xsd.\r\n\r\nBelow is the CREATEE_ABC_REQ.XSD which is the root XSD.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;  xmlns=&quot;http://abc.def.com/service/SOMEService&quot; targetNamespace=&quot;http://abc.def.com/service/SOMEService&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n   &lt;xs:include schemaLocation=&quot;ABC-Messaging.xsd&quot;/&gt;\r\n   &lt;xs:include schemaLocation=&quot;EX-Bulk-Types.xsd&quot;/&gt;\r\n   &lt;xs:element name=&quot;CREATEE_ABC_REQ&quot;&gt;\r\n      &lt;xs:complexType&gt;\r\n         &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;HEADER&quot; type=&quot;HEADERType&quot;/&gt;\r\n            &lt;xs:element name=&quot;BODY&quot;&gt;\r\n               &lt;xs:complexType&gt;\r\n                  &lt;xs:sequence&gt;\r\n                     &lt;xs:element name=&quot;ABC-Master-Full&quot; type=&quot;abcblk-Full-Type&quot;/&gt;\r\n                  &lt;/xs:sequence&gt;\r\n               &lt;/xs:complexType&gt;\r\n            &lt;/xs:element&gt;\r\n         &lt;/xs:sequence&gt;\r\n      &lt;/xs:complexType&gt;\r\n   &lt;/xs:element&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nBelow is ABC-Messaging.xsd \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;xs:schema attributeFormDefault=&quot;unqualified&quot; elementFormDefault=&quot;qualified&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n\t&lt;xs:complexType name=&quot;HEADERType&quot;&gt;\r\n\t\t&lt;xs:sequence&gt;\r\n\t\t\t&lt;xs:element name=&quot;SOURCE&quot; type=&quot;SOURCEType&quot; /&gt;\r\n\t\t\t&lt;xs:element name=&quot;OPERATION&quot; type=&quot;OperationType&quot; /&gt;\r\n\t\t&lt;/xs:sequence&gt;\r\n\t&lt;/xs:complexType&gt;\r\n\t&lt;xs:simpleType name=&quot;SOURCEType&quot;&gt;\r\n\t\t&lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n\t\t\t&lt;xs:pattern value=&quot;[a-zA-Z_0-9]*&quot; /&gt;\r\n\t\t&lt;/xs:restriction&gt;\r\n\t&lt;/xs:simpleType&gt;\r\n\t&lt;xs:simpleType name=&quot;OperationType&quot;&gt;\r\n\t\t&lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n\t\t\t&lt;xs:pattern value=&quot;[a-zA-Z_0-9]*&quot; /&gt;\r\n\t\t&lt;/xs:restriction&gt;\r\n\t&lt;/xs:simpleType&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nBelow is EX-Bulk-Types.xsd\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n   &lt;xs:annotation&gt;\r\n      &lt;xs:documentation xml:lang=&quot;en&quot;&gt;\r\n      &lt;/xs:documentation&gt;\r\n   &lt;/xs:annotation&gt;\r\n\r\n   &lt;xs:complexType name=&quot;abcblk-Full-Type&quot;&gt;\r\n      &lt;xs:sequence&gt;\r\n         &lt;xs:element name=&quot;SAMPLE&quot; minOccurs=&quot;0&quot;&gt;\r\n            &lt;xs:simpleType&gt;\r\n               &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n                  &lt;xs:maxLength value=&quot;35&quot;/&gt;\r\n               &lt;/xs:restriction&gt;\r\n            &lt;/xs:simpleType&gt;\r\n         &lt;/xs:element&gt;\r\n         &lt;xs:element name=&quot;SAMPLE2&quot; minOccurs=&quot;0&quot;&gt;\r\n            &lt;xs:simpleType&gt;\r\n               &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n                  &lt;xs:maxLength value=&quot;35&quot;/&gt;\r\n               &lt;/xs:restriction&gt;\r\n            &lt;/xs:simpleType&gt;\r\n         &lt;/xs:element&gt;\r\n      &lt;/xs:sequence&gt;\r\n   &lt;/xs:complexType&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nHow do I generate XML for this?\r\n\r\n\r\n","title":"How to create XML from XSD where schema is in multiple XSDs","body":"<p>I need to create an XML file from an XSD file, but its schema is present in multiple XSDs. I have tried to create using Eclipse IDE.</p>\n<p>To generate XML for CREATEE_ABC_REQ, two other schemas are present in ABC-Messaging.xsd and EX-Bulk-Types.xsd.</p>\n<p>Below is the CREATEE_ABC_REQ.XSD which is the root XSD.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;  xmlns=&quot;http://abc.def.com/service/SOMEService&quot; targetNamespace=&quot;http://abc.def.com/service/SOMEService&quot; elementFormDefault=&quot;qualified&quot;&gt;\n   &lt;xs:include schemaLocation=&quot;ABC-Messaging.xsd&quot;/&gt;\n   &lt;xs:include schemaLocation=&quot;EX-Bulk-Types.xsd&quot;/&gt;\n   &lt;xs:element name=&quot;CREATEE_ABC_REQ&quot;&gt;\n      &lt;xs:complexType&gt;\n         &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;HEADER&quot; type=&quot;HEADERType&quot;/&gt;\n            &lt;xs:element name=&quot;BODY&quot;&gt;\n               &lt;xs:complexType&gt;\n                  &lt;xs:sequence&gt;\n                     &lt;xs:element name=&quot;ABC-Master-Full&quot; type=&quot;abcblk-Full-Type&quot;/&gt;\n                  &lt;/xs:sequence&gt;\n               &lt;/xs:complexType&gt;\n            &lt;/xs:element&gt;\n         &lt;/xs:sequence&gt;\n      &lt;/xs:complexType&gt;\n   &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>Below is ABC-Messaging.xsd</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;xs:schema attributeFormDefault=&quot;unqualified&quot; elementFormDefault=&quot;qualified&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;xs:complexType name=&quot;HEADERType&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;SOURCE&quot; type=&quot;SOURCEType&quot; /&gt;\n            &lt;xs:element name=&quot;OPERATION&quot; type=&quot;OperationType&quot; /&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:simpleType name=&quot;SOURCEType&quot;&gt;\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n            &lt;xs:pattern value=&quot;[a-zA-Z_0-9]*&quot; /&gt;\n        &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n    &lt;xs:simpleType name=&quot;OperationType&quot;&gt;\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n            &lt;xs:pattern value=&quot;[a-zA-Z_0-9]*&quot; /&gt;\n        &lt;/xs:restriction&gt;\n    &lt;/xs:simpleType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>Below is EX-Bulk-Types.xsd</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot;&gt;\n   &lt;xs:annotation&gt;\n      &lt;xs:documentation xml:lang=&quot;en&quot;&gt;\n      &lt;/xs:documentation&gt;\n   &lt;/xs:annotation&gt;\n\n   &lt;xs:complexType name=&quot;abcblk-Full-Type&quot;&gt;\n      &lt;xs:sequence&gt;\n         &lt;xs:element name=&quot;SAMPLE&quot; minOccurs=&quot;0&quot;&gt;\n            &lt;xs:simpleType&gt;\n               &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n                  &lt;xs:maxLength value=&quot;35&quot;/&gt;\n               &lt;/xs:restriction&gt;\n            &lt;/xs:simpleType&gt;\n         &lt;/xs:element&gt;\n         &lt;xs:element name=&quot;SAMPLE2&quot; minOccurs=&quot;0&quot;&gt;\n            &lt;xs:simpleType&gt;\n               &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n                  &lt;xs:maxLength value=&quot;35&quot;/&gt;\n               &lt;/xs:restriction&gt;\n            &lt;/xs:simpleType&gt;\n         &lt;/xs:element&gt;\n      &lt;/xs:sequence&gt;\n   &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>How do I generate XML for this?</p>\n"},{"tags":["java","swing","jtextarea","jcomponent","preferredsize"],"comments":[{"owner":{"account_id":1020179,"reputation":484,"user_id":1030745,"display_name":"Kaydell"},"score":0,"creation_date":1379097986,"post_id":18767367,"comment_id":27712335,"body_markdown":"Laying out Components in Swing is hard.  People are tempted to do setLayout(null); and then do a setBounds() for each component, but this can be difficult and is not recommended.  Then you can try using the various LayoutManager classes provided by Swing, this can make layouts somewhat automatic, but it can be hard to figure out how to get it all to work.  Nowadays, it helps that the Java API is open-source so you can look at the actual code for laying out Components, but Swing is complex and can be hard to understand even with the source-code.","body":"Laying out Components in Swing is hard.  People are tempted to do setLayout(null); and then do a setBounds() for each component, but this can be difficult and is not recommended.  Then you can try using the various LayoutManager classes provided by Swing, this can make layouts somewhat automatic, but it can be hard to figure out how to get it all to work.  Nowadays, it helps that the Java API is open-source so you can look at the actual code for laying out Components, but Swing is complex and can be hard to understand even with the source-code."},{"owner":{"account_id":1020179,"reputation":484,"user_id":1030745,"display_name":"Kaydell"},"score":0,"creation_date":1379098094,"post_id":18767367,"comment_id":27712383,"body_markdown":"What you may want to consider using is a GUI editor to layout your components with a GUI interface instead of writing your own code.  Then, you can drag-and-drop your components into place.  NetBeans has a GUI editor built-in and Eclipse has several different GUI editors whihch are plugins.  (Just a thought.)  I&#39;m looking at them.","body":"What you may want to consider using is a GUI editor to layout your components with a GUI interface instead of writing your own code.  Then, you can drag-and-drop your components into place.  NetBeans has a GUI editor built-in and Eclipse has several different GUI editors whihch are plugins.  (Just a thought.)  I&#39;m looking at them."},{"owner":{"account_id":1936529,"reputation":1132,"user_id":1743867,"display_name":"seal"},"score":0,"creation_date":1379691112,"post_id":18767367,"comment_id":27934097,"body_markdown":"actually that was a laboratory assignment for basic GUI. so i wrote raw code. @Kaydell","body":"actually that was a laboratory assignment for basic GUI. so i wrote raw code. @Kaydell"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1682606998,"post_id":18767367,"comment_id":134245466,"body_markdown":"You set the dimensions of a `JTextArea` by specifying the number of rows and columns to display.  One of the `JTextArea` constructors allows you to do this easily.","body":"You set the dimensions of a <code>JTextArea</code> by specifying the number of rows and columns to display.  One of the <code>JTextArea</code> constructors allows you to do this easily."}],"answers":[{"tags":[],"owner":{"account_id":2234629,"reputation":2522,"user_id":1971372,"display_name":"Ben Dale"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1378997145,"creation_date":1378997145,"answer_id":18767444,"question_id":18767367,"body_markdown":"setPreferredSize won&#39;t always work, plus, it&#39;s strongly advised that you use the built in layout managers to deal with any sizing issues.\r\n\r\nTry and set the columns and rows on the text area:\r\n\r\n    new JTextArea(5, 10);","title":"Size of Text Area in java","body":"<p>setPreferredSize won't always work, plus, it's strongly advised that you use the built in layout managers to deal with any sizing issues.</p>\n\n<p>Try and set the columns and rows on the text area:</p>\n\n<pre><code>new JTextArea(5, 10);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2863864,"reputation":1699,"user_id":2458544,"display_name":"Enigma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1378997695,"creation_date":1378997695,"answer_id":18767664,"question_id":18767367,"body_markdown":"PreferredSize is what it say what it is: a preferred size.\r\nThe border layout determines the actual size (taking the preferred size into considerations).\r\n\r\nSee: http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html\r\n\r\nConsider other layouts to get your desired size.\r\nE.G. flowLayout: http://docs.oracle.com/javase/tutorial/uiswing/layout/flow.html","title":"Size of Text Area in java","body":"<p>PreferredSize is what it say what it is: a preferred size.\nThe border layout determines the actual size (taking the preferred size into considerations).</p>\n\n<p>See: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html</a></p>\n\n<p>Consider other layouts to get your desired size.\nE.G. flowLayout: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/flow.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/layout/flow.html</a></p>\n"}],"owner":{"account_id":1936529,"reputation":1132,"user_id":1743867,"display_name":"seal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34985,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":18767444,"answer_count":2,"score":5,"last_activity_date":1682599570,"creation_date":1378996948,"question_id":18767367,"body_markdown":"I am writing a code for basic GUI. There i need a Text Area. But i can not make the Text Area in my desirable size. i use `setPreferredSize` method to set the dimension of the Text Area. But it did not work. I also tried `setSize` method but did not work also. Here is my written code. \r\n\r\n     private void textArea() {\r\n\t\tsetTitle(&quot;TextArea&quot;);\r\n\t\tsetSize(700, 500);\r\n\t\tsetLayout(new BorderLayout());\r\n\t\t\r\n\t\t\r\n\t\tJTextArea textArea = new JTextArea();\r\n\t\t\r\n\t\ttextArea.setPreferredSize(new Dimension(100,100));\r\n\t\tSystem.out.println(textArea.getSize());\r\n\r\n\t\ttextArea.setBackground(Color.GREEN);\r\n\t\ttextArea.setLineWrap(true);\r\n\t\ttextArea.setWrapStyleWord(false);\r\n\t\t\r\n\t\t\r\n\t\tadd(textArea,BorderLayout.CENTER);\r\n\t}","title":"Size of Text Area in java","body":"<p>I am writing a code for basic GUI. There i need a Text Area. But i can not make the Text Area in my desirable size. i use <code>setPreferredSize</code> method to set the dimension of the Text Area. But it did not work. I also tried <code>setSize</code> method but did not work also. Here is my written code. </p>\n\n<pre><code> private void textArea() {\n    setTitle(\"TextArea\");\n    setSize(700, 500);\n    setLayout(new BorderLayout());\n\n\n    JTextArea textArea = new JTextArea();\n\n    textArea.setPreferredSize(new Dimension(100,100));\n    System.out.println(textArea.getSize());\n\n    textArea.setBackground(Color.GREEN);\n    textArea.setLineWrap(true);\n    textArea.setWrapStyleWord(false);\n\n\n    add(textArea,BorderLayout.CENTER);\n}\n</code></pre>\n"},{"tags":["java","spring"],"owner":{"account_id":2286889,"reputation":1,"user_id":17151430,"display_name":"user2010686"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682599433,"creation_date":1682599433,"question_id":76120576,"body_markdown":"I have the following controller\r\n\r\n    @RestController\r\n    @RequestMapping({&quot;oldoperation&quot;, &quot;newoperation&quot;})\r\n    @Api(description = &quot;Operations&quot;, tags = {&quot;operation-controller&quot;})\r\n    public class OperationController {\r\n\r\nWith this setup, every method I have inside the controller, automatically appears under both paths. For example:\r\n\r\n    @GetMapping(path = &quot;{id}&quot;)\r\n    public String getSomething() {\r\n      // implementation\r\n    }\r\n\r\nwill work with both paths:\r\n\r\n 1. oldoperation/getSomething/{id}\r\n 2. newoperation/getSomething/{id}\r\n\r\n\r\nIs there a way while maintaining both path names (&quot;oldoperation&quot;, &quot;newoperation&quot;), to deprecate the &quot;oldoperation&quot; one? Meaning, either overlining it on swagger-ui or adding a description for its deprecation. And without adding each method 2 times, one for each path name.\r\n\r\nThank you","title":"Deprecate a specific controller path name, when having more that one path names","body":"<p>I have the following controller</p>\n<pre><code>@RestController\n@RequestMapping({&quot;oldoperation&quot;, &quot;newoperation&quot;})\n@Api(description = &quot;Operations&quot;, tags = {&quot;operation-controller&quot;})\npublic class OperationController {\n</code></pre>\n<p>With this setup, every method I have inside the controller, automatically appears under both paths. For example:</p>\n<pre><code>@GetMapping(path = &quot;{id}&quot;)\npublic String getSomething() {\n  // implementation\n}\n</code></pre>\n<p>will work with both paths:</p>\n<ol>\n<li>oldoperation/getSomething/{id}</li>\n<li>newoperation/getSomething/{id}</li>\n</ol>\n<p>Is there a way while maintaining both path names (&quot;oldoperation&quot;, &quot;newoperation&quot;), to deprecate the &quot;oldoperation&quot; one? Meaning, either overlining it on swagger-ui or adding a description for its deprecation. And without adding each method 2 times, one for each path name.</p>\n<p>Thank you</p>\n"},{"tags":["java","collections","iteration"],"comments":[{"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"score":1,"creation_date":1375030128,"post_id":17910476,"comment_id":26163829,"body_markdown":"Insertion order doesn&#39;t matter. The only thing that matters is fast iteration of all elements (say 6000 elements).","body":"Insertion order doesn&#39;t matter. The only thing that matters is fast iteration of all elements (say 6000 elements)."},{"owner":{"account_id":2982857,"reputation":693,"user_id":2532464,"accept_rate":42,"display_name":"Marconius"},"score":1,"creation_date":1375030804,"post_id":17910476,"comment_id":26164010,"body_markdown":"Consider editing your post instead of adding a comment to it, that&#39;s easy to miss.","body":"Consider editing your post instead of adding a comment to it, that&#39;s easy to miss."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1375030938,"post_id":17910476,"comment_id":26164050,"body_markdown":"Please post your [profile](http://stackoverflow.com/q/2064427/230513) results.","body":"Please post your <a href=\"http://stackoverflow.com/q/2064427/230513\">profile</a> results."},{"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"score":0,"creation_date":1375032237,"post_id":17910476,"comment_id":26164414,"body_markdown":"@trashgod: I couldn&#39;t get your point. Please clarify it.","body":"@trashgod: I couldn&#39;t get your point. Please clarify it."}],"answers":[{"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":5,"creation_date":1375032954,"post_id":17910498,"comment_id":26164569,"body_markdown":"The story is not that simple. You should add the following quote from the HashMap Javadoc: &quot;Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings). Thus, it&#39;s very important not to set the initial capacity too high (or the load factor too low) if iteration performance is important.&quot;","body":"The story is not that simple. You should add the following quote from the HashMap Javadoc: &quot;Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings). Thus, it&#39;s very important not to set the initial capacity too high (or the load factor too low) if iteration performance is important.&quot;"},{"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"score":0,"creation_date":1375033199,"post_id":17910498,"comment_id":26164626,"body_markdown":"@MarkoTopolnik This Last line that you have posted from javadoc is what making me to give it a thought to reconsider my decision to use `HashMap` blindly.!! What is your suggestion on this scenario?","body":"@MarkoTopolnik This Last line that you have posted from javadoc is what making me to give it a thought to reconsider my decision to use <code>HashMap</code> blindly.!! What is your suggestion on this scenario?"}],"tags":[],"owner":{"account_id":2048321,"reputation":17928,"user_id":1827903,"accept_rate":84,"display_name":"Zim-Zam O&#39;Pootertoot"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1507228503,"creation_date":1375030156,"answer_id":17910498,"question_id":17910476,"body_markdown":"`HashMap` will generally be fastest, since it has the best cache behavior (`HashMap` iterates directly over the backing array, whereas `TreeMap` and `LinkedHashMap` iterate over linked data structures).\r\n\r\nYou may want to use an [ImmutableMap](https://google.github.io/guava/releases/23.0/api/docs/com/google/common/collect/ImmutableMap.html) or [UnmodifiableMap](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/map/UnmodifiableMap.html) if the map isn&#39;t going to change once it&#39;s initialized","title":"HashMap or TreeMap or LinkedHashMap which one is fastest to iterate over?","body":"<p><code>HashMap</code> will generally be fastest, since it has the best cache behavior (<code>HashMap</code> iterates directly over the backing array, whereas <code>TreeMap</code> and <code>LinkedHashMap</code> iterate over linked data structures).</p>\n\n<p>You may want to use an <a href=\"https://google.github.io/guava/releases/23.0/api/docs/com/google/common/collect/ImmutableMap.html\" rel=\"noreferrer\">ImmutableMap</a> or <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/map/UnmodifiableMap.html\" rel=\"noreferrer\">UnmodifiableMap</a> if the map isn't going to change once it's initialized</p>\n"},{"comments":[{"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"score":0,"creation_date":1375032204,"post_id":17910518,"comment_id":26164402,"body_markdown":"Does it mean that `Iterator` obtained for set obtained by `entrySet()` method of `Hashmap` will be faster than that of `TreeMap`? I know that `insertion` and `searching` in `Hashmap` is faster than `Treemap` but I want to know the performance of `Iterator` for both of them","body":"Does it mean that <code>Iterator</code> obtained for set obtained by <code>entrySet()</code> method of <code>Hashmap</code> will be faster than that of <code>TreeMap</code>? I know that <code>insertion</code> and <code>searching</code> in <code>Hashmap</code> is faster than <code>Treemap</code> but I want to know the performance of <code>Iterator</code> for both of them"},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1375032337,"post_id":17910518,"comment_id":26164440,"body_markdown":"@Mac No, it means that traversing a map will be faster if using the set returned by `entrySet()`. A different matter is the fact that traversing a `HashMap` might be faster than traversing a `TreeMap`","body":"@Mac No, it means that traversing a map will be faster if using the set returned by <code>entrySet()</code>. A different matter is the fact that traversing a <code>HashMap</code> might be faster than traversing a <code>TreeMap</code>"},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1375032509,"post_id":17910518,"comment_id":26164481,"body_markdown":"The `Iterator` obtained from the `entrySet()` of a `HashMap` might be faster, because the way it&#39;s implemented internally.","body":"The <code>Iterator</code> obtained from the <code>entrySet()</code> of a <code>HashMap</code> might be faster, because the way it&#39;s implemented internally."},{"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"score":0,"creation_date":1375032614,"post_id":17910518,"comment_id":26164503,"body_markdown":"You have used *might be*. But , Can I be assured that `HashMap` performance will be faster ?","body":"You have used <i>might be</i>. But , Can I be assured that <code>HashMap</code> performance will be faster ?"},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":1,"creation_date":1375032673,"post_id":17910518,"comment_id":26164511,"body_markdown":"You should run a profiler and see for yourself, it&#39;s the only way to be sure. I&#39;m estimating the relative speeds based on my knowledge of the internals of the classes, but many factors come into play - don&#39;t take my word for it, perform some measurements.","body":"You should run a profiler and see for yourself, it&#39;s the only way to be sure. I&#39;m estimating the relative speeds based on my knowledge of the internals of the classes, but many factors come into play - don&#39;t take my word for it, perform some measurements."}],"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375030626,"creation_date":1375030298,"answer_id":17910518,"question_id":17910476,"body_markdown":"I agree with Zim-Zam&#39;s answer, and add something: if you need to access both the _keys_ and the _values_ during the iteration, the fastest way is using the [`entrySet()`](http://docs.oracle.com/javase/7/docs/api/java/util/Map.html#entrySet()) method, as discussed [here](https://stackoverflow.com/a/1066603/201359).\r\n\r\nNow, if you&#39;re sure that the map is never going to change, why not use a separate data structure for iteration? for example: iterate once over the finished map and fill with its contents a couple of arrays, one with the keys and the other with the values, in the same corresponding positions. Then traversing those arrays will be as fast as it can get.","title":"HashMap or TreeMap or LinkedHashMap which one is fastest to iterate over?","body":"<p>I agree with Zim-Zam's answer, and add something: if you need to access both the <em>keys</em> and the <em>values</em> during the iteration, the fastest way is using the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.html#entrySet()\" rel=\"nofollow noreferrer\"><code>entrySet()</code></a> method, as discussed <a href=\"https://stackoverflow.com/a/1066603/201359\">here</a>.</p>\n\n<p>Now, if you're sure that the map is never going to change, why not use a separate data structure for iteration? for example: iterate once over the finished map and fill with its contents a couple of arrays, one with the keys and the other with the values, in the same corresponding positions. Then traversing those arrays will be as fast as it can get.</p>\n"},{"comments":[{"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"score":0,"creation_date":1375030733,"post_id":17910529,"comment_id":26163983,"body_markdown":"How can I convert `HashMap` into `ArrayList`? How an `Arraylist` is going to store the `key-value` pairs of an `Hashmap`?","body":"How can I convert <code>HashMap</code> into <code>ArrayList</code>? How an <code>Arraylist</code> is going to store the <code>key-value</code> pairs of an <code>Hashmap</code>?"},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1375030796,"post_id":17910529,"comment_id":26164005,"body_markdown":"@Mac traverse the `entrySet()` of the `Map` and copy the keys into a array of keys and the values into an array of values, as suggested in my answer.","body":"@Mac traverse the <code>entrySet()</code> of the <code>Map</code> and copy the keys into a array of keys and the values into an array of values, as suggested in my answer."},{"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"score":0,"creation_date":1375030844,"post_id":17910529,"comment_id":26164019,"body_markdown":"@Mac - easy. create a class to hold both your key and value, then create an ArrayList of that class ...","body":"@Mac - easy. create a class to hold both your key and value, then create an ArrayList of that class ..."},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1375031400,"post_id":17910529,"comment_id":26164193,"body_markdown":"@radai that class already exists, it&#39;s the `Map.Entry` used internally in a `Map`","body":"@radai that class already exists, it&#39;s the <code>Map.Entry</code> used internally in a <code>Map</code>"},{"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"score":1,"creation_date":1375032236,"post_id":17910529,"comment_id":26164412,"body_markdown":"@&#211;scarL&#243;pez - using Map.Entry in any context that isnt a Map (like if he switches from map to list) is just plain ugly.","body":"@&#211;scarL&#243;pez - using Map.Entry in any context that isnt a Map (like if he switches from map to list) is just plain ugly."},{"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"score":0,"creation_date":1375033258,"post_id":17910529,"comment_id":26164636,"body_markdown":"@radai But that would lead to the creation of 6000 extra objects in memory!! Which I think is not appreciative..","body":"@radai But that would lead to the creation of 6000 extra objects in memory!! Which I think is not appreciative.."},{"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"score":0,"creation_date":1375034270,"post_id":17910529,"comment_id":26164937,"body_markdown":"@Mac - not if you get rid of the map it wont.","body":"@Mac - not if you get rid of the map it wont."}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1375030401,"creation_date":1375030401,"answer_id":17910529,"question_id":17910476,"body_markdown":"If your map is used only to iterate over elements and the speed of iteration is important, then convert the map into an ArrayList and iterate over it, this will be the fastest way.","title":"HashMap or TreeMap or LinkedHashMap which one is fastest to iterate over?","body":"<p>If your map is used only to iterate over elements and the speed of iteration is important, then convert the map into an ArrayList and iterate over it, this will be the fastest way.</p>\n"},{"comments":[{"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"score":0,"creation_date":1375033598,"post_id":17910993,"comment_id":26164733,"body_markdown":"In my case I am storing an `ID` which is integer as key and an `object` of some user defined data type as the value. So, I don&#39;t think that I can use a single array for this purpose as the data type for `key` and `value` is different.","body":"In my case I am storing an <code>ID</code> which is integer as key and an <code>object</code> of some user defined data type as the value. So, I don&#39;t think that I can use a single array for this purpose as the data type for <code>key</code> and <code>value</code> is different."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1375034083,"post_id":17910993,"comment_id":26164869,"body_markdown":"If you don&#39;t know the value type, then there&#39;s little you can do but optimize the access to the key and value references. It *may* pay off to have a separate primitive `int[]` for the keys and another one for the values. If you really want the last inch of performance, you&#39;ll have to benchmark these alternatives.","body":"If you don&#39;t know the value type, then there&#39;s little you can do but optimize the access to the key and value references. It <i>may</i> pay off to have a separate primitive <code>int[]</code> for the keys and another one for the values. If you really want the last inch of performance, you&#39;ll have to benchmark these alternatives."},{"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"score":0,"creation_date":1375034448,"post_id":17910993,"comment_id":26164982,"body_markdown":"Thanks for the different and innovative alternative.I would surely love to give it a try. But some doubt of mine is still not cleared about the Iteration power of these three `Map`s :( . I know the `value` type as I have myself designed that class whose object is going to become the `value` of map. Which of the three `Maps` will have fastest iteration in my case is still not clearly hardwired in my mind :(","body":"Thanks for the different and innovative alternative.I would surely love to give it a try. But some doubt of mine is still not cleared about the Iteration power of these three <code>Map</code>s :( . I know the <code>value</code> type as I have myself designed that class whose object is going to become the <code>value</code> of map. Which of the three <code>Maps</code> will have fastest iteration in my case is still not clearly hardwired in my mind :("},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1375034840,"post_id":17910993,"comment_id":26165107,"body_markdown":"Nobody can give the ultimate answer: you must benchmark it. And when you do, use a microbenchmark tool like Google Caliper or Oracle `jmh`. Otherwise you will almost certainly obtain inappropriate results. Yes, performance is a tough subject and requires a great amount of knowledge, experience, and intuition. There&#39;s just no royal path to it.","body":"Nobody can give the ultimate answer: you must benchmark it. And when you do, use a microbenchmark tool like Google Caliper or Oracle <code>jmh</code>. Otherwise you will almost certainly obtain inappropriate results. Yes, performance is a tough subject and requires a great amount of knowledge, experience, and intuition. There&#39;s just no royal path to it."},{"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"score":0,"creation_date":1375035735,"post_id":17910993,"comment_id":26165367,"body_markdown":"Thanks. I am for now considering your approach and would go through those microbenchmark (I don&#39;t know how to use it . So any citation from you or any link would be much helpful).","body":"Thanks. I am for now considering your approach and would go through those microbenchmark (I don&#39;t know how to use it . So any citation from you or any link would be much helpful)."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1375036095,"post_id":17910993,"comment_id":26165482,"body_markdown":"It&#39;s easy: just google for Google Caliper. [This will be the first link](https://code.google.com/p/caliper). Similar for [OpenJDK jmh](http://openjdk.java.net/projects/code-tools/jmh). Both are Maven dependencies which you just add to your project and follow a few simple steps. Caliper is slightly easier to use","body":"It&#39;s easy: just google for Google Caliper. <a href=\"https://code.google.com/p/caliper\" rel=\"nofollow noreferrer\">This will be the first link</a>. Similar for <a href=\"http://openjdk.java.net/projects/code-tools/jmh\" rel=\"nofollow noreferrer\">OpenJDK jmh</a>. Both are Maven dependencies which you just add to your project and follow a few simple steps. Caliper is slightly easier to use"},{"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"score":0,"creation_date":1375036269,"post_id":17910993,"comment_id":26165533,"body_markdown":"And regarding the CPU cache by `Iterator`. By this do you want to convey that Iterator internally caches the `key-value` pairs in CPU registers before iterating it? Or, I got it wrong?","body":"And regarding the CPU cache by <code>Iterator</code>. By this do you want to convey that Iterator internally caches the <code>key-value</code> pairs in CPU registers before iterating it? Or, I got it wrong?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1375036404,"post_id":17910993,"comment_id":26165575,"body_markdown":"I wouldn&#39;t bother with an Iterator at all, there&#39;s just no need for that. The point is that as you iterate, you access successive RAM addresses instead of sprinkling your requests all over. All CPU cache architechures are optimized with the assumption that the next access will be just ahead of the current access.","body":"I wouldn&#39;t bother with an Iterator at all, there&#39;s just no need for that. The point is that as you iterate, you access successive RAM addresses instead of sprinkling your requests all over. All CPU cache architechures are optimized with the assumption that the next access will be just ahead of the current access."},{"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"score":0,"creation_date":1404603548,"post_id":17910993,"comment_id":38098207,"body_markdown":"can you please put some light on this question http://stackoverflow.com/q/24591338/2536255","body":"can you please put some light on this question <a href=\"http://stackoverflow.com/q/24591338/2536255\">stackoverflow.com/q/24591338/2536255</a>"}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":9,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1682599327,"creation_date":1375033431,"answer_id":17910993,"question_id":17910476,"body_markdown":"None of the other answers here take into consideration the effects of the CPU cache, which can be huge when iteration is concerned.\r\n\r\nOne way to improve this is to use just a single array of interleaved keys and values (keys at even indices, values at odd ones). This will tightly group together these data items and maximally leverage the cache, at least for the references.\r\n\r\nBut the true, screaming improvement would be achieved if you could avoid creating objects which hold your data and use just arrays of primitive values. This is, naturally, highly dependent on your use case.","title":"HashMap or TreeMap or LinkedHashMap which one is fastest to iterate over?","body":"<p>None of the other answers here take into consideration the effects of the CPU cache, which can be huge when iteration is concerned.</p>\n<p>One way to improve this is to use just a single array of interleaved keys and values (keys at even indices, values at odd ones). This will tightly group together these data items and maximally leverage the cache, at least for the references.</p>\n<p>But the true, screaming improvement would be achieved if you could avoid creating objects which hold your data and use just arrays of primitive values. This is, naturally, highly dependent on your use case.</p>\n"},{"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1375034956,"post_id":17911197,"comment_id":26165146,"body_markdown":"Array iteration is certainly much faster due to a very, very much denser packing of the elements.","body":"Array iteration is certainly much faster due to a very, very much denser packing of the elements."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1375035101,"post_id":17911197,"comment_id":26165184,"body_markdown":"Good point Marko - so if an observed speedup can be optained from an `ArrayList` then use that but you will be taking more memory. A `LinkedList` will add minimal memory overhead.","body":"Good point Marko - so if an observed speedup can be optained from an <code>ArrayList</code> then use that but you will be taking more memory. A <code>LinkedList</code> will add minimal memory overhead."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1375035220,"post_id":17911197,"comment_id":26165217,"body_markdown":"No, a `LinkedList` is actually the most wasteful: it allocates a full object for each list node. An `ArrayList` just has an array and, naturally, you can tailor its size just right if you are converting from an existing map. But my suggestion would be a plain array instead of an `ArrayList`. For a fixed list you really don&#39;t gain anything from `ArrayList`.","body":"No, a <code>LinkedList</code> is actually the most wasteful: it allocates a full object for each list node. An <code>ArrayList</code> just has an array and, naturally, you can tailor its size just right if you are converting from an existing map. But my suggestion would be a plain array instead of an <code>ArrayList</code>. For a fixed list you really don&#39;t gain anything from <code>ArrayList</code>."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":1,"creation_date":1375035331,"post_id":17911197,"comment_id":26165248,"body_markdown":"@MarkoTopolnik - You are right - I realized that just after I posted. I&#39;ll change my post. Sometimes I still think in C.","body":"@MarkoTopolnik - You are right - I realized that just after I posted. I&#39;ll change my post. Sometimes I still think in C."}],"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1375035415,"creation_date":1375034735,"answer_id":17911197,"question_id":17910476,"body_markdown":"I wouldn&#39;t use the map. If all you want is to iterate through the entries make a new `ArrayList` of what you need and use that - you cannot get faster than an `ArrayList` for iteration.\r\n\r\n    // Which map you use only chooses the order of the list.\r\n    Map&lt;Key,Value&gt; map = new HashMap&lt;&gt;();\r\n    // The list to iterate for maximum speed.\r\n    List&lt;Map.Entry&lt;Key,Value&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\r\n\r\nThis way you iterate across the entry set just once to build the list. From then on you are iterating across the list again and again - which certainly should be close to optimal.\r\n\r\n**Note** Changed from `LinkedList` to `ArrayList` on Marko&#39;s suggestion.","title":"HashMap or TreeMap or LinkedHashMap which one is fastest to iterate over?","body":"<p>I wouldn't use the map. If all you want is to iterate through the entries make a new <code>ArrayList</code> of what you need and use that - you cannot get faster than an <code>ArrayList</code> for iteration.</p>\n\n<pre><code>// Which map you use only chooses the order of the list.\nMap&lt;Key,Value&gt; map = new HashMap&lt;&gt;();\n// The list to iterate for maximum speed.\nList&lt;Map.Entry&lt;Key,Value&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\n</code></pre>\n\n<p>This way you iterate across the entry set just once to build the list. From then on you are iterating across the list again and again - which certainly should be close to optimal.</p>\n\n<p><strong>Note</strong> Changed from <code>LinkedList</code> to <code>ArrayList</code> on Marko's suggestion.</p>\n"},{"tags":[],"owner":{"account_id":8082832,"reputation":1,"user_id":6091346,"display_name":"hamom1968"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1493767874,"creation_date":1465862742,"answer_id":37800987,"question_id":17910476,"body_markdown":"The Map.forEach(BiConsumer) is almost always faster than Iterators, sometimes by a large margin. If you were summing the values for example:\r\n\r\n    public class TestForStackOverflow {\r\n        int sum = 0;\r\n        \r\n        // Or whatever Map you are using\r\n        Map&lt;Object, Integer&gt; map = new HashMap();\r\n    \r\n        static class C implements BiConsumer&lt;Object, Integer&gt; {\r\n            int sum = 0;\r\n    \r\n            @Override\r\n            public void accept(Object k, Integer v) {\r\n                sum += v;\r\n            }\r\n        }\r\n    \r\n        public int getSum(Map map) {\r\n            C c = new C();\r\n            map.forEach(c);\r\n            return c.sum;\r\n        }\r\n    \r\n        public int getSum2(Map map) {\r\n            map.forEach((k, v) -&gt; sum += v);\r\n            return sum;\r\n        }\r\n    }\r\n\r\n","title":"HashMap or TreeMap or LinkedHashMap which one is fastest to iterate over?","body":"<p>The Map.forEach(BiConsumer) is almost always faster than Iterators, sometimes by a large margin. If you were summing the values for example:</p>\n\n<pre><code>public class TestForStackOverflow {\n    int sum = 0;\n\n    // Or whatever Map you are using\n    Map&lt;Object, Integer&gt; map = new HashMap();\n\n    static class C implements BiConsumer&lt;Object, Integer&gt; {\n        int sum = 0;\n\n        @Override\n        public void accept(Object k, Integer v) {\n            sum += v;\n        }\n    }\n\n    public int getSum(Map map) {\n        C c = new C();\n        map.forEach(c);\n        return c.sum;\n    }\n\n    public int getSum2(Map map) {\n        map.forEach((k, v) -&gt; sum += v);\n        return sum;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12573434,"reputation":85,"user_id":9146732,"display_name":"jippiee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553626493,"creation_date":1553626493,"answer_id":55364426,"question_id":17910476,"body_markdown":"As of Java 10 you can use one of the `Map.of()` overloaded methods or `Map.copyOf()` to create an [unmodifiable Map][1]. As the map returned by these methods doesn&#39;t support putting any new entries into the map, the existing keys/values are stored in an interleaving pattern as described in [this answer][2]. This should offer the best performance for your use case.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Map.html#unmodifiable\r\n  [2]: https://stackoverflow.com/a/17910993/9146732","title":"HashMap or TreeMap or LinkedHashMap which one is fastest to iterate over?","body":"<p>As of Java 10 you can use one of the <code>Map.of()</code> overloaded methods or <code>Map.copyOf()</code> to create an <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Map.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable Map</a>. As the map returned by these methods doesn't support putting any new entries into the map, the existing keys/values are stored in an interleaving pattern as described in <a href=\"https://stackoverflow.com/a/17910993/9146732\">this answer</a>. This should offer the best performance for your use case.</p>\n"}],"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30535,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":17910993,"answer_count":7,"score":20,"last_activity_date":1682599327,"creation_date":1375029946,"question_id":17910476,"body_markdown":"I have a `Map` which is filled up during the start up of application. It doesn&#39;t change later during the execution of application. Later this map is only used to iterate all the elements in it. Which concrete implementation of `Map` should I choose? `HashMap` or `TreeMap` or `LinkedHashMap` ?&lt;br&gt;\r\n**UPDATE**&lt;br&gt;\r\nInsertion order doesn&#39;t matter. The only thing that matters is fast iteration of all elements (say 6000 elements).","title":"HashMap or TreeMap or LinkedHashMap which one is fastest to iterate over?","body":"<p>I have a <code>Map</code> which is filled up during the start up of application. It doesn't change later during the execution of application. Later this map is only used to iterate all the elements in it. Which concrete implementation of <code>Map</code> should I choose? <code>HashMap</code> or <code>TreeMap</code> or <code>LinkedHashMap</code> ?<br>\n<strong>UPDATE</strong><br>\nInsertion order doesn't matter. The only thing that matters is fast iteration of all elements (say 6000 elements).</p>\n"},{"tags":["java","testing","automated-tests"],"owner":{"account_id":19717593,"reputation":43,"user_id":14436702,"display_name":"B. Kerem Kurt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682599252,"creation_date":1682598763,"question_id":76120477,"body_markdown":"I my case, I need to run parallel tests. I am using the hooks called @BeforeSuite and @AfterSuite. Both parallel executions must give one @BeforeSuite and one @AfterSuite result. However, I am getting results up to the number of parallel runs. How can I solve this problem?","title":"How to run @Beforesuite and @Aftersuite once for parallel execution","body":"<p>I my case, I need to run parallel tests. I am using the hooks called @BeforeSuite and @AfterSuite. Both parallel executions must give one @BeforeSuite and one @AfterSuite result. However, I am getting results up to the number of parallel runs. How can I solve this problem?</p>\n"},{"tags":["java","spring","spring-security"],"owner":{"account_id":15152869,"reputation":183,"user_id":10934684,"display_name":"Luigi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682599138,"creation_date":1682599138,"question_id":76120537,"body_markdown":"In my application, I needed to extend the DelegatingFilterProxy class to override the doFilter() method.\r\n\r\n    public class ExtendsDelegatingFilterProxy extends DelegatingFilterProxy {\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain \r\n        filterChain) throws ServletException, IOException {\r\n    \r\n            // my code\r\n        }\r\n    }\r\n\r\nIn the &quot;my code&quot; section, I need a property, which I try to read from a file via a @Configuration class. \r\n\r\n    @Configuration\r\n    public class NameClass {\r\n    \t@Value(&quot;${my.property}&quot;)\r\n    \tprivate String myProperty;\r\n\r\n        public String getMyProperty() {\r\n           return myProperty;\r\n        }\r\n    }\r\n\r\nIn the .properties file there is the property\r\n\r\n    my.property=https://localhost/example\r\n\r\nI should point out that both the .properties file and the @Configuration class are used pervasively throughout the application and all properties are read correctly. Only the class inherited from DelegatingFilterProxy fails to read it. I assume this is due to the order in which things are set by Spring. Is there any way to solve it?\r\n","title":"How to pass a property to DelegatingFilterProxy?","body":"<p>In my application, I needed to extend the DelegatingFilterProxy class to override the doFilter() method.</p>\n<pre><code>public class ExtendsDelegatingFilterProxy extends DelegatingFilterProxy {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain \n    filterChain) throws ServletException, IOException {\n\n        // my code\n    }\n}\n</code></pre>\n<p>In the &quot;my code&quot; section, I need a property, which I try to read from a file via a @Configuration class.</p>\n<pre><code>@Configuration\npublic class NameClass {\n    @Value(&quot;${my.property}&quot;)\n    private String myProperty;\n\n    public String getMyProperty() {\n       return myProperty;\n    }\n}\n</code></pre>\n<p>In the .properties file there is the property</p>\n<pre><code>my.property=https://localhost/example\n</code></pre>\n<p>I should point out that both the .properties file and the @Configuration class are used pervasively throughout the application and all properties are read correctly. Only the class inherited from DelegatingFilterProxy fails to read it. I assume this is due to the order in which things are set by Spring. Is there any way to solve it?</p>\n"},{"tags":["java","postgresql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":1353857,"reputation":2637,"user_id":1292663,"accept_rate":98,"display_name":"Stepan Parunashvili"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682599038,"creation_date":1682599038,"answer_id":76120520,"question_id":76074375,"body_markdown":"As far as I understand, the `PGReplicationStream`&#39;s `.read` does not respond to an InterruptedException.\r\n\r\nYou can either use `.readPending`, or the `thread interruptor` will need to be smarter, and close the stream before interrupting the thread.\r\n","title":"Safely stopping PGReplicationStream","body":"<p>As far as I understand, the <code>PGReplicationStream</code>'s <code>.read</code> does not respond to an InterruptedException.</p>\n<p>You can either use <code>.readPending</code>, or the <code>thread interruptor</code> will need to be smarter, and close the stream before interrupting the thread.</p>\n"}],"owner":{"account_id":1353857,"reputation":2637,"user_id":1292663,"accept_rate":98,"display_name":"Stepan Parunashvili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76120520,"answer_count":1,"score":0,"last_activity_date":1682599038,"creation_date":1682089129,"question_id":76074375,"body_markdown":"this is more of a java concurrency question then a PG question. \r\n\r\nI have a worker that reads a PGReplication stream. \r\n\r\n```\r\n    while (true) {\r\n      ByteBuffer msg = stream.read();\r\n      // ...\r\n    }\r\n```\r\n\r\nI want to be able to let callers stop this worker. I thought what I could do was to return the `stream`, and let a caller call &quot;close&quot;. \r\n\r\n```\r\n// someone calls\r\nstream.close()\r\n// worker stops\r\n```\r\n\r\nThis would work, but then the worker would throw an error. I don&#39;t really think I would be able to differentiate here though between a legitimate error (something happened and stream closed), vs intended behavior (caller wanted to unsubscribe).\r\n\r\nHow could I achieve this behavior? \r\n\r\nI could for example keep my own `stopped` boolean, and use `readPending` instead of `read`. Here I would have to do my own loop, and poll every 10ms or so. In that case, what would be the tradeoff for performance with `read` vs `readPending`?\r\n\r\n","title":"Safely stopping PGReplicationStream","body":"<p>this is more of a java concurrency question then a PG question.</p>\n<p>I have a worker that reads a PGReplication stream.</p>\n<pre><code>    while (true) {\n      ByteBuffer msg = stream.read();\n      // ...\n    }\n</code></pre>\n<p>I want to be able to let callers stop this worker. I thought what I could do was to return the <code>stream</code>, and let a caller call &quot;close&quot;.</p>\n<pre><code>// someone calls\nstream.close()\n// worker stops\n</code></pre>\n<p>This would work, but then the worker would throw an error. I don't really think I would be able to differentiate here though between a legitimate error (something happened and stream closed), vs intended behavior (caller wanted to unsubscribe).</p>\n<p>How could I achieve this behavior?</p>\n<p>I could for example keep my own <code>stopped</code> boolean, and use <code>readPending</code> instead of <code>read</code>. Here I would have to do my own loop, and poll every 10ms or so. In that case, what would be the tradeoff for performance with <code>read</code> vs <code>readPending</code>?</p>\n"},{"tags":["python","java","selenium-webdriver","selenium-chromedriver","robotframework"],"comments":[{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1682599819,"post_id":76120365,"comment_id":134243504,"body_markdown":"As per the DOM, the `&lt;button&gt;` which contains the `&lt;i class=&quot;shared-icon icon_sign_in&quot;&gt;` has `id` attribute. You can use the `ID`  or CSS selector `#sign-in` of that button tag to click on that arrow button.","body":"As per the DOM, the <code>&lt;button&gt;</code> which contains the <code>&lt;i class=&quot;shared-icon icon_sign_in&quot;&gt;</code> has <code>id</code> attribute. You can use the <code>ID</code>  or CSS selector <code>#sign-in</code> of that button tag to click on that arrow button."},{"owner":{"account_id":24349255,"reputation":1,"user_id":18285323,"display_name":"kahirrao"},"score":0,"creation_date":1682606182,"post_id":76120365,"comment_id":134245240,"body_markdown":"I have tried below xapth but no xpath is working                          1)//button[@id=&#39;sign-in&#39;]                                                              \n 2)//div[@class=&#39;signin fade-in&#39;]/div/button/i                                \n 3)//i[@class=&#39;shared-icon icon_sign_in&#39;]                                      \n 4)//button[@id=&#39;sign-in&#39;]/i                                                                                   \n 5)press keys      None      ENTER     but for all getting element not interactable","body":"I have tried below xapth but no xpath is working                          1)//button[@id=&#39;sign-in&#39;]                                                                2)//div[@class=&#39;signin fade-in&#39;]/div/button/i                                  3)//i[@class=&#39;shared-icon icon_sign_in&#39;]                                        4)//button[@id=&#39;sign-in&#39;]/i                                                                                     5)press keys      None      ENTER     but for all getting element not interactable"},{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1682613002,"post_id":76120365,"comment_id":134246994,"body_markdown":"Have tried the same in Python - [Python Code](https://pastebin.com/sdBJUTux). It has worked for me. it does click on the arrow button and move to password field.","body":"Have tried the same in Python - <a href=\"https://pastebin.com/sdBJUTux\" rel=\"nofollow noreferrer\">Python Code</a>. It has worked for me. it does click on the arrow button and move to password field."},{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1682613311,"post_id":76120365,"comment_id":134247075,"body_markdown":"Also tried with Xpath - `//button[@id=&#39;sign-in&#39;]`, and its working.","body":"Also tried with Xpath - <code>&#47;&#47;button[@id=&#39;sign-in&#39;]</code>, and its working."}],"owner":{"account_id":24349255,"reputation":1,"user_id":18285323,"display_name":"kahirrao"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682598229,"creation_date":1682598162,"question_id":76120365,"body_markdown":"    Documentation      Login Test in fragment mode with appleid\r\n    Library    SeleniumLibrary\r\n    Library    OperatingSystem\r\n    \r\n    \r\n    *** Variables ***\r\n    ${email}    https://account.booking.com/sign-in?\r\n    ${chrome}    chrome\r\n    \r\n    *** Test Cases ***\r\n    login_test_with_appleid_chrome\r\n       Open booking.com on chrome browser\r\n          open browser    ${email}     ${chrome}\r\n          maximize browser window\r\n          sleep    10\r\n    \r\n       Click on sign in with appleid\r\n         click element     xpath://a[@title=&#39;Sign in with Apple&#39;]\r\n         sleep   5\r\n         ${handle} =\tSwitch Window\tNEW\t# Select latest opened window\r\n         sleep    5\r\n    \r\n    Enter username and click on Continue with email\r\n         input text    xpath://input[@id=&#39;account_name_text_field&#39;]     abc\r\n    \r\n    #     click element    xpath://div[@id=&#39;sign_in_form&#39;]\r\n    #     sleep    1\r\n    #     click element    xpath://button[@id=&#39;sign-in&#39;]\r\n    #     sleep    1\r\n         click element     xpath://i[@class=&#39;shared-icon icon_sign_in&#39;]\r\n         sleep    3\r\n\r\nWhen I am clicking on sing-in arrow it is giving me Element not interactable exception. I have tried press Keys as well but still getting same issue\r\n\r\nCan any one help me with actual xpath of the element\r\n\r\n**Error Code**\r\n\r\n    ElementClickInterceptedException: Message: element click intercepted: Element\r\n    &lt;i class=&quot;shared-icon icon_sign_in&quot; data-isla81n27wdid=&quot;289&quot;&gt;&lt;/i&gt; is not clickable at point (431, 284)\r\n    . Other element would receive the click: &lt;input type=&quot;text&quot; id=&quot;account_name_text_field&quot; can-field=&quot;accountName&quot; autocomplete=&quot;off&quot; autocorrect=&quot;off&quot; autocapitalize=&quot;off&quot; aria-requ\r\n       ired=&quot;true&quot; required=&quot;required&quot; spellcheck=&quot;false&quot; class=&quot;force-ltr form-textbox form-textbox-text  form-textbox-entered &quot; aria-invalid=&quot;false&quot; autofocus=&quot;&quot; data-isla81n27wdid=&quot;240\r\n       &quot; data-focus-method=&quot;key&quot;&gt;","title":"Getting Element not interactable exception","body":"<pre><code>Documentation      Login Test in fragment mode with appleid\nLibrary    SeleniumLibrary\nLibrary    OperatingSystem\n\n\n*** Variables ***\n${email}    https://account.booking.com/sign-in?\n${chrome}    chrome\n\n*** Test Cases ***\nlogin_test_with_appleid_chrome\n   Open booking.com on chrome browser\n      open browser    ${email}     ${chrome}\n      maximize browser window\n      sleep    10\n\n   Click on sign in with appleid\n     click element     xpath://a[@title='Sign in with Apple']\n     sleep   5\n     ${handle} =    Switch Window   NEW # Select latest opened window\n     sleep    5\n\nEnter username and click on Continue with email\n     input text    xpath://input[@id='account_name_text_field']     abc\n\n#     click element    xpath://div[@id='sign_in_form']\n#     sleep    1\n#     click element    xpath://button[@id='sign-in']\n#     sleep    1\n     click element     xpath://i[@class='shared-icon icon_sign_in']\n     sleep    3\n</code></pre>\n<p>When I am clicking on sing-in arrow it is giving me Element not interactable exception. I have tried press Keys as well but still getting same issue</p>\n<p>Can any one help me with actual xpath of the element</p>\n<p><strong>Error Code</strong></p>\n<pre><code>ElementClickInterceptedException: Message: element click intercepted: Element\n&lt;i class=&quot;shared-icon icon_sign_in&quot; data-isla81n27wdid=&quot;289&quot;&gt;&lt;/i&gt; is not clickable at point (431, 284)\n. Other element would receive the click: &lt;input type=&quot;text&quot; id=&quot;account_name_text_field&quot; can-field=&quot;accountName&quot; autocomplete=&quot;off&quot; autocorrect=&quot;off&quot; autocapitalize=&quot;off&quot; aria-requ\n   ired=&quot;true&quot; required=&quot;required&quot; spellcheck=&quot;false&quot; class=&quot;force-ltr form-textbox form-textbox-text  form-textbox-entered &quot; aria-invalid=&quot;false&quot; autofocus=&quot;&quot; data-isla81n27wdid=&quot;240\n   &quot; data-focus-method=&quot;key&quot;&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1682598283,"post_id":76120146,"comment_id":134243079,"body_markdown":"The order of elements in `xsi:schemaLocations` of `application-security-config.xml` is wrong. The schema name must come *before* the schema location, but in yours it is reversed (compare it with the order in `application-config.xml`, which seems to be correct) .","body":"The order of elements in <code>xsi:schemaLocations</code> of <code>application-security-config.xml</code> is wrong. The schema name must come <i>before</i> the schema location, but in yours it is reversed (compare it with the order in <code>application-config.xml</code>, which seems to be correct) ."},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1682598564,"post_id":76120146,"comment_id":134243160,"body_markdown":"ahh nice i didnt even realise that - however, now im back to getting an error i had previous in the xml file - &#39;error downloading http://www.springframework.org/schema/security/spring-security.xsd&#39; - any ideas ?","body":"ahh nice i didnt even realise that - however, now im back to getting an error i had previous in the xml file - &#39;error downloading <a href=\"http://www.springframework.org/schema/security/spring-security.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/security/spring-security.xsd</a>&#39; - any ideas ?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682598889,"post_id":76120146,"comment_id":134243258,"body_markdown":"It matches the value as shown in one of the examples at https://github.com/spring-projects/spring-security/blob/5.4.x/samples/xml/servletapi/src/main/resources/applicationContext-security.xml, but indeed the XSD doesn&#39;t exist at that location. However, generally tools shouldn&#39;t download the XSD from that location, but instead use a local catalog. Is this an error when running Spring, or a warning in your IDE?","body":"It matches the value as shown in one of the examples at <a href=\"https://github.com/spring-projects/spring-security/blob/5.4.x/samples/xml/servletapi/src/main/resources/applicationContext-security.xml\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/blob/5.4.x/sample&zwnj;&#8203;s/&hellip;</a>, but indeed the XSD doesn&#39;t exist at that location. However, generally tools shouldn&#39;t download the XSD from that location, but instead use a local catalog. Is this an error when running Spring, or a warning in your IDE?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682599058,"post_id":76120146,"comment_id":134243312,"body_markdown":"Looking at https://springframework.org/schema/security/, you can replace it with a version specific XSD (e.g. in your case https://springframework.org/schema/security/spring-security-5.1.xsd)","body":"Looking at <a href=\"https://springframework.org/schema/security/\" rel=\"nofollow noreferrer\">springframework.org/schema/security</a>, you can replace it with a version specific XSD (e.g. in your case <a href=\"https://springframework.org/schema/security/spring-security-5.1.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/security/spring-security-5.1.xsd</a>)"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1682601331,"post_id":76120146,"comment_id":134243967,"body_markdown":"Yeah i tried that before and just tried it again on the somehow off chance it would work but got the same runtime error as before -- i cant show/explain it all in a comment but here is a new post - https://stackoverflow.com/questions/76120867/cant-use-spring-security-version-with-spring-security-4-2-even-though-i-am-not-u\n\nany help is appreciated","body":"Yeah i tried that before and just tried it again on the somehow off chance it would work but got the same runtime error as before -- i cant show/explain it all in a comment but here is a new post - <a href=\"https://stackoverflow.com/questions/76120867/cant-use-spring-security-version-with-spring-security-4-2-even-though-i-am-not-u\" title=\"cant use spring security version with spring security 4 2 even though i am not u\">stackoverflow.com/questions/76120867/&hellip;</a>  any help is appreciated"}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682598132,"creation_date":1682596851,"question_id":76120146,"body_markdown":"I am getting the error _&quot;Cannot find the declaration of element &#39;beans&#39;.&quot;_ when running my Spring application. I am in the process of upgrading the projects tech stack and just made the move to Spring 5 and Spring Security 5. \r\n\r\nI have updated the application-config.xml and application-security-config.xml according to the documentation, but still get this error at runtime (there are no errors in my IDE) - I&#39;m a bit confused - the stacktrace is noted at the very bottom for more detail.\r\n\r\nThese are the versions I am using \r\n  - Java 11\r\n  - Spring 5.0.20.RELEASE\r\n  - Spring security 5.1.13.RELEASE\r\n  - Hibernate 4.3.11.FINAL\r\n\r\nHere is my application-security-config.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t   xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n\t   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n\t   xsi:schemaLocation=&quot;\r\n\t      http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t      http://www.springframework.org/schema/beans\r\n\t\t  http://www.springframework.org/schema/security/spring-security.xsd \r\n\t\t  http://www.springframework.org/schema/security\r\n\t\t  https://www.springframework.org/schema/util/spring-util.xsd\r\n\t\t  http://www.springframework.org/schema/util&quot; &gt;\r\n\t\r\n\t&lt;security:http\r\n\t\tauto-config=&quot;false&quot;\r\n\t\taccess-decision-manager-ref=&quot;accessDecisionManager&quot;\r\n\t\tuse-expressions=&quot;true&quot;\r\n\t\trequest-matcher=&quot;ant&quot;\r\n\t\tdisable-url-rewriting=&quot;true&quot;\r\n\t&gt;\r\n\t\t&lt;security:headers&gt;\r\n\t\t\t&lt;security:hsts disabled=&quot;true&quot;/&gt;\r\n\t        &lt;security:frame-options policy=&quot;SAMEORIGIN&quot;/&gt;\r\n\t\t&lt;/security:headers&gt;\r\n\t\t&lt;security:csrf disabled=&quot;true&quot;/&gt;\r\n    \t\r\n    \t&lt;!-- Set up URL security for specific pages --&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/home&quot; access=&quot;hasRole(&#39;AUTH_LOGIN&#39;)&quot; /&gt;\r\n        &lt;security:intercept-url pattern=&quot;/logout&quot; access=&quot;hasRole(&#39;AUTH_LOGIN&#39;)&quot; /&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/help/**&quot; access=&quot;hasRole(&#39;AUTH_LOGIN&#39;)&quot; /&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/help/contents&quot; access=&quot;hasRole(&#39;AUTH_LOGIN&#39;)&quot; /&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/change-password&quot; access=&quot;hasRole(&#39;AUTH_CHANGE_PASSWORD&#39;)&quot; /&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/audit-log&quot; access=&quot;hasRole(&#39;AUTH_VIEW_AUDIT_LOG&#39;)&quot; /&gt;\r\n\r\n        &lt;security:intercept-url pattern=&quot;/secure/support&quot; access=&quot;hasRole(&#39;AUTH_SUPPORT&#39;)&quot; /&gt;\r\n        \r\n        &lt;!-- Fall back for any other secure/* pages - user must be authenticated --&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/**&quot; access=&quot;isAuthenticated()&quot; /&gt;\r\n        \r\n        &lt;!-- Allow anonymous access for any URLS not secured above --&gt;\r\n        &lt;security:anonymous username=&quot;ANON&quot; granted-authority=&quot;AUTH_ANON&quot; /&gt;\r\n\r\n    \t&lt;!-- Set up concurrent session control, the logout page, and the access denied handler --&gt;\r\n    \t&lt;security:session-management session-fixation-protection=&quot;newSession&quot;&gt;\r\n    \t\t&lt;security:concurrency-control max-sessions=&quot;1&quot; expired-url=&quot;/public/login?expired=true&quot; /&gt;\r\n    \t&lt;/security:session-management&gt;\r\n    \t\r\n    \t&lt;security:logout logout-url=&quot;/log-out&quot;\r\n\t\t\t\t\t\t invalidate-session=&quot;true&quot;\r\n\t\t\t\t\t\t success-handler-ref=&quot;logOutSuccessHandler&quot;\r\n\t\t/&gt;\r\n\t\t\r\n\t\t&lt;security:access-denied-handler error-page=&quot;/public/forbidden&quot; /&gt;\r\n    \t\r\n    \t&lt;!-- Set up form login authentication, wiring up the success/and failure handlers --&gt;\r\n    \t&lt;security:form-login \r\n    \t\tlogin-page=&quot;/public/login&quot; \r\n    \t\tlogin-processing-url=&quot;/public/security_check&quot;\r\n    \t\tauthentication-failure-handler-ref=&quot;authenticationFailureHandler&quot;\r\n    \t\tauthentication-success-handler-ref=&quot;authenticationSuccessHandler&quot;\r\n    \t\tusername-parameter=&quot;j_username&quot;\r\n    \t\tpassword-parameter=&quot;j_password&quot;\r\n    \t/&gt;\r\n    \t\t\r\n  \t&lt;/security:http&gt;\r\n  \t\r\n  \t&lt;bean id=&quot;defaultFirewall&quot; class=&quot;org.springframework.security.web.firewall.DefaultHttpFirewall&quot; /&gt; \r\n\t&lt;security:http-firewall ref=&quot;defaultFirewall&quot;/&gt;\r\n  \t\r\n    &lt;bean id=&quot;logOutSuccessHandler&quot; class=&quot;com.amor.hcplus.application.util.spring.security.DefaultLogOutSuccessHandler&quot;&gt;\r\n\t\t&lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\r\n\t\t&lt;property name=&quot;logOutUrl&quot; value=&quot;/public/login&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n  \t\r\n  \t&lt;!-- \r\n  \tCreate authentication success and failure handlers.  These override the Spring SimpleUrl*Handlers but add in extra security functionality \r\n  \t--&gt;\r\n  \t&lt;bean id=&quot;authenticationSuccessHandler&quot; class=&quot;com.amor.hcplus.application.util.spring.security.DefaultAuthenticationSuccessHandler&quot;&gt;\r\n  \t\t&lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\r\n  \t\t&lt;property name=&quot;defaultTargetUrl&quot; value=&quot;/secure/home&quot; /&gt;\r\n  \t\t&lt;property name=&quot;localeResolver&quot; ref=&quot;localeResolver&quot; /&gt;\r\n  \t&lt;/bean&gt;\r\n  \t&lt;bean id=&quot;authenticationFailureHandler&quot; class=&quot;com.amor.hcplus.application.util.spring.security.DefaultAuthenticationFailureHandler&quot;&gt;\r\n  \t\t&lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\r\n  \t\t&lt;property name=&quot;defaultFailureUrl&quot; value=&quot;/public/login?failed=true&quot; /&gt;\r\n  \t\t&lt;property name=&quot;changePasswordUrl&quot; value=&quot;/public/change-password&quot; /&gt;\r\n  \t\t&lt;property name=&quot;suspendedUrl&quot; value=&quot;/public/suspended&quot; /&gt;\r\n  \t\t&lt;property name=&quot;deletedUrl&quot; value=&quot;/public/deleted&quot; /&gt;\r\n  \t&lt;/bean&gt;\r\n  \t\r\n  \t&lt;!-- \r\n\tSet the Post Processor so that the rolePrefix is changed for the DefaultWebSecurityExpressionHandler\r\n\t --&gt;\r\n\t&lt;bean class=&quot;com.amor.ngc.application.security.DefaultRolesPrefixPostProcessor&quot;/&gt;\r\n\t\r\n\t&lt;!-- \r\n  \tWhen using the security namespace, Spring creates a default AccessDecisionManager (see http://static.springsource.org/spring-security/site/docs/3.0.x/\r\n  \treference/ns-config.html#ns-custom-access-mgr). We want to override the default rolePrefix (defaults to ROLE_), so we set up our own AccessDecisionManager\r\n  \twith the default settings apart from the rolePrefix.  This is wired up to the &lt;security:http&gt; element above. \r\n  \t--&gt;\r\n  \t&lt;bean id=&quot;accessDecisionManager&quot; class=&quot;org.springframework.security.access.vote.AffirmativeBased&quot;&gt;\r\n  \t\t&lt;constructor-arg name=&quot;decisionVoters&quot;&gt;\r\n  \t\t\t&lt;list&gt;\r\n\t  \t\t\t&lt;bean class=&quot;org.springframework.security.access.vote.RoleVoter&quot;&gt;\r\n\t  \t\t\t\t&lt;property name=&quot;rolePrefix&quot; value=&quot;AUTH_&quot; /&gt;\r\n\t  \t\t\t&lt;/bean&gt;\r\n\t  \t\t\t&lt;bean class=&quot;org.springframework.security.access.vote.AuthenticatedVoter&quot; /&gt;\r\n\t  \t\t\t&lt;bean class=&quot;org.springframework.security.web.access.expression.WebExpressionVoter&quot;&gt;\r\n\t  \t\t\t\t&lt;property name=&quot;expressionHandler&quot;&gt;\r\n  \t\t\t\t\t\t&lt;bean id=&quot;expressionEvaluator&quot; class=&quot;org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler&quot;/&gt;\r\n\t  \t\t\t\t&lt;/property&gt;\r\n\t  \t\t\t&lt;/bean&gt;\r\n  \t\t\t&lt;/list&gt;\r\n  \t\t&lt;/constructor-arg&gt;\r\n  \t&lt;/bean&gt;\r\n  \t\r\n  \t&lt;!-- \r\n  \tSet up the authentication manager, giving it our security service and setting up the password hashing.  We must manually create the encoder and salt source\r\n  \tbeans as they are required by our security service. \r\n  \t--&gt;\r\n\t&lt;security:authentication-manager alias=&quot;authenticationManager&quot;&gt;\r\n\t\t&lt;security:authentication-provider ref=&quot;customAuthenticationProvider&quot;&gt;\r\n\t\t&lt;/security:authentication-provider&gt;\r\n\t&lt;/security:authentication-manager&gt;\r\n\t\r\n\t&lt;bean id=&quot;passwordEncoder&quot; class=&quot;com.amor.hcplus.application.security.domain.password.Sha1DigestGenerator&quot; /&gt;\r\n\t&lt;bean id=&quot;saltSource&quot; class=&quot;com.amor.hcplus.application.security.domain.password.UsernameSaltSource&quot; /&gt;\r\n\t\r\n\t&lt;!-- Configure the Hydrocarbon+ password generator and password validator --&gt;\r\n\t&lt;bean id=&quot;passwordGenerator&quot; class=&quot;com.amor.hcplus.application.security.domain.password.DefaultPasswordGenerator&quot;&gt;\r\n\t\t&lt;property name=&quot;randomStringGenerator&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;com.amor.hcplus.application.util.ApacheCommonsLangRandomStringGenerator&quot; /&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;digestGenerator&quot; ref=&quot;passwordEncoder&quot; /&gt;\r\n\t\t&lt;property name=&quot;saltSource&quot; ref=&quot;saltSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;passwordValidator&quot; ref=&quot;passwordValidator&quot;/&gt;\r\n\t\t&lt;property name=&quot;generatedPasswordLength&quot; value=&quot;8&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;passwordValidator&quot; class=&quot;com.amor.hcplus.application.security.domain.password.DefaultPasswordValidator&quot; /&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nHere is my application-config.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t   xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\t   xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n\t   xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\t   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n\t\t   http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\t   http://www.springframework.org/schema/context\r\n\t\t   http://www.springframework.org/schema/context/spring-context.xsd\r\n           http://www.springframework.org/schema/tx\r\n           http://www.springframework.org/schema/tx/spring-tx.xsd\r\n           http://www.springframework.org/schema/util\r\n           http://www.springframework.org/schema/util/spring-util.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n\r\n    &lt;!-- Scan for annotated components in the codebase--&gt;\r\n    &lt;context:component-scan base-package=&quot;com.amor&quot; /&gt;\r\n    \r\n    &lt;!-- Configure beans marked with @Configurable --&gt;\r\n    &lt;context:spring-configured /&gt;\r\n\t&lt;mvc:annotation-driven /&gt;\r\n\t\r\n\t&lt;bean class=&quot;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor&quot; /&gt;\r\n\t\r\n    &lt;bean id=&quot;localeResolver&quot; class=&quot;org.springframework.web.servlet.i18n.SessionLocaleResolver&quot; /&gt;\r\n    \r\n    &lt;!-- Set up property files --&gt;\r\n    &lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t&lt;property name=&quot;locations&quot;&gt;\r\n    \t\t&lt;list&gt;\r\n    \t\t\t&lt;value&gt;classpath:com/amor/ngc/application/datasource.properties&lt;/value&gt;\r\n    \t\t\t&lt;value&gt;classpath:com/amor/ngc/application/mail.properties&lt;/value&gt;\r\n    \t\t&lt;/list&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;!-- Set up the post processor --&gt;\r\n    &lt;bean class=&quot;com.amor.hcplus.application.core.spring.context.ApplicationContextStartupPostProcessor&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n        &lt;property name=&quot;maxUploadSize&quot; value=&quot;-1&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n\t&lt;bean id=&quot;messageSource&quot; class=&quot;com.amor.hcplus.application.util.spring.context.TypeConvertingReloadableResourceBundleMessageSource&quot;&gt;\r\n\t\t&lt;property name=&quot;cacheSeconds&quot; value=&quot;60&quot; /&gt;\r\n\t\t&lt;property name=&quot;basenames&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;WEB-INF/spring/i18n/components&lt;/value&gt;\r\n\t\t\t\t&lt;value&gt;WEB-INF/spring/i18n/messages&lt;/value&gt;\r\n\t\t\t\t&lt;value&gt;WEB-INF/spring/i18n/errors&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/spring/i18n/enums&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/spring/i18n/data-points&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/public/change-password/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/public/forgotten-password/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/home/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/change-password/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/audit-log/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/user-management/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/template-management/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/role-management/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/network/delivery-points/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/network/redelivery-points/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/network/shippers/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/network/trains/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/network/flowpaths/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/reimbursable-inputs/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/reimbursable-charges/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/monthly-base-capacity-tariff/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/incremental-tranche-reduction/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/monthly-interruptible-tariff/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/monthly-commodity-charge/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/monthly-term-sheet/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/monthly-summary/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/b-factor/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/down-days/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/reimbursablesplit/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/daily-delivery-composition/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/monthly-delivery-composition/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/annual-delivery-composition/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/system-parameter-management/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/system-parameter-management/shipperReservedCapacity/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/system-parameter-management/producePriceIndex/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/system-parameter-management/systemParameterReport/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/data-point-management/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/annual/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/monthly/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/daily/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/daily/dpo_reports/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/daily/rpo_reports/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/curtailments/etu-nomination/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/intra-day/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/intra-day/dpo_reports/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/intra-day/rpo_reports/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/true-up/daily/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/true-up/monthly/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/reports/log/daily/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/reports/allocation/daily/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/reports/allocation/monthly/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/reports/nomination/monthly/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/reports/component/daily/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/reports/component/monthly/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/reports/component/quarterly/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/reports/condensate/daily/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/reports/condensate/monthly/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/reports/deliveryRedelivery/monthly/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/reports/flowpath/monthly/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/allocation/event-loss/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/allocation/inventory/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/allocation/overwrite/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/allocation/monthly/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/allocation/daily/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/component-balances/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/procedures/gas-flow-adjustment/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/procedures/gfa-daily-log/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-data/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-data/dpo-gas/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-data/rpo-gas/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-data/rpo-condensate/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-data/grp-allocation-data/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-analysis/daily-gas-composition/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-analysis/two-day-gas-composition/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-analysis/contaminant-data/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-analysis/download-measurement-report/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-analysis/upload-measurement-report/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/data-management/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/ngc/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/alng/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/dpo/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/update-pig-run/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/insert-maintenance-activity/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/insert-completed-activity/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/deliveries-and-redeliveries/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/view-maintenance/messages&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/support/messages&lt;/value&gt;\r\n                &lt;value&gt;classpath:com/amor/ngc/application/notifications/notifications&lt;/value&gt;\r\n                &lt;value&gt;classpath:com/amor/ngc/application/audit/auditing&lt;/value&gt;\r\n\t\t\t\t&lt;value&gt;classpath:org/springframework/security/messages&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\nThis is the stacktrace for more information\r\n```none\r\n27-Apr-2023 11:48:46.786 INFO [main] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath\r\n27-Apr-2023 11:48:47.014 INFO [main] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext\r\n27-Apr-2023 11:48:49.322 SEVERE [main] org.apache.catalina.core.StandardContext.listenerStart Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\r\n\torg.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 11 in XML document from file [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\name-of-app\\WEB-INF\\classes\\com\\name\\application\\application-security-config.xml] is invalid; nested exception is org.xml.sax.SAXParseException; lineNumber: 11; columnNumber: 50; cvc-elt.1.a: Cannot find the declaration of element &#39;beans&#39;.\r\n\t\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:399)\r\n\t\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:336)\r\n\t\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:187)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:223)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:194)\r\n\t\tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\r\n\t\tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\r\n\t\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:633)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:523)\r\n\t\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:409)\r\n\t\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)\r\n\t\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n\t\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\r\n\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\r\n\t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n\t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n\t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n\tCaused by: org.xml.sax.SAXParseException; lineNumber: 11; columnNumber: 50; cvc-elt.1.a: Cannot find the declaration of element &#39;beans&#39;.\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:135)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2132)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:829)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3063)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:836)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:534)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:888)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:824)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:246)\r\n\t\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)\r\n\t\tat org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:77)\r\n\t\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:429)\r\n\t\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\r\n\t\t... 54 more\r\n```","title":"Cannot find the declaration of element &#39;beans&#39; inside spring application config xml file","body":"<p>I am getting the error <em>&quot;Cannot find the declaration of element 'beans'.&quot;</em> when running my Spring application. I am in the process of upgrading the projects tech stack and just made the move to Spring 5 and Spring Security 5.</p>\n<p>I have updated the application-config.xml and application-security-config.xml according to the documentation, but still get this error at runtime (there are no errors in my IDE) - I'm a bit confused - the stacktrace is noted at the very bottom for more detail.</p>\n<p>These are the versions I am using</p>\n<ul>\n<li>Java 11</li>\n<li>Spring 5.0.20.RELEASE</li>\n<li>Spring security 5.1.13.RELEASE</li>\n<li>Hibernate 4.3.11.FINAL</li>\n</ul>\n<p>Here is my application-security-config.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n       xsi:schemaLocation=&quot;\n          http://www.springframework.org/schema/beans/spring-beans.xsd\n          http://www.springframework.org/schema/beans\n          http://www.springframework.org/schema/security/spring-security.xsd \n          http://www.springframework.org/schema/security\n          https://www.springframework.org/schema/util/spring-util.xsd\n          http://www.springframework.org/schema/util&quot; &gt;\n    \n    &lt;security:http\n        auto-config=&quot;false&quot;\n        access-decision-manager-ref=&quot;accessDecisionManager&quot;\n        use-expressions=&quot;true&quot;\n        request-matcher=&quot;ant&quot;\n        disable-url-rewriting=&quot;true&quot;\n    &gt;\n        &lt;security:headers&gt;\n            &lt;security:hsts disabled=&quot;true&quot;/&gt;\n            &lt;security:frame-options policy=&quot;SAMEORIGIN&quot;/&gt;\n        &lt;/security:headers&gt;\n        &lt;security:csrf disabled=&quot;true&quot;/&gt;\n        \n        &lt;!-- Set up URL security for specific pages --&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/home&quot; access=&quot;hasRole('AUTH_LOGIN')&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/logout&quot; access=&quot;hasRole('AUTH_LOGIN')&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/help/**&quot; access=&quot;hasRole('AUTH_LOGIN')&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/help/contents&quot; access=&quot;hasRole('AUTH_LOGIN')&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/change-password&quot; access=&quot;hasRole('AUTH_CHANGE_PASSWORD')&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/audit-log&quot; access=&quot;hasRole('AUTH_VIEW_AUDIT_LOG')&quot; /&gt;\n\n        &lt;security:intercept-url pattern=&quot;/secure/support&quot; access=&quot;hasRole('AUTH_SUPPORT')&quot; /&gt;\n        \n        &lt;!-- Fall back for any other secure/* pages - user must be authenticated --&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/**&quot; access=&quot;isAuthenticated()&quot; /&gt;\n        \n        &lt;!-- Allow anonymous access for any URLS not secured above --&gt;\n        &lt;security:anonymous username=&quot;ANON&quot; granted-authority=&quot;AUTH_ANON&quot; /&gt;\n\n        &lt;!-- Set up concurrent session control, the logout page, and the access denied handler --&gt;\n        &lt;security:session-management session-fixation-protection=&quot;newSession&quot;&gt;\n            &lt;security:concurrency-control max-sessions=&quot;1&quot; expired-url=&quot;/public/login?expired=true&quot; /&gt;\n        &lt;/security:session-management&gt;\n        \n        &lt;security:logout logout-url=&quot;/log-out&quot;\n                         invalidate-session=&quot;true&quot;\n                         success-handler-ref=&quot;logOutSuccessHandler&quot;\n        /&gt;\n        \n        &lt;security:access-denied-handler error-page=&quot;/public/forbidden&quot; /&gt;\n        \n        &lt;!-- Set up form login authentication, wiring up the success/and failure handlers --&gt;\n        &lt;security:form-login \n            login-page=&quot;/public/login&quot; \n            login-processing-url=&quot;/public/security_check&quot;\n            authentication-failure-handler-ref=&quot;authenticationFailureHandler&quot;\n            authentication-success-handler-ref=&quot;authenticationSuccessHandler&quot;\n            username-parameter=&quot;j_username&quot;\n            password-parameter=&quot;j_password&quot;\n        /&gt;\n            \n    &lt;/security:http&gt;\n    \n    &lt;bean id=&quot;defaultFirewall&quot; class=&quot;org.springframework.security.web.firewall.DefaultHttpFirewall&quot; /&gt; \n    &lt;security:http-firewall ref=&quot;defaultFirewall&quot;/&gt;\n    \n    &lt;bean id=&quot;logOutSuccessHandler&quot; class=&quot;com.amor.hcplus.application.util.spring.security.DefaultLogOutSuccessHandler&quot;&gt;\n        &lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\n        &lt;property name=&quot;logOutUrl&quot; value=&quot;/public/login&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- \n    Create authentication success and failure handlers.  These override the Spring SimpleUrl*Handlers but add in extra security functionality \n    --&gt;\n    &lt;bean id=&quot;authenticationSuccessHandler&quot; class=&quot;com.amor.hcplus.application.util.spring.security.DefaultAuthenticationSuccessHandler&quot;&gt;\n        &lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\n        &lt;property name=&quot;defaultTargetUrl&quot; value=&quot;/secure/home&quot; /&gt;\n        &lt;property name=&quot;localeResolver&quot; ref=&quot;localeResolver&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;authenticationFailureHandler&quot; class=&quot;com.amor.hcplus.application.util.spring.security.DefaultAuthenticationFailureHandler&quot;&gt;\n        &lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\n        &lt;property name=&quot;defaultFailureUrl&quot; value=&quot;/public/login?failed=true&quot; /&gt;\n        &lt;property name=&quot;changePasswordUrl&quot; value=&quot;/public/change-password&quot; /&gt;\n        &lt;property name=&quot;suspendedUrl&quot; value=&quot;/public/suspended&quot; /&gt;\n        &lt;property name=&quot;deletedUrl&quot; value=&quot;/public/deleted&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- \n    Set the Post Processor so that the rolePrefix is changed for the DefaultWebSecurityExpressionHandler\n     --&gt;\n    &lt;bean class=&quot;com.amor.ngc.application.security.DefaultRolesPrefixPostProcessor&quot;/&gt;\n    \n    &lt;!-- \n    When using the security namespace, Spring creates a default AccessDecisionManager (see http://static.springsource.org/spring-security/site/docs/3.0.x/\n    reference/ns-config.html#ns-custom-access-mgr). We want to override the default rolePrefix (defaults to ROLE_), so we set up our own AccessDecisionManager\n    with the default settings apart from the rolePrefix.  This is wired up to the &lt;security:http&gt; element above. \n    --&gt;\n    &lt;bean id=&quot;accessDecisionManager&quot; class=&quot;org.springframework.security.access.vote.AffirmativeBased&quot;&gt;\n        &lt;constructor-arg name=&quot;decisionVoters&quot;&gt;\n            &lt;list&gt;\n                &lt;bean class=&quot;org.springframework.security.access.vote.RoleVoter&quot;&gt;\n                    &lt;property name=&quot;rolePrefix&quot; value=&quot;AUTH_&quot; /&gt;\n                &lt;/bean&gt;\n                &lt;bean class=&quot;org.springframework.security.access.vote.AuthenticatedVoter&quot; /&gt;\n                &lt;bean class=&quot;org.springframework.security.web.access.expression.WebExpressionVoter&quot;&gt;\n                    &lt;property name=&quot;expressionHandler&quot;&gt;\n                        &lt;bean id=&quot;expressionEvaluator&quot; class=&quot;org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler&quot;/&gt;\n                    &lt;/property&gt;\n                &lt;/bean&gt;\n            &lt;/list&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- \n    Set up the authentication manager, giving it our security service and setting up the password hashing.  We must manually create the encoder and salt source\n    beans as they are required by our security service. \n    --&gt;\n    &lt;security:authentication-manager alias=&quot;authenticationManager&quot;&gt;\n        &lt;security:authentication-provider ref=&quot;customAuthenticationProvider&quot;&gt;\n        &lt;/security:authentication-provider&gt;\n    &lt;/security:authentication-manager&gt;\n    \n    &lt;bean id=&quot;passwordEncoder&quot; class=&quot;com.amor.hcplus.application.security.domain.password.Sha1DigestGenerator&quot; /&gt;\n    &lt;bean id=&quot;saltSource&quot; class=&quot;com.amor.hcplus.application.security.domain.password.UsernameSaltSource&quot; /&gt;\n    \n    &lt;!-- Configure the Hydrocarbon+ password generator and password validator --&gt;\n    &lt;bean id=&quot;passwordGenerator&quot; class=&quot;com.amor.hcplus.application.security.domain.password.DefaultPasswordGenerator&quot;&gt;\n        &lt;property name=&quot;randomStringGenerator&quot;&gt;\n            &lt;bean class=&quot;com.amor.hcplus.application.util.ApacheCommonsLangRandomStringGenerator&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;digestGenerator&quot; ref=&quot;passwordEncoder&quot; /&gt;\n        &lt;property name=&quot;saltSource&quot; ref=&quot;saltSource&quot; /&gt;\n        &lt;property name=&quot;passwordValidator&quot; ref=&quot;passwordValidator&quot;/&gt;\n        &lt;property name=&quot;generatedPasswordLength&quot; value=&quot;8&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;passwordValidator&quot; class=&quot;com.amor.hcplus.application.security.domain.password.DefaultPasswordValidator&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>Here is my application-config.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n           http://www.springframework.org/schema/beans/spring-beans.xsd\n           http://www.springframework.org/schema/context\n           http://www.springframework.org/schema/context/spring-context.xsd\n           http://www.springframework.org/schema/tx\n           http://www.springframework.org/schema/tx/spring-tx.xsd\n           http://www.springframework.org/schema/util\n           http://www.springframework.org/schema/util/spring-util.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n\n    &lt;!-- Scan for annotated components in the codebase--&gt;\n    &lt;context:component-scan base-package=&quot;com.amor&quot; /&gt;\n    \n    &lt;!-- Configure beans marked with @Configurable --&gt;\n    &lt;context:spring-configured /&gt;\n    &lt;mvc:annotation-driven /&gt;\n    \n    &lt;bean class=&quot;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor&quot; /&gt;\n    \n    &lt;bean id=&quot;localeResolver&quot; class=&quot;org.springframework.web.servlet.i18n.SessionLocaleResolver&quot; /&gt;\n    \n    &lt;!-- Set up property files --&gt;\n    &lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\n        &lt;property name=&quot;locations&quot;&gt;\n            &lt;list&gt;\n                &lt;value&gt;classpath:com/amor/ngc/application/datasource.properties&lt;/value&gt;\n                &lt;value&gt;classpath:com/amor/ngc/application/mail.properties&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- Set up the post processor --&gt;\n    &lt;bean class=&quot;com.amor.hcplus.application.core.spring.context.ApplicationContextStartupPostProcessor&quot; /&gt;\n    \n    &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\n        &lt;property name=&quot;maxUploadSize&quot; value=&quot;-1&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;messageSource&quot; class=&quot;com.amor.hcplus.application.util.spring.context.TypeConvertingReloadableResourceBundleMessageSource&quot;&gt;\n        &lt;property name=&quot;cacheSeconds&quot; value=&quot;60&quot; /&gt;\n        &lt;property name=&quot;basenames&quot;&gt;\n            &lt;list&gt;\n                &lt;value&gt;WEB-INF/spring/i18n/components&lt;/value&gt;\n                &lt;value&gt;WEB-INF/spring/i18n/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/spring/i18n/errors&lt;/value&gt;\n                &lt;value&gt;WEB-INF/spring/i18n/enums&lt;/value&gt;\n                &lt;value&gt;WEB-INF/spring/i18n/data-points&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/public/change-password/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/public/forgotten-password/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/home/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/change-password/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/audit-log/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/user-management/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/template-management/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/role-management/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/network/delivery-points/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/network/redelivery-points/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/network/shippers/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/network/trains/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/network/flowpaths/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/reimbursable-inputs/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/reimbursable-charges/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/monthly-base-capacity-tariff/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/incremental-tranche-reduction/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/monthly-interruptible-tariff/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/monthly-commodity-charge/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/monthly-term-sheet/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/monthly-summary/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/b-factor/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/capacitybilling/down-days/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/reimbursablesplit/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/daily-delivery-composition/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/monthly-delivery-composition/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/annual-delivery-composition/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/system-parameter-management/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/system-parameter-management/shipperReservedCapacity/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/system-parameter-management/producePriceIndex/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/system-parameter-management/systemParameterReport/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/data-point-management/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/annual/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/monthly/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/daily/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/daily/dpo_reports/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/daily/rpo_reports/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/curtailments/etu-nomination/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/intra-day/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/intra-day/dpo_reports/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/intra-day/rpo_reports/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/true-up/daily/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/true-up/monthly/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/nomination/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/reports/log/daily/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/reports/allocation/daily/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/reports/allocation/monthly/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/reports/nomination/monthly/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/reports/component/daily/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/reports/component/monthly/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/reports/component/quarterly/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/reports/condensate/daily/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/reports/condensate/monthly/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/reports/deliveryRedelivery/monthly/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/reports/flowpath/monthly/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/allocation/event-loss/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/allocation/inventory/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/allocation/overwrite/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/allocation/monthly/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/allocation/daily/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/component-balances/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/procedures/gas-flow-adjustment/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/procedures/gfa-daily-log/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-data/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-data/dpo-gas/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-data/rpo-gas/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-data/rpo-condensate/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-data/grp-allocation-data/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-analysis/daily-gas-composition/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-analysis/two-day-gas-composition/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-analysis/contaminant-data/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-analysis/download-measurement-report/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/measurement-analysis/upload-measurement-report/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/data-management/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/ngc/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/alng/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/dpo/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/update-pig-run/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/insert-maintenance-activity/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/insert-completed-activity/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/deliveries-and-redeliveries/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/pipeline-maintenance/view-maintenance/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/support/messages&lt;/value&gt;\n                &lt;value&gt;classpath:com/amor/ngc/application/notifications/notifications&lt;/value&gt;\n                &lt;value&gt;classpath:com/amor/ngc/application/audit/auditing&lt;/value&gt;\n                &lt;value&gt;classpath:org/springframework/security/messages&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>This is the stacktrace for more information</p>\n<pre class=\"lang-none prettyprint-override\"><code>27-Apr-2023 11:48:46.786 INFO [main] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath\n27-Apr-2023 11:48:47.014 INFO [main] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext\n27-Apr-2023 11:48:49.322 SEVERE [main] org.apache.catalina.core.StandardContext.listenerStart Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\n    org.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 11 in XML document from file [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\name-of-app\\WEB-INF\\classes\\com\\name\\application\\application-security-config.xml] is invalid; nested exception is org.xml.sax.SAXParseException; lineNumber: 11; columnNumber: 50; cvc-elt.1.a: Cannot find the declaration of element 'beans'.\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:399)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:336)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:187)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:223)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:194)\n        at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\n        at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\n        at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\n        at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:633)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:523)\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:409)\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n    Caused by: org.xml.sax.SAXParseException; lineNumber: 11; columnNumber: 50; cvc-elt.1.a: Cannot find the declaration of element 'beans'.\n        at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)\n        at java.xml/com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:135)\n        at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)\n        at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\n        at java.xml/com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)\n        at java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2132)\n        at java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:829)\n        at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\n        at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\n        at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3063)\n        at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:836)\n        at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\n        at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\n        at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:534)\n        at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:888)\n        at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:824)\n        at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n        at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:246)\n        at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)\n        at org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:77)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:429)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\n        ... 54 more\n</code></pre>\n"},{"tags":["java","postgresql","intellij-idea","jdbc"],"comments":[{"owner":{"account_id":6984241,"reputation":494,"user_id":5355867,"display_name":"BenjaminD"},"score":0,"creation_date":1599136942,"post_id":63723867,"comment_id":112684648,"body_markdown":"What is your IntelliJ version ?","body":"What is your IntelliJ version ?"},{"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"score":0,"creation_date":1599137012,"post_id":63723867,"comment_id":112684690,"body_markdown":"@BenjaminD Forgot to mention that. Edited the question.","body":"@BenjaminD Forgot to mention that. Edited the question."}],"answers":[{"comments":[{"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"score":0,"creation_date":1599137229,"post_id":63724002,"comment_id":112684787,"body_markdown":"Thanks. Do you know what I could do instead?","body":"Thanks. Do you know what I could do instead?"},{"owner":{"account_id":6984241,"reputation":494,"user_id":5355867,"display_name":"BenjaminD"},"score":0,"creation_date":1599137308,"post_id":63724002,"comment_id":112684823,"body_markdown":"What is your need exactly ? If you need the database tool, you should get the Ultimate edition. If not, you can use various other tools.","body":"What is your need exactly ? If you need the database tool, you should get the Ultimate edition. If not, you can use various other tools."},{"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"score":0,"creation_date":1599137403,"post_id":63724002,"comment_id":112684870,"body_markdown":"What I need is to install the postgresql jdbc driver","body":"What I need is to install the postgresql jdbc driver"},{"owner":{"account_id":6984241,"reputation":494,"user_id":5355867,"display_name":"BenjaminD"},"score":1,"creation_date":1599137616,"post_id":63724002,"comment_id":112684990,"body_markdown":"There are different things. In Intellij, the driver allows you to acces the database and to query it within your IDE. For what I understand, this is not your need. If you need to add the jdbc driver to your project in order to use it, then you must add the jar to your project manually or use a dependancy manager like Gradle or Maven.","body":"There are different things. In Intellij, the driver allows you to acces the database and to query it within your IDE. For what I understand, this is not your need. If you need to add the jdbc driver to your project in order to use it, then you must add the jar to your project manually or use a dependancy manager like Gradle or Maven."},{"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"score":0,"creation_date":1599137905,"post_id":63724002,"comment_id":112685149,"body_markdown":"TBH, I&#39;m not completely sure. I&#39;m not experienced with Java. I have a project. In that, I have a few classes that are supposed to access a postgres database on localhost. Now I want to use JUnit to create a test in which the database is accessed","body":"TBH, I&#39;m not completely sure. I&#39;m not experienced with Java. I have a project. In that, I have a few classes that are supposed to access a postgres database on localhost. Now I want to use JUnit to create a test in which the database is accessed"},{"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"score":0,"creation_date":1599138044,"post_id":63724002,"comment_id":112685224,"body_markdown":"Maybe I should reword the whole question?","body":"Maybe I should reword the whole question?"},{"owner":{"account_id":6984241,"reputation":494,"user_id":5355867,"display_name":"BenjaminD"},"score":0,"creation_date":1599138114,"post_id":63724002,"comment_id":112685263,"body_markdown":"If you want, I can help, but maybe not in the comments. How can we start a chat ? (I&#39;m kinda new in here).","body":"If you want, I can help, but maybe not in the comments. How can we start a chat ? (I&#39;m kinda new in here)."},{"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"score":0,"creation_date":1599138127,"post_id":63724002,"comment_id":112685269,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/220917/discussion-between-klutt-and-benjamind).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/220917/discussion-between-klutt-and-benjamind\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":6984241,"reputation":494,"user_id":5355867,"display_name":"BenjaminD"},"comment_count":8,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1599139256,"creation_date":1599137186,"answer_id":63724002,"question_id":63723867,"body_markdown":"As you can see [here][1], the Community edition does not include the database tool.\r\n\r\nYou&#39;ll need the Ultimate edition for that.\r\n\r\nThen, if you want to just add the library to your project, you can select the project root in IntelliJ, hit F4. Go to Project settings ==&gt; Libraries\r\n\r\nHit the + icon and choose Java.\r\n\r\nThen, browse to your driver jar file and select it.\r\n\r\n  [1]: https://www.jetbrains.com/idea/features/#choose-your-edition","title":"How to add a postgresql jdbc driver to intellij?","body":"<p>As you can see <a href=\"https://www.jetbrains.com/idea/features/#choose-your-edition\" rel=\"noreferrer\">here</a>, the Community edition does not include the database tool.</p>\n<p>You'll need the Ultimate edition for that.</p>\n<p>Then, if you want to just add the library to your project, you can select the project root in IntelliJ, hit F4. Go to Project settings ==&gt; Libraries</p>\n<p>Hit the + icon and choose Java.</p>\n<p>Then, browse to your driver jar file and select it.</p>\n"},{"tags":[],"owner":{"account_id":10197421,"reputation":360,"user_id":7528823,"display_name":"Alen Simonyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682598095,"creation_date":1682598095,"answer_id":76120349,"question_id":63723867,"body_markdown":"If you use Ubuntu.\r\n\r\nAnd the driver cannot be downloaded for some reasons.\r\n\r\nAnd you want manually install the driver then you can download `postgreSQL` driver from here [https://jdbc.postgresql.org/][1].\r\n\r\nThen copy it into `PHPStorm` config folder using this this path.\r\n\r\n`/.config/JetBrains/PhpStorm2023.1/jdbc-drivers`\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAfter the operation you should get successful connection with your database. \r\n\r\n[![enter image description here][3]][3]\r\n\r\n  [1]: https://jdbc.postgresql.org/\r\n  [2]: https://i.stack.imgur.com/vFsAV.png\r\n  [3]: https://i.stack.imgur.com/8nMpX.png\r\n","title":"How to add a postgresql jdbc driver to intellij?","body":"<p>If you use Ubuntu.</p>\n<p>And the driver cannot be downloaded for some reasons.</p>\n<p>And you want manually install the driver then you can download <code>postgreSQL</code> driver from here <a href=\"https://jdbc.postgresql.org/\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/</a>.</p>\n<p>Then copy it into <code>PHPStorm</code> config folder using this this path.</p>\n<p><code>/.config/JetBrains/PhpStorm2023.1/jdbc-drivers</code></p>\n<p><a href=\"https://i.stack.imgur.com/vFsAV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vFsAV.png\" alt=\"enter image description here\" /></a></p>\n<p>After the operation you should get successful connection with your database.</p>\n<p><a href=\"https://i.stack.imgur.com/8nMpX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8nMpX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10973,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":63724002,"answer_count":2,"score":4,"last_activity_date":1682598095,"creation_date":1599136646,"question_id":63723867,"body_markdown":"I&#39;m trying to add a driver, and this page tells me to open `View | Tool Windows | Database` https://www.jetbrains.com/help/idea/managing-data-sources.html\r\n\r\nBut there is no such tool window. See picture\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e0jds.png\r\n\r\nI tried Alt-3 since that option is missing in the menu, but nothing happens.\r\n\r\nHow do I add the postgresql driver from Intellij? I already have the mysql driver.\r\n\r\nIntelliJ version: IntelliJ IDA 2020.2.1 Community edition","title":"How to add a postgresql jdbc driver to intellij?","body":"<p>I'm trying to add a driver, and this page tells me to open <code>View | Tool Windows | Database</code> <a href=\"https://www.jetbrains.com/help/idea/managing-data-sources.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/managing-data-sources.html</a></p>\n<p>But there is no such tool window. See picture</p>\n<p><a href=\"https://i.stack.imgur.com/e0jds.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e0jds.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried Alt-3 since that option is missing in the menu, but nothing happens.</p>\n<p>How do I add the postgresql driver from Intellij? I already have the mysql driver.</p>\n<p>IntelliJ version: IntelliJ IDA 2020.2.1 Community edition</p>\n"},{"tags":["java","hibernate","jpa","many-to-many"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1682599872,"post_id":76120347,"comment_id":134243515,"body_markdown":"When you commit the transaction, do you get inserts for two separate RegistryEntity instances? You mentioned a DB trigger is involved in excluding - can you elaborate on what your trigger is doing exactly or why it would be involved in changing columns and excluding conditions? JPA would not ignore the list being added to the second registryEntity, though your provider might have issues if the List is the same instance shared into two entities.","body":"When you commit the transaction, do you get inserts for two separate RegistryEntity instances? You mentioned a DB trigger is involved in excluding - can you elaborate on what your trigger is doing exactly or why it would be involved in changing columns and excluding conditions? JPA would not ignore the list being added to the second registryEntity, though your provider might have issues if the List is the same instance shared into two entities."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1682600560,"post_id":76120347,"comment_id":134243708,"body_markdown":"@Chris trigger just updates the table with boolean flags like &#39;sentTo1&#39; and &#39;sentTo2&#39; that are updated on some subsequent change after the doTask() exectution. So here the trigger is just a way how to return the first payments list empty because of added change","body":"@Chris trigger just updates the table with boolean flags like &#39;sentTo1&#39; and &#39;sentTo2&#39; that are updated on some subsequent change after the doTask() exectution. So here the trigger is just a way how to return the first payments list empty because of added change"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1682600661,"post_id":76120347,"comment_id":134243733,"body_markdown":"@Chris I do get inserts, but they appear in the registries table and the first entity is mentioned by the join table and its join to the payments, while the second registry is inserted, but stays orphan, there are no entries in the join table that refer it","body":"@Chris I do get inserts, but they appear in the registries table and the first entity is mentioned by the join table and its join to the payments, while the second registry is inserted, but stays orphan, there are no entries in the join table that refer it"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1682603920,"post_id":76120347,"comment_id":134244620,"body_markdown":"Still don&#39;t know why a trigger is involved. What is in that second list exactly? Maybe verify with a simple test case that uses your model on a DB that doesn&#39;t have triggers that your model and the code work, as it is certainly something you aren&#39;t showing that is causing the issue.","body":"Still don&#39;t know why a trigger is involved. What is in that second list exactly? Maybe verify with a simple test case that uses your model on a DB that doesn&#39;t have triggers that your model and the code work, as it is certainly something you aren&#39;t showing that is causing the issue."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1682605863,"post_id":76120347,"comment_id":134245153,"body_markdown":"@Chris may be. But now I have found the workaround. I have created the separate methods and transactions for something that takes payments from the DAO and calls savePayments(). 2 separate transactions removed the problem","body":"@Chris may be. But now I have found the workaround. I have created the separate methods and transactions for something that takes payments from the DAO and calls savePayments(). 2 separate transactions removed the problem"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682598093,"creation_date":1682598093,"question_id":76120347,"body_markdown":"I have 2 entities with `@ManyToMany` relation like that:\r\n\r\n    @Entity\r\n    @Table(name = &quot;payments&quot;)\r\n    @TypeDef(name = &quot;hstore&quot;, typeClass = PostgreSQLHStoreType.class)\r\n    public class PaymentEntity implements Serializable {\r\n        @Id\r\n        @GenericGenerator(\r\n                name = &quot;payment_gen&quot;,\r\n                strategy = &quot;com.openpayment.impl.entity.ManualSequenceIdentifier&quot;,\r\n                parameters = {\r\n                        @org.hibernate.annotations.Parameter(name = &quot;sequence_name&quot;, value = &quot;payments_id_seq&quot;)\r\n                }\r\n        )\r\n        @GeneratedValue(generator=&quot;payment_gen&quot;)\r\n        private Long id;\r\n    \r\n    }\r\n\r\n(of course they are other columns, but omitted for brevity)\r\n\r\nand \r\n\r\n    @Entity\r\n    @Table(name = &quot;registries&quot;)\r\n    public class RegistryEntity {\r\n        @Id\r\n        @SequenceGenerator(name=&quot;registries_gen&quot;, sequenceName=&quot;registries_id_seq&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator=&quot;registries_gen&quot;)\r\n        private Long id;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(name = &quot;registry_payments&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;registry_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;payment_id&quot;))\r\n        private Collection&lt;PaymentEntity&gt; payments;\r\n    \r\n    }\r\n\r\n(other columns are also omitted)\r\n\r\nSo, the `RegistryEntity` has a join table to refer the `PaymentEntity`.\r\n\r\nThen, in one transaction I \r\n\r\n1) Create 2 different `RegistryEntity` JPA objects  \r\n2) Assign a list of the same `PaymentEntity`&#39;s (let it be a list of size=2)\r\n3) consequently persist both `RegistryEntity`\r\n\r\n\r\n        \r\n        @Transactional\r\n        public void doTask() {\r\n        execute();\r\n        }\r\n\r\n        public void execute() {\r\n        List&lt;PaymentEntity&gt; payments1 = paymentDao.getRegistryPaymentsConditionFisrt();\r\n        savePayments(payments1);\r\n        List&lt;PaymentEntity&gt; payments2 = paymentDao.getRegistryPaymentsConditionSecond();\r\n        // first and second condition return the same payments at the first run\r\n        savePayments(payments2);\r\n        }\r\n\r\n        public void savePayments(List&lt;PaymentEntity&gt; payments) {\r\n        RegistryEntity registryEntity = new RegistryEntity();\r\n        if (payments.size() &gt; 0) {\r\n            registryEntity.setPayments(payments);\r\n        }       \r\n        registryDao.persist(registryEntity);\r\n        }\r\n\r\n\r\nI expect: the join table would have 4 extra values, each `RegistryEntity` assigned to each `PaymentEntity`. \r\n\r\nActual result: only unique values of `PaymentEntity` ids are inserted at the same time. I.e. in Join table there are only entries for all `PaymentEntity` and the only `RegistryEntity`. Like I have never tried to add the same payments to the second registry.\r\n\r\n I need to rerun the transaction, excluding the addition of already added elements and thus the insert occurs. Excluding occurs because of DB trigger, that changes the column, that doesn&#39;t allow to pick up that at the fisrtCondition, but allows only to pick up at the second condition.\r\n\r\nSo it looks, lie for JPA perspective, `PaymentEntity` in both list are still the same. It ignores that it was added to the first `RegistryEntity`, since it was added to the first one. My expectation is that it shouldn&#39;t be treated on `PaymentEntity` side, but on `RegistryEntity` side, which should distinguish the and allow to be the same payment added to the different registry at once.\r\n\r\nWhere I&#39;m wrong?","title":"How to add several @ManyToMany relations in one JPA transaction?","body":"<p>I have 2 entities with <code>@ManyToMany</code> relation like that:</p>\n<pre><code>@Entity\n@Table(name = &quot;payments&quot;)\n@TypeDef(name = &quot;hstore&quot;, typeClass = PostgreSQLHStoreType.class)\npublic class PaymentEntity implements Serializable {\n    @Id\n    @GenericGenerator(\n            name = &quot;payment_gen&quot;,\n            strategy = &quot;com.openpayment.impl.entity.ManualSequenceIdentifier&quot;,\n            parameters = {\n                    @org.hibernate.annotations.Parameter(name = &quot;sequence_name&quot;, value = &quot;payments_id_seq&quot;)\n            }\n    )\n    @GeneratedValue(generator=&quot;payment_gen&quot;)\n    private Long id;\n\n}\n</code></pre>\n<p>(of course they are other columns, but omitted for brevity)</p>\n<p>and</p>\n<pre><code>@Entity\n@Table(name = &quot;registries&quot;)\npublic class RegistryEntity {\n    @Id\n    @SequenceGenerator(name=&quot;registries_gen&quot;, sequenceName=&quot;registries_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(generator=&quot;registries_gen&quot;)\n    private Long id;\n\n    @ManyToMany\n    @JoinTable(name = &quot;registry_payments&quot;,\n            joinColumns = @JoinColumn(name = &quot;registry_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;payment_id&quot;))\n    private Collection&lt;PaymentEntity&gt; payments;\n\n}\n</code></pre>\n<p>(other columns are also omitted)</p>\n<p>So, the <code>RegistryEntity</code> has a join table to refer the <code>PaymentEntity</code>.</p>\n<p>Then, in one transaction I</p>\n<ol>\n<li><p>Create 2 different <code>RegistryEntity</code> JPA objects</p>\n</li>\n<li><p>Assign a list of the same <code>PaymentEntity</code>'s (let it be a list of size=2)</p>\n</li>\n<li><p>consequently persist both <code>RegistryEntity</code></p>\n<pre><code> @Transactional\n public void doTask() {\n execute();\n }\n\n public void execute() {\n List&lt;PaymentEntity&gt; payments1 = paymentDao.getRegistryPaymentsConditionFisrt();\n savePayments(payments1);\n List&lt;PaymentEntity&gt; payments2 = paymentDao.getRegistryPaymentsConditionSecond();\n // first and second condition return the same payments at the first run\n savePayments(payments2);\n }\n\n public void savePayments(List&lt;PaymentEntity&gt; payments) {\n RegistryEntity registryEntity = new RegistryEntity();\n if (payments.size() &gt; 0) {\n     registryEntity.setPayments(payments);\n }       \n registryDao.persist(registryEntity);\n }\n</code></pre>\n</li>\n</ol>\n<p>I expect: the join table would have 4 extra values, each <code>RegistryEntity</code> assigned to each <code>PaymentEntity</code>.</p>\n<p>Actual result: only unique values of <code>PaymentEntity</code> ids are inserted at the same time. I.e. in Join table there are only entries for all <code>PaymentEntity</code> and the only <code>RegistryEntity</code>. Like I have never tried to add the same payments to the second registry.</p>\n<p>I need to rerun the transaction, excluding the addition of already added elements and thus the insert occurs. Excluding occurs because of DB trigger, that changes the column, that doesn't allow to pick up that at the fisrtCondition, but allows only to pick up at the second condition.</p>\n<p>So it looks, lie for JPA perspective, <code>PaymentEntity</code> in both list are still the same. It ignores that it was added to the first <code>RegistryEntity</code>, since it was added to the first one. My expectation is that it shouldn't be treated on <code>PaymentEntity</code> side, but on <code>RegistryEntity</code> side, which should distinguish the and allow to be the same payment added to the different registry at once.</p>\n<p>Where I'm wrong?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"comments":[{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1682607444,"post_id":76120304,"comment_id":134245591,"body_markdown":"Basically what you are saying is that the header for content type is not being set when using `spring.cloud.stream.sendto.destination` mechanism. I&#39;ll try to reproduce it, but it appears to be a bug, so please file an issue. Also if you do have a reproducible sample or can make one that would greatly speedup the fixing process","body":"Basically what you are saying is that the header for content type is not being set when using <code>spring.cloud.stream.sendto.destination</code> mechanism. I&#39;ll try to reproduce it, but it appears to be a bug, so please file an issue. Also if you do have a reproducible sample or can make one that would greatly speedup the fixing process"},{"owner":{"account_id":12541958,"reputation":139,"user_id":9126612,"display_name":"Karthik"},"score":0,"creation_date":1682617483,"post_id":76120304,"comment_id":134248114,"body_markdown":"@OlegZhurakousky here&#39;s the github issue I created: https://github.com/spring-cloud/spring-cloud-stream/issues/2719","body":"@OlegZhurakousky here&#39;s the github issue I created: <a href=\"https://github.com/spring-cloud/spring-cloud-stream/issues/2719\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-stream/issues/2719</a>"}],"owner":{"account_id":12541958,"reputation":139,"user_id":9126612,"display_name":"Karthik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682597764,"creation_date":1682597764,"question_id":76120304,"body_markdown":"I have a functionRouter that routes messages to different functions based on header. These functions in turn process the message and return a result which I need to publish to another topic. But I get this exception \r\n```\r\nCaused by: java.lang.ClassCastException: class com.example.airplane.FlightEvent cannot be cast to class [B (com.example.airplane.FlightEvent is in unnamed module of loader &#39;app&#39;; [B is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat org.apache.kafka.common.serialization.ByteArraySerializer.serialize(ByteArraySerializer.java:19) ~[kafka-clients-3.3.2.jar:na]\r\n\tat org.apache.kafka.common.serialization.Serializer.serialize(Serializer.java:62) ~[kafka-clients-3.3.2.jar:na]\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1005) ~[kafka-clients-3.3.2.jar:na]\r\n\t... 59 common frames omitted\r\n```\r\n\r\nMy setup:\r\n\r\napplication.properties\r\n```properties\r\nspring.application.name=airplane\r\nserver.port=8095\r\n\r\nspring.cloud.stream.bindings.planeEventProducer.destination=plane-events\r\n\r\n\r\nspring.cloud.stream.bindings.flightEventProducer.destination=flight-events\r\nspring.cloud.stream.bindings.landEventProducer.destination=land-events\r\nspring.cloud.stream.bindings.arrivalEventProducer.destination=arrival-events\r\n\r\nspring.cloud.stream.output-bindings=replayProducer;planeEventProducer;flightEventProducer;landEventProducer;arrivalEventProducer\r\n\r\nspring.cloud.stream.bindings.functionRouter-in-0.destination=plane-events,flight-events,land-events,arrival-events\r\nspring.cloud.stream.bindings.functionRouter-in-0.group=airplane\r\nspring.cloud.stream.bindings.functionRouter-in-0.consumer.concurrency=8\r\n\r\nspring.cloud.stream.function.definition=functionRouter;\r\nspring.cloud.stream.function.routing.enabled=true\r\nspring.cloud.function.routing-expression=headers[&#39;Type&#39;]\r\nspring.cloud.stream.kafka.binder.autoCreateTopics=true\r\nspring.cloud.stream.kafka.binder.brokers=localhost:9092\r\nspring.cloud.stream.kafka.binder.replication-factor=1\r\nspring.cloud.stream.kafka.binder.min-partition-count=8\r\n```\r\n\r\n\r\nAirplaneApplication.java\r\n```java\r\npackage com.example.airplane;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.messaging.Message;\r\nimport org.springframework.messaging.support.MessageBuilder;\r\n\r\nimport java.util.function.Consumer;\r\nimport java.util.function.Function;\r\n\r\n@SpringBootApplication\r\npublic class AirplaneApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(AirplaneApplication.class, args);\r\n\t}\r\n\r\n\tLogger logger = LoggerFactory.getLogger(AirplaneApplication.class);\r\n\r\n\t@Bean(&quot;ArrivalEvent&quot;)\r\n\tpublic Consumer&lt;Message&lt;ArrivalEvent&gt;&gt; arrivalEventConsumer() {\r\n\t\treturn msg -&gt; {\r\n\t\t\tlogger.info(&quot;ArrivalEvent consumed: {}&quot;, msg.getPayload());\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean(&quot;LandEvent&quot;)\r\n\tpublic Function&lt;Message&lt;LandEvent&gt;, Message&lt;ArrivalEvent&gt;&gt; landEventProcessor() {\r\n\t\treturn landEventMessage -&gt; {\r\n\t\t\tArrivalEvent arrivalEvent = new ArrivalEvent(landEventMessage.getPayload().getFlightId()+&quot;-flight&quot;, landEventMessage.getPayload().getCurrentAirport());\r\n\t\t\tlogger.info(&quot;Publishing ArrivalEvent: {}&quot;, arrivalEvent);\r\n\t\t\treturn MessageBuilder.withPayload(arrivalEvent)\r\n\t\t\t\t\t.setHeader(&quot;Type&quot;, ArrivalEvent.class.getSimpleName())\r\n\t\t\t\t\t.setHeader(&quot;spring.cloud.stream.sendto.destination&quot;, &quot;arrivalEventProducer&quot;)\r\n\t\t\t\t\t.build();\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean(&quot;FlightEvent&quot;)\r\n\tpublic Function&lt;Message&lt;FlightEvent&gt;, Message&lt;LandEvent&gt;&gt; flightEventProcessor() {\r\n\t\treturn flightEventMessage -&gt; {\r\n\t\t\tLandEvent landEvent = new LandEvent(flightEventMessage.getPayload().getFlightId()+&quot;-flight&quot;, flightEventMessage.getPayload().getCurrentAirport());\r\n\t\t\tlogger.info(&quot;Publishing LandEvent: {}&quot;, landEvent);\r\n\t\t\treturn MessageBuilder.withPayload(landEvent)\r\n\t\t\t\t\t.setHeader(&quot;Type&quot;, LandEvent.class.getSimpleName())\r\n\t\t\t\t\t.setHeader(&quot;spring.cloud.stream.sendto.destination&quot;, &quot;landEventProducer&quot;)\r\n\t\t\t\t\t.build();\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean(&quot;PlaneEvent&quot;)\r\n\tpublic Function&lt;Message&lt;PlaneEvent&gt;, Message&lt;FlightEvent&gt;&gt; planeEventProcessor() {\r\n\t\treturn planeEventMessage -&gt; {\r\n\t\t\tFlightEvent flightEvent = new FlightEvent(planeEventMessage.getPayload().getPlaneId()+&quot;-flight&quot;, planeEventMessage.getPayload().getCurrentAirport());\r\n\t\t\tlogger.info(&quot;Publishing Flight: {}&quot;, flightEvent);\r\n\t\t\treturn MessageBuilder.withPayload(flightEvent)\r\n\t\t\t\t\t.setHeader(&quot;Type&quot;, FlightEvent.class.getSimpleName())\r\n\t\t\t\t\t.setHeader(&quot;spring.cloud.stream.sendto.destination&quot;, &quot;flightEventProducer&quot;)\r\n\t\t\t\t\t.build();\r\n\t\t};\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nAirplaneController.java\r\n```java\r\n@RestController\r\npublic class AirplaneController {\r\n    @Autowired\r\n    StreamBridge streamBridge;\r\n\r\n    @GetMapping(&quot;publishPlane&quot;)\r\n    public void publishPlane() {\r\n        PlaneEvent planeEvent = new PlaneEvent(UUID.randomUUID().toString(), &quot;CITY&quot;);\r\n        Message&lt;PlaneEvent&gt; message = MessageBuilder.withPayload(planeEvent).setHeader(&quot;Type&quot;, PlaneEvent.class.getSimpleName())\r\n                .build();\r\n        streamBridge.send(&quot;planeEventProducer&quot;, message);\r\n    }\r\n}\r\n```\r\n\r\nOn calling the GET endpoint (publish plane) I get a ClassCastException when `planeEventProcessor` tries to publish to the `flightEventProducer` binding:\r\n\r\n```\r\norg.springframework.kafka.listener.ListenerExecutionFailedException: Listener failed\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2953) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2894) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2860) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.lambda$doInvokeRecordListener$56(KafkaMessageListenerContainer.java:2783) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:559) ~[micrometer-observation-1.10.4.jar:1.10.4]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2781) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2633) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2519) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2171) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1526) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1490) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1365) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run$$$capture(CompletableFuture.java:1804) ~[na:na]\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: org.springframework.kafka.KafkaException: Failed to execute runnable\r\n\tat org.springframework.integration.kafka.inbound.KafkaInboundEndpoint.doWithRetry(KafkaInboundEndpoint.java:75) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.onMessage(KafkaMessageDrivenChannelAdapter.java:461) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.onMessage(KafkaMessageDrivenChannelAdapter.java:425) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2880) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\t... 13 common frames omitted\r\nCaused by: org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.binder.kafka.KafkaMessageChannelBinder$ProducerConfigurationMessageHandler@24f4760]\r\n\tat org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:108) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.cloud.stream.binder.AbstractMessageChannelBinder$SendingHandler.handleMessageInternal(AbstractMessageChannelBinder.java:1118) ~[spring-cloud-stream-4.0.1.jar:4.0.1]\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:327) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1.doSendMessage(FunctionConfiguration.java:648) ~[spring-cloud-stream-4.0.1.jar:4.0.1]\r\n\tat org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1.handleMessageInternal(FunctionConfiguration.java:637) ~[spring-cloud-stream-4.0.1.jar:4.0.1]\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:327) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-6.0.6.jar:6.0.6]\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-6.0.6.jar:6.0.6]\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-6.0.6.jar:6.0.6]\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-6.0.6.jar:6.0.6]\r\n\tat org.springframework.integration.endpoint.MessageProducerSupport.lambda$sendMessage$1(MessageProducerSupport.java:262) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:492) ~[micrometer-observation-1.10.4.jar:1.10.4]\r\n\tat org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:262) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter.sendMessageIfAny(KafkaMessageDrivenChannelAdapter.java:394) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.lambda$onMessage$0(KafkaMessageDrivenChannelAdapter.java:464) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.kafka.inbound.KafkaInboundEndpoint.lambda$doWithRetry$0(KafkaInboundEndpoint.java:70) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\r\n\tat org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329) ~[spring-retry-2.0.0.jar:na]\r\n\tat org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:225) ~[spring-retry-2.0.0.jar:na]\r\n\tat org.springframework.integration.kafka.inbound.KafkaInboundEndpoint.doWithRetry(KafkaInboundEndpoint.java:66) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\r\n\t... 16 common frames omitted\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Can&#39;t convert value of class com.example.airplane.FlightEvent to class org.apache.kafka.common.serialization.ByteArraySerializer specified in value.serializer\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1008) ~[kafka-clients-3.3.2.jar:na]\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:952) ~[kafka-clients-3.3.2.jar:na]\r\n\tat org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:1022) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:729) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat org.springframework.kafka.core.KafkaTemplate.observeSend(KafkaTemplate.java:700) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:510) ~[spring-kafka-3.0.4.jar:3.0.4]\r\n\tat org.springframework.integration.kafka.outbound.KafkaProducerMessageHandler.handleRequestMessage(KafkaProducerMessageHandler.java:528) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105) ~[spring-integration-core-6.0.3.jar:6.0.3]\r\n\t... 51 common frames omitted\r\nCaused by: java.lang.ClassCastException: class com.example.airplane.FlightEvent cannot be cast to class [B (com.example.airplane.FlightEvent is in unnamed module of loader &#39;app&#39;; [B is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat org.apache.kafka.common.serialization.ByteArraySerializer.serialize(ByteArraySerializer.java:19) ~[kafka-clients-3.3.2.jar:na]\r\n\tat org.apache.kafka.common.serialization.Serializer.serialize(Serializer.java:62) ~[kafka-clients-3.3.2.jar:na]\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1005) ~[kafka-clients-3.3.2.jar:na]\r\n\t... 59 common frames omitted\r\n\r\n\r\n```\r\n\r\nPublishing messages using output-bindings and streamBridge works as expected, but using the same output-binding with `.setHeader(&quot;spring.cloud.stream.sendto.destination&quot;, &quot;output binding name here&quot;)` doesn&#39;t.\r\n\r\nBut, instead of using one of the bindings specified in `spring.cloud.stream.output-bindings` when I try to use the function&#39;s output binding `PlaneEvent-out-0`, and add `PlaneEvent` to `spring.cloud.stream.function.definition`, it works as expected.\r\n\r\nOn debugging a little I can see that streamBridge sets the outputContentType correctly (`application/json`).\r\n\r\n```java\r\npublic boolean send(String bindingName, Object data) {\r\n        BindingProperties bindingProperties = this.bindingServiceProperties.getBindingProperties(bindingName);\r\n        MimeType contentType = StringUtils.hasText(bindingProperties.getContentType()) ? MimeType.valueOf(bindingProperties.getContentType()) : MimeTypeUtils.APPLICATION_JSON;\r\n        return this.send(bindingName, data, contentType);\r\n    }\r\n```\r\n\r\nBut, this doesn&#39;t seem to be happening with `spring.cloud.stream.sendto.destination` for bindings which are not specified in `spring.cloud.stream.function.definition`.\r\nThe correct outputContentType is present in the `BindingPropeties`, but it isn&#39;t getting used.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/swU5i.png\r\n\r\n\r\nHow can I get around this?","title":"Spring Cloud Stream routing-to channel gives ClassCastException","body":"<p>I have a functionRouter that routes messages to different functions based on header. These functions in turn process the message and return a result which I need to publish to another topic. But I get this exception</p>\n<pre><code>Caused by: java.lang.ClassCastException: class com.example.airplane.FlightEvent cannot be cast to class [B (com.example.airplane.FlightEvent is in unnamed module of loader 'app'; [B is in module java.base of loader 'bootstrap')\n    at org.apache.kafka.common.serialization.ByteArraySerializer.serialize(ByteArraySerializer.java:19) ~[kafka-clients-3.3.2.jar:na]\n    at org.apache.kafka.common.serialization.Serializer.serialize(Serializer.java:62) ~[kafka-clients-3.3.2.jar:na]\n    at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1005) ~[kafka-clients-3.3.2.jar:na]\n    ... 59 common frames omitted\n</code></pre>\n<p>My setup:</p>\n<p>application.properties</p>\n<pre><code>spring.application.name=airplane\nserver.port=8095\n\nspring.cloud.stream.bindings.planeEventProducer.destination=plane-events\n\n\nspring.cloud.stream.bindings.flightEventProducer.destination=flight-events\nspring.cloud.stream.bindings.landEventProducer.destination=land-events\nspring.cloud.stream.bindings.arrivalEventProducer.destination=arrival-events\n\nspring.cloud.stream.output-bindings=replayProducer;planeEventProducer;flightEventProducer;landEventProducer;arrivalEventProducer\n\nspring.cloud.stream.bindings.functionRouter-in-0.destination=plane-events,flight-events,land-events,arrival-events\nspring.cloud.stream.bindings.functionRouter-in-0.group=airplane\nspring.cloud.stream.bindings.functionRouter-in-0.consumer.concurrency=8\n\nspring.cloud.stream.function.definition=functionRouter;\nspring.cloud.stream.function.routing.enabled=true\nspring.cloud.function.routing-expression=headers['Type']\nspring.cloud.stream.kafka.binder.autoCreateTopics=true\nspring.cloud.stream.kafka.binder.brokers=localhost:9092\nspring.cloud.stream.kafka.binder.replication-factor=1\nspring.cloud.stream.kafka.binder.min-partition-count=8\n</code></pre>\n<p>AirplaneApplication.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.airplane;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.messaging.Message;\nimport org.springframework.messaging.support.MessageBuilder;\n\nimport java.util.function.Consumer;\nimport java.util.function.Function;\n\n@SpringBootApplication\npublic class AirplaneApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AirplaneApplication.class, args);\n    }\n\n    Logger logger = LoggerFactory.getLogger(AirplaneApplication.class);\n\n    @Bean(&quot;ArrivalEvent&quot;)\n    public Consumer&lt;Message&lt;ArrivalEvent&gt;&gt; arrivalEventConsumer() {\n        return msg -&gt; {\n            logger.info(&quot;ArrivalEvent consumed: {}&quot;, msg.getPayload());\n        };\n    }\n\n    @Bean(&quot;LandEvent&quot;)\n    public Function&lt;Message&lt;LandEvent&gt;, Message&lt;ArrivalEvent&gt;&gt; landEventProcessor() {\n        return landEventMessage -&gt; {\n            ArrivalEvent arrivalEvent = new ArrivalEvent(landEventMessage.getPayload().getFlightId()+&quot;-flight&quot;, landEventMessage.getPayload().getCurrentAirport());\n            logger.info(&quot;Publishing ArrivalEvent: {}&quot;, arrivalEvent);\n            return MessageBuilder.withPayload(arrivalEvent)\n                    .setHeader(&quot;Type&quot;, ArrivalEvent.class.getSimpleName())\n                    .setHeader(&quot;spring.cloud.stream.sendto.destination&quot;, &quot;arrivalEventProducer&quot;)\n                    .build();\n        };\n    }\n\n    @Bean(&quot;FlightEvent&quot;)\n    public Function&lt;Message&lt;FlightEvent&gt;, Message&lt;LandEvent&gt;&gt; flightEventProcessor() {\n        return flightEventMessage -&gt; {\n            LandEvent landEvent = new LandEvent(flightEventMessage.getPayload().getFlightId()+&quot;-flight&quot;, flightEventMessage.getPayload().getCurrentAirport());\n            logger.info(&quot;Publishing LandEvent: {}&quot;, landEvent);\n            return MessageBuilder.withPayload(landEvent)\n                    .setHeader(&quot;Type&quot;, LandEvent.class.getSimpleName())\n                    .setHeader(&quot;spring.cloud.stream.sendto.destination&quot;, &quot;landEventProducer&quot;)\n                    .build();\n        };\n    }\n\n    @Bean(&quot;PlaneEvent&quot;)\n    public Function&lt;Message&lt;PlaneEvent&gt;, Message&lt;FlightEvent&gt;&gt; planeEventProcessor() {\n        return planeEventMessage -&gt; {\n            FlightEvent flightEvent = new FlightEvent(planeEventMessage.getPayload().getPlaneId()+&quot;-flight&quot;, planeEventMessage.getPayload().getCurrentAirport());\n            logger.info(&quot;Publishing Flight: {}&quot;, flightEvent);\n            return MessageBuilder.withPayload(flightEvent)\n                    .setHeader(&quot;Type&quot;, FlightEvent.class.getSimpleName())\n                    .setHeader(&quot;spring.cloud.stream.sendto.destination&quot;, &quot;flightEventProducer&quot;)\n                    .build();\n        };\n    }\n\n}\n\n</code></pre>\n<p>AirplaneController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class AirplaneController {\n    @Autowired\n    StreamBridge streamBridge;\n\n    @GetMapping(&quot;publishPlane&quot;)\n    public void publishPlane() {\n        PlaneEvent planeEvent = new PlaneEvent(UUID.randomUUID().toString(), &quot;CITY&quot;);\n        Message&lt;PlaneEvent&gt; message = MessageBuilder.withPayload(planeEvent).setHeader(&quot;Type&quot;, PlaneEvent.class.getSimpleName())\n                .build();\n        streamBridge.send(&quot;planeEventProducer&quot;, message);\n    }\n}\n</code></pre>\n<p>On calling the GET endpoint (publish plane) I get a ClassCastException when <code>planeEventProcessor</code> tries to publish to the <code>flightEventProducer</code> binding:</p>\n<pre><code>org.springframework.kafka.listener.ListenerExecutionFailedException: Listener failed\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2953) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2894) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2860) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.lambda$doInvokeRecordListener$56(KafkaMessageListenerContainer.java:2783) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at io.micrometer.observation.Observation.observe(Observation.java:559) ~[micrometer-observation-1.10.4.jar:1.10.4]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2781) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2633) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2519) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2171) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1526) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1490) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1365) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run$$$capture(CompletableFuture.java:1804) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: org.springframework.kafka.KafkaException: Failed to execute runnable\n    at org.springframework.integration.kafka.inbound.KafkaInboundEndpoint.doWithRetry(KafkaInboundEndpoint.java:75) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\n    at org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.onMessage(KafkaMessageDrivenChannelAdapter.java:461) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\n    at org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.onMessage(KafkaMessageDrivenChannelAdapter.java:425) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2880) ~[spring-kafka-3.0.4.jar:3.0.4]\n    ... 13 common frames omitted\nCaused by: org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.binder.kafka.KafkaMessageChannelBinder$ProducerConfigurationMessageHandler@24f4760]\n    at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:108) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder$SendingHandler.handleMessageInternal(AbstractMessageChannelBinder.java:1118) ~[spring-cloud-stream-4.0.1.jar:4.0.1]\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:327) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1.doSendMessage(FunctionConfiguration.java:648) ~[spring-cloud-stream-4.0.1.jar:4.0.1]\n    at org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1.handleMessageInternal(FunctionConfiguration.java:637) ~[spring-cloud-stream-4.0.1.jar:4.0.1]\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:327) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-6.0.6.jar:6.0.6]\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-6.0.6.jar:6.0.6]\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-6.0.6.jar:6.0.6]\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-6.0.6.jar:6.0.6]\n    at org.springframework.integration.endpoint.MessageProducerSupport.lambda$sendMessage$1(MessageProducerSupport.java:262) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at io.micrometer.observation.Observation.observe(Observation.java:492) ~[micrometer-observation-1.10.4.jar:1.10.4]\n    at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:262) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter.sendMessageIfAny(KafkaMessageDrivenChannelAdapter.java:394) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\n    at org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.lambda$onMessage$0(KafkaMessageDrivenChannelAdapter.java:464) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\n    at org.springframework.integration.kafka.inbound.KafkaInboundEndpoint.lambda$doWithRetry$0(KafkaInboundEndpoint.java:70) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329) ~[spring-retry-2.0.0.jar:na]\n    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:225) ~[spring-retry-2.0.0.jar:na]\n    at org.springframework.integration.kafka.inbound.KafkaInboundEndpoint.doWithRetry(KafkaInboundEndpoint.java:66) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\n    ... 16 common frames omitted\nCaused by: org.apache.kafka.common.errors.SerializationException: Can't convert value of class com.example.airplane.FlightEvent to class org.apache.kafka.common.serialization.ByteArraySerializer specified in value.serializer\n    at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1008) ~[kafka-clients-3.3.2.jar:na]\n    at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:952) ~[kafka-clients-3.3.2.jar:na]\n    at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:1022) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:729) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at org.springframework.kafka.core.KafkaTemplate.observeSend(KafkaTemplate.java:700) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:510) ~[spring-kafka-3.0.4.jar:3.0.4]\n    at org.springframework.integration.kafka.outbound.KafkaProducerMessageHandler.handleRequestMessage(KafkaProducerMessageHandler.java:528) ~[spring-integration-kafka-6.0.3.jar:6.0.3]\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105) ~[spring-integration-core-6.0.3.jar:6.0.3]\n    ... 51 common frames omitted\nCaused by: java.lang.ClassCastException: class com.example.airplane.FlightEvent cannot be cast to class [B (com.example.airplane.FlightEvent is in unnamed module of loader 'app'; [B is in module java.base of loader 'bootstrap')\n    at org.apache.kafka.common.serialization.ByteArraySerializer.serialize(ByteArraySerializer.java:19) ~[kafka-clients-3.3.2.jar:na]\n    at org.apache.kafka.common.serialization.Serializer.serialize(Serializer.java:62) ~[kafka-clients-3.3.2.jar:na]\n    at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1005) ~[kafka-clients-3.3.2.jar:na]\n    ... 59 common frames omitted\n\n\n</code></pre>\n<p>Publishing messages using output-bindings and streamBridge works as expected, but using the same output-binding with <code>.setHeader(&quot;spring.cloud.stream.sendto.destination&quot;, &quot;output binding name here&quot;)</code> doesn't.</p>\n<p>But, instead of using one of the bindings specified in <code>spring.cloud.stream.output-bindings</code> when I try to use the function's output binding <code>PlaneEvent-out-0</code>, and add <code>PlaneEvent</code> to <code>spring.cloud.stream.function.definition</code>, it works as expected.</p>\n<p>On debugging a little I can see that streamBridge sets the outputContentType correctly (<code>application/json</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean send(String bindingName, Object data) {\n        BindingProperties bindingProperties = this.bindingServiceProperties.getBindingProperties(bindingName);\n        MimeType contentType = StringUtils.hasText(bindingProperties.getContentType()) ? MimeType.valueOf(bindingProperties.getContentType()) : MimeTypeUtils.APPLICATION_JSON;\n        return this.send(bindingName, data, contentType);\n    }\n</code></pre>\n<p>But, this doesn't seem to be happening with <code>spring.cloud.stream.sendto.destination</code> for bindings which are not specified in <code>spring.cloud.stream.function.definition</code>.\nThe correct outputContentType is present in the <code>BindingPropeties</code>, but it isn't getting used.</p>\n<p><a href=\"https://i.stack.imgur.com/swU5i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/swU5i.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I get around this?</p>\n"},{"tags":["java","android-espresso"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1681852329,"post_id":76048885,"comment_id":134123139,"body_markdown":"No sure about your issue, but given &quot;This is expected as this view is part of a ListView cell.&quot; you should be using `onData` instead of re-inventing wheels: https://developer.android.com/training/testing/espresso/lists","body":"No sure about your issue, but given &quot;This is expected as this view is part of a ListView cell.&quot; you should be using <code>onData</code> instead of re-inventing wheels: <a href=\"https://developer.android.com/training/testing/espresso/lists\" rel=\"nofollow noreferrer\">developer.android.com/training/testing/espresso/lists</a>"},{"owner":{"account_id":4414825,"reputation":1,"user_id":3596757,"display_name":"K2-XT"},"score":0,"creation_date":1681938603,"post_id":76048885,"comment_id":134139496,"body_markdown":"I was able to get this working via onData. However, I&#39;m still concerned about first() not working. The function should be finding matches, but the line &quot;if (isFirst &amp;&amp; matcher.matches(item))&quot; is failing every time.","body":"I was able to get this working via onData. However, I&#39;m still concerned about first() not working. The function should be finding matches, but the line &quot;if (isFirst &amp;&amp; matcher.matches(item))&quot; is failing every time."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1681939045,"post_id":76048885,"comment_id":134139556,"body_markdown":"You have the full source available - step through with the debugger and see why that is the case.","body":"You have the full source available - step through with the debugger and see why that is the case."},{"owner":{"account_id":4414825,"reputation":1,"user_id":3596757,"display_name":"K2-XT"},"score":0,"creation_date":1682705878,"post_id":76048885,"comment_id":134263261,"body_markdown":"I had stepped through the debugger previous to posting this question, seen the matcher go through, but for some reason still not match. I eventually settled on just using onData like your initial recommendation.","body":"I had stepped through the debugger previous to posting this question, seen the matcher go through, but for some reason still not match. I eventually settled on just using onData like your initial recommendation."}],"answers":[{"tags":[],"owner":{"account_id":8487999,"reputation":112,"user_id":6365410,"display_name":"Kaan Sariveli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682597763,"creation_date":1682597763,"answer_id":76120303,"question_id":76048885,"body_markdown":"There&#39;s a built-in function for that purpose\r\n\r\n`withParentIndex(int index)` \r\n\r\nIt is used in cases where multiple child views with the same identifier or type exist within a parent view and the developer wants to interact with a specific child view.\r\n\r\n\r\nhttps://developer.android.com/reference/androidx/test/espresso/matcher/ViewMatchers#withParentIndex(int)\r\n\r\n    allOf(withId(R.id.elementId), withText(&quot;text&quot;), withParentIndex(0)) ","title":"Espresso Gives AmbiguousViewMatcher Exception, When Using first(Matcher), I Get NoMatchingViewException","body":"<p>There's a built-in function for that purpose</p>\n<p><code>withParentIndex(int index)</code></p>\n<p>It is used in cases where multiple child views with the same identifier or type exist within a parent view and the developer wants to interact with a specific child view.</p>\n<p><a href=\"https://developer.android.com/reference/androidx/test/espresso/matcher/ViewMatchers#withParentIndex(int)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/test/espresso/matcher/ViewMatchers#withParentIndex(int)</a></p>\n<pre><code>allOf(withId(R.id.elementId), withText(&quot;text&quot;), withParentIndex(0)) \n</code></pre>\n"}],"owner":{"account_id":4414825,"reputation":1,"user_id":3596757,"display_name":"K2-XT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682597763,"creation_date":1681850470,"question_id":76048885,"body_markdown":"I have a ViewInteraction Query:\r\n\r\n```\r\nallOf(withId(R.id.elementId), withText(&quot;text&quot;))\r\n```\r\n\r\nWhen I try to query this view, I receive an AmbiguousViewMatcher exception. This is expected as this view is part of a ListView cell.\r\n\r\nHowever, I only want the first result on the page anyway. So, I implemented the function found here: [First Matcher Function](https://stackoverflow.com/a/36866682/3596757)\r\n\r\n```\r\npublic static &lt;T&gt; Matcher&lt;T&gt; first(final Matcher&lt;T&gt; matcher) {\r\n    return new BaseMatcher&lt;T&gt;() {\r\n        boolean isFirst = true;\r\n\r\n        @Override\r\n        public boolean matches(final Object item) {\r\n            if (isFirst &amp;&amp; matcher.matches(item)) {\r\n                isFirst = false;\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void describeTo(final Description description) {\r\n            description.appendText(&quot;should return first matching item&quot;);\r\n            matcher.describeTo(description);\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nWhen this function runs on the element, I get the following output:\r\n\r\n&gt; androidx.test.espresso.NoMatchingViewException: No views in hierarchy found matching: should return first matching item(view.getId() is \\&lt;2131362844/com.myapp:id/elementId\\&gt; and an instance of android.widget.TextView and view.getText() with or without transformation to match: is &quot;text&quot;)\r\n\r\nAnd I&#39;m querying it like so:\r\n\r\n```\r\nonView(first(allOf(withId(R.id.elementId), withText(&quot;text&quot;))))\r\n```\r\n\r\nDoes anyone have an idea of why I would go from 8 ambiguous views to no matching views according to this function? I&#39;ve also added logs, and I&#39;m seeing the view I want go through the function, but it&#39;s not detecting it as a match.\r\n\r\nWhat&#39;s weirder is that a similar function to this ([found here](https://stackoverflow.com/a/43552179/3596757)), was working just fine until a month or so ago. Suddenly, both of these functions stopped matching things for us.","title":"Espresso Gives AmbiguousViewMatcher Exception, When Using first(Matcher), I Get NoMatchingViewException","body":"<p>I have a ViewInteraction Query:</p>\n<pre><code>allOf(withId(R.id.elementId), withText(&quot;text&quot;))\n</code></pre>\n<p>When I try to query this view, I receive an AmbiguousViewMatcher exception. This is expected as this view is part of a ListView cell.</p>\n<p>However, I only want the first result on the page anyway. So, I implemented the function found here: <a href=\"https://stackoverflow.com/a/36866682/3596757\">First Matcher Function</a></p>\n<pre><code>public static &lt;T&gt; Matcher&lt;T&gt; first(final Matcher&lt;T&gt; matcher) {\n    return new BaseMatcher&lt;T&gt;() {\n        boolean isFirst = true;\n\n        @Override\n        public boolean matches(final Object item) {\n            if (isFirst &amp;&amp; matcher.matches(item)) {\n                isFirst = false;\n                return true;\n            }\n\n            return false;\n        }\n\n        @Override\n        public void describeTo(final Description description) {\n            description.appendText(&quot;should return first matching item&quot;);\n            matcher.describeTo(description);\n        }\n    };\n}\n</code></pre>\n<p>When this function runs on the element, I get the following output:</p>\n<blockquote>\n<p>androidx.test.espresso.NoMatchingViewException: No views in hierarchy found matching: should return first matching item(view.getId() is &lt;2131362844/com.myapp:id/elementId&gt; and an instance of android.widget.TextView and view.getText() with or without transformation to match: is &quot;text&quot;)</p>\n</blockquote>\n<p>And I'm querying it like so:</p>\n<pre><code>onView(first(allOf(withId(R.id.elementId), withText(&quot;text&quot;))))\n</code></pre>\n<p>Does anyone have an idea of why I would go from 8 ambiguous views to no matching views according to this function? I've also added logs, and I'm seeing the view I want go through the function, but it's not detecting it as a match.</p>\n<p>What's weirder is that a similar function to this (<a href=\"https://stackoverflow.com/a/43552179/3596757\">found here</a>), was working just fine until a month or so ago. Suddenly, both of these functions stopped matching things for us.</p>\n"},{"tags":["java","spring-data","spring-webflux","spring-data-r2dbc","r2dbc"],"comments":[{"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"score":0,"creation_date":1553808865,"post_id":55388604,"comment_id":97534875,"body_markdown":"To clarify your question: You want to retain a fluent style while binding potentially `null` values and you&#39;re asking how to achieve that.","body":"To clarify your question: You want to retain a fluent style while binding potentially <code>null</code> values and you&#39;re asking how to achieve that."},{"owner":{"account_id":7592404,"reputation":605,"user_id":5759656,"display_name":"Christian Meyer"},"score":0,"creation_date":1553823579,"post_id":55388604,"comment_id":97538865,"body_markdown":"Sounds like an acceptable way to phrase it. My actuql dataset contains more null values than the sample I made here. I would like to make methods similar to this one nearly as efficient as executing a prepared statement with jdbc, for example. I don’t want to use hooks or wrappers or insert values that do not adhere to the conventions of the data already in the database. So I care a lot about style in that sense. But I’m open to ideas that require a bit of compromise. I’m new to both r2dbc and reactive so it’s very possible that I’ve overlooked a simple solution or a smart workaround.","body":"Sounds like an acceptable way to phrase it. My actuql dataset contains more null values than the sample I made here. I would like to make methods similar to this one nearly as efficient as executing a prepared statement with jdbc, for example. I don’t want to use hooks or wrappers or insert values that do not adhere to the conventions of the data already in the database. So I care a lot about style in that sense. But I’m open to ideas that require a bit of compromise. I’m new to both r2dbc and reactive so it’s very possible that I’ve overlooked a simple solution or a smart workaround."},{"owner":{"account_id":7592404,"reputation":605,"user_id":5759656,"display_name":"Christian Meyer"},"score":0,"creation_date":1553823788,"post_id":55388604,"comment_id":97538915,"body_markdown":"I’d also be interested to hear of a way to write the sql statement so that I could just use .bind and let the database figure the rest out.","body":"I’d also be interested to hear of a way to write the sql statement so that I could just use .bind and let the database figure the rest out."}],"answers":[{"comments":[{"owner":{"account_id":7592404,"reputation":605,"user_id":5759656,"display_name":"Christian Meyer"},"score":2,"creation_date":1554082611,"post_id":55413295,"comment_id":97608917,"body_markdown":"Thanks for your response @mp911de. Not exactly what I wanted to hear, but still great info - definitely useful to know. I&#39;ll go ahead and accept this answer.","body":"Thanks for your response @mp911de. Not exactly what I wanted to hear, but still great info - definitely useful to know. I&#39;ll go ahead and accept this answer."}],"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1553848331,"creation_date":1553848331,"answer_id":55413295,"question_id":55388604,"body_markdown":"These are two questions:\r\n\r\n1. How to bind potentially nullable values to a `Statement`/`DatabaseClient` in a fluent style?\r\n2. How to let the database figure the rest out?\r\n\r\nR2DBC and Spring Data R2DBC make `null` handling explicit by requiring either binding a value to your `Statement` or binding a `null`. There&#39;s no method of accepting a potentially nullable argument. There are two reasons for that:\r\n\r\n1. You should deal with nullability to make obvious what happens there. That&#39;s a good habit to handle nullable values instead of making `null` handling implicit. The implicit nature of `null` is what causes the most bugs.\r\n2. Being explicit is required by databases. Parametrized statements with placeholders consist on the execution side of two chunks: The SQL statement itself and parameters bindings (descriptors). A parameter descriptor requires an association to a placeholder, type information (`VARCHAR`, `BIT`, `INT`, …) and the actual value. With calling `bind(…)` with a value, a driver can derive the type information. When binding a `null` value, the driver requires an additional type of information. Otherwise, we cannot execute the query.\r\n\r\nThat being said:\r\n\r\n1. There&#39;s no API like `bindPotentiallyNull(&quot;auditId&quot;, entity.getTx().getId(), Integer.class)`\r\n2. You cannot do anything within the SQL query because binding parameter information is supplied by auxiliary methods.\r\n\r\nWe face a similar issue when talking about stored procedures, because stored procedures require additional details about in/out/in-out parameters. We discussed potential wrapper types like \r\n\r\n    Parameters.in(@Nullable T value, Class&lt;? super T&gt; valueType)\r\n\r\nso these could be used as wrappers in \r\n\r\n    bind(&quot;auditId&quot;, Parameters.in(entity.getTx().getId(), Integer.class))\r\n\r\n\r\nFurther details:\r\n\r\n* [Mailing list discussion](https://groups.google.com/forum/#!topic/r2dbc/12nq6d1l62Q)\r\n* [Postgres protocol documentation](https://www.postgresql.org/docs/current/protocol-message-formats.html)\r\n* [Microsoft SQL Server: sp_cursorprepare](https://learn.microsoft.com/en-us/sql/relational-databases/system-stored-procedures/sp-cursorprepare-transact-sql?view=sql-server-2017)","title":"How do I handle nullable fields using either the Mono&lt;Connection&gt; or the DatabaseClient provided by R2dbc in Spring?","body":"<p>These are two questions:</p>\n\n<ol>\n<li>How to bind potentially nullable values to a <code>Statement</code>/<code>DatabaseClient</code> in a fluent style?</li>\n<li>How to let the database figure the rest out?</li>\n</ol>\n\n<p>R2DBC and Spring Data R2DBC make <code>null</code> handling explicit by requiring either binding a value to your <code>Statement</code> or binding a <code>null</code>. There's no method of accepting a potentially nullable argument. There are two reasons for that:</p>\n\n<ol>\n<li>You should deal with nullability to make obvious what happens there. That's a good habit to handle nullable values instead of making <code>null</code> handling implicit. The implicit nature of <code>null</code> is what causes the most bugs.</li>\n<li>Being explicit is required by databases. Parametrized statements with placeholders consist on the execution side of two chunks: The SQL statement itself and parameters bindings (descriptors). A parameter descriptor requires an association to a placeholder, type information (<code>VARCHAR</code>, <code>BIT</code>, <code>INT</code>, …) and the actual value. With calling <code>bind(…)</code> with a value, a driver can derive the type information. When binding a <code>null</code> value, the driver requires an additional type of information. Otherwise, we cannot execute the query.</li>\n</ol>\n\n<p>That being said:</p>\n\n<ol>\n<li>There's no API like <code>bindPotentiallyNull(\"auditId\", entity.getTx().getId(), Integer.class)</code></li>\n<li>You cannot do anything within the SQL query because binding parameter information is supplied by auxiliary methods.</li>\n</ol>\n\n<p>We face a similar issue when talking about stored procedures, because stored procedures require additional details about in/out/in-out parameters. We discussed potential wrapper types like </p>\n\n<pre><code>Parameters.in(@Nullable T value, Class&lt;? super T&gt; valueType)\n</code></pre>\n\n<p>so these could be used as wrappers in </p>\n\n<pre><code>bind(\"auditId\", Parameters.in(entity.getTx().getId(), Integer.class))\n</code></pre>\n\n<p>Further details:</p>\n\n<ul>\n<li><a href=\"https://groups.google.com/forum/#!topic/r2dbc/12nq6d1l62Q\" rel=\"noreferrer\">Mailing list discussion</a></li>\n<li><a href=\"https://www.postgresql.org/docs/current/protocol-message-formats.html\" rel=\"noreferrer\">Postgres protocol documentation</a></li>\n<li><a href=\"https://learn.microsoft.com/en-us/sql/relational-databases/system-stored-procedures/sp-cursorprepare-transact-sql?view=sql-server-2017\" rel=\"noreferrer\">Microsoft SQL Server: sp_cursorprepare</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":38158,"reputation":1565,"user_id":109354,"display_name":"Sourabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1608310746,"creation_date":1608310746,"answer_id":65360965,"question_id":55388604,"body_markdown":"Either setting a value or null can be done using the `Parameter` class as shown below:\r\n\r\n```java\r\nimport org.springframework.r2dbc.core.Parameter;\r\n\r\n// rest of the code\r\n\r\n.bind(&quot;customerId&quot;, Parameter.fromOrEmpty(o.getCustomerId(), UUID.class))\r\n```\r\n\r\nEarlier, it was `SettableValue.fromOrEmpty`, which is not deprecated.","title":"How do I handle nullable fields using either the Mono&lt;Connection&gt; or the DatabaseClient provided by R2dbc in Spring?","body":"<p>Either setting a value or null can be done using the <code>Parameter</code> class as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.r2dbc.core.Parameter;\n\n// rest of the code\n\n.bind(&quot;customerId&quot;, Parameter.fromOrEmpty(o.getCustomerId(), UUID.class))\n</code></pre>\n<p>Earlier, it was <code>SettableValue.fromOrEmpty</code>, which is not deprecated.</p>\n"}],"owner":{"account_id":7592404,"reputation":605,"user_id":5759656,"display_name":"Christian Meyer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5079,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":55413295,"answer_count":2,"score":6,"last_activity_date":1682597308,"creation_date":1553734256,"question_id":55388604,"body_markdown":"I am at a loss for how to contruct an efficient query in R2dbc (java) using spring-webflux (reactive). Using the DatabaseClient object provided by R2dbc (or alternatively, a Connection object), it seems that I am only able to call different variations of one of these two methods: ```bind(Object field, Object value)``` or ```bindNull(Object field, Class&lt;?&gt; type)```. If I have a schema, and a corresponding class in Java, with multiple nullable fields, how am I expected to handle this [somewhat] efficiently? \r\n\r\nTake for example: \r\n```\r\npublic Flux&lt;Item&gt; saveOrUpdate(Item entity) {\r\n\r\n   Mono&lt;Connection&gt; connection = this.connection; \r\n    \t\r\n   Flux&lt;? extends Result&gt; itemFlux = connection\r\n       .doOnError(e -&gt; e.printStackTrace())\r\n           .flatMapMany(connect  -&gt;  connect.createStatement(INSERT_OR_UPDATE_ITEM)\r\n\t\t\t\t.bind(&quot;itemId&quot;, entity.getItemId()).returnGeneratedValues(&quot;itemid&quot;)\r\n\t\t\t\t.bind(&quot;auditId&quot;, entity.getTx().getId())\r\n\t\t\t\t.bind(&quot;itemNum&quot;, entity.getItemNum())\r\n\t\t\t\t.bind(&quot;itemCat&quot;, entity.getItemCat()) //nullable\r\n                 // How would I know when to use this?\r\n\t\t\t\t.bindNull(&quot;sourcedQty&quot;, Integer.class) //nullable\r\n\t\t\t\t.bind(&quot;makeQty&quot;, entity.getMakeQty())\r\n\t\t\t\t.bind(&quot;nameShown&quot;, entity.getNameShown()) //nullable\r\n\t\t\t\t.bind(&quot;price&quot;, entity.price())\r\n\t\t\t\t.bind(&quot;dateCreated&quot;, entity.getDateCreated()) //nullable\r\n\t\t\t\t.add()\r\n\t\t\t\t.execute())...\r\n   ...\r\n}\r\n```\r\nOR\r\n```\r\npublic Mono&lt;Item&gt; saveOrUpdate(Item entity){\r\n\r\n   Mono&lt;Item&gt; itemMono = databaseClient.execute.sql(INSERT_OR_UPDATE_ITEM)\r\n      .bind(&quot;itemId&quot;, entity.getItemId()).returnGeneratedValues(&quot;itemid&quot;)\r\n\t\t\t\t.bind(&quot;auditId&quot;, entity.getTx().getId())\r\n\t\t\t\t.bind(&quot;itemNum&quot;, entity.getItemNum())\r\n\t\t\t\t.bind(&quot;itemCat&quot;, entity.getItemCat())\r\n\t\t\t\t.bind(&quot;sourcedQty&quot;, entity.getSourcedQty()) \r\n\t\t\t\t.bind(&quot;makeQty&quot;, entity.getMakeQty())\r\n\t\t\t\t.bind(&quot;nameShown&quot;, entity.getNameShown())\r\n\t\t\t\t.bind(&quot;price&quot;, entity.price())\r\n\t\t\t\t.bind(&quot;dateCreated&quot;, entity.getDateCreated())\r\n                .as(Item.class)\r\n\t\t\t\t.fetch()\r\n\t\t\t\t.one()...\r\n   ...\r\n}\r\n```\r\nFor my nullable fields I can replace .bind with .bindNull of course. The problem is that if I do call bind, the value cannot be null. And if I call bindNull, the value must be null. How would I be able to call one or the other based on whether my value is actually null? I already know that I can just make a bunch of methods for each scenerio or call something along the lines of retryOnError. But if I want to do a ```insertOrUpdate(List&lt;Item&gt; items)``` this would be wasting a ton of time/resources. Ideally I would like to do something analogous to ```if (field == null) ? bindNull(&quot;field&quot;, field.class) : bind(&quot;field&quot;, myObj.field)``` somewhere somehow. If that is clearly off the table, I am still interested in figuring out a way to implement this is as efficiently as possible given what I&#39;m working with. Appreciate any feedback.","title":"How do I handle nullable fields using either the Mono&lt;Connection&gt; or the DatabaseClient provided by R2dbc in Spring?","body":"<p>I am at a loss for how to contruct an efficient query in R2dbc (java) using spring-webflux (reactive). Using the DatabaseClient object provided by R2dbc (or alternatively, a Connection object), it seems that I am only able to call different variations of one of these two methods: <code>bind(Object field, Object value)</code> or <code>bindNull(Object field, Class&lt;?&gt; type)</code>. If I have a schema, and a corresponding class in Java, with multiple nullable fields, how am I expected to handle this [somewhat] efficiently? </p>\n\n<p>Take for example: </p>\n\n<pre><code>public Flux&lt;Item&gt; saveOrUpdate(Item entity) {\n\n   Mono&lt;Connection&gt; connection = this.connection; \n\n   Flux&lt;? extends Result&gt; itemFlux = connection\n       .doOnError(e -&gt; e.printStackTrace())\n           .flatMapMany(connect  -&gt;  connect.createStatement(INSERT_OR_UPDATE_ITEM)\n                .bind(\"itemId\", entity.getItemId()).returnGeneratedValues(\"itemid\")\n                .bind(\"auditId\", entity.getTx().getId())\n                .bind(\"itemNum\", entity.getItemNum())\n                .bind(\"itemCat\", entity.getItemCat()) //nullable\n                 // How would I know when to use this?\n                .bindNull(\"sourcedQty\", Integer.class) //nullable\n                .bind(\"makeQty\", entity.getMakeQty())\n                .bind(\"nameShown\", entity.getNameShown()) //nullable\n                .bind(\"price\", entity.price())\n                .bind(\"dateCreated\", entity.getDateCreated()) //nullable\n                .add()\n                .execute())...\n   ...\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>public Mono&lt;Item&gt; saveOrUpdate(Item entity){\n\n   Mono&lt;Item&gt; itemMono = databaseClient.execute.sql(INSERT_OR_UPDATE_ITEM)\n      .bind(\"itemId\", entity.getItemId()).returnGeneratedValues(\"itemid\")\n                .bind(\"auditId\", entity.getTx().getId())\n                .bind(\"itemNum\", entity.getItemNum())\n                .bind(\"itemCat\", entity.getItemCat())\n                .bind(\"sourcedQty\", entity.getSourcedQty()) \n                .bind(\"makeQty\", entity.getMakeQty())\n                .bind(\"nameShown\", entity.getNameShown())\n                .bind(\"price\", entity.price())\n                .bind(\"dateCreated\", entity.getDateCreated())\n                .as(Item.class)\n                .fetch()\n                .one()...\n   ...\n}\n</code></pre>\n\n<p>For my nullable fields I can replace .bind with .bindNull of course. The problem is that if I do call bind, the value cannot be null. And if I call bindNull, the value must be null. How would I be able to call one or the other based on whether my value is actually null? I already know that I can just make a bunch of methods for each scenerio or call something along the lines of retryOnError. But if I want to do a <code>insertOrUpdate(List&lt;Item&gt; items)</code> this would be wasting a ton of time/resources. Ideally I would like to do something analogous to <code>if (field == null) ? bindNull(\"field\", field.class) : bind(\"field\", myObj.field)</code> somewhere somehow. If that is clearly off the table, I am still interested in figuring out a way to implement this is as efficiently as possible given what I'm working with. Appreciate any feedback.</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1642544265,"post_id":70762804,"comment_id":125098180,"body_markdown":"I suggest you do a two-step migration. First, migrate to Spring Boot 2.5 (https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes) and after having it working migrate to Spring Boot 2.6.2 (https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes).","body":"I suggest you do a two-step migration. First, migrate to Spring Boot 2.5 (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>) and after having it working migrate to Spring Boot 2.6.2 (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>)."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1642544629,"post_id":70762804,"comment_id":125098292,"body_markdown":"In the release notes of Spring Boot 2.5, you can read: &quot;Actuator will now generate Micrometer metrics for Spring Data repositories. By default, metrics are named spring.data.repository.invocations.&quot; (you can read more at https://docs.spring.io/spring-boot/docs/2.5.0/reference/html/actuator.html#actuator.metrics.supported.spring-data-repository).","body":"In the release notes of Spring Boot 2.5, you can read: &quot;Actuator will now generate Micrometer metrics for Spring Data repositories. By default, metrics are named spring.data.repository.invocations.&quot; (you can read more at <a href=\"https://docs.spring.io/spring-boot/docs/2.5.0/reference/html/actuator.html#actuator.metrics.supported.spring-data-repository\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.5.0/reference/html/&hellip;</a>)."},{"owner":{"account_id":2220806,"reputation":141,"user_id":1960211,"display_name":"gooboo"},"score":0,"creation_date":1643397016,"post_id":70762804,"comment_id":125337974,"body_markdown":"I have the same issue. Any progress on this one?","body":"I have the same issue. Any progress on this one?"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1643740722,"post_id":70762804,"comment_id":125418736,"body_markdown":"What is the problem caused by this? I get that you’re seeing warnings in the logs but is there a functional bug caused by it?","body":"What is the problem caused by this? I get that you’re seeing warnings in the logs but is there a functional bug caused by it?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1643741467,"post_id":70762804,"comment_id":125418988,"body_markdown":"Spring Boot&#39;s checking to see if `io.micrometer.core.instrument.binder.jersey.server.MetricsApplicationEventListener` is on the classpath. This check is causing Wildfly to, unnecessarily IMO, log a warning. That should be benign, however, as Boot should then continue to bootstrap that rest of Actuator. If that&#39;s not happening, there may have been failures shown later in the log that show the reason.","body":"Spring Boot&#39;s checking to see if <code>io.micrometer.core.instrument.binder.jersey.server.MetricsAp&zwnj;&#8203;plicationEventListen&zwnj;&#8203;er</code> is on the classpath. This check is causing Wildfly to, unnecessarily IMO, log a warning. That should be benign, however, as Boot should then continue to bootstrap that rest of Actuator. If that&#39;s not happening, there may have been failures shown later in the log that show the reason."},{"owner":{"account_id":3178650,"reputation":583,"user_id":2685918,"accept_rate":19,"display_name":"Mike Rother"},"score":0,"creation_date":1643828898,"post_id":70762804,"comment_id":125445813,"body_markdown":"The only issue is the warning log statement. It tends to make people concerned. I have seen no functionality issues.","body":"The only issue is the warning log statement. It tends to make people concerned. I have seen no functionality issues."}],"answers":[{"tags":[],"owner":{"account_id":19914222,"reputation":21,"user_id":14591605,"display_name":"BSanchez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678797664,"creation_date":1678797621,"answer_id":75733256,"question_id":70762804,"body_markdown":"The problem is in the impossibility of finding the dependency of &quot;org/glassfish/jersey/server/monitoring/ApplicationEventListener&quot; at deployment.\r\n\r\nA possible solution is to include in the war the dependency\r\n\r\n \r\n\r\n    &lt;dependency&gt; \r\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt; \r\n    &lt;/dependency&gt;","title":"Spring Actuator Changes Upgrading From Spring Boot 2.4.3 to 2.6.2","body":"<p>The problem is in the impossibility of finding the dependency of &quot;org/glassfish/jersey/server/monitoring/ApplicationEventListener&quot; at deployment.</p>\n<p>A possible solution is to include in the war the dependency</p>\n<pre><code>&lt;dependency&gt; \n&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n&lt;artifactId&gt;jersey-server&lt;/artifactId&gt; \n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17019450,"reputation":46,"user_id":12312431,"display_name":"Andrіі khoma"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682596916,"creation_date":1682596916,"answer_id":76120168,"question_id":70762804,"body_markdown":"To disable the JerseyServerMetricsAutoConfiguration class in a Spring Boot application, you can use the @SpringBootApplication annotation with the exclude attribute. Here&#39;s an example:\r\n\r\n    @SpringBootApplication(exclude = JerseyServerMetricsAutoConfiguration.class)\r\n    public class MyApplication {\r\n        // ...\r\n    }\r\nIn the example above, the JerseyServerMetricsAutoConfiguration class is excluded from the application configuration by specifying it in the exclude attribute of the @SpringBootApplication annotation.\r\n\r\nAlternatively, you can use the @EnableAutoConfiguration annotation with the exclude attribute to achieve the same result:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration(exclude = JerseyServerMetricsAutoConfiguration.class)\r\n    public class MyApplication {\r\n        // ...\r\n    }  \r\n\r\n ","title":"Spring Actuator Changes Upgrading From Spring Boot 2.4.3 to 2.6.2","body":"<p>To disable the JerseyServerMetricsAutoConfiguration class in a Spring Boot application, you can use the @SpringBootApplication annotation with the exclude attribute. Here's an example:</p>\n<pre><code>@SpringBootApplication(exclude = JerseyServerMetricsAutoConfiguration.class)\npublic class MyApplication {\n    // ...\n}\n</code></pre>\n<p>In the example above, the JerseyServerMetricsAutoConfiguration class is excluded from the application configuration by specifying it in the exclude attribute of the @SpringBootApplication annotation.</p>\n<p>Alternatively, you can use the @EnableAutoConfiguration annotation with the exclude attribute to achieve the same result:</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude = JerseyServerMetricsAutoConfiguration.class)\npublic class MyApplication {\n    // ...\n}  \n</code></pre>\n"}],"owner":{"account_id":3178650,"reputation":583,"user_id":2685918,"accept_rate":19,"display_name":"Mike Rother"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3806,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":76120168,"answer_count":2,"score":9,"last_activity_date":1682596916,"creation_date":1642542551,"question_id":70762804,"body_markdown":"We have a Spring Boot web application developed with Spring Boot 2.4.3 and deploys Spring Actuator. I am investigating upgrading to Spring Boot 2.6.2 and have the majority of the issues working. I removed spring actuator starter from the project and war file and it deploys and runs fine. We are running using Java 11 and Wildfly 18.\r\n\r\nIf I add the spring actuator starter back into to the project pom file and war file pom files, it shows the following warning during deployment:\r\n\r\n    16:44:28,063 WARN  [org.jboss.modules.define] (Thread-115) Failed to define class io.micrometer.core.instrument.binder.jersey.server.MetricsApplicationEventListener in Module &quot;deployment.test.war&quot; from Service Module Loader: java.lang.NoClassDefFoundError: Failed to link io/micrometer/core/instrument/binder/jersey/server/MetricsApplicationEventListener (Module &quot;deployment.test.war&quot; from Service Module Loader): org/glassfish/jersey/server/monitoring/ApplicationEventListener\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1095)\r\n    \tat org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:424)\r\n    \tat org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:555)\r\n    \tat org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)\r\n    \tat org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)\r\n    \tat org.jboss.modules.Module.loadModuleClass(Module.java:731)\r\n    \tat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)\r\n    \tat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\r\n    \tat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\r\n    \tat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:398)\r\n    \tat deployment.test.war//org.springframework.boot.autoconfigure.condition.FilteringSpringBootCondition.resolve(FilteringSpringBootCondition.java:108)\r\n    \tat deployment.test.war//org.springframework.boot.autoconfigure.condition.FilteringSpringBootCondition$ClassNameFilter.isPresent(FilteringSpringBootCondition.java:140)\r\n    \tat deployment.test.war//org.springframework.boot.autoconfigure.condition.FilteringSpringBootCondition$ClassNameFilter$2.matches(FilteringSpringBootCondition.java:128)\r\n    \tat deployment.test.war//org.springframework.boot.autoconfigure.condition.OnClassCondition$StandardOutcomesResolver.getOutcome(OnClassCondition.java:227)\r\n    \tat deployment.test.war//org.springframework.boot.autoconfigure.condition.OnClassCondition$StandardOutcomesResolver.getOutcome(OnClassCondition.java:214)\r\n    \tat deployment.test.war//org.springframework.boot.autoconfigure.condition.OnClassCondition$StandardOutcomesResolver.getOutcomes(OnClassCondition.java:201)\r\n    \tat deployment.test.war//org.springframework.boot.autoconfigure.condition.OnClassCondition$StandardOutcomesResolver.resolveOutcomes(OnClassCondition.java:190)\r\n    \tat deployment.test.war//org.springframework.boot.autoconfigure.condition.OnClassCondition$ThreadedOutcomesResolver.lambda$new$0(OnClassCondition.java:150)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nI went down the path of trying to add jar files to the project for the missing class, but the problem adds to another missing class file. I could not find any major changes in Spring Actuator between Spring Boot versions 2.4.2 and 2.6.2 that would cause this problem. \r\n\r\nDoes anyone have any insight into changes in Spring Boot that might cause the deployment issue?","title":"Spring Actuator Changes Upgrading From Spring Boot 2.4.3 to 2.6.2","body":"<p>We have a Spring Boot web application developed with Spring Boot 2.4.3 and deploys Spring Actuator. I am investigating upgrading to Spring Boot 2.6.2 and have the majority of the issues working. I removed spring actuator starter from the project and war file and it deploys and runs fine. We are running using Java 11 and Wildfly 18.</p>\n<p>If I add the spring actuator starter back into to the project pom file and war file pom files, it shows the following warning during deployment:</p>\n<pre><code>16:44:28,063 WARN  [org.jboss.modules.define] (Thread-115) Failed to define class io.micrometer.core.instrument.binder.jersey.server.MetricsApplicationEventListener in Module &quot;deployment.test.war&quot; from Service Module Loader: java.lang.NoClassDefFoundError: Failed to link io/micrometer/core/instrument/binder/jersey/server/MetricsApplicationEventListener (Module &quot;deployment.test.war&quot; from Service Module Loader): org/glassfish/jersey/server/monitoring/ApplicationEventListener\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1095)\n    at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:424)\n    at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:555)\n    at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)\n    at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)\n    at org.jboss.modules.Module.loadModuleClass(Module.java:731)\n    at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\n    at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:398)\n    at deployment.test.war//org.springframework.boot.autoconfigure.condition.FilteringSpringBootCondition.resolve(FilteringSpringBootCondition.java:108)\n    at deployment.test.war//org.springframework.boot.autoconfigure.condition.FilteringSpringBootCondition$ClassNameFilter.isPresent(FilteringSpringBootCondition.java:140)\n    at deployment.test.war//org.springframework.boot.autoconfigure.condition.FilteringSpringBootCondition$ClassNameFilter$2.matches(FilteringSpringBootCondition.java:128)\n    at deployment.test.war//org.springframework.boot.autoconfigure.condition.OnClassCondition$StandardOutcomesResolver.getOutcome(OnClassCondition.java:227)\n    at deployment.test.war//org.springframework.boot.autoconfigure.condition.OnClassCondition$StandardOutcomesResolver.getOutcome(OnClassCondition.java:214)\n    at deployment.test.war//org.springframework.boot.autoconfigure.condition.OnClassCondition$StandardOutcomesResolver.getOutcomes(OnClassCondition.java:201)\n    at deployment.test.war//org.springframework.boot.autoconfigure.condition.OnClassCondition$StandardOutcomesResolver.resolveOutcomes(OnClassCondition.java:190)\n    at deployment.test.war//org.springframework.boot.autoconfigure.condition.OnClassCondition$ThreadedOutcomesResolver.lambda$new$0(OnClassCondition.java:150)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>I went down the path of trying to add jar files to the project for the missing class, but the problem adds to another missing class file. I could not find any major changes in Spring Actuator between Spring Boot versions 2.4.2 and 2.6.2 that would cause this problem.</p>\n<p>Does anyone have any insight into changes in Spring Boot that might cause the deployment issue?</p>\n"},{"tags":["java","spring","spring-boot","performance","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1682576598,"post_id":76116529,"comment_id":134238314,"body_markdown":"`Does anyone successfully implemented a REST/HTTP ItemWriter with Spring Batch while the integrating HTTP Endpoint is in SYNC implementation?` What do you mean by `successfully` and `SYNC implementation`?","body":"<code>Does anyone successfully implemented a REST&#47;HTTP ItemWriter with Spring Batch while the integrating HTTP Endpoint is in SYNC implementation?</code> What do you mean by <code>successfully</code> and <code>SYNC implementation</code>?"},{"owner":{"account_id":16288403,"reputation":3,"user_id":11762517,"display_name":"watanayz"},"score":0,"creation_date":1682583225,"post_id":76116529,"comment_id":134239688,"body_markdown":"Is it possible with spring batch Item Writer to POST a 2000 Asynchronous request to a Synchronous endpoint in a few seconds, without the writer waiting for the response?","body":"Is it possible with spring batch Item Writer to POST a 2000 Asynchronous request to a Synchronous endpoint in a few seconds, without the writer waiting for the response?"}],"answers":[{"comments":[{"owner":{"account_id":16288403,"reputation":3,"user_id":11762517,"display_name":"watanayz"},"score":0,"creation_date":1682664889,"post_id":76120067,"comment_id":134254291,"body_markdown":"It doesn&#39;t seem to stop the thread from waiting on the response due to HTTP is the protocol being used in the connection. It just holds on to the thread then close it after it received the response. But let me see if I can do some more work around in this implementation. Thanks!","body":"It doesn&#39;t seem to stop the thread from waiting on the response due to HTTP is the protocol being used in the connection. It just holds on to the thread then close it after it received the response. But let me see if I can do some more work around in this implementation. Thanks!"}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682596304,"creation_date":1682596304,"answer_id":76120067,"question_id":76116529,"body_markdown":"&gt; Is it possible with spring batch Item Writer to POST a 2000 Asynchronous request to a Synchronous endpoint in a few seconds, without the writer waiting for the response?\r\n\r\nYes, you would need an `AsyncItemWriter`: https://docs.spring.io/spring-batch/docs/current/reference/html/spring-batch-integration.html#asynchronous-processors","title":"Spring 2.x.x and Java 8 Implemented Spring Batch REST/HTTP Item Writer","body":"<blockquote>\n<p>Is it possible with spring batch Item Writer to POST a 2000 Asynchronous request to a Synchronous endpoint in a few seconds, without the writer waiting for the response?</p>\n</blockquote>\n<p>Yes, you would need an <code>AsyncItemWriter</code>: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/spring-batch-integration.html#asynchronous-processors\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/current/reference/html/spring-batch-integration.html#asynchronous-processors</a></p>\n"}],"owner":{"account_id":16288403,"reputation":3,"user_id":11762517,"display_name":"watanayz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682596304,"creation_date":1682566105,"question_id":76116529,"body_markdown":"Does anyone successfully implemented a REST/HTTP ItemWriter with Spring Batch while the integrating HTTP Endpoint is in SYNC implementation?\r\n\r\nI did some work around using Retrofit library. It doesn&#39;t increase the performance that much, as the client is the only one who is calling in asynchronous. The other service is running with Apache Camel while they are waiting for a request in REST controller.\r\n\r\n\r\n```\r\nMyService -&gt; MyHttpItemWriter -&gt; ExternalRestController\r\n```\r\nWHERE:\r\n\r\n| MyService | MyHttpItemWriter  | ExternalRestController|\r\n|---- |------| -----|\r\n| Read from Kafka and process the data | Send the clean data via REST call    | REST Controller will process the data via Apache camel|\r\n\r\n\r\n```\r\nfor(Object request : requests){\r\n Call&lt;ObjResponse&gt; callAsync = service.sendRequest(request);\r\n \r\n callAsync.enqueue(new Callback&lt;UserApiResponse&gt;() \r\n {\r\n     \r\n    @Override\r\n    public void onResponse(Call&lt;ObjResponse&gt; call, Response&lt;ObjResponse&gt; response) \r\n    {\r\n        if (response.isSuccessful()) \r\n        {\r\n            ObjResponse apiResponse = response.body();\r\n \r\n            //API response\r\n            System.out.println(apiResponse);\r\n        } \r\n        else\r\n        {\r\n            System.out.println(&quot;Request Error :: &quot; + response.errorBody());\r\n        }\r\n    }\r\n }\r\n}\r\n\r\n```","title":"Spring 2.x.x and Java 8 Implemented Spring Batch REST/HTTP Item Writer","body":"<p>Does anyone successfully implemented a REST/HTTP ItemWriter with Spring Batch while the integrating HTTP Endpoint is in SYNC implementation?</p>\n<p>I did some work around using Retrofit library. It doesn't increase the performance that much, as the client is the only one who is calling in asynchronous. The other service is running with Apache Camel while they are waiting for a request in REST controller.</p>\n<pre><code>MyService -&gt; MyHttpItemWriter -&gt; ExternalRestController\n</code></pre>\n<p>WHERE:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>MyService</th>\n<th>MyHttpItemWriter</th>\n<th>ExternalRestController</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Read from Kafka and process the data</td>\n<td>Send the clean data via REST call</td>\n<td>REST Controller will process the data via Apache camel</td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre><code>for(Object request : requests){\n Call&lt;ObjResponse&gt; callAsync = service.sendRequest(request);\n \n callAsync.enqueue(new Callback&lt;UserApiResponse&gt;() \n {\n     \n    @Override\n    public void onResponse(Call&lt;ObjResponse&gt; call, Response&lt;ObjResponse&gt; response) \n    {\n        if (response.isSuccessful()) \n        {\n            ObjResponse apiResponse = response.body();\n \n            //API response\n            System.out.println(apiResponse);\n        } \n        else\n        {\n            System.out.println(&quot;Request Error :: &quot; + response.errorBody());\n        }\n    }\n }\n}\n\n</code></pre>\n"},{"tags":["java","eclipse","git","gitignore"],"comments":[{"owner":{"account_id":77749,"reputation":4832,"user_id":221708,"accept_rate":67,"display_name":"Daniel Schilling"},"score":5,"creation_date":1505156328,"post_id":18955149,"comment_id":79287338,"body_markdown":"I am a complete Java n00b, but according to Eclipse documentation, those files *should* be stored in version control.  http://wiki.eclipse.org/FAQ_How_do_I_set_up_a_Java_project_to_share_in_a_repository%3F","body":"I am a complete Java n00b, but according to Eclipse documentation, those files <i>should</i> be stored in version control.  <a href=\"http://wiki.eclipse.org/FAQ_How_do_I_set_up_a_Java_project_to_share_in_a_repository%3F\" rel=\"nofollow noreferrer\">wiki.eclipse.org/&hellip;</a>"},{"owner":{"account_id":3128733,"reputation":2388,"user_id":2657549,"accept_rate":0,"display_name":"Cl&#233;ment"},"score":0,"creation_date":1642688780,"post_id":18955149,"comment_id":125141967,"body_markdown":"@DanielSchilling This comment is probably more important than all the answers taken together…","body":"@DanielSchilling This comment is probably more important than all the answers taken together…"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":1,"creation_date":1642689514,"post_id":18955149,"comment_id":125142351,"body_markdown":"@Cl&#233;ment Agreed. In addition to [my answer below](https://stackoverflow.com/a/18955478/6309), I tried before (in 2010) to argue that [those files should be versioned](https://stackoverflow.com/a/2819639/6309).","body":"@Cl&#233;ment Agreed. In addition to <a href=\"https://stackoverflow.com/a/18955478/6309\">my answer below</a>, I tried before (in 2010) to argue that <a href=\"https://stackoverflow.com/a/2819639/6309\">those files should be versioned</a>."}],"answers":[{"comments":[{"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"score":0,"creation_date":1379926703,"post_id":18955202,"comment_id":27993759,"body_markdown":"I am already using .gitignore. This is applicable if I am committing or creating new repo from my local. If you are cloning the repo, I guess .gitignore will not work, it will fetch .project file and any changes will be out of sync","body":"I am already using .gitignore. This is applicable if I am committing or creating new repo from my local. If you are cloning the repo, I guess .gitignore will not work, it will fetch .project file and any changes will be out of sync"},{"owner":{"account_id":129956,"reputation":3578,"user_id":328883,"accept_rate":100,"display_name":"olan"},"score":2,"creation_date":1379926908,"post_id":18955202,"comment_id":27993872,"body_markdown":"You need to submit your `.gitignore` to the repo so that everyone uses it. That way, no one should submit those files. .classpath and .project shouldn&#39;t ever be in the repo.","body":"You need to submit your <code>.gitignore</code> to the repo so that everyone uses it. That way, no one should submit those files. .classpath and .project shouldn&#39;t ever be in the repo."},{"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"score":1,"creation_date":1379927103,"post_id":18955202,"comment_id":27993985,"body_markdown":"what about the existing files/repo which contains those files?","body":"what about the existing files/repo which contains those files?"},{"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"score":0,"creation_date":1379927239,"post_id":18955202,"comment_id":27994048,"body_markdown":"one more quick doubt, .gitignore in parent folder of repo will do the job or for each project in the repo, we need to have one .gitignore file?","body":"one more quick doubt, .gitignore in parent folder of repo will do the job or for each project in the repo, we need to have one .gitignore file?"},{"owner":{"account_id":129956,"reputation":3578,"user_id":328883,"accept_rate":100,"display_name":"olan"},"score":0,"creation_date":1379927458,"post_id":18955202,"comment_id":27994163,"body_markdown":"The existing repos will just not be able to submit their versions - otherwise the files won&#39;t be affected. Also, you just need one .gitignore file in the root of the project.\n\nBe sure to follow the advise VonC gives below to stop tracking the already commited files.","body":"The existing repos will just not be able to submit their versions - otherwise the files won&#39;t be affected. Also, you just need one .gitignore file in the root of the project.  Be sure to follow the advise VonC gives below to stop tracking the already commited files."},{"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"score":1,"creation_date":1379927572,"post_id":18955202,"comment_id":27994215,"body_markdown":"can you quickly confirm my doubt about .ignore. ^Above comment","body":"can you quickly confirm my doubt about .ignore. ^Above comment"},{"owner":{"account_id":2392650,"reputation":2659,"user_id":2092205,"display_name":"Matthew Wise"},"score":1,"creation_date":1402325376,"post_id":18955202,"comment_id":37216676,"body_markdown":"I don&#39;t see either a .classpath or a .project ignore in that file? Am I missing something? (My .project files won&#39;t disappear even though I&#39;ve got a line for this in my gitignore)","body":"I don&#39;t see either a .classpath or a .project ignore in that file? Am I missing something? (My .project files won&#39;t disappear even though I&#39;ve got a line for this in my gitignore)"},{"owner":{"account_id":155026,"reputation":7508,"user_id":371392,"accept_rate":67,"display_name":"Web User"},"score":2,"creation_date":1493845005,"post_id":18955202,"comment_id":74581123,"body_markdown":"I am working with a multi-module project. Adding `.classpath` and `.project` to `.gitignore` is only ignoring the instance in the root directory, but the sub-folders containing `.classpath` and `.project` are still showing up as changes. I tried adding `**/.classpath` to `.gitignore` but that does not appear to work.","body":"I am working with a multi-module project. Adding <code>.classpath</code> and <code>.project</code> to <code>.gitignore</code> is only ignoring the instance in the root directory, but the sub-folders containing <code>.classpath</code> and <code>.project</code> are still showing up as changes. I tried adding <code>**&#47;.classpath</code> to <code>.gitignore</code> but that does not appear to work."}],"tags":[],"owner":{"account_id":129956,"reputation":3578,"user_id":328883,"accept_rate":100,"display_name":"olan"},"comment_count":8,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1379926359,"creation_date":1379926359,"answer_id":18955202,"question_id":18955149,"body_markdown":"Use a .gitignore file. This allows you to ignore certain files. http://git-scm.com/docs/gitignore\r\n\r\nHere&#39;s an example Eclipse one, which handles your classpath and project files: https://github.com/github/gitignore/blob/master/Global/Eclipse.gitignore","title":"Ignore .classpath and .project from Git","body":"<p>Use a .gitignore file. This allows you to ignore certain files. <a href=\"http://git-scm.com/docs/gitignore\" rel=\"nofollow\">http://git-scm.com/docs/gitignore</a></p>\n\n<p>Here's an example Eclipse one, which handles your classpath and project files: <a href=\"https://github.com/github/gitignore/blob/master/Global/Eclipse.gitignore\" rel=\"nofollow\">https://github.com/github/gitignore/blob/master/Global/Eclipse.gitignore</a></p>\n"},{"comments":[{"owner":{"account_id":4909419,"reputation":4737,"user_id":3955129,"display_name":"Abdollah"},"score":0,"creation_date":1583774075,"post_id":18955478,"comment_id":107221343,"body_markdown":"When you change the index, you need to commit the change and push it. Then the file is removed from the repository. So the newbies cannot checkout the files .classpath and .project from the repo.","body":"When you change the index, you need to commit the change and push it. Then the file is removed from the repository. So the newbies cannot checkout the files .classpath and .project from the repo."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":1,"creation_date":1583774594,"post_id":18955478,"comment_id":107221584,"body_markdown":"@Abdollah Good point. I have included your comment in the answer for more visibility.","body":"@Abdollah Good point. I have included your comment in the answer for more visibility."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1583788090,"post_id":18955478,"comment_id":107226991,"body_markdown":"@Abdollah Why? Once the deletion is committed and pushed (as well as the `.gitignore`), you won&#39;t be able to *easily* add back those files.","body":"@Abdollah Why? Once the deletion is committed and pushed (as well as the <code>.gitignore</code>), you won&#39;t be able to <i>easily</i> add back those files."},{"owner":{"account_id":4909419,"reputation":4737,"user_id":3955129,"display_name":"Abdollah"},"score":0,"creation_date":1583839165,"post_id":18955478,"comment_id":107241093,"body_markdown":"The PO wants .classpath and .project still remain on the repo. Maybe using SKIP-WORKTREE for such a scenario is a better option. I have explained it [here](https://stackoverflow.com/a/60616342/3955129).\n\n@VonC Unfortunately, I deleted my previous comment saying &quot;there is no solution in git for such a scenario&quot; some minutes after writing it and I didn&#39;t see your response when deleting it.","body":"The PO wants .classpath and .project still remain on the repo. Maybe using SKIP-WORKTREE for such a scenario is a better option. I have explained it <a href=\"https://stackoverflow.com/a/60616342/3955129\">here</a>.  @VonC Unfortunately, I deleted my previous comment saying &quot;there is no solution in git for such a scenario&quot; some minutes after writing it and I didn&#39;t see your response when deleting it."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":4,"down_vote_count":1,"up_vote_count":138,"is_accepted":true,"score":137,"last_activity_date":1583774575,"creation_date":1379927218,"answer_id":18955478,"question_id":18955149,"body_markdown":"If the `.project` and `.classpath` are already committed, then they need to be removed from the index (but not the disk)\r\n\r\n    git rm --cached .project\r\n    git rm --cached .classpath\r\n\r\nThen the `.gitignore` would work (and that file can be added and shared through clones).  \r\nFor instance, this [`gitignore.io/api/eclipse`][1] file will then work, which does include:\r\n\r\n    # Eclipse Core\t\t\r\n    .project\r\n    \r\n    # JDT-specific (Eclipse Java Development Tools)\t\t\r\n    .classpath\r\n\r\nNote that you could use a &quot;[Template Directory][2]&quot; when cloning (make sure your users have an environment variable `$GIT_TEMPLATE_DIR` set to a shared folder accessible by all).  \r\nThat template folder can contain an **`info/exclude`** file, **with [ignore rules][3] that you want enforced for *all* repos, including the new ones (`git init`) that any user would use.**\r\n\r\n---\r\n\r\nAs [commented][4] by [Abdollah][5]\r\n\r\n&gt; When you change the index, you need to commit the change and push it.  \r\nThen the file is removed from the repository. So the newbies cannot checkout the files `.classpath` and `.project` from the repo.\r\n\r\n\r\n  [1]: https://www.gitignore.io/api/eclipse\r\n  [2]: http://git-scm.com/docs/git-init.html#_template_directory\r\n  [3]: http://git-scm.com/docs/gitignore.html\r\n  [4]: https://stackoverflow.com/questions/18955149/ignore-classpath-and-project-from-git/18955478?noredirect=1#comment107221343_18955478\r\n  [5]: https://stackoverflow.com/users/3955129/abdollah","title":"Ignore .classpath and .project from Git","body":"<p>If the <code>.project</code> and <code>.classpath</code> are already committed, then they need to be removed from the index (but not the disk)</p>\n\n<pre><code>git rm --cached .project\ngit rm --cached .classpath\n</code></pre>\n\n<p>Then the <code>.gitignore</code> would work (and that file can be added and shared through clones).<br>\nFor instance, this <a href=\"https://www.gitignore.io/api/eclipse\" rel=\"noreferrer\"><code>gitignore.io/api/eclipse</code></a> file will then work, which does include:</p>\n\n<pre><code># Eclipse Core      \n.project\n\n# JDT-specific (Eclipse Java Development Tools)     \n.classpath\n</code></pre>\n\n<p>Note that you could use a \"<a href=\"http://git-scm.com/docs/git-init.html#_template_directory\" rel=\"noreferrer\">Template Directory</a>\" when cloning (make sure your users have an environment variable <code>$GIT_TEMPLATE_DIR</code> set to a shared folder accessible by all).<br>\nThat template folder can contain an <strong><code>info/exclude</code></strong> file, <strong>with <a href=\"http://git-scm.com/docs/gitignore.html\" rel=\"noreferrer\">ignore rules</a> that you want enforced for <em>all</em> repos, including the new ones (<code>git init</code>) that any user would use.</strong></p>\n\n<hr>\n\n<p>As <a href=\"https://stackoverflow.com/questions/18955149/ignore-classpath-and-project-from-git/18955478?noredirect=1#comment107221343_18955478\">commented</a> by <a href=\"https://stackoverflow.com/users/3955129/abdollah\">Abdollah</a></p>\n\n<blockquote>\n  <p>When you change the index, you need to commit the change and push it.<br>\n  Then the file is removed from the repository. So the newbies cannot checkout the files <code>.classpath</code> and <code>.project</code> from the repo.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":11067246,"reputation":2708,"user_id":8126658,"accept_rate":100,"display_name":"GGO"},"score":0,"creation_date":1519980800,"post_id":49063303,"comment_id":85136264,"body_markdown":"Please explain what you did editing your answer, avoid only code aswer","body":"Please explain what you did editing your answer, avoid only code aswer"},{"owner":{"account_id":11634571,"reputation":1536,"user_id":8521434,"accept_rate":0,"display_name":"VIJ"},"score":1,"creation_date":1520072368,"post_id":49063303,"comment_id":85171350,"body_markdown":"I havent seen anybody answering this question, they just gave some link to refer.","body":"I havent seen anybody answering this question, they just gave some link to refer."},{"owner":{"account_id":281630,"reputation":4230,"user_id":578046,"accept_rate":45,"display_name":"Saurabh Patil"},"score":2,"creation_date":1523200932,"post_id":49063303,"comment_id":86451745,"body_markdown":"I think this answer is super hepful. I knew all the concepts but just wanted the exact code to put in the .gitignore file.  Thank you @ViyaanJhiingade  And welcome to StackOverflow.","body":"I think this answer is super hepful. I knew all the concepts but just wanted the exact code to put in the .gitignore file.  Thank you @ViyaanJhiingade  And welcome to StackOverflow."}],"tags":[],"owner":{"account_id":11634571,"reputation":1536,"user_id":8521434,"accept_rate":0,"display_name":"VIJ"},"comment_count":3,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1563953607,"creation_date":1519968549,"answer_id":49063303,"question_id":18955149,"body_markdown":"Add the below lines in .gitignore and place the file inside ur project folder\r\n\r\n```bash\r\n/target/\r\n/.classpath\r\n/*.project\r\n/.settings\r\n/*.springBeans\r\n```\r\n    \r\n\r\n","title":"Ignore .classpath and .project from Git","body":"<p>Add the below lines in .gitignore and place the file inside ur project folder</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>/target/\n/.classpath\n/*.project\n/.settings\n/*.springBeans\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":1,"creation_date":1583839550,"post_id":60616342,"comment_id":107241256,"body_markdown":"Actually, I have written about it here: https://stackoverflow.com/a/23806990/6309","body":"Actually, I have written about it here: <a href=\"https://stackoverflow.com/a/23806990/6309\">stackoverflow.com/a/23806990/6309</a>"},{"owner":{"account_id":4909419,"reputation":4737,"user_id":3955129,"display_name":"Abdollah"},"score":0,"creation_date":1583839699,"post_id":60616342,"comment_id":107241321,"body_markdown":"Great comparison.","body":"Great comparison."},{"owner":{"account_id":9107791,"reputation":69,"user_id":6777553,"display_name":"IVleafclover"},"score":3,"creation_date":1592203063,"post_id":60616342,"comment_id":110329215,"body_markdown":"This should be the new accepted answer, because it is the only way to keep the files commited to git and ignore them for new commits.","body":"This should be the new accepted answer, because it is the only way to keep the files commited to git and ignore them for new commits."}],"tags":[],"owner":{"account_id":4909419,"reputation":4737,"user_id":3955129,"display_name":"Abdollah"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1583838333,"creation_date":1583838333,"answer_id":60616342,"question_id":18955149,"body_markdown":"The git solution for such scenarios is setting **SKIP-WORKTREE BIT**. Run only the following command:\r\n\r\n    git update-index --skip-worktree .classpath .gitignore\r\nIt is used when you want git to **ignore changes of files that are already managed by git and exist on the index**. This is a common use case for **config files**.\r\n\r\nRunning `git rm --cached` doesn&#39;t work for the scenario mentioned in the question. If I simplify the question, it says: \r\n\r\n&gt; How to have `.classpath` and `.project` on the repo while each one can\r\n&gt; change it locally and git ignores this change?\r\n\r\nAs I commented under the accepted answer, the drawback of `git rm --cached` is that it causes a change in the index, so you need to commit the change and then push it to the remote repository. As a result, `.classpath` and `.project` won&#39;t be available on the repo while the PO wants them to be there so anyone that clones the repo for the first time, they can use it.\r\n\r\n### What is SKIP-WORKTREE BIT? ###\r\nBased on git documentaion:\r\n&gt; Skip-worktree bit can be defined in one (long) sentence: When reading an entry, if it is marked as skip-worktree, then Git pretends its working directory version is up to date and read the index version instead.\r\nAlthough this bit looks similar to **assume-unchanged bit**, its goal is different from assume-unchanged bit’s. Skip-worktree also takes precedence over assume-unchanged bit when both are set.\r\n \r\nMore details is available [here][1].\r\n\r\n\r\n  [1]: https://git-scm.com/docs/git-update-index#_skip_worktree_bit","title":"Ignore .classpath and .project from Git","body":"<p>The git solution for such scenarios is setting <strong>SKIP-WORKTREE BIT</strong>. Run only the following command:</p>\n\n<pre><code>git update-index --skip-worktree .classpath .gitignore\n</code></pre>\n\n<p>It is used when you want git to <strong>ignore changes of files that are already managed by git and exist on the index</strong>. This is a common use case for <strong>config files</strong>.</p>\n\n<p>Running <code>git rm --cached</code> doesn't work for the scenario mentioned in the question. If I simplify the question, it says: </p>\n\n<blockquote>\n  <p>How to have <code>.classpath</code> and <code>.project</code> on the repo while each one can\n  change it locally and git ignores this change?</p>\n</blockquote>\n\n<p>As I commented under the accepted answer, the drawback of <code>git rm --cached</code> is that it causes a change in the index, so you need to commit the change and then push it to the remote repository. As a result, <code>.classpath</code> and <code>.project</code> won't be available on the repo while the PO wants them to be there so anyone that clones the repo for the first time, they can use it.</p>\n\n<h3>What is SKIP-WORKTREE BIT?</h3>\n\n<p>Based on git documentaion:</p>\n\n<blockquote>\n  <p>Skip-worktree bit can be defined in one (long) sentence: When reading an entry, if it is marked as skip-worktree, then Git pretends its working directory version is up to date and read the index version instead.\n  Although this bit looks similar to <strong>assume-unchanged bit</strong>, its goal is different from assume-unchanged bit’s. Skip-worktree also takes precedence over assume-unchanged bit when both are set.</p>\n</blockquote>\n\n<p>More details is available <a href=\"https://git-scm.com/docs/git-update-index#_skip_worktree_bit\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":9917587,"reputation":640,"user_id":7341878,"accept_rate":10,"display_name":"Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682596150,"creation_date":1682596150,"answer_id":76120041,"question_id":18955149,"body_markdown":"Please add the below lines in .gitignore, It will be available under project cloned folder. Here I consider Project cloned folder name as **Code**.\r\n\r\n    /.metadata/\r\n    /.recommenders/\r\n    /target/\r\n    Code/**/.classpath\r\n    Code/**/.project\r\n    Code/**/*.class\r\n    Code/**/*.png\r\n    Code/**/.settings\r\n    Code/**/bin\r\n\r\nfor reference:\r\nhttps://www.atlassian.com/git/tutorials/saving-changes/gitignore\r\n\r\nIn this way we don&#39;t need to run any commands, Those mention files will not list under unstaged changes in the git or eclipse git.","title":"Ignore .classpath and .project from Git","body":"<p>Please add the below lines in .gitignore, It will be available under project cloned folder. Here I consider Project cloned folder name as <strong>Code</strong>.</p>\n<pre><code>/.metadata/\n/.recommenders/\n/target/\nCode/**/.classpath\nCode/**/.project\nCode/**/*.class\nCode/**/*.png\nCode/**/.settings\nCode/**/bin\n</code></pre>\n<p>for reference:\n<a href=\"https://www.atlassian.com/git/tutorials/saving-changes/gitignore\" rel=\"nofollow noreferrer\">https://www.atlassian.com/git/tutorials/saving-changes/gitignore</a></p>\n<p>In this way we don't need to run any commands, Those mention files will not list under unstaged changes in the git or eclipse git.</p>\n"}],"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131148,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"accepted_answer_id":18955478,"answer_count":5,"score":91,"last_activity_date":1682596150,"creation_date":1379926165,"question_id":18955149,"body_markdown":"&gt; I keep myself telling me and others not to commit .classpath and\r\n&gt; .project files and use Maven.\r\n\r\nSomehow, Junior developers always ignore certain rules and commits those files and it&#39;s much better to have such files for newbies who can jump and start using the code.\r\n\r\nNow from myside, I would like to try/do something. When I clone the repo, I will get .classpath and .project files and certainly they get modified in my system. \r\n\r\n&gt; But I want them not to be committed and should always be ignored while\r\n&gt; synchronizing with Git. So that my changes in local system doesn&#39;t\r\n&gt; mess up with Git and Git changes of those files doesn&#39;t mess up my\r\n&gt; local files.\r\n\r\nHow do I achieve this? Anyway to mark those files to be ignored in such a way?","title":"Ignore .classpath and .project from Git","body":"<blockquote>\n  <p>I keep myself telling me and others not to commit .classpath and\n  .project files and use Maven.</p>\n</blockquote>\n\n<p>Somehow, Junior developers always ignore certain rules and commits those files and it's much better to have such files for newbies who can jump and start using the code.</p>\n\n<p>Now from myside, I would like to try/do something. When I clone the repo, I will get .classpath and .project files and certainly they get modified in my system. </p>\n\n<blockquote>\n  <p>But I want them not to be committed and should always be ignored while\n  synchronizing with Git. So that my changes in local system doesn't\n  mess up with Git and Git changes of those files doesn't mess up my\n  local files.</p>\n</blockquote>\n\n<p>How do I achieve this? Anyway to mark those files to be ignored in such a way?</p>\n"},{"tags":["java","gradle","jvm","classpath","javacompiler"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682597064,"post_id":76119729,"comment_id":134242767,"body_markdown":"You can&#39;t. That would violate the Java Language Specification.","body":"You can&#39;t. That would violate the Java Language Specification."},{"owner":{"account_id":21135618,"reputation":1,"user_id":15539129,"display_name":"Ash Hagi"},"score":0,"creation_date":1682597610,"post_id":76119729,"comment_id":134242901,"body_markdown":"@user207421 The case in the &#39;see also&#39; worked as expected, I wonder how that came to be... or if that was just an abstract showcase.","body":"@user207421 The case in the &#39;see also&#39; worked as expected, I wonder how that came to be... or if that was just an abstract showcase."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1682600129,"post_id":76119729,"comment_id":134243589,"body_markdown":"That is a different type structure.  In the example in that question, the dependency is in the implementation code and doesn&#39;t affect the type signature.  In your example the dependency affects the type signature.","body":"That is a different type structure.  In the example in that question, the dependency is in the implementation code and doesn&#39;t affect the type signature.  In your example the dependency affects the type signature."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1682668023,"post_id":76119729,"comment_id":134254919,"body_markdown":"The case in the linked question is “working as expected” except for the crucial part of your question. Look at the end of the question where it asked “*Also, what happened if use a function in class A using object of B which is in Class C but not overridden in class B*”. You just found out what happens, in fact, you found out that any invocation of a method in B will require the supertypes. But if you don’t need any method from the interfaces, you may add a jar containing empty dummy versions of the interfaces…","body":"The case in the linked question is “working as expected” except for the crucial part of your question. Look at the end of the question where it asked “<i>Also, what happened if use a function in class A using object of B which is in Class C but not overridden in class B</i>”. You just found out what happens, in fact, you found out that any invocation of a method in B will require the supertypes. But if you don’t need any method from the interfaces, you may add a jar containing empty dummy versions of the interfaces…"},{"owner":{"account_id":21135618,"reputation":1,"user_id":15539129,"display_name":"Ash Hagi"},"score":0,"creation_date":1682749841,"post_id":76119729,"comment_id":134267713,"body_markdown":"@Holger So, I wonder if calling the constructor of class B from class A is different from calling a method of class B from class A?","body":"@Holger So, I wonder if calling the constructor of class B from class A is different from calling a method of class B from class A?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1682782717,"post_id":76119729,"comment_id":134271043,"body_markdown":"It could be, as constructors are not inherited. However, it’s all just compiler implementation dependent. The standard does not mandate a particular behavior.","body":"It could be, as constructors are not inherited. However, it’s all just compiler implementation dependent. The standard does not mandate a particular behavior."}],"answers":[{"comments":[{"owner":{"account_id":21135618,"reputation":1,"user_id":15539129,"display_name":"Ash Hagi"},"score":0,"creation_date":1682597366,"post_id":76120037,"comment_id":134242833,"body_markdown":"Thanks for the quick answer! However, the other mods are soft dependencies, and also, the question in the &#39;see also&#39; resulted in the behavior I wanted using Gradle. I wonder if my build tools can behave like that.","body":"Thanks for the quick answer! However, the other mods are soft dependencies, and also, the question in the &#39;see also&#39; resulted in the behavior I wanted using Gradle. I wonder if my build tools can behave like that."},{"owner":{"account_id":9894605,"reputation":445,"user_id":7326551,"accept_rate":75,"display_name":"Skod"},"score":0,"creation_date":1682597849,"post_id":76120037,"comment_id":134242956,"body_markdown":"Cool, do you mind sharing your answer and what gradle task you used to get the error?","body":"Cool, do you mind sharing your answer and what gradle task you used to get the error?"}],"tags":[],"owner":{"account_id":9894605,"reputation":445,"user_id":7326551,"accept_rate":75,"display_name":"Skod"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682596144,"creation_date":1682596144,"answer_id":76120037,"question_id":76119729,"body_markdown":"&gt; I wonder if there are ways to make the code compile without adding all these jars to the dependencies.\r\n\r\nShort answer: Probably not, you have to add all the dependencies.\r\n\r\nIn your Gradle file you define the libs that your mod uses in order to compile your app. What Gradle will do then is to connect all of those classes together and build your classpath. Gradle is able to find (and download) all the *missing* dependencies from repositories, such as [maven&#39;s](https://mvnrepository.com). The packages there can declare other dependencies themselves and so on.\r\n\r\nWhat Gradle (and the build tools general) is good for is to traverse those complicated dependency trees and fetch the jars that each projects needs/declares.\r\n\r\nIn your dependencies though you defined a local jar dependency. That means that you are saying to Gradle:\r\n\r\n- Don&#39;t look at a remote repository to get the jar, but I have it ready for you in a local directory\r\n\r\nBut your local directory is not a repository and it doesn&#39;t tell to Gradle which other jars it needs and where to go from there.\r\n\r\nNow it depends on the jar that you downloaded if your project will compile. If the jar doesn&#39;t contain its dependencies, then you have to find those additional jars yourself, download them and add them to Gradle manually so it will connect the dots and build the classpath.\r\n\r\nBut check if there&#39;s a possibility that there&#39;s a `dependency_mod.jar` out there that contains all of its dependencies in the jar itself - that&#39;s generally called a [fat or uber jar](https://stackoverflow.com/questions/11947037/what-is-an-uber-jar)","title":"How to make Java compiler ignore the absent interfaces implemented by a dependency class?","body":"<blockquote>\n<p>I wonder if there are ways to make the code compile without adding all these jars to the dependencies.</p>\n</blockquote>\n<p>Short answer: Probably not, you have to add all the dependencies.</p>\n<p>In your Gradle file you define the libs that your mod uses in order to compile your app. What Gradle will do then is to connect all of those classes together and build your classpath. Gradle is able to find (and download) all the <em>missing</em> dependencies from repositories, such as <a href=\"https://mvnrepository.com\" rel=\"nofollow noreferrer\">maven's</a>. The packages there can declare other dependencies themselves and so on.</p>\n<p>What Gradle (and the build tools general) is good for is to traverse those complicated dependency trees and fetch the jars that each projects needs/declares.</p>\n<p>In your dependencies though you defined a local jar dependency. That means that you are saying to Gradle:</p>\n<ul>\n<li>Don't look at a remote repository to get the jar, but I have it ready for you in a local directory</li>\n</ul>\n<p>But your local directory is not a repository and it doesn't tell to Gradle which other jars it needs and where to go from there.</p>\n<p>Now it depends on the jar that you downloaded if your project will compile. If the jar doesn't contain its dependencies, then you have to find those additional jars yourself, download them and add them to Gradle manually so it will connect the dots and build the classpath.</p>\n<p>But check if there's a possibility that there's a <code>dependency_mod.jar</code> out there that contains all of its dependencies in the jar itself - that's generally called a <a href=\"https://stackoverflow.com/questions/11947037/what-is-an-uber-jar\">fat or uber jar</a></p>\n"}],"owner":{"account_id":21135618,"reputation":1,"user_id":15539129,"display_name":"Ash Hagi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682596144,"creation_date":1682594141,"question_id":76119729,"body_markdown":"I&#39;m modding Minecraft and I imported a mod jar as dependency. However, the compiler prompted error since the class from the dependency mod I invoked method of implemented interfaces from other mods.\r\n\r\n\r\n\r\nIn my code, I invoked a method of a class from the dependency jar. There are some simplified code that demonstrate what the code is like.\r\n```java\r\n// From my mod\r\npublic class MachineIgniterListener {\r\n    \r\n    public void onPlayerInteract(PlayerInteractEvent event) {\r\n        BaseMetaTileEntity tileEntity = getMachineInEventIfItIs(event);\r\n        if (tileEntity == null) return;\r\n\r\n        tileEntity.doEnergyExplosion(); \r\n    }\r\n\r\n}\r\n```\r\nwhere `BaseMetaTileEntity` comes from the dependency mod, and it implements several interfaces from other mods\r\n```java\r\n// From dependency mod\r\npublic class BaseMetaTileEntity extends CommonMetaTileEntity \r\n        implements IActionHost, IAlignmentProvider, IConstructableProvider... {\r\n\r\n    public void doEnergyExplosion() {\r\n        // do some explosion\r\n    }\r\n}\r\n```\r\n`IActionHost`, `IAlignmentProvider`, and other interfaces are from other mods which I haven&#39;t include in the classpath, resulting in the compiler complaining\r\n```\r\n        tileEntity.doEnergyExplosion();\r\n                  ^\r\n   class file for appeng.api.networking.security.IActionHost not found\r\n```\r\nI think, in terms of JVM bytecode, the code does not require knowing what interfaces the class implements to compile (which I might be wrong about it), so I&#39;m expecting the code compiles without the depended jars added to the classpath. However, the compiler requires all the jars to be present. Since I&#39;m coding in legacy versions of Minecraft, finding some mod that it requires can be very tidious. \r\n\r\nI used Gradle to include the jar file in my project. Since I&#39;m new to Gradle, I tried different kinds of dependency configurations, and none of them solved the problem. \r\n```gradle\r\ndependencies {\r\n    // compile files(&quot;dependency_mod.jar&quot;)\r\n    // implementation files(&quot;dependency_mod.jar&quot;)\r\n    // api files(&quot;dependency_mod.jar&quot;)\r\n    // runtimeOnly files(&quot;dependency_mod.jar&quot;) I can&#39;t even refer to the classes with this one\r\n    // Yes I tried lol\r\n\r\n    compileOnly files(&quot;dependency_mod.jar&quot;)\r\n}\r\n```\r\n\r\nI wonder if there are ways to make the code compile without adding all these jars to the dependencies. Am I doing wrong with the Gradle settings? Or there&#39;s no other ways around than adding the jars? \r\n\r\nAlso, if this is relevant, I&#39;m using IntelliJ with Gradle 6.9.1, Java 8, and [FalsePattern / ExampleMod1.7.10](https://github.com/FalsePattern/ExampleMod1.7.10) modding toolchain template\r\n\r\nSee also: A question described that resulted in expected behavior - [Java Compiler transistive type checking behaviour](https://stackoverflow.com/questions/58028051/java-compiler-transistive-type-checking-behaviour)","title":"How to make Java compiler ignore the absent interfaces implemented by a dependency class?","body":"<p>I'm modding Minecraft and I imported a mod jar as dependency. However, the compiler prompted error since the class from the dependency mod I invoked method of implemented interfaces from other mods.</p>\n<p>In my code, I invoked a method of a class from the dependency jar. There are some simplified code that demonstrate what the code is like.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// From my mod\npublic class MachineIgniterListener {\n    \n    public void onPlayerInteract(PlayerInteractEvent event) {\n        BaseMetaTileEntity tileEntity = getMachineInEventIfItIs(event);\n        if (tileEntity == null) return;\n\n        tileEntity.doEnergyExplosion(); \n    }\n\n}\n</code></pre>\n<p>where <code>BaseMetaTileEntity</code> comes from the dependency mod, and it implements several interfaces from other mods</p>\n<pre class=\"lang-java prettyprint-override\"><code>// From dependency mod\npublic class BaseMetaTileEntity extends CommonMetaTileEntity \n        implements IActionHost, IAlignmentProvider, IConstructableProvider... {\n\n    public void doEnergyExplosion() {\n        // do some explosion\n    }\n}\n</code></pre>\n<p><code>IActionHost</code>, <code>IAlignmentProvider</code>, and other interfaces are from other mods which I haven't include in the classpath, resulting in the compiler complaining</p>\n<pre><code>        tileEntity.doEnergyExplosion();\n                  ^\n   class file for appeng.api.networking.security.IActionHost not found\n</code></pre>\n<p>I think, in terms of JVM bytecode, the code does not require knowing what interfaces the class implements to compile (which I might be wrong about it), so I'm expecting the code compiles without the depended jars added to the classpath. However, the compiler requires all the jars to be present. Since I'm coding in legacy versions of Minecraft, finding some mod that it requires can be very tidious.</p>\n<p>I used Gradle to include the jar file in my project. Since I'm new to Gradle, I tried different kinds of dependency configurations, and none of them solved the problem.</p>\n<pre><code>dependencies {\n    // compile files(&quot;dependency_mod.jar&quot;)\n    // implementation files(&quot;dependency_mod.jar&quot;)\n    // api files(&quot;dependency_mod.jar&quot;)\n    // runtimeOnly files(&quot;dependency_mod.jar&quot;) I can't even refer to the classes with this one\n    // Yes I tried lol\n\n    compileOnly files(&quot;dependency_mod.jar&quot;)\n}\n</code></pre>\n<p>I wonder if there are ways to make the code compile without adding all these jars to the dependencies. Am I doing wrong with the Gradle settings? Or there's no other ways around than adding the jars?</p>\n<p>Also, if this is relevant, I'm using IntelliJ with Gradle 6.9.1, Java 8, and <a href=\"https://github.com/FalsePattern/ExampleMod1.7.10\" rel=\"nofollow noreferrer\">FalsePattern / ExampleMod1.7.10</a> modding toolchain template</p>\n<p>See also: A question described that resulted in expected behavior - <a href=\"https://stackoverflow.com/questions/58028051/java-compiler-transistive-type-checking-behaviour\">Java Compiler transistive type checking behaviour</a></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682594143,"creation_date":1682594143,"answer_id":76119730,"question_id":76119464,"body_markdown":"Here your method has not the same @PostMapping annotation too.\r\nSeems not possible to do it as you want.\r\n\r\nThe best is to change the name of your controller method to rely on the functionality it deserves, so when you read it, you understand it fastly.\r\n\r\n - `register` your html form becomes `registerForm`\r\n - `register` your User object from json becomes `registerUser`\r\n\r\nYou can write a unit test like that : https://stackoverflow.com/a/35855593/390462\r\n\r\nUsually we are writing hundreds of unit tests when developing a new application / software. It&#39;s not complexifying the job to change to a new meaningfull name.\r\n","title":"Overloading Spring Boot method by consumed type","body":"<p>Here your method has not the same @PostMapping annotation too.\nSeems not possible to do it as you want.</p>\n<p>The best is to change the name of your controller method to rely on the functionality it deserves, so when you read it, you understand it fastly.</p>\n<ul>\n<li><code>register</code> your html form becomes <code>registerForm</code></li>\n<li><code>register</code> your User object from json becomes <code>registerUser</code></li>\n</ul>\n<p>You can write a unit test like that : <a href=\"https://stackoverflow.com/a/35855593/390462\">https://stackoverflow.com/a/35855593/390462</a></p>\n<p>Usually we are writing hundreds of unit tests when developing a new application / software. It's not complexifying the job to change to a new meaningfull name.</p>\n"},{"tags":[],"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682596082,"creation_date":1682596082,"answer_id":76120031,"question_id":76119464,"body_markdown":"The problem with overloading in your case is that the Java method signatures are the same.\r\n\r\nBoth have `public ResponseEntity&lt;User&gt; register(User user)`\r\n\r\nAs annotations do not change the signature, your current code won&#39;t compile.\r\nHowever, it is enough to rename just one of the methods and the following code works totally fine:\r\n\r\n```\r\n@PostMapping(path = &quot;/register&quot;, consumes = &quot;application/x-www-form-urlencoded&quot;)\r\npublic ResponseEntity&lt;User&gt; register(User user) {\r\n    User registered = userService.register(user);\r\n    return ResponseEntity\r\n        .created(\r\n             ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/register&quot;).buildAndExpand(user).toUri())\r\n        .body(registered);\r\n}\r\n\r\n@PostMapping(path = &quot;/register&quot;, consumes = &quot;application/json&quot;)\r\npublic ResponseEntity&lt;User&gt; registerWithJson(@RequestBody User user) {\r\n    User registered = userService.register(user);\r\n    return ResponseEntity\r\n        .created(          \r\n             ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/register&quot;).buildAndExpand(user).toUri()\r\n            )\r\n        .body(registered);\r\n}\r\n```\r\n\r\nIf needed, more information about request mappings in Spring controllers can be found in the official documentation:\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-requestmapping","title":"Overloading Spring Boot method by consumed type","body":"<p>The problem with overloading in your case is that the Java method signatures are the same.</p>\n<p>Both have <code>public ResponseEntity&lt;User&gt; register(User user)</code></p>\n<p>As annotations do not change the signature, your current code won't compile.\nHowever, it is enough to rename just one of the methods and the following code works totally fine:</p>\n<pre><code>@PostMapping(path = &quot;/register&quot;, consumes = &quot;application/x-www-form-urlencoded&quot;)\npublic ResponseEntity&lt;User&gt; register(User user) {\n    User registered = userService.register(user);\n    return ResponseEntity\n        .created(\n             ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/register&quot;).buildAndExpand(user).toUri())\n        .body(registered);\n}\n\n@PostMapping(path = &quot;/register&quot;, consumes = &quot;application/json&quot;)\npublic ResponseEntity&lt;User&gt; registerWithJson(@RequestBody User user) {\n    User registered = userService.register(user);\n    return ResponseEntity\n        .created(          \n             ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/register&quot;).buildAndExpand(user).toUri()\n            )\n        .body(registered);\n}\n</code></pre>\n<p>If needed, more information about request mappings in Spring controllers can be found in the official documentation:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-requestmapping\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-requestmapping</a></p>\n"}],"owner":{"account_id":17475615,"reputation":19,"user_id":12670542,"display_name":"VictoRPiles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682596082,"creation_date":1682591967,"question_id":76119464,"body_markdown":"I have this method that consumes &quot;application/x-www-form-urlencoded&quot;, this is the endpoint for one of my forms in the frontend.\r\n```java\r\n@PostMapping(path = &quot;/register&quot;, consumes = &quot;application/x-www-form-urlencoded&quot;)\r\n    public ResponseEntity&lt;User&gt; register(User user) {\r\n        User registered = userService.register(user);\r\n        return ResponseEntity\r\n                .created(\r\n                        ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/register&quot;).buildAndExpand(user).toUri()\r\n                )\r\n                .body(registered);\r\n    }\r\n```\r\n\r\nI want to overload this method with another one thath consumes &quot;application/json&quot;, so its easy for me to test the endpoint, this method will look like this:\r\n```java\r\n@PostMapping(path = &quot;/register&quot;, consumes = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;User&gt; register(@RequestBody User user) {\r\n        User registered = userService.register(user);\r\n        return ResponseEntity\r\n                .created(\r\n                        ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/register&quot;).buildAndExpand(user).toUri()\r\n                )\r\n                .body(registered);\r\n    }\r\n```\r\nNote that this one has the @RequestBody annotation.\r\n\r\nHow can I do this?","title":"Overloading Spring Boot method by consumed type","body":"<p>I have this method that consumes &quot;application/x-www-form-urlencoded&quot;, this is the endpoint for one of my forms in the frontend.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(path = &quot;/register&quot;, consumes = &quot;application/x-www-form-urlencoded&quot;)\n    public ResponseEntity&lt;User&gt; register(User user) {\n        User registered = userService.register(user);\n        return ResponseEntity\n                .created(\n                        ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/register&quot;).buildAndExpand(user).toUri()\n                )\n                .body(registered);\n    }\n</code></pre>\n<p>I want to overload this method with another one thath consumes &quot;application/json&quot;, so its easy for me to test the endpoint, this method will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(path = &quot;/register&quot;, consumes = &quot;application/json&quot;)\n    public ResponseEntity&lt;User&gt; register(@RequestBody User user) {\n        User registered = userService.register(user);\n        return ResponseEntity\n                .created(\n                        ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/register&quot;).buildAndExpand(user).toUri()\n                )\n                .body(registered);\n    }\n</code></pre>\n<p>Note that this one has the @RequestBody annotation.</p>\n<p>How can I do this?</p>\n"},{"tags":["java","json","jolt"],"comments":[{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1682595433,"post_id":76119896,"comment_id":134242399,"body_markdown":"Hi Aziz, What&#39;s your expected output exactly ? Do you want to pad X values to the right upto 30 chars length ?","body":"Hi Aziz, What&#39;s your expected output exactly ? Do you want to pad X values to the right upto 30 chars length ?"},{"owner":{"account_id":27862574,"reputation":19,"user_id":21274759,"display_name":"Aziz R."},"score":0,"creation_date":1682595720,"post_id":76119896,"comment_id":134242461,"body_markdown":"I would like the entire output field to consist of 30 characters. i.e. &quot;the quick brown foxXXXXXXXXXXX&quot;","body":"I would like the entire output field to consist of 30 characters. i.e. &quot;the quick brown foxXXXXXXXXXXX&quot;"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1682595880,"post_id":76119896,"comment_id":134242491,"body_markdown":"I mean Do you want to have this `{\n  &quot;input&quot; : {\n    &quot;string&quot; : &quot;the QuIcK brOwn foxXXXXXXXXXXX&quot;\n  }\n}` as an example based onn the current one ?","body":"I mean Do you want to have this <code>{   &quot;input&quot; : {     &quot;string&quot; : &quot;the QuIcK brOwn foxXXXXXXXXXXX&quot;   } }</code> as an example based onn the current one ?"}],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682596062,"creation_date":1682596062,"answer_id":76120027,"question_id":76119896,"body_markdown":"You can use the following **modify** transformation spec \r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: { // overwrites the value of the &quot;string&quot; attribute\r\n        &quot;string&quot;: &quot;=rightPad(@(1,&amp;), 30, &#39;X&#39;)&quot; \r\n        // @(1,&amp;) looks for the current level \r\n        // with replicated value of &quot;string&quot; due to the ampersand\r\n      }\r\n    }\r\n  }\r\n]\r\n```","title":"How do I perform padding operations on an inconsistent field using JOLT left/rightpad","body":"<p>You can use the following <strong>modify</strong> transformation spec</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: { // overwrites the value of the &quot;string&quot; attribute\n        &quot;string&quot;: &quot;=rightPad(@(1,&amp;), 30, 'X')&quot; \n        // @(1,&amp;) looks for the current level \n        // with replicated value of &quot;string&quot; due to the ampersand\n      }\n    }\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":27862574,"reputation":19,"user_id":21274759,"display_name":"Aziz R."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76120027,"answer_count":1,"score":0,"last_activity_date":1682596062,"creation_date":1682595238,"question_id":76119896,"body_markdown":"Let&#39;s say I have the following input:\r\n\r\n```\r\n{\r\n    &quot;input&quot;: {\r\n        &quot;string&quot;: &quot;the QuIcK brOwn fox&quot;\r\n    }\r\n}\r\n```\r\n\r\nI am trying to pad the &#39;string&#39; field to a specific length. Utilising the following would not be possible: \r\n\r\n```\r\n&quot;basic1&quot;: &quot;=leftPad(&#39;the QuIcK brOwn fox&#39;, 30, &#39;X&#39;)&quot;\r\n```\r\n\r\nThe **value** of the &#39;string&#39; field will be dynamic and subject to **change** each time. Hence I require a transformation that can be applied to the &#39;string&#39; **key** as opposed to simply manipulating the **value**.\r\n\r\nI have tried the following in the jolt transform demo website:\r\n\r\n```\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;rightPad&quot;: {\r\n        &quot;basic4&quot;: &quot;=rightPad(@(2,string), 30, &#39;X&#39;)&quot; // happy path : actually pad a looked up string from the data\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nI am receving the following output on the demo website for JOLT:\r\n```\r\n{\r\n  &quot;input&quot; : {\r\n    &quot;string&quot; : &quot;the QuIcK brOwn fox&quot;\r\n  },\r\n  &quot;rightPad&quot; : { }\r\n}\r\n```","title":"How do I perform padding operations on an inconsistent field using JOLT left/rightpad","body":"<p>Let's say I have the following input:</p>\n<pre><code>{\n    &quot;input&quot;: {\n        &quot;string&quot;: &quot;the QuIcK brOwn fox&quot;\n    }\n}\n</code></pre>\n<p>I am trying to pad the 'string' field to a specific length. Utilising the following would not be possible:</p>\n<pre><code>&quot;basic1&quot;: &quot;=leftPad('the QuIcK brOwn fox', 30, 'X')&quot;\n</code></pre>\n<p>The <strong>value</strong> of the 'string' field will be dynamic and subject to <strong>change</strong> each time. Hence I require a transformation that can be applied to the 'string' <strong>key</strong> as opposed to simply manipulating the <strong>value</strong>.</p>\n<p>I have tried the following in the jolt transform demo website:</p>\n<pre><code>[\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;rightPad&quot;: {\n        &quot;basic4&quot;: &quot;=rightPad(@(2,string), 30, 'X')&quot; // happy path : actually pad a looked up string from the data\n      }\n    }\n  }\n]\n</code></pre>\n<p>I am receving the following output on the demo website for JOLT:</p>\n<pre><code>{\n  &quot;input&quot; : {\n    &quot;string&quot; : &quot;the QuIcK brOwn fox&quot;\n  },\n  &quot;rightPad&quot; : { }\n}\n</code></pre>\n"},{"tags":["java","android","maui"],"comments":[{"owner":{"account_id":14270806,"reputation":10894,"user_id":10308336,"display_name":"Jessie Zhang -MSFT"},"score":0,"creation_date":1682558213,"post_id":76112221,"comment_id":134236465,"body_markdown":"How can we reproduce this problem? Could you please post the steps of reproducing this problem so that we can test on our side?","body":"How can we reproduce this problem? Could you please post the steps of reproducing this problem so that we can test on our side?"}],"answers":[{"tags":[],"owner":{"account_id":1411135,"reputation":205,"user_id":1337689,"accept_rate":40,"display_name":"iwaitu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682596035,"creation_date":1682596035,"answer_id":76120018,"question_id":76112221,"body_markdown":"I add this content to metadata.xml and solved this problem.\r\n```\r\n&lt;add-node path=&quot;/api/package[@name=&#39;com.netease.cloud.nos.yidun.core&#39;]&quot;&gt;\r\n    &lt;class abstract=&quot;false&quot; deprecated=&quot;not deprecated&quot; final=&quot;false&quot; name=&quot;CallRet&quot; static=&quot;true&quot; visibility=&quot;public&quot; extends=&quot;java.lang.Object&quot;&gt;&lt;/class&gt;\r\n    &lt;class abstract=&quot;false&quot; deprecated=&quot;not deprecated&quot; final=&quot;false&quot; name=&quot;UploadTask&quot; static=&quot;true&quot; visibility=&quot;public&quot; extends=&quot;java.lang.Object&quot;&gt;&lt;/class&gt;\r\n  &lt;/add-node&gt;\r\n```","title":"Maui Android binding library Error:does not implement inherited abstract member AsyncTask.DoInBackground(params Object[])","body":"<p>I add this content to metadata.xml and solved this problem.</p>\n<pre><code>&lt;add-node path=&quot;/api/package[@name='com.netease.cloud.nos.yidun.core']&quot;&gt;\n    &lt;class abstract=&quot;false&quot; deprecated=&quot;not deprecated&quot; final=&quot;false&quot; name=&quot;CallRet&quot; static=&quot;true&quot; visibility=&quot;public&quot; extends=&quot;java.lang.Object&quot;&gt;&lt;/class&gt;\n    &lt;class abstract=&quot;false&quot; deprecated=&quot;not deprecated&quot; final=&quot;false&quot; name=&quot;UploadTask&quot; static=&quot;true&quot; visibility=&quot;public&quot; extends=&quot;java.lang.Object&quot;&gt;&lt;/class&gt;\n  &lt;/add-node&gt;\n</code></pre>\n"}],"owner":{"account_id":1411135,"reputation":205,"user_id":1337689,"accept_rate":40,"display_name":"iwaitu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682596035,"creation_date":1682520915,"question_id":76112221,"body_markdown":"I want to use a .aar file that I have with my Maui Android project.\r\n\r\nAfter I create the binding project and try to build, I get this error:\r\n```\r\nD:\\codeup\\Grial\\NetEasy.Droid\\obj\\Debug\\net7.0-android\\generated\\src\\Com.Netease.Cloud.Nos.Yidun.Core.UploadTask.cs(10,23,10,33): error CS0534: “UploadTask”  does not implement inherited abstract member \r\n “AsyncTask.DoInBackground(params Object[]?)”\r\n```\r\n\r\nUsing a decompiler, I checked the contents of UploadTask and found this:\r\n```\r\npublic class UploadTask extends AsyncTask&lt;Object, Object, CallRet&gt; {\r\npublic CallRet doInBackground(Object... params) {\r\n    try {\r\n      this.item.setNetEnv(object1.getNetworkType());\r\n      this.item.setClientIP(Util.getIPAddress());\r\n      this.item.setBucketName(this.bucketName);\r\n      Object object1;\r\n      HttpResult httpResult;\r\n      if ((httpResult = queryLBS((object1 = NetworkType.getNetWorkType(this.context)).getNetworkType())) != null &amp;&amp; httpResult.getStatusCode() != 200)\r\n        if (Util.getData(this.context, this.bucketName + &quot;netease_pomelo_nos_server&quot;) == null) {\r\n          object1 = this.fileParam;\r\n          String str4 = this.uploadContext;\r\n          int j = httpResult.getStatusCode();\r\n          String str5 = Util.getResultString(httpResult, &quot;requestID&quot;);\r\n          String str6 = Util.getResultString(httpResult, &quot;callbackRetMsg&quot;);\r\n          return new CallRet(object1, str4, j, str5, str6, httpResult.getMsg().toString(), null);\r\n        }  \r\n      long l1 = System.currentTimeMillis();\r\n      if ((object1 = doUpload(object1.getChunkSize())) == null)\r\n        super(500, new JSONObject(), null); \r\n      long l2 = System.currentTimeMillis();\r\n      float f = (float)((this.fileSize - this.offset) / 1024.0D / (l1 = l2 - l1) / 1000.0D);\r\n      LogUtil.w(LOGTAG, &quot;upload result:&quot; + object1.getStatusCode() + &quot;, speed:&quot; + f + &quot;KB/S&quot;);\r\n      this.item.setUploaderUseTime(l1);\r\n      this.item.setUploaderHttpCode(Util.getHttpCode((HttpResult)object1));\r\n      if (object1.getStatusCode() != 200 &amp;&amp; !this.upCancelled)\r\n        Util.setBooleanData(this.context, this.bucketName + &quot;netease_pomelo_nos_lbs_status&quot;, false); \r\n      Object object2 = this.fileParam;\r\n      String str1 = this.uploadContext;\r\n      int i = object1.getStatusCode();\r\n      String str2 = Util.getResultString((HttpResult)object1, &quot;requestID&quot;);\r\n      String str3 = Util.getResultString((HttpResult)object1, &quot;callbackRetMsg&quot;);\r\n      return new CallRet(object2, str1, i, str2, str3, object1.getMsg().toString(), null);\r\n    } catch (Exception exception) {\r\n      LogUtil.e(LOGTAG, &quot;upload exception&quot;, exception);\r\n      Object object = this.fileParam;\r\n      return new CallRet(object, this.uploadContext, 799, &quot;&quot;, &quot;&quot;, null, exception);\r\n    } finally {\r\n      Util.closeInputStream(this.inputStream);\r\n    } \r\n  }\r\n}\r\n```\r\nand automatically generated C# code like this:\r\n```\r\n// Metadata.xml XPath method reference: path=&quot;/api/package[@name=&#39;com.netease.cloud.nos.yidun.core&#39;]/class[@name=&#39;UploadTask&#39;]/method[@name=&#39;doInBackground&#39; and count(parameter)=1 and parameter[1][@type=&#39;java.lang.Object...&#39;]]&quot;\r\n\t\t[Register (&quot;doInBackground&quot;, &quot;([Ljava/lang/Object;)Lcom/netease/cloud/nos/yidun/core/CallRet;&quot;, &quot;GetDoInBackground_arrayLjava_lang_Object_Handler&quot;)]\r\n\t\tpublic virtual unsafe global::Java.Lang.Object? DoInBackground (params global::Java.Lang.Object[]? @params)\r\n\t\t{\r\n\t\t\tconst string __id = &quot;doInBackground.([Ljava/lang/Object;)Lcom/netease/cloud/nos/yidun/core/CallRet;&quot;;\r\n\t\t\tIntPtr native__params = JNIEnv.NewArray (@params);\r\n\t\t\ttry {\r\n\t\t\t\tJniArgumentValue* __args = stackalloc JniArgumentValue [1];\r\n\t\t\t\t__args [0] = new JniArgumentValue (native__params);\r\n\t\t\t\tvar __rm = _members.InstanceMethods.InvokeVirtualObjectMethod (__id, this, __args);\r\n\t\t\t\treturn global::Java.Lang.Object.GetObject&lt;global::Java.Lang.Object&gt; (__rm.Handle, JniHandleOwnership.TransferLocalRef);\r\n\t\t\t} finally {\r\n\t\t\t\tif (@params != null) {\r\n\t\t\t\t\tJNIEnv.CopyArray (native__params, @params);\r\n\t\t\t\t\tJNIEnv.DeleteLocalRef (native__params);\r\n\t\t\t\t}\r\n\t\t\t\tglobal::System.GC.KeepAlive (@params);\r\n\t\t\t}\r\n\t\t}\r\n```\r\n\r\nhow I can fix this ?","title":"Maui Android binding library Error:does not implement inherited abstract member AsyncTask.DoInBackground(params Object[])","body":"<p>I want to use a .aar file that I have with my Maui Android project.</p>\n<p>After I create the binding project and try to build, I get this error:</p>\n<pre><code>D:\\codeup\\Grial\\NetEasy.Droid\\obj\\Debug\\net7.0-android\\generated\\src\\Com.Netease.Cloud.Nos.Yidun.Core.UploadTask.cs(10,23,10,33): error CS0534: “UploadTask”  does not implement inherited abstract member \n “AsyncTask.DoInBackground(params Object[]?)”\n</code></pre>\n<p>Using a decompiler, I checked the contents of UploadTask and found this:</p>\n<pre><code>public class UploadTask extends AsyncTask&lt;Object, Object, CallRet&gt; {\npublic CallRet doInBackground(Object... params) {\n    try {\n      this.item.setNetEnv(object1.getNetworkType());\n      this.item.setClientIP(Util.getIPAddress());\n      this.item.setBucketName(this.bucketName);\n      Object object1;\n      HttpResult httpResult;\n      if ((httpResult = queryLBS((object1 = NetworkType.getNetWorkType(this.context)).getNetworkType())) != null &amp;&amp; httpResult.getStatusCode() != 200)\n        if (Util.getData(this.context, this.bucketName + &quot;netease_pomelo_nos_server&quot;) == null) {\n          object1 = this.fileParam;\n          String str4 = this.uploadContext;\n          int j = httpResult.getStatusCode();\n          String str5 = Util.getResultString(httpResult, &quot;requestID&quot;);\n          String str6 = Util.getResultString(httpResult, &quot;callbackRetMsg&quot;);\n          return new CallRet(object1, str4, j, str5, str6, httpResult.getMsg().toString(), null);\n        }  \n      long l1 = System.currentTimeMillis();\n      if ((object1 = doUpload(object1.getChunkSize())) == null)\n        super(500, new JSONObject(), null); \n      long l2 = System.currentTimeMillis();\n      float f = (float)((this.fileSize - this.offset) / 1024.0D / (l1 = l2 - l1) / 1000.0D);\n      LogUtil.w(LOGTAG, &quot;upload result:&quot; + object1.getStatusCode() + &quot;, speed:&quot; + f + &quot;KB/S&quot;);\n      this.item.setUploaderUseTime(l1);\n      this.item.setUploaderHttpCode(Util.getHttpCode((HttpResult)object1));\n      if (object1.getStatusCode() != 200 &amp;&amp; !this.upCancelled)\n        Util.setBooleanData(this.context, this.bucketName + &quot;netease_pomelo_nos_lbs_status&quot;, false); \n      Object object2 = this.fileParam;\n      String str1 = this.uploadContext;\n      int i = object1.getStatusCode();\n      String str2 = Util.getResultString((HttpResult)object1, &quot;requestID&quot;);\n      String str3 = Util.getResultString((HttpResult)object1, &quot;callbackRetMsg&quot;);\n      return new CallRet(object2, str1, i, str2, str3, object1.getMsg().toString(), null);\n    } catch (Exception exception) {\n      LogUtil.e(LOGTAG, &quot;upload exception&quot;, exception);\n      Object object = this.fileParam;\n      return new CallRet(object, this.uploadContext, 799, &quot;&quot;, &quot;&quot;, null, exception);\n    } finally {\n      Util.closeInputStream(this.inputStream);\n    } \n  }\n}\n</code></pre>\n<p>and automatically generated C# code like this:</p>\n<pre><code>// Metadata.xml XPath method reference: path=&quot;/api/package[@name='com.netease.cloud.nos.yidun.core']/class[@name='UploadTask']/method[@name='doInBackground' and count(parameter)=1 and parameter[1][@type='java.lang.Object...']]&quot;\n        [Register (&quot;doInBackground&quot;, &quot;([Ljava/lang/Object;)Lcom/netease/cloud/nos/yidun/core/CallRet;&quot;, &quot;GetDoInBackground_arrayLjava_lang_Object_Handler&quot;)]\n        public virtual unsafe global::Java.Lang.Object? DoInBackground (params global::Java.Lang.Object[]? @params)\n        {\n            const string __id = &quot;doInBackground.([Ljava/lang/Object;)Lcom/netease/cloud/nos/yidun/core/CallRet;&quot;;\n            IntPtr native__params = JNIEnv.NewArray (@params);\n            try {\n                JniArgumentValue* __args = stackalloc JniArgumentValue [1];\n                __args [0] = new JniArgumentValue (native__params);\n                var __rm = _members.InstanceMethods.InvokeVirtualObjectMethod (__id, this, __args);\n                return global::Java.Lang.Object.GetObject&lt;global::Java.Lang.Object&gt; (__rm.Handle, JniHandleOwnership.TransferLocalRef);\n            } finally {\n                if (@params != null) {\n                    JNIEnv.CopyArray (native__params, @params);\n                    JNIEnv.DeleteLocalRef (native__params);\n                }\n                global::System.GC.KeepAlive (@params);\n            }\n        }\n</code></pre>\n<p>how I can fix this ?</p>\n"},{"tags":["java","android","sip","pjsip","pjsua2"],"answers":[{"tags":[],"owner":{"account_id":8524323,"reputation":1986,"user_id":6390206,"display_name":"Aanal Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599128429,"creation_date":1599128429,"answer_id":63721612,"question_id":63702759,"body_markdown":"This document is too lengthy and not proper. I have been went through the same problem.\r\n\r\nThe following might help you:\r\n\r\n    SipManager.getInstance()?.activeCalls?.get(callId)?.mVideoPreview?.stop()\r\n\r\nHere, **activeCalls** is instance of **MyCall**.","title":"how to pause and unpause video transmission using Android Pjsua 2?","body":"<p>This document is too lengthy and not proper. I have been went through the same problem.</p>\n<p>The following might help you:</p>\n<pre><code>SipManager.getInstance()?.activeCalls?.get(callId)?.mVideoPreview?.stop()\n</code></pre>\n<p>Here, <strong>activeCalls</strong> is instance of <strong>MyCall</strong>.</p>\n"},{"comments":[{"owner":{"account_id":12022692,"reputation":355,"user_id":8795652,"accept_rate":45,"display_name":"tomtom"},"score":0,"creation_date":1603286006,"post_id":64259445,"comment_id":113988541,"body_markdown":"Hi Daszuone, how can i get the device id of camera -- in your case camDevId","body":"Hi Daszuone, how can i get the device id of camera -- in your case camDevId"},{"owner":{"account_id":16088652,"reputation":759,"user_id":11612635,"display_name":"DaszuOne"},"score":0,"creation_date":1603366709,"post_id":64259445,"comment_id":114017959,"body_markdown":"VidDevManager has a getDevInfo function. You can iterate through all cameras (eg. in for loop 0 to getDevCount from manager) and grab the id&#39;s of devices you need.","body":"VidDevManager has a getDevInfo function. You can iterate through all cameras (eg. in for loop 0 to getDevCount from manager) and grab the id&#39;s of devices you need."},{"owner":{"account_id":12022692,"reputation":355,"user_id":8795652,"accept_rate":45,"display_name":"tomtom"},"score":0,"creation_date":1605180301,"post_id":64259445,"comment_id":114574751,"body_markdown":"can you please elaborate with code example of getting device id .  getDevCount() gives only number of device and getDefInfo require device id .. ?","body":"can you please elaborate with code example of getting device id .  getDevCount() gives only number of device and getDefInfo require device id .. ?"}],"tags":[],"owner":{"account_id":16088652,"reputation":759,"user_id":11612635,"display_name":"DaszuOne"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602148752,"creation_date":1602148752,"answer_id":64259445,"question_id":63702759,"body_markdown":"Consider this code:\r\n\r\n    fun strmStopTransmit() {\r\n        if (manager.isCaptureActive(camDevId)) {\r\n            val callVidPrm = CallVidSetStreamParam()\r\n            callVidPrm.setCapDev(camDevId)\r\n            call.vidSetStream(pjsua_call_vid_strm_op.PJSUA_CALL_VID_STRM_STOP_TRANSMIT, callVidPrm)\r\n        }\r\n    }\r\n\r\nWhere `manager` is instance of `pj::VidDevManager` ([link][1]) (you can get it from `pj::Endpoint` ([link][2])) and `call` is instance of `pj::Call` ([link][3]).\r\n\r\nThe implementation of the inverse function (resuming transmission) is obvious.\r\n\r\nGood luck!\r\n\r\n\r\n  [1]: https://www.pjsip.org/pjsip/docs/html/classpj_1_1VidDevManager.htm\r\n  [2]: https://www.pjsip.org/pjsip/docs/html/classpj_1_1Endpoint.htm\r\n  [3]: https://www.pjsip.org/pjsip/docs/html/classpj_1_1Call.htm","title":"how to pause and unpause video transmission using Android Pjsua 2?","body":"<p>Consider this code:</p>\n<pre><code>fun strmStopTransmit() {\n    if (manager.isCaptureActive(camDevId)) {\n        val callVidPrm = CallVidSetStreamParam()\n        callVidPrm.setCapDev(camDevId)\n        call.vidSetStream(pjsua_call_vid_strm_op.PJSUA_CALL_VID_STRM_STOP_TRANSMIT, callVidPrm)\n    }\n}\n</code></pre>\n<p>Where <code>manager</code> is instance of <code>pj::VidDevManager</code> (<a href=\"https://www.pjsip.org/pjsip/docs/html/classpj_1_1VidDevManager.htm\" rel=\"nofollow noreferrer\">link</a>) (you can get it from <code>pj::Endpoint</code> (<a href=\"https://www.pjsip.org/pjsip/docs/html/classpj_1_1Endpoint.htm\" rel=\"nofollow noreferrer\">link</a>)) and <code>call</code> is instance of <code>pj::Call</code> (<a href=\"https://www.pjsip.org/pjsip/docs/html/classpj_1_1Call.htm\" rel=\"nofollow noreferrer\">link</a>).</p>\n<p>The implementation of the inverse function (resuming transmission) is obvious.</p>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":14220491,"reputation":27,"user_id":10272953,"display_name":"Dharmik Modi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682596033,"creation_date":1682596033,"answer_id":76120017,"question_id":63702759,"body_markdown":"    try {\r\n        CallInfo ci = currentCall.getInfo();\r\n        CallMediaInfoVector callMediaInfoVector = ci.getMedia();\r\n        for (int i = 0; i &lt; callMediaInfoVector.size(); i++) {\r\n            CallMediaInfo callMediaInfo = callMediaInfoVector.get(i);\r\n            if (ep.vidDevManager().isCaptureActive(callMediaInfo.getVideoCapDev())) {\r\n                CallVidSetStreamParam callVidPrm = new CallVidSetStreamParam();\r\n                callVidPrm.setCapDev(callMediaInfo.getVideoCapDev());\r\n                try {\r\n                    if(!isVideoDisable){\r\n                        currentCall.vidSetStream(pjsua_call_vid_strm_op.PJSUA_CALL_VID_STRM_STOP_TRANSMIT, callVidPrm);\r\n                        isVideoDisable = true;\r\n                    }else {\r\n                        currentCall.vidSetStream(pjsua_call_vid_strm_op.PJSUA_CALL_VID_STRM_START_TRANSMIT, callVidPrm);\r\n                        isVideoDisable = false;\r\n                    }\r\n                } catch (Exception e) {\r\n                    cLogE(TAG,&quot;exception&quot;);\r\n                }\r\n            }\r\n        }\r\n    } catch (Exception e) {\r\n        cLogE(TAG,&quot;exception&quot;);\r\n    }","title":"how to pause and unpause video transmission using Android Pjsua 2?","body":"<pre><code>try {\n    CallInfo ci = currentCall.getInfo();\n    CallMediaInfoVector callMediaInfoVector = ci.getMedia();\n    for (int i = 0; i &lt; callMediaInfoVector.size(); i++) {\n        CallMediaInfo callMediaInfo = callMediaInfoVector.get(i);\n        if (ep.vidDevManager().isCaptureActive(callMediaInfo.getVideoCapDev())) {\n            CallVidSetStreamParam callVidPrm = new CallVidSetStreamParam();\n            callVidPrm.setCapDev(callMediaInfo.getVideoCapDev());\n            try {\n                if(!isVideoDisable){\n                    currentCall.vidSetStream(pjsua_call_vid_strm_op.PJSUA_CALL_VID_STRM_STOP_TRANSMIT, callVidPrm);\n                    isVideoDisable = true;\n                }else {\n                    currentCall.vidSetStream(pjsua_call_vid_strm_op.PJSUA_CALL_VID_STRM_START_TRANSMIT, callVidPrm);\n                    isVideoDisable = false;\n                }\n            } catch (Exception e) {\n                cLogE(TAG,&quot;exception&quot;);\n            }\n        }\n    }\n} catch (Exception e) {\n    cLogE(TAG,&quot;exception&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":12022692,"reputation":355,"user_id":8795652,"accept_rate":45,"display_name":"tomtom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1682596033,"creation_date":1599039305,"question_id":63702759,"body_markdown":"I wish to pause and unpause video transmission in video call on fly without dropping Audio call using Android Pjsua2 library. But some how i am not able to understand how to implement that feature to sample android pjsua2 app. Any help would be highly appreciated.\r\n\r\ni went through below documentation and not able to understand ..how to implement it\r\n\r\n\r\n&gt; enum pjsua_call_vid_strm_op This enumeration represents video stream\r\n&gt; operation on a call. \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; PJSUA_CALL_VID_STRM_START_TRANSMIT \t Start transmitting video stream.\r\n&gt; This will cause previously stopped stream to start transmitting again.\r\n&gt; Note that no re-INVITE/UPDATE is to be transmitted to remote since\r\n&gt; this operation only operates on local stream.\r\n&gt; \r\n&gt; PJSUA_CALL_VID_STRM_STOP_TRANSMIT \t Stop transmitting video stream.\r\n&gt; This will cause the stream to be paused in TX direction, causing it to\r\n&gt; stop sending any video packets. No re-INVITE/UPDATE is to be\r\n&gt; transmitted to remote with this operation.\r\n\r\n\r\nlink [documentation ][1]\r\n\r\n\r\n  [1]: https://www.pjsip.org/docs/2.2.1/pjsip/docs/html/group__PJSUA__LIB__CALL.htm#ga8a7b29df0618360407b8aae888421a36","title":"how to pause and unpause video transmission using Android Pjsua 2?","body":"<p>I wish to pause and unpause video transmission in video call on fly without dropping Audio call using Android Pjsua2 library. But some how i am not able to understand how to implement that feature to sample android pjsua2 app. Any help would be highly appreciated.</p>\n<p>i went through below documentation and not able to understand ..how to implement it</p>\n<blockquote>\n<p>enum pjsua_call_vid_strm_op This enumeration represents video stream\noperation on a call.</p>\n<p>PJSUA_CALL_VID_STRM_START_TRANSMIT     Start transmitting video stream.\nThis will cause previously stopped stream to start transmitting again.\nNote that no re-INVITE/UPDATE is to be transmitted to remote since\nthis operation only operates on local stream.</p>\n<p>PJSUA_CALL_VID_STRM_STOP_TRANSMIT      Stop transmitting video stream.\nThis will cause the stream to be paused in TX direction, causing it to\nstop sending any video packets. No re-INVITE/UPDATE is to be\ntransmitted to remote with this operation.</p>\n</blockquote>\n<p>link <a href=\"https://www.pjsip.org/docs/2.2.1/pjsip/docs/html/group__PJSUA__LIB__CALL.htm#ga8a7b29df0618360407b8aae888421a36\" rel=\"noreferrer\">documentation </a></p>\n"},{"tags":["java","apache-camel","spring-camel","bindy"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":1,"creation_date":1682601207,"post_id":76119724,"comment_id":134243923,"body_markdown":"You can filter out specific lines using the line index and completion flag available during the split process. See my answer here : https://stackoverflow.com/questions/67255842/apache-camel-remove-specific-lines-from-a-file-without-checking-each-line","body":"You can filter out specific lines using the line index and completion flag available during the split process. See my answer here : <a href=\"https://stackoverflow.com/questions/67255842/apache-camel-remove-specific-lines-from-a-file-without-checking-each-line\" title=\"apache camel remove specific lines from a file without checking each line\">stackoverflow.com/questions/67255842/&hellip;</a>"}],"owner":{"account_id":22435676,"reputation":1,"user_id":16640965,"display_name":"Dee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682595486,"creation_date":1682594080,"question_id":76119724,"body_markdown":"I have a fixed length file in the following format:\r\n\r\n```\r\nHeader\r\nLine 1\r\nLine 2\r\n.\r\n.\r\nLine n\r\nFooter\r\n```\r\n\r\nThe requirement is, I need to read this file and process only its body, ignoring the header and footer. And since these files are going to be huge, I am splitting it to read n lines at once as follows: \r\n\r\n```\r\nfrom(&quot;file:/input&quot;)\r\n.split(body().tokenize(&quot;\\n&quot;, 1000, false)).streaming()\r\n.unmarshal(fixedLengthFormat)\r\n.process(myProcessor)\r\n.to(&quot;file:/output?fileExist=Append&quot;)\r\n.end();\r\n```\r\n\r\nI tried to add header, footer, skipHeader and skipFooter options in my @FixedLengthRecord model class for unmarshalling. Looks like first and last line of every split group is being excluded which is not what I&#39;m expecting. Can you please let me know how I can ignore the very first and last lines of the whole file and not the first and last lines of every split group?","title":"Apache Camel: How to remove header and footer from a fixed length file before splitting the file for processing?","body":"<p>I have a fixed length file in the following format:</p>\n<pre><code>Header\nLine 1\nLine 2\n.\n.\nLine n\nFooter\n</code></pre>\n<p>The requirement is, I need to read this file and process only its body, ignoring the header and footer. And since these files are going to be huge, I am splitting it to read n lines at once as follows:</p>\n<pre><code>from(&quot;file:/input&quot;)\n.split(body().tokenize(&quot;\\n&quot;, 1000, false)).streaming()\n.unmarshal(fixedLengthFormat)\n.process(myProcessor)\n.to(&quot;file:/output?fileExist=Append&quot;)\n.end();\n</code></pre>\n<p>I tried to add header, footer, skipHeader and skipFooter options in my @FixedLengthRecord model class for unmarshalling. Looks like first and last line of every split group is being excluded which is not what I'm expecting. Can you please let me know how I can ignore the very first and last lines of the whole file and not the first and last lines of every split group?</p>\n"},{"tags":["java","spring-boot","jhipster"],"comments":[{"owner":{"account_id":25538,"reputation":8293,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1682601215,"post_id":76118111,"comment_id":134243927,"body_markdown":"Use Node 16 and everything should work just fine.","body":"Use Node 16 and everything should work just fine."}],"answers":[{"tags":[],"owner":{"account_id":319775,"reputation":3025,"user_id":637724,"accept_rate":93,"display_name":"Oguz Ozkeroglu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682595274,"creation_date":1682595274,"answer_id":76119904,"question_id":76118111,"body_markdown":"According to [this answer][1] you should add `&quot;./lib/util/namespace&quot;: &quot;./lib/util/namespace.js&quot;` this line to `&quot;exports&quot;:` in this file:\r\n\r\n`C:\\Users\\Admin\\AppData\\Roaming\\npm\\node_modules\\generator-jhipster\\node_modules\\yeoman-environment\\package.json`\r\n\r\nAnd then you can try again.\r\n\r\n\r\n  [1]: https://github.com/jhipster/generator-jhipster/issues/19627#issuecomment-1236110105","title":"I get an error when I try to create a project using jhipster","body":"<p>According to <a href=\"https://github.com/jhipster/generator-jhipster/issues/19627#issuecomment-1236110105\" rel=\"nofollow noreferrer\">this answer</a> you should add <code>&quot;./lib/util/namespace&quot;: &quot;./lib/util/namespace.js&quot;</code> this line to <code>&quot;exports&quot;:</code> in this file:</p>\n<p><code>C:\\Users\\Admin\\AppData\\Roaming\\npm\\node_modules\\generator-jhipster\\node_modules\\yeoman-environment\\package.json</code></p>\n<p>And then you can try again.</p>\n"}],"owner":{"account_id":27800077,"reputation":13,"user_id":21224676,"display_name":"Mạnh Tuấn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76119904,"answer_count":1,"score":1,"last_activity_date":1682595274,"creation_date":1682582608,"question_id":76118111,"body_markdown":"I installed nodejs and used \r\n```\r\nnpm install -g generator-jhipster\r\n```\r\nthen used jhipster to create the project but it gives me error like this.\r\n```\r\nINFO! Using bundled JHipster\r\nnode:internal/modules/cjs/loader:575\r\n      throw e;\r\n      ^\r\n\r\nError [ERR_PACKAGE_PATH_NOT_EXPORTED]: Package subpath &#39;./lib/util/namespace&#39; is not defined by &quot;exports&quot; in C:\\Users\\Admin\\AppData\\Roaming\\npm\\node_modules\\generator-jhipster\\node_modules\\yeoman-environment\\package.json\r\n    at new NodeError (node:internal/errors:399:5)\r\n    at exportsNotFound (node:internal/modules/esm/resolve:267:10)\r\n    at packageExportsResolve (node:internal/modules/esm/resolve:603:9)\r\n    at resolveExports (node:internal/modules/cjs/loader:569:36)\r\n    at Module._findPath (node:internal/modules/cjs/loader:643:31)\r\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1068:27)\r\n    at Module._load (node:internal/modules/cjs/loader:928:27)\r\n    at Module.require (node:internal/modules/cjs/loader:1149:19)\r\n    at require (node:internal/modules/helpers:121:18)\r\n    at Object.&lt;anonymous&gt; (C:\\Users\\Admin\\AppData\\Roaming\\npm\\node_modules\\generator-jhipster\\utils\\blueprint.js:19:25)\r\n    at Module._compile (node:internal/modules/cjs/loader:1267:14)\r\n    at Module._extensions..js (node:internal/modules/cjs/loader:1321:10)\r\n    at Module.load (node:internal/modules/cjs/loader:1125:32)\r\n    at Module._load (node:internal/modules/cjs/loader:965:12)\r\n    at Module.require (node:internal/modules/cjs/loader:1149:19)\r\n    at require (node:internal/modules/helpers:121:18) {\r\n  code: &#39;ERR_PACKAGE_PATH_NOT_EXPORTED&#39;\r\n}\r\n\r\nNode.js v20.0.0\r\n```\r\n\r\nMy nodejs version is v20.0.0\r\n\r\n\r\nI tried installing jhipster, deleting node_modules and forge again but nothing worked,how can I fix it?","title":"I get an error when I try to create a project using jhipster","body":"<p>I installed nodejs and used</p>\n<pre><code>npm install -g generator-jhipster\n</code></pre>\n<p>then used jhipster to create the project but it gives me error like this.</p>\n<pre><code>INFO! Using bundled JHipster\nnode:internal/modules/cjs/loader:575\n      throw e;\n      ^\n\nError [ERR_PACKAGE_PATH_NOT_EXPORTED]: Package subpath './lib/util/namespace' is not defined by &quot;exports&quot; in C:\\Users\\Admin\\AppData\\Roaming\\npm\\node_modules\\generator-jhipster\\node_modules\\yeoman-environment\\package.json\n    at new NodeError (node:internal/errors:399:5)\n    at exportsNotFound (node:internal/modules/esm/resolve:267:10)\n    at packageExportsResolve (node:internal/modules/esm/resolve:603:9)\n    at resolveExports (node:internal/modules/cjs/loader:569:36)\n    at Module._findPath (node:internal/modules/cjs/loader:643:31)\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1068:27)\n    at Module._load (node:internal/modules/cjs/loader:928:27)\n    at Module.require (node:internal/modules/cjs/loader:1149:19)\n    at require (node:internal/modules/helpers:121:18)\n    at Object.&lt;anonymous&gt; (C:\\Users\\Admin\\AppData\\Roaming\\npm\\node_modules\\generator-jhipster\\utils\\blueprint.js:19:25)\n    at Module._compile (node:internal/modules/cjs/loader:1267:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1321:10)\n    at Module.load (node:internal/modules/cjs/loader:1125:32)\n    at Module._load (node:internal/modules/cjs/loader:965:12)\n    at Module.require (node:internal/modules/cjs/loader:1149:19)\n    at require (node:internal/modules/helpers:121:18) {\n  code: 'ERR_PACKAGE_PATH_NOT_EXPORTED'\n}\n\nNode.js v20.0.0\n</code></pre>\n<p>My nodejs version is v20.0.0</p>\n<p>I tried installing jhipster, deleting node_modules and forge again but nothing worked,how can I fix it?</p>\n"},{"tags":["java","spring","spring-boot","h2","spring-boot-test"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682495786,"post_id":76108356,"comment_id":134223412,"body_markdown":"version, stack trace, config details?","body":"version, stack trace, config details?"},{"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"score":1,"creation_date":1682495974,"post_id":76108356,"comment_id":134223441,"body_markdown":"you can try with adding annotation @ExtendWith(SpringExtension.class) at class level","body":"you can try with adding annotation @ExtendWith(SpringExtension.class) at class level"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1682496115,"post_id":76108356,"comment_id":134223477,"body_markdown":"is the interface MyRepository placed in a location where the application finds it?","body":"is the interface MyRepository placed in a location where the application finds it?"},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1682496287,"post_id":76108356,"comment_id":134223512,"body_markdown":"Can you try to add `@AutoConfigureMockMvc`","body":"Can you try to add <code>@AutoConfigureMockMvc</code>"},{"owner":{"account_id":6325177,"reputation":1443,"user_id":4911868,"accept_rate":100,"display_name":"javaDeveloper"},"score":0,"creation_date":1682497107,"post_id":76108356,"comment_id":134223702,"body_markdown":"@ODDminus1 Yes it is.","body":"@ODDminus1 Yes it is."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1682498956,"post_id":76108356,"comment_id":134224095,"body_markdown":"If you are running into problems with `@RunWIth(SpringRunner.class)` this indicates you are using the wrong `@Test` method (you should use the one from `org.junit.jupiter.api` not the `org.junit` one. The latter is for JUnit4 the former for JUnit5.","body":"If you are running into problems with <code>@RunWIth(SpringRunner.class)</code> this indicates you are using the wrong <code>@Test</code> method (you should use the one from <code>org.junit.jupiter.api</code> not the <code>org.junit</code> one. The latter is for JUnit4 the former for JUnit5."}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682496685,"creation_date":1682496685,"answer_id":76108549,"question_id":76108356,"body_markdown":"With your current test configuration, you limit the Spring auto configuration of your test application context to two classes: `Application` and `CorsConfig`.\r\n\r\nBy this means, no other auto configuration like the Spring `DataSourceAutoConfiguration` is triggered, therefore no repository beans are ever going to be instantiated.\r\n\r\nJust remove the `classes` property from the `@SpringBootTest` annotation, then it will work:\r\n```java\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class ApplicationIntegrationTest {\r\n```\r\n\r\nWithout the `classes` property, Spring will create the whole application context for your test.","title":"SpringBootTest : Autowired Repositories are not working","body":"<p>With your current test configuration, you limit the Spring auto configuration of your test application context to two classes: <code>Application</code> and <code>CorsConfig</code>.</p>\n<p>By this means, no other auto configuration like the Spring <code>DataSourceAutoConfiguration</code> is triggered, therefore no repository beans are ever going to be instantiated.</p>\n<p>Just remove the <code>classes</code> property from the <code>@SpringBootTest</code> annotation, then it will work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\npublic class ApplicationIntegrationTest {\n</code></pre>\n<p>Without the <code>classes</code> property, Spring will create the whole application context for your test.</p>\n"},{"tags":[],"owner":{"account_id":6325177,"reputation":1443,"user_id":4911868,"accept_rate":100,"display_name":"javaDeveloper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682595136,"creation_date":1682595136,"answer_id":76119882,"question_id":76108356,"body_markdown":"The @Test annotation should be imported from `org.junit.jupiter.api.Test`\r\n\r\nIf we use `org.junit.Test`, the test will use Junit 4 intead of Junit 5","title":"SpringBootTest : Autowired Repositories are not working","body":"<p>The @Test annotation should be imported from <code>org.junit.jupiter.api.Test</code></p>\n<p>If we use <code>org.junit.Test</code>, the test will use Junit 4 intead of Junit 5</p>\n"}],"owner":{"account_id":6325177,"reputation":1443,"user_id":4911868,"accept_rate":100,"display_name":"javaDeveloper"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1682595136,"creation_date":1682495502,"question_id":76108356,"body_markdown":"I have a test class\r\n\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @ExtendWith(SpringExtension.class)\r\n    @AutoConfigureMockMvc\r\n    public class ApplicationIntegrationTest {\r\n\r\n\r\n    @Autowired\r\n    MockMvc mvc;\r\n\r\n\r\n    @Autowired\r\n    MyRepository myRepository;\r\n\r\n    @Test\r\n    public void givenCourses() throws Exception{\r\n        MyEntity entity = new Entity();\r\n        myRepository.save(entity);\r\n\r\n        mvc.perform(get(&quot;/someOperation&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().isOk())\r\n                .andExpect(content()\r\n                        .contentTypeCompatibleWith(MediaType.APPLICATION_JSON));\r\n    }}\r\n\r\n**MyRepository:**\r\n\r\n    @Repository\r\n     public interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt;, JpaSpecificationExecutor&lt;MyEntity&gt; {}\r\n\r\n**MyEntity**\r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    \r\n    public class MyEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    }\r\n\r\n**application.properties**\r\n\r\n    spring.datasource.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;DATABASE_TO_UPPER=false;MODE=MYSQL\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.datasource.username=test\r\n    spring.datasource.password=test@123\r\n    hibernate.dialect=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.generate-ddl=true\r\n    hibernate.hbm2ddl.auto=create\r\n    \r\n    spring.flyway.validateMigrationNaming= true\r\n    spring.flyway.locations= classpath:db/migration/h2\r\n    \r\n    server.port=8082\r\n\r\nWhen running test the Autowired myRepository is getting null. I have tried `@RunWith(SpringRunner.class)` annotation but getting exception Cannot autowire myRepository `No qualifying bean of type MyRepository found`","title":"SpringBootTest : Autowired Repositories are not working","body":"<p>I have a test class</p>\n<pre><code>@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\n@ExtendWith(SpringExtension.class)\n@AutoConfigureMockMvc\npublic class ApplicationIntegrationTest {\n\n\n@Autowired\nMockMvc mvc;\n\n\n@Autowired\nMyRepository myRepository;\n\n@Test\npublic void givenCourses() throws Exception{\n    MyEntity entity = new Entity();\n    myRepository.save(entity);\n\n    mvc.perform(get(&quot;/someOperation&quot;)\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isOk())\n            .andExpect(content()\n                    .contentTypeCompatibleWith(MediaType.APPLICATION_JSON));\n}}\n</code></pre>\n<p><strong>MyRepository:</strong></p>\n<pre><code>@Repository\n public interface MyRepository extends JpaRepository&lt;MyEntity, Long&gt;, JpaSpecificationExecutor&lt;MyEntity&gt; {}\n</code></pre>\n<p><strong>MyEntity</strong></p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n\npublic class MyEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;DATABASE_TO_UPPER=false;MODE=MYSQL\nspring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.username=test\nspring.datasource.password=test@123\nhibernate.dialect=org.hibernate.dialect.H2Dialect\nspring.jpa.generate-ddl=true\nhibernate.hbm2ddl.auto=create\n\nspring.flyway.validateMigrationNaming= true\nspring.flyway.locations= classpath:db/migration/h2\n\nserver.port=8082\n</code></pre>\n<p>When running test the Autowired myRepository is getting null. I have tried <code>@RunWith(SpringRunner.class)</code> annotation but getting exception Cannot autowire myRepository <code>No qualifying bean of type MyRepository found</code></p>\n"},{"tags":["java","junit","mockito","springmockito"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682595236,"post_id":76119581,"comment_id":134242352,"body_markdown":"Hello, this can be done using PowerMock. It is a Mockito extension library.","body":"Hello, this can be done using PowerMock. It is a Mockito extension library."}],"answers":[{"tags":[],"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682595105,"creation_date":1682595105,"answer_id":76119877,"question_id":76119581,"body_markdown":"The anser poorly is that you private methods are nice in order to make code modular and maintainable BUT you need to take into account that private methods need to be tested as implicit.\r\n\r\nImplicit testing means that you need to handle your method like all private-method logic is writting at the public method.\r\nAt some point this makes re-used privat method gets tested redundently.\r\n\r\nSince you&#39;re using mocks this should not be a big deal. Just write yuor test checking public + the used privat methods. \r\n\r\nPersonally I know that there are tools or ways to mock even private methods BUT you need to provide mock-statements, test-data, ... so it is more clear and easy to just to it implicitly without using any other tool that avoids the common approach and scopes.","title":"Junit mockito to test a public method which internally calls private methods","body":"<p>The anser poorly is that you private methods are nice in order to make code modular and maintainable BUT you need to take into account that private methods need to be tested as implicit.</p>\n<p>Implicit testing means that you need to handle your method like all private-method logic is writting at the public method.\nAt some point this makes re-used privat method gets tested redundently.</p>\n<p>Since you're using mocks this should not be a big deal. Just write yuor test checking public + the used privat methods.</p>\n<p>Personally I know that there are tools or ways to mock even private methods BUT you need to provide mock-statements, test-data, ... so it is more clear and easy to just to it implicitly without using any other tool that avoids the common approach and scopes.</p>\n"}],"owner":{"account_id":28377917,"reputation":23,"user_id":21705670,"display_name":"tkz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682595105,"creation_date":1682593091,"question_id":76119581,"body_markdown":"I have to write Junit Test cases using Mockito.&lt;br&gt;\r\nThe method which I have to test is public method but internally it calles few private methods to get some DB data (Using EntityManager and Nativequery without any Repository or Dao class) or perform some other operations.&lt;br&gt;\r\nMethod looks like:\r\n```\r\npublic List&lt;UserResponseDto&gt; getUserDetails(UserRequestDto request){\r\n  UserDto= getUserByNativeQuery(rquest);\r\n  List&lt;Object[]&gt; listObj=getUserDetailsByNativeQuery(request);\r\n List&lt;UserResponseDto&gt; response=setUserResponseDto(listObj);\r\n\r\nreturn response\r\n}\r\n\r\nprivate UserDto getUserByNativeQuery(UserRequestDto request){\r\n//by using EntityManager and NativeQuery to fetch data\r\n}  \r\n\r\nprivate List&lt;Object[]&gt; getUserDetailsByNativeQuery(UserRequestDto request){\r\n//by using EntityManager and NativeQuery to fetch data\r\n}\r\n```\r\n\r\nI am not getting to handle these private method calls so that wthen these methods call I can return test data.\r\n\r\nI Don&#39;t want to use any other tools or library","title":"Junit mockito to test a public method which internally calls private methods","body":"<p>I have to write Junit Test cases using Mockito.<br>\nThe method which I have to test is public method but internally it calles few private methods to get some DB data (Using EntityManager and Nativequery without any Repository or Dao class) or perform some other operations.<br>\nMethod looks like:</p>\n<pre><code>public List&lt;UserResponseDto&gt; getUserDetails(UserRequestDto request){\n  UserDto= getUserByNativeQuery(rquest);\n  List&lt;Object[]&gt; listObj=getUserDetailsByNativeQuery(request);\n List&lt;UserResponseDto&gt; response=setUserResponseDto(listObj);\n\nreturn response\n}\n\nprivate UserDto getUserByNativeQuery(UserRequestDto request){\n//by using EntityManager and NativeQuery to fetch data\n}  \n\nprivate List&lt;Object[]&gt; getUserDetailsByNativeQuery(UserRequestDto request){\n//by using EntityManager and NativeQuery to fetch data\n}\n</code></pre>\n<p>I am not getting to handle these private method calls so that wthen these methods call I can return test data.</p>\n<p>I Don't want to use any other tools or library</p>\n"},{"tags":["java","android-gradle-plugin","build.gradle"],"comments":[{"owner":{"account_id":203683,"reputation":1269,"user_id":451482,"display_name":"ferdil"},"score":0,"creation_date":1686020664,"post_id":76119723,"comment_id":134738594,"body_markdown":"As a first step, try the &quot;Invalidate Caches&quot; menu on the File menu. Sometimes helps where caching is mentioned","body":"As a first step, try the &quot;Invalidate Caches&quot; menu on the File menu. Sometimes helps where caching is mentioned"}],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682594079,"creation_date":1682594079,"question_id":76119723,"body_markdown":"i was implementing an **android** app in **java** and everything was running correctly until i upgrade my **android studio Eel version** to  **android studio Flamingo version** and move up my **gradle** **version** from **7.3.1** to **8.0.0** .Since then , my project can&#39;t compile anymore and i got the following error message :\r\n\r\n\r\n```\r\nConfiguration cache state could not be cached: field `compileTimeDependencies` of task `:app:dataBindingMergeDependencyArtifactsDebug` of type `com.android.build.gradle.internal.tasks.databinding.DataBindingMergeDependencyArtifactsTask`: error writing value of type &#39;org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection&#39;\r\n&gt; Could not resolve all files for configuration &#39;:app:debugCompileClasspath&#39;.\r\n   &gt; Could not find com.budiyev.android:code-scanner:2.1.0.\r\n     Required by:\r\n         project :app\r\n   &gt; Could not find com.whiteelephant:monthandyearpicker:1.3.0.\r\n     Required by:\r\n         project :app\r\n   &gt; Could not find com.github.barteksc:android-pdf-viewer:3.2.0-beta.1.\r\n     Required by:\r\n         project :app\r\n\r\n```\r\n\r\nHow could i figure it out ?\r\n\r\n\r\n\r\n \r\n\r\n ","title":"Unable to resolve some libraries after moving from android studio Eel up to android studio flamingo and upgrading gradle to 8","body":"<p>i was implementing an <strong>android</strong> app in <strong>java</strong> and everything was running correctly until i upgrade my <strong>android studio Eel version</strong> to  <strong>android studio Flamingo version</strong> and move up my <strong>gradle</strong> <strong>version</strong> from <strong>7.3.1</strong> to <strong>8.0.0</strong> .Since then , my project can't compile anymore and i got the following error message :</p>\n<pre><code>Configuration cache state could not be cached: field `compileTimeDependencies` of task `:app:dataBindingMergeDependencyArtifactsDebug` of type `com.android.build.gradle.internal.tasks.databinding.DataBindingMergeDependencyArtifactsTask`: error writing value of type 'org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection'\n&gt; Could not resolve all files for configuration ':app:debugCompileClasspath'.\n   &gt; Could not find com.budiyev.android:code-scanner:2.1.0.\n     Required by:\n         project :app\n   &gt; Could not find com.whiteelephant:monthandyearpicker:1.3.0.\n     Required by:\n         project :app\n   &gt; Could not find com.github.barteksc:android-pdf-viewer:3.2.0-beta.1.\n     Required by:\n         project :app\n\n</code></pre>\n<p>How could i figure it out ?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682429746,"post_id":76101653,"comment_id":134211534,"body_markdown":"Why did you not mark line 29?","body":"Why did you not mark line 29?"},{"owner":{"account_id":10982715,"reputation":11,"user_id":8069334,"display_name":"Giovanni De Maio Langella"},"score":0,"creation_date":1682430786,"post_id":76101653,"comment_id":134211929,"body_markdown":"@g00se, yes, you&#39;ve right, i am currently debugging the code.","body":"@g00se, yes, you&#39;ve right, i am currently debugging the code."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1682430961,"post_id":76101653,"comment_id":134211980,"body_markdown":"I suspect you posted either the wrong code or the wrong exception","body":"I suspect you posted either the wrong code or the wrong exception"},{"owner":{"account_id":10982715,"reputation":11,"user_id":8069334,"display_name":"Giovanni De Maio Langella"},"score":0,"creation_date":1682431671,"post_id":76101653,"comment_id":134212210,"body_markdown":"@TilmanHausherr, indeed there is no FileInputStream, that&#39;s why i am confused. My PDFBox version is 2.0.28. The error is shown in the full stack trace.","body":"@TilmanHausherr, indeed there is no FileInputStream, that&#39;s why i am confused. My PDFBox version is 2.0.28. The error is shown in the full stack trace."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1682431891,"post_id":76101653,"comment_id":134212278,"body_markdown":"Maybe java is confused. Try declaring the two `raFile` variables as the `RandomAccessRead` interface.","body":"Maybe java is confused. Try declaring the two <code>raFile</code> variables as the <code>RandomAccessRead</code> interface."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1682432147,"post_id":76101653,"comment_id":134212366,"body_markdown":"There&#39;s nothing wrong with your code. I&#39;ve just run it without issue","body":"There&#39;s nothing wrong with your code. I&#39;ve just run it without issue"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1682432249,"post_id":76101653,"comment_id":134212398,"body_markdown":"make sure you have a current jdk. Jdk8 is at 271.","body":"make sure you have a current jdk. Jdk8 is at 271."},{"owner":{"account_id":10982715,"reputation":11,"user_id":8069334,"display_name":"Giovanni De Maio Langella"},"score":0,"creation_date":1682433815,"post_id":76101653,"comment_id":134212874,"body_markdown":"The issue was related to the filepath in the run configurations. Even with double quotes, there have been problems with spaces in the filepath. Or maybe there is something wrong with the code and it has problems to manage filepaths with spaces.","body":"The issue was related to the filepath in the run configurations. Even with double quotes, there have been problems with spaces in the filepath. Or maybe there is something wrong with the code and it has problems to manage filepaths with spaces."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682436945,"post_id":76101653,"comment_id":134213820,"body_markdown":"*Or maybe there is something wrong with the code and it has problems to manage filepaths with spaces* No, there isn&#39;t. I just tested it","body":"<i>Or maybe there is something wrong with the code and it has problems to manage filepaths with spaces</i> No, there isn&#39;t. I just tested it"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1682443747,"post_id":76101653,"comment_id":134215635,"body_markdown":"There are easier ways to load a PDF in 2.0, just use `PDDocument.load(File)`","body":"There are easier ways to load a PDF in 2.0, just use <code>PDDocument.load(File)</code>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1682485698,"post_id":76101653,"comment_id":134221540,"body_markdown":"Giovanni, please take @g00se&#39;s comment (*wrong code or wrong exception*) seriously - non-matching code and exception often means that one actually runs different code (e.g. an earlier version of one&#39;s code). The exception is about a class cast which isn&#39;t in your code at all, so there is a mismatch.","body":"Giovanni, please take @g00se&#39;s comment (<i>wrong code or wrong exception</i>) seriously - non-matching code and exception often means that one actually runs different code (e.g. an earlier version of one&#39;s code). The exception is about a class cast which isn&#39;t in your code at all, so there is a mismatch."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1682680255,"post_id":76101653,"comment_id":134257424,"body_markdown":"@TilmanHausherr Java 8 is up to Java 8 update 371/372 these days, not 271.","body":"@TilmanHausherr Java 8 is up to Java 8 update 371/372 these days, not 271."}],"owner":{"account_id":10982715,"reputation":11,"user_id":8069334,"display_name":"Giovanni De Maio Langella"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682593722,"creation_date":1682428908,"question_id":76101653,"body_markdown":"I have written a simple code to compare two PDF files, but during the execution I get an error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: java.io.FileInputStream cannot be cast to org.apache.pdfbox.io.RandomAccessRead\r\n    \tat pdfComparator.PDFComparator.main(PDFComparator.java:29)\r\n\r\nCan anyone help me understand my mistake? Thanks in advance.\r\n\r\n    package xyz;\r\n\r\n    import java.io.IOException;\r\n    import java.io.File;\r\n    import org.apache.pdfbox.cos.COSDocument;\r\n    import org.apache.pdfbox.io.RandomAccessBufferedFileInputStream;\r\n    import org.apache.pdfbox.pdfparser.PDFParser;\r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.text.PDFTextStripper;\r\n    \r\n    public class PDFComparator {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException{\r\n    \t\tif(args.length !=2){\r\n    \t\t\tSystem.out.println(&quot;Usage: java PDFComparator file1 file2&quot;);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t\tString firstFilePath = args[0];\r\n    \t\tString secondFilePath = args[1];\r\n    \t\t\r\n    \t\tFile pdfFile1 = new File(firstFilePath);\r\n    \r\n    \t\tFile pdfFile2 = new File(secondFilePath);\r\n    \t\t\r\n    \tRandomAccessBufferedFileInputStream raFile1 = new RandomAccessBufferedFileInputStream(pdfFile1);\r\n    \tRandomAccessBufferedFileInputStream raFile2 = new RandomAccessBufferedFileInputStream(pdfFile2);\t\r\n    \t\r\n    \t\t\r\n    \tPDFParser parser1 = new PDFParser(raFile1);\r\n    \tparser1.parse();\r\n    \tCOSDocument cosDoc1 = parser1.getDocument();\r\n    \tPDDocument firstPDF = new PDDocument(cosDoc1);\r\n    \r\n    \tPDFParser parser2 = new PDFParser(raFile2);\r\n    \tparser2.parse();\r\n    \tCOSDocument cosDoc2 = parser2.getDocument();\r\n    \tPDDocument secondPDF = new PDDocument(cosDoc2);\r\n    \t\r\n    \r\n    \tPDFTextStripper stripper = new PDFTextStripper();\r\n    \tString text1 = stripper.getText(firstPDF).trim();\r\n    \tString text2 = stripper.getText(secondPDF).trim();\r\n    \r\n    \tif (text1.equals(text2)){\r\n    \t\tSystem.out.println(&quot;The two PDF files are identical&quot;);\r\n    \t\t}else{\r\n    \t\tSystem.out.println(&quot;The two PDF files have differences&quot;);\r\n    \t\t}\r\n    \tfirstPDF.close();\r\n    \tsecondPDF.close();\r\n    \t}\r\n    \r\n    }","title":"FileInputStream error and RandomAccessBufferedFileInputStream","body":"<p>I have written a simple code to compare two PDF files, but during the execution I get an error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: java.io.FileInputStream cannot be cast to org.apache.pdfbox.io.RandomAccessRead\n    at pdfComparator.PDFComparator.main(PDFComparator.java:29)\n</code></pre>\n<p>Can anyone help me understand my mistake? Thanks in advance.</p>\n<pre><code>package xyz;\n\nimport java.io.IOException;\nimport java.io.File;\nimport org.apache.pdfbox.cos.COSDocument;\nimport org.apache.pdfbox.io.RandomAccessBufferedFileInputStream;\nimport org.apache.pdfbox.pdfparser.PDFParser;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.text.PDFTextStripper;\n\npublic class PDFComparator {\n\n    public static void main(String[] args) throws IOException{\n        if(args.length !=2){\n            System.out.println(&quot;Usage: java PDFComparator file1 file2&quot;);\n            System.exit(1);\n        }\n        String firstFilePath = args[0];\n        String secondFilePath = args[1];\n        \n        File pdfFile1 = new File(firstFilePath);\n\n        File pdfFile2 = new File(secondFilePath);\n        \n    RandomAccessBufferedFileInputStream raFile1 = new RandomAccessBufferedFileInputStream(pdfFile1);\n    RandomAccessBufferedFileInputStream raFile2 = new RandomAccessBufferedFileInputStream(pdfFile2);    \n    \n        \n    PDFParser parser1 = new PDFParser(raFile1);\n    parser1.parse();\n    COSDocument cosDoc1 = parser1.getDocument();\n    PDDocument firstPDF = new PDDocument(cosDoc1);\n\n    PDFParser parser2 = new PDFParser(raFile2);\n    parser2.parse();\n    COSDocument cosDoc2 = parser2.getDocument();\n    PDDocument secondPDF = new PDDocument(cosDoc2);\n    \n\n    PDFTextStripper stripper = new PDFTextStripper();\n    String text1 = stripper.getText(firstPDF).trim();\n    String text2 = stripper.getText(secondPDF).trim();\n\n    if (text1.equals(text2)){\n        System.out.println(&quot;The two PDF files are identical&quot;);\n        }else{\n        System.out.println(&quot;The two PDF files have differences&quot;);\n        }\n    firstPDF.close();\n    secondPDF.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","azure","azure-functions","microsoft-graph-api","microsoft-graph-sdks"],"answers":[{"tags":[],"owner":{"account_id":23997029,"reputation":589,"user_id":17982436,"display_name":"Mehtab Siddique"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682593591,"creation_date":1682593591,"answer_id":76119660,"question_id":76051879,"body_markdown":"Here is the sample for the Microsoft Graph Change Notifications using azure functions: \r\nhttps://learn.microsoft.com/en-us/samples/microsoftgraph/msgraph-sample-azurefunction-csharp/microsoft-graph-sample-azure-function/\r\n\r\nHope this helps.","title":"Microsoft Graph Change Notifications using azure functions","body":"<p>Here is the sample for the Microsoft Graph Change Notifications using azure functions:\n<a href=\"https://learn.microsoft.com/en-us/samples/microsoftgraph/msgraph-sample-azurefunction-csharp/microsoft-graph-sample-azure-function/\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/samples/microsoftgraph/msgraph-sample-azurefunction-csharp/microsoft-graph-sample-azure-function/</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":18070365,"reputation":321,"user_id":13135178,"display_name":"dev_101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682593591,"creation_date":1681890062,"question_id":76051879,"body_markdown":"I have a requirement where I have an .exe application which connects to exchange using MS graph API modern authentication with user input tenantId, clientId, and client secret. It pulls meeting rooms available in exchange. I have to stream notifications of any created, updated or deleted meetings from the exchange. I will be giving a UI input field for user to input &quot;notificationURL&quot; and subscribe to it. I am planning to use azure function app to create HTTP trigger as notification URL. Once the notifications start coming will it go in my exe application where I have the java logic or will it be going to the azure function app?\r\n\r\nThe code I am writing in my java application\r\n\r\n     GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\r\n    \r\n            // Create a new subscription for calendar events with meeting details\r\n            Subscription subscription = new Subscription();\r\n            subscription.resourceUrl = &quot;/me/events&quot;;\r\n            subscription.changeType = &quot;created,updated,deleted&quot;;\r\n            subscription.notificationUrl = &quot;https://user-input-notification-url&quot;;\r\n            subscription.expirationDateTime = OffsetDateTime.now().plusMinutes(15);\r\n            subscription.additionalData.put(&quot;@odata.type&quot;, &quot;#Microsoft.Graph.ChangeNotificationSubscription&quot;);\r\n            subscription.additionalData.put(&quot;includeMeetingDetails&quot;, true);\r\n            subscription = graphClient.subscriptions().buildRequest().post(subscription);\r\n    \r\n            // Start listening for notifications\r\n            NotificationHandler notificationHandler = new NotificationHandler();\r\n            CompletableFuture&lt;Void&gt; future = graphClient.subscriptions().byId(subscription.id).buildRequest().getAsync(notificationHandler);\r\n    \r\n            // Wait for the future to complete (i.e., for the subscription to expire)\r\n            future.get();\r\n        }\r\n\r\nwill this fetch all the calendar events? \r\n","title":"Microsoft Graph Change Notifications using azure functions","body":"<p>I have a requirement where I have an .exe application which connects to exchange using MS graph API modern authentication with user input tenantId, clientId, and client secret. It pulls meeting rooms available in exchange. I have to stream notifications of any created, updated or deleted meetings from the exchange. I will be giving a UI input field for user to input &quot;notificationURL&quot; and subscribe to it. I am planning to use azure function app to create HTTP trigger as notification URL. Once the notifications start coming will it go in my exe application where I have the java logic or will it be going to the azure function app?</p>\n<p>The code I am writing in my java application</p>\n<pre><code> GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\n\n        // Create a new subscription for calendar events with meeting details\n        Subscription subscription = new Subscription();\n        subscription.resourceUrl = &quot;/me/events&quot;;\n        subscription.changeType = &quot;created,updated,deleted&quot;;\n        subscription.notificationUrl = &quot;https://user-input-notification-url&quot;;\n        subscription.expirationDateTime = OffsetDateTime.now().plusMinutes(15);\n        subscription.additionalData.put(&quot;@odata.type&quot;, &quot;#Microsoft.Graph.ChangeNotificationSubscription&quot;);\n        subscription.additionalData.put(&quot;includeMeetingDetails&quot;, true);\n        subscription = graphClient.subscriptions().buildRequest().post(subscription);\n\n        // Start listening for notifications\n        NotificationHandler notificationHandler = new NotificationHandler();\n        CompletableFuture&lt;Void&gt; future = graphClient.subscriptions().byId(subscription.id).buildRequest().getAsync(notificationHandler);\n\n        // Wait for the future to complete (i.e., for the subscription to expire)\n        future.get();\n    }\n</code></pre>\n<p>will this fetch all the calendar events?</p>\n"},{"tags":["java","android","microphone","android-audiorecord"],"answers":[{"comments":[{"owner":{"account_id":19582,"reputation":7930,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"score":2,"creation_date":1296947369,"post_id":4907701,"comment_id":5468153,"body_markdown":"apparently one can use AudioRecord instead, no need to record a file","body":"apparently one can use AudioRecord instead, no need to record a file"},{"owner":{"account_id":28252,"reputation":339,"user_id":75314,"accept_rate":100,"display_name":"kpax"},"score":2,"creation_date":1350963960,"post_id":4907701,"comment_id":17676584,"body_markdown":"You can redirect audio/media output to /dev/null and prevent any actual recording from happening that way. Also make sure you use recorder.prepare(), it won&#39;t work otherwise.","body":"You can redirect audio/media output to /dev/null and prevent any actual recording from happening that way. Also make sure you use recorder.prepare(), it won&#39;t work otherwise."}],"tags":[],"owner":{"account_id":277544,"reputation":572,"user_id":571608,"display_name":"Toumal"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1296919820,"creation_date":1296919820,"answer_id":4907701,"question_id":4777060,"body_markdown":"Yep you have to call recorder.start() first, and you must not forget to call recorder.stop() at the end too!\r\n\r\nSee http://code.google.com/p/android-labs/source/browse/trunk/NoiseAlert/src/com/google/android/noisealert/ for an example application, you may want to take a look at SoundMeter.java and NoiseAlert.java","title":"How to sample microphone on Android without recording to get live amplitude/level?","body":"<p>Yep you have to call recorder.start() first, and you must not forget to call recorder.stop() at the end too!</p>\n\n<p>See <a href=\"http://code.google.com/p/android-labs/source/browse/trunk/NoiseAlert/src/com/google/android/noisealert/\" rel=\"noreferrer\">http://code.google.com/p/android-labs/source/browse/trunk/NoiseAlert/src/com/google/android/noisealert/</a> for an example application, you may want to take a look at SoundMeter.java and NoiseAlert.java</p>\n"},{"comments":[{"owner":{"account_id":3459859,"reputation":287,"user_id":4373371,"display_name":"YoussefDir"},"score":1,"creation_date":1628830486,"post_id":26645060,"comment_id":121530456,"body_markdown":"I see the only difference between the 2 codes is `AudioFormat.CHANNEL_IN_MONO` instead of `AudioFormat.CHANNEL_CONFIGURATION_MONO`. Is this what makes the refresh rate better ?","body":"I see the only difference between the 2 codes is <code>AudioFormat.CHANNEL_IN_MONO</code> instead of <code>AudioFormat.CHANNEL_CONFIGURATION_MONO</code>. Is this what makes the refresh rate better ?"},{"owner":{"account_id":224896,"reputation":2177,"user_id":485048,"accept_rate":100,"display_name":"Benjamin Kaiser"},"score":0,"creation_date":1628990490,"post_id":26645060,"comment_id":121567857,"body_markdown":"@YoussefDir I have no idea, I&#39;ve not looked at this since I answered this question 7 years ago","body":"@YoussefDir I have no idea, I&#39;ve not looked at this since I answered this question 7 years ago"}],"tags":[],"owner":{"account_id":224896,"reputation":2177,"user_id":485048,"accept_rate":100,"display_name":"Benjamin Kaiser"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1414643179,"creation_date":1414643179,"answer_id":26645060,"question_id":4777060,"body_markdown":"The solution from Toumal works, however I wasn&#39;t able to get a high enough refresh rate for my needs. So I ended up using the [SoundMeter.java][1] class that Toumal linked but modified it to use the code from this [answer][2]\r\n\r\nHere is the code I used, which provides a much better refresh rate:\r\n\r\n    import android.media.AudioFormat;\r\n    import android.media.AudioRecord;\r\n    import android.media.MediaRecorder;\r\n\r\n    public class SoundMeter {\r\n\r\n        private AudioRecord ar = null;\r\n        private int minSize;\r\n\r\n        public void start() {\r\n            minSize= AudioRecord.getMinBufferSize(8000, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);\r\n            ar = new AudioRecord(MediaRecorder.AudioSource.MIC, 8000,AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT,minSize);\r\n            ar.startRecording();\r\n        }\r\n\r\n        public void stop() {\r\n            if (ar != null) {\r\n                ar.stop();\r\n            }\r\n        }\r\n\r\n        public double getAmplitude() {\r\n            short[] buffer = new short[minSize];\r\n            ar.read(buffer, 0, minSize);\r\n            int max = 0;\r\n            for (short s : buffer)\r\n            {\r\n                if (Math.abs(s) &gt; max)\r\n                {\r\n                    max = Math.abs(s);\r\n                }\r\n            }\r\n            return max;\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: http://code.google.com/p/android-labs/source/browse/trunk/NoiseAlert/src/com/google/android/noisealert/SoundMeter.java\r\n  [2]: https://stackoverflow.com/questions/4977728/how-to-get-the-amplitude-when-blowing-into-mic-on-android-device","title":"How to sample microphone on Android without recording to get live amplitude/level?","body":"<p>The solution from Toumal works, however I wasn't able to get a high enough refresh rate for my needs. So I ended up using the <a href=\"http://code.google.com/p/android-labs/source/browse/trunk/NoiseAlert/src/com/google/android/noisealert/SoundMeter.java\" rel=\"noreferrer\">SoundMeter.java</a> class that Toumal linked but modified it to use the code from this <a href=\"https://stackoverflow.com/questions/4977728/how-to-get-the-amplitude-when-blowing-into-mic-on-android-device\">answer</a></p>\n\n<p>Here is the code I used, which provides a much better refresh rate:</p>\n\n<pre><code>import android.media.AudioFormat;\nimport android.media.AudioRecord;\nimport android.media.MediaRecorder;\n\npublic class SoundMeter {\n\n    private AudioRecord ar = null;\n    private int minSize;\n\n    public void start() {\n        minSize= AudioRecord.getMinBufferSize(8000, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);\n        ar = new AudioRecord(MediaRecorder.AudioSource.MIC, 8000,AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT,minSize);\n        ar.startRecording();\n    }\n\n    public void stop() {\n        if (ar != null) {\n            ar.stop();\n        }\n    }\n\n    public double getAmplitude() {\n        short[] buffer = new short[minSize];\n        ar.read(buffer, 0, minSize);\n        int max = 0;\n        for (short s : buffer)\n        {\n            if (Math.abs(s) &gt; max)\n            {\n                max = Math.abs(s);\n            }\n        }\n        return max;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6180304,"reputation":86,"user_id":4816020,"display_name":"ratj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464691600,"creation_date":1464691600,"answer_id":37543547,"question_id":4777060,"body_markdown":"**Use AudioRecord Class Instead of MediaRecorder**\r\n\r\nCheck out this site: http://www.doepiccoding.com/blog/?p=195 , it gives a nice explanation and a working code :)","title":"How to sample microphone on Android without recording to get live amplitude/level?","body":"<p><strong>Use AudioRecord Class Instead of MediaRecorder</strong></p>\n\n<p>Check out this site: <a href=\"http://www.doepiccoding.com/blog/?p=195\" rel=\"nofollow\">http://www.doepiccoding.com/blog/?p=195</a> , it gives a nice explanation and a working code :)</p>\n"},{"tags":[],"owner":{"account_id":7259353,"reputation":21,"user_id":5536741,"display_name":"Mohammad Moradi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502344175,"creation_date":1502344175,"answer_id":45605436,"question_id":4777060,"body_markdown":"You can also use mediaRecoder class, to display real time data on UI you need to use Handler:\r\n\r\n    public class SoundMeter {\r\n    private MediaRecorder mediaRecorder;\r\n    public  void start(){\r\n        if(started){\r\n            return;\r\n        }\r\n        if (mediaRecorder == null){\r\n            mediaRecorder = new MediaRecorder();\r\n\r\n            mediaRecorder.setAudioSource(\r\n                    MediaRecorder.AudioSource.MIC);\r\n            mediaRecorder.setOutputFormat(\r\n                    MediaRecorder.OutputFormat.THREE_GPP);\r\n            mediaRecorder.setAudioEncoder(\r\n                    MediaRecorder.AudioEncoder.AMR_NB);\r\n            mediaRecorder.setOutputFile(&quot;/dev/null&quot;);\r\n\r\n            try{\r\n                mediaRecorder.prepare();\r\n            }catch (IllegalStateException e){\r\n                e.printStackTrace();\r\n            }catch (IOException e){\r\n                e.printStackTrace();\r\n            }\r\n            mediaRecorder.start();\r\n            started = true;\r\n        }\r\n    }\r\n\r\n    }\r\n    public double getAmplitude(){\r\n        return  mediaRecorder.getMaxAmplitude();\r\n    }\r\n    }\r\n\r\nThis part show data on UI:\r\n\r\n        private Runnable pollTask = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            double amplitude = soundMeter.getAmplitude();\r\n            amplitudeTextView.setText(&quot;Amplitude: &quot; + amplitude);\r\n          \r\n            handler.postDelayed(pollTask, 500);\r\n        }\r\n    };\r\n\r\nDon&#39;t forget to call handler in onCreate method:\r\n\r\n    handler.postDelayed(pollTask, 500);\r\n\r\n500 is delay in milliseconds which UI will updated\r\n\r\nas you can see here you don&#39;t need to save output to file if you set output destination as below it won&#39;t save anywhere:\r\n\r\n    mediaRecorder.setOutputFile(&quot;/dev/null&quot;);\r\n\r\n ","title":"How to sample microphone on Android without recording to get live amplitude/level?","body":"<p>You can also use mediaRecoder class, to display real time data on UI you need to use Handler:</p>\n\n<pre><code>public class SoundMeter {\nprivate MediaRecorder mediaRecorder;\npublic  void start(){\n    if(started){\n        return;\n    }\n    if (mediaRecorder == null){\n        mediaRecorder = new MediaRecorder();\n\n        mediaRecorder.setAudioSource(\n                MediaRecorder.AudioSource.MIC);\n        mediaRecorder.setOutputFormat(\n                MediaRecorder.OutputFormat.THREE_GPP);\n        mediaRecorder.setAudioEncoder(\n                MediaRecorder.AudioEncoder.AMR_NB);\n        mediaRecorder.setOutputFile(\"/dev/null\");\n\n        try{\n            mediaRecorder.prepare();\n        }catch (IllegalStateException e){\n            e.printStackTrace();\n        }catch (IOException e){\n            e.printStackTrace();\n        }\n        mediaRecorder.start();\n        started = true;\n    }\n}\n\n}\npublic double getAmplitude(){\n    return  mediaRecorder.getMaxAmplitude();\n}\n}\n</code></pre>\n\n<p>This part show data on UI:</p>\n\n<pre><code>    private Runnable pollTask = new Runnable() {\n    @Override\n    public void run() {\n        double amplitude = soundMeter.getAmplitude();\n        amplitudeTextView.setText(\"Amplitude: \" + amplitude);\n\n        handler.postDelayed(pollTask, 500);\n    }\n};\n</code></pre>\n\n<p>Don't forget to call handler in onCreate method:</p>\n\n<pre><code>handler.postDelayed(pollTask, 500);\n</code></pre>\n\n<p>500 is delay in milliseconds which UI will updated</p>\n\n<p>as you can see here you don't need to save output to file if you set output destination as below it won't save anywhere:</p>\n\n<pre><code>mediaRecorder.setOutputFile(\"/dev/null\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3627756,"reputation":750,"user_id":3024878,"accept_rate":0,"display_name":"Miguel Sesma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682593347,"creation_date":1682593347,"answer_id":76119624,"question_id":4777060,"body_markdown":"Based on Benjamin answer but updated to Kotlin:\r\n\r\n```\r\nclass MicChecker @Inject constructor(@ApplicationContext val context: Context) {\r\n    private var audioRecord: AudioRecord? = null\r\n    private var minSize = 0\r\n    val level: Int\r\n        get() {\r\n            val buffer = ShortArray(minSize)\r\n            audioRecord?.read(buffer, 0, minSize)\r\n            return buffer.max().toInt()\r\n        }\r\n\r\n    fun startCheck() {\r\n        minSize = AudioRecord.getMinBufferSize(8000, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT)\r\n        if (ActivityCompat.checkSelfPermission(context, RECORD_AUDIO) != PERMISSION_GRANTED) {\r\n            Timber.d(&quot;==&gt; record audio permission not granted&quot;)\r\n            return\r\n        }\r\n        audioRecord = AudioRecord(\r\n            MediaRecorder.AudioSource.MIC,\r\n            8000,\r\n            AudioFormat.CHANNEL_IN_MONO,\r\n            AudioFormat.ENCODING_PCM_16BIT,\r\n            minSize\r\n        )\r\n        audioRecord?.startRecording()\r\n    }\r\n\r\n    fun stopCheck() {\r\n        audioRecord?.stop()\r\n    }\r\n}\r\n```","title":"How to sample microphone on Android without recording to get live amplitude/level?","body":"<p>Based on Benjamin answer but updated to Kotlin:</p>\n<pre><code>class MicChecker @Inject constructor(@ApplicationContext val context: Context) {\n    private var audioRecord: AudioRecord? = null\n    private var minSize = 0\n    val level: Int\n        get() {\n            val buffer = ShortArray(minSize)\n            audioRecord?.read(buffer, 0, minSize)\n            return buffer.max().toInt()\n        }\n\n    fun startCheck() {\n        minSize = AudioRecord.getMinBufferSize(8000, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT)\n        if (ActivityCompat.checkSelfPermission(context, RECORD_AUDIO) != PERMISSION_GRANTED) {\n            Timber.d(&quot;==&gt; record audio permission not granted&quot;)\n            return\n        }\n        audioRecord = AudioRecord(\n            MediaRecorder.AudioSource.MIC,\n            8000,\n            AudioFormat.CHANNEL_IN_MONO,\n            AudioFormat.ENCODING_PCM_16BIT,\n            minSize\n        )\n        audioRecord?.startRecording()\n    }\n\n    fun stopCheck() {\n        audioRecord?.stop()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19582,"reputation":7930,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52426,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":4907701,"answer_count":5,"score":24,"last_activity_date":1682593347,"creation_date":1295822547,"question_id":4777060,"body_markdown":"I was trying to get the amplitude level of a microphone on Android like so:\r\n\r\n    MediaRecorder recorder = new MediaRecorder();\r\n    recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n    \r\n    Timer timer = new Timer();\r\n    timer.scheduleAtFixedRate(new RecorderTask(recorder), 0, 1000);\r\n    \t\r\n    private class RecorderTask extends TimerTask {\r\n        private MediaRecorder recorder;\r\n    \t\t\r\n        public RecorderTask(MediaRecorder recorder) {\r\n            this.recorder = recorder;\r\n        }\r\n    \t\t\r\n        public void run() {\r\n            Log.v(&quot;MicInfoService&quot;, &quot;amplitude: &quot; + recorder.getMaxAmplitude());\r\n        }\r\n    }\r\n\r\nUnfortunately, this only returns 0 all the time.\r\n\r\nIt appears that for this to work I have to actually start recording. Is that correct?\r\n\r\nIf so, do I need to record for 500ms, get amplitude, stop recording and repeat?\r\n\r\nFinally, do I have to record to a file? I do not need to save this audio file, can&#39;t I just get the current amplitude or highest amplitude since last call of the current live microphone input without recording?\r\n\r\nAny help is appreciated, thanks.","title":"How to sample microphone on Android without recording to get live amplitude/level?","body":"<p>I was trying to get the amplitude level of a microphone on Android like so:</p>\n\n<pre><code>MediaRecorder recorder = new MediaRecorder();\nrecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n\nTimer timer = new Timer();\ntimer.scheduleAtFixedRate(new RecorderTask(recorder), 0, 1000);\n\nprivate class RecorderTask extends TimerTask {\n    private MediaRecorder recorder;\n\n    public RecorderTask(MediaRecorder recorder) {\n        this.recorder = recorder;\n    }\n\n    public void run() {\n        Log.v(\"MicInfoService\", \"amplitude: \" + recorder.getMaxAmplitude());\n    }\n}\n</code></pre>\n\n<p>Unfortunately, this only returns 0 all the time.</p>\n\n<p>It appears that for this to work I have to actually start recording. Is that correct?</p>\n\n<p>If so, do I need to record for 500ms, get amplitude, stop recording and repeat?</p>\n\n<p>Finally, do I have to record to a file? I do not need to save this audio file, can't I just get the current amplitude or highest amplitude since last call of the current live microphone input without recording?</p>\n\n<p>Any help is appreciated, thanks.</p>\n"},{"tags":["java","apache-spark","jetty"],"answers":[{"comments":[{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1682593348,"post_id":76119602,"comment_id":134241921,"body_markdown":"Okay ty, atleast this helps me discard this possibility","body":"Okay ty, atleast this helps me discard this possibility"}],"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682593195,"creation_date":1682593195,"answer_id":76119602,"question_id":76119388,"body_markdown":"There is nothing in Jetty that limits HTTP response sizes.  There are many projects that send multi-gigabyte responses, along with test cases within Jetty itself that do the same.\r\n\r\nIf you have an example project that replicates this behavior, file an issue at https://github.com/eclipse/jetty.project/issues and link to the project. (best idea is to link to a github project that has either a maven or gradle build, and explain the steps to replicate the behavior)","title":"Is there something in Jetty that limits json length/size responses?","body":"<p>There is nothing in Jetty that limits HTTP response sizes.  There are many projects that send multi-gigabyte responses, along with test cases within Jetty itself that do the same.</p>\n<p>If you have an example project that replicates this behavior, file an issue at <a href=\"https://github.com/eclipse/jetty.project/issues\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/issues</a> and link to the project. (best idea is to link to a github project that has either a maven or gradle build, and explain the steps to replicate the behavior)</p>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682593195,"creation_date":1682591463,"question_id":76119388,"body_markdown":"I am experiencing an issue:\r\n\r\nMigrated an application from tomcat to jetty, and there is a `json response that has more than 150k lines`, after migrating to jetty we notice the json is incomplete, and so checking the json only has 130k lines, however it is well formed (starts and ends with the correct {} or []), I never had this issue with tomcat but searching I found stuff like the `maxPostSize` attribute for tomcat, but can not find anything related to json responses size/length for jetty, any suggestions?\r\n\r\nThis application is in java-spark\r\n","title":"Is there something in Jetty that limits json length/size responses?","body":"<p>I am experiencing an issue:</p>\n<p>Migrated an application from tomcat to jetty, and there is a <code>json response that has more than 150k lines</code>, after migrating to jetty we notice the json is incomplete, and so checking the json only has 130k lines, however it is well formed (starts and ends with the correct {} or []), I never had this issue with tomcat but searching I found stuff like the <code>maxPostSize</code> attribute for tomcat, but can not find anything related to json responses size/length for jetty, any suggestions?</p>\n<p>This application is in java-spark</p>\n"},{"tags":["java","biginteger"],"comments":[{"owner":{"account_id":279943,"reputation":202411,"user_id":575376,"accept_rate":82,"display_name":"juergen d"},"score":2,"creation_date":1329920517,"post_id":9396565,"comment_id":11872480,"body_markdown":"See here http://stackoverflow.com/questions/77718/java-operator-overload","body":"See here <a href=\"http://stackoverflow.com/questions/77718/java-operator-overload\">stackoverflow.com/questions/77718/java-operator-overload</a>"}],"answers":[{"tags":[],"owner":{"account_id":200183,"reputation":6610,"user_id":445901,"accept_rate":80,"display_name":"SimonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1329920488,"creation_date":1329920488,"answer_id":9396607,"question_id":9396565,"body_markdown":"Unfortunately not.  Operator overloading is not supported in the Java language.  The syntax only works for the other numeric primitive wrappers via auto-boxing, which wouldn&#39;t make sense for `BigInteger` as there&#39;s no equivalent primitive.","title":"BigInteger +- operations?","body":"<p>Unfortunately not.  Operator overloading is not supported in the Java language.  The syntax only works for the other numeric primitive wrappers via auto-boxing, which wouldn't make sense for <code>BigInteger</code> as there's no equivalent primitive.</p>\n"},{"comments":[{"owner":{"account_id":200183,"reputation":6610,"user_id":445901,"accept_rate":80,"display_name":"SimonC"},"score":0,"creation_date":1329922125,"post_id":9396617,"comment_id":11873165,"body_markdown":"Again immutability is not a reason for not having language support for the arithmetic operators.  `String` is also immutable and there is language support for the `+=` operator.  E.g.: `String foo = &quot;foo&quot;; foo += &quot;bar&quot;;`  You&#39;re changing the reference `foo`, not the contents of the object it points to.","body":"Again immutability is not a reason for not having language support for the arithmetic operators.  <code>String</code> is also immutable and there is language support for the <code>+=</code> operator.  E.g.: <code>String foo = &quot;foo&quot;; foo += &quot;bar&quot;;</code>  You&#39;re changing the reference <code>foo</code>, not the contents of the object it points to."}],"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1329922619,"creation_date":1329920540,"answer_id":9396617,"question_id":9396565,"body_markdown":"In a word, no. There is no operator overloading in Java, and `BigInteger` is not one of the special types for which there is compiler magic to support operators such as `+` and `+=`.","title":"BigInteger +- operations?","body":"<p>In a word, no. There is no operator overloading in Java, and <code>BigInteger</code> is not one of the special types for which there is compiler magic to support operators such as <code>+</code> and <code>+=</code>.</p>\n"},{"comments":[{"owner":{"account_id":200183,"reputation":6610,"user_id":445901,"accept_rate":80,"display_name":"SimonC"},"score":2,"creation_date":1329921295,"post_id":9396625,"comment_id":11872819,"body_markdown":"Immutability is irrelevant to the question.  Primitives are immutable too, but you can use the arithmetic operations with them.","body":"Immutability is irrelevant to the question.  Primitives are immutable too, but you can use the arithmetic operations with them."}],"tags":[],"owner":{"account_id":4693,"reputation":3642,"user_id":7178,"accept_rate":93,"display_name":"Jim Kiley"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1329920567,"creation_date":1329920567,"answer_id":9396625,"question_id":9396565,"body_markdown":"Nope.  `BigInteger`s are immutable, so you can&#39;t change the value of `a` after creating it.  And the usual mathematical operators don&#39;t work on them either, so you can&#39;t do `a += b` either.\r\n\r\nYou&#39;d need to do what you have commented-out there -- `result = a.add(b);`\r\n","title":"BigInteger +- operations?","body":"<p>Nope.  <code>BigInteger</code>s are immutable, so you can't change the value of <code>a</code> after creating it.  And the usual mathematical operators don't work on them either, so you can't do <code>a += b</code> either.</p>\n\n<p>You'd need to do what you have commented-out there -- <code>result = a.add(b);</code></p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2920,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":9396607,"answer_count":3,"score":2,"last_activity_date":1682593164,"creation_date":1329920326,"question_id":9396565,"body_markdown":"Is it possible to do +- operations like this somehow?\r\n\r\n    BigInteger a = new BigInteger(&quot;1&quot;);\r\n    BigInteger b = new BigInteger(&quot;2&quot;);\r\n    BigInteger result;\r\n    \r\n    a+=b;\r\n    //result = a.add(b);\r\n","title":"BigInteger +- operations?","body":"<p>Is it possible to do +- operations like this somehow?</p>\n<pre><code>BigInteger a = new BigInteger(&quot;1&quot;);\nBigInteger b = new BigInteger(&quot;2&quot;);\nBigInteger result;\n\na+=b;\n//result = a.add(b);\n</code></pre>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2","openid-connect"],"answers":[{"comments":[{"owner":{"account_id":745399,"reputation":872,"user_id":731938,"display_name":"Igor Kanshyn"},"score":1,"creation_date":1646167404,"post_id":49818181,"comment_id":126055578,"body_markdown":"What about idToken? Can we get it?","body":"What about idToken? Can we get it?"}],"tags":[],"owner":{"account_id":241243,"reputation":463,"user_id":511935,"display_name":"KMeda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523626072,"creation_date":1523626072,"answer_id":49818181,"question_id":43003705,"body_markdown":"Finally figured out answer and posting in case it is useful for someone with the same problem. After session is authenticated by Spring Security OAuth2, there is an `Authentication` Object setup. It needs to get casted to an instance of `OAuth2Authentication`. That object has the token.\r\n\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n        if (auth instanceof OAuth2Authentication) {\r\n            Object details = auth.getDetails();\r\n            OAuth2AccessToken token = oauth2Ctx.getAccessToken();\r\n\r\n            if (token != null &amp;&amp; !token.isExpired()) {\r\n                // Do Stuff\r\n            }\r\n","title":"How to access the &quot;id_token&quot; and &quot;refresh_token&quot; when using spring-security-oauth2 client with OpenID Connect provider?","body":"<p>Finally figured out answer and posting in case it is useful for someone with the same problem. After session is authenticated by Spring Security OAuth2, there is an <code>Authentication</code> Object setup. It needs to get casted to an instance of <code>OAuth2Authentication</code>. That object has the token.</p>\n\n<pre><code>    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n    if (auth instanceof OAuth2Authentication) {\n        Object details = auth.getDetails();\n        OAuth2AccessToken token = oauth2Ctx.getAccessToken();\n\n        if (token != null &amp;&amp; !token.isExpired()) {\n            // Do Stuff\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":241243,"reputation":463,"user_id":511935,"display_name":"KMeda"},"score":1,"creation_date":1579551338,"post_id":56917750,"comment_id":105797044,"body_markdown":"Seems like this is very specific to using JWT tokens which are signed by JWKs. Does this also work with opaque tokens?","body":"Seems like this is very specific to using JWT tokens which are signed by JWKs. Does this also work with opaque tokens?"},{"owner":{"account_id":403585,"reputation":2211,"user_id":771431,"accept_rate":70,"display_name":"xonya"},"score":2,"creation_date":1579602141,"post_id":56917750,"comment_id":105812143,"body_markdown":"Access token and refresh token could be opaque tokens, but OpenID Connect defines the `id_token` as a JWT and that is the reason for parsing it using the `JwkTokenStore` class.","body":"Access token and refresh token could be opaque tokens, but OpenID Connect defines the <code>id_token</code> as a JWT and that is the reason for parsing it using the <code>JwkTokenStore</code> class."}],"tags":[],"owner":{"account_id":403585,"reputation":2211,"user_id":771431,"accept_rate":70,"display_name":"xonya"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562448116,"creation_date":1562448116,"answer_id":56917750,"question_id":43003705,"body_markdown":"A complete example of an alternative approach (using Spring Boot and disabling part of its autoconfiguration).\r\n\r\napplication.properties:\r\n```\r\nsecurity.oauth2.client.client-id=client-id\r\nsecurity.oauth2.client.client-secret=client-secret\r\nsecurity.oauth2.client.access-token-uri=http://my-oidc-provider/auth/oauth2/token\r\nsecurity.oauth2.client.user-authorization-uri=http://my-oidc-provider/auth/oauth2/authorize\r\nsecurity.oauth2.resource.token-info-uri=http://my-oidc-provider/auth/oauth2/check_token\r\nsecurity.oauth2.client.scope=openid,email,profile\r\nsecurity.oauth2.resource.jwk.key-set-uri=http://my-oidc-provider/auth/oidc/jwks\r\n```\r\n\r\n```java\r\n/**\r\n * Extending the AuthorizationServerEndpointsConfiguration disables the Spring\r\n * Boot ResourceServerTokenServicesConfiguration.\r\n */\r\n@Configuration\r\n@EnableOAuth2Sso\r\npublic class OAuth2Config extends AuthorizationServerEndpointsConfiguration {\r\n    \r\n    @Value(&quot;${security.oauth2.resource.jwk.key-set-uri}&quot;)\r\n    private String keySetUri;\r\n\r\n    @Value(&quot;${security.oauth2.resource.token-info-uri}&quot;)\r\n    private String checkTokenEndpointUrl;\r\n\r\n    @Value(&quot;${security.oauth2.client.client-id}&quot;)\r\n    private String clientId;\r\n\r\n    @Value(&quot;${security.oauth2.client.client-secret}&quot;)\r\n    private String clientSecret;\r\n    \r\n    @Bean\r\n    public RemoteTokenServices resourceServerTokenServices() {\r\n        RemoteTokenServices tokenService = new RemoteTokenServices();\r\n\r\n        DefaultAccessTokenConverter accessTokenConverter = new DefaultAccessTokenConverter();\r\n        accessTokenConverter.setUserTokenConverter(new CustomIdTokenConverter(keySetUri));\r\n        tokenService.setAccessTokenConverter(accessTokenConverter);\r\n\r\n        tokenService.setCheckTokenEndpointUrl(checkTokenEndpointUrl);\r\n        tokenService.setClientId(clientId);\r\n        tokenService.setClientSecret(clientSecret);\r\n        \r\n        return tokenService;\r\n    }\r\n\r\n    @Bean\r\n    public ClientDetailsService clientDetailsService() {\r\n        return new InMemoryClientDetailsService();\r\n    }\r\n\r\n    @Bean\r\n    public UserInfoRestTemplateFactory userInfoRestTemplateFactory(\r\n            ObjectProvider&lt;List&lt;UserInfoRestTemplateCustomizer&gt;&gt; customizers,\r\n            ObjectProvider&lt;OAuth2ProtectedResourceDetails&gt; details,\r\n            ObjectProvider&lt;OAuth2ClientContext&gt; oauth2ClientContext) {\r\n        return new DefaultUserInfoRestTemplateFactory(customizers, details,\r\n                oauth2ClientContext);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class CustomIdTokenConverter extends DefaultUserAuthenticationConverter {\r\n\r\n    private final JwkTokenStore jwkTokenStore;\r\n\r\n    public CustomIdTokenConverter(String keySetUri) {\r\n        this.jwkTokenStore = new JwkTokenStore(keySetUri);\r\n    }\r\n\r\n    @Override\r\n    public Authentication extractAuthentication(Map&lt;String, ?&gt; map) {\r\n\r\n        String idToken = (String) map.get(&quot;id_token&quot;);\r\n\r\n        OAuth2AccessToken token = jwkTokenStore.readAccessToken(idToken);\r\n\r\n        Map&lt;String, Object&gt; claims = token.getAdditionalInformation();\r\n        OAuth2RefreshToken refreshToken = token.getRefreshToken();\r\n\r\n        String principal = (String) claims.get(&quot;sub&quot;);\r\n\r\n        List&lt;GrantedAuthority&gt; authorities = AuthorityUtils.createAuthorityList(&quot;ROLE_USER&quot;);\r\n\r\n        return new CustomAuthenticationData(principal, claims, authorities);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class CustomAuthenticationData extends UsernamePasswordAuthenticationToken {\r\n\r\n    private final Map&lt;String, Object&gt; attributes;\r\n\r\n    public CustomAuthenticationData(String username, Map&lt;String, Object&gt; attributes, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n        super(username, &quot;N/A&quot;, authorities);\r\n        this.attributes = attributes;\r\n    }\r\n\r\n    public Map&lt;String, Object&gt; getAttributes() {\r\n        return attributes;\r\n    }\r\n}\r\n```","title":"How to access the &quot;id_token&quot; and &quot;refresh_token&quot; when using spring-security-oauth2 client with OpenID Connect provider?","body":"<p>A complete example of an alternative approach (using Spring Boot and disabling part of its autoconfiguration).</p>\n\n<p>application.properties:</p>\n\n<pre><code>security.oauth2.client.client-id=client-id\nsecurity.oauth2.client.client-secret=client-secret\nsecurity.oauth2.client.access-token-uri=http://my-oidc-provider/auth/oauth2/token\nsecurity.oauth2.client.user-authorization-uri=http://my-oidc-provider/auth/oauth2/authorize\nsecurity.oauth2.resource.token-info-uri=http://my-oidc-provider/auth/oauth2/check_token\nsecurity.oauth2.client.scope=openid,email,profile\nsecurity.oauth2.resource.jwk.key-set-uri=http://my-oidc-provider/auth/oidc/jwks\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Extending the AuthorizationServerEndpointsConfiguration disables the Spring\n * Boot ResourceServerTokenServicesConfiguration.\n */\n@Configuration\n@EnableOAuth2Sso\npublic class OAuth2Config extends AuthorizationServerEndpointsConfiguration {\n\n    @Value(\"${security.oauth2.resource.jwk.key-set-uri}\")\n    private String keySetUri;\n\n    @Value(\"${security.oauth2.resource.token-info-uri}\")\n    private String checkTokenEndpointUrl;\n\n    @Value(\"${security.oauth2.client.client-id}\")\n    private String clientId;\n\n    @Value(\"${security.oauth2.client.client-secret}\")\n    private String clientSecret;\n\n    @Bean\n    public RemoteTokenServices resourceServerTokenServices() {\n        RemoteTokenServices tokenService = new RemoteTokenServices();\n\n        DefaultAccessTokenConverter accessTokenConverter = new DefaultAccessTokenConverter();\n        accessTokenConverter.setUserTokenConverter(new CustomIdTokenConverter(keySetUri));\n        tokenService.setAccessTokenConverter(accessTokenConverter);\n\n        tokenService.setCheckTokenEndpointUrl(checkTokenEndpointUrl);\n        tokenService.setClientId(clientId);\n        tokenService.setClientSecret(clientSecret);\n\n        return tokenService;\n    }\n\n    @Bean\n    public ClientDetailsService clientDetailsService() {\n        return new InMemoryClientDetailsService();\n    }\n\n    @Bean\n    public UserInfoRestTemplateFactory userInfoRestTemplateFactory(\n            ObjectProvider&lt;List&lt;UserInfoRestTemplateCustomizer&gt;&gt; customizers,\n            ObjectProvider&lt;OAuth2ProtectedResourceDetails&gt; details,\n            ObjectProvider&lt;OAuth2ClientContext&gt; oauth2ClientContext) {\n        return new DefaultUserInfoRestTemplateFactory(customizers, details,\n                oauth2ClientContext);\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomIdTokenConverter extends DefaultUserAuthenticationConverter {\n\n    private final JwkTokenStore jwkTokenStore;\n\n    public CustomIdTokenConverter(String keySetUri) {\n        this.jwkTokenStore = new JwkTokenStore(keySetUri);\n    }\n\n    @Override\n    public Authentication extractAuthentication(Map&lt;String, ?&gt; map) {\n\n        String idToken = (String) map.get(\"id_token\");\n\n        OAuth2AccessToken token = jwkTokenStore.readAccessToken(idToken);\n\n        Map&lt;String, Object&gt; claims = token.getAdditionalInformation();\n        OAuth2RefreshToken refreshToken = token.getRefreshToken();\n\n        String principal = (String) claims.get(\"sub\");\n\n        List&lt;GrantedAuthority&gt; authorities = AuthorityUtils.createAuthorityList(\"ROLE_USER\");\n\n        return new CustomAuthenticationData(principal, claims, authorities);\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomAuthenticationData extends UsernamePasswordAuthenticationToken {\n\n    private final Map&lt;String, Object&gt; attributes;\n\n    public CustomAuthenticationData(String username, Map&lt;String, Object&gt; attributes, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        super(username, \"N/A\", authorities);\n        this.attributes = attributes;\n    }\n\n    public Map&lt;String, Object&gt; getAttributes() {\n        return attributes;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28433369,"reputation":11,"user_id":21753767,"display_name":"NRL"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682593109,"creation_date":1682593109,"answer_id":76119584,"question_id":43003705,"body_markdown":"I know this is an old thread, but I hope this helps anyone looking for the response.\r\n\r\nUse your “Authentication authentication” object:\r\n\r\n    OAuth2AuthenticationToken oauth2Auth = (OAuth2AuthenticationToken) authentication;\r\n    String idToken = ((DefaultOidcUser) oauth2Auth.getPrincipal()).getIdToken().getTokenValue();\r\n\r\nRegards.","title":"How to access the &quot;id_token&quot; and &quot;refresh_token&quot; when using spring-security-oauth2 client with OpenID Connect provider?","body":"<p>I know this is an old thread, but I hope this helps anyone looking for the response.</p>\n<p>Use your “Authentication authentication” object:</p>\n<pre><code>OAuth2AuthenticationToken oauth2Auth = (OAuth2AuthenticationToken) authentication;\nString idToken = ((DefaultOidcUser) oauth2Auth.getPrincipal()).getIdToken().getTokenValue();\n</code></pre>\n<p>Regards.</p>\n"}],"owner":{"account_id":241243,"reputation":463,"user_id":511935,"display_name":"KMeda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7868,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1682593109,"creation_date":1490370056,"question_id":43003705,"body_markdown":"I have successfully integrated Spring Security OAuth2 with my Open ID Connect provider (Forgerock OpenAM). I can see the access token being retrieved. How can I access the `id_token` and `refresh_token` which are part of the response from the `/token` endpoint?","title":"How to access the &quot;id_token&quot; and &quot;refresh_token&quot; when using spring-security-oauth2 client with OpenID Connect provider?","body":"<p>I have successfully integrated Spring Security OAuth2 with my Open ID Connect provider (Forgerock OpenAM). I can see the access token being retrieved. How can I access the <code>id_token</code> and <code>refresh_token</code> which are part of the response from the <code>/token</code> endpoint?</p>\n"},{"tags":["java","biginteger"],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1504192178,"creation_date":1306966350,"answer_id":6208357,"question_id":6208348,"body_markdown":"You can compare them using [`BigInteger.compareTo(BigInteger)`][1].\r\n\r\nIn your case, this would be `while (base.compareTo(prime) &gt; 0) {...}`.\r\n\r\nAlso, your termination condition should be changed from `if (a != one)` to `if (!a.equals(one))` since two `BigInteger` variables with the same integer value are not necessarily referencing the same object (which is all that `==` and `!=` test).\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/math/BigInteger.html#compareTo%28java.math.BigInteger%29","title":"How do I compare values of BigInteger to be used as a condition in a loop?","body":"<p>You can compare them using <a href=\"http://download.oracle.com/javase/6/docs/api/java/math/BigInteger.html#compareTo%28java.math.BigInteger%29\" rel=\"noreferrer\"><code>BigInteger.compareTo(BigInteger)</code></a>.</p>\n\n<p>In your case, this would be <code>while (base.compareTo(prime) &gt; 0) {...}</code>.</p>\n\n<p>Also, your termination condition should be changed from <code>if (a != one)</code> to <code>if (!a.equals(one))</code> since two <code>BigInteger</code> variables with the same integer value are not necessarily referencing the same object (which is all that <code>==</code> and <code>!=</code> test).</p>\n"},{"comments":[{"owner":{"account_id":280952,"reputation":2541,"user_id":576975,"accept_rate":100,"display_name":"pseudoramble"},"score":2,"creation_date":1306966875,"post_id":6208393,"comment_id":7227337,"body_markdown":"It looks like he needs both compareTo and equals. See here: &quot;...and if the value of &#39;a&#39; is not equal to one. If value of a is not 1, it should break out of the loop.&quot; In addition, his code shows a check for equality between the new BigInteger he made called &quot;one&quot; and the other calculated value &quot;a&quot;. Sorry for the outdated link.","body":"It looks like he needs both compareTo and equals. See here: &quot;...and if the value of &#39;a&#39; is not equal to one. If value of a is not 1, it should break out of the loop.&quot; In addition, his code shows a check for equality between the new BigInteger he made called &quot;one&quot; and the other calculated value &quot;a&quot;. Sorry for the outdated link."},{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":0,"creation_date":1306967198,"post_id":6208393,"comment_id":7227408,"body_markdown":"Fair enough, I missed the `if (a != one)` bit.","body":"Fair enough, I missed the <code>if (a != one)</code> bit."}],"tags":[],"owner":{"account_id":280952,"reputation":2541,"user_id":576975,"accept_rate":100,"display_name":"pseudoramble"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1306966937,"creation_date":1306966521,"answer_id":6208393,"question_id":6208348,"body_markdown":"Since `BigInteger`s are objects, you should use caution when using the equality operators. Right now, you&#39;re performing a reference comparison (which in this case, will more than likely fail). You&#39;ll need to use the `equals()` or `compareTo()` methods.\r\n\r\nBigInteger has a built-in static variable representing one. Use the `equals()` method or the `compareTo()` method to compare values:\r\n\r\n    if (!a.equals(BigInteger.ONE)) {\r\n        ...\r\n    }\r\n\r\n-or-\r\n\r\n    if (a.compareTo(BigInteger.ONE) != 0) {\r\n        ...\r\n    }\r\n\r\nHope that helps! See here for more information: http://download.oracle.com/javase/6/docs/api/java/math/BigInteger.html","title":"How do I compare values of BigInteger to be used as a condition in a loop?","body":"<p>Since <code>BigInteger</code>s are objects, you should use caution when using the equality operators. Right now, you're performing a reference comparison (which in this case, will more than likely fail). You'll need to use the <code>equals()</code> or <code>compareTo()</code> methods.</p>\n\n<p>BigInteger has a built-in static variable representing one. Use the <code>equals()</code> method or the <code>compareTo()</code> method to compare values:</p>\n\n<pre><code>if (!a.equals(BigInteger.ONE)) {\n    ...\n}\n</code></pre>\n\n<p>-or-</p>\n\n<pre><code>if (a.compareTo(BigInteger.ONE) != 0) {\n    ...\n}\n</code></pre>\n\n<p>Hope that helps! See here for more information: <a href=\"http://download.oracle.com/javase/6/docs/api/java/math/BigInteger.html\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/api/java/math/BigInteger.html</a></p>\n"},{"tags":[],"owner":{"account_id":39861,"reputation":6818,"user_id":115193,"accept_rate":71,"display_name":"james_bond"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306966526,"creation_date":1306966526,"answer_id":6208395,"question_id":6208348,"body_markdown":"Maybe\r\n\r\n    while (base.compareTo(prime)&gt;0){\r\n    //rest of your loop\r\n    }\r\n\r\n","title":"How do I compare values of BigInteger to be used as a condition in a loop?","body":"<p>Maybe</p>\n\n<pre><code>while (base.compareTo(prime)&gt;0){\n//rest of your loop\n}\n</code></pre>\n"}],"owner":{"account_id":409154,"reputation":735,"user_id":780242,"accept_rate":66,"display_name":"Scar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66869,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":6208357,"answer_count":3,"score":23,"last_activity_date":1682592858,"creation_date":1306966248,"question_id":6208348,"body_markdown":"I am trying to compare if the value of one BigInteger(base) is `&gt;` (greater than) the value of another BigInteger(prime) and if the value of &#39;a&#39; is not equal to one. If value of a is not 1, it should break out of the loop. How should I compare them?\r\n\r\n```java\r\nRandom ran = new Random();\r\nBigInteger prime = new BigInteger(16,ran);\r\nBigInteger base,a,one;\r\none = new BigInteger(&quot;1&quot;);\r\n\r\nfor (int i = 0; i &lt; 65535; i++){\r\n\r\n\twhile (base&gt;prime){\r\n\t\tbase = new BigInteger(16,ran);\r\n\t}\r\n\ta = base.modPow(prime.subtract(one),prime);\r\n\tSystem.out.println(&quot;a: &quot;+a);\t\r\n\tif (a != one){\r\n\t\tbreak;\t\t\t\r\n\t}\t\r\n}\r\n```","title":"How do I compare values of BigInteger to be used as a condition in a loop?","body":"<p>I am trying to compare if the value of one BigInteger(base) is <code>&gt;</code> (greater than) the value of another BigInteger(prime) and if the value of 'a' is not equal to one. If value of a is not 1, it should break out of the loop. How should I compare them?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Random ran = new Random();\nBigInteger prime = new BigInteger(16,ran);\nBigInteger base,a,one;\none = new BigInteger(&quot;1&quot;);\n\nfor (int i = 0; i &lt; 65535; i++){\n\n    while (base&gt;prime){\n        base = new BigInteger(16,ran);\n    }\n    a = base.modPow(prime.subtract(one),prime);\n    System.out.println(&quot;a: &quot;+a);    \n    if (a != one){\n        break;          \n    }   \n}\n</code></pre>\n"},{"tags":["java","eclipse","junit5","testcontainers"],"answers":[{"comments":[{"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"score":0,"creation_date":1663352841,"post_id":68960445,"comment_id":130227765,"body_markdown":"Thanx for being silly. Had a similar situation today and fixed it with your advice!","body":"Thanx for being silly. Had a similar situation today and fixed it with your advice!"}],"tags":[],"owner":{"account_id":890105,"reputation":423,"user_id":928550,"display_name":"AndrewS"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1630110046,"creation_date":1630110046,"answer_id":68960445,"question_id":68740125,"body_markdown":"I am not expert and cannot explain why this fixed any but:-\r\n\r\nToday I started having the same problem as you reported.\r\n\r\nAfter fiddling about for a while (reinstalling STS, lombok ...) I eventually clicked on the error entry that popped up. It took me to &quot;Edit lauch configuration properties&quot; for the Test that would not run.\r\n\r\nOnce there I clicked on the &quot;Search&quot; on the line of the &quot;Test Class:&quot; field.\r\n\r\nI selected the correct class from the &quot;Test Selection&quot; window that popped up.\r\n(nb what I thought was the same value that was already there)\r\n\r\n## UPDATE ##\r\n\r\nNow I feel silly.\r\n\r\nI had a test class called &quot;AdminTaskControllerMockMvcTest&quot; in a file called &quot;AdminTaskControllerMockMvcTests.java&quot;, ie class name with an &quot;s&quot; on the end.\r\n\r\nRenaming my test class to &quot;AdminTaskControllerMockMvcTests&quot; fixed all my issue.\r\n\r\nRegards, Andrew","title":"Cannot find test class in project - &quot;The input type of the launch configuration does not exist&quot;","body":"<p>I am not expert and cannot explain why this fixed any but:-</p>\n<p>Today I started having the same problem as you reported.</p>\n<p>After fiddling about for a while (reinstalling STS, lombok ...) I eventually clicked on the error entry that popped up. It took me to &quot;Edit lauch configuration properties&quot; for the Test that would not run.</p>\n<p>Once there I clicked on the &quot;Search&quot; on the line of the &quot;Test Class:&quot; field.</p>\n<p>I selected the correct class from the &quot;Test Selection&quot; window that popped up.\n(nb what I thought was the same value that was already there)</p>\n<h2>UPDATE</h2>\n<p>Now I feel silly.</p>\n<p>I had a test class called &quot;AdminTaskControllerMockMvcTest&quot; in a file called &quot;AdminTaskControllerMockMvcTests.java&quot;, ie class name with an &quot;s&quot; on the end.</p>\n<p>Renaming my test class to &quot;AdminTaskControllerMockMvcTests&quot; fixed all my issue.</p>\n<p>Regards, Andrew</p>\n"},{"tags":[],"owner":{"account_id":14949534,"reputation":364,"user_id":10821123,"display_name":"Vaibhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1631098021,"creation_date":1631098021,"answer_id":69101639,"question_id":68740125,"body_markdown":"So I figured out what the error was.\r\n\r\nMy project structure was like this:\r\n```\r\n└─main_project/\r\n    ├─ myProject/\r\n    └─ other_sub_project/\r\n```\r\n\r\nIt might sound stupid but it&#39;s definitely something beginners tend to often (as I did). I have opened the main_project in my IDE and there were other sub-projects inside that projects too. The DBInitTest was inside the sub-project named **myProject**.\r\n\r\nI was getting the error because of this structure only. So when I closed the project and opened the sub-project directly from the IDE, the error was gone.\r\n\r\nSteps to resolve:\r\n 1. Close the currently opened project i.e. **main_project**\r\n 2. Click on *Open Project* in your IDE\r\n 3. Navigate to the folder of the sub-project i.e. **myProject** and open it inside your IDE\r\n 4. Voila, the error is gone now. ;)","title":"Cannot find test class in project - &quot;The input type of the launch configuration does not exist&quot;","body":"<p>So I figured out what the error was.</p>\n<p>My project structure was like this:</p>\n<pre><code>└─main_project/\n    ├─ myProject/\n    └─ other_sub_project/\n</code></pre>\n<p>It might sound stupid but it's definitely something beginners tend to often (as I did). I have opened the main_project in my IDE and there were other sub-projects inside that projects too. The DBInitTest was inside the sub-project named <strong>myProject</strong>.</p>\n<p>I was getting the error because of this structure only. So when I closed the project and opened the sub-project directly from the IDE, the error was gone.</p>\n<p>Steps to resolve:</p>\n<ol>\n<li>Close the currently opened project i.e. <strong>main_project</strong></li>\n<li>Click on <em>Open Project</em> in your IDE</li>\n<li>Navigate to the folder of the sub-project i.e. <strong>myProject</strong> and open it inside your IDE</li>\n<li>Voila, the error is gone now. ;)</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":27996,"reputation":3020,"user_id":74343,"accept_rate":62,"display_name":"Brimstedt"},"score":0,"creation_date":1702306717,"post_id":76119521,"comment_id":136876892,"body_markdown":"Yes, I had a hard-to-notice spelling error in my classname and thus the test wasnt found.","body":"Yes, I had a hard-to-notice spelling error in my classname and thus the test wasnt found."}],"tags":[],"owner":{"account_id":28433356,"reputation":31,"user_id":21753755,"display_name":"Rushikesh Khatavkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682592629,"creation_date":1682592629,"answer_id":76119521,"question_id":68740125,"body_markdown":"Ensure that the class name exactly matches the filename. I have experienced this error and solved after correcting the class name matching with file name","title":"Cannot find test class in project - &quot;The input type of the launch configuration does not exist&quot;","body":"<p>Ensure that the class name exactly matches the filename. I have experienced this error and solved after correcting the class name matching with file name</p>\n"}],"owner":{"account_id":14949534,"reputation":364,"user_id":10821123,"display_name":"Vaibhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5476,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69101639,"answer_count":3,"score":2,"last_activity_date":1682592629,"creation_date":1628677137,"question_id":68740125,"body_markdown":"I am working with TestContainers for my project but when I am running the test in eclipse, I am having the following error with me\r\n[![Error window JUnit5][1]][1]\r\n\r\nOn top of this window, it also gives a specific error which says **Cannot find test class &quot;DBInitTest&quot; in project &quot;myProject&quot;**.\r\n\r\n```java\r\npackage org.ft.cdcp;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\nimport org.junit.jupiter.api.*;\r\nimport org.testcontainers.containers.PostgreSQLContainer;\r\nimport org.testcontainers.utility.DockerImageName;\r\nimport org.testcontainers.junit.jupiter.Testcontainers;\r\n\r\n@Testcontainers\r\npublic class DBInitTest {\r\n\tprivate final PostgreSQLContainer sqlContainer = new PostgreSQLContainer(DockerImageName.parse(&quot;postgres:alpine&quot;));\r\n\t\r\n\t@BeforeEach\r\n\tpublic void setUp() {\r\n\t\tsqlContainer.start();\r\n\t}\r\n\t\r\n\t@Test\r\n\t@DisplayName(&quot;Initializing database container&quot;)\r\n\tpublic void initTest() {\r\n\t\tassertTrue(sqlContainer.isRunning());\r\n\t}\r\n}\r\n```\r\n\r\nDo note that I have checked and rechecked the dependencies, everything is intact and there&#39;s no problem with them, something&#39;s buggy only about JUnit5.\r\n\r\nI looked it up online but only found something which said that I should **Right click on source folder --&gt; Build Path --&gt; Use as source path**, but this fix doesn&#39;t seem to be working for me.\r\n\r\n  [1]: https://i.stack.imgur.com/uev1I.png","title":"Cannot find test class in project - &quot;The input type of the launch configuration does not exist&quot;","body":"<p>I am working with TestContainers for my project but when I am running the test in eclipse, I am having the following error with me\n<a href=\"https://i.stack.imgur.com/uev1I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uev1I.png\" alt=\"Error window JUnit5\" /></a></p>\n<p>On top of this window, it also gives a specific error which says <strong>Cannot find test class &quot;DBInitTest&quot; in project &quot;myProject&quot;</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.ft.cdcp;\n\nimport static org.junit.jupiter.api.Assertions.*;\nimport org.junit.jupiter.api.*;\nimport org.testcontainers.containers.PostgreSQLContainer;\nimport org.testcontainers.utility.DockerImageName;\nimport org.testcontainers.junit.jupiter.Testcontainers;\n\n@Testcontainers\npublic class DBInitTest {\n    private final PostgreSQLContainer sqlContainer = new PostgreSQLContainer(DockerImageName.parse(&quot;postgres:alpine&quot;));\n    \n    @BeforeEach\n    public void setUp() {\n        sqlContainer.start();\n    }\n    \n    @Test\n    @DisplayName(&quot;Initializing database container&quot;)\n    public void initTest() {\n        assertTrue(sqlContainer.isRunning());\n    }\n}\n</code></pre>\n<p>Do note that I have checked and rechecked the dependencies, everything is intact and there's no problem with them, something's buggy only about JUnit5.</p>\n<p>I looked it up online but only found something which said that I should <strong>Right click on source folder --&gt; Build Path --&gt; Use as source path</strong>, but this fix doesn't seem to be working for me.</p>\n"},{"tags":["java","swing","image-processing","awt"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1682434385,"post_id":76101721,"comment_id":134213041,"body_markdown":"If your input B/W images are using a 1 bit/two color `IndexColorModel`, you could at least make the filter part a lot faster by just replacing the `IndexColorModel` (reusing the `WritableRaster`).","body":"If your input B/W images are using a 1 bit/two color <code>IndexColorModel</code>, you could at least make the filter part a lot faster by just replacing the <code>IndexColorModel</code> (reusing the <code>WritableRaster</code>)."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1682437496,"post_id":76101721,"comment_id":134213999,"body_markdown":"@HaraldK This seems promising and certainly worth an answer. How would that be done?","body":"@HaraldK This seems promising and certainly worth an answer. How would that be done?"}],"answers":[{"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":1,"creation_date":1682451424,"post_id":76103277,"comment_id":134217225,"body_markdown":"Yes, it works great, thank you! I don&#39;t even need to store anything with this as it&#39;s much faster. That&#39;s great!","body":"Yes, it works great, thank you! I don&#39;t even need to store anything with this as it&#39;s much faster. That&#39;s great!"}],"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682592573,"creation_date":1682438790,"answer_id":76103277,"question_id":76101721,"body_markdown":"Here&#39;s a more detailed version of my idea outlined in the comments, assuming the B/W images are 1 bit images with `IndexColorModel` (if they are not, they can be converted, of course). Given this, we can just swap the palette or `IndexColorModel`, to have the image instantly re-colored. \r\n\r\nCode will look something like this:\r\n\r\n```java\r\n// The original B/W image\r\nIndexColorModel blackAndWhite = new IndexColorModel(1, 2, new int[] {0x000000, 0xFFFFFF}, 0, false, -1, DataBuffer.TYPE_BYTE);\r\nBufferedImage bwImage = new BufferedImage(10, 10, BufferedImage.TYPE_BYTE_BINARY, blackAndWhite);\r\n\r\n// A new color pair\r\nColor red = Color.RED;\r\nColor blue = Color.BLUE;\r\n\r\n// Create a palette from the color pair\r\nIndexColorModel redAndBlue = new IndexColorModel(1, 2, new int[] {red.getRGB(), blue.getRGB()}, 0, false, -1, DataBuffer.TYPE_BYTE);\r\n\r\n// And finally a new two-colored image from the original image, using the new palette\r\nBufferedImage rbImage = new BufferedImage(redAndBlue, bwImage.getRaster(), reaAndBlue.isAlphaPremultiplied(), null);\r\n```\r\n\r\nNow, both images share raster, so a change in one will also change the other. This is extremely cheap, memory- and CPU-wise. However, if this is not desired, you can replace `bwImage.getRaster()` with `bwImage.copyData(null)` on the last line, to create a &quot;detached&quot; copy.  \r\n\r\nYou can also cache the `IndexColorModel`s for each pair of colors, like you do with the `LookupOp`s above, but I&#39;m not sure if that&#39;s worth it (depends on how often you reuse the color pairs).","title":"Memory-efficient alternative to LookupOp for coloring a two-colors image?","body":"<p>Here's a more detailed version of my idea outlined in the comments, assuming the B/W images are 1 bit images with <code>IndexColorModel</code> (if they are not, they can be converted, of course). Given this, we can just swap the palette or <code>IndexColorModel</code>, to have the image instantly re-colored.</p>\n<p>Code will look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// The original B/W image\nIndexColorModel blackAndWhite = new IndexColorModel(1, 2, new int[] {0x000000, 0xFFFFFF}, 0, false, -1, DataBuffer.TYPE_BYTE);\nBufferedImage bwImage = new BufferedImage(10, 10, BufferedImage.TYPE_BYTE_BINARY, blackAndWhite);\n\n// A new color pair\nColor red = Color.RED;\nColor blue = Color.BLUE;\n\n// Create a palette from the color pair\nIndexColorModel redAndBlue = new IndexColorModel(1, 2, new int[] {red.getRGB(), blue.getRGB()}, 0, false, -1, DataBuffer.TYPE_BYTE);\n\n// And finally a new two-colored image from the original image, using the new palette\nBufferedImage rbImage = new BufferedImage(redAndBlue, bwImage.getRaster(), reaAndBlue.isAlphaPremultiplied(), null);\n</code></pre>\n<p>Now, both images share raster, so a change in one will also change the other. This is extremely cheap, memory- and CPU-wise. However, if this is not desired, you can replace <code>bwImage.getRaster()</code> with <code>bwImage.copyData(null)</code> on the last line, to create a &quot;detached&quot; copy.</p>\n<p>You can also cache the <code>IndexColorModel</code>s for each pair of colors, like you do with the <code>LookupOp</code>s above, but I'm not sure if that's worth it (depends on how often you reuse the color pairs).</p>\n"}],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76103277,"answer_count":1,"score":1,"last_activity_date":1682592573,"creation_date":1682429385,"question_id":76101721,"body_markdown":"Given a white and black image, no grey (in ARGB: `0xFFFFFFFF` and `0xFF000000`), I want to colorize the black in a specific color and the white in another specific color.\r\n\r\nI currently use the following code to that end:\r\n\r\n```\r\n\tprivate LookupOp createLookupOp(Color foreground, Color background) {\r\n\t\tvar lookupTable = new byte[4][256];\r\n\r\n\t\tvar fg = foreground.getRGB();\r\n\t\tArrays.fill(lookupTable[0], (byte) (fg &gt;&gt; 16));\r\n\t\tArrays.fill(lookupTable[1], (byte) (fg &gt;&gt; 8));\r\n\t\tArrays.fill(lookupTable[2], (byte) (fg));\r\n\t\tArrays.fill(lookupTable[3], (byte) (fg &gt;&gt; 24));\r\n\r\n\t\tvar bg = background.getRGB();\r\n\t\tlookupTable[0][0] = (byte) (bg &gt;&gt; 16);\r\n\t\tlookupTable[1][0] = (byte) (bg &gt;&gt; 8);\r\n\t\tlookupTable[2][0] = (byte) (bg);\r\n\t\tlookupTable[3][0] = (byte) (bg &gt;&gt; 24);\r\n\r\n\t\treturn new LookupOp(new ByteLookupTable(0, lookupTable), null);\r\n\t}\r\n```\r\n\r\nThen I can use it like this:\r\n\r\n```\r\nvar lookup = lookups.computeIfAbsent(colorPair, colors -&gt; createLookupOp(colors.foreground, colors.background));\r\nvar coloredImage = lookup.filter(originalImage, null);\r\ngraphics2d.drawImage(coloredImage, originalWidth, originalHeight, null);\r\n```\r\n\r\nAnd it does the job. But I&#39;m questioning this process because it uses a huge amount of memory (at least 1kb per color pair), and it&#39;s rather slow to create when I have thousands of mini images I need to draw in different colors.\r\n\r\nTo speed things up, I store the result in a map, but even so, I still have like 200,000 items in my map at the end of the application run, and that&#39;s roughly 200 MB that are stored in my map.\r\n\r\nI&#39;d like to know if there&#39;s a cheap and fast alternative to this `LookupOp`.","title":"Memory-efficient alternative to LookupOp for coloring a two-colors image?","body":"<p>Given a white and black image, no grey (in ARGB: <code>0xFFFFFFFF</code> and <code>0xFF000000</code>), I want to colorize the black in a specific color and the white in another specific color.</p>\n<p>I currently use the following code to that end:</p>\n<pre><code>    private LookupOp createLookupOp(Color foreground, Color background) {\n        var lookupTable = new byte[4][256];\n\n        var fg = foreground.getRGB();\n        Arrays.fill(lookupTable[0], (byte) (fg &gt;&gt; 16));\n        Arrays.fill(lookupTable[1], (byte) (fg &gt;&gt; 8));\n        Arrays.fill(lookupTable[2], (byte) (fg));\n        Arrays.fill(lookupTable[3], (byte) (fg &gt;&gt; 24));\n\n        var bg = background.getRGB();\n        lookupTable[0][0] = (byte) (bg &gt;&gt; 16);\n        lookupTable[1][0] = (byte) (bg &gt;&gt; 8);\n        lookupTable[2][0] = (byte) (bg);\n        lookupTable[3][0] = (byte) (bg &gt;&gt; 24);\n\n        return new LookupOp(new ByteLookupTable(0, lookupTable), null);\n    }\n</code></pre>\n<p>Then I can use it like this:</p>\n<pre><code>var lookup = lookups.computeIfAbsent(colorPair, colors -&gt; createLookupOp(colors.foreground, colors.background));\nvar coloredImage = lookup.filter(originalImage, null);\ngraphics2d.drawImage(coloredImage, originalWidth, originalHeight, null);\n</code></pre>\n<p>And it does the job. But I'm questioning this process because it uses a huge amount of memory (at least 1kb per color pair), and it's rather slow to create when I have thousands of mini images I need to draw in different colors.</p>\n<p>To speed things up, I store the result in a map, but even so, I still have like 200,000 items in my map at the end of the application run, and that's roughly 200 MB that are stored in my map.</p>\n<p>I'd like to know if there's a cheap and fast alternative to this <code>LookupOp</code>.</p>\n"},{"tags":["java","authentication","tomcat","wso2","wso2-api-manager"],"comments":[{"owner":{"account_id":11225699,"reputation":1271,"user_id":8235367,"display_name":"RrR-"},"score":0,"creation_date":1682585612,"post_id":76118435,"comment_id":134240227,"body_markdown":"Are you using WSO2 IS also or is it only APIM? Can you log in to admin portal with the default admin user?","body":"Are you using WSO2 IS also or is it only APIM? Can you log in to admin portal with the default admin user?"},{"owner":{"account_id":28431728,"reputation":1,"user_id":21752314,"display_name":"Danylo Vodopianov"},"score":0,"creation_date":1682585907,"post_id":76118435,"comment_id":134240296,"body_markdown":"For authorization, I use only APIM, the default admin user cannot log in either, although the rights should be enough. There&#39;s something different here","body":"For authorization, I use only APIM, the default admin user cannot log in either, although the rights should be enough. There&#39;s something different here"}],"answers":[{"comments":[{"owner":{"account_id":28431728,"reputation":1,"user_id":21752314,"display_name":"Danylo Vodopianov"},"score":0,"creation_date":1682589412,"post_id":76118846,"comment_id":134241062,"body_markdown":"True, some fields are missing, which is strange, because in ui wso2 carbon I added everything that is possible, where else can you manage the permissions?\nHere is the scope I have: scope: &quot;apim:api_import_export apim:api_product_import_export apim:app_import_export apim:mediation_policy_create apim:mediation_policy_view apim:monetization_usage_publish apim:tier_view openid&quot;","body":"True, some fields are missing, which is strange, because in ui wso2 carbon I added everything that is possible, where else can you manage the permissions? Here is the scope I have: scope: &quot;apim:api_import_export apim:api_product_import_export apim:app_import_export apim:mediation_policy_create apim:mediation_policy_view apim:monetization_usage_publish apim:tier_view openid&quot;"}],"tags":[],"owner":{"account_id":1122194,"reputation":3608,"user_id":1110305,"accept_rate":67,"display_name":"Chamila Adhikarinayake"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682587811,"creation_date":1682587811,"answer_id":76118846,"question_id":76118435,"body_markdown":"Seems like the user doesn&#39;t have the required permission to log in to the portal. First try opening the Network tab in the browser console and check the response related to  https://localhost:9443/admin/services/auth/introspect call. It should have following scopes. If it is not there, that means user does not have the correct permission to log in. Please check https://apim.docs.wso2.com/en/latest/administer/managing-users-and-roles/managing-users-for-admin-portal/ to see whether you have set it correctly. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AsFWW.jpg","title":"WSO2 APIM 4.1.0 Admin Portal getting 403 error on login","body":"<p>Seems like the user doesn't have the required permission to log in to the portal. First try opening the Network tab in the browser console and check the response related to  https://localhost:9443/admin/services/auth/introspect call. It should have following scopes. If it is not there, that means user does not have the correct permission to log in. Please check <a href=\"https://apim.docs.wso2.com/en/latest/administer/managing-users-and-roles/managing-users-for-admin-portal/\" rel=\"nofollow noreferrer\">https://apim.docs.wso2.com/en/latest/administer/managing-users-and-roles/managing-users-for-admin-portal/</a> to see whether you have set it correctly.</p>\n<p><a href=\"https://i.stack.imgur.com/AsFWW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AsFWW.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28431728,"reputation":1,"user_id":21752314,"display_name":"Danylo Vodopianov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682592572,"creation_date":1682584933,"question_id":76118435,"body_markdown":"When I try to login to the admin portal, I get a 403 error [like this](https://i.stack.imgur.com/LO5KX.png)\r\n\r\nBut simultaneously, I can enter the dev portal and publisher with the same credentials. The logs show nothing, I tried to turn on the debug, but there is little information there. Basically, this is how the connection happened and nothing more. I also added to the user the roles needed for the admin portal via UI wso2 carbon.\r\n\r\n\r\n\r\nI tried to restart the API manager and configured the user through ui wso2 carbon. I&#39;ve tried logging in incognito but to no avail.\r\n\r\nI don’t know yet in which direction to dig further, so I will be grateful for any answer.","title":"WSO2 APIM 4.1.0 Admin Portal getting 403 error on login","body":"<p>When I try to login to the admin portal, I get a 403 error <a href=\"https://i.stack.imgur.com/LO5KX.png\" rel=\"nofollow noreferrer\">like this</a></p>\n<p>But simultaneously, I can enter the dev portal and publisher with the same credentials. The logs show nothing, I tried to turn on the debug, but there is little information there. Basically, this is how the connection happened and nothing more. I also added to the user the roles needed for the admin portal via UI wso2 carbon.</p>\n<p>I tried to restart the API manager and configured the user through ui wso2 carbon. I've tried logging in incognito but to no avail.</p>\n<p>I don’t know yet in which direction to dig further, so I will be grateful for any answer.</p>\n"},{"tags":["java","hibernate","jpa","persistence"],"comments":[{"owner":{"account_id":24465,"reputation":6590,"user_id":62201,"accept_rate":50,"display_name":"Michael Pralow"},"score":0,"creation_date":1241045442,"post_id":804514,"comment_id":614794,"body_markdown":"What is the source of the Constructor using String ?","body":"What is the source of the Constructor using String ?"},{"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"score":0,"creation_date":1241053526,"post_id":804514,"comment_id":615120,"body_markdown":"Sorry, I omitted that. Just initializes a String field with the passed value.","body":"Sorry, I omitted that. Just initializes a String field with the passed value."},{"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"score":0,"creation_date":1241053689,"post_id":804514,"comment_id":615129,"body_markdown":"You are using JPA entity classes and Hibernate session calls, can you mix those two?","body":"You are using JPA entity classes and Hibernate session calls, can you mix those two?"},{"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"score":1,"creation_date":1241053754,"post_id":804514,"comment_id":615133,"body_markdown":"How are you generating the IDs on the database side?","body":"How are you generating the IDs on the database side?"},{"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"score":0,"creation_date":1241122129,"post_id":804514,"comment_id":618568,"body_markdown":"I&#39;d like to leave that to Hibernate","body":"I&#39;d like to leave that to Hibernate"},{"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"score":0,"creation_date":1241122537,"post_id":804514,"comment_id":618601,"body_markdown":"Actually, the field is defined as auto_increment","body":"Actually, the field is defined as auto_increment"},{"owner":{"account_id":141292,"reputation":2923,"user_id":348202,"accept_rate":70,"display_name":"Jan Goyvaerts"},"score":7,"creation_date":1325589973,"post_id":804514,"comment_id":10842080,"body_markdown":"THX ! Never thought about recreating the database was needed when changing the strategies. :-)","body":"THX ! Never thought about recreating the database was needed when changing the strategies. :-)"},{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":1,"creation_date":1518073361,"post_id":804514,"comment_id":84356074,"body_markdown":"I changed `GenerationType` in `@GeneratedValue` from `IDENTITY` to `AUTO` and it worked for me. Also, you can have auto increment property set in MySQL.","body":"I changed <code>GenerationType</code> in <code>@GeneratedValue</code> from <code>IDENTITY</code> to <code>AUTO</code> and it worked for me. Also, you can have auto increment property set in MySQL."},{"owner":{"account_id":7054705,"reputation":474,"user_id":5402524,"display_name":"Vikramjit Roy"},"score":0,"creation_date":1553247551,"post_id":804514,"comment_id":97321692,"body_markdown":"I faced this issue because I forgot to assign `AUTO_INCREMENT` in my database definition.","body":"I faced this issue because I forgot to assign <code>AUTO_INCREMENT</code> in my database definition."},{"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"score":0,"creation_date":1683468684,"post_id":804514,"comment_id":134368345,"body_markdown":"Recreating DB isn&#39;t so easy when you have data that you don&#39;t want to lose","body":"Recreating DB isn&#39;t so easy when you have data that you don&#39;t want to lose"}],"answers":[{"comments":[{"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"score":0,"creation_date":1241053578,"post_id":804688,"comment_id":615124,"body_markdown":"Just going to suggest this, try using this instead of .AUTO.","body":"Just going to suggest this, try using this instead of .AUTO."},{"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"score":0,"creation_date":1241061040,"post_id":804688,"comment_id":615364,"body_markdown":"I have to check it tomorrow, but I&#39;m almost sure that&#39;s not going to fix it. I see a lot of ID keys using GenerationType.AUTO. Anyway, I&#39;ll make sure to test it tomorrow.","body":"I have to check it tomorrow, but I&#39;m almost sure that&#39;s not going to fix it. I see a lot of ID keys using GenerationType.AUTO. Anyway, I&#39;ll make sure to test it tomorrow."}],"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"comment_count":2,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1241046367,"creation_date":1241046367,"answer_id":804688,"question_id":804514,"body_markdown":"Take a look at `GeneratedValue`&#39;s strategy.  It typically looks something like:\r\n\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\r\n","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>Take a look at <code>GeneratedValue</code>'s strategy.  It typically looks something like:</p>\n\n<pre><code>@GeneratedValue(strategy=GenerationType.IDENTITY)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":15,"creation_date":1346043627,"post_id":846663,"comment_id":16233968,"body_markdown":"In many cases this problem can also be resolved by just dropping the offending table (or tables), assuming that Hibernate is set up to automatically create/manage the DB schema.  To drop tables from a managed schema, `SET foreign_key_checks = 0;` is your friend.  Just be sure to `SET foreign_key_checks = 1;` when you&#39;re done.","body":"In many cases this problem can also be resolved by just dropping the offending table (or tables), assuming that Hibernate is set up to automatically create/manage the DB schema.  To drop tables from a managed schema, <code>SET foreign_key_checks = 0;</code> is your friend.  Just be sure to <code>SET foreign_key_checks = 1;</code> when you&#39;re done."},{"owner":{"account_id":4575121,"reputation":186,"user_id":3713753,"display_name":"Krunal Patel"},"score":0,"creation_date":1423558008,"post_id":846663,"comment_id":45186375,"body_markdown":"I got same problem and try with your ans but again got same error what mistake i do i don&#39;t know......I am using mysql data base.","body":"I got same problem and try with your ans but again got same error what mistake i do i don&#39;t know......I am using mysql data base."},{"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"score":0,"creation_date":1683459101,"post_id":846663,"comment_id":134367100,"body_markdown":"Hi, can you explain please what is :\n\nSchemaUpdate &amp; SchemaExport","body":"Hi, can you explain please what is :  SchemaUpdate &amp; SchemaExport"}],"tags":[],"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"comment_count":3,"down_vote_count":1,"up_vote_count":141,"is_accepted":true,"score":140,"last_activity_date":1242013943,"creation_date":1242013943,"answer_id":846663,"question_id":804514,"body_markdown":"Sometimes changes made to the model or to the ORM may not reflect accurately on the database even after an execution of `SchemaUpdate`.\r\n\r\nIf the error actually seems to lack a sensible explanation, try recreating the database (or at least creating a new one) and scaffolding it with `SchemaExport`.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>Sometimes changes made to the model or to the ORM may not reflect accurately on the database even after an execution of <code>SchemaUpdate</code>.</p>\n\n<p>If the error actually seems to lack a sensible explanation, try recreating the database (or at least creating a new one) and scaffolding it with <code>SchemaExport</code>.</p>\n"},{"comments":[{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":0,"creation_date":1482656980,"post_id":2845171,"comment_id":69843305,"body_markdown":"could you please explain why?","body":"could you please explain why?"}],"tags":[],"owner":{"account_id":617183,"reputation":1,"user_id":342542,"display_name":"tarhack"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1399921056,"creation_date":1274038594,"answer_id":2845171,"question_id":804514,"body_markdown":"Add a method `hashCode()` to your Entity Bean Class and retry it\r\n\r\n\r\n","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>Add a method <code>hashCode()</code> to your Entity Bean Class and retry it</p>\n"},{"tags":[],"owner":{"account_id":679414,"reputation":1,"user_id":549744,"display_name":"Arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292925259,"creation_date":1292925259,"answer_id":4497993,"question_id":804514,"body_markdown":"Please check whether the Default value for the column id in particular table.if not make it as default","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>Please check whether the Default value for the column id in particular table.if not make it as default</p>\n"},{"comments":[{"owner":{"account_id":16582077,"reputation":410,"user_id":11982417,"display_name":"Bruce wayne - The Geek Killer"},"score":0,"creation_date":1619002660,"post_id":6161452,"comment_id":118771745,"body_markdown":"we need to make primary-key as auto-increment. After making that change, my issue got resolved","body":"we need to make primary-key as auto-increment. After making that change, my issue got resolved"}],"tags":[],"owner":{"account_id":759459,"reputation":721,"user_id":774280,"display_name":"Greg Keyes"},"comment_count":1,"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1306585233,"creation_date":1306583300,"answer_id":6161452,"question_id":804514,"body_markdown":"If you want MySQL to automatically produce primary keys then you have to tell it when creating the table. You don&#39;t have to do this in Oracle.\r\n\r\nOn the Primary Key you have to include `AUTO_INCREMENT`. See the example below.\r\n\r\n    CREATE TABLE `supplier`  \r\n    (  \r\n      `ID` int(11) NOT NULL **AUTO_INCREMENT**,  \r\n      `FIRSTNAME` varchar(60) NOT NULL,  \r\n      `SECONDNAME` varchar(100) NOT NULL,  \r\n      `PROPERTYNUM` varchar(50) DEFAULT NULL,  \r\n      `STREETNAME` varchar(50) DEFAULT NULL,  \r\n      `CITY` varchar(50) DEFAULT NULL,  \r\n      `COUNTY` varchar(50) DEFAULT NULL,  \r\n      `COUNTRY` varchar(50) DEFAULT NULL,  \r\n      `POSTCODE` varchar(50) DEFAULT NULL,  \r\n      `HomePHONENUM` bigint(20) DEFAULT NULL,  \r\n      `WorkPHONENUM` bigint(20) DEFAULT NULL,  \r\n      `MobilePHONENUM` bigint(20) DEFAULT NULL,  \r\n      `EMAIL` varchar(100) DEFAULT NULL,  \r\n      PRIMARY KEY (`ID`)  \r\n    ) \r\n    \r\n    ENGINE=InnoDB DEFAULT CHARSET=latin1;  \r\n\r\nHere&#39;s the Entity\r\n\r\n\r\n    package com.keyes.jpa;  \r\n\r\n    import java.io.Serializable;\r\n    import javax.persistence.*;\r\n    import java.math.BigInteger;\r\n\r\n    /**\r\n     * The persistent class for the parkingsupplier database table.\r\n     * \r\n     */\r\n    @Entity\r\n    @Table(name = &quot;supplier&quot;)\r\n    public class supplier implements Serializable\r\n    {\r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      @Id\r\n      **@GeneratedValue(strategy = GenerationType.IDENTITY)**\r\n      @Column(name = &quot;ID&quot;)\r\n      private long id;\r\n    \r\n      @Column(name = &quot;CITY&quot;)\r\n      private String city;\r\n    \r\n      @Column(name = &quot;COUNTRY&quot;)\r\n      private String country;\r\n    \r\n      @Column(name = &quot;COUNTY&quot;)\r\n      private String county;\r\n    \r\n      @Column(name = &quot;EMAIL&quot;)\r\n      private String email;\r\n    \r\n      @Column(name = &quot;FIRSTNAME&quot;)\r\n      private String firstname;\r\n    \r\n      @Column(name = &quot;HomePHONENUM&quot;)\r\n      private BigInteger homePHONENUM;\r\n    \r\n      @Column(name = &quot;MobilePHONENUM&quot;)\r\n      private BigInteger mobilePHONENUM;\r\n    \r\n      @Column(name = &quot;POSTCODE&quot;)\r\n      private String postcode;\r\n    \r\n      @Column(name = &quot;PROPERTYNUM&quot;)\r\n      private String propertynum;\r\n    \r\n      @Column(name = &quot;SECONDNAME&quot;)\r\n      private String secondname;\r\n    \r\n      @Column(name = &quot;STREETNAME&quot;)\r\n      private String streetname;\r\n    \r\n      @Column(name = &quot;WorkPHONENUM&quot;)\r\n      private BigInteger workPHONENUM;\r\n    \r\n      public supplier()\r\n      {\r\n      }\r\n    \r\n      public long getId()\r\n      {\r\n        return this.id;\r\n      }\r\n    \r\n      public void setId(long id)\r\n      {\r\n        this.id = id;\r\n      }\r\n    \r\n      public String getCity()\r\n      {\r\n        return this.city;\r\n      }\r\n    \r\n      public void setCity(String city)\r\n      {\r\n        this.city = city;\r\n      }\r\n    \r\n      public String getCountry()\r\n      {\r\n        return this.country;\r\n      }\r\n    \r\n      public void setCountry(String country)\r\n      {\r\n        this.country = country;\r\n      }\r\n    \r\n      public String getCounty()\r\n      {\r\n        return this.county;\r\n      }\r\n    \r\n      public void setCounty(String county)\r\n      {\r\n        this.county = county;\r\n      }\r\n    \r\n      public String getEmail()\r\n      {\r\n        return this.email;\r\n      }\r\n    \r\n      public void setEmail(String email)\r\n      {\r\n        this.email = email;\r\n      }\r\n    \r\n      public String getFirstname()\r\n      {\r\n        return this.firstname;\r\n      }\r\n    \r\n      public void setFirstname(String firstname)\r\n      {\r\n        this.firstname = firstname;\r\n      }\r\n    \r\n      public BigInteger getHomePHONENUM()\r\n      {\r\n        return this.homePHONENUM;\r\n      }\r\n    \r\n      public void setHomePHONENUM(BigInteger homePHONENUM)\r\n      {\r\n        this.homePHONENUM = homePHONENUM;\r\n      }\r\n    \r\n      public BigInteger getMobilePHONENUM()\r\n      {\r\n        return this.mobilePHONENUM;\r\n      }\r\n    \r\n      public void setMobilePHONENUM(BigInteger mobilePHONENUM)\r\n      {\r\n        this.mobilePHONENUM = mobilePHONENUM;\r\n      }\r\n    \r\n      public String getPostcode()\r\n      {\r\n        return this.postcode;\r\n      }\r\n    \r\n      public void setPostcode(String postcode)\r\n      {\r\n        this.postcode = postcode;\r\n      }\r\n    \r\n      public String getPropertynum()\r\n      {\r\n        return this.propertynum;\r\n      }\r\n    \r\n      public void setPropertynum(String propertynum)\r\n      {\r\n        this.propertynum = propertynum;\r\n      }\r\n    \r\n      public String getSecondname()\r\n      {\r\n        return this.secondname;\r\n      }\r\n    \r\n      public void setSecondname(String secondname)\r\n      {\r\n        this.secondname = secondname;\r\n      }\r\n    \r\n      public String getStreetname()\r\n      {\r\n        return this.streetname;\r\n      }\r\n    \r\n      public void setStreetname(String streetname)\r\n      {\r\n        this.streetname = streetname;\r\n      }\r\n    \r\n      public BigInteger getWorkPHONENUM()\r\n      {\r\n        return this.workPHONENUM;\r\n      }\r\n    \r\n      public void setWorkPHONENUM(BigInteger workPHONENUM)\r\n      {\r\n        this.workPHONENUM = workPHONENUM;\r\n      }\r\n    \r\n    }","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>If you want MySQL to automatically produce primary keys then you have to tell it when creating the table. You don't have to do this in Oracle.</p>\n\n<p>On the Primary Key you have to include <code>AUTO_INCREMENT</code>. See the example below.</p>\n\n<pre><code>CREATE TABLE `supplier`  \n(  \n  `ID` int(11) NOT NULL **AUTO_INCREMENT**,  \n  `FIRSTNAME` varchar(60) NOT NULL,  \n  `SECONDNAME` varchar(100) NOT NULL,  \n  `PROPERTYNUM` varchar(50) DEFAULT NULL,  \n  `STREETNAME` varchar(50) DEFAULT NULL,  \n  `CITY` varchar(50) DEFAULT NULL,  \n  `COUNTY` varchar(50) DEFAULT NULL,  \n  `COUNTRY` varchar(50) DEFAULT NULL,  \n  `POSTCODE` varchar(50) DEFAULT NULL,  \n  `HomePHONENUM` bigint(20) DEFAULT NULL,  \n  `WorkPHONENUM` bigint(20) DEFAULT NULL,  \n  `MobilePHONENUM` bigint(20) DEFAULT NULL,  \n  `EMAIL` varchar(100) DEFAULT NULL,  \n  PRIMARY KEY (`ID`)  \n) \n\nENGINE=InnoDB DEFAULT CHARSET=latin1;  \n</code></pre>\n\n<p>Here's the Entity</p>\n\n<pre><code>package com.keyes.jpa;  \n\nimport java.io.Serializable;\nimport javax.persistence.*;\nimport java.math.BigInteger;\n\n/**\n * The persistent class for the parkingsupplier database table.\n * \n */\n@Entity\n@Table(name = \"supplier\")\npublic class supplier implements Serializable\n{\n  private static final long serialVersionUID = 1L;\n\n  @Id\n  **@GeneratedValue(strategy = GenerationType.IDENTITY)**\n  @Column(name = \"ID\")\n  private long id;\n\n  @Column(name = \"CITY\")\n  private String city;\n\n  @Column(name = \"COUNTRY\")\n  private String country;\n\n  @Column(name = \"COUNTY\")\n  private String county;\n\n  @Column(name = \"EMAIL\")\n  private String email;\n\n  @Column(name = \"FIRSTNAME\")\n  private String firstname;\n\n  @Column(name = \"HomePHONENUM\")\n  private BigInteger homePHONENUM;\n\n  @Column(name = \"MobilePHONENUM\")\n  private BigInteger mobilePHONENUM;\n\n  @Column(name = \"POSTCODE\")\n  private String postcode;\n\n  @Column(name = \"PROPERTYNUM\")\n  private String propertynum;\n\n  @Column(name = \"SECONDNAME\")\n  private String secondname;\n\n  @Column(name = \"STREETNAME\")\n  private String streetname;\n\n  @Column(name = \"WorkPHONENUM\")\n  private BigInteger workPHONENUM;\n\n  public supplier()\n  {\n  }\n\n  public long getId()\n  {\n    return this.id;\n  }\n\n  public void setId(long id)\n  {\n    this.id = id;\n  }\n\n  public String getCity()\n  {\n    return this.city;\n  }\n\n  public void setCity(String city)\n  {\n    this.city = city;\n  }\n\n  public String getCountry()\n  {\n    return this.country;\n  }\n\n  public void setCountry(String country)\n  {\n    this.country = country;\n  }\n\n  public String getCounty()\n  {\n    return this.county;\n  }\n\n  public void setCounty(String county)\n  {\n    this.county = county;\n  }\n\n  public String getEmail()\n  {\n    return this.email;\n  }\n\n  public void setEmail(String email)\n  {\n    this.email = email;\n  }\n\n  public String getFirstname()\n  {\n    return this.firstname;\n  }\n\n  public void setFirstname(String firstname)\n  {\n    this.firstname = firstname;\n  }\n\n  public BigInteger getHomePHONENUM()\n  {\n    return this.homePHONENUM;\n  }\n\n  public void setHomePHONENUM(BigInteger homePHONENUM)\n  {\n    this.homePHONENUM = homePHONENUM;\n  }\n\n  public BigInteger getMobilePHONENUM()\n  {\n    return this.mobilePHONENUM;\n  }\n\n  public void setMobilePHONENUM(BigInteger mobilePHONENUM)\n  {\n    this.mobilePHONENUM = mobilePHONENUM;\n  }\n\n  public String getPostcode()\n  {\n    return this.postcode;\n  }\n\n  public void setPostcode(String postcode)\n  {\n    this.postcode = postcode;\n  }\n\n  public String getPropertynum()\n  {\n    return this.propertynum;\n  }\n\n  public void setPropertynum(String propertynum)\n  {\n    this.propertynum = propertynum;\n  }\n\n  public String getSecondname()\n  {\n    return this.secondname;\n  }\n\n  public void setSecondname(String secondname)\n  {\n    this.secondname = secondname;\n  }\n\n  public String getStreetname()\n  {\n    return this.streetname;\n  }\n\n  public void setStreetname(String streetname)\n  {\n    this.streetname = streetname;\n  }\n\n  public BigInteger getWorkPHONENUM()\n  {\n    return this.workPHONENUM;\n  }\n\n  public void setWorkPHONENUM(BigInteger workPHONENUM)\n  {\n    this.workPHONENUM = workPHONENUM;\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":771266,"reputation":1,"user_id":812638,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353278813,"creation_date":1308846603,"answer_id":6457489,"question_id":804514,"body_markdown":"I had the same problem.  I was using a join table and all I had with a row id field and two foreign keys.  I don&#39;t know the exact caused but I did the following\r\n\r\n1. Upgraded MySQL to community 5.5.13\r\n2. Rename the class and table\r\n3. Make sure I had hashcode and equals methods\r\n\r\n        @Entity \r\n        @Table(name = &quot;USERGROUP&quot;)\r\n        public class UserGroupBean implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n\t\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO)\r\n        @Column(name = &quot;USERGROUP_ID&quot;)\r\n        private Long usergroup_id;\r\n    \t\r\n        @Column(name = &quot;USER_ID&quot;)\t\r\n        private Long user_id;\r\n    \t\r\n        @Column(name = &quot;GROUP_ID&quot;)\r\n        private Long group_id;","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>I had the same problem.  I was using a join table and all I had with a row id field and two foreign keys.  I don't know the exact caused but I did the following</p>\n\n<ol>\n<li>Upgraded MySQL to community 5.5.13</li>\n<li>Rename the class and table</li>\n<li><p>Make sure I had hashcode and equals methods</p>\n\n<pre><code>@Entity \n@Table(name = \"USERGROUP\")\npublic class UserGroupBean implements Serializable {\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy=GenerationType.AUTO)\n@Column(name = \"USERGROUP_ID\")\nprivate Long usergroup_id;\n\n@Column(name = \"USER_ID\")   \nprivate Long user_id;\n\n@Column(name = \"GROUP_ID\")\nprivate Long group_id;\n</code></pre></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1810644,"reputation":7223,"user_id":1646783,"accept_rate":81,"display_name":"jlars62"},"score":0,"creation_date":1371878025,"post_id":11566484,"comment_id":24994529,"body_markdown":"Changing String to Long fixed this for me. Thanks","body":"Changing String to Long fixed this for me. Thanks"}],"tags":[],"owner":{"account_id":354631,"reputation":1022,"user_id":693101,"accept_rate":62,"display_name":"nize"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1342720048,"creation_date":1342720048,"answer_id":11566484,"question_id":804514,"body_markdown":"Another suggestion is to check that you use a valid type for the auto-generated field. Remember that it doesn&#39;t work with String, but it works with Long:\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    public Long id;\r\n\r\n    @Constraints.Required\r\n    public String contents;\r\n\r\nThe above syntax worked for generating tables in MySQL using Hibernate as a JPA 2.0 provider.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>Another suggestion is to check that you use a valid type for the auto-generated field. Remember that it doesn't work with String, but it works with Long:</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy=GenerationType.AUTO)\npublic Long id;\n\n@Constraints.Required\npublic String contents;\n</code></pre>\n\n<p>The above syntax worked for generating tables in MySQL using Hibernate as a JPA 2.0 provider.</p>\n"},{"comments":[{"owner":{"account_id":1349120,"reputation":408,"user_id":1289265,"display_name":"Adam M. Gamboa G."},"score":1,"creation_date":1464103610,"post_id":28440735,"comment_id":62341505,"body_markdown":"It&#39;s work for me.  \n\nHibernate + Derby DB \n\n`@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;`\n\nAnd with the value `create` in the `hbm2ddl.auto` property the changes applied in my Database Schema. \n\nThanks a lot....","body":"It&#39;s work for me.    Hibernate + Derby DB   <code>@Id @GeneratedValue(strategy = GenerationType.IDENTITY) private long id;</code>  And with the value <code>create</code> in the <code>hbm2ddl.auto</code> property the changes applied in my Database Schema.   Thanks a lot...."}],"tags":[],"owner":{"account_id":5297443,"reputation":231,"user_id":4228228,"display_name":"anzie001"},"comment_count":1,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1423599775,"creation_date":1423598549,"answer_id":28440735,"question_id":804514,"body_markdown":"you must be using update in your hbm2ddl property. make the changes and update it to Create so that it can create the table.\r\n\r\n    &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n\r\nIt worked for me.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>you must be using update in your hbm2ddl property. make the changes and update it to Create so that it can create the table.</p>\n\n<pre><code>&lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n</code></pre>\n\n<p>It worked for me.</p>\n"},{"comments":[{"owner":{"account_id":1178347,"reputation":1562,"user_id":1153801,"accept_rate":100,"display_name":"SND"},"score":0,"creation_date":1575629245,"post_id":33616348,"comment_id":104639716,"body_markdown":"Same thing somehow happened to me: MySQL workbench showed just one &#39;user&#39; table, however, after I dropped all tables in the database, it suddenly showed another &#39;user&#39; table that wasn&#39;t visible before...","body":"Same thing somehow happened to me: MySQL workbench showed just one &#39;user&#39; table, however, after I dropped all tables in the database, it suddenly showed another &#39;user&#39; table that wasn&#39;t visible before..."}],"tags":[],"owner":{"account_id":4067747,"reputation":440,"user_id":3342052,"display_name":"Sahan Jayasumana"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1447096018,"creation_date":1447096018,"answer_id":33616348,"question_id":804514,"body_markdown":"I came here because of the error message, turns out I had two tables with the same name.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>I came here because of the error message, turns out I had two tables with the same name.</p>\n"},{"tags":[],"owner":{"account_id":3572749,"reputation":149,"user_id":2982704,"display_name":"user2982704"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456139173,"creation_date":1456138754,"answer_id":35551873,"question_id":804514,"body_markdown":"**Just add not-null constraint** \r\n\r\nI had the same problem. I just added not-null constraint in xml mapping. **It worked**\r\n\r\n    &lt;set name=&quot;phone&quot; cascade=&quot;all&quot; lazy=&quot;false&quot; &gt; \r\n       &lt;key column=&quot;id&quot; not-null=&quot;true&quot; /&gt;\r\n       &lt;one-to-many class=&quot;com.practice.phone&quot;/&gt;\r\n    &lt;/set&gt;","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p><strong>Just add not-null constraint</strong> </p>\n\n<p>I had the same problem. I just added not-null constraint in xml mapping. <strong>It worked</strong></p>\n\n<pre><code>&lt;set name=\"phone\" cascade=\"all\" lazy=\"false\" &gt; \n   &lt;key column=\"id\" not-null=\"true\" /&gt;\n   &lt;one-to-many class=\"com.practice.phone\"/&gt;\n&lt;/set&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8974122,"reputation":1683,"user_id":6691610,"display_name":"David Pham"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1476552661,"creation_date":1476552661,"answer_id":40062134,"question_id":804514,"body_markdown":"I had the same problem. I found the tutorial [Hibernate One-To-One Mapping Example using Foreign key Annotation][1] and followed it step by step like below:\r\n\r\nCreate database table with this script:\r\n\r\n    create table ADDRESS (\r\n       id INT(11) NOT NULL AUTO_INCREMENT,\r\n       street VARCHAR(250) NOT NULL,\r\n       city  VARCHAR(100) NOT NULL,\r\n       country  VARCHAR(100) NOT NULL,\r\n       PRIMARY KEY (id)\r\n    );\r\n     \r\n    create table STUDENT (\r\n    \tid            INT(11) NOT NULL AUTO_INCREMENT, \r\n    \tname          VARCHAR(100) NOT NULL, \r\n    \tentering_date DATE NOT NULL, \r\n    \tnationality   TEXT NOT NULL, \r\n    \tcode          VARCHAR(30) NOT NULL,\r\n    \taddress_id INT(11) NOT NULL,\r\n    \tPRIMARY KEY (id),\r\n    \tCONSTRAINT student_address FOREIGN KEY (address_id) REFERENCES ADDRESS (id)   \r\n    );\r\n\r\nHere is the entities with the above tables\r\n\r\n    @Entity\r\n    @Table(name = &quot;STUDENT&quot;)\r\n    public class Student implements Serializable {\r\n     \r\n    \tprivate static final long serialVersionUID = 6832006422622219737L;\r\n     \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n     \r\n     }\r\n\r\n    @Entity\r\n    @Table(name = &quot;ADDRESS&quot;)\r\n    public class Address {\r\n    \r\n    \t@Id @GeneratedValue\r\n    \t@Column(name = &quot;ID&quot;)\r\n    \tprivate long id;\r\n    }\r\n\r\nThe problem was resolved. \r\n\r\nNotice: The primary key must be set to AUTO_INCREMENT\r\n\r\n  [1]: http://javabycode.com/java-frameworks/hibernate-4-tutorial/hibernate-one-to-one-mapping-example-using-foreign-key-annotation.html","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>I had the same problem. I found the tutorial <a href=\"http://javabycode.com/java-frameworks/hibernate-4-tutorial/hibernate-one-to-one-mapping-example-using-foreign-key-annotation.html\" rel=\"noreferrer\">Hibernate One-To-One Mapping Example using Foreign key Annotation</a> and followed it step by step like below:</p>\n\n<p>Create database table with this script:</p>\n\n<pre><code>create table ADDRESS (\n   id INT(11) NOT NULL AUTO_INCREMENT,\n   street VARCHAR(250) NOT NULL,\n   city  VARCHAR(100) NOT NULL,\n   country  VARCHAR(100) NOT NULL,\n   PRIMARY KEY (id)\n);\n\ncreate table STUDENT (\n    id            INT(11) NOT NULL AUTO_INCREMENT, \n    name          VARCHAR(100) NOT NULL, \n    entering_date DATE NOT NULL, \n    nationality   TEXT NOT NULL, \n    code          VARCHAR(30) NOT NULL,\n    address_id INT(11) NOT NULL,\n    PRIMARY KEY (id),\n    CONSTRAINT student_address FOREIGN KEY (address_id) REFERENCES ADDRESS (id)   \n);\n</code></pre>\n\n<p>Here is the entities with the above tables</p>\n\n<pre><code>@Entity\n@Table(name = \"STUDENT\")\npublic class Student implements Serializable {\n\n    private static final long serialVersionUID = 6832006422622219737L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n }\n\n@Entity\n@Table(name = \"ADDRESS\")\npublic class Address {\n\n    @Id @GeneratedValue\n    @Column(name = \"ID\")\n    private long id;\n}\n</code></pre>\n\n<p>The problem was resolved. </p>\n\n<p>Notice: The primary key must be set to AUTO_INCREMENT</p>\n"},{"tags":[],"owner":{"account_id":2064333,"reputation":113,"user_id":1840185,"display_name":"Viktor Reinok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488195032,"creation_date":1488195032,"answer_id":42484683,"question_id":804514,"body_markdown":"The same exception was thrown if a DB table had an old unremoved column.\r\n\r\nFor example:\r\n`attribute_id NOT NULL BIGINT(20),` and `attributeId NOT NULL BIGINT(20),`\r\n\r\nAfter removing the not used attribute, in my case **contractId**, the problem was resolved. \r\n","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>The same exception was thrown if a DB table had an old unremoved column.</p>\n\n<p>For example:\n<code>attribute_id NOT NULL BIGINT(20),</code> and <code>attributeId NOT NULL BIGINT(20),</code></p>\n\n<p>After removing the not used attribute, in my case <strong>contractId</strong>, the problem was resolved. </p>\n"},{"tags":[],"owner":{"account_id":9939125,"reputation":13015,"user_id":7356355,"display_name":"user158"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551530453,"creation_date":1498310833,"answer_id":44736899,"question_id":804514,"body_markdown":"I had this issue, by mistake I had placed `@Transient` annotation above that particular attribute. In my case this error make sense.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>I had this issue, by mistake I had placed <code>@Transient</code> annotation above that particular attribute. In my case this error make sense.</p>\n"},{"comments":[{"owner":{"account_id":10249506,"reputation":351,"user_id":7564226,"accept_rate":55,"display_name":"Malena T"},"score":0,"creation_date":1521119909,"post_id":45218261,"comment_id":85602646,"body_markdown":"Can you provide an example?","body":"Can you provide an example?"}],"tags":[],"owner":{"account_id":4439777,"reputation":3830,"user_id":3614578,"accept_rate":55,"display_name":"gary69"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500562384,"creation_date":1500562384,"answer_id":45218261,"question_id":804514,"body_markdown":"This happened to me with a `@ManyToMany` relationship.  I had annotated one of the fields in the relationship with `@JoinTable`, I removed that and used the `mappedBy` attribute on @ManyToMany instead.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>This happened to me with a <code>@ManyToMany</code> relationship.  I had annotated one of the fields in the relationship with <code>@JoinTable</code>, I removed that and used the <code>mappedBy</code> attribute on @ManyToMany instead.</p>\n"},{"comments":[{"owner":{"account_id":92820,"reputation":1024,"user_id":254195,"accept_rate":33,"display_name":"Meir"},"score":1,"creation_date":1531126335,"post_id":51127173,"comment_id":89461733,"body_markdown":"Great solution. Didn&#39;t think that way. Thanks","body":"Great solution. Didn&#39;t think that way. Thanks"},{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":3,"creation_date":1542744101,"post_id":51127173,"comment_id":93676511,"body_markdown":"We should do this when we make any changes to Id column or Generation type","body":"We should do this when we make any changes to Id column or Generation type"}],"tags":[],"owner":{"account_id":11047947,"reputation":1318,"user_id":8113350,"display_name":"Sen"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1530480887,"creation_date":1530480887,"answer_id":51127173,"question_id":804514,"body_markdown":"Dropping the table from the database manually and then re-running the application worked for me. In my case table was not created properly(with constraints) I guess. ","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>Dropping the table from the database manually and then re-running the application worked for me. In my case table was not created properly(with constraints) I guess. </p>\n"},{"tags":[],"owner":{"account_id":6663094,"reputation":21,"user_id":5141528,"display_name":"Ahmad Merghany"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532243401,"creation_date":1532242127,"answer_id":51462699,"question_id":804514,"body_markdown":"In addition to what is mentioned above, **do not forget** while creating sql table to make the **AUTO INCREMENT** as in this example\r\n\r\n    CREATE TABLE MY_SQL_TABLE (\r\n\r\n      USER_ID INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY,\r\n      FNAME VARCHAR(50) NOT NULL,\r\n      LNAME VARCHAR(20) NOT NULL,\r\n      EMAIL VARCHAR(50) NOT NULL\r\n    );","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>In addition to what is mentioned above, <strong>do not forget</strong> while creating sql table to make the <strong>AUTO INCREMENT</strong> as in this example</p>\n\n<pre><code>CREATE TABLE MY_SQL_TABLE (\n\n  USER_ID INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY,\n  FNAME VARCHAR(50) NOT NULL,\n  LNAME VARCHAR(20) NOT NULL,\n  EMAIL VARCHAR(50) NOT NULL\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14052653,"reputation":1,"user_id":10150938,"display_name":"Justo Miguel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532864242,"creation_date":1532858454,"answer_id":51579182,"question_id":804514,"body_markdown":"I tried the code and in my case the code below solve the issue. I had not settled the schema properly     \r\n    \r\n    @Entity\r\n        @Table(name=&quot;table&quot;\r\n             ,catalog=&quot;databasename&quot;\r\n          )\r\n\r\n\r\nPlease try to add  `,catalog=&quot;databasename&quot;`  the same as I did. \r\n\r\n    ,catalog=&quot;databasename&quot;\r\n","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>I tried the code and in my case the code below solve the issue. I had not settled the schema properly     </p>\n\n<pre><code>@Entity\n    @Table(name=\"table\"\n         ,catalog=\"databasename\"\n      )\n</code></pre>\n\n<p>Please try to add  <code>,catalog=\"databasename\"</code>  the same as I did. </p>\n\n<pre><code>,catalog=\"databasename\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8137710,"reputation":1037,"user_id":6128863,"display_name":"Ishimwe Aubain Consolateur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544003177,"creation_date":1544003177,"answer_id":53629347,"question_id":804514,"body_markdown":"In my case, \r\nI altered that offending tables and the field &quot;id&quot; in question I made it AUTO_INCREMENT, I still need to figure out why on deployment time it was not making it &quot;AUTO_INCREMENT&quot; so that I have to do it by myself!","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>In my case, \nI altered that offending tables and the field \"id\" in question I made it AUTO_INCREMENT, I still need to figure out why on deployment time it was not making it \"AUTO_INCREMENT\" so that I have to do it by myself!</p>\n"},{"tags":[],"owner":{"account_id":12495938,"reputation":129,"user_id":9095947,"display_name":"David Davila"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544003814,"creation_date":1544003814,"answer_id":53629526,"question_id":804514,"body_markdown":"What about this:\r\n\r\n    &lt;set name=&quot;fieldName&quot; cascade=&quot;all&quot;&gt; \r\n       &lt;key column=&quot;id&quot; not-null=&quot;true&quot; /&gt;\r\n       &lt;one-to-many class=&quot;com.yourClass&quot;/&gt;\r\n    &lt;/set&gt;\r\nI hope it helps you.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>What about this:</p>\n\n<pre><code>&lt;set name=\"fieldName\" cascade=\"all\"&gt; \n   &lt;key column=\"id\" not-null=\"true\" /&gt;\n   &lt;one-to-many class=\"com.yourClass\"/&gt;\n&lt;/set&gt;\n</code></pre>\n\n<p>I hope it helps you.</p>\n"},{"tags":[],"owner":{"account_id":10548734,"reputation":676,"user_id":7772054,"display_name":"SHIVA"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544800538,"creation_date":1544800538,"answer_id":53782395,"question_id":804514,"body_markdown":"Maybe that is the problem with the table schema. **drop the table** and rerun the application.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>Maybe that is the problem with the table schema. <strong>drop the table</strong> and rerun the application.</p>\n"},{"tags":[],"owner":{"account_id":7441417,"reputation":91,"user_id":5659098,"display_name":"Olga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547713871,"creation_date":1547711182,"answer_id":54231195,"question_id":804514,"body_markdown":"Try to change `Long` object type to `long` primitive type (if using primitives is ok for you). \r\n\r\nI had the same problem and changing type helped me. ","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>Try to change <code>Long</code> object type to <code>long</code> primitive type (if using primitives is ok for you). </p>\n\n<p>I had the same problem and changing type helped me. </p>\n"},{"comments":[{"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"score":1,"creation_date":1581610243,"post_id":55853942,"comment_id":106502061,"body_markdown":"updatable is true by default","body":"updatable is true by default"}],"tags":[],"owner":{"account_id":11611134,"reputation":585,"user_id":8505316,"display_name":"Kavitha yadav"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1556210130,"creation_date":1556210130,"answer_id":55853942,"question_id":804514,"body_markdown":"I had this issue. My mistake was i had set the insertable and updatable fileds as false and was trying to set the field in the request. This field is set as NON NULL in DB.\r\n\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;roles_id&quot;,  referencedColumnName = &quot;id&quot;, insertable = false, updatable = false, nullable=false)\r\n\t@JsonBackReference\r\n\tprivate Role role;\r\n\r\nLater I changed it to - insertable = true, updatable = true \r\n\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;roles_id&quot;,  referencedColumnName = &quot;id&quot;, insertable = true, updatable = true, nullable=false)\r\n\t@JsonBackReference\r\n\t//@JsonIgnore\r\n\tprivate Role role;\r\n\r\nIt worked perfectly later.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>I had this issue. My mistake was i had set the insertable and updatable fileds as false and was trying to set the field in the request. This field is set as NON NULL in DB.</p>\n\n<pre><code>@ManyToOne\n@JoinColumn(name=\"roles_id\",  referencedColumnName = \"id\", insertable = false, updatable = false, nullable=false)\n@JsonBackReference\nprivate Role role;\n</code></pre>\n\n<p>Later I changed it to - insertable = true, updatable = true </p>\n\n<pre><code>@ManyToOne\n@JoinColumn(name=\"roles_id\",  referencedColumnName = \"id\", insertable = true, updatable = true, nullable=false)\n@JsonBackReference\n//@JsonIgnore\nprivate Role role;\n</code></pre>\n\n<p>It worked perfectly later.</p>\n"},{"tags":[],"owner":{"account_id":12516320,"reputation":115,"user_id":9109372,"display_name":"Aye Chan Aung Thwin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562962405,"creation_date":1562961287,"answer_id":57013321,"question_id":804514,"body_markdown":"&quot;Field &#39;id&#39; doesn&#39;t have a default value&quot; because you didn&#39;t declare `GenerationType.IDENTITY` in `GeneratedValue` Annotation.\r\n\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>\"Field 'id' doesn't have a default value\" because you didn't declare <code>GenerationType.IDENTITY</code> in <code>GeneratedValue</code> Annotation.</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate int id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15832854,"reputation":707,"user_id":11423630,"display_name":"Shubham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567686980,"creation_date":1567686980,"answer_id":57805665,"question_id":804514,"body_markdown":"This issue is because sometimes you need to again update/create the database or sometimes if you have added the field in db table but not not entity class then it can not insert any null value or zero so this error came. \r\nSo check both side.Db and Entity class.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>This issue is because sometimes you need to again update/create the database or sometimes if you have added the field in db table but not not entity class then it can not insert any null value or zero so this error came. \nSo check both side.Db and Entity class.</p>\n"},{"tags":[],"owner":{"account_id":1647428,"reputation":499,"user_id":1518697,"display_name":"alaptiko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573645219,"creation_date":1573645219,"answer_id":58836305,"question_id":804514,"body_markdown":"When your field is not nullable it requires a default value to be specified on table creation. Recreate a table with AUTO_INCREMENT properly initialized so DB will not require default value since it will generate it by itself and never put NULL there.\r\n\r\n    CREATE TABLE Persons (\r\n    Personid int NOT NULL AUTO_INCREMENT,\r\n    LastName varchar(255) NOT NULL,\r\n    FirstName varchar(255),\r\n    Age int,\r\n    PRIMARY KEY (Personid)\r\n);\r\n\r\nhttps://www.w3schools.com/sql/sql_autoincrement.asp\r\n\r\n","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>When your field is not nullable it requires a default value to be specified on table creation. Recreate a table with AUTO_INCREMENT properly initialized so DB will not require default value since it will generate it by itself and never put NULL there.</p>\n\n<pre><code>CREATE TABLE Persons (\nPersonid int NOT NULL AUTO_INCREMENT,\nLastName varchar(255) NOT NULL,\nFirstName varchar(255),\nAge int,\nPRIMARY KEY (Personid)\n</code></pre>\n\n<p>);</p>\n\n<p><a href=\"https://www.w3schools.com/sql/sql_autoincrement.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/sql/sql_autoincrement.asp</a></p>\n"},{"tags":[],"owner":{"account_id":2343332,"reputation":399,"user_id":2054164,"accept_rate":65,"display_name":"jhenya-d"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592331194,"creation_date":1592331194,"answer_id":62415048,"question_id":804514,"body_markdown":"i have got such error in GCP cloud sql when model field didn&#39;t match correct table field in db.\r\nExample:\r\nwhen in model field is `fieldName`  \r\ntable in db should have field `field_name`\r\nFixing table field name helped me.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>i have got such error in GCP cloud sql when model field didn't match correct table field in db.\nExample:\nwhen in model field is <code>fieldName</code><br>\ntable in db should have field <code>field_name</code>\nFixing table field name helped me.</p>\n"},{"tags":[],"owner":{"account_id":15763432,"reputation":163,"user_id":11374561,"display_name":"Vikcen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633627704,"creation_date":1633627704,"answer_id":69485455,"question_id":804514,"body_markdown":"I solved it changuing ***@GeneratedValue(strategy = GenerationType.IDENTITY)*** by ***@GeneratedValue(strategy = GenerationType.AUTO)***\r\n\r\nBy the way i didn&#39;t need to put it to create, just:\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto: update\r\n```","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>I solved it changuing <em><strong>@GeneratedValue(strategy = GenerationType.IDENTITY)</strong></em> by <em><strong>@GeneratedValue(strategy = GenerationType.AUTO)</strong></em></p>\n<p>By the way i didn't need to put it to create, just:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto: update\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2295846,"reputation":824,"user_id":2017299,"accept_rate":80,"display_name":"Kris Swat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644159501,"creation_date":1644159501,"answer_id":71008386,"question_id":804514,"body_markdown":"I solved similar problem, when I altered the database column type , and did not add auto_increment. After adding back auto_increment in the alter table command  (as in my original table creation) it worked\r\n\r\n","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>I solved similar problem, when I altered the database column type , and did not add auto_increment. After adding back auto_increment in the alter table command  (as in my original table creation) it worked</p>\n"},{"tags":[],"owner":{"account_id":13065194,"reputation":73,"user_id":9440826,"display_name":"Gaur 97"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657198103,"creation_date":1657198103,"answer_id":72898087,"question_id":804514,"body_markdown":"In my case I have not added the below property in my application.properties file:\r\n\r\n    spring.jpa.database-platform = org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\nAnd added the following annotation to my entity class&#39;s Id column:\r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\nAnd after adding this I have also drop my table manually from datatbase and run my project again that creates a new table with all default constraints for the table.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>In my case I have not added the below property in my application.properties file:</p>\n<pre><code>spring.jpa.database-platform = org.hibernate.dialect.MySQL5InnoDBDialect\n</code></pre>\n<p>And added the following annotation to my entity class's Id column:</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n<p>And after adding this I have also drop my table manually from datatbase and run my project again that creates a new table with all default constraints for the table.</p>\n"},{"tags":[],"owner":{"account_id":8806448,"reputation":1279,"user_id":6580933,"display_name":"Terblanche Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659324138,"creation_date":1659324138,"answer_id":73188538,"question_id":804514,"body_markdown":"To delete just delete your schema is a really bad suggestion. There is a problem and it&#39;s best to find and fix it.\r\n\r\nIn my case I was using Envers this creates an Audit table for when entries are updated. But this audit table does not get updated itself it seems when the schema updates (At least not ID and it&#39;s relationships)\r\n\r\nI just eddited the audit tables offending property and done. Everything back to normal.\r\n\r\n**To find what the issue is turn the following properties on in application.properties file**\r\n\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n\r\nThis will show you what SQL it is trying to executing and hopefully it will provide clarity on real issue.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>To delete just delete your schema is a really bad suggestion. There is a problem and it's best to find and fix it.</p>\n<p>In my case I was using Envers this creates an Audit table for when entries are updated. But this audit table does not get updated itself it seems when the schema updates (At least not ID and it's relationships)</p>\n<p>I just eddited the audit tables offending property and done. Everything back to normal.</p>\n<p><strong>To find what the issue is turn the following properties on in application.properties file</strong></p>\n<pre><code>spring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n<p>This will show you what SQL it is trying to executing and hopefully it will provide clarity on real issue.</p>\n"},{"tags":[],"owner":{"account_id":3847031,"reputation":584,"user_id":3188225,"display_name":"umunBeing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682592290,"creation_date":1682592290,"answer_id":76119486,"question_id":804514,"body_markdown":"I faced this problem during a demo, deleting and re-creating the db solved it for me.\r\n\r\nYou can do this using\r\n\r\n```\r\ndrop table sample;\r\ncreate database sample;\r\n```\r\n\r\nChange the name of database from `sample` to your database.","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>I faced this problem during a demo, deleting and re-creating the db solved it for me.</p>\n<p>You can do this using</p>\n<pre><code>drop table sample;\ncreate database sample;\n</code></pre>\n<p>Change the name of database from <code>sample</code> to your database.</p>\n"}],"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296090,"favorite_count":0,"down_vote_count":1,"up_vote_count":166,"accepted_answer_id":846663,"answer_count":31,"score":165,"last_activity_date":1682592290,"creation_date":1241043238,"question_id":804514,"body_markdown":"I&#39;m facing what I think is a simple problem with Hibernate, but can&#39;t solve it (Hibernate forums being unreachable certainly doesn&#39;t help).\r\n\r\nI have a simple class I&#39;d like to persist, but keep getting:\r\n\r\n    SEVERE: Field &#39;id&#39; doesn&#39;t have a default value\r\n    Exception in thread &quot;main&quot; org.hibernate.exception.GenericJDBCException: could not insert: [hibtest.model.Mensagem]\r\n        at org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:103)\r\n        at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:91)\r\n        [ a bunch more ]\r\n    Caused by: java.sql.SQLException: Field &#39;id&#39; doesn&#39;t have a default value\r\n        [ a bunch more ]\r\n\r\nThe relevant code for the persisted class is:\r\n\r\n    package hibtest.model;\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Inheritance;\r\n    import javax.persistence.InheritanceType;\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public class Mensagem  {\r\n        protected Long id;\r\n        \r\n        protected Mensagem() { }\r\n\r\n        @Id\r\n        @GeneratedValue\r\n        public Long getId() {\r\n            return id;\r\n\t}\r\n\r\n        public Mensagem setId(Long id) {\r\n            this.id = id;\r\n            return this;\r\n        }\r\n    }\r\n\r\nAnd the actual running code is just plain:\r\n\r\n    SessionFactory factory = new AnnotationConfiguration()\r\n        .configure()\r\n        .buildSessionFactory();\r\n\r\n    {\r\n        Session session = factory.openSession();\r\n        Transaction tx = session.beginTransaction();\r\n\r\n        Mensagem msg = new Mensagem(&quot;YARR!&quot;);\r\n\r\n        session.save(msg);\r\n\r\n        tx.commit();\r\n        session.close();\r\n    }\r\n\r\nI tried some &quot;strategies&quot; within the `GeneratedValue` annotation but it just doesn&#39;t seem to work. Initializing `id` doesn&#39;t help either! (eg `Long id = 20L`).\r\n\r\nCould anyone shed some light?\r\n\r\n**EDIT 2:** confirmed: messing with`@GeneratedValue(strategy = GenerationType.XXX)` doesn&#39;t solve it\r\n\r\n**SOLVED:** recreating the database solved the problem","title":"Hibernate: &quot;Field &#39;id&#39; doesn&#39;t have a default value&quot;","body":"<p>I'm facing what I think is a simple problem with Hibernate, but can't solve it (Hibernate forums being unreachable certainly doesn't help).</p>\n\n<p>I have a simple class I'd like to persist, but keep getting:</p>\n\n<pre><code>SEVERE: Field 'id' doesn't have a default value\nException in thread \"main\" org.hibernate.exception.GenericJDBCException: could not insert: [hibtest.model.Mensagem]\n    at org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:103)\n    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:91)\n    [ a bunch more ]\nCaused by: java.sql.SQLException: Field 'id' doesn't have a default value\n    [ a bunch more ]\n</code></pre>\n\n<p>The relevant code for the persisted class is:</p>\n\n<pre><code>package hibtest.model;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Inheritance;\nimport javax.persistence.InheritanceType;\n\n@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class Mensagem  {\n    protected Long id;\n\n    protected Mensagem() { }\n\n    @Id\n    @GeneratedValue\n    public Long getId() {\n        return id;\n}\n\n    public Mensagem setId(Long id) {\n        this.id = id;\n        return this;\n    }\n}\n</code></pre>\n\n<p>And the actual running code is just plain:</p>\n\n<pre><code>SessionFactory factory = new AnnotationConfiguration()\n    .configure()\n    .buildSessionFactory();\n\n{\n    Session session = factory.openSession();\n    Transaction tx = session.beginTransaction();\n\n    Mensagem msg = new Mensagem(\"YARR!\");\n\n    session.save(msg);\n\n    tx.commit();\n    session.close();\n}\n</code></pre>\n\n<p>I tried some \"strategies\" within the <code>GeneratedValue</code> annotation but it just doesn't seem to work. Initializing <code>id</code> doesn't help either! (eg <code>Long id = 20L</code>).</p>\n\n<p>Could anyone shed some light?</p>\n\n<p><strong>EDIT 2:</strong> confirmed: messing with<code>@GeneratedValue(strategy = GenerationType.XXX)</code> doesn't solve it</p>\n\n<p><strong>SOLVED:</strong> recreating the database solved the problem</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1682589716,"post_id":76119122,"comment_id":134241141,"body_markdown":"in the catch block, print the message, don&#39;t re-throw. return a default value","body":"in the catch block, print the message, don&#39;t re-throw. return a default value"},{"owner":{"account_id":22500030,"reputation":13,"user_id":16696477,"display_name":"atelten"},"score":0,"creation_date":1682589873,"post_id":76119122,"comment_id":134241170,"body_markdown":"both code snippets are not related, i edited","body":"both code snippets are not related, i edited"},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1682590051,"post_id":76119122,"comment_id":134241212,"body_markdown":"Can return text without throw new, or if you need to return specific exception for example for API, you can return ResponseEntity&lt;String&gt; there use HTTP responses.","body":"Can return text without throw new, or if you need to return specific exception for example for API, you can return ResponseEntity&lt;String&gt; there use HTTP responses."}],"answers":[{"tags":[],"owner":{"account_id":26335795,"reputation":948,"user_id":19995658,"display_name":"Sparkling Marcel "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682590874,"creation_date":1682590874,"answer_id":76119289,"question_id":76119122,"body_markdown":"for the first one    \r\n\r\n    if(some condition)\r\n            System.out.println(&quot;some message&quot;)\r\n\r\nand for the second one \r\n\r\n    try {    \r\n        something; \r\n    } catch (ArithmeticException e) { \r\n        System.out.println(&quot;some other message&quot;)\r\n\r\nSystem.out.println simply prints a message to the console without any stack trace\r\nAlso being in a try catch doesn&#39;t force you to throw an exception.\r\n\r\nTherefore, if you just wanna print a message when something goes wrong (and not throw the exception), do a simple System.out.println\r\n\r\n","title":"Exception Message: Print only message &amp; Override","body":"<p>for the first one</p>\n<pre><code>if(some condition)\n        System.out.println(&quot;some message&quot;)\n</code></pre>\n<p>and for the second one</p>\n<pre><code>try {    \n    something; \n} catch (ArithmeticException e) { \n    System.out.println(&quot;some other message&quot;)\n</code></pre>\n<p>System.out.println simply prints a message to the console without any stack trace\nAlso being in a try catch doesn't force you to throw an exception.</p>\n<p>Therefore, if you just wanna print a message when something goes wrong (and not throw the exception), do a simple System.out.println</p>\n"},{"tags":[],"owner":{"account_id":6286249,"reputation":180,"user_id":4885365,"display_name":"Mruk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682591072,"creation_date":1682591072,"answer_id":76119323,"question_id":76119122,"body_markdown":"Use: ***e.getMessage()*** to get just the bullet point of the error, or just the ***print*** with whatever You want.\r\n\r\n```java\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        \r\n        try {\r\n          int x = 0;\r\n          // Some condition\r\n          if (x == 1/0) throw new Exception(&quot;some condition message&quot;);\r\n          // Something\r\n          System.out.println(&quot;Something.something()&quot;);\r\n        }\r\n        catch (ArithmeticException e) {\r\n          System.out.println(&quot;ArithmeticException Message: &quot;);\r\n          System.out.println(e.getMessage());\r\n        }\r\n        catch (Exception e) {\r\n          System.out.println(&quot;Exception Message&quot;);\r\n          System.out.println(e.getMessage());\r\n        }\r\n        \r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nArithmeticException Message: \r\n/ by zero\r\n```","title":"Exception Message: Print only message &amp; Override","body":"<p>Use: <em><strong>e.getMessage()</strong></em> to get just the bullet point of the error, or just the <em><strong>print</strong></em> with whatever You want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class HelloWorld {\n    public static void main(String[] args) {\n        \n        try {\n          int x = 0;\n          // Some condition\n          if (x == 1/0) throw new Exception(&quot;some condition message&quot;);\n          // Something\n          System.out.println(&quot;Something.something()&quot;);\n        }\n        catch (ArithmeticException e) {\n          System.out.println(&quot;ArithmeticException Message: &quot;);\n          System.out.println(e.getMessage());\n        }\n        catch (Exception e) {\n          System.out.println(&quot;Exception Message&quot;);\n          System.out.println(e.getMessage());\n        }\n        \n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>ArithmeticException Message: \n/ by zero\n</code></pre>\n"}],"owner":{"account_id":22500030,"reputation":13,"user_id":16696477,"display_name":"atelten"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682592261,"creation_date":1682589585,"question_id":76119122,"body_markdown":"Hello i am having a code like this: \r\n\r\n```\r\nif(some condition)\r\n    throw Exception(&quot;some message&quot;); \r\n```\r\nand another one like this:\r\n\r\n```\r\ntry {    \r\n    something; \r\n} catch (ArithmeticException e) { \r\n    throw new Exception (&quot;some other message&quot;);\r\n```\r\n\r\nI want for each one the messages without the type of exception or any stack trace, classnames etc.\r\n\r\nHow can i only print the message?\r\n\r\nEdit: i cannot use System.out.println, because the message should not be printed in the console. Exception have to be used here.\r\n\r\nI need a way to print only own messages.\r\n\r\n","title":"Exception Message: Print only message &amp; Override","body":"<p>Hello i am having a code like this:</p>\n<pre><code>if(some condition)\n    throw Exception(&quot;some message&quot;); \n</code></pre>\n<p>and another one like this:</p>\n<pre><code>try {    \n    something; \n} catch (ArithmeticException e) { \n    throw new Exception (&quot;some other message&quot;);\n</code></pre>\n<p>I want for each one the messages without the type of exception or any stack trace, classnames etc.</p>\n<p>How can i only print the message?</p>\n<p>Edit: i cannot use System.out.println, because the message should not be printed in the console. Exception have to be used here.</p>\n<p>I need a way to print only own messages.</p>\n"},{"tags":["java","android","android-studio","google-maps","google-places-api"],"answers":[{"tags":[],"owner":{"account_id":8892248,"reputation":5511,"user_id":11742502,"display_name":"evan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589440795,"creation_date":1589440795,"answer_id":61791523,"question_id":61734540,"body_markdown":"You need to search for places of type `car_repair`. [Here&#39;s](https://developers.google.com/places/web-service/supported_types#table1) a list of supported types for Place Search queries. So e.g. you could do something like this:\r\n\r\n    case R.id.B_carRepair:\r\n        mMap.clear();\r\n        String carRepair = &quot;car_repair&quot;;\r\n        String url = getUrl(latitude, longitude, carRepair);\r\n        dataTransfer[0] = mMap;\r\n        dataTransfer[1] = url;\r\n    \r\n        getNearbyPlacesData.execute(dataTransfer);\r\n        Toast.makeText(MapsActivity.this, &quot;Showing nearby car repairs&quot;, Toast.LENGTH_LONG).show();\r\n        break;\r\n\r\nHope this helps!","title":"Can&#39;t find Car-repair/garage/motor shops while using Google Places API in Android Studio","body":"<p>You need to search for places of type <code>car_repair</code>. <a href=\"https://developers.google.com/places/web-service/supported_types#table1\" rel=\"nofollow noreferrer\">Here's</a> a list of supported types for Place Search queries. So e.g. you could do something like this:</p>\n\n<pre><code>case R.id.B_carRepair:\n    mMap.clear();\n    String carRepair = \"car_repair\";\n    String url = getUrl(latitude, longitude, carRepair);\n    dataTransfer[0] = mMap;\n    dataTransfer[1] = url;\n\n    getNearbyPlacesData.execute(dataTransfer);\n    Toast.makeText(MapsActivity.this, \"Showing nearby car repairs\", Toast.LENGTH_LONG).show();\n    break;\n</code></pre>\n\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":16225752,"reputation":39,"user_id":11716106,"display_name":"Sudhakar J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682591841,"creation_date":1589214482,"question_id":61734540,"body_markdown":"```\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n            buildGoogleApiClient();\r\n            mMap.setMyLocationEnabled(true);\r\n        }\r\n\r\n    }\r\n```\r\nhere i use the string as hospitals and i get nearby hospitals\r\n```\r\n    public void onClick(View v)\r\n    {\r\n        Object dataTransfer[] = new Object[2];\r\n        GetNearbyPlacesData getNearbyPlacesData = new GetNearbyPlacesData();\r\n\r\n        switch (v.getId()) {\r\n            case R.id.B_search: {\r\n                EditText tf_location = (EditText) findViewById(R.id.TF_location);\r\n                String location = tf_location.getText().toString();\r\n                List&lt;Address&gt; addressList = null;\r\n                MarkerOptions mo = new MarkerOptions();\r\n\r\n                if (!location.equals(&quot;&quot;)) {\r\n                    Geocoder geocoder = new Geocoder(this);\r\n                    try {\r\n                        addressList = geocoder.getFromLocationName(location, 5);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    for (int i = 0; i &lt; addressList.size(); i++) {\r\n                        Address myAddress = addressList.get(i);\r\n                        LatLng latlng = new LatLng(myAddress.getLatitude(), myAddress.getLongitude());\r\n                        mo.position(latlng);\r\n                        mo.title(&quot;Your Search Result&quot;);\r\n                        mMap.addMarker(mo);\r\n                        mMap.moveCamera(CameraUpdateFactory.newLatLng(latlng));\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n            case R.id.B_hospital:\r\n                mMap.clear();\r\n                String hospital = &quot;hospital&quot;;\r\n                String url = getUrl(latitude, longitude, hospital);\r\n                dataTransfer[0] = mMap;\r\n                dataTransfer[1] = url;\r\n\r\n                getNearbyPlacesData.execute(dataTransfer);\r\n                Toast.makeText(MapsActivity.this, &quot;Showing Nearby Hospitals&quot;, Toast.LENGTH_LONG).show();\r\n                break;\r\n\r\n\r\n```\r\n\r\nIs there any specific keyword to be searched? Because I can find nearby hospitals, restaurants but can&#39;t find any car repair shops.Is there anything to be added to the code.\r\n\r\nThanks in advance.","title":"Can&#39;t find Car-repair/garage/motor shops while using Google Places API in Android Studio","body":"<pre><code>    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n            buildGoogleApiClient();\n            mMap.setMyLocationEnabled(true);\n        }\n\n    }\n</code></pre>\n\n<p>here i use the string as hospitals and i get nearby hospitals</p>\n\n<pre><code>    public void onClick(View v)\n    {\n        Object dataTransfer[] = new Object[2];\n        GetNearbyPlacesData getNearbyPlacesData = new GetNearbyPlacesData();\n\n        switch (v.getId()) {\n            case R.id.B_search: {\n                EditText tf_location = (EditText) findViewById(R.id.TF_location);\n                String location = tf_location.getText().toString();\n                List&lt;Address&gt; addressList = null;\n                MarkerOptions mo = new MarkerOptions();\n\n                if (!location.equals(\"\")) {\n                    Geocoder geocoder = new Geocoder(this);\n                    try {\n                        addressList = geocoder.getFromLocationName(location, 5);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                    for (int i = 0; i &lt; addressList.size(); i++) {\n                        Address myAddress = addressList.get(i);\n                        LatLng latlng = new LatLng(myAddress.getLatitude(), myAddress.getLongitude());\n                        mo.position(latlng);\n                        mo.title(\"Your Search Result\");\n                        mMap.addMarker(mo);\n                        mMap.moveCamera(CameraUpdateFactory.newLatLng(latlng));\n                    }\n                }\n            }\n            break;\n            case R.id.B_hospital:\n                mMap.clear();\n                String hospital = \"hospital\";\n                String url = getUrl(latitude, longitude, hospital);\n                dataTransfer[0] = mMap;\n                dataTransfer[1] = url;\n\n                getNearbyPlacesData.execute(dataTransfer);\n                Toast.makeText(MapsActivity.this, \"Showing Nearby Hospitals\", Toast.LENGTH_LONG).show();\n                break;\n\n\n</code></pre>\n\n<p>Is there any specific keyword to be searched? Because I can find nearby hospitals, restaurants but can't find any car repair shops.Is there anything to be added to the code.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","tomcat","wso2","unauthorized","wso2-micro-integrator"],"comments":[{"owner":{"account_id":3103561,"reputation":13351,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1682596539,"post_id":76119301,"comment_id":134242658,"body_markdown":"Have you changed the default user name and password of MI?","body":"Have you changed the default user name and password of MI?"},{"owner":{"account_id":21410606,"reputation":814,"user_id":15770919,"display_name":"OBrien Evance"},"score":0,"creation_date":1682667441,"post_id":76119301,"comment_id":134254790,"body_markdown":"The question is not about programming. Please find the relevant stack exchange to re post it and get assistance","body":"The question is not about programming. Please find the relevant stack exchange to re post it and get assistance"}],"owner":{"account_id":28431728,"reputation":1,"user_id":21752314,"display_name":"Danylo Vodopianov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682590944,"creation_date":1682590944,"question_id":76119301,"body_markdown":"I have wso2 environment running as well as wso2 micro integrator, I decided to add micro integrator dashboard here, but for some reason it can&#39;t find micro integrator. Writes an error that is on the screen\r\n\r\n[enter image description here](https://i.stack.imgur.com/Qqktr.png)\r\n\r\nBelow I have provided a full log cutout, and judging by it, we have a 401\r\n\r\n\r\n```\r\n[2023-04-27 13:07:08,454] DEBUG {RequestAddCookies} - CookieSpec selected: default\r\n[2023-04-27 13:07:08,462] DEBUG {RequestAuthCache} - Auth cache not set in the context\r\n[2023-04-27 13:07:08,463] DEBUG {BasicHttpClientConnectionManager} - Get connection for route {s}-&gt;https://****:9164\r\n[2023-04-27 13:07:08,473] DEBUG {DefaultManagedHttpClientConnection} - http-outgoing-0: set socket timeout to 0\r\n[2023-04-27 13:07:08,474] DEBUG {MainClientExec} - Opening connection {s}-&gt;https://****:9164\r\n[2023-04-27 13:07:08,475] DEBUG {DefaultHttpClientConnectionOperator} - Connecting to /****:9164\r\n[2023-04-27 13:07:08,475] DEBUG {SSLConnectionSocketFactory} - Connecting socket to /****:9164 with timeout 0\r\n[2023-04-27 13:07:08,482] DEBUG {SSLConnectionSocketFactory} - Enabled protocols: [TLSv1.3, TLSv1.2]\r\n[2023-04-27 13:07:08,483] DEBUG {SSLConnectionSocketFactory} - Enabled cipher suites:[TLS_AES_256_GCM_SHA384, TLS_AES_128_GCM_SHA256, TLS_CHACHA20_POLY1305_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n[2023-04-27 13:07:08,483] DEBUG {SSLConnectionSocketFactory} - Starting handshake\r\n[2023-04-27 13:07:08,503] DEBUG {SSLConnectionSocketFactory} - Secure session established\r\n[2023-04-27 13:07:08,504] DEBUG {SSLConnectionSocketFactory} -  negotiated protocol: TLSv1.2\r\n[2023-04-27 13:07:08,504] DEBUG {SSLConnectionSocketFactory} -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\r\n[2023-04-27 13:07:08,505] DEBUG {SSLConnectionSocketFactory} -  peer principal: CN=*.****, O=Municipal Enterprise “****”, ST=****, C=UA\r\n[2023-04-27 13:07:08,505] DEBUG {SSLConnectionSocketFactory} -  peer alternative names: [*.****, ****]\r\n[2023-04-27 13:07:08,506] DEBUG {SSLConnectionSocketFactory} -  issuer principal: CN=GoGetSSL RSA OV CA, O=GoGetSSL, L=Riga, C=LV\r\n[2023-04-27 13:07:08,507] DEBUG {DefaultHttpClientConnectionOperator} - Connection established ****:57564&lt;-&gt;****:9164\r\n[2023-04-27 13:07:08,507] DEBUG {MainClientExec} - Executing request GET /management/login HTTP/1.1\r\n[2023-04-27 13:07:08,507] DEBUG {MainClientExec} - Proxy auth state: UNCHALLENGED\r\n[2023-04-27 13:07:08,509] DEBUG {headers} - http-outgoing-0 &gt;&gt; GET /management/login HTTP/1.1\r\n[2023-04-27 13:07:08,509] DEBUG {headers} - http-outgoing-0 &gt;&gt; Accept: application/json\r\n[2023-04-27 13:07:08,509] DEBUG {headers} - http-outgoing-0 &gt;&gt; Authorization: Basic ****\r\n[2023-04-27 13:07:08,509] DEBUG {headers} - http-outgoing-0 &gt;&gt; Host: ****8:9164\r\n[2023-04-27 13:07:08,509] DEBUG {headers} - http-outgoing-0 &gt;&gt; Connection: Keep-Alive\r\n[2023-04-27 13:07:08,510] DEBUG {headers} - http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.18)\r\n[2023-04-27 13:07:08,510] DEBUG {headers} - http-outgoing-0 &gt;&gt; Accept-Encoding: gzip,deflate\r\n[2023-04-27 13:07:08,510] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;GET /management/login HTTP/1.1[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,510] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;Accept: application/json[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,510] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;Authorization: Basic ****[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,511] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;Host: ****:9164[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,511] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,511] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.18)[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,511] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,511] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,688] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,689] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;Access-Control-Allow-Origin: *[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,690] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;Access-Control-Allow-Methods: GET, POST, PUT, DELETE,OPTIONS, PATCH[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,690] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;Access-Control-Allow-Headers: Authorization, Content-Type[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,691] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;Date: Thu, 27 Apr 2023 10:07:08 GMT[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,691] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;Transfer-Encoding: chunked[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,691] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,691] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,691] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;0[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,691] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;[\\r][\\n]&quot;\r\n[2023-04-27 13:07:08,694] DEBUG {headers} - http-outgoing-0 &lt;&lt; HTTP/1.1 401 Unauthorized\r\n[2023-04-27 13:07:08,694] DEBUG {headers} - http-outgoing-0 &lt;&lt; Access-Control-Allow-Origin: *\r\n[2023-04-27 13:07:08,694] DEBUG {headers} - http-outgoing-0 &lt;&lt; Access-Control-Allow-Methods: GET, POST, PUT, DELETE,OPTIONS, PATCH\r\n[2023-04-27 13:07:08,694] DEBUG {headers} - http-outgoing-0 &lt;&lt; Access-Control-Allow-Headers: Authorization, Content-Type\r\n[2023-04-27 13:07:08,695] DEBUG {headers} - http-outgoing-0 &lt;&lt; Date: Thu, 27 Apr 2023 10:07:08 GMT\r\n[2023-04-27 13:07:08,695] DEBUG {headers} - http-outgoing-0 &lt;&lt; Transfer-Encoding: chunked\r\n[2023-04-27 13:07:08,695] DEBUG {headers} - http-outgoing-0 &lt;&lt; Connection: Keep-Alive\r\n[2023-04-27 13:07:08,700] DEBUG {MainClientExec} - Connection can be kept alive indefinitely\r\n[2023-04-27 13:07:08,700] DEBUG {HttpAuthenticator} - Authentication required\r\n[2023-04-27 13:07:08,700] DEBUG {HttpAuthenticator} - ****:9164 requested authentication\r\n[2023-04-27 13:07:08,700] DEBUG {HttpAuthenticator} - Response contains no authentication challenges\r\n[2023-04-27 13:07:08,706] DEBUG {DashboardServerExceptionMapper} - Error: org.wso2.ei.dashboard.core.exception.ManagementApiException: Unauthorized\r\n        at org.wso2.ei.dashboard.core.commons.utils.ManagementApiUtils.getToken(ManagementApiUtils.java:65)\r\n        at org.wso2.ei.dashboard.core.commons.utils.ManagementApiUtils.getAccessToken(ManagementApiUtils.java:50)\r\n        at org.wso2.ei.dashboard.core.rest.delegates.heartbeat.HeartBeatDelegate.registerNode(HeartBeatDelegate.java:99)\r\n        at org.wso2.ei.dashboard.core.rest.delegates.heartbeat.HeartBeatDelegate.processHeartbeat(HeartBeatDelegate.java:69)\r\n        at org.wso2.ei.dashboard.core.rest.api.HeartbeatApi.receiveNodeHeartbeat(HeartbeatApi.java:54)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)\r\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:243)\r\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)\r\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)\r\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)\r\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)\r\n        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)\r\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)\r\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:316)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:298)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:268)\r\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)\r\n        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)\r\n        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)\r\n        at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)\r\n        at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)\r\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)\r\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)\r\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)\r\n        at org.eclipse.jetty.servlet.ServletHolder$NotAsync.service(ServletHolder.java:1450)\r\n        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\r\n        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)\r\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\r\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\r\n        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\r\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\r\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\r\n        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\r\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\r\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)\r\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n        at org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n        at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\n        at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n        at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:555)\r\n        at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:410)\r\n        at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:164)\r\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:137)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n\r\nAlso below are open ports on the server\r\n\r\n```\r\n1. Micro Integrator:\r\n\r\ntcp        0      0 0.0.0.0:8253            0.0.0.0:*               LISTEN      0          17659646   1496906/java\r\ntcp        0      0 0.0.0.0:8290            0.0.0.0:*               LISTEN      0          17659641   1496906/java\r\ntcp        0      0 0.0.0.0:46275           0.0.0.0:*               LISTEN      0          17659553   1496906/java\r\ntcp        0      0 0.0.0.0:9201            0.0.0.0:*               LISTEN      0          17659652   1496906/java\r\ntcp        0      0 0.0.0.0:9164            0.0.0.0:*               LISTEN      0          17659657   1496906/java\r\n\r\n2. Dashboard:\r\n\r\ntcp6       0      0 :::9743                 :::*                    LISTEN      1005       16955092   1446707/java\r\n```\r\n\r\n\r\n\r\nFirewall is off, there are no rules in iptables. Permissions also need to be, because this is the default admin user","title":"WSO2 Micro Integrator Dashboard cannot find Micro Integrator instance","body":"<p>I have wso2 environment running as well as wso2 micro integrator, I decided to add micro integrator dashboard here, but for some reason it can't find micro integrator. Writes an error that is on the screen</p>\n<p><a href=\"https://i.stack.imgur.com/Qqktr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Below I have provided a full log cutout, and judging by it, we have a 401</p>\n<pre><code>[2023-04-27 13:07:08,454] DEBUG {RequestAddCookies} - CookieSpec selected: default\n[2023-04-27 13:07:08,462] DEBUG {RequestAuthCache} - Auth cache not set in the context\n[2023-04-27 13:07:08,463] DEBUG {BasicHttpClientConnectionManager} - Get connection for route {s}-&gt;https://****:9164\n[2023-04-27 13:07:08,473] DEBUG {DefaultManagedHttpClientConnection} - http-outgoing-0: set socket timeout to 0\n[2023-04-27 13:07:08,474] DEBUG {MainClientExec} - Opening connection {s}-&gt;https://****:9164\n[2023-04-27 13:07:08,475] DEBUG {DefaultHttpClientConnectionOperator} - Connecting to /****:9164\n[2023-04-27 13:07:08,475] DEBUG {SSLConnectionSocketFactory} - Connecting socket to /****:9164 with timeout 0\n[2023-04-27 13:07:08,482] DEBUG {SSLConnectionSocketFactory} - Enabled protocols: [TLSv1.3, TLSv1.2]\n[2023-04-27 13:07:08,483] DEBUG {SSLConnectionSocketFactory} - Enabled cipher suites:[TLS_AES_256_GCM_SHA384, TLS_AES_128_GCM_SHA256, TLS_CHACHA20_POLY1305_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\n[2023-04-27 13:07:08,483] DEBUG {SSLConnectionSocketFactory} - Starting handshake\n[2023-04-27 13:07:08,503] DEBUG {SSLConnectionSocketFactory} - Secure session established\n[2023-04-27 13:07:08,504] DEBUG {SSLConnectionSocketFactory} -  negotiated protocol: TLSv1.2\n[2023-04-27 13:07:08,504] DEBUG {SSLConnectionSocketFactory} -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\n[2023-04-27 13:07:08,505] DEBUG {SSLConnectionSocketFactory} -  peer principal: CN=*.****, O=Municipal Enterprise “****”, ST=****, C=UA\n[2023-04-27 13:07:08,505] DEBUG {SSLConnectionSocketFactory} -  peer alternative names: [*.****, ****]\n[2023-04-27 13:07:08,506] DEBUG {SSLConnectionSocketFactory} -  issuer principal: CN=GoGetSSL RSA OV CA, O=GoGetSSL, L=Riga, C=LV\n[2023-04-27 13:07:08,507] DEBUG {DefaultHttpClientConnectionOperator} - Connection established ****:57564&lt;-&gt;****:9164\n[2023-04-27 13:07:08,507] DEBUG {MainClientExec} - Executing request GET /management/login HTTP/1.1\n[2023-04-27 13:07:08,507] DEBUG {MainClientExec} - Proxy auth state: UNCHALLENGED\n[2023-04-27 13:07:08,509] DEBUG {headers} - http-outgoing-0 &gt;&gt; GET /management/login HTTP/1.1\n[2023-04-27 13:07:08,509] DEBUG {headers} - http-outgoing-0 &gt;&gt; Accept: application/json\n[2023-04-27 13:07:08,509] DEBUG {headers} - http-outgoing-0 &gt;&gt; Authorization: Basic ****\n[2023-04-27 13:07:08,509] DEBUG {headers} - http-outgoing-0 &gt;&gt; Host: ****8:9164\n[2023-04-27 13:07:08,509] DEBUG {headers} - http-outgoing-0 &gt;&gt; Connection: Keep-Alive\n[2023-04-27 13:07:08,510] DEBUG {headers} - http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.18)\n[2023-04-27 13:07:08,510] DEBUG {headers} - http-outgoing-0 &gt;&gt; Accept-Encoding: gzip,deflate\n[2023-04-27 13:07:08,510] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;GET /management/login HTTP/1.1[\\r][\\n]&quot;\n[2023-04-27 13:07:08,510] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;Accept: application/json[\\r][\\n]&quot;\n[2023-04-27 13:07:08,510] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;Authorization: Basic ****[\\r][\\n]&quot;\n[2023-04-27 13:07:08,511] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;Host: ****:9164[\\r][\\n]&quot;\n[2023-04-27 13:07:08,511] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\n[2023-04-27 13:07:08,511] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.18)[\\r][\\n]&quot;\n[2023-04-27 13:07:08,511] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\\r][\\n]&quot;\n[2023-04-27 13:07:08,511] DEBUG {wire} - http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\n[2023-04-27 13:07:08,688] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\\r][\\n]&quot;\n[2023-04-27 13:07:08,689] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;Access-Control-Allow-Origin: *[\\r][\\n]&quot;\n[2023-04-27 13:07:08,690] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;Access-Control-Allow-Methods: GET, POST, PUT, DELETE,OPTIONS, PATCH[\\r][\\n]&quot;\n[2023-04-27 13:07:08,690] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;Access-Control-Allow-Headers: Authorization, Content-Type[\\r][\\n]&quot;\n[2023-04-27 13:07:08,691] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;Date: Thu, 27 Apr 2023 10:07:08 GMT[\\r][\\n]&quot;\n[2023-04-27 13:07:08,691] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;Transfer-Encoding: chunked[\\r][\\n]&quot;\n[2023-04-27 13:07:08,691] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\n[2023-04-27 13:07:08,691] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;[\\r][\\n]&quot;\n[2023-04-27 13:07:08,691] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;0[\\r][\\n]&quot;\n[2023-04-27 13:07:08,691] DEBUG {wire} - http-outgoing-0 &lt;&lt; &quot;[\\r][\\n]&quot;\n[2023-04-27 13:07:08,694] DEBUG {headers} - http-outgoing-0 &lt;&lt; HTTP/1.1 401 Unauthorized\n[2023-04-27 13:07:08,694] DEBUG {headers} - http-outgoing-0 &lt;&lt; Access-Control-Allow-Origin: *\n[2023-04-27 13:07:08,694] DEBUG {headers} - http-outgoing-0 &lt;&lt; Access-Control-Allow-Methods: GET, POST, PUT, DELETE,OPTIONS, PATCH\n[2023-04-27 13:07:08,694] DEBUG {headers} - http-outgoing-0 &lt;&lt; Access-Control-Allow-Headers: Authorization, Content-Type\n[2023-04-27 13:07:08,695] DEBUG {headers} - http-outgoing-0 &lt;&lt; Date: Thu, 27 Apr 2023 10:07:08 GMT\n[2023-04-27 13:07:08,695] DEBUG {headers} - http-outgoing-0 &lt;&lt; Transfer-Encoding: chunked\n[2023-04-27 13:07:08,695] DEBUG {headers} - http-outgoing-0 &lt;&lt; Connection: Keep-Alive\n[2023-04-27 13:07:08,700] DEBUG {MainClientExec} - Connection can be kept alive indefinitely\n[2023-04-27 13:07:08,700] DEBUG {HttpAuthenticator} - Authentication required\n[2023-04-27 13:07:08,700] DEBUG {HttpAuthenticator} - ****:9164 requested authentication\n[2023-04-27 13:07:08,700] DEBUG {HttpAuthenticator} - Response contains no authentication challenges\n[2023-04-27 13:07:08,706] DEBUG {DashboardServerExceptionMapper} - Error: org.wso2.ei.dashboard.core.exception.ManagementApiException: Unauthorized\n        at org.wso2.ei.dashboard.core.commons.utils.ManagementApiUtils.getToken(ManagementApiUtils.java:65)\n        at org.wso2.ei.dashboard.core.commons.utils.ManagementApiUtils.getAccessToken(ManagementApiUtils.java:50)\n        at org.wso2.ei.dashboard.core.rest.delegates.heartbeat.HeartBeatDelegate.registerNode(HeartBeatDelegate.java:99)\n        at org.wso2.ei.dashboard.core.rest.delegates.heartbeat.HeartBeatDelegate.processHeartbeat(HeartBeatDelegate.java:69)\n        at org.wso2.ei.dashboard.core.rest.api.HeartbeatApi.receiveNodeHeartbeat(HeartbeatApi.java:54)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:243)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)\n        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:316)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:298)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:268)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)\n        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)\n        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)\n        at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)\n        at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)\n        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)\n        at org.eclipse.jetty.servlet.ServletHolder$NotAsync.service(ServletHolder.java:1450)\n        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\n        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\n        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\n        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\n        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\n        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)\n        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n        at org.eclipse.jetty.server.Server.handle(Server.java:516)\n        at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\n        at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\n        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n        at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:555)\n        at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:410)\n        at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:164)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:137)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Also below are open ports on the server</p>\n<pre><code>1. Micro Integrator:\n\ntcp        0      0 0.0.0.0:8253            0.0.0.0:*               LISTEN      0          17659646   1496906/java\ntcp        0      0 0.0.0.0:8290            0.0.0.0:*               LISTEN      0          17659641   1496906/java\ntcp        0      0 0.0.0.0:46275           0.0.0.0:*               LISTEN      0          17659553   1496906/java\ntcp        0      0 0.0.0.0:9201            0.0.0.0:*               LISTEN      0          17659652   1496906/java\ntcp        0      0 0.0.0.0:9164            0.0.0.0:*               LISTEN      0          17659657   1496906/java\n\n2. Dashboard:\n\ntcp6       0      0 :::9743                 :::*                    LISTEN      1005       16955092   1446707/java\n</code></pre>\n<p>Firewall is off, there are no rules in iptables. Permissions also need to be, because this is the default admin user</p>\n"},{"tags":["java","batch-file","javafx","cmd","java-11"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":5,"creation_date":1682594888,"post_id":76119274,"comment_id":134242275,"body_markdown":"The best way to avoid this problem is to refrain from using a batch file entirely for this.  Use [Files.walkFileTree](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#walkFileTree(java.nio.file.Path,java.nio.file.FileVisitor)) and [Files.copy](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#copy(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)) (and Files.createDirectories) instead.","body":"The best way to avoid this problem is to refrain from using a batch file entirely for this.  Use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#walkFileTree(java.nio.file.Path,java.nio.file.FileVisitor)\" rel=\"nofollow noreferrer\">Files.walkFileTree</a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#copy(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)\" rel=\"nofollow noreferrer\">Files.copy</a> (and Files.createDirectories) instead."}],"owner":{"account_id":9196838,"reputation":39,"user_id":6835302,"display_name":"Zakaria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682590807,"creation_date":1682590807,"question_id":76119274,"body_markdown":"i have the following code that execute a batch file located inside my javafx project,\r\n\r\n    public class AppController {\r\n\r\n\t@FXML\r\n\tprivate void handleExecuteBatchFile(ActionEvent event) {\r\n\t\tSystem.out.println(&quot;enter&quot;);\r\n\t\ttry {\r\n\t\t\tFile file;\r\n\t\t\tfile = new File(getClass().getResource(&quot;/batch/install.bat&quot;).getPath().substring(1));\r\n\t\t\tString[] command = { &quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;, &quot;/C&quot;, &quot;start&quot;, &quot;&quot;, &quot;/b&quot;, file.getName() };\r\n\t\t\tSystem.out.println(&quot;file.getName(): &quot;+file.getName());\r\n\t\t\tSystem.out.println(&quot;file.getParentFile(): &quot; + file.getParentFile());\r\n\t\t\tRuntime rt = Runtime.getRuntime();\r\n\t\t\tProcess pr = rt.exec(command, null, file.getParentFile());\r\n\t\t\tSystem.out.println(&quot;exit&quot;);\r\n\r\n\r\n\t\t} catch (IOException ex) {\r\n\t\t\tSystem.out.println(&quot;interupted IOException&quot; + ex.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nmy batch file install.bat is the following:\r\n\r\n    @echo off\r\n    echo Welcome to batch scripting!\r\n    set xa=\\\\192.168.4.20\\xfcompt\\DA\r\n    set xal=C:\\xfcompt\\DA\\\r\n    xcopy /s %xa%  %xal%\r\n    exit\r\nI use \\b parameter in the start command to execute the command in a hidden way,\r\n\r\nthe weird thing is that the copy doesn&#39;t complete until i close the application then it continue the copy process.\r\n\r\nbut the copy is successful when i use \\min parameter which minimize the command Prompt window.\r\n\r\nHow can i use \\b parameter i dont want to show the command prompt window?\r\n","title":"Execute a batch file inside javafx project without showing command prompt window","body":"<p>i have the following code that execute a batch file located inside my javafx project,</p>\n<pre><code>public class AppController {\n\n@FXML\nprivate void handleExecuteBatchFile(ActionEvent event) {\n    System.out.println(&quot;enter&quot;);\n    try {\n        File file;\n        file = new File(getClass().getResource(&quot;/batch/install.bat&quot;).getPath().substring(1));\n        String[] command = { &quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;, &quot;/C&quot;, &quot;start&quot;, &quot;&quot;, &quot;/b&quot;, file.getName() };\n        System.out.println(&quot;file.getName(): &quot;+file.getName());\n        System.out.println(&quot;file.getParentFile(): &quot; + file.getParentFile());\n        Runtime rt = Runtime.getRuntime();\n        Process pr = rt.exec(command, null, file.getParentFile());\n        System.out.println(&quot;exit&quot;);\n\n\n    } catch (IOException ex) {\n        System.out.println(&quot;interupted IOException&quot; + ex.getMessage());\n    }\n}\n</code></pre>\n<p>}</p>\n<p>my batch file install.bat is the following:</p>\n<pre><code>@echo off\necho Welcome to batch scripting!\nset xa=\\\\192.168.4.20\\xfcompt\\DA\nset xal=C:\\xfcompt\\DA\\\nxcopy /s %xa%  %xal%\nexit\n</code></pre>\n<p>I use \\b parameter in the start command to execute the command in a hidden way,</p>\n<p>the weird thing is that the copy doesn't complete until i close the application then it continue the copy process.</p>\n<p>but the copy is successful when i use \\min parameter which minimize the command Prompt window.</p>\n<p>How can i use \\b parameter i dont want to show the command prompt window?</p>\n"},{"tags":["java","virtual-machine","interpreter","ijvm"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1682522468,"post_id":76111162,"comment_id":134230239,"body_markdown":"What exactly do you mean by &quot;not working&quot;? What happens when you run your code, and what did you expect to happen instead? Any errors? See also [ask].","body":"What exactly do you mean by &quot;not working&quot;? What happens when you run your code, and what did you expect to happen instead? Any errors? See also <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":28423233,"reputation":1,"user_id":21744999,"display_name":"Jinsel"},"score":0,"creation_date":1682590495,"post_id":76111162,"comment_id":134241314,"body_markdown":"When I run the code I get &quot;Result: fac(5)=0&quot;. But I would like to have &quot;Result: fac(5)=120&quot;.","body":"When I run the code I get &quot;Result: fac(5)=0&quot;. But I would like to have &quot;Result: fac(5)=120&quot;."}],"owner":{"account_id":28423233,"reputation":1,"user_id":21744999,"display_name":"Jinsel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682590664,"creation_date":1682514722,"question_id":76111162,"body_markdown":"I have the following problem for which I cannot find a solution:\r\n\r\nCalculate the factorial n! of a given number n ∈ N. To do this, extend the file fak.jvm by implementing the method fak (without adding further method calls). method calls). You may use local variables (but it also works without). The result should be output at the end in the following form, here exemplary for n = 5:\r\n\r\nResult: fak(5) = 120\r\nTo do this, implement the following function in IJVM:\r\n\r\n\r\n```\r\nint fak (int a) {\r\n   int result = 1;\r\n   while ( a &gt; 1) {\r\n      result ∗= a;\r\n      a−−;\r\n   }\r\n   return result;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI have tried this, but it&#39;s not working:\r\n\r\n\r\n```\r\n; main-Methode\r\n BIPUSH 0\r\n BIPUSH 5                               // n\r\n INVOKEVIRTUAL fac\r\n \r\n ; print\r\n SPRINT &quot;Result: fac(&quot;\r\n BIPUSH 5                               // n\r\n IPRINT\r\n SPRINT &quot;) = &quot;\r\n IPRINT\r\n SPRINT &quot;\\n&quot;\r\n HALT\r\n\r\n\r\nfac 2 1\r\n ILOAD 1\r\n BIPUSH 1\r\n IF_ICMPEQ end_loop\r\n \r\n BIPUSH 0\r\n ILOAD 1\r\n ILOAD 1\r\n BIPUSH 1\r\n ISUB\r\n INVOKEVIRTUAL fac\r\n IMUL\r\n IRETURN\r\nend_loop:\r\n BIPUSH 1\r\n IRETURN\r\n```\r\nWhen I run the code I get &quot;Result: fac(5)=0&quot;. But I would like to have &quot;Result: fac(5)=120&quot;. Does anyone know what I did wrong?","title":"How can I create a IJVM-Code to calculate the factorial of 5?","body":"<p>I have the following problem for which I cannot find a solution:</p>\n<p>Calculate the factorial n! of a given number n ∈ N. To do this, extend the file fak.jvm by implementing the method fak (without adding further method calls). method calls). You may use local variables (but it also works without). The result should be output at the end in the following form, here exemplary for n = 5:</p>\n<p>Result: fak(5) = 120\nTo do this, implement the following function in IJVM:</p>\n<pre><code>int fak (int a) {\n   int result = 1;\n   while ( a &gt; 1) {\n      result ∗= a;\n      a−−;\n   }\n   return result;\n}\n</code></pre>\n<p>I have tried this, but it's not working:</p>\n<pre><code>; main-Methode\n BIPUSH 0\n BIPUSH 5                               // n\n INVOKEVIRTUAL fac\n \n ; print\n SPRINT &quot;Result: fac(&quot;\n BIPUSH 5                               // n\n IPRINT\n SPRINT &quot;) = &quot;\n IPRINT\n SPRINT &quot;\\n&quot;\n HALT\n\n\nfac 2 1\n ILOAD 1\n BIPUSH 1\n IF_ICMPEQ end_loop\n \n BIPUSH 0\n ILOAD 1\n ILOAD 1\n BIPUSH 1\n ISUB\n INVOKEVIRTUAL fac\n IMUL\n IRETURN\nend_loop:\n BIPUSH 1\n IRETURN\n</code></pre>\n<p>When I run the code I get &quot;Result: fac(5)=0&quot;. But I would like to have &quot;Result: fac(5)=120&quot;. Does anyone know what I did wrong?</p>\n"},{"tags":["java","selenium-webdriver","testng"],"answers":[{"comments":[{"owner":{"account_id":80050,"reputation":2329,"user_id":226606,"accept_rate":43,"display_name":"EdC"},"score":2,"creation_date":1353312908,"post_id":13449860,"comment_id":18391547,"body_markdown":"I don&#39;t think that will work, having navigated away won&#39;t you get a stale object exception? I think you have to look up all the links each time, take an object and ignore the rest.","body":"I don&#39;t think that will work, having navigated away won&#39;t you get a stale object exception? I think you have to look up all the links each time, take an object and ignore the rest."}],"tags":[],"owner":{"account_id":1917374,"reputation":801,"user_id":1729689,"accept_rate":25,"display_name":"Anand Somani"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353312754,"creation_date":1353312754,"answer_id":13449860,"question_id":13448091,"body_markdown":"\t\tWebDriver _driver = new InternetExplorerDriver();\r\n\t\t_driver.navigate().to(&quot;http://www.google.co.in/&quot;);\r\n\t\tList &lt;WebElement&gt; alllinks = _driver.findElements(By.tagName(&quot;a&quot;));\r\n\t\t\r\n\t\tfor(int i=0;i&lt;alllinks.size();i++)\r\n\t\t\tSystem.out.println(alllinks.get(i).getText());\r\n\t\t\r\n\t\tfor(int i=0;i&lt;alllinks.size();i++){\r\n\t\t\talllinks.get(i).click();\r\n\t\t\t_driver.navigate().back();\r\n\t\t}","title":"How to fetch all links and click those links one by one using Selenium WebDriver","body":"<pre><code>    WebDriver _driver = new InternetExplorerDriver();\n    _driver.navigate().to(\"http://www.google.co.in/\");\n    List &lt;WebElement&gt; alllinks = _driver.findElements(By.tagName(\"a\"));\n\n    for(int i=0;i&lt;alllinks.size();i++)\n        System.out.println(alllinks.get(i).getText());\n\n    for(int i=0;i&lt;alllinks.size();i++){\n        alllinks.get(i).click();\n        _driver.navigate().back();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2050037,"reputation":203,"user_id":1829240,"accept_rate":50,"display_name":"Shammi"},"score":0,"creation_date":1353390478,"post_id":13453351,"comment_id":18421746,"body_markdown":"can pls give me one sample example of above scenario. It will really appreciable. thanks.","body":"can pls give me one sample example of above scenario. It will really appreciable. thanks."},{"owner":{"account_id":2050037,"reputation":203,"user_id":1829240,"accept_rate":50,"display_name":"Shammi"},"score":0,"creation_date":1353920822,"post_id":13453351,"comment_id":18579192,"body_markdown":"@loan I am still struggling, didn&#39;t get through. May be because I&#39;m new to selenium driver. loop is running 4 times after that it sending following error  &lt;blockquote&gt;&#39;error org.openqa.selenium.ElementNotVisibleException: Element is not currently visible and so may not be interacted with\nCommand duration or timeout: 30.05 seconds\nBuild info: version: &#39;2.25.0&#39;, revision: &#39;17482&#39;, time: &#39;2012-07-18 21:09:54&#39;\nSystem info: os.name: &#39;Windows 7&#39;, os.arch: &#39;x86&#39;, os.version: &#39;6 &gt;","body":"@loan I am still struggling, didn&#39;t get through. May be because I&#39;m new to selenium driver. loop is running 4 times after that it sending following error  &lt;blockquote&gt;&#39;error org.openqa.selenium.ElementNotVisibleException: Element is not currently visible and so may not be interacted with Command duration or timeout: 30.05 seconds Build info: version: &#39;2.25.0&#39;, revision: &#39;17482&#39;, time: &#39;2012-07-18 21:09:54&#39; System info: os.name: &#39;Windows 7&#39;, os.arch: &#39;x86&#39;, os.version: &#39;6 &gt;"},{"owner":{"account_id":1483766,"reputation":5172,"user_id":1392463,"accept_rate":100,"display_name":"Ioan"},"score":0,"creation_date":1353923061,"post_id":13453351,"comment_id":18580117,"body_markdown":"Well this is a different problem than StaleElementReferenceException. It means that you are trying to access an element which is not visibile, and most probably which is made visibile by another element. So first you have to identify which is this element, and then to make sure that it is visibile before to perform any actions on it. Or if is not mandatory, you can use .isDisplayed() method, to check if this element is proper, and then continue.","body":"Well this is a different problem than StaleElementReferenceException. It means that you are trying to access an element which is not visibile, and most probably which is made visibile by another element. So first you have to identify which is this element, and then to make sure that it is visibile before to perform any actions on it. Or if is not mandatory, you can use .isDisplayed() method, to check if this element is proper, and then continue."},{"owner":{"account_id":415313,"reputation":1204,"user_id":790049,"accept_rate":89,"display_name":"user790049"},"score":0,"creation_date":1464037458,"post_id":13453351,"comment_id":62309608,"body_markdown":"Perfect Loan, I added driver.navigate().back()","body":"Perfect Loan, I added driver.navigate().back()"}],"tags":[],"owner":{"account_id":1483766,"reputation":5172,"user_id":1392463,"accept_rate":100,"display_name":"Ioan"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1353400518,"creation_date":1353326367,"answer_id":13453351,"question_id":13448091,"body_markdown":"There is no such a good idea to have following scenario : \r\n\r\n    for (WebElement element : webDriver.findElements(locator.getBy())){\r\n      element.click();\r\n    }\r\n\r\nWhy? Because there is no guarantee that the `element.click();` will have no effect on other found elements, so the `DOM` may be changed, so hence the `StaleElementReferenceException`.\r\n\r\nIt is better to use the following scenario : \r\n\r\n    int numberOfElementsFound = getNumberOfElementsFound(locator);\r\n    for (int pos = 0; pos &lt; numberOfElementsFound; pos++) {\r\n      getElementWithIndex(locator, pos).click();\r\n    }\r\n\r\nThis is better because you will always take the `WebElement` refreshed, even the previous click had some effects on it. \r\n\r\nEDIT : Example added \r\n\r\n      public int getNumberOfElementsFound(By by) {\r\n        return webDriver.findElements(by).size();\r\n      }\r\n\r\n      public WebElement getElementWithIndex(By by, int pos) {\r\n        return webDriver.findElements(by).get(pos);\r\n      }\r\n\r\nHope to be enough.","title":"How to fetch all links and click those links one by one using Selenium WebDriver","body":"<p>There is no such a good idea to have following scenario : </p>\n\n<pre><code>for (WebElement element : webDriver.findElements(locator.getBy())){\n  element.click();\n}\n</code></pre>\n\n<p>Why? Because there is no guarantee that the <code>element.click();</code> will have no effect on other found elements, so the <code>DOM</code> may be changed, so hence the <code>StaleElementReferenceException</code>.</p>\n\n<p>It is better to use the following scenario : </p>\n\n<pre><code>int numberOfElementsFound = getNumberOfElementsFound(locator);\nfor (int pos = 0; pos &lt; numberOfElementsFound; pos++) {\n  getElementWithIndex(locator, pos).click();\n}\n</code></pre>\n\n<p>This is better because you will always take the <code>WebElement</code> refreshed, even the previous click had some effects on it. </p>\n\n<p>EDIT : Example added </p>\n\n<pre><code>  public int getNumberOfElementsFound(By by) {\n    return webDriver.findElements(by).size();\n  }\n\n  public WebElement getElementWithIndex(By by, int pos) {\n    return webDriver.findElements(by).get(pos);\n  }\n</code></pre>\n\n<p>Hope to be enough.</p>\n"},{"tags":[],"owner":{"account_id":4272729,"reputation":11,"user_id":3494184,"display_name":"PAdamB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396539731,"creation_date":1396539731,"answer_id":22842584,"question_id":13448091,"body_markdown":"If you&#39;re OK using `WebDriver.get()` instead of `WebElement.click()` to test the links, an alternate approach is to save the `href` value of each found `WebElement` in a separate list. This way you avoid the `StaleElementReferenceException` because you&#39;re not trying to reuse subsequent `WebElement`s after navigating away with the first `WebElement.click()`.\r\n\r\nBasic example:\r\n\r\n    List&lt;String&gt; hrefs = new ArrayList&lt;String&gt;();\r\n    List&lt;WebElement&gt; anchors = driver.findElements(By.tagName(&quot;a&quot;));\r\n    for ( WebElement anchor : anchors ) {\r\n        hrefs.add(anchor.getAttribute(&quot;href&quot;));\r\n    }\r\n    for ( String href : hrefs ) {\r\n        driver.get(href);\t\t\t\r\n    }","title":"How to fetch all links and click those links one by one using Selenium WebDriver","body":"<p>If you're OK using <code>WebDriver.get()</code> instead of <code>WebElement.click()</code> to test the links, an alternate approach is to save the <code>href</code> value of each found <code>WebElement</code> in a separate list. This way you avoid the <code>StaleElementReferenceException</code> because you're not trying to reuse subsequent <code>WebElement</code>s after navigating away with the first <code>WebElement.click()</code>.</p>\n\n<p>Basic example:</p>\n\n<pre><code>List&lt;String&gt; hrefs = new ArrayList&lt;String&gt;();\nList&lt;WebElement&gt; anchors = driver.findElements(By.tagName(\"a\"));\nfor ( WebElement anchor : anchors ) {\n    hrefs.add(anchor.getAttribute(\"href\"));\n}\nfor ( String href : hrefs ) {\n    driver.get(href);           \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":415313,"reputation":1204,"user_id":790049,"accept_rate":89,"display_name":"user790049"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464037926,"creation_date":1464037926,"answer_id":37400653,"question_id":13448091,"body_markdown":"Credit goes to &quot;loan&quot;.\r\n\r\nI am also getting &quot;stale exception&quot; so I used &#39;loan&#39; answer and works perfectly. Just if anyone need to know how to click on each link from results page try this (java)\r\n\r\n\r\n`clickAllHyperLinksByTagName(&quot;h3&quot;);` where &quot;h3&quot; tag contains hyperlink\r\n\r\n\r\n\r\n     public static void clickAllHyperLinksByTagName(String tagName){\r\n        int numberOfElementsFound = getNumberOfElementsFound(By.tagName(tagName));\r\n        System.out.println(numberOfElementsFound);\r\n        for (int pos = 0; pos &lt; numberOfElementsFound; pos++) {\r\n            getElementWithIndex(By.tagName(tagName), pos).click();\r\n            driver.navigate().back();\r\n        }\r\n    }\r\n\r\n    public static int getNumberOfElementsFound(By by) {\r\n        return driver.findElements(by).size();\r\n    }\r\n\r\n    public static WebElement getElementWithIndex(By by, int pos) {\r\n        return driver.findElements(by).get(pos);\r\n    }\r\n","title":"How to fetch all links and click those links one by one using Selenium WebDriver","body":"<p>Credit goes to \"loan\".</p>\n\n<p>I am also getting \"stale exception\" so I used 'loan' answer and works perfectly. Just if anyone need to know how to click on each link from results page try this (java)</p>\n\n<p><code>clickAllHyperLinksByTagName(\"h3\");</code> where \"h3\" tag contains hyperlink</p>\n\n<pre><code> public static void clickAllHyperLinksByTagName(String tagName){\n    int numberOfElementsFound = getNumberOfElementsFound(By.tagName(tagName));\n    System.out.println(numberOfElementsFound);\n    for (int pos = 0; pos &lt; numberOfElementsFound; pos++) {\n        getElementWithIndex(By.tagName(tagName), pos).click();\n        driver.navigate().back();\n    }\n}\n\npublic static int getNumberOfElementsFound(By by) {\n    return driver.findElements(by).size();\n}\n\npublic static WebElement getElementWithIndex(By by, int pos) {\n    return driver.findElements(by).get(pos);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7680129,"reputation":1367,"user_id":5820716,"display_name":"anuja jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477462751,"creation_date":1477462751,"answer_id":40255040,"question_id":13448091,"body_markdown":"    //extract the link texts of each link element\r\n            for (WebElement elements : linkElements) {\r\n                linkTexts[i] = elements.getText();\r\n                i++;\r\n            }\r\n    \r\n            //test each link\r\n            for (String t : linkTexts) {\r\n                driver.findElement(By.linkText(t)).click();\r\n                if (driver.getTitle().equals(notWorkingUrlTitle )) {\r\n                    System.out.println(&quot;\\&quot;&quot; + t + &quot;\\&quot;&quot;\r\n                            + &quot; is not working.&quot;);\r\n                } else {\r\n                    System.out.println(&quot;\\&quot;&quot; + t + &quot;\\&quot;&quot;\r\n                            + &quot; is working.&quot;);\r\n                }\r\n                driver.navigate().back();\r\n            }\r\n            driver.quit();\r\n        }\r\n\r\n\r\nFor complete Explanation Read This [POST][1]\r\n\r\n\r\n  [1]: http://www.qaautomated.com/2016/10/selenium-test-to-check-links-in-web.html","title":"How to fetch all links and click those links one by one using Selenium WebDriver","body":"<pre><code>//extract the link texts of each link element\n        for (WebElement elements : linkElements) {\n            linkTexts[i] = elements.getText();\n            i++;\n        }\n\n        //test each link\n        for (String t : linkTexts) {\n            driver.findElement(By.linkText(t)).click();\n            if (driver.getTitle().equals(notWorkingUrlTitle )) {\n                System.out.println(\"\\\"\" + t + \"\\\"\"\n                        + \" is not working.\");\n            } else {\n                System.out.println(\"\\\"\" + t + \"\\\"\"\n                        + \" is working.\");\n            }\n            driver.navigate().back();\n        }\n        driver.quit();\n    }\n</code></pre>\n\n<p>For complete Explanation Read This <a href=\"http://www.qaautomated.com/2016/10/selenium-test-to-check-links-in-web.html\" rel=\"nofollow\">POST</a></p>\n"},{"tags":[],"owner":{"account_id":10622662,"reputation":1,"user_id":7823274,"display_name":"Anjuman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491429870,"creation_date":1491429473,"answer_id":43242347,"question_id":13448091,"body_markdown":"    List &lt;WebElement&gt; links = driver.findElements(By.tagName(&quot;a&quot;));\t\t            \r\n    int linkCount=links.size();\r\n\t\t            \r\n    System.out.println(&quot;Total number of page on the webpage:&quot;+ linkCount);\r\n    String[] texts=new String[linkCount];\r\n    int t=0;\r\n\tfor (WebElement text:links){\r\n      texts[t]=text.getText();//extract text from link and put in Array\r\n\t  //System.out.println(texts[t]);\r\n\t  t++;\r\n\t}\r\n\tfor (String clicks:texts) {\r\n\t\t            \t\r\n      driver.findElement(By.linkText(clicks)).click();\r\n      if (driver.getTitle().equals(&quot;notWorkingUrlTitle&quot; )) {\r\n\t    System.out.println(&quot;\\&quot;&quot; + t + &quot;\\&quot;&quot;\r\n        + &quot; is not working.&quot;);\r\n      } else {\r\n\t    System.out.println(&quot;\\&quot;&quot; + t + &quot;\\&quot;&quot;\r\n\t                       + &quot; is working.&quot;);\r\n      }\r\n\t\t                \r\n      driver.navigate().back();\r\n\t}\r\n\t\t            \r\n\tdriver.quit();","title":"How to fetch all links and click those links one by one using Selenium WebDriver","body":"<pre><code>List &lt;WebElement&gt; links = driver.findElements(By.tagName(\"a\"));                 \nint linkCount=links.size();\n\nSystem.out.println(\"Total number of page on the webpage:\"+ linkCount);\nString[] texts=new String[linkCount];\nint t=0;\nfor (WebElement text:links){\n  texts[t]=text.getText();//extract text from link and put in Array\n  //System.out.println(texts[t]);\n  t++;\n}\nfor (String clicks:texts) {\n\n  driver.findElement(By.linkText(clicks)).click();\n  if (driver.getTitle().equals(\"notWorkingUrlTitle\" )) {\n    System.out.println(\"\\\"\" + t + \"\\\"\"\n    + \" is not working.\");\n  } else {\n    System.out.println(\"\\\"\" + t + \"\\\"\"\n                       + \" is working.\");\n  }\n\n  driver.navigate().back();\n}\n\ndriver.quit();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":176013,"reputation":1401,"user_id":406423,"display_name":"MadMike"},"score":1,"creation_date":1681901801,"post_id":76031466,"comment_id":134130752,"body_markdown":"Downvoting. Your answer is missing important parts.","body":"Downvoting. Your answer is missing important parts."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1681997207,"post_id":76031466,"comment_id":134148843,"body_markdown":"please edit the answer to include clarifications (vs. doing so in a comment)","body":"please edit the answer to include clarifications (vs. doing so in a comment)"}],"tags":[],"owner":{"account_id":28295298,"reputation":31,"user_id":21634844,"display_name":"AbhilashGowda"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1682590614,"creation_date":1681700869,"answer_id":76031466,"question_id":13448091,"body_markdown":" @Then(&quot;^I will fetch the URL$&quot;)\r\n    public void i_will_fetch_the_url() throws Throwable {\r\n    \r\n\t\r\n\t\tList&lt;WebElement&gt; jobLinks =driver.findElements(By.tagName(&quot;loc&quot;));\r\n\t\t\r\n\t\tList&lt;String&gt; texts = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\tfor (WebElement element : jobLinks) {\r\n\t\t    texts.add(element.getText());\r\n\t\t}\r\n\t\r\n\t\tfor(String text:texts) {\r\n\r\n\t\tSystem.out.println(text);\r\n\t\t    Base.driver.get(text);\r\n\t\t\t\r\n\t\t}","title":"How to fetch all links and click those links one by one using Selenium WebDriver","body":"<p>@Then(&quot;^I will fetch the URL$&quot;)\npublic void i_will_fetch_the_url() throws Throwable {</p>\n<pre><code>    List&lt;WebElement&gt; jobLinks =driver.findElements(By.tagName(&quot;loc&quot;));\n    \n    List&lt;String&gt; texts = new ArrayList&lt;String&gt;();\n    \n    for (WebElement element : jobLinks) {\n        texts.add(element.getText());\n    }\n\n    for(String text:texts) {\n\n    System.out.println(text);\n        Base.driver.get(text);\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":2050037,"reputation":203,"user_id":1829240,"accept_rate":50,"display_name":"Shammi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83533,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":13453351,"answer_count":7,"score":5,"last_activity_date":1682590614,"creation_date":1353302408,"question_id":13448091,"body_markdown":"I am using Selenium WebDriver with java.\r\n\r\nI am fetching all links from webpage and trying to click each link one by one. I am getting below  error:\r\n\r\n&gt; error org.openqa.selenium.StaleElementReferenceException: Element not found in the cache - perhaps the page has changed since it was looked up\r\n&gt; Command duration or timeout: 30.01 seconds\r\n&gt; For documentation on this error, please visit: http://seleniumhq.org/exceptions/stale_element_reference.html\r\n&gt; Build info: version: &#39;2.25.0&#39;, revision: &#39;17482&#39;, time: &#39;2012-07-18 21:09:54&#39;\r\n\r\nand here is my code :\r\n\r\n    public void getLinks()throws Exception{\r\n\t\ttry {\r\n\t\t\tList&lt;WebElement&gt; links = driver.findElements(By.tagName(&quot;a&quot;));\r\n\t\t\tint linkcount = links.size(); \r\n\t\t\t System.out.println(links.size()); \r\n\t\t\t  for (WebElement myElement : links){\r\n\t\t\t String link = myElement.getText(); \r\n\t\t\t System.out.println(link);\r\n\t\t\t System.out.println(myElement);   \r\n\t\t\tif (link !=&quot;&quot;){\r\n\t\t\t\t myElement.click();\r\n\t\t\t\t Thread.sleep(2000);\r\n\t\t\t\t System.out.println(&quot;third&quot;);\r\n\t\t\t\t}\r\n\t\t\t \t//Thread.sleep(5000);\r\n\t\t\t  }\t\r\n\t\t\t}catch (Exception e){\r\n\t\t\t\tSystem.out.println(&quot;error &quot;+e);\r\n\t\t\t}\r\n\t\t}\r\n\r\nactually,  it&#39;s displaying in output \r\n\r\n&gt; [[FirefoxDriver: firefox on XP (ce0da229-f77b-4fb8-b017-df517845fa78)] -&gt; tag name: a] \r\n\r\nas link, I want to eliminate these form result.","title":"How to fetch all links and click those links one by one using Selenium WebDriver","body":"<p>I am using Selenium WebDriver with java.</p>\n\n<p>I am fetching all links from webpage and trying to click each link one by one. I am getting below  error:</p>\n\n<blockquote>\n  <p>error org.openqa.selenium.StaleElementReferenceException: Element not found in the cache - perhaps the page has changed since it was looked up\n  Command duration or timeout: 30.01 seconds\n  For documentation on this error, please visit: <a href=\"http://seleniumhq.org/exceptions/stale_element_reference.html\" rel=\"nofollow noreferrer\">http://seleniumhq.org/exceptions/stale_element_reference.html</a>\n  Build info: version: '2.25.0', revision: '17482', time: '2012-07-18 21:09:54'</p>\n</blockquote>\n\n<p>and here is my code :</p>\n\n<pre><code>public void getLinks()throws Exception{\n    try {\n        List&lt;WebElement&gt; links = driver.findElements(By.tagName(\"a\"));\n        int linkcount = links.size(); \n         System.out.println(links.size()); \n          for (WebElement myElement : links){\n         String link = myElement.getText(); \n         System.out.println(link);\n         System.out.println(myElement);   \n        if (link !=\"\"){\n             myElement.click();\n             Thread.sleep(2000);\n             System.out.println(\"third\");\n            }\n            //Thread.sleep(5000);\n          } \n        }catch (Exception e){\n            System.out.println(\"error \"+e);\n        }\n    }\n</code></pre>\n\n<p>actually,  it's displaying in output </p>\n\n<blockquote>\n  <p>[[FirefoxDriver: firefox on XP (ce0da229-f77b-4fb8-b017-df517845fa78)] -> tag name: a] </p>\n</blockquote>\n\n<p>as link, I want to eliminate these form result.</p>\n"},{"tags":["java","spring","java-8","wsdl","wsdl2java"],"owner":{"display_name":"user21623337"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682590532,"creation_date":1682590532,"question_id":76119244,"body_markdown":"I have this issue:\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;biller_customer_authentication&#39; defined in class path resource [app/bbiller/billerblue/Config/BillerWebConfig.class]: Failed to instantiate [org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition]: Factory method &#39;billerCustomerAuthentication&#39; threw exception with message: Error creating bean with name &#39;billerCustomerAuthenticationSchema&#39; defined in class path resource [app/bbiller/billerblue/Config/BillerWebConfig.class]: xsd &#39;class path resource [biller.xsd]&#39; does not exist\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat app.bbiller.billerblue.BillerBlueApplication.main(BillerBlueApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.6.jar:3.0.6]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition]: Factory method &#39;billerCustomerAuthentication&#39; threw exception with message: Error creating bean with name &#39;billerCustomerAuthenticationSchema&#39; defined in class path resource [app/bbiller/billerblue/Config/BillerWebConfig.class]: xsd &#39;class path resource [biller.xsd]&#39; does not exist\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\t... 22 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;billerCustomerAuthenticationSchema&#39; defined in class path resource [app/bbiller/billerblue/Config/BillerWebConfig.class]: xsd &#39;class path resource [biller.xsd]&#39; does not exist\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat app.bbiller.billerblue.Config.BillerWebConfig$$SpringCGLIB$$0.billerCustomerAuthenticationSchema(&lt;generated&gt;) ~[classes/:na]\r\n\tat app.bbiller.billerblue.Config.BillerWebConfig.billerCustomerAuthentication(BillerWebConfig.java:24) ~[classes/:na]\r\n\tat app.bbiller.billerblue.Config.BillerWebConfig$$SpringCGLIB$$0.CGLIB$billerCustomerAuthentication$0(&lt;generated&gt;) ~[classes/:na]\r\n\tat app.bbiller.billerblue.Config.BillerWebConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat app.bbiller.billerblue.Config.BillerWebConfig$$SpringCGLIB$$0.billerCustomerAuthentication(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\t... 23 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: xsd &#39;class path resource [biller.xsd]&#39; does not exist\r\n\tat org.springframework.util.Assert.isTrue(Assert.java:122) ~[spring-core-6.0.8.jar:6.0.8]\r\n\tat org.springframework.xml.xsd.SimpleXsdSchema.afterPropertiesSet(SimpleXsdSchema.java:119) ~[spring-xml-4.0.3.jar:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\t... 41 common frames omitted\r\n```\r\n\r\nthis is the configuration:\r\n```\r\n@Configuration\r\npublic class BillerWebConfig {\r\n\r\n    @Autowired\r\n    private BillerCustomerAuthenticationService billerCustomerAuthenticationService;\r\n\r\n    @Bean(name = &quot;biller_customer_authentication&quot;)\r\n    public DefaultWsdl11Definition billerCustomerAuthentication() {\r\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\r\n        wsdl11Definition.setPortTypeName(&quot;BillerCustomerAuthenticationPort&quot;);\r\n        wsdl11Definition.setLocationUri(&quot;/biller_customer_authentication&quot;);\r\n        wsdl11Definition.setTargetNamespace(&quot;http://localhost:8096&quot;);\r\n        wsdl11Definition.setSchema(billerCustomerAuthenticationSchema());\r\n        return wsdl11Definition;\r\n    }\r\n\r\n    @Bean\r\n    public XsdSchema billerCustomerAuthenticationSchema() {\r\n        return new SimpleXsdSchema(new ClassPathResource(&quot;biller.xsd&quot;));\r\n    }\r\n}\r\n```\r\n\r\nI try to create wsdl from xsd with spring I tried all the versions for JDK till I reach the 8 and still not working all versions above 8 not working even with 8 this is the issue \r\n\r\nI was try to create a web service with spring boot project but it&#39;s not working ","title":"Creating web services with wsdl11Definition","body":"<p>I have this issue:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'biller_customer_authentication' defined in class path resource [app/bbiller/billerblue/Config/BillerWebConfig.class]: Failed to instantiate [org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition]: Factory method 'billerCustomerAuthentication' threw exception with message: Error creating bean with name 'billerCustomerAuthenticationSchema' defined in class path resource [app/bbiller/billerblue/Config/BillerWebConfig.class]: xsd 'class path resource [biller.xsd]' does not exist\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\n    at app.bbiller.billerblue.BillerBlueApplication.main(BillerBlueApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.6.jar:3.0.6]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition]: Factory method 'billerCustomerAuthentication' threw exception with message: Error creating bean with name 'billerCustomerAuthenticationSchema' defined in class path resource [app/bbiller/billerblue/Config/BillerWebConfig.class]: xsd 'class path resource [biller.xsd]' does not exist\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.8.jar:6.0.8]\n    ... 22 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'billerCustomerAuthenticationSchema' defined in class path resource [app/bbiller/billerblue/Config/BillerWebConfig.class]: xsd 'class path resource [biller.xsd]' does not exist\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334) ~[spring-context-6.0.8.jar:6.0.8]\n    at app.bbiller.billerblue.Config.BillerWebConfig$$SpringCGLIB$$0.billerCustomerAuthenticationSchema(&lt;generated&gt;) ~[classes/:na]\n    at app.bbiller.billerblue.Config.BillerWebConfig.billerCustomerAuthentication(BillerWebConfig.java:24) ~[classes/:na]\n    at app.bbiller.billerblue.Config.BillerWebConfig$$SpringCGLIB$$0.CGLIB$billerCustomerAuthentication$0(&lt;generated&gt;) ~[classes/:na]\n    at app.bbiller.billerblue.Config.BillerWebConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.8.jar:6.0.8]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.8.jar:6.0.8]\n    at app.bbiller.billerblue.Config.BillerWebConfig$$SpringCGLIB$$0.billerCustomerAuthentication(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.8.jar:6.0.8]\n    ... 23 common frames omitted\nCaused by: java.lang.IllegalArgumentException: xsd 'class path resource [biller.xsd]' does not exist\n    at org.springframework.util.Assert.isTrue(Assert.java:122) ~[spring-core-6.0.8.jar:6.0.8]\n    at org.springframework.xml.xsd.SimpleXsdSchema.afterPropertiesSet(SimpleXsdSchema.java:119) ~[spring-xml-4.0.3.jar:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\n    ... 41 common frames omitted\n</code></pre>\n<p>this is the configuration:</p>\n<pre><code>@Configuration\npublic class BillerWebConfig {\n\n    @Autowired\n    private BillerCustomerAuthenticationService billerCustomerAuthenticationService;\n\n    @Bean(name = &quot;biller_customer_authentication&quot;)\n    public DefaultWsdl11Definition billerCustomerAuthentication() {\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\n        wsdl11Definition.setPortTypeName(&quot;BillerCustomerAuthenticationPort&quot;);\n        wsdl11Definition.setLocationUri(&quot;/biller_customer_authentication&quot;);\n        wsdl11Definition.setTargetNamespace(&quot;http://localhost:8096&quot;);\n        wsdl11Definition.setSchema(billerCustomerAuthenticationSchema());\n        return wsdl11Definition;\n    }\n\n    @Bean\n    public XsdSchema billerCustomerAuthenticationSchema() {\n        return new SimpleXsdSchema(new ClassPathResource(&quot;biller.xsd&quot;));\n    }\n}\n</code></pre>\n<p>I try to create wsdl from xsd with spring I tried all the versions for JDK till I reach the 8 and still not working all versions above 8 not working even with 8 this is the issue</p>\n<p>I was try to create a web service with spring boot project but it's not working</p>\n"},{"tags":["java","jvx"],"answers":[{"comments":[{"owner":{"account_id":28167502,"reputation":90,"user_id":21526498,"display_name":"Robosch"},"score":0,"creation_date":1682590471,"post_id":76119209,"comment_id":134241311,"body_markdown":"The [source code](https://sourceforge.net/p/jvxmobile/code/HEAD/tree/trunk/java/src/com/sibvisions/rad/server/http/rest/transfer/base/command/LaunchCommand.java#l252) of the server-side.","body":"The <a href=\"https://sourceforge.net/p/jvxmobile/code/HEAD/tree/trunk/java/src/com/sibvisions/rad/server/http/rest/transfer/base/command/LaunchCommand.java#l252\" rel=\"nofollow noreferrer\">source code</a> of the server-side."}],"tags":[],"owner":{"account_id":7016963,"reputation":453,"user_id":5377961,"display_name":"rjahn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682590191,"creation_date":1682590191,"answer_id":76119209,"question_id":76111749,"body_markdown":"In servlet environments like [flutter UI][1] or [react UI][2], it&#39;s what the [servlet API][3] defines. The JVx server-side has no specific code and it&#39;s not possible to access the client directly from server-side. \r\n\r\nThe browser or the mobile client communicates via https to a servlet and the servlet reads the remote address from the request. A standard API call.\r\n\r\nIt&#39;s possible that the communication layer or a proxy adds additional information like described in [this question][4]. JVx doesn&#39;t read the X-Forwarded-For property.\r\n\r\nSimply ask your customer about network details. If one host is a proxy or load-balancer, you should know what&#39;s going on.\r\n\r\n\r\n  [1]: https://github.com/sibvisions/flutter_jvx\r\n  [2]: https://github.com/sibvisions/reactUI\r\n  [3]: https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getRemoteAddr()\r\n  [4]: https://stackoverflow.com/questions/34639205/remote-addr-returns-2-ipv4-instead-of-one","title":"Client property &quot;client.remoteaddr&quot; contains multiple addresses","body":"<p>In servlet environments like <a href=\"https://github.com/sibvisions/flutter_jvx\" rel=\"nofollow noreferrer\">flutter UI</a> or <a href=\"https://github.com/sibvisions/reactUI\" rel=\"nofollow noreferrer\">react UI</a>, it's what the <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getRemoteAddr()\" rel=\"nofollow noreferrer\">servlet API</a> defines. The JVx server-side has no specific code and it's not possible to access the client directly from server-side.</p>\n<p>The browser or the mobile client communicates via https to a servlet and the servlet reads the remote address from the request. A standard API call.</p>\n<p>It's possible that the communication layer or a proxy adds additional information like described in <a href=\"https://stackoverflow.com/questions/34639205/remote-addr-returns-2-ipv4-instead-of-one\">this question</a>. JVx doesn't read the X-Forwarded-For property.</p>\n<p>Simply ask your customer about network details. If one host is a proxy or load-balancer, you should know what's going on.</p>\n"}],"owner":{"account_id":28167502,"reputation":90,"user_id":21526498,"display_name":"Robosch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76119209,"answer_count":1,"score":0,"last_activity_date":1682590191,"creation_date":1682518011,"question_id":76111749,"body_markdown":"I have a JVx application with [react UI][1] and use following code on server-side:\r\n\r\n    SessionContext.getCurrentSession().getProperty(\r\n              IConnectionConstants.PREFIX_CLIENT + IRequest.PROP_REMOTE_ADDRESS)\r\n\r\nThe result is one IP address e.g. 10.0.0.1 in my office network and also at home. The same command returns multiple addresses in my customers environment, e.g. 11.0.0.1, 12.0.0.3\r\n\r\nWhat&#39;s the difference and why are there more than one IP addresses in my customers network? Which IP is the remote right host IP?\r\n\r\n\r\n  [1]: https://github.com/sibvisions/reactUI","title":"Client property &quot;client.remoteaddr&quot; contains multiple addresses","body":"<p>I have a JVx application with <a href=\"https://github.com/sibvisions/reactUI\" rel=\"nofollow noreferrer\">react UI</a> and use following code on server-side:</p>\n<pre><code>SessionContext.getCurrentSession().getProperty(\n          IConnectionConstants.PREFIX_CLIENT + IRequest.PROP_REMOTE_ADDRESS)\n</code></pre>\n<p>The result is one IP address e.g. 10.0.0.1 in my office network and also at home. The same command returns multiple addresses in my customers environment, e.g. 11.0.0.1, 12.0.0.3</p>\n<p>What's the difference and why are there more than one IP addresses in my customers network? Which IP is the remote right host IP?</p>\n"},{"tags":["java","spring","testing","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1676298825,"post_id":75435084,"comment_id":133103729,"body_markdown":"`Unexpected exception occurred invoking async method: public void emailmgmt.infrastructure.integration.EmailSender.outboundEmailCreated(emailmgmt.domain.model.outboundemail.event.OutboundEmailCreated)`. What is that async method and why it is initiated too early when the application context is not fully ready yet?","body":"<code>Unexpected exception occurred invoking async method: public void emailmgmt.infrastructure.integration.EmailSender.outboundEma&zwnj;&#8203;ilCreated(emailmgmt.&zwnj;&#8203;domain.model.outboun&zwnj;&#8203;demail.event.Outboun&zwnj;&#8203;dEmailCreated)</code>. What is that async method and why it is initiated too early when the application context is not fully ready yet?"},{"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"score":0,"creation_date":1676305274,"post_id":75435084,"comment_id":133106060,"body_markdown":"@ArtemBilan: The `MimeMessageSender` is called in the following hierarchy: An ApplicationEvent is fired in which indicates that an outbound email must be sent. The handler method is annotated with `@TransactionalEventListener @Transactional @Async`. This method fires another ApplicationEvent indicating that the Outbound Email is persisted and needs to be given to the outbound email adapter. This is handled by `EmailSender.outboundEmailCreated(OutboundEmailCreated)` being annotated with `@TransactionalEventListener @Transactional @Async`.","body":"@ArtemBilan: The <code>MimeMessageSender</code> is called in the following hierarchy: An ApplicationEvent is fired in which indicates that an outbound email must be sent. The handler method is annotated with <code>@TransactionalEventListener @Transactional @Async</code>. This method fires another ApplicationEvent indicating that the Outbound Email is persisted and needs to be given to the outbound email adapter. This is handled by <code>EmailSender.outboundEmailCreated(OutboundEmailCreated)</code> being annotated with <code>@TransactionalEventListener @Transactional @Async</code>."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1676306285,"post_id":75435084,"comment_id":133106395,"body_markdown":"Ok. How does it work if your remove that `@Async`? Otherwise I&#39;m not sure in a  `@Transactional` when it is `@Async`: the action is going to happen on another thread than you receive that `TransactionEvent`, so starting a new transaction around placing the task into a queue of the executor is not practical at all. I&#39;d like to reproduce the issue and see if we need to fix something on the framework side in regards of the lifecycle, but I guess it is going to be hard for your to share with us something pretty simple and reproducable. I wonder if something like `@DirtiesContext` helps you...","body":"Ok. How does it work if your remove that <code>@Async</code>? Otherwise I&#39;m not sure in a  <code>@Transactional</code> when it is <code>@Async</code>: the action is going to happen on another thread than you receive that <code>TransactionEvent</code>, so starting a new transaction around placing the task into a queue of the executor is not practical at all. I&#39;d like to reproduce the issue and see if we need to fix something on the framework side in regards of the lifecycle, but I guess it is going to be hard for your to share with us something pretty simple and reproducable. I wonder if something like <code>@DirtiesContext</code> helps you..."},{"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"score":0,"creation_date":1676379202,"post_id":75435084,"comment_id":133121606,"body_markdown":"@ArtemBilan: Thanks for having a look at this issue! I&#39;ve to mention we&#39;re using Spring Boot 2.5.14 currently.\nRemoving @Async is not an option since it decouples the business logic from e-mail sending and the pattern `@TransactionalEventListener @Transactional @Async` is working fine to achieve this.\nYou&#39;ve mentioned `@DirtiesContext`: I&#39;ve checked the debug logs of the `TestContext` caching. The tests re-use cached application contexts, maybe this is causing some trouble in the Spring Integration components?","body":"@ArtemBilan: Thanks for having a look at this issue! I&#39;ve to mention we&#39;re using Spring Boot 2.5.14 currently. Removing @Async is not an option since it decouples the business logic from e-mail sending and the pattern <code>@TransactionalEventListener @Transactional @Async</code> is working fine to achieve this. You&#39;ve mentioned <code>@DirtiesContext</code>: I&#39;ve checked the debug logs of the <code>TestContext</code> caching. The tests re-use cached application contexts, maybe this is causing some trouble in the Spring Integration components?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1676390132,"post_id":75435084,"comment_id":133125280,"body_markdown":"Maybe, so would be great to be able to reproduce in a simple way so we can fix whatever is wrong. Would you mind to explain `@TransactionalEventListener @Transactional @Async` pattern? I understand what is `@TransactionalEventListener` and understand what is `@Async`, but I&#39;m not fully sure how `@Transactional` works with that `@Async`. Do you really see a new transaction on that method call from other thread?","body":"Maybe, so would be great to be able to reproduce in a simple way so we can fix whatever is wrong. Would you mind to explain <code>@TransactionalEventListener @Transactional @Async</code> pattern? I understand what is <code>@TransactionalEventListener</code> and understand what is <code>@Async</code>, but I&#39;m not fully sure how <code>@Transactional</code> works with that <code>@Async</code>. Do you really see a new transaction on that method call from other thread?"},{"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"score":1,"creation_date":1676476395,"post_id":75435084,"comment_id":133145223,"body_markdown":"@ArtemBilan: The mentioned pattern is based on this article: https://dzone.com/articles/transaction-synchronization-and-spring-application. The async method is `@Transactional` since the event contains the id only, and the async method gathers additional data from database by querying further information by the given id.","body":"@ArtemBilan: The mentioned pattern is based on this article: <a href=\"https://dzone.com/articles/transaction-synchronization-and-spring-application\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a>. The async method is <code>@Transactional</code> since the event contains the id only, and the async method gathers additional data from database by querying further information by the given id."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1676477659,"post_id":75435084,"comment_id":133145684,"body_markdown":"Right. But I don&#39;t see `@Transactional` on an `@Async` method. It is on the target service method called from that async one... Anyway this is a different story and would be great to see your finding about that missed channel during testing.","body":"Right. But I don&#39;t see <code>@Transactional</code> on an <code>@Async</code> method. It is on the target service method called from that async one... Anyway this is a different story and would be great to see your finding about that missed channel during testing."},{"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"score":0,"creation_date":1676531014,"post_id":75435084,"comment_id":133156136,"body_markdown":"@ArtemBilan: I&#39;ll see if I can provide you a sample application. What would be the best way to provide it to you?","body":"@ArtemBilan: I&#39;ll see if I can provide you a sample application. What would be the best way to provide it to you?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1676558612,"post_id":75435084,"comment_id":133164360,"body_markdown":"GitHub repository.","body":"GitHub repository."},{"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"score":0,"creation_date":1677741313,"post_id":75435084,"comment_id":133398501,"body_markdown":"@ArtemBilan: Finally had the time to create an example application, see https://github.com/sbillmaier/flaky-integration-test-email-oubound-example. By invoking `mvnw clean verify` the integration tests are executed. The current workaround is to `@SpyBean` the MimeMessageSender.","body":"@ArtemBilan: Finally had the time to create an example application, see <a href=\"https://github.com/sbillmaier/flaky-integration-test-email-oubound-example\" rel=\"nofollow noreferrer\">github.com/sbillmaier/&hellip;</a>. By invoking <code>mvnw clean verify</code> the integration tests are executed. The current workaround is to <code>@SpyBean</code> the MimeMessageSender."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1677766771,"post_id":75435084,"comment_id":133405571,"body_markdown":"Your project doesn&#39;t fail for me. Not sure what we are talking about... See if you also can upgrade to the latest Spring Boot: https://spring.io/projects/spring-boot#learn","body":"Your project doesn&#39;t fail for me. Not sure what we are talking about... See if you also can upgrade to the latest Spring Boot: <a href=\"https://spring.io/projects/spring-boot#learn\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#learn</a>"},{"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"score":0,"creation_date":1677856466,"post_id":75435084,"comment_id":133425328,"body_markdown":"@ArtemBilan: Sorry if there was some misunderstanding: Since we cannot reproduce the issue in a stable manner (and cannot provide you the whole codebase neither) this example was meant to show you the basic architecture of the application. Maybe you can see hints for causing the flaky test. We&#39;re currently on the way to upgrade to the latest Spring Boot 3 release, too.","body":"@ArtemBilan: Sorry if there was some misunderstanding: Since we cannot reproduce the issue in a stable manner (and cannot provide you the whole codebase neither) this example was meant to show you the basic architecture of the application. Maybe you can see hints for causing the flaky test. We&#39;re currently on the way to upgrade to the latest Spring Boot 3 release, too."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1677856675,"post_id":75435084,"comment_id":133425383,"body_markdown":"No, everything looks like. But I guess the problem is because you just show here only one test while in your case there are many and probably all of them share the same configuration. So, one of the test might close the `ApplicationContext` for some reason while another one tries to get access to beans which are not there any more. In our tests we use a `@DiritesContext` for all tests classes to have them all in isolation and rely on their own `ApplicationContext` instance.","body":"No, everything looks like. But I guess the problem is because you just show here only one test while in your case there are many and probably all of them share the same configuration. So, one of the test might close the <code>ApplicationContext</code> for some reason while another one tries to get access to beans which are not there any more. In our tests we use a <code>@DiritesContext</code> for all tests classes to have them all in isolation and rely on their own <code>ApplicationContext</code> instance."}],"answers":[{"tags":[],"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682590129,"creation_date":1682590129,"answer_id":76119206,"question_id":75435084,"body_markdown":"For anyone stumbling upon this and has some strange issues like this or &quot;no subscribers&quot; for channels: Using a static reference to `ApplicationEventPublisher` is a _very bad idea!_\r\n\r\nThat caused the problem described.\r\n\r\nSince the `TestContext` is cached, this static reference caused that application events were sent to the wrong `ApplicationContext`.","title":"Bean for message channel not found causes flaky integration test","body":"<p>For anyone stumbling upon this and has some strange issues like this or &quot;no subscribers&quot; for channels: Using a static reference to <code>ApplicationEventPublisher</code> is a <em>very bad idea!</em></p>\n<p>That caused the problem described.</p>\n<p>Since the <code>TestContext</code> is cached, this static reference caused that application events were sent to the wrong <code>ApplicationContext</code>.</p>\n"}],"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682590129,"creation_date":1676286787,"question_id":75435084,"body_markdown":"We&#39;re experiencing flaky integration tests using Spring Integration Flow for e-mail sending.\r\n\r\nWe&#39;re using a `@MessagingGateway` for sending a `MimeMessage` to an integration flow.\r\n\r\n```\r\n@MessagingGateway\r\npublic interface MimeMessageSender\r\n{\r\n    @Gateway(requestChannel = EMailConfig.OUTBOUND_MAIL_CHANNEL_NAME)\r\n    void send(MimeMessage mimeMessage) throws MailException;\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class EMailConfig\r\n{\r\n    public static final String MAIL_OUTBOUND_ENDPOINT_ID = &quot;mailOutbound.mailOutboundAdapter&quot;;\r\n    public static final String OUTBOUND_MAIL_CHANNEL_NAME = &quot;outboundMailChannel&quot;;\r\n\r\n    @Bean\r\n    public IntegrationFlow mailOutbound(final MailSender mailSender)\r\n    {\r\n        return IntegrationFlows.from(OUTBOUND_MAIL_CHANNEL_NAME)\r\n                .handle(Mail.outboundAdapter(mailSender), e -&gt; e.id(MAIL_OUTBOUND_ENDPOINT_ID))\r\n                .get();\r\n    }\r\n}\r\n```\r\nIntegration tests may fail randomly with this error:\r\n\r\n```\r\nERROR [task-5] org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler: Unexpected exception occurred invoking async method: public void emailmgmt.infrastructure.integration.EmailSender.outboundEmailCreated(emailmgmt.domain.model.outboundemail.event.OutboundEmailCreated)\r\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;outboundMailChannel&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:872)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)\r\n\tat org.springframework.integration.support.channel.BeanFactoryChannelResolver.resolveDestination(BeanFactoryChannelResolver.java:88)\r\n\tat org.springframework.integration.support.channel.BeanFactoryChannelResolver.resolveDestination(BeanFactoryChannelResolver.java:45)\r\n\tat org.springframework.integration.gateway.MessagingGatewaySupport.getRequestChannel(MessagingGatewaySupport.java:386)\r\n\tat org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:421)\r\n\tat org.springframework.integration.gateway.GatewayProxyFactoryBean.sendOrSendAndReceive(GatewayProxyFactoryBean.java:656)\r\n\tat org.springframework.integration.gateway.GatewayProxyFactoryBean.invokeGatewayMethod(GatewayProxyFactoryBean.java:588)\r\n\tat org.springframework.integration.gateway.GatewayProxyFactoryBean.doInvoke(GatewayProxyFactoryBean.java:555)\r\n\tat org.springframework.integration.gateway.GatewayProxyFactoryBean.invoke(GatewayProxyFactoryBean.java:544)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy280.send(Unknown Source)\r\n\tat emailmgmt.infrastructure.integration.EmailSender.doSend(EmailSender.java:76)\r\n\tat emailmgmt.infrastructure.integration.EmailSender.outboundEmailCreated(EmailSender.java:57)\r\n\tat emailmgmt.infrastructure.integration.EmailSender$$FastClassBySpringCGLIB$$13a22e71.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\nOn startup of the application context we see that the &quot;outboundMailChannel&quot; bean exists and the outbound email adapter gets subscribed:\r\n\r\n```\r\nINFO  [main] org.springframework.core.log.LogAccessor: Adding {mail:outbound-channel-adapter:mailOutbound.mailOutboundAdapter} as a subscriber to the &#39;outboundMailChannel&#39; channel\r\nINFO  [main] org.springframework.core.log.LogAccessor: Channel &#39;project-name.outboundMailChannel&#39; has 1 subscriber(s).\r\n```\r\n\r\n\r\nIf we run the integration test standalone, it succeeds.\r\n\r\nIf we run the integration test with some other tests, it succeeds too.\r\n\r\nIf we run all integration tests, some tests using the &quot;outboundMailChannel&quot; fail with the previous error message.\r\n\r\nSo what could be the cause that the bean is not found?","title":"Bean for message channel not found causes flaky integration test","body":"<p>We're experiencing flaky integration tests using Spring Integration Flow for e-mail sending.</p>\n<p>We're using a <code>@MessagingGateway</code> for sending a <code>MimeMessage</code> to an integration flow.</p>\n<pre><code>@MessagingGateway\npublic interface MimeMessageSender\n{\n    @Gateway(requestChannel = EMailConfig.OUTBOUND_MAIL_CHANNEL_NAME)\n    void send(MimeMessage mimeMessage) throws MailException;\n}\n</code></pre>\n<pre><code>@Configuration\npublic class EMailConfig\n{\n    public static final String MAIL_OUTBOUND_ENDPOINT_ID = &quot;mailOutbound.mailOutboundAdapter&quot;;\n    public static final String OUTBOUND_MAIL_CHANNEL_NAME = &quot;outboundMailChannel&quot;;\n\n    @Bean\n    public IntegrationFlow mailOutbound(final MailSender mailSender)\n    {\n        return IntegrationFlows.from(OUTBOUND_MAIL_CHANNEL_NAME)\n                .handle(Mail.outboundAdapter(mailSender), e -&gt; e.id(MAIL_OUTBOUND_ENDPOINT_ID))\n                .get();\n    }\n}\n</code></pre>\n<p>Integration tests may fail randomly with this error:</p>\n<pre><code>ERROR [task-5] org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler: Unexpected exception occurred invoking async method: public void emailmgmt.infrastructure.integration.EmailSender.outboundEmailCreated(emailmgmt.domain.model.outboundemail.event.OutboundEmailCreated)\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'outboundMailChannel' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:872)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)\n    at org.springframework.integration.support.channel.BeanFactoryChannelResolver.resolveDestination(BeanFactoryChannelResolver.java:88)\n    at org.springframework.integration.support.channel.BeanFactoryChannelResolver.resolveDestination(BeanFactoryChannelResolver.java:45)\n    at org.springframework.integration.gateway.MessagingGatewaySupport.getRequestChannel(MessagingGatewaySupport.java:386)\n    at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:421)\n    at org.springframework.integration.gateway.GatewayProxyFactoryBean.sendOrSendAndReceive(GatewayProxyFactoryBean.java:656)\n    at org.springframework.integration.gateway.GatewayProxyFactoryBean.invokeGatewayMethod(GatewayProxyFactoryBean.java:588)\n    at org.springframework.integration.gateway.GatewayProxyFactoryBean.doInvoke(GatewayProxyFactoryBean.java:555)\n    at org.springframework.integration.gateway.GatewayProxyFactoryBean.invoke(GatewayProxyFactoryBean.java:544)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy280.send(Unknown Source)\n    at emailmgmt.infrastructure.integration.EmailSender.doSend(EmailSender.java:76)\n    at emailmgmt.infrastructure.integration.EmailSender.outboundEmailCreated(EmailSender.java:57)\n    at emailmgmt.infrastructure.integration.EmailSender$$FastClassBySpringCGLIB$$13a22e71.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>On startup of the application context we see that the &quot;outboundMailChannel&quot; bean exists and the outbound email adapter gets subscribed:</p>\n<pre><code>INFO  [main] org.springframework.core.log.LogAccessor: Adding {mail:outbound-channel-adapter:mailOutbound.mailOutboundAdapter} as a subscriber to the 'outboundMailChannel' channel\nINFO  [main] org.springframework.core.log.LogAccessor: Channel 'project-name.outboundMailChannel' has 1 subscriber(s).\n</code></pre>\n<p>If we run the integration test standalone, it succeeds.</p>\n<p>If we run the integration test with some other tests, it succeeds too.</p>\n<p>If we run all integration tests, some tests using the &quot;outboundMailChannel&quot; fail with the previous error message.</p>\n<p>So what could be the cause that the bean is not found?</p>\n"},{"tags":["java","file-listing","alternate-data-stream"],"answers":[{"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682584876,"creation_date":1682584876,"answer_id":76118423,"question_id":76117885,"body_markdown":"There is no support in Java for this. I am afraid you should do it yourself. It is possible to call a `dir /R` command and parse output or make a JNI library to call system functions like `NtQueryInformationFile`.","title":"How to list NTFS&#39;s Alternate Data Stream Files using Java","body":"<p>There is no support in Java for this. I am afraid you should do it yourself. It is possible to call a <code>dir /R</code> command and parse output or make a JNI library to call system functions like <code>NtQueryInformationFile</code>.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682589753,"creation_date":1682589753,"answer_id":76119148,"question_id":76117885,"body_markdown":"This sample code is modeled after Oracles sample code in [Managing Metadata (File and File Store Attributes)](https://docs.oracle.com/javase/tutorial/essential/io/fileAttr.html).\r\n\r\nIt lists the files and directories in the current directory together with the alternate data streams.\r\n\r\n    import java.io.IOException;\r\n    import java.io.UncheckedIOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.attribute.UserDefinedFileAttributeView;\r\n    \r\n    public class Xd2 {\r\n        public static void main(String[] args) throws IOException {\r\n            Path p = Paths.get(&quot;.&quot;);\r\n            Files.list(p).forEach(file -&gt; {\r\n                UserDefinedFileAttributeView view = Files.\r\n                        getFileAttributeView(file, UserDefinedFileAttributeView.class);\r\n                try {\r\n                    // print file size and name\r\n                    System.out.printf(&quot;%8d %s%n&quot;, Files.size(file) , file);\r\n                    for (String name : view.list()) {\r\n                        // list alternate data stream size and name\r\n                        System.out.format(&quot;  %8d  %s\\n&quot;, view.size(name), name);\r\n                    }\r\n                } catch (IOException e) {\r\n                    throw new UncheckedIOException(e);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n","title":"How to list NTFS&#39;s Alternate Data Stream Files using Java","body":"<p>This sample code is modeled after Oracles sample code in <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileAttr.html\" rel=\"nofollow noreferrer\">Managing Metadata (File and File Store Attributes)</a>.</p>\n<p>It lists the files and directories in the current directory together with the alternate data streams.</p>\n<pre><code>import java.io.IOException;\nimport java.io.UncheckedIOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.attribute.UserDefinedFileAttributeView;\n\npublic class Xd2 {\n    public static void main(String[] args) throws IOException {\n        Path p = Paths.get(&quot;.&quot;);\n        Files.list(p).forEach(file -&gt; {\n            UserDefinedFileAttributeView view = Files.\n                    getFileAttributeView(file, UserDefinedFileAttributeView.class);\n            try {\n                // print file size and name\n                System.out.printf(&quot;%8d %s%n&quot;, Files.size(file) , file);\n                for (String name : view.list()) {\n                    // list alternate data stream size and name\n                    System.out.format(&quot;  %8d  %s\\n&quot;, view.size(name), name);\n                }\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27829793,"reputation":21,"user_id":21248422,"display_name":"bloodwork"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682589753,"creation_date":1682581126,"question_id":76117885,"body_markdown":"I want to list NTFS alternate data stream file in a given directory using java. I can do this with the dir /R command on cmd, but I want to do it programmatically.\r\n\r\nWhen I do normal file listing operations, I cannot list alternate data streams in the $Data style.","title":"How to list NTFS&#39;s Alternate Data Stream Files using Java","body":"<p>I want to list NTFS alternate data stream file in a given directory using java. I can do this with the dir /R command on cmd, but I want to do it programmatically.</p>\n<p>When I do normal file listing operations, I cannot list alternate data streams in the $Data style.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-redis"],"owner":{"account_id":20757631,"reputation":11,"user_id":15243674,"display_name":"Vaibhav Khandelwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682589073,"creation_date":1677230792,"question_id":75554777,"body_markdown":"I tried upgrading java version from 8 to 17 and springboot version from 2.7.0 to 3.0.2.\r\nSpring is not able to create the redisTemplate bean here.\r\n\r\nI am using gradle version 7.6.\r\n\r\nHere is the Exception:\r\n\r\n\r\n```\r\n2023-02-23 17:02:14,779 WARN  [main] o.s.c.s.AbstractApplicationContext:  - msg: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webAppConfig&#39;: Unsatisfied dependency expressed through field &#39;idcsInterceptor&#39;: Error creating bean with name &#39;idcsInterceptor&#39;: Unsatisfied dependency expressed through field &#39;customSessionManager&#39;: Error creating bean with name &#39;customSessionManager&#39;: Unsatisfied dependency expressed through field &#39;redisUtil&#39;: Error creating bean with name &#39;redisUtil&#39;: Unsatisfied dependency expressed through field &#39;redisTemplate&#39;: Error creating bean with name &#39;redisTemplate&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method &#39;redisTemplate&#39; threw exception with message: Error creating bean with name &#39;connectionFactory&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\r\n2023-02-23 17:02:14,873 INFO  [main] o.e.j.s.Server:  - msg: Stopped Server@7d2a6eac{STOPPING}[11.0.13,sto=0]\r\n2023-02-23 17:02:14,901 INFO  [main] o.e.j.s.h.ContextHandler:  - msg: Stopped o.s.b.w.e.j.JettyEmbeddedWebAppContext@21719a0{application,/api/contentstore,[file:///private/var/folders/hh/qs9cbbjd0pl6kkmp35k1p8m80000gn/T/jetty-docbase.19010.1981064911139296515/],STOPPED}\r\n2023-02-23 17:02:15,262 INFO  [main] o.s.b.a.l.ConditionEvaluationReportLogger:  - msg: \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-02-23 17:02:17,083 ERROR [main] o.s.b.SpringApplication:  - msg: Application run failed\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webAppConfig&#39;: Unsatisfied dependency expressed through field &#39;idcsInterceptor&#39;: Error creating bean with name &#39;idcsInterceptor&#39;: Unsatisfied dependency expressed through field &#39;customSessionManager&#39;: Error creating bean with name &#39;customSessionManager&#39;: Unsatisfied dependency expressed through field &#39;redisUtil&#39;: Error creating bean with name &#39;redisUtil&#39;: Unsatisfied dependency expressed through field &#39;redisTemplate&#39;: Error creating bean with name &#39;redisTemplate&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method &#39;redisTemplate&#39; threw exception with message: Error creating bean with name &#39;connectionFactory&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n\tat oracle.apps.bi.contentstore.Application.main(Application.java:36)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;idcsInterceptor&#39;: Unsatisfied dependency expressed through field &#39;customSessionManager&#39;: Error creating bean with name &#39;customSessionManager&#39;: Unsatisfied dependency expressed through field &#39;redisUtil&#39;: Error creating bean with name &#39;redisUtil&#39;: Unsatisfied dependency expressed through field &#39;redisTemplate&#39;: Error creating bean with name &#39;redisTemplate&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method &#39;redisTemplate&#39; threw exception with message: Error creating bean with name &#39;connectionFactory&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\r\n\t... 28 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customSessionManager&#39;: Unsatisfied dependency expressed through field &#39;redisUtil&#39;: Error creating bean with name &#39;redisUtil&#39;: Unsatisfied dependency expressed through field &#39;redisTemplate&#39;: Error creating bean with name &#39;redisTemplate&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method &#39;redisTemplate&#39; threw exception with message: Error creating bean with name &#39;connectionFactory&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\r\n\t... 42 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;redisUtil&#39;: Unsatisfied dependency expressed through field &#39;redisTemplate&#39;: Error creating bean with name &#39;redisTemplate&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method &#39;redisTemplate&#39; threw exception with message: Error creating bean with name &#39;connectionFactory&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\r\n\t... 56 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;redisTemplate&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method &#39;redisTemplate&#39; threw exception with message: Error creating bean with name &#39;connectionFactory&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\r\n\t... 70 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method &#39;redisTemplate&#39; threw exception with message: Error creating bean with name &#39;connectionFactory&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 83 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;connectionFactory&#39; defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)\r\n\tat oracle.apps.bi.contentstore.common.redis.JedisManagerBoot$$SpringCGLIB$$0.connectionFactory(&lt;generated&gt;)\r\n\tat oracle.apps.bi.contentstore.common.redis.JedisManagerBoot.redisTemplate(JedisManagerBoot.java:41)\r\n\tat oracle.apps.bi.contentstore.common.redis.JedisManagerBoot$$SpringCGLIB$$0.CGLIB$redisTemplate$0(&lt;generated&gt;)\r\n\tat oracle.apps.bi.contentstore.common.redis.JedisManagerBoot$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat oracle.apps.bi.contentstore.common.redis.JedisManagerBoot$$SpringCGLIB$$0.redisTemplate(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n\t... 84 common frames omitted\r\nCaused by: redis.clients.jedis.exceptions.JedisClusterOperationException: Could not initialize cluster slots cache.\r\n\tat redis.clients.jedis.providers.ClusterConnectionProvider.initializeSlotsCache(ClusterConnectionProvider.java:49)\r\n\tat redis.clients.jedis.providers.ClusterConnectionProvider.&lt;init&gt;(ClusterConnectionProvider.java:33)\r\n\tat redis.clients.jedis.UnifiedJedis.&lt;init&gt;(UnifiedJedis.java:122)\r\n\tat redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:173)\r\n\tat redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:167)\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnectionFactory.createCluster(JedisConnectionFactory.java:413)\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnectionFactory.createCluster(JedisConnectionFactory.java:377)\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnectionFactory.afterPropertiesSet(JedisConnectionFactory.java:300)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\r\n\t... 104 common frames omitted\r\nDisconnected from the target VM, address: &#39;127.0.0.1:54022&#39;, transport: &#39;socket&#39;\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nThis is the JedisManagerBoot class:\r\n\r\n\r\n```\r\npackage oracle.apps.bi.contentstore.common.redis;\r\n\r\nimport oracle.apps.bi.contentstore.common.model.RedisValue;\r\nimport oracle.apps.bi.contentstore.common.util.Constants;\r\nimport oracle.apps.bi.contentstore.config.PodConfigUtil;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.redis.connection.RedisClusterConfiguration;\r\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\r\nimport org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\r\nimport org.springframework.data.redis.core.RedisTemplate;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n@Configuration\r\npublic class JedisManagerBoot {\r\n\r\n    @Autowired\r\n    PodConfigUtil podConfigUtil;\r\n\r\n    public final String redisHost = Constants.REDIS_HOST_PORT;\r\n\r\n    @Bean\r\n    public RedisConnectionFactory connectionFactory() {\r\n        String redisHostNamePort = getConfiguredRedisHost();\r\n        List&lt;String&gt; clusterNodes = Arrays.asList(redisHostNamePort.split(&quot;,[ ]*&quot;));\r\n        RedisClusterConfiguration clusterConfig = new RedisClusterConfiguration(clusterNodes);\r\n        // get the redis password from SecretSvc\r\n        if(!podConfigUtil.isTestMode()) {\r\n            String password = podConfigUtil.getRedisPwd();\r\n            clusterConfig.setPassword(password);\r\n        }\r\n        return new JedisConnectionFactory(clusterConfig);\r\n    }\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String, RedisValue&gt; redisTemplate() {\r\n        RedisTemplate&lt;String, RedisValue&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(connectionFactory());\r\n        return redisTemplate;\r\n    }\r\n\r\n\r\n    private String getConfiguredRedisHost() {\r\n        return redisHost;\r\n    }\r\n\r\n```\r\n\r\nThese are spring related dependencies from build.gradle:\r\n\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        maven { url = repoUrl }\r\n    }\r\n    dependencies {\r\n        classpath(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-gradle-plugin&#39;, version: &#39;3.0.2&#39;)\r\n    }\r\n}\r\n\r\napply plugin: &#39;org.springframework.boot&#39;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\ndependencies {\r\n\r\nimplementation(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-jetty&#39;)\r\nimplementation(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;)\r\nimplementation(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-jdbc&#39;)\r\nimplementation(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;)\r\nimplementation(group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter&#39;)\r\n\r\nimplementation(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-redis&#39;) {\r\n        exclude group: &#39;io.lettuce&#39;, module: &#39;lettuce-core&#39;\r\n    }\r\n    implementation(group: &#39;redis.clients&#39;, name: &#39;jedis&#39;)\r\n}\r\n\r\n```\r\n\r\n[Here is the screenshot of my external libraries specifically spring](https://i.stack.imgur.com/fcMbF.png)\r\n\r\n\r\nAfter looking at some of the suggestions on internet I tried adding commons-pool2 dependency but it didn&#39;t help.\r\n\r\nAny suggestions or solutions would be of great help.","title":"RedisTemplate issue while upgrading Springboot to 3.0.2 and java to jdk 17","body":"<p>I tried upgrading java version from 8 to 17 and springboot version from 2.7.0 to 3.0.2.\nSpring is not able to create the redisTemplate bean here.</p>\n<p>I am using gradle version 7.6.</p>\n<p>Here is the Exception:</p>\n<pre><code>2023-02-23 17:02:14,779 WARN  [main] o.s.c.s.AbstractApplicationContext:  - msg: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webAppConfig': Unsatisfied dependency expressed through field 'idcsInterceptor': Error creating bean with name 'idcsInterceptor': Unsatisfied dependency expressed through field 'customSessionManager': Error creating bean with name 'customSessionManager': Unsatisfied dependency expressed through field 'redisUtil': Error creating bean with name 'redisUtil': Unsatisfied dependency expressed through field 'redisTemplate': Error creating bean with name 'redisTemplate' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method 'redisTemplate' threw exception with message: Error creating bean with name 'connectionFactory' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\n2023-02-23 17:02:14,873 INFO  [main] o.e.j.s.Server:  - msg: Stopped Server@7d2a6eac{STOPPING}[11.0.13,sto=0]\n2023-02-23 17:02:14,901 INFO  [main] o.e.j.s.h.ContextHandler:  - msg: Stopped o.s.b.w.e.j.JettyEmbeddedWebAppContext@21719a0{application,/api/contentstore,[file:///private/var/folders/hh/qs9cbbjd0pl6kkmp35k1p8m80000gn/T/jetty-docbase.19010.1981064911139296515/],STOPPED}\n2023-02-23 17:02:15,262 INFO  [main] o.s.b.a.l.ConditionEvaluationReportLogger:  - msg: \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-02-23 17:02:17,083 ERROR [main] o.s.b.SpringApplication:  - msg: Application run failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webAppConfig': Unsatisfied dependency expressed through field 'idcsInterceptor': Error creating bean with name 'idcsInterceptor': Unsatisfied dependency expressed through field 'customSessionManager': Error creating bean with name 'customSessionManager': Unsatisfied dependency expressed through field 'redisUtil': Error creating bean with name 'redisUtil': Unsatisfied dependency expressed through field 'redisTemplate': Error creating bean with name 'redisTemplate' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method 'redisTemplate' threw exception with message: Error creating bean with name 'connectionFactory' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n    at oracle.apps.bi.contentstore.Application.main(Application.java:36)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'idcsInterceptor': Unsatisfied dependency expressed through field 'customSessionManager': Error creating bean with name 'customSessionManager': Unsatisfied dependency expressed through field 'redisUtil': Error creating bean with name 'redisUtil': Unsatisfied dependency expressed through field 'redisTemplate': Error creating bean with name 'redisTemplate' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method 'redisTemplate' threw exception with message: Error creating bean with name 'connectionFactory' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\n    ... 28 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customSessionManager': Unsatisfied dependency expressed through field 'redisUtil': Error creating bean with name 'redisUtil': Unsatisfied dependency expressed through field 'redisTemplate': Error creating bean with name 'redisTemplate' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method 'redisTemplate' threw exception with message: Error creating bean with name 'connectionFactory' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\n    ... 42 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisUtil': Unsatisfied dependency expressed through field 'redisTemplate': Error creating bean with name 'redisTemplate' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method 'redisTemplate' threw exception with message: Error creating bean with name 'connectionFactory' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\n    ... 56 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisTemplate' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method 'redisTemplate' threw exception with message: Error creating bean with name 'connectionFactory' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\n    ... 70 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method 'redisTemplate' threw exception with message: Error creating bean with name 'connectionFactory' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 83 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'connectionFactory' defined in class path resource [oracle/apps/bi/contentstore/common/redis/JedisManagerBoot.class]: Could not initialize cluster slots cache.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)\n    at oracle.apps.bi.contentstore.common.redis.JedisManagerBoot$$SpringCGLIB$$0.connectionFactory(&lt;generated&gt;)\n    at oracle.apps.bi.contentstore.common.redis.JedisManagerBoot.redisTemplate(JedisManagerBoot.java:41)\n    at oracle.apps.bi.contentstore.common.redis.JedisManagerBoot$$SpringCGLIB$$0.CGLIB$redisTemplate$0(&lt;generated&gt;)\n    at oracle.apps.bi.contentstore.common.redis.JedisManagerBoot$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at oracle.apps.bi.contentstore.common.redis.JedisManagerBoot$$SpringCGLIB$$0.redisTemplate(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n    ... 84 common frames omitted\nCaused by: redis.clients.jedis.exceptions.JedisClusterOperationException: Could not initialize cluster slots cache.\n    at redis.clients.jedis.providers.ClusterConnectionProvider.initializeSlotsCache(ClusterConnectionProvider.java:49)\n    at redis.clients.jedis.providers.ClusterConnectionProvider.&lt;init&gt;(ClusterConnectionProvider.java:33)\n    at redis.clients.jedis.UnifiedJedis.&lt;init&gt;(UnifiedJedis.java:122)\n    at redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:173)\n    at redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:167)\n    at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.createCluster(JedisConnectionFactory.java:413)\n    at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.createCluster(JedisConnectionFactory.java:377)\n    at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.afterPropertiesSet(JedisConnectionFactory.java:300)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\n    ... 104 common frames omitted\nDisconnected from the target VM, address: '127.0.0.1:54022', transport: 'socket'\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>This is the JedisManagerBoot class:</p>\n<pre><code>package oracle.apps.bi.contentstore.common.redis;\n\nimport oracle.apps.bi.contentstore.common.model.RedisValue;\nimport oracle.apps.bi.contentstore.common.util.Constants;\nimport oracle.apps.bi.contentstore.config.PodConfigUtil;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.connection.RedisClusterConfiguration;\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\nimport org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\n\nimport java.util.Arrays;\nimport java.util.List;\n\n@Configuration\npublic class JedisManagerBoot {\n\n    @Autowired\n    PodConfigUtil podConfigUtil;\n\n    public final String redisHost = Constants.REDIS_HOST_PORT;\n\n    @Bean\n    public RedisConnectionFactory connectionFactory() {\n        String redisHostNamePort = getConfiguredRedisHost();\n        List&lt;String&gt; clusterNodes = Arrays.asList(redisHostNamePort.split(&quot;,[ ]*&quot;));\n        RedisClusterConfiguration clusterConfig = new RedisClusterConfiguration(clusterNodes);\n        // get the redis password from SecretSvc\n        if(!podConfigUtil.isTestMode()) {\n            String password = podConfigUtil.getRedisPwd();\n            clusterConfig.setPassword(password);\n        }\n        return new JedisConnectionFactory(clusterConfig);\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, RedisValue&gt; redisTemplate() {\n        RedisTemplate&lt;String, RedisValue&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(connectionFactory());\n        return redisTemplate;\n    }\n\n\n    private String getConfiguredRedisHost() {\n        return redisHost;\n    }\n\n</code></pre>\n<p>These are spring related dependencies from build.gradle:</p>\n<pre><code>buildscript {\n    repositories {\n        maven { url = repoUrl }\n    }\n    dependencies {\n        classpath(group: 'org.springframework.boot', name: 'spring-boot-gradle-plugin', version: '3.0.2')\n    }\n}\n\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\ndependencies {\n\nimplementation(group: 'org.springframework.boot', name: 'spring-boot-starter-jetty')\nimplementation(group: 'org.springframework.boot', name: 'spring-boot-starter-web')\nimplementation(group: 'org.springframework.boot', name: 'spring-boot-starter-jdbc')\nimplementation(group: 'org.springframework.boot', name: 'spring-boot-starter-actuator')\nimplementation(group: 'org.springframework.cloud', name: 'spring-cloud-starter')\n\nimplementation(group: 'org.springframework.boot', name: 'spring-boot-starter-data-redis') {\n        exclude group: 'io.lettuce', module: 'lettuce-core'\n    }\n    implementation(group: 'redis.clients', name: 'jedis')\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fcMbF.png\" rel=\"nofollow noreferrer\">Here is the screenshot of my external libraries specifically spring</a></p>\n<p>After looking at some of the suggestions on internet I tried adding commons-pool2 dependency but it didn't help.</p>\n<p>Any suggestions or solutions would be of great help.</p>\n"},{"tags":["java","windows","spring-boot","batch-file","jar"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682587243,"post_id":76118660,"comment_id":134240590,"body_markdown":"What does your Spring Boot JAR do? Is it a commandline runner that finishes shortly after starting, or is it a web application that continues running (and thus doesn&#39;t exit!)?","body":"What does your Spring Boot JAR do? Is it a commandline runner that finishes shortly after starting, or is it a web application that continues running (and thus doesn&#39;t exit!)?"},{"owner":{"account_id":211125,"reputation":79336,"user_id":463115,"accept_rate":100,"display_name":"jeb"},"score":0,"creation_date":1682588824,"post_id":76118660,"comment_id":134240945,"body_markdown":"You could test if prefixing with `CALL` fixes the problem. `CALL java -jar application1.jar`. If this works, try a look at `where java`","body":"You could test if prefixing with <code>CALL</code> fixes the problem. <code>CALL java -jar application1.jar</code>. If this works, try a look at <code>where java</code>"},{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":0,"creation_date":1682589768,"post_id":76118660,"comment_id":134241154,"body_markdown":"What makes you think you need a batch file for this task? Those are simply executable files, not internal commands.","body":"What makes you think you need a batch file for this task? Those are simply executable files, not internal commands."},{"owner":{"account_id":28401802,"reputation":1,"user_id":21726514,"display_name":"nidhi tiwari"},"score":0,"creation_date":1682591695,"post_id":76118660,"comment_id":134241579,"body_markdown":"@MarkRotteveel It&#39;s a backend application that continues running.","body":"@MarkRotteveel It&#39;s a backend application that continues running."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682591740,"post_id":76118660,"comment_id":134241591,"body_markdown":"Then you need to use `start` to launch, so the batch file can continue, otherwise it waits for the application to exit.","body":"Then you need to use <code>start</code> to launch, so the batch file can continue, otherwise it waits for the application to exit."},{"owner":{"account_id":28401802,"reputation":1,"user_id":21726514,"display_name":"nidhi tiwari"},"score":0,"creation_date":1682593588,"post_id":76118660,"comment_id":134241974,"body_markdown":"@MarkRotteveel I tried this -&gt; java -jar application1.jar start java -jar application2. Jar . However, still facing the same problem. Application 1 has a cron scheduled. Can this create any issue?","body":"@MarkRotteveel I tried this -&gt; java -jar application1.jar start java -jar application2. Jar . However, still facing the same problem. Application 1 has a cron scheduled. Can this create any issue?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682593796,"post_id":76118660,"comment_id":134242023,"body_markdown":"You need to use `start` on the **first** application (and likely also the second). Right now, you launch `java` directly from your batch file, that means it waits for `java` to exit, which doesn&#39;t happen as it is a server application, so the batch file never arrives on the line to launch the second application.","body":"You need to use <code>start</code> on the <b>first</b> application (and likely also the second). Right now, you launch <code>java</code> directly from your batch file, that means it waits for <code>java</code> to exit, which doesn&#39;t happen as it is a server application, so the batch file never arrives on the line to launch the second application."},{"owner":{"account_id":28401802,"reputation":1,"user_id":21726514,"display_name":"nidhi tiwari"},"score":0,"creation_date":1682596096,"post_id":76118660,"comment_id":134242547,"body_markdown":"Adding start on first application worked. Thank you","body":"Adding start on first application worked. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682587423,"creation_date":1682587423,"answer_id":76118781,"question_id":76118660,"body_markdown":"You can try the windows start command, something like below: \r\n```\r\nstart java -jar application1.jar\r\nstart java -jar application2.jar\r\n```","title":"How to run two Spring Boot JARs sequentially from a single batch file?","body":"<p>You can try the windows start command, something like below:</p>\n<pre><code>start java -jar application1.jar\nstart java -jar application2.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9714454,"reputation":460,"user_id":7205323,"display_name":"Jahongir  Sabirov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682588733,"creation_date":1682588733,"answer_id":76118991,"question_id":76118660,"body_markdown":"    start java -jar application1.jar\r\n    java -jar application2.jar\r\n\r\n","title":"How to run two Spring Boot JARs sequentially from a single batch file?","body":"<pre><code>start java -jar application1.jar\njava -jar application2.jar\n</code></pre>\n"}],"owner":{"account_id":28401802,"reputation":1,"user_id":21726514,"display_name":"nidhi tiwari"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682588733,"creation_date":1682586608,"question_id":76118660,"body_markdown":"I have two Spring Boot JAR files to execute sequentially. I&#39;m attempting to run them through a batch file in Windows. However, just the first JAR starts; the second one does not.\r\n\r\nI tried below mentioned commands to achieve the same.\r\n\r\nCommand 1)\r\n```bash\r\njava -jar application1.jar\r\njava -jar application2.jar\r\n```\r\n\r\nCommand 2)\r\n```bash\r\njava -jar application1.jar\r\npause\r\njava -jar application2.jar \r\npause\r\n```\r\n\r\nCommand 3)\r\n```bash\r\n java -jar application1.jar\r\n/wait java -jar application2.jar\r\n```\r\n\r\nIn all cases, only the first JAR starts, but second one doesn&#39;t. Am I missing something?\r\n \r\n\r\n","title":"How to run two Spring Boot JARs sequentially from a single batch file?","body":"<p>I have two Spring Boot JAR files to execute sequentially. I'm attempting to run them through a batch file in Windows. However, just the first JAR starts; the second one does not.</p>\n<p>I tried below mentioned commands to achieve the same.</p>\n<p>Command 1)</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar application1.jar\njava -jar application2.jar\n</code></pre>\n<p>Command 2)</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar application1.jar\npause\njava -jar application2.jar \npause\n</code></pre>\n<p>Command 3)</p>\n<pre class=\"lang-bash prettyprint-override\"><code> java -jar application1.jar\n/wait java -jar application2.jar\n</code></pre>\n<p>In all cases, only the first JAR starts, but second one doesn't. Am I missing something?</p>\n"},{"tags":["java","android","android-gradle-plugin"],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682588369,"creation_date":1682519795,"question_id":76112039,"body_markdown":"I was implementing an **android app** in  **java** that was running without any problem but after upgrading my **gradle** , my code can&#39;t compile anymore and I got the error:  \r\n```\r\nConfiguration cache state could not be cached: field `compileTimeDependencies` of task `:app:dataBindingMergeDependencyArtifactsDebug` of type `com.android.build.gradle.internal.tasks.databinding.DataBindingMergeDependencyArtifactsTask`: error writing value of type &#39;org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection&#39;\r\n&gt; Could not resolve all files for configuration &#39;:app:debugCompileClasspath&#39;.\r\n   &gt; Could not find com.budiyev.android:code-scanner:2.1.0.\r\n     Required by:\r\n         project :app\r\n   &gt; Could not find com.whiteelephant:monthandyearpicker:1.3.0.\r\n     Required by:\r\n         project :app\r\n   &gt; Could not find com.github.barteksc:android-pdf-viewer:3.2.0-beta.1.\r\n     Required by:\r\n         project :app\r\n\r\n```","title":"Unable to compile android project after upgrading android version to 8.0.0","body":"<p>I was implementing an <strong>android app</strong> in  <strong>java</strong> that was running without any problem but after upgrading my <strong>gradle</strong> , my code can't compile anymore and I got the error:</p>\n<pre><code>Configuration cache state could not be cached: field `compileTimeDependencies` of task `:app:dataBindingMergeDependencyArtifactsDebug` of type `com.android.build.gradle.internal.tasks.databinding.DataBindingMergeDependencyArtifactsTask`: error writing value of type 'org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection'\n&gt; Could not resolve all files for configuration ':app:debugCompileClasspath'.\n   &gt; Could not find com.budiyev.android:code-scanner:2.1.0.\n     Required by:\n         project :app\n   &gt; Could not find com.whiteelephant:monthandyearpicker:1.3.0.\n     Required by:\n         project :app\n   &gt; Could not find com.github.barteksc:android-pdf-viewer:3.2.0-beta.1.\n     Required by:\n         project :app\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9753,"page":472,"page_size":100}
