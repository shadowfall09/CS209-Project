{"items":[{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":23926442,"reputation":68,"user_id":17921501,"display_name":"vikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645770002,"creation_date":1645770002,"answer_id":71261829,"question_id":71144947,"body_markdown":"i too had a same problem i fixed by \r\ndeclaring name of the bean\r\n\r\n    @Bean(name= BeanIds.AUTHENTICATION_MANAGER)        \r\n    @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {        \r\n    return super.authenticationManagerBean();\r\n        }","title":"Implementing Token and Role Base Authentication Using Spring Boot + JWT+ mongoDB","body":"<p>i too had a same problem i fixed by\ndeclaring name of the bean</p>\n<pre><code>@Bean(name= BeanIds.AUTHENTICATION_MANAGER)        \n@Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {        \nreturn super.authenticationManagerBean();\n    }\n</code></pre>\n"}],"owner":{"account_id":21513019,"reputation":19,"user_id":15855423,"display_name":"Mal&#233;k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71261829,"answer_count":1,"score":-1,"last_activity_date":1645770002,"creation_date":1645026412,"question_id":71144947,"body_markdown":"Can any one suggest me another solution or how i can fixed this issue please.and thank&#39;s by advance\r\n\r\n\r\n**cotroller**\r\n``` package com.example.demo.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.example.demo.entity.JwtRequest;\r\nimport com.example.demo.entity.JwtResponse;\r\nimport com.example.demo.service.JwtService;\r\n\r\n@RestController\r\n@CrossOrigin\r\npublic class JwtController {\r\n\r\n    @Autowired\r\n    private JwtService jwtService;\r\n\r\n    @PostMapping({&quot;/authenticate&quot;})\r\n    public JwtResponse createJwtToken(@RequestBody JwtRequest jwtRequest) throws Exception {\r\n        return jwtService.createJwtToken(jwtRequest);\r\n    }\r\n}\r\n ```\r\n**service** \r\n```\r\npackage com.example.demo.service;\r\n\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.example.demo.dao.UserDao;\r\nimport com.example.demo.Util.JwtUtil;\r\nimport com.example.demo.entity.User;\r\nimport com.example.demo.entity.JwtResponse;\r\nimport com.example.demo.entity.JwtRequest;\r\n\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.DisabledException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Service\r\npublic class JwtService implements UserDetailsService {\r\n\r\n    @Autowired\r\n    private JwtUtil jwtUtil;\r\n\r\n    @Autowired\r\n    private UserDao userDao;\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    public JwtResponse createJwtToken(JwtRequest jwtRequest) throws Exception {\r\n        String userName = jwtRequest.getName();\r\n        String userPassword = jwtRequest.getUser_code();\r\n        authenticate(userName, userPassword);\r\n\r\n        UserDetails userDetails = loadUserByUsername(userName);\r\n        String newGeneratedToken = jwtUtil.generateToken(userDetails);\r\n\r\n        User user = userDao.findById(userName).get();\r\n        return new JwtResponse(user, newGeneratedToken);\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userDao.findById(username).get();\r\n\r\n        if (user != null) {\r\n            return new org.springframework.security.core.userdetails.User(\r\n                    user.getName(),\r\n                    user.getUser_code(),\r\n                    getAuthority(user)\r\n            );\r\n        } else {\r\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\r\n        }\r\n    }\r\n\r\n    private Set getAuthority(User user) {\r\n        Set&lt;SimpleGrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n        user.getRoles().forEach(role -&gt; {\r\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.getRoleName()));\r\n        });\r\n        return authorities;\r\n    }\r\n    \r\n    private void authenticate(String userName, String userPassword) throws Exception {\r\n        try {\r\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(userName, userPassword));\r\n        } catch (DisabledException e) {\r\n            throw new Exception(&quot;USER_DISABLED&quot;);\r\n        } catch (BadCredentialsException e) {\r\n            throw new Exception(&quot;INVALID_CREDENTIALS&quot;);\r\n        }\r\n    }\r\n}\r\n ```\r\n**WebSecurityConfiguration**\r\n```\r\npackage configuration;\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n\r\n    @Autowired\r\n    private JwtRequestFilter jwtRequestFilter;\r\n\r\n    @Autowired\r\n    private UserDetailsService jwtService;\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.cors();\r\n        httpSecurity.csrf().disable()\r\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;, &quot;/registerNewUser&quot;).permitAll()\r\n                .antMatchers(HttpHeaders.ALLOW).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                .and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        ;\r\n\r\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(jwtService).passwordEncoder(passwordEncoder());\r\n    }\r\n}\r\n```\r\n**error**\r\nDescription:\r\n\r\nField authenticationManager in com.example.demo.service.JwtService required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; in your configuration.\r\n","title":"Implementing Token and Role Base Authentication Using Spring Boot + JWT+ mongoDB","body":"<p>Can any one suggest me another solution or how i can fixed this issue please.and thank's by advance</p>\n<p><strong>cotroller</strong></p>\n<pre><code>\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.demo.entity.JwtRequest;\nimport com.example.demo.entity.JwtResponse;\nimport com.example.demo.service.JwtService;\n\n@RestController\n@CrossOrigin\npublic class JwtController {\n\n    @Autowired\n    private JwtService jwtService;\n\n    @PostMapping({&quot;/authenticate&quot;})\n    public JwtResponse createJwtToken(@RequestBody JwtRequest jwtRequest) throws Exception {\n        return jwtService.createJwtToken(jwtRequest);\n    }\n}\n</code></pre>\n<p><strong>service</strong></p>\n<pre><code>package com.example.demo.service;\n\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport com.example.demo.dao.UserDao;\nimport com.example.demo.Util.JwtUtil;\nimport com.example.demo.entity.User;\nimport com.example.demo.entity.JwtResponse;\nimport com.example.demo.entity.JwtRequest;\n\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.DisabledException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Service\npublic class JwtService implements UserDetailsService {\n\n    @Autowired\n    private JwtUtil jwtUtil;\n\n    @Autowired\n    private UserDao userDao;\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    public JwtResponse createJwtToken(JwtRequest jwtRequest) throws Exception {\n        String userName = jwtRequest.getName();\n        String userPassword = jwtRequest.getUser_code();\n        authenticate(userName, userPassword);\n\n        UserDetails userDetails = loadUserByUsername(userName);\n        String newGeneratedToken = jwtUtil.generateToken(userDetails);\n\n        User user = userDao.findById(userName).get();\n        return new JwtResponse(user, newGeneratedToken);\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userDao.findById(username).get();\n\n        if (user != null) {\n            return new org.springframework.security.core.userdetails.User(\n                    user.getName(),\n                    user.getUser_code(),\n                    getAuthority(user)\n            );\n        } else {\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\n        }\n    }\n\n    private Set getAuthority(User user) {\n        Set&lt;SimpleGrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n        user.getRoles().forEach(role -&gt; {\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role.getRoleName()));\n        });\n        return authorities;\n    }\n    \n    private void authenticate(String userName, String userPassword) throws Exception {\n        try {\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(userName, userPassword));\n        } catch (DisabledException e) {\n            throw new Exception(&quot;USER_DISABLED&quot;);\n        } catch (BadCredentialsException e) {\n            throw new Exception(&quot;INVALID_CREDENTIALS&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>WebSecurityConfiguration</strong></p>\n<pre><code>package configuration;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n    @Autowired\n    private JwtRequestFilter jwtRequestFilter;\n\n    @Autowired\n    private UserDetailsService jwtService;\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.cors();\n        httpSecurity.csrf().disable()\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;, &quot;/registerNewUser&quot;).permitAll()\n                .antMatchers(HttpHeaders.ALLOW).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        ;\n\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(jwtService).passwordEncoder(passwordEncoder());\n    }\n}\n</code></pre>\n<p><strong>error</strong>\nDescription:</p>\n<p>Field authenticationManager in com.example.demo.service.JwtService required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'org.springframework.security.authentication.AuthenticationManager' in your configuration.</p>\n"},{"tags":["java","json","jersey","swagger","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":2655485,"reputation":430,"user_id":2296285,"accept_rate":67,"display_name":"Gowthami Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645769703,"creation_date":1645769703,"answer_id":71261793,"question_id":71168991,"body_markdown":"Just removed,\r\nio.swagger.jaxrs.listing \r\n\r\nfrom web.xml file","title":"Restricting Swagger Files which are exposed to internet","body":"<p>Just removed,\nio.swagger.jaxrs.listing</p>\n<p>from web.xml file</p>\n"}],"owner":{"account_id":2655485,"reputation":430,"user_id":2296285,"accept_rate":67,"display_name":"Gowthami Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71261793,"answer_count":1,"score":0,"last_activity_date":1645769703,"creation_date":1645163897,"question_id":71168991,"body_markdown":"I am using swagger-jersey2-jaxrs of version 1.5.0. I am trying to disable the public access of swagger using the following url,\r\n\r\n    &lt;domain&gt;/swagger.json\r\n\r\nTried many possible solutions found from Google but no luck.\r\n\r\nThese are static implementation where there is no explicit swagger configuration or the properties configured. \r\n\r\nAnyone else faced similar issue with legacy way of implementation?","title":"Restricting Swagger Files which are exposed to internet","body":"<p>I am using swagger-jersey2-jaxrs of version 1.5.0. I am trying to disable the public access of swagger using the following url,</p>\n<pre><code>&lt;domain&gt;/swagger.json\n</code></pre>\n<p>Tried many possible solutions found from Google but no luck.</p>\n<p>These are static implementation where there is no explicit swagger configuration or the properties configured.</p>\n<p>Anyone else faced similar issue with legacy way of implementation?</p>\n"},{"tags":["java","spring","spring-boot","aop","spring-aop"],"comments":[{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645527002,"post_id":71219717,"comment_id":125889078,"body_markdown":"So you want your Advice to be executed/triggered after a constraint validation occurs ?","body":"So you want your Advice to be executed/triggered after a constraint validation occurs ?"},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645527593,"post_id":71219717,"comment_id":125889317,"body_markdown":"Yes, that is correct.","body":"Yes, that is correct."},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645527970,"post_id":71219717,"comment_id":125889492,"body_markdown":"When the request reaches the controller method, the validations for the method parameters have to happen first. such that the constraint violation exception is thrown in the response, if there are any violations, before going to the aspect logic.","body":"When the request reaches the controller method, the validations for the method parameters have to happen first. such that the constraint violation exception is thrown in the response, if there are any violations, before going to the aspect logic."},{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645528860,"post_id":71219717,"comment_id":125889851,"body_markdown":"Is @AfterThrowing advice is not what you&#39;re searching for?","body":"Is @AfterThrowing advice is not what you&#39;re searching for?"},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645529486,"post_id":71219717,"comment_id":125890116,"body_markdown":"I suspect then, the advice will not execute if there were no constraint violations, in which case there will be no constraint violation exception. Also, I need around advice to modify the arguments for the controller method. It is very tricky. I&#39;m not sure why validation doesn&#39;t occur first.","body":"I suspect then, the advice will not execute if there were no constraint violations, in which case there will be no constraint violation exception. Also, I need around advice to modify the arguments for the controller method. It is very tricky. I&#39;m not sure why validation doesn&#39;t occur first."},{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645529662,"post_id":71219717,"comment_id":125890179,"body_markdown":"What do you really want to achieve? Are you forced to make use of Advices? Because it&#39;s seems like it&#39;s overkill.","body":"What do you really want to achieve? Are you forced to make use of Advices? Because it&#39;s seems like it&#39;s overkill."},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645529979,"post_id":71219717,"comment_id":125890273,"body_markdown":"I want to intercept the id (path variable in the GET method) from the HTTP request and check authorization for it, before the GET method logic executes.  I could probably use Spring boot&#39;s HandlerInterceptor, but I feel I will run into the same problem again. I&#39;m not forced to use aspects, but in this case, I think it doesn&#39;t matter if I use interceptors or aspects.","body":"I want to intercept the id (path variable in the GET method) from the HTTP request and check authorization for it, before the GET method logic executes.  I could probably use Spring boot&#39;s HandlerInterceptor, but I feel I will run into the same problem again. I&#39;m not forced to use aspects, but in this case, I think it doesn&#39;t matter if I use interceptors or aspects."},{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645530147,"post_id":71219717,"comment_id":125890320,"body_markdown":"You could try to build your own custom validation annotation, then you could apply that annotation like `@Pattern(..)`. For more info see: https://www.baeldung.com/spring-mvc-custom-validator","body":"You could try to build your own custom validation annotation, then you could apply that annotation like <code>@Pattern(..)</code>. For more info see: <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">baeldung.com/spring-mvc-custom-validator</a>"},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645530500,"post_id":71219717,"comment_id":125890461,"body_markdown":"You are right, but the validation annotations I need like @Pattern, is already available out of the box.","body":"You are right, but the validation annotations I need like @Pattern, is already available out of the box."},{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645531598,"post_id":71219717,"comment_id":125890835,"body_markdown":"Yes but you create one for yourselves and combine them like `@Pattern @MyValidatior String id`","body":"Yes but you create one for yourselves and combine them like <code>@Pattern @MyValidatior String id</code>"},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645532090,"post_id":71219717,"comment_id":125891024,"body_markdown":"You are saying, then the validation will happen first before the advice execution? With custom validation annotations?","body":"You are saying, then the validation will happen first before the advice execution? With custom validation annotations?"},{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645532628,"post_id":71219717,"comment_id":125891226,"body_markdown":"No no, I say don&#39;t use advices, but create your own annotation to do what you want to do with you aspect.","body":"No no, I say don&#39;t use advices, but create your own annotation to do what you want to do with you aspect."},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645534049,"post_id":71219717,"comment_id":125891789,"body_markdown":"That&#39;s great advice. But I&#39;m making use of the HttpServletRequest httpRequest from the controller in the advice. In the annotation, I could probably replace it with: \n\nHttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\n\nWill it be thread safe, then?","body":"That&#39;s great advice. But I&#39;m making use of the HttpServletRequest httpRequest from the controller in the advice. In the annotation, I could probably replace it with:   HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();  Will it be thread safe, then?"},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645535310,"post_id":71219717,"comment_id":125892361,"body_markdown":"Also edited the question to show correctly, why I need to use advice. So a solution to the original problem is absolutely needed :(","body":"Also edited the question to show correctly, why I need to use advice. So a solution to the original problem is absolutely needed :("},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1645536033,"post_id":71219717,"comment_id":125892687,"body_markdown":"I think HTTP filter is the thing to use here, not aspect-oriented programming.  Filters have been around longer.  They&#39;re intended for use with HTTP.","body":"I think HTTP filter is the thing to use here, not aspect-oriented programming.  Filters have been around longer.  They&#39;re intended for use with HTTP."},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1645553041,"post_id":71219717,"comment_id":125900292,"body_markdown":"You are right. I should use Filter.","body":"You are right. I should use Filter."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1646183504,"post_id":71219717,"comment_id":126059150,"body_markdown":"@Barani, I wrote an extensive answer 5 days ago. I think it would be polite to react to it - much appreciated.","body":"@Barani, I wrote an extensive answer 5 days ago. I think it would be polite to react to it - much appreciated."},{"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"score":0,"creation_date":1646301616,"post_id":71219717,"comment_id":126091271,"body_markdown":"@kriegaex, I apologise. I had the upvoted the answer.","body":"@kriegaex, I apologise. I had the upvoted the answer."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645769660,"creation_date":1645763359,"answer_id":71261070,"question_id":71219717,"body_markdown":"### Preface\r\n\r\nI am not a Spring user, so I cannot tell you\r\n  * if there is any way to influence the order of advisor application for any advised bean in a generic, non-invasive way,\r\n  * where exactly Spring creates the list of advisors associated with an advised bean while wiring the application.\r\n\r\nWhat I did find out, however, is that once the list of advisors for an advised bean has been set, it is simply applied in the order of elements in the list. You can influence aspect precedence via `@Order` or implementing `@Ordered`, but I have no idea if that approach can somehow be applied to method validation advisors.\r\n\r\n### Proof of concept, version 1\r\n\r\nBecause I was curious, I created a proof-of-concept, hacky workaround. Here is my [MCVE](https://stackoverflow.com/help/mcve) replicating your original situation:\r\n\r\n**Service, controller and helper classes:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\npublic class SomeClass {\r\n  private final String suffix;\r\n\r\n  public SomeClass(String suffix) {\r\n    this.suffix = suffix;\r\n  }\r\n\r\n  public String getSuffix() {\r\n    return suffix;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class MyService {\r\n  public String getIDInformation(long id, SomeClass someObject) {\r\n    return id + &quot;-&quot; + someObject.getSuffix();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.validation.constraints.Pattern;\r\nimport javax.validation.constraints.Size;\r\n\r\n@RestController\r\n@Validated\r\npublic class MyRestController {\r\n  @Autowired\r\n  MyService service;\r\n\r\n  @GetMapping(&quot;/v1/{id}&quot;)\r\n  public Object getIDInformation(\r\n    @PathVariable(&quot;id&quot;)\r\n    @Pattern(regexp = &quot;^[0-9]*$&quot;, message = &quot;Non-numeric ID ${validatedValue}&quot;)\r\n    @Size(min = 9, max = 10, message = &quot;ID ${validatedValue} must be {min}-{max} numbers long&quot;)\r\n      String id,\r\n    HttpServletRequest httpRequest,\r\n    SomeClass someObject\r\n  )\r\n  {\r\n    return service.getIDInformation(Long.parseLong(id), someObject);\r\n  }\r\n}\r\n```\r\n\r\n**Aspect:**\r\n\r\nMy dummy for the missing `valid(String id)` method in your example simply returns `true` if the ID contains a `&#39;0&#39;` character.\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\n@Aspect\r\n@Component\r\npublic class MyRestControllerAspect {\r\n  @Around(\r\n    &quot;execution(* de.scrum_master.spring.q71219717.MyRestController.getIDInformation(..)) &amp;&amp; &quot; +\r\n    &quot;args(id, httpRequest, ..)&quot;\r\n  )\r\n  public Object aspectMethod(ProceedingJoinPoint pjp, String id, HttpServletRequest httpRequest)\r\n    throws Throwable\r\n  {\r\n    System.out.println(pjp + &quot; -&gt; &quot; + id);\r\n    SomeClass changedValue = new SomeClass(&quot;ASPECT&quot;);\r\n    SomeClass someObject = changedValue;\r\n    Object[] targetMethodArgs = pjp.getArgs();\r\n\r\n    if (!valid(id)) {\r\n      throw new IllegalArgumentException(&quot;invalid ID &quot; + id);\r\n    }\r\n    else {\r\n      // Make use of HttpServletRequest httpRequest (not shown here) to modify\r\n      // SomeClass someObject argument in the target method\r\n      for (int i = 0; i &lt; targetMethodArgs.length; i++) {\r\n        if (targetMethodArgs[i] instanceof SomeClass) {\r\n          targetMethodArgs[i] = someObject;\r\n        }\r\n      }\r\n    }\r\n\r\n    return pjp.proceed(targetMethodArgs);\r\n  }\r\n\r\n  private boolean valid(String id) {\r\n    return id.contains(&quot;0&quot;);\r\n  }\r\n}\r\n```\r\n\r\n**Driver application:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\nimport org.springframework.aop.framework.Advised;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.validation.beanvalidation.MethodValidationInterceptor;\r\n\r\nimport java.util.Arrays;\r\n\r\n@SpringBootApplication\r\n@Configuration\r\npublic class DemoApplication {\r\n  public static void main(String[] args) throws Throwable {\r\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\r\n      doStuff(appContext);\r\n    }\r\n  }\r\n\r\n  private static void doStuff(ConfigurableApplicationContext appContext) {\r\n    MyRestController restController = appContext.getBean(MyRestController.class);\r\n    //reorderAdvisorsMethodValidationFirst(restController);\r\n\r\n    printIDInfo(restController, &quot;1234567890&quot;, &quot;Valid @Pattern, valid @Size, valid for aspect (contains &#39;0&#39;)&quot;);\r\n    printIDInfo(restController, &quot;123456789&quot;, &quot;Valid @Pattern, valid @Size, invalid for aspect (does not contain &#39;0&#39;)&quot;);\r\n    printIDInfo(restController, &quot;123&quot;, &quot;Valid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)&quot;);\r\n    printIDInfo(restController, &quot;250&quot;, &quot;Valid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)&quot;);\r\n    printIDInfo(restController, &quot;x&quot;, &quot;Invalid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)&quot;);\r\n    printIDInfo(restController, &quot;A0&quot;, &quot;Invalid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)&quot;);\r\n  }\r\n\r\n  private static void printIDInfo(MyRestController restController, String id, String infoMessage) {\r\n    try {\r\n      System.out.println(infoMessage);\r\n      System.out.println(&quot;ID info: &quot; + restController.getIDInformation(id, null, new SomeClass(&quot;ABC&quot;)));\r\n    }\r\n    catch (Exception e) {\r\n      System.out.println(e);\r\n    }\r\n    System.out.println(&quot;----------&quot;);\r\n  }\r\n\r\n  public static void reorderAdvisorsMethodValidationFirst(Object targetBean) {\r\n    if (!(targetBean instanceof Advised))\r\n      return;\r\n    Advised advisedBean = (Advised) targetBean;\r\n    Arrays.stream(advisedBean.getAdvisors())\r\n      .filter(advisor -&gt; !(advisor.getAdvice() instanceof MethodValidationInterceptor))\r\n      .forEach(advisor -&gt; {\r\n        advisedBean.removeAdvisor(advisor);\r\n        advisedBean.addAdvisor(advisor);\r\n      });\r\n  }\r\n}\r\n```\r\n\r\nPlease note the one helper method call I commented out. When running the application like this, the console log says:\r\n\r\n```none\r\nValid @Pattern, valid @Size, valid for aspect (contains &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 1234567890\r\nID info: 1234567890-ASPECT\r\n----------\r\nValid @Pattern, valid @Size, invalid for aspect (does not contain &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 123456789\r\njava.lang.IllegalArgumentException: invalid ID 123456789\r\n----------\r\nValid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 123\r\njava.lang.IllegalArgumentException: invalid ID 123\r\n----------\r\nValid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 250\r\njavax.validation.ConstraintViolationException: getIDInformation.id: ID 250 must be 9-10 numbers long\r\n----------\r\nInvalid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; x\r\njava.lang.IllegalArgumentException: invalid ID x\r\n----------\r\nInvalid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; A0\r\njavax.validation.ConstraintViolationException: getIDInformation.id: Non-numeric ID A0, getIDInformation.id: ID A0 must be 9-10 numbers long\r\n```\r\n\r\nAs you can see from the logged `execution` joinpoints and ensuing `IllegalArgumentException`s, the aspect kicks in before method argument validation, just as you described.\r\n\r\nNow, let us uncomment (i.e. activate)\r\n\r\n```java\r\nreorderAdvisorsMethodValidationFirst(restController);\r\n```\r\n\r\nWhat the method does, is\r\n  * to check if the target object is an advised Spring bean,\r\n  * if so, reorder the list of advisors by simply\r\n    * temporarily removing each advisor which does not have a `MethodValidationInterceptor` advice\r\n    * and then immediately appending it to the end of the list again.\r\n\r\nThe effect is that now the method validation interceptors take precedence over other advice types for the target bean. The console log consequently changes to:\r\n\r\n```none\r\nValid @Pattern, valid @Size, valid for aspect (contains &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 1234567890\r\nID info: 1234567890-ASPECT\r\n----------\r\nValid @Pattern, valid @Size, invalid for aspect (does not contain &#39;0&#39;)\r\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 123456789\r\njava.lang.IllegalArgumentException: invalid ID 123456789\r\n----------\r\nValid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)\r\njavax.validation.ConstraintViolationException: getIDInformation.id: ID 123 must be 9-10 numbers long\r\n----------\r\nValid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)\r\njavax.validation.ConstraintViolationException: getIDInformation.id: ID 250 must be 9-10 numbers long\r\n----------\r\nInvalid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)\r\njavax.validation.ConstraintViolationException: getIDInformation.id: Non-numeric ID x, getIDInformation.id: ID x must be 9-10 numbers long\r\n----------\r\nInvalid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)\r\njavax.validation.ConstraintViolationException: getIDInformation.id: ID A0 must be 9-10 numbers long, getIDInformation.id: Non-numeric ID A0\r\n```\r\n\r\nSee? Now the aspect only kicks in in the first two cases, after method parameter validation has been passed successfully.\r\n\r\nSome Spring AOP internals:\r\n  * Method `CglibAopProxy.DynamicAdvisedInterceptor.intercept` calls `this.advised.getInterceptorsAndDynamicInterceptionAdvice(method, targetClass)`.\r\n  * `this.advised` is of type `AdvisedSupport`, which is a public type, but unfortunately `CglibAopProxy.DynamicAdvisedInterceptor` is a private static inner class of `CglibAopProxy` and only used internally.\r\n  *  So there is no good way to get hold of the `AdvisedSupport` instance and e.g. call its `setAdvisorChainFactory` method. If that was possible, you could just inject a factory returning a list of advisors in an order different from the default one (a `DefaultAdvisorChainFactory`).\r\n\r\nMaybe some Spring pros here know of a canonical way to influence the internal advisor chain order by configuring Spring in order to wire the application the way you want it to, but I really do not know. I am just an AOP (mostly AspectJ) expert who sometimes looks into more specific Spring AOP questions.\r\n\r\n### Proof of concept, version 2\r\n\r\nOK, I refactored the original solution into something more generic, using a `BeanPostProcessor`. The post-processor will\r\n  * be called automatically for each Spring instantiated bean,\r\n  * check if the created bean is `Advised` (i.e. is a Spring proxy with advisors),\r\n  * filter for advised bean classes with `@Validated` annotations,\r\n  * re-order the advisors like in my original solution.\r\n\r\nThe advantage is that there is no more need to manually fetch bean instances from the application context and call `reorderAdvisorsMethodValidationFirst(..)` on them one by one. Spring takes care of post-processing each bean, which is how it is supposed to be. Sorry for coming up with this solution only in iteration #2, but like I said, I am a Spring noob.\r\n\r\n**Updated, simplified driver application:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@SpringBootApplication\r\n@Configuration\r\npublic class DemoApplication {\r\n  private static MyRestController restController;\r\n\r\n  public static void main(String[] args) throws Throwable {\r\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\r\n      doStuff(appContext);\r\n    }\r\n  }\r\n\r\n  private static void doStuff(ConfigurableApplicationContext appContext) {\r\n    restController = appContext.getBean(MyRestController.class);\r\n    printIDInfo(&quot;1234567890&quot;, &quot;Valid @Pattern, valid @Size, valid for aspect (contains &#39;0&#39;)&quot;);\r\n    printIDInfo(&quot;123456789&quot;, &quot;Valid @Pattern, valid @Size, invalid for aspect (does not contain &#39;0&#39;)&quot;);\r\n    printIDInfo(&quot;123&quot;, &quot;Valid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)&quot;);\r\n    printIDInfo(&quot;250&quot;, &quot;Valid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)&quot;);\r\n    printIDInfo(&quot;x&quot;, &quot;Invalid @Pattern, invalid @Size, invalid for aspect (does not contain &#39;0&#39;)&quot;);\r\n    printIDInfo(&quot;A0&quot;, &quot;Invalid @Pattern, invalid @Size, valid for aspect (contains &#39;0&#39;)&quot;);\r\n  }\r\n\r\n  private static void printIDInfo(String id, String infoMessage) {\r\n    try {\r\n      System.out.println(infoMessage);\r\n      System.out.println(&quot;ID info: &quot; + restController.getIDInformation(id, null, new SomeClass(&quot;ABC&quot;)));\r\n    }\r\n    catch (Exception e) {\r\n      System.out.println(e);\r\n    }\r\n    System.out.println(&quot;----------&quot;);\r\n  }\r\n\r\n}\r\n```\r\n\r\n**Bean post-processor:**\r\n\r\n```java\r\npackage de.scrum_master.spring.q71219717;\r\n\r\nimport org.springframework.aop.framework.Advised;\r\nimport org.springframework.beans.BeansException;\r\nimport org.springframework.beans.factory.config.BeanPostProcessor;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.validation.beanvalidation.MethodValidationInterceptor;\r\n\r\nimport java.util.Arrays;\r\n\r\n@Component\r\npublic class MethodValidationFirstBeanPostProcessor implements BeanPostProcessor {\r\n  @Override\r\n  public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n    if (bean instanceof Advised) {\r\n      Advised advisedBean = (Advised) bean;\r\n      if (advisedBean.getTargetSource().getTargetClass().isAnnotationPresent(Validated.class)) {\r\n        System.out.println(&quot;Reordering advisors to \\&quot;method validation first\\&quot; for bean &quot; + beanName);\r\n        reorderAdvisorsMethodValidationFirst(advisedBean);\r\n      }\r\n    }\r\n    return BeanPostProcessor.super.postProcessAfterInitialization(bean, beanName);\r\n  }\r\n\r\n  public void reorderAdvisorsMethodValidationFirst(Advised advisedBean) {\r\n    Arrays.stream(advisedBean.getAdvisors())\r\n      .filter(advisor -&gt; !(advisor.getAdvice() instanceof MethodValidationInterceptor))\r\n      .forEach(advisor -&gt; {\r\n        advisedBean.removeAdvisor(advisor);\r\n        advisedBean.addAdvisor(advisor);\r\n      });\r\n  }\r\n}\r\n```\r\n\r\nThe console logs with and without the active post-processor remain the same as in the original solution.","title":"How to make @Around advice (Spring AOP) on RestController GET Method execute after constraint validation in the GET method?","body":"<h3>Preface</h3>\n<p>I am not a Spring user, so I cannot tell you</p>\n<ul>\n<li>if there is any way to influence the order of advisor application for any advised bean in a generic, non-invasive way,</li>\n<li>where exactly Spring creates the list of advisors associated with an advised bean while wiring the application.</li>\n</ul>\n<p>What I did find out, however, is that once the list of advisors for an advised bean has been set, it is simply applied in the order of elements in the list. You can influence aspect precedence via <code>@Order</code> or implementing <code>@Ordered</code>, but I have no idea if that approach can somehow be applied to method validation advisors.</p>\n<h3>Proof of concept, version 1</h3>\n<p>Because I was curious, I created a proof-of-concept, hacky workaround. Here is my <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> replicating your original situation:</p>\n<p><strong>Service, controller and helper classes:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\npublic class SomeClass {\n  private final String suffix;\n\n  public SomeClass(String suffix) {\n    this.suffix = suffix;\n  }\n\n  public String getSuffix() {\n    return suffix;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MyService {\n  public String getIDInformation(long id, SomeClass someObject) {\n    return id + &quot;-&quot; + someObject.getSuffix();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.validation.constraints.Pattern;\nimport javax.validation.constraints.Size;\n\n@RestController\n@Validated\npublic class MyRestController {\n  @Autowired\n  MyService service;\n\n  @GetMapping(&quot;/v1/{id}&quot;)\n  public Object getIDInformation(\n    @PathVariable(&quot;id&quot;)\n    @Pattern(regexp = &quot;^[0-9]*$&quot;, message = &quot;Non-numeric ID ${validatedValue}&quot;)\n    @Size(min = 9, max = 10, message = &quot;ID ${validatedValue} must be {min}-{max} numbers long&quot;)\n      String id,\n    HttpServletRequest httpRequest,\n    SomeClass someObject\n  )\n  {\n    return service.getIDInformation(Long.parseLong(id), someObject);\n  }\n}\n</code></pre>\n<p><strong>Aspect:</strong></p>\n<p>My dummy for the missing <code>valid(String id)</code> method in your example simply returns <code>true</code> if the ID contains a <code>'0'</code> character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.http.HttpServletRequest;\n\n@Aspect\n@Component\npublic class MyRestControllerAspect {\n  @Around(\n    &quot;execution(* de.scrum_master.spring.q71219717.MyRestController.getIDInformation(..)) &amp;&amp; &quot; +\n    &quot;args(id, httpRequest, ..)&quot;\n  )\n  public Object aspectMethod(ProceedingJoinPoint pjp, String id, HttpServletRequest httpRequest)\n    throws Throwable\n  {\n    System.out.println(pjp + &quot; -&gt; &quot; + id);\n    SomeClass changedValue = new SomeClass(&quot;ASPECT&quot;);\n    SomeClass someObject = changedValue;\n    Object[] targetMethodArgs = pjp.getArgs();\n\n    if (!valid(id)) {\n      throw new IllegalArgumentException(&quot;invalid ID &quot; + id);\n    }\n    else {\n      // Make use of HttpServletRequest httpRequest (not shown here) to modify\n      // SomeClass someObject argument in the target method\n      for (int i = 0; i &lt; targetMethodArgs.length; i++) {\n        if (targetMethodArgs[i] instanceof SomeClass) {\n          targetMethodArgs[i] = someObject;\n        }\n      }\n    }\n\n    return pjp.proceed(targetMethodArgs);\n  }\n\n  private boolean valid(String id) {\n    return id.contains(&quot;0&quot;);\n  }\n}\n</code></pre>\n<p><strong>Driver application:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\nimport org.springframework.aop.framework.Advised;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.validation.beanvalidation.MethodValidationInterceptor;\n\nimport java.util.Arrays;\n\n@SpringBootApplication\n@Configuration\npublic class DemoApplication {\n  public static void main(String[] args) throws Throwable {\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\n      doStuff(appContext);\n    }\n  }\n\n  private static void doStuff(ConfigurableApplicationContext appContext) {\n    MyRestController restController = appContext.getBean(MyRestController.class);\n    //reorderAdvisorsMethodValidationFirst(restController);\n\n    printIDInfo(restController, &quot;1234567890&quot;, &quot;Valid @Pattern, valid @Size, valid for aspect (contains '0')&quot;);\n    printIDInfo(restController, &quot;123456789&quot;, &quot;Valid @Pattern, valid @Size, invalid for aspect (does not contain '0')&quot;);\n    printIDInfo(restController, &quot;123&quot;, &quot;Valid @Pattern, invalid @Size, invalid for aspect (does not contain '0')&quot;);\n    printIDInfo(restController, &quot;250&quot;, &quot;Valid @Pattern, invalid @Size, valid for aspect (contains '0')&quot;);\n    printIDInfo(restController, &quot;x&quot;, &quot;Invalid @Pattern, invalid @Size, invalid for aspect (does not contain '0')&quot;);\n    printIDInfo(restController, &quot;A0&quot;, &quot;Invalid @Pattern, invalid @Size, valid for aspect (contains '0')&quot;);\n  }\n\n  private static void printIDInfo(MyRestController restController, String id, String infoMessage) {\n    try {\n      System.out.println(infoMessage);\n      System.out.println(&quot;ID info: &quot; + restController.getIDInformation(id, null, new SomeClass(&quot;ABC&quot;)));\n    }\n    catch (Exception e) {\n      System.out.println(e);\n    }\n    System.out.println(&quot;----------&quot;);\n  }\n\n  public static void reorderAdvisorsMethodValidationFirst(Object targetBean) {\n    if (!(targetBean instanceof Advised))\n      return;\n    Advised advisedBean = (Advised) targetBean;\n    Arrays.stream(advisedBean.getAdvisors())\n      .filter(advisor -&gt; !(advisor.getAdvice() instanceof MethodValidationInterceptor))\n      .forEach(advisor -&gt; {\n        advisedBean.removeAdvisor(advisor);\n        advisedBean.addAdvisor(advisor);\n      });\n  }\n}\n</code></pre>\n<p>Please note the one helper method call I commented out. When running the application like this, the console log says:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Valid @Pattern, valid @Size, valid for aspect (contains '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 1234567890\nID info: 1234567890-ASPECT\n----------\nValid @Pattern, valid @Size, invalid for aspect (does not contain '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 123456789\njava.lang.IllegalArgumentException: invalid ID 123456789\n----------\nValid @Pattern, invalid @Size, invalid for aspect (does not contain '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 123\njava.lang.IllegalArgumentException: invalid ID 123\n----------\nValid @Pattern, invalid @Size, valid for aspect (contains '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 250\njavax.validation.ConstraintViolationException: getIDInformation.id: ID 250 must be 9-10 numbers long\n----------\nInvalid @Pattern, invalid @Size, invalid for aspect (does not contain '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; x\njava.lang.IllegalArgumentException: invalid ID x\n----------\nInvalid @Pattern, invalid @Size, valid for aspect (contains '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; A0\njavax.validation.ConstraintViolationException: getIDInformation.id: Non-numeric ID A0, getIDInformation.id: ID A0 must be 9-10 numbers long\n</code></pre>\n<p>As you can see from the logged <code>execution</code> joinpoints and ensuing <code>IllegalArgumentException</code>s, the aspect kicks in before method argument validation, just as you described.</p>\n<p>Now, let us uncomment (i.e. activate)</p>\n<pre class=\"lang-java prettyprint-override\"><code>reorderAdvisorsMethodValidationFirst(restController);\n</code></pre>\n<p>What the method does, is</p>\n<ul>\n<li>to check if the target object is an advised Spring bean,</li>\n<li>if so, reorder the list of advisors by simply\n<ul>\n<li>temporarily removing each advisor which does not have a <code>MethodValidationInterceptor</code> advice</li>\n<li>and then immediately appending it to the end of the list again.</li>\n</ul>\n</li>\n</ul>\n<p>The effect is that now the method validation interceptors take precedence over other advice types for the target bean. The console log consequently changes to:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Valid @Pattern, valid @Size, valid for aspect (contains '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 1234567890\nID info: 1234567890-ASPECT\n----------\nValid @Pattern, valid @Size, invalid for aspect (does not contain '0')\nexecution(Object de.scrum_master.spring.q71219717.MyRestController.getIDInformation(String,HttpServletRequest,SomeClass)) -&gt; 123456789\njava.lang.IllegalArgumentException: invalid ID 123456789\n----------\nValid @Pattern, invalid @Size, invalid for aspect (does not contain '0')\njavax.validation.ConstraintViolationException: getIDInformation.id: ID 123 must be 9-10 numbers long\n----------\nValid @Pattern, invalid @Size, valid for aspect (contains '0')\njavax.validation.ConstraintViolationException: getIDInformation.id: ID 250 must be 9-10 numbers long\n----------\nInvalid @Pattern, invalid @Size, invalid for aspect (does not contain '0')\njavax.validation.ConstraintViolationException: getIDInformation.id: Non-numeric ID x, getIDInformation.id: ID x must be 9-10 numbers long\n----------\nInvalid @Pattern, invalid @Size, valid for aspect (contains '0')\njavax.validation.ConstraintViolationException: getIDInformation.id: ID A0 must be 9-10 numbers long, getIDInformation.id: Non-numeric ID A0\n</code></pre>\n<p>See? Now the aspect only kicks in in the first two cases, after method parameter validation has been passed successfully.</p>\n<p>Some Spring AOP internals:</p>\n<ul>\n<li>Method <code>CglibAopProxy.DynamicAdvisedInterceptor.intercept</code> calls <code>this.advised.getInterceptorsAndDynamicInterceptionAdvice(method, targetClass)</code>.</li>\n<li><code>this.advised</code> is of type <code>AdvisedSupport</code>, which is a public type, but unfortunately <code>CglibAopProxy.DynamicAdvisedInterceptor</code> is a private static inner class of <code>CglibAopProxy</code> and only used internally.</li>\n<li>So there is no good way to get hold of the <code>AdvisedSupport</code> instance and e.g. call its <code>setAdvisorChainFactory</code> method. If that was possible, you could just inject a factory returning a list of advisors in an order different from the default one (a <code>DefaultAdvisorChainFactory</code>).</li>\n</ul>\n<p>Maybe some Spring pros here know of a canonical way to influence the internal advisor chain order by configuring Spring in order to wire the application the way you want it to, but I really do not know. I am just an AOP (mostly AspectJ) expert who sometimes looks into more specific Spring AOP questions.</p>\n<h3>Proof of concept, version 2</h3>\n<p>OK, I refactored the original solution into something more generic, using a <code>BeanPostProcessor</code>. The post-processor will</p>\n<ul>\n<li>be called automatically for each Spring instantiated bean,</li>\n<li>check if the created bean is <code>Advised</code> (i.e. is a Spring proxy with advisors),</li>\n<li>filter for advised bean classes with <code>@Validated</code> annotations,</li>\n<li>re-order the advisors like in my original solution.</li>\n</ul>\n<p>The advantage is that there is no more need to manually fetch bean instances from the application context and call <code>reorderAdvisorsMethodValidationFirst(..)</code> on them one by one. Spring takes care of post-processing each bean, which is how it is supposed to be. Sorry for coming up with this solution only in iteration #2, but like I said, I am a Spring noob.</p>\n<p><strong>Updated, simplified driver application:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Configuration;\n\n@SpringBootApplication\n@Configuration\npublic class DemoApplication {\n  private static MyRestController restController;\n\n  public static void main(String[] args) throws Throwable {\n    try (ConfigurableApplicationContext appContext = SpringApplication.run(DemoApplication.class, args)) {\n      doStuff(appContext);\n    }\n  }\n\n  private static void doStuff(ConfigurableApplicationContext appContext) {\n    restController = appContext.getBean(MyRestController.class);\n    printIDInfo(&quot;1234567890&quot;, &quot;Valid @Pattern, valid @Size, valid for aspect (contains '0')&quot;);\n    printIDInfo(&quot;123456789&quot;, &quot;Valid @Pattern, valid @Size, invalid for aspect (does not contain '0')&quot;);\n    printIDInfo(&quot;123&quot;, &quot;Valid @Pattern, invalid @Size, invalid for aspect (does not contain '0')&quot;);\n    printIDInfo(&quot;250&quot;, &quot;Valid @Pattern, invalid @Size, valid for aspect (contains '0')&quot;);\n    printIDInfo(&quot;x&quot;, &quot;Invalid @Pattern, invalid @Size, invalid for aspect (does not contain '0')&quot;);\n    printIDInfo(&quot;A0&quot;, &quot;Invalid @Pattern, invalid @Size, valid for aspect (contains '0')&quot;);\n  }\n\n  private static void printIDInfo(String id, String infoMessage) {\n    try {\n      System.out.println(infoMessage);\n      System.out.println(&quot;ID info: &quot; + restController.getIDInformation(id, null, new SomeClass(&quot;ABC&quot;)));\n    }\n    catch (Exception e) {\n      System.out.println(e);\n    }\n    System.out.println(&quot;----------&quot;);\n  }\n\n}\n</code></pre>\n<p><strong>Bean post-processor:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.spring.q71219717;\n\nimport org.springframework.aop.framework.Advised;\nimport org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.BeanPostProcessor;\nimport org.springframework.stereotype.Component;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.validation.beanvalidation.MethodValidationInterceptor;\n\nimport java.util.Arrays;\n\n@Component\npublic class MethodValidationFirstBeanPostProcessor implements BeanPostProcessor {\n  @Override\n  public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n    if (bean instanceof Advised) {\n      Advised advisedBean = (Advised) bean;\n      if (advisedBean.getTargetSource().getTargetClass().isAnnotationPresent(Validated.class)) {\n        System.out.println(&quot;Reordering advisors to \\&quot;method validation first\\&quot; for bean &quot; + beanName);\n        reorderAdvisorsMethodValidationFirst(advisedBean);\n      }\n    }\n    return BeanPostProcessor.super.postProcessAfterInitialization(bean, beanName);\n  }\n\n  public void reorderAdvisorsMethodValidationFirst(Advised advisedBean) {\n    Arrays.stream(advisedBean.getAdvisors())\n      .filter(advisor -&gt; !(advisor.getAdvice() instanceof MethodValidationInterceptor))\n      .forEach(advisor -&gt; {\n        advisedBean.removeAdvisor(advisor);\n        advisedBean.addAdvisor(advisor);\n      });\n  }\n}\n</code></pre>\n<p>The console logs with and without the active post-processor remain the same as in the original solution.</p>\n"}],"owner":{"account_id":6383452,"reputation":83,"user_id":4952070,"display_name":"Barani"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71261070,"answer_count":1,"score":1,"last_activity_date":1645769660,"creation_date":1645526131,"question_id":71219717,"body_markdown":"I want constraint validation in the method to happen before around advice aspect execution, but I see the opposite happening. The aspect is triggered without validation.\r\n\r\nI have the following RestController class:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n```java\r\npackage com.pkg;\r\n\r\n@RestController\r\n@Validated\r\npublic class RestController {\r\n  @GetMapping(&quot;/v1/{id}&quot;)\r\n  public Object getIDInformation(\r\n    @PathVariable(&quot;id&quot;)\r\n    @Pattern(regexp = &quot;^[0-9]*$&quot;, message = &quot;Non numeric id&quot;)\r\n    @Size(min = 9, max = 10, message = &quot;Invalid id&quot;)\r\n      String id,\r\n    HttpServletRequest httpRequest,\r\n    SomeClass someObject\r\n  )\r\n  {\r\n    return service.getIDInformation(Long.parseLong(id), someObject);\r\n  }\r\n}\r\n```\r\n\r\nThen I have the following around aspect advice in a different class:\r\n\r\n```java\r\n@Around(\r\n  &quot;execution(* com.pkg.RestController.getIDInformation(..)) &amp;&amp; &quot; +\r\n  &quot;args(id,httpRequest,..)&quot;\r\n)\r\npublic Object aspectMethod(ProceedingJoinPoint pjp, String id, HttpServletRequest httpRequest)\r\n  throws Throwable\r\n{\r\n  SomeClass someObject = changedValue;\r\n  Object[] targetMethodArgs = pjp.getArgs();\r\n\r\n  if (!valid(id)) {\r\n    //throw Exception\r\n  }\r\n  else {\r\n    // Make use of HttpServletRequest httpRequest (not shown here) to modify\r\n    // SomeClass someObject argument in the target method\r\n    for (int i = 0; i &lt; targetMethodArgs.length; i++) {\r\n      if (targetMethodArgs[i] instanceof SomeClass) {\r\n        targetMethodArgs[i] = someObject;\r\n      }\r\n    }\r\n  }\r\n\r\n  return pjp.proceed(targetMethodArgs);\r\n}\r\n```\r\n\r\nIf a request is made to GET handler method, the constraint validation for id path variable has to occur first before the around advice can execute. Is there any way I can achieve this?","title":"How to make @Around advice (Spring AOP) on RestController GET Method execute after constraint validation in the GET method?","body":"<p>I want constraint validation in the method to happen before around advice aspect execution, but I see the opposite happening. The aspect is triggered without validation.</p>\n<p>I have the following RestController class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.pkg;\n\n@RestController\n@Validated\npublic class RestController {\n  @GetMapping(&quot;/v1/{id}&quot;)\n  public Object getIDInformation(\n    @PathVariable(&quot;id&quot;)\n    @Pattern(regexp = &quot;^[0-9]*$&quot;, message = &quot;Non numeric id&quot;)\n    @Size(min = 9, max = 10, message = &quot;Invalid id&quot;)\n      String id,\n    HttpServletRequest httpRequest,\n    SomeClass someObject\n  )\n  {\n    return service.getIDInformation(Long.parseLong(id), someObject);\n  }\n}\n</code></pre>\n<p>Then I have the following around aspect advice in a different class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(\n  &quot;execution(* com.pkg.RestController.getIDInformation(..)) &amp;&amp; &quot; +\n  &quot;args(id,httpRequest,..)&quot;\n)\npublic Object aspectMethod(ProceedingJoinPoint pjp, String id, HttpServletRequest httpRequest)\n  throws Throwable\n{\n  SomeClass someObject = changedValue;\n  Object[] targetMethodArgs = pjp.getArgs();\n\n  if (!valid(id)) {\n    //throw Exception\n  }\n  else {\n    // Make use of HttpServletRequest httpRequest (not shown here) to modify\n    // SomeClass someObject argument in the target method\n    for (int i = 0; i &lt; targetMethodArgs.length; i++) {\n      if (targetMethodArgs[i] instanceof SomeClass) {\n        targetMethodArgs[i] = someObject;\n      }\n    }\n  }\n\n  return pjp.proceed(targetMethodArgs);\n}\n</code></pre>\n<p>If a request is made to GET handler method, the constraint validation for id path variable has to occur first before the around advice can execute. Is there any way I can achieve this?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2840852,"reputation":1466,"user_id":2613848,"accept_rate":36,"display_name":"RaviPatidar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645769262,"creation_date":1645769262,"answer_id":71261741,"question_id":71261696,"body_markdown":"You can use `@DynamicUpdate` annotation in your entity class. This will help you to update only one column\r\nActually, when we use `@DynamicUpdate` on an entity, Hibernate does not use the cached SQL statement for the update. Instead, it will generate a SQL statement each time we update the entity. This generated SQL includes only the changed columns.\r\n\r\nIn order to find out the changed columns, Hibernate needs to track the state of the current entity. So, when we change any field of an entity, it compares the current and the modified states of the entity.\r\nSo, I hope this will print now on your console.\r\n\r\n    update my_table set name=? where id=?\r\n\r\n[Ref Tutorial][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-dynamicupdate","title":"Hibernate JPA Entity want to persisit only one column","body":"<p>You can use <code>@DynamicUpdate</code> annotation in your entity class. This will help you to update only one column\nActually, when we use <code>@DynamicUpdate</code> on an entity, Hibernate does not use the cached SQL statement for the update. Instead, it will generate a SQL statement each time we update the entity. This generated SQL includes only the changed columns.</p>\n<p>In order to find out the changed columns, Hibernate needs to track the state of the current entity. So, when we change any field of an entity, it compares the current and the modified states of the entity.\nSo, I hope this will print now on your console.</p>\n<pre><code>update my_table set name=? where id=?\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-data-jpa-dynamicupdate\" rel=\"nofollow noreferrer\">Ref Tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645769304,"creation_date":1645769304,"answer_id":71261748,"question_id":71261696,"body_markdown":"The default behavior is that when you update a Hibernate entity, _all_ fields on the entity will be updated in the underlying database record.  Note that this is not wrong, assuming the same values are being used for updates on columns as the values which were initially read.\r\n\r\nIf you really want an update of just a single column, you may create a JPA repository method for that, e.g.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Modifying\r\n    @Query(&quot;update MyTable m set m.name = :name where m.id = :id&quot;)\r\n    void updateName(@Param(&quot;name&quot;) String name, @Param(&quot;id&quot;) Long id);\r\n\r\nIf you examine the SQL generated by the above, it will really only update one column.\r\n\r\nNote that on some databases, updates to columns where the value does not change will actually be _ignored_, q.v. [this SO question](https://stackoverflow.com/questions/35364214/does-mysql-overwrite-a-column-of-same-value-on-update).","title":"Hibernate JPA Entity want to persisit only one column","body":"<p>The default behavior is that when you update a Hibernate entity, <em>all</em> fields on the entity will be updated in the underlying database record.  Note that this is not wrong, assuming the same values are being used for updates on columns as the values which were initially read.</p>\n<p>If you really want an update of just a single column, you may create a JPA repository method for that, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Modifying\n@Query(&quot;update MyTable m set m.name = :name where m.id = :id&quot;)\nvoid updateName(@Param(&quot;name&quot;) String name, @Param(&quot;id&quot;) Long id);\n</code></pre>\n<p>If you examine the SQL generated by the above, it will really only update one column.</p>\n<p>Note that on some databases, updates to columns where the value does not change will actually be <em>ignored</em>, q.v. <a href=\"https://stackoverflow.com/questions/35364214/does-mysql-overwrite-a-column-of-same-value-on-update\">this SO question</a>.</p>\n"}],"owner":{"account_id":24372981,"reputation":3,"user_id":18305665,"display_name":"Tanmay Dighe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71261741,"answer_count":2,"score":0,"last_activity_date":1645769304,"creation_date":1645768920,"question_id":71261696,"body_markdown":"Please suggest me a way to update one column in JPA Entity.\r\nMy code\r\n\r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class MyTable {\r\n    \r\n    \r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, updatable = false)\r\n    private Integer id;\r\n    \r\n    \r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    \r\n    \r\n    \r\n    @Column(name = &quot;mobile&quot;)\r\n    private Integer mobile;\r\n    \r\n    @Column(name = &quot;address&quot;)\r\n    private String address;\r\n    \r\n    @Column(name = &quot;gender&quot;)\r\n    private String gender;\r\n    }\r\n\r\n\r\nwhen I want to update my entity it updates all the columns but only wants to update only one column\r\n\r\n\r\n\r\n    MyTable myTable = myRepo.findMyTableById(1);\r\n    \r\n    myTable.setName(&quot;ra&quot;);\r\n    \r\n    repo.save();\r\n\r\nin this case query printing\r\n\r\n    update Account set name=?, mobile=?, address=?, gender=? where id=?\r\n\r\nbut I want to update only one column value why it is updating all the columns?","title":"Hibernate JPA Entity want to persisit only one column","body":"<p>Please suggest me a way to update one column in JPA Entity.\nMy code</p>\n<pre><code>@Entity\n@Table(name = &quot;my_table&quot;)\npublic class MyTable {\n\n\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;, updatable = false)\nprivate Integer id;\n\n\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n\n\n@Column(name = &quot;mobile&quot;)\nprivate Integer mobile;\n\n@Column(name = &quot;address&quot;)\nprivate String address;\n\n@Column(name = &quot;gender&quot;)\nprivate String gender;\n}\n</code></pre>\n<p>when I want to update my entity it updates all the columns but only wants to update only one column</p>\n<pre><code>MyTable myTable = myRepo.findMyTableById(1);\n\nmyTable.setName(&quot;ra&quot;);\n\nrepo.save();\n</code></pre>\n<p>in this case query printing</p>\n<pre><code>update Account set name=?, mobile=?, address=?, gender=? where id=?\n</code></pre>\n<p>but I want to update only one column value why it is updating all the columns?</p>\n"},{"tags":["java","android","android-studio","android-jetpack","android-jetpack-navigation"],"owner":{"account_id":19898777,"reputation":11,"user_id":15423770,"display_name":"Swathi Kedarasetty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645768473,"creation_date":1645768473,"question_id":71261627,"body_markdown":"I&#39;m trying to use safeargs plugin to pass data and navigate from one fragment to another. After adding the arguments in the destination fragment in the navigation graph, and choosing rebuild, I&#39;m not getting the autogenerated directions class and Args class.\r\nI followed the official docs and added the necessary dependecies for safeargs. I did set android.useAndroidX to true in the gradle.properties as well.\r\n\r\nMy app level build.gradle file:\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;androidx.navigation.safeargs&#39;\r\n}\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.fragnavpractise&quot;\r\n        minSdk 23\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    def nav_version = &quot;2.4.1&quot;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n\r\n    // Java language implementation\r\n    implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\r\n\r\n    // Kotlin\r\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\r\n\r\n    // Feature module Support\r\n    implementation &quot;androidx.navigation:navigation-dynamic-features-fragment:$nav_version&quot;\r\n\r\n    // Testing Navigation\r\n    androidTestImplementation &quot;androidx.navigation:navigation-testing:$nav_version&quot;\r\n\r\n    // Jetpack Compose Integration\r\n    implementation &quot;androidx.navigation:navigation-compose:$nav_version&quot;\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\nMy Project level build.gradle file:\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n    }\r\n    dependencies {\r\n        def nav_version = &quot;2.4.1&quot;\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n    }\r\n}\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.1.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.1.0&#39; apply false\r\n\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nMy Navigation graph:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/payment_navigation_graph&quot;\r\n    app:startDestination=&quot;@id/launchFragment&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/launchFragment&quot;\r\n        android:name=&quot;com.example.fragnavpractise.LaunchFragment&quot;\r\n        android:label=&quot;fragment_launch&quot;\r\n        tools:layout=&quot;@layout/fragment_launch&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_launchFragment_to_payFragment&quot;\r\n            app:destination=&quot;@id/payFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/payFragment&quot;\r\n        android:name=&quot;com.example.fragnavpractise.PayFragment&quot;\r\n        android:label=&quot;fragment_pay&quot;\r\n        tools:layout=&quot;@layout/fragment_pay&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_payFragment_to_finishFragment&quot;\r\n            app:destination=&quot;@id/finishFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/finishFragment&quot;\r\n        android:name=&quot;com.example.fragnavpractise.FinishFragment&quot;\r\n        android:label=&quot;fragment_finish&quot;\r\n        tools:layout=&quot;@layout/fragment_finish&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_finishFragment_to_launchFragment&quot;\r\n            app:destination=&quot;@id/launchFragment&quot; /&gt;\r\n        &lt;argument\r\n            android:name=&quot;payee_name&quot;\r\n            app:argType=&quot;string&quot;\r\n            app:nullable=&quot;true&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n&lt;/navigation&gt;\r\n```\r\nI&#39;ve also tried to clean build and then rebuild. I did try different solutions in tutorials I found online but couldn&#39;t fix it. Please help me resolve this. Thanks in advance.","title":"Android jetpack Safeargs plugin is not generating direction classes (JAVA)","body":"<p>I'm trying to use safeargs plugin to pass data and navigate from one fragment to another. After adding the arguments in the destination fragment in the navigation graph, and choosing rebuild, I'm not getting the autogenerated directions class and Args class.\nI followed the official docs and added the necessary dependecies for safeargs. I did set android.useAndroidX to true in the gradle.properties as well.</p>\n<p>My app level build.gradle file:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'androidx.navigation.safeargs'\n}\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.fragnavpractise&quot;\n        minSdk 23\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    def nav_version = &quot;2.4.1&quot;\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n\n    // Java language implementation\n    implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\n\n    // Kotlin\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\n\n    // Feature module Support\n    implementation &quot;androidx.navigation:navigation-dynamic-features-fragment:$nav_version&quot;\n\n    // Testing Navigation\n    androidTestImplementation &quot;androidx.navigation:navigation-testing:$nav_version&quot;\n\n    // Jetpack Compose Integration\n    implementation &quot;androidx.navigation:navigation-compose:$nav_version&quot;\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>My Project level build.gradle file:</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n    }\n    dependencies {\n        def nav_version = &quot;2.4.1&quot;\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n    }\n}\nplugins {\n    id 'com.android.application' version '7.1.0' apply false\n    id 'com.android.library' version '7.1.0' apply false\n\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>My Navigation graph:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/payment_navigation_graph&quot;\n    app:startDestination=&quot;@id/launchFragment&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/launchFragment&quot;\n        android:name=&quot;com.example.fragnavpractise.LaunchFragment&quot;\n        android:label=&quot;fragment_launch&quot;\n        tools:layout=&quot;@layout/fragment_launch&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_launchFragment_to_payFragment&quot;\n            app:destination=&quot;@id/payFragment&quot; /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@+id/payFragment&quot;\n        android:name=&quot;com.example.fragnavpractise.PayFragment&quot;\n        android:label=&quot;fragment_pay&quot;\n        tools:layout=&quot;@layout/fragment_pay&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_payFragment_to_finishFragment&quot;\n            app:destination=&quot;@id/finishFragment&quot; /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@+id/finishFragment&quot;\n        android:name=&quot;com.example.fragnavpractise.FinishFragment&quot;\n        android:label=&quot;fragment_finish&quot;\n        tools:layout=&quot;@layout/fragment_finish&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_finishFragment_to_launchFragment&quot;\n            app:destination=&quot;@id/launchFragment&quot; /&gt;\n        &lt;argument\n            android:name=&quot;payee_name&quot;\n            app:argType=&quot;string&quot;\n            app:nullable=&quot;true&quot; /&gt;\n    &lt;/fragment&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p>I've also tried to clean build and then rebuild. I did try different solutions in tutorials I found online but couldn't fix it. Please help me resolve this. Thanks in advance.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645766531,"post_id":71261377,"comment_id":125963016,"body_markdown":"Declaring a field `aa` does not automatically create a method `getAa`.","body":"Declaring a field <code>aa</code> does not automatically create a method <code>getAa</code>."},{"owner":{"account_id":19727189,"reputation":39,"user_id":14443512,"display_name":"devac"},"score":0,"creation_date":1645766671,"post_id":71261377,"comment_id":125963042,"body_markdown":"Yeah, I have used the annotation in my actual code, forgot to paste it here. But I do have the method getAa() in both classes.","body":"Yeah, I have used the annotation in my actual code, forgot to paste it here. But I do have the method getAa() in both classes."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645766694,"post_id":71261377,"comment_id":125963046,"body_markdown":"But aside from that, `&lt;T&gt;` has no bounds, so `genericMethodName` can only assume that items in the list are `Object`. You need to have A and B implement a common interface which has the `getAa()` method on it. Then you can make the type variable be `&lt;T extends HasAa&gt;`.","body":"But aside from that, <code>&lt;T&gt;</code> has no bounds, so <code>genericMethodName</code> can only assume that items in the list are <code>Object</code>. You need to have A and B implement a common interface which has the <code>getAa()</code> method on it. Then you can make the type variable be <code>&lt;T extends HasAa&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645768020,"creation_date":1645768020,"answer_id":71261572,"question_id":71261377,"body_markdown":"An easy approach here is to make `A` and `B` inherit from a common parent that declares a `getAa()` method. This could be a simple interface.\r\n\r\nIf, however, `A` and `B` **must** remain unrelated, you can make the caller send the &quot;getter&quot; function that&#39;s applicable to the concrete type for `T`.\r\n\r\n\tprivate &lt;T&gt; T genericMethodName(String s, ToIntFunction&lt;T&gt; mapper) {\r\n\t\tList&lt;T&gt; AlistOrBlist = method which returns a list of objects of A or B\r\n\t\tAlistOrBlist = AlistOrBlist.stream()\r\n\t\t\t\t.filter(record -&gt; mapper.applyAsInt(record) == 0)\r\n\t\t\t\t.collect(Collectors.toList());\r\n\r\n\t\treturn AlistOrBlist.get(0);\r\n\t}\r\n\r\nIf you&#39;re using `objectType` in the call to resolve `AlistOrBlist`, you can still take it in as well. And if `getAa()` returns a different type than `int`, you can type `mapper` as `Function&lt;T, ReturnTypeOfGetAa&gt;`.\r\n\r\nYou call that in this way:\r\n\r\n    A result = c.genericMethodName(&quot;param&quot;, A::getAa);\r\n    B result = c.genericMethodName(&quot;param&quot;, B::getAa);","title":"Generic method in java - can not resolve method &#39;someMethod&#39; in T","body":"<p>An easy approach here is to make <code>A</code> and <code>B</code> inherit from a common parent that declares a <code>getAa()</code> method. This could be a simple interface.</p>\n<p>If, however, <code>A</code> and <code>B</code> <strong>must</strong> remain unrelated, you can make the caller send the &quot;getter&quot; function that's applicable to the concrete type for <code>T</code>.</p>\n<pre><code>private &lt;T&gt; T genericMethodName(String s, ToIntFunction&lt;T&gt; mapper) {\n    List&lt;T&gt; AlistOrBlist = method which returns a list of objects of A or B\n    AlistOrBlist = AlistOrBlist.stream()\n            .filter(record -&gt; mapper.applyAsInt(record) == 0)\n            .collect(Collectors.toList());\n\n    return AlistOrBlist.get(0);\n}\n</code></pre>\n<p>If you're using <code>objectType</code> in the call to resolve <code>AlistOrBlist</code>, you can still take it in as well. And if <code>getAa()</code> returns a different type than <code>int</code>, you can type <code>mapper</code> as <code>Function&lt;T, ReturnTypeOfGetAa&gt;</code>.</p>\n<p>You call that in this way:</p>\n<pre><code>A result = c.genericMethodName(&quot;param&quot;, A::getAa);\nB result = c.genericMethodName(&quot;param&quot;, B::getAa);\n</code></pre>\n"}],"owner":{"account_id":19727189,"reputation":39,"user_id":14443512,"display_name":"devac"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":730,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1645768020,"creation_date":1645766419,"question_id":71261377,"body_markdown":"I am new to the concept of generics in Java. I have a generic method whose return type is also a generic. \r\n\r\nI am getting this error, ```can not resolve method &#39;getAa&#39; in T```. Both classes do have this member variable but java does not understand this as the sub method returns a generic list of that object. Is there a way to get rid of this error? \r\n\r\nBelow is my code, \r\n \r\n```\r\nclass A {\r\n\tint aa;\r\n\tint bb;\r\n\r\n\tint getAa() {\r\n\t\treturn 1;\r\n\t}\r\n\r\n}\r\n\r\nclass B {\r\n\tint aa;\r\n\tint cc;\r\n\r\n\tint getAa() {\r\n\t\treturn 1;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nclass C {\r\n\tprivate &lt;T&gt; T genericMethodName(String s, Class&lt;T&gt; objectType) {\r\n\t\tList&lt;T&gt; AlistOrBlist = method which returns a list of objects of A or B\r\n\t\tAlistOrBlist = AlistOrBlist.stream()\r\n\t\t\t\t\t\t\t\t\t.filter(record -&gt; record.getAa().equals(&quot;&quot;))\r\n\t\t\t\t\t\t\t\t\t.collect(Collectors.toList());\r\n\t\t\r\n\t\treturn AlistOrBlist.get(0);\r\n\t}\r\n}\r\n```","title":"Generic method in java - can not resolve method &#39;someMethod&#39; in T","body":"<p>I am new to the concept of generics in Java. I have a generic method whose return type is also a generic.</p>\n<p>I am getting this error, <code>can not resolve method 'getAa' in T</code>. Both classes do have this member variable but java does not understand this as the sub method returns a generic list of that object. Is there a way to get rid of this error?</p>\n<p>Below is my code,</p>\n<pre><code>class A {\n    int aa;\n    int bb;\n\n    int getAa() {\n        return 1;\n    }\n\n}\n\nclass B {\n    int aa;\n    int cc;\n\n    int getAa() {\n        return 1;\n    }\n}\n</code></pre>\n<pre><code>class C {\n    private &lt;T&gt; T genericMethodName(String s, Class&lt;T&gt; objectType) {\n        List&lt;T&gt; AlistOrBlist = method which returns a list of objects of A or B\n        AlistOrBlist = AlistOrBlist.stream()\n                                    .filter(record -&gt; record.getAa().equals(&quot;&quot;))\n                                    .collect(Collectors.toList());\n        \n        return AlistOrBlist.get(0);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","user-interface","android-mediaprojection"],"owner":{"account_id":1390653,"reputation":421,"user_id":1321576,"accept_rate":61,"display_name":"Gimun Eom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645765746,"creation_date":1645765746,"question_id":71261306,"body_markdown":"I want to draw a view and exclude it from media projection.\r\n\r\n\r\nI found some apps already have this behavior, so I think it is possible.\r\nFor example, when I share screen of android mobile phone to Samsung TV, floating button and control pannel is only drawn on mobile phone, not on TV.\r\n\r\nI want to use media projection to capture screen, but I want to ignore some view. This view is a part of my app.\r\n\r\nHow can I draw a view or floating button excluded from media projection?","title":"How can I draw a view which is excluded from media projection?","body":"<p>I want to draw a view and exclude it from media projection.</p>\n<p>I found some apps already have this behavior, so I think it is possible.\nFor example, when I share screen of android mobile phone to Samsung TV, floating button and control pannel is only drawn on mobile phone, not on TV.</p>\n<p>I want to use media projection to capture screen, but I want to ignore some view. This view is a part of my app.</p>\n<p>How can I draw a view or floating button excluded from media projection?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1645728252,"post_id":71256417,"comment_id":125954703,"body_markdown":"Make them `static final`, which is better anyway, because it seems they are not intended to be used as a real instance variable.","body":"Make them <code>static final</code>, which is better anyway, because it seems they are not intended to be used as a real instance variable."}],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645729721,"creation_date":1645729721,"answer_id":71257063,"question_id":71256417,"body_markdown":"You can solve this case by adding modifier `static` to the function declaration.\r\nBut I&#39;m not sure about the reasons for such behavior, I think Lombok code generation can make decisions if works with class and can&#39;t if works with instance of class and lazy function.","title":"The Function implementation remains null if Lombok @Builder is used for initialization","body":"<p>You can solve this case by adding modifier <code>static</code> to the function declaration.\nBut I'm not sure about the reasons for such behavior, I think Lombok code generation can make decisions if works with class and can't if works with instance of class and lazy function.</p>\n"},{"tags":[],"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645765184,"creation_date":1645765184,"answer_id":71261251,"question_id":71256417,"body_markdown":"Solved this problem with \r\n\r\n&gt; @Builder(toBuilder = true)\r\n\r\nand modifying the initialization from\r\n\r\n    Vehicle vehicle = Vehicle.builder()\r\n\r\nto\r\n\r\n    Vehicle vehicle = new Vehicle().toBuilder()\r\n\r\nThis seems to be quite easy for me.\r\n\r\nRead it from [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/lombok-builder-default-value","title":"The Function implementation remains null if Lombok @Builder is used for initialization","body":"<p>Solved this problem with</p>\n<blockquote>\n<p>@Builder(toBuilder = true)</p>\n</blockquote>\n<p>and modifying the initialization from</p>\n<pre><code>Vehicle vehicle = Vehicle.builder()\n</code></pre>\n<p>to</p>\n<pre><code>Vehicle vehicle = new Vehicle().toBuilder()\n</code></pre>\n<p>This seems to be quite easy for me.</p>\n<p>Read it from <a href=\"https://www.baeldung.com/lombok-builder-default-value\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71261251,"answer_count":2,"score":2,"last_activity_date":1645765184,"creation_date":1645726255,"question_id":71256417,"body_markdown":"I am using Lombok to initialize a class. That class also has some Functions defined. Those Functions remain null when called from the above initialized object.\r\n&lt;br/&gt;&lt;br/&gt;\r\n**VehicleTest Class:** \r\n\r\n    public class VehicleTest {\r\n\r\n    public static void main(String...arg) {\r\n        Vehicle vehicle = Vehicle.builder()\r\n                .createdDateTime(DateUtil.getEpochTimeFromCurrentTimeZone())\r\n                .make(&quot;Toyota&quot;)\r\n                .year(&quot;2010&quot;)\r\n                .model(&quot;Fortunner&quot;)\r\n                .build();\r\n\r\n        System.out.println(vehicle.convertEpochToString.apply(DateUtil.getEpochTimeFromCurrentTimeZone()));\r\n        }\r\n    }\r\n&lt;br/&gt;\r\n&lt;B&gt;Vehicle Class:&lt;/B&gt;\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class Vehicle {\r\n     Long createdDateTime;\r\n     String year;\r\n     String make;\r\n     String model;\r\n\r\n     public String getTime() {\r\n        return convertEpochToString.apply(createdDateTime);\r\n    }\r\n\r\n     public Function&lt;Long,String&gt; convertEpochToString = epochTime -&gt; {\r\n        ZonedDateTime zonedDateTime = DateUtil.convertEpochToZonedDateTime(epochTime);\r\n        return DateUtil.formatZonedDateTime(zonedDateTime,&quot;dd-MMM-yyyy&quot;);\r\n     };\r\n}\r\n\r\nAs you can see in this debug mode, this convertEpochToString Function is null.\r\n\r\nNote: This is not the actual way I am using in my project. This is just an example I made to depict my problem.&lt;br/&gt;\r\nAs mentioned in this [link][1], if I use \r\n\r\n&gt; @Builder.Default\r\n\r\n on above Function, this seems to be working. But adding it on all 100+ Functions in each class will be a huge task for me. Is there any other alternative apart from the above one and static Function?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32824821/lombok-builder-not-initializing-collections\r\n  [2]: https://i.stack.imgur.com/O8yik.png","title":"The Function implementation remains null if Lombok @Builder is used for initialization","body":"<p>I am using Lombok to initialize a class. That class also has some Functions defined. Those Functions remain null when called from the above initialized object.\n<br/><br/>\n<strong>VehicleTest Class:</strong></p>\n<pre><code>public class VehicleTest {\n\npublic static void main(String...arg) {\n    Vehicle vehicle = Vehicle.builder()\n            .createdDateTime(DateUtil.getEpochTimeFromCurrentTimeZone())\n            .make(&quot;Toyota&quot;)\n            .year(&quot;2010&quot;)\n            .model(&quot;Fortunner&quot;)\n            .build();\n\n    System.out.println(vehicle.convertEpochToString.apply(DateUtil.getEpochTimeFromCurrentTimeZone()));\n    }\n}\n</code></pre>\n<br/>\n<B>Vehicle Class:</B>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Vehicle {\n Long createdDateTime;\n String year;\n String make;\n String model;\n\n public String getTime() {\n    return convertEpochToString.apply(createdDateTime);\n}\n\n public Function&lt;Long,String&gt; convertEpochToString = epochTime -&gt; {\n    ZonedDateTime zonedDateTime = DateUtil.convertEpochToZonedDateTime(epochTime);\n    return DateUtil.formatZonedDateTime(zonedDateTime,&quot;dd-MMM-yyyy&quot;);\n };\n</code></pre>\n<p>}</p>\n<p>As you can see in this debug mode, this convertEpochToString Function is null.</p>\n<p>Note: This is not the actual way I am using in my project. This is just an example I made to depict my problem.<br/>\nAs mentioned in this <a href=\"https://stackoverflow.com/questions/32824821/lombok-builder-not-initializing-collections\">link</a>, if I use</p>\n<blockquote>\n<p>@Builder.Default</p>\n</blockquote>\n<p>on above Function, this seems to be working. But adding it on all 100+ Functions in each class will be a huge task for me. Is there any other alternative apart from the above one and static Function?</p>\n<p><a href=\"https://i.stack.imgur.com/O8yik.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O8yik.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","xml","button"],"answers":[{"tags":[],"owner":{"account_id":19111661,"reputation":777,"user_id":14653849,"display_name":"OuttaSpaceTime"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609703551,"creation_date":1609346464,"answer_id":65510435,"question_id":65510075,"body_markdown":"I see two possibilites:\r\n\r\n - You might not have the right parent for your Button.  Try: \r\n\r\n    `&lt;style name=&quot;buttonStartStyle&quot; parent =&quot;android:Widget.Button&quot;&gt;`\r\n\r\n - attributes might be changed along the way in your program. Try setting the needed attributes to null before applying the style. \r\n\r\n","title":"Button Style does not work in Android Studio","body":"<p>I see two possibilites:</p>\n<ul>\n<li><p>You might not have the right parent for your Button.  Try:</p>\n<p><code>&lt;style name=&quot;buttonStartStyle&quot; parent =&quot;android:Widget.Button&quot;&gt;</code></p>\n</li>\n<li><p>attributes might be changed along the way in your program. Try setting the needed attributes to null before applying the style.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645765171,"creation_date":1644948298,"answer_id":71131302,"question_id":65510075,"body_markdown":"The problem here is likely with the parent style in themes.xml.\r\n\r\nIf the parent theme is one of the Material Components ones for example:\r\n\r\n    &lt;style name=&quot;Theme.StyleDemo2&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\nThis overrides any style changes you might make to give your button the material theme with a tint color defined by the colorPrimary item in the theme (they are also not standard buttons in this instance but some funky sub class replaced quietly). To overcome this issue change the parent theme to something such as:\r\n\r\n    parent=&quot;Theme.AppCompat.Light&quot;\r\n\r\nThis one is much more customizable and your button styles will take effect.\r\n\r\n\r\n","title":"Button Style does not work in Android Studio","body":"<p>The problem here is likely with the parent style in themes.xml.</p>\n<p>If the parent theme is one of the Material Components ones for example:</p>\n<pre><code>&lt;style name=&quot;Theme.StyleDemo2&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n    &lt;!-- Secondary brand color. --&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n    &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Status bar color. --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n&lt;/style&gt;\n</code></pre>\n<p>This overrides any style changes you might make to give your button the material theme with a tint color defined by the colorPrimary item in the theme (they are also not standard buttons in this instance but some funky sub class replaced quietly). To overcome this issue change the parent theme to something such as:</p>\n<pre><code>parent=&quot;Theme.AppCompat.Light&quot;\n</code></pre>\n<p>This one is much more customizable and your button styles will take effect.</p>\n"}],"owner":{"account_id":20222331,"reputation":1,"user_id":14831392,"display_name":"daving"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":979,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645765171,"creation_date":1609344935,"question_id":65510075,"body_markdown":"T&#39;m using the newest Android Studio Version to code my app and I can&#39;t change the button style. \r\nIt seems like when generating a new project, it already has some default styles for buttons which I can&#39;t seem to be able to override. \r\n\r\nEverytime I place just a plane button it already has some background color (&quot;colorPrimary&quot;) and if I&#39;m trying to apply a style, it only changes the text of the button, but not the shape or the color.\r\n\r\n**This is my style:** \r\n\r\n \r\n\r\n      &lt;style name=&quot;buttonStartStyle&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@drawable/button_style1&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_margin&quot;&gt;20dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n**and my button_style1.xml:** \r\n\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item&gt;\r\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n            &lt;corners android:radius=&quot;50dp&quot;/&gt;\r\n            &lt;solid android:color=&quot;@color/smoothWhite&quot;/&gt;\r\n            &lt;size android:height=&quot;50dp&quot;/&gt;\r\n            &lt;gradient android:startColor=&quot;@color/green_card&quot; android:endColor=&quot;@color/green_main&quot;/&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n&lt;/selector&gt;\r\n\r\nThe button already looks like this when I place it right from the pallete: \r\n[![button without style][1]][1]\r\n\r\n\r\nMy xml code for the button: \r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        style=&quot;@style/buttonStartStyle&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot;\r\n        tools:layout_editor_absoluteX=&quot;121dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;244dp&quot; /&gt;\r\n\r\nThis is how the button looks with the style applied: \r\n[![enter image description here][2]][2]\r\n\r\n\r\nHere is my themes.xml:\r\n\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.B_app&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/green_dark&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.B_app.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.B_app.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot; /&gt;\r\n\r\n    &lt;style name=&quot;Theme.B_app.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot; /&gt;\r\n\r\n    &lt;style name=&quot;buttonStartStyle&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@drawable/button_style1&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_margin&quot;&gt;20dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;testStyle&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@drawable/button_style2&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_margin&quot;&gt;20dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;FlatButton&quot; parent=&quot;Theme.AppCompat.Light&quot;&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/grey_dark&lt;/item&gt;\r\n        &lt;item name=&quot;colorControlHighlight&quot;&gt;@color/white&lt;/item&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F53mW.png\r\n  [2]: https://i.stack.imgur.com/JBg2g.png","title":"Button Style does not work in Android Studio","body":"<p>T'm using the newest Android Studio Version to code my app and I can't change the button style.\nIt seems like when generating a new project, it already has some default styles for buttons which I can't seem to be able to override.</p>\n<p>Everytime I place just a plane button it already has some background color (&quot;colorPrimary&quot;) and if I'm trying to apply a style, it only changes the text of the button, but not the shape or the color.</p>\n<p><strong>This is my style:</strong></p>\n<pre><code>  &lt;style name=&quot;buttonStartStyle&quot;&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@drawable/button_style1&lt;/item&gt;\n    &lt;item name=&quot;android:layout_margin&quot;&gt;20dp&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\n    &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\n    &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p><strong>and my button_style1.xml:</strong></p>\n<pre><code>&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;item&gt;\n    &lt;shape android:shape=&quot;rectangle&quot;&gt;\n        &lt;corners android:radius=&quot;50dp&quot;/&gt;\n        &lt;solid android:color=&quot;@color/smoothWhite&quot;/&gt;\n        &lt;size android:height=&quot;50dp&quot;/&gt;\n        &lt;gradient android:startColor=&quot;@color/green_card&quot; android:endColor=&quot;@color/green_main&quot;/&gt;\n    &lt;/shape&gt;\n&lt;/item&gt;\n</code></pre>\n\n<p>The button already looks like this when I place it right from the pallete:\n<a href=\"https://i.stack.imgur.com/F53mW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F53mW.png\" alt=\"button without style\" /></a></p>\n<p>My xml code for the button:</p>\n<pre><code>&lt;Button\n    android:id=&quot;@+id/button&quot;\n    style=&quot;@style/buttonStartStyle&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Button&quot;\n    tools:layout_editor_absoluteX=&quot;121dp&quot;\n    tools:layout_editor_absoluteY=&quot;244dp&quot; /&gt;\n</code></pre>\n<p>This is how the button looks with the style applied:\n<a href=\"https://i.stack.imgur.com/JBg2g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JBg2g.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my themes.xml:</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.B_app&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/green_dark&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/black&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n\n    &lt;!-- Secondary brand color. --&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n    &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Status bar color. --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n\n&lt;/style&gt;\n\n&lt;style name=&quot;Theme.B_app.NoActionBar&quot;&gt;\n    &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;Theme.B_app.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot; /&gt;\n\n&lt;style name=&quot;Theme.B_app.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot; /&gt;\n\n&lt;style name=&quot;buttonStartStyle&quot;&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@drawable/button_style1&lt;/item&gt;\n    &lt;item name=&quot;android:layout_margin&quot;&gt;20dp&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\n    &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\n    &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;testStyle&quot;&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@drawable/button_style2&lt;/item&gt;\n    &lt;item name=&quot;android:layout_margin&quot;&gt;20dp&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\n    &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\n    &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;FlatButton&quot; parent=&quot;Theme.AppCompat.Light&quot;&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/grey_dark&lt;/item&gt;\n    &lt;item name=&quot;colorControlHighlight&quot;&gt;@color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n"},{"tags":["java","scala","playframework","apple-m1","unsatisfiedlinkerror"],"comments":[{"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"score":0,"creation_date":1645715004,"post_id":71252965,"comment_id":125949530,"body_markdown":"Make sure you&#39;re using JDK build for [M1](https://stackoverflow.com/questions/64788005/java-jdk-for-the-apple-m1-chip). Then set Idea to use correct JDK in Project settings","body":"Make sure you&#39;re using JDK build for <a href=\"https://stackoverflow.com/questions/64788005/java-jdk-for-the-apple-m1-chip\">M1</a>. Then set Idea to use correct JDK in Project settings"},{"owner":{"account_id":24365036,"reputation":125,"user_id":18298994,"display_name":"RomanGoltsov"},"score":0,"creation_date":1645716214,"post_id":71252965,"comment_id":125950065,"body_markdown":"@IvanStanislavciuc, Assembly JDK for the architecture you need, checked many times","body":"@IvanStanislavciuc, Assembly JDK for the architecture you need, checked many times"},{"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"score":1,"creation_date":1645716521,"post_id":71252965,"comment_id":125950198,"body_markdown":"to check architecture of your jdk. run `jshell` and then `System.getProperty(&quot;os.arch&quot;)`. It should say `aarch64`","body":"to check architecture of your jdk. run <code>jshell</code> and then <code>System.getProperty(&quot;os.arch&quot;)</code>. It should say <code>aarch64</code>"},{"owner":{"account_id":24365036,"reputation":125,"user_id":18298994,"display_name":"RomanGoltsov"},"score":0,"creation_date":1645717411,"post_id":71252965,"comment_id":125950620,"body_markdown":"@IvanStanislavciuc \njshell&gt; System.getProperty(&quot;os.arch&quot;)\n$1 ==&gt; &quot;aarch64&quot;","body":"@IvanStanislavciuc  jshell&gt; System.getProperty(&quot;os.arch&quot;) $1 ==&gt; &quot;aarch64&quot;"}],"answers":[{"tags":[],"owner":{"account_id":24365036,"reputation":125,"user_id":18298994,"display_name":"RomanGoltsov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1645765113,"creation_date":1645765113,"answer_id":71261244,"question_id":71252965,"body_markdown":"Found a solution:\r\nInside sbt 1.4.6 there is a JNA library version 5.5.0, which apparently does not have the necessary files for the arm64 architecture processor\r\nRaising the sbt version to 1.6.2 helped","title":"java.lang.UnsatisfiedLinkError when starting the play project","body":"<p>Found a solution:\nInside sbt 1.4.6 there is a JNA library version 5.5.0, which apparently does not have the necessary files for the arm64 architecture processor\nRaising the sbt version to 1.6.2 helped</p>\n"}],"owner":{"account_id":24365036,"reputation":125,"user_id":18298994,"display_name":"RomanGoltsov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4944,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71261244,"answer_count":1,"score":5,"last_activity_date":1645765113,"creation_date":1645710454,"question_id":71252965,"body_markdown":"Im trying to start a project on play in IntelliJ IDEA Ultimate MacBook Pro on M1, I get the following error in the console:\r\n\r\n&gt; [error] java.lang.UnsatisfiedLinkError:\r\n&gt; /Users/username/Library/Caches/JNA/temp/jna2878211531869408345.tmp:\r\n&gt; dlopen(/Users/username/Library/Caches/JNA/temp/jna2878211531869408345.tmp,\r\n&gt; 0x0001): tried:\r\n&gt; &#39;/Users/username/Library/Caches/JNA/temp/jna2878211531869408345.tmp&#39;\r\n&gt; (fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;,\r\n&gt; need &#39;arm64e&#39;)), &#39;/usr/lib/jna2878211531869408345.tmp&#39; (no such file)\r\n\r\nI tried to reinstall the JDK on the arm architecture after deleting all the JDKs, it did not help\r\n\r\nWhat needs to be tricked to fix this?\r\n\r\nFull StackTrace:\r\n\r\n    [error] java.lang.UnsatisfiedLinkError: /Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp: dlopen(/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp, 0x0001): tried: &#39;/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp&#39; (fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;, need &#39;arm64e&#39;)), &#39;/usr/lib/jna2878211531869408345.tmp&#39; (no such file)\r\n        [error] \tat java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\r\n        [error] \tat java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2442)\r\n        [error] \tat java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2498)\r\n        [error] \tat java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2694)\r\n        [error] \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2627)\r\n        [error] \tat java.base/java.lang.Runtime.load0(Runtime.java:768)\r\n        [error] \tat java.base/java.lang.System.load(System.java:1837)\r\n        [error] \tat com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1018)\r\n        [error] \tat com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:988)\r\n        [error] \tat com.sun.jna.Native.&lt;clinit&gt;(Native.java:195)\r\n        [error] \tat io.methvin.watchservice.jna.CarbonAPI.&lt;clinit&gt;(CarbonAPI.java:19)\r\n        [error] \tat io.methvin.watchservice.jna.CFStringRef.toCFString(CFStringRef.java:23)\r\n        [error] \tat io.methvin.watchservice.MacOSXListeningWatchService.register(MacOSXListeningWatchService.java:101)\r\n        [error] \tat io.methvin.watchservice.WatchablePath.register(WatchablePath.java:50)\r\n        [error] \tat io.methvin.watcher.DirectoryWatcher.register(DirectoryWatcher.java:352)\r\n        [error] \tat io.methvin.watcher.DirectoryWatcher.registerAll(DirectoryWatcher.java:317)\r\n        [error] \tat io.methvin.watcher.DirectoryWatcher.&lt;init&gt;(DirectoryWatcher.java:167)\r\n        [error] \tat io.methvin.watcher.DirectoryWatcher$Builder.build(DirectoryWatcher.java:118)\r\n        [error] \tat play.dev.filewatch.DefaultFileWatchService.watch(DefaultFileWatchService.scala:38)\r\n        [error] \tat play.dev.filewatch.FileWatchService$$anon$1.watch(FileWatchService.scala:87)\r\n        [error] \tat play.runsupport.Reloader.&lt;init&gt;(Reloader.scala:414)\r\n        [error] \tat play.runsupport.Reloader$.reloader$lzycompute$1(Reloader.scala:259)\r\n        [error] \tat play.runsupport.Reloader$.play$runsupport$Reloader$$reloader$1(Reloader.scala:251)\r\n        [error] \tat play.runsupport.Reloader$.startDevMode(Reloader.scala:271)\r\n        [error] \tat play.sbt.run.PlayRun$.devModeServer$lzycompute$1(PlayRun.scala:99)\r\n        [error] \tat play.sbt.run.PlayRun$.devModeServer$1(PlayRun.scala:83)\r\n        [error] \tat play.sbt.run.PlayRun$.$anonfun$playRunTask$3(PlayRun.scala:106)\r\n        [error] \tat play.sbt.run.PlayRun$.$anonfun$playRunTask$3$adapted(PlayRun.scala:68)\r\n        [error] \tat scala.Function1.$anonfun$compose$1(Function1.scala:49)\r\n        [error] stack trace is suppressed; run &#39;last Compile / run&#39; for the full output\r\n        [error] (Compile / run) java.lang.UnsatisfiedLinkError: /Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp: dlopen(/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp, 0x0001): tried: &#39;/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp&#39; (fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;, need &#39;arm64e&#39;)), &#39;/usr/lib/jna2878211531869408345.tmp&#39; (no such file)","title":"java.lang.UnsatisfiedLinkError when starting the play project","body":"<p>Im trying to start a project on play in IntelliJ IDEA Ultimate MacBook Pro on M1, I get the following error in the console:</p>\n<blockquote>\n<p>[error] java.lang.UnsatisfiedLinkError:\n/Users/username/Library/Caches/JNA/temp/jna2878211531869408345.tmp:\ndlopen(/Users/username/Library/Caches/JNA/temp/jna2878211531869408345.tmp,\n0x0001): tried:\n'/Users/username/Library/Caches/JNA/temp/jna2878211531869408345.tmp'\n(fat file, but missing compatible architecture (have 'i386,x86_64',\nneed 'arm64e')), '/usr/lib/jna2878211531869408345.tmp' (no such file)</p>\n</blockquote>\n<p>I tried to reinstall the JDK on the arm architecture after deleting all the JDKs, it did not help</p>\n<p>What needs to be tricked to fix this?</p>\n<p>Full StackTrace:</p>\n<pre><code>[error] java.lang.UnsatisfiedLinkError: /Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp: dlopen(/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp, 0x0001): tried: '/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp' (fat file, but missing compatible architecture (have 'i386,x86_64', need 'arm64e')), '/usr/lib/jna2878211531869408345.tmp' (no such file)\n    [error]     at java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\n    [error]     at java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2442)\n    [error]     at java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2498)\n    [error]     at java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2694)\n    [error]     at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2627)\n    [error]     at java.base/java.lang.Runtime.load0(Runtime.java:768)\n    [error]     at java.base/java.lang.System.load(System.java:1837)\n    [error]     at com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1018)\n    [error]     at com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:988)\n    [error]     at com.sun.jna.Native.&lt;clinit&gt;(Native.java:195)\n    [error]     at io.methvin.watchservice.jna.CarbonAPI.&lt;clinit&gt;(CarbonAPI.java:19)\n    [error]     at io.methvin.watchservice.jna.CFStringRef.toCFString(CFStringRef.java:23)\n    [error]     at io.methvin.watchservice.MacOSXListeningWatchService.register(MacOSXListeningWatchService.java:101)\n    [error]     at io.methvin.watchservice.WatchablePath.register(WatchablePath.java:50)\n    [error]     at io.methvin.watcher.DirectoryWatcher.register(DirectoryWatcher.java:352)\n    [error]     at io.methvin.watcher.DirectoryWatcher.registerAll(DirectoryWatcher.java:317)\n    [error]     at io.methvin.watcher.DirectoryWatcher.&lt;init&gt;(DirectoryWatcher.java:167)\n    [error]     at io.methvin.watcher.DirectoryWatcher$Builder.build(DirectoryWatcher.java:118)\n    [error]     at play.dev.filewatch.DefaultFileWatchService.watch(DefaultFileWatchService.scala:38)\n    [error]     at play.dev.filewatch.FileWatchService$$anon$1.watch(FileWatchService.scala:87)\n    [error]     at play.runsupport.Reloader.&lt;init&gt;(Reloader.scala:414)\n    [error]     at play.runsupport.Reloader$.reloader$lzycompute$1(Reloader.scala:259)\n    [error]     at play.runsupport.Reloader$.play$runsupport$Reloader$$reloader$1(Reloader.scala:251)\n    [error]     at play.runsupport.Reloader$.startDevMode(Reloader.scala:271)\n    [error]     at play.sbt.run.PlayRun$.devModeServer$lzycompute$1(PlayRun.scala:99)\n    [error]     at play.sbt.run.PlayRun$.devModeServer$1(PlayRun.scala:83)\n    [error]     at play.sbt.run.PlayRun$.$anonfun$playRunTask$3(PlayRun.scala:106)\n    [error]     at play.sbt.run.PlayRun$.$anonfun$playRunTask$3$adapted(PlayRun.scala:68)\n    [error]     at scala.Function1.$anonfun$compose$1(Function1.scala:49)\n    [error] stack trace is suppressed; run 'last Compile / run' for the full output\n    [error] (Compile / run) java.lang.UnsatisfiedLinkError: /Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp: dlopen(/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp, 0x0001): tried: '/Users/romangoltsov/Library/Caches/JNA/temp/jna2878211531869408345.tmp' (fat file, but missing compatible architecture (have 'i386,x86_64', need 'arm64e')), '/usr/lib/jna2878211531869408345.tmp' (no such file)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","jdbc"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1645696543,"post_id":71245518,"comment_id":125942553,"body_markdown":"any reason to have `application-default.yml` instead of `application.yml`","body":"any reason to have <code>application-default.yml</code> instead of <code>application.yml</code>"},{"owner":{"account_id":13845937,"reputation":373,"user_id":9995087,"display_name":"Kaan Ateşel"},"score":0,"creation_date":1645716392,"post_id":71245518,"comment_id":125950144,"body_markdown":"It was for different builds. `application-default.yml` for local and `application-production.yml` is for prod environment. But renaming to `applicaiton.yml` solved my problem. Than you. Could you post an answer so I can accept the answer pls.","body":"It was for different builds. <code>application-default.yml</code> for local and <code>application-production.yml</code> is for prod environment. But renaming to <code>applicaiton.yml</code> solved my problem. Than you. Could you post an answer so I can accept the answer pls."}],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645764927,"creation_date":1645764927,"answer_id":71261228,"question_id":71245518,"body_markdown":"You are having database properties in `application-default.yml` which only will be activated when you use &quot;default&quot; spring profile. \r\n\r\nSo, either use &quot;default&quot; spring profile (not maven profile) or move the properties to `application.yml` which will be used by default whether you use any profiles or not. ","title":"Maven not able to find &#39;url&#39; attribute is not specified and no embedded","body":"<p>You are having database properties in <code>application-default.yml</code> which only will be activated when you use &quot;default&quot; spring profile.</p>\n<p>So, either use &quot;default&quot; spring profile (not maven profile) or move the properties to <code>application.yml</code> which will be used by default whether you use any profiles or not.</p>\n"}],"owner":{"account_id":13845937,"reputation":373,"user_id":9995087,"display_name":"Kaan Ateşel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71261228,"answer_count":1,"score":1,"last_activity_date":1645764927,"creation_date":1645661364,"question_id":71245518,"body_markdown":"I have Spring Boot application that I try to connect to my local database. I can run the file as a regular Java file and it connects to the database with no error. However, when I run `mvn clean spring-boot:run` it prints the following output. \r\n\r\n```none\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n```\r\n \r\nIn my pom.xml I have\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI checked the Maven dependencies and postgresql-42.2.19.jar is in there.\r\n\r\nIn my application-default.yml I have as \r\n\r\n```yaml\r\nspring:\r\n  datasource:\r\n    driverClassName: org.postgresql.Driver\r\n    url: jdbc:postgresql://localhost:5432/pharmacy\r\n    username: ****\r\n    password: ****\r\n    platform: postgresql\r\n    initialize: false\r\n    continue-on-error: false\r\n```\r\n\r\nThis is suggested by https://www.baeldung.com/spring-boot-failed-to-configure-data-source\r\n\r\n","title":"Maven not able to find &#39;url&#39; attribute is not specified and no embedded","body":"<p>I have Spring Boot application that I try to connect to my local database. I can run the file as a regular Java file and it connects to the database with no error. However, when I run <code>mvn clean spring-boot:run</code> it prints the following output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n</code></pre>\n<p>In my pom.xml I have</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I checked the Maven dependencies and postgresql-42.2.19.jar is in there.</p>\n<p>In my application-default.yml I have as</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    driverClassName: org.postgresql.Driver\n    url: jdbc:postgresql://localhost:5432/pharmacy\n    username: ****\n    password: ****\n    platform: postgresql\n    initialize: false\n    continue-on-error: false\n</code></pre>\n<p>This is suggested by <a href=\"https://www.baeldung.com/spring-boot-failed-to-configure-data-source\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-failed-to-configure-data-source</a></p>\n"},{"tags":["java","android","android-mediaplayer"],"comments":[{"owner":{"account_id":1790949,"reputation":77601,"user_id":1631379,"accept_rate":80,"display_name":"Maxim Shoustin"},"score":1,"creation_date":1381742820,"post_id":19357036,"comment_id":28680822,"body_markdown":"please post full stack trace","body":"please post full stack trace"},{"owner":{"account_id":7758137,"reputation":1831,"user_id":6059583,"accept_rate":62,"display_name":"Jeeva"},"score":0,"creation_date":1531142969,"post_id":19357036,"comment_id":89472191,"body_markdown":"did u fix it???","body":"did u fix it???"},{"owner":{"account_id":1938069,"reputation":1498,"user_id":1745016,"accept_rate":87,"display_name":"keybee"},"score":1,"creation_date":1611412246,"post_id":19357036,"comment_id":116445456,"body_markdown":"This is mostly happening when you call release() multiple time. You should only call release when you no longer need the mediaplayer, and it is good practise to set it&#39;s value to null after that. This way your simple null checks will work. My approach is calling reset when possible, and only release when the whole page is closed","body":"This is mostly happening when you call release() multiple time. You should only call release when you no longer need the mediaplayer, and it is good practise to set it&#39;s value to null after that. This way your simple null checks will work. My approach is calling reset when possible, and only release when the whole page is closed"}],"answers":[{"tags":[],"owner":{"account_id":903328,"reputation":14704,"user_id":938845,"accept_rate":50,"display_name":"Siddhpura Amit"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1381744857,"creation_date":1381742878,"answer_id":19357174,"question_id":19357036,"body_markdown":"As android docs suggest that if mp is if has not been initialized at that time java.lang.IllegalStateException will be thrown so you have to initilize first or you have to write\r\n\r\n    \r\n\r\ncheck out the docs http://developer.android.com/reference/android/media/MediaPlayer.html#isPlaying()\r\n\r\n\r\ntry like this\r\n          \r\n     mp=MediaPlayer.create(context, name);\r\n        \r\n         try {\r\n\r\n        if (mp.isPlaying()) {\r\n            mp.stop();\r\n            mp.release();\r\n            mp=MediaPlayer.create(context, name);\r\n        }\r\n        \r\n\r\n       \r\n        mp.start();\r\n    } catch (Exception e) {\r\n    }","title":"java.lang.IllegalStateException in MediaPlayer.isplaying() method","body":"<p>As android docs suggest that if mp is if has not been initialized at that time java.lang.IllegalStateException will be thrown so you have to initilize first or you have to write</p>\n\n<p>check out the docs <a href=\"http://developer.android.com/reference/android/media/MediaPlayer.html#isPlaying()\" rel=\"noreferrer\">http://developer.android.com/reference/android/media/MediaPlayer.html#isPlaying()</a></p>\n\n<p>try like this</p>\n\n<pre><code> mp=MediaPlayer.create(context, name);\n\n     try {\n\n    if (mp.isPlaying()) {\n        mp.stop();\n        mp.release();\n        mp=MediaPlayer.create(context, name);\n    }\n\n\n\n    mp.start();\n} catch (Exception e) {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3410843,"reputation":538,"user_id":2860789,"accept_rate":12,"display_name":"Mester Hassan"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1381748545,"creation_date":1381747176,"answer_id":19358400,"question_id":19357036,"body_markdown":"Try changing `mp.release()` into `reset()`. that could help you.","title":"java.lang.IllegalStateException in MediaPlayer.isplaying() method","body":"<p>Try changing <code>mp.release()</code> into <code>reset()</code>. that could help you.</p>\n"},{"tags":[],"owner":{"account_id":10286208,"reputation":996,"user_id":7589424,"accept_rate":60,"display_name":"Sagar Jethva"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1500463408,"creation_date":1500463408,"answer_id":45189098,"question_id":19357036,"body_markdown":"use runOnUiThread for mediaRecorder prepare.\r\n    \r\n    private boolean prepareMediaRecorder() {\r\n\r\n        mediaRecorder = new MediaRecorder();\r\n    \r\n        runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n\r\n                mediaRecorder.reset();\r\n                mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n\r\n                mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.AMR_NB);\r\n\r\n                mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n\r\n                mediaRecorder.setOutputFile(filePath);\r\n\r\n                try {\r\n                    mediaRecorder.prepare();\r\n                } catch (IOException e) {\r\n                    mediaRecorder = null;\r\n                    return;\r\n                }\r\n                mediaRecorder.start();\r\n                recording = true;\r\n            }\r\n        });\r\n\r\n        return true;\r\n    }","title":"java.lang.IllegalStateException in MediaPlayer.isplaying() method","body":"<p>use runOnUiThread for mediaRecorder prepare.</p>\n\n<pre><code>private boolean prepareMediaRecorder() {\n\n    mediaRecorder = new MediaRecorder();\n\n    runOnUiThread(new Runnable() {\n        @Override\n        public void run() {\n\n            mediaRecorder.reset();\n            mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n\n            mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.AMR_NB);\n\n            mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\n\n            mediaRecorder.setOutputFile(filePath);\n\n            try {\n                mediaRecorder.prepare();\n            } catch (IOException e) {\n                mediaRecorder = null;\n                return;\n            }\n            mediaRecorder.start();\n            recording = true;\n        }\n    });\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20058741,"reputation":309,"user_id":14705907,"display_name":"hardkgosai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619093992,"creation_date":1619093179,"answer_id":67212991,"question_id":19357036,"body_markdown":"Ok i am here with my solution, hope it will help others.\r\n\r\n**(i) if you are using videoView and mediaPlayer.isPlaying() (isNative) error occurs\r\n    on activity stop**\r\n\r\nAdd this onStop() method:\r\n   \r\n        if (videoView != null &amp;&amp; videoView.isPlaying()) {\r\n            videoView.pause();\r\n            videoView.stopPlayback();\r\n        }\r\n\r\n***Note: Don&#39;t use mediaPlayer.stop() or mediaPlayer.release() here when you work with videoView, it will throw IllegalException***\r\n\r\n**(ii) If you are using mediaPlayer to play only audio**\r\n\r\nAdd this onStop() method:\r\n\r\n       try {\r\n            if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\r\n                mediaPlayer.stop();\r\n                mediaPlayer.release();\r\n                mediaPlayer = null;\r\n            }\r\n        } catch (IllegalStateException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n***Note: This is only for those who get error when your activity is in stop or in resume state.***","title":"java.lang.IllegalStateException in MediaPlayer.isplaying() method","body":"<p>Ok i am here with my solution, hope it will help others.</p>\n<p><strong>(i) if you are using videoView and mediaPlayer.isPlaying() (isNative) error occurs\non activity stop</strong></p>\n<p>Add this onStop() method:</p>\n<pre><code>    if (videoView != null &amp;&amp; videoView.isPlaying()) {\n        videoView.pause();\n        videoView.stopPlayback();\n    }\n</code></pre>\n<p><em><strong>Note: Don't use mediaPlayer.stop() or mediaPlayer.release() here when you work with videoView, it will throw IllegalException</strong></em></p>\n<p><strong>(ii) If you are using mediaPlayer to play only audio</strong></p>\n<p>Add this onStop() method:</p>\n<pre><code>   try {\n        if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\n            mediaPlayer.stop();\n            mediaPlayer.release();\n            mediaPlayer = null;\n        }\n    } catch (IllegalStateException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p><em><strong>Note: This is only for those who get error when your activity is in stop or in resume state.</strong></em></p>\n"},{"tags":[],"owner":{"account_id":9799882,"reputation":150,"user_id":7261565,"accept_rate":80,"display_name":"Abhinav Upadhyay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645764268,"creation_date":1645764268,"answer_id":71261158,"question_id":19357036,"body_markdown":"This could happen if you are trying to stop audio when the player hasn&#39;t started playing yet. Hence the `IllegalStateException`\r\n\r\nSee if you can prevent that. You can also putting a try catch around the `isPlaying()`\r\n\r\n    fun isPlaying(): Boolean {\r\n        return try {\r\n            mediaPlayer?.isPlaying == true\r\n        } catch (illegalStateException: IllegalStateException) {\r\n            DebugLog.d(TAG, illegalStateException.message)\r\n            DebugLog.d(TAG, illegalStateException.stackTraceToString())\r\n            false\r\n        }\r\n    }","title":"java.lang.IllegalStateException in MediaPlayer.isplaying() method","body":"<p>This could happen if you are trying to stop audio when the player hasn't started playing yet. Hence the <code>IllegalStateException</code></p>\n<p>See if you can prevent that. You can also putting a try catch around the <code>isPlaying()</code></p>\n<pre><code>fun isPlaying(): Boolean {\n    return try {\n        mediaPlayer?.isPlaying == true\n    } catch (illegalStateException: IllegalStateException) {\n        DebugLog.d(TAG, illegalStateException.message)\n        DebugLog.d(TAG, illegalStateException.stackTraceToString())\n        false\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2616862,"reputation":509,"user_id":2265757,"accept_rate":47,"display_name":"Sydroid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41538,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":5,"score":26,"last_activity_date":1645764268,"creation_date":1381742363,"question_id":19357036,"body_markdown":"\r\n    public static MediaPlayer mp=null;\r\n    public static void playGeneric(int name, final ImageButton button,final ImageButton pervious,Context context) {\r\n        button.setEnabled(false);\r\n    button.setClickable(false);\r\n    pervious.setEnabled(false);\r\n    pervious.setClickable(false);\r\n        try{\r\n            if(mp != null &amp;&amp; mp.isPlaying())\r\n            {\r\n                mp.stop();\r\n                mp.release();\r\n                mp = null;\r\n               mp=MediaPlayer.create(context, name);\r\n               mp.start();\r\n            }\r\n            else\r\n            {\r\n                mp = MediaPlayer.create(context, name);\r\n                mp.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n                    @Override\r\n                    public void onPrepared(MediaPlayer arg0) {\r\n                        //mp.prepare();\r\n                        mp.start();\r\n                     \r\n                    }\r\n\r\n                });\r\n            mp.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n\r\n                @Override\r\n                public void onCompletion(MediaPlayer mp) {\r\n                    // TODO Auto-generated method stub\r\n                    mp.release();\r\n                    System.out.println(&quot;Object released&quot;);\r\n                    button.setEnabled(true);\r\n                    button.setClickable(true);\r\n                    pervious.setEnabled(true);\r\n                    pervious.setClickable(true);\r\n                }\r\n            });\r\n            }\r\n           \r\n        } catch (IllegalStateException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }catch (SecurityException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n            e.getMessage();\r\n        } catch (NullPointerException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n            e.getMessage();\r\n        }\r\n    \r\n    }\r\n\r\ngive me java.lang.IllegalStateException on mp.isplaying() method.\r\n\r\nI want to stop music if it&#39;s playing and play another song one after another.\r\n\r\nlogcat:\r\n\r\n    10-14 15:12:05.474: E/MediaPlayer(15411): prepareAsync called in state 8\r\n    10-14 15:12:05.474: W/System.err(15411): java.lang.IllegalStateException\r\n    10-14 15:12:05.474: W/System.err(15411): \tat android.media.MediaPlayer.prepare(Native Method)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat com.rogerscenter.LearnReadWriteSpell.Utility.Music.playGeneric(Music.java:93)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat com.rogerscenter.LearnReadWriteSpell.LetterCategory.Letter_Lesson1_activity.onCreate(Letter_Lesson1_activity.java:140)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1586)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1638)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat android.app.ActivityThread.access$1500(ActivityThread.java:117)\r\n    10-14 15:12:05.474: W/System.err(15411): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:928)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat android.os.Looper.loop(Looper.java:123)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat android.app.ActivityThread.main(ActivityThread.java:3647)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat java.lang.reflect.Method.invoke(Method.java:507)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\r\n    10-14 15:12:05.484: W/System.err(15411): \tat dalvik.system.NativeStart.main(Native Method)\r\n\r\n\r\n","title":"java.lang.IllegalStateException in MediaPlayer.isplaying() method","body":"<pre><code>public static MediaPlayer mp=null;\npublic static void playGeneric(int name, final ImageButton button,final ImageButton pervious,Context context) {\n    button.setEnabled(false);\nbutton.setClickable(false);\npervious.setEnabled(false);\npervious.setClickable(false);\n    try{\n        if(mp != null &amp;&amp; mp.isPlaying())\n        {\n            mp.stop();\n            mp.release();\n            mp = null;\n           mp=MediaPlayer.create(context, name);\n           mp.start();\n        }\n        else\n        {\n            mp = MediaPlayer.create(context, name);\n            mp.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n                @Override\n                public void onPrepared(MediaPlayer arg0) {\n                    //mp.prepare();\n                    mp.start();\n\n                }\n\n            });\n        mp.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n\n            @Override\n            public void onCompletion(MediaPlayer mp) {\n                // TODO Auto-generated method stub\n                mp.release();\n                System.out.println(\"Object released\");\n                button.setEnabled(true);\n                button.setClickable(true);\n                pervious.setEnabled(true);\n                pervious.setClickable(true);\n            }\n        });\n        }\n\n    } catch (IllegalStateException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }catch (SecurityException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n        e.getMessage();\n    } catch (NullPointerException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n        e.getMessage();\n    }\n\n}\n</code></pre>\n\n<p>give me java.lang.IllegalStateException on mp.isplaying() method.</p>\n\n<p>I want to stop music if it's playing and play another song one after another.</p>\n\n<p>logcat:</p>\n\n<pre><code>10-14 15:12:05.474: E/MediaPlayer(15411): prepareAsync called in state 8\n10-14 15:12:05.474: W/System.err(15411): java.lang.IllegalStateException\n10-14 15:12:05.474: W/System.err(15411):    at android.media.MediaPlayer.prepare(Native Method)\n10-14 15:12:05.474: W/System.err(15411):    at com.rogerscenter.LearnReadWriteSpell.Utility.Music.playGeneric(Music.java:93)\n10-14 15:12:05.474: W/System.err(15411):    at com.rogerscenter.LearnReadWriteSpell.LetterCategory.Letter_Lesson1_activity.onCreate(Letter_Lesson1_activity.java:140)\n10-14 15:12:05.474: W/System.err(15411):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n10-14 15:12:05.474: W/System.err(15411):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1586)\n10-14 15:12:05.474: W/System.err(15411):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1638)\n10-14 15:12:05.474: W/System.err(15411):    at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n10-14 15:12:05.474: W/System.err(15411):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:928)\n10-14 15:12:05.484: W/System.err(15411):    at android.os.Handler.dispatchMessage(Handler.java:99)\n10-14 15:12:05.484: W/System.err(15411):    at android.os.Looper.loop(Looper.java:123)\n10-14 15:12:05.484: W/System.err(15411):    at android.app.ActivityThread.main(ActivityThread.java:3647)\n10-14 15:12:05.484: W/System.err(15411):    at java.lang.reflect.Method.invokeNative(Native Method)\n10-14 15:12:05.484: W/System.err(15411):    at java.lang.reflect.Method.invoke(Method.java:507)\n10-14 15:12:05.484: W/System.err(15411):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n10-14 15:12:05.484: W/System.err(15411):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n10-14 15:12:05.484: W/System.err(15411):    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","scala","maven","apache-spark","log4j"],"owner":{"display_name":"user17485523"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645762976,"creation_date":1645756391,"question_id":71260361,"body_markdown":"Have a maven project which has spark-core and spark-hive dependencies. Spark-core has dependency\r\n\r\n    org.slf4j:slf4j-log4j12:jar:1.7.16:compile\r\n    \r\nand spark-hive has \r\n\r\n    log4j:apache-log4j-extras:jar:1.2.17:compile\r\n\r\nAlso there is log4j dependency in pom file of version 1.2.17.\r\nIs there any way to get rid of trace of first version of log4j and replace it with 2.17.1?\r\nHere are the dependencies in pom file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n                &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n                &lt;version&gt;${scala.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n                &lt;artifactId&gt;scala-reflect&lt;/artifactId&gt;\r\n                &lt;version&gt;${scala.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-core_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;${spark.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-sql_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;${spark.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-hive_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;${spark.version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;stax&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-mllib_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;${spark.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ml.dmlc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xgboost4j-spark&lt;/artifactId&gt;\r\n                &lt;version&gt;0.81&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.17&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.typesafe&lt;/groupId&gt;\r\n                &lt;artifactId&gt;config&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.11&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.5&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;scalatest_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.5&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.scalamock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;scalamock-scalatest-support_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;3.6.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-scala_${scala.binary.version}&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.holdenkarau&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-testing-base_2.11&lt;/artifactId&gt;\r\n                &lt;version&gt;${spark.version}_0.11.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;asm&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazon.deequ&lt;/groupId&gt;\r\n                &lt;artifactId&gt;deequ&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0-rc4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sqs&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n                &lt;version&gt;4.4.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n\r\n","title":"Apache spark-core and spark-hive are using log4j 1.2.17. How can I upgrade them to log4j 2.17.1?","body":"<p>Have a maven project which has spark-core and spark-hive dependencies. Spark-core has dependency</p>\n<pre><code>org.slf4j:slf4j-log4j12:jar:1.7.16:compile\n</code></pre>\n<p>and spark-hive has</p>\n<pre><code>log4j:apache-log4j-extras:jar:1.2.17:compile\n</code></pre>\n<p>Also there is log4j dependency in pom file of version 1.2.17.\nIs there any way to get rid of trace of first version of log4j and replace it with 2.17.1?\nHere are the dependencies in pom file:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n            &lt;version&gt;${scala.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-reflect&lt;/artifactId&gt;\n            &lt;version&gt;${scala.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-hive_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;stax&lt;/groupId&gt;\n                    &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-mllib_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ml.dmlc&lt;/groupId&gt;\n            &lt;artifactId&gt;xgboost4j-spark&lt;/artifactId&gt;\n            &lt;version&gt;0.81&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.typesafe&lt;/groupId&gt;\n            &lt;artifactId&gt;config&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;1.9.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\n            &lt;artifactId&gt;scalatest_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;3.0.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scalamock&lt;/groupId&gt;\n            &lt;artifactId&gt;scalamock-scalatest-support_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;3.6.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-scala_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;1.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.holdenkarau&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-testing-base_2.11&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}_0.11.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;asm&lt;/groupId&gt;\n                    &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazon.deequ&lt;/groupId&gt;\n            &lt;artifactId&gt;deequ&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-rc4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;sqs&lt;/artifactId&gt;\n            &lt;version&gt;2.9.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n            &lt;version&gt;4.4.9&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","soap","java-8","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":2576749,"reputation":2384,"user_id":2234250,"accept_rate":65,"display_name":"Tung Vo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645762652,"creation_date":1645762652,"answer_id":71260989,"question_id":71231080,"body_markdown":"I have fixed this issues by open `cmd command prompt` as Administration right","title":"JAX-WS error while writing package-info: could not create parent directories","body":"<p>I have fixed this issues by open <code>cmd command prompt</code> as Administration right</p>\n"}],"owner":{"account_id":2576749,"reputation":2384,"user_id":2234250,"accept_rate":65,"display_name":"Tung Vo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71260989,"answer_count":1,"score":1,"last_activity_date":1645762652,"creation_date":1645587156,"question_id":71231080,"body_markdown":"I am trying using `wsimport` to generate SOAP webservice from WSDL file\r\nMy OS is Window10, when i run cmd command \r\n\r\n&gt; C:\\Program Files\\Java\\jdk1.8.0_271\\bin&gt;wsimport -s C:\\test\\example\\soap -p com.lordofthering.jaxws.server.topdown C:\\test\\gandalf.wsdl\r\n\r\nI get error\r\n\r\n&gt; ...\\package-info.java:1: error: error while writing package-info: could not create parent directories\r\n@javax.xml.bind.annotation.XmlSchema(namespace = &quot;urn:somethingfunny:types&quot;, elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED)\r\n^\r\n1 error\r\ncompilation failed, errors should have been reported\r\n\r\nI to fix this issue","title":"JAX-WS error while writing package-info: could not create parent directories","body":"<p>I am trying using <code>wsimport</code> to generate SOAP webservice from WSDL file\nMy OS is Window10, when i run cmd command</p>\n<blockquote>\n<p>C:\\Program Files\\Java\\jdk1.8.0_271\\bin&gt;wsimport -s C:\\test\\example\\soap -p com.lordofthering.jaxws.server.topdown C:\\test\\gandalf.wsdl</p>\n</blockquote>\n<p>I get error</p>\n<blockquote>\n<p>...\\package-info.java:1: error: error while writing package-info: could not create parent directories\n@javax.xml.bind.annotation.XmlSchema(namespace = &quot;urn:somethingfunny:types&quot;, elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED)\n^\n1 error\ncompilation failed, errors should have been reported</p>\n</blockquote>\n<p>I to fix this issue</p>\n"},{"tags":["java","string","utf-8","encode"],"comments":[{"owner":{"account_id":3068449,"reputation":2571,"user_id":2599657,"accept_rate":60,"display_name":"sashok_bg"},"score":0,"creation_date":1454920154,"post_id":35264002,"comment_id":58241866,"body_markdown":"This might help http://www.joelonsoftware.com/articles/Unicode.html","body":"This might help <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow noreferrer\">joelonsoftware.com/articles/Unicode.html</a>"},{"owner":{"account_id":4891569,"reputation":2250,"user_id":3942569,"accept_rate":100,"display_name":"mmuzahid"},"score":0,"creation_date":1645762507,"post_id":35264002,"comment_id":125962373,"body_markdown":"@Yesyoor , Updated but you can propose or EDIT. Thanks in advanced","body":"@Yesyoor , Updated but you can propose or EDIT. Thanks in advanced"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1454923218,"creation_date":1454915881,"answer_id":35264189,"question_id":35264002,"body_markdown":"You should separate this into two problems:\r\n\r\n- Converting the string into a byte array by parsing the binary values\r\n- Converting the byte array back into a string using UTF-8\r\n\r\nThe latter is very straightforward, using `new String(bytes, StandardCharsets.UTF_8)`.\r\n\r\nFor the first part, the tricky part is that `Byte.parseByte` won&#39;t automatically handle a leading 1... so I&#39;d probably parse each 8-bit string into a `short` and then cast to `byte`:\r\n\r\n    public static byte[] binaryToBytes(String input) {\r\n        // TODO: Argument validation (nullity, length)\r\n        byte[] ret = new byte[input.length() / 8];\r\n        for (int i = 0; i &lt; ret.length; i++) {\r\n            String chunk = input.substring(i * 8, i * 8 + 8);\r\n            ret[i] = (byte) Short.parseShort(chunk, 2);\r\n        }\r\n        return ret;\r\n    }","title":"Parse String content to Binary and Then Convert to String in Java","body":"<p>You should separate this into two problems:</p>\n\n<ul>\n<li>Converting the string into a byte array by parsing the binary values</li>\n<li>Converting the byte array back into a string using UTF-8</li>\n</ul>\n\n<p>The latter is very straightforward, using <code>new String(bytes, StandardCharsets.UTF_8)</code>.</p>\n\n<p>For the first part, the tricky part is that <code>Byte.parseByte</code> won't automatically handle a leading 1... so I'd probably parse each 8-bit string into a <code>short</code> and then cast to <code>byte</code>:</p>\n\n<pre><code>public static byte[] binaryToBytes(String input) {\n    // TODO: Argument validation (nullity, length)\n    byte[] ret = new byte[input.length() / 8];\n    for (int i = 0; i &lt; ret.length; i++) {\n        String chunk = input.substring(i * 8, i * 8 + 8);\n        ret[i] = (byte) Short.parseShort(chunk, 2);\n    }\n    return ret;\n}\n</code></pre>\n"}],"owner":{"account_id":4891569,"reputation":2250,"user_id":3942569,"accept_rate":100,"display_name":"mmuzahid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3276,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":35264189,"answer_count":1,"score":0,"last_activity_date":1645762443,"creation_date":1454915043,"question_id":35264002,"body_markdown":"I need to parse String content as binary sequence and convert them to its **UTF-8** equivalent String.\r\n\r\nFor example, **UTF-8** binary equivalents of **B**, **A** and **R** are as follows:&lt;br&gt; \r\n\t\t**B = 01000010 &lt;br&gt;A = 01000001 &lt;br&gt;R = 01010010**\r\n\r\n&lt;br&gt;\r\nNow, I need to convert a string **&quot;010000100100000101010010&quot;** to string **&quot;BAR&quot;**\r\n&lt;br&gt;**i.e.** For above case input string with 24 characters are divided into three equal parts(8 character in each part) and translated to its **UTF-8** equivalent as a String value.\r\n\r\nSample Code:\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tString B = &quot;01000010&quot;;\r\n\t\tString A = &quot;01000001&quot;;\r\n\t\tString R = &quot;01010010&quot;;\r\n\t\tString BAR = &quot;010000100100000101010010&quot;;\r\n\r\n\t\tString utfEquiv = toUTF8(BAR);//expecting to get &quot;BAR&quot;\r\n\t\tSystem.out.println(utfEquiv);\r\n\t}\r\n\r\n\tprivate static String toUTF8(String str) {\r\n\t\t// TODO \r\n\t\treturn &quot;&quot;;\r\n\t}\r\nWhat should be the implementation of method **toUTF8(String str){}**","title":"Parse String content to Binary and Then Convert to String in Java","body":"<p>I need to parse String content as binary sequence and convert them to its <strong>UTF-8</strong> equivalent String.</p>\n\n<p>For example, <strong>UTF-8</strong> binary equivalents of <strong>B</strong>, <strong>A</strong> and <strong>R</strong> are as follows:<br> \n        <strong>B = 01000010 <br>A = 01000001 <br>R = 01010010</strong></p>\n\n<p><br>\nNow, I need to convert a string <strong>\"010000100100000101010010\"</strong> to string <strong>\"BAR\"</strong>\n<br><strong>i.e.</strong> For above case input string with 24 characters are divided into three equal parts(8 character in each part) and translated to its <strong>UTF-8</strong> equivalent as a String value.</p>\n\n<p>Sample Code:</p>\n\n<pre><code>public static void main(String args[]) {\n    String B = \"01000010\";\n    String A = \"01000001\";\n    String R = \"01010010\";\n    String BAR = \"010000100100000101010010\";\n\n    String utfEquiv = toUTF8(BAR);//expecting to get \"BAR\"\n    System.out.println(utfEquiv);\n}\n\nprivate static String toUTF8(String str) {\n    // TODO \n    return \"\";\n}\n</code></pre>\n\n<p>What should be the implementation of method <strong>toUTF8(String str){}</strong></p>\n"},{"tags":["java","jsp","tomcat","configuration"],"comments":[{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":1,"creation_date":1645764319,"post_id":71260948,"comment_id":125962656,"body_markdown":"What is the [Charset](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/charset/Charset.html) of your application.  Have u checked [which](https://www.iana.org/assignments/character-sets/character-sets.xhtml) one your app is using.  You want to make sure you use UTF-8 everywhere if possible","body":"What is the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\">Charset</a> of your application.  Have u checked <a href=\"https://www.iana.org/assignments/character-sets/character-sets.xhtml\" rel=\"nofollow noreferrer\">which</a> one your app is using.  You want to make sure you use UTF-8 everywhere if possible"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1645790395,"post_id":71260948,"comment_id":125969725,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1645825055,"post_id":71260948,"comment_id":125981562,"body_markdown":"Edit this Question to show the source code of both your Java/JSP and the rendered web page. Make as small and simple an example as possible.","body":"Edit this Question to show the source code of both your Java/JSP and the rendered web page. Make as small and simple an example as possible."}],"owner":{"account_id":24372216,"reputation":1,"user_id":18304999,"display_name":"Learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645762157,"creation_date":1645762157,"question_id":71260948,"body_markdown":"In my web application, Some specific arabic character encoding to different arabic character in overall application. How to find the root cause to solve this issue? ","title":"Arabic Character Encoding Issue","body":"<p>In my web application, Some specific arabic character encoding to different arabic character in overall application. How to find the root cause to solve this issue?</p>\n"},{"tags":["java"],"owner":{"account_id":19532363,"reputation":69,"user_id":14291849,"display_name":"JUMBOTURN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645761204,"creation_date":1645761204,"question_id":71260860,"body_markdown":"&gt; I have two list of data one list contain only id, and second list\r\n&gt; contains all the details of those id, but second list contain many\r\n&gt; other id details that not present in first list, I want to store all\r\n&gt; the id details to create a third list as per list one then after store\r\n&gt; remaining id details. but I tried many time i am not able to store\r\n&gt; remaining id details in third list. Here below my code what I tried to\r\n&gt; solve this issue.\r\n&gt; StoreDragData.java\r\n\r\n    package task;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class StoreDragData {\r\n        private int id;\r\n    \r\n        StoreDragData() {\r\n        }\r\n    \r\n        public StoreDragData(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public List&lt;StoreDragData&gt; demo() {\r\n            List&lt;StoreDragData&gt; ll = new ArrayList&lt;&gt;();\r\n            ll.add(new StoreDragData(6));\r\n            ll.add(new StoreDragData(4));\r\n            ll.add(new StoreDragData(7));\r\n            ll.add(new StoreDragData(1));\r\n            ll.add(new StoreDragData(5));\r\n            ll.add(new StoreDragData(2));\r\n            ll.add(new StoreDragData(3));\r\n    \r\n    \r\n            return ll;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n&gt; ServerList.java\r\n\r\n    package task;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class ServerList {\r\n        private int id;\r\n        private String name;\r\n        private String subject;\r\n    \r\n        ServerList() {\r\n        }\r\n    \r\n        public ServerList(int id, String name, String subject) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.subject = subject;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getSubject() {\r\n            return subject;\r\n        }\r\n    \r\n        public void setSubject(String subject) {\r\n            this.subject = subject;\r\n        }\r\n    \r\n    \r\n        public static List&lt;ServerList&gt; addStudentDetails() {\r\n            List&lt;ServerList&gt; lls = new ArrayList&lt;&gt;();\r\n            lls.add(new ServerList(1, &quot;alex&quot;, &quot;Math&quot;));\r\n            lls.add(new ServerList(2, &quot;andrew&quot;, &quot;Physic&quot;));\r\n            lls.add(new ServerList(3, &quot;alok&quot;, &quot;Chemistry&quot;));\r\n            lls.add(new ServerList(4, &quot;Boby&quot;, &quot;Botany&quot;));\r\n            lls.add(new ServerList(5, &quot;Soumya&quot;, &quot;Zoology&quot;));\r\n            lls.add(new ServerList(6, &quot;Rwitik&quot;, &quot;Ornithology&quot;));\r\n            lls.add(new ServerList(7, &quot;Bikash&quot;, &quot;Behavior of Money&quot;));\r\n            lls.add(new ServerList(8, &quot;Sipun&quot;, &quot;Economy&quot;));\r\n            lls.add(new ServerList(9, &quot;Suresh&quot;, &quot;CS&quot;));\r\n    \r\n    \r\n    \r\n            return lls;\r\n        }\r\n    }\r\nBigTask.java\r\n\r\n    package task;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class Bigtask {\r\n    \r\n        public static void main(String[] args) {\r\n            StoreDragData sdd = new StoreDragData();\r\n            System.out.print(&quot; Student id record&quot;);\r\n            sdd.demo();\r\n            System.out.println(&quot;=========================================&quot;);\r\n            for (StoreDragData st:sdd.demo()){\r\n                System.out.println(st.getId() );\r\n            }\r\n            System.out.println(&quot;=========================================&quot;);\r\n            ServerList std = new ServerList();\r\n            System.out.println(&quot; Student  record details&quot;);\r\n            ServerList.addStudentDetails();\r\n            for (ServerList st : ServerList.addStudentDetails()) {\r\n                System.out.println(st.getId() + &quot; &quot; + st.getName() + &quot; &quot; + st.getSubject());\r\n            }\r\n            System.out.println(&quot;=========================&quot;);\r\n            System.out.println(&quot; Final Result &quot;);\r\n    \r\n            searchData(sdd.demo(), ServerList.addStudentDetails());\r\n            System.out.println(&quot;---------------------------&quot;);\r\n            remainingRecord(std);\r\n        }\r\n    \r\n        static void searchData(List&lt;StoreDragData&gt; userList, List&lt;ServerList&gt; studentList) {\r\n            List&lt;ServerList&gt; finalList = new ArrayList();\r\n            for (int i = 0; i &lt; userList.size(); i++) {\r\n                Integer existIndex = isDataExist(userList.get(i).getId());\r\n                if (existIndex != -1) {\r\n                    finalList.add(studentList.get(existIndex));\r\n                }\r\n            }\r\n    \r\n           /**print final list*/\r\n            for (ServerList st : finalList) {\r\n                System.out.println(st.getId() + &quot; &quot; + st.getName() + &quot; &quot; + st.getSubject());\r\n            }\r\n    \r\n        }\r\n    \r\n        static Integer isDataExist(Integer id) {\r\n            List&lt;ServerList&gt; list = (new ServerList()).addStudentDetails();\r\n \r\n            int index = -1;\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                if (list.get(i).getId() == id) {\r\n                    index = i;\r\n                    break;\r\n                }\r\n            }\r\n            return index;\r\n        }\r\n        static ServerList remainingRecord(ServerList std){\r\n            List&lt;ServerList&gt; finalList = (new ServerList()).addStudentDetails();//final list\r\n            //Student details list\r\n            for (ServerList sls : finalList){\r\n                if (!finalList.contains(sls)){\r\n                    System.out.println(&quot;Hai Iam unique&quot;);\r\n                }else{\r\n                    System.out.println(&quot;Hai Iam  duplicate&quot;);\r\n                }\r\n            }\r\n            return std;\r\n        }\r\n        static void search(){}\r\n    \r\n        /**Function for check exist id*/\r\n        public Integer isExistIdInFinalList(Integer id){\r\n            List&lt;ServerList&gt;  findList = (List&lt;ServerList&gt;) new ServerList();\r\n            int index=-1;\r\n            for (int i=0;i&lt; findList.size();i++){\r\n               if(findList.get(i).getId() == id){\r\n                   index =i;\r\n                   break;\r\n               }\r\n            }\r\n            return index;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n&gt; Output of my code is\r\n\r\n     Student id record=========================================\r\n    6\r\n    4\r\n    7\r\n    1\r\n    5\r\n    2\r\n    3\r\n    =========================================\r\n     Student  record details\r\n    1 alex Math\r\n    2 andrew Physic\r\n    3 alok Chemistry\r\n    4 Boby Botany\r\n    5 Soumya Zoology\r\n    6 Rwitik Ornithology\r\n    7 Bikash Behavior of Money\r\n    8 Sipun Economy\r\n    9 Suresh CS\r\n    =========================\r\n     Final Result \r\n    6 Rwitik Ornithology\r\n    4 Boby Botany\r\n    7 Bikash Behavior of Money\r\n    1 alex Math\r\n    5 Soumya Zoology\r\n    2 andrew Physic\r\n    3 alok Chemistry\r\n    ---------------------------\r\n\r\n&gt; I get the result in final list  as per student id list one , but I\r\n&gt; miss the id 7,8,9 details in final list. First I want to store id\r\n&gt; details records as per  list one in final result then store remaining\r\n&gt; items. how can I do it.\r\n\r\n","title":"How to print unique elements after common elements using java","body":"<blockquote>\n<p>I have two list of data one list contain only id, and second list\ncontains all the details of those id, but second list contain many\nother id details that not present in first list, I want to store all\nthe id details to create a third list as per list one then after store\nremaining id details. but I tried many time i am not able to store\nremaining id details in third list. Here below my code what I tried to\nsolve this issue.\nStoreDragData.java</p>\n</blockquote>\n<pre><code>package task;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class StoreDragData {\n    private int id;\n\n    StoreDragData() {\n    }\n\n    public StoreDragData(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public List&lt;StoreDragData&gt; demo() {\n        List&lt;StoreDragData&gt; ll = new ArrayList&lt;&gt;();\n        ll.add(new StoreDragData(6));\n        ll.add(new StoreDragData(4));\n        ll.add(new StoreDragData(7));\n        ll.add(new StoreDragData(1));\n        ll.add(new StoreDragData(5));\n        ll.add(new StoreDragData(2));\n        ll.add(new StoreDragData(3));\n\n\n        return ll;\n    }\n\n\n}\n</code></pre>\n<blockquote>\n<p>ServerList.java</p>\n</blockquote>\n<pre><code>package task;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ServerList {\n    private int id;\n    private String name;\n    private String subject;\n\n    ServerList() {\n    }\n\n    public ServerList(int id, String name, String subject) {\n        this.id = id;\n        this.name = name;\n        this.subject = subject;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getSubject() {\n        return subject;\n    }\n\n    public void setSubject(String subject) {\n        this.subject = subject;\n    }\n\n\n    public static List&lt;ServerList&gt; addStudentDetails() {\n        List&lt;ServerList&gt; lls = new ArrayList&lt;&gt;();\n        lls.add(new ServerList(1, &quot;alex&quot;, &quot;Math&quot;));\n        lls.add(new ServerList(2, &quot;andrew&quot;, &quot;Physic&quot;));\n        lls.add(new ServerList(3, &quot;alok&quot;, &quot;Chemistry&quot;));\n        lls.add(new ServerList(4, &quot;Boby&quot;, &quot;Botany&quot;));\n        lls.add(new ServerList(5, &quot;Soumya&quot;, &quot;Zoology&quot;));\n        lls.add(new ServerList(6, &quot;Rwitik&quot;, &quot;Ornithology&quot;));\n        lls.add(new ServerList(7, &quot;Bikash&quot;, &quot;Behavior of Money&quot;));\n        lls.add(new ServerList(8, &quot;Sipun&quot;, &quot;Economy&quot;));\n        lls.add(new ServerList(9, &quot;Suresh&quot;, &quot;CS&quot;));\n\n\n\n        return lls;\n    }\n}\n</code></pre>\n<p>BigTask.java</p>\n<pre><code>package task;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class Bigtask {\n\n    public static void main(String[] args) {\n        StoreDragData sdd = new StoreDragData();\n        System.out.print(&quot; Student id record&quot;);\n        sdd.demo();\n        System.out.println(&quot;=========================================&quot;);\n        for (StoreDragData st:sdd.demo()){\n            System.out.println(st.getId() );\n        }\n        System.out.println(&quot;=========================================&quot;);\n        ServerList std = new ServerList();\n        System.out.println(&quot; Student  record details&quot;);\n        ServerList.addStudentDetails();\n        for (ServerList st : ServerList.addStudentDetails()) {\n            System.out.println(st.getId() + &quot; &quot; + st.getName() + &quot; &quot; + st.getSubject());\n        }\n        System.out.println(&quot;=========================&quot;);\n        System.out.println(&quot; Final Result &quot;);\n\n        searchData(sdd.demo(), ServerList.addStudentDetails());\n        System.out.println(&quot;---------------------------&quot;);\n        remainingRecord(std);\n    }\n\n    static void searchData(List&lt;StoreDragData&gt; userList, List&lt;ServerList&gt; studentList) {\n        List&lt;ServerList&gt; finalList = new ArrayList();\n        for (int i = 0; i &lt; userList.size(); i++) {\n            Integer existIndex = isDataExist(userList.get(i).getId());\n            if (existIndex != -1) {\n                finalList.add(studentList.get(existIndex));\n            }\n        }\n\n       /**print final list*/\n        for (ServerList st : finalList) {\n            System.out.println(st.getId() + &quot; &quot; + st.getName() + &quot; &quot; + st.getSubject());\n        }\n\n    }\n\n    static Integer isDataExist(Integer id) {\n        List&lt;ServerList&gt; list = (new ServerList()).addStudentDetails();\n\n        int index = -1;\n        for (int i = 0; i &lt; list.size(); i++) {\n            if (list.get(i).getId() == id) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    }\n    static ServerList remainingRecord(ServerList std){\n        List&lt;ServerList&gt; finalList = (new ServerList()).addStudentDetails();//final list\n        //Student details list\n        for (ServerList sls : finalList){\n            if (!finalList.contains(sls)){\n                System.out.println(&quot;Hai Iam unique&quot;);\n            }else{\n                System.out.println(&quot;Hai Iam  duplicate&quot;);\n            }\n        }\n        return std;\n    }\n    static void search(){}\n\n    /**Function for check exist id*/\n    public Integer isExistIdInFinalList(Integer id){\n        List&lt;ServerList&gt;  findList = (List&lt;ServerList&gt;) new ServerList();\n        int index=-1;\n        for (int i=0;i&lt; findList.size();i++){\n           if(findList.get(i).getId() == id){\n               index =i;\n               break;\n           }\n        }\n        return index;\n    }\n\n\n}\n</code></pre>\n<blockquote>\n<p>Output of my code is</p>\n</blockquote>\n<pre><code> Student id record=========================================\n6\n4\n7\n1\n5\n2\n3\n=========================================\n Student  record details\n1 alex Math\n2 andrew Physic\n3 alok Chemistry\n4 Boby Botany\n5 Soumya Zoology\n6 Rwitik Ornithology\n7 Bikash Behavior of Money\n8 Sipun Economy\n9 Suresh CS\n=========================\n Final Result \n6 Rwitik Ornithology\n4 Boby Botany\n7 Bikash Behavior of Money\n1 alex Math\n5 Soumya Zoology\n2 andrew Physic\n3 alok Chemistry\n---------------------------\n</code></pre>\n<blockquote>\n<p>I get the result in final list  as per student id list one , but I\nmiss the id 7,8,9 details in final list. First I want to store id\ndetails records as per  list one in final result then store remaining\nitems. how can I do it.</p>\n</blockquote>\n"},{"tags":["java","spring","amazon-web-services","amazon-sqs"],"comments":[{"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"score":0,"creation_date":1645758370,"post_id":71260479,"comment_id":125961720,"body_markdown":"SQS is pulling only. SNS is push/listening. So I&#39;m not sure what do you mean by listenting in SQS? There is no such thing.","body":"SQS is pulling only. SNS is push/listening. So I&#39;m not sure what do you mean by listenting in SQS? There is no such thing."},{"owner":{"account_id":2271101,"reputation":447,"user_id":2971116,"accept_rate":78,"display_name":"Jonas Schreiber"},"score":0,"creation_date":1645761138,"post_id":71260479,"comment_id":125962164,"body_markdown":"So I edited my question to reflect that I&#39;m not actually clear on whether I am polling or listening. But I know there are Lambda triggers possible on AWS when the queue receives messages which seems more pub/sub than polling.","body":"So I edited my question to reflect that I&#39;m not actually clear on whether I am polling or listening. But I know there are Lambda triggers possible on AWS when the queue receives messages which seems more pub/sub than polling."},{"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"score":0,"creation_date":1645761290,"post_id":71260479,"comment_id":125962193,"body_markdown":"Lambda actually pools the SQS behind the scenes as SQS does not support any pub/sub model. You would have to implement custom solution for that in your app, just like lambda is doing in the backend.","body":"Lambda actually pools the SQS behind the scenes as SQS does not support any pub/sub model. You would have to implement custom solution for that in your app, just like lambda is doing in the backend."}],"owner":{"account_id":2271101,"reputation":447,"user_id":2971116,"accept_rate":78,"display_name":"Jonas Schreiber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1495,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645760997,"creation_date":1645757431,"question_id":71260479,"body_markdown":"I currently have implemented in a Spring Boot project running on Fargate an SQS listener. \r\n\r\nIt&#39;s possible that under the hood, the SqsAsyncClient which appears to be a listener, is actually polling though.  \r\n\r\nSeparately, as a PoC, on I implemented a Lambda function _trigger_ on a different queue. This would be _invoked_ when there are items in the queue and would post to my service. This seems unnecessarily complex to me but removes a single point of failure if I were to only have one instance of the service. \r\n\r\nI guess my major point of confusion is whether I am needlessly worrying about polling vs listening on a SQS queue and whether it matters. \r\n\r\nCode for example purposes:\r\n\r\n    \r\n    @Component\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class SqsListener {\r\n\r\n    private final SqsAsyncClient sqsAsyncClient;\r\n    private final Environment environment;\r\n    private final SmsMessagingServiceImpl smsMessagingService;\r\n\r\n    @PostConstruct\r\n    public void continuousListener() {\r\n        String queueUrl = environment.getProperty(&quot;aws.sqs.sms.queueUrl&quot;);\r\n        Mono&lt;ReceiveMessageResponse&gt; responseMono = receiveMessage(queueUrl);\r\n        Flux&lt;Message&gt; messages = getItems(responseMono);\r\n        messages.subscribe(message -&gt; disposeOfFlux(message, queueUrl));\r\n    }\r\n\r\n    protected Flux&lt;Message&gt; getItems(Mono&lt;ReceiveMessageResponse&gt; responseMono) {\r\n       return responseMono.repeat().retry()\r\n                .map(ReceiveMessageResponse::messages)\r\n                .map(Flux::fromIterable)\r\n                .flatMap(messageFlux -&gt; messageFlux);\r\n\r\n    }\r\n\r\n    protected void disposeOfFlux(Message message, String queueUrl) {\r\n        log.info(&quot;Inbound SMS Received from SQS with MessageId: {}&quot;, message.messageId());\r\n        if (someConditionIsMet()) \r\n            deleteMessage(queueUrl, message);\r\n    }\r\n\r\n    protected Mono&lt;ReceiveMessageResponse&gt; receiveMessage(String queueUrl) {\r\n        return Mono.fromFuture(() -&gt; sqsAsyncClient.receiveMessage(\r\n                        ReceiveMessageRequest.builder()\r\n                                .maxNumberOfMessages(5)\r\n                                .messageAttributeNames(&quot;All&quot;)\r\n                                .queueUrl(queueUrl)\r\n                                .waitTimeSeconds(10)\r\n                                .visibilityTimeout(30)\r\n                                .build()));\r\n    }\r\n\r\n    protected void deleteMessage(String queueUrl, Message message) {\r\n        sqsAsyncClient.deleteMessage(DeleteMessageRequest.builder()\r\n                        .queueUrl(queueUrl)\r\n                        .receiptHandle(message.receiptHandle())\r\n                        .build())\r\n                .thenAccept(deleteMessageResponse -&gt; log.info(&quot;deleted message with handle {}&quot;, message.receiptHandle()));\r\n    }\r\n    }","title":"AWS SQS Listening vs Polling","body":"<p>I currently have implemented in a Spring Boot project running on Fargate an SQS listener.</p>\n<p>It's possible that under the hood, the SqsAsyncClient which appears to be a listener, is actually polling though.</p>\n<p>Separately, as a PoC, on I implemented a Lambda function <em>trigger</em> on a different queue. This would be <em>invoked</em> when there are items in the queue and would post to my service. This seems unnecessarily complex to me but removes a single point of failure if I were to only have one instance of the service.</p>\n<p>I guess my major point of confusion is whether I am needlessly worrying about polling vs listening on a SQS queue and whether it matters.</p>\n<p>Code for example purposes:</p>\n<pre><code>@Component\n@Slf4j\n@RequiredArgsConstructor\npublic class SqsListener {\n\nprivate final SqsAsyncClient sqsAsyncClient;\nprivate final Environment environment;\nprivate final SmsMessagingServiceImpl smsMessagingService;\n\n@PostConstruct\npublic void continuousListener() {\n    String queueUrl = environment.getProperty(&quot;aws.sqs.sms.queueUrl&quot;);\n    Mono&lt;ReceiveMessageResponse&gt; responseMono = receiveMessage(queueUrl);\n    Flux&lt;Message&gt; messages = getItems(responseMono);\n    messages.subscribe(message -&gt; disposeOfFlux(message, queueUrl));\n}\n\nprotected Flux&lt;Message&gt; getItems(Mono&lt;ReceiveMessageResponse&gt; responseMono) {\n   return responseMono.repeat().retry()\n            .map(ReceiveMessageResponse::messages)\n            .map(Flux::fromIterable)\n            .flatMap(messageFlux -&gt; messageFlux);\n\n}\n\nprotected void disposeOfFlux(Message message, String queueUrl) {\n    log.info(&quot;Inbound SMS Received from SQS with MessageId: {}&quot;, message.messageId());\n    if (someConditionIsMet()) \n        deleteMessage(queueUrl, message);\n}\n\nprotected Mono&lt;ReceiveMessageResponse&gt; receiveMessage(String queueUrl) {\n    return Mono.fromFuture(() -&gt; sqsAsyncClient.receiveMessage(\n                    ReceiveMessageRequest.builder()\n                            .maxNumberOfMessages(5)\n                            .messageAttributeNames(&quot;All&quot;)\n                            .queueUrl(queueUrl)\n                            .waitTimeSeconds(10)\n                            .visibilityTimeout(30)\n                            .build()));\n}\n\nprotected void deleteMessage(String queueUrl, Message message) {\n    sqsAsyncClient.deleteMessage(DeleteMessageRequest.builder()\n                    .queueUrl(queueUrl)\n                    .receiptHandle(message.receiptHandle())\n                    .build())\n            .thenAccept(deleteMessageResponse -&gt; log.info(&quot;deleted message with handle {}&quot;, message.receiptHandle()));\n}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4946282,"reputation":1350,"user_id":3981539,"display_name":"Kavitha Karunakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645760940,"creation_date":1645760940,"answer_id":71260824,"question_id":71257702,"body_markdown":"Defining common properties across different profiles in the application.properties file is the correct way to go about it. You can have a setup like this:\r\n\r\n    src\r\n       main\r\n           java\r\n             -- your src files here --\r\n           resources\r\n             application.properties\r\n             application-sample.properties\r\n                  \r\n    pom.xml\r\n\r\n\r\nIf you want your code in GitHub to be useful to others, a clear documentation on how to use it should be given in the README.md file. But the call is left up to you. Remember that any popular Open Source project that has source code out there in GitHub became popular because people could understand the intend behind its creation. It is not always possible to read the code like a poem and understand what the original author intended to do.\r\n\r\nYou can mention \r\n\r\n`spring.profiles.active=yourprofilehere`\r\n\r\ninside your application.properties or you can ask user to create a new profile out of the sample profile provided and then pass the argument \r\n\r\n`--spring.profiles.active=yourprofilehere` \r\n\r\nas command line argument while running the jar built out of your codebase.\r\n\r\nIt would be great if you explain in README.md file that the person who clones will also have to edit pom.xml to include the new profile details if he intend to create a separate profile for himself.\r\n\r\n P.S. I tend to remember what I wrote few weeks ago in my code only because it is immensely commented by myself. Otherwise I would end up asking which idiot wrote that.","title":"What default values should the properties have in application.properties file in Spring","body":"<p>Defining common properties across different profiles in the application.properties file is the correct way to go about it. You can have a setup like this:</p>\n<pre><code>src\n   main\n       java\n         -- your src files here --\n       resources\n         application.properties\n         application-sample.properties\n              \npom.xml\n</code></pre>\n<p>If you want your code in GitHub to be useful to others, a clear documentation on how to use it should be given in the README.md file. But the call is left up to you. Remember that any popular Open Source project that has source code out there in GitHub became popular because people could understand the intend behind its creation. It is not always possible to read the code like a poem and understand what the original author intended to do.</p>\n<p>You can mention</p>\n<p><code>spring.profiles.active=yourprofilehere</code></p>\n<p>inside your application.properties or you can ask user to create a new profile out of the sample profile provided and then pass the argument</p>\n<p><code>--spring.profiles.active=yourprofilehere</code></p>\n<p>as command line argument while running the jar built out of your codebase.</p>\n<p>It would be great if you explain in README.md file that the person who clones will also have to edit pom.xml to include the new profile details if he intend to create a separate profile for himself.</p>\n<p>P.S. I tend to remember what I wrote few weeks ago in my code only because it is immensely commented by myself. Otherwise I would end up asking which idiot wrote that.</p>\n"}],"owner":{"account_id":16572530,"reputation":1,"user_id":16378920,"display_name":"lambakean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645760940,"creation_date":1645733471,"question_id":71257702,"body_markdown":"I am trying to figure out how to manage configuration profiles in my spring project.\r\n\r\nI want to use different `.properties` files for different environments. There&#39;s a specific `application-profileName.properties` file for each environment and an `application.properties` file that is common for each environment. Sensitive data will only be contained in profile specific files.\r\n\r\nI want to create a repository on GitHub. Only the common properties file will be added to the repository. Obviously, other people who want to run my project cloned from GitHub will have to create a properties file for their own profile, but then I need to somehow tell them which properties should be defined in the profile specific properties file. I don&#39;t want to list and describe this in the README, so I&#39;m going to put stubs like this in the main properties file:\r\n```\r\nspring.datasource.url = YOUR_DATASOURCE_URL\r\nspring.datasource.username = YOUR_DATASOURCE_USERNAME\r\nspring.datasource.username = YOUR_DATASOURCE_PASSWORD\r\n```\r\n\r\nThus, the person who cloned my project will be able to replace these values with his own in the main properties file, or create his profile specific properties file and override these values there.\r\n\r\nIs this the right way to deal with the problem, and what are the common practices that apply in this situation?","title":"What default values should the properties have in application.properties file in Spring","body":"<p>I am trying to figure out how to manage configuration profiles in my spring project.</p>\n<p>I want to use different <code>.properties</code> files for different environments. There's a specific <code>application-profileName.properties</code> file for each environment and an <code>application.properties</code> file that is common for each environment. Sensitive data will only be contained in profile specific files.</p>\n<p>I want to create a repository on GitHub. Only the common properties file will be added to the repository. Obviously, other people who want to run my project cloned from GitHub will have to create a properties file for their own profile, but then I need to somehow tell them which properties should be defined in the profile specific properties file. I don't want to list and describe this in the README, so I'm going to put stubs like this in the main properties file:</p>\n<pre><code>spring.datasource.url = YOUR_DATASOURCE_URL\nspring.datasource.username = YOUR_DATASOURCE_USERNAME\nspring.datasource.username = YOUR_DATASOURCE_PASSWORD\n</code></pre>\n<p>Thus, the person who cloned my project will be able to replace these values with his own in the main properties file, or create his profile specific properties file and override these values there.</p>\n<p>Is this the right way to deal with the problem, and what are the common practices that apply in this situation?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":1,"creation_date":1564000448,"post_id":57190818,"comment_id":100891410,"body_markdown":"Override equals and hashcode for the class Personne and use HashSet instead of ArrayList.","body":"Override equals and hashcode for the class Personne and use HashSet instead of ArrayList."}],"answers":[{"tags":[],"owner":{"account_id":11315508,"reputation":11,"user_id":8297374,"display_name":"Akeme U"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564003004,"creation_date":1564003004,"answer_id":57191375,"question_id":57190818,"body_markdown":" private List &lt;String&gt; DistinctValues(ArrayList&lt;Personne&gt; listPersonnes) {\r\n        Set&lt;String&gt; uniqueColumnValues = new HashSet &lt;&gt;(); // hash set contains unique values \r\n        listPersonnes.forEach(item -&gt; uniqueColumnValues.add(item.getIDT_GCT())); // add values to HashSet\r\n        return uniqueColumnValues.stream().collect(Collectors.toList()); \r\n    }","title":"How can I get distinct values of a specific column in arrayList","body":"<p>private List  DistinctValues(ArrayList listPersonnes) {\n        Set uniqueColumnValues = new HashSet &lt;>(); // hash set contains unique values \n        listPersonnes.forEach(item -> uniqueColumnValues.add(item.getIDT_GCT())); // add values to HashSet\n        return uniqueColumnValues.stream().collect(Collectors.toList()); \n    }</p>\n"},{"tags":[],"owner":{"account_id":100231,"reputation":2452,"user_id":270298,"accept_rate":40,"display_name":"skyman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1564003289,"creation_date":1564003289,"answer_id":57191418,"question_id":57190818,"body_markdown":"&gt; The method get(String) is undefined for the type Personne\r\n\r\nyou should use `getIDT_GCT()` instead","title":"How can I get distinct values of a specific column in arrayList","body":"<blockquote>\n  <p>The method get(String) is undefined for the type Personne</p>\n</blockquote>\n\n<p>you should use <code>getIDT_GCT()</code> instead</p>\n"}],"owner":{"account_id":12029574,"reputation":59,"user_id":9219632,"display_name":"Imed "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57191418,"answer_count":2,"score":1,"last_activity_date":1645760763,"creation_date":1564000328,"question_id":57190818,"body_markdown":"Assume I have this arrayList :\r\n\r\n    ArrayList&lt;Personne&gt; personnes = new ArrayList&lt;Personne&gt;();\r\n            Personne p1 = new Personne(&quot;001590842&quot;,&quot;51862499&quot;, &quot;N5+&quot;, &quot;1&quot;, &quot;20170201&quot;,&quot;0&quot;);\r\n            Personne p2 = new Personne(&quot;001590842&quot;,&quot;51862499&quot;, &quot;X0&quot;, &quot;1&quot;, &quot;20150529&quot;, &quot;1&quot;);\r\n            Personne p3 = new Personne(&quot;001639055&quot;,&quot;51862517&quot;, &quot;G3&quot;, &quot;1&quot;, &quot;20170201&quot;, &quot;2&quot;);\r\n            Personne p4 = new Personne(&quot;001639055&quot;,&quot;51862517&quot;, &quot;G3&quot;, &quot;1&quot;, &quot;20170201&quot;, &quot;2&quot;);\r\n            Personne p5 = new Personne(&quot;001597135&quot;,&quot;51862517&quot;, &quot;G3&quot;, &quot;1&quot;, &quot;20170201&quot;, &quot;2&quot;);\r\n            Personne p6 = new Personne(&quot;001597135&quot;,&quot;51862517&quot;, &quot;G3&quot;, &quot;1&quot;, &quot;20170201&quot;, &quot;2&quot;);\r\n            Personne p7 = new Personne(&quot;002804935&quot;,&quot;00006178&quot;,&quot;G4&quot;,&quot;1&quot;,&quot;19870101&quot;,&quot;1&quot;);\r\n            Personne p8 = new Personne(&quot;002804935&quot;,&quot;00009118&quot;,&quot;X0&quot;,&quot;1&quot;,&quot;19861201&quot;,&quot;1&quot;);\r\n            Personne p9 = new Personne(&quot;002804935&quot;,&quot;00009957&quot;,&quot;N4+&quot;,&quot;1&quot;,&quot;19861229&quot;,&quot;1&quot;);\r\n            Personne p10 = new Personne(&quot;002804935&quot;,&quot;00012970&quot;,&quot;B3++&quot;,&quot;1&quot;,&quot;20100227&quot;,&quot;1&quot;);\r\n            personnes.add(p1);\r\n            personnes.add(p2);\r\n            personnes.add(p3);\r\n            personnes.add(p4);\r\n            personnes.add(p5);\r\n            personnes.add(p6);\r\n            personnes.add(p7);\r\n            personnes.add(p8);\r\n            personnes.add(p9);\r\n            personnes.add(p10);\r\n\r\nThen I want to get only distinct values of the first column. So the nedeed result should be :\r\n\r\n    001590842\r\n    001639055\r\n    002804935\r\n\r\nNote that my Personne class is defined as :\r\n\r\n    public class Personne {\r\n    \t\r\n    \tprivate String IDT_GCT;\r\n    \tprivate String IDC_PSE_PCL;\r\n        private String IDC_CD_NOT;\r\n        private String DA_PRM_CTR_ORDER;\r\n        private String IDT_ETT_PSE;\r\n        private String CD_NOT;\r\n    \r\n        public Personne(String IDT_GCT, String IDC_PSE_PCL, String IDC_CD_NOT,\r\n                        String DA_PRM_CTR_ORDER, String IDT_ETT_PSE, String CD_NOT) {\r\n        \tthis.IDT_GCT = \tIDT_GCT;\r\n            this.IDC_PSE_PCL = IDC_PSE_PCL;\r\n            this.IDC_CD_NOT = IDC_CD_NOT;\r\n            this.DA_PRM_CTR_ORDER = DA_PRM_CTR_ORDER;\r\n            this.IDT_ETT_PSE = IDT_ETT_PSE;\r\n            this.CD_NOT = CD_NOT;\r\n        }\r\n    \r\n        public String getIDC_CD_NOT() {\r\n            return this.IDC_CD_NOT;\r\n        }\r\n    \r\n        public String getIDC_PSE_PCL() {\r\n            return this.IDC_PSE_PCL;\r\n        }\r\n    \r\n        public String getDA_PRM_CTR_ORDER() {\r\n            return this.DA_PRM_CTR_ORDER;\r\n        }\r\n    \r\n        public String getIDT_ETT_PSE() {\r\n            return this.IDT_ETT_PSE;\r\n        }\r\n    \r\n        public String getCD_NOT() {\r\n            return this.CD_NOT;\r\n        }\r\n        \r\n        public String getIDT_GCT() {\r\n            return this.IDT_GCT;\r\n        }\r\n    \r\n    }\r\n    \r\n\r\nSo I need to get distinct values of IDT_GCT variable.\r\n    \r\nSo I created this function to return this :\r\n    \r\n    private static List DistinctValues (ArrayList&lt;Personne&gt; listPersonnes)\r\n    {\r\n    \tList &lt;String&gt; outList = listPersonnes.stream().map(m -&gt; m.get(&quot;IDT_GCT&quot;)).distinct().collect(Collectors.toList());\r\n    \treturn(outList);\r\n    \r\n    }\r\n\r\nBut this returns an error :\r\n\r\n    Multiple markers at this line\r\n    \t- Cannot infer type argument(s) for &lt;R&gt; map(Function&lt;? super T,? extends  \t R&gt;)\r\n    \t- The method get(String) is undefined for the type Personne\r\n    \t- The type List is not generic; it cannot be parameterized with arguments  \t &lt;String&gt;\r\n\r\nHow can I resolve it please ?\r\n\r\n","title":"How can I get distinct values of a specific column in arrayList","body":"<p>Assume I have this arrayList :</p>\n\n<pre><code>ArrayList&lt;Personne&gt; personnes = new ArrayList&lt;Personne&gt;();\n        Personne p1 = new Personne(\"001590842\",\"51862499\", \"N5+\", \"1\", \"20170201\",\"0\");\n        Personne p2 = new Personne(\"001590842\",\"51862499\", \"X0\", \"1\", \"20150529\", \"1\");\n        Personne p3 = new Personne(\"001639055\",\"51862517\", \"G3\", \"1\", \"20170201\", \"2\");\n        Personne p4 = new Personne(\"001639055\",\"51862517\", \"G3\", \"1\", \"20170201\", \"2\");\n        Personne p5 = new Personne(\"001597135\",\"51862517\", \"G3\", \"1\", \"20170201\", \"2\");\n        Personne p6 = new Personne(\"001597135\",\"51862517\", \"G3\", \"1\", \"20170201\", \"2\");\n        Personne p7 = new Personne(\"002804935\",\"00006178\",\"G4\",\"1\",\"19870101\",\"1\");\n        Personne p8 = new Personne(\"002804935\",\"00009118\",\"X0\",\"1\",\"19861201\",\"1\");\n        Personne p9 = new Personne(\"002804935\",\"00009957\",\"N4+\",\"1\",\"19861229\",\"1\");\n        Personne p10 = new Personne(\"002804935\",\"00012970\",\"B3++\",\"1\",\"20100227\",\"1\");\n        personnes.add(p1);\n        personnes.add(p2);\n        personnes.add(p3);\n        personnes.add(p4);\n        personnes.add(p5);\n        personnes.add(p6);\n        personnes.add(p7);\n        personnes.add(p8);\n        personnes.add(p9);\n        personnes.add(p10);\n</code></pre>\n\n<p>Then I want to get only distinct values of the first column. So the nedeed result should be :</p>\n\n<pre><code>001590842\n001639055\n002804935\n</code></pre>\n\n<p>Note that my Personne class is defined as :</p>\n\n<pre><code>public class Personne {\n\n    private String IDT_GCT;\n    private String IDC_PSE_PCL;\n    private String IDC_CD_NOT;\n    private String DA_PRM_CTR_ORDER;\n    private String IDT_ETT_PSE;\n    private String CD_NOT;\n\n    public Personne(String IDT_GCT, String IDC_PSE_PCL, String IDC_CD_NOT,\n                    String DA_PRM_CTR_ORDER, String IDT_ETT_PSE, String CD_NOT) {\n        this.IDT_GCT =  IDT_GCT;\n        this.IDC_PSE_PCL = IDC_PSE_PCL;\n        this.IDC_CD_NOT = IDC_CD_NOT;\n        this.DA_PRM_CTR_ORDER = DA_PRM_CTR_ORDER;\n        this.IDT_ETT_PSE = IDT_ETT_PSE;\n        this.CD_NOT = CD_NOT;\n    }\n\n    public String getIDC_CD_NOT() {\n        return this.IDC_CD_NOT;\n    }\n\n    public String getIDC_PSE_PCL() {\n        return this.IDC_PSE_PCL;\n    }\n\n    public String getDA_PRM_CTR_ORDER() {\n        return this.DA_PRM_CTR_ORDER;\n    }\n\n    public String getIDT_ETT_PSE() {\n        return this.IDT_ETT_PSE;\n    }\n\n    public String getCD_NOT() {\n        return this.CD_NOT;\n    }\n\n    public String getIDT_GCT() {\n        return this.IDT_GCT;\n    }\n\n}\n</code></pre>\n\n<p>So I need to get distinct values of IDT_GCT variable.</p>\n\n<p>So I created this function to return this :</p>\n\n<pre><code>private static List DistinctValues (ArrayList&lt;Personne&gt; listPersonnes)\n{\n    List &lt;String&gt; outList = listPersonnes.stream().map(m -&gt; m.get(\"IDT_GCT\")).distinct().collect(Collectors.toList());\n    return(outList);\n\n}\n</code></pre>\n\n<p>But this returns an error :</p>\n\n<pre><code>Multiple markers at this line\n    - Cannot infer type argument(s) for &lt;R&gt; map(Function&lt;? super T,? extends     R&gt;)\n    - The method get(String) is undefined for the type Personne\n    - The type List is not generic; it cannot be parameterized with arguments    &lt;String&gt;\n</code></pre>\n\n<p>How can I resolve it please ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2282565,"reputation":1515,"user_id":2007325,"accept_rate":73,"display_name":"Praveen Kumar"},"score":0,"creation_date":1645612797,"post_id":71235236,"comment_id":125916558,"body_markdown":"what should the actual output look like ?","body":"what should the actual output look like ?"},{"owner":{"account_id":24351987,"reputation":1,"user_id":18287702,"display_name":"Yura2108"},"score":0,"creation_date":1645613969,"post_id":71235236,"comment_id":125917048,"body_markdown":"For the input string - CGATAAG\nThe output should be 7 63 8\nwhere 7 - symbols count","body":"For the input string - CGATAAG The output should be 7 63 8 where 7 - symbols count"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645614606,"post_id":71235236,"comment_id":125917287,"body_markdown":"I don&#39;t really understand your question. What does &quot;But it doesn`t works for me&quot; mean? In what way is it not working?","body":"I don&#39;t really understand your question. What does &quot;But it doesn`t works for me&quot; mean? In what way is it not working?"},{"owner":{"account_id":24351987,"reputation":1,"user_id":18287702,"display_name":"Yura2108"},"score":0,"creation_date":1645616108,"post_id":71235236,"comment_id":125917895,"body_markdown":"I don&#39;t know how to draw the output that is required. Since it turned out to translate everything into bits, but I don’t know how to output","body":"I don&#39;t know how to draw the output that is required. Since it turned out to translate everything into bits, but I don’t know how to output"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1645627804,"post_id":71235236,"comment_id":125923029,"body_markdown":"See [mcve] and enhance your question accordingly. Do not add more information in comments, edit the question please.","body":"See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question accordingly. Do not add more information in comments, edit the question please."}],"answers":[{"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645627587,"creation_date":1645621500,"answer_id":71237479,"question_id":71235236,"body_markdown":"This is as much as I can do. Everything is pretty straightforward.\r\n```java\r\npublic static void main(String[] args) throws Exception\r\n{\r\n        String dna = &quot;CGATAAG&quot;;\r\n\t\tSystem.out.println(encode(dna)); //7 63 08\r\n        System.out.println(decode(&quot;7 63 8&quot;)); //CGATAAG\r\n\t\tSystem.out.println(decode(&quot;7 63 08&quot;)); //CGATAAG\r\n\t\t\r\n}\r\n\t\r\npublic static String encode(String dna)\r\n{\r\n\t\tfinal int size = dna.length();\r\n\t\tdna = dna.replace(&quot;A&quot;,&quot;0&quot;).replace(&quot;C&quot;,&quot;1&quot;).replace(&quot;G&quot;,&quot;2&quot;).replace(&quot;T&quot;,&quot;3&quot;);\r\n\t\tfinal byte[] bytes = new byte[(int)Math.ceil(size / 4D)];\r\n\t\tfor(int i=0, count=0, index=0; i&lt;size; ++i, ++count) {\r\n\t\t\tfinal int value = dna.charAt(i) - &#39;0&#39;;\r\n\t\t\tswitch(count) {\r\n\t\t\t\tcase  0: bytes[index] |= (value &amp; 3) &lt;&lt; 6; break;\r\n\t\t\t\tcase  1: bytes[index] |= (value &amp; 3) &lt;&lt; 4; break;\r\n\t\t\t\tcase  2: bytes[index] |= (value &amp; 3) &lt;&lt; 2; break;\r\n\t\t\t\tdefault: bytes[index] |= value &amp; 3; break;\r\n\t\t\t}\r\n\t\t\tif(count == 3) { count = -1; ++index; }\r\n\t\t}\r\n\t\treturn String.format(&quot;%d %s&quot;, size, toHexString(bytes, 0, bytes.length, false, &#39; &#39;));\r\n}\r\n\t\r\nprivate static final char[] hex = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39; };\r\nprivate static final char[] HEX = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39; };\r\n\r\npublic static String toHexString(byte[] bytes, int startIndex, int quantity, boolean lowercase, char delimiter)\r\n{\r\n\t\tint bound = bytes.length;\r\n\t\tfinal char[] hexDigit = lowercase ? hex : HEX;\r\n\t\tfinal boolean hasDelimiter = delimiter == &#39;\\r&#39; ? false : true;\r\n\t\tfinal char[] hex = hasDelimiter ? new char[quantity * 3] : new char[quantity &lt;&lt; 1];\r\n\t\tfinal int value;\r\n\t\tbound = startIndex + quantity;\r\n\t\tfor(int i=0; startIndex != bound; startIndex++) {\r\n\t\t\tvalue = bytes[startIndex] &amp; 0xFF;\r\n\t\t\thex[i++] = hexDigit[value &gt;&gt; 4];\r\n\t\t\thex[i++] = hexDigit[value &amp; 0x0F];\r\n\t\t\tif(hasDelimiter) hex[i++] = delimiter;\r\n\t\t}\r\n\t\treturn hasDelimiter ? new String(hex, 0, (quantity * 3) - 1) :  new String(hex, 0, quantity &lt;&lt; 1);\r\n}\r\n\r\npublic static String decode(String encodedDna)\r\n{\r\n\t\tfinal char[] dna = { &#39;A&#39;, &#39;C&#39;, &#39;G&#39;, &#39;T&#39; };\r\n\t\tfinal String[] fields = encodedDna.split(&quot; &quot;);\r\n\t\tfinal int size = Integer.parseInt(fields[0], 10);\r\n\t\tfinal char[] chars = new char[size];\r\n\t\tint index = 0, count = 0;\r\n\t\tfor(int i=1; i&lt;fields.length; ++i) {\r\n\t\t\tfinal int value = Integer.parseInt(fields[i], 16);\r\n\t\t\tfor(int ii=0; ii&lt;4 &amp;&amp; count&lt;size; ++ii, ++count) {\r\n\t\t\t\tswitch(ii) {\r\n\t\t\t\t\tcase  0: chars[index++] = dna[(value &amp; 0xC0) &gt;&gt; 6]; break;\r\n\t\t\t\t\tcase  1: chars[index++] = dna[(value &amp; 0x30) &gt;&gt; 4]; break;\r\n\t\t\t\t\tcase  2: chars[index++] = dna[(value &amp; 0x0C) &gt;&gt; 2]; break;\r\n\t\t\t\t\tdefault: chars[index++] = dna[value &amp; 0x03]; break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new String(chars);\r\n}\r\n```","title":"The binary-DNA encoding","body":"<p>This is as much as I can do. Everything is pretty straightforward.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception\n{\n        String dna = &quot;CGATAAG&quot;;\n        System.out.println(encode(dna)); //7 63 08\n        System.out.println(decode(&quot;7 63 8&quot;)); //CGATAAG\n        System.out.println(decode(&quot;7 63 08&quot;)); //CGATAAG\n        \n}\n    \npublic static String encode(String dna)\n{\n        final int size = dna.length();\n        dna = dna.replace(&quot;A&quot;,&quot;0&quot;).replace(&quot;C&quot;,&quot;1&quot;).replace(&quot;G&quot;,&quot;2&quot;).replace(&quot;T&quot;,&quot;3&quot;);\n        final byte[] bytes = new byte[(int)Math.ceil(size / 4D)];\n        for(int i=0, count=0, index=0; i&lt;size; ++i, ++count) {\n            final int value = dna.charAt(i) - '0';\n            switch(count) {\n                case  0: bytes[index] |= (value &amp; 3) &lt;&lt; 6; break;\n                case  1: bytes[index] |= (value &amp; 3) &lt;&lt; 4; break;\n                case  2: bytes[index] |= (value &amp; 3) &lt;&lt; 2; break;\n                default: bytes[index] |= value &amp; 3; break;\n            }\n            if(count == 3) { count = -1; ++index; }\n        }\n        return String.format(&quot;%d %s&quot;, size, toHexString(bytes, 0, bytes.length, false, ' '));\n}\n    \nprivate static final char[] hex = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' };\nprivate static final char[] HEX = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F' };\n\npublic static String toHexString(byte[] bytes, int startIndex, int quantity, boolean lowercase, char delimiter)\n{\n        int bound = bytes.length;\n        final char[] hexDigit = lowercase ? hex : HEX;\n        final boolean hasDelimiter = delimiter == '\\r' ? false : true;\n        final char[] hex = hasDelimiter ? new char[quantity * 3] : new char[quantity &lt;&lt; 1];\n        final int value;\n        bound = startIndex + quantity;\n        for(int i=0; startIndex != bound; startIndex++) {\n            value = bytes[startIndex] &amp; 0xFF;\n            hex[i++] = hexDigit[value &gt;&gt; 4];\n            hex[i++] = hexDigit[value &amp; 0x0F];\n            if(hasDelimiter) hex[i++] = delimiter;\n        }\n        return hasDelimiter ? new String(hex, 0, (quantity * 3) - 1) :  new String(hex, 0, quantity &lt;&lt; 1);\n}\n\npublic static String decode(String encodedDna)\n{\n        final char[] dna = { 'A', 'C', 'G', 'T' };\n        final String[] fields = encodedDna.split(&quot; &quot;);\n        final int size = Integer.parseInt(fields[0], 10);\n        final char[] chars = new char[size];\n        int index = 0, count = 0;\n        for(int i=1; i&lt;fields.length; ++i) {\n            final int value = Integer.parseInt(fields[i], 16);\n            for(int ii=0; ii&lt;4 &amp;&amp; count&lt;size; ++ii, ++count) {\n                switch(ii) {\n                    case  0: chars[index++] = dna[(value &amp; 0xC0) &gt;&gt; 6]; break;\n                    case  1: chars[index++] = dna[(value &amp; 0x30) &gt;&gt; 4]; break;\n                    case  2: chars[index++] = dna[(value &amp; 0x0C) &gt;&gt; 2]; break;\n                    default: chars[index++] = dna[value &amp; 0x03]; break;\n                }\n            }\n        }\n        return new String(chars);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645760739,"creation_date":1645644209,"answer_id":71242933,"question_id":71235236,"body_markdown":"Here is one approach.\r\n\r\n**Setup**\r\n\r\nFirst, set up some maps to map between encoded and non-encoded values. The map types for encoding and decoding are different to facilitate each method in which they are used.\r\n```\r\nstatic Map&lt;Character, Byte&gt; dnaToCode =\r\n        Map.of(&#39;A&#39;, (byte) 0, &#39;G&#39;, (byte) 2, &#39;C&#39;, (byte) 1, &#39;T&#39;, (byte) 3);\r\nstatic Map&lt;Integer, String&gt; codeToDna =\r\n\t\tMap.of(0, &quot;A&quot;, 2, &quot;G&quot;, 1, &quot;C&quot;, 3, &quot;T&quot;);\r\n````\r\n**Encoding**\r\n\r\nThe general idea is to iterate over the `dna` strand, map the nucleotide to its 2 bit equivalent, converting every pair to a hex digit and return the string.\r\n\r\n- define a string for converstion to hex\r\n- define a few types for storage and processing\r\n- Since every two nucleotides equate to one hex digit, increment the loop by two.\r\n- assign the first bit pair to a byte variable\r\n- shift left two bits for the next encoding.\r\n- check to see if the end has been reached (and odd strand length). If so, skip it.\r\n- else store next value and append a hex digit.\r\n- then insert a delimiter based on the value of `i` (between every hex pairing).\r\n- return the strand length prepended to the encoding.\r\n```\r\nstatic String hexDigits = &quot;0123456789ABCDEF&quot;;\r\n\t\r\npublic static String encode(String dna) {\r\n\tStringBuilder encoded = new StringBuilder();\r\n\tchar[] n = dna.toCharArray();\r\n\tint len = dna.length();\r\n\t\r\n\tfor (int i = 0; i &lt; len; i += 2) {\r\n\t\tbyte b = dnaToCode.get(n[i]);\r\n\t\tb &lt;&lt;= 2;\r\n\t\tif (i &lt; len - 1) {\r\n\t\t\tb |= dnaToCode.get(n[i + 1]);\r\n\t\t}\r\n\t\tencoded.append(hexDigits.charAt(b));\r\n\t\tif (i % 4 == 2) {\r\n\t\t\tencoded.append(&quot; &quot;);\r\n\t\t}\r\n\t}\r\n\treturn len + &quot; &quot; + encoded.toString();\r\n}\r\n```\r\n**Decoding**\r\n\r\n- to decode, just split on the white space.\r\n- then grab the length as the first array element.\r\n- for the rest, simply process two hex digits at a time, shifting and ANDing and using the other map to get the nucleotide for the encoding.\r\n- the conditional checks for single digit hex tokens.\r\n- then return the string which is adjusted for the actual length of the strand.\r\n```\t\r\npublic static String decode(String code) {\r\n\tString[] s = code.split(&quot; &quot;);\r\n\tint len = Integer.parseInt(s[0]);\r\n\r\n\tStringBuilder decoded = new StringBuilder();\r\n\tfor (int i = 1; i &lt; s.length; i++) {\r\n\t\tint val = Integer.parseInt(s[i], 16);\r\n\t\tif (s[i].length() &gt; 1) {\r\n\t\t\tdecoded.append(codeToDna.get(val &gt;&gt; 6));\r\n\t\t\tdecoded.append(codeToDna.get((val &gt;&gt; 4) &amp; 3));\r\n\t\t}\r\n\t\tdecoded.append(codeToDna.get((val &gt;&gt; 2) &amp; 3));\r\n\t\tdecoded.append(codeToDna.get(val &amp; 3));\r\n\t}\r\n\treturn decoded.toString().substring(0,len);\r\n}\r\n```\r\n**Testing**\r\n\r\nHere is a method to test the code.\r\n- it does 7 runs.\r\n- generates random `dna` strand of length 1 to 10 inclusive\r\n- then it encodes it.\r\n- decoded the encoded string.\r\n- and prints out the results for comparison.\r\n```\r\npublic static void testit() {\r\n\tRandom r = new Random();\r\n\tfor (int i = 0; i &lt; 7; i++) {\r\n\t\tint size = r.nextInt(10) + 1;\r\n\t\tString generated =\r\n\t\t\t\tr.ints(size, 0, 4).mapToObj(codeToDna::get)\r\n\t\t\t\t\t\t.collect(Collectors.joining());\r\n\t\tString encoded = encode(generated);\r\n\t\tString decoded = decode(encoded);\r\n\t\tSystem.out.println(&quot;orig    = &quot; + generated);\r\n\t\tSystem.out.println(&quot;encoded = &quot; + encoded);\r\n\t\tSystem.out.println(&quot;decoded = &quot; + decoded);\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t}\r\n}\r\n```\r\nprints something like\r\n```\r\norig    = GGTAACTC\r\nencoded = 8 AC 1D \r\ndecoded = GGTAACTC\r\n\r\norig    = CACCTATTT\r\nencoded = 9 45 CF C\r\ndecoded = CACCTATTT\r\n\r\norig    = TTCGGCACTA\r\nencoded = 10 F6 91 C\r\ndecoded = TTCGGCACTA\r\n\r\norig    = CATACTAG\r\nencoded = 8 4C 72 \r\ndecoded = CATACTAG\r\n\r\norig    = ACCCCG\r\nencoded = 6 15 6\r\ndecoded = ACCCCG\r\n\r\norig    = GCATT\r\nencoded = 5 93 C\r\ndecoded = GCATT\r\n\r\norig    = AGTCAGG\r\nencoded = 7 2D 28 \r\ndecoded = AGTCAGG\r\n","title":"The binary-DNA encoding","body":"<p>Here is one approach.</p>\n<p><strong>Setup</strong></p>\n<p>First, set up some maps to map between encoded and non-encoded values. The map types for encoding and decoding are different to facilitate each method in which they are used.</p>\n<pre><code>static Map&lt;Character, Byte&gt; dnaToCode =\n        Map.of('A', (byte) 0, 'G', (byte) 2, 'C', (byte) 1, 'T', (byte) 3);\nstatic Map&lt;Integer, String&gt; codeToDna =\n        Map.of(0, &quot;A&quot;, 2, &quot;G&quot;, 1, &quot;C&quot;, 3, &quot;T&quot;);\n</code></pre>\n<p><strong>Encoding</strong></p>\n<p>The general idea is to iterate over the <code>dna</code> strand, map the nucleotide to its 2 bit equivalent, converting every pair to a hex digit and return the string.</p>\n<ul>\n<li>define a string for converstion to hex</li>\n<li>define a few types for storage and processing</li>\n<li>Since every two nucleotides equate to one hex digit, increment the loop by two.</li>\n<li>assign the first bit pair to a byte variable</li>\n<li>shift left two bits for the next encoding.</li>\n<li>check to see if the end has been reached (and odd strand length). If so, skip it.</li>\n<li>else store next value and append a hex digit.</li>\n<li>then insert a delimiter based on the value of <code>i</code> (between every hex pairing).</li>\n<li>return the strand length prepended to the encoding.</li>\n</ul>\n<pre><code>static String hexDigits = &quot;0123456789ABCDEF&quot;;\n    \npublic static String encode(String dna) {\n    StringBuilder encoded = new StringBuilder();\n    char[] n = dna.toCharArray();\n    int len = dna.length();\n    \n    for (int i = 0; i &lt; len; i += 2) {\n        byte b = dnaToCode.get(n[i]);\n        b &lt;&lt;= 2;\n        if (i &lt; len - 1) {\n            b |= dnaToCode.get(n[i + 1]);\n        }\n        encoded.append(hexDigits.charAt(b));\n        if (i % 4 == 2) {\n            encoded.append(&quot; &quot;);\n        }\n    }\n    return len + &quot; &quot; + encoded.toString();\n}\n</code></pre>\n<p><strong>Decoding</strong></p>\n<ul>\n<li>to decode, just split on the white space.</li>\n<li>then grab the length as the first array element.</li>\n<li>for the rest, simply process two hex digits at a time, shifting and ANDing and using the other map to get the nucleotide for the encoding.</li>\n<li>the conditional checks for single digit hex tokens.</li>\n<li>then return the string which is adjusted for the actual length of the strand.</li>\n</ul>\n<pre><code>public static String decode(String code) {\n    String[] s = code.split(&quot; &quot;);\n    int len = Integer.parseInt(s[0]);\n\n    StringBuilder decoded = new StringBuilder();\n    for (int i = 1; i &lt; s.length; i++) {\n        int val = Integer.parseInt(s[i], 16);\n        if (s[i].length() &gt; 1) {\n            decoded.append(codeToDna.get(val &gt;&gt; 6));\n            decoded.append(codeToDna.get((val &gt;&gt; 4) &amp; 3));\n        }\n        decoded.append(codeToDna.get((val &gt;&gt; 2) &amp; 3));\n        decoded.append(codeToDna.get(val &amp; 3));\n    }\n    return decoded.toString().substring(0,len);\n}\n</code></pre>\n<p><strong>Testing</strong></p>\n<p>Here is a method to test the code.</p>\n<ul>\n<li>it does 7 runs.</li>\n<li>generates random <code>dna</code> strand of length 1 to 10 inclusive</li>\n<li>then it encodes it.</li>\n<li>decoded the encoded string.</li>\n<li>and prints out the results for comparison.</li>\n</ul>\n<pre><code>public static void testit() {\n    Random r = new Random();\n    for (int i = 0; i &lt; 7; i++) {\n        int size = r.nextInt(10) + 1;\n        String generated =\n                r.ints(size, 0, 4).mapToObj(codeToDna::get)\n                        .collect(Collectors.joining());\n        String encoded = encode(generated);\n        String decoded = decode(encoded);\n        System.out.println(&quot;orig    = &quot; + generated);\n        System.out.println(&quot;encoded = &quot; + encoded);\n        System.out.println(&quot;decoded = &quot; + decoded);\n        System.out.println();\n        \n    }\n}\n</code></pre>\n<p>prints something like</p>\n<pre><code>orig    = GGTAACTC\nencoded = 8 AC 1D \ndecoded = GGTAACTC\n\norig    = CACCTATTT\nencoded = 9 45 CF C\ndecoded = CACCTATTT\n\norig    = TTCGGCACTA\nencoded = 10 F6 91 C\ndecoded = TTCGGCACTA\n\norig    = CATACTAG\nencoded = 8 4C 72 \ndecoded = CATACTAG\n\norig    = ACCCCG\nencoded = 6 15 6\ndecoded = ACCCCG\n\norig    = GCATT\nencoded = 5 93 C\ndecoded = GCATT\n\norig    = AGTCAGG\nencoded = 7 2D 28 \ndecoded = AGTCAGG\n</code></pre>\n"}],"owner":{"account_id":24351987,"reputation":1,"user_id":18287702,"display_name":"Yura2108"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1645760739,"creation_date":1645612102,"question_id":71235236,"body_markdown":"There is a problem, it is necessary to encode the DNA code in both directions. I have found the half of solution: https://stackoverflow.com/questions/71203792/how-to-encode-chars-in-2-bits-in-java?noredirect=1#comment125870543_71203792\r\nBut it doesn`t works for me. 4 symbols: A - 00 bits, C - 01 bits, G - 10 bits, T - 11 bits.\r\nit turned out to encode, but how to display the result in print, while separating the characters. I need to encode the output hex notation\r\n\r\nMy code:\r\n```\r\npublic static String compileDnk(String input) {\r\n        if(input.isEmpty()) {\r\n            System.out.println(&quot;wrong command format&quot;);\r\n            return &quot;&quot;;\r\n        }\r\n \r\n        input = input.toUpperCase();\r\n \r\n        if (!input.matches(&quot;[ACGT]+&quot;)) {\r\n            System.out.println(&quot;wrong command format&quot;);\r\n            return &quot;&quot;;\r\n        }\r\n \r\n \r\n        byte store = 0;\r\n        for (char subString : input.toCharArray()) {\r\n            store = setByte(store, getByChar(subString), getByChar2(subString));\r\n        }\r\n \r\n        //But this output is: 11111111111111111111111111100000\r\n        return Integer.toBinaryString(store);\r\n    }\r\n \r\nprivate static byte setByte(byte store, int index, int value) {\r\n        store = (byte)(store &amp; ~(0x3 &lt;&lt; (2 * index)));\r\n        return (byte) (store | (value &amp; 0x3) &lt;&lt; (2 * index));\r\n}\r\n```","title":"The binary-DNA encoding","body":"<p>There is a problem, it is necessary to encode the DNA code in both directions. I have found the half of solution: <a href=\"https://stackoverflow.com/questions/71203792/how-to-encode-chars-in-2-bits-in-java?noredirect=1#comment125870543_71203792\">How to encode chars in 2-bits? in java</a>\nBut it doesn`t works for me. 4 symbols: A - 00 bits, C - 01 bits, G - 10 bits, T - 11 bits.\nit turned out to encode, but how to display the result in print, while separating the characters. I need to encode the output hex notation</p>\n<p>My code:</p>\n<pre><code>public static String compileDnk(String input) {\n        if(input.isEmpty()) {\n            System.out.println(&quot;wrong command format&quot;);\n            return &quot;&quot;;\n        }\n \n        input = input.toUpperCase();\n \n        if (!input.matches(&quot;[ACGT]+&quot;)) {\n            System.out.println(&quot;wrong command format&quot;);\n            return &quot;&quot;;\n        }\n \n \n        byte store = 0;\n        for (char subString : input.toCharArray()) {\n            store = setByte(store, getByChar(subString), getByChar2(subString));\n        }\n \n        //But this output is: 11111111111111111111111111100000\n        return Integer.toBinaryString(store);\n    }\n \nprivate static byte setByte(byte store, int index, int value) {\n        store = (byte)(store &amp; ~(0x3 &lt;&lt; (2 * index)));\n        return (byte) (store | (value &amp; 0x3) &lt;&lt; (2 * index));\n}\n</code></pre>\n"},{"tags":["java","android","android-internal-storage"],"comments":[{"owner":{"account_id":19161375,"reputation":169,"user_id":13997063,"display_name":"DynoZ"},"score":1,"creation_date":1614184230,"post_id":66353871,"comment_id":117309942,"body_markdown":"Get the root directory via new File(). File class affords also a listFile() method. Use it to get all files inside a folder. Enjoy with recursion and pay attention, it may cause lag!!! Now you should check if every file is a .pdf, do it checking if the file name contains &quot;.pdf&quot; extension via String#contains(). For every pdf file you found, save it inside a File array. Remember that you could catch some problems due to security of a linux kernel (Android is based on), so sure you won&#39;t able to check some folders...","body":"Get the root directory via new File(). File class affords also a listFile() method. Use it to get all files inside a folder. Enjoy with recursion and pay attention, it may cause lag!!! Now you should check if every file is a .pdf, do it checking if the file name contains &quot;.pdf&quot; extension via String#contains(). For every pdf file you found, save it inside a File array. Remember that you could catch some problems due to security of a linux kernel (Android is based on), so sure you won&#39;t able to check some folders..."},{"owner":{"account_id":19161375,"reputation":169,"user_id":13997063,"display_name":"DynoZ"},"score":1,"creation_date":1614184313,"post_id":66353871,"comment_id":117309987,"body_markdown":"Or try what [Shay Kin](https://stackoverflow.com/users/7085389/shay-kin) said. I&#39;ve never used MediaStore, yet","body":"Or try what <a href=\"https://stackoverflow.com/users/7085389/shay-kin\">Shay Kin</a> said. I&#39;ve never used MediaStore, yet"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":1,"creation_date":1614227597,"post_id":66353871,"comment_id":117323077,"body_markdown":"@DynoZ your suggested solution [won&#39;t work on newer Android versions](https://stackoverflow.com/a/58379655/208273).","body":"@DynoZ your suggested solution <a href=\"https://stackoverflow.com/a/58379655/208273\">won&#39;t work on newer Android versions</a>."}],"answers":[{"tags":[],"owner":{"account_id":9534903,"reputation":2569,"user_id":7085389,"display_name":"Shay Kin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1614234365,"creation_date":1614184047,"answer_id":66354880,"question_id":66353871,"body_markdown":"You can use MediaStore to fetch all PDF Files ,this is an example how to get all your  PDF files :\r\n\r\n       protected ArrayList&lt;String&gt; getPdfList() {\r\n        ArrayList&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\r\n        Uri collection;\r\n    \r\n        final String[] projection = new String[]{\r\n                MediaStore.Files.FileColumns.DISPLAY_NAME,\r\n                MediaStore.Files.FileColumns.DATE_ADDED,\r\n                MediaStore.Files.FileColumns.DATA,\r\n                MediaStore.Files.FileColumns.MIME_TYPE,\r\n        };\r\n    \r\n        final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\r\n    \r\n        final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\r\n    \r\n        final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\r\n        final String[] selectionArgs = new String[]{mimeType};\r\n    \r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\r\n        }else{\r\n            collection = MediaStore.Files.getContentUri(&quot;external&quot;);\r\n        }\r\n    \r\n    \r\n        try (Cursor cursor = getContentResolver().query(collection, projection, selection, selectionArgs, sortOrder)) {\r\n            assert cursor != null;\r\n    \r\n            if (cursor.moveToFirst()) {\r\n                int columnData = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\r\n                int columnName = cursor.getColumnIndex(MediaStore.Files.FileColumns.DISPLAY_NAME);\r\n                do {\r\n                    pdfList.add((cursor.getString(columnData)));\r\n                    Log.d(TAG, &quot;getPdf: &quot; + cursor.getString(columnData));\r\n                    //you can get your pdf files\r\n                } while (cursor.moveToNext());\r\n            }\r\n        }\r\n        return pdfList;\r\n    }\r\n\r\n","title":"How to fetch all pdf file from all directories in my Android app","body":"<p>You can use MediaStore to fetch all PDF Files ,this is an example how to get all your  PDF files :</p>\n<pre><code>   protected ArrayList&lt;String&gt; getPdfList() {\n    ArrayList&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\n    Uri collection;\n\n    final String[] projection = new String[]{\n            MediaStore.Files.FileColumns.DISPLAY_NAME,\n            MediaStore.Files.FileColumns.DATE_ADDED,\n            MediaStore.Files.FileColumns.DATA,\n            MediaStore.Files.FileColumns.MIME_TYPE,\n    };\n\n    final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\n\n    final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\n\n    final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\n    final String[] selectionArgs = new String[]{mimeType};\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\n    }else{\n        collection = MediaStore.Files.getContentUri(&quot;external&quot;);\n    }\n\n\n    try (Cursor cursor = getContentResolver().query(collection, projection, selection, selectionArgs, sortOrder)) {\n        assert cursor != null;\n\n        if (cursor.moveToFirst()) {\n            int columnData = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\n            int columnName = cursor.getColumnIndex(MediaStore.Files.FileColumns.DISPLAY_NAME);\n            do {\n                pdfList.add((cursor.getString(columnData)));\n                Log.d(TAG, &quot;getPdf: &quot; + cursor.getString(columnData));\n                //you can get your pdf files\n            } while (cursor.moveToNext());\n        }\n    }\n    return pdfList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19585499,"reputation":1099,"user_id":14333699,"display_name":"Anil Dhiman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636784334,"creation_date":1636784334,"answer_id":69951947,"question_id":66353871,"body_markdown":"i have search almost all the ans but it was not working in Android 11. so i have a short solution for picking up all file for example image, video, pdf, doc, audio etc. there was a github library which was recently created \r\n\r\nClick [here] https://github.com/HBiSoft/PickiT\r\n\r\nand if you want to do all this without dependency\r\n\r\n&lt;b&gt;Code Below&lt;/b&gt;\r\n- do it in orderwise\r\n__________________________________________\r\n\r\n\r\n    var mimeTypes = arrayOf(\r\n        &quot;application/msword&quot;,\r\n        &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;,  // .doc &amp; .docx\r\n        &quot;application/vnd.ms-powerpoint&quot;,\r\n        &quot;application/vnd.openxmlformats-officedocument.presentationml.presentation&quot;,  // .ppt &amp; .pptx\r\n        &quot;application/vnd.ms-excel&quot;,\r\n        &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;,  // .xls &amp; .xlsx\r\n        &quot;application/pdf&quot;\r\n    )\r\n\r\n     findViewById&lt;Button&gt;(R.id.btnclick).setOnClickListener {\r\n\r\n            val intent = Intent(Intent.ACTION_OPEN_DOCUMENT).apply {\r\n                addCategory(Intent.CATEGORY_OPENABLE)\r\n                type = &quot;*/*&quot;\r\n                putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\r\n\r\n                // mimeTypes = mimeTypes\r\n            }\r\n\r\n            startActivityForResult(intent, 100)\r\n\r\n        }\r\n\r\n     override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n        Log.e(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&quot;, &quot;check&quot;)\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            getFile(this,intentToDocumentFiles(data)[0])\r\n        }\r\n    }\r\n\r\n     private fun intentToDocumentFiles(intent: Intent?): List&lt;DocumentFile&gt; {\r\n        val uris = intent?.clipData?.run {\r\n            val list = mutableListOf&lt;Uri&gt;()\r\n            for (i in 0 until itemCount) {\r\n                list.add(getItemAt(i).uri)\r\n            }\r\n            list.takeIf { it.isNotEmpty() }\r\n        } ?: listOf(intent?.data ?: return emptyList())\r\n\r\n        return uris.mapNotNull { uri -&gt;\r\n            if (uri.isDownloadsDocument &amp;&amp; Build.VERSION.SDK_INT &lt; 28 &amp;&amp; uri.path?.startsWith(&quot;/document/raw:&quot;) == true) {\r\n                val fullPath = uri.path.orEmpty().substringAfterLast(&quot;/document/raw:&quot;)\r\n                DocumentFile.fromFile(File(fullPath))\r\n            } else {\r\n                fromSingleUri(uri)\r\n            }\r\n        }.filter { it.isFile }\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.R)\r\n    fun getFile(context: Context, document: DocumentFile): File? {\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\r\n            return null\r\n        }\r\n        try {\r\n            val volumeList: List&lt;StorageVolume&gt; = context\r\n                .getSystemService(StorageManager::class.java)\r\n                .getStorageVolumes()\r\n            if (volumeList == null || volumeList.isEmpty()) {\r\n                return null\r\n            }\r\n\r\n            // There must be a better way to get the document segment\r\n            val documentId = DocumentsContract.getDocumentId(document.uri)\r\n            val documentSegment = documentId.substring(documentId.lastIndexOf(&#39;:&#39;) + 1)\r\n            for (volume in volumeList) {\r\n                val volumePath: String\r\n                if (Build.VERSION.SDK_INT == Build.VERSION_CODES.Q) {\r\n                    val class_StorageVolume = Class.forName(&quot;android.os.storage.StorageVolume&quot;)\r\n                    val method_getPath: Method = class_StorageVolume.getDeclaredMethod(&quot;getPath&quot;)\r\n                    volumePath=method_getPath.invoke(volume).toString()\r\n                } else {\r\n                    // API 30\r\n                    volumePath=volume.directory!!.path\r\n                }\r\n                val storageFile = File(volumePath + File.separator + documentSegment)\r\n\r\n                // Should improve with other checks, because there is the\r\n                // remote possibility that a copy could exist in a different\r\n                // volume (SD-card) under a matching path structure and even\r\n                // same file name, (maybe a user&#39;s backup in the SD-card).\r\n                // Checking for the volume Uuid could be an option but\r\n                // as per the documentation the Uuid can be empty.\r\n                val isTarget = (storageFile.exists()\r\n                        &amp;&amp; storageFile.lastModified() == document.lastModified()\r\n                        &amp;&amp; storageFile.length() == document.length())\r\n                if (isTarget) {\r\n                    Log.e(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;,storageFile.absolutePath)\r\n                    return storageFile\r\n                }\r\n            }\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n        Log.e(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;,&quot;null&quot;)\r\n        return null\r\n    }","title":"How to fetch all pdf file from all directories in my Android app","body":"<p>i have search almost all the ans but it was not working in Android 11. so i have a short solution for picking up all file for example image, video, pdf, doc, audio etc. there was a github library which was recently created</p>\n<p>Click [here] <a href=\"https://github.com/HBiSoft/PickiT\" rel=\"nofollow noreferrer\">https://github.com/HBiSoft/PickiT</a></p>\n<p>and if you want to do all this without dependency</p>\n<p><b>Code Below</b></p>\n<ul>\n<li>do it in orderwise</li>\n</ul>\n<hr />\n<pre><code>var mimeTypes = arrayOf(\n    &quot;application/msword&quot;,\n    &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;,  // .doc &amp; .docx\n    &quot;application/vnd.ms-powerpoint&quot;,\n    &quot;application/vnd.openxmlformats-officedocument.presentationml.presentation&quot;,  // .ppt &amp; .pptx\n    &quot;application/vnd.ms-excel&quot;,\n    &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;,  // .xls &amp; .xlsx\n    &quot;application/pdf&quot;\n)\n\n findViewById&lt;Button&gt;(R.id.btnclick).setOnClickListener {\n\n        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT).apply {\n            addCategory(Intent.CATEGORY_OPENABLE)\n            type = &quot;*/*&quot;\n            putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\n\n            // mimeTypes = mimeTypes\n        }\n\n        startActivityForResult(intent, 100)\n\n    }\n\n override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    Log.e(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&quot;, &quot;check&quot;)\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n        getFile(this,intentToDocumentFiles(data)[0])\n    }\n}\n\n private fun intentToDocumentFiles(intent: Intent?): List&lt;DocumentFile&gt; {\n    val uris = intent?.clipData?.run {\n        val list = mutableListOf&lt;Uri&gt;()\n        for (i in 0 until itemCount) {\n            list.add(getItemAt(i).uri)\n        }\n        list.takeIf { it.isNotEmpty() }\n    } ?: listOf(intent?.data ?: return emptyList())\n\n    return uris.mapNotNull { uri -&gt;\n        if (uri.isDownloadsDocument &amp;&amp; Build.VERSION.SDK_INT &lt; 28 &amp;&amp; uri.path?.startsWith(&quot;/document/raw:&quot;) == true) {\n            val fullPath = uri.path.orEmpty().substringAfterLast(&quot;/document/raw:&quot;)\n            DocumentFile.fromFile(File(fullPath))\n        } else {\n            fromSingleUri(uri)\n        }\n    }.filter { it.isFile }\n}\n\n@RequiresApi(Build.VERSION_CODES.R)\nfun getFile(context: Context, document: DocumentFile): File? {\n    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\n        return null\n    }\n    try {\n        val volumeList: List&lt;StorageVolume&gt; = context\n            .getSystemService(StorageManager::class.java)\n            .getStorageVolumes()\n        if (volumeList == null || volumeList.isEmpty()) {\n            return null\n        }\n\n        // There must be a better way to get the document segment\n        val documentId = DocumentsContract.getDocumentId(document.uri)\n        val documentSegment = documentId.substring(documentId.lastIndexOf(':') + 1)\n        for (volume in volumeList) {\n            val volumePath: String\n            if (Build.VERSION.SDK_INT == Build.VERSION_CODES.Q) {\n                val class_StorageVolume = Class.forName(&quot;android.os.storage.StorageVolume&quot;)\n                val method_getPath: Method = class_StorageVolume.getDeclaredMethod(&quot;getPath&quot;)\n                volumePath=method_getPath.invoke(volume).toString()\n            } else {\n                // API 30\n                volumePath=volume.directory!!.path\n            }\n            val storageFile = File(volumePath + File.separator + documentSegment)\n\n            // Should improve with other checks, because there is the\n            // remote possibility that a copy could exist in a different\n            // volume (SD-card) under a matching path structure and even\n            // same file name, (maybe a user's backup in the SD-card).\n            // Checking for the volume Uuid could be an option but\n            // as per the documentation the Uuid can be empty.\n            val isTarget = (storageFile.exists()\n                    &amp;&amp; storageFile.lastModified() == document.lastModified()\n                    &amp;&amp; storageFile.length() == document.length())\n            if (isTarget) {\n                Log.e(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;,storageFile.absolutePath)\n                return storageFile\n            }\n        }\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n    Log.e(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;,&quot;null&quot;)\n    return null\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3685079,"reputation":1480,"user_id":3886504,"accept_rate":73,"display_name":"shobhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645759969,"creation_date":1645759969,"answer_id":71260711,"question_id":66353871,"body_markdown":"**This is improvised answer of @Shay Kin.**\r\n\r\nAs we know in latest android versions we have many restrictions to access files in external storage.\r\n\r\n[MediaStore api][1] and [Storage Access Framework][2] apis provides access to shared files. This is explained clearly in [this video][3].\r\n\r\nComing to the answer, in Shay Kin&#39;s answer we can able to fetch all pdf files which are there in the shared files but ignores **downloads**. \r\n\r\nPermissions required \r\n\r\n&gt; `READ_EXTERNAL_STORAGE` \r\n&gt;\r\n&gt; **if api is Q plus** you also need `MANAGE_EXTERNAL_STORAGE`\r\n\r\nplease find the below code to fetch all pdf files. \r\n\r\n\r\n    protected List&lt;String&gt; getPdfList() {\r\n        List&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\r\n\r\n        final String[] projection = new String[]{\r\n                MediaStore.Files.FileColumns.DISPLAY_NAME,\r\n                MediaStore.Files.FileColumns.DATE_ADDED,\r\n                MediaStore.Files.FileColumns.DATA,\r\n                MediaStore.Files.FileColumns.MIME_TYPE,\r\n        };\r\n\r\n        final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\r\n\r\n        final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\r\n\r\n        final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\r\n        final String[] selectionArgs = new String[]{mimeType};\r\n        \r\n        Uri collection = MediaStore.Files.getContentUri(&quot;external&quot;);\r\n        pdfList.addAll(getPdfList(collection, projection, selection, selectionArgs, sortOrder));\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            collection = MediaStore.Downloads.getContentUri(&quot;external&quot;);\r\n            pdfList.addAll(getPdfList(collection,projection, selection, selectionArgs, sortOrder));\r\n        }\r\n        \r\n        return pdfList;\r\n    }\r\n\r\n    private List&lt;String&gt; getPdfList(Uri collection, String[] projection, String selection, String[] selectionArgs, String sortOrder) {\r\n        List&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\r\n\r\n        try (Cursor cursor = getContentResolver().query(collection, projection, selection, selectionArgs, sortOrder)) {\r\n            assert cursor != null;\r\n\r\n            if (cursor.moveToFirst()) {\r\n                int columnData = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\r\n                do {\r\n                    pdfList.add((cursor.getString(columnData)));\r\n                    Log.d(TAG, &quot;getPdf: &quot; + cursor.getString(columnData));\r\n                    //you can get your pdf files\r\n                } while (cursor.moveToNext());\r\n            }\r\n        }\r\n        return pdfList;\r\n    }\r\n\r\n\r\nHope this works.\r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared/media\r\n  [2]: https://developer.android.com/training/data-storage/shared/documents-files\r\n  [3]: https://www.youtube.com/watch?v=RjyYCUW-9tY","title":"How to fetch all pdf file from all directories in my Android app","body":"<p><strong>This is improvised answer of @Shay Kin.</strong></p>\n<p>As we know in latest android versions we have many restrictions to access files in external storage.</p>\n<p><a href=\"https://developer.android.com/training/data-storage/shared/media\" rel=\"nofollow noreferrer\">MediaStore api</a> and <a href=\"https://developer.android.com/training/data-storage/shared/documents-files\" rel=\"nofollow noreferrer\">Storage Access Framework</a> apis provides access to shared files. This is explained clearly in <a href=\"https://www.youtube.com/watch?v=RjyYCUW-9tY\" rel=\"nofollow noreferrer\">this video</a>.</p>\n<p>Coming to the answer, in Shay Kin's answer we can able to fetch all pdf files which are there in the shared files but ignores <strong>downloads</strong>.</p>\n<p>Permissions required</p>\n<blockquote>\n<p><code>READ_EXTERNAL_STORAGE</code></p>\n<p><strong>if api is Q plus</strong> you also need <code>MANAGE_EXTERNAL_STORAGE</code></p>\n</blockquote>\n<p>please find the below code to fetch all pdf files.</p>\n<pre><code>protected List&lt;String&gt; getPdfList() {\n    List&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\n\n    final String[] projection = new String[]{\n            MediaStore.Files.FileColumns.DISPLAY_NAME,\n            MediaStore.Files.FileColumns.DATE_ADDED,\n            MediaStore.Files.FileColumns.DATA,\n            MediaStore.Files.FileColumns.MIME_TYPE,\n    };\n\n    final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\n\n    final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\n\n    final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\n    final String[] selectionArgs = new String[]{mimeType};\n    \n    Uri collection = MediaStore.Files.getContentUri(&quot;external&quot;);\n    pdfList.addAll(getPdfList(collection, projection, selection, selectionArgs, sortOrder));\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        collection = MediaStore.Downloads.getContentUri(&quot;external&quot;);\n        pdfList.addAll(getPdfList(collection,projection, selection, selectionArgs, sortOrder));\n    }\n    \n    return pdfList;\n}\n\nprivate List&lt;String&gt; getPdfList(Uri collection, String[] projection, String selection, String[] selectionArgs, String sortOrder) {\n    List&lt;String&gt; pdfList = new ArrayList&lt;&gt;();\n\n    try (Cursor cursor = getContentResolver().query(collection, projection, selection, selectionArgs, sortOrder)) {\n        assert cursor != null;\n\n        if (cursor.moveToFirst()) {\n            int columnData = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA);\n            do {\n                pdfList.add((cursor.getString(columnData)));\n                Log.d(TAG, &quot;getPdf: &quot; + cursor.getString(columnData));\n                //you can get your pdf files\n            } while (cursor.moveToNext());\n        }\n    }\n    return pdfList;\n}\n</code></pre>\n<p>Hope this works.</p>\n"}],"owner":{"account_id":20799735,"reputation":51,"user_id":15276046,"display_name":"Knowledge hub"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6515,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":66354880,"answer_count":3,"score":2,"last_activity_date":1645759969,"creation_date":1614180216,"question_id":66353871,"body_markdown":"I want to know how to fetch all PDF files from internal storage.  Files can be in any directory, like some in DCIM folders or some in Downloads folder, and so on and so forth.\r\n\r\nNote: I am using Android Studio (language: Java).","title":"How to fetch all pdf file from all directories in my Android app","body":"<p>I want to know how to fetch all PDF files from internal storage.  Files can be in any directory, like some in DCIM folders or some in Downloads folder, and so on and so forth.</p>\n<p>Note: I am using Android Studio (language: Java).</p>\n"},{"tags":["java","algorithm","recursion","backtracking","pass-by-value"],"comments":[{"owner":{"account_id":22825528,"reputation":13,"user_id":16974852,"display_name":"Tina"},"score":0,"creation_date":1645703240,"post_id":71246708,"comment_id":125944935,"body_markdown":"@AlexanderIvanchenko Thank you for your suggestion! I have added some descriptions. That would be great if you could help.","body":"@AlexanderIvanchenko Thank you for your suggestion! I have added some descriptions. That would be great if you could help."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645673270,"creation_date":1645673270,"answer_id":71246738,"question_id":71246708,"body_markdown":"Java is pass-by-value. That means your that your `cnt` variable in your `climbStairs` method is not shared; it is unique to you. When you invoke `climb`, you pass the value it holds (`0` every time here), and `climb` has its own variable (also called `cnt`). It modifies its own `cnt` value which is tossed in the garbage when that method ends (all parameters and all local variables are always tossed in the garbage when a method ends).\r\n\r\nYou want to _return_ `cnt`:\r\n\r\n```\r\n// In climbStairs:\r\nreturn climb(cnt, k, n);\r\n\r\n// In climb, at the end:\r\nreturn cnt;\r\n```\r\n","title":"Backtracking N stairs question getting 0 cases Java","body":"<p>Java is pass-by-value. That means your that your <code>cnt</code> variable in your <code>climbStairs</code> method is not shared; it is unique to you. When you invoke <code>climb</code>, you pass the value it holds (<code>0</code> every time here), and <code>climb</code> has its own variable (also called <code>cnt</code>). It modifies its own <code>cnt</code> value which is tossed in the garbage when that method ends (all parameters and all local variables are always tossed in the garbage when a method ends).</p>\n<p>You want to <em>return</em> <code>cnt</code>:</p>\n<pre><code>// In climbStairs:\nreturn climb(cnt, k, n);\n\n// In climb, at the end:\nreturn cnt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645722596,"creation_date":1645706003,"answer_id":71252038,"question_id":71246708,"body_markdown":"Every recursive implementation consists of **two parts**:\r\n* **base case** - a situation (or situations) that represent the edge-case for which the result is already known. For this problem, if we choose to track the number of *steps* (going forward I&#39;d say that it&#39;s not mandatory) then the **base case** is when the number of *stairs* is equal to the number of *steps*, i.e. `k == n`. And if we don&#39;t track the number of *steps* then the **base case** will be represented with *two edge-cases*: there are *no stairs* at all - no *steps* required and there&#39;s only one way to take zero steps, so the output is `1`, and the second is when we have only *one stair* then we have to take one *step* and the output is also `1`.\r\n* **recursive case** - is the part where recursive calls a made and where main logic resides.\r\n\r\nWe have two possible branches in the **recursive case** for every `k &lt; n`: we can either take **1 step** or **2 steps**. And therefore we have to make *two recursive calls* that represent these situations. All these calls can be represented graphically as a tree. To understand the logic better can you drow this *tree of method-calls* starting from the first one that is made inside the `climbStairs()` and track the value of `k` for each call. Until the condition `k &lt; n` is meat each *vertex* will spawn two branches. When `k` is greater or equal to `n` the call hits the **base case**. And starting from the bottom to the top you can figure out what are the return values for each call.\r\n\r\nAlso, note that instead of being `void` your method must return the number of paths that are found. And the third parameter that represents this number is redundant.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(climbStairs(1));\r\n        System.out.println(climbStairs(3));\r\n    }\r\n\r\n    public static int climbStairs(int n) {\r\n        if (n &lt; 0) { // cut off the incorrect input\r\n            return 0;\r\n        }\r\n        return climb(n, 0);\r\n    }\r\n\r\n    public static int climb(int n, int k){\r\n        if (k &gt; n) { // an invalid situation\r\n            return 0;\r\n        }\r\n        if (k == n) { // a path was found\r\n            return 1;\r\n        }\r\n        // there are two alternative branches for every k &lt; n\r\n        int count = 0;\r\n        count += climb(n, k + 1); // move one step forward\r\n        count += climb(n, k + 2); // move two steps forward\r\n        return count;\r\n    }\r\n\r\nAs I said above tracking the number of *steps* isn&#39;t required. Instead, we can *reduce the number of stairs* while making recursive calls. And that will allow us to place all logic in a **single method**. Like that:\r\n\r\n    public static int climbStairs(int n) {\r\n        if (n &lt; 0) { // cut off the incorrect input\r\n            return 0;\r\n        }\r\n        if (n == 0) { // a base case when we have NO stairs - we have to take zero steps (there&#39;s only ONE way to do that)\r\n            return 1;\r\n        }\r\n        if (n == 1) { // a base case when we have only one stair - we have to take one step (there&#39;s only ONE way to do that)\r\n            return 1;\r\n        }\r\n        // there are two alternative branches for every n &gt; 1\r\n        int count = 0;\r\n        count += climbStairs(n - 1); // move one step forward\r\n        count += climbStairs(n - 2); // move two steps forward\r\n        return count;\r\n    }\r\n\r\n**Output**\r\n```\r\n1\r\n3\r\n```","title":"Backtracking N stairs question getting 0 cases Java","body":"<p>Every recursive implementation consists of <strong>two parts</strong>:</p>\n<ul>\n<li><strong>base case</strong> - a situation (or situations) that represent the edge-case for which the result is already known. For this problem, if we choose to track the number of <em>steps</em> (going forward I'd say that it's not mandatory) then the <strong>base case</strong> is when the number of <em>stairs</em> is equal to the number of <em>steps</em>, i.e. <code>k == n</code>. And if we don't track the number of <em>steps</em> then the <strong>base case</strong> will be represented with <em>two edge-cases</em>: there are <em>no stairs</em> at all - no <em>steps</em> required and there's only one way to take zero steps, so the output is <code>1</code>, and the second is when we have only <em>one stair</em> then we have to take one <em>step</em> and the output is also <code>1</code>.</li>\n<li><strong>recursive case</strong> - is the part where recursive calls a made and where main logic resides.</li>\n</ul>\n<p>We have two possible branches in the <strong>recursive case</strong> for every <code>k &lt; n</code>: we can either take <strong>1 step</strong> or <strong>2 steps</strong>. And therefore we have to make <em>two recursive calls</em> that represent these situations. All these calls can be represented graphically as a tree. To understand the logic better can you drow this <em>tree of method-calls</em> starting from the first one that is made inside the <code>climbStairs()</code> and track the value of <code>k</code> for each call. Until the condition <code>k &lt; n</code> is meat each <em>vertex</em> will spawn two branches. When <code>k</code> is greater or equal to <code>n</code> the call hits the <strong>base case</strong>. And starting from the bottom to the top you can figure out what are the return values for each call.</p>\n<p>Also, note that instead of being <code>void</code> your method must return the number of paths that are found. And the third parameter that represents this number is redundant.</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(climbStairs(1));\n    System.out.println(climbStairs(3));\n}\n\npublic static int climbStairs(int n) {\n    if (n &lt; 0) { // cut off the incorrect input\n        return 0;\n    }\n    return climb(n, 0);\n}\n\npublic static int climb(int n, int k){\n    if (k &gt; n) { // an invalid situation\n        return 0;\n    }\n    if (k == n) { // a path was found\n        return 1;\n    }\n    // there are two alternative branches for every k &lt; n\n    int count = 0;\n    count += climb(n, k + 1); // move one step forward\n    count += climb(n, k + 2); // move two steps forward\n    return count;\n}\n</code></pre>\n<p>As I said above tracking the number of <em>steps</em> isn't required. Instead, we can <em>reduce the number of stairs</em> while making recursive calls. And that will allow us to place all logic in a <strong>single method</strong>. Like that:</p>\n<pre><code>public static int climbStairs(int n) {\n    if (n &lt; 0) { // cut off the incorrect input\n        return 0;\n    }\n    if (n == 0) { // a base case when we have NO stairs - we have to take zero steps (there's only ONE way to do that)\n        return 1;\n    }\n    if (n == 1) { // a base case when we have only one stair - we have to take one step (there's only ONE way to do that)\n        return 1;\n    }\n    // there are two alternative branches for every n &gt; 1\n    int count = 0;\n    count += climbStairs(n - 1); // move one step forward\n    count += climbStairs(n - 2); // move two steps forward\n    return count;\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>1\n3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645759401,"creation_date":1645737842,"answer_id":71258425,"question_id":71246708,"body_markdown":"We are given that there are `N` steps. Let `n` equal the number of two-steps taken (`0 &lt;= n &lt;= N/2`). If `n` two-steps are taken `N-2*n` one-steps are taken.\r\n\r\nLet `f(n)` equal the number of combinations of one-steps and two-steps when there are `n` two-steps. This is merely a coefficient in a [multinomial distribution](https://en.wikipedia.org/wiki/Multinomial_distribution#:~:text=In%20probability%20theory%2C%20the%20multinomial,sided%20die%20rolled%20n%20times.) having two distinct items:\r\n\r\n    m = N-2*n\r\n    f(n) = (n+m)!/(n!*m!)\r\n\r\nTo obtain the desired total number of combinations we simply sum `f(n)` over `n = 0..N/2`.\r\n\r\n\r\n----------\r\n\r\nFor `N = 3` (the example given in the question), the number of combinations is computed as follows.\r\n\r\n    n = 0\r\n    m = N-2*n = 3\r\n    f(n) = (n+m)!/(n!*m!) = 3!/(0!*3!) = 1    # 111\r\n&lt;!--&gt;\r\n    n = 1\r\n    m = N-2*n = 1\r\n    f(n) = (n+m)!/(n!*m!) = 2!/(1!*1!) = 2    # 12 and 21\r\n&lt;!--&gt;\r\n    f(0) + f(1) = 3\r\n\r\n----------\r\n\r\nFor `N = 5`, the number of combinations is computed as follows.\r\n\r\n    n = 0\r\n    m = N-2*n = 5\r\n    f(n) = (n+m)!/(n!*m!) = 5!/(0!*5!) = 1    # 11111\r\n&lt;!--&gt;\r\n    n = 1\r\n    m = N-2*n = 3\r\n    f(n) = (n+m)!/(n!*m!) = 4!/(1!*3!) = 4    # 2111 1211 1121 1112\r\n&lt;!--&gt;\r\n    n = 2\r\n    m = N-2*n = 1\r\n    f(n) = (n+m)!/(n!*m!) = 3!/(2!*1!) = 3    # 212 221 122\r\n&lt;!--&gt;\r\n    f(0) + f(1) + f(2) = 8\r\n\r\n","title":"Backtracking N stairs question getting 0 cases Java","body":"<p>We are given that there are <code>N</code> steps. Let <code>n</code> equal the number of two-steps taken (<code>0 &lt;= n &lt;= N/2</code>). If <code>n</code> two-steps are taken <code>N-2*n</code> one-steps are taken.</p>\n<p>Let <code>f(n)</code> equal the number of combinations of one-steps and two-steps when there are <code>n</code> two-steps. This is merely a coefficient in a <a href=\"https://en.wikipedia.org/wiki/Multinomial_distribution#:%7E:text=In%20probability%20theory%2C%20the%20multinomial,sided%20die%20rolled%20n%20times.\" rel=\"nofollow noreferrer\">multinomial distribution</a> having two distinct items:</p>\n<pre><code>m = N-2*n\nf(n) = (n+m)!/(n!*m!)\n</code></pre>\n<p>To obtain the desired total number of combinations we simply sum <code>f(n)</code> over <code>n = 0..N/2</code>.</p>\n<hr />\n<p>For <code>N = 3</code> (the example given in the question), the number of combinations is computed as follows.</p>\n<pre><code>n = 0\nm = N-2*n = 3\nf(n) = (n+m)!/(n!*m!) = 3!/(0!*3!) = 1    # 111\n</code></pre>\n\n<pre><code>n = 1\nm = N-2*n = 1\nf(n) = (n+m)!/(n!*m!) = 2!/(1!*1!) = 2    # 12 and 21\n</code></pre>\n\n<pre><code>f(0) + f(1) = 3\n</code></pre>\n<hr />\n<p>For <code>N = 5</code>, the number of combinations is computed as follows.</p>\n<pre><code>n = 0\nm = N-2*n = 5\nf(n) = (n+m)!/(n!*m!) = 5!/(0!*5!) = 1    # 11111\n</code></pre>\n\n<pre><code>n = 1\nm = N-2*n = 3\nf(n) = (n+m)!/(n!*m!) = 4!/(1!*3!) = 4    # 2111 1211 1121 1112\n</code></pre>\n\n<pre><code>n = 2\nm = N-2*n = 1\nf(n) = (n+m)!/(n!*m!) = 3!/(2!*1!) = 3    # 212 221 122\n</code></pre>\n\n<pre><code>f(0) + f(1) + f(2) = 8\n</code></pre>\n"}],"owner":{"account_id":22825528,"reputation":13,"user_id":16974852,"display_name":"Tina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71252038,"answer_count":3,"score":1,"last_activity_date":1645759401,"creation_date":1645673043,"question_id":71246708,"body_markdown":"N Stairs question is to compute the number of distinct ways to reach the top. Each time you can either climb 1 or 2 steps. For example, if the input is 3, the desired output is 3 (1+1+1,1+2,2+1).\r\n\r\nI am learning backtracking in Java, so I want to implement it in this question, although DP would work better in such a case. I view it as a practice if I understand backtracking well, but apparently not. I got stuck because my algorithm gives me a `0` output for every case. Below is my code:\r\n\r\n```\r\n    public int climbStairs(int n) {\r\n        int cnt=0,k=0;\r\n        climb(cnt,k,n);\r\n        return cnt;\r\n    }\r\n    public void climb(int cnt, int k, int n){\r\n        if(k==n){\r\n            cnt++;\r\n            return; \r\n        }\r\n        for(int i=1;i&lt;3;++i){\r\n            if(k&lt;n){\r\n                k+=i;\r\n                climb(cnt,k,n);\r\n                k-=i;\r\n            }\r\n        }\r\n    }\r\n```\r\nCould you help me figure out what&#39;s wrong with my code? I tried debugging it, and I noticed every time it returns, `cnt` will automatically change to `0`, but I just can&#39;t figure out why.\r\n\r\nThank you so much in advance!\r\n\r\nEdited version:\r\n```\r\npublic class ClimbStairs {\r\n    public static void main(String[] args) {\r\n        System.out.println(climbStairs(3));\r\n    }\r\n    public static int climbStairs(int n) {\r\n        int cnt=0,k=0;\r\n        return climb(cnt, k, n);\r\n    }\r\n    public static int climb(int cnt, int k, int n){\r\n        if(k==n){\r\n            cnt++;\r\n        }\r\n        for(int i=1;i&lt;3;++i){\r\n            if(k&lt;n){\r\n                k+=i;\r\n                climb(cnt,k,n);\r\n                k-=i;\r\n            }\r\n        }\r\n        return cnt;\r\n    }\r\n}\r\n```","title":"Backtracking N stairs question getting 0 cases Java","body":"<p>N Stairs question is to compute the number of distinct ways to reach the top. Each time you can either climb 1 or 2 steps. For example, if the input is 3, the desired output is 3 (1+1+1,1+2,2+1).</p>\n<p>I am learning backtracking in Java, so I want to implement it in this question, although DP would work better in such a case. I view it as a practice if I understand backtracking well, but apparently not. I got stuck because my algorithm gives me a <code>0</code> output for every case. Below is my code:</p>\n<pre><code>    public int climbStairs(int n) {\n        int cnt=0,k=0;\n        climb(cnt,k,n);\n        return cnt;\n    }\n    public void climb(int cnt, int k, int n){\n        if(k==n){\n            cnt++;\n            return; \n        }\n        for(int i=1;i&lt;3;++i){\n            if(k&lt;n){\n                k+=i;\n                climb(cnt,k,n);\n                k-=i;\n            }\n        }\n    }\n</code></pre>\n<p>Could you help me figure out what's wrong with my code? I tried debugging it, and I noticed every time it returns, <code>cnt</code> will automatically change to <code>0</code>, but I just can't figure out why.</p>\n<p>Thank you so much in advance!</p>\n<p>Edited version:</p>\n<pre><code>public class ClimbStairs {\n    public static void main(String[] args) {\n        System.out.println(climbStairs(3));\n    }\n    public static int climbStairs(int n) {\n        int cnt=0,k=0;\n        return climb(cnt, k, n);\n    }\n    public static int climb(int cnt, int k, int n){\n        if(k==n){\n            cnt++;\n        }\n        for(int i=1;i&lt;3;++i){\n            if(k&lt;n){\n                k+=i;\n                climb(cnt,k,n);\n                k-=i;\n            }\n        }\n        return cnt;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","automated-tests","data-driven-tests"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1550644099,"post_id":54779121,"comment_id":96339060,"body_markdown":"Update the question with the error stack trace","body":"Update the question with the error stack trace"}],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550640967,"creation_date":1550640530,"answer_id":54779392,"question_id":54779121,"body_markdown":"You declared the variables in `Add` class as static, and then you send them back to `create` method in `Add` class. It doesn&#39;t make much sense, and the source of the problem, the variables where never initialized so they are `null`.\r\n\r\nIn addition you misunderstood the use of `PageFactory`, `PageFactory.initElements` doesn&#39;t initialize `String` class variables, how can it know what value to put there? It initialize `WebElement` class variables with `@FindBy` annotation. \r\n\r\nDelete the static variables from `Add` class, if you need them only in `create()` pass them to this method, if you need them in class level pass them in the constructor to `private` variables.","title":"Selenium-sendKeys() throwing &#39;Keys to send should be a not null CharSequence&#39;","body":"<p>You declared the variables in <code>Add</code> class as static, and then you send them back to <code>create</code> method in <code>Add</code> class. It doesn't make much sense, and the source of the problem, the variables where never initialized so they are <code>null</code>.</p>\n\n<p>In addition you misunderstood the use of <code>PageFactory</code>, <code>PageFactory.initElements</code> doesn't initialize <code>String</code> class variables, how can it know what value to put there? It initialize <code>WebElement</code> class variables with <code>@FindBy</code> annotation. </p>\n\n<p>Delete the static variables from <code>Add</code> class, if you need them only in <code>create()</code> pass them to this method, if you need them in class level pass them in the constructor to <code>private</code> variables.</p>\n"}],"owner":{"account_id":10601548,"reputation":93,"user_id":7808356,"display_name":"YoDO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8332,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":54779392,"answer_count":1,"score":-1,"last_activity_date":1645759310,"creation_date":1550638738,"question_id":54779121,"body_markdown":"Hey guys i am new to Selenium and facing some issue .\r\nThere are 3 class , one is Data_Provider which reads data from excel another is a class to Add users (after reading from excel) last class is main class which calls Add class.\r\n\r\n**Below is Add class code**\r\n\r\n        package pomPagefactory;\r\n    \r\n        import org.openqa.selenium.By;\r\n        import org.openqa.selenium.WebDriver;\r\n        import org.testng.annotations.Test;\r\n    \r\n        public class Add extends Data_Provider {\r\n    \tpublic Add(WebDriver driver) {\r\n    \t\tsuper(driver);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic static String fname, lname, title, email, tel, uname, pass, cpass;\r\n    \r\n    \t@Test(dataProvider = &quot;testset&quot;)\r\n    \tpublic void create(String fname, String lname, String title, String email, String tel, String uname, String pass,\r\n    \t\t\tString cpass) {\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@name=&#39;FirstName&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@name=&#39;FirstName&#39;]&quot;)).sendKeys(fname);\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;LastName&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;LastName&#39;]&quot;)).sendKeys(lname);\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;Title&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;Title&#39;]&quot;)).sendKeys(title);\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;Email&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;Email&#39;]&quot;)).sendKeys(email);\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;TelephoneNumber&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;TelephoneNumber&#39;]&quot;)).sendKeys(tel);\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;UserID&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;UserID&#39;]&quot;)).sendKeys(uname);\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;password&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;password&#39;]&quot;)).sendKeys(pass);\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;cpassword&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@id=&#39;cpassword&#39;]&quot;)).sendKeys(cpass);\r\n    \r\n    \t\tdriver.findElement(\r\n    \t\t\t\tBy.xpath(&quot;//button[@type=&#39;submit&#39;]//span[@class=&#39;ng-scope&#39;][contains(text(),&#39;Create User&#39;)]&quot;)).click();\r\n    \r\n    \t}\r\n    }\r\n\r\nThe DataProvider class is correct no issue in it.\r\n\r\nI have called Add class (methods in add class) in Main page(main class)\r\n\r\n**Main class code**\r\n\r\n  \r\n\r\n      package pomPagefactory;\r\n        //all imports;\r\n        public class Admin {\r\n    \r\n    \tpublic static WebDriver driver;\r\n    \r\n    \t@Test\r\n    \tpublic void Page() throws Exception {\r\n    \r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n    \t\t\t\t&quot;C:\\\\Users\\\\srawat\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n    \r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tdriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    \t\tdriver.manage().window().maximize();\r\n    \r\n    \t\tLocator loc = PageFactory.initElements(driver, Locator.class);\r\n    \t\tloc.Login(&quot;uaadmin&quot;, &quot;novell&quot;);\r\n    \r\n    \t\tloc.people_user();\r\n    \t\t\r\n    \t\tloc.create_new_user();\r\n    \t\tAdd ad=PageFactory.initElements(driver, Add.class);\r\n    \t\tad.create(Add.fname,Add.lname, Add.title, Add.email, Add.tel, Add.uname, \r\n            Add.pass, Add.cpass);\r\n    \t}\r\n    }\r\n\r\n","title":"Selenium-sendKeys() throwing &#39;Keys to send should be a not null CharSequence&#39;","body":"<p>Hey guys i am new to Selenium and facing some issue .\nThere are 3 class , one is Data_Provider which reads data from excel another is a class to Add users (after reading from excel) last class is main class which calls Add class.</p>\n\n<p><strong>Below is Add class code</strong></p>\n\n<pre><code>    package pomPagefactory;\n\n    import org.openqa.selenium.By;\n    import org.openqa.selenium.WebDriver;\n    import org.testng.annotations.Test;\n\n    public class Add extends Data_Provider {\n    public Add(WebDriver driver) {\n        super(driver);\n        // TODO Auto-generated constructor stub\n    }\n\n    public static String fname, lname, title, email, tel, uname, pass, cpass;\n\n    @Test(dataProvider = \"testset\")\n    public void create(String fname, String lname, String title, String email, String tel, String uname, String pass,\n            String cpass) {\n\n        driver.findElement(By.xpath(\"//input[@name='FirstName']\")).clear();\n        driver.findElement(By.xpath(\"//input[@name='FirstName']\")).sendKeys(fname);\n\n        driver.findElement(By.xpath(\"//input[@id='LastName']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='LastName']\")).sendKeys(lname);\n        driver.findElement(By.xpath(\"//input[@id='Title']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='Title']\")).sendKeys(title);\n\n        driver.findElement(By.xpath(\"//input[@id='Email']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='Email']\")).sendKeys(email);\n\n        driver.findElement(By.xpath(\"//input[@id='TelephoneNumber']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='TelephoneNumber']\")).sendKeys(tel);\n\n        driver.findElement(By.xpath(\"//input[@id='UserID']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='UserID']\")).sendKeys(uname);\n\n        driver.findElement(By.xpath(\"//input[@id='password']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='password']\")).sendKeys(pass);\n\n        driver.findElement(By.xpath(\"//input[@id='cpassword']\")).clear();\n        driver.findElement(By.xpath(\"//input[@id='cpassword']\")).sendKeys(cpass);\n\n        driver.findElement(\n                By.xpath(\"//button[@type='submit']//span[@class='ng-scope'][contains(text(),'Create User')]\")).click();\n\n    }\n}\n</code></pre>\n\n<p>The DataProvider class is correct no issue in it.</p>\n\n<p>I have called Add class (methods in add class) in Main page(main class)</p>\n\n<p><strong>Main class code</strong></p>\n\n<pre><code>  package pomPagefactory;\n    //all imports;\n    public class Admin {\n\n    public static WebDriver driver;\n\n    @Test\n    public void Page() throws Exception {\n\n        System.setProperty(\"webdriver.chrome.driver\",\n                \"C:\\\\Users\\\\srawat\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe\");\n\n        driver = new ChromeDriver();\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n        driver.manage().window().maximize();\n\n        Locator loc = PageFactory.initElements(driver, Locator.class);\n        loc.Login(\"uaadmin\", \"novell\");\n\n        loc.people_user();\n\n        loc.create_new_user();\n        Add ad=PageFactory.initElements(driver, Add.class);\n        ad.create(Add.fname,Add.lname, Add.title, Add.email, Add.tel, Add.uname, \n        Add.pass, Add.cpass);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","enums","postman"],"answers":[{"tags":[],"owner":{"account_id":10514861,"reputation":21,"user_id":7749281,"display_name":"JeffreyXue"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645759194,"creation_date":1645759194,"answer_id":71260639,"question_id":71259160,"body_markdown":"your request method is GET, but you send request body, they are not match. I suggest you change your request method turn to POST, and use @RequestBody. By the way, You need to encapsulate three objects into a new object.\r\n\r\n    @AllowedRequestParams({&quot;columns&quot;, &quot;ids&quot;})\r\n    @PostMapping(&quot;/v1/analysis/files&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; downloadAnalysis(@RequestBody XX xx) {\r\n        return csv()\r\n                .asAttachment(&quot;data_analysis.csv&quot;)\r\n                .withBody(AnalysisDownloader.downloadAnalysis(xx.getColumnsSelector(), xx.getCriteria(), xx.getSortable()));\r\n    }","title":"Pass a list of enums in postman request body","body":"<p>your request method is GET, but you send request body, they are not match. I suggest you change your request method turn to POST, and use @RequestBody. By the way, You need to encapsulate three objects into a new object.</p>\n<pre><code>@AllowedRequestParams({&quot;columns&quot;, &quot;ids&quot;})\n@PostMapping(&quot;/v1/analysis/files&quot;)\npublic ResponseEntity&lt;byte[]&gt; downloadAnalysis(@RequestBody XX xx) {\n    return csv()\n            .asAttachment(&quot;data_analysis.csv&quot;)\n            .withBody(AnalysisDownloader.downloadAnalysis(xx.getColumnsSelector(), xx.getCriteria(), xx.getSortable()));\n}\n</code></pre>\n"}],"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645759194,"creation_date":1645743117,"question_id":71259160,"body_markdown":"This is the controller that I am trying to pass the enum values to:\r\n\r\n```java\r\n @AllowedRequestParams({&quot;columns&quot;, &quot;ids&quot;})\r\n  @GetMapping(&quot;/v1/analysis/files&quot;)\r\n  public ResponseEntity&lt;byte[]&gt; downloadAnalysis(@Valid AnalysisColumnsSelector columnsSelector,\r\n                                                 @Valid FileUploadSearchCriteria criteria,\r\n                                                 @Valid AnalysisSortable sortable) {\r\n    return csv()\r\n        .asAttachment(&quot;data_analysis.csv&quot;)\r\n        .withBody(AnalysisDownloader.downloadAnalysis(columnsSelector, criteria, sortable));\r\n  }\r\n```\r\n\r\nThis is the object having a list of enums that I am trying to pass:\r\n\r\n```java\r\n\r\n  import static java.util.Arrays.asList;\r\nimport static org.apache.commons.collections4.CollectionUtils.isEmpty;\r\n\r\nimport java.util.List;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Setter;\r\n\r\n  @EqualsAndHashCode\r\n  @Setter\r\n  class AnalysisColumnsSelector {\r\n\r\n    private List&lt;AnalysisColumnEnum&gt; columns;\r\n\r\n    public List&lt;AnalysisColumnEnum&gt; getColumns() {\r\n      return isEmpty(columns) ? asList(AnalysisColumnEnum.values()) : columns;\r\n    }\r\n\r\n    public String[] getHeaders() {\r\n      return getColumns().stream()\r\n          .map(AnalysisColumnEnum::getHeader)\r\n          .toArray(String[]::new);\r\n    }\r\n  }\r\n```\r\n\r\nand this is the enum:\r\n\r\n```java\r\n import static java.util.Arrays.stream;\r\n\r\nimport lombok.Getter;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n  @Getter\r\n  @RequiredArgsConstructor\r\n  enum AnalysisColumnEnum {\r\n\r\n    ANALYSIS_COLUMN(&quot;analysisId&quot;, &quot;[![ANALYSIS][1]][1]&quot;),\r\n\r\n    TITLE(&quot;title&quot;, &quot;TITLE&quot;),\r\n\r\n    DISCUSSED(&quot;discussed&quot;, &quot;Discussed&quot;);\r\n\r\n    private final String code;\r\n    private final String header;\r\n\r\n    public static AnalysisColumnEnum decode(String code) {\r\n      return stream(values())\r\n          .filter(analysisColumn -&gt; analysisColumn.code.equals(code))\r\n          .findFirst()\r\n          .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Unknown column code.&quot;));\r\n    }\r\n```\r\n\r\nI am passing my request body as in the below image, but the values are not being sent to the controller. What is my mistake?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vcMtx.png","title":"Pass a list of enums in postman request body","body":"<p>This is the controller that I am trying to pass the enum values to:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @AllowedRequestParams({&quot;columns&quot;, &quot;ids&quot;})\n  @GetMapping(&quot;/v1/analysis/files&quot;)\n  public ResponseEntity&lt;byte[]&gt; downloadAnalysis(@Valid AnalysisColumnsSelector columnsSelector,\n                                                 @Valid FileUploadSearchCriteria criteria,\n                                                 @Valid AnalysisSortable sortable) {\n    return csv()\n        .asAttachment(&quot;data_analysis.csv&quot;)\n        .withBody(AnalysisDownloader.downloadAnalysis(columnsSelector, criteria, sortable));\n  }\n</code></pre>\n<p>This is the object having a list of enums that I am trying to pass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n  import static java.util.Arrays.asList;\nimport static org.apache.commons.collections4.CollectionUtils.isEmpty;\n\nimport java.util.List;\nimport lombok.EqualsAndHashCode;\nimport lombok.Setter;\n\n  @EqualsAndHashCode\n  @Setter\n  class AnalysisColumnsSelector {\n\n    private List&lt;AnalysisColumnEnum&gt; columns;\n\n    public List&lt;AnalysisColumnEnum&gt; getColumns() {\n      return isEmpty(columns) ? asList(AnalysisColumnEnum.values()) : columns;\n    }\n\n    public String[] getHeaders() {\n      return getColumns().stream()\n          .map(AnalysisColumnEnum::getHeader)\n          .toArray(String[]::new);\n    }\n  }\n</code></pre>\n<p>and this is the enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code> import static java.util.Arrays.stream;\n\nimport lombok.Getter;\nimport lombok.RequiredArgsConstructor;\n\n  @Getter\n  @RequiredArgsConstructor\n  enum AnalysisColumnEnum {\n\n    ANALYSIS_COLUMN(&quot;analysisId&quot;, &quot;[![ANALYSIS][1]][1]&quot;),\n\n    TITLE(&quot;title&quot;, &quot;TITLE&quot;),\n\n    DISCUSSED(&quot;discussed&quot;, &quot;Discussed&quot;);\n\n    private final String code;\n    private final String header;\n\n    public static AnalysisColumnEnum decode(String code) {\n      return stream(values())\n          .filter(analysisColumn -&gt; analysisColumn.code.equals(code))\n          .findFirst()\n          .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Unknown column code.&quot;));\n    }\n</code></pre>\n<p>I am passing my request body as in the below image, but the values are not being sent to the controller. What is my mistake?\n<a href=\"https://i.stack.imgur.com/vcMtx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vcMtx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","class"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1645759289,"post_id":71260606,"comment_id":125961877,"body_markdown":"You haven&#39;t said what the problem is, but you should be able to just use: `ReadingTags.JavaDatabaseUpdate(...)` to call the method. It isn&#39;t clear what you want to pass, as `JavaDatabaseUpdate` doesn&#39;t use any of its parameters. I would change JavaDatabaseUpdate to take a single `String` parameter and use it wherever it is meant to be used, replacing `rfid` maybe?","body":"You haven&#39;t said what the problem is, but you should be able to just use: <code>ReadingTags.JavaDatabaseUpdate(...)</code> to call the method. It isn&#39;t clear what you want to pass, as <code>JavaDatabaseUpdate</code> doesn&#39;t use any of its parameters. I would change JavaDatabaseUpdate to take a single <code>String</code> parameter and use it wherever it is meant to be used, replacing <code>rfid</code> maybe?"},{"owner":{"account_id":196140,"reputation":33,"user_id":439434,"display_name":"Mick"},"score":0,"creation_date":1645831456,"post_id":71260606,"comment_id":125982944,"body_markdown":"Thank you. This got me going in the right direction. Appreciate the time!","body":"Thank you. This got me going in the right direction. Appreciate the time!"}],"owner":{"account_id":196140,"reputation":33,"user_id":439434,"display_name":"Mick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645758863,"creation_date":1645758863,"question_id":71260606,"body_markdown":"I am not a java developer but I need to update some java code that reads RFID tags to then update our MySQL database. I have two working examples where I can read some tags in one file and I can update the database in another file but when combining them I am out of my league.\r\n\r\nI added public static void JavaDatabaseUpdate to my working code for the RFID reader and as long as I don&#39;t call it, the code executes fine. The problem comes when I try to run the script... Maybe I am just approaching this all wrong:\r\n\r\n    public class ReadingTags {\r\n\t\r\n\tstatic final String DEFAULT_READER_IP_ADDRESS = &quot;192.168.1.5&quot;;\r\n\tstatic final int PORT_NUMBER = 5000;\r\n\tstatic final int maxResponseSize = 1000;\r\n\tstatic RFIDReader reader = null;\r\n\tpublic static boolean reading = false;\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\ttry\r\n\t\t{\r\n\t\t\tString readerIPAddress = DEFAULT_READER_IP_ADDRESS;\r\n\t\t\tint PortNumber = PORT_NUMBER;\r\n\r\n\t\t\tSystem.out.println(&quot;Setting up ReaderComm instance on IP Address &quot; + readerIPAddress);\r\n\t\t\t\r\n\t\t\treader = new RFIDReader(readerIPAddress, PortNumber);\r\n\t\t\tReadTest();\r\n\r\n\t\t}\r\n\t\tcatch (Exception ex)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Main: &quot; + ex.toString());\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void ReadTest() throws Exception, InterruptedException\r\n\t{\r\n\t\tTagReadHandler tagReadHandler = new TagReadHandler();\r\n\t\tReadingTags.reader.SetTagReadCallback(tagReadHandler);\r\n\t\tSystem.out.println(&quot;Starting Continuous Read ...&quot;);\r\n\t\tReadingTags.reading = true;\r\n\t\tReadingTags.reader.StartContinuousRead();\r\n\t\t\r\n\t\t// Read for .050 seconds then issue stop command\r\n\t\tThread.sleep(50);\r\n\t\t\r\n\t\tSystem.out.println(&quot;*** Stopping Continuous Read For 5 Seconds to wait on another tray. We would do an update here****&quot;);\r\n\t\tReadingTags.reader.StopContinuousRead();\r\n\t\tThread.sleep(5000);\r\n\r\n\t\t//Now start a new loop\t\r\n\t\tSystem.out.println(&quot;Start New Loop&quot;);\r\n\t\tReadTest();\r\n\t\t\r\n\t\t\r\n\t\t//While loop to read queued up\r\n\t\t//tag data and to wait for stop command response.\r\n\t\t\r\n\t\t\r\n\t\twhile(ReadingTags.reading)\r\n\t\t{\t\r\n\t\t\tThread.sleep(10);\r\n\t\t} \r\n\t}\r\n\r\n\t\tpublic static void JavaDatabaseUpdate(String[] args) {\r\n\t\t   Connection conn = null;\r\n\t\t   Statement stmt = null;\r\n\t\t   String rfid = &quot;145131000000000000000000&quot;;\r\n\t\t   try {\r\n\t\t\t  try {\r\n\t\t\t\t Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t  } catch (Exception e) {\r\n\t\t\t\t System.out.println(e);\r\n\t\t\t  }\r\n\t\t\t  conn = (Connection) DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/office&quot;, &quot;root&quot;, &quot;&quot;);\r\n\t\t\t  stmt = (Statement) conn.createStatement();\r\n\t\t\t  String query1 = &quot;update productiontrays set status=5 &quot; + &quot;where rfid =&quot;+rfid;\r\n\t\t\t  stmt.executeUpdate(query1);\r\n\t\t\t  System.out.println(&quot;Record has been updated in the table successfully&quot;);\r\n\t\t   } catch (SQLException excep) {\r\n\t\t\t  excep.printStackTrace();\r\n\t\t   } catch (Exception excep) {\r\n\t\t\t  excep.printStackTrace();\r\n\t\t   } finally {\r\n\t\t\t  try {\r\n\t\t\t\t if (stmt != null)\r\n\t\t\t\t conn.close();\r\n\t\t\t  } catch (SQLException se) {}\r\n\t\t\t  try {\r\n\t\t\t\t if (conn != null)\r\n\t\t\t\t conn.close();\r\n\t\t\t  } catch (SQLException se) {\r\n\t\t\t\t se.printStackTrace();\r\n\t\t\t  }\r\n\t\t   }\r\n\t\t}\r\n}\r\n\r\nAnd then the class where I would like to call the JavaDatabaseUpdate:\r\n\r\n    class TagReadHandler implements OnTagReadResponse{\r\n\tpublic void handleTagRead(TagReadInfo readInfo)\r\n\t{\r\n\t\tif (readInfo.tagReadStatus == 0) // STATUS_OK\r\n\t\t{\r\n\t\t\tSystem.out.println(readInfo.EPC.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;));\r\n\t\t\t//I&#39;d like to call JavaDatabaseUpdate(); here with the EPC value passed along for the update\r\n\t\t}\r\n\t\telse if (readInfo.tagReadStatus == 1) // STATUS_DONE\r\n\t\t{\r\n\t\t\tReadingTags.reading = false;\r\n\t\t\tSystem.out.println(&quot;Received Stop Response&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nI really need to pass that EPC value back to the class and update the database. How should I approach this situation? I&#39;m stuck.","title":"Java - Calling a secondary class from another class","body":"<p>I am not a java developer but I need to update some java code that reads RFID tags to then update our MySQL database. I have two working examples where I can read some tags in one file and I can update the database in another file but when combining them I am out of my league.</p>\n<p>I added public static void JavaDatabaseUpdate to my working code for the RFID reader and as long as I don't call it, the code executes fine. The problem comes when I try to run the script... Maybe I am just approaching this all wrong:</p>\n<pre><code>public class ReadingTags {\n\nstatic final String DEFAULT_READER_IP_ADDRESS = &quot;192.168.1.5&quot;;\nstatic final int PORT_NUMBER = 5000;\nstatic final int maxResponseSize = 1000;\nstatic RFIDReader reader = null;\npublic static boolean reading = false;\n\npublic static void main(String[] args){\n    try\n    {\n        String readerIPAddress = DEFAULT_READER_IP_ADDRESS;\n        int PortNumber = PORT_NUMBER;\n\n        System.out.println(&quot;Setting up ReaderComm instance on IP Address &quot; + readerIPAddress);\n        \n        reader = new RFIDReader(readerIPAddress, PortNumber);\n        ReadTest();\n\n    }\n    catch (Exception ex)\n    {\n        System.out.println(&quot;Main: &quot; + ex.toString());\n    }\n}\n\n\npublic static void ReadTest() throws Exception, InterruptedException\n{\n    TagReadHandler tagReadHandler = new TagReadHandler();\n    ReadingTags.reader.SetTagReadCallback(tagReadHandler);\n    System.out.println(&quot;Starting Continuous Read ...&quot;);\n    ReadingTags.reading = true;\n    ReadingTags.reader.StartContinuousRead();\n    \n    // Read for .050 seconds then issue stop command\n    Thread.sleep(50);\n    \n    System.out.println(&quot;*** Stopping Continuous Read For 5 Seconds to wait on another tray. We would do an update here****&quot;);\n    ReadingTags.reader.StopContinuousRead();\n    Thread.sleep(5000);\n\n    //Now start a new loop  \n    System.out.println(&quot;Start New Loop&quot;);\n    ReadTest();\n    \n    \n    //While loop to read queued up\n    //tag data and to wait for stop command response.\n    \n    \n    while(ReadingTags.reading)\n    {   \n        Thread.sleep(10);\n    } \n}\n\n    public static void JavaDatabaseUpdate(String[] args) {\n       Connection conn = null;\n       Statement stmt = null;\n       String rfid = &quot;145131000000000000000000&quot;;\n       try {\n          try {\n             Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n          } catch (Exception e) {\n             System.out.println(e);\n          }\n          conn = (Connection) DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/office&quot;, &quot;root&quot;, &quot;&quot;);\n          stmt = (Statement) conn.createStatement();\n          String query1 = &quot;update productiontrays set status=5 &quot; + &quot;where rfid =&quot;+rfid;\n          stmt.executeUpdate(query1);\n          System.out.println(&quot;Record has been updated in the table successfully&quot;);\n       } catch (SQLException excep) {\n          excep.printStackTrace();\n       } catch (Exception excep) {\n          excep.printStackTrace();\n       } finally {\n          try {\n             if (stmt != null)\n             conn.close();\n          } catch (SQLException se) {}\n          try {\n             if (conn != null)\n             conn.close();\n          } catch (SQLException se) {\n             se.printStackTrace();\n          }\n       }\n    }\n</code></pre>\n<p>}</p>\n<p>And then the class where I would like to call the JavaDatabaseUpdate:</p>\n<pre><code>class TagReadHandler implements OnTagReadResponse{\npublic void handleTagRead(TagReadInfo readInfo)\n{\n    if (readInfo.tagReadStatus == 0) // STATUS_OK\n    {\n        System.out.println(readInfo.EPC.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;));\n        //I'd like to call JavaDatabaseUpdate(); here with the EPC value passed along for the update\n    }\n    else if (readInfo.tagReadStatus == 1) // STATUS_DONE\n    {\n        ReadingTags.reading = false;\n        System.out.println(&quot;Received Stop Response&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>I really need to pass that EPC value back to the class and update the database. How should I approach this situation? I'm stuck.</p>\n"},{"tags":["java","null","return-value","guava"],"answers":[{"tags":[],"owner":{"account_id":7488637,"reputation":489,"user_id":5691088,"display_name":"Suresh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1537717086,"creation_date":1537717086,"answer_id":52467660,"question_id":52333003,"body_markdown":"Make changes in your code to check first profiles is null or not as(using profiles == null ...) :\r\n\r\n    private ProfileDAO profileDAO;\r\n    private String[] temp;\r\n        private LoadingCache&lt;String, List&lt;Profile&gt;&gt; loadingCache = CacheBuilder.newBuilder()\r\n                .refreshAfterWrite(5, TimeUnit.MINUTES)\r\n                .expireAfterWrite(5, TimeUnit.MINUTES)\r\n                .build(\r\n                        new CacheLoader&lt;String, List&lt;Profile&gt;&gt;() {\r\n                            @Override\r\n                            public List&lt;Profile&gt; load(String key) throws Exception {\r\n                                logger.info(&quot;Running method to retrieve from database&quot;);\r\n                                temp = key.split(&quot;\\\\|&quot;);\r\n                                String instance = temp[0];\r\n                                String name = temp[1];\r\n    List&lt;Profile&gt; profiles= profileDAO.getProfileByFields(id, name);\r\n                                if (profiles == null || profiles.isEmpty()) {\r\n                                    List&lt;Profile&gt; nullValue = new ArrayList&lt;Profile&gt;();\r\n                                    logger.info(&quot;Unable to find a value.&quot;);\r\n                                    return nullValue;\r\n                                }\r\n                                logger.info(&quot;Found a value&quot;);\r\n                                return profileDAO.getProfileByFields(id, name);\r\n                            }\r\n                        }\r\n                );\r\n    \r\n    public List&lt;Profile&gt; getProfileByFields(String id, String name) throws Exception {\r\n            String key = id.toLowerCase() + &quot;|&quot; + name.toLowerCase()\r\n            return loadingCache.get(key);\r\n        }\r\n\r\nPlease check this code is working for you null values or not..","title":"Guava Cache: How to handle null values","body":"<p>Make changes in your code to check first profiles is null or not as(using profiles == null ...) :</p>\n\n<pre><code>private ProfileDAO profileDAO;\nprivate String[] temp;\n    private LoadingCache&lt;String, List&lt;Profile&gt;&gt; loadingCache = CacheBuilder.newBuilder()\n            .refreshAfterWrite(5, TimeUnit.MINUTES)\n            .expireAfterWrite(5, TimeUnit.MINUTES)\n            .build(\n                    new CacheLoader&lt;String, List&lt;Profile&gt;&gt;() {\n                        @Override\n                        public List&lt;Profile&gt; load(String key) throws Exception {\n                            logger.info(\"Running method to retrieve from database\");\n                            temp = key.split(\"\\\\|\");\n                            String instance = temp[0];\n                            String name = temp[1];\nList&lt;Profile&gt; profiles= profileDAO.getProfileByFields(id, name);\n                            if (profiles == null || profiles.isEmpty()) {\n                                List&lt;Profile&gt; nullValue = new ArrayList&lt;Profile&gt;();\n                                logger.info(\"Unable to find a value.\");\n                                return nullValue;\n                            }\n                            logger.info(\"Found a value\");\n                            return profileDAO.getProfileByFields(id, name);\n                        }\n                    }\n            );\n\npublic List&lt;Profile&gt; getProfileByFields(String id, String name) throws Exception {\n        String key = id.toLowerCase() + \"|\" + name.toLowerCase()\n        return loadingCache.get(key);\n    }\n</code></pre>\n\n<p>Please check this code is working for you null values or not..</p>\n"},{"tags":[],"owner":{"account_id":11857442,"reputation":267,"user_id":8677097,"display_name":"C. McKinnon"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1568916429,"creation_date":1568262259,"answer_id":57899714,"question_id":52333003,"body_markdown":"Though this feels a bit hacky, I think it&#39;s a more complete solution (Suresh&#39;s answer only really applies to collections).\r\n\r\nDefine a singleton object that will represent `null`, and insert that value into the cache instead of `null` (converting to `null` at retrieval time):\r\n```java\r\nclass MyDAO\r\n{\r\n    static final Object NULL = new Object();\r\n\r\n    LoadingCache&lt;String,Object&gt; cache = CacheBuilder.newBuilder()\r\n        .build( new CacheLoader&lt;&gt;()\r\n        {\r\n            public Object load( String key )\r\n            {\r\n                Object value = database.get( key );\r\n                if( value == null )\r\n                    return NULL;\r\n                return value;\r\n            }\r\n        });\r\n\r\n    Object get( String key )\r\n    {\r\n        Object value = cache.get( key );\r\n        if( value == NULL ) // use &#39;==&#39; to compare object references\r\n            return null;\r\n        return value;\r\n    }\r\n}\r\n```\r\nI believe this approach is preferable, in terms of efficiency, to any involving the use of exceptions.","title":"Guava Cache: How to handle null values","body":"<p>Though this feels a bit hacky, I think it's a more complete solution (Suresh's answer only really applies to collections).</p>\n\n<p>Define a singleton object that will represent <code>null</code>, and insert that value into the cache instead of <code>null</code> (converting to <code>null</code> at retrieval time):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class MyDAO\n{\n    static final Object NULL = new Object();\n\n    LoadingCache&lt;String,Object&gt; cache = CacheBuilder.newBuilder()\n        .build( new CacheLoader&lt;&gt;()\n        {\n            public Object load( String key )\n            {\n                Object value = database.get( key );\n                if( value == null )\n                    return NULL;\n                return value;\n            }\n        });\n\n    Object get( String key )\n    {\n        Object value = cache.get( key );\n        if( value == NULL ) // use '==' to compare object references\n            return null;\n        return value;\n    }\n}\n</code></pre>\n\n<p>I believe this approach is preferable, in terms of efficiency, to any involving the use of exceptions.</p>\n"},{"tags":[],"owner":{"account_id":9511717,"reputation":417,"user_id":7069438,"accept_rate":100,"display_name":"Eminem347"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1645757627,"creation_date":1645757627,"answer_id":71260496,"question_id":52333003,"body_markdown":"Using [Optional class][1] `Optional&lt;Object&gt;` as the cache value is the easiest and cleanest way to do it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"Guava Cache: How to handle null values","body":"<p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\">Optional class</a> <code>Optional&lt;Object&gt;</code> as the cache value is the easiest and cleanest way to do it.</p>\n"}],"owner":{"account_id":8850856,"reputation":351,"user_id":6610176,"accept_rate":33,"display_name":"SVill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10317,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":52467660,"answer_count":3,"score":6,"last_activity_date":1645757627,"creation_date":1536931476,"question_id":52333003,"body_markdown":"I&#39;ve build a cache that returns a value in list format when you enter the parameters.  If that value is not in the cache, it goes to the database and retrieves it, putting it in the cache for future reference:\r\n\r\n    private ProfileDAO profileDAO;\r\n    private String[] temp;\r\n        private LoadingCache&lt;String, List&lt;Profile&gt;&gt; loadingCache = CacheBuilder.newBuilder()\r\n                .refreshAfterWrite(5, TimeUnit.MINUTES)\r\n                .expireAfterWrite(5, TimeUnit.MINUTES)\r\n                .build(\r\n                        new CacheLoader&lt;String, List&lt;Profile&gt;&gt;() {\r\n                            @Override\r\n                            public List&lt;Profile&gt; load(String key) throws Exception {\r\n                                logger.info(&quot;Running method to retrieve from database&quot;);\r\n                                temp = key.split(&quot;\\\\|&quot;);\r\n                                String instance = temp[0];\r\n                                String name = temp[1];\r\n    List&lt;Profile&gt; profiles= profileDAO.getProfileByFields(id, name);\r\n                                if (profiles.isEmpty()) {\r\n                                    List&lt;Profile&gt; nullValue = new ArrayList&lt;Profile&gt;();\r\n                                    logger.info(&quot;Unable to find a value.&quot;);\r\n                                    return nullValue;\r\n                                }\r\n                                logger.info(&quot;Found a value&quot;);\r\n                                return profileDAO.getProfileByFields(id, name);\r\n                            }\r\n                        }\r\n                );\r\n    \r\n    public List&lt;Profile&gt; getProfileByFields(String id, String name) throws Exception {\r\n            String key = id.toLowerCase() + &quot;|&quot; + name.toLowerCase()\r\n            return loadingCache.get(key);\r\n        }\r\n\r\nThis seems to work fine, but it does not take into account null values.  If I look for an entry that does not exist, I get an exception for :\r\n\r\n    com.google.common.cache.CacheLoader$InvalidCacheLoadException: CacheLoader returned null for key A01|Peter\r\n\r\nI&#39;d like to simply return an empty List(Profile) if there is no match in the database, but my if statement has failed.  Is there any way around this error for this particular use case?","title":"Guava Cache: How to handle null values","body":"<p>I've build a cache that returns a value in list format when you enter the parameters.  If that value is not in the cache, it goes to the database and retrieves it, putting it in the cache for future reference:</p>\n\n<pre><code>private ProfileDAO profileDAO;\nprivate String[] temp;\n    private LoadingCache&lt;String, List&lt;Profile&gt;&gt; loadingCache = CacheBuilder.newBuilder()\n            .refreshAfterWrite(5, TimeUnit.MINUTES)\n            .expireAfterWrite(5, TimeUnit.MINUTES)\n            .build(\n                    new CacheLoader&lt;String, List&lt;Profile&gt;&gt;() {\n                        @Override\n                        public List&lt;Profile&gt; load(String key) throws Exception {\n                            logger.info(\"Running method to retrieve from database\");\n                            temp = key.split(\"\\\\|\");\n                            String instance = temp[0];\n                            String name = temp[1];\nList&lt;Profile&gt; profiles= profileDAO.getProfileByFields(id, name);\n                            if (profiles.isEmpty()) {\n                                List&lt;Profile&gt; nullValue = new ArrayList&lt;Profile&gt;();\n                                logger.info(\"Unable to find a value.\");\n                                return nullValue;\n                            }\n                            logger.info(\"Found a value\");\n                            return profileDAO.getProfileByFields(id, name);\n                        }\n                    }\n            );\n\npublic List&lt;Profile&gt; getProfileByFields(String id, String name) throws Exception {\n        String key = id.toLowerCase() + \"|\" + name.toLowerCase()\n        return loadingCache.get(key);\n    }\n</code></pre>\n\n<p>This seems to work fine, but it does not take into account null values.  If I look for an entry that does not exist, I get an exception for :</p>\n\n<pre><code>com.google.common.cache.CacheLoader$InvalidCacheLoadException: CacheLoader returned null for key A01|Peter\n</code></pre>\n\n<p>I'd like to simply return an empty List(Profile) if there is no match in the database, but my if statement has failed.  Is there any way around this error for this particular use case?</p>\n"},{"tags":["java","bluej"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1558412317,"post_id":56230995,"comment_id":99081518,"body_markdown":"Use a different variable for your inner loop.  Your outer loop is trying to increment `i` but your inner loop in decrementing it","body":"Use a different variable for your inner loop.  Your outer loop is trying to increment <code>i</code> but your inner loop in decrementing it"},{"owner":{"account_id":2324956,"reputation":967,"user_id":2039693,"accept_rate":50,"display_name":"Ramesh Subramanian"},"score":0,"creation_date":1558412715,"post_id":56230995,"comment_id":99081590,"body_markdown":"Your while loop is an infinite loop.","body":"Your while loop is an infinite loop."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558412873,"creation_date":1558412873,"answer_id":56231074,"question_id":56230995,"body_markdown":"You should be using a different loop variable name in your inner loop, and you also need to use a `long` to store your sum. In fact, I would first write a method to multiply up to a number in the series. Like,\r\n\r\n\tstatic long multiplyTo(int n) {\r\n\t\tlong r = 1L;\r\n\t\tfor (int i = 2; i &lt;= n; i++) {\r\n\t\t\tr *= i;\r\n\t\t}\r\n\t\treturn r;\r\n\t}\r\n\r\nThen you can invoke that and calculate your sum with a simple loop. Like,\r\n\r\n\tlong sum = 0L;\r\n\tfor (int i = 1; i &lt;= 20; i++) {\r\n\t\tsum += multiplyTo(i);\r\n\t}\r\n\tSystem.out.println(sum);\r\n\r\nI get\r\n\r\n    2561327494111820313\r\n","title":"How to find the sum of factorial of all numbers in a series?","body":"<p>You should be using a different loop variable name in your inner loop, and you also need to use a <code>long</code> to store your sum. In fact, I would first write a method to multiply up to a number in the series. Like,</p>\n\n<pre><code>static long multiplyTo(int n) {\n    long r = 1L;\n    for (int i = 2; i &lt;= n; i++) {\n        r *= i;\n    }\n    return r;\n}\n</code></pre>\n\n<p>Then you can invoke that and calculate your sum with a simple loop. Like,</p>\n\n<pre><code>long sum = 0L;\nfor (int i = 1; i &lt;= 20; i++) {\n    sum += multiplyTo(i);\n}\nSystem.out.println(sum);\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>2561327494111820313\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558414637,"creation_date":1558414637,"answer_id":56231340,"question_id":56230995,"body_markdown":"Using streams:\r\n```\r\n    long s = LongStream.rangeClosed(1, 20)\r\n        .map(upper -&gt; LongStream.rangeClosed(1, upper)\r\n            .reduce(1, (a, b) -&gt; a * b))\r\n        .sum();\r\n    System.out.println(s);\r\n```\r\n\r\nPrints ```2561327494111820313```","title":"How to find the sum of factorial of all numbers in a series?","body":"<p>Using streams:</p>\n\n<pre><code>    long s = LongStream.rangeClosed(1, 20)\n        .map(upper -&gt; LongStream.rangeClosed(1, upper)\n            .reduce(1, (a, b) -&gt; a * b))\n        .sum();\n    System.out.println(s);\n</code></pre>\n\n<p>Prints <code>2561327494111820313</code></p>\n"},{"tags":[],"owner":{"account_id":15081262,"reputation":543,"user_id":10883858,"display_name":"MohammadTausif Shaikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1558414980,"creation_date":1558414980,"answer_id":56231387,"question_id":56230995,"body_markdown":"You can try this one :\r\n\r\n     public class Main \r\n     {\r\n     public static void main (String[]args)\r\n     {\r\n      int fact = 1;\r\n      int sum = 0;\r\n      int i, j = 1;\r\n      for (i = 1; i &lt;= 20; i++)\r\n      {\r\n\t    for (j = 1; j &lt;= i; j++)\r\n\t    {\r\n\t      fact = fact * j;\r\n\t  }\r\n\t  sum += fact;\r\n\t  System.out.println (&quot;sum = &quot; + sum);\r\n\t  fact = 1;\r\n      }\r\n     }\r\n    }\r\n\r\nAlways give proper variable name and Try to avoid to use same variable at different places i.e you have use variable i in outer and inner loop which is not good habit.\r\n","title":"How to find the sum of factorial of all numbers in a series?","body":"<p>You can try this one :</p>\n\n<pre><code> public class Main \n {\n public static void main (String[]args)\n {\n  int fact = 1;\n  int sum = 0;\n  int i, j = 1;\n  for (i = 1; i &lt;= 20; i++)\n  {\n    for (j = 1; j &lt;= i; j++)\n    {\n      fact = fact * j;\n  }\n  sum += fact;\n  System.out.println (\"sum = \" + sum);\n  fact = 1;\n  }\n }\n}\n</code></pre>\n\n<p>Always give proper variable name and Try to avoid to use same variable at different places i.e you have use variable i in outer and inner loop which is not good habit.</p>\n"},{"tags":[],"owner":{"account_id":24371600,"reputation":1,"user_id":18304475,"display_name":"Satyam Dey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645757466,"creation_date":1645757466,"answer_id":71260480,"question_id":56230995,"body_markdown":"I did the same program using Scanner Class\r\n\r\n    import java.util.*;\r\n    class Sum_Factorial\r\n    {\r\n        public static void main()\r\n        {\r\n            Scanner in = new Scanner(System.in);\r\n            int i; //Denotes Integer\r\n            int n; //Denotes Number\r\n            int f=1; //Denotes Factorial\r\n            int s=0; //Denotes Sum\r\n            System.out.println(&quot;Enter the value of N : &quot;);\r\n            n=in.nextInt();\r\n            for(i=1; i&lt;=n; i++)\r\n            {\r\n                f=f*i;\r\n                s=s+f;\r\n            }\r\n            System.out.println(&quot;Sum of the factorial numbers is &quot;+s);\r\n        }\r\n    }","title":"How to find the sum of factorial of all numbers in a series?","body":"<p>I did the same program using Scanner Class</p>\n<pre><code>import java.util.*;\nclass Sum_Factorial\n{\n    public static void main()\n    {\n        Scanner in = new Scanner(System.in);\n        int i; //Denotes Integer\n        int n; //Denotes Number\n        int f=1; //Denotes Factorial\n        int s=0; //Denotes Sum\n        System.out.println(&quot;Enter the value of N : &quot;);\n        n=in.nextInt();\n        for(i=1; i&lt;=n; i++)\n        {\n            f=f*i;\n            s=s+f;\n        }\n        System.out.println(&quot;Sum of the factorial numbers is &quot;+s);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15979444,"reputation":27,"user_id":11531445,"display_name":"the_first_Airbender"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56231387,"answer_count":4,"score":0,"last_activity_date":1645757466,"creation_date":1558412162,"question_id":56230995,"body_markdown":"I want to create a program to find the sum of factorial of all numbers in a series till 20. \r\nI have to find &#39;s&#39; in s = 1 + (1*2) + (1*2*3) + ...(1*2*3...20).\r\nI tried a program but it is not working. I am using BlueJ IDE.\r\n\r\n    int a =1; \r\n        int s = 0;\r\n        for(int i = 1; i &lt;= 10; i++)\r\n        {\r\n            while (i &gt;0)\r\n            {\r\n                \r\n                a = a * i;\r\n                i--;\r\n            }\r\n            s = s+a;\r\n        }\r\n        System.out.println(s);\r\n\r\n\r\n\r\nThe compiler does not show any error message but when I run the program the JVM(Java Virtual Machine) keeps loading and the output screen does not show up.","title":"How to find the sum of factorial of all numbers in a series?","body":"<p>I want to create a program to find the sum of factorial of all numbers in a series till 20. \nI have to find 's' in s = 1 + (1*2) + (1*2*3) + ...(1*2*3...20).\nI tried a program but it is not working. I am using BlueJ IDE.</p>\n\n<pre><code>int a =1; \n    int s = 0;\n    for(int i = 1; i &lt;= 10; i++)\n    {\n        while (i &gt;0)\n        {\n\n            a = a * i;\n            i--;\n        }\n        s = s+a;\n    }\n    System.out.println(s);\n</code></pre>\n\n<p>The compiler does not show any error message but when I run the program the JVM(Java Virtual Machine) keeps loading and the output screen does not show up.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":5954871,"reputation":1931,"user_id":4682000,"accept_rate":81,"display_name":"Habchi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499636011,"creation_date":1499636011,"answer_id":45001237,"question_id":45001060,"body_markdown":"So the answer to my question needs two modifications:\r\n\r\n 1. We need to have a stateless session management policy by adding this to our WebSecurityConfig\r\n\r\n&gt; .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\r\n 2. The second thing is a typo in my code, we have to be sure that the authentication is null in the condition of our filter:\r\n\r\n&gt; if(username != null &amp;&amp;\r\n&gt; SecurityContextHolder.getContext().getAuthentication() == null)","title":"Do we have to empty SecurityContextHolder after request is finished with JWT","body":"<p>So the answer to my question needs two modifications:</p>\n\n<ol>\n<li>We need to have a stateless session management policy by adding this to our WebSecurityConfig</li>\n</ol>\n\n<blockquote>\n  <p>.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)</p>\n</blockquote>\n\n<ol start=\"2\">\n<li>The second thing is a typo in my code, we have to be sure that the authentication is null in the condition of our filter:</li>\n</ol>\n\n<blockquote>\n  <p>if(username != null &amp;&amp;\n  SecurityContextHolder.getContext().getAuthentication() == null)</p>\n</blockquote>\n"}],"owner":{"account_id":5954871,"reputation":1931,"user_id":4682000,"accept_rate":81,"display_name":"Habchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1862,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45001237,"answer_count":1,"score":1,"last_activity_date":1645757201,"creation_date":1499634728,"question_id":45001060,"body_markdown":"I&#39;m working on an implementation of JWT with Spring boot based on some open source projects and some of the documentations found on the net.\r\n\r\nWhat&#39;s working?\r\nI&#39;m able to generate my tokens and in the first hit when I try to call some secured methods I&#39;m revoked which is good.\r\n\r\nWhat&#39;s the problem?\r\nOnce I generate my token, seems like I&#39;m able to call my secured methods without the need to add my Authorization header.\r\n\r\nI was debugging my code and found out that I set the authentication in the SecurityContextHolder but I don&#39;t empty this variable once the request is finished. In every implementation found no one does this, so my question is do I have to do this to get my code work as supposed, retrieving secured paths just when there&#39;s an authorization header with a valid token?\r\n\r\nMy code:\r\n\r\n*WebSecurityConfig class:*\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private UserSecurityService userSecurityService;\r\n    \r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/public&quot;).permitAll()\r\n                    .antMatchers(&quot;/login&quot;).permitAll()\r\n                    .anyRequest().authenticated();\r\n    \r\n            // And filter other requests to check the presence of JWT in header\r\n            http.addFilterBefore(jwtAuthenticationFilterBean(),\r\n                    UsernamePasswordAuthenticationFilter.class);\r\n    \r\n            // Disable page caching\r\n            http.headers().cacheControl();\r\n        }\r\n    \r\n        @Bean\r\n        public JWTAuthenticationFilter jwtAuthenticationFilterBean() {\r\n            return new JWTAuthenticationFilter();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n            authenticationManagerBuilder.userDetailsService(userSecurityService);\r\n        }\r\n    }\r\n\r\n*JWTAuthenticationFiler class*\r\n\r\n    public class JWTAuthenticationFilter extends OncePerRequestFilter {\r\n    \r\n    \r\n        @Autowired\r\n        private UserDetailsService userDetailsService;\r\n    \r\n        @Value(&quot;${jwt.token.header}&quot;)\r\n        private String tokenHeader;\r\n    \r\n        @Autowired\r\n        TokenAuthenticationService tokenAuthenticationService;\r\n    \r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\r\n            String token = httpServletRequest.getHeader(tokenHeader);\r\n    \r\n            String username = tokenAuthenticationService.getUsernameFromToken(token);\r\n    \r\n            if(username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() != null){\r\n                UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\r\n                if (tokenAuthenticationService.validateToken(token, userDetails)) {\r\n                    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                    authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\r\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n                }\r\n            }\r\n    \r\n            filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n*TokenAuthenticationService class*\r\n\r\n    @Service\r\n    public class TokenAuthenticationService implements Serializable {\r\n    \r\n        static final String CLAIM_KEY_USERNAME = &quot;sub&quot;;\r\n        static final String CLAIM_KEY_AUDIENCE = &quot;audience&quot;;\r\n        static final String CLAIM_KEY_CREATED = &quot;created&quot;;\r\n        static final String CLAIM_KEY_EXPIRED = &quot;exp&quot;;\r\n    \r\n        static final long EXPIRATIONTIME = 864_000_000; // 10 days\r\n        static final String SECRET = &quot;ThisIsASecret&quot;;\r\n        static final String TOKEN_PREFIX = &quot;Bearer&quot;;\r\n        static final String HEADER_STRING = &quot;Authorization&quot;;\r\n    \r\n        @Value(&quot;${jwt.token.expiration}&quot;)\r\n        private Long expiration;\r\n    \r\n        @Value(&quot;${jwt.token.secret}&quot;)\r\n        private String secret;\r\n    \r\n        public String generateToken(UserDetails user) {\r\n    \r\n            Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n    \r\n            claims.put(CLAIM_KEY_USERNAME, user.getUsername());\r\n    \r\n            final Date createdDate = new Date();\r\n            claims.put(CLAIM_KEY_CREATED, createdDate);\r\n    \r\n            final Date expirationDate = new Date(createdDate.getTime() + expiration * 1000);\r\n    \r\n            return Jwts.builder()\r\n                    .setClaims(claims)\r\n                    .setExpiration(expirationDate)\r\n                    .signWith(SignatureAlgorithm.HS512, secret)\r\n                    .compact();\r\n        }\r\n    \r\n        public String getUsernameFromToken(String token) {\r\n            String username;\r\n            try{\r\n                final Claims claims = getClaimsFromToken(token);\r\n                username = claims.getSubject();\r\n            }catch (Exception e){\r\n                username = null;\r\n            }\r\n            return username;\r\n        }\r\n    \r\n        private Claims getClaimsFromToken(String token) {\r\n            Claims claims;\r\n            try {\r\n                claims = Jwts.parser()\r\n                        .setSigningKey(secret)\r\n                        .parseClaimsJws(token)\r\n                        .getBody();\r\n            }catch (Exception e){\r\n                claims = null;\r\n            }\r\n            return claims;\r\n        }\r\n    \r\n        public boolean validateToken(String token, UserDetails userDetails) {\r\n    \r\n            final String username = getUsernameFromToken(token);\r\n            final Date created = getCreatedDateFromToken(token);\r\n    \r\n            if(userDetails.getUsername().equals(username) &amp;&amp; !isTokenExpired(token)){\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private boolean isTokenExpired(String token) {\r\n            final Date expiration = getExpirationDateFromToken(token);\r\n            return expiration.before(new Date());\r\n        }\r\n    \r\n        private Date getExpirationDateFromToken(String token) {\r\n            Date expiration;\r\n            try {\r\n                final Claims claims = getClaimsFromToken(token);\r\n                expiration = claims.getExpiration();\r\n            }catch (Exception e){\r\n                expiration = null;\r\n            }\r\n            return expiration;\r\n        }\r\n    \r\n        private Date getCreatedDateFromToken(String token) {\r\n            Date createdDate;\r\n            try{\r\n                final Claims claims = getClaimsFromToken(token);\r\n                createdDate = new Date((Long) claims.get(CLAIM_KEY_CREATED));\r\n            }catch (Exception e){\r\n                createdDate = null;\r\n            }\r\n            return createdDate;\r\n    \r\n        }\r\n    }\r\n\r\nand this my controller test class\r\n\r\n    @RestController\r\n    public class TestController {\r\n    \r\n        @GetMapping(&quot;/public&quot;)\r\n        public String testPublic(){\r\n            return &quot;Welcom to the public place&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/private&quot;)\r\n        @PreAuthorize(&quot;hasRole(&#39;USER&#39;)&quot;)\r\n        public String testPrivate(){\r\n            return &quot;Welcome to the private place&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/admin&quot;)\r\n        @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n        public String testAdmin(){\r\n            return &quot;Welcome to the admin place&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nThank you","title":"Do we have to empty SecurityContextHolder after request is finished with JWT","body":"<p>I'm working on an implementation of JWT with Spring boot based on some open source projects and some of the documentations found on the net.</p>\n\n<p>What's working?\nI'm able to generate my tokens and in the first hit when I try to call some secured methods I'm revoked which is good.</p>\n\n<p>What's the problem?\nOnce I generate my token, seems like I'm able to call my secured methods without the need to add my Authorization header.</p>\n\n<p>I was debugging my code and found out that I set the authentication in the SecurityContextHolder but I don't empty this variable once the request is finished. In every implementation found no one does this, so my question is do I have to do this to get my code work as supposed, retrieving secured paths just when there's an authorization header with a valid token?</p>\n\n<p>My code:</p>\n\n<p><em>WebSecurityConfig class:</em></p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserSecurityService userSecurityService;\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(\"/public\").permitAll()\n                .antMatchers(\"/login\").permitAll()\n                .anyRequest().authenticated();\n\n        // And filter other requests to check the presence of JWT in header\n        http.addFilterBefore(jwtAuthenticationFilterBean(),\n                UsernamePasswordAuthenticationFilter.class);\n\n        // Disable page caching\n        http.headers().cacheControl();\n    }\n\n    @Bean\n    public JWTAuthenticationFilter jwtAuthenticationFilterBean() {\n        return new JWTAuthenticationFilter();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userSecurityService);\n    }\n}\n</code></pre>\n\n<p><em>JWTAuthenticationFiler class</em></p>\n\n<pre><code>public class JWTAuthenticationFilter extends OncePerRequestFilter {\n\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Value(\"${jwt.token.header}\")\n    private String tokenHeader;\n\n    @Autowired\n    TokenAuthenticationService tokenAuthenticationService;\n\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\n        String token = httpServletRequest.getHeader(tokenHeader);\n\n        String username = tokenAuthenticationService.getUsernameFromToken(token);\n\n        if(username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() != null){\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\n            if (tokenAuthenticationService.validateToken(token, userDetails)) {\n                UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n            }\n        }\n\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\n\n    }\n\n}\n</code></pre>\n\n<p><em>TokenAuthenticationService class</em></p>\n\n<pre><code>@Service\npublic class TokenAuthenticationService implements Serializable {\n\n    static final String CLAIM_KEY_USERNAME = \"sub\";\n    static final String CLAIM_KEY_AUDIENCE = \"audience\";\n    static final String CLAIM_KEY_CREATED = \"created\";\n    static final String CLAIM_KEY_EXPIRED = \"exp\";\n\n    static final long EXPIRATIONTIME = 864_000_000; // 10 days\n    static final String SECRET = \"ThisIsASecret\";\n    static final String TOKEN_PREFIX = \"Bearer\";\n    static final String HEADER_STRING = \"Authorization\";\n\n    @Value(\"${jwt.token.expiration}\")\n    private Long expiration;\n\n    @Value(\"${jwt.token.secret}\")\n    private String secret;\n\n    public String generateToken(UserDetails user) {\n\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n\n        claims.put(CLAIM_KEY_USERNAME, user.getUsername());\n\n        final Date createdDate = new Date();\n        claims.put(CLAIM_KEY_CREATED, createdDate);\n\n        final Date expirationDate = new Date(createdDate.getTime() + expiration * 1000);\n\n        return Jwts.builder()\n                .setClaims(claims)\n                .setExpiration(expirationDate)\n                .signWith(SignatureAlgorithm.HS512, secret)\n                .compact();\n    }\n\n    public String getUsernameFromToken(String token) {\n        String username;\n        try{\n            final Claims claims = getClaimsFromToken(token);\n            username = claims.getSubject();\n        }catch (Exception e){\n            username = null;\n        }\n        return username;\n    }\n\n    private Claims getClaimsFromToken(String token) {\n        Claims claims;\n        try {\n            claims = Jwts.parser()\n                    .setSigningKey(secret)\n                    .parseClaimsJws(token)\n                    .getBody();\n        }catch (Exception e){\n            claims = null;\n        }\n        return claims;\n    }\n\n    public boolean validateToken(String token, UserDetails userDetails) {\n\n        final String username = getUsernameFromToken(token);\n        final Date created = getCreatedDateFromToken(token);\n\n        if(userDetails.getUsername().equals(username) &amp;&amp; !isTokenExpired(token)){\n            return true;\n        }\n        return false;\n    }\n\n    private boolean isTokenExpired(String token) {\n        final Date expiration = getExpirationDateFromToken(token);\n        return expiration.before(new Date());\n    }\n\n    private Date getExpirationDateFromToken(String token) {\n        Date expiration;\n        try {\n            final Claims claims = getClaimsFromToken(token);\n            expiration = claims.getExpiration();\n        }catch (Exception e){\n            expiration = null;\n        }\n        return expiration;\n    }\n\n    private Date getCreatedDateFromToken(String token) {\n        Date createdDate;\n        try{\n            final Claims claims = getClaimsFromToken(token);\n            createdDate = new Date((Long) claims.get(CLAIM_KEY_CREATED));\n        }catch (Exception e){\n            createdDate = null;\n        }\n        return createdDate;\n\n    }\n}\n</code></pre>\n\n<p>and this my controller test class</p>\n\n<pre><code>@RestController\npublic class TestController {\n\n    @GetMapping(\"/public\")\n    public String testPublic(){\n        return \"Welcom to the public place\";\n    }\n\n    @GetMapping(\"/private\")\n    @PreAuthorize(\"hasRole('USER')\")\n    public String testPrivate(){\n        return \"Welcome to the private place\";\n    }\n\n    @GetMapping(\"/admin\")\n    @PreAuthorize(\"hasRole('ADMIN')\")\n    public String testAdmin(){\n        return \"Welcome to the admin place\";\n    }\n\n}\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":["java","azure","azure-functions","quarkus"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1645693502,"post_id":71249025,"comment_id":125941434,"body_markdown":"What do you mean? I see [INFO], [WARN], and [ERROR] in the logs you have shown? @Cas","body":"What do you mean? I see [INFO], [WARN], and [ERROR] in the logs you have shown? @Cas"},{"owner":{"account_id":2751934,"reputation":758,"user_id":2525319,"accept_rate":71,"display_name":"Cas"},"score":0,"creation_date":1645694087,"post_id":71249025,"comment_id":125941629,"body_markdown":"@SMA yeah that&#39;s the log format that Quarkus uses. However, Azure puts its own stuff in front, including [Information]. That&#39;s the log level that it eventually uses in things like log analytics. It&#39;s like it doesn&#39;t recognize the Quarkus format and just assumes everything is info.","body":"@SMA yeah that&#39;s the log format that Quarkus uses. However, Azure puts its own stuff in front, including [Information]. That&#39;s the log level that it eventually uses in things like log analytics. It&#39;s like it doesn&#39;t recognize the Quarkus format and just assumes everything is info."},{"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"score":0,"creation_date":1645794170,"post_id":71249025,"comment_id":125970929,"body_markdown":"have you tried to log using the function `ExecutionContext`? `ctx.getLogger().` there you have all the granularity","body":"have you tried to log using the function <code>ExecutionContext</code>? <code>ctx.getLogger().</code> there you have all the granularity"},{"owner":{"account_id":2751934,"reputation":758,"user_id":2525319,"accept_rate":71,"display_name":"Cas"},"score":0,"creation_date":1645794371,"post_id":71249025,"comment_id":125971004,"body_markdown":"I don&#39;t think we have access to the execution context because it&#39;s hidden by the quarkus azure http functions extension. I&#39;ll check again to make sure, though.","body":"I don&#39;t think we have access to the execution context because it&#39;s hidden by the quarkus azure http functions extension. I&#39;ll check again to make sure, though."}],"answers":[{"tags":[],"owner":{"account_id":21681667,"reputation":4284,"user_id":15997690,"display_name":"Delliganesh Sevanesan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645756988,"creation_date":1645756988,"answer_id":71260424,"question_id":71249025,"body_markdown":"&gt; The first part of every line (like `2022-02-24T07:58:14.325\r\n [Information]`) is added by Azure\r\n\r\n**The `[Information]` can be added in a log stream by default.** \r\n\r\n### Built-in log stream: \r\nA log Stream is used to view a stream of your application log files. This is equivalent to the output seen when you debug your functions during local development. All log-based **information** is displayed in a Log Stream window. \r\n### Stream log:\r\nBefore you stream logs in real-time, enable the log type that you want to list. Any **information** written to files ending in **.txt, .log, or .htm** that are stored in the `_/LogFiles_` directory (`d:/home/logfiles`) is streamed by App Service.\r\nWhatever is written in the log files can be displayed in a Log Stream.\r\n\r\n local\r\n ![enter image description here](https://i.stack.imgur.com/dXXSC.png)\r\nIn portal log Stream\r\n![enter image description here](https://i.stack.imgur.com/KkfIz.png)\r\nIn the above screenshots, you can check whatever is written in a local log that can be added to a Log Stream. By default, the `running time and [Information]` are always available in a log Stream (Every new line in a log file that is added with `2022-02-24T14:40:46.015 [Information] logline` in a log Stream)\r\n\r\n Refer [here](https://learn.microsoft.com/en-us/azure/app-service/troubleshoot-diagnostic-logs#stream-logs) for more information\r\n","title":"How to change log level in Azure Functions","body":"<blockquote>\n<p>The first part of every line (like <code>2022-02-24T07:58:14.325 [Information]</code>) is added by Azure</p>\n</blockquote>\n<p><strong>The <code>[Information]</code> can be added in a log stream by default.</strong></p>\n<h3>Built-in log stream:</h3>\n<p>A log Stream is used to view a stream of your application log files. This is equivalent to the output seen when you debug your functions during local development. All log-based <strong>information</strong> is displayed in a Log Stream window.</p>\n<h3>Stream log:</h3>\n<p>Before you stream logs in real-time, enable the log type that you want to list. Any <strong>information</strong> written to files ending in <strong>.txt, .log, or .htm</strong> that are stored in the <code>_/LogFiles_</code> directory (<code>d:/home/logfiles</code>) is streamed by App Service.\nWhatever is written in the log files can be displayed in a Log Stream.</p>\n<p>local\n<img src=\"https://i.stack.imgur.com/dXXSC.png\" alt=\"enter image description here\" />\nIn portal log Stream\n<img src=\"https://i.stack.imgur.com/KkfIz.png\" alt=\"enter image description here\" />\nIn the above screenshots, you can check whatever is written in a local log that can be added to a Log Stream. By default, the <code>running time and [Information]</code> are always available in a log Stream (Every new line in a log file that is added with <code>2022-02-24T14:40:46.015 [Information] logline</code> in a log Stream)</p>\n<p>Refer <a href=\"https://learn.microsoft.com/en-us/azure/app-service/troubleshoot-diagnostic-logs#stream-logs\" rel=\"nofollow noreferrer\">here</a> for more information</p>\n"}],"owner":{"account_id":2751934,"reputation":758,"user_id":2525319,"accept_rate":71,"display_name":"Cas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71260424,"answer_count":1,"score":0,"last_activity_date":1645756988,"creation_date":1645690958,"question_id":71249025,"body_markdown":"We are working on several Quarkus (2.5.4 at the time of writing) applications that are deployed to Azure Function Apps.\r\n\r\nWe&#39;ve noticed that all our logs, regardless of severity in code, show up as info in application insights. \r\n\r\n```java\r\npublic class ExampleClass {\r\n    private static final Logger logger = LoggerFactory.getLogger(ExampleClass.class);\r\n\r\n    public void welcome(@NotNull String name) {\r\n        logger.trace(&quot;TRACE hello to {}&quot;, name);\r\n        logger.debug(&quot;DEBUG hello to {}&quot;, name);\r\n        logger.info(&quot;INFO hello to {}&quot;, name);\r\n        logger.warn(&quot;WARN hello to {}&quot;, name);\r\n        logger.error(&quot;ERROR hello to {}&quot;, name);\r\n    }\r\n}\r\n```\r\n\r\nWe&#39;ve added the jboss log manager to our dependencies:\r\n\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jboss.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-jboss-logmanager&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nWhen I then check the logs, it shows up as such\r\n\r\n\r\n&gt; 2022-02-24T07:58:14.325 [Information] 2022-02-24T07:58:14.308 [INFO] INFO hello to name  \r\n&gt; 2022-02-24T07:58:14.325 [Information] 2022-02-24T07:58:14.308 [WARN] WARN hello to name  \r\n&gt; 2022-02-24T07:58:14.325 [Information] 2022-02-24T07:58:14.308 [ERROR] ERROR hello to name\r\n\r\nAs you can see, Azure somehow misinterprets our log severity and makes everything show up at the info level. \r\n\r\nThe first part of every line (like `2022-02-24T07:58:14.325 [Information]`) is added by Azure, while the rest of the line is what Quarkus logs to console.\r\n\r\nI understand why the first two log entries don&#39;t show up, because we set the minimum level to INFO. \r\n\r\nFrom what I understand from [the documentation](https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-in-process-agent#autocollected-logs), Azure would automatically recognize the logs. However, this does not appear to be the case for us.\r\n\r\nIs there something we&#39;ve forgotten?","title":"How to change log level in Azure Functions","body":"<p>We are working on several Quarkus (2.5.4 at the time of writing) applications that are deployed to Azure Function Apps.</p>\n<p>We've noticed that all our logs, regardless of severity in code, show up as info in application insights.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleClass {\n    private static final Logger logger = LoggerFactory.getLogger(ExampleClass.class);\n\n    public void welcome(@NotNull String name) {\n        logger.trace(&quot;TRACE hello to {}&quot;, name);\n        logger.debug(&quot;DEBUG hello to {}&quot;, name);\n        logger.info(&quot;INFO hello to {}&quot;, name);\n        logger.warn(&quot;WARN hello to {}&quot;, name);\n        logger.error(&quot;ERROR hello to {}&quot;, name);\n    }\n}\n</code></pre>\n<p>We've added the jboss log manager to our dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.jboss.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-jboss-logmanager&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I then check the logs, it shows up as such</p>\n<blockquote>\n<p>2022-02-24T07:58:14.325 [Information] 2022-02-24T07:58:14.308 [INFO] INFO hello to name<br />\n2022-02-24T07:58:14.325 [Information] 2022-02-24T07:58:14.308 [WARN] WARN hello to name<br />\n2022-02-24T07:58:14.325 [Information] 2022-02-24T07:58:14.308 [ERROR] ERROR hello to name</p>\n</blockquote>\n<p>As you can see, Azure somehow misinterprets our log severity and makes everything show up at the info level.</p>\n<p>The first part of every line (like <code>2022-02-24T07:58:14.325 [Information]</code>) is added by Azure, while the rest of the line is what Quarkus logs to console.</p>\n<p>I understand why the first two log entries don't show up, because we set the minimum level to INFO.</p>\n<p>From what I understand from <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-in-process-agent#autocollected-logs\" rel=\"nofollow noreferrer\">the documentation</a>, Azure would automatically recognize the logs. However, this does not appear to be the case for us.</p>\n<p>Is there something we've forgotten?</p>\n"},{"tags":["java","image","exception","javax.imageio"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1555328653,"creation_date":1314198226,"answer_id":7177727,"question_id":7177655,"body_markdown":"Try to check the encoding of the JPEG. `ImageIO` can&#39;t read CMYK-encoded jpeg images for example.\r\nAFAIK, ImageIO hasn&#39;t been updated for years, so you&#39;d like to try and use the official alternative/extension: [JAI ImageIO].\r\n\r\nUnforutnately, JAI ImageIO needs some native libraries installed into the JRE, which might be unwanted.\r\nWe do the following: \r\n\r\n- use [Apache Sanselan] to detect, whether it&#39;s a JPEG\r\n- since Sanselan can&#39;t read and write JPEG, use the plain old AWT `JPEGCodec`: `JPEGCodec.createJPEGDecoder(...)`\r\n- to convert CMYK to RGB, we then get the raster of the read `BufferedImage` and manually convert it (you could use ICC profiles, but the manual conversion fits our needs)\r\n\r\nHere&#39;s a question of mine that resulted of the fact that `ImageIO` doesn&#39;t support all types of JPEG images, and I there stated a little more of my findings of why you get that message: https://stackoverflow.com/questions/6829428/pure-java-alternative-to-jai-imageio-for-detecting-cmyk-images\r\n\r\n[JAI ImageIO]: http://java.net/projects/jai-imageio/\r\n[Apache Sanselan]: https://commons.apache.org/proper/commons-imaging/history.html","title":"Java ImageIO IIOException: Unsupported image type?","body":"<p>Try to check the encoding of the JPEG. <code>ImageIO</code> can't read CMYK-encoded jpeg images for example.\nAFAIK, ImageIO hasn't been updated for years, so you'd like to try and use the official alternative/extension: <a href=\"http://java.net/projects/jai-imageio/\" rel=\"nofollow noreferrer\">JAI ImageIO</a>.</p>\n\n<p>Unforutnately, JAI ImageIO needs some native libraries installed into the JRE, which might be unwanted.\nWe do the following: </p>\n\n<ul>\n<li>use <a href=\"https://commons.apache.org/proper/commons-imaging/history.html\" rel=\"nofollow noreferrer\">Apache Sanselan</a> to detect, whether it's a JPEG</li>\n<li>since Sanselan can't read and write JPEG, use the plain old AWT <code>JPEGCodec</code>: <code>JPEGCodec.createJPEGDecoder(...)</code></li>\n<li>to convert CMYK to RGB, we then get the raster of the read <code>BufferedImage</code> and manually convert it (you could use ICC profiles, but the manual conversion fits our needs)</li>\n</ul>\n\n<p>Here's a question of mine that resulted of the fact that <code>ImageIO</code> doesn't support all types of JPEG images, and I there stated a little more of my findings of why you get that message: <a href=\"https://stackoverflow.com/questions/6829428/pure-java-alternative-to-jai-imageio-for-detecting-cmyk-images\">Pure Java alternative to JAI ImageIO for detecting CMYK images</a></p>\n"},{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1314198496,"creation_date":1314198496,"answer_id":7177791,"question_id":7177655,"body_markdown":"I&#39;ve unfortunately come across a lot of standard violating JPEG files. ImageIO is particularly picky and often refuse to load images, which are often loaded and apparently displayed correctly by other software with less strict checks on the file format.\r\n\r\nIt&#39;s not very pretty, but one workaround is to use the Oracle VM internal JPEG decoder directly (com.sun.image.codec.jpeg.JPEGCodec), as it seems to tolerate more spec deviations as the ImageIO wrapper:\r\n\r\n    BufferedImage img = \r\n        JPEGCodec.createJPEGDecoder(inputStream).decodeAsBufferedImage();\r\n\r\nThis is of course not an ideal solution, since using implementation specific classes will lock you to a specific VM vendor and may break with newer VM versions, but if you&#39;ll only used the software in a controlled environment, it may be better than no solution at all.","title":"Java ImageIO IIOException: Unsupported image type?","body":"<p>I've unfortunately come across a lot of standard violating JPEG files. ImageIO is particularly picky and often refuse to load images, which are often loaded and apparently displayed correctly by other software with less strict checks on the file format.</p>\n\n<p>It's not very pretty, but one workaround is to use the Oracle VM internal JPEG decoder directly (com.sun.image.codec.jpeg.JPEGCodec), as it seems to tolerate more spec deviations as the ImageIO wrapper:</p>\n\n<pre><code>BufferedImage img = \n    JPEGCodec.createJPEGDecoder(inputStream).decodeAsBufferedImage();\n</code></pre>\n\n<p>This is of course not an ideal solution, since using implementation specific classes will lock you to a specific VM vendor and may break with newer VM versions, but if you'll only used the software in a controlled environment, it may be better than no solution at all.</p>\n"},{"tags":[],"owner":{"account_id":107517,"reputation":1790,"user_id":285848,"display_name":"Ravbaker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409141392,"creation_date":1409141392,"answer_id":25526840,"question_id":7177655,"body_markdown":"Another option is to use .jar prepared by Werner Randelshofer: \r\n\r\nhttp://www.randelshofer.ch/blog/2011/08/reading-cmyk-jpeg-images-with-java-imageio/ or Monte Media Library: http://www.randelshofer.ch/monte/\r\n\r\nIt looks quite easy and similar to ImageIO usage and available under CC license.\r\n\r\n","title":"Java ImageIO IIOException: Unsupported image type?","body":"<p>Another option is to use .jar prepared by Werner Randelshofer: </p>\n\n<p><a href=\"http://www.randelshofer.ch/blog/2011/08/reading-cmyk-jpeg-images-with-java-imageio/\" rel=\"nofollow\">http://www.randelshofer.ch/blog/2011/08/reading-cmyk-jpeg-images-with-java-imageio/</a> or Monte Media Library: <a href=\"http://www.randelshofer.ch/monte/\" rel=\"nofollow\">http://www.randelshofer.ch/monte/</a></p>\n\n<p>It looks quite easy and similar to ImageIO usage and available under CC license.</p>\n"},{"tags":[],"owner":{"account_id":2658649,"reputation":331,"user_id":2298826,"display_name":"Mayen"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1602863118,"creation_date":1602863118,"answer_id":64392386,"question_id":7177655,"body_markdown":"To work with images in a specific format,you need to add the corresponding dependency, such as imageio-jpeg or imageio-tiff:\r\n   \r\n    \r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;imageio-jpeg&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\r\n    &lt;artifactId&gt;imageio-bmp&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\r\n    &lt;artifactId&gt;imageio-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nthe built-in ImageIO Java API loads the plugins automatically at runtime.","title":"Java ImageIO IIOException: Unsupported image type?","body":"<p>To work with images in a specific format,you need to add the corresponding dependency, such as imageio-jpeg or imageio-tiff:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\n&lt;artifactId&gt;imageio-jpeg&lt;/artifactId&gt;\n&lt;version&gt;3.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\n&lt;artifactId&gt;imageio-bmp&lt;/artifactId&gt;\n&lt;version&gt;3.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;com.twelvemonkeys.imageio&lt;/groupId&gt;\n&lt;artifactId&gt;imageio-core&lt;/artifactId&gt;\n&lt;version&gt;3.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>the built-in ImageIO Java API loads the plugins automatically at runtime.</p>\n"},{"tags":[],"owner":{"account_id":5138745,"reputation":111,"user_id":4116739,"display_name":"Ignatius Ojiambo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645755581,"creation_date":1645755581,"answer_id":71260292,"question_id":7177655,"body_markdown":"This [tutorial provided][1] an answer using the apache commons IO library. I found it to be a cleaner implementation. I included the dependency below \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n      &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHere is the code that worked after adding the dependency\r\n\r\n        public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable(&quot;filename&quot;) String filename) {\r\n         byte[] image = new byte[0];\r\n          try {\r\n              image = FileUtils.readFileToByteArray(new File(FILE_PATH_ROOT+filename));\r\n          } catch (IOException e) {\r\n              e.printStackTrace();\r\n          }\r\n          return ResponseEntity.ok().contentType(MediaType.IMAGE_JPEG).body(image);\r\n        }\r\n\r\n  [1]: https://javatodev.com/serve-image-stored-in-server-using-spring-boot/","title":"Java ImageIO IIOException: Unsupported image type?","body":"<p>This <a href=\"https://javatodev.com/serve-image-stored-in-server-using-spring-boot/\" rel=\"nofollow noreferrer\">tutorial provided</a> an answer using the apache commons IO library. I found it to be a cleaner implementation. I included the dependency below</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;commons-io&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n  &lt;version&gt;2.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the code that worked after adding the dependency</p>\n<pre><code>    public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable(&quot;filename&quot;) String filename) {\n     byte[] image = new byte[0];\n      try {\n          image = FileUtils.readFileToByteArray(new File(FILE_PATH_ROOT+filename));\n      } catch (IOException e) {\n          e.printStackTrace();\n      }\n      return ResponseEntity.ok().contentType(MediaType.IMAGE_JPEG).body(image);\n    }\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50381,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":7177727,"answer_count":5,"score":35,"last_activity_date":1645755581,"creation_date":1314197936,"question_id":7177655,"body_markdown":"Working with images in Java for the first time and am getting some bizarro exceptions that aren&#39;t documented very well.  Here&#39;s the line of code that is failing:\r\n\r\n    BufferedImage imgSelected = ImageIO.read(new File(&quot;/abs/url/to/file/image.jpg&quot;));\r\n\r\nThis line is throwing an IIOException with *Unsupported image type* as the exception message.  I have checked and re-checked that it is in fact this line throwing the exception, that the File object is valid, that the URL is valid, and that the `image.jpg` is in fact a valid JPG that loads perfectly fine in other image viewers.\r\n\r\nWhat could I do to get more information about the nature of this exception? Is this the traditional way for loading images in Java 7, or is this an old/deprecating method? There&#39;s just not a lot of info out there about these &quot;Unsupported image type&quot; exceptions, and surely, ImageIO supported JPGs!\r\n\r\nThanks for any help!","title":"Java ImageIO IIOException: Unsupported image type?","body":"<p>Working with images in Java for the first time and am getting some bizarro exceptions that aren't documented very well.  Here's the line of code that is failing:</p>\n\n<pre><code>BufferedImage imgSelected = ImageIO.read(new File(\"/abs/url/to/file/image.jpg\"));\n</code></pre>\n\n<p>This line is throwing an IIOException with <em>Unsupported image type</em> as the exception message.  I have checked and re-checked that it is in fact this line throwing the exception, that the File object is valid, that the URL is valid, and that the <code>image.jpg</code> is in fact a valid JPG that loads perfectly fine in other image viewers.</p>\n\n<p>What could I do to get more information about the nature of this exception? Is this the traditional way for loading images in Java 7, or is this an old/deprecating method? There's just not a lot of info out there about these \"Unsupported image type\" exceptions, and surely, ImageIO supported JPGs!</p>\n\n<p>Thanks for any help!</p>\n"},{"tags":["java","spring","cron"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1645756940,"post_id":71260284,"comment_id":125961483,"body_markdown":"`0/30 8-9` means every 30 minutes for the hours of 8 and 9.  I guess that the task is for your code to examine the data and to come up with the pattern","body":"<code>0&#47;30 8-9</code> means every 30 minutes for the hours of 8 and 9.  I guess that the task is for your code to examine the data and to come up with the pattern"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1645760662,"post_id":71260284,"comment_id":125962088,"body_markdown":"It is certainly NOT a typical task, which I think is the whole point - they want to see not only your Java knowledge, but also (or rather: especially) they want to see how YOU figure out the logic of how you do that.   We&#39;re happy to help by giving our thoughts to clarify (such as what the crontab means), but not to defeat the purpose of the exercise.","body":"It is certainly NOT a typical task, which I think is the whole point - they want to see not only your Java knowledge, but also (or rather: especially) they want to see how YOU figure out the logic of how you do that.   We&#39;re happy to help by giving our thoughts to clarify (such as what the crontab means), but not to defeat the purpose of the exercise."}],"owner":{"account_id":24371250,"reputation":1,"user_id":18304173,"display_name":"VGS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645755416,"creation_date":1645755416,"question_id":71260284,"body_markdown":"Since I applied for internship I have to resolve this task: \r\n**I need to create a method that turns *list* of dates to single CronExpression.** \r\nOnly Java code (no outside frameworks). \r\nJust like this : \r\n\r\n    Input:\r\n    \r\n    \t&quot;2022-01-25 T 08:00:00&quot;\r\n    \t&quot;2022-01-25 T 08:30:00&quot;\r\n    \t&quot;2022-01-25 T 09:00:00&quot;\r\n    \t&quot;2022-01-25 T 09:30:00&quot;\r\n    \t&quot;2022-01-26 T 08:00:00&quot;\r\n    \t&quot;2022-01-26 T 08:30:00&quot;\r\n    \t&quot;2022-01-26 T 09:00:00&quot;\r\n    \t&quot;2022-01-26 T 09:30:00&quot;\r\n    \r\n    Output:\r\n    \t&quot;0 0/30 8-9 * * *&quot;\r\n\r\nI have 2 questions: \r\n\r\n 1. Is there any general (commonly used) way to do that? Or it is not typical task and I have to create that method from the zero? \r\n\r\n 2. Can you explain me a logic of how I need to do that? Mainly I don&#39;t understand how to convert **SEVERAL** dates to one CronExpression. \r\n\r\n  \r\n","title":"How to convert LIST of dates to single CronExpression?","body":"<p>Since I applied for internship I have to resolve this task:\n<strong>I need to create a method that turns <em>list</em> of dates to single CronExpression.</strong>\nOnly Java code (no outside frameworks).\nJust like this :</p>\n<pre><code>Input:\n\n    &quot;2022-01-25 T 08:00:00&quot;\n    &quot;2022-01-25 T 08:30:00&quot;\n    &quot;2022-01-25 T 09:00:00&quot;\n    &quot;2022-01-25 T 09:30:00&quot;\n    &quot;2022-01-26 T 08:00:00&quot;\n    &quot;2022-01-26 T 08:30:00&quot;\n    &quot;2022-01-26 T 09:00:00&quot;\n    &quot;2022-01-26 T 09:30:00&quot;\n\nOutput:\n    &quot;0 0/30 8-9 * * *&quot;\n</code></pre>\n<p>I have 2 questions:</p>\n<ol>\n<li><p>Is there any general (commonly used) way to do that? Or it is not typical task and I have to create that method from the zero?</p>\n</li>\n<li><p>Can you explain me a logic of how I need to do that? Mainly I don't understand how to convert <strong>SEVERAL</strong> dates to one CronExpression.</p>\n</li>\n</ol>\n"},{"tags":["java","linux","maven","environment-variables"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1645750790,"post_id":71259887,"comment_id":125960540,"body_markdown":"Have you tried closing your console and opening a new one, so that you are back to your default environment variables?","body":"Have you tried closing your console and opening a new one, so that you are back to your default environment variables?"},{"owner":{"account_id":11907911,"reputation":111,"user_id":8713984,"display_name":"xiexieni9527"},"score":0,"creation_date":1645752317,"post_id":71259887,"comment_id":125960769,"body_markdown":"Hi @tgdavies, thank you for your response. I have closed the console and opening a new one, I also have logged out and logged in again, but the same error is still here.","body":"Hi @tgdavies, thank you for your response. I have closed the console and opening a new one, I also have logged out and logged in again, but the same error is still here."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645753882,"post_id":71259887,"comment_id":125961007,"body_markdown":"It&#39;s difficult to see how those three steps could produce a permanent change to your configuration. What does `which mvn` and `mvn -v` say? (I&#39;m assuming you didn&#39;t add the `export` lines to any bash initialisation files?)","body":"It&#39;s difficult to see how those three steps could produce a permanent change to your configuration. What does <code>which mvn</code> and <code>mvn -v</code> say? (I&#39;m assuming you didn&#39;t add the <code>export</code> lines to any bash initialisation files?)"},{"owner":{"account_id":11907911,"reputation":111,"user_id":8713984,"display_name":"xiexieni9527"},"score":0,"creation_date":1645755225,"post_id":71259887,"comment_id":125961209,"body_markdown":"Actually I did! But that was for spark installation. Here are the lines:\n\n`export SPARK_HOME=/home/kchiu/spark`\n`export PATH=$PATH:$SPARK_HOME/bin`\n`export PYTHONPATH=$SPARK_HOME/python`\n`export PYSPARK_PYTHON=python3`\n\n`which mvn` gave me `/opt/apache-maven-3.6.3/bin/mvn`, which I noticed just now that it&#39;s different than the one (3.6.0) I installed in the steps. Does this mean that there was already a maven installed?\n\nThank you for the response again!","body":"Actually I did! But that was for spark installation. Here are the lines:  <code>export SPARK_HOME=&#47;home&#47;kchiu&#47;spark</code> <code>export PATH=$PATH:$SPARK_HOME&#47;bin</code> <code>export PYTHONPATH=$SPARK_HOME&#47;python</code> <code>export PYSPARK_PYTHON=python3</code>  <code>which mvn</code> gave me <code>&#47;opt&#47;apache-maven-3.6.3&#47;bin&#47;mvn</code>, which I noticed just now that it&#39;s different than the one (3.6.0) I installed in the steps. Does this mean that there was already a maven installed?  Thank you for the response again!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645760904,"post_id":71259887,"comment_id":125962129,"body_markdown":"Yes, 3.6.3 was already installed, and that&#39;s the maven you are running, so that should be fine. The changes to your init files shouldn&#39;t cause any problems with maven. Here&#39;s some information on the error you&#39;re seeing: https://stackoverflow.com/questions/36450720/mavennon-resolvable-parent-pom-and-parent-relativepath-points-at-wrong-local","body":"Yes, 3.6.3 was already installed, and that&#39;s the maven you are running, so that should be fine. The changes to your init files shouldn&#39;t cause any problems with maven. Here&#39;s some information on the error you&#39;re seeing: <a href=\"https://stackoverflow.com/questions/36450720/mavennon-resolvable-parent-pom-and-parent-relativepath-points-at-wrong-local\" title=\"mavennon resolvable parent pom and parent relativepath points at wrong local\">stackoverflow.com/questions/36450720/&hellip;</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1645772972,"post_id":71259887,"comment_id":125964295,"body_markdown":"First why using such an old Maven versions. The environment is not the problem. There seemed to be some issues related downloading the needed parts ... `Non-resolvable parent POM for &lt;company repo&gt;`... either network/firewall etc. configuration. could be cause...","body":"First why using such an old Maven versions. The environment is not the problem. There seemed to be some issues related downloading the needed parts ... <code>Non-resolvable parent POM for &lt;company repo&gt;</code>... either network/firewall etc. configuration. could be cause..."},{"owner":{"account_id":11907911,"reputation":111,"user_id":8713984,"display_name":"xiexieni9527"},"score":0,"creation_date":1645804063,"post_id":71259887,"comment_id":125974707,"body_markdown":"Thank you both very much, I will investigate towards the network issue direction.","body":"Thank you both very much, I will investigate towards the network issue direction."}],"owner":{"account_id":11907911,"reputation":111,"user_id":8713984,"display_name":"xiexieni9527"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645755379,"creation_date":1645750538,"question_id":71259887,"body_markdown":"I&#39;m here reaching out for help because I have very little experience to Maven and Java, and little knowledge of environment variables. I attempt to set up GlueContext locally and went through a series of steps that involves Maven and JAVA_HOME on a Linux machine. \r\nI followed [this tutorial][1], which involves the following three steps:\r\n\r\n 1. `$ tar xvf apache-maven-3.6.0-bin.tar.gz -C $HOME/bin/` to extract the maven archive.\r\n 2. `$ export PATH=&quot;$HOME/bin/apache-maven-3.6.0/bin:$PATH&quot;`\r\n 3. `$ export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.12.0.7-0.el7_9.x86_64`\r\n\r\nThe further setup wasn&#39;t successful so I just ditched the process and went back to my usual mvn company project. But now, it seems like something was disrupted by one of (of all of) the three steps, and now when I execute `mvn install` to my company project, it&#39;s giving me error that says \r\n\r\n```\r\nNon-resolvable parent POM for &lt;company repo&gt;\r\n... and &#39;parent.relativePath&#39; points at wrong local POM....\r\n```\r\n\r\nI must have messed up the environment by going through the steps, but I have no clue how to fix it. If you have any idea or insight, please kindly share. Thank you very in advance!\r\n\r\n  [1]: https://support.wharton.upenn.edu/help/glue-debugging","title":"Get &quot;Non-resolvable parent POM&quot; after installing apache-maven and set JAVA_HOME","body":"<p>I'm here reaching out for help because I have very little experience to Maven and Java, and little knowledge of environment variables. I attempt to set up GlueContext locally and went through a series of steps that involves Maven and JAVA_HOME on a Linux machine.\nI followed <a href=\"https://support.wharton.upenn.edu/help/glue-debugging\" rel=\"nofollow noreferrer\">this tutorial</a>, which involves the following three steps:</p>\n<ol>\n<li><code>$ tar xvf apache-maven-3.6.0-bin.tar.gz -C $HOME/bin/</code> to extract the maven archive.</li>\n<li><code>$ export PATH=&quot;$HOME/bin/apache-maven-3.6.0/bin:$PATH&quot;</code></li>\n<li><code>$ export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.12.0.7-0.el7_9.x86_64</code></li>\n</ol>\n<p>The further setup wasn't successful so I just ditched the process and went back to my usual mvn company project. But now, it seems like something was disrupted by one of (of all of) the three steps, and now when I execute <code>mvn install</code> to my company project, it's giving me error that says</p>\n<pre><code>Non-resolvable parent POM for &lt;company repo&gt;\n... and 'parent.relativePath' points at wrong local POM....\n</code></pre>\n<p>I must have messed up the environment by going through the steps, but I have no clue how to fix it. If you have any idea or insight, please kindly share. Thank you very in advance!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645745692,"post_id":71259409,"comment_id":125959714,"body_markdown":"Is a `fixedDelay` of 10 minutes acceptable? (I&#39;m assuming you mean `@Scheduled` not `@Schedule`). That would mean that you would have up to 30 minutes between executions.","body":"Is a <code>fixedDelay</code> of 10 minutes acceptable? (I&#39;m assuming you mean <code>@Scheduled</code> not <code>@Schedule</code>). That would mean that you would have up to 30 minutes between executions."},{"owner":{"account_id":216544,"reputation":647,"user_id":471861,"accept_rate":75,"display_name":"trio"},"score":0,"creation_date":1645746148,"post_id":71259409,"comment_id":125959793,"body_markdown":"@tgdavies Yes! fixedDelay is something that would work perfectly!  So, if I have a fixedDelay of 10 mins then my next task will only have to wait for 10mins after the finish of task1. I am not sure how, it will take 30 mins between execution?","body":"@tgdavies Yes! fixedDelay is something that would work perfectly!  So, if I have a fixedDelay of 10 mins then my next task will only have to wait for 10mins after the finish of task1. I am not sure how, it will take 30 mins between execution?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645746449,"post_id":71259409,"comment_id":125959840,"body_markdown":"If one execution takes 20 minutes, then the start time of the next execution will be 30 minutes after the start time of the previous execution, which may be fine, but is something to be aware of.","body":"If one execution takes 20 minutes, then the start time of the next execution will be 30 minutes after the start time of the previous execution, which may be fine, but is something to be aware of."},{"owner":{"account_id":216544,"reputation":647,"user_id":471861,"accept_rate":75,"display_name":"trio"},"score":0,"creation_date":1646085860,"post_id":71259409,"comment_id":126033345,"body_markdown":"Hi @tgdavies if you can post this as an answer that&#39;d be great.","body":"Hi @tgdavies if you can post this as an answer that&#39;d be great."}],"owner":{"account_id":216544,"reputation":647,"user_id":471861,"accept_rate":75,"display_name":"trio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645755352,"creation_date":1645745387,"question_id":71259409,"body_markdown":"I am writing a spring-boot application with @Scheduled or Shedlock which runs a function every 10 mins. That function may take varying times depending on the load, 10 min or maybe even 20 mins. \r\n\r\nI want to make sure that the @Scheduled or Shedlock doesn&#39;t run another instance of that function while the current function is actively running. What&#39;s the best way of doing that?\r\n\r\nI don&#39;t have a database, but I was thinking I can use DynamoDB or Redis Cache. One issue I can see is that if let&#39;s say the application crashes in the middle of the job, it will still have the cache entry. Sure, I can add a TTL to the cache entry, but then the app will still have to wait till the TTL expires.\r\n\r\nIs there a better way to handle this situation?","title":"how can I make sure only 1 instance of the function is running at any given time?","body":"<p>I am writing a spring-boot application with @Scheduled or Shedlock which runs a function every 10 mins. That function may take varying times depending on the load, 10 min or maybe even 20 mins.</p>\n<p>I want to make sure that the @Scheduled or Shedlock doesn't run another instance of that function while the current function is actively running. What's the best way of doing that?</p>\n<p>I don't have a database, but I was thinking I can use DynamoDB or Redis Cache. One issue I can see is that if let's say the application crashes in the middle of the job, it will still have the cache entry. Sure, I can add a TTL to the cache entry, but then the app will still have to wait till the TTL expires.</p>\n<p>Is there a better way to handle this situation?</p>\n"},{"tags":["java","hive","apache-flink"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1645606216,"post_id":71233490,"comment_id":125913644,"body_markdown":"Please share enough information to reproduce the problem and enough of the stack trace that we can figure out where in the code the exception was thrown.","body":"Please share enough information to reproduce the problem and enough of the stack trace that we can figure out where in the code the exception was thrown."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1645634330,"post_id":71233490,"comment_id":125926169,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":24350690,"reputation":1,"user_id":18286559,"display_name":"kunghsu"},"score":0,"creation_date":1645690281,"post_id":71233490,"comment_id":125940390,"body_markdown":"The truth has been established\nWhen looking up the hive dimension table, it must be select *, even if you do not use all the columns, you have to use select *.\nI think this is a bug of flink. I don&#39;t use all the columns, why do I have to select all the columns when joining?\nI would suggest that apache can fix this if it can.","body":"The truth has been established When looking up the hive dimension table, it must be select *, even if you do not use all the columns, you have to use select *. I think this is a bug of flink. I don&#39;t use all the columns, why do I have to select all the columns when joining? I would suggest that apache can fix this if it can."}],"answers":[{"tags":[],"owner":{"account_id":24350690,"reputation":1,"user_id":18286559,"display_name":"kunghsu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1645753812,"creation_date":1645753812,"answer_id":71260158,"question_id":71233490,"body_markdown":"The final solution is: select *","title":"Missing conversion is FlinkLogicalJoin: LOGICAL -&gt; STREAM_PHYSICAL","body":"<p>The final solution is: select *</p>\n"}],"owner":{"account_id":24350690,"reputation":1,"user_id":18286559,"display_name":"kunghsu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71260158,"answer_count":1,"score":-1,"last_activity_date":1645753812,"creation_date":1645604728,"question_id":71233490,"body_markdown":"The following exception is encountered when running the flink+hive program:\r\nThere are not enough rules to produce a node with desired properties\r\nMissing conversion is FlinkLogicalJoin: LOGICAL -&gt; STREAM_PHYSICAL\r\n\r\n\r\nI think this is a bug of flink.","title":"Missing conversion is FlinkLogicalJoin: LOGICAL -&gt; STREAM_PHYSICAL","body":"<p>The following exception is encountered when running the flink+hive program:\nThere are not enough rules to produce a node with desired properties\nMissing conversion is FlinkLogicalJoin: LOGICAL -&gt; STREAM_PHYSICAL</p>\n<p>I think this is a bug of flink.</p>\n"},{"tags":["java","grpc","netty","race-condition","graceful-shutdown"],"comments":[{"owner":{"account_id":5434903,"reputation":1775,"user_id":11269045,"display_name":"Cl&#233;ment Jean"},"score":0,"creation_date":1645755952,"post_id":71259585,"comment_id":125961320,"body_markdown":"Could you share a minimum reproducible example? willing to help on that","body":"Could you share a minimum reproducible example? willing to help on that"},{"owner":{"account_id":1160035,"reputation":43,"user_id":1139746,"display_name":"depth13"},"score":0,"creation_date":1645757755,"post_id":71259585,"comment_id":125961626,"body_markdown":"I&#39;ll try to pull together an example.  Unfortunately the current code is part of a much bigger project, but I can probably extract the relevant parts.","body":"I&#39;ll try to pull together an example.  Unfortunately the current code is part of a much bigger project, but I can probably extract the relevant parts."}],"owner":{"account_id":1160035,"reputation":43,"user_id":1139746,"display_name":"depth13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645753505,"creation_date":1645747068,"question_id":71259585,"body_markdown":"I have a unit test that attempts to verify a graceful grpc server shutdown by sending some grpc calls to the server, shutting down the server, and verifying the requests completed before the server shutdown.\r\n\r\nIn the test thread I spin up 5 threads that each execute one client rpc call.\r\n\r\nIn the service end I decrement a countdown latch (receivedLatch) to ensure the call has been received, and then sleep for a few seconds.\r\n\r\nBack in the main test thread I assert that the receivedLatch is 0 by calling receivedLatch.await().\r\n\r\nAt this point my understanding is all 5 client calls are connected to the server and are processing (sleeping).\r\n\r\nAfter that I call:\r\n```\r\ngrpcServer.shutdown()\r\ngrpcServer.awaitTermination(25000, TimeUnit.MILLISECONDS)\r\n```\r\n\r\nThe issue is a race condition, in that sometimes the test completes successfully, and other times the test errors out on the rpc call in the test thread with the exception:\r\n\r\n&gt;io.grpc.StatusRuntimeException: UNAVAILABLE: Connection closed after GOAWAY. HTTP/2 error code: NO_ERROR, debug data: app_requested\r\n\r\nLooking into this error I found that:\r\n 1. UNAVAILABLE... GOAWAY is sent to clients that are attempting to connect to the server that is currently shutting down. \r\n 2. &quot;debug data: app_requested&quot; comes from the close method NettyServerHandler.GracefulShutdown()\r\n\r\n \r\nSo the questions are:\r\n\r\n1. How is the client not connected since I have asserted my receivedLatch is 0 and the countdown for that latch is in the service method for the RPC call.  If it were CANCELLED it would make more sense.\r\n\r\n\r\n2. Why is the NettyServerHandler getting called before my in-process RPCs have completed as my understanding is that&#39;s what awaitTermination should handle.**\r\n\r\nIs the call to close in NettyServiceHandler happening directly upon the call to grpcServer.shutdown().  If so wouldn&#39;t that always be a race?\r\n\r\nThank you,\r\n\r\n","title":"GRPC: Why does client receive &quot;UNAVAILABLE: Connection closed after GOAWAY. HTTP/2&quot; if server is processing request","body":"<p>I have a unit test that attempts to verify a graceful grpc server shutdown by sending some grpc calls to the server, shutting down the server, and verifying the requests completed before the server shutdown.</p>\n<p>In the test thread I spin up 5 threads that each execute one client rpc call.</p>\n<p>In the service end I decrement a countdown latch (receivedLatch) to ensure the call has been received, and then sleep for a few seconds.</p>\n<p>Back in the main test thread I assert that the receivedLatch is 0 by calling receivedLatch.await().</p>\n<p>At this point my understanding is all 5 client calls are connected to the server and are processing (sleeping).</p>\n<p>After that I call:</p>\n<pre><code>grpcServer.shutdown()\ngrpcServer.awaitTermination(25000, TimeUnit.MILLISECONDS)\n</code></pre>\n<p>The issue is a race condition, in that sometimes the test completes successfully, and other times the test errors out on the rpc call in the test thread with the exception:</p>\n<blockquote>\n<p>io.grpc.StatusRuntimeException: UNAVAILABLE: Connection closed after GOAWAY. HTTP/2 error code: NO_ERROR, debug data: app_requested</p>\n</blockquote>\n<p>Looking into this error I found that:</p>\n<ol>\n<li>UNAVAILABLE... GOAWAY is sent to clients that are attempting to connect to the server that is currently shutting down.</li>\n<li>&quot;debug data: app_requested&quot; comes from the close method NettyServerHandler.GracefulShutdown()</li>\n</ol>\n<p>So the questions are:</p>\n<ol>\n<li><p>How is the client not connected since I have asserted my receivedLatch is 0 and the countdown for that latch is in the service method for the RPC call.  If it were CANCELLED it would make more sense.</p>\n</li>\n<li><p>Why is the NettyServerHandler getting called before my in-process RPCs have completed as my understanding is that's what awaitTermination should handle.**</p>\n</li>\n</ol>\n<p>Is the call to close in NettyServiceHandler happening directly upon the call to grpcServer.shutdown().  If so wouldn't that always be a race?</p>\n<p>Thank you,</p>\n"},{"tags":["java","maven","spring-security","parameters","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1645774249,"post_id":71260083,"comment_id":125964627,"body_markdown":"The issue within an IDE is that you usally don&#39;t have the source code available. But most IDE have an option to download the appropriate source code... I bet VS Code has also such kind of option...this must be configured otherwise your IDE will use a decompiler to show the code which obviously is not really readable...","body":"The issue within an IDE is that you usally don&#39;t have the source code available. But most IDE have an option to download the appropriate source code... I bet VS Code has also such kind of option...this must be configured otherwise your IDE will use a decompiler to show the code which obviously is not really readable..."},{"owner":{"account_id":24371133,"reputation":1,"user_id":18304069,"display_name":"George Kim"},"score":0,"creation_date":1645787425,"post_id":71260083,"comment_id":125968842,"body_markdown":"Thank you for your answer.\nIll look into it along with your advise.","body":"Thank you for your answer. Ill look into it along with your advise."}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645753398,"creation_date":1645753249,"answer_id":71260114,"question_id":71260083,"body_markdown":"You have not provided the source code for the library. Without the source, the IDE will still show the prototype (since that can be determined from the .class file) but it will make up names for the arguments, as you see.\r\n\r\nRefer to the VSCode documentation to learn how to attach source jars.\r\n","title":"Java Library&#39;s Parameter Name differs between projects","body":"<p>You have not provided the source code for the library. Without the source, the IDE will still show the prototype (since that can be determined from the .class file) but it will make up names for the arguments, as you see.</p>\n<p>Refer to the VSCode documentation to learn how to attach source jars.</p>\n"}],"owner":{"account_id":24371133,"reputation":1,"user_id":18304069,"display_name":"George Kim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645753398,"creation_date":1645752905,"question_id":71260083,"body_markdown":"I am developing Web Services with the following stacks:\r\n\r\n 1. Spring Boot with Spring Security\r\n 2. Maven -&gt; add dependency from Maven Repo on pom.xml\r\n 3. Vs Code\r\n 4. Two Project (Two VS Code Windows): Production Development &amp; Testing\r\n 5. List item\r\n\r\nDesc:\r\n- In using &#39;SessionRegistry&#39;, when I try to see what is inside the &#39;SessionRegistry.class&#39;, the name of the parameters are as the image below:\r\n\r\n[Problem][1]\r\nImage_1.1) shows no indication on the purpose of the parameter as encircled on the image on the production project.\r\n\r\nStats on Testing Project, and this is my actual Expectation:\r\n\r\n[Expectation][2] Image_1.2) has appropriate name of the parameter and it shows sense what is the purpose of the parameter.\r\n\r\n++ Both of the Project is referring the same dependency thru pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhat I have already tried:\r\n\r\n 1. I have even tried to remove and download all of the dependencies at the Users/../.m2/repository\r\n 2. Wondered if the outdated version was the cause... so even tried to indicate the latest version enumerated on official maven repository website with the follwoing version:\r\n\r\n--\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\nAwaiting for your advise with an advance grafulness.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MbRxK.png\r\n  [2]: https://i.stack.imgur.com/Is2Wb.png","title":"Java Library&#39;s Parameter Name differs between projects","body":"<p>I am developing Web Services with the following stacks:</p>\n<ol>\n<li>Spring Boot with Spring Security</li>\n<li>Maven -&gt; add dependency from Maven Repo on pom.xml</li>\n<li>Vs Code</li>\n<li>Two Project (Two VS Code Windows): Production Development &amp; Testing</li>\n<li>List item</li>\n</ol>\n<p>Desc:</p>\n<ul>\n<li>In using 'SessionRegistry', when I try to see what is inside the 'SessionRegistry.class', the name of the parameters are as the image below:</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/MbRxK.png\" rel=\"nofollow noreferrer\">Problem</a>\nImage_1.1) shows no indication on the purpose of the parameter as encircled on the image on the production project.</p>\n<p>Stats on Testing Project, and this is my actual Expectation:</p>\n<p><a href=\"https://i.stack.imgur.com/Is2Wb.png\" rel=\"nofollow noreferrer\">Expectation</a> Image_1.2) has appropriate name of the parameter and it shows sense what is the purpose of the parameter.</p>\n<p>++ Both of the Project is referring the same dependency thru pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What I have already tried:</p>\n<ol>\n<li>I have even tried to remove and download all of the dependencies at the Users/../.m2/repository</li>\n<li>Wondered if the outdated version was the cause... so even tried to indicate the latest version enumerated on official maven repository website with the follwoing version:</li>\n</ol>\n<p>--</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Awaiting for your advise with an advance grafulness.</p>\n"},{"tags":["java","mqtt","bouncycastle","paho"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1635697154,"post_id":69754253,"comment_id":123358899,"body_markdown":"Try using `SSLContext.getInstance(&quot;TLS&quot;);`  instead of `SSLContext.getInstance(&quot;TLSv1.2&quot;);`","body":"Try using <code>SSLContext.getInstance(&quot;TLS&quot;);</code>  instead of <code>SSLContext.getInstance(&quot;TLSv1.2&quot;);</code>"},{"owner":{"account_id":7366296,"reputation":739,"user_id":5607943,"display_name":"Nuwan Sameera"},"score":0,"creation_date":1635697870,"post_id":69754253,"comment_id":123359099,"body_markdown":"Tried. But same result","body":"Tried. But same result"},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":1,"creation_date":1635698985,"post_id":69754253,"comment_id":123359347,"body_markdown":"read the err msg `SSLHandshakeException: Received fatal alert: unknown_ca` you could run the client with an option `-Djavax.net.debug=ssl:handshake` to see which certificates and keys are requested and actually sent","body":"read the err msg <code>SSLHandshakeException: Received fatal alert: unknown_ca</code> you could run the client with an option <code>-Djavax.net.debug=ssl:handshake</code> to see which certificates and keys are requested and actually sent"}],"owner":{"account_id":7366296,"reputation":739,"user_id":5607943,"display_name":"Nuwan Sameera"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645753146,"creation_date":1635424635,"question_id":69754253,"body_markdown":"I have rabbit mq server with mqtt enabled. It is ssl enabled and I have client certificate and key. It successfully connected from MQTTBox and python paho mqtt client. But java paho mqtt client given following error.\r\n\r\n    Exception in thread &quot;main&quot; MqttException (0) - javax.net.ssl.SSLHandshakeException: Received fatal alert: unknown_ca\r\n    \tat org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:38)\r\n    \tat org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:738)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: unknown_ca\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:313)\r\n    \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n    \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:186)\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1144)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1055)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:395)\r\n    \tat org.eclipse.paho.client.mqttv3.internal.SSLNetworkModule.start(SSLNetworkModule.java:159)\r\n    \tat org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n    \t... 1 more\r\n\r\nmaven dependency details\r\n\r\n    &lt;!-- mqtt client--&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\r\n    &lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- ssl support --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n    &lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\r\n    &lt;version&gt;1.46&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFollowing is the java code I try to use\r\n\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openssl.PEMReader;\r\n    import org.bouncycastle.openssl.PasswordFinder;\r\n    import org.eclipse.paho.client.mqttv3.MqttClient;\r\n    import org.eclipse.paho.client.mqttv3.MqttConnectOptions;\r\n    import org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\r\n    \r\n    import javax.net.ssl.KeyManagerFactory;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.TrustManagerFactory;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.security.*;\r\n    \r\n    import java.io.*;\r\n    import java.security.cert.*;\r\n    import javax.net.ssl.*;\r\n    \r\n    public class ScioMQTTClient {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n    \r\n        MqttClient mqttClient = new MqttClient(&quot;ssl://server:8883&quot;,\r\n         &quot;clientId1&quot;, new MemoryPersistence());\r\n    \r\n        MqttConnectOptions options = new MqttConnectOptions();\r\n        options.setUserName(&quot;user&quot;);\r\n        options.setPassword(&quot;password&quot;.toCharArray());\r\n    \r\n        SSLSocketFactory socketFactory = getSocketFactory(&quot;ca_certificate.pem&quot;, &quot;client_certificate.pem&quot;,\r\n          &quot;client_key.pem&quot;, &quot;&quot;);\r\n        options.setSocketFactory(socketFactory);\r\n    \r\n        mqttClient.connect(options);\r\n    \r\n        System.out.println(&quot;Connected&quot;);\r\n    \r\n      }\r\n    \r\n      static SSLSocketFactory getSocketFactory(final String caCrtFile, final String crtFile, final String keyFile, final String password) throws Exception {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n    \r\n        // load CA certificate\r\n        PEMReader reader = new PEMReader(new InputStreamReader(new ByteArrayInputStream(Files.readAllBytes(Paths.get(caCrtFile)))));\r\n        X509Certificate caCert = (X509Certificate) reader.readObject();\r\n        reader.close();\r\n    \r\n        // load client certificate\r\n        reader = new PEMReader(new InputStreamReader(new ByteArrayInputStream(Files.readAllBytes(Paths.get(crtFile)))));\r\n        X509Certificate cert = (X509Certificate) reader.readObject();\r\n        reader.close();\r\n    \r\n        // load client private key\r\n        reader = new PEMReader(\r\n          new InputStreamReader(new ByteArrayInputStream(Files.readAllBytes(Paths.get(keyFile)))),\r\n        new PasswordFinder() {\r\n          public char[] getPassword() {\r\n            return password.toCharArray();\r\n          }\r\n        });\r\n        KeyPair key = (KeyPair) reader.readObject();\r\n        reader.close();\r\n    \r\n        // CA certificate is used to authenticate server\r\n        KeyStore caKs = KeyStore.getInstance(&quot;JKS&quot;);\r\n        caKs.load(null, null);\r\n        caKs.setCertificateEntry(&quot;ca-certificate&quot;, caCert);\r\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;PKIX&quot;);\r\n        tmf.init(caKs);\r\n    \r\n        // client key and certificates are sent to server so it can authenticate us\r\n        KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\r\n        ks.load(null, null);\r\n        ks.setCertificateEntry(&quot;certificate&quot;, cert);\r\n        ks.setKeyEntry(&quot;private-key&quot;, key.getPrivate(), password.toCharArray(), new java.security.cert.Certificate[]{cert});\r\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;PKIX&quot;);\r\n        kmf.init(ks, password.toCharArray());\r\n    \r\n        // finally, create SSL socket factory\r\n        SSLContext context = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n        context.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\r\n        return context.getSocketFactory();\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nWhat is the reason for this.\r\n\r\nFollowing is the python code I use. It is working properly.\r\n\r\n    import paho.mqtt.client as mqtt\r\n    \r\n    # The callback for when the client receives a CONNACK response from the server.\r\n    def on_connect(client, userdata, flags, rc):\r\n      print(&quot;Connected with result code &quot;+str(rc))\r\n    \r\n      client.subscribe(&quot;$SYS/#&quot;)\r\n    \r\n    def on_message(client, userdata, msg):\r\n      print(msg.topic+&quot; &quot;+str(msg.payload))\r\n    \r\n    client = mqtt.Client()\r\n    client.username_pw_set(&quot;user&quot;, password=&quot;password&quot;)\r\n    client.on_connect = on_connect\r\n    client.on_message = on_message\r\n    \r\n    client.tls_set(ca_certs=&quot;ca_certificate.pem&quot;, certfile=&quot;client_certificate.pem&quot;, keyfile=&quot;client_key.pem&quot;)\r\n    \r\n    client.connect(&quot;server&quot;, 8883, 60)\r\n    \r\n    client.loop_forever()\r\n\r\nWhat is the reason to this error.","title":"MQTT SSL connection failed for java client","body":"<p>I have rabbit mq server with mqtt enabled. It is ssl enabled and I have client certificate and key. It successfully connected from MQTTBox and python paho mqtt client. But java paho mqtt client given following error.</p>\n<pre><code>Exception in thread &quot;main&quot; MqttException (0) - javax.net.ssl.SSLHandshakeException: Received fatal alert: unknown_ca\n    at org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:38)\n    at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:738)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: unknown_ca\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:313)\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:186)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1144)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1055)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:395)\n    at org.eclipse.paho.client.mqttv3.internal.SSLNetworkModule.start(SSLNetworkModule.java:159)\n    at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n    ... 1 more\n</code></pre>\n<p>maven dependency details</p>\n<pre><code>&lt;!-- mqtt client--&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\n&lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\n&lt;version&gt;1.2.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- ssl support --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n&lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\n&lt;version&gt;1.46&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Following is the java code I try to use</p>\n<pre><code>import org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openssl.PEMReader;\nimport org.bouncycastle.openssl.PasswordFinder;\nimport org.eclipse.paho.client.mqttv3.MqttClient;\nimport org.eclipse.paho.client.mqttv3.MqttConnectOptions;\nimport org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\n\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManagerFactory;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.security.*;\n\nimport java.io.*;\nimport java.security.cert.*;\nimport javax.net.ssl.*;\n\npublic class ScioMQTTClient {\n\n  public static void main(String[] args) throws Exception {\n\n    MqttClient mqttClient = new MqttClient(&quot;ssl://server:8883&quot;,\n     &quot;clientId1&quot;, new MemoryPersistence());\n\n    MqttConnectOptions options = new MqttConnectOptions();\n    options.setUserName(&quot;user&quot;);\n    options.setPassword(&quot;password&quot;.toCharArray());\n\n    SSLSocketFactory socketFactory = getSocketFactory(&quot;ca_certificate.pem&quot;, &quot;client_certificate.pem&quot;,\n      &quot;client_key.pem&quot;, &quot;&quot;);\n    options.setSocketFactory(socketFactory);\n\n    mqttClient.connect(options);\n\n    System.out.println(&quot;Connected&quot;);\n\n  }\n\n  static SSLSocketFactory getSocketFactory(final String caCrtFile, final String crtFile, final String keyFile, final String password) throws Exception {\n    Security.addProvider(new BouncyCastleProvider());\n\n    // load CA certificate\n    PEMReader reader = new PEMReader(new InputStreamReader(new ByteArrayInputStream(Files.readAllBytes(Paths.get(caCrtFile)))));\n    X509Certificate caCert = (X509Certificate) reader.readObject();\n    reader.close();\n\n    // load client certificate\n    reader = new PEMReader(new InputStreamReader(new ByteArrayInputStream(Files.readAllBytes(Paths.get(crtFile)))));\n    X509Certificate cert = (X509Certificate) reader.readObject();\n    reader.close();\n\n    // load client private key\n    reader = new PEMReader(\n      new InputStreamReader(new ByteArrayInputStream(Files.readAllBytes(Paths.get(keyFile)))),\n    new PasswordFinder() {\n      public char[] getPassword() {\n        return password.toCharArray();\n      }\n    });\n    KeyPair key = (KeyPair) reader.readObject();\n    reader.close();\n\n    // CA certificate is used to authenticate server\n    KeyStore caKs = KeyStore.getInstance(&quot;JKS&quot;);\n    caKs.load(null, null);\n    caKs.setCertificateEntry(&quot;ca-certificate&quot;, caCert);\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;PKIX&quot;);\n    tmf.init(caKs);\n\n    // client key and certificates are sent to server so it can authenticate us\n    KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\n    ks.load(null, null);\n    ks.setCertificateEntry(&quot;certificate&quot;, cert);\n    ks.setKeyEntry(&quot;private-key&quot;, key.getPrivate(), password.toCharArray(), new java.security.cert.Certificate[]{cert});\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;PKIX&quot;);\n    kmf.init(ks, password.toCharArray());\n\n    // finally, create SSL socket factory\n    SSLContext context = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n    context.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n    return context.getSocketFactory();\n\n  }\n\n}\n</code></pre>\n<p>What is the reason for this.</p>\n<p>Following is the python code I use. It is working properly.</p>\n<pre><code>import paho.mqtt.client as mqtt\n\n# The callback for when the client receives a CONNACK response from the server.\ndef on_connect(client, userdata, flags, rc):\n  print(&quot;Connected with result code &quot;+str(rc))\n\n  client.subscribe(&quot;$SYS/#&quot;)\n\ndef on_message(client, userdata, msg):\n  print(msg.topic+&quot; &quot;+str(msg.payload))\n\nclient = mqtt.Client()\nclient.username_pw_set(&quot;user&quot;, password=&quot;password&quot;)\nclient.on_connect = on_connect\nclient.on_message = on_message\n\nclient.tls_set(ca_certs=&quot;ca_certificate.pem&quot;, certfile=&quot;client_certificate.pem&quot;, keyfile=&quot;client_key.pem&quot;)\n\nclient.connect(&quot;server&quot;, 8883, 60)\n\nclient.loop_forever()\n</code></pre>\n<p>What is the reason to this error.</p>\n"},{"tags":["java","windows","macos","swing","jframe"],"answers":[{"tags":[],"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491887944,"creation_date":1491887944,"answer_id":43337294,"question_id":43337216,"body_markdown":"To catch window close event you need to add `WindowListener` and override method `windowClosing`. Use this code:\r\n\r\n        JFrame frame = new JFrame(...);\r\n        frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n         \r\n        frame.addWindowListener( new WindowAdapter()\r\n        {\r\n            public void windowClosing(WindowEvent e)\r\n            {\r\n                JFrame frame = (JFrame)e.getSource();\r\n        ....................\r\n    }\r\n    }","title":"processWindowEvent in mac","body":"<p>To catch window close event you need to add <code>WindowListener</code> and override method <code>windowClosing</code>. Use this code:</p>\n\n<pre><code>    JFrame frame = new JFrame(...);\n    frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n\n    frame.addWindowListener( new WindowAdapter()\n    {\n        public void windowClosing(WindowEvent e)\n        {\n            JFrame frame = (JFrame)e.getSource();\n    ....................\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645750675,"creation_date":1491889556,"answer_id":43337631,"question_id":43337216,"body_markdown":"# A world without `com.apple.eawt.*`\r\n\r\nYou need to look towards [`java.awt.Desktop`](https://docs.oracle.com/javase/10/docs/api/java/awt/Desktop.html) instead.\r\n\r\nFor example...\r\n\r\n    Desktop.getDesktop().setQuitHandler(new QuitHandler() {\r\n        @Override\r\n        public void handleQuitRequestWith(QuitEvent e, QuitResponse response) {\r\n            // Do some stuff\r\n            //response.cancelQuit();\r\n            //response.performQuit();\r\n        }\r\n    });\r\n    Desktop.getDesktop().setQuitStrategy(QuitStrategy.CLOSE_ALL_WINDOWS);\r\n\r\n\r\n# Original Answer\r\n\r\nWelcome to the wonderful world of &quot;Apple does everything differently&quot;\r\n\r\nBasically what&#39;s happening is, when you &quot;Quit&quot; the program, Apple is calling `System.exit(0)`, basically the same thing that would occur if your used &lt;kbd&gt;CMD&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt;\r\n\r\nNow, Apple provides an API which provides functionality which you can use to &quot;configure&quot; your App with MacOS and perform some functionality which is unique to Apple, the problem is, it&#39;s a complete pain in the ... code to find useful information about and use.\r\n\r\nWhat you&#39;re looking for is [`com.apple.eawt.ApplictionsetQuitStrategy`](https://coderanch.com/how-to/javadoc/appledoc/api/com/apple/eawt/Application.html#setQuitStrategy(com.apple.eawt.QuitStrategy)).  This defaults to calling `System.exit(0)`, but you can change it to &quot;close all windows&quot; instead.\r\n\r\nIn this case, it would allow you to trap the `WindowEvent` and do what ever it is you want to do\r\n\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.addWindowListener(new WindowAdapter() {\r\n                        @Override\r\n                        public void windowClosing(WindowEvent e) {\r\n                            System.out.println(&quot;Closing&quot;);\r\n                            System.exit(0);\r\n                        }\r\n                    });\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n\r\n                    try {\r\n                        Class quitStrategies = Class.forName(&quot;com.apple.eawt.QuitStrategy&quot;);\r\n                        Object quitStrategy = null;\r\n                        for (Object o : quitStrategies.getEnumConstants()) {\r\n                            if (&quot;CLOSE_ALL_WINDOWS&quot;.equals(o.toString())) {\r\n                                quitStrategy = o;\r\n                            }\r\n                        }\r\n                        if (quitStrategy != null) {\r\n                            Class appClass = Class.forName(&quot;com.apple.eawt.Application&quot;);\r\n                            Class params[] = new Class[]{};\r\n\r\n                            Method getApplication = appClass.getMethod(&quot;getApplication&quot;, params);\r\n                            Object application = getApplication.invoke(appClass);\r\n                            Method setQuitStrategy = application.getClass().getMethod(&quot;setQuitStrategy&quot;, quitStrategies);\r\n                            setQuitStrategy.invoke(application, quitStrategy);\r\n                        }\r\n\r\n                    } catch (NoSuchMethodException | SecurityException | IllegalAccessException | IllegalArgumentException | InvocationTargetException | ClassNotFoundException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n        }\r\n    }\r\n\r\nMy general advice is, build a nice &quot;Mac&quot; utilities class which encapsulates the functionality you want to play with and call that.\r\n\r\nAlso beware, this functionality may disappear suddenly in future releases.\r\n\r\nIt should be noted that if you intend to have a &quot;one for all&quot; application, you will need to use reflection, as the required API is not available in the standard API, but if you wanted to make a &quot;Apple&quot; only release, you should have a look at [this](https://stackoverflow.com/questions/30845797/why-is-netbeans-running-my-program-on-os-x-but-not-building-it-into-a-jar) for more information about how you can compile the code on MacOS, because using...\r\n\r\n    Application.getApplication().setQuitStrategy(QuitStrategy.CLOSE_ALL_WINDOWS);\r\n\r\nis hell of a lot easier to write and understand\r\n","title":"processWindowEvent in mac","body":"<h1>A world without <code>com.apple.eawt.*</code></h1>\n<p>You need to look towards <a href=\"https://docs.oracle.com/javase/10/docs/api/java/awt/Desktop.html\" rel=\"nofollow noreferrer\"><code>java.awt.Desktop</code></a> instead.</p>\n<p>For example...</p>\n<pre><code>Desktop.getDesktop().setQuitHandler(new QuitHandler() {\n    @Override\n    public void handleQuitRequestWith(QuitEvent e, QuitResponse response) {\n        // Do some stuff\n        //response.cancelQuit();\n        //response.performQuit();\n    }\n});\nDesktop.getDesktop().setQuitStrategy(QuitStrategy.CLOSE_ALL_WINDOWS);\n</code></pre>\n<h1>Original Answer</h1>\n<p>Welcome to the wonderful world of &quot;Apple does everything differently&quot;</p>\n<p>Basically what's happening is, when you &quot;Quit&quot; the program, Apple is calling <code>System.exit(0)</code>, basically the same thing that would occur if your used <kbd>CMD</kbd>+<kbd>Q</kbd></p>\n<p>Now, Apple provides an API which provides functionality which you can use to &quot;configure&quot; your App with MacOS and perform some functionality which is unique to Apple, the problem is, it's a complete pain in the ... code to find useful information about and use.</p>\n<p>What you're looking for is <a href=\"https://coderanch.com/how-to/javadoc/appledoc/api/com/apple/eawt/Application.html#setQuitStrategy(com.apple.eawt.QuitStrategy)\" rel=\"nofollow noreferrer\"><code>com.apple.eawt.ApplictionsetQuitStrategy</code></a>.  This defaults to calling <code>System.exit(0)</code>, but you can change it to &quot;close all windows&quot; instead.</p>\n<p>In this case, it would allow you to trap the <code>WindowEvent</code> and do what ever it is you want to do</p>\n<pre><code>import java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.addWindowListener(new WindowAdapter() {\n                    @Override\n                    public void windowClosing(WindowEvent e) {\n                        System.out.println(&quot;Closing&quot;);\n                        System.exit(0);\n                    }\n                });\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n\n                try {\n                    Class quitStrategies = Class.forName(&quot;com.apple.eawt.QuitStrategy&quot;);\n                    Object quitStrategy = null;\n                    for (Object o : quitStrategies.getEnumConstants()) {\n                        if (&quot;CLOSE_ALL_WINDOWS&quot;.equals(o.toString())) {\n                            quitStrategy = o;\n                        }\n                    }\n                    if (quitStrategy != null) {\n                        Class appClass = Class.forName(&quot;com.apple.eawt.Application&quot;);\n                        Class params[] = new Class[]{};\n\n                        Method getApplication = appClass.getMethod(&quot;getApplication&quot;, params);\n                        Object application = getApplication.invoke(appClass);\n                        Method setQuitStrategy = application.getClass().getMethod(&quot;setQuitStrategy&quot;, quitStrategies);\n                        setQuitStrategy.invoke(application, quitStrategy);\n                    }\n\n                } catch (NoSuchMethodException | SecurityException | IllegalAccessException | IllegalArgumentException | InvocationTargetException | ClassNotFoundException ex) {\n                    ex.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n    }\n}\n</code></pre>\n<p>My general advice is, build a nice &quot;Mac&quot; utilities class which encapsulates the functionality you want to play with and call that.</p>\n<p>Also beware, this functionality may disappear suddenly in future releases.</p>\n<p>It should be noted that if you intend to have a &quot;one for all&quot; application, you will need to use reflection, as the required API is not available in the standard API, but if you wanted to make a &quot;Apple&quot; only release, you should have a look at <a href=\"https://stackoverflow.com/questions/30845797/why-is-netbeans-running-my-program-on-os-x-but-not-building-it-into-a-jar\">this</a> for more information about how you can compile the code on MacOS, because using...</p>\n<pre><code>Application.getApplication().setQuitStrategy(QuitStrategy.CLOSE_ALL_WINDOWS);\n</code></pre>\n<p>is hell of a lot easier to write and understand</p>\n"}],"owner":{"account_id":6951298,"reputation":770,"user_id":5333841,"accept_rate":57,"display_name":"Naik Ashwini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43337631,"answer_count":2,"score":3,"last_activity_date":1645750675,"creation_date":1491887450,"question_id":43337216,"body_markdown":"I have a java swing application which has a processWindowEvent method. \r\nbelow is the snippet\r\n\r\n    @Override\r\n      protected void processWindowEvent(WindowEvent e) {\r\n        if (e.getID() == WindowEvent.WINDOW_CLOSING) {\r\n            //exit application with proper error message\r\n        }\r\n      }\r\n    \r\nNow when my swing application is launched in windows.\r\n\r\n 1. close with the cross in swing UI. ==&gt; proper error message is shown\r\n 2. close the application from taskbar ==&gt;proper error message is shown\r\n \r\nbut now if the same step is done in mac.\r\n\r\n 3. close with the cross in swing UI. ==&gt; proper error message is shown\r\n 4. close the application from taskbar ==&gt;does not come inside above method. So no proper message.\r\n\r\nI wanted to know what is the default method which will be called in mac when java swing app is closed from taskbar(the dock)\r\n\r\n\r\n","title":"processWindowEvent in mac","body":"<p>I have a java swing application which has a processWindowEvent method. \nbelow is the snippet</p>\n\n<pre><code>@Override\n  protected void processWindowEvent(WindowEvent e) {\n    if (e.getID() == WindowEvent.WINDOW_CLOSING) {\n        //exit application with proper error message\n    }\n  }\n</code></pre>\n\n<p>Now when my swing application is launched in windows.</p>\n\n<ol>\n<li>close with the cross in swing UI. ==> proper error message is shown</li>\n<li>close the application from taskbar ==>proper error message is shown</li>\n</ol>\n\n<p>but now if the same step is done in mac.</p>\n\n<ol start=\"3\">\n<li>close with the cross in swing UI. ==> proper error message is shown</li>\n<li>close the application from taskbar ==>does not come inside above method. So no proper message.</li>\n</ol>\n\n<p>I wanted to know what is the default method which will be called in mac when java swing app is closed from taskbar(the dock)</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":10093301,"reputation":1,"user_id":10491803,"display_name":"19lenyar94"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574314708,"creation_date":1574313219,"answer_id":58967733,"question_id":58965788,"body_markdown":"Try this way:\r\n\r\n    private static String NAME_COL = &quot;id&quot;;\r\n    \r\n    private static String TABLE_NAME = &quot;quirofanos&quot;;\r\n\r\n       public void borrarAlgo (long id) {\r\n            SQLiteDatabase baseDeDatos = db.getWritableDatabase();\r\n            String idConv = String.valueOf(id);\r\n            // -1 is that it failed to delete\r\n            int deleteRow = baseDeDatos.delete(TABLE_NAME, NAME_COL+ &quot;= &#39;&quot; + idConv + &quot;&#39;&quot;, null);\r\n\r\n        }\r\n\r\n\r\n\r\nPut a break point on the line\r\n\r\n    // THIS IS THE DELETE METHOD\r\n    \r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; public void delete Something (long id) {\r\n    \r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ...\r\n    \r\n    --------&gt; String idConv = String.valueOf (id);\r\n    \r\n    \r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ...\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }\r\n    \r\n    Check that\r\n    \r\n    public void delete Something (long id) {\r\n    \r\n    ...\r\n    \r\n    &#160;&#160;&#160;&#160;&#160; ------&gt; SQLiteDatabase databaseData = db.getWritableDatabase ();\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \r\n    \r\n    ...\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }\r\n\r\nIt is taking a different value from null, that is, the database.\r\n\r\n","title":"Android Studio, Error triying to delete Sql registry from custom listview button","body":"<p>Try this way:</p>\n\n<pre><code>private static String NAME_COL = \"id\";\n\nprivate static String TABLE_NAME = \"quirofanos\";\n\n   public void borrarAlgo (long id) {\n        SQLiteDatabase baseDeDatos = db.getWritableDatabase();\n        String idConv = String.valueOf(id);\n        // -1 is that it failed to delete\n        int deleteRow = baseDeDatos.delete(TABLE_NAME, NAME_COL+ \"= '\" + idConv + \"'\", null);\n\n    }\n</code></pre>\n\n<p>Put a break point on the line</p>\n\n<pre><code>// THIS IS THE DELETE METHOD\n\n         public void delete Something (long id) {\n\n             ...\n\n--------&gt; String idConv = String.valueOf (id);\n\n\n             ...\n         }\n\nCheck that\n\npublic void delete Something (long id) {\n\n...\n\n      ------&gt; SQLiteDatabase databaseData = db.getWritableDatabase ();\n             \n\n...\n         }\n</code></pre>\n\n<p>It is taking a different value from null, that is, the database.</p>\n"}],"owner":{"account_id":14359842,"reputation":1,"user_id":10372497,"display_name":"Gabriel Mc Gann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645750332,"creation_date":1574298789,"question_id":58965788,"body_markdown":"First, I know this question must be done a million times, and I have read all of them but I can&#39;t get it to work. \r\nHave a Custom listview with delete button on each row. That part works fine, I can put the data of the object clicked on a Toastmessage or console, but when I try to implement the delete from db method, the app crashes with error:\r\n\r\n&gt;&quot; java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.io.File android.content.Context.getDatabasePath(java.lang.String)&#39; on a null object reference &quot;\r\n\r\nOkay so now I shall share my codes with you. \r\nFirst the Controller class which holds all the methods for database transactions:\r\n\r\n\r\n        public class ControllerQuirofanos {\r\n        \r\n            private BaseDatos db;\r\n        \r\n            public ControllerQuirofanos(Context contexto) {\r\n        \r\n                db = new BaseDatos(contexto);\r\n            }\r\n        \r\n    //THIS IS THE DELETE METHOD\r\n            public void borrarAlgo (long id) {\r\n                SQLiteDatabase baseDeDatos = db.getWritableDatabase();\r\n                String[] argumentos = {String.valueOf(id)};\r\n                baseDeDatos.delete(&quot;quirofanos&quot;, &quot;id = ?&quot;, argumentos);\r\n            }\r\n        \r\n            public boolean delete(long id)\r\n            {\r\n                try\r\n                {\r\n                    SQLiteDatabase baseDeDatos = db.getWritableDatabase();\r\n                    int result=baseDeDatos.delete(&quot;quirofanos&quot;,&quot;id=?&quot;,new String[]{String.valueOf(id)});\r\n                    if(result&gt;0)\r\n                    {\r\n                        return true;\r\n                    }\r\n        \r\n                }catch (SQLException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n        \r\n                return false;\r\n            }\r\n        \r\n        \r\n            public long nuevoQuirofano(Quirofano quirofano) {\r\n                // writable porque vamos a insertar\r\n                SQLiteDatabase baseDeDatos = db.getWritableDatabase();\r\n                ContentValues valoresParaInsertar = new ContentValues();\r\n                valoresParaInsertar.put(&quot;nombre&quot;, quirofano.getNombre());\r\n                return baseDeDatos.insert(&quot;quirofanos&quot;, null, valoresParaInsertar);\r\n            }\r\n        \r\n            //listar\r\n            public ArrayList&lt;Quirofano&gt; obtenerQuirofanos() {\r\n                ArrayList&lt;Quirofano&gt; quirofanos = new ArrayList&lt;&gt;();\r\n                SQLiteDatabase baseDeDatos = db.getReadableDatabase();\r\n                String[] columnasAConsultar = {&quot;id&quot;,&quot;nombre&quot;};\r\n                Cursor cursor = baseDeDatos.query(\r\n                        &quot;quirofanos&quot;,\r\n                        columnasAConsultar,\r\n                        null,\r\n                        null,\r\n                        null,\r\n                        null,\r\n                        null\r\n                );\r\n        \r\n                if (cursor == null) {\r\n                    /*\r\n                        Salimos aqu&#237; porque hubo un error, regresar\r\n                        lista vac&#237;a\r\n                     */\r\n                    return quirofanos;\r\n        \r\n                }\r\n                if (!cursor.moveToFirst()) return quirofanos;\r\n        \r\n                do {\r\n                    long idQuirofano = cursor.getLong(0);\r\n                    String nombreObtenidoDeBD = cursor.getString(1);\r\n                    Quirofano personaObtenidaDeDB = new Quirofano(idQuirofano,nombreObtenidoDeBD);\r\n                    quirofanos.add(personaObtenidaDeDB);\r\n                } while (cursor.moveToNext());\r\n        \r\n                cursor.close();\r\n                return quirofanos;\r\n            }\r\n        \r\n        \r\n            //borrarTodo\r\n            public void borrarTodo(){\r\n                SQLiteDatabase baseDeDatos = db.getWritableDatabase();\r\n                baseDeDatos.delete(&quot;quirofanos&quot;, null, null);\r\n            }\r\n        }\r\n\r\nThen the Custom adapter class\r\n\r\n   \r\n\r\n     public class Adaptador_lista_quirofanos extends BaseAdapter implements ListAdapter {\r\n            private ArrayList&lt;Quirofano&gt; list;\r\n            private Context context;\r\n            final ControllerQuirofanos controller = new ControllerQuirofanos(context) ;\r\n        \r\n        \r\n            public Adaptador_lista_quirofanos(ArrayList&lt;Quirofano&gt; list, Context context) {\r\n                this.list = list;\r\n                this.context = context;\r\n            }\r\n        \r\n            @Override\r\n            public int getCount() {\r\n                return list.size();\r\n            }\r\n        \r\n            @Override\r\n            public Object getItem(int pos) {\r\n                return list.get(pos);\r\n            }\r\n        \r\n            @Override\r\n            public long getItemId(int pos) {\r\n                return list.get(pos).getId();\r\n                //just return 0 if your list items do not have an Id variable.\r\n            }\r\n        \r\n            @Override\r\n            public View getView(final int position, View convertView, ViewGroup parent) {\r\n                View view = convertView;\r\n                if (view == null) {\r\n                    LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                    view = inflater.inflate(R.layout.fila_quirofano, null);\r\n                }\r\n        \r\n                //Handle TextView and display string from your list\r\n                TextView listItemText = view.findViewById(R.id.tv_fila_quirofano);\r\n                listItemText.setText(list.get(position).getNombre());\r\n        \r\n                //Handle buttons and add onClickListeners\r\n                Button deleteBtn = view.findViewById(R.id.btn_eliminar_lista_quirofano);\r\n        \r\n                deleteBtn.setOnClickListener(new View.OnClickListener(){\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        final long id_a_eliminar = list.get(position).getId();\r\n                        list.remove(position); //or some other task\r\n                        notifyDataSetChanged(); //this works\r\n                        System.out.println(id_a_eliminar); //this works\r\n                        controller.borrarAlgo(id_a_eliminar); //this is where the app crash\r\n        \r\n                     }\r\n                });\r\n        \r\n                listItemText.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        String quirofanoClicado = list.get(position).getNombre();\r\n                        Toast.makeText(context.getApplicationContext(), &quot;Clicaste a &quot; + quirofanoClicado, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n        \r\n                return view;\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\nThe database Helper class\r\n\r\npublic class BaseDatos extends SQLiteOpenHelper {\r\n\r\n\r\n        public BaseDatos(Context context) {\r\n            super(context, &quot;administrador.db&quot;, null, 1);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            db.execSQL(String.format(&quot;CREATE TABLE IF NOT EXISTS %s(id integer primary key autoincrement, nombre text)&quot;, &quot;quirofanos&quot;));\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nmain activity\r\n\r\n    package com.example.prueba;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageButton;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        private EditText txtNuevo;\r\n        private ImageButton btnNuevo;\r\n        private ListView lv_quirofanos;\r\n        private ControllerQuirofanos controller;\r\n        private Button wipear;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            txtNuevo =  findViewById(R.id.txtNuevo);\r\n            btnNuevo =  findViewById(R.id.btnNuevo);\r\n            lv_quirofanos =  findViewById(R.id.lv_quirofanos);\r\n            controller= new ControllerQuirofanos(MainActivity.this);\r\n            wipear =  findViewById(R.id.wipe);\r\n    \r\n    \r\n            // Agregar listener del bot&#243;n de guardar\r\n            btnNuevo.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    // Resetear errores a ambos\r\n                    txtNuevo.setError(null);\r\n                    String nombre = txtNuevo.getText().toString();\r\n    \r\n                    if (&quot;&quot;.equals(nombre)) {\r\n                        txtNuevo.setError(&quot;Escribe el nombre del Quir&#243;fano&quot;);\r\n                        txtNuevo.requestFocus();\r\n                        return;\r\n                    }\r\n                    // Ya pas&#243; la validaci&#243;n\r\n                    Quirofano newQuirofano = new Quirofano(nombre);\r\n                    long id = controller.nuevoQuirofano(newQuirofano);\r\n                    if (id == -1) {\r\n                        // De alguna manera ocurri&#243; un error\r\n                        Toast.makeText(MainActivity.this, &quot;Error al guardar. Intenta de nuevo&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(MainActivity.this, &quot;Quir&#243;fano Agregado!&quot;, Toast.LENGTH_SHORT).show();\r\n                        cargarLista();\r\n                    }\r\n                }\r\n            });\r\n            wipear.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    controller.borrarTodo();\r\n                    Toast.makeText(MainActivity.this, &quot;Todos registros eliminados amigo&quot;, Toast.LENGTH_SHORT).show();\r\n                    cargarLista();\r\n                }\r\n            });\r\n    \r\n            //llenar arraylist con lo que haya en la db\r\n            cargarLista();\r\n        }//on create\r\n    \r\n        //charge the listview\r\n        public void cargarLista () {\r\n            Adaptador_lista_quirofanos adaptador_lista_quirofanos = new Adaptador_lista_quirofanos(controller.obtenerQuirofanos(), this);\r\n            lv_quirofanos.setAdapter(adaptador_lista_quirofanos);\r\n        }\r\n    \r\n    \r\n    }//class\r\n\r\n\r\n\r\n\r\n","title":"Android Studio, Error triying to delete Sql registry from custom listview button","body":"<p>First, I know this question must be done a million times, and I have read all of them but I can't get it to work.\nHave a Custom listview with delete button on each row. That part works fine, I can put the data of the object clicked on a Toastmessage or console, but when I try to implement the delete from db method, the app crashes with error:</p>\n<blockquote>\n<p>&quot; java.lang.NullPointerException: Attempt to invoke virtual method 'java.io.File android.content.Context.getDatabasePath(java.lang.String)' on a null object reference &quot;</p>\n</blockquote>\n<p>Okay so now I shall share my codes with you.\nFirst the Controller class which holds all the methods for database transactions:</p>\n<pre><code>    public class ControllerQuirofanos {\n    \n        private BaseDatos db;\n    \n        public ControllerQuirofanos(Context contexto) {\n    \n            db = new BaseDatos(contexto);\n        }\n    \n//THIS IS THE DELETE METHOD\n        public void borrarAlgo (long id) {\n            SQLiteDatabase baseDeDatos = db.getWritableDatabase();\n            String[] argumentos = {String.valueOf(id)};\n            baseDeDatos.delete(&quot;quirofanos&quot;, &quot;id = ?&quot;, argumentos);\n        }\n    \n        public boolean delete(long id)\n        {\n            try\n            {\n                SQLiteDatabase baseDeDatos = db.getWritableDatabase();\n                int result=baseDeDatos.delete(&quot;quirofanos&quot;,&quot;id=?&quot;,new String[]{String.valueOf(id)});\n                if(result&gt;0)\n                {\n                    return true;\n                }\n    \n            }catch (SQLException e)\n            {\n                e.printStackTrace();\n            }\n    \n            return false;\n        }\n    \n    \n        public long nuevoQuirofano(Quirofano quirofano) {\n            // writable porque vamos a insertar\n            SQLiteDatabase baseDeDatos = db.getWritableDatabase();\n            ContentValues valoresParaInsertar = new ContentValues();\n            valoresParaInsertar.put(&quot;nombre&quot;, quirofano.getNombre());\n            return baseDeDatos.insert(&quot;quirofanos&quot;, null, valoresParaInsertar);\n        }\n    \n        //listar\n        public ArrayList&lt;Quirofano&gt; obtenerQuirofanos() {\n            ArrayList&lt;Quirofano&gt; quirofanos = new ArrayList&lt;&gt;();\n            SQLiteDatabase baseDeDatos = db.getReadableDatabase();\n            String[] columnasAConsultar = {&quot;id&quot;,&quot;nombre&quot;};\n            Cursor cursor = baseDeDatos.query(\n                    &quot;quirofanos&quot;,\n                    columnasAConsultar,\n                    null,\n                    null,\n                    null,\n                    null,\n                    null\n            );\n    \n            if (cursor == null) {\n                /*\n                    Salimos aquí porque hubo un error, regresar\n                    lista vacía\n                 */\n                return quirofanos;\n    \n            }\n            if (!cursor.moveToFirst()) return quirofanos;\n    \n            do {\n                long idQuirofano = cursor.getLong(0);\n                String nombreObtenidoDeBD = cursor.getString(1);\n                Quirofano personaObtenidaDeDB = new Quirofano(idQuirofano,nombreObtenidoDeBD);\n                quirofanos.add(personaObtenidaDeDB);\n            } while (cursor.moveToNext());\n    \n            cursor.close();\n            return quirofanos;\n        }\n    \n    \n        //borrarTodo\n        public void borrarTodo(){\n            SQLiteDatabase baseDeDatos = db.getWritableDatabase();\n            baseDeDatos.delete(&quot;quirofanos&quot;, null, null);\n        }\n    }\n</code></pre>\n<p>Then the Custom adapter class</p>\n<pre><code> public class Adaptador_lista_quirofanos extends BaseAdapter implements ListAdapter {\n        private ArrayList&lt;Quirofano&gt; list;\n        private Context context;\n        final ControllerQuirofanos controller = new ControllerQuirofanos(context) ;\n    \n    \n        public Adaptador_lista_quirofanos(ArrayList&lt;Quirofano&gt; list, Context context) {\n            this.list = list;\n            this.context = context;\n        }\n    \n        @Override\n        public int getCount() {\n            return list.size();\n        }\n    \n        @Override\n        public Object getItem(int pos) {\n            return list.get(pos);\n        }\n    \n        @Override\n        public long getItemId(int pos) {\n            return list.get(pos).getId();\n            //just return 0 if your list items do not have an Id variable.\n        }\n    \n        @Override\n        public View getView(final int position, View convertView, ViewGroup parent) {\n            View view = convertView;\n            if (view == null) {\n                LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n                view = inflater.inflate(R.layout.fila_quirofano, null);\n            }\n    \n            //Handle TextView and display string from your list\n            TextView listItemText = view.findViewById(R.id.tv_fila_quirofano);\n            listItemText.setText(list.get(position).getNombre());\n    \n            //Handle buttons and add onClickListeners\n            Button deleteBtn = view.findViewById(R.id.btn_eliminar_lista_quirofano);\n    \n            deleteBtn.setOnClickListener(new View.OnClickListener(){\n                @Override\n                public void onClick(View v) {\n                    final long id_a_eliminar = list.get(position).getId();\n                    list.remove(position); //or some other task\n                    notifyDataSetChanged(); //this works\n                    System.out.println(id_a_eliminar); //this works\n                    controller.borrarAlgo(id_a_eliminar); //this is where the app crash\n    \n                 }\n            });\n    \n            listItemText.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    String quirofanoClicado = list.get(position).getNombre();\n                    Toast.makeText(context.getApplicationContext(), &quot;Clicaste a &quot; + quirofanoClicado, Toast.LENGTH_SHORT).show();\n                }\n            });\n    \n            return view;\n        }\n    }\n</code></pre>\n<p>The database Helper class</p>\n<p>public class BaseDatos extends SQLiteOpenHelper {</p>\n<pre><code>    public BaseDatos(Context context) {\n        super(context, &quot;administrador.db&quot;, null, 1);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(String.format(&quot;CREATE TABLE IF NOT EXISTS %s(id integer primary key autoincrement, nombre text)&quot;, &quot;quirofanos&quot;));\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n\n}\n</code></pre>\n<p>main activity</p>\n<pre><code>package com.example.prueba;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    private EditText txtNuevo;\n    private ImageButton btnNuevo;\n    private ListView lv_quirofanos;\n    private ControllerQuirofanos controller;\n    private Button wipear;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        txtNuevo =  findViewById(R.id.txtNuevo);\n        btnNuevo =  findViewById(R.id.btnNuevo);\n        lv_quirofanos =  findViewById(R.id.lv_quirofanos);\n        controller= new ControllerQuirofanos(MainActivity.this);\n        wipear =  findViewById(R.id.wipe);\n\n\n        // Agregar listener del botón de guardar\n        btnNuevo.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // Resetear errores a ambos\n                txtNuevo.setError(null);\n                String nombre = txtNuevo.getText().toString();\n\n                if (&quot;&quot;.equals(nombre)) {\n                    txtNuevo.setError(&quot;Escribe el nombre del Quirófano&quot;);\n                    txtNuevo.requestFocus();\n                    return;\n                }\n                // Ya pasó la validación\n                Quirofano newQuirofano = new Quirofano(nombre);\n                long id = controller.nuevoQuirofano(newQuirofano);\n                if (id == -1) {\n                    // De alguna manera ocurrió un error\n                    Toast.makeText(MainActivity.this, &quot;Error al guardar. Intenta de nuevo&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(MainActivity.this, &quot;Quirófano Agregado!&quot;, Toast.LENGTH_SHORT).show();\n                    cargarLista();\n                }\n            }\n        });\n        wipear.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                controller.borrarTodo();\n                Toast.makeText(MainActivity.this, &quot;Todos registros eliminados amigo&quot;, Toast.LENGTH_SHORT).show();\n                cargarLista();\n            }\n        });\n\n        //llenar arraylist con lo que haya en la db\n        cargarLista();\n    }//on create\n\n    //charge the listview\n    public void cargarLista () {\n        Adaptador_lista_quirofanos adaptador_lista_quirofanos = new Adaptador_lista_quirofanos(controller.obtenerQuirofanos(), this);\n        lv_quirofanos.setAdapter(adaptador_lista_quirofanos);\n    }\n\n\n}//class\n</code></pre>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":24310719,"reputation":21,"user_id":18252786,"display_name":"user18252786"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645750165,"creation_date":1645750165,"answer_id":71259861,"question_id":71187336,"body_markdown":"Continuing to experiment with the settings in server.xml, I noticed the issue did not occur when using http: instead of https:.  At this point I was pretty sure the issue was in the connector shown above.  After reviewing all of the attributes and nested elements in the Tomcat 10 documentation, I commented out the UpgradeProtocol element.  After restarting Tomcat the issue was resolved.  I&#39;m not sure exactly what this protocol does differently but it was definitely the source of the problem.","title":"Tomcat 10 not closing files on the server","body":"<p>Continuing to experiment with the settings in server.xml, I noticed the issue did not occur when using http: instead of https:.  At this point I was pretty sure the issue was in the connector shown above.  After reviewing all of the attributes and nested elements in the Tomcat 10 documentation, I commented out the UpgradeProtocol element.  After restarting Tomcat the issue was resolved.  I'm not sure exactly what this protocol does differently but it was definitely the source of the problem.</p>\n"}],"owner":{"account_id":24310719,"reputation":21,"user_id":18252786,"display_name":"user18252786"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645750165,"creation_date":1645291218,"question_id":71187336,"body_markdown":"I recently upgraded to Tomcat 10.  Everything is working perfectly except for one thing.  If I download a file from the server via the browser, the file remains open on the server.  \r\n\r\nI&#39;m running the following: Windows 11, java 11.0.12 2021-07-20 LTS, Tomcat 10.0.14, Firefox 97.0.1\r\n\r\nIn a new Firefox tab, I enter https://dg.localhost.com/nl/editions/NL202202.odt as the URL.  Using Windows Resource Monitor I see the file open as soon as I press Enter.  The file downloads and opens in Apache OpenOffice Writer. At this point, just close Writer.  \r\n\r\nGoing back to the Resource Monitor the file on the server C:\\webdevenv\\dataGen\\nl\\editions\\NL202202.odt remains open for approximately five to ten minutes.  In my previous Tomcat 8 installation the file would close on the server as soon as the download was complete.\r\n\r\nIn server.xml I have the following connector:\r\n```\r\n    &lt;Connector port=&quot;443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; \t   sslImplementationName=&quot;org.apache.tomcat.util.net.openssl.OpenSSLImplementation&quot; connectionTimeout=&quot;20000&quot; maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;&gt;\r\n        &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\r\n        &lt;SSLHostConfig&gt;\r\n            &lt;Certificate certificateKeystoreFile=&quot;C:/webdevenv/tomcat10/conf/lhkey.store&quot; \r\n\t\t\t             certificateKeyAlias=&quot;datagen&quot;\r\n\t\t\t\t\t\t certificateKeystorePassword=&quot;dataGenKey&quot;\r\n\t\t\t\t\t\t type=&quot;RSA&quot;\r\n\t\t\t\t\t\t certificateKeystoreType=&quot;PKCS12&quot; /&gt;\r\n        &lt;/SSLHostConfig&gt;\r\n    &lt;/Connector&gt;\r\n\r\n```\r\nIs there any way to control how long Tomcat 10 keeps a file like this open?","title":"Tomcat 10 not closing files on the server","body":"<p>I recently upgraded to Tomcat 10.  Everything is working perfectly except for one thing.  If I download a file from the server via the browser, the file remains open on the server.</p>\n<p>I'm running the following: Windows 11, java 11.0.12 2021-07-20 LTS, Tomcat 10.0.14, Firefox 97.0.1</p>\n<p>In a new Firefox tab, I enter <a href=\"https://dg.localhost.com/nl/editions/NL202202.odt\" rel=\"nofollow noreferrer\">https://dg.localhost.com/nl/editions/NL202202.odt</a> as the URL.  Using Windows Resource Monitor I see the file open as soon as I press Enter.  The file downloads and opens in Apache OpenOffice Writer. At this point, just close Writer.</p>\n<p>Going back to the Resource Monitor the file on the server C:\\webdevenv\\dataGen\\nl\\editions\\NL202202.odt remains open for approximately five to ten minutes.  In my previous Tomcat 8 installation the file would close on the server as soon as the download was complete.</p>\n<p>In server.xml I have the following connector:</p>\n<pre><code>    &lt;Connector port=&quot;443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;        sslImplementationName=&quot;org.apache.tomcat.util.net.openssl.OpenSSLImplementation&quot; connectionTimeout=&quot;20000&quot; maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;&gt;\n        &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\n        &lt;SSLHostConfig&gt;\n            &lt;Certificate certificateKeystoreFile=&quot;C:/webdevenv/tomcat10/conf/lhkey.store&quot; \n                         certificateKeyAlias=&quot;datagen&quot;\n                         certificateKeystorePassword=&quot;dataGenKey&quot;\n                         type=&quot;RSA&quot;\n                         certificateKeystoreType=&quot;PKCS12&quot; /&gt;\n        &lt;/SSLHostConfig&gt;\n    &lt;/Connector&gt;\n\n</code></pre>\n<p>Is there any way to control how long Tomcat 10 keeps a file like this open?</p>\n"},{"tags":["java","recursion","mergesort"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1645748322,"post_id":71259649,"comment_id":125960145,"body_markdown":"Because `int` is a primitive type you&#39;ll need to use boxed integers, i.e. `Integer Array []= {4,6,2,1,7,9,10};` (and please use Java naming conventions and call it `arrayToSort` or something else both meaningful and starting with a lower case letter.)","body":"Because <code>int</code> is a primitive type you&#39;ll need to use boxed integers, i.e. <code>Integer Array []= {4,6,2,1,7,9,10};</code> (and please use Java naming conventions and call it <code>arrayToSort</code> or something else both meaningful and starting with a lower case letter.)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645748362,"post_id":71259649,"comment_id":125960151,"body_markdown":"And `Integer[] arrayToSort = ...` is more idiomatic.","body":"And <code>Integer[] arrayToSort = ...</code> is more idiomatic."}],"owner":{"account_id":18596091,"reputation":35,"user_id":15225388,"display_name":"user788888"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1645749640,"creation_date":1645747862,"question_id":71259649,"body_markdown":"I&#39;m using java, I have a code given by an instructor and I am trying ti follow the code but I can&#39;t seem to make the code work.\r\n\r\nThis is code given to us :\r\n```\r\npublic class MergeSort   {\t\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;) // Generic array allocation\r\n\tpublic static &lt;E extends Comparable&lt;? super E&gt;&gt; void sort(E[] A) {\r\n\t  E[] temp = (E[])new Comparable[A.length];\r\n\t  mergesort(A, temp, 0, A.length-1);\r\n\t}\r\n\t\r\n\t\r\n\tpublic static &lt;E extends Comparable&lt;? super E&gt;&gt; void mergesort(E[] A, E[] temp, int l, int r) {\r\n\t\t\r\n\t\tint mid = (l+r)/2; // Select midpoint\r\n\t\tif (l == r) { \t\t\r\n\t\t\treturn; // List has one element\r\n\t\t}\r\n\t\t\r\n\t\tmergesort(A, temp, l, mid); // Mergesort first half\t\t\r\n\t\tmergesort(A, temp, mid+1, r); // Mergesort second half\r\n\t\t\r\n\t\tfor (int i=l; i&lt;=r; i++) // Copy subarray to temp\r\n\t\t\ttemp[i] = A[i];\r\n\t\t\r\n\t\t// Do the merge operation back to A\r\n\t\tint i1 = l; int i2 = mid + 1;\r\n\t\tfor (int curr=l; curr&lt;=r; curr++) {\t\t\t\r\n\t\t\tif ((i1&lt; mid+1) &amp;&amp; (i2&lt;=r)) {\r\n\t\t\t\t if (temp[i1].compareTo(temp[i2])&lt;0) // Get smaller\r\n\t\t\t\t\t\tA[curr] = temp[i1++];\r\n\t\t\t\t else \r\n\t\t\t\t\t A[curr] = temp[i2++];\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if ((i1==mid+1) &amp;&amp; (i2 &lt;= r) ){ // Left sublist exhausted\r\n\t\t\t\tA[curr] = temp[i2++];\r\n\t\t\t}\r\n\t\t\telse if (i2 &gt; r) { // Right sublist exhausted\r\n\t\t\t    A[curr] = temp[i1++];\r\n\t\t\t}\r\n\t\t}  \r\n\t}\r\n}\r\n```\r\nso I added a main function inside the class Mergesort so I can follow the code using breakpoint and understand how merge sort uses recursion:\r\n```\r\npublic static void main(String[] args) {\r\n\t\tint Array []= {4,6,2,1,7,9,10};\r\n\t\tMergeSort m=new MergeSort();\r\n\t\tm.sort(Array);\r\n\t}\r\n\r\n```\r\n\r\nbut it does not work: I am getting this error\r\n```\r\n Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tThe method sort(E[]) in the type MergeSort is not applicable for the arguments (int[])\r\n\r\n```\r\n\r\nwhich is basically caused by ```m.sort(Array)```;\r\n\r\n\r\n\r\nThis is my entire code:\r\n\r\n```\r\npublic class MergeSort  {\r\n\tpublic static void main(String[] args) {\r\n\t\tint Array []= {4,6,2,1,7,9,10};\r\n\t\tMergeSort m=new MergeSort();\r\n\t\tm.sort(Array);\r\n\t}\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;) // Generic array allocation\r\n\tpublic static &lt;E extends Comparable&lt;? super E&gt;&gt; void sort(E[] A) {\r\n\t  E[] temp = (E[])new Comparable[A.length];\r\n\t  mergesort(A, temp, 0, A.length-1);\r\n\t}\r\n\t\r\n\t\r\n\tpublic static &lt;E extends Comparable&lt;? super E&gt;&gt; void mergesort(E[] A, E[] temp, int l, int r) {\t\t\r\n\t\tint mid = (l+r)/2; // Select midpoint\r\n\t\tif (l == r) {\t\t\r\n\t\t\treturn; // List has one element\r\n\t\t}\r\n\t\t\r\n\t\tmergesort(A, temp, l, mid); // Mergesort first half\r\n\t\t\r\n\t\tmergesort(A, temp, mid+1, r); // Mergesort second half\r\n\t\t\r\n\t\tfor (int i=l; i&lt;=r; i++) // Copy subarray to temp\r\n\t\t\ttemp[i] = A[i];\r\n\t\t\r\n\t\t// Do the merge operation back to A\r\n\t\tint i1 = l; int i2 = mid + 1;\r\n\t\tfor (int curr=l; curr&lt;=r; curr++) {\t\t\t\r\n\t\t\tif ((i1&lt; mid+1) &amp;&amp; (i2&lt;=r)) {\r\n\t\t\t\t if (temp[i1].compareTo(temp[i2])&lt;0) // Get smaller\r\n\t\t\t\t\t\tA[curr] = temp[i1++];\r\n\t\t\t\t else \r\n\t\t\t\t\t A[curr] = temp[i2++];\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if ((i1==mid+1) &amp;&amp; (i2 &lt;= r) ){ // Left sublist exhausted\r\n\t\t\t\tA[curr] = temp[i2++];\r\n\t\t\t}\r\n\t\t\telse if (i2 &gt; r) { // Right sublist exhausted\r\n\t\t\t    A[curr] = temp[i1++];\r\n\t\t\t}\r\n\t\t}\t  \r\n\t}\r\n}\r\n```","title":"Trying to understand recursive merge sort","body":"<p>I'm using java, I have a code given by an instructor and I am trying ti follow the code but I can't seem to make the code work.</p>\n<p>This is code given to us :</p>\n<pre><code>public class MergeSort   {  \n    \n    @SuppressWarnings(&quot;unchecked&quot;) // Generic array allocation\n    public static &lt;E extends Comparable&lt;? super E&gt;&gt; void sort(E[] A) {\n      E[] temp = (E[])new Comparable[A.length];\n      mergesort(A, temp, 0, A.length-1);\n    }\n    \n    \n    public static &lt;E extends Comparable&lt;? super E&gt;&gt; void mergesort(E[] A, E[] temp, int l, int r) {\n        \n        int mid = (l+r)/2; // Select midpoint\n        if (l == r) {       \n            return; // List has one element\n        }\n        \n        mergesort(A, temp, l, mid); // Mergesort first half     \n        mergesort(A, temp, mid+1, r); // Mergesort second half\n        \n        for (int i=l; i&lt;=r; i++) // Copy subarray to temp\n            temp[i] = A[i];\n        \n        // Do the merge operation back to A\n        int i1 = l; int i2 = mid + 1;\n        for (int curr=l; curr&lt;=r; curr++) {         \n            if ((i1&lt; mid+1) &amp;&amp; (i2&lt;=r)) {\n                 if (temp[i1].compareTo(temp[i2])&lt;0) // Get smaller\n                        A[curr] = temp[i1++];\n                 else \n                     A[curr] = temp[i2++];              \n            }\n            else if ((i1==mid+1) &amp;&amp; (i2 &lt;= r) ){ // Left sublist exhausted\n                A[curr] = temp[i2++];\n            }\n            else if (i2 &gt; r) { // Right sublist exhausted\n                A[curr] = temp[i1++];\n            }\n        }  \n    }\n}\n</code></pre>\n<p>so I added a main function inside the class Mergesort so I can follow the code using breakpoint and understand how merge sort uses recursion:</p>\n<pre><code>public static void main(String[] args) {\n        int Array []= {4,6,2,1,7,9,10};\n        MergeSort m=new MergeSort();\n        m.sort(Array);\n    }\n\n</code></pre>\n<p>but it does not work: I am getting this error</p>\n<pre><code> Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    The method sort(E[]) in the type MergeSort is not applicable for the arguments (int[])\n\n</code></pre>\n<p>which is basically caused by <code>m.sort(Array)</code>;</p>\n<p>This is my entire code:</p>\n<pre><code>public class MergeSort  {\n    public static void main(String[] args) {\n        int Array []= {4,6,2,1,7,9,10};\n        MergeSort m=new MergeSort();\n        m.sort(Array);\n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;) // Generic array allocation\n    public static &lt;E extends Comparable&lt;? super E&gt;&gt; void sort(E[] A) {\n      E[] temp = (E[])new Comparable[A.length];\n      mergesort(A, temp, 0, A.length-1);\n    }\n    \n    \n    public static &lt;E extends Comparable&lt;? super E&gt;&gt; void mergesort(E[] A, E[] temp, int l, int r) {     \n        int mid = (l+r)/2; // Select midpoint\n        if (l == r) {       \n            return; // List has one element\n        }\n        \n        mergesort(A, temp, l, mid); // Mergesort first half\n        \n        mergesort(A, temp, mid+1, r); // Mergesort second half\n        \n        for (int i=l; i&lt;=r; i++) // Copy subarray to temp\n            temp[i] = A[i];\n        \n        // Do the merge operation back to A\n        int i1 = l; int i2 = mid + 1;\n        for (int curr=l; curr&lt;=r; curr++) {         \n            if ((i1&lt; mid+1) &amp;&amp; (i2&lt;=r)) {\n                 if (temp[i1].compareTo(temp[i2])&lt;0) // Get smaller\n                        A[curr] = temp[i1++];\n                 else \n                     A[curr] = temp[i2++];              \n            }\n            else if ((i1==mid+1) &amp;&amp; (i2 &lt;= r) ){ // Left sublist exhausted\n                A[curr] = temp[i2++];\n            }\n            else if (i2 &gt; r) { // Right sublist exhausted\n                A[curr] = temp[i1++];\n            }\n        }     \n    }\n}\n</code></pre>\n"},{"tags":["java","comparator","comparable"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645746678,"creation_date":1645746678,"answer_id":71259541,"question_id":71259524,"body_markdown":"You just have to do the unsafe cast.  There&#39;s really no way around it.","title":"Implement natural order comparator for non-comparable list","body":"<p>You just have to do the unsafe cast.  There's really no way around it.</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645748118,"creation_date":1645746780,"answer_id":71259551,"question_id":71259524,"body_markdown":"To see what `ArrayList` does, try:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        List&lt;Object&gt; objects = new ArrayList&lt;&gt;();\r\n        objects.add(new Object());\r\n        objects.add(new Object());\r\n\r\n        objects.sort(null);\r\n    }\r\n}\r\n```\r\n\r\nYour comparator must just assume that the objects in the list are Comparable, that&#39;s the best it can do:\r\n\r\n```\r\n class ascComparator implements Comparator&lt;Object&gt; {\r\n            public int compare(Object a, Object b) {\r\n                return ((Comparable)a).compareTo(b);\r\n            }\r\n        }\r\n```\r\n\r\nWhich will throw a `ClasscastException` if the items in your list are not `Comparable`.","title":"Implement natural order comparator for non-comparable list","body":"<p>To see what <code>ArrayList</code> does, try:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n    public static void main(String[] args) {\n        List&lt;Object&gt; objects = new ArrayList&lt;&gt;();\n        objects.add(new Object());\n        objects.add(new Object());\n\n        objects.sort(null);\n    }\n}\n</code></pre>\n<p>Your comparator must just assume that the objects in the list are Comparable, that's the best it can do:</p>\n<pre><code> class ascComparator implements Comparator&lt;Object&gt; {\n            public int compare(Object a, Object b) {\n                return ((Comparable)a).compareTo(b);\n            }\n        }\n</code></pre>\n<p>Which will throw a <code>ClasscastException</code> if the items in your list are not <code>Comparable</code>.</p>\n"}],"owner":{"account_id":10183559,"reputation":3679,"user_id":7519434,"accept_rate":100,"display_name":"Henry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71259551,"answer_count":2,"score":0,"last_activity_date":1645748118,"creation_date":1645746529,"question_id":71259524,"body_markdown":"I&#39;m implementing the `List` interface for a clone of `ArrayList`. I&#39;m trying to implement `sort` ([source](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-)):\r\n[![java.util.List sort method][1]][1]\r\nI&#39;m not sure how to implement the case where the comparator is null. My `ArrayList` does not extend `Comparable` because I want to be able to store non-comparable objects in the list. I&#39;ve tried using the following for the `sort` method:\r\n\r\n    public void sort(Comparator&lt;? super E&gt; c){\r\n        if(c == null){\r\n            // Use ascending order\r\n            class ascComparator&lt;T extends Comparable&lt;? super T&gt;&gt; implements Comparator&lt;T&gt; {\r\n                public int compare(T a, T b) {\r\n                    return a.compareTo(b);\r\n                }\r\n            }\r\n            c = new ascComparator&lt;E&gt;();\r\n        }\r\n        // Implementation of merge sort goes here\r\n    }\r\n\r\nThis expectedly gives an error as `E` does not extend `Comparable`. In the above documentation it is stated &quot;if ... is null then all elements in this list must implement the Comparable interface&quot;. How do I check that the objects in the list implement `Comparable` and how do I then use `compareTo` without getting an error? Is there just a better way to do this?\r\n\r\n  [1]: https://i.stack.imgur.com/7Y5yL.png","title":"Implement natural order comparator for non-comparable list","body":"<p>I'm implementing the <code>List</code> interface for a clone of <code>ArrayList</code>. I'm trying to implement <code>sort</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\">source</a>):\n<a href=\"https://i.stack.imgur.com/7Y5yL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Y5yL.png\" alt=\"java.util.List sort method\" /></a>\nI'm not sure how to implement the case where the comparator is null. My <code>ArrayList</code> does not extend <code>Comparable</code> because I want to be able to store non-comparable objects in the list. I've tried using the following for the <code>sort</code> method:</p>\n<pre><code>public void sort(Comparator&lt;? super E&gt; c){\n    if(c == null){\n        // Use ascending order\n        class ascComparator&lt;T extends Comparable&lt;? super T&gt;&gt; implements Comparator&lt;T&gt; {\n            public int compare(T a, T b) {\n                return a.compareTo(b);\n            }\n        }\n        c = new ascComparator&lt;E&gt;();\n    }\n    // Implementation of merge sort goes here\n}\n</code></pre>\n<p>This expectedly gives an error as <code>E</code> does not extend <code>Comparable</code>. In the above documentation it is stated &quot;if ... is null then all elements in this list must implement the Comparable interface&quot;. How do I check that the objects in the list implement <code>Comparable</code> and how do I then use <code>compareTo</code> without getting an error? Is there just a better way to do this?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1645748209,"post_id":71259656,"comment_id":125960128,"body_markdown":"You&#39;re crashing.  There should be a stack trace in your log.  The lines you pasted are irrelevant.","body":"You&#39;re crashing.  There should be a stack trace in your log.  The lines you pasted are irrelevant."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1645750431,"post_id":71259656,"comment_id":125960472,"body_markdown":"This is just the virtual GPS sensor; likely you might be missing GL drivers.","body":"This is just the virtual GPS sensor; likely you might be missing GL drivers."}],"owner":{"account_id":24324561,"reputation":1,"user_id":18264325,"display_name":"Robin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645747930,"creation_date":1645747930,"question_id":71259656,"body_markdown":"So I have 2 activities, the main activity has a button that is supposed to send the user to the other activity when clicked on\r\n```\r\npackage com.example.messingaround;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private Button seeList;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_first);\r\n        seeList = (Button)findViewById(R.id.seeList);\r\n        seeList.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v){\r\n                Intent intent = new Intent(MainActivity.this, Second_Activity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\nBut whenever I try to run the app, it says app keeps stopping\r\n[enter image description here][1]\r\n\r\nIn my logcat this keeps repeating\r\n```\r\n2022-02-24 19:11:26.985 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\r\n2022-02-24 19:11:26.985 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8\r\n2022-02-24 19:11:27.989 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\r\n2022-02-24 19:11:27.989 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8\r\n2022-02-24 19:11:28.994 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\r\n2022-02-24 19:11:28.994 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8\r\n2022-02-24 19:11:29.994 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\r\n```\r\n","title":"android studio app keeps stopping when run on emulator","body":"<p>So I have 2 activities, the main activity has a button that is supposed to send the user to the other activity when clicked on</p>\n<pre><code>package com.example.messingaround;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\n    private Button seeList;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_first);\n        seeList = (Button)findViewById(R.id.seeList);\n        seeList.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v){\n                Intent intent = new Intent(MainActivity.this, Second_Activity.class);\n                startActivity(intent);\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>But whenever I try to run the app, it says app keeps stopping\n[enter image description here][1]</p>\n<p>In my logcat this keeps repeating</p>\n<pre><code>2022-02-24 19:11:26.985 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\n2022-02-24 19:11:26.985 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8\n2022-02-24 19:11:27.989 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\n2022-02-24 19:11:27.989 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8\n2022-02-24 19:11:28.994 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\n2022-02-24 19:11:28.994 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: b: input svInfo.flags is 8\n2022-02-24 19:11:29.994 1798-28412/? E/GnssHAL_GnssInterface: gnssSvStatusCb: a: input svInfo.flags is 8\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"score":0,"creation_date":1541083995,"post_id":53103065,"comment_id":93102753,"body_markdown":"@matt I think the idea is (though the question could do with some more explanation ...) that only the thread that satisfies its condition will increment currNum. Therefore each thread does nothing until the other threads bump currNum to an appropriate value (in each case causing output of their appropriate nature, &quot;fizz&quot; or &quot;buzz&quot; or &quot;fizzbuzz&quot; or a number). It&#39;s trickier than it first appears.","body":"@matt I think the idea is (though the question could do with some more explanation ...) that only the thread that satisfies its condition will increment currNum. Therefore each thread does nothing until the other threads bump currNum to an appropriate value (in each case causing output of their appropriate nature, &quot;fizz&quot; or &quot;buzz&quot; or &quot;fizzbuzz&quot; or a number). It&#39;s trickier than it first appears."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1541084293,"post_id":53103065,"comment_id":93102945,"body_markdown":"@davmac in my example, one thread updates curNum between A geting the value and B getting the value. eg. currentNum = 9, A reads that value and assigns curNum to 9, thread C updates currentNum, thead B assigns curNum = 10; now A and B both have the correct value and it is a race. Oh, your saying A cant get 9 before C updates otherwise C would have a 9.","body":"@davmac in my example, one thread updates curNum between A geting the value and B getting the value. eg. currentNum = 9, A reads that value and assigns curNum to 9, thread C updates currentNum, thead B assigns curNum = 10; now A and B both have the correct value and it is a race. Oh, your saying A cant get 9 before C updates otherwise C would have a 9."},{"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"score":0,"creation_date":1541084604,"post_id":53103065,"comment_id":93103124,"body_markdown":"@matt I don&#39;t follow. What do you mean by &quot;correct value&quot;? Each thread has a disjoint set of values that they will act on. Each thread increments curNum as part of that action, but no other thread will increment for the same value. In your example if A reads curNum as 9 and then C updates curNum, then it must be because C saw curNum as having a value that it would act on, meaning that neither 9 nor the value that C saw is a value that A will act on, so it doesn&#39;t matter which one it has.","body":"@matt I don&#39;t follow. What do you mean by &quot;correct value&quot;? Each thread has a disjoint set of values that they will act on. Each thread increments curNum as part of that action, but no other thread will increment for the same value. In your example if A reads curNum as 9 and then C updates curNum, then it must be because C saw curNum as having a value that it would act on, meaning that neither 9 nor the value that C saw is a value that A will act on, so it doesn&#39;t matter which one it has."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1541084742,"post_id":53103065,"comment_id":93103199,"body_markdown":"&quot;correct value&quot; being the value that the specific thread operates on. Right so C would have to see an 8 and act, then update the value from 9 to 10 which could happen if C saw an old value. Since thread C is the only one that would modify 8 to 9, it can&#39;t see a stale value.","body":"&quot;correct value&quot; being the value that the specific thread operates on. Right so C would have to see an 8 and act, then update the value from 9 to 10 which could happen if C saw an old value. Since thread C is the only one that would modify 8 to 9, it can&#39;t see a stale value."},{"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"score":0,"creation_date":1541085775,"post_id":53103065,"comment_id":93103798,"body_markdown":"@matt right, I think we are on the same page now.","body":"@matt right, I think we are on the same page now."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1541088399,"post_id":53103065,"comment_id":93105332,"body_markdown":"&quot;Thread safe&quot; is not an attribute of programs: It&#39;s an attribute of a library/package/module/etc. that informs you about what precautions you must take when using it _in_ a program.  All you can say about the program as a whole is, it either works, or it doesn&#39;t work.","body":"&quot;Thread safe&quot; is not an attribute of programs: It&#39;s an attribute of a library/package/module/etc. that informs you about what precautions you must take when using it <i>in</i> a program.  All you can say about the program as a whole is, it either works, or it doesn&#39;t work."},{"owner":{"account_id":3674825,"reputation":280,"user_id":3061143,"accept_rate":60,"display_name":"Palladium"},"score":0,"creation_date":1541088969,"post_id":53103065,"comment_id":93105621,"body_markdown":"@Solomon Slow I understand thread safe as &quot;Thread-safe code only manipulates shared data structures in a manner that ensures that all threads behave properly and fulfill their design specifications without unintended interaction&quot; (took from wikipedia)","body":"@Solomon Slow I understand thread safe as &quot;Thread-safe code only manipulates shared data structures in a manner that ensures that all threads behave properly and fulfill their design specifications without unintended interaction&quot; (took from wikipedia)"},{"owner":{"account_id":3674825,"reputation":280,"user_id":3061143,"accept_rate":60,"display_name":"Palladium"},"score":0,"creation_date":1541089275,"post_id":53103065,"comment_id":93105804,"body_markdown":"@Solomon Slow I understand that my example is totally artificial. To implement multi-threaded &quot;Fizz Buzz&quot; algorithm inspired one famous book for preparation for &quot;codding interview&quot;. I just wanted to proof that example in book (which required to have 4 threads) can be solved without using synchronization and locks.","body":"@Solomon Slow I understand that my example is totally artificial. To implement multi-threaded &quot;Fizz Buzz&quot; algorithm inspired one famous book for preparation for &quot;codding interview&quot;. I just wanted to proof that example in book (which required to have 4 threads) can be solved without using synchronization and locks."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1541091962,"post_id":53103065,"comment_id":93107294,"body_markdown":"D&#39;Oh! Comment retracted.","body":"D&#39;Oh! Comment retracted."},{"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"score":0,"creation_date":1541187981,"post_id":53103065,"comment_id":93144584,"body_markdown":"You changed the question, so that the variable is now `volatile`. The question is now asking a different question to the one that was asked and answered! You shouldn&#39;t do that - please change it back. If you want to ask if `volatile` is sufficient, you should open another question and refer to this one.","body":"You changed the question, so that the variable is now <code>volatile</code>. The question is now asking a different question to the one that was asked and answered! You shouldn&#39;t do that - please change it back. If you want to ask if <code>volatile</code> is sufficient, you should open another question and refer to this one."},{"owner":{"account_id":3674825,"reputation":280,"user_id":3061143,"accept_rate":60,"display_name":"Palladium"},"score":0,"creation_date":1541234029,"post_id":53103065,"comment_id":93153270,"body_markdown":"@davmac valid point - changed back","body":"@davmac valid point - changed back"}],"answers":[{"tags":[],"owner":{"account_id":165320,"reputation":20240,"user_id":388661,"accept_rate":75,"display_name":"davmac"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1541085083,"creation_date":1541081813,"answer_id":53103106,"question_id":53103065,"body_markdown":"It is not race-free (which is what I think you are really asking), because the threads read from `currentNum` when it has been written by another thread, without any synchronisation. Each thread is not guaranteed to see the latest value - each thread will see either the value it last wrote itself, or any value that any other thread has written since.\r\n\r\nWhat this could mean is that you end up with no forward progression in any thread, since each thread may simply fail to see the change made in any other. You could use an `AtomicInteger` to solve that problem.\r\n\r\nI&#39;m not sure, also, whether the effects of `this.currentNum++;` are guaranteed to be seen to other threads as ordered in the same way that they are in the source thread. I suspect that theoretically, the output and increment could be re-ordered, for example:\r\n\r\n                  this.currentNum++;\r\n                  System.out.println(result);\r\n\r\nThis could lead to inconsistent output.\r\n","title":"Is my multi-threaded &quot;fizz buzz&quot; implementation thread safe?","body":"<p>It is not race-free (which is what I think you are really asking), because the threads read from <code>currentNum</code> when it has been written by another thread, without any synchronisation. Each thread is not guaranteed to see the latest value - each thread will see either the value it last wrote itself, or any value that any other thread has written since.</p>\n\n<p>What this could mean is that you end up with no forward progression in any thread, since each thread may simply fail to see the change made in any other. You could use an <code>AtomicInteger</code> to solve that problem.</p>\n\n<p>I'm not sure, also, whether the effects of <code>this.currentNum++;</code> are guaranteed to be seen to other threads as ordered in the same way that they are in the source thread. I suspect that theoretically, the output and increment could be re-ordered, for example:</p>\n\n<pre><code>              this.currentNum++;\n              System.out.println(result);\n</code></pre>\n\n<p>This could lead to inconsistent output.</p>\n"}],"owner":{"account_id":3674825,"reputation":280,"user_id":3061143,"accept_rate":60,"display_name":"Palladium"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":882,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":53103106,"answer_count":1,"score":1,"last_activity_date":1645747554,"creation_date":1541081630,"question_id":53103065,"body_markdown":"For educational purposes I am implementing classical &quot;fizz buzz&quot; problem using multiple threads.\r\n\r\n&quot;fizz buzz&quot; game is:\r\n&gt; The player designated to go first says the number &quot;1&quot;, and each player thenceforth counts one number in turn. However, any number divisible by three is replaced by the word fizz and any divisible by five by the word buzz. Numbers divisible by both become fizz buzz\r\n\r\nIn my implementation I have 4 threads:\r\n\r\n - First thread prints number if it is not multiple of 3 or 5 and increment current counter.\r\n - Second thread prints “fizz”...\r\n - Third thread prints “buzz”... \r\n - Forth thread prints “fizz buzz”...\r\n\r\nI don&#39;t use any locking and thread synchronizations mechanisms.\r\nIs my multi-threaded &quot;fizz buzz&quot; implementation thread safe? And, if not, why?\r\nI added comments in code of implementation for &quot;suspicious&quot; places.\r\n\r\nMy Implementation:\r\n\r\n    package threads;    \r\n    import java.util.function.IntFunction;    \r\n    public class FizzBuzzGameRunner {\r\n\r\n        // not volatile\r\n        // if other thread updates currentNum and current thread will see old (cached) value\r\n        // nothing bad can happen, just burn some CPU cycles uselessly\r\n        private int currentNum = 1;\r\n\r\n        public static void main(String... args) throws InterruptedException {\r\n            FizzBuzzGameRunner fizzBuzzGame = new FizzBuzzGameRunner();\r\n            startAll(\r\n                    fizzBuzzGame.createRunnable(n -&gt; (n % 3 != 0 &amp;&amp; n % 5 != 0) ? String.valueOf(n) : null),\r\n                    fizzBuzzGame.createRunnable(n -&gt; (n % 3 == 0 &amp;&amp; n % 5 != 0) ? &quot;fizz&quot; : null),\r\n                    fizzBuzzGame.createRunnable(n -&gt; (n % 3 != 0 &amp;&amp; n % 5 == 0) ? &quot;buzz&quot; : null),\r\n                    fizzBuzzGame.createRunnable(n -&gt; (n % 3 == 0 &amp;&amp; n % 5 == 0) ? &quot;fizz buzz&quot; : null)\r\n            );\r\n            Thread.sleep(1000);\r\n        }\r\n\r\n        private static void startAll(Runnable... workers) {\r\n            for (Runnable w : workers) {\r\n                Thread t = new Thread(w);\r\n                t.setDaemon(true);\r\n                t.start();\r\n            }\r\n        }\r\n\r\n        private Runnable createRunnable(IntFunction&lt;String&gt; singleStep) {\r\n            return () -&gt; {\r\n                while (true) {\r\n                    int currNum = this.currentNum;\r\n                    // no synchronization\r\n                    String result = singleStep.apply(currNum);\r\n                    if (result != null) {\r\n                        //Even without synchronization this block will be\r\n                        //executed maximum by single thread simultaneously.\r\n                        //Because each thread increments this.currentNum as part of that action,\r\n                        //but no other thread will increment for the same value.\r\n                        System.out.println(result);\r\n                        this.currentNum++;\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nI understand that my example is totally artificial. To implement multi-threaded &quot;Fizz Buzz&quot; algorithm inspired one famous book for preparation for &quot;codding interview&quot;. I just wanted to proof that example in book (which required to have 4 threads) can be solved without using synchronization and locks.\r\n","title":"Is my multi-threaded &quot;fizz buzz&quot; implementation thread safe?","body":"<p>For educational purposes I am implementing classical \"fizz buzz\" problem using multiple threads.</p>\n\n<p>\"fizz buzz\" game is:</p>\n\n<blockquote>\n  <p>The player designated to go first says the number \"1\", and each player thenceforth counts one number in turn. However, any number divisible by three is replaced by the word fizz and any divisible by five by the word buzz. Numbers divisible by both become fizz buzz</p>\n</blockquote>\n\n<p>In my implementation I have 4 threads:</p>\n\n<ul>\n<li>First thread prints number if it is not multiple of 3 or 5 and increment current counter.</li>\n<li>Second thread prints “fizz”...</li>\n<li>Third thread prints “buzz”... </li>\n<li>Forth thread prints “fizz buzz”...</li>\n</ul>\n\n<p>I don't use any locking and thread synchronizations mechanisms.\nIs my multi-threaded \"fizz buzz\" implementation thread safe? And, if not, why?\nI added comments in code of implementation for \"suspicious\" places.</p>\n\n<p>My Implementation:</p>\n\n<pre><code>package threads;    \nimport java.util.function.IntFunction;    \npublic class FizzBuzzGameRunner {\n\n    // not volatile\n    // if other thread updates currentNum and current thread will see old (cached) value\n    // nothing bad can happen, just burn some CPU cycles uselessly\n    private int currentNum = 1;\n\n    public static void main(String... args) throws InterruptedException {\n        FizzBuzzGameRunner fizzBuzzGame = new FizzBuzzGameRunner();\n        startAll(\n                fizzBuzzGame.createRunnable(n -&gt; (n % 3 != 0 &amp;&amp; n % 5 != 0) ? String.valueOf(n) : null),\n                fizzBuzzGame.createRunnable(n -&gt; (n % 3 == 0 &amp;&amp; n % 5 != 0) ? \"fizz\" : null),\n                fizzBuzzGame.createRunnable(n -&gt; (n % 3 != 0 &amp;&amp; n % 5 == 0) ? \"buzz\" : null),\n                fizzBuzzGame.createRunnable(n -&gt; (n % 3 == 0 &amp;&amp; n % 5 == 0) ? \"fizz buzz\" : null)\n        );\n        Thread.sleep(1000);\n    }\n\n    private static void startAll(Runnable... workers) {\n        for (Runnable w : workers) {\n            Thread t = new Thread(w);\n            t.setDaemon(true);\n            t.start();\n        }\n    }\n\n    private Runnable createRunnable(IntFunction&lt;String&gt; singleStep) {\n        return () -&gt; {\n            while (true) {\n                int currNum = this.currentNum;\n                // no synchronization\n                String result = singleStep.apply(currNum);\n                if (result != null) {\n                    //Even without synchronization this block will be\n                    //executed maximum by single thread simultaneously.\n                    //Because each thread increments this.currentNum as part of that action,\n                    //but no other thread will increment for the same value.\n                    System.out.println(result);\n                    this.currentNum++;\n                }\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>I understand that my example is totally artificial. To implement multi-threaded \"Fizz Buzz\" algorithm inspired one famous book for preparation for \"codding interview\". I just wanted to proof that example in book (which required to have 4 threads) can be solved without using synchronization and locks.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":2641595,"reputation":1817,"user_id":2285111,"accept_rate":70,"display_name":"Vladimir Nabokov"},"score":0,"creation_date":1435997493,"post_id":31217855,"comment_id":50437322,"body_markdown":"hey, unhold my question.","body":"hey, unhold my question."},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1435998272,"post_id":31217855,"comment_id":50437498,"body_markdown":"Have you actually observed any problem with the GC that needs fixing? Avoiding premature optimizations and all that.","body":"Have you actually observed any problem with the GC that needs fixing? Avoiding premature optimizations and all that."},{"owner":{"account_id":2641595,"reputation":1817,"user_id":2285111,"accept_rate":70,"display_name":"Vladimir Nabokov"},"score":0,"creation_date":1436000266,"post_id":31217855,"comment_id":50437917,"body_markdown":"I&#39;m not asking how to fix problems. There are no problems.\nI&#39;m asking how to program (write code, design) in order to allow GC spend less time in waiting for safepoint.","body":"I&#39;m not asking how to fix problems. There are no problems. I&#39;m asking how to program (write code, design) in order to allow GC spend less time in waiting for safepoint."},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1436000843,"post_id":31217855,"comment_id":50438054,"body_markdown":"Ok, put differently, what makes you think that this is necessary in practice?","body":"Ok, put differently, what makes you think that this is necessary in practice?"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1436010827,"post_id":31217855,"comment_id":50440744,"body_markdown":"This question is actually rather unrelated to GC (which needs safepoints, but so do e.g. class loading or (AFAIK) deoptimizations). There are (udes to be?) some bugs in the JVM making reaching a savepoint take too long.  It&#39;s also a trade-off between wasting time in frequent checks and wasting time with all but one threads waiting for the one reaching the savepoint last. There might be JVM option for this, but I doubt you should/can do anything via your coding style.","body":"This question is actually rather unrelated to GC (which needs safepoints, but so do e.g. class loading or (AFAIK) deoptimizations). There are (udes to be?) some bugs in the JVM making reaching a savepoint take too long.  It&#39;s also a trade-off between wasting time in frequent checks and wasting time with all but one threads waiting for the one reaching the savepoint last. There might be JVM option for this, but I doubt you should/can do anything via your coding style."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645747201,"creation_date":1537698576,"answer_id":52465212,"question_id":31217855,"body_markdown":"Lets start with this comment (from &quot;src/hotspot/share/runtime/safepoint.cpp&quot; file in the OpenJDK source):\r\n\r\n      // Java threads can be in several different states and are\r\n      // stopped by different mechanisms:\r\n      //\r\n      //  1. Running interpreted\r\n      //     The interpreter dispatch table is changed to force it to\r\n      //     check for a safepoint condition between bytecodes.\r\n      //  2. Running in native code\r\n      //     When returning from the native code, a Java thread must check\r\n      //     the safepoint _state to see if we must block.  If the\r\n      //     VM thread sees a Java thread in native, it does\r\n      //     not wait for this thread to block.  The order of the memory\r\n      //     writes and reads of both the safepoint state and the Java\r\n      //     threads state is critical.  In order to guarantee that the\r\n      //     memory writes are serialized with respect to each other,\r\n      //     the VM thread issues a memory barrier instruction\r\n      //     (on MP systems).  In order to avoid the overhead of issuing\r\n      //     a memory barrier for each Java thread making native calls, each Java\r\n      //     thread performs a write to a single memory page after changing\r\n      //     the thread state.  The VM thread performs a sequence of\r\n      //     mprotect OS calls which forces all previous writes from all\r\n      //     Java threads to be serialized.  This is done in the\r\n      //     os::serialize_thread_states() call.  This has proven to be\r\n      //     much more efficient than executing a membar instruction\r\n      //     on every call to native code.\r\n      //  3. Running compiled Code\r\n      //     Compiled code reads a global (Safepoint Polling) page that\r\n      //     is set to fault if we are trying to get to a safepoint.\r\n      //  4. Blocked\r\n      //     A thread which is blocked will not be allowed to return from the\r\n      //     block condition until the safepoint operation is complete.\r\n      //  5. In VM or Transitioning between states\r\n      //     If a Java thread is currently running in the VM or transitioning\r\n      //     between states, the safepointing code will wait for the thread to\r\n      //     block itself when it attempts transitions to a new state.\r\n      //\r\n\r\nFrom this I conclude the following:\r\n\r\n - When a JVM thread is *interpreting* bytecodes, it can reach a safepoint following any bytecode.\r\n - When a JVM thread is running code that has been JIT compiled, the behavior depends on when / where the JIT compile injects instructions to poll the &quot;Safepoint Polling&quot; page. \r\n - When a native (JNI) thread is running, it is ignored from the perspective of safepoints.  However, I believe that some JNI calls will cause the native thread to block if a safepoint is underway.\r\n - If a Java thread is blocked (e.g. by the thread scheduler or by an I/O syscall) or if it changes state, a safepoint can proceed.\r\n\r\nBut this only goes part way to answer the question.  The problem is that safepoint polling in JIT compiled code is done by instructions added by the JIT compiler.  The logic that controls this is not specified&lt;sup&gt;1&lt;/sup&gt;, and is liable to be implementation dependent.  Furthermore, I have heard that memory copying using `System.arraycopy` and other built-in / intrinsic operations *may* go a long time without a safepoint check.\r\n\r\nConcerning your specific examples:\r\n\r\n&gt; Is disk IO work making it more problematic?\r\n\r\nExplicit I/O (e.g. via `read` and `write` calls) is not problematic.  Memory mapped file I/O can be a problematic; see below.\r\n\r\n&gt; Is JNI making it more problematic?\r\n\r\nNo.\r\n\r\n&gt; Is `Thread.sleep()` making it more hard?\r\n\r\nNo.\r\n\r\n&gt; Is `synchronized(..)` making it harder?\r\n\r\nNo.\r\n\r\nAnd for your general question:\r\n\r\n&gt; What style makes this task [*of reaching safepoints*] more uncomfortable?\r\n\r\n1.  Avoid long counted loops.\r\n\r\n2.  Avoid things that will generate lots of virtual memory page misses.  \r\n\r\nThe page miss issue is that when application code tries to read or write a virtual memory page that is not currently in RAM, the OS has to read it from disk.  This happens transparently to the application ... but the thread that was trying to access the page is blocked while this happens.  It won&#39;t be able to reach the next safepoint while this is going on.  \r\n\r\nThings that are liable to lead to an unhealthy number of page misses are:\r\n\r\n  - running a JVM with a large heap or off-heap memory usage on a machine with insufficient RAM, or\r\n  - using large memory mapped files, especially if they are larger than the available RAM.\r\n\r\nThis effect will be exacerbated if the disk device is slower.\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - According to [this source][1], a poll is inserted on a backwards branch in a non-counted loop and on either method entry or exit.  This is platform dependent&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://medium.com/software-under-the-hood/under-the-hood-java-peak-safepoints-dd45af07d766","title":"java gc: what programming style makes safe point attainment easier (faster)?","body":"<p>Lets start with this comment (from &quot;src/hotspot/share/runtime/safepoint.cpp&quot; file in the OpenJDK source):</p>\n<pre><code>  // Java threads can be in several different states and are\n  // stopped by different mechanisms:\n  //\n  //  1. Running interpreted\n  //     The interpreter dispatch table is changed to force it to\n  //     check for a safepoint condition between bytecodes.\n  //  2. Running in native code\n  //     When returning from the native code, a Java thread must check\n  //     the safepoint _state to see if we must block.  If the\n  //     VM thread sees a Java thread in native, it does\n  //     not wait for this thread to block.  The order of the memory\n  //     writes and reads of both the safepoint state and the Java\n  //     threads state is critical.  In order to guarantee that the\n  //     memory writes are serialized with respect to each other,\n  //     the VM thread issues a memory barrier instruction\n  //     (on MP systems).  In order to avoid the overhead of issuing\n  //     a memory barrier for each Java thread making native calls, each Java\n  //     thread performs a write to a single memory page after changing\n  //     the thread state.  The VM thread performs a sequence of\n  //     mprotect OS calls which forces all previous writes from all\n  //     Java threads to be serialized.  This is done in the\n  //     os::serialize_thread_states() call.  This has proven to be\n  //     much more efficient than executing a membar instruction\n  //     on every call to native code.\n  //  3. Running compiled Code\n  //     Compiled code reads a global (Safepoint Polling) page that\n  //     is set to fault if we are trying to get to a safepoint.\n  //  4. Blocked\n  //     A thread which is blocked will not be allowed to return from the\n  //     block condition until the safepoint operation is complete.\n  //  5. In VM or Transitioning between states\n  //     If a Java thread is currently running in the VM or transitioning\n  //     between states, the safepointing code will wait for the thread to\n  //     block itself when it attempts transitions to a new state.\n  //\n</code></pre>\n<p>From this I conclude the following:</p>\n<ul>\n<li>When a JVM thread is <em>interpreting</em> bytecodes, it can reach a safepoint following any bytecode.</li>\n<li>When a JVM thread is running code that has been JIT compiled, the behavior depends on when / where the JIT compile injects instructions to poll the &quot;Safepoint Polling&quot; page.</li>\n<li>When a native (JNI) thread is running, it is ignored from the perspective of safepoints.  However, I believe that some JNI calls will cause the native thread to block if a safepoint is underway.</li>\n<li>If a Java thread is blocked (e.g. by the thread scheduler or by an I/O syscall) or if it changes state, a safepoint can proceed.</li>\n</ul>\n<p>But this only goes part way to answer the question.  The problem is that safepoint polling in JIT compiled code is done by instructions added by the JIT compiler.  The logic that controls this is not specified<sup>1</sup>, and is liable to be implementation dependent.  Furthermore, I have heard that memory copying using <code>System.arraycopy</code> and other built-in / intrinsic operations <em>may</em> go a long time without a safepoint check.</p>\n<p>Concerning your specific examples:</p>\n<blockquote>\n<p>Is disk IO work making it more problematic?</p>\n</blockquote>\n<p>Explicit I/O (e.g. via <code>read</code> and <code>write</code> calls) is not problematic.  Memory mapped file I/O can be a problematic; see below.</p>\n<blockquote>\n<p>Is JNI making it more problematic?</p>\n</blockquote>\n<p>No.</p>\n<blockquote>\n<p>Is <code>Thread.sleep()</code> making it more hard?</p>\n</blockquote>\n<p>No.</p>\n<blockquote>\n<p>Is <code>synchronized(..)</code> making it harder?</p>\n</blockquote>\n<p>No.</p>\n<p>And for your general question:</p>\n<blockquote>\n<p>What style makes this task [<em>of reaching safepoints</em>] more uncomfortable?</p>\n</blockquote>\n<ol>\n<li><p>Avoid long counted loops.</p>\n</li>\n<li><p>Avoid things that will generate lots of virtual memory page misses.</p>\n</li>\n</ol>\n<p>The page miss issue is that when application code tries to read or write a virtual memory page that is not currently in RAM, the OS has to read it from disk.  This happens transparently to the application ... but the thread that was trying to access the page is blocked while this happens.  It won't be able to reach the next safepoint while this is going on.</p>\n<p>Things that are liable to lead to an unhealthy number of page misses are:</p>\n<ul>\n<li>running a JVM with a large heap or off-heap memory usage on a machine with insufficient RAM, or</li>\n<li>using large memory mapped files, especially if they are larger than the available RAM.</li>\n</ul>\n<p>This effect will be exacerbated if the disk device is slower.</p>\n<hr />\n<p><sup>1 - According to <a href=\"https://medium.com/software-under-the-hood/under-the-hood-java-peak-safepoints-dd45af07d766\" rel=\"nofollow noreferrer\">this source</a>, a poll is inserted on a backwards branch in a non-counted loop and on either method entry or exit.  This is platform dependent</sup></p>\n"}],"owner":{"account_id":2641595,"reputation":1817,"user_id":2285111,"accept_rate":70,"display_name":"Vladimir Nabokov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645747201,"creation_date":1435992874,"question_id":31217855,"body_markdown":"Suppose I want help garbage collector.\r\nOne of ways to spend less time in GC is to reach safepoints faster.\r\n\r\nBefore a GC can be started, all threads must be parked at safepoints.\r\n\r\nSafepoint is a &quot;special place&quot; in execution flow, where thread can be safely stopped to perform GC.\r\n\r\nI want to minimize time of waiting of safe points in my code.\r\nWhat coding style will help me to reach safepoints faster?\r\n\r\nWhat style makes this task more uncomfortable?\r\n\r\nUnder *style* I mean everything in language, that helps (or prevents) quick &quot;acquisition&quot; of safepoint.\r\n\r\nExamples:\r\n\r\nIs disk IO work making it more problematic?\r\n\r\nIs JNI making it more problematic?\r\n\r\nIs Thread.sleep() making it more hard?\r\n\r\nIs synchronized(..) making it harder?\r\n\r\netc..\r\n\r\nIn short, what java operations and methods will make quick &quot;acquisition&quot; of safepoint problematic? And what helps?\r\n","title":"java gc: what programming style makes safe point attainment easier (faster)?","body":"<p>Suppose I want help garbage collector.\nOne of ways to spend less time in GC is to reach safepoints faster.</p>\n\n<p>Before a GC can be started, all threads must be parked at safepoints.</p>\n\n<p>Safepoint is a \"special place\" in execution flow, where thread can be safely stopped to perform GC.</p>\n\n<p>I want to minimize time of waiting of safe points in my code.\nWhat coding style will help me to reach safepoints faster?</p>\n\n<p>What style makes this task more uncomfortable?</p>\n\n<p>Under <em>style</em> I mean everything in language, that helps (or prevents) quick \"acquisition\" of safepoint.</p>\n\n<p>Examples:</p>\n\n<p>Is disk IO work making it more problematic?</p>\n\n<p>Is JNI making it more problematic?</p>\n\n<p>Is Thread.sleep() making it more hard?</p>\n\n<p>Is synchronized(..) making it harder?</p>\n\n<p>etc..</p>\n\n<p>In short, what java operations and methods will make quick \"acquisition\" of safepoint problematic? And what helps?</p>\n"},{"tags":["java","maven","webassembly","teavm"],"comments":[{"owner":{"display_name":"user14560339"},"score":0,"creation_date":1645750032,"post_id":71259567,"comment_id":125960404,"body_markdown":"remove &lt;minHeapSize&gt;1&lt;/minHeapSize&gt; and &lt;maxHeapSize&gt;16&lt;/maxHeapSize&gt;. They are not allowed there","body":"remove &lt;minHeapSize&gt;1&lt;/minHeapSize&gt; and &lt;maxHeapSize&gt;16&lt;/maxHeapSize&gt;. They are not allowed there"},{"owner":{"account_id":2359236,"reputation":7557,"user_id":2066336,"accept_rate":73,"display_name":"ckersch"},"score":0,"creation_date":1645760794,"post_id":71259567,"comment_id":125962109,"body_markdown":"@Cybergrenouille I get the same error if I run mvn clean package with those removed. They&#39;re also in the pom file present in the benchmark code.","body":"@Cybergrenouille I get the same error if I run mvn clean package with those removed. They&#39;re also in the pom file present in the benchmark code."},{"owner":{"display_name":"user14560339"},"score":0,"creation_date":1646008366,"post_id":71259567,"comment_id":126011947,"body_markdown":"It builds for me without those tags (If it is not expected, it will not build. In the example, they are probably defined in the parent &#39;teamvm-samples&#39;). Maybe try removing those tag and purge your local maven repository: mvn dependency:purge-local-repository  and then: mvn clean package","body":"It builds for me without those tags (If it is not expected, it will not build. In the example, they are probably defined in the parent &#39;teamvm-samples&#39;). Maybe try removing those tag and purge your local maven repository: mvn dependency:purge-local-repository  and then: mvn clean package"}],"owner":{"account_id":2359236,"reputation":7557,"user_id":2066336,"accept_rate":73,"display_name":"ckersch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645746903,"creation_date":1645746903,"question_id":71259567,"body_markdown":"I&#39;m trying to figure out in the most rudimentary way possible how to use TeaVM to compile a wasm file from a .java file. My .java code is fairly simple and compiles successfully to Javascript if I use the maven .pom file provided on the TeaVM Getting Started page:\r\n\r\n    package org.teavm;\r\n    \r\n    public class Scorer {\r\n        public static void main(String[] args) {\r\n            Double score = testScore();\r\n    \t\t\r\n    \t\t//log(score);\r\n        }\r\n    \t\r\n    \t//@JSBody(params = { &quot;value&quot; }, script = &quot;console.log(&#39;Value is: &#39; + value)&quot;)\r\n    \t//public static native void log(double value);\r\n    \t\r\n    \tpublic static double testScore(){\r\n    \t\tDouble score = 8.0085;\r\n    \t\treturn score;\r\n    \t}\r\n    }\r\n\r\nMy problem comes when I want to do the same thing, but compile it to .wasm instead of .js. (This is why the JSO stuff is commented out from the .java code). My .pom file is as follows:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;org.teavm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;teavm-maven-webapp&lt;/artifactId&gt;\r\n      &lt;version&gt;0.6.1 &lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;teavm.version&gt;0.6.1&lt;/teavm.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;!-- Emulator of Java class library for TeaVM --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.teavm&lt;/groupId&gt;\r\n          &lt;artifactId&gt;teavm-classlib&lt;/artifactId&gt;\r\n          &lt;version&gt;${teavm.version}&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- JavaScriptObjects (JSO) - a JavaScript binding for TeaVM --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.teavm&lt;/groupId&gt;\r\n          &lt;artifactId&gt;teavm-jso-apis&lt;/artifactId&gt;\r\n          &lt;version&gt;${teavm.version}&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Servlet 3.1 specification --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;!-- Configure Java compiler to use Java 8 syntax  --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;${java.version}&lt;/source&gt;\r\n              &lt;target&gt;${java.version}&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;!-- Configure WAR plugin to include JavaScript !AND WASM! files generated by TeaVM --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;webResources&gt;\r\n                &lt;resource&gt;\r\n                  &lt;directory&gt;${project.build.directory}/generated/js&lt;/directory&gt;\r\n                &lt;/resource&gt;\r\n    \t\t\t&lt;resource&gt;\r\n                  &lt;directory&gt;${project.build.directory}/generated/wasm&lt;/directory&gt;\r\n                &lt;/resource&gt;\r\n              &lt;/webResources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;!-- Configure TeaVM --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.teavm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;teavm-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${teavm.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;web-client&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;compile&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;!-- Directory where TeaVM should put generated files. This configuration conforms to the settings\r\n                       of the WAR plugin --&gt;\r\n                  &lt;targetDirectory&gt;${project.build.directory}/generated/js/teavm&lt;/targetDirectory&gt;\r\n    \r\n                  &lt;!-- Main class, containing static void main(String[]) --&gt;\r\n                  &lt;mainClass&gt;org.teavm.Scorer&lt;/mainClass&gt;\r\n    \r\n                  &lt;!-- Whether TeaVM should produce minified JavaScript. Can reduce JavaScript file size more than\r\n                       two times --&gt;\r\n                  &lt;minifying&gt;false&lt;/minifying&gt;\r\n    \r\n                  &lt;!-- Whether TeaVM should produce debug information for its built-in debugger --&gt;\r\n                  &lt;debugInformationGenerated&gt;true&lt;/debugInformationGenerated&gt;\r\n    \r\n                  &lt;!-- Whether TeaVM should produce source maps file --&gt;\r\n                  &lt;sourceMapsGenerated&gt;true&lt;/sourceMapsGenerated&gt;\r\n    \r\n                  &lt;!-- Whether TeaVM should also put source files into output directory,\r\n                       for compatibility with source maps --&gt;\r\n                  &lt;sourceFilesCopied&gt;true&lt;/sourceFilesCopied&gt;\r\n    \r\n                  &lt;!-- Optimization level. Valid values are: SIMPLE, ADVANCED, FULL --&gt;\r\n                  &lt;optimizationLevel&gt;FULL&lt;/optimizationLevel&gt;\r\n    \t\t\t  \r\n    \t\t\t  &lt;!-- &lt;targetType&gt;WEBASSEMBLY&lt;/targetType&gt; --&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n    \t\t  &lt;execution&gt;\r\n                &lt;id&gt;wasm-client&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;compile&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;!-- Directory where TeaVM should put generated files. This configuration conforms to the settings\r\n                       of the WAR plugin --&gt;\r\n                  &lt;targetDirectory&gt;${project.build.directory}/generated/wasm/teavm-wasm&lt;/targetDirectory&gt;\r\n    \r\n                  &lt;!-- Main class, containing static void main(String[]) --&gt;\r\n                  &lt;mainClass&gt;org.teavm.Scorer&lt;/mainClass&gt;\r\n    \t\t\t  \r\n                  &lt;!-- Whether TeaVM should produce debug information for its built-in debugger --&gt;\r\n                  &lt;debugInformationGenerated&gt;true&lt;/debugInformationGenerated&gt;\r\n    \r\n                  \r\n    \t\t\t  \r\n    \t\t\t  &lt;targetType&gt;WEBASSEMBLY&lt;/targetType&gt;\r\n    \t\t\t  \r\n    \t\t\t  &lt;!-- Optimization level. Valid values are: SIMPLE, ADVANCED, FULL --&gt;\r\n                  &lt;optimizationLevel&gt;FULL&lt;/optimizationLevel&gt;\r\n    \t\t\t  \r\n    \t\t\t  &lt;minHeapSize&gt;1&lt;/minHeapSize&gt;\r\n    \t\t\t  &lt;maxHeapSize&gt;16&lt;/maxHeapSize&gt;\r\n    \t\t\t  \r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThis is basically a combination of the &quot;Getting Started&quot; .pom file and the .pom file from the benchmark sample located here: https://github.com/konsoletyper/teavm/blob/master/samples/benchmark/pom.xml\r\n\r\nI added the second execution block to the teavm plugin configuration section. Everything else in the benchmark .pom looks like it isn&#39;t related to .wasm file generation.\r\n\r\nWhen I try to build (using `mvn clean package`, same as I used for the js-only version of this), I get the following error:\r\n\r\n    [INFO] Running TeaVM\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  4.876 s\r\n    [INFO] Finished at: 2022-02-24T18:43:21-05:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.teavm:teavm-maven-plugin:0.6.1:compile (wasm-client) on project teavm-maven-webapp: Unexpected error occurred: Array index out of range: 0 -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nDoes anyone know what might be causing this? I checked the apache wiki page url in the error log and it doesn&#39;t really help. I&#39;ve never used either TeaVM or Maven before and this has me kind of stumped.\r\n","title":"How do I solve an index out of bounds exception using Maven to compile TeaVM?","body":"<p>I'm trying to figure out in the most rudimentary way possible how to use TeaVM to compile a wasm file from a .java file. My .java code is fairly simple and compiles successfully to Javascript if I use the maven .pom file provided on the TeaVM Getting Started page:</p>\n<pre><code>package org.teavm;\n\npublic class Scorer {\n    public static void main(String[] args) {\n        Double score = testScore();\n        \n        //log(score);\n    }\n    \n    //@JSBody(params = { &quot;value&quot; }, script = &quot;console.log('Value is: ' + value)&quot;)\n    //public static native void log(double value);\n    \n    public static double testScore(){\n        Double score = 8.0085;\n        return score;\n    }\n}\n</code></pre>\n<p>My problem comes when I want to do the same thing, but compile it to .wasm instead of .js. (This is why the JSO stuff is commented out from the .java code). My .pom file is as follows:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.teavm&lt;/groupId&gt;\n  &lt;artifactId&gt;teavm-maven-webapp&lt;/artifactId&gt;\n  &lt;version&gt;0.6.1 &lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;teavm.version&gt;0.6.1&lt;/teavm.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Emulator of Java class library for TeaVM --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.teavm&lt;/groupId&gt;\n      &lt;artifactId&gt;teavm-classlib&lt;/artifactId&gt;\n      &lt;version&gt;${teavm.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JavaScriptObjects (JSO) - a JavaScript binding for TeaVM --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.teavm&lt;/groupId&gt;\n      &lt;artifactId&gt;teavm-jso-apis&lt;/artifactId&gt;\n      &lt;version&gt;${teavm.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Servlet 3.1 specification --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;!-- Configure Java compiler to use Java 8 syntax  --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${java.version}&lt;/source&gt;\n          &lt;target&gt;${java.version}&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Configure WAR plugin to include JavaScript !AND WASM! files generated by TeaVM --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;webResources&gt;\n            &lt;resource&gt;\n              &lt;directory&gt;${project.build.directory}/generated/js&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n              &lt;directory&gt;${project.build.directory}/generated/wasm&lt;/directory&gt;\n            &lt;/resource&gt;\n          &lt;/webResources&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Configure TeaVM --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.teavm&lt;/groupId&gt;\n        &lt;artifactId&gt;teavm-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${teavm.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;web-client&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;!-- Directory where TeaVM should put generated files. This configuration conforms to the settings\n                   of the WAR plugin --&gt;\n              &lt;targetDirectory&gt;${project.build.directory}/generated/js/teavm&lt;/targetDirectory&gt;\n\n              &lt;!-- Main class, containing static void main(String[]) --&gt;\n              &lt;mainClass&gt;org.teavm.Scorer&lt;/mainClass&gt;\n\n              &lt;!-- Whether TeaVM should produce minified JavaScript. Can reduce JavaScript file size more than\n                   two times --&gt;\n              &lt;minifying&gt;false&lt;/minifying&gt;\n\n              &lt;!-- Whether TeaVM should produce debug information for its built-in debugger --&gt;\n              &lt;debugInformationGenerated&gt;true&lt;/debugInformationGenerated&gt;\n\n              &lt;!-- Whether TeaVM should produce source maps file --&gt;\n              &lt;sourceMapsGenerated&gt;true&lt;/sourceMapsGenerated&gt;\n\n              &lt;!-- Whether TeaVM should also put source files into output directory,\n                   for compatibility with source maps --&gt;\n              &lt;sourceFilesCopied&gt;true&lt;/sourceFilesCopied&gt;\n\n              &lt;!-- Optimization level. Valid values are: SIMPLE, ADVANCED, FULL --&gt;\n              &lt;optimizationLevel&gt;FULL&lt;/optimizationLevel&gt;\n              \n              &lt;!-- &lt;targetType&gt;WEBASSEMBLY&lt;/targetType&gt; --&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;wasm-client&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;!-- Directory where TeaVM should put generated files. This configuration conforms to the settings\n                   of the WAR plugin --&gt;\n              &lt;targetDirectory&gt;${project.build.directory}/generated/wasm/teavm-wasm&lt;/targetDirectory&gt;\n\n              &lt;!-- Main class, containing static void main(String[]) --&gt;\n              &lt;mainClass&gt;org.teavm.Scorer&lt;/mainClass&gt;\n              \n              &lt;!-- Whether TeaVM should produce debug information for its built-in debugger --&gt;\n              &lt;debugInformationGenerated&gt;true&lt;/debugInformationGenerated&gt;\n\n              \n              \n              &lt;targetType&gt;WEBASSEMBLY&lt;/targetType&gt;\n              \n              &lt;!-- Optimization level. Valid values are: SIMPLE, ADVANCED, FULL --&gt;\n              &lt;optimizationLevel&gt;FULL&lt;/optimizationLevel&gt;\n              \n              &lt;minHeapSize&gt;1&lt;/minHeapSize&gt;\n              &lt;maxHeapSize&gt;16&lt;/maxHeapSize&gt;\n              \n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is basically a combination of the &quot;Getting Started&quot; .pom file and the .pom file from the benchmark sample located here: <a href=\"https://github.com/konsoletyper/teavm/blob/master/samples/benchmark/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/konsoletyper/teavm/blob/master/samples/benchmark/pom.xml</a></p>\n<p>I added the second execution block to the teavm plugin configuration section. Everything else in the benchmark .pom looks like it isn't related to .wasm file generation.</p>\n<p>When I try to build (using <code>mvn clean package</code>, same as I used for the js-only version of this), I get the following error:</p>\n<pre><code>[INFO] Running TeaVM\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.876 s\n[INFO] Finished at: 2022-02-24T18:43:21-05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.teavm:teavm-maven-plugin:0.6.1:compile (wasm-client) on project teavm-maven-webapp: Unexpected error occurred: Array index out of range: 0 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>Does anyone know what might be causing this? I checked the apache wiki page url in the error log and it doesn't really help. I've never used either TeaVM or Maven before and this has me kind of stumped.</p>\n"},{"tags":["java","arrays","string","char","stack"],"comments":[{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":0,"creation_date":1645743216,"post_id":71259091,"comment_id":125959191,"body_markdown":"If last op is not lower precedence, then perform it before pushing this op.","body":"If last op is not lower precedence, then perform it before pushing this op."}],"answers":[{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645746460,"creation_date":1645746460,"answer_id":71259517,"question_id":71259091,"body_markdown":"This is how I approached this problem. (It is somewhat similar to yours). I&#39;ll post the code first, then explain the process below:\r\n\r\n    import java.util.*;\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        System.out.println(findResult(&quot;2*57-38*3/5-5-2+3*4/2-2-2&quot;));\r\n      }\r\n       public static double findResult (String s){\r\n         String sub = s;\r\n         ArrayList&lt;Double&gt; nums = new ArrayList&lt;Double&gt;();\r\n         ArrayList&lt;Character&gt; operations = new ArrayList&lt;Character&gt;();\r\n         for(int x = 0; x &lt; s.length(); x++){\r\n           if(s.charAt(x) == &#39;+&#39; || s.charAt(x) == &#39;-&#39; || s.charAt(x) == &#39;*&#39; || s.charAt(x) == &#39;/&#39; ){\r\n             operations.add(s.charAt(x));\r\n             int subInd = sub.indexOf(s.charAt(x));\r\n             nums.add(Double.valueOf(sub.substring(0,subInd)));\r\n             sub = sub.substring(subInd + 1);\r\n           }\r\n          }\r\n         nums.add(Double.valueOf(sub));\r\n         String[] operationTypes = {&quot;*/&quot;,&quot;+-&quot;};\r\n         for(int i = 0; i &lt; 2; i++){\r\n             for(int j = 0; j &lt; operations.size(); j++){\r\n               if(operationTypes[i].indexOf(operations.get(j)) != -1){\r\n                 double val;\r\n                 if(operations.get(j) == &#39;*&#39;){\r\n                  val = nums.get(j) * nums.get(j+1);\r\n                 }\r\n                 else if(operations.get(j) == &#39;/&#39;){\r\n                  val = nums.get(j) / nums.get(j+1);\r\n                 }\r\n                 else if(operations.get(j) == &#39;+&#39;){\r\n                  val = nums.get(j) + nums.get(j+1);\r\n                 }\r\n                 else{\r\n                  val = nums.get(j) - nums.get(j+1);\r\n                 }\r\n                 nums.set(j,val);\r\n                 nums.remove(j+1);\r\n                 operations.remove(j);\r\n                 j--;\r\n               }\r\n             }\r\n           }\r\n        return nums.get(0);\r\n      }\r\n    }\r\n\r\nYeah...it&#39;s a lot:\r\n\r\nThe first step in this process was to divide the String into two ```ArrayLists```: ```nums``` and ```operations```. ```nums``` stores the terms and ```operations``` stores the..operations (*, /, +, -).\r\n\r\nNow, we iterate through each &quot;group&quot; of operations, that being multiplication and division, and addition and subtraction.\r\n\r\nStarting with mult/div, if we see either a ```&#39;*&#39;``` or ```&#39;/&#39;``` in our ```operations```, then we compute the product or quotient of the corresponding elements in our ```nums``` and edit ```nums``` accordingly by modifying the element that matches indexes with the operation and deleting the term following it. Make sure you also remove the operation from nums and decrement the counter variable so the loop does not skip any values.\r\n\r\nFinally, we will return the only value left in our ```nums``` which will be our answer.\r\n\r\nI hope this helped you! Please let me know if you need any further details or clarification :)\r\n\r\n\r\n","title":"add/subtract/or multiply as per the given string","body":"<p>This is how I approached this problem. (It is somewhat similar to yours). I'll post the code first, then explain the process below:</p>\n<pre><code>import java.util.*;\nclass Main {\n  public static void main(String[] args) {\n    System.out.println(findResult(&quot;2*57-38*3/5-5-2+3*4/2-2-2&quot;));\n  }\n   public static double findResult (String s){\n     String sub = s;\n     ArrayList&lt;Double&gt; nums = new ArrayList&lt;Double&gt;();\n     ArrayList&lt;Character&gt; operations = new ArrayList&lt;Character&gt;();\n     for(int x = 0; x &lt; s.length(); x++){\n       if(s.charAt(x) == '+' || s.charAt(x) == '-' || s.charAt(x) == '*' || s.charAt(x) == '/' ){\n         operations.add(s.charAt(x));\n         int subInd = sub.indexOf(s.charAt(x));\n         nums.add(Double.valueOf(sub.substring(0,subInd)));\n         sub = sub.substring(subInd + 1);\n       }\n      }\n     nums.add(Double.valueOf(sub));\n     String[] operationTypes = {&quot;*/&quot;,&quot;+-&quot;};\n     for(int i = 0; i &lt; 2; i++){\n         for(int j = 0; j &lt; operations.size(); j++){\n           if(operationTypes[i].indexOf(operations.get(j)) != -1){\n             double val;\n             if(operations.get(j) == '*'){\n              val = nums.get(j) * nums.get(j+1);\n             }\n             else if(operations.get(j) == '/'){\n              val = nums.get(j) / nums.get(j+1);\n             }\n             else if(operations.get(j) == '+'){\n              val = nums.get(j) + nums.get(j+1);\n             }\n             else{\n              val = nums.get(j) - nums.get(j+1);\n             }\n             nums.set(j,val);\n             nums.remove(j+1);\n             operations.remove(j);\n             j--;\n           }\n         }\n       }\n    return nums.get(0);\n  }\n}\n</code></pre>\n<p>Yeah...it's a lot:</p>\n<p>The first step in this process was to divide the String into two <code>ArrayLists</code>: <code>nums</code> and <code>operations</code>. <code>nums</code> stores the terms and <code>operations</code> stores the..operations (*, /, +, -).</p>\n<p>Now, we iterate through each &quot;group&quot; of operations, that being multiplication and division, and addition and subtraction.</p>\n<p>Starting with mult/div, if we see either a <code>'*'</code> or <code>'/'</code> in our <code>operations</code>, then we compute the product or quotient of the corresponding elements in our <code>nums</code> and edit <code>nums</code> accordingly by modifying the element that matches indexes with the operation and deleting the term following it. Make sure you also remove the operation from nums and decrement the counter variable so the loop does not skip any values.</p>\n<p>Finally, we will return the only value left in our <code>nums</code> which will be our answer.</p>\n<p>I hope this helped you! Please let me know if you need any further details or clarification :)</p>\n"}],"owner":{"account_id":24294210,"reputation":17,"user_id":18238686,"display_name":"Simmi Dutta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":71259517,"answer_count":1,"score":-2,"last_activity_date":1645746460,"creation_date":1645742504,"question_id":71259091,"body_markdown":"I was given this problem in an interview, return the output of this String s = &quot;4+8&#215;2&quot; , output = 20, Ex2: String s = &quot;3&#215;7-4&quot;, output = 17.\r\nThis is my approach, but I am not able to get the expected result, please point out the correct way here.\r\n\r\n   \r\n\r\n     public static int findResult (String s) {\r\n            int i = 0;\r\n            Stack&lt;String&gt; stack =  new Stack&lt;&gt;();\r\n            while (i &lt; s.length()) {\r\n                if (s.charAt(i) == &#39;+&#39;) {\r\n                    stack.push(String.valueOf(s.charAt(i)));\r\n                    i++;\r\n                } else if (s.charAt(i) == &#39;*&#39;) {\r\n                    stack.push(String.valueOf(s.charAt(i)));\r\n                    i++;\r\n                } else if (s.charAt(i) == &#39;-&#39;) {\r\n                    stack.push(String.valueOf(s.charAt(i)));\r\n                    i++;\r\n                } else if (Character.isDigit(s.charAt(i))) {\r\n                    int num = s.charAt(i) - &#39;0&#39;;\r\n                    while (i+1 &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(i + 1))) {\r\n                        num = num * 10 + s.charAt(++i) - &#39;0&#39;;\r\n                    }\r\n                    stack.push(String.valueOf(num));\r\n                    i++;\r\n                }\r\n            }\r\n            int current = 0;\r\n            //second while loop\r\n            while (!stack.isEmpty()) {\r\n                int firstNumber = Integer.parseInt(stack.pop());\r\n                if (stack.isEmpty()) return current;\r\n                String sign = stack.pop(&quot;&quot;\r\n                //int firstNum = Integer.parseInt(stack.pop());\r\n                if (sign.equals(&quot;*&quot;)) {\r\n                    current = firstNumber * Integer.parseInt(stack.pop());\r\n                    stack.push(String.valueOf(current));\r\n                }\r\n                else if (sign.equals(&quot;-&quot;)) {\r\n                    current = firstNumber;\r\n                    stack.push(String.valueOf(current));\r\n                } else {\r\n                    current = firstNumber + Integer.parseInt(stack.pop());\r\n                    stack.push(String.valueOf(current));\r\n                }\r\n            }\r\n    \r\n            return Integer.parseInt(stack.pop());\r\n        }","title":"add/subtract/or multiply as per the given string","body":"<p>I was given this problem in an interview, return the output of this String s = &quot;4+8×2&quot; , output = 20, Ex2: String s = &quot;3×7-4&quot;, output = 17.\nThis is my approach, but I am not able to get the expected result, please point out the correct way here.</p>\n<pre><code> public static int findResult (String s) {\n        int i = 0;\n        Stack&lt;String&gt; stack =  new Stack&lt;&gt;();\n        while (i &lt; s.length()) {\n            if (s.charAt(i) == '+') {\n                stack.push(String.valueOf(s.charAt(i)));\n                i++;\n            } else if (s.charAt(i) == '*') {\n                stack.push(String.valueOf(s.charAt(i)));\n                i++;\n            } else if (s.charAt(i) == '-') {\n                stack.push(String.valueOf(s.charAt(i)));\n                i++;\n            } else if (Character.isDigit(s.charAt(i))) {\n                int num = s.charAt(i) - '0';\n                while (i+1 &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(i + 1))) {\n                    num = num * 10 + s.charAt(++i) - '0';\n                }\n                stack.push(String.valueOf(num));\n                i++;\n            }\n        }\n        int current = 0;\n        //second while loop\n        while (!stack.isEmpty()) {\n            int firstNumber = Integer.parseInt(stack.pop());\n            if (stack.isEmpty()) return current;\n            String sign = stack.pop(&quot;&quot;\n            //int firstNum = Integer.parseInt(stack.pop());\n            if (sign.equals(&quot;*&quot;)) {\n                current = firstNumber * Integer.parseInt(stack.pop());\n                stack.push(String.valueOf(current));\n            }\n            else if (sign.equals(&quot;-&quot;)) {\n                current = firstNumber;\n                stack.push(String.valueOf(current));\n            } else {\n                current = firstNumber + Integer.parseInt(stack.pop());\n                stack.push(String.valueOf(current));\n            }\n        }\n\n        return Integer.parseInt(stack.pop());\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":20126029,"reputation":1616,"user_id":14759470,"display_name":"SlothCoding"},"score":0,"creation_date":1634473590,"post_id":69604149,"comment_id":123029003,"body_markdown":"You can make this work with fragment which has ViewPager in it. ViewPager can have fragment container and in onPageChangedListener you can just replace one fragment with another. If its the same fragment but different data just provide it with new data and fill your fragment. Can you work with this?","body":"You can make this work with fragment which has ViewPager in it. ViewPager can have fragment container and in onPageChangedListener you can just replace one fragment with another. If its the same fragment but different data just provide it with new data and fill your fragment. Can you work with this?"},{"owner":{"account_id":15878286,"reputation":11,"user_id":17173715,"display_name":"Nwadinigwe Michael"},"score":0,"creation_date":1634474204,"post_id":69604149,"comment_id":123029138,"body_markdown":"Let me give it a try.","body":"Let me give it a try."},{"owner":{"account_id":15878286,"reputation":11,"user_id":17173715,"display_name":"Nwadinigwe Michael"},"score":0,"creation_date":1634486650,"post_id":69604149,"comment_id":123032215,"body_markdown":"I am having difficulties in implementing this, please more help.","body":"I am having difficulties in implementing this, please more help."},{"owner":{"account_id":20126029,"reputation":1616,"user_id":14759470,"display_name":"SlothCoding"},"score":0,"creation_date":1634978694,"post_id":69604149,"comment_id":123176215,"body_markdown":"Can you tell me which value type are you using for your ListView adapter? Please copy what you have so far here so I can help you","body":"Can you tell me which value type are you using for your ListView adapter? Please copy what you have so far here so I can help you"},{"owner":{"account_id":15878286,"reputation":11,"user_id":17173715,"display_name":"Nwadinigwe Michael"},"score":0,"creation_date":1635887201,"post_id":69604149,"comment_id":123411675,"body_markdown":"Ok, i will do so","body":"Ok, i will do so"}],"owner":{"account_id":15878286,"reputation":11,"user_id":17173715,"display_name":"Nwadinigwe Michael"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645746127,"creation_date":1634472193,"question_id":69604149,"body_markdown":"I have an expandable listview, i want when an item is clicked on one can swipe to the next item on the list without going back to click on the next item.\r\n\r\nI have tried using expandable listview and viewpager but both of the would not want to be in the same layout file, it is not working for me.\r\n\r\nPlease how do i go about this. ","title":"How to swipe from one child group of expandable listview to another child group within he same parent group","body":"<p>I have an expandable listview, i want when an item is clicked on one can swipe to the next item on the list without going back to click on the next item.</p>\n<p>I have tried using expandable listview and viewpager but both of the would not want to be in the same layout file, it is not working for me.</p>\n<p>Please how do i go about this.</p>\n"},{"tags":["java","php"],"comments":[{"owner":{"account_id":1114689,"reputation":11376,"user_id":1104328,"accept_rate":50,"display_name":"Harry"},"score":4,"creation_date":1460525157,"post_id":36589200,"comment_id":60776441,"body_markdown":"Show us what you&#39;ve done so far.","body":"Show us what you&#39;ve done so far."},{"owner":{"account_id":8228051,"reputation":17,"user_id":6189699,"display_name":"Febry Rizky"},"score":0,"creation_date":1460534672,"post_id":36589200,"comment_id":60781674,"body_markdown":"I have had trouble in the API , so I wanted to throw the data json from php to java , but always data is never entered , and I should be able to translate a given java code , and then link full source api java : https://paste.fedoraproject.org/354886/05346571/","body":"I have had trouble in the API , so I wanted to throw the data json from php to java , but always data is never entered , and I should be able to translate a given java code , and then link full source api java : <a href=\"https://paste.fedoraproject.org/354886/05346571/\" rel=\"nofollow noreferrer\">paste.fedoraproject.org/354886/05346571</a>"}],"answers":[{"tags":[],"owner":{"account_id":377423,"reputation":9794,"user_id":729539,"display_name":"Arjan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460528602,"creation_date":1460528602,"answer_id":36590201,"question_id":36589200,"body_markdown":"PHP has a function [sha1()](http://php.net/manual/en/function.sha1.php) that creates a sha1 hash from the input string. No need to convert the java function and rebuild the logic.","title":"code java convert to php","body":"<p>PHP has a function <a href=\"http://php.net/manual/en/function.sha1.php\" rel=\"nofollow\">sha1()</a> that creates a sha1 hash from the input string. No need to convert the java function and rebuild the logic.</p>\n"},{"tags":[],"owner":{"account_id":72299,"reputation":313668,"user_id":208809,"accept_rate":100,"display_name":"Gordon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460528623,"creation_date":1460528623,"answer_id":36590212,"question_id":36589200,"body_markdown":"PHP has a native function to hash sha1 strings:\r\n\r\n- [`sha1` — Calculate the sha1 hash of a string][1]\r\n\r\nExample from Manual:\r\n\r\n    $str = &#39;apple&#39;;\r\n    \r\n    if (sha1($str) === &#39;d0be2dc421be4fcd0172e5afceea3970e2f3d940&#39;) {\r\n        echo &quot;Would you like a green or red apple?&quot;;\r\n    }\r\n\r\nThis will give the same output as your Java code would give for &quot;apple&quot;.\r\n\r\n\r\n  [1]: http://php.net/manual/en/function.sha1.php","title":"code java convert to php","body":"<p>PHP has a native function to hash sha1 strings:</p>\n\n<ul>\n<li><a href=\"http://php.net/manual/en/function.sha1.php\" rel=\"nofollow\"><code>sha1</code> — Calculate the sha1 hash of a string</a></li>\n</ul>\n\n<p>Example from Manual:</p>\n\n<pre><code>$str = 'apple';\n\nif (sha1($str) === 'd0be2dc421be4fcd0172e5afceea3970e2f3d940') {\n    echo \"Would you like a green or red apple?\";\n}\n</code></pre>\n\n<p>This will give the same output as your Java code would give for \"apple\".</p>\n"}],"owner":{"account_id":8228051,"reputation":17,"user_id":6189699,"display_name":"Febry Rizky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1645745537,"creation_date":1460524738,"question_id":36589200,"body_markdown":"I have a java code that want converted to php .\r\n\r\n    public String getSHA1Hash(String input) throws NoSuchAlgorithmException, UnsupportedEncodingException {\r\n            String SHA1Hash = null;\r\n            MessageDigest md = MessageDigest.getInstance(&quot;SHA1&quot;);\r\n            md.reset();\r\n            byte[] buffer = input.getBytes(&quot;UTF-8&quot;);\r\n            md.update(buffer);\r\n            byte[] digest = md.digest();\r\n            String hexStr = &quot;&quot;;\r\n            for (int i = 0; i &lt; digest.length; i++) {\r\n                hexStr += Integer.toString((digest[i] &amp; 0xff) + 0x100, 16).substring(1);\r\n                SHA1Hash = hexStr;\r\n            }\r\n            return SHA1Hash;\r\n\r\nhelp \r\n\r\n","title":"code java convert to php","body":"<p>I have a java code that want converted to php .</p>\n\n<pre><code>public String getSHA1Hash(String input) throws NoSuchAlgorithmException, UnsupportedEncodingException {\n        String SHA1Hash = null;\n        MessageDigest md = MessageDigest.getInstance(\"SHA1\");\n        md.reset();\n        byte[] buffer = input.getBytes(\"UTF-8\");\n        md.update(buffer);\n        byte[] digest = md.digest();\n        String hexStr = \"\";\n        for (int i = 0; i &lt; digest.length; i++) {\n            hexStr += Integer.toString((digest[i] &amp; 0xff) + 0x100, 16).substring(1);\n            SHA1Hash = hexStr;\n        }\n        return SHA1Hash;\n</code></pre>\n\n<p>help </p>\n"},{"tags":["java","algorithm","linked-list","partitioning","partition"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645744900,"post_id":71259308,"comment_id":125959529,"body_markdown":"The node at the end of a list always has a `null` next pointer. In a single list of nodes, only one node will have a `null` next pointer. When those same nodes are rearranged into two lists, two nodes must have `null` next pointers.","body":"The node at the end of a list always has a <code>null</code> next pointer. In a single list of nodes, only one node will have a <code>null</code> next pointer. When those same nodes are rearranged into two lists, two nodes must have <code>null</code> next pointers."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1645745463,"post_id":71259308,"comment_id":125959664,"body_markdown":"What do you think `after.next` will be equal to, if you don&#39;t set it to null? Did you try to check that, for example by using a debugger? In general, what is your understanding of how linked lists work - specifically, when the `.next` of a node is null, what does that *mean*?","body":"What do you think <code>after.next</code> will be equal to, if you don&#39;t set it to null? Did you try to check that, for example by using a debugger? In general, what is your understanding of how linked lists work - specifically, when the <code>.next</code> of a node is null, what does that <i>mean</i>?"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645745299,"creation_date":1645745299,"answer_id":71259402,"question_id":71259308,"body_markdown":"&gt; why do i need to set after.next to null after creating my two separate linked lists?\r\n\r\nThe last node of a linked list doesn&#39;t have a next node.  In a linked list representation such as yours, that takes the form of the last node&#39;s `next` reference being null.\r\n\r\nYou are rearranging the existing nodes of the list by changing their `next` references.  At the end of that process, `after` is a reference to the last node, therefore its `next` reference needs to be null.  If it was also the last node in the original order then all is well -- its `next` reference is already null.  If `after` *was not* the last node in the original order, however, then `after.next` will refer to one of the other nodes until you set it null.  And whatever other node that is, it comes before `after` in the new order, forming a loop.\r\n\r\n----\r\nNote also that\r\n\r\n&gt;         before.next=after_head;\r\n\r\nappears to be wrong.  `after_head` is the dummy head node of the second partition, so you do not want to include it in the new list.  I think you want\r\n\r\n        before.next = after_head.next;\r\n","title":"Why am i entering into an infinite loop when partitioning a linked list?","body":"<blockquote>\n<p>why do i need to set after.next to null after creating my two separate linked lists?</p>\n</blockquote>\n<p>The last node of a linked list doesn't have a next node.  In a linked list representation such as yours, that takes the form of the last node's <code>next</code> reference being null.</p>\n<p>You are rearranging the existing nodes of the list by changing their <code>next</code> references.  At the end of that process, <code>after</code> is a reference to the last node, therefore its <code>next</code> reference needs to be null.  If it was also the last node in the original order then all is well -- its <code>next</code> reference is already null.  If <code>after</code> <em>was not</em> the last node in the original order, however, then <code>after.next</code> will refer to one of the other nodes until you set it null.  And whatever other node that is, it comes before <code>after</code> in the new order, forming a loop.</p>\n<hr />\n<p>Note also that</p>\n<blockquote>\n<pre><code>    before.next=after_head;\n</code></pre>\n</blockquote>\n<p>appears to be wrong.  <code>after_head</code> is the dummy head node of the second partition, so you do not want to include it in the new list.  I think you want</p>\n<pre><code>    before.next = after_head.next;\n</code></pre>\n"}],"owner":{"account_id":18587794,"reputation":7,"user_id":13545697,"display_name":"lokiorio64390"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645745299,"creation_date":1645744353,"question_id":71259308,"body_markdown":"This is a common problem of partitioning a linked list into two parts. The list with nodes smaller than x will come first and the list of nodes larger than x will come after.\r\n\r\nMy question is - why do i need to set after.next to null after creating my two separate linked lists? Without setting it to null, I enter an infinite loop when trying to print this list.\r\nMy debugger shows that before_head.next has a never-ending list of nodes attached to it...\r\n\r\n```\r\npublic Node partition(Node head, int x){\r\n  Node before_head=new Node(0);\r\n  Node before=before_head;\r\n  Node after_head=new Node(0);\r\n  Node after=after_head;\r\n\r\n  while(head != null){\r\n    if(head.val &lt; x){\r\n      before.next=head;\r\n      before=before.next;\r\n    else{\r\n      after.next=head;\r\n      after=after.next;\r\n     }\r\n    head=head.next;\r\n   }\r\n\r\n   after.next=null;\r\n   before.next=after_head;\r\n\r\n   return before_head.next;\r\n}\r\n```\r\n","title":"Why am i entering into an infinite loop when partitioning a linked list?","body":"<p>This is a common problem of partitioning a linked list into two parts. The list with nodes smaller than x will come first and the list of nodes larger than x will come after.</p>\n<p>My question is - why do i need to set after.next to null after creating my two separate linked lists? Without setting it to null, I enter an infinite loop when trying to print this list.\nMy debugger shows that before_head.next has a never-ending list of nodes attached to it...</p>\n<pre><code>public Node partition(Node head, int x){\n  Node before_head=new Node(0);\n  Node before=before_head;\n  Node after_head=new Node(0);\n  Node after=after_head;\n\n  while(head != null){\n    if(head.val &lt; x){\n      before.next=head;\n      before=before.next;\n    else{\n      after.next=head;\n      after=after.next;\n     }\n    head=head.next;\n   }\n\n   after.next=null;\n   before.next=after_head;\n\n   return before_head.next;\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":21468233,"reputation":15,"user_id":15817766,"display_name":"Bonito"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645729298,"creation_date":1645729298,"answer_id":71256982,"question_id":71256695,"body_markdown":"I don&#39;t know Java, but from a algorithmic point of view it could look like this:\r\n\r\n```\r\nmax_list = empty_list\r\nfor i to len(A)\r\n    for j to len(A) - i \r\n        subset [j, j+i]\r\n        find max of subset\r\n        append max to max_list\r\n\r\nresult = 1\r\nfor i to len(A)\r\n    result = result * A[i]\r\n```\r\n\r\n","title":"product of Maximum of all subarray","body":"<p>I don't know Java, but from a algorithmic point of view it could look like this:</p>\n<pre><code>max_list = empty_list\nfor i to len(A)\n    for j to len(A) - i \n        subset [j, j+i]\n        find max of subset\n        append max to max_list\n\nresult = 1\nfor i to len(A)\n    result = result * A[i]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19815042,"reputation":324,"user_id":14512951,"display_name":"Goldenprime"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645738786,"creation_date":1645738786,"answer_id":71258581,"question_id":71256695,"body_markdown":"From what i know, this should do what you want:\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            int[][] arrays = {\r\n                {4},\r\n                {7},\r\n                {4, 7}\r\n            };\r\n\r\n            int result = Arrays.stream(arrays).mapToInt((x) -&gt; Arrays.stream(x).max().getAsInt()).reduce(1, Math::multiplyExact);\r\n\r\n            System.out.println(result);\r\n        }\r\n    }\r\nFirst, the largest value from each of the source arrays is selected. \r\n\r\n    Arrays.stream(arrays).mapToInt(x -&gt; {});\r\n\r\nTo achieve this, we first iterate over each of these arrays in the lambda function of Arrays.stream and get the largest value in the array x by inserting\r\n\r\n    Arrays.stream(x).max().getAsInt()\r\n\r\nIn the last step, the largest numbers from the respective arrays are multiplied together, which is done by the reduce method, which always makes one out of two values until only one is left. The operation used to reduce is `multiplyExact`, the reason for this is that a method `Integer::multiply` unfortunately does not exist (or at least I don&#39;t know about it). The special thing about the method `multiplyExact` is that it throws an error as soon as an integer overflow occurs.","title":"product of Maximum of all subarray","body":"<p>From what i know, this should do what you want:</p>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        int[][] arrays = {\n            {4},\n            {7},\n            {4, 7}\n        };\n\n        int result = Arrays.stream(arrays).mapToInt((x) -&gt; Arrays.stream(x).max().getAsInt()).reduce(1, Math::multiplyExact);\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>First, the largest value from each of the source arrays is selected.</p>\n<pre><code>Arrays.stream(arrays).mapToInt(x -&gt; {});\n</code></pre>\n<p>To achieve this, we first iterate over each of these arrays in the lambda function of Arrays.stream and get the largest value in the array x by inserting</p>\n<pre><code>Arrays.stream(x).max().getAsInt()\n</code></pre>\n<p>In the last step, the largest numbers from the respective arrays are multiplied together, which is done by the reduce method, which always makes one out of two values until only one is left. The operation used to reduce is <code>multiplyExact</code>, the reason for this is that a method <code>Integer::multiply</code> unfortunately does not exist (or at least I don't know about it). The special thing about the method <code>multiplyExact</code> is that it throws an error as soon as an integer overflow occurs.</p>\n"}],"owner":{"account_id":10371181,"reputation":19,"user_id":7648831,"display_name":"Azim Uddin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":71258581,"answer_count":2,"score":0,"last_activity_date":1645745092,"creation_date":1645727712,"question_id":71256695,"body_markdown":"I have an Array with some distinct integer data in it and I need to get the max element from all the subarray possible and multiply it.\r\nHere is the example\r\ninput :\r\n```{4,7} ```\r\nRequired Output:\r\n196\r\n\r\nExplanation:\r\nsubarray possible\r\n```\r\n{4}=max{4}=4\r\n{7}=max{7}=7\r\n{4,7}=max{4,7}=7\r\nanswer=4*7*7=196\r\n```\r\ncan someone help me with this? Thanks in advance.\r\n","title":"product of Maximum of all subarray","body":"<p>I have an Array with some distinct integer data in it and I need to get the max element from all the subarray possible and multiply it.\nHere is the example\ninput :\n<code>{4,7} </code>\nRequired Output:\n196</p>\n<p>Explanation:\nsubarray possible</p>\n<pre><code>{4}=max{4}=4\n{7}=max{7}=7\n{4,7}=max{4,7}=7\nanswer=4*7*7=196\n</code></pre>\n<p>can someone help me with this? Thanks in advance.</p>\n"},{"tags":["java","parallel-processing","cucumber","testng","courgette"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1645699419,"post_id":71249695,"comment_id":125943653,"body_markdown":"Please don&#39;t put code as image but prefer copy/paste. Also, can you show your `pom.xml` ?","body":"Please don&#39;t put code as image but prefer copy/paste. Also, can you show your <code>pom.xml</code> ?"},{"owner":{"account_id":24363370,"reputation":1,"user_id":18297425,"display_name":"Patryk Baran"},"score":0,"creation_date":1645702799,"post_id":71249695,"comment_id":125944802,"body_markdown":"I can&#39;t add the whole, is it enough?","body":"I can&#39;t add the whole, is it enough?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1645707048,"post_id":71249695,"comment_id":125946343,"body_markdown":"Your logs report some test failures. First of all you need to investigate why do the logic fail. We cannot help you unless we have at least full stacktrace and the code where that exception has been thrown.","body":"Your logs report some test failures. First of all you need to investigate why do the logic fail. We cannot help you unless we have at least full stacktrace and the code where that exception has been thrown."}],"answers":[{"tags":[],"owner":{"account_id":1245793,"reputation":3093,"user_id":1207289,"accept_rate":84,"display_name":"user1207289"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645744702,"creation_date":1645744702,"answer_id":71259346,"question_id":71249695,"body_markdown":"It seems some issue with your maven goal `test` . You can utilize this below config that I am using to run `courgette-jvm` and `testNG` tests . It uses `failsafe` plugin  and a maven `profile` named `acceptanceTests` . All config is in this profile . The command I use to run this is `mvn clean verify -P acceptanceTests -X` in intelliJ\r\n\r\n      &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;6.14.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;6.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;5.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n      &lt;!-- httpclient dpendendecy is to resolve courgette-jvm error -  NoClassDefFoundError: org/apache/http/conn/ssl/TrustAllStrategy --&gt;        \r\n     &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n     &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n          &lt;id&gt;acceptanceTests&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n          &lt;/activation&gt;\r\n          &lt;build&gt;\r\n    \r\n            &lt;plugins&gt;\r\n                 &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt; \r\n                        &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt; \r\n                        &lt;version&gt;1.0.0&lt;/version&gt; \r\n                        &lt;executions&gt; \r\n                            &lt;execution&gt; \r\n                                &lt;phase&gt;generate-resources&lt;/phase&gt; \r\n                                &lt;goals&gt; \r\n                                    &lt;goal&gt;write-project-properties&lt;/goal&gt; \r\n                                &lt;/goals&gt; \r\n                                &lt;configuration&gt; \r\n                                    &lt;outputFile&gt;${project.build.outputDirectory}/my.properties&lt;/outputFile&gt; \r\n                                &lt;/configuration&gt; \r\n                            &lt;/execution&gt; \r\n                        &lt;/executions&gt; \r\n                 &lt;/plugin&gt;\r\n    \r\n     &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                     &lt;execution&gt;\r\n                      &lt;id&gt;integration-test&lt;/id&gt; \r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                      \r\n                    &lt;/goals&gt;\r\n                         &lt;configuration&gt;\r\n                            &lt;parallel&gt;methods&lt;/parallel&gt;\r\n                             &lt;threadCount&gt;4&lt;/threadCount&gt;\r\n                            &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n                               &lt;systemPropertyVariables&gt;\r\n                                    &lt;hub.port&gt;${hub.p}&lt;/hub.port&gt;\r\n                                     \r\n                              &lt;/systemPropertyVariables&gt;\r\n                          &lt;/configuration&gt;\r\n                  &lt;/execution&gt;\r\n             \r\n                &lt;/executions&gt;\r\n       \r\n              &lt;/plugin&gt;\r\n               &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;8&lt;/source&gt;\r\n              &lt;target&gt;8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n                 \r\n          &lt;/plugin&gt;\r\n               \r\n                  &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;failsafe-report-only&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n      \r\n      &lt;/build&gt;\r\n    \r\n    &lt;/profile&gt;\r\n     &lt;/profiles&gt;\r\n\r\nRunner class is\r\n\r\n    @Test\r\n    @CourgetteOptions(\r\n            threads = 10,\r\n            runLevel = CourgetteRunLevel.SCENARIO,\r\n            rerunFailedScenarios = true,\r\n            rerunAttempts = 1,\r\n            showTestOutput = true,\r\n            reportTitle = &quot;Courgette-JVM Example&quot;,\r\n            reportTargetDir = &quot;build&quot;,\r\n            environmentInfo = &quot;browser=chrome; git_branch=master&quot;,\r\n            cucumberOptions = @CucumberOptions(\r\n                    features = &quot;src/test/resources/com/test/&quot;,\r\n                    \r\n                    glue = &quot;com.test.stepdefs&quot;,                  \r\n                    tags = {&quot;@firefox or @chrome&quot;},                                     \r\n                    publish = true,\r\n                    plugin = {\r\n                            &quot;pretty&quot;,\r\n                            &quot;json:target/cucumber-report/cucumber.json&quot;,\r\n                            &quot;html:target/cucumber-report/cucumber.html&quot;}\r\n            ))\r\n    class AcceptanceIT extends TestNGCourgette {\r\n    }","title":"courgette-jvm configuration no information on the source of the error","body":"<p>It seems some issue with your maven goal <code>test</code> . You can utilize this below config that I am using to run <code>courgette-jvm</code> and <code>testNG</code> tests . It uses <code>failsafe</code> plugin  and a maven <code>profile</code> named <code>acceptanceTests</code> . All config is in this profile . The command I use to run this is <code>mvn clean verify -P acceptanceTests -X</code> in intelliJ</p>\n<pre><code>  &lt;/dependency&gt;\n          &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.14.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n          &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n        &lt;version&gt;6.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n          &lt;dependency&gt;\n        &lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\n        &lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\n        &lt;version&gt;5.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n      &lt;dependency&gt;\n  &lt;!-- httpclient dpendendecy is to resolve courgette-jvm error -  NoClassDefFoundError: org/apache/http/conn/ssl/TrustAllStrategy --&gt;        \n &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5.10&lt;/version&gt;\n&lt;/dependency&gt;\n\n &lt;profiles&gt;\n&lt;profile&gt;\n      &lt;id&gt;acceptanceTests&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n\n        &lt;plugins&gt;\n             &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt; \n                    &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt; \n                    &lt;version&gt;1.0.0&lt;/version&gt; \n                    &lt;executions&gt; \n                        &lt;execution&gt; \n                            &lt;phase&gt;generate-resources&lt;/phase&gt; \n                            &lt;goals&gt; \n                                &lt;goal&gt;write-project-properties&lt;/goal&gt; \n                            &lt;/goals&gt; \n                            &lt;configuration&gt; \n                                &lt;outputFile&gt;${project.build.outputDirectory}/my.properties&lt;/outputFile&gt; \n                            &lt;/configuration&gt; \n                        &lt;/execution&gt; \n                    &lt;/executions&gt; \n             &lt;/plugin&gt;\n\n &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n            &lt;executions&gt;\n                 &lt;execution&gt;\n                  &lt;id&gt;integration-test&lt;/id&gt; \n                &lt;goals&gt;\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\n                  \n                &lt;/goals&gt;\n                     &lt;configuration&gt;\n                        &lt;parallel&gt;methods&lt;/parallel&gt;\n                         &lt;threadCount&gt;4&lt;/threadCount&gt;\n                        &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n                           &lt;systemPropertyVariables&gt;\n                                &lt;hub.port&gt;${hub.p}&lt;/hub.port&gt;\n                                 \n                          &lt;/systemPropertyVariables&gt;\n                      &lt;/configuration&gt;\n              &lt;/execution&gt;\n         \n            &lt;/executions&gt;\n   \n          &lt;/plugin&gt;\n           &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;8&lt;/source&gt;\n          &lt;target&gt;8&lt;/target&gt;\n        &lt;/configuration&gt;\n             \n      &lt;/plugin&gt;\n           \n              &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;failsafe-report-only&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n  &lt;/plugins&gt;\n  \n  &lt;/build&gt;\n\n&lt;/profile&gt;\n &lt;/profiles&gt;\n</code></pre>\n<p>Runner class is</p>\n<pre><code>@Test\n@CourgetteOptions(\n        threads = 10,\n        runLevel = CourgetteRunLevel.SCENARIO,\n        rerunFailedScenarios = true,\n        rerunAttempts = 1,\n        showTestOutput = true,\n        reportTitle = &quot;Courgette-JVM Example&quot;,\n        reportTargetDir = &quot;build&quot;,\n        environmentInfo = &quot;browser=chrome; git_branch=master&quot;,\n        cucumberOptions = @CucumberOptions(\n                features = &quot;src/test/resources/com/test/&quot;,\n                \n                glue = &quot;com.test.stepdefs&quot;,                  \n                tags = {&quot;@firefox or @chrome&quot;},                                     \n                publish = true,\n                plugin = {\n                        &quot;pretty&quot;,\n                        &quot;json:target/cucumber-report/cucumber.json&quot;,\n                        &quot;html:target/cucumber-report/cucumber.html&quot;}\n        ))\nclass AcceptanceIT extends TestNGCourgette {\n}\n</code></pre>\n"}],"owner":{"account_id":24363370,"reputation":1,"user_id":18297425,"display_name":"Patryk Baran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1645744702,"creation_date":1645694496,"question_id":71249695,"body_markdown":"[test result][1]\r\n\r\n\r\n[runner class][2]\r\n\r\n    &lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--CUCUMBER DEPENDENCIES --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;7.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${maven.surfire.plugin.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${maven.surfire.plugin.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7p9OD.png\r\n  [2]: https://i.stack.imgur.com/kuIvN.png\r\n\r\n\r\nI have no information about the cause of the error. I added courgette dependency to pom.xml. What could be causing the problem?\r\n","title":"courgette-jvm configuration no information on the source of the error","body":"<p><a href=\"https://i.stack.imgur.com/7p9OD.png\" rel=\"nofollow noreferrer\">test result</a></p>\n<p><a href=\"https://i.stack.imgur.com/kuIvN.png\" rel=\"nofollow noreferrer\">runner class</a></p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\n        &lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\n        &lt;version&gt;6.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--CUCUMBER DEPENDENCIES --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.surfire.plugin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.surfire.plugin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have no information about the cause of the error. I added courgette dependency to pom.xml. What could be causing the problem?</p>\n"},{"tags":["java","bson","bsondocument"],"owner":{"account_id":10110007,"reputation":963,"user_id":7471307,"accept_rate":57,"display_name":"Artanis Zeratul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645744479,"creation_date":1645744479,"question_id":71259319,"body_markdown":"Given I have this sample BSON Document which I retrieved from Mongo DB.\r\n\r\n```\r\n{\r\n    &quot;field1&quot;: &quot;text1&quot;,\r\n    &quot;field2&quot;: {\r\n        &quot;field2Sub1&quot;: &quot;text2&quot;\r\n    },\r\n    &quot;field3&quot; : [\r\n        {\r\n            &quot;field3Sub1&quot;: &quot;text3&quot;,\r\n            &quot;field3Sub2&quot;: &quot;text4&quot;\r\n        },\r\n        {\r\n            &quot;field3Sub1&quot;: &quot;text5&quot;,\r\n            &quot;field3Sub2&quot;: &quot;text6&quot;\r\n        }\r\n    ],\r\n    &quot;field4&quot;: {\r\n        &quot;field4Sub1&quot;: &quot;text7&quot;,\r\n        &quot;field4Sub2&quot; : [\r\n             {\r\n                 &quot;field4Sub2Sub1&quot;: &quot;text8&quot;,\r\n                 &quot;field4Sub2Sub2&quot;: &quot;text9&quot;\r\n            },\r\n            {\r\n                 &quot;field4Sub2Sub1&quot;: &quot;text10&quot;,\r\n                 &quot;field4Sub2Sub2&quot;: &quot;text11&quot;\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nIn Mongo DB if I want to search for a document that has a field of ``field4Sub2Sub2`` that contains the value ``&quot;text11&quot;``.\r\n\r\nI can just do this kind of search query:\r\n```\r\n{&quot;field4.field4Sub2.field4Sub2Sub2&quot;: &quot;text11&quot;}\r\n``` \r\n\r\nAlternatively, I can also search a document that has a field of ``field3Sub1`` that contains the value ``text3`` with this kind of search:\r\n```\r\n{&quot;field3.field3Sub1&quot;: &quot;text11&quot;}\r\n```\r\n\r\nGiven the object above, I converted this to a Java BSON Document.\r\nAnd, I would like to ask if there is a way in Java or a Java Library that can search through the internals of Document and give me the value of a particular field.\r\n\r\nUsing a dot annotated search string e.g.\r\n```&quot;field3[0].field3Sub1&quot;```\r\nor\r\n```&quot;field4.field4Sub1&quot;```\r\nor\r\n```&quot;field4.field4Sub2[1].field4Sub2Sub2&quot;```\r\n\r\nwhich will be returning the following values correspondingly:\r\n```\r\ntext3\r\ntext7\r\ntext11\r\n```\r\n\r\n\r\nThanks","title":"How to search for a field with a value deep in BSON Document in Java","body":"<p>Given I have this sample BSON Document which I retrieved from Mongo DB.</p>\n<pre><code>{\n    &quot;field1&quot;: &quot;text1&quot;,\n    &quot;field2&quot;: {\n        &quot;field2Sub1&quot;: &quot;text2&quot;\n    },\n    &quot;field3&quot; : [\n        {\n            &quot;field3Sub1&quot;: &quot;text3&quot;,\n            &quot;field3Sub2&quot;: &quot;text4&quot;\n        },\n        {\n            &quot;field3Sub1&quot;: &quot;text5&quot;,\n            &quot;field3Sub2&quot;: &quot;text6&quot;\n        }\n    ],\n    &quot;field4&quot;: {\n        &quot;field4Sub1&quot;: &quot;text7&quot;,\n        &quot;field4Sub2&quot; : [\n             {\n                 &quot;field4Sub2Sub1&quot;: &quot;text8&quot;,\n                 &quot;field4Sub2Sub2&quot;: &quot;text9&quot;\n            },\n            {\n                 &quot;field4Sub2Sub1&quot;: &quot;text10&quot;,\n                 &quot;field4Sub2Sub2&quot;: &quot;text11&quot;\n            }\n        ]\n    }\n}\n</code></pre>\n<p>In Mongo DB if I want to search for a document that has a field of <code>field4Sub2Sub2</code> that contains the value <code>&quot;text11&quot;</code>.</p>\n<p>I can just do this kind of search query:</p>\n<pre><code>{&quot;field4.field4Sub2.field4Sub2Sub2&quot;: &quot;text11&quot;}\n</code></pre>\n<p>Alternatively, I can also search a document that has a field of <code>field3Sub1</code> that contains the value <code>text3</code> with this kind of search:</p>\n<pre><code>{&quot;field3.field3Sub1&quot;: &quot;text11&quot;}\n</code></pre>\n<p>Given the object above, I converted this to a Java BSON Document.\nAnd, I would like to ask if there is a way in Java or a Java Library that can search through the internals of Document and give me the value of a particular field.</p>\n<p>Using a dot annotated search string e.g.\n<code>&quot;field3[0].field3Sub1&quot;</code>\nor\n<code>&quot;field4.field4Sub1&quot;</code>\nor\n<code>&quot;field4.field4Sub2[1].field4Sub2Sub2&quot;</code></p>\n<p>which will be returning the following values correspondingly:</p>\n<pre><code>text3\ntext7\ntext11\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1645736931,"post_id":71258221,"comment_id":125957477,"body_markdown":"You could use a series of `if` statements, something like `if (objects[i] instanceof Sqaure) {...} else if ...`, but this is cumbersome and difficult to maintain, would be better if `GeometricObject` had a `getName` or `getDescription` style method, so you could just do `System.out.println(objects[i].getDescription() + &quot; area is &quot; + objects[i].getArea());`","body":"You could use a series of <code>if</code> statements, something like <code>if (objects[i] instanceof Sqaure) {...} else if ...</code>, but this is cumbersome and difficult to maintain, would be better if <code>GeometricObject</code> had a <code>getName</code> or <code>getDescription</code> style method, so you could just do <code>System.out.println(objects[i].getDescription() + &quot; area is &quot; + objects[i].getArea());</code>"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1645737534,"post_id":71258221,"comment_id":125957656,"body_markdown":"You could also make a [toString()](https://www.geeksforgeeks.org/object-tostring-method-in-java/) for each of your shapes that simply returns its name.","body":"You could also make a <a href=\"https://www.geeksforgeeks.org/object-tostring-method-in-java/\" rel=\"nofollow noreferrer\">toString()</a> for each of your shapes that simply returns its name."}],"answers":[{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645738649,"creation_date":1645738649,"answer_id":71258563,"question_id":71258221,"body_markdown":"You can use the ```getClass()``` method. This method will return the class of the object in the form: ```class ___```.\r\n\r\nTherefore, we can use a substring to isolate just the class name. Remember, we have to convert the class to a String using ```String.valueOf()```:\r\n\r\n    String className = (String.valueOf(objects[i].getClass()).substring(String.valueOf(objects[i].getClass()).indexOf(&quot; &quot;) + 1));\r\n\r\nThe purpose of: \r\n\r\n```String.valueOf(objects[i].getClass()).indexOf(&quot; &quot;)```\r\n\r\nis to retrieve the index of the space. If we add 1 from here, we get the index of the first letter of the class. Now, we can just take the subtring of ```String.valueOf(objects[i].getClass()``` to get our substring.\r\n\r\nNow, combining this with your current code:\r\n\r\n\r\n    String className = (String.valueOf(objects[i].getClass()).substring(String.valueOf(objects[i].getClass()).indexOf(&quot; &quot;) + 1));\r\n\r\n    System.out.println(&quot;Area of &quot; + className + &quot; is &quot; + objects[i].getArea());\r\n\r\nI hope this helped! Please let me know if you need any further clarification or details :)","title":"How to display a different message for different shapes in an array","body":"<p>You can use the <code>getClass()</code> method. This method will return the class of the object in the form: <code>class ___</code>.</p>\n<p>Therefore, we can use a substring to isolate just the class name. Remember, we have to convert the class to a String using <code>String.valueOf()</code>:</p>\n<pre><code>String className = (String.valueOf(objects[i].getClass()).substring(String.valueOf(objects[i].getClass()).indexOf(&quot; &quot;) + 1));\n</code></pre>\n<p>The purpose of:</p>\n<p><code>String.valueOf(objects[i].getClass()).indexOf(&quot; &quot;)</code></p>\n<p>is to retrieve the index of the space. If we add 1 from here, we get the index of the first letter of the class. Now, we can just take the subtring of <code>String.valueOf(objects[i].getClass()</code> to get our substring.</p>\n<p>Now, combining this with your current code:</p>\n<pre><code>String className = (String.valueOf(objects[i].getClass()).substring(String.valueOf(objects[i].getClass()).indexOf(&quot; &quot;) + 1));\n\nSystem.out.println(&quot;Area of &quot; + className + &quot; is &quot; + objects[i].getArea());\n</code></pre>\n<p>I hope this helped! Please let me know if you need any further clarification or details :)</p>\n"}],"owner":{"account_id":24369584,"reputation":9,"user_id":18302758,"display_name":"pop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1645744007,"creation_date":1645736595,"question_id":71258221,"body_markdown":"This is the code I have been working on. \r\n\r\n\r\n\r\n\r\n    // array of 6 geometric objects: 2 squares, 2 rectangles, 2 circles\r\n    \t\t\r\n    GeometricObject[] objects = { new Square(2), new Square(5), new Rectangle(3, 4), new Rectangle(5, 6),\r\n    \t\t\t\tnew Circle(4), new Circle(5)};\r\n    \r\n    \t\t//Display the area by iterating the array&#39;s objects.\r\n    \t\tfor (int i = 0; i &lt; objects.length; i++) {\r\n    \r\n    \t\t\tSystem.out.println(&quot;Area is &quot; + objects[i].getArea());\r\n    \t\t\t\r\n    \r\n    \t\t\t//Checking whether or not the object is an instance of interface Colorable.\r\n    \r\n    \t\t\tif (objects[i] instanceof Colorable) {\r\n    \r\n    \t\t\t\t//Invoking the howToColor() method.\r\n    \r\n    \t\t\t\t((Colorable) objects[i]).howToColor();\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n\r\n\r\nThe current output is this: \r\n\r\n    Area is 4.0\r\n    Color all four sides.\r\n    Area is 25.0\r\n    Color all four sides.\r\n    Area is 12.0\r\n    Area is 30.0\r\n    Area is 50.26548245743669\r\n    Area is 78.53981633974483\r\n    4.0\r\n    9.0\r\n    25.0\r\n    36.0\r\n    81.0\r\n\r\nI want to organize it so it tells you which shape&#39;s area its displaying, for example: \r\n\r\n    The squares area is:\r\n    Rectangle area is:\r\n    The Circle area is: \r\n\r\nThe only time Color all four sides should show up is after the Square&#39;s area is displayed. Can someone help me? Thanks!\r\n","title":"How to display a different message for different shapes in an array","body":"<p>This is the code I have been working on.</p>\n<pre><code>// array of 6 geometric objects: 2 squares, 2 rectangles, 2 circles\n        \nGeometricObject[] objects = { new Square(2), new Square(5), new Rectangle(3, 4), new Rectangle(5, 6),\n                new Circle(4), new Circle(5)};\n\n        //Display the area by iterating the array's objects.\n        for (int i = 0; i &lt; objects.length; i++) {\n\n            System.out.println(&quot;Area is &quot; + objects[i].getArea());\n            \n\n            //Checking whether or not the object is an instance of interface Colorable.\n\n            if (objects[i] instanceof Colorable) {\n\n                //Invoking the howToColor() method.\n\n                ((Colorable) objects[i]).howToColor();\n\n            }\n\n        }\n</code></pre>\n<p>The current output is this:</p>\n<pre><code>Area is 4.0\nColor all four sides.\nArea is 25.0\nColor all four sides.\nArea is 12.0\nArea is 30.0\nArea is 50.26548245743669\nArea is 78.53981633974483\n4.0\n9.0\n25.0\n36.0\n81.0\n</code></pre>\n<p>I want to organize it so it tells you which shape's area its displaying, for example:</p>\n<pre><code>The squares area is:\nRectangle area is:\nThe Circle area is: \n</code></pre>\n<p>The only time Color all four sides should show up is after the Square's area is displayed. Can someone help me? Thanks!</p>\n"},{"tags":["java","truststore","trustmanager"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1478098136,"post_id":40382682,"comment_id":68017575,"body_markdown":"It is technically possible, some Java EE servers offer this feature. Now they maybe override a lot of the native Java processes to achieve this...","body":"It is technically possible, some Java EE servers offer this feature. Now they maybe override a lot of the native Java processes to achieve this..."},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1478098238,"post_id":40382682,"comment_id":68017644,"body_markdown":"Your use case could also be a security flaw, blindly accepting new certificates isn&#39;t a good idea.","body":"Your use case could also be a security flaw, blindly accepting new certificates isn&#39;t a good idea."},{"owner":{"account_id":9486000,"reputation":91,"user_id":7052371,"display_name":"C&#233;dric O."},"score":0,"creation_date":1478098473,"post_id":40382682,"comment_id":68017835,"body_markdown":"@Aaron is right, this would be a security issue, as you are accepting certificate without knowing if it&#39;s a good one or not. This is the same as not verifying the certificates at all","body":"@Aaron is right, this would be a security issue, as you are accepting certificate without knowing if it&#39;s a good one or not. This is the same as not verifying the certificates at all"},{"owner":{"account_id":1941838,"reputation":435,"user_id":1802607,"accept_rate":69,"display_name":"Fabio"},"score":0,"creation_date":1478098496,"post_id":40382682,"comment_id":68017852,"body_markdown":"I could use Tomcat `trustManagerClassName`, but that would solve only half of the problem, unfortunately. We wouldn&#39;t accept certificates blindly, we would delegate administrative users to dynamically import them from the application GUI.","body":"I could use Tomcat <code>trustManagerClassName</code>, but that would solve only half of the problem, unfortunately. We wouldn&#39;t accept certificates blindly, we would delegate administrative users to dynamically import them from the application GUI."},{"owner":{"account_id":2144499,"reputation":439,"user_id":4113567,"accept_rate":86,"display_name":"marshal craft"},"score":0,"creation_date":1478098703,"post_id":40382682,"comment_id":68017994,"body_markdown":"Im not familar with oracle java&#39;s interactions with https servers, however I would like to know how the new certificates are getting there? Also I found this to import certificate on oracle site `keytool -import -noprompt -trustcacerts -alias ${cert.alias} -file \n${cert.file} -keystore ${keystore.file} -storepass ${keystore.pass}`","body":"Im not familar with oracle java&#39;s interactions with https servers, however I would like to know how the new certificates are getting there? Also I found this to import certificate on oracle site <code>keytool -import -noprompt -trustcacerts -alias ${cert.alias} -file  ${cert.file} -keystore ${keystore.file} -storepass ${keystore.pass}</code>"},{"owner":{"account_id":9486000,"reputation":91,"user_id":7052371,"display_name":"C&#233;dric O."},"score":0,"creation_date":1478098748,"post_id":40382682,"comment_id":68018028,"body_markdown":"You can create your own trust manager to verify another truststore which would be dynamic, so you can add the certificate in this truststore when the admin checks it, and then use the trust manager to verify the next webservice calls","body":"You can create your own trust manager to verify another truststore which would be dynamic, so you can add the certificate in this truststore when the admin checks it, and then use the trust manager to verify the next webservice calls"},{"owner":{"account_id":1941838,"reputation":435,"user_id":1802607,"accept_rate":69,"display_name":"Fabio"},"score":0,"creation_date":1478098819,"post_id":40382682,"comment_id":68018084,"body_markdown":"@marshalcraft , with progamatically I mean with java, I&#39;m well aware of the keytool feature.","body":"@marshalcraft , with progamatically I mean with java, I&#39;m well aware of the keytool feature."},{"owner":{"account_id":1941838,"reputation":435,"user_id":1802607,"accept_rate":69,"display_name":"Fabio"},"score":0,"creation_date":1478098905,"post_id":40382682,"comment_id":68018142,"body_markdown":"@C&#233;dricO. Even if I create my own trustmanager (and I did), how can I force Java to use it instead of his own?","body":"@C&#233;dricO. Even if I create my own trustmanager (and I did), how can I force Java to use it instead of his own?"},{"owner":{"account_id":9486000,"reputation":91,"user_id":7052371,"display_name":"C&#233;dric O."},"score":0,"creation_date":1478098997,"post_id":40382682,"comment_id":68018206,"body_markdown":"@Fabio, have a look here https://www.mkyong.com/webservices/jax-ws/how-to-bypass-certificate-checking-in-a-java-web-service-client/\nthis is not exactly the same subject, but the functionality used will be the same for you","body":"@Fabio, have a look here <a href=\"https://www.mkyong.com/webservices/jax-ws/how-to-bypass-certificate-checking-in-a-java-web-service-client/\" rel=\"nofollow noreferrer\">mkyong.com/webservices/jax-ws/&hellip;</a> this is not exactly the same subject, but the functionality used will be the same for you"},{"owner":{"account_id":2144499,"reputation":439,"user_id":4113567,"accept_rate":86,"display_name":"marshal craft"},"score":0,"creation_date":1478099099,"post_id":40382682,"comment_id":68018289,"body_markdown":"As for trust issues with the certificates. They would have to be sent via a secure tls 1.2 connection which further utilizes both the client and server certificates for that connection. You trust the server which is distributing new certificates, and have a permanent certificate for that server, then there is no security flaw with using the dynamic certificates for the application server.","body":"As for trust issues with the certificates. They would have to be sent via a secure tls 1.2 connection which further utilizes both the client and server certificates for that connection. You trust the server which is distributing new certificates, and have a permanent certificate for that server, then there is no security flaw with using the dynamic certificates for the application server."},{"owner":{"account_id":2144499,"reputation":439,"user_id":4113567,"accept_rate":86,"display_name":"marshal craft"},"score":0,"creation_date":1478100677,"post_id":40382682,"comment_id":68019494,"body_markdown":"@Fabio http://www.java2s.com/Tutorial/Java/0490__Security/Createsa1024bitRSAkeypairandstoresittothefilesystemastwofiles.htm using the java.security class. It only shows generation of key&#39;s, however you should be able to store the keystore if I understand correctly that it is simply a directory and outputing the key to text file. At the very least. Or this http://www.java2s.com/Tutorial/Java/0490__Security/KeyStoreExample.htm","body":"@Fabio <a href=\"http://www.java2s.com/Tutorial/Java/0490__Security/Createsa1024bitRSAkeypairandstoresittothefilesystemastwofiles.htm\" rel=\"nofollow noreferrer\">java2s.com/Tutorial/Java/0490__Security/&hellip;</a> using the java.security class. It only shows generation of key&#39;s, however you should be able to store the keystore if I understand correctly that it is simply a directory and outputing the key to text file. At the very least. Or this <a href=\"http://www.java2s.com/Tutorial/Java/0490__Security/KeyStoreExample.htm\" rel=\"nofollow noreferrer\">java2s.com/Tutorial/Java/0490__Security/KeyStoreExample.htm</a>"},{"owner":{"account_id":2144499,"reputation":439,"user_id":4113567,"accept_rate":86,"display_name":"marshal craft"},"score":0,"creation_date":1478101053,"post_id":40382682,"comment_id":68019798,"body_markdown":"Also `java.security.keystore.setEntry()` api. So it seems it is completely possible.","body":"Also <code>java.security.keystore.setEntry()</code> api. So it seems it is completely possible."},{"owner":{"account_id":2144499,"reputation":439,"user_id":4113567,"accept_rate":86,"display_name":"marshal craft"},"score":0,"creation_date":1478102292,"post_id":40382682,"comment_id":68020711,"body_markdown":"Possible duplicate of [Programmatically Import CA trust cert into existing keystore file without using keytool](http://stackoverflow.com/questions/18889058/programmatically-import-ca-trust-cert-into-existing-keystore-file-without-using)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/18889058/programmatically-import-ca-trust-cert-into-existing-keystore-file-without-using\">Programmatically Import CA trust cert into existing keystore file without using keytool</a>"},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1478102868,"post_id":40382682,"comment_id":68021069,"body_markdown":"Do not try to override the JVM&#39;s default trust/key store. Create your own keystores, instanciate you own Tust/KeyManagers with them, and feed them to init your own SSLContext and instanciate your SSLSocketFactory from this SSLContext. Then make sure this socket factory is used by your HTTP Layer (e.g. Apache HTTP Client or HTTPURLConnection). See http://stackoverflow.com/questions/28883632/setting-a-client-certificate-as-a-request-property-in-a-java-http-conneciton/28883926#28883926","body":"Do not try to override the JVM&#39;s default trust/key store. Create your own keystores, instanciate you own Tust/KeyManagers with them, and feed them to init your own SSLContext and instanciate your SSLSocketFactory from this SSLContext. Then make sure this socket factory is used by your HTTP Layer (e.g. Apache HTTP Client or HTTPURLConnection). See <a href=\"http://stackoverflow.com/questions/28883632/setting-a-client-certificate-as-a-request-property-in-a-java-http-conneciton/28883926#28883926\" title=\"setting a client certificate as a request property in a java http conneciton\">stackoverflow.com/questions/28883632/&hellip;</a>"},{"owner":{"account_id":3063384,"reputation":550,"user_id":2595609,"display_name":"nirmalsingh"},"score":0,"creation_date":1497519890,"post_id":40382682,"comment_id":76117082,"body_markdown":"@Fabio, are you able to solve this problem ? I am also searching a solution for a similar problem. I want my server process to dynamically reload its trust store whenever a new client certificate gets added to the trust store. new client certificate addition to the trust store will be an offline step which will happen in background. I don&#39;t want my server process to be restarted in order to reload the updated trust store. I am even open to sending a trigger event through some hook to my server process for initiating reload. But nothing like automatic reload. Any pointers ?","body":"@Fabio, are you able to solve this problem ? I am also searching a solution for a similar problem. I want my server process to dynamically reload its trust store whenever a new client certificate gets added to the trust store. new client certificate addition to the trust store will be an offline step which will happen in background. I don&#39;t want my server process to be restarted in order to reload the updated trust store. I am even open to sending a trigger event through some hook to my server process for initiating reload. But nothing like automatic reload. Any pointers ?"}],"answers":[{"tags":[],"owner":{"account_id":2144499,"reputation":439,"user_id":4113567,"accept_rate":86,"display_name":"marshal craft"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1478102092,"creation_date":1478102092,"answer_id":40384307,"question_id":40382682,"body_markdown":"Seems this question has been answered here https://stackoverflow.com/questions/18889058/programmatically-import-ca-trust-cert-into-existing-keystore-file-without-using .\r\n\r\nI think the issue is that really a truststore and keystore are the same things but they are used with a keymanager for private keys (client authentication (typically not used and no real signing authority)) and trustmanager for server authentication (always done for full tls connection). \r\n\r\nProgramatically you still use keystore for a truststore in this aspect. Hope I am correct on this.","title":"Reload Java TrustStore programmatically","body":"<p>Seems this question has been answered here <a href=\"https://stackoverflow.com/questions/18889058/programmatically-import-ca-trust-cert-into-existing-keystore-file-without-using\">Programmatically Import CA trust cert into existing keystore file without using keytool</a> .</p>\n\n<p>I think the issue is that really a truststore and keystore are the same things but they are used with a keymanager for private keys (client authentication (typically not used and no real signing authority)) and trustmanager for server authentication (always done for full tls connection). </p>\n\n<p>Programatically you still use keystore for a truststore in this aspect. Hope I am correct on this.</p>\n"},{"tags":[],"owner":{"account_id":15492584,"reputation":164,"user_id":11436109,"display_name":"SP193"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1618026808,"creation_date":1561430993,"answer_id":56746195,"question_id":40382682,"body_markdown":"While it is posted in the comment of [this other SO post][1], I want to mention this method as a potential answer because it helped me solve this problem too.\r\n\r\nThis article tells us about creating a new SSLContext that contains a wrapper (ReloadableX509TrustManager) around the standard X509TrustManager: https://jcalcote.wordpress.com/2010/06/22/managing-a-dynamic-java-trust-store/\r\n\r\nWhenever a client/server is being authenticated (with checkClientTrusted/checkServerTrusted), the X509ReloadableTrustManager will call the related method of the X509TrustManager within. If it fails (CertificateException is thrown), then it will reload the TrustStore before making another attempt. Each &quot;reload&quot; actually replaces the X509TrustManager with a new instance, since we cannot touch the certificates within.\r\n\r\nPersonally, I varied from this article slightly. Within checkClientTrusted/checkServerTrusted of ReloadableX509TrustManager:\r\n\r\n1. Check if the TrustStore was modified, by the file&#39;s modified timestamp. If modified, then create a new TrustManager with the new TrustStore.\r\n2. Call checkClientTrusted/checkServerTrusted of the embedded X509TrustManager.\r\n\r\nTo reduce the number of file I/O requests, I kept track of the timestamp of the last check on the TrustStore, to restrict the polling interval on the TrustStore to a minimum of 15s.\r\n\r\nI believe my method is slightly better because it would allow authentication to take place with the current TrustStore, which could also have certificates removed from it. The original method would still allow the application to continuously trust a client/server, even if the related certificate(s) was/were removed.\r\n\r\nEDIT: In retrospect, I think the reloading process should be made thread-safe because I cannot find anything that indicates that the checkClientTrusted() and checkServerTrusted() methods within X509TrustManager may be designed without thread-safety in mind. In fact, the checkTrustedInit() method of the default X509TrustManagerImpl class has some synchronized blocks - which might hint that these functions must be made thread-safe.\r\n\r\nEDIT 2021/04/10: Here is a sample implementation:\r\n```\r\npackage com.test.certificate;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.InputStream;\r\nimport java.security.KeyStore;\r\nimport java.security.KeyStoreException;\r\nimport java.security.NoSuchProviderException;\r\nimport java.security.cert.Certificate;\r\nimport java.security.cert.CertificateException;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.List;\r\n\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.TrustManagerFactory;\r\nimport javax.net.ssl.X509TrustManager;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class ReloadableX509TrustManager implements X509TrustManager {\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(ReloadableX509TrustManager.class);\r\n\r\n\tprivate X509TrustManager trustManager;\r\n\r\n\tprivate static final String KEYSTORE_RUNTIME_FORMAT = &quot;JKS&quot;;\r\n\tprivate static final String CERTIFICATE_ENTRY_FORMAT = &quot;X.509&quot;;\r\n\r\n\tpublic ReloadableX509TrustManager() throws Exception {\r\n\t\treload();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n\t\ttry {\r\n\t\t\treload();\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlogger.warn(&quot;Failed to reload TrustStore due to &quot; + ex, ex);\r\n\t\t}\r\n\t\ttrustManager.checkClientTrusted(chain, authType);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n\t\ttry {\r\n\t\t\treload();\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlogger.warn(&quot;Failed to reload TrustStore due to &quot; + ex, ex);\r\n\t\t}\r\n\t\ttrustManager.checkServerTrusted(chain, authType);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic X509Certificate[] getAcceptedIssuers() {\r\n\t\treturn trustManager.getAcceptedIssuers();\r\n\t}\r\n\r\n\t/**\r\n\t * Reloads the inner TrustStore.\r\n\t * For performance, reloading of the TrustStore will only be done if there is a change.\r\n\t * @throws Exception\r\n\t */\r\n\tpublic synchronized void reload() throws Exception {\r\n\t\tif (!isUpdated())\r\n\t\t\treturn;\r\n\r\n\t\tKeyStore trustStore = KeyStore.getInstance(KEYSTORE_RUNTIME_FORMAT);\r\n\t\ttrustStore.load(null, null);\r\n\r\n\t\tList&lt;TrustedCertificate&gt; certs = getCertificates();\r\n\t\tCertificateFactory cf = CertificateFactory.getInstance(CERTIFICATE_ENTRY_FORMAT);\r\n\r\n\t\tfor (TrustedCertificate cert : certs) {\r\n\t\t\tInputStream is = new ByteArrayInputStream(cert.getCertificate());\r\n\t\t\tCertificate certEntry;\r\n\t\t\ttry {\r\n\t\t\t\tcertEntry = cf.generateCertificate(is);\r\n\t\t\t} catch (CertificateException e) {\r\n\t\t\t\tlogger.error(&quot;Failed to generate certificate &quot; + cert.getAliasForKeystore() + &quot; due to: &quot; + e);\r\n\t\t\t\tcontinue;\r\n\t\t\t} finally {\r\n\t\t\t\tis.close();\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\ttrustStore.setCertificateEntry(cert.getAliasForKeystore(), certEntry);\r\n\t\t\t} catch (KeyStoreException e) {\r\n\t\t\t\tlogger.error(&quot;Failed to insert certificate &quot; + cert.getAliasForKeystore() + &quot; due to: &quot; + e);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\ttrustManagerFactory.init(trustStore);\r\n\r\n\t\t// Locate the X509TrustManager and get a reference to it.\r\n\t\tTrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\r\n\t\tfor (TrustManager tm : trustManagers) {\r\n\t\t\tif (tm instanceof X509TrustManager) {\r\n\t\t\t\ttrustManager = (X509TrustManager)tm;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthrow new NoSuchProviderException(&quot;X509TrustManager not available from TrustManagerFactory.&quot;);\r\n\t}\r\n\r\n\t/**\r\n\t * Indicates whether the TrustStore was updated.\r\n\t * @return Whether the TrustStore was updated.\r\n\t */\r\n\tprivate boolean isUpdated() {\r\n\t\t// TODO Write your logic to check whether the TrustStore was updated.\r\n        // If disk I/O is used, it may be good to limit how often the file is accessed for performance.\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a list of certificates from the TrustStore.\r\n\t * @return A list of certificates from the TrustStore.\r\n\t * @throws Exception\r\n\t */\r\n\tprivate List&lt;TrustedCertificate&gt; getCertificates() throws Exception {\r\n\t\t// TODO Write your logic to retrieve all certificates from the TrustStore.\r\n\t\treturn ;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd then to generate a new SSLContext that uses the new TrustManager:\r\n```\r\n\tprivate SSLContext initContext() throws Exception {\r\n    \tTrustManager[] trustManagers = { getTrustManager() };\r\n\r\n    \t//Initialize a new SSLContext, with our custom TrustManager.\r\n    \tSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \tsslContext.init(null, trustManagers, null);\r\n    \treturn sslContext;\r\n\t}\r\n```\r\n\r\nSomething similar can be done if you needed a reloadable KeyStore. But instead of implementing X509TrustManager, the class shall implement X509KeyManager instead. This custom KeyManager is passed as an array to the first argument of sslContext.init().\r\n\r\n  [1]: https://stackoverflow.com/questions/13173610/sslcontext-should-i-reload-it","title":"Reload Java TrustStore programmatically","body":"<p>While it is posted in the comment of <a href=\"https://stackoverflow.com/questions/13173610/sslcontext-should-i-reload-it\">this other SO post</a>, I want to mention this method as a potential answer because it helped me solve this problem too.</p>\n<p>This article tells us about creating a new SSLContext that contains a wrapper (ReloadableX509TrustManager) around the standard X509TrustManager: <a href=\"https://jcalcote.wordpress.com/2010/06/22/managing-a-dynamic-java-trust-store/\" rel=\"nofollow noreferrer\">https://jcalcote.wordpress.com/2010/06/22/managing-a-dynamic-java-trust-store/</a></p>\n<p>Whenever a client/server is being authenticated (with checkClientTrusted/checkServerTrusted), the X509ReloadableTrustManager will call the related method of the X509TrustManager within. If it fails (CertificateException is thrown), then it will reload the TrustStore before making another attempt. Each &quot;reload&quot; actually replaces the X509TrustManager with a new instance, since we cannot touch the certificates within.</p>\n<p>Personally, I varied from this article slightly. Within checkClientTrusted/checkServerTrusted of ReloadableX509TrustManager:</p>\n<ol>\n<li>Check if the TrustStore was modified, by the file's modified timestamp. If modified, then create a new TrustManager with the new TrustStore.</li>\n<li>Call checkClientTrusted/checkServerTrusted of the embedded X509TrustManager.</li>\n</ol>\n<p>To reduce the number of file I/O requests, I kept track of the timestamp of the last check on the TrustStore, to restrict the polling interval on the TrustStore to a minimum of 15s.</p>\n<p>I believe my method is slightly better because it would allow authentication to take place with the current TrustStore, which could also have certificates removed from it. The original method would still allow the application to continuously trust a client/server, even if the related certificate(s) was/were removed.</p>\n<p>EDIT: In retrospect, I think the reloading process should be made thread-safe because I cannot find anything that indicates that the checkClientTrusted() and checkServerTrusted() methods within X509TrustManager may be designed without thread-safety in mind. In fact, the checkTrustedInit() method of the default X509TrustManagerImpl class has some synchronized blocks - which might hint that these functions must be made thread-safe.</p>\n<p>EDIT 2021/04/10: Here is a sample implementation:</p>\n<pre><code>package com.test.certificate;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.InputStream;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchProviderException;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateException;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\nimport java.util.List;\n\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.net.ssl.X509TrustManager;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class ReloadableX509TrustManager implements X509TrustManager {\n\n    private static final Logger logger = LoggerFactory.getLogger(ReloadableX509TrustManager.class);\n\n    private X509TrustManager trustManager;\n\n    private static final String KEYSTORE_RUNTIME_FORMAT = &quot;JKS&quot;;\n    private static final String CERTIFICATE_ENTRY_FORMAT = &quot;X.509&quot;;\n\n    public ReloadableX509TrustManager() throws Exception {\n        reload();\n    }\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n        try {\n            reload();\n        } catch (Exception ex) {\n            logger.warn(&quot;Failed to reload TrustStore due to &quot; + ex, ex);\n        }\n        trustManager.checkClientTrusted(chain, authType);\n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n        try {\n            reload();\n        } catch (Exception ex) {\n            logger.warn(&quot;Failed to reload TrustStore due to &quot; + ex, ex);\n        }\n        trustManager.checkServerTrusted(chain, authType);\n    }\n\n    @Override\n    public X509Certificate[] getAcceptedIssuers() {\n        return trustManager.getAcceptedIssuers();\n    }\n\n    /**\n     * Reloads the inner TrustStore.\n     * For performance, reloading of the TrustStore will only be done if there is a change.\n     * @throws Exception\n     */\n    public synchronized void reload() throws Exception {\n        if (!isUpdated())\n            return;\n\n        KeyStore trustStore = KeyStore.getInstance(KEYSTORE_RUNTIME_FORMAT);\n        trustStore.load(null, null);\n\n        List&lt;TrustedCertificate&gt; certs = getCertificates();\n        CertificateFactory cf = CertificateFactory.getInstance(CERTIFICATE_ENTRY_FORMAT);\n\n        for (TrustedCertificate cert : certs) {\n            InputStream is = new ByteArrayInputStream(cert.getCertificate());\n            Certificate certEntry;\n            try {\n                certEntry = cf.generateCertificate(is);\n            } catch (CertificateException e) {\n                logger.error(&quot;Failed to generate certificate &quot; + cert.getAliasForKeystore() + &quot; due to: &quot; + e);\n                continue;\n            } finally {\n                is.close();\n            }\n\n            try {\n                trustStore.setCertificateEntry(cert.getAliasForKeystore(), certEntry);\n            } catch (KeyStoreException e) {\n                logger.error(&quot;Failed to insert certificate &quot; + cert.getAliasForKeystore() + &quot; due to: &quot; + e);\n                continue;\n            }\n        }\n\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(trustStore);\n\n        // Locate the X509TrustManager and get a reference to it.\n        TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\n        for (TrustManager tm : trustManagers) {\n            if (tm instanceof X509TrustManager) {\n                trustManager = (X509TrustManager)tm;\n                return;\n            }\n        }\n\n        throw new NoSuchProviderException(&quot;X509TrustManager not available from TrustManagerFactory.&quot;);\n    }\n\n    /**\n     * Indicates whether the TrustStore was updated.\n     * @return Whether the TrustStore was updated.\n     */\n    private boolean isUpdated() {\n        // TODO Write your logic to check whether the TrustStore was updated.\n        // If disk I/O is used, it may be good to limit how often the file is accessed for performance.\n        return false;\n    }\n\n    /**\n     * Returns a list of certificates from the TrustStore.\n     * @return A list of certificates from the TrustStore.\n     * @throws Exception\n     */\n    private List&lt;TrustedCertificate&gt; getCertificates() throws Exception {\n        // TODO Write your logic to retrieve all certificates from the TrustStore.\n        return ;\n    }\n\n}\n</code></pre>\n<p>And then to generate a new SSLContext that uses the new TrustManager:</p>\n<pre><code>    private SSLContext initContext() throws Exception {\n        TrustManager[] trustManagers = { getTrustManager() };\n\n        //Initialize a new SSLContext, with our custom TrustManager.\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, trustManagers, null);\n        return sslContext;\n    }\n</code></pre>\n<p>Something similar can be done if you needed a reloadable KeyStore. But instead of implementing X509TrustManager, the class shall implement X509KeyManager instead. This custom KeyManager is passed as an array to the first argument of sslContext.init().</p>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645744000,"creation_date":1645744000,"answer_id":71259269,"question_id":40382682,"body_markdown":"I had posted a similar answer here: https://stackoverflow.com/questions/69506869/reloading-a-java-net-http-httpclients-sslcontext/69507126#69507126\r\n\r\nBasically what you need is a custom trust manager which wraps around the actual trustmanager which is able to swap the actual trustmanager whenever needed, for example when the truststore gets updated.\r\n\r\nYou can find a full answer on the link [here][1], below is a small snippet which should do the trick for you and it uses the wrapper trustmanager named hot swappable trustmanager under the covers\r\n\r\n```java\r\nSSLFactory sslFactory = SSLFactory.builder()\r\n          .withSwappableTrustMaterial()\r\n          .withTrustMaterial(&quot;truststore.jks&quot;, &quot;password&quot;.toCharArray())\r\n          .build();\r\n          \r\nHttpClient httpClient = HttpClient.newBuilder()\r\n          .sslParameters(sslFactory.getSslParameters())\r\n          .sslContext(sslFactory.getSslContext())\r\n          .build()\r\n\r\n// execute https request\r\nHttpResponse&lt;String&gt; response = httpClient.send(aRequest, HttpResponse.BodyHandlers.ofString());\r\n\r\n// swap trust materials and reuse existing http client\r\nTrustManagerUtils.swapTrustManager(sslFactory.getTrustManager().get(), anotherTrustManager);\r\n\r\n// Cleanup old ssl sessions by invalidating them all. Forces to use new ssl sessions which will be created by the swapped TrustManager\r\nSSLSessionUtils.invalidateCaches(sslFactory.getSslContext());\r\n\r\nHttpResponse&lt;String&gt; response = httpClient.send(aRequest, HttpResponse.BodyHandlers.ofString());\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69506869/reloading-a-java-net-http-httpclients-sslcontext/69507126#69507126","title":"Reload Java TrustStore programmatically","body":"<p>I had posted a similar answer here: <a href=\"https://stackoverflow.com/questions/69506869/reloading-a-java-net-http-httpclients-sslcontext/69507126#69507126\">Reloading a java.net.http.HttpClient&#39;s SSLContext</a></p>\n<p>Basically what you need is a custom trust manager which wraps around the actual trustmanager which is able to swap the actual trustmanager whenever needed, for example when the truststore gets updated.</p>\n<p>You can find a full answer on the link <a href=\"https://stackoverflow.com/questions/69506869/reloading-a-java-net-http-httpclients-sslcontext/69507126#69507126\">here</a>, below is a small snippet which should do the trick for you and it uses the wrapper trustmanager named hot swappable trustmanager under the covers</p>\n<pre class=\"lang-java prettyprint-override\"><code>SSLFactory sslFactory = SSLFactory.builder()\n          .withSwappableTrustMaterial()\n          .withTrustMaterial(&quot;truststore.jks&quot;, &quot;password&quot;.toCharArray())\n          .build();\n          \nHttpClient httpClient = HttpClient.newBuilder()\n          .sslParameters(sslFactory.getSslParameters())\n          .sslContext(sslFactory.getSslContext())\n          .build()\n\n// execute https request\nHttpResponse&lt;String&gt; response = httpClient.send(aRequest, HttpResponse.BodyHandlers.ofString());\n\n// swap trust materials and reuse existing http client\nTrustManagerUtils.swapTrustManager(sslFactory.getTrustManager().get(), anotherTrustManager);\n\n// Cleanup old ssl sessions by invalidating them all. Forces to use new ssl sessions which will be created by the swapped TrustManager\nSSLSessionUtils.invalidateCaches(sslFactory.getSslContext());\n\nHttpResponse&lt;String&gt; response = httpClient.send(aRequest, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n"}],"owner":{"account_id":1941838,"reputation":435,"user_id":1802607,"accept_rate":69,"display_name":"Fabio"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10033,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1645744000,"creation_date":1478097508,"question_id":40382682,"body_markdown":"I&#39;ve read quite a lot about this topic and it seems impossible to do, but just to be sure I&#39;d like one more opinion.\r\n\r\nUse case:\r\nWeb application that connects programmatically with one or more https services, the services are dynamic and the certificates get frequent updates.\r\n\r\nWhat the application should do it&#39;s to update the TrustStore with the new certificates and use them without restarting the application. It&#39;s important that no new code should be implemented to do the https connections (hence, it should integrate seamlessly).\r\n\r\nI&#39;ve tried (with no luck) to override the default Java TrustManager, any help will be appreciated.\r\n\r\nEDIT: I&#39;ve tryied some of the solution proposed in the comments/answers, but I still need to restart my tomcat afterwards","title":"Reload Java TrustStore programmatically","body":"<p>I've read quite a lot about this topic and it seems impossible to do, but just to be sure I'd like one more opinion.</p>\n\n<p>Use case:\nWeb application that connects programmatically with one or more https services, the services are dynamic and the certificates get frequent updates.</p>\n\n<p>What the application should do it's to update the TrustStore with the new certificates and use them without restarting the application. It's important that no new code should be implemented to do the https connections (hence, it should integrate seamlessly).</p>\n\n<p>I've tried (with no luck) to override the default Java TrustManager, any help will be appreciated.</p>\n\n<p>EDIT: I've tryied some of the solution proposed in the comments/answers, but I still need to restart my tomcat afterwards</p>\n"},{"tags":["java","jpa","eclipselink","glassfish-5","mariadb-10.4"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1589218229,"post_id":61690913,"comment_id":109200324,"body_markdown":"What database platform class is being used? Check that it has support for IDENTITY and/or SEQUENCE, otherwise EclipseLink will default to table sequencing. If you don&#39;t know the platform class used (you can specify it with the target-database persistence property) it should get logged during deployment when it tests the datasource to detect the DB.","body":"What database platform class is being used? Check that it has support for IDENTITY and/or SEQUENCE, otherwise EclipseLink will default to table sequencing. If you don&#39;t know the platform class used (you can specify it with the target-database persistence property) it should get logged during deployment when it tests the datasource to detect the DB."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1589218815,"post_id":61690913,"comment_id":109200623,"body_markdown":"Also note, IDENTITY != SEQUENCE. If you are creating a sequence &quot;SEQUANCE&quot; in the database and want it used, you must define it in JPA using the GeneratedValue to which points to a sequence definition AND the SequenceGenerator annotation to define the sequence itself. see https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Entities/Ids/GeneratedValue and https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Entities/Ids/SequenceGenerator","body":"Also note, IDENTITY != SEQUENCE. If you are creating a sequence &quot;SEQUANCE&quot; in the database and want it used, you must define it in JPA using the GeneratedValue to which points to a sequence definition AND the SequenceGenerator annotation to define the sequence itself. see <a href=\"https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Entities/Ids/GeneratedValue\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/UserGuide/JPA/&hellip;</a> and <a href=\"https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Entities/Ids/SequenceGenerator\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/UserGuide/JPA/&hellip;</a>"},{"owner":{"account_id":7422326,"reputation":13,"user_id":5646165,"display_name":"yacdidi"},"score":0,"creation_date":1589249335,"post_id":61690913,"comment_id":109212132,"body_markdown":"Thank you for your answer, I use MariaDB 10.4 and it supports both IDENTITY and SEQUENCE, but what I do not understand is the fact that it supports IDENTITY but it is as if it is always configured in SEQUENCE despite that I have chosen IDENTITY. excuse me for my level in english language","body":"Thank you for your answer, I use MariaDB 10.4 and it supports both IDENTITY and SEQUENCE, but what I do not understand is the fact that it supports IDENTITY but it is as if it is always configured in SEQUENCE despite that I have chosen IDENTITY. excuse me for my level in english language"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1589289360,"post_id":61690913,"comment_id":109229107,"body_markdown":"DatabasePlatform is an Eclipselink class that is extended to provide DB specific behaviour. The platform class you are using in your persistence unit must have identity and sequence support built in or it might default to using a sequence or table sequencing. What is the target database platform that was specified? https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/p_target_database.htm","body":"DatabasePlatform is an Eclipselink class that is extended to provide DB specific behaviour. The platform class you are using in your persistence unit must have identity and sequence support built in or it might default to using a sequence or table sequencing. What is the target database platform that was specified? <a href=\"https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/p_target_database.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.4/jpa/extensions/&hellip;</a>"},{"owner":{"account_id":7422326,"reputation":13,"user_id":5646165,"display_name":"yacdidi"},"score":0,"creation_date":1589332834,"post_id":61690913,"comment_id":109250454,"body_markdown":"It works thank you very much chris.","body":"It works thank you very much chris."}],"answers":[{"tags":[],"owner":{"account_id":7422326,"reputation":13,"user_id":5646165,"display_name":"yacdidi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1589333248,"creation_date":1589333248,"answer_id":61764825,"question_id":61690913,"body_markdown":"The problem is solved using Chris comments, i just add the following line in my persistence.xml file:\r\n\r\n\t&lt;property name=&quot;eclipselink.target-database&quot; value=&quot;MySQL&quot;/&gt;\r\n\r\nThank you very much Chris.\r\nSo my new persistence.xml file is:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\r\n\t\t&lt;!-- Define Persistence Unit --&gt;\r\n\t\t&lt;persistence-unit name=&quot;my_persistence_unit&quot; transaction-type=&quot;JTA&quot;&gt;\r\n\t\t\t&lt;jta-data-source&gt;jdbc/mariadb&lt;/jta-data-source&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Address&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Commande&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.CommandeLine&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Dish&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Dishtype&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Ingredient&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Payement&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Profil&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Restaurant&lt;/class&gt;\r\n\t\t\t&lt;class&gt;com.yac.model.Userapp&lt;/class&gt;\r\n\t\t\t&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;property name=&quot;eclipselink.target-database&quot; value=&quot;MySQL&quot;/&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/persistence-unit&gt;\r\n\t&lt;/persistence&gt;\r\n\r\n\r\nI just specified the database platform in MySQL in the persistence.xml file of the moment MariaDB is based on it, because MariaDB is not mentioned in the list.\r\nIf there are other suggestions do not hesitate thank you.","title":"Problems with java @GeneratedValue (strategy = GenerationType.IDENTITY) using MariaDB 10.4 and eclipselink","body":"<p>The problem is solved using Chris comments, i just add the following line in my persistence.xml file:</p>\n\n<pre><code>&lt;property name=\"eclipselink.target-database\" value=\"MySQL\"/&gt;\n</code></pre>\n\n<p>Thank you very much Chris.\nSo my new persistence.xml file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.2\" xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd\"&gt;\n    &lt;!-- Define Persistence Unit --&gt;\n    &lt;persistence-unit name=\"my_persistence_unit\" transaction-type=\"JTA\"&gt;\n        &lt;jta-data-source&gt;jdbc/mariadb&lt;/jta-data-source&gt;\n        &lt;class&gt;com.yac.model.Address&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Commande&lt;/class&gt;\n        &lt;class&gt;com.yac.model.CommandeLine&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Dish&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Dishtype&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Ingredient&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Payement&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Profil&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Restaurant&lt;/class&gt;\n        &lt;class&gt;com.yac.model.Userapp&lt;/class&gt;\n        &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n        &lt;properties&gt;\n            &lt;property name=\"eclipselink.target-database\" value=\"MySQL\"/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>I just specified the database platform in MySQL in the persistence.xml file of the moment MariaDB is based on it, because MariaDB is not mentioned in the list.\nIf there are other suggestions do not hesitate thank you.</p>\n"},{"tags":[],"owner":{"account_id":312194,"reputation":75,"user_id":626139,"display_name":"mtz1406"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645743891,"creation_date":1645743891,"answer_id":71259262,"question_id":61690913,"body_markdown":"Another Solution:\r\nAdd `?useMysqlMetadata=true` to your JDBC URL connection as bellow:\r\n\r\n    &lt;property name=&quot;URL&quot; value=&quot;jdbc:mariadb://[HOST]:[PORT]/[DB NAME]?useMysqlMetadata=true&quot;/&gt;\r\n\r\nthat will make MariaDB use MySQL meta data and then eclipselink will detect it as MySQL.","title":"Problems with java @GeneratedValue (strategy = GenerationType.IDENTITY) using MariaDB 10.4 and eclipselink","body":"<p>Another Solution:\nAdd <code>?useMysqlMetadata=true</code> to your JDBC URL connection as bellow:</p>\n<pre><code>&lt;property name=&quot;URL&quot; value=&quot;jdbc:mariadb://[HOST]:[PORT]/[DB NAME]?useMysqlMetadata=true&quot;/&gt;\n</code></pre>\n<p>that will make MariaDB use MySQL meta data and then eclipselink will detect it as MySQL.</p>\n"}],"owner":{"account_id":7422326,"reputation":13,"user_id":5646165,"display_name":"yacdidi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1793,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61764825,"answer_count":2,"score":1,"last_activity_date":1645743891,"creation_date":1588990249,"question_id":61690913,"body_markdown":"I am developing a REST web service in Java EE I am using: Glassfish 5.0 (build 25), MariaDB 10.4 and eclipselink (JPA 2.1)\r\nhere is my code:\r\n\r\ncommande_line table\r\n-------------------\r\n\tCREATE TABLE IF NOT EXISTS `cooldb`.`commande_line` (\r\n\t  `id` INT NOT NULL AUTO_INCREMENT,\r\n\t  `quantity` INT NULL,\r\n\t  `discount` INT NULL,\r\n\t  `dish` INT NOT NULL,\r\n\t  `commande` INT NOT NULL,\r\n\t  PRIMARY KEY (`id`),\r\n\t  UNIQUE INDEX `id_UNIQUE` (`id` ASC),\r\n\t  INDEX `fk_commande_line_dish1_idx` (`dish` ASC),\r\n\t  INDEX `fk_commande_line_commande1_idx` (`commande` ASC),\r\n\t  CONSTRAINT `fk_commande_line_dish1`\r\n\t\tFOREIGN KEY (`dish`)\r\n\t\tREFERENCES `cooldb`.`dish` (`id`)\r\n\t\tON DELETE CASCADE\r\n\t\tON UPDATE CASCADE,\r\n\t  CONSTRAINT `fk_commande_line_commande1`\r\n\t\tFOREIGN KEY (`commande`)\r\n\t\tREFERENCES `cooldb`.`commande` (`id`)\r\n\t\tON DELETE CASCADE\r\n\t\tON UPDATE CASCADE)\r\n\tENGINE = InnoDB\r\n\tDEFAULT CHARACTER SET = utf8;\r\n\r\npersistance.xml\r\n---------------\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\r\n\t  &lt;!-- Define Persistence Unit --&gt;\r\n\t  &lt;persistence-unit name=&quot;my_persistence_unit&quot; transaction-type=&quot;JTA&quot;&gt;\r\n\t\t&lt;jta-data-source&gt;jdbc/mariadb&lt;/jta-data-source&gt;\r\n\t\t&lt;class&gt;com.yac.model.Address&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Commande&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.CommandeLine&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Dish&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Dishtype&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Ingredient&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Payement&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Profil&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Restaurant&lt;/class&gt;\r\n\t\t&lt;class&gt;com.yac.model.Userapp&lt;/class&gt;\r\n\t\t&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t&lt;/properties&gt;\r\n\t  &lt;/persistence-unit&gt;\r\n\t&lt;/persistence&gt;\r\n\r\ncommandeline entity\r\n-------------------\r\n\tpublic class CommandeLine implements Serializable {\r\n\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\t@Basic(optional = false)\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\tprivate Integer id;\r\n\t\t@Column(name = &quot;quantity&quot;)\r\n\t\tprivate Integer quantity;\r\n\t\t@Column(name = &quot;discount&quot;)\r\n\t\tprivate Integer discount;\r\n\t\t@JoinColumn(name = &quot;commande&quot;, referencedColumnName = &quot;id&quot;)\r\n\t\t@ManyToOne(optional = false)\r\n\t\tprivate Commande commande;\r\n\t\t@JoinColumn(name = &quot;dish&quot;, referencedColumnName = &quot;id&quot;)\r\n\t\t@ManyToOne(optional = false)\r\n\t\tprivate Dish dish;\r\n\t\t//Constructor\r\n\t\t// Setter and Getter\r\n\t}\r\n\r\ncommandeline web service\r\n------------------------\r\n\t@Stateless\r\n\t@Path(&quot;commandeline&quot;)\r\n\tpublic class CommandeLineFacadeREST extends AbstractFacade&lt;CommandeLine&gt; {\r\n\r\n\t\t@PersistenceContext(unitName = &quot;my_persistence_unit&quot;)\r\n\t\tprivate EntityManager em;\r\n\r\n\t\tpublic CommandeLineFacadeREST() {\r\n\t\t\tsuper(CommandeLine.class);\r\n\t\t}\r\n\r\n\t\t@POST\r\n\t\t@Override\r\n\t\t@Consumes(MediaType.APPLICATION_JSON)\r\n\t\tpublic void create(CommandeLine entity) {\r\n\t\t\tsuper.create(entity);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected EntityManager getEntityManager() {\r\n\t\t\treturn em;\r\n\t\t}\r\n\t}\r\n\r\nAbstractFacade\r\n--------------\r\n\tpublic abstract class AbstractFacade&lt;T&gt; {\r\n\r\n\t\tprivate Class&lt;T&gt; entityClass;\r\n\r\n\t\tpublic AbstractFacade(Class&lt;T&gt; entityClass) {\r\n\t\t\tthis.entityClass = entityClass;\r\n\t\t}\r\n\r\n\t\tprotected abstract EntityManager getEntityManager();\r\n\r\n\t\tpublic void create(T entity) {\r\n\t\t\tgetEntityManager().persist(entity);\r\n\t\t}\r\n\t}\r\n\r\nThe problem is when I test my web service with Postman and I try to insert a record with a POST request\r\nhere is what I receive as error message:\r\n\r\n\tLocal Exception Stack: \r\n\tException [EclipseLink-4002] (Eclipse Persistence Services - 2.7.0.v20170811-d680af5): org.eclipse.persistence.exceptions.DatabaseException\r\n\tInternal Exception: java.sql.SQLSyntaxErrorException: (conn=158) Table &#39;cooldb.sequence&#39; doesn&#39;t exist\r\n\tError Code: 1146\r\n\tCall: UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?\r\n\t\tbind =&gt; [2 parameters bound]\r\n\tQuery: DataModifyQuery(name=&quot;SEQ_GEN_SEQUENCE&quot; sql=&quot;UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?&quot;) ...\r\n\r\nI don&#39;t understand why the problem with SEQUANCE when I use @GeneratedValue (strategy = GenerationType.IDENTITY).\r\nWhen I change with @GeneratedValue (strategy = GenerationType.SEQUENCE) and I create the table with the following script:\r\n\r\n\tCREATE SEQUENCE SEQUANCE START WITH 1 INCREMENT BY 1;\r\n\r\nby applying the solution shown in : https://stackoverflow.com/questions/23141014/table-customerjpa-sequence-doesnt-exist-jpa\r\nbut the same probleme\r\n\r\nthank you in advance for your help.","title":"Problems with java @GeneratedValue (strategy = GenerationType.IDENTITY) using MariaDB 10.4 and eclipselink","body":"<p>I am developing a REST web service in Java EE I am using: Glassfish 5.0 (build 25), MariaDB 10.4 and eclipselink (JPA 2.1)\nhere is my code:</p>\n\n<h2>commande_line table</h2>\n\n<pre><code>CREATE TABLE IF NOT EXISTS `cooldb`.`commande_line` (\n  `id` INT NOT NULL AUTO_INCREMENT,\n  `quantity` INT NULL,\n  `discount` INT NULL,\n  `dish` INT NOT NULL,\n  `commande` INT NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE INDEX `id_UNIQUE` (`id` ASC),\n  INDEX `fk_commande_line_dish1_idx` (`dish` ASC),\n  INDEX `fk_commande_line_commande1_idx` (`commande` ASC),\n  CONSTRAINT `fk_commande_line_dish1`\n    FOREIGN KEY (`dish`)\n    REFERENCES `cooldb`.`dish` (`id`)\n    ON DELETE CASCADE\n    ON UPDATE CASCADE,\n  CONSTRAINT `fk_commande_line_commande1`\n    FOREIGN KEY (`commande`)\n    REFERENCES `cooldb`.`commande` (`id`)\n    ON DELETE CASCADE\n    ON UPDATE CASCADE)\nENGINE = InnoDB\nDEFAULT CHARACTER SET = utf8;\n</code></pre>\n\n<h2>persistance.xml</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.2\" xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd\"&gt;\n  &lt;!-- Define Persistence Unit --&gt;\n  &lt;persistence-unit name=\"my_persistence_unit\" transaction-type=\"JTA\"&gt;\n    &lt;jta-data-source&gt;jdbc/mariadb&lt;/jta-data-source&gt;\n    &lt;class&gt;com.yac.model.Address&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Commande&lt;/class&gt;\n    &lt;class&gt;com.yac.model.CommandeLine&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Dish&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Dishtype&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Ingredient&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Payement&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Profil&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Restaurant&lt;/class&gt;\n    &lt;class&gt;com.yac.model.Userapp&lt;/class&gt;\n    &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n    &lt;properties&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<h2>commandeline entity</h2>\n\n<pre><code>public class CommandeLine implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = \"id\")\n    private Integer id;\n    @Column(name = \"quantity\")\n    private Integer quantity;\n    @Column(name = \"discount\")\n    private Integer discount;\n    @JoinColumn(name = \"commande\", referencedColumnName = \"id\")\n    @ManyToOne(optional = false)\n    private Commande commande;\n    @JoinColumn(name = \"dish\", referencedColumnName = \"id\")\n    @ManyToOne(optional = false)\n    private Dish dish;\n    //Constructor\n    // Setter and Getter\n}\n</code></pre>\n\n<h2>commandeline web service</h2>\n\n<pre><code>@Stateless\n@Path(\"commandeline\")\npublic class CommandeLineFacadeREST extends AbstractFacade&lt;CommandeLine&gt; {\n\n    @PersistenceContext(unitName = \"my_persistence_unit\")\n    private EntityManager em;\n\n    public CommandeLineFacadeREST() {\n        super(CommandeLine.class);\n    }\n\n    @POST\n    @Override\n    @Consumes(MediaType.APPLICATION_JSON)\n    public void create(CommandeLine entity) {\n        super.create(entity);\n    }\n\n    @Override\n    protected EntityManager getEntityManager() {\n        return em;\n    }\n}\n</code></pre>\n\n<h2>AbstractFacade</h2>\n\n<pre><code>public abstract class AbstractFacade&lt;T&gt; {\n\n    private Class&lt;T&gt; entityClass;\n\n    public AbstractFacade(Class&lt;T&gt; entityClass) {\n        this.entityClass = entityClass;\n    }\n\n    protected abstract EntityManager getEntityManager();\n\n    public void create(T entity) {\n        getEntityManager().persist(entity);\n    }\n}\n</code></pre>\n\n<p>The problem is when I test my web service with Postman and I try to insert a record with a POST request\nhere is what I receive as error message:</p>\n\n<pre><code>Local Exception Stack: \nException [EclipseLink-4002] (Eclipse Persistence Services - 2.7.0.v20170811-d680af5): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: java.sql.SQLSyntaxErrorException: (conn=158) Table 'cooldb.sequence' doesn't exist\nError Code: 1146\nCall: UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?\n    bind =&gt; [2 parameters bound]\nQuery: DataModifyQuery(name=\"SEQ_GEN_SEQUENCE\" sql=\"UPDATE SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?\") ...\n</code></pre>\n\n<p>I don't understand why the problem with SEQUANCE when I use @GeneratedValue (strategy = GenerationType.IDENTITY).\nWhen I change with @GeneratedValue (strategy = GenerationType.SEQUENCE) and I create the table with the following script:</p>\n\n<pre><code>CREATE SEQUENCE SEQUANCE START WITH 1 INCREMENT BY 1;\n</code></pre>\n\n<p>by applying the solution shown in : <a href=\"https://stackoverflow.com/questions/23141014/table-customerjpa-sequence-doesnt-exist-jpa\">Table &#39;customerjpa.sequence&#39; doesn&#39;t exist JPA</a>\nbut the same probleme</p>\n\n<p>thank you in advance for your help.</p>\n"},{"tags":["java","swing","javafx","rendering","media-player"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1645743664,"post_id":71259163,"comment_id":125959283,"body_markdown":"As a &quot;general&quot; rule of thumb, you should not be mixing Swing&#39;s (passive rendering) with `BufferStrategy`.  Also, Swing doesn&#39;t understand how to deal with alpha based colors (`contentPane.setBackground(new Color(0,0,0,0));` is going to cause no end of issues).  You&#39;re creating a `BufferStrategy` which is attached to the native peer of the `Window` (which `JFrame` is extend from), but `JFrame` is a composite component, it&#39;s made up of a number of different components laid out to produce the window content you see","body":"As a &quot;general&quot; rule of thumb, you should not be mixing Swing&#39;s (passive rendering) with <code>BufferStrategy</code>.  Also, Swing doesn&#39;t understand how to deal with alpha based colors (<code>contentPane.setBackground(new Color(0,0,0,0));</code> is going to cause no end of issues).  You&#39;re creating a <code>BufferStrategy</code> which is attached to the native peer of the <code>Window</code> (which <code>JFrame</code> is extend from), but <code>JFrame</code> is a composite component, it&#39;s made up of a number of different components laid out to produce the window content you see"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645743683,"post_id":71259163,"comment_id":125959286,"body_markdown":"... so, even without the issues of bridging JavaFX, this it&#39;s all competing against each other in ways it shouldn&#39;t be","body":"... so, even without the issues of bridging JavaFX, this it&#39;s all competing against each other in ways it shouldn&#39;t be"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645743858,"post_id":71259163,"comment_id":125959325,"body_markdown":"Also note that `Window` itself (the canvas that you `BufferStrategy` is painting to) is not transparent (AWT components are always opaque), so you&#39;re running into another incompatibility","body":"Also note that <code>Window</code> itself (the canvas that you <code>BufferStrategy</code> is painting to) is not transparent (AWT components are always opaque), so you&#39;re running into another incompatibility"},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645743986,"post_id":71259163,"comment_id":125959356,"body_markdown":"Hi @MadProgrammer, thank you for your quick reply. I modified the color alpha issue thanks for the tip. So for the bufferStrategy your saying i should just draw swing&#39;s render without double buffering right? I&#39;m not sure if i got that right.","body":"Hi @MadProgrammer, thank you for your quick reply. I modified the color alpha issue thanks for the tip. So for the bufferStrategy your saying i should just draw swing&#39;s render without double buffering right? I&#39;m not sure if i got that right."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645744116,"post_id":71259163,"comment_id":125959379,"body_markdown":"No, I&#39;m saying you shouldn&#39;t mix Swing components and `BufferStrategy`, there&#39;s a lot more going under the hood which you&#39;re not taking into account. I&#39;ve been trying to find an example how this &quot;might&quot; be done, but I can&#39;t find any one whose accomplished this","body":"No, I&#39;m saying you shouldn&#39;t mix Swing components and <code>BufferStrategy</code>, there&#39;s a lot more going under the hood which you&#39;re not taking into account. I&#39;ve been trying to find an example how this &quot;might&quot; be done, but I can&#39;t find any one whose accomplished this"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1645744160,"post_id":71259163,"comment_id":125959391,"body_markdown":"I&#39;d almost consider using a pure JavaFX workflow, it might be simpler to achieve, as JavaFX was originally intended as Flash competitor","body":"I&#39;d almost consider using a pure JavaFX workflow, it might be simpler to achieve, as JavaFX was originally intended as Flash competitor"},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645744237,"post_id":71259163,"comment_id":125959411,"body_markdown":"Oh okay so that&#39;s why i&#39;ve seen people drawing on AWT.Canvas instead of the JFrame ?","body":"Oh okay so that&#39;s why i&#39;ve seen people drawing on AWT.Canvas instead of the JFrame ?"},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645744353,"post_id":71259163,"comment_id":125959434,"body_markdown":"Yeah pure FX would be easier I guess but it&#39;s a school project and I have to use swing and a game loop so i&#39;ve been trying stuff I have to admit ^^","body":"Yeah pure FX would be easier I guess but it&#39;s a school project and I have to use swing and a game loop so i&#39;ve been trying stuff I have to admit ^^"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645744370,"post_id":71259163,"comment_id":125959439,"body_markdown":"[How to Use Root Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html) has a nice picture of what a `JFrame` looks like, but `BufferStrategy` will be using the `Frame`&#39;s layer (below the `rootPane`) to render it&#39;s content, this could be causing a lot of rendering overlap issues","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">How to Use Root Panes</a> has a nice picture of what a <code>JFrame</code> looks like, but <code>BufferStrategy</code> will be using the <code>Frame</code>&#39;s layer (below the <code>rootPane</code>) to render it&#39;s content, this could be causing a lot of rendering overlap issues"},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645744674,"post_id":71259163,"comment_id":125959490,"body_markdown":"Alright thank you, so I should paint in another &quot;thing&quot; i.e. use the bufferStrategy from let say an AWT canvas (anything but a swing component) and put that canvas in the contentPane ?","body":"Alright thank you, so I should paint in another &quot;thing&quot; i.e. use the bufferStrategy from let say an AWT canvas (anything but a swing component) and put that canvas in the contentPane ?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645744916,"post_id":71259163,"comment_id":125959534,"body_markdown":"That would be preferable.  You might also consider having a look at [Swing animation running extremely slow](https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184), [Rotating multiple images causing flickering. Java Graphics2D](https://stackoverflow.com/questions/23417786/rotating-multiple-images-causing-flickering-java-graphics2d/23419824#23419824) and [Slow movement using paintComponent method](https://stackoverflow.com/questions/16865391/slow-movement-using-paintcomponent-method/16867943#16867943) - these are all pure Swing implementations","body":"That would be preferable.  You might also consider having a look at <a href=\"https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184\">Swing animation running extremely slow</a>, <a href=\"https://stackoverflow.com/questions/23417786/rotating-multiple-images-causing-flickering-java-graphics2d/23419824#23419824\">Rotating multiple images causing flickering. Java Graphics2D</a> and <a href=\"https://stackoverflow.com/questions/16865391/slow-movement-using-paintcomponent-method/16867943#16867943\">Slow movement using paintComponent method</a> - these are all pure Swing implementations"},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645745086,"post_id":71259163,"comment_id":125959571,"body_markdown":"Alright thank you very much that was really helpful !","body":"Alright thank you very much that was really helpful !"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1645745390,"post_id":71259163,"comment_id":125959647,"body_markdown":"Perhaps convert the whole thing to use only JavaFX rather than dealing with interleaving issues between two disparate toolkits.","body":"Perhaps convert the whole thing to use only JavaFX rather than dealing with interleaving issues between two disparate toolkits."},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645746055,"post_id":71259163,"comment_id":125959774,"body_markdown":"Thanks @jewelsea but like I said I wish I could but it&#39;s a school project and I have no choice but to use swing .. But maybe i&#39;ve misunderstood something, I thought that a bufferstrategy was required for active rendering but i just saw that swing component&#39;s are already double buffered so i think i could just draw in a JPanel ? Doesn&#39;t fix the media player issue but it still something.","body":"Thanks @jewelsea but like I said I wish I could but it&#39;s a school project and I have no choice but to use swing .. But maybe i&#39;ve misunderstood something, I thought that a bufferstrategy was required for active rendering but i just saw that swing component&#39;s are already double buffered so i think i could just draw in a JPanel ? Doesn&#39;t fix the media player issue but it still something."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1645746421,"post_id":71259163,"comment_id":125959833,"body_markdown":"Sorry, missed your earlier comment that you must use Swing.  I don’t know how to achieve the desired functionality given that requirement.","body":"Sorry, missed your earlier comment that you must use Swing.  I don’t know how to achieve the desired functionality given that requirement."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1645771711,"post_id":71259163,"comment_id":125964023,"body_markdown":"*&quot;it&#39;s a school project&quot;* I doubt the school would specify that a project has music. My advice would be to stick to the spec. A robust, well written, well-documented implementation of the spec will get better marks (and just as importantly teach what the project was expected to teach) than can likely be achieved by going over-spec in a less rigorous manner.","body":"<i>&quot;it&#39;s a school project&quot;</i> I doubt the school would specify that a project has music. My advice would be to stick to the spec. A robust, well written, well-documented implementation of the spec will get better marks (and just as importantly teach what the project was expected to teach) than can likely be achieved by going over-spec in a less rigorous manner."},{"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"score":0,"creation_date":1645865618,"post_id":71259163,"comment_id":125987140,"body_markdown":"HI @AndrewThompson, thank you for your wise reply and indeed this should be an advice to follow most of the time at least it&#39;s what I did during the past years for every projects. Now this one I didn&#39;t really explained but it&#39;s different, it&#39;s the final project of my Bachelor&#39;s Degree in Computer Science in France and the source code itself is not given to the teachers at the end, there is just an oral with a jury and random people and you have to put on the show, make your demo, and proved that what you&#39;ve been learning for the past 3 years wasn&#39;t for nothing. Hence music and cinematics !","body":"HI @AndrewThompson, thank you for your wise reply and indeed this should be an advice to follow most of the time at least it&#39;s what I did during the past years for every projects. Now this one I didn&#39;t really explained but it&#39;s different, it&#39;s the final project of my Bachelor&#39;s Degree in Computer Science in France and the source code itself is not given to the teachers at the end, there is just an oral with a jury and random people and you have to put on the show, make your demo, and proved that what you&#39;ve been learning for the past 3 years wasn&#39;t for nothing. Hence music and cinematics !"}],"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645743129,"creation_date":1645743129,"question_id":71259163,"body_markdown":"I&#39;m making a 2D game in Java with Swing and I got to a point where i needed to do Active Rendering to play the game&#39;s animations smoothly, so i set-up a test project where I just implemented the whole double buffering/page flipping/active rendering thing, and it&#39;s working, I get 60 fps and I can draw my swing components in my buffer through a SwingUtilities.InvokeAndWait() call so that I still perform draw calls within the EDT.\r\n\r\nNow the problem is that I also have to play video cinematic in the game and I found JavaFX&#39;s MediaPlayer to be the simplest way to do so and it works great with a JFXPanel and passive rendering. But that&#39;s where I&#39;m kinda stuck :\r\n\r\nWhen I start the MediaPlayer I have to make the call through Platform.runLater() so that it works on the JavaFX&#39;s side (it&#39;s using another and unique thread to perform rendering). The problem is that by doing so I can&#39;t actually render this video through my game loop&#39;s rendering thread, where every swing components are actually being drawn.\r\n\r\nSo right now what happens is that whenever I play the video my framerate goes from 60 to 30fps, I tried to bake the same video in both 60 and 30 fps and see if it would change anything but it&#39;s independant of the video&#39;s framerate, always goes down to 30fps. And the other problem is that it&#39;s not synchronized at all with what is being drawn in the game loop, like for example the simple FPS string debug on the top left corner of the screen is flickering when the video is playing since the draw calls are not synchronized.\r\n\r\nSo my question is how could I possibly integrate this media player with Active Rendering ?\r\n\r\nThank you !\r\n\r\nThe Main class where the active rendering is done :\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.image.BufferStrategy;\r\n    import java.awt.event.KeyAdapter;\r\n    import java.awt.event.KeyEvent;\r\n    import java.io.*;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    \r\n    public class Main extends JFrame\r\n    {\r\n    \tprivate final static boolean DEBUG_FPS = true;\r\n    \r\n    \tprivate Container contentPane;\r\n    \tprivate GraphicsDevice graphicsDevice;\r\n    \tprivate GraphicsEnvironment graphicsEnvironment;\r\n    \tprivate BufferStrategy bufferStrategy;\r\n    \tprivate Graphics2D graphics;\r\n    \r\n    \tprivate boolean running;\r\n    \tprivate long lastTime;\r\n    \tprivate long timeSinceLastFPSCalculation;\r\n    \tprivate long deltaTime;\r\n    \tprivate int fps;\r\n    \tprivate int frameCount;\r\n    \r\n    \tprivate int screenWidth;\r\n    \tprivate int screenHeight;\r\n    \tprivate int screenBitDepth;\r\n    \tprivate int screenRefreshRate;\r\n    \tprivate int TARGET_FPS;\r\n    \tprivate long TARGET_FRAME_TIME;\r\n    \r\n    \tprivate Font font;\r\n    \tprivate boolean isAnimationRunning;\r\n    \r\n    \tpublic static void main(String[] args){new Main();}\r\n    \r\n    \tprivate void debugFPS()\r\n    \t{\r\n    \t\tgraphics.setColor(Color.WHITE);\r\n    \t\tgraphics.setFont(font); \r\n    \t\tgraphics.drawString(&quot;FPS: &quot;+fps,30,30);\r\n    \t}\r\n    \r\n    \tpublic Main()\r\n    \t{\r\n    \t\tgraphicsEnvironment = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    \t\tgraphicsDevice = graphicsEnvironment.getDefaultScreenDevice();\r\n    \t\tbufferStrategy = null;\r\n    \t\tgraphics = null;\r\n    \t\t\r\n    \t\tscreenWidth = graphicsDevice.getDisplayMode().getWidth();\r\n    \t\tscreenHeight = graphicsDevice.getDisplayMode().getHeight();\r\n    \t\tscreenBitDepth = graphicsDevice.getDisplayMode().getBitDepth();\r\n    \t\tscreenRefreshRate = graphicsDevice.getDisplayMode().getRefreshRate();\r\n    \t\tTARGET_FPS = screenRefreshRate;\r\n    \t\tTARGET_FRAME_TIME = (long)1e9/TARGET_FPS;\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tfont = Font.createFont(Font.TRUETYPE_FONT,new File(&quot;Font.ttf&quot;)).deriveFont(30f);\r\n    \t\t\tgraphicsEnvironment.registerFont(font);\r\n    \t\t}\r\n    \t\tcatch(IOException|FontFormatException e){}\r\n    \r\n    \t\tcontentPane = getContentPane();\r\n    \t\tcontentPane.setBackground(new Color(0,0,0,0));\r\n    \t\tcontentPane.setLayout(null);\r\n    \r\n    \t\tBackgroundPanel backgroundPanel = new BackgroundPanel(screenWidth,screenHeight);\r\n    \t\tcontentPane.add(backgroundPanel.jfxPanel);\r\n    \t\tbackgroundPanel.startVideo();\r\n    \t\tisAnimationRunning = true;\r\n    \r\n    \t\tsetSize(screenWidth,screenHeight);\r\n    \t\tsetResizable(false);\r\n    \t\tsetLocationRelativeTo(null);\r\n    \t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\tsetUndecorated(true);\r\n    \t\tsetFocusTraversalKeysEnabled(false);\r\n    \t\tsetIgnoreRepaint(true);\r\n    \t\tsetVisible(true);\r\n    \t\t\r\n    \t\tif(graphicsDevice.isFullScreenSupported()) graphicsDevice.setFullScreenWindow(this);\r\n    \t\tcreateBufferStrategy(2);\r\n    \t\tbufferStrategy = getBufferStrategy();\r\n    \r\n    \t\taddKeyListener(new KeyAdapter()\r\n    \t\t{\r\n    \t\t\tpublic void keyPressed(KeyEvent e)\r\n    \t\t\t{\r\n    \t\t\t\tif(e.getKeyCode() == KeyEvent.VK_ESCAPE)\r\n    \t\t\t\t{\r\n    \t\t\t\t\trunning = false;\r\n    \t\t\t\t}\r\n    \t\t\t\telse if(e.getKeyCode() == KeyEvent.VK_SPACE)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tisAnimationRunning = !isAnimationRunning;\r\n    \t\t\t\t\tif(isAnimationRunning) backgroundPanel.startVideo();\r\n    \t\t\t\t\telse backgroundPanel.stopVideo();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t\tnew Thread(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tgameLoop();\r\n    \t\t\t}\r\n    \t\t}).start();\r\n    \t}\r\n    \r\n    \tpublic void gameLoop()\r\n    \t{\r\n    \t\trunning = true;\r\n    \t\tlastTime = System.nanoTime();\r\n    \t\ttimeSinceLastFPSCalculation = lastTime;\r\n    \t\tdeltaTime = 0;\r\n    \t\tfps = 0;\r\n    \t\tframeCount = 0;\r\n    \r\n    \t\twhile(running)\r\n    \t\t{\r\n    \t\t\tlong now = System.nanoTime();\r\n    \t\t\tdeltaTime = now - lastTime;\r\n    \t\t\tlastTime += deltaTime;\r\n    \r\n    \t\t\tupdate();\r\n    \r\n    \t\t\tdo\r\n    \t\t\t{\r\n    \t\t\t\tdo\r\n    \t\t\t\t{\r\n    \t\t\t\t\tgraphics = (Graphics2D)bufferStrategy.getDrawGraphics();\r\n    \t\t\t\t\trender();\r\n    \t\t\t\t\tgraphics.dispose();\r\n    \t\t\t\t}\r\n    \t\t\t\twhile(bufferStrategy.contentsRestored());\r\n    \r\n    \t\t\t\tbufferStrategy.show();\r\n    \t\t\t}\r\n    \t\t\twhile(bufferStrategy.contentsLost());\r\n    \r\n    \t\t\tframeCount++;\r\n    \t\t\t\r\n    \t\t\tif(now-timeSinceLastFPSCalculation &gt;= 1e9)\r\n    \t\t\t{\r\n    \t\t\t\tfps = frameCount;\r\n    \t\t\t\ttimeSinceLastFPSCalculation = now;\r\n    \t\t\t\tframeCount = 0;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tlong sleepTime = TARGET_FRAME_TIME-(System.nanoTime()-lastTime);\r\n    \t\t\t\r\n    \t\t\tif(sleepTime &gt; 0)\r\n    \t\t\t{\r\n    \t\t\t\tlong sleepPhaseBegin = System.nanoTime();\r\n    \t\t\t\twhile(System.nanoTime()-sleepPhaseBegin &lt; sleepTime) Thread.yield();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tgraphicsDevice.setFullScreenWindow(null);\r\n    \t\tSystem.exit(0);\r\n    \t}\r\n    \r\n    \tpublic void update()\r\n    \t{\r\n    \r\n    \t}\r\n    \r\n    \tpublic void renderSwingComponents()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tSwingUtilities.invokeAndWait(new Runnable()\r\n    \t\t\t{\r\n    \t\t\t\tpublic void run()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tcontentPane.paintAll(graphics);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\tcatch(InterruptedException e){Thread.currentThread().interrupt();}\r\n    \t\tcatch(InvocationTargetException e){}\r\n    \t}\r\n    \r\n    \tpublic void render()\r\n    \t{\r\n    \t\tgraphics.setColor(Color.BLACK);\r\n    \t\tgraphics.fillRect(0,0,screenWidth,screenHeight);\r\n    \t\tgraphics.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n    \t\tgraphics.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\tgraphics.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION,RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n    \t\tgraphics.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING,RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n    \t\tgraphics.setRenderingHint(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY);\r\n    \t\trenderSwingComponents();\r\n    \t\tif(DEBUG_FPS) debugFPS();\r\n    \t}\r\n    }\r\n\r\nThe BackgroundPanel class where the jfxPanel is being held :\r\n\r\n    import javax.swing.JPanel;\r\n    import java.awt.Graphics;\r\n    import java.awt.image.BufferedImage;\r\n    import javax.imageio.ImageIO;\r\n    import java.io.IOException;\r\n    import java.io.File;\r\n    \r\n    import javafx.embed.swing.JFXPanel;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.media.Media;\r\n    import javafx.scene.media.MediaPlayer;\r\n    import javafx.scene.media.MediaView;\r\n    import javafx.animation.Animation;\r\n    import javafx.application.Platform;\r\n    import javafx.scene.Group;\r\n    import javafx.beans.binding.Bindings;\r\n    import java.net.URISyntaxException;\r\n    import javafx.concurrent.Task;\r\n    \r\n    public final class BackgroundPanel extends JPanel\r\n    {\r\n    \tprivate BufferedImage background;\r\n    \r\n    \tprivate JFXPanel jfxPanel;\r\n    \tprivate MediaPlayer mediaPlayer;\r\n    \tprivate MediaView mediaView;\r\n    \tprivate Scene scene;\r\n    \r\n    \tpublic BackgroundPanel(int screenWidth, int screenHeight)\r\n    \t{\r\n    \t\tsetOpaque(false);\r\n    \t\tsetBounds(0,0,screenWidth,screenHeight);\r\n    \t\tsetLayout(null);\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tbackground = ImageIO.read(new File(&quot;MenuPanel.png&quot;));\r\n    \t\t}\r\n    \t\tcatch(IOException e){}\r\n    \r\n    \t\tPlatform.setImplicitExit(false);\r\n    \t\tjfxPanel = new JFXPanel();\r\n    \t\tjfxPanel.setBounds(0,0,screenWidth,screenHeight);\r\n    \t\tjfxPanel.setFocusable(false);\r\n    \t\t\r\n    \t\tPlatform.runLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tString videoPath = &quot;&quot;;\r\n    \t\t\t\t\r\n    \t\t\t\ttry\r\n    \t\t\t\t{\r\n    \t\t\t\t\tvideoPath = getClass().getResource(&quot;/Animation.mp4&quot;).toURI().toString();\r\n    \t\t\t\t}\r\n    \t\t\t\tcatch(URISyntaxException e){e.printStackTrace();}\r\n    \r\n    \t\t\t\tmediaPlayer = new MediaPlayer(new Media(videoPath));\r\n    \t\t\t\tmediaPlayer.setCycleCount(0);\r\n    \t\t\t\tmediaView = new MediaView(mediaPlayer);\r\n    \t\t\t\tjfxPanel.setScene(new Scene(new Group(mediaView),screenWidth,screenHeight));\r\n    \t\t\t\tmediaView.fitWidthProperty().bind(Bindings.selectDouble(mediaView.sceneProperty(),&quot;width&quot;));\r\n    \t\t\t\tmediaView.fitHeightProperty().bind(Bindings.selectDouble(mediaView.sceneProperty(),&quot;height&quot;));\r\n    \t\t\t\tmediaView.setPreserveRatio(false);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tadd(jfxPanel);\r\n    \t}\r\n    \r\n    \tpublic void startVideo()\r\n    \t{\r\n    \t\tjfxPanel.setVisible(true);\r\n    \t\tPlatform.runLater(new Runnable(){public void run(){mediaPlayer.play();}});\r\n    \t}\r\n    \r\n    \tpublic void stopVideo()\r\n    \t{\r\n    \t\tjfxPanel.setVisible(false);\r\n    \t\tPlatform.runLater(new Runnable(){public void run(){mediaPlayer.stop();}});\r\n    \t}\r\n    \r\n    \tpublic void paintComponent(Graphics g)\r\n    \t{\r\n    \t\tg.drawImage(background,0,0,this.getWidth(),this.getHeight(),null);\r\n    \t}\r\n    }","title":"How can I integrate a MediaPlayer video in Swing with a JFXPanel and Active Rendering?","body":"<p>I'm making a 2D game in Java with Swing and I got to a point where i needed to do Active Rendering to play the game's animations smoothly, so i set-up a test project where I just implemented the whole double buffering/page flipping/active rendering thing, and it's working, I get 60 fps and I can draw my swing components in my buffer through a SwingUtilities.InvokeAndWait() call so that I still perform draw calls within the EDT.</p>\n<p>Now the problem is that I also have to play video cinematic in the game and I found JavaFX's MediaPlayer to be the simplest way to do so and it works great with a JFXPanel and passive rendering. But that's where I'm kinda stuck :</p>\n<p>When I start the MediaPlayer I have to make the call through Platform.runLater() so that it works on the JavaFX's side (it's using another and unique thread to perform rendering). The problem is that by doing so I can't actually render this video through my game loop's rendering thread, where every swing components are actually being drawn.</p>\n<p>So right now what happens is that whenever I play the video my framerate goes from 60 to 30fps, I tried to bake the same video in both 60 and 30 fps and see if it would change anything but it's independant of the video's framerate, always goes down to 30fps. And the other problem is that it's not synchronized at all with what is being drawn in the game loop, like for example the simple FPS string debug on the top left corner of the screen is flickering when the video is playing since the draw calls are not synchronized.</p>\n<p>So my question is how could I possibly integrate this media player with Active Rendering ?</p>\n<p>Thank you !</p>\n<p>The Main class where the active rendering is done :</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BufferStrategy;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.io.*;\nimport java.lang.reflect.InvocationTargetException;\n\npublic class Main extends JFrame\n{\n    private final static boolean DEBUG_FPS = true;\n\n    private Container contentPane;\n    private GraphicsDevice graphicsDevice;\n    private GraphicsEnvironment graphicsEnvironment;\n    private BufferStrategy bufferStrategy;\n    private Graphics2D graphics;\n\n    private boolean running;\n    private long lastTime;\n    private long timeSinceLastFPSCalculation;\n    private long deltaTime;\n    private int fps;\n    private int frameCount;\n\n    private int screenWidth;\n    private int screenHeight;\n    private int screenBitDepth;\n    private int screenRefreshRate;\n    private int TARGET_FPS;\n    private long TARGET_FRAME_TIME;\n\n    private Font font;\n    private boolean isAnimationRunning;\n\n    public static void main(String[] args){new Main();}\n\n    private void debugFPS()\n    {\n        graphics.setColor(Color.WHITE);\n        graphics.setFont(font); \n        graphics.drawString(&quot;FPS: &quot;+fps,30,30);\n    }\n\n    public Main()\n    {\n        graphicsEnvironment = GraphicsEnvironment.getLocalGraphicsEnvironment();\n        graphicsDevice = graphicsEnvironment.getDefaultScreenDevice();\n        bufferStrategy = null;\n        graphics = null;\n        \n        screenWidth = graphicsDevice.getDisplayMode().getWidth();\n        screenHeight = graphicsDevice.getDisplayMode().getHeight();\n        screenBitDepth = graphicsDevice.getDisplayMode().getBitDepth();\n        screenRefreshRate = graphicsDevice.getDisplayMode().getRefreshRate();\n        TARGET_FPS = screenRefreshRate;\n        TARGET_FRAME_TIME = (long)1e9/TARGET_FPS;\n        \n        try\n        {\n            font = Font.createFont(Font.TRUETYPE_FONT,new File(&quot;Font.ttf&quot;)).deriveFont(30f);\n            graphicsEnvironment.registerFont(font);\n        }\n        catch(IOException|FontFormatException e){}\n\n        contentPane = getContentPane();\n        contentPane.setBackground(new Color(0,0,0,0));\n        contentPane.setLayout(null);\n\n        BackgroundPanel backgroundPanel = new BackgroundPanel(screenWidth,screenHeight);\n        contentPane.add(backgroundPanel.jfxPanel);\n        backgroundPanel.startVideo();\n        isAnimationRunning = true;\n\n        setSize(screenWidth,screenHeight);\n        setResizable(false);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setUndecorated(true);\n        setFocusTraversalKeysEnabled(false);\n        setIgnoreRepaint(true);\n        setVisible(true);\n        \n        if(graphicsDevice.isFullScreenSupported()) graphicsDevice.setFullScreenWindow(this);\n        createBufferStrategy(2);\n        bufferStrategy = getBufferStrategy();\n\n        addKeyListener(new KeyAdapter()\n        {\n            public void keyPressed(KeyEvent e)\n            {\n                if(e.getKeyCode() == KeyEvent.VK_ESCAPE)\n                {\n                    running = false;\n                }\n                else if(e.getKeyCode() == KeyEvent.VK_SPACE)\n                {\n                    isAnimationRunning = !isAnimationRunning;\n                    if(isAnimationRunning) backgroundPanel.startVideo();\n                    else backgroundPanel.stopVideo();\n                }\n            }\n        });\n        \n        new Thread(new Runnable()\n        {\n            public void run()\n            {\n                gameLoop();\n            }\n        }).start();\n    }\n\n    public void gameLoop()\n    {\n        running = true;\n        lastTime = System.nanoTime();\n        timeSinceLastFPSCalculation = lastTime;\n        deltaTime = 0;\n        fps = 0;\n        frameCount = 0;\n\n        while(running)\n        {\n            long now = System.nanoTime();\n            deltaTime = now - lastTime;\n            lastTime += deltaTime;\n\n            update();\n\n            do\n            {\n                do\n                {\n                    graphics = (Graphics2D)bufferStrategy.getDrawGraphics();\n                    render();\n                    graphics.dispose();\n                }\n                while(bufferStrategy.contentsRestored());\n\n                bufferStrategy.show();\n            }\n            while(bufferStrategy.contentsLost());\n\n            frameCount++;\n            \n            if(now-timeSinceLastFPSCalculation &gt;= 1e9)\n            {\n                fps = frameCount;\n                timeSinceLastFPSCalculation = now;\n                frameCount = 0;\n            }\n            \n            long sleepTime = TARGET_FRAME_TIME-(System.nanoTime()-lastTime);\n            \n            if(sleepTime &gt; 0)\n            {\n                long sleepPhaseBegin = System.nanoTime();\n                while(System.nanoTime()-sleepPhaseBegin &lt; sleepTime) Thread.yield();\n            }\n        }\n\n        graphicsDevice.setFullScreenWindow(null);\n        System.exit(0);\n    }\n\n    public void update()\n    {\n\n    }\n\n    public void renderSwingComponents()\n    {\n        try\n        {\n            SwingUtilities.invokeAndWait(new Runnable()\n            {\n                public void run()\n                {\n                    contentPane.paintAll(graphics);\n                }\n            });\n        }\n        catch(InterruptedException e){Thread.currentThread().interrupt();}\n        catch(InvocationTargetException e){}\n    }\n\n    public void render()\n    {\n        graphics.setColor(Color.BLACK);\n        graphics.fillRect(0,0,screenWidth,screenHeight);\n        graphics.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n        graphics.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\n        graphics.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION,RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n        graphics.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING,RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n        graphics.setRenderingHint(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY);\n        renderSwingComponents();\n        if(DEBUG_FPS) debugFPS();\n    }\n}\n</code></pre>\n<p>The BackgroundPanel class where the jfxPanel is being held :</p>\n<pre><code>import javax.swing.JPanel;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\nimport java.io.IOException;\nimport java.io.File;\n\nimport javafx.embed.swing.JFXPanel;\nimport javafx.scene.Scene;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.scene.media.MediaView;\nimport javafx.animation.Animation;\nimport javafx.application.Platform;\nimport javafx.scene.Group;\nimport javafx.beans.binding.Bindings;\nimport java.net.URISyntaxException;\nimport javafx.concurrent.Task;\n\npublic final class BackgroundPanel extends JPanel\n{\n    private BufferedImage background;\n\n    private JFXPanel jfxPanel;\n    private MediaPlayer mediaPlayer;\n    private MediaView mediaView;\n    private Scene scene;\n\n    public BackgroundPanel(int screenWidth, int screenHeight)\n    {\n        setOpaque(false);\n        setBounds(0,0,screenWidth,screenHeight);\n        setLayout(null);\n        \n        try\n        {\n            background = ImageIO.read(new File(&quot;MenuPanel.png&quot;));\n        }\n        catch(IOException e){}\n\n        Platform.setImplicitExit(false);\n        jfxPanel = new JFXPanel();\n        jfxPanel.setBounds(0,0,screenWidth,screenHeight);\n        jfxPanel.setFocusable(false);\n        \n        Platform.runLater(new Runnable()\n        {\n            public void run()\n            {\n                String videoPath = &quot;&quot;;\n                \n                try\n                {\n                    videoPath = getClass().getResource(&quot;/Animation.mp4&quot;).toURI().toString();\n                }\n                catch(URISyntaxException e){e.printStackTrace();}\n\n                mediaPlayer = new MediaPlayer(new Media(videoPath));\n                mediaPlayer.setCycleCount(0);\n                mediaView = new MediaView(mediaPlayer);\n                jfxPanel.setScene(new Scene(new Group(mediaView),screenWidth,screenHeight));\n                mediaView.fitWidthProperty().bind(Bindings.selectDouble(mediaView.sceneProperty(),&quot;width&quot;));\n                mediaView.fitHeightProperty().bind(Bindings.selectDouble(mediaView.sceneProperty(),&quot;height&quot;));\n                mediaView.setPreserveRatio(false);\n            }\n        });\n\n        add(jfxPanel);\n    }\n\n    public void startVideo()\n    {\n        jfxPanel.setVisible(true);\n        Platform.runLater(new Runnable(){public void run(){mediaPlayer.play();}});\n    }\n\n    public void stopVideo()\n    {\n        jfxPanel.setVisible(false);\n        Platform.runLater(new Runnable(){public void run(){mediaPlayer.stop();}});\n    }\n\n    public void paintComponent(Graphics g)\n    {\n        g.drawImage(background,0,0,this.getWidth(),this.getHeight(),null);\n    }\n}\n</code></pre>\n"},{"tags":["java","joptionpane","parseint"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645740161,"post_id":71258647,"comment_id":125958455,"body_markdown":"So, the error is telling you that the input value of `&quot;&quot;` can&#39;t be converted to `int`.  You&#39;re not doing any validation on the `String` returned from `showInputDialog` and are simply, blindly, trying to convert it to an `int`, which is failing, because no input has been made","body":"So, the error is telling you that the input value of <code>&quot;&quot;</code> can&#39;t be converted to <code>int</code>.  You&#39;re not doing any validation on the <code>String</code> returned from <code>showInputDialog</code> and are simply, blindly, trying to convert it to an <code>int</code>, which is failing, because no input has been made"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1645742061,"post_id":71258647,"comment_id":125958904,"body_markdown":"Faith, you might also want to use doubles for your &quot;price&quot; variables, even if the prices for the meals are 7.00 and 4.00.","body":"Faith, you might also want to use doubles for your &quot;price&quot; variables, even if the prices for the meals are 7.00 and 4.00."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645741266,"creation_date":1645740055,"answer_id":71258764,"question_id":71258647,"body_markdown":"Your problem is that you have no error handling. If any of the dialogs that set the `adultMealOrder` or `kidsMealOrder` is left blank, when you try to parse the integer value, it throws an exception. You must handle the exception and convert the blank String value to zero. Basically, the function cannot convert an empty string into a number. You must do it yourself.\r\n\r\n```\r\ntry {\r\n    adultMealOrdered = Integer.parseInt(adultMealOrder);\r\n} catch (NumberFormatException nfe) {\r\n    adultMealOrdered = 0;\r\n}\r\n```\r\nAnother way to handle this, is to check the output of the dialog function and continue to prompt until the output is not null or not empty.\r\n```\r\nwhile (adultMealOrder == null || adultMealOrder.isBlank()) {\r\n    adultMealOrder = JOptionPane.showInputDialog(&quot;Please enter the number of adult meals:&quot;);\r\n}\r\n```\r\nI personally rather add the error handling on the `parseInt` function rather than this, but it is an option nevertheless.\r\n\r\n----------\r\nYou have other issues:\r\n\r\n 1. Your application runs forever. You have no way to close the application. So, every time you &quot;run&quot; the application, the previous executions are still idle in the background. You should create an application frame and open these dialogs from there. Once you close the frame (if you set `EXIT_ON_CLOSE`), this problem should be fixed.\r\n 2. Don&#39;t loop to calculate the final price. \r\n```\r\nfor(int i = 0; i &lt; adultMealOrdered; i++) {\r\n    totalPrice = totalPrice + adultMeal;\r\n}\r\nfor(int n = 0; n &lt; kidsMealOrdered; n++) {\r\n    totalPrice = totalPrice + kidsMeal;\r\n}\r\n```\r\nShould be simplified to this:\r\n```\r\ntotalPrice = (adultMealOrdered * adultMeal) + (kidsMealOrdered * kidsMeal);\r\n```","title":"When using JOptionPane.showInputDialog the window disappears before I can input and it&#39;s breaking parseint()","body":"<p>Your problem is that you have no error handling. If any of the dialogs that set the <code>adultMealOrder</code> or <code>kidsMealOrder</code> is left blank, when you try to parse the integer value, it throws an exception. You must handle the exception and convert the blank String value to zero. Basically, the function cannot convert an empty string into a number. You must do it yourself.</p>\n<pre><code>try {\n    adultMealOrdered = Integer.parseInt(adultMealOrder);\n} catch (NumberFormatException nfe) {\n    adultMealOrdered = 0;\n}\n</code></pre>\n<p>Another way to handle this, is to check the output of the dialog function and continue to prompt until the output is not null or not empty.</p>\n<pre><code>while (adultMealOrder == null || adultMealOrder.isBlank()) {\n    adultMealOrder = JOptionPane.showInputDialog(&quot;Please enter the number of adult meals:&quot;);\n}\n</code></pre>\n<p>I personally rather add the error handling on the <code>parseInt</code> function rather than this, but it is an option nevertheless.</p>\n<hr />\n<p>You have other issues:</p>\n<ol>\n<li>Your application runs forever. You have no way to close the application. So, every time you &quot;run&quot; the application, the previous executions are still idle in the background. You should create an application frame and open these dialogs from there. Once you close the frame (if you set <code>EXIT_ON_CLOSE</code>), this problem should be fixed.</li>\n<li>Don't loop to calculate the final price.</li>\n</ol>\n<pre><code>for(int i = 0; i &lt; adultMealOrdered; i++) {\n    totalPrice = totalPrice + adultMeal;\n}\nfor(int n = 0; n &lt; kidsMealOrdered; n++) {\n    totalPrice = totalPrice + kidsMeal;\n}\n</code></pre>\n<p>Should be simplified to this:</p>\n<pre><code>totalPrice = (adultMealOrdered * adultMeal) + (kidsMealOrdered * kidsMeal);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645743098,"creation_date":1645741108,"answer_id":71258905,"question_id":71258647,"body_markdown":"So, the error is telling you that the input value of `&quot;&quot;` can&#39;t be converted to `int`.  You&#39;re not doing any validation on the `String` returned from `showInputDialog` and are simply, blindly, trying to convert it to an `int`, which is failing, because no input has been made (and even worse, the return value could be `null`).\r\n\r\n# Cavet\r\n\r\nThe following is a &quot;conceptual&quot; idea which encompasses the input/validation into a self contained and re-usable unit of work.  This &quot;concept&quot; could be used for console input as well.\r\n\r\nThe intention isn&#39;t to &quot;answer&quot; the question directly, but offer (not only an answer), but a conceptual and re-usable workflow and encourage a different way of &quot;thinking&quot; when approaching these kind of issues.\r\n\r\n# Possible solution\r\n\r\nThere are any number of ways you &quot;might&quot; consider fixing this, but the basic idea is to:\r\n\r\n1. Check that the return value is not `null`\r\n2. Validate the return value to ensure it&#39;s actually an `int` value.\r\n\r\nTo this end, I might encapsulate the logic into a self contained unit of work, for example...\r\n\r\n        public static Integer getIntFromUser(String prompt) {\r\n            Integer result = null;\r\n            boolean done = false;\r\n            do {\r\n                String value = JOptionPane.showInputDialog(prompt);\r\n                // User pressed cancel\r\n                if (value == null) {\r\n                    done = true;\r\n                } else {\r\n                    Scanner scanner = new Scanner(value);\r\n                    if (scanner.hasNextInt()) {\r\n                        result = scanner.nextInt();\r\n                        done = true;\r\n                    } else {\r\n                        JOptionPane.showMessageDialog(null, &quot;Please enter a numeric value&quot;);\r\n                    }\r\n                }\r\n            } while (!done);\r\n            return result;\r\n        }\r\n\r\nThis will loop until the user either inputs a valid `int` value or presses &lt;kbd&gt;Cancel&lt;/kbd&gt; (hence the reason it returns `Integer` instead of `int`, this way you can inspect the return value for `null`)\r\n\r\nThe `collectOrder` method would also change to look something more like...\r\n\r\n    public static boolean collectOrder() {\r\n        boolean validUserInput = false;\r\n        Integer inputValue = getIntFromUser(&quot;Please enter the number of adult meals:&quot;);\r\n        if (inputValue != null) {\r\n            // Only prompt for the kids meal if the adult value is valid,\r\n            // otherwise it&#39;s likely that they clicked cancel\r\n            adultMealOrdered = inputValue;\r\n            inputValue = getIntFromUser(&quot;Please enter the number of kids meals:&quot;);\r\n            if (inputValue != null) {\r\n                kidsMealOrdered = inputValue;\r\n                validUserInput = true;\r\n            }\r\n        }\r\n        \r\n        return validUserInput;\r\n    }\r\n\r\nThe intention here is to check the return result from `getIntFromUser`, if it&#39;s `null`, the user pressed `&lt;kbd&gt;Cancel&lt;/kbd&gt;` and we should stop any further processing, otherwise we go onto the next step.\r\n\r\n`collectOrder` also returns `boolean` to indicate whether it has all the required data or not, so we don&#39;t try and finalise the order with invalid or partial data.\r\n\r\n# Runnable example...\r\n\r\n    public static class ChiliToGo {\r\n\r\n        static int adultMeal = 7;\r\n        static int kidsMeal = 4;\r\n        static int adultMealOrdered;\r\n        static int kidsMealOrdered;\r\n        static int totalPrice;\r\n\r\n        public static void main(String[] args) {\r\n            if (collectOrder()) {\r\n                finalizeOrder();\r\n            }\r\n        }\r\n\r\n        public static boolean collectOrder() {\r\n            boolean validUserInput = false;\r\n            Integer inputValue = getIntFromUser(&quot;Please enter the number of adult meals:&quot;);\r\n            if (inputValue != null) {\r\n                // Only prompt for the kids meal if the adult value is valid,\r\n                // otherwise it&#39;s likely that they clicked cancel\r\n                adultMealOrdered = inputValue;\r\n                inputValue = getIntFromUser(&quot;Please enter the number of kids meals:&quot;);\r\n                if (inputValue != null) {\r\n                    kidsMealOrdered = inputValue;\r\n                    validUserInput = true;\r\n                }\r\n            }\r\n            \r\n            return validUserInput;\r\n        }\r\n\r\n        public static Integer getIntFromUser(String prompt) {\r\n            Integer result = null;\r\n            boolean done = false;\r\n            do {\r\n                String value = JOptionPane.showInputDialog(prompt);\r\n                // User pressed cancel\r\n                if (value == null) {\r\n                    done = true;\r\n                } else {\r\n                    Scanner scanner = new Scanner(value);\r\n                    if (scanner.hasNextInt()) {\r\n                        result = scanner.nextInt();\r\n                        done = true;\r\n                    } else {\r\n                        JOptionPane.showMessageDialog(null, &quot;Please enter a numeric value&quot;);\r\n                    }\r\n                }\r\n            } while (!done);\r\n            return result;\r\n        }\r\n\r\n        public static void finalizeOrder() {\r\n            for (int i = 0; i &lt; adultMealOrdered; i++) {\r\n                totalPrice = totalPrice + adultMeal;\r\n            }\r\n            for (int n = 0; n &lt; kidsMealOrdered; n++) {\r\n                totalPrice = totalPrice + kidsMeal;\r\n            }\r\n\r\n            JOptionPane.showInternalMessageDialog(null, &quot;Your order total is: &quot; + totalPrice, null, JOptionPane.INFORMATION_MESSAGE);\r\n        }\r\n    }\r\n\r\n&gt; But why not use a try-catch block?\r\n\r\nWell, this might be a little old school, and you don&#39;t always have the choice, but `try-catch` blocks, generally, shouldn&#39;t be used as control flow mechanisms (every rule has an exception &#128521;)","title":"When using JOptionPane.showInputDialog the window disappears before I can input and it&#39;s breaking parseint()","body":"<p>So, the error is telling you that the input value of <code>&quot;&quot;</code> can't be converted to <code>int</code>.  You're not doing any validation on the <code>String</code> returned from <code>showInputDialog</code> and are simply, blindly, trying to convert it to an <code>int</code>, which is failing, because no input has been made (and even worse, the return value could be <code>null</code>).</p>\n<h1>Cavet</h1>\n<p>The following is a &quot;conceptual&quot; idea which encompasses the input/validation into a self contained and re-usable unit of work.  This &quot;concept&quot; could be used for console input as well.</p>\n<p>The intention isn't to &quot;answer&quot; the question directly, but offer (not only an answer), but a conceptual and re-usable workflow and encourage a different way of &quot;thinking&quot; when approaching these kind of issues.</p>\n<h1>Possible solution</h1>\n<p>There are any number of ways you &quot;might&quot; consider fixing this, but the basic idea is to:</p>\n<ol>\n<li>Check that the return value is not <code>null</code></li>\n<li>Validate the return value to ensure it's actually an <code>int</code> value.</li>\n</ol>\n<p>To this end, I might encapsulate the logic into a self contained unit of work, for example...</p>\n<pre><code>    public static Integer getIntFromUser(String prompt) {\n        Integer result = null;\n        boolean done = false;\n        do {\n            String value = JOptionPane.showInputDialog(prompt);\n            // User pressed cancel\n            if (value == null) {\n                done = true;\n            } else {\n                Scanner scanner = new Scanner(value);\n                if (scanner.hasNextInt()) {\n                    result = scanner.nextInt();\n                    done = true;\n                } else {\n                    JOptionPane.showMessageDialog(null, &quot;Please enter a numeric value&quot;);\n                }\n            }\n        } while (!done);\n        return result;\n    }\n</code></pre>\n<p>This will loop until the user either inputs a valid <code>int</code> value or presses <kbd>Cancel</kbd> (hence the reason it returns <code>Integer</code> instead of <code>int</code>, this way you can inspect the return value for <code>null</code>)</p>\n<p>The <code>collectOrder</code> method would also change to look something more like...</p>\n<pre><code>public static boolean collectOrder() {\n    boolean validUserInput = false;\n    Integer inputValue = getIntFromUser(&quot;Please enter the number of adult meals:&quot;);\n    if (inputValue != null) {\n        // Only prompt for the kids meal if the adult value is valid,\n        // otherwise it's likely that they clicked cancel\n        adultMealOrdered = inputValue;\n        inputValue = getIntFromUser(&quot;Please enter the number of kids meals:&quot;);\n        if (inputValue != null) {\n            kidsMealOrdered = inputValue;\n            validUserInput = true;\n        }\n    }\n    \n    return validUserInput;\n}\n</code></pre>\n<p>The intention here is to check the return result from <code>getIntFromUser</code>, if it's <code>null</code>, the user pressed <code>&lt;kbd&gt;Cancel&lt;/kbd&gt;</code> and we should stop any further processing, otherwise we go onto the next step.</p>\n<p><code>collectOrder</code> also returns <code>boolean</code> to indicate whether it has all the required data or not, so we don't try and finalise the order with invalid or partial data.</p>\n<h1>Runnable example...</h1>\n<pre><code>public static class ChiliToGo {\n\n    static int adultMeal = 7;\n    static int kidsMeal = 4;\n    static int adultMealOrdered;\n    static int kidsMealOrdered;\n    static int totalPrice;\n\n    public static void main(String[] args) {\n        if (collectOrder()) {\n            finalizeOrder();\n        }\n    }\n\n    public static boolean collectOrder() {\n        boolean validUserInput = false;\n        Integer inputValue = getIntFromUser(&quot;Please enter the number of adult meals:&quot;);\n        if (inputValue != null) {\n            // Only prompt for the kids meal if the adult value is valid,\n            // otherwise it's likely that they clicked cancel\n            adultMealOrdered = inputValue;\n            inputValue = getIntFromUser(&quot;Please enter the number of kids meals:&quot;);\n            if (inputValue != null) {\n                kidsMealOrdered = inputValue;\n                validUserInput = true;\n            }\n        }\n        \n        return validUserInput;\n    }\n\n    public static Integer getIntFromUser(String prompt) {\n        Integer result = null;\n        boolean done = false;\n        do {\n            String value = JOptionPane.showInputDialog(prompt);\n            // User pressed cancel\n            if (value == null) {\n                done = true;\n            } else {\n                Scanner scanner = new Scanner(value);\n                if (scanner.hasNextInt()) {\n                    result = scanner.nextInt();\n                    done = true;\n                } else {\n                    JOptionPane.showMessageDialog(null, &quot;Please enter a numeric value&quot;);\n                }\n            }\n        } while (!done);\n        return result;\n    }\n\n    public static void finalizeOrder() {\n        for (int i = 0; i &lt; adultMealOrdered; i++) {\n            totalPrice = totalPrice + adultMeal;\n        }\n        for (int n = 0; n &lt; kidsMealOrdered; n++) {\n            totalPrice = totalPrice + kidsMeal;\n        }\n\n        JOptionPane.showInternalMessageDialog(null, &quot;Your order total is: &quot; + totalPrice, null, JOptionPane.INFORMATION_MESSAGE);\n    }\n}\n</code></pre>\n<blockquote>\n<p>But why not use a try-catch block?</p>\n</blockquote>\n<p>Well, this might be a little old school, and you don't always have the choice, but <code>try-catch</code> blocks, generally, shouldn't be used as control flow mechanisms (every rule has an exception 😉)</p>\n"}],"owner":{"account_id":24369108,"reputation":81,"user_id":18302359,"display_name":"Faith Heath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645743098,"creation_date":1645739226,"question_id":71258647,"body_markdown":"Why do my JOptionPane.showInputDialog windows disappear before I can enter an input? I think it&#39;s what&#39;s causing my code to break. I&#39;ve googled everything I can think of and nothing seems to apply to what I&#39;m doing here. The error I get is: \r\n```\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:678)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n        at ChiliToGo.collectOrder(ChiliToGo.java:25)\r\n        at ChiliToGo.main(ChiliToGo.java:13)\r\n```\r\nI&#39;m just in a beginner java course so It&#39;s probably really dumb what I&#39;m doing.\r\n\r\nI&#39;ve tried formatting the string and moving the main method into a separate class to access the methods in a non-static way because they are the best solutions I got from the posts I found. I&#39;m just really confused because the parseint shouldn&#39;t get the string until I press ok right? It&#39;s only there for a moment and I don&#39;t have a chance to enter the input\r\n\r\nAny help would be appreciated, code is below. Sorry if I made any mistakes this is my first post\r\n\r\n```\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class ChiliToGo {    \r\n    static int adultMeal = 7;\r\n    static int kidsMeal = 4;\r\n    static String adultMealOrder;\r\n    static String kidsMealOrder;\r\n    static int adultMealOrdered;\r\n    static int kidsMealOrdered;\r\n    static int totalPrice;\r\n\r\n    public static void main(String[] args) {\r\n        collectOrder();\r\n        finalizeOrder();\r\n    }\r\n\r\n    public static void collectOrder() {\r\n\r\n        adultMealOrder = JOptionPane.showInputDialog(&quot;Please enter the number of adult meals:&quot;);\r\n        kidsMealOrder = JOptionPane.showInputDialog(&quot;Please enter the number of kids meals:&quot;);\r\n        \r\n        adultMealOrdered = Integer.parseInt(adultMealOrder);\r\n        kidsMealOrdered = Integer.parseInt(kidsMealOrder);\r\n    }\r\n\r\n    public static void finalizeOrder() {\r\n        for(int i = 0; i &lt; adultMealOrdered; i++) {\r\n            totalPrice = totalPrice + adultMeal;\r\n        }\r\n        for(int n = 0; n &lt; kidsMealOrdered; n++) {\r\n            totalPrice = totalPrice + kidsMeal;\r\n        }\r\n\r\n        JOptionPane.showInternalMessageDialog( null, &quot;Your order total is: &quot; + totalPrice, null, JOptionPane.INFORMATION_MESSAGE);\r\n    }\r\n}\r\n\r\n```","title":"When using JOptionPane.showInputDialog the window disappears before I can input and it&#39;s breaking parseint()","body":"<p>Why do my JOptionPane.showInputDialog windows disappear before I can enter an input? I think it's what's causing my code to break. I've googled everything I can think of and nothing seems to apply to what I'm doing here. The error I get is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n        at java.base/java.lang.Integer.parseInt(Integer.java:678)\n        at java.base/java.lang.Integer.parseInt(Integer.java:786)\n        at ChiliToGo.collectOrder(ChiliToGo.java:25)\n        at ChiliToGo.main(ChiliToGo.java:13)\n</code></pre>\n<p>I'm just in a beginner java course so It's probably really dumb what I'm doing.</p>\n<p>I've tried formatting the string and moving the main method into a separate class to access the methods in a non-static way because they are the best solutions I got from the posts I found. I'm just really confused because the parseint shouldn't get the string until I press ok right? It's only there for a moment and I don't have a chance to enter the input</p>\n<p>Any help would be appreciated, code is below. Sorry if I made any mistakes this is my first post</p>\n<pre><code>import javax.swing.JOptionPane;\n\npublic class ChiliToGo {    \n    static int adultMeal = 7;\n    static int kidsMeal = 4;\n    static String adultMealOrder;\n    static String kidsMealOrder;\n    static int adultMealOrdered;\n    static int kidsMealOrdered;\n    static int totalPrice;\n\n    public static void main(String[] args) {\n        collectOrder();\n        finalizeOrder();\n    }\n\n    public static void collectOrder() {\n\n        adultMealOrder = JOptionPane.showInputDialog(&quot;Please enter the number of adult meals:&quot;);\n        kidsMealOrder = JOptionPane.showInputDialog(&quot;Please enter the number of kids meals:&quot;);\n        \n        adultMealOrdered = Integer.parseInt(adultMealOrder);\n        kidsMealOrdered = Integer.parseInt(kidsMealOrder);\n    }\n\n    public static void finalizeOrder() {\n        for(int i = 0; i &lt; adultMealOrdered; i++) {\n            totalPrice = totalPrice + adultMeal;\n        }\n        for(int n = 0; n &lt; kidsMealOrdered; n++) {\n            totalPrice = totalPrice + kidsMeal;\n        }\n\n        JOptionPane.showInternalMessageDialog( null, &quot;Your order total is: &quot; + totalPrice, null, JOptionPane.INFORMATION_MESSAGE);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","xml","veracode"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645742635,"creation_date":1645742334,"answer_id":71259067,"question_id":71193615,"body_markdown":"According to OWASP when describing how to prevent [XML eXternal Entity injection (XXE)](https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html), when using Java and `TransformerFactory` the [recommended approach](https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#transformerfactory) is the following: \r\n\r\n```java\r\nTransformerFactory tf = TransformerFactory.newInstance();\r\ntf.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\ntf.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n```\r\n\r\nPlease, note they are configuring attributes, not features.\r\n\r\nPlease, consider review as well the [documentation](https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/TransformerFactory.html#setAttribute-java.lang.String-java.lang.Object-) provided for the `setAttribute` method in `TransformerFactory`, I think it can be of help:\r\n\r\n&gt; Access to external DTDs in the source file is restricted to the \r\n&gt; protocols specified by the `XMLConstants.ACCESS_EXTERNAL_DTD` \r\n&gt; property. If access is denied during transformation due to the \r\n&gt; restriction of this property, `TransformerException` will be thrown \r\n&gt; by `Transformer.transform(Source, Result)`.\r\n&gt;\r\n&gt; Access to external DTDs in the stylesheet is restricted to the \r\n&gt; protocols specified by the `XMLConstants.ACCESS_EXTERNAL_DTD` \r\n&gt; property. If access is denied during the creation of a new \r\n&gt; transformer due to the restriction of this property, \r\n&gt; `TransformerConfigurationException` will be thrown by the \r\n&gt; `newTransformer(Source)` method.\r\n&gt;\r\n&gt; Access to external reference set by the stylesheet processing \r\n&gt; instruction, Import and Include element is restricted to the \r\n&gt; protocols specified by the `XMLConstants.ACCESS_EXTERNAL_STYLESHEET`\r\n&gt; property. If access is denied during the creation of a new transformer\r\n&gt; due to the restriction of this property,\r\n&gt; `TransformerConfigurationException` will be thrown by the\r\n&gt; `newTransformer(Source)` method.","title":"Improper Restriction of XML EER for TransformerFactory","body":"<p>According to OWASP when describing how to prevent <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">XML eXternal Entity injection (XXE)</a>, when using Java and <code>TransformerFactory</code> the <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#transformerfactory\" rel=\"nofollow noreferrer\">recommended approach</a> is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TransformerFactory tf = TransformerFactory.newInstance();\ntf.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\ntf.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n</code></pre>\n<p>Please, note they are configuring attributes, not features.</p>\n<p>Please, consider review as well the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/TransformerFactory.html#setAttribute-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\">documentation</a> provided for the <code>setAttribute</code> method in <code>TransformerFactory</code>, I think it can be of help:</p>\n<blockquote>\n<p>Access to external DTDs in the source file is restricted to the\nprotocols specified by the <code>XMLConstants.ACCESS_EXTERNAL_DTD</code>\nproperty. If access is denied during transformation due to the\nrestriction of this property, <code>TransformerException</code> will be thrown\nby <code>Transformer.transform(Source, Result)</code>.</p>\n<p>Access to external DTDs in the stylesheet is restricted to the\nprotocols specified by the <code>XMLConstants.ACCESS_EXTERNAL_DTD</code>\nproperty. If access is denied during the creation of a new\ntransformer due to the restriction of this property,\n<code>TransformerConfigurationException</code> will be thrown by the\n<code>newTransformer(Source)</code> method.</p>\n<p>Access to external reference set by the stylesheet processing\ninstruction, Import and Include element is restricted to the\nprotocols specified by the <code>XMLConstants.ACCESS_EXTERNAL_STYLESHEET</code>\nproperty. If access is denied during the creation of a new transformer\ndue to the restriction of this property,\n<code>TransformerConfigurationException</code> will be thrown by the\n<code>newTransformer(Source)</code> method.</p>\n</blockquote>\n"}],"owner":{"account_id":12247989,"reputation":123,"user_id":8939178,"display_name":"Masoom Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71259067,"answer_count":1,"score":0,"last_activity_date":1645742635,"creation_date":1645353985,"question_id":71193615,"body_markdown":"Getting Veracode vulnerability &quot;Improper Restriction of XML External Entity Reference&quot; for &quot;TransformerFactory&quot;, There are several solution for this and the most relevant I found is: [solution][1]. But after trying these solution none of them worked. Below is the code:\r\n\r\n```\r\nimport net.sf.saxon.TransformerFactoryImpl;\r\n.....\r\n TransformerFactory genericFactory = TransformerFactoryImpl.newInstance();\r\n genericFactory.setFeature(&quot;http://javax.xml.XMLConstants/property/accessExternalDTD&quot;, false);\t\r\n genericFactory.setFeature(Constants.FEATURE_SECURE_PROCESSING,true);\r\n```\r\nThe error is: \r\n```\r\njavax.xml.transform.TransformerConfigurationException: Unsupported TransformerFactory feature: http://javax.xml.XMLConstants/property/accessExternalDTD\r\n```\r\nCurrently I am running the application on Java 8 and the relevant jars are:\r\nsaxon9.jar, \r\nxalan-2.7.2.jar\r\n\r\nI tried several combination for these like:\r\n```\r\n//1\r\n TransformerFactory genericFactory = javax.xml.transform.TransformerFactory.newInstance();\r\n genericFactory.setFeature(&quot;http://javax.xml.XMLConstants/property/accessExternalDTD&quot;, false);\t\r\n//2\r\n TransformerFactory genericFactory = com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newInstance();\r\n genericFactory.setFeature(&quot;http://javax.xml.XMLConstants/property/accessExternalDTD&quot;, false);\r\n```\r\nBut getting the same error. How to solve this error?\r\n\r\n  [1]: https://stackoverflow.com/questions/58374278/org-xml-sax-saxnotrecognizedexception-property-http-javax-xml-xmlconstants-p","title":"Improper Restriction of XML EER for TransformerFactory","body":"<p>Getting Veracode vulnerability &quot;Improper Restriction of XML External Entity Reference&quot; for &quot;TransformerFactory&quot;, There are several solution for this and the most relevant I found is: <a href=\"https://stackoverflow.com/questions/58374278/org-xml-sax-saxnotrecognizedexception-property-http-javax-xml-xmlconstants-p\">solution</a>. But after trying these solution none of them worked. Below is the code:</p>\n<pre><code>import net.sf.saxon.TransformerFactoryImpl;\n.....\n TransformerFactory genericFactory = TransformerFactoryImpl.newInstance();\n genericFactory.setFeature(&quot;http://javax.xml.XMLConstants/property/accessExternalDTD&quot;, false);  \n genericFactory.setFeature(Constants.FEATURE_SECURE_PROCESSING,true);\n</code></pre>\n<p>The error is:</p>\n<pre><code>javax.xml.transform.TransformerConfigurationException: Unsupported TransformerFactory feature: http://javax.xml.XMLConstants/property/accessExternalDTD\n</code></pre>\n<p>Currently I am running the application on Java 8 and the relevant jars are:\nsaxon9.jar,\nxalan-2.7.2.jar</p>\n<p>I tried several combination for these like:</p>\n<pre><code>//1\n TransformerFactory genericFactory = javax.xml.transform.TransformerFactory.newInstance();\n genericFactory.setFeature(&quot;http://javax.xml.XMLConstants/property/accessExternalDTD&quot;, false);  \n//2\n TransformerFactory genericFactory = com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newInstance();\n genericFactory.setFeature(&quot;http://javax.xml.XMLConstants/property/accessExternalDTD&quot;, false);\n</code></pre>\n<p>But getting the same error. How to solve this error?</p>\n"},{"tags":["java","build"],"answers":[{"tags":[],"owner":{"account_id":5512082,"reputation":338,"user_id":4378061,"display_name":"mdh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645690971,"creation_date":1645690971,"answer_id":71249028,"question_id":71248206,"body_markdown":"It is indeed possible, just define another execution section and put your second output file path there like described here https://stackoverflow.com/questions/17845423/maven-shade-plugin-to-produce-two-jars\r\n\r\nYou may have to define separate ids for both executions.","title":"Multiple output jar files for intellij pom.xml file","body":"<p>It is indeed possible, just define another execution section and put your second output file path there like described here <a href=\"https://stackoverflow.com/questions/17845423/maven-shade-plugin-to-produce-two-jars\">Maven Shade Plugin to produce two Jars</a></p>\n<p>You may have to define separate ids for both executions.</p>\n"}],"owner":{"account_id":18856786,"reputation":43,"user_id":13754545,"display_name":"Zoboo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71249028,"answer_count":1,"score":0,"last_activity_date":1645742386,"creation_date":1645685949,"question_id":71248206,"body_markdown":"Is it possible to build 2 of the same jar files but in separate directories in intellij?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YDaLJ.png\r\n\r\nAs you can see in lines 41 and 42 I have the outputFile locations set to 2 different locations, however it only builds the jar file in the last outputFile. Is it possible to build in 2 different directories?","title":"Multiple output jar files for intellij pom.xml file","body":"<p>Is it possible to build 2 of the same jar files but in separate directories in intellij?\n<a href=\"https://i.stack.imgur.com/YDaLJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YDaLJ.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see in lines 41 and 42 I have the outputFile locations set to 2 different locations, however it only builds the jar file in the last outputFile. Is it possible to build in 2 different directories?</p>\n"},{"tags":["java","list","collections","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1645462404,"post_id":71209769,"comment_id":125872493,"body_markdown":"I don&#39;t clearly understand what is the difference between the classes `RegionCountry ` and `Region`  in terms of their responsibilities? Can the `Region` class alone substitute them both?","body":"I don&#39;t clearly understand what is the difference between the classes <code>RegionCountry </code> and <code>Region</code>  in terms of their responsibilities? Can the <code>Region</code> class alone substitute them both?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1645462843,"post_id":71209769,"comment_id":125872664,"body_markdown":"According to your problem could you provide an example of input?","body":"According to your problem could you provide an example of input?"},{"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"score":0,"creation_date":1645462887,"post_id":71209769,"comment_id":125872679,"body_markdown":"@alexander-ivanchenko No, `RegionCountry` Indicates Region(Ex. Asia, Europe etc) and List of countries within that Region(Ex. UK, Germany within Europe). While `Region` only indicates one Single region, we cannot replace other classes by  `Region`. Input could be any `List&lt;Long&gt;`  which indicates region or country Ids","body":"@alexander-ivanchenko No, <code>RegionCountry</code> Indicates Region(Ex. Asia, Europe etc) and List of countries within that Region(Ex. UK, Germany within Europe). While <code>Region</code> only indicates one Single region, we cannot replace other classes by  <code>Region</code>. Input could be any <code>List&lt;Long&gt;</code>  which indicates region or country Ids"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1645463113,"post_id":71209769,"comment_id":125872763,"body_markdown":"Got it. How about an example of `countryIds`, `regionIds ` and `regionCountries` to reproduce the problem?","body":"Got it. How about an example of <code>countryIds</code>, <code>regionIds </code> and <code>regionCountries</code> to reproduce the problem?"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645742322,"creation_date":1645742322,"answer_id":71259065,"question_id":71209769,"body_markdown":"The presented code seems to be fine and working, so the actual datasets need to be checked if they meet the provided condition: \r\n`regionIds` contain `rc.regionId` AND `countryIds` contain IDs of all countries.\r\n\r\n[Online demo (using `record` instead of classes to avoid boilerplate code)](https://www.jdoodle.com/iembed/v0/nEJ):\r\n```\r\nnon-filtered\r\nRegionCountry[region=Region[regionId=1, regionName=Europe], countries=[Country[countryId=1, countryName=Albania], Country[countryId=2, countryName=Andorra], Country[countryId=6, countryName=Germany]]]\r\nRegionCountry[region=Region[regionId=3, regionName=America], countries=[Country[countryId=15, countryName=Canada], Country[countryId=16, countryName=US]]]\r\nregion ids: [3, 1]\r\ncountry ids: [1, 2, 3, 15, 6]\r\nfiltered\r\nRegionCountry[region=Region[regionId=1, regionName=Europe], countries=[Country[countryId=1, countryName=Albania], Country[countryId=2, countryName=Andorra], Country[countryId=6, countryName=Germany]]]\r\n```\r\n\r\nA minor optimization would be to use `Set` instead of `List` for `regionIds`, `countryIds` to make faster checks with `Set::contains`.","title":"Check if value from one list is present in another list using stream","body":"<p>The presented code seems to be fine and working, so the actual datasets need to be checked if they meet the provided condition:\n<code>regionIds</code> contain <code>rc.regionId</code> AND <code>countryIds</code> contain IDs of all countries.</p>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/nEJ\" rel=\"nofollow noreferrer\">Online demo (using <code>record</code> instead of classes to avoid boilerplate code)</a>:</p>\n<pre><code>non-filtered\nRegionCountry[region=Region[regionId=1, regionName=Europe], countries=[Country[countryId=1, countryName=Albania], Country[countryId=2, countryName=Andorra], Country[countryId=6, countryName=Germany]]]\nRegionCountry[region=Region[regionId=3, regionName=America], countries=[Country[countryId=15, countryName=Canada], Country[countryId=16, countryName=US]]]\nregion ids: [3, 1]\ncountry ids: [1, 2, 3, 15, 6]\nfiltered\nRegionCountry[region=Region[regionId=1, regionName=Europe], countries=[Country[countryId=1, countryName=Albania], Country[countryId=2, countryName=Andorra], Country[countryId=6, countryName=Germany]]]\n</code></pre>\n<p>A minor optimization would be to use <code>Set</code> instead of <code>List</code> for <code>regionIds</code>, <code>countryIds</code> to make faster checks with <code>Set::contains</code>.</p>\n"}],"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71259065,"answer_count":1,"score":0,"last_activity_date":1645742322,"creation_date":1645460918,"question_id":71209769,"body_markdown":"I have `List&lt;RegionCountry&gt; regionCountries` of:\r\n\r\n    \r\n\r\n    class RegionCountry {\r\n        Region region;\r\n        List&lt;Country&gt; countries;\r\n       }\r\n\r\nAnd Region and Country looks like:\r\n\r\n    class Region {\r\n        Long regionId;\r\n        String regionName;\r\n    }\r\n    \r\n    class Country {\r\n        Long countryId;\r\n        String countryName;\r\n    }\r\n\r\nEach Region have multiple countries within them. I am getting `List&lt;Long&gt; countryIds` and `List&lt;Long&gt; regionIds` from the UI which I want to compare against this `regionCountries`. So I did something like:\r\n\r\n    List&lt;RegionCountry&gt; filteredList = regionCountries\r\n    \t\t\t\t\t\t\t.stream()\r\n                                .filter(regionCountry -&gt; regionIds.contains(regionCountry.getRegion().getRegionId()))\r\n    \t\t\t\t\t\t\t.filter(regionCountry -&gt; regionCountry.getCountries()\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t.stream()\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t.allMatch(country -&gt; countryIds.contains(country.getCountryId())))\r\n                                .collect(Collectors.toList());\r\n\t\t\t\t\t\t\t\r\nBut it is not returning anything. I am trying to figure out how to compare `List&lt;Long&gt; countryIds` with `List&lt;Country&gt; countries` of `RegionCountry`. Is there any better approach to do it in `Java 8` or `8+` using `stream API`? Or can it be simplified by using any other approach? ","title":"Check if value from one list is present in another list using stream","body":"<p>I have <code>List&lt;RegionCountry&gt; regionCountries</code> of:</p>\n<pre><code>class RegionCountry {\n    Region region;\n    List&lt;Country&gt; countries;\n   }\n</code></pre>\n<p>And Region and Country looks like:</p>\n<pre><code>class Region {\n    Long regionId;\n    String regionName;\n}\n\nclass Country {\n    Long countryId;\n    String countryName;\n}\n</code></pre>\n<p>Each Region have multiple countries within them. I am getting <code>List&lt;Long&gt; countryIds</code> and <code>List&lt;Long&gt; regionIds</code> from the UI which I want to compare against this <code>regionCountries</code>. So I did something like:</p>\n<pre><code>List&lt;RegionCountry&gt; filteredList = regionCountries\n                            .stream()\n                            .filter(regionCountry -&gt; regionIds.contains(regionCountry.getRegion().getRegionId()))\n                            .filter(regionCountry -&gt; regionCountry.getCountries()\n                                                    .stream()\n                                                    .allMatch(country -&gt; countryIds.contains(country.getCountryId())))\n                            .collect(Collectors.toList());\n                        \n</code></pre>\n<p>But it is not returning anything. I am trying to figure out how to compare <code>List&lt;Long&gt; countryIds</code> with <code>List&lt;Country&gt; countries</code> of <code>RegionCountry</code>. Is there any better approach to do it in <code>Java 8</code> or <code>8+</code> using <code>stream API</code>? Or can it be simplified by using any other approach?</p>\n"},{"tags":["java","windows","cmd","command-line","windows-firewall"],"comments":[{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1645747564,"post_id":71258999,"comment_id":125960011,"body_markdown":"To whoever voted to close the question: This question is specifically how to programmatically launch a program (in Java) while bypassing Windows Defender Firewall dialog. Can you explain why you voted to close this question?","body":"To whoever voted to close the question: This question is specifically how to programmatically launch a program (in Java) while bypassing Windows Defender Firewall dialog. Can you explain why you voted to close this question?"},{"owner":{"account_id":653447,"reputation":15025,"user_id":447901,"accept_rate":66,"display_name":"lit"},"score":1,"creation_date":1645804332,"post_id":71258999,"comment_id":125974822,"body_markdown":"&quot;Configure and manage Microsoft Defender Antivirus with the mpcmdrun.exe command-line tool&quot; https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/command-line-arguments-microsoft-defender-antivirus?view=o365-worldwide","body":"&quot;Configure and manage Microsoft Defender Antivirus with the mpcmdrun.exe command-line tool&quot; <a href=\"https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/command-line-arguments-microsoft-defender-antivirus?view=o365-worldwide\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/microsoft-365/security/&hellip;</a>"}],"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645742031,"creation_date":1645741720,"question_id":71258999,"body_markdown":"I&#39;m launching a program with administrative privileges in `Java` using the `CMD`: \r\n\r\n\ttry {\r\n\t\tRuntime.getRuntime().exec(cmd, null, new File(processDir));\r\n\t} catch (IOException e1) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te1.printStackTrace();\r\n\t}\r\n\r\n\r\nThis causes the Windows Security Alert dialog to appear:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI would like to suppress the dialog from appearing as this would require manual input for a program that is suppose to be fully automated.\r\n\r\n**1)** Is it possible to execute a specific command in a way that prevents the dialog from appearing for that command?\r\n\r\n**2)** If not, is it possible to programmatically disable the dialog from ever appearing?\r\n\r\nPresumably, I could completely disable `Windows Defender Firewall` but this isn&#39;t ideal. \r\n\r\nI&#39;m using `Java + Windows 10`.\r\n\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dIpzy.jpg","title":"How to Suppress Windows Security Alert when Launching Java Program via CMD?","body":"<p>I'm launching a program with administrative privileges in <code>Java</code> using the <code>CMD</code>:</p>\n<pre><code>try {\n    Runtime.getRuntime().exec(cmd, null, new File(processDir));\n} catch (IOException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n</code></pre>\n<p>This causes the Windows Security Alert dialog to appear:</p>\n<p><a href=\"https://i.stack.imgur.com/dIpzy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dIpzy.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I would like to suppress the dialog from appearing as this would require manual input for a program that is suppose to be fully automated.</p>\n<p><strong>1)</strong> Is it possible to execute a specific command in a way that prevents the dialog from appearing for that command?</p>\n<p><strong>2)</strong> If not, is it possible to programmatically disable the dialog from ever appearing?</p>\n<p>Presumably, I could completely disable <code>Windows Defender Firewall</code> but this isn't ideal.</p>\n<p>I'm using <code>Java + Windows 10</code>.</p>\n<p>Thanks</p>\n"},{"tags":["java","eclipse","apache-kafka"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1645772832,"post_id":71257310,"comment_id":125964265,"body_markdown":"Looks like you are using the Java module system, just deleting the &#39;module-info.java&#39; to stop using that would be a quick fix.","body":"Looks like you are using the Java module system, just deleting the &#39;module-info.java&#39; to stop using that would be a quick fix."},{"owner":{"account_id":24289131,"reputation":1,"user_id":18234469,"display_name":"Adri2210"},"score":0,"creation_date":1645796332,"post_id":71257310,"comment_id":125971687,"body_markdown":"Where can I find that file in Java?","body":"Where can I find that file in Java?"}],"owner":{"account_id":24289131,"reputation":1,"user_id":18234469,"display_name":"Adri2210"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645741823,"creation_date":1645731147,"question_id":71257310,"body_markdown":"I am trying to use the code from a youtube tutorial to set up Kafka with Eclipse. The thing is I finally managed to set up the servers and the code, as far as my knowledge goes, seems fine to me. The problem is that I have to import files from Kafka to make the program work and it seems there has been a problem with the module dependencies. I already looked up some questions which told me to install new software which I did and it still does not work.\r\n\r\nThe code looks like this \r\n\r\n``` \r\nimport java.util.Properties;\r\n\r\nimport org.apache.kafka.clients.producer.KafkaProducer;\r\nimport org.apache.kafka.clients.producer.Producer;\r\nimport org.apache.kafka.clients.producer.ProducerRecord;\r\n\r\npublic class Produce {\r\n\r\n\tpublic static void main(String [] args) {\r\n\r\n\t\t// properties for producer\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n\t\tprops.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.IntegerSerializer&quot;);\r\n\t\tprops.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\r\n\t\t// create Producer\r\n\t\tProducer&lt;Integer, String&gt; producer = new KafkaProducer&lt;Integer,String&gt;(props);\r\n\t\t\r\n\t\t// send messages to my topic\r\n\t\tfor(int i = 0; i &lt; 1; i++) {\r\n\t\tProducerRecord&lt;Integer, String&gt; producerRecord = new ProducerRecord&lt;Integer, String&gt;(&quot;Test Topic&quot;, i, &quot;Test Message #&quot; +  Integer.toString(i));\r\n\t\tproducer.send(producerRecord);\r\n\t\t}\r\n\t\t \t\r\n\t\t// close Producer\r\n\t\t\r\n\t\tproducer.close();\r\n\t}\r\n    }\r\n``` \r\n\r\nand the error message is this :\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Unable to derive module descriptor for C:\\Users\\adria\\kafka_2.13-3.1.0\\libs\\jackson-module-scala_2.13-2.12.3.jar\r\nCaused by: java.lang.IllegalArgumentException: jackson.module.scala.2.13: Invalid module name: &#39;2&#39; is not a Java identifier\r\n\r\nI can understand somewhat but not enough to get anywhere near solving it. Thanks for the help.\r\n","title":"Kafka in Eclipse","body":"<p>I am trying to use the code from a youtube tutorial to set up Kafka with Eclipse. The thing is I finally managed to set up the servers and the code, as far as my knowledge goes, seems fine to me. The problem is that I have to import files from Kafka to make the program work and it seems there has been a problem with the module dependencies. I already looked up some questions which told me to install new software which I did and it still does not work.</p>\n<p>The code looks like this</p>\n<pre><code>import java.util.Properties;\n\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.Producer;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\npublic class Produce {\n\n    public static void main(String [] args) {\n\n        // properties for producer\n        Properties props = new Properties();\n        props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        props.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.IntegerSerializer&quot;);\n        props.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n\n        // create Producer\n        Producer&lt;Integer, String&gt; producer = new KafkaProducer&lt;Integer,String&gt;(props);\n        \n        // send messages to my topic\n        for(int i = 0; i &lt; 1; i++) {\n        ProducerRecord&lt;Integer, String&gt; producerRecord = new ProducerRecord&lt;Integer, String&gt;(&quot;Test Topic&quot;, i, &quot;Test Message #&quot; +  Integer.toString(i));\n        producer.send(producerRecord);\n        }\n            \n        // close Producer\n        \n        producer.close();\n    }\n    }\n</code></pre>\n<p>and the error message is this :\nError occurred during initialization of boot layer\njava.lang.module.FindException: Unable to derive module descriptor for C:\\Users\\adria\\kafka_2.13-3.1.0\\libs\\jackson-module-scala_2.13-2.12.3.jar\nCaused by: java.lang.IllegalArgumentException: jackson.module.scala.2.13: Invalid module name: '2' is not a Java identifier</p>\n<p>I can understand somewhat but not enough to get anywhere near solving it. Thanks for the help.</p>\n"},{"tags":["java","gradle","javadoc"],"comments":[{"owner":{"account_id":264385,"reputation":108,"user_id":550633,"display_name":"Erwan Leroux"},"score":0,"creation_date":1670180374,"post_id":71258962,"comment_id":131810273,"body_markdown":"Could you add the code from the gradle project implementing the library ?\nFrom what you are telling, i think you are adding the wrong jar as a dependency, you are not supposed to add the -sources.jar as a dependency","body":"Could you add the code from the gradle project implementing the library ? From what you are telling, i think you are adding the wrong jar as a dependency, you are not supposed to add the -sources.jar as a dependency"}],"owner":{"account_id":23761704,"reputation":41,"user_id":17777005,"display_name":"Manotas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645741491,"creation_date":1645741491,"question_id":71258962,"body_markdown":"I have a current Gradle, Java 11, project that I intent to use as a library with a set of general purpose functions for another apps.\r\n\r\nI&#39;m using the Gradle function:\r\n\r\n    java{\r\n        withSourcesJar()\r\n    }\r\n\r\nTo build a `.jar` with the source and JavaDoc included. However when I import that `.jar` into another app (via Gradle implementation) all the non java SDK dependencies in the .jar library fails with a message of the style:\r\n\r\n    Package &#39;x&#39; is declared in module &#39;y&#39;, but module &#39;z&#39; does not read it\r\nEven though that all the required dependencies are already implemented (via Gradle as well) in the host app.\r\n\r\nThe part that puzzle me more, is that if I build the library jar, as a simple plain `.jar`(meaning source code but no Javadoc) the library works smoothly when implemented in other apps, it only fails when I try to build it as a `withSourcesJar()`.\r\n\r\nSo any help that could point me on what I doing wring in the `withSourcesJar()` or what extra configuration should I add, would be appreciated.\r\n\r\nThanks.","title":"Gradle withSourcesJar as library not working","body":"<p>I have a current Gradle, Java 11, project that I intent to use as a library with a set of general purpose functions for another apps.</p>\n<p>I'm using the Gradle function:</p>\n<pre><code>java{\n    withSourcesJar()\n}\n</code></pre>\n<p>To build a <code>.jar</code> with the source and JavaDoc included. However when I import that <code>.jar</code> into another app (via Gradle implementation) all the non java SDK dependencies in the .jar library fails with a message of the style:</p>\n<pre><code>Package 'x' is declared in module 'y', but module 'z' does not read it\n</code></pre>\n<p>Even though that all the required dependencies are already implemented (via Gradle as well) in the host app.</p>\n<p>The part that puzzle me more, is that if I build the library jar, as a simple plain <code>.jar</code>(meaning source code but no Javadoc) the library works smoothly when implemented in other apps, it only fails when I try to build it as a <code>withSourcesJar()</code>.</p>\n<p>So any help that could point me on what I doing wring in the <code>withSourcesJar()</code> or what extra configuration should I add, would be appreciated.</p>\n<p>Thanks.</p>\n"},{"tags":["java","git","git-credential-manager"],"answers":[{"tags":[],"owner":{"account_id":11896030,"reputation":68091,"user_id":8705432,"display_name":"bk2204"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645741183,"creation_date":1645741183,"answer_id":71258915,"question_id":71251601,"body_markdown":"There are a couple problems here.  First, the reason you&#39;re seeing this message is because in a credential helper, standard input and output are wired up to Git, not the user&#39;s TTY.  As a result, you can only print properly formatted lines to standard output, and not messages to the user.  If you want to interact with the user from the console, you&#39;ll need to use `/dev/tty` or a similar equivalent on Windows.\r\n\r\nSecond, generally people expect credential helpers to be mostly noninteractive.  Your program is not noninteractive and prompts the user, and Git has its own credential prompt, so you&#39;re uselessly duplicating the behavior that Git has built-in.  Moreover, Git also has proper behavior when asked not to prompt the user or when the TTY doesn&#39;t exist, which your program does not.  For example, it doesn&#39;t honor `GIT_TERMINAL_PROMPT`, and therefore will break when used in a script or by certain programs, such as the Go toolchain.\r\n\r\nThird, credential helpers may be invoked frequently by Git and Git LFS.  Therefore, using a language like Java, which is slow to start, would be a bad idea, since it can make the operation take substantially longer than a program written in a different language.  If you need a cross-platform language that is fast to start, I&#39;d recommend Rust, or maybe Go, for this purpose.","title":"custom git credential helper using java hangs at user input","body":"<p>There are a couple problems here.  First, the reason you're seeing this message is because in a credential helper, standard input and output are wired up to Git, not the user's TTY.  As a result, you can only print properly formatted lines to standard output, and not messages to the user.  If you want to interact with the user from the console, you'll need to use <code>/dev/tty</code> or a similar equivalent on Windows.</p>\n<p>Second, generally people expect credential helpers to be mostly noninteractive.  Your program is not noninteractive and prompts the user, and Git has its own credential prompt, so you're uselessly duplicating the behavior that Git has built-in.  Moreover, Git also has proper behavior when asked not to prompt the user or when the TTY doesn't exist, which your program does not.  For example, it doesn't honor <code>GIT_TERMINAL_PROMPT</code>, and therefore will break when used in a script or by certain programs, such as the Go toolchain.</p>\n<p>Third, credential helpers may be invoked frequently by Git and Git LFS.  Therefore, using a language like Java, which is slow to start, would be a bad idea, since it can make the operation take substantially longer than a program written in a different language.  If you need a cross-platform language that is fast to start, I'd recommend Rust, or maybe Go, for this purpose.</p>\n"}],"owner":{"account_id":1879948,"reputation":1377,"user_id":1700378,"accept_rate":64,"display_name":"Umesh Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645741183,"creation_date":1645703910,"question_id":71251601,"body_markdown":"I am developing a custom git credential helper using java  and trying to implement azure device code flow in the background.\r\nAs part of implementation i have to print URL and device code on console which user will use for authentication then press ENTER on the console , but git terminal hangs after printing the URL and device code.\r\nBelow is my code.\r\n\r\n    public class GitHelper {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString op = args[0];\r\n    \t\tswitch (op) {\r\n    \t\tcase &quot;get&quot;:\r\n    \t\t\tSystem.out.printf(&quot;username=%s\\n&quot;, &quot;oauth2&quot;);\r\n    \t\t\tSystem.out.printf(&quot;password=%s\\n&quot;, getToken());\r\n    \t\t\tbreak;\r\n    \t\tdefault:\r\n    \t\t\tSystem.out.println(args[0]);\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n    public void waitForUser() {\r\n    \r\n    \t\tSystem.out.println(&quot;To sign in, use a web browser to open the page &quot; + URL\r\n    \t\t\t\t+ &quot;\\n and enter the code &quot; + code\r\n    \t\t\t\t+ &quot; to authenticate then return to this window and press ENTER.&quot;);\r\n    \t\tCallable&lt;String&gt; userInput = () -&gt; new Scanner(System.in).nextLine();\r\n    \t\tString res = getUserInputWithTimeout(TIMEOUT, userInput); // 30s until timeout\r\n    \r\n    \t\tif (res != null) {\r\n    \t\t\tSystem.out.println(&quot;Validating Authentication ...&quot;);\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n\r\nI have my code bundled as a jar and I have below in my gitconfig.\r\n\r\n    [credential]\r\n    \thelper = &quot;!java -jar D:/config/git-credential-helper.jar&quot;\r\n\r\nWhen I do git operation like git clone I am getting below warning and it just hangs there\r\n\r\n    warning: invalid credential line: To sign in, use a web browser to open the page www.login.com and enter the code 324523453425 to authenticate then return to this window and press ENTER.","title":"custom git credential helper using java hangs at user input","body":"<p>I am developing a custom git credential helper using java  and trying to implement azure device code flow in the background.\nAs part of implementation i have to print URL and device code on console which user will use for authentication then press ENTER on the console , but git terminal hangs after printing the URL and device code.\nBelow is my code.</p>\n<pre><code>public class GitHelper {\n\n    public static void main(String[] args) {\n\n        String op = args[0];\n        switch (op) {\n        case &quot;get&quot;:\n            System.out.printf(&quot;username=%s\\n&quot;, &quot;oauth2&quot;);\n            System.out.printf(&quot;password=%s\\n&quot;, getToken());\n            break;\n        default:\n            System.out.println(args[0]);\n            break;\n        }\n\n    }\n}\npublic void waitForUser() {\n\n        System.out.println(&quot;To sign in, use a web browser to open the page &quot; + URL\n                + &quot;\\n and enter the code &quot; + code\n                + &quot; to authenticate then return to this window and press ENTER.&quot;);\n        Callable&lt;String&gt; userInput = () -&gt; new Scanner(System.in).nextLine();\n        String res = getUserInputWithTimeout(TIMEOUT, userInput); // 30s until timeout\n\n        if (res != null) {\n            System.out.println(&quot;Validating Authentication ...&quot;);\n\n        }\n\n    }\n</code></pre>\n<p>I have my code bundled as a jar and I have below in my gitconfig.</p>\n<pre><code>[credential]\n    helper = &quot;!java -jar D:/config/git-credential-helper.jar&quot;\n</code></pre>\n<p>When I do git operation like git clone I am getting below warning and it just hangs there</p>\n<pre><code>warning: invalid credential line: To sign in, use a web browser to open the page www.login.com and enter the code 324523453425 to authenticate then return to this window and press ENTER.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat","keycloak"],"comments":[{"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"score":0,"creation_date":1601990425,"post_id":64153617,"comment_id":113572989,"body_markdown":"„*…I deploy the WAR…*“ — I will try one more time: (***1***) &#171;*Why do you absolutely **MUST** have a WAR?*&#187; — *`kp.getKeycloakSecurityContext().getToken()…`*  — (***2***) What type of token is that? (***3***) Is this a component in the same project [*your other question*](https://stackoverflow.com/q/64025546/4465539) asks about?  (***4***) Are the properties in the *application.properties* of this project, the same as in the *application.properties* of that other Keycloak question? (***5***) Do you appreciate how frustrating it is trying to help someone that&#39;s hesitant to answer questions? TIA","body":"„<i>…I deploy the WAR…</i>“ — I will try one more time: (<b><i>1</i></b>) &#171;<i>Why do you absolutely <b>MUST</b> have a WAR?</i>&#187; — <i><code>kp.getKeycloakSecurityContext().getToken()…</code></i>  — (<b><i>2</i></b>) What type of token is that? (<b><i>3</i></b>) Is this a component in the same project <a href=\"https://stackoverflow.com/q/64025546/4465539\"><i>your other question</i></a> asks about?  (<b><i>4</i></b>) Are the properties in the <i>application.properties</i> of this project, the same as in the <i>application.properties</i> of that other Keycloak question? (<b><i>5</i></b>) Do you appreciate how frustrating it is trying to help someone that&#39;s hesitant to answer questions? TIA"},{"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"score":0,"creation_date":1601992324,"post_id":64153617,"comment_id":113574073,"body_markdown":"„*…i have to deploy my app…so users can access it…*“ — I will assume that you already know that a Spring Boot ***jar*** could be deployed by simply running *`java -jar /path/to/boot-app.jar…`* on a *remote* machine. That users can still access the web app that way. I mention this because Spring Boot is designed to simplify things. I suspect that part of your problem is you may be *over-complicating* things by unnecessarily „*deploying a WAR to Tomcat*“. —„*…once i fix keycloak with spring secured, this will work…*“ — Is it a good idea to pile  more components on top of a malconfigured system?","body":"„<i>…i have to deploy my app…so users can access it…</i>“ — I will assume that you already know that a Spring Boot <b><i>jar</i></b> could be deployed by simply running <i><code>java -jar &#47;path&#47;to&#47;boot-app.jar…</code></i> on a <i>remote</i> machine. That users can still access the web app that way. I mention this because Spring Boot is designed to simplify things. I suspect that part of your problem is you may be <i>over-complicating</i> things by unnecessarily „<i>deploying a WAR to Tomcat</i>“. —„<i>…once i fix keycloak with spring secured, this will work…</i>“ — Is it a good idea to pile  more components on top of a malconfigured system?"},{"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"score":0,"creation_date":1601993027,"post_id":64153617,"comment_id":113574459,"body_markdown":"„*…once i fix something, something else get messed up…*“ — I didn&#39;t see that until after I posted my last comment. I alluded to it in the last sentence of my  comment: ***It is not a good idea to pile more components on top of a malconfigured system***. My advice is you should fix one thing at a time. Don&#39;t add additional ***complexity*** until you know your base system is working. One more question for you: *Does either of the proposed solutions have any relevance to you?* I&#39;m referring to [*my answer*](https://stackoverflow.com/a/64224692/4465539) and the other two answers so far. TIA.","body":"„<i>…once i fix something, something else get messed up…</i>“ — I didn&#39;t see that until after I posted my last comment. I alluded to it in the last sentence of my  comment: <b><i>It is not a good idea to pile more components on top of a malconfigured system</i></b>. My advice is you should fix one thing at a time. Don&#39;t add additional <b><i>complexity</i></b> until you know your base system is working. One more question for you: <i>Does either of the proposed solutions have any relevance to you?</i> I&#39;m referring to <a href=\"https://stackoverflow.com/a/64224692/4465539\"><i>my answer</i></a> and the other two answers so far. TIA."},{"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"score":0,"creation_date":1601994895,"post_id":64153617,"comment_id":113575523,"body_markdown":"„*…i mixed the whole thing up, but i couldn&#39;t find a one way to use keycloak…*“ —  The reason you couldn&#39;t is because there are as many different ways to use Keycloak as there are apps. Different systems&#39; Keycloak configs should not be expected to be exactly the same. Yes there are commonalities. But your system&#39;s constraints sound atypical to my experience. More than likely your solution will be some config unique to your system. Your best chance for a resolution is to share an [*MRE*](https://stackoverflow.com/help/minimal-reproducible-example). If you can&#39;t, then good luck. I tried my best…","body":"„<i>…i mixed the whole thing up, but i couldn&#39;t find a one way to use keycloak…</i>“ —  The reason you couldn&#39;t is because there are as many different ways to use Keycloak as there are apps. Different systems&#39; Keycloak configs should not be expected to be exactly the same. Yes there are commonalities. But your system&#39;s constraints sound atypical to my experience. More than likely your solution will be some config unique to your system. Your best chance for a resolution is to share an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\"><i>MRE</i></a>. If you can&#39;t, then good luck. I tried my best…"},{"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"score":0,"creation_date":1601998004,"post_id":64153617,"comment_id":113577210,"body_markdown":"„*…your answer and one other answer is relevant to me…*“ — I noticed [*you ediited the `application.properties`*](https://stackoverflow.com/revisions/64025546/15) in your other question from *`keycloak.public-client=true`* to *`keycloak.public-client=false`* as I proposed in [*my answer*](https://stackoverflow.com/a/64224692/4465539) below. What&#39;s the reason for not also adding *`keycloak.principal-attribute=preferred_username`* — which I also proposed? I think that property is needed as much as (*possibly more than*) the *`keycloak.public-client`* property. If you don&#39;t mind me asking. TIA.","body":"„<i>…your answer and one other answer is relevant to me…</i>“ — I noticed <a href=\"https://stackoverflow.com/revisions/64025546/15\"><i>you ediited the <code>application.properties</code></i></a> in your other question from <i><code>keycloak.public-client=true</code></i> to <i><code>keycloak.public-client=false</code></i> as I proposed in <a href=\"https://stackoverflow.com/a/64224692/4465539\"><i>my answer</i></a> below. What&#39;s the reason for not also adding <i><code>keycloak.principal-attribute=preferred_username</code></i> — which I also proposed? I think that property is needed as much as (<i>possibly more than</i>) the <i><code>keycloak.public-client</code></i> property. If you don&#39;t mind me asking. TIA."},{"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"score":0,"creation_date":1601999747,"post_id":64153617,"comment_id":113578131,"body_markdown":"„*…because as i mentioned in my question i followed the documentation…*“ — Did you notice the differences between [*that tutorial*](https://www.baeldung.com/spring-boot-keycloak) and your app? (***1***) Browser Form Login vs Bearer Token? (***2***)  No requirement to access the principal vs a requirement to access the principal? That&#39;s just the two you&#39;ve made known. I suspect there are more differences we don&#39;t know about. But please correct me if I&#39;m wrong. Does your app ***also*** require browser login? Is this post ***not*** asking why the principal is not accessible by your program? TIA.","body":"„<i>…because as i mentioned in my question i followed the documentation…</i>“ — Did you notice the differences between <a href=\"https://www.baeldung.com/spring-boot-keycloak\" rel=\"nofollow noreferrer\"><i>that tutorial</i></a> and your app? (<b><i>1</i></b>) Browser Form Login vs Bearer Token? (<b><i>2</i></b>)  No requirement to access the principal vs a requirement to access the principal? That&#39;s just the two you&#39;ve made known. I suspect there are more differences we don&#39;t know about. But please correct me if I&#39;m wrong. Does your app <b><i>also</i></b> require browser login? Is this post <b><i>not</i></b> asking why the principal is not accessible by your program? TIA."},{"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"score":0,"creation_date":1602000659,"post_id":64153617,"comment_id":113578617,"body_markdown":"„*…i should be able to access the principal in spring boot side, if i&#39;ve already logged in in angular side…*“ — You should ***IFF*** you&#39;ve configured the *spring boot side* correctly. Yes. So now tell us: *What have you **already** done so far to configure the **spring boot side** to access the principal?* Your answer to that would help me and others tremendously in solving the issue you&#39;re reporting in this question. And, of course, you *would* like us to help you. Isn&#39;t that right? TIA.","body":"„<i>…i should be able to access the principal in spring boot side, if i&#39;ve already logged in in angular side…</i>“ — You should <b><i>IFF</i></b> you&#39;ve configured the <i>spring boot side</i> correctly. Yes. So now tell us: <i>What have you <b>already</b> done so far to configure the <b>spring boot side</b> to access the principal?</i> Your answer to that would help me and others tremendously in solving the issue you&#39;re reporting in this question. And, of course, you <i>would</i> like us to help you. Isn&#39;t that right? TIA."}],"answers":[{"tags":[],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1601891930,"creation_date":1601891930,"answer_id":64206390,"question_id":64153617,"body_markdown":"I recently did the same thing in my applications but I didn&#39;t use the Keycloak adapter, Spring Security 5 provides all we need to secure our applications with Keycloak or with any Oauth2 provider. \r\nAnother difference, I use Hibernate Envers, which allow me to also audit delete operations. \r\n\r\nTo get the authenticated user, this is how I proceed. \r\n\r\n```\r\n   public static String extractUsernameFromAuthentication() {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        String username;\r\n        if ( isNull( authentication ) ) {\r\n            return null;\r\n        }\r\n        if ( authentication instanceof JwtAuthenticationToken ) {\r\n            JwtAuthenticationToken token = (JwtAuthenticationToken) authentication;\r\n            username = (String) ( token ).getTokenAttributes().get( &quot;preferred_username&quot; );\r\n        } else {\r\n            username = authentication.getName();\r\n        }\r\n        return username;\r\n    }\r\n```\r\nRemember, I do not use the Keycloak Adapter.","title":"How to get Keycloak username in AuditorAware","body":"<p>I recently did the same thing in my applications but I didn't use the Keycloak adapter, Spring Security 5 provides all we need to secure our applications with Keycloak or with any Oauth2 provider.\nAnother difference, I use Hibernate Envers, which allow me to also audit delete operations.</p>\n<p>To get the authenticated user, this is how I proceed.</p>\n<pre><code>   public static String extractUsernameFromAuthentication() {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        String username;\n        if ( isNull( authentication ) ) {\n            return null;\n        }\n        if ( authentication instanceof JwtAuthenticationToken ) {\n            JwtAuthenticationToken token = (JwtAuthenticationToken) authentication;\n            username = (String) ( token ).getTokenAttributes().get( &quot;preferred_username&quot; );\n        } else {\n            username = authentication.getName();\n        }\n        return username;\n    }\n</code></pre>\n<p>Remember, I do not use the Keycloak Adapter.</p>\n"},{"tags":[],"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601982992,"creation_date":1601982992,"answer_id":64224692,"question_id":64153617,"body_markdown":"***TL;DR*** — In your *application.properties* file, ***add*** *`keycloak.principal-attribute=preferred_username`*. ***Conditionally***, you ***might*** also need to set *`keycloak.public-client=false`* (*or remove it completely*). \r\n\r\n---\r\n\r\n***The long-winded version***\r\n\r\nAccording to [*your other Keycloak-related question*](https://stackoverflow.com/q/64025546/4465539)…\r\n\r\n&gt; …\r\n&gt;\r\n&gt; *This is my Spring Configuration :*\r\n&gt; \r\n&gt; ***application.properties:***\r\n&gt;\r\n&gt; ```yaml\r\n&gt; keycloak.realm=cirta\r\n&gt; keycloak.auth-server-url=http://localhost:8085/auth\r\n&gt; keycloak.resource=cirta-api\r\n&gt; keycloak.public-client=true\r\n&gt; keycloak.cors=true    \r\n&gt; keycloak.bearer-only=true\r\n&gt; ```\r\n&gt; …\r\n\r\nYou probably need to change that to this…\r\n\r\n&gt;\r\n&gt; ```yaml\r\n&gt; keycloak.realm=cirta\r\n&gt; keycloak.auth-server-url=http://localhost:8085/auth\r\n&gt; keycloak.resource=cirta-api\r\n&gt; keycloak.public-client=false # or delete the property, since false is the default\r\n&gt; keycloak.cors=true    \r\n&gt; keycloak.bearer-only=true\r\n&gt; keycloak.principal-attribute=preferred_username # add this\r\n&gt; ```\r\n&gt; …\r\n\r\nIn the ***TL;DR*** I qualified my *`public-client`* suggestion as „*Conditionally*“. By that I mean after adding the *`keycloak.principal-attribute`* property, you ***might*** need to experiment with toggling *`keycloak.public-client`* on and off; depending on which setting works for your specific setup.\r\n\r\nRefer to [*the Keycloak docs*](https://www.keycloak.org/docs/4.8/securing_apps/#_java_adapter_config) for more details…\r\n\r\n&gt;&gt; …\r\n&gt;&gt; \r\n&gt;&gt; ***public-client***\r\n&gt;&gt;\r\n&gt;&gt; *If set to true, the adapter will not send credentials for the client to Keycloak. This is **OPTIONAL**. The default value is **false**.*\r\n&gt;&gt;\r\n&gt;&gt; …\r\n&gt;&gt;\r\n&gt;&gt; ***principal-attribute***\r\n&gt;&gt;\r\n&gt;&gt; *OpenID Connect ID Token attribute to populate the UserPrincipal name with. If token attribute is null, defaults to `sub`. Possible values are `sub`, `preferred_username`, `email`, `name`, `nickname`, `given_name`, `family_name`.*\r\n&gt;&gt;\r\n&gt;&gt; …","title":"How to get Keycloak username in AuditorAware","body":"<p><em><strong>TL;DR</strong></em> — In your <em>application.properties</em> file, <em><strong>add</strong></em> <em><code>keycloak.principal-attribute=preferred_username</code></em>. <em><strong>Conditionally</strong></em>, you <em><strong>might</strong></em> also need to set <em><code>keycloak.public-client=false</code></em> (<em>or remove it completely</em>).</p>\n<hr />\n<p><em><strong>The long-winded version</strong></em></p>\n<p>According to <a href=\"https://stackoverflow.com/q/64025546/4465539\"><em>your other Keycloak-related question</em></a>…</p>\n<blockquote>\n<p>…</p>\n<p><em>This is my Spring Configuration :</em></p>\n<p><em><strong>application.properties:</strong></em></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>keycloak.realm=cirta\nkeycloak.auth-server-url=http://localhost:8085/auth\nkeycloak.resource=cirta-api\nkeycloak.public-client=true\nkeycloak.cors=true    \nkeycloak.bearer-only=true\n</code></pre>\n<p>…</p>\n</blockquote>\n<p>You probably need to change that to this…</p>\n<blockquote>\n<pre class=\"lang-yaml prettyprint-override\"><code>keycloak.realm=cirta\nkeycloak.auth-server-url=http://localhost:8085/auth\nkeycloak.resource=cirta-api\nkeycloak.public-client=false # or delete the property, since false is the default\nkeycloak.cors=true    \nkeycloak.bearer-only=true\nkeycloak.principal-attribute=preferred_username # add this\n</code></pre>\n<p>…</p>\n</blockquote>\n<p>In the <em><strong>TL;DR</strong></em> I qualified my <em><code>public-client</code></em> suggestion as „<em>Conditionally</em>“. By that I mean after adding the <em><code>keycloak.principal-attribute</code></em> property, you <em><strong>might</strong></em> need to experiment with toggling <em><code>keycloak.public-client</code></em> on and off; depending on which setting works for your specific setup.</p>\n<p>Refer to <a href=\"https://www.keycloak.org/docs/4.8/securing_apps/#_java_adapter_config\" rel=\"nofollow noreferrer\"><em>the Keycloak docs</em></a> for more details…</p>\n<blockquote>\n<blockquote>\n<p>…</p>\n<p><em><strong>public-client</strong></em></p>\n<p><em>If set to true, the adapter will not send credentials for the client to Keycloak. This is <strong>OPTIONAL</strong>. The default value is <strong>false</strong>.</em></p>\n<p>…</p>\n<p><em><strong>principal-attribute</strong></em></p>\n<p><em>OpenID Connect ID Token attribute to populate the UserPrincipal name with. If token attribute is null, defaults to <code>sub</code>. Possible values are <code>sub</code>, <code>preferred_username</code>, <code>email</code>, <code>name</code>, <code>nickname</code>, <code>given_name</code>, <code>family_name</code>.</em></p>\n<p>…</p>\n</blockquote>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21660691,"reputation":11,"user_id":15979849,"display_name":"lindem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621500260,"creation_date":1621500260,"answer_id":67616952,"question_id":64153617,"body_markdown":"I have the same problem and my solution is:\r\n\r\nConfiguration Aware class in order to get user:\r\n```\r\nimport java.security.Principal;\r\nimport java.util.Optional;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken;\r\nimport org.keycloak.representations.AccessToken;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.AuditorAware;\r\n\r\npublic class AuditorAwareConfig implements AuditorAware&lt;String&gt; {\r\n    @Autowired\r\n    private HttpServletRequest request;\r\n\r\n    @Override\r\n    public Optional&lt;String&gt; getCurrentAuditor() {\r\n        AccessToken accessToken = this.getKeycloakToken(request.getUserPrincipal());\r\n    \tString userName = accessToken.getPreferredUsername();\r\n        \r\n        return Optional.ofNullable(userName);\r\n    }\r\n    \r\n    private AccessToken getKeycloakToken(Principal principal) {\r\n\t\tKeycloakAuthenticationToken keycloakAuthenticationToken = (KeycloakAuthenticationToken) principal;\r\n        return keycloakAuthenticationToken.getAccount().getKeycloakSecurityContext().getToken();\r\n\t}\r\n```\r\n\r\nClass enabling JPA Auditing:\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.domain.AuditorAware;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n\r\n@Configuration\r\n@EnableJpaAuditing(auditorAwareRef = &quot;auditorProvider&quot;)\r\npublic class AuditConfig {\r\n\t\r\n\t@Bean\r\n    AuditorAware&lt;String&gt; auditorProvider() {\r\n        return new AuditorAwareConfig();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAuditable class:\r\n```\r\n@MappedSuperclass\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(\r\n        value = {&quot;createdAt&quot;, &quot;createdBy&quot;,&quot;updatedAt&quot;, &quot;updatedBy&quot;},\r\n        allowGetters = true\r\n)\r\npublic abstract class Auditable {\r\n\r\n    @CreatedDate\r\n    @Column(name=&quot;AUD_CREATE_AT&quot;, nullable = false, updatable = false)\r\n    private Instant createdAt;\r\n    \r\n    @CreatedBy\r\n    @Column(name=&quot;AUD_CREATE_BY&quot;, nullable = false, updatable = false)\r\n    private String createdBy;\r\n\r\n    @LastModifiedDate\r\n    @Column(name=&quot;AUD_UPDATE_AT&quot;,nullable = false)\r\n    private Instant updatedAt;\r\n    \r\n    @LastModifiedBy\r\n    @Column(name=&quot;AUD_UPDATE_BY&quot;,nullable = false)\r\n    private String updatedBy;\r\n    //Getters &amp; Setters\r\n```\r\n\r\nAt entity class:\r\n```\r\n@Entity\r\n@Table(name=&quot;FOO&quot;)\r\npublic class FooEntity extends Auditable implements Serializable\r\n...\r\n```","title":"How to get Keycloak username in AuditorAware","body":"<p>I have the same problem and my solution is:</p>\n<p>Configuration Aware class in order to get user:</p>\n<pre><code>import java.security.Principal;\nimport java.util.Optional;\nimport javax.servlet.http.HttpServletRequest;\nimport org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken;\nimport org.keycloak.representations.AccessToken;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.AuditorAware;\n\npublic class AuditorAwareConfig implements AuditorAware&lt;String&gt; {\n    @Autowired\n    private HttpServletRequest request;\n\n    @Override\n    public Optional&lt;String&gt; getCurrentAuditor() {\n        AccessToken accessToken = this.getKeycloakToken(request.getUserPrincipal());\n        String userName = accessToken.getPreferredUsername();\n        \n        return Optional.ofNullable(userName);\n    }\n    \n    private AccessToken getKeycloakToken(Principal principal) {\n        KeycloakAuthenticationToken keycloakAuthenticationToken = (KeycloakAuthenticationToken) principal;\n        return keycloakAuthenticationToken.getAccount().getKeycloakSecurityContext().getToken();\n    }\n</code></pre>\n<p>Class enabling JPA Auditing:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.domain.AuditorAware;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\n\n@Configuration\n@EnableJpaAuditing(auditorAwareRef = &quot;auditorProvider&quot;)\npublic class AuditConfig {\n    \n    @Bean\n    AuditorAware&lt;String&gt; auditorProvider() {\n        return new AuditorAwareConfig();\n    }\n\n}\n</code></pre>\n<p>Auditable class:</p>\n<pre><code>@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(\n        value = {&quot;createdAt&quot;, &quot;createdBy&quot;,&quot;updatedAt&quot;, &quot;updatedBy&quot;},\n        allowGetters = true\n)\npublic abstract class Auditable {\n\n    @CreatedDate\n    @Column(name=&quot;AUD_CREATE_AT&quot;, nullable = false, updatable = false)\n    private Instant createdAt;\n    \n    @CreatedBy\n    @Column(name=&quot;AUD_CREATE_BY&quot;, nullable = false, updatable = false)\n    private String createdBy;\n\n    @LastModifiedDate\n    @Column(name=&quot;AUD_UPDATE_AT&quot;,nullable = false)\n    private Instant updatedAt;\n    \n    @LastModifiedBy\n    @Column(name=&quot;AUD_UPDATE_BY&quot;,nullable = false)\n    private String updatedBy;\n    //Getters &amp; Setters\n</code></pre>\n<p>At entity class:</p>\n<pre><code>@Entity\n@Table(name=&quot;FOO&quot;)\npublic class FooEntity extends Auditable implements Serializable\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1215767,"reputation":1710,"user_id":1183404,"display_name":"Cristian Florescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645740802,"creation_date":1645740802,"answer_id":71258864,"question_id":64153617,"body_markdown":"For Apache Tomcat 9 update in /WEB-INF/**keycloak.json** and add the following attribute within first section after realm, resource etc.\r\n\r\n    &quot;principal-attribute&quot; : &quot;preferred_username&quot;,","title":"How to get Keycloak username in AuditorAware","body":"<p>For Apache Tomcat 9 update in /WEB-INF/<strong>keycloak.json</strong> and add the following attribute within first section after realm, resource etc.</p>\n<pre><code>&quot;principal-attribute&quot; : &quot;preferred_username&quot;,\n</code></pre>\n"}],"owner":{"account_id":7518727,"reputation":3340,"user_id":5711367,"accept_rate":54,"display_name":"Bilal Dekar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3000,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":64206390,"answer_count":4,"score":5,"last_activity_date":1645740802,"creation_date":1601548556,"question_id":64153617,"body_markdown":"I have implemented Auditing with Spring Data JPA, following exactly [this documentation](https://www.baeldung.com/database-auditing-jpa). Everything works fine when I run the app, but when I deploy the WAR to Tomcat and try to create an entity, I get an error in the `getCurrentAuditor` method.\r\n\r\nI have secured my app with keycloak, so in `AuditorAwareConfig` i am trying to get the keycloak username, and after debugging i found out that `request.getUserPrincipal()` is null :\r\n\r\n    java.lang.NullPointerException: null\r\n    \tat com.cevital.cirta.util.AuditorAwareConfig.getCurrentAuditor(AuditorAwareConfig.java:20) ~[classes/:0.0.1-SNAPSHOT\r\n\r\n**AuditorAwareConfig :**\r\n\r\n    public class AuditorAwareConfig implements AuditorAware&lt;String&gt; {\r\n    \t@Autowired\r\n    \tprivate HttpServletRequest request;\r\n    \r\n    \t@Override\r\n    \tpublic Optional&lt;String&gt; getCurrentAuditor() {\r\n    \t\tKeycloakPrincipal&lt;KeycloakSecurityContext&gt; kp = (KeycloakPrincipal&lt;KeycloakSecurityContext&gt;) request.getUserPrincipal();\r\n    \t\tString userName = kp.getKeycloakSecurityContext().getToken().getPreferredUsername();\r\n    \t\treturn Optional.ofNullable(userName);\r\n    \t}\r\n    }","title":"How to get Keycloak username in AuditorAware","body":"<p>I have implemented Auditing with Spring Data JPA, following exactly <a href=\"https://www.baeldung.com/database-auditing-jpa\" rel=\"noreferrer\">this documentation</a>. Everything works fine when I run the app, but when I deploy the WAR to Tomcat and try to create an entity, I get an error in the <code>getCurrentAuditor</code> method.</p>\n<p>I have secured my app with keycloak, so in <code>AuditorAwareConfig</code> i am trying to get the keycloak username, and after debugging i found out that <code>request.getUserPrincipal()</code> is null :</p>\n<pre><code>java.lang.NullPointerException: null\n    at com.cevital.cirta.util.AuditorAwareConfig.getCurrentAuditor(AuditorAwareConfig.java:20) ~[classes/:0.0.1-SNAPSHOT\n</code></pre>\n<p><strong>AuditorAwareConfig :</strong></p>\n<pre><code>public class AuditorAwareConfig implements AuditorAware&lt;String&gt; {\n    @Autowired\n    private HttpServletRequest request;\n\n    @Override\n    public Optional&lt;String&gt; getCurrentAuditor() {\n        KeycloakPrincipal&lt;KeycloakSecurityContext&gt; kp = (KeycloakPrincipal&lt;KeycloakSecurityContext&gt;) request.getUserPrincipal();\n        String userName = kp.getKeycloakSecurityContext().getToken().getPreferredUsername();\n        return Optional.ofNullable(userName);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-intent","notifications","android-pendingintent"],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1645740640,"creation_date":1645740640,"answer_id":71258840,"question_id":71164208,"body_markdown":"You are attempting to create two different `PendingIntent`s, but your code actually only creates one `PendingIntent.` The first call creates a new `PendingIntent`:\r\n\r\n    Intent contentIntent = new Intent(context, MainActivity.class);\r\n    PendingIntent contentPendingIntent = PendingIntent.getActivity(context, App.REMINDERS_ID, contentIntent, PendingIntent.FLAG_MUTABLE);\r\n\r\nThe second call **does not create** a new `PendingIntent`. Instead, because the contents of `contentIntent` **match** the contents of `extendIntent`, the call to `PendingIntent.getActivity()` actually returns the `PendingIntent` previously created in the first call:\r\n\r\n    Intent extendIntent = new Intent(context, MainActivity.class);\r\n    extendIntent.putExtra(App.BUNDLE_ACTION, App.ACTION_EXTEND_WEAR);\r\n    PendingIntent extendPendingIntent = PendingIntent.getActivity(context, App.REMINDERS_ID, extendIntent, PendingIntent.FLAG_MUTABLE);\r\n\r\nThis is because when comparing the two `Intent`s, the &quot;extras&quot; in the `Intent`s are ignored.\r\n\r\nTo fix this you need to make sure that the `PendingIntent`s are unique. There are many ways to do this, here are a few:\r\n\r\n- Add an ACTION to each `Intent` and make sure that they are different\r\n- Use different `requestCode` in each call to `PendingIntent.getActivity()` (instead of using `App.REMINDERS_ID` for both\r\n","title":"Receive extra from a notification action button","body":"<p>You are attempting to create two different <code>PendingIntent</code>s, but your code actually only creates one <code>PendingIntent.</code> The first call creates a new <code>PendingIntent</code>:</p>\n<pre><code>Intent contentIntent = new Intent(context, MainActivity.class);\nPendingIntent contentPendingIntent = PendingIntent.getActivity(context, App.REMINDERS_ID, contentIntent, PendingIntent.FLAG_MUTABLE);\n</code></pre>\n<p>The second call <strong>does not create</strong> a new <code>PendingIntent</code>. Instead, because the contents of <code>contentIntent</code> <strong>match</strong> the contents of <code>extendIntent</code>, the call to <code>PendingIntent.getActivity()</code> actually returns the <code>PendingIntent</code> previously created in the first call:</p>\n<pre><code>Intent extendIntent = new Intent(context, MainActivity.class);\nextendIntent.putExtra(App.BUNDLE_ACTION, App.ACTION_EXTEND_WEAR);\nPendingIntent extendPendingIntent = PendingIntent.getActivity(context, App.REMINDERS_ID, extendIntent, PendingIntent.FLAG_MUTABLE);\n</code></pre>\n<p>This is because when comparing the two <code>Intent</code>s, the &quot;extras&quot; in the <code>Intent</code>s are ignored.</p>\n<p>To fix this you need to make sure that the <code>PendingIntent</code>s are unique. There are many ways to do this, here are a few:</p>\n<ul>\n<li>Add an ACTION to each <code>Intent</code> and make sure that they are different</li>\n<li>Use different <code>requestCode</code> in each call to <code>PendingIntent.getActivity()</code> (instead of using <code>App.REMINDERS_ID</code> for both</li>\n</ul>\n"}],"owner":{"account_id":15906876,"reputation":53,"user_id":11477844,"display_name":"Zudy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71258840,"answer_count":1,"score":1,"last_activity_date":1645740640,"creation_date":1645125605,"question_id":71164208,"body_markdown":"My app is pushing a notification at a specific date in the future. \r\nIn the notification you shall have two options: \r\n\r\n 1. Click the notification body --&gt; open the app normally\r\n 2. Click the action button in the notification --&gt; open the app and perform an action\r\n\r\nIn order to do so, I want to add an extra to the intent which can be read when starting the app. Therefore I set up the notification receiver as following:\r\n\r\n    public class NotificationReceiver extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        Intent contentIntent = new Intent(context, MainActivity.class);\r\n        PendingIntent contentPendingIntent = PendingIntent.getActivity(context, App.REMINDERS_ID, contentIntent, PendingIntent.FLAG_MUTABLE);\r\n\r\n        Intent extendIntent = new Intent(context, MainActivity.class);\r\n        extendIntent.putExtra(App.BUNDLE_ACTION, App.ACTION_EXTEND_WEAR);\r\n        PendingIntent extendPendingIntent = PendingIntent.getActivity(context, App.REMINDERS_ID, extendIntent, PendingIntent.FLAG_MUTABLE);\r\n\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, CHANNEL_REMINDERS_ID)\r\n                .setSmallIcon(R.drawable.ic_baseline_calendar_today_24)\r\n                .setContentTitle(intent.getStringExtra(&quot;title&quot;))\r\n                .setContentText(intent.getStringExtra(&quot;text&quot;))\r\n                .setContentIntent(contentPendingIntent)\r\n                .addAction(0,intent.getStringExtra(&quot;action_extend&quot;), extendPendingIntent)\r\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT);\r\n        // .addAction(0,intent.getStringExtra(&quot;action_stop&quot;), contentIntent)\r\n\r\n\r\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\r\n        int id = intent.getIntExtra(&quot;id&quot;, 1);\r\n        notificationManager.notify(id, builder.build());\r\n    }\r\n\r\n\r\nNo, when the app starts, I want to check if the intent has an extra (BUNDLE_ACTION) or not. \r\n\r\n    Bundle bundle = this.getActivity().getIntent().getExtras();\r\n\r\n        if (bundle != null &amp;&amp; bundle.containsKey(App.BUNDLE_ACTION)) {\r\n            // Perform the action on app start\r\n            Log.e(App.TAG, &quot;Action received from notification! Action = &quot; + bundle.getInt(App.BUNDLE_ACTION));\r\n        } else {\r\n            Log.e(App.TAG, &quot;No action received from notification.&quot;);\r\n        }\r\n\r\n\r\nThe extra is received, the Log entry is shown accordingly. \r\nBut, the extra is received either I press the notification body or the notification action button. \r\n\r\nCan anybody advise me what I am doing wrong?\r\n\r\nThanks!\r\n","title":"Receive extra from a notification action button","body":"<p>My app is pushing a notification at a specific date in the future.\nIn the notification you shall have two options:</p>\n<ol>\n<li>Click the notification body --&gt; open the app normally</li>\n<li>Click the action button in the notification --&gt; open the app and perform an action</li>\n</ol>\n<p>In order to do so, I want to add an extra to the intent which can be read when starting the app. Therefore I set up the notification receiver as following:</p>\n<pre><code>public class NotificationReceiver extends BroadcastReceiver {\n@Override\npublic void onReceive(Context context, Intent intent) {\n    Intent contentIntent = new Intent(context, MainActivity.class);\n    PendingIntent contentPendingIntent = PendingIntent.getActivity(context, App.REMINDERS_ID, contentIntent, PendingIntent.FLAG_MUTABLE);\n\n    Intent extendIntent = new Intent(context, MainActivity.class);\n    extendIntent.putExtra(App.BUNDLE_ACTION, App.ACTION_EXTEND_WEAR);\n    PendingIntent extendPendingIntent = PendingIntent.getActivity(context, App.REMINDERS_ID, extendIntent, PendingIntent.FLAG_MUTABLE);\n\n\n    NotificationCompat.Builder builder = new NotificationCompat.Builder(context, CHANNEL_REMINDERS_ID)\n            .setSmallIcon(R.drawable.ic_baseline_calendar_today_24)\n            .setContentTitle(intent.getStringExtra(&quot;title&quot;))\n            .setContentText(intent.getStringExtra(&quot;text&quot;))\n            .setContentIntent(contentPendingIntent)\n            .addAction(0,intent.getStringExtra(&quot;action_extend&quot;), extendPendingIntent)\n            .setPriority(NotificationCompat.PRIORITY_DEFAULT);\n    // .addAction(0,intent.getStringExtra(&quot;action_stop&quot;), contentIntent)\n\n\n    NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\n    int id = intent.getIntExtra(&quot;id&quot;, 1);\n    notificationManager.notify(id, builder.build());\n}\n</code></pre>\n<p>No, when the app starts, I want to check if the intent has an extra (BUNDLE_ACTION) or not.</p>\n<pre><code>Bundle bundle = this.getActivity().getIntent().getExtras();\n\n    if (bundle != null &amp;&amp; bundle.containsKey(App.BUNDLE_ACTION)) {\n        // Perform the action on app start\n        Log.e(App.TAG, &quot;Action received from notification! Action = &quot; + bundle.getInt(App.BUNDLE_ACTION));\n    } else {\n        Log.e(App.TAG, &quot;No action received from notification.&quot;);\n    }\n</code></pre>\n<p>The extra is received, the Log entry is shown accordingly.\nBut, the extra is received either I press the notification body or the notification action button.</p>\n<p>Can anybody advise me what I am doing wrong?</p>\n<p>Thanks!</p>\n"},{"tags":["java","compression"],"comments":[{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":1,"creation_date":1645735134,"post_id":71257600,"comment_id":125956949,"body_markdown":"How are you serializing the object? If you&#39;re printing out decimal representations of doubles, then that will significantly expand the data, making the job of the compressor much harder. Also why do you expect your data to be compressible? Is there redundancy in the doubles? Is it a time series with adjacent values that are close to each other? Can you reduce the precision of the data in the doubles without losing the accuracy of the information?","body":"How are you serializing the object? If you&#39;re printing out decimal representations of doubles, then that will significantly expand the data, making the job of the compressor much harder. Also why do you expect your data to be compressible? Is there redundancy in the doubles? Is it a time series with adjacent values that are close to each other? Can you reduce the precision of the data in the doubles without losing the accuracy of the information?"},{"owner":{"account_id":18055735,"reputation":367,"user_id":13124249,"display_name":"qlabfgerkaSmurf"},"score":0,"creation_date":1645736289,"post_id":71257600,"comment_id":125957297,"body_markdown":"@MarkAdler not seralizing it in any special way, just initialized a new object and tried to compress it. I expect the data to be either compressed, or in the worst case a bit worse than the current data, I am using discrete haar wavelet transformation on an image, which should also contain some consecutive zeros. Also, I just tried converting to float, and that did significantly help, reduced from 1011KB to 616KB, but it is still higher than 490KB. Float should not have significant information loss in my case","body":"@MarkAdler not seralizing it in any special way, just initialized a new object and tried to compress it. I expect the data to be either compressed, or in the worst case a bit worse than the current data, I am using discrete haar wavelet transformation on an image, which should also contain some consecutive zeros. Also, I just tried converting to float, and that did significantly help, reduced from 1011KB to 616KB, but it is still higher than 490KB. Float should not have significant information loss in my case"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":1,"creation_date":1645738153,"post_id":71257600,"comment_id":125957854,"body_markdown":"Can you do a `gzip -l` on the output file and share the result?","body":"Can you do a <code>gzip -l</code> on the output file and share the result?"},{"owner":{"account_id":18055735,"reputation":367,"user_id":13124249,"display_name":"qlabfgerkaSmurf"},"score":0,"creation_date":1645740318,"post_id":71257600,"comment_id":125958494,"body_markdown":"@MarkAdler I have updated the question, I think it&#39;s working as it should now. I will play around a bit, when i get the time tomorrow","body":"@MarkAdler I have updated the question, I think it&#39;s working as it should now. I will play around a bit, when i get the time tomorrow"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":1,"creation_date":1645743062,"post_id":71257600,"comment_id":125959154,"body_markdown":"Wait, that size is way bigger than a megabyte. It&#39;s gigabytes. At that point, the output of `gzip -l` is not reliable.","body":"Wait, that size is way bigger than a megabyte. It&#39;s gigabytes. At that point, the output of <code>gzip -l</code> is not reliable."}],"owner":{"account_id":18055735,"reputation":367,"user_id":13124249,"display_name":"qlabfgerkaSmurf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645740231,"creation_date":1645732896,"question_id":71257600,"body_markdown":"I have an object that has the following structure: \r\n```\r\npublic class CompressionWrapper implements Serializable {\r\n    private List&lt;double[]&gt; blocks;\r\n    private int height;\r\n    private int width;\r\n\r\n    constructor, setters and getters...\r\n}\r\n```\r\n\r\neach double array in `blocks` is 64 elements long, and I need to compress this into a file. Which library would be the best for this type of compression?\r\n\r\nI have tried using `GZIPOutputStream` from `java.util.zip.GZIPOutputStream`, but that actually increases the size of the input file from 490KB to 1011KB.\r\n\r\nMy compression method looks like this: \r\n```\r\npublic static void compress(CompressionWrapper wrapper, String path) throws IOException {\r\n    try {\r\n        File file = new File(path);\r\n        FileOutputStream fileOutputStream = new FileOutputStream(file);\r\n        GZIPOutputStream gzipOutputStream = new GZIPOutputStream(fileOutputStream);\r\n        ObjectOutputStream objectOutputStream = new ObjectOutputStream(gzipOutputStream);\r\n        objectOutputStream.writeObject(wrapper);\r\n        objectOutputStream.flush();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        throw e;\r\n    }\r\n}\r\n```\r\n\r\nEDIT:\r\n\r\n`$ gzip -l out.bin`\r\n\r\n```\r\n         compressed        uncompressed  ratio uncompressed_name\r\n             253314          4293110279 100.0% out.bin\r\n```\r\n\r\nChanging from `double` to `float` made a significant difference, should have thought of that myself. Also, upping the compression threshold also made a difference.","title":"Java compress Object or List&lt;double[]&gt;","body":"<p>I have an object that has the following structure:</p>\n<pre><code>public class CompressionWrapper implements Serializable {\n    private List&lt;double[]&gt; blocks;\n    private int height;\n    private int width;\n\n    constructor, setters and getters...\n}\n</code></pre>\n<p>each double array in <code>blocks</code> is 64 elements long, and I need to compress this into a file. Which library would be the best for this type of compression?</p>\n<p>I have tried using <code>GZIPOutputStream</code> from <code>java.util.zip.GZIPOutputStream</code>, but that actually increases the size of the input file from 490KB to 1011KB.</p>\n<p>My compression method looks like this:</p>\n<pre><code>public static void compress(CompressionWrapper wrapper, String path) throws IOException {\n    try {\n        File file = new File(path);\n        FileOutputStream fileOutputStream = new FileOutputStream(file);\n        GZIPOutputStream gzipOutputStream = new GZIPOutputStream(fileOutputStream);\n        ObjectOutputStream objectOutputStream = new ObjectOutputStream(gzipOutputStream);\n        objectOutputStream.writeObject(wrapper);\n        objectOutputStream.flush();\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw e;\n    }\n}\n</code></pre>\n<p>EDIT:</p>\n<p><code>$ gzip -l out.bin</code></p>\n<pre><code>         compressed        uncompressed  ratio uncompressed_name\n             253314          4293110279 100.0% out.bin\n</code></pre>\n<p>Changing from <code>double</code> to <code>float</code> made a significant difference, should have thought of that myself. Also, upping the compression threshold also made a difference.</p>\n"},{"tags":["java","date","time","java-17","cldr"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1645739174,"post_id":71258409,"comment_id":125958183,"body_markdown":"Are you asking how to replace the CLDR bundled in a JDK? Your question is not clear. What exactly is your problem? What exactly do you want as a solution?","body":"Are you asking how to replace the CLDR bundled in a JDK? Your question is not clear. What exactly is your problem? What exactly do you want as a solution?"},{"owner":{"account_id":9553546,"reputation":13,"user_id":7096843,"display_name":"Kiril Raykov"},"score":0,"creation_date":1645739220,"post_id":71258409,"comment_id":125958197,"body_markdown":"Yes, if possible at all.","body":"Yes, if possible at all."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1645739297,"post_id":71258409,"comment_id":125958209,"body_markdown":"I suggest your edit your Question for clarity.","body":"I suggest your edit your Question for clarity."}],"owner":{"account_id":9553546,"reputation":13,"user_id":7096843,"display_name":"Kiril Raykov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645739563,"creation_date":1645737742,"question_id":71258409,"body_markdown":"[Java 15][1] uses version [37 of CLDR][2](Common Locale Data Repository), as for [Java 17][3] - it uses the latest ([v39][4]). Is there any way I can set java to use the latest cldr version without needing to upgrade the java version, e.g replacing the CLDR version bundled with the JDK? \r\nI can&#39;t manually setup CLDR data in my project as the internal java classes (java.time.*) use the CLDR version associated with the java version. Any suggestions are welcomed, thanks.\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/15all-relnotes.html\r\n  [2]: https://cldr.unicode.org/index/downloads/cldr-37\r\n  [3]: https://www.oracle.com/java/technologies/javase/17all-relnotes.html\r\n  [4]: https://cldr.unicode.org/index/downloads/cldr-39","title":"Using specific CLDR version without updating Java version","body":"<p><a href=\"https://www.oracle.com/java/technologies/javase/15all-relnotes.html\" rel=\"nofollow noreferrer\">Java 15</a> uses version <a href=\"https://cldr.unicode.org/index/downloads/cldr-37\" rel=\"nofollow noreferrer\">37 of CLDR</a>(Common Locale Data Repository), as for <a href=\"https://www.oracle.com/java/technologies/javase/17all-relnotes.html\" rel=\"nofollow noreferrer\">Java 17</a> - it uses the latest (<a href=\"https://cldr.unicode.org/index/downloads/cldr-39\" rel=\"nofollow noreferrer\">v39</a>). Is there any way I can set java to use the latest cldr version without needing to upgrade the java version, e.g replacing the CLDR version bundled with the JDK?\nI can't manually setup CLDR data in my project as the internal java classes (java.time.*) use the CLDR version associated with the java version. Any suggestions are welcomed, thanks.</p>\n"},{"tags":["java","spring-boot","design-patterns","single-responsibility-principle"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1643829343,"post_id":70960038,"comment_id":125445984,"body_markdown":"It seems you have a pipeline to process something. One possible way would be to make each of the services aware of the next in the chain and then trigger the first one.","body":"It seems you have a pipeline to process something. One possible way would be to make each of the services aware of the next in the chain and then trigger the first one."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1643840101,"post_id":70960038,"comment_id":125449650,"body_markdown":"Look into using jBPM, it&#39;s useful for managing chains of independent processes. https://www.jbpm.org/","body":"Look into using jBPM, it&#39;s useful for managing chains of independent processes. <a href=\"https://www.jbpm.org/\" rel=\"nofollow noreferrer\">jbpm.org</a>"}],"answers":[{"tags":[],"owner":{"account_id":21976516,"reputation":53,"user_id":16252257,"display_name":"Stalwart"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1645519085,"creation_date":1645519085,"answer_id":71218188,"question_id":70960038,"body_markdown":"In case you are in a similar situation and looking for any ideas then here&#39;s what I did- user template pattern for the steps in your algorithm. Try to group steps that are related and put them in another service.\r\nProbably not the most elegant way but it&#39;s better than what I had before. Closing this thread here.","title":"How to design Class which uses multiple service classes?","body":"<p>In case you are in a similar situation and looking for any ideas then here's what I did- user template pattern for the steps in your algorithm. Try to group steps that are related and put them in another service.\nProbably not the most elegant way but it's better than what I had before. Closing this thread here.</p>\n"}],"owner":{"account_id":21976516,"reputation":53,"user_id":16252257,"display_name":"Stalwart"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71218188,"answer_count":1,"score":-2,"last_activity_date":1645739474,"creation_date":1643822628,"question_id":70960038,"body_markdown":"I am working on a springboot project where I am working on a feature which require multiple steps (almost like a algorithm). To follow the SRP I have made a separate service class to take care of each step in the algorithm. Now I have situation where my main service class is using up almost 9 other services.\r\n\r\nHow can I design my classes more better ? I know class which take more than few other service class are violating SRP.\r\n\r\n```\r\n@Service public AlgoProcessor {\r\n// inject service1\r\n// inject service 2\r\n// inject service 3\r\n\r\npublic FinalReponse startprocess(){\r\n  service1.algoStep1();\r\n  service2.algoStep2();\r\n// more steps\r\n}\r\n\r\n}\r\n```\r\nIm new in learning design principles, any feedback would be greatly appreciated !","title":"How to design Class which uses multiple service classes?","body":"<p>I am working on a springboot project where I am working on a feature which require multiple steps (almost like a algorithm). To follow the SRP I have made a separate service class to take care of each step in the algorithm. Now I have situation where my main service class is using up almost 9 other services.</p>\n<p>How can I design my classes more better ? I know class which take more than few other service class are violating SRP.</p>\n<pre><code>@Service public AlgoProcessor {\n// inject service1\n// inject service 2\n// inject service 3\n\npublic FinalReponse startprocess(){\n  service1.algoStep1();\n  service2.algoStep2();\n// more steps\n}\n\n}\n</code></pre>\n<p>Im new in learning design principles, any feedback would be greatly appreciated !</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":1236181,"reputation":2870,"user_id":1199729,"display_name":"FreudianSlip"},"score":3,"creation_date":1645713861,"post_id":71253646,"comment_id":125949045,"body_markdown":"You&#39;re only preparing the statement - you also need to execute it.  Look here : https://www.javatpoint.com/PreparedStatement-interface .. note the &#39;execute&#39; phrase.  Good luck :)","body":"You&#39;re only preparing the statement - you also need to execute it.  Look here : <a href=\"https://www.javatpoint.com/PreparedStatement-interface\" rel=\"nofollow noreferrer\">javatpoint.com/PreparedStatement-interface</a> .. note the &#39;execute&#39; phrase.  Good luck :)"},{"owner":{"account_id":1236181,"reputation":2870,"user_id":1199729,"display_name":"FreudianSlip"},"score":1,"creation_date":1645713934,"post_id":71253646,"comment_id":125949074,"body_markdown":"oh, and by the way - once you&#39;ve executed your prepared statement, you don&#39;t need to select it for the update to &#39;stick&#39;.","body":"oh, and by the way - once you&#39;ve executed your prepared statement, you don&#39;t need to select it for the update to &#39;stick&#39;."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1645716822,"post_id":71253646,"comment_id":125950323,"body_markdown":"`username` is string and `userId` is Integer or Long, means `username != userId`","body":"<code>username</code> is string and <code>userId</code> is Integer or Long, means <code>username != userId</code>"}],"answers":[{"tags":[],"owner":{"account_id":24346889,"reputation":74,"user_id":18283306,"display_name":"Dylan LaMott"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645739202,"creation_date":1645738899,"answer_id":71258603,"question_id":71253646,"body_markdown":"You have prepared the statement but have not executed the statement. For reference: **INSERT** (as well as **UPDATE** and **DELETE**) statements should use `executeUpdate()`.\r\n\r\n**SELECT** statements should use `executeQuery()`.","title":"Update MySQL table row","body":"<p>You have prepared the statement but have not executed the statement. For reference: <strong>INSERT</strong> (as well as <strong>UPDATE</strong> and <strong>DELETE</strong>) statements should use <code>executeUpdate()</code>.</p>\n<p><strong>SELECT</strong> statements should use <code>executeQuery()</code>.</p>\n"}],"owner":{"account_id":24349700,"reputation":35,"user_id":18285700,"display_name":"spinnning"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1646006070,"accepted_answer_id":71258603,"answer_count":1,"score":-1,"last_activity_date":1645739202,"creation_date":1645713518,"question_id":71253646,"body_markdown":"&lt;!-- language: java --&gt;\r\nHi, I wanted to add a Password change function to my programm. For that i need to update the password column of the specific user. I researched about it and fount this and tried it:\r\n```\r\nUPDATE uprtable SET password = &#39;&quot;+password+&quot;&#39; WHERE username = &#39;&quot;+username+&quot;&#39;;\r\n```\r\nI also found out that i need to select the row after it. So I did this too.\r\n```\r\nSELECT username, password FROM uprtable WHERE username &#39;&quot;+username+&quot;&#39;;\r\n```\r\nThe Problem is it doesnt update it and I dont get any Errors where I could get any Info about what is wrong.\r\nHere is the Code direct from the Class:\r\n```\r\npublic void changepw() throws Exception{\r\n        Connection con = getConnection();\r\n        String passwordID1 = String.valueOf((passwordfield.getPassword()));\r\n        String passwordID2 = String.valueOf((passwordfield2.getPassword()));\r\n        String passwordID3 = String.valueOf((passwordfield3.getPassword()));\r\n        if (passwordID1.equals(resultSet.getString(&quot;password&quot;))) {\r\n            if (passwordID2.equals(passwordID3)) {\r\n                String userID = resultSet.getString(&quot;username&quot;);\r\n                try {\r\n                    PreparedStatement statementpwchange = con.prepareStatement(&quot;UPDATE uprtable SET password = &#39;&quot;+passwordID2+&quot;&#39; WHERE username = &#39;&quot;+userID+&quot;&#39;&quot;);\r\n                    PreparedStatement statementpwchangeconfirm = con.prepareStatement(&quot;SELECT username, password, rank FROM uprtable WHERE username = &#39;&quot;+userID+&quot;&#39;&quot;);\r\n                    System.out.println(&quot;Updated&quot;);\r\n                    frame.dispose();\r\n                }\r\n                catch(Exception e){\r\n                    System.out.println(e);\r\n                }\r\n            }\r\n            else {\r\n                messageLabel.setForeground(Color.RED);\r\n                messageLabel.setText(&quot;The Passwords do not match&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\nIf you need more Information about the Code, feel free to ask.\r\nThank you in advance!","title":"Update MySQL table row","body":"<p>Hi, I wanted to add a Password change function to my programm. For that i need to update the password column of the specific user. I researched about it and fount this and tried it:</p>\n<pre><code>UPDATE uprtable SET password = '&quot;+password+&quot;' WHERE username = '&quot;+username+&quot;';\n</code></pre>\n<p>I also found out that i need to select the row after it. So I did this too.</p>\n<pre><code>SELECT username, password FROM uprtable WHERE username '&quot;+username+&quot;';\n</code></pre>\n<p>The Problem is it doesnt update it and I dont get any Errors where I could get any Info about what is wrong.\nHere is the Code direct from the Class:</p>\n<pre><code>public void changepw() throws Exception{\n        Connection con = getConnection();\n        String passwordID1 = String.valueOf((passwordfield.getPassword()));\n        String passwordID2 = String.valueOf((passwordfield2.getPassword()));\n        String passwordID3 = String.valueOf((passwordfield3.getPassword()));\n        if (passwordID1.equals(resultSet.getString(&quot;password&quot;))) {\n            if (passwordID2.equals(passwordID3)) {\n                String userID = resultSet.getString(&quot;username&quot;);\n                try {\n                    PreparedStatement statementpwchange = con.prepareStatement(&quot;UPDATE uprtable SET password = '&quot;+passwordID2+&quot;' WHERE username = '&quot;+userID+&quot;'&quot;);\n                    PreparedStatement statementpwchangeconfirm = con.prepareStatement(&quot;SELECT username, password, rank FROM uprtable WHERE username = '&quot;+userID+&quot;'&quot;);\n                    System.out.println(&quot;Updated&quot;);\n                    frame.dispose();\n                }\n                catch(Exception e){\n                    System.out.println(e);\n                }\n            }\n            else {\n                messageLabel.setForeground(Color.RED);\n                messageLabel.setText(&quot;The Passwords do not match&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>If you need more Information about the Code, feel free to ask.\nThank you in advance!</p>\n"},{"tags":["java","hunspell","project-panama"],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1645738873,"creation_date":1645737556,"answer_id":71258371,"question_id":71250218,"body_markdown":"Looking at the header here: https://github.com/hunspell/hunspell/blob/master/src/hunspell/hunspell.h#L80\r\n\r\n    /* suggest(suggestions, word) - search suggestions\r\n     * input: pointer to an array of strings pointer and the (bad) word\r\n     *   array of strings pointer (here *slst) may not be initialized\r\n     * output: number of suggestions in string array, and suggestions in\r\n     *   a newly allocated array of strings (*slts will be NULL when number\r\n     *   of suggestion equals 0.)\r\n     */\r\n    LIBHUNSPELL_DLL_EXPORTED int Hunspell_suggest(Hunhandle* pHunspell,\r\n                                                  char*** slst,\r\n                                                  const char* word);\r\n\r\nThe `slst` is a classic &#39;out&#39; parameter. i.e. we pass a pointer to some value (in this case a `char**` i.e. an array of strings), and the function will set this pointer for us, as a way to return multiple results. (the first result being the number of suggestions)\r\n\r\nIn panama you use &#39;out&#39; parameters by allocating a segment with the layout of the type the parameter is a pointer of. In this case `char***` is a pointer to `char**`, so the layout is `ADDRESS`. We then pass the created segment to the function, and finally retrieve/use the value from that segment after the function call, which will have filled in the segment contents:\r\n\r\n    // char***\r\n    var suggestionsRef = allocator.allocate(ValueLayout.ADDRESS); // allocate space for an address\r\n    var suggestionCount = Hunspell_suggest(hunspellHandle, suggestionsRef, word);\r\n    // char** (the value set by the function)\r\n    MemoryAddress suggestions = suggestionsRef.get(ValueLayout.ADDRESS, 0);\r\n\r\nAfter that, you can iterate over the array of strings:\r\n\r\n    for (int i = 0; i &lt; suggestionCount; i++) {\r\n        // char* (an element in the array)\r\n        MemoryAddress suggestion = suggestions.getAtIndex(ValueLayout.ADDRESS, i);\r\n        // read the string\r\n        String javaSuggestion = suggestion.getUtf8String(suggestion, 0);\r\n    }\r\n\r\n\r\n\r\n","title":"Java, project panama and how to deal with Hunspell &#39;suggest&#39; result","body":"<p>Looking at the header here: <a href=\"https://github.com/hunspell/hunspell/blob/master/src/hunspell/hunspell.h#L80\" rel=\"nofollow noreferrer\">https://github.com/hunspell/hunspell/blob/master/src/hunspell/hunspell.h#L80</a></p>\n<pre><code>/* suggest(suggestions, word) - search suggestions\n * input: pointer to an array of strings pointer and the (bad) word\n *   array of strings pointer (here *slst) may not be initialized\n * output: number of suggestions in string array, and suggestions in\n *   a newly allocated array of strings (*slts will be NULL when number\n *   of suggestion equals 0.)\n */\nLIBHUNSPELL_DLL_EXPORTED int Hunspell_suggest(Hunhandle* pHunspell,\n                                              char*** slst,\n                                              const char* word);\n</code></pre>\n<p>The <code>slst</code> is a classic 'out' parameter. i.e. we pass a pointer to some value (in this case a <code>char**</code> i.e. an array of strings), and the function will set this pointer for us, as a way to return multiple results. (the first result being the number of suggestions)</p>\n<p>In panama you use 'out' parameters by allocating a segment with the layout of the type the parameter is a pointer of. In this case <code>char***</code> is a pointer to <code>char**</code>, so the layout is <code>ADDRESS</code>. We then pass the created segment to the function, and finally retrieve/use the value from that segment after the function call, which will have filled in the segment contents:</p>\n<pre><code>// char***\nvar suggestionsRef = allocator.allocate(ValueLayout.ADDRESS); // allocate space for an address\nvar suggestionCount = Hunspell_suggest(hunspellHandle, suggestionsRef, word);\n// char** (the value set by the function)\nMemoryAddress suggestions = suggestionsRef.get(ValueLayout.ADDRESS, 0);\n</code></pre>\n<p>After that, you can iterate over the array of strings:</p>\n<pre><code>for (int i = 0; i &lt; suggestionCount; i++) {\n    // char* (an element in the array)\n    MemoryAddress suggestion = suggestions.getAtIndex(ValueLayout.ADDRESS, i);\n    // read the string\n    String javaSuggestion = suggestion.getUtf8String(suggestion, 0);\n}\n</code></pre>\n"}],"owner":{"account_id":22915050,"reputation":83,"user_id":17051760,"display_name":"ppp ppp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":71258371,"answer_count":1,"score":8,"last_activity_date":1645738873,"creation_date":1645696964,"question_id":71250218,"body_markdown":"I&#39;m experimenting with [Hunspell][1] and how to interact with it using [Java Project Panama][2] (Build 19-panama+1-13 (2022/1/18)). I was able to get some initial testing done, as in creating a `handle to Hunspell` and subsequently using that to perform a spell check. I&#39;m now trying something more elaborate, letting Hunspell give me `suggestions` for a word not present in the dictionary. This is the code that I have for that now:\r\n\r\n```\r\npublic class HelloHun {\r\n    public static void main(String[] args) {\r\n        MemoryAddress hunspellHandle = null;\r\n        try (ResourceScope scope = ResourceScope.newConfinedScope()) {\r\n            var allocator = SegmentAllocator.nativeAllocator(scope);\r\n\r\n            // Point it to US english dictionary and (so called) affix file\r\n            // Note #1: it is possible to add words to the dictionary if you like\r\n            // Note #2: it is possible to have separate/individual dictionaries and affix files (e.g. per user/doc type)\r\n            var en_US_aff = allocator.allocateUtf8String(&quot;/usr/share/hunspell/en_US.aff&quot;);\r\n            var en_US_dic = allocator.allocateUtf8String(&quot;/usr/share/hunspell/en_US.dic&quot;);\r\n\r\n            // Get a handle to the Hunspell shared library and load up the dictionary and affix\r\n            hunspellHandle = Hunspell_create(en_US_aff, en_US_dic);\r\n\r\n            // Feed it a wrong word\r\n            var javaWord = &quot;koing&quot;;\r\n\r\n            // Do a simple spell check of the word\r\n            var word = allocator.allocateUtf8String(javaWord);\r\n            var spellingResult = Hunspell_spell(hunspellHandle, word);\r\n            System.out.println(String.format(&quot;%s is spelled %s&quot;, javaWord, (spellingResult == 0 ? &quot;incorrect&quot; : &quot;correct&quot;)));\r\n\r\n            // Hunspell also supports giving suggestions for a word - which is what we do next\r\n            // Note #3: by testing this `koing` word in isolation - we know that there are 4 alternatives for this word\r\n            // Note #4: I&#39;m still investigating how to access individual suggestions\r\n\r\n            var suggestions = allocator.allocate(10);\r\n            var suggestionCount = Hunspell_suggest(hunspellHandle, suggestions, word);\r\n\r\n            System.out.println(String.format(&quot;There are %d suggestions for %s&quot;, suggestionCount, javaWord));\r\n\r\n            // `suggestions` - according to the hunspell API - is a `pointer to an array of strings pointer`\r\n            // we know how many `strings` pointer there are, as that is the returned value from `suggest`\r\n            // Question: how to process `suggestions` to get individual suggestions\r\n\r\n\r\n        } finally {\r\n            if (hunspellHandle != null) {\r\n                Hunspell_destroy(hunspellHandle);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhat I&#39;m seeing is that a call to `Hunspell_suggest` (created from `jextract`) succeeds and gives me back (4) suggestions (which I verified using Hunspell from the commandline) - so no problem there.\r\n\r\nWhat is more challenging for me now is how do I unpack the `suggestions` element that comes back from this call? I&#39;ve been looking at various examples, but none of them seem to go into this level of detail (and even if I find examples, they seem to be using outdated panama APIs).\r\n\r\nSo in essence, here is my question:\r\n\r\nHow do I unpack a structure that reportedly consists of a _pointer to an array of strings pointer_ using panama JDK19 APIs to their respective collection of strings?\r\n\r\n  [1]: https://github.com/hunspell/hunspell\r\n  [2]: https://jdk.java.net/panama/","title":"Java, project panama and how to deal with Hunspell &#39;suggest&#39; result","body":"<p>I'm experimenting with <a href=\"https://github.com/hunspell/hunspell\" rel=\"noreferrer\">Hunspell</a> and how to interact with it using <a href=\"https://jdk.java.net/panama/\" rel=\"noreferrer\">Java Project Panama</a> (Build 19-panama+1-13 (2022/1/18)). I was able to get some initial testing done, as in creating a <code>handle to Hunspell</code> and subsequently using that to perform a spell check. I'm now trying something more elaborate, letting Hunspell give me <code>suggestions</code> for a word not present in the dictionary. This is the code that I have for that now:</p>\n<pre><code>public class HelloHun {\n    public static void main(String[] args) {\n        MemoryAddress hunspellHandle = null;\n        try (ResourceScope scope = ResourceScope.newConfinedScope()) {\n            var allocator = SegmentAllocator.nativeAllocator(scope);\n\n            // Point it to US english dictionary and (so called) affix file\n            // Note #1: it is possible to add words to the dictionary if you like\n            // Note #2: it is possible to have separate/individual dictionaries and affix files (e.g. per user/doc type)\n            var en_US_aff = allocator.allocateUtf8String(&quot;/usr/share/hunspell/en_US.aff&quot;);\n            var en_US_dic = allocator.allocateUtf8String(&quot;/usr/share/hunspell/en_US.dic&quot;);\n\n            // Get a handle to the Hunspell shared library and load up the dictionary and affix\n            hunspellHandle = Hunspell_create(en_US_aff, en_US_dic);\n\n            // Feed it a wrong word\n            var javaWord = &quot;koing&quot;;\n\n            // Do a simple spell check of the word\n            var word = allocator.allocateUtf8String(javaWord);\n            var spellingResult = Hunspell_spell(hunspellHandle, word);\n            System.out.println(String.format(&quot;%s is spelled %s&quot;, javaWord, (spellingResult == 0 ? &quot;incorrect&quot; : &quot;correct&quot;)));\n\n            // Hunspell also supports giving suggestions for a word - which is what we do next\n            // Note #3: by testing this `koing` word in isolation - we know that there are 4 alternatives for this word\n            // Note #4: I'm still investigating how to access individual suggestions\n\n            var suggestions = allocator.allocate(10);\n            var suggestionCount = Hunspell_suggest(hunspellHandle, suggestions, word);\n\n            System.out.println(String.format(&quot;There are %d suggestions for %s&quot;, suggestionCount, javaWord));\n\n            // `suggestions` - according to the hunspell API - is a `pointer to an array of strings pointer`\n            // we know how many `strings` pointer there are, as that is the returned value from `suggest`\n            // Question: how to process `suggestions` to get individual suggestions\n\n\n        } finally {\n            if (hunspellHandle != null) {\n                Hunspell_destroy(hunspellHandle);\n            }\n        }\n    }\n}\n</code></pre>\n<p>What I'm seeing is that a call to <code>Hunspell_suggest</code> (created from <code>jextract</code>) succeeds and gives me back (4) suggestions (which I verified using Hunspell from the commandline) - so no problem there.</p>\n<p>What is more challenging for me now is how do I unpack the <code>suggestions</code> element that comes back from this call? I've been looking at various examples, but none of them seem to go into this level of detail (and even if I find examples, they seem to be using outdated panama APIs).</p>\n<p>So in essence, here is my question:</p>\n<p>How do I unpack a structure that reportedly consists of a <em>pointer to an array of strings pointer</em> using panama JDK19 APIs to their respective collection of strings?</p>\n"},{"tags":["java","apache-kafka","jsonschema","confluent-schema-registry"],"comments":[{"owner":{"account_id":6642040,"reputation":2057,"user_id":5127499,"accept_rate":100,"display_name":"Carsten"},"score":0,"creation_date":1647301963,"post_id":71258589,"comment_id":126332720,"body_markdown":"Being the maintainer of the victools jsonschema-generator library, I&#39;d suggest looking into an alternative way of generating the schema. Ideally the Kafka generator would allow for handling timestamps differently, but no relevant setting seems to jump out.","body":"Being the maintainer of the victools jsonschema-generator library, I&#39;d suggest looking into an alternative way of generating the schema. Ideally the Kafka generator would allow for handling timestamps differently, but no relevant setting seems to jump out."}],"owner":{"account_id":14735843,"reputation":113,"user_id":10641905,"display_name":"alobaton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645738813,"creation_date":1645738813,"question_id":71258589,"body_markdown":"I&#39;m having trouble using LocalDateTime in a Java Pojo and sending it through Kafka + Schema Registry using JsonSchema. \r\n\r\nJsonSchema maps the LocalDateTime as an array of integers, but the actual message being sent through the stream contains a String which is causing an error when deserializing the message on the consumer side.\r\n\r\nI also tried to create manually the schema, disabled auto.register.schemas and treat the date field as a String but it causes an error in the Producer side not being able to find the schema, because Schema Registry search the schema by the schema generated from the class not by and ID.\r\n\r\nI created this project to reproduce the error https://github.com/alobatonavantica/kafka-poc\r\n\r\nThis is the pojo https://github.com/alobatonavantica/kafka-poc/blob/main/src/main/java/com/co/kafkapoc/dto/TestTypesDto.java\r\n\r\nThis is the Producer: https://github.com/alobatonavantica/kafka-poc/blob/main/src/main/java/com/co/kafkapoc/kafka/schemaregistry/KafkaSchemaRegistryProducer.java\r\n\r\nHere are the configs of the Producer: https://github.com/alobatonavantica/kafka-poc/blob/e37766c60150debe798903ff698a8561ea2af5af/src/main/java/com/co/kafkapoc/config/KafkaConfig.java#L92\r\n\r\nAnd this is the Consumer which is launched dynamically: https://github.com/alobatonavantica/kafka-poc/blob/main/src/main/java/com/co/kafkapoc/kafka/dynamic/KafkaDynamicConsumer.java\r\n    \r\nThis is the error in the Consumer side when I use the schema auto registered by the producer:\r\n\r\n        org.springframework.kafka.listener.ListenerExecutionFailedException: Listener failed; nested exception is org.springframework.kafka.support.serializer.DeserializationException: failed to deserialize; nested exception is org.apache.kafka.common.errors.SerializationException: Error deserializing JSON message for id 304\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2191) [spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.checkDeser(KafkaMessageListenerContainer.java:2202) [spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2107) [spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2039) [spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:1967) [spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:1853) [spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1543) [spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1190) [spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1087) [spring-kafka-2.6.8.jar:2.6.8]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_291]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_291]\r\n        at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_291]\r\n    Caused by: org.springframework.kafka.support.serializer.DeserializationException: failed to deserialize; nested exception is org.apache.kafka.common.errors.SerializationException: Error deserializing JSON message for id 304\r\n        at org.springframework.kafka.support.serializer.ErrorHandlingDeserializer.deserializationException(ErrorHandlingDeserializer.java:216) ~[spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.springframework.kafka.support.serializer.ErrorHandlingDeserializer.deserialize(ErrorHandlingDeserializer.java:191) ~[spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1365) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.internals.Fetcher.access$3400(Fetcher.java:130) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1596) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.access$1700(Fetcher.java:1432) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:684) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:635) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1303) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1237) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1210) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1283) [spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1174) [spring-kafka-2.6.8.jar:2.6.8]\r\n        ... 4 common frames omitted\r\n    Caused by: org.apache.kafka.common.errors.SerializationException: Error deserializing JSON message for id 304\r\n    Caused by: org.apache.kafka.common.errors.SerializationException: JSON {&quot;stringNotRequired&quot;:null,&quot;stringRequired&quot;:&quot;test&quot;,&quot;booleanNotRequired&quot;:null,&quot;booleanRequired&quot;:true,&quot;numberNotRequired&quot;:null,&quot;numberRequired&quot;:1.5,&quot;integerNotRequired&quot;:null,&quot;integerRequired&quot;:1,&quot;arrayNotRequired&quot;:null,&quot;arrayRequired&quot;:[1],&quot;dateNotRequired&quot;:null,&quot;dateRequired&quot;:&quot;24-02-2022 04:28:58 PM&quot;} does not match schema {&quot;$schema&quot;:&quot;http://json-schema.org/draft-07/schema#&quot;,&quot;title&quot;:&quot;Test Types Dto&quot;,&quot;type&quot;:&quot;object&quot;,&quot;additionalProperties&quot;:false,&quot;properties&quot;:{&quot;stringNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;string&quot;}]},&quot;stringRequired&quot;:{&quot;type&quot;:&quot;string&quot;},&quot;booleanNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;boolean&quot;}]},&quot;booleanRequired&quot;:{&quot;type&quot;:&quot;boolean&quot;},&quot;numberNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;number&quot;}]},&quot;numberRequired&quot;:{&quot;type&quot;:&quot;number&quot;},&quot;integerNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;integer&quot;}]},&quot;integerRequired&quot;:{&quot;type&quot;:&quot;integer&quot;},&quot;arrayNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}}]},&quot;arrayRequired&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}},&quot;dateNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}}]},&quot;dateRequired&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}}},&quot;required&quot;:[&quot;stringRequired&quot;,&quot;booleanRequired&quot;,&quot;numberRequired&quot;,&quot;integerRequired&quot;,&quot;arrayRequired&quot;,&quot;dateRequired&quot;]}\r\n    Caused by: org.everit.json.schema.ValidationException: #/dateRequired: expected type: JSONArray, found: String\r\n        at org.everit.json.schema.ValidationException.copy(ValidationException.java:486) ~[org.everit.json.schema-1.12.2.jar:na]\r\n        at org.everit.json.schema.DefaultValidator.performValidation(Validator.java:67) ~[org.everit.json.schema-1.12.2.jar:na]\r\n        at org.everit.json.schema.Schema.validate(Schema.java:152) ~[org.everit.json.schema-1.12.2.jar:na]\r\n        at io.confluent.kafka.schemaregistry.json.JsonSchema.validate(JsonSchema.java:292) ~[kafka-json-schema-provider-6.2.0.jar:na]\r\n        at io.confluent.kafka.serializers.json.AbstractKafkaJsonSchemaDeserializer.deserialize(AbstractKafkaJsonSchemaDeserializer.java:133) ~[kafka-json-schema-serializer-6.2.0.jar:na]\r\n        at io.confluent.kafka.serializers.json.AbstractKafkaJsonSchemaDeserializer.deserialize(AbstractKafkaJsonSchemaDeserializer.java:88) ~[kafka-json-schema-serializer-6.2.0.jar:na]\r\n        at io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer.deserialize(KafkaJsonSchemaDeserializer.java:81) ~[kafka-json-schema-serializer-6.2.0.jar:na]\r\n        at org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.springframework.kafka.support.serializer.ErrorHandlingDeserializer.deserialize(ErrorHandlingDeserializer.java:188) ~[spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1365) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.internals.Fetcher.access$3400(Fetcher.java:130) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1596) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.access$1700(Fetcher.java:1432) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:684) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:635) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1303) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1237) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1210) ~[kafka-clients-2.6.2.jar:na]\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1283) [spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1174) [spring-kafka-2.6.8.jar:2.6.8]\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1087) [spring-kafka-2.6.8.jar:2.6.8]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_291]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_291]\r\n        at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_291\r\n\r\nAnd this is the error in the Producer side when registering manually the schema using a string type in the date:\r\n\r\n        Error retrieving JSON schema: {&quot;$schema&quot;:&quot;http://json-schema.org/draft-07/schema#&quot;,&quot;title&quot;:&quot;Test Types Dto&quot;,&quot;type&quot;:&quot;object&quot;,&quot;additionalProperties&quot;:false,&quot;properties&quot;:{&quot;stringNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;string&quot;}]},&quot;stringRequired&quot;:{&quot;type&quot;:&quot;string&quot;},&quot;booleanNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;boolean&quot;}]},&quot;booleanRequired&quot;:{&quot;type&quot;:&quot;boolean&quot;},&quot;numberNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;number&quot;}]},&quot;numberRequired&quot;:{&quot;type&quot;:&quot;number&quot;},&quot;integerNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;integer&quot;}]},&quot;integerRequired&quot;:{&quot;type&quot;:&quot;integer&quot;},&quot;arrayNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}}]},&quot;arrayRequired&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}},&quot;dateNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}}]},&quot;dateRequired&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}}},&quot;required&quot;:[&quot;stringRequired&quot;,&quot;booleanRequired&quot;,&quot;numberRequired&quot;,&quot;integerRequired&quot;,&quot;arrayRequired&quot;,&quot;dateRequired&quot;]}\r\n\r\nAny help or advice would be appreciated.\r\n","title":"How to configure JSON Schema to work with LocalDateTime in a Java Pojo?","body":"<p>I'm having trouble using LocalDateTime in a Java Pojo and sending it through Kafka + Schema Registry using JsonSchema.</p>\n<p>JsonSchema maps the LocalDateTime as an array of integers, but the actual message being sent through the stream contains a String which is causing an error when deserializing the message on the consumer side.</p>\n<p>I also tried to create manually the schema, disabled auto.register.schemas and treat the date field as a String but it causes an error in the Producer side not being able to find the schema, because Schema Registry search the schema by the schema generated from the class not by and ID.</p>\n<p>I created this project to reproduce the error <a href=\"https://github.com/alobatonavantica/kafka-poc\" rel=\"nofollow noreferrer\">https://github.com/alobatonavantica/kafka-poc</a></p>\n<p>This is the pojo <a href=\"https://github.com/alobatonavantica/kafka-poc/blob/main/src/main/java/com/co/kafkapoc/dto/TestTypesDto.java\" rel=\"nofollow noreferrer\">https://github.com/alobatonavantica/kafka-poc/blob/main/src/main/java/com/co/kafkapoc/dto/TestTypesDto.java</a></p>\n<p>This is the Producer: <a href=\"https://github.com/alobatonavantica/kafka-poc/blob/main/src/main/java/com/co/kafkapoc/kafka/schemaregistry/KafkaSchemaRegistryProducer.java\" rel=\"nofollow noreferrer\">https://github.com/alobatonavantica/kafka-poc/blob/main/src/main/java/com/co/kafkapoc/kafka/schemaregistry/KafkaSchemaRegistryProducer.java</a></p>\n<p>Here are the configs of the Producer: <a href=\"https://github.com/alobatonavantica/kafka-poc/blob/e37766c60150debe798903ff698a8561ea2af5af/src/main/java/com/co/kafkapoc/config/KafkaConfig.java#L92\" rel=\"nofollow noreferrer\">https://github.com/alobatonavantica/kafka-poc/blob/e37766c60150debe798903ff698a8561ea2af5af/src/main/java/com/co/kafkapoc/config/KafkaConfig.java#L92</a></p>\n<p>And this is the Consumer which is launched dynamically: <a href=\"https://github.com/alobatonavantica/kafka-poc/blob/main/src/main/java/com/co/kafkapoc/kafka/dynamic/KafkaDynamicConsumer.java\" rel=\"nofollow noreferrer\">https://github.com/alobatonavantica/kafka-poc/blob/main/src/main/java/com/co/kafkapoc/kafka/dynamic/KafkaDynamicConsumer.java</a></p>\n<p>This is the error in the Consumer side when I use the schema auto registered by the producer:</p>\n<pre><code>    org.springframework.kafka.listener.ListenerExecutionFailedException: Listener failed; nested exception is org.springframework.kafka.support.serializer.DeserializationException: failed to deserialize; nested exception is org.apache.kafka.common.errors.SerializationException: Error deserializing JSON message for id 304\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2191) [spring-kafka-2.6.8.jar:2.6.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.checkDeser(KafkaMessageListenerContainer.java:2202) [spring-kafka-2.6.8.jar:2.6.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2107) [spring-kafka-2.6.8.jar:2.6.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2039) [spring-kafka-2.6.8.jar:2.6.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:1967) [spring-kafka-2.6.8.jar:2.6.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:1853) [spring-kafka-2.6.8.jar:2.6.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1543) [spring-kafka-2.6.8.jar:2.6.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1190) [spring-kafka-2.6.8.jar:2.6.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1087) [spring-kafka-2.6.8.jar:2.6.8]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_291]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_291]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_291]\nCaused by: org.springframework.kafka.support.serializer.DeserializationException: failed to deserialize; nested exception is org.apache.kafka.common.errors.SerializationException: Error deserializing JSON message for id 304\n    at org.springframework.kafka.support.serializer.ErrorHandlingDeserializer.deserializationException(ErrorHandlingDeserializer.java:216) ~[spring-kafka-2.6.8.jar:2.6.8]\n    at org.springframework.kafka.support.serializer.ErrorHandlingDeserializer.deserialize(ErrorHandlingDeserializer.java:191) ~[spring-kafka-2.6.8.jar:2.6.8]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1365) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.access$3400(Fetcher.java:130) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1596) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.access$1700(Fetcher.java:1432) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:684) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:635) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1303) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1237) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1210) ~[kafka-clients-2.6.2.jar:na]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1283) [spring-kafka-2.6.8.jar:2.6.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1174) [spring-kafka-2.6.8.jar:2.6.8]\n    ... 4 common frames omitted\nCaused by: org.apache.kafka.common.errors.SerializationException: Error deserializing JSON message for id 304\nCaused by: org.apache.kafka.common.errors.SerializationException: JSON {&quot;stringNotRequired&quot;:null,&quot;stringRequired&quot;:&quot;test&quot;,&quot;booleanNotRequired&quot;:null,&quot;booleanRequired&quot;:true,&quot;numberNotRequired&quot;:null,&quot;numberRequired&quot;:1.5,&quot;integerNotRequired&quot;:null,&quot;integerRequired&quot;:1,&quot;arrayNotRequired&quot;:null,&quot;arrayRequired&quot;:[1],&quot;dateNotRequired&quot;:null,&quot;dateRequired&quot;:&quot;24-02-2022 04:28:58 PM&quot;} does not match schema {&quot;$schema&quot;:&quot;http://json-schema.org/draft-07/schema#&quot;,&quot;title&quot;:&quot;Test Types Dto&quot;,&quot;type&quot;:&quot;object&quot;,&quot;additionalProperties&quot;:false,&quot;properties&quot;:{&quot;stringNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;string&quot;}]},&quot;stringRequired&quot;:{&quot;type&quot;:&quot;string&quot;},&quot;booleanNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;boolean&quot;}]},&quot;booleanRequired&quot;:{&quot;type&quot;:&quot;boolean&quot;},&quot;numberNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;number&quot;}]},&quot;numberRequired&quot;:{&quot;type&quot;:&quot;number&quot;},&quot;integerNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;integer&quot;}]},&quot;integerRequired&quot;:{&quot;type&quot;:&quot;integer&quot;},&quot;arrayNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}}]},&quot;arrayRequired&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}},&quot;dateNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}}]},&quot;dateRequired&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}}},&quot;required&quot;:[&quot;stringRequired&quot;,&quot;booleanRequired&quot;,&quot;numberRequired&quot;,&quot;integerRequired&quot;,&quot;arrayRequired&quot;,&quot;dateRequired&quot;]}\nCaused by: org.everit.json.schema.ValidationException: #/dateRequired: expected type: JSONArray, found: String\n    at org.everit.json.schema.ValidationException.copy(ValidationException.java:486) ~[org.everit.json.schema-1.12.2.jar:na]\n    at org.everit.json.schema.DefaultValidator.performValidation(Validator.java:67) ~[org.everit.json.schema-1.12.2.jar:na]\n    at org.everit.json.schema.Schema.validate(Schema.java:152) ~[org.everit.json.schema-1.12.2.jar:na]\n    at io.confluent.kafka.schemaregistry.json.JsonSchema.validate(JsonSchema.java:292) ~[kafka-json-schema-provider-6.2.0.jar:na]\n    at io.confluent.kafka.serializers.json.AbstractKafkaJsonSchemaDeserializer.deserialize(AbstractKafkaJsonSchemaDeserializer.java:133) ~[kafka-json-schema-serializer-6.2.0.jar:na]\n    at io.confluent.kafka.serializers.json.AbstractKafkaJsonSchemaDeserializer.deserialize(AbstractKafkaJsonSchemaDeserializer.java:88) ~[kafka-json-schema-serializer-6.2.0.jar:na]\n    at io.confluent.kafka.serializers.json.KafkaJsonSchemaDeserializer.deserialize(KafkaJsonSchemaDeserializer.java:81) ~[kafka-json-schema-serializer-6.2.0.jar:na]\n    at org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60) ~[kafka-clients-2.6.2.jar:na]\n    at org.springframework.kafka.support.serializer.ErrorHandlingDeserializer.deserialize(ErrorHandlingDeserializer.java:188) ~[spring-kafka-2.6.8.jar:2.6.8]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1365) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.access$3400(Fetcher.java:130) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1596) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.access$1700(Fetcher.java:1432) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:684) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:635) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1303) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1237) ~[kafka-clients-2.6.2.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1210) ~[kafka-clients-2.6.2.jar:na]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1283) [spring-kafka-2.6.8.jar:2.6.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1174) [spring-kafka-2.6.8.jar:2.6.8]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1087) [spring-kafka-2.6.8.jar:2.6.8]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_291]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_291]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_291\n</code></pre>\n<p>And this is the error in the Producer side when registering manually the schema using a string type in the date:</p>\n<pre><code>    Error retrieving JSON schema: {&quot;$schema&quot;:&quot;http://json-schema.org/draft-07/schema#&quot;,&quot;title&quot;:&quot;Test Types Dto&quot;,&quot;type&quot;:&quot;object&quot;,&quot;additionalProperties&quot;:false,&quot;properties&quot;:{&quot;stringNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;string&quot;}]},&quot;stringRequired&quot;:{&quot;type&quot;:&quot;string&quot;},&quot;booleanNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;boolean&quot;}]},&quot;booleanRequired&quot;:{&quot;type&quot;:&quot;boolean&quot;},&quot;numberNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;number&quot;}]},&quot;numberRequired&quot;:{&quot;type&quot;:&quot;number&quot;},&quot;integerNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;integer&quot;}]},&quot;integerRequired&quot;:{&quot;type&quot;:&quot;integer&quot;},&quot;arrayNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}}]},&quot;arrayRequired&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}},&quot;dateNotRequired&quot;:{&quot;oneOf&quot;:[{&quot;type&quot;:&quot;null&quot;,&quot;title&quot;:&quot;Not included&quot;},{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}}]},&quot;dateRequired&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;integer&quot;}}},&quot;required&quot;:[&quot;stringRequired&quot;,&quot;booleanRequired&quot;,&quot;numberRequired&quot;,&quot;integerRequired&quot;,&quot;arrayRequired&quot;,&quot;dateRequired&quot;]}\n</code></pre>\n<p>Any help or advice would be appreciated.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1645738753,"post_id":71258550,"comment_id":125958056,"body_markdown":"`i have tried many times but it just doesnt seem to work` welcome to the world of debugging, have you tried using breakpoints and logs to see what&#39;s happening and what isn&#39;t happening ? you have nothing happening inside `onCancelled`, are you sure that isn&#39;t being called ? do you know if your code ever goes inside `onDataChange` ? what does it return ? there&#39;s still plenty more you can do","body":"<code>i have tried many times but it just doesnt seem to work</code> welcome to the world of debugging, have you tried using breakpoints and logs to see what&#39;s happening and what isn&#39;t happening ? you have nothing happening inside <code>onCancelled</code>, are you sure that isn&#39;t being called ? do you know if your code ever goes inside <code>onDataChange</code> ? what does it return ? there&#39;s still plenty more you can do"},{"owner":{"account_id":24113832,"reputation":9,"user_id":18084042,"display_name":"Abhi Deshmukh"},"score":0,"creation_date":1645739037,"post_id":71258550,"comment_id":125958141,"body_markdown":"@a_local_nobody can you please tell me what should i put inside oncancelled.i have copied this code from youtube video and there was nothing.sorry i dont have enough knowledge about it","body":"@a_local_nobody can you please tell me what should i put inside oncancelled.i have copied this code from youtube video and there was nothing.sorry i dont have enough knowledge about it"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1645739131,"post_id":71258550,"comment_id":125958170,"body_markdown":"well, the point i&#39;m trying to make is that you should make use of logs and breakpoints to see what&#39;s happening in your code, so put a log statement in there, see if it shows up, you can even make use of a toast if you want, it&#39;s not going to make a difference to your app but at least you&#39;ll know what&#39;s actually happening, instead of guessing","body":"well, the point i&#39;m trying to make is that you should make use of logs and breakpoints to see what&#39;s happening in your code, so put a log statement in there, see if it shows up, you can even make use of a toast if you want, it&#39;s not going to make a difference to your app but at least you&#39;ll know what&#39;s actually happening, instead of guessing"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1645774430,"post_id":71258550,"comment_id":125964679,"body_markdown":"First of all, as already a_local_nobody mentioned in his comment, stop ignoring errors. Use `Log.d(TAG, error.getMessage());`. Do you get something printed out in the logcat?","body":"First of all, as already a_local_nobody mentioned in his comment, stop ignoring errors. Use <code>Log.d(TAG, error.getMessage());</code>. Do you get something printed out in the logcat?"}],"owner":{"account_id":24113832,"reputation":9,"user_id":18084042,"display_name":"Abhi Deshmukh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645738549,"creation_date":1645738549,"question_id":71258550,"body_markdown":"i have a few textviews which i want to change from firebase database on a daily basis \r\nfor that i am retrieving data from firebase realtime database to a textview i have tried many times but it just doesnt seem to work,please help me guys.\r\n\r\nthis is my java code.\r\n\r\n ``` \r\n        tv1 = findViewById ( R.id.tv1 );\r\n        tv2 = findViewById ( R.id.tv2 );\r\n        tv3 = findViewById ( R.id.tv3 );\r\n        tv4 = findViewById ( R.id.tv4 );\r\n        tv5 = findViewById ( R.id.tv5 );\r\n        tv6 = findViewById ( R.id.tv6 );\r\n        tv7 = findViewById ( R.id.tv7 );\r\n        tv8 = findViewById ( R.id.tv8 );\r\n        tv9 = findViewById ( R.id.tv9 );\r\n        tv10 = findViewById ( R.id.tv10 );\r\n\r\n        mDatabase = FirebaseDatabase.getInstance ();\r\n        ref= mDatabase.getReference ().child (&quot;textview1&quot;);\r\n\r\n        ref.addValueEventListener ( new ValueEventListener ( ) {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n\r\n                String tv1s = snapshot.child ( &quot;textview1&quot; ).getValue ( String.class );\r\n                String tv2s = snapshot.child ( &quot;textview2&quot; ).getValue ( String.class );\r\n                String tv3s = snapshot.child ( &quot;textview3&quot; ).getValue ( String.class );\r\n                String tv4s = snapshot.child ( &quot;textview4&quot; ).getValue ( String.class );\r\n              \r\n\r\n                tv1.setText ( tv1s );\r\n                tv2.setText ( tv2s );\r\n                tv3.setText ( tv3s );\r\n                tv4.setText ( tv4s );\r\n              \r\n\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        } );\r\n\r\n ```\r\n\r\n\r\n\r\n\r\n```  \r\nthis is my firebase database \r\n\r\n``` {\r\n  &quot;textview1&quot; : 2200,\r\n  &quot;textview10&quot; : 244,\r\n  &quot;textview2&quot; : 13,\r\n  &quot;textview3&quot; : 12,\r\n  &quot;textview4&quot; : 13,\r\n \r\n} ```\r\n\r\nwhen i open app all the text just vanishes and i dont any reason for that. i have lots of textview which i want to update from day to day basis if you guys have any suggestions i am open to hear it.\r\n\r\nbasic idea is to update values \r\nsuppose i have 10 textview in gridlayout so they will be 10-1, 11-2, 12-3 and so on and here both or every numbers are textview i want to change this numbers everyday according to need so thas why i am asking for help. \r\n\r\ni am adding more words so that my question will be accepted and i think you all got the idea of what i am trying to say. i just want to change text or numbers in my case of my textviewe from firebase using firebase realtime database so that i can update those values regularly.","title":"retrieving firebase data into a textview with no button in android studio","body":"<p>i have a few textviews which i want to change from firebase database on a daily basis\nfor that i am retrieving data from firebase realtime database to a textview i have tried many times but it just doesnt seem to work,please help me guys.</p>\n<p>this is my java code.</p>\n<pre><code>       tv1 = findViewById ( R.id.tv1 );\n       tv2 = findViewById ( R.id.tv2 );\n       tv3 = findViewById ( R.id.tv3 );\n       tv4 = findViewById ( R.id.tv4 );\n       tv5 = findViewById ( R.id.tv5 );\n       tv6 = findViewById ( R.id.tv6 );\n       tv7 = findViewById ( R.id.tv7 );\n       tv8 = findViewById ( R.id.tv8 );\n       tv9 = findViewById ( R.id.tv9 );\n       tv10 = findViewById ( R.id.tv10 );\n\n       mDatabase = FirebaseDatabase.getInstance ();\n       ref= mDatabase.getReference ().child (&quot;textview1&quot;);\n\n       ref.addValueEventListener ( new ValueEventListener ( ) {\n           @Override\n           public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n\n               String tv1s = snapshot.child ( &quot;textview1&quot; ).getValue ( String.class );\n               String tv2s = snapshot.child ( &quot;textview2&quot; ).getValue ( String.class );\n               String tv3s = snapshot.child ( &quot;textview3&quot; ).getValue ( String.class );\n               String tv4s = snapshot.child ( &quot;textview4&quot; ).getValue ( String.class );\n             \n\n               tv1.setText ( tv1s );\n               tv2.setText ( tv2s );\n               tv3.setText ( tv3s );\n               tv4.setText ( tv4s );\n             \n\n\n\n           }\n\n           @Override\n           public void onCancelled(@NonNull DatabaseError error) {\n\n           }\n       } );\n\n</code></pre>\n<pre><code>this is my firebase database \n\n``` {\n  &quot;textview1&quot; : 2200,\n  &quot;textview10&quot; : 244,\n  &quot;textview2&quot; : 13,\n  &quot;textview3&quot; : 12,\n  &quot;textview4&quot; : 13,\n \n} ```\n\nwhen i open app all the text just vanishes and i dont any reason for that. i have lots of textview which i want to update from day to day basis if you guys have any suggestions i am open to hear it.\n\nbasic idea is to update values \nsuppose i have 10 textview in gridlayout so they will be 10-1, 11-2, 12-3 and so on and here both or every numbers are textview i want to change this numbers everyday according to need so thas why i am asking for help. \n\ni am adding more words so that my question will be accepted and i think you all got the idea of what i am trying to say. i just want to change text or numbers in my case of my textviewe from firebase using firebase realtime database so that i can update those values regularly.\n</code></pre>\n"},{"tags":["java","android","seekbar"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1645766585,"post_id":71258490,"comment_id":125963024,"body_markdown":"check [this](https://stackoverflow.com/questions/59641829/seekbar-change-progress-only-when-dragging-thumb),may this helpful.","body":"check <a href=\"https://stackoverflow.com/questions/59641829/seekbar-change-progress-only-when-dragging-thumb\">this</a>,may this helpful."},{"owner":{"account_id":18716710,"reputation":1336,"user_id":14291243,"display_name":"Abhishek Dutt"},"score":0,"creation_date":1645768036,"post_id":71258490,"comment_id":125963304,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":14746212,"reputation":1,"user_id":16001628,"display_name":"Var Delean"},"score":0,"creation_date":1645806217,"post_id":71258490,"comment_id":125975564,"body_markdown":"@EAS - thank you kindly for the link, I am well aware of that thread, but unfortunately that solution doesn&#39;t work either, the thumb is still jumping when touched on the edges of the bounds.","body":"@EAS - thank you kindly for the link, I am well aware of that thread, but unfortunately that solution doesn&#39;t work either, the thumb is still jumping when touched on the edges of the bounds."},{"owner":{"account_id":14746212,"reputation":1,"user_id":16001628,"display_name":"Var Delean"},"score":0,"creation_date":1645806539,"post_id":71258490,"comment_id":125975692,"body_markdown":"@Abhishek Dutt - thank you for your comments, yes, I can trim the code, but I was trying to be as complete as possible, which is also a requirement when posting... \nI totally understand that some people do not need all the files I posted, but for a beginner like me, it helps seeing all the pieces of the puzzle, so to me at least, that was the &quot;minimal&quot; code required. I apologize if I took too much of your time for going through my code.","body":"@Abhishek Dutt - thank you for your comments, yes, I can trim the code, but I was trying to be as complete as possible, which is also a requirement when posting...  I totally understand that some people do not need all the files I posted, but for a beginner like me, it helps seeing all the pieces of the puzzle, so to me at least, that was the &quot;minimal&quot; code required. I apologize if I took too much of your time for going through my code."}],"owner":{"account_id":14746212,"reputation":1,"user_id":16001628,"display_name":"Var Delean"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645738167,"creation_date":1645738167,"question_id":71258490,"body_markdown":"I know this question was asked and somewhat answered before, but none of the solutions I found so far really worked out for me: I have a custom seekBar with a large square block for the thumb, which I draw on the fly, and I want the seekBar progress to change only when the thumb is being dragged. \r\n[Large thumb seekBar][1]\r\n\r\nI looked around and tried out all of the proposed solutions I could find, and some worked better then others, but they all have a big issue (for me at least): if I detect the boundaries of the thumb in order to start dragging the thumb, the onTouch ACTION_DOWN event makes the thumb jump to whatever position the pointer is on the screen, within the thumb&#39;s boundaries, of course. \r\n\r\nIf the thumb size is small, this is almost a non issue, but on a large thumb, this behavior is really annoying. \r\n\r\nTo make matters worse, if I declare a thumb offset of 0 to keep the thumb inside the seekBar, the jumping behavior changes with respect to where on the seekbar the thumb is: indetermined jump direction right in the middle of the seekbar, or it jumps to the right if the thumb is on the left half of the seekbar, or to the left if the thumb is on the right half of the seekbar. \r\n\r\nHere&#39;s my starting code, I removed all of my failed attempts to make the seekBar&#39;s thumb move only when a drag starts:\r\n\r\n**activity_main.xml**\r\n```\r\n   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/progressText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;0&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/mySeekbar&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.154&quot; /&gt;\r\n\r\n    &lt;com.example.thumbonlyseekbar.MySeekBar\r\n        android:id=&quot;@+id/mySeekbar&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;150dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:indeterminate=&quot;false&quot;\r\n        android:max=&quot;99&quot;\r\n        android:progress=&quot;0&quot;\r\n        android:progressDrawable=&quot;@drawable/my_seekbar&quot;\r\n        android:thumb=&quot;@drawable/thumb&quot;\r\n        android:thumbOffset=&quot;0dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n  \r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\n**MySeekbar.java**\r\n```\r\npackage com.example.thumbonlyseekbar;\r\n\r\nimport android.content.Context;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.util.AttributeSet;\r\nimport androidx.annotation.NonNull;\r\n\r\n\r\npublic class MySeekBar extends androidx.appcompat.widget.AppCompatSeekBar {\r\n\r\n    Drawable mThumb;\r\n\r\n    public MySeekBar(@NonNull Context context) {\r\n        super(context);\r\n    }\r\n\r\n    public MySeekBar(@NonNull Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n    }\r\n\r\n    public MySeekBar(@NonNull Context context, AttributeSet attrs, int defStyle) {\r\n        super(context, attrs, defStyle);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void setThumb(Drawable thumb) {\r\n        super.setThumb(thumb);\r\n        mThumb = thumb;\r\n    }\r\n    public Drawable getSeekBarThumb() {\r\n        return mThumb;\r\n    }\r\n\r\n}\r\n```\r\n**MainActivity.java**\r\n\r\n```\r\npackage com.example.thumbonlyseekbar;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.SeekBar;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    MySeekBar customSeekBar;\r\n    TextView progressValueText;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        customSeekBar = findViewById(R.id.mySeekbar);\r\n\r\n        progressValueText = findViewById(R.id.progressText);\r\n        progressValueText.setText(String.valueOf(customSeekBar.getProgress()));\r\n\r\n\r\n        customSeekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n                progressValueText.setText(String.valueOf(progress));\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\n**thumb.xml**\r\n\r\n```\r\npackage com.example.thumbonlyseekbar;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.SeekBar;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    MySeekBar customSeekBar;\r\n    TextView progressValueText;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        customSeekBar = findViewById(R.id.mySeekbar);\r\n\r\n        progressValueText = findViewById(R.id.progressText);\r\n        progressValueText.setText(String.valueOf(customSeekBar.getProgress()));\r\n\r\n\r\n        customSeekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n                progressValueText.setText(String.valueOf(progress));\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n**my_seekbar.xml**\r\n\r\n```\r\npackage com.example.thumbonlyseekbar;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.SeekBar;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    MySeekBar customSeekBar;\r\n    TextView progressValueText;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        customSeekBar = findViewById(R.id.mySeekbar);\r\n\r\n        progressValueText = findViewById(R.id.progressText);\r\n        progressValueText.setText(String.valueOf(customSeekBar.getProgress()));\r\n\r\n\r\n        customSeekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n                progressValueText.setText(String.valueOf(progress));\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\nIf you would like to see an example of what I mean by a no-thumb-jump seekBar, please take a look at the *AMPLIFi Remote* app in Google Play Store (it may only work on older devices, it works on my OREO 8.1, you may need to try it in an emulator that allows downloads from Google Play if you don&#39;t have an older device). The thumb&#39;s progress is unbelievably smooth, and there&#39;s absolutely no jumping around. Whoever wrote that app did an awesome job!\r\n\r\nMany, many thanks, any suggestion is much appreciated!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PtSD9.png","title":"Android SeekBar: Move by thumb only","body":"<p>I know this question was asked and somewhat answered before, but none of the solutions I found so far really worked out for me: I have a custom seekBar with a large square block for the thumb, which I draw on the fly, and I want the seekBar progress to change only when the thumb is being dragged.\n<a href=\"https://i.stack.imgur.com/PtSD9.png\" rel=\"nofollow noreferrer\">Large thumb seekBar</a></p>\n<p>I looked around and tried out all of the proposed solutions I could find, and some worked better then others, but they all have a big issue (for me at least): if I detect the boundaries of the thumb in order to start dragging the thumb, the onTouch ACTION_DOWN event makes the thumb jump to whatever position the pointer is on the screen, within the thumb's boundaries, of course.</p>\n<p>If the thumb size is small, this is almost a non issue, but on a large thumb, this behavior is really annoying.</p>\n<p>To make matters worse, if I declare a thumb offset of 0 to keep the thumb inside the seekBar, the jumping behavior changes with respect to where on the seekbar the thumb is: indetermined jump direction right in the middle of the seekbar, or it jumps to the right if the thumb is on the left half of the seekbar, or to the left if the thumb is on the right half of the seekbar.</p>\n<p>Here's my starting code, I removed all of my failed attempts to make the seekBar's thumb move only when a drag starts:</p>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/progressText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;0&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/mySeekbar&quot;\n        app:layout_constraintVertical_bias=&quot;0.154&quot; /&gt;\n\n    &lt;com.example.thumbonlyseekbar.MySeekBar\n        android:id=&quot;@+id/mySeekbar&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_marginStart=&quot;20dp&quot;\n        android:layout_marginTop=&quot;150dp&quot;\n        android:layout_marginEnd=&quot;20dp&quot;\n        android:indeterminate=&quot;false&quot;\n        android:max=&quot;99&quot;\n        android:progress=&quot;0&quot;\n        android:progressDrawable=&quot;@drawable/my_seekbar&quot;\n        android:thumb=&quot;@drawable/thumb&quot;\n        android:thumbOffset=&quot;0dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n  \n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p><strong>MySeekbar.java</strong></p>\n<pre><code>package com.example.thumbonlyseekbar;\n\nimport android.content.Context;\nimport android.graphics.drawable.Drawable;\nimport android.util.AttributeSet;\nimport androidx.annotation.NonNull;\n\n\npublic class MySeekBar extends androidx.appcompat.widget.AppCompatSeekBar {\n\n    Drawable mThumb;\n\n    public MySeekBar(@NonNull Context context) {\n        super(context);\n    }\n\n    public MySeekBar(@NonNull Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public MySeekBar(@NonNull Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n    }\n\n\n    @Override\n    public void setThumb(Drawable thumb) {\n        super.setThumb(thumb);\n        mThumb = thumb;\n    }\n    public Drawable getSeekBarThumb() {\n        return mThumb;\n    }\n\n}\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.example.thumbonlyseekbar;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.SeekBar;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n    MySeekBar customSeekBar;\n    TextView progressValueText;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        customSeekBar = findViewById(R.id.mySeekbar);\n\n        progressValueText = findViewById(R.id.progressText);\n        progressValueText.setText(String.valueOf(customSeekBar.getProgress()));\n\n\n        customSeekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n                progressValueText.setText(String.valueOf(progress));\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n\n            }\n        });\n\n    }\n}\n</code></pre>\n<p><strong>thumb.xml</strong></p>\n<pre><code>package com.example.thumbonlyseekbar;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.SeekBar;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n    MySeekBar customSeekBar;\n    TextView progressValueText;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        customSeekBar = findViewById(R.id.mySeekbar);\n\n        progressValueText = findViewById(R.id.progressText);\n        progressValueText.setText(String.valueOf(customSeekBar.getProgress()));\n\n\n        customSeekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n                progressValueText.setText(String.valueOf(progress));\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n\n            }\n        });\n\n    }\n}\n</code></pre>\n<p><strong>my_seekbar.xml</strong></p>\n<pre><code>package com.example.thumbonlyseekbar;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.SeekBar;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n    MySeekBar customSeekBar;\n    TextView progressValueText;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        customSeekBar = findViewById(R.id.mySeekbar);\n\n        progressValueText = findViewById(R.id.progressText);\n        progressValueText.setText(String.valueOf(customSeekBar.getProgress()));\n\n\n        customSeekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n                progressValueText.setText(String.valueOf(progress));\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>If you would like to see an example of what I mean by a no-thumb-jump seekBar, please take a look at the <em>AMPLIFi Remote</em> app in Google Play Store (it may only work on older devices, it works on my OREO 8.1, you may need to try it in an emulator that allows downloads from Google Play if you don't have an older device). The thumb's progress is unbelievably smooth, and there's absolutely no jumping around. Whoever wrote that app did an awesome job!</p>\n<p>Many, many thanks, any suggestion is much appreciated!</p>\n"},{"tags":["java","unit-testing","mockito","junit5","component-scan"],"answers":[{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645738032,"creation_date":1645738032,"answer_id":71258459,"question_id":71257469,"body_markdown":"You need to annotate your test class with some think like that to make injection works\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration(classes = { SpringTestConfiguration.class })\r\n    DisplayName(&quot;Digital Games Dao Test&quot;)\r\n    class DigitalGamesDaoTest {\r\n    ...\r\n\r\nBut you have a nullpointer because GamesJPAService.iDigitalGameRepository is null. That&#39;s a static property and the instance of GamesJPAService is a mock so the init() method is never call.\r\n\r\n","title":"initialise a service for mocking in java with mockito and junit 5","body":"<p>You need to annotate your test class with some think like that to make injection works</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = { SpringTestConfiguration.class })\nDisplayName(&quot;Digital Games Dao Test&quot;)\nclass DigitalGamesDaoTest {\n...\n</code></pre>\n<p>But you have a nullpointer because GamesJPAService.iDigitalGameRepository is null. That's a static property and the instance of GamesJPAService is a mock so the init() method is never call.</p>\n"}],"owner":{"account_id":7094775,"reputation":43,"user_id":5428780,"display_name":"Boots"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645738032,"creation_date":1645731985,"question_id":71257469,"body_markdown":"I&#39;m trying to learn some integration testing whilst creating a project to make a game database, and have got a class that calls a service within it&#39;s methods\r\n```\r\n    public DigitalGame findDigitalGameByTitleAndPlatform(DigitalGame digitalGame){\r\n        if(digitalGame == null){\r\n            return null;\r\n        }\r\n        return GamesJPAService.iDigitalGameRepository.findDigitalGameByTitleAndPlatform(digitalGame.getTitle(), digitalGame.getPlatform());\r\n    }\r\n```\r\n\r\nThe GamesJpaService as shown below, is initialised as an @Service when the project is started as an application. But is not initialised within the test class, no matter whether it is autowired,newed up, or any other method I have spotted to try and initialise it. for example using the @InjectMocks annotation\r\n\r\n\r\n\r\n```\r\n@Service\r\npublic class GamesJPAService implements IJpaServices {\r\n    public static IDigitalGameRepository iDigitalGameRepository;\r\n\r\n    @Autowired\r\n    private IDigitalGameRepository iDigitalGameRepo;\r\n\r\n\r\n    @PostConstruct\r\n    public void init(){\r\n        iDigitalGameRepository = this.iDigitalGameRepo;\r\n    }\r\n}\r\n```\r\n\r\nThe IDigitalGameRepository that it calls looks like:\r\n\r\n```\r\npublic interface IDigitalGameRepository extends JpaRepository&lt;DigitalGame, String&gt; {\r\n    DigitalGame findDigitalGameByTitleAndPlatform(String title, Platform platform);\r\n}\r\n\r\n```\r\nI have ommited some methods from the proceeding code. My test class also looks like (at the moment)\r\n```\r\n@DisplayName(&quot;Digital Games Dao Test&quot;)\r\nclass DigitalGamesDaoTest {\r\n\r\n    Set&lt;Peripheral&gt; compatiblePeriphs = new HashSet&lt;&gt;();\r\n    Set&lt;SupportedLanguages&gt; supportedLanguages = new HashSet&lt;&gt;();\r\n    List&lt;Mods&gt; mods = new ArrayList&lt;&gt;();\r\n    List&lt;DLC&gt; dlc = new ArrayList&lt;&gt;();\r\n    DigitalGame olliolli = new DigitalGame(&quot;olliolli&quot;, &quot;&quot;, &quot;sports&quot;, &quot;olliolli&quot;, new ReleaseDate(), new Platform(), compatiblePeriphs, new Developer(), new Publisher(), new Region(), supportedLanguages, new NoneEnglish(), mods, dlc, &quot;&quot;, new SpecialEdition(), true, new Platform());\r\n\r\n    private IDigitalGamesDao digitalGamesDao;\r\n\r\n    @Mock\r\n    GamesJPAService gamesJpaService;\r\n\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        digitalGamesDao = new DigitalGamesDao();\r\n    }\r\n\r\n   @Test\r\n    @DisplayName(&quot;insertDigitalGame should return false when digital game already in database&quot;)\r\n    public void insertDigitalGameShouldReturnFalseWhenDigitalGameInDatabase(){\r\n        EntityManager mockEntityManager = mock(EntityManager.class);\r\n\r\n        when(GamesJPAService.iDigitalGameRepository.findDigitalGameByTitleAndPlatform(olliolli.getTitle(), olliolli.getPlatform())).thenReturn(olliolli);\r\n        doReturn(olliolli).when(digitalGamesDao.findDigitalGameByTitleAndPlatform(olliolli));\r\n        when(digitalGamesDao.findDigitalGameByTitleAndPlatform(olliolli)).thenReturn(olliolli);\r\n\r\n        when(mockEntityManager.merge(olliolli)).thenReturn(null);\r\n        assertFalse(digitalGamesDao.insertDigitalGame(olliolli));\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;insertDigitalGame should return true when digital game added to database&quot;)\r\n    public void insertDigitalGameShouldReturnTrueWhenDigitalGameNotInDatabase(){\r\n\r\n    }\r\n```\r\n\r\nand I am getting a null pointer exception,\r\n\r\n**java.lang.NullPointerException: Cannot invoke &quot;com.me.gamedatabasebackend.dao.gamesJPA.IDigitalGameRepository.findDigitalGameByTitleAndPlatform(String, com.me.gamedatabasebackend.model.platform.Platform)&quot; because &quot;com.me.gamedatabasebackend.dao.gamesJPA.GamesJPAService.iDigitalGameRepository&quot; is null**\r\n\r\n\r\nAs GamesJPAService is not being tested I need to know how to skip it and just return the value. So I need help to find a way for either, doing a component scan from my test class, or importing the GamesJPAService into it in a useable manner.","title":"initialise a service for mocking in java with mockito and junit 5","body":"<p>I'm trying to learn some integration testing whilst creating a project to make a game database, and have got a class that calls a service within it's methods</p>\n<pre><code>    public DigitalGame findDigitalGameByTitleAndPlatform(DigitalGame digitalGame){\n        if(digitalGame == null){\n            return null;\n        }\n        return GamesJPAService.iDigitalGameRepository.findDigitalGameByTitleAndPlatform(digitalGame.getTitle(), digitalGame.getPlatform());\n    }\n</code></pre>\n<p>The GamesJpaService as shown below, is initialised as an @Service when the project is started as an application. But is not initialised within the test class, no matter whether it is autowired,newed up, or any other method I have spotted to try and initialise it. for example using the @InjectMocks annotation</p>\n<pre><code>@Service\npublic class GamesJPAService implements IJpaServices {\n    public static IDigitalGameRepository iDigitalGameRepository;\n\n    @Autowired\n    private IDigitalGameRepository iDigitalGameRepo;\n\n\n    @PostConstruct\n    public void init(){\n        iDigitalGameRepository = this.iDigitalGameRepo;\n    }\n}\n</code></pre>\n<p>The IDigitalGameRepository that it calls looks like:</p>\n<pre><code>public interface IDigitalGameRepository extends JpaRepository&lt;DigitalGame, String&gt; {\n    DigitalGame findDigitalGameByTitleAndPlatform(String title, Platform platform);\n}\n\n</code></pre>\n<p>I have ommited some methods from the proceeding code. My test class also looks like (at the moment)</p>\n<pre><code>@DisplayName(&quot;Digital Games Dao Test&quot;)\nclass DigitalGamesDaoTest {\n\n    Set&lt;Peripheral&gt; compatiblePeriphs = new HashSet&lt;&gt;();\n    Set&lt;SupportedLanguages&gt; supportedLanguages = new HashSet&lt;&gt;();\n    List&lt;Mods&gt; mods = new ArrayList&lt;&gt;();\n    List&lt;DLC&gt; dlc = new ArrayList&lt;&gt;();\n    DigitalGame olliolli = new DigitalGame(&quot;olliolli&quot;, &quot;&quot;, &quot;sports&quot;, &quot;olliolli&quot;, new ReleaseDate(), new Platform(), compatiblePeriphs, new Developer(), new Publisher(), new Region(), supportedLanguages, new NoneEnglish(), mods, dlc, &quot;&quot;, new SpecialEdition(), true, new Platform());\n\n    private IDigitalGamesDao digitalGamesDao;\n\n    @Mock\n    GamesJPAService gamesJpaService;\n\n\n    @BeforeEach\n    void setUp() {\n        digitalGamesDao = new DigitalGamesDao();\n    }\n\n   @Test\n    @DisplayName(&quot;insertDigitalGame should return false when digital game already in database&quot;)\n    public void insertDigitalGameShouldReturnFalseWhenDigitalGameInDatabase(){\n        EntityManager mockEntityManager = mock(EntityManager.class);\n\n        when(GamesJPAService.iDigitalGameRepository.findDigitalGameByTitleAndPlatform(olliolli.getTitle(), olliolli.getPlatform())).thenReturn(olliolli);\n        doReturn(olliolli).when(digitalGamesDao.findDigitalGameByTitleAndPlatform(olliolli));\n        when(digitalGamesDao.findDigitalGameByTitleAndPlatform(olliolli)).thenReturn(olliolli);\n\n        when(mockEntityManager.merge(olliolli)).thenReturn(null);\n        assertFalse(digitalGamesDao.insertDigitalGame(olliolli));\n    }\n\n    @Test\n    @DisplayName(&quot;insertDigitalGame should return true when digital game added to database&quot;)\n    public void insertDigitalGameShouldReturnTrueWhenDigitalGameNotInDatabase(){\n\n    }\n</code></pre>\n<p>and I am getting a null pointer exception,</p>\n<p><strong>java.lang.NullPointerException: Cannot invoke &quot;com.me.gamedatabasebackend.dao.gamesJPA.IDigitalGameRepository.findDigitalGameByTitleAndPlatform(String, com.me.gamedatabasebackend.model.platform.Platform)&quot; because &quot;com.me.gamedatabasebackend.dao.gamesJPA.GamesJPAService.iDigitalGameRepository&quot; is null</strong></p>\n<p>As GamesJPAService is not being tested I need to know how to skip it and just return the value. So I need help to find a way for either, doing a component scan from my test class, or importing the GamesJPAService into it in a useable manner.</p>\n"},{"tags":["java","eclipse","user-interface","netbeans","nvda"],"answers":[{"tags":[],"owner":{"account_id":10547369,"reputation":9,"user_id":8742454,"display_name":"CriticalHit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645737967,"creation_date":1507492961,"answer_id":46635476,"question_id":42426719,"body_markdown":"NVDA does not read some GUIs. Specifically, I know that it does not read tkinter and Java GUIs. As far as GUIs go for screen readers, your best bet is HTMLM/web apps. Oh, and I think .NET GUIs.","title":"Why doesn&#39;t NVDA read the GUI in Eclipse or NetBeans, and can I get it to do that?","body":"<p>NVDA does not read some GUIs. Specifically, I know that it does not read tkinter and Java GUIs. As far as GUIs go for screen readers, your best bet is HTMLM/web apps. Oh, and I think .NET GUIs.</p>\n"}],"owner":{"account_id":9915689,"reputation":1,"user_id":7340625,"display_name":"Csssa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645737967,"creation_date":1487886111,"question_id":42426719,"body_markdown":"How do I use the NVDA screen reader in `windowApplication` Java in Eclipse or Java NetBeans?\r\n\r\nI installed NVDA and tried to make it read the GUI, but it does not read anything inside i.e. dialog box.","title":"Why doesn&#39;t NVDA read the GUI in Eclipse or NetBeans, and can I get it to do that?","body":"<p>How do I use the NVDA screen reader in <code>windowApplication</code> Java in Eclipse or Java NetBeans?</p>\n<p>I installed NVDA and tried to make it read the GUI, but it does not read anything inside i.e. dialog box.</p>\n"},{"tags":["java","mysql","sqlite"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1645734644,"post_id":71257886,"comment_id":125956803,"body_markdown":"How did you create the database? Where is the code that establishes the connection? Is the filename given correct?  Please update your question and include all the relevant code.","body":"How did you create the database? Where is the code that establishes the connection? Is the filename given correct?  Please update your question and include all the relevant code."},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1645735033,"post_id":71257886,"comment_id":125956920,"body_markdown":"`Order` is a reserved word in SQL.","body":"<code>Order</code> is a reserved word in SQL."}],"answers":[{"tags":[],"owner":{"account_id":24346889,"reputation":74,"user_id":18283306,"display_name":"Dylan LaMott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645737888,"creation_date":1645737888,"answer_id":71258428,"question_id":71257886,"body_markdown":"The error is in your execute statement.\r\n\r\n**INSERT** (as well as **UPDATE** and **DELETE**) statements should use `executeUpdate()`.","title":"missing Database error in java with sqlite","body":"<p>The error is in your execute statement.</p>\n<p><strong>INSERT</strong> (as well as <strong>UPDATE</strong> and <strong>DELETE</strong>) statements should use <code>executeUpdate()</code>.</p>\n"}],"owner":{"account_id":24195161,"reputation":21,"user_id":18153833,"display_name":"m123332"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1645737888,"creation_date":1645734561,"question_id":71257886,"body_markdown":"     @Override\r\n    public void saveOrder(OrderModel order) {\r\n        try {\r\n            Statement stmt = conn.createStatement();\r\n\r\n            if (loadOrder(order.orderID) == null) {           // this is a new product!\r\n                stmt.execute(&quot;INSERT INTO Order (OrderID, OrderDate, Customer, TotalCost, TotalTax) VALUES (&quot;\r\n                        +  order.orderID + &quot;,&quot;\r\n                        + &#39;\\&#39;&#39; + order.orderDate+ &#39;\\&#39;&#39; + &quot;,&quot;\r\n                        + order.customer + &quot;,&quot;\r\n                        + order.totalCost + &quot;,&quot;\r\n                        + order.totalTax+ &quot;)&quot;\r\n                );\r\n            }\r\n\r\n\r\n\r\nI am trying to get information to save to my Order table in my database but it keeps giving me this error. I am not seeing what I did wrong. It says the problem is the  stmt.execute line but I can&#39;t figure out what to change. \r\n[SQLITE_ERROR] SQL error or missing database (near &quot;Order&quot;: syntax error)","title":"missing Database error in java with sqlite","body":"<pre><code> @Override\npublic void saveOrder(OrderModel order) {\n    try {\n        Statement stmt = conn.createStatement();\n\n        if (loadOrder(order.orderID) == null) {           // this is a new product!\n            stmt.execute(&quot;INSERT INTO Order (OrderID, OrderDate, Customer, TotalCost, TotalTax) VALUES (&quot;\n                    +  order.orderID + &quot;,&quot;\n                    + '\\'' + order.orderDate+ '\\'' + &quot;,&quot;\n                    + order.customer + &quot;,&quot;\n                    + order.totalCost + &quot;,&quot;\n                    + order.totalTax+ &quot;)&quot;\n            );\n        }\n</code></pre>\n<p>I am trying to get information to save to my Order table in my database but it keeps giving me this error. I am not seeing what I did wrong. It says the problem is the  stmt.execute line but I can't figure out what to change.\n[SQLITE_ERROR] SQL error or missing database (near &quot;Order&quot;: syntax error)</p>\n"},{"tags":["java","android","accessibility","vibration","android-vibration"],"comments":[{"owner":{"account_id":9446844,"reputation":2497,"user_id":7025250,"accept_rate":100,"display_name":"SteelToe"},"score":1,"creation_date":1522262860,"post_id":49541849,"comment_id":86091449,"body_markdown":"Just set the ringer to silence when your app is running and then turn the ringer back on to vibrate right before your app vibrates and then after it vibrates put it back on scilence","body":"Just set the ringer to silence when your app is running and then turn the ringer back on to vibrate right before your app vibrates and then after it vibrates put it back on scilence"},{"owner":{"account_id":6238794,"reputation":10830,"user_id":4853133,"accept_rate":0,"display_name":"Quick learner"},"score":0,"creation_date":1522264649,"post_id":49541849,"comment_id":86092437,"body_markdown":"that could be a way to do that , but is it possible that we can put phone on silent from our app in nougat and above? @SteelToe","body":"that could be a way to do that , but is it possible that we can put phone on silent from our app in nougat and above? @SteelToe"},{"owner":{"account_id":9446844,"reputation":2497,"user_id":7025250,"accept_rate":100,"display_name":"SteelToe"},"score":0,"creation_date":1522264718,"post_id":49541849,"comment_id":86092483,"body_markdown":"Yes, I have a helper class that can do it. Would you like me to post?","body":"Yes, I have a helper class that can do it. Would you like me to post?"}],"answers":[{"tags":[],"owner":{"account_id":10219185,"reputation":62,"user_id":7768555,"display_name":"8bit_coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1522270798,"creation_date":1522270798,"answer_id":49544097,"question_id":49541849,"body_markdown":"As SteelToe said: \r\n\r\n&gt; Just set the ringer to silence when your app is running and then turn the ringer back on to vibrate right before your app vibrates and then after it vibrates put it back on scilence\r\n\r\nSo you could use code like:\r\n\r\n    function vibrateOn(){\r\n        audio.setVibrateSetting(AudioManager.VIBRATE_TYPE_RINGER,\r\n                AudioManager.VIBRATE_SETTING_ON);\r\n        audio.setVibrateSetting(AudioManager.VIBRATE_TYPE_NOTIFICATION,\r\n                AudioManager.VIBRATE_SETTING_ON);\r\n    }\r\n    \r\n    function vibrateOff(){\r\n        audio.setVibrateSetting(AudioManager.VIBRATE_TYPE_RINGER,\r\n                AudioManager.VIBRATE_SETTING_OFF);\r\n        audio.setVibrateSetting(AudioManager.VIBRATE_TYPE_NOTIFICATION,\r\n                AudioManager.VIBRATE_SETTING_OFF);\r\n    }","title":"Deny vibrations (except my app) while my app is running","body":"<p>As SteelToe said: </p>\n\n<blockquote>\n  <p>Just set the ringer to silence when your app is running and then turn the ringer back on to vibrate right before your app vibrates and then after it vibrates put it back on scilence</p>\n</blockquote>\n\n<p>So you could use code like:</p>\n\n<pre><code>function vibrateOn(){\n    audio.setVibrateSetting(AudioManager.VIBRATE_TYPE_RINGER,\n            AudioManager.VIBRATE_SETTING_ON);\n    audio.setVibrateSetting(AudioManager.VIBRATE_TYPE_NOTIFICATION,\n            AudioManager.VIBRATE_SETTING_ON);\n}\n\nfunction vibrateOff(){\n    audio.setVibrateSetting(AudioManager.VIBRATE_TYPE_RINGER,\n            AudioManager.VIBRATE_SETTING_OFF);\n    audio.setVibrateSetting(AudioManager.VIBRATE_TYPE_NOTIFICATION,\n            AudioManager.VIBRATE_SETTING_OFF);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11187574,"reputation":83,"user_id":8209292,"display_name":"AleX CoSTa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522338123,"creation_date":1522338123,"answer_id":49560123,"question_id":49541849,"body_markdown":"Here are all the options.\r\n\r\n    switch (position) {\r\n     case 0:\r\n        audioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);\r\n           break;\r\n     case 1:\r\n         audioManager.setRingerMode(AudioManager.RINGER_MODE_VIBRATE);\r\n           break;\r\n    case 2:\r\n         audioManager.setRingerMode(AudioManager.RINGER_MODE_NORMAL);\r\n          audioManager.setVibrateSetting(AudioManager.VIBRATE_TYPE_RINGER, \r\n             AudioManager.VIBRATE_SETTING_OFF);\r\n           break;\r\n     case 3:\r\n        audioManager.setRingerMode(AudioManager.RINGER_MODE_NORMAL);\r\n        audioManager.setVibrateSetting(AudioManager.VIBRATE_TYPE_RINGER, \r\n            AudioManager.VIBRATE_SETTING_ON);\r\n        break;\r\n     }","title":"Deny vibrations (except my app) while my app is running","body":"<p>Here are all the options.</p>\n\n<pre><code>switch (position) {\n case 0:\n    audioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);\n       break;\n case 1:\n     audioManager.setRingerMode(AudioManager.RINGER_MODE_VIBRATE);\n       break;\ncase 2:\n     audioManager.setRingerMode(AudioManager.RINGER_MODE_NORMAL);\n      audioManager.setVibrateSetting(AudioManager.VIBRATE_TYPE_RINGER, \n         AudioManager.VIBRATE_SETTING_OFF);\n       break;\n case 3:\n    audioManager.setRingerMode(AudioManager.RINGER_MODE_NORMAL);\n    audioManager.setVibrateSetting(AudioManager.VIBRATE_TYPE_RINGER, \n        AudioManager.VIBRATE_SETTING_ON);\n    break;\n }\n</code></pre>\n"}],"owner":{"account_id":11187574,"reputation":83,"user_id":8209292,"display_name":"AleX CoSTa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":49544097,"answer_count":2,"score":0,"last_activity_date":1645737754,"creation_date":1522262310,"question_id":49541849,"body_markdown":"I want to create an android app for blind people, so I **don&#39;t want vibrations** from **outside my app**, like notifications or other apps, otherwise those would change the pattern. How can I do it programmatically using Java?","title":"Deny vibrations (except my app) while my app is running","body":"<p>I want to create an android app for blind people, so I <strong>don't want vibrations</strong> from <strong>outside my app</strong>, like notifications or other apps, otherwise those would change the pattern. How can I do it programmatically using Java?</p>\n"},{"tags":["java","queue"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1645697241,"post_id":71250253,"comment_id":125942836,"body_markdown":"It is very unclear what you&#39;re asking.","body":"It is very unclear what you&#39;re asking."},{"owner":{"account_id":12904355,"reputation":777,"user_id":9332102,"display_name":"Dhirendra Gautam"},"score":0,"creation_date":1645697407,"post_id":71250253,"comment_id":125942910,"body_markdown":"If you want to initialize the queue use Queue&lt;Integer&gt; q = new LinkedList&lt;Integer&gt;();","body":"If you want to initialize the queue use Queue&lt;Integer&gt; q = new LinkedList&lt;Integer&gt;();"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1645697560,"post_id":71250253,"comment_id":125942965,"body_markdown":"@DhirendraGautam, no. In this case `Queue&lt;E&gt;` is not a JDK interface, it seems to be OP&#39;s own type.","body":"@DhirendraGautam, no. In this case <code>Queue&lt;E&gt;</code> is not a JDK interface, it seems to be OP&#39;s own type."},{"owner":{"account_id":12904355,"reputation":777,"user_id":9332102,"display_name":"Dhirendra Gautam"},"score":0,"creation_date":1645698904,"post_id":71250253,"comment_id":125943455,"body_markdown":"@M.Prokhorov in that case interface needs its implementation and that implementation class object can be used as an initializer  just like in JDK LinkedList is implementation of Queue","body":"@M.Prokhorov in that case interface needs its implementation and that implementation class object can be used as an initializer  just like in JDK LinkedList is implementation of Queue"},{"owner":{"account_id":24363893,"reputation":1,"user_id":18297887,"display_name":"Juhyun Park"},"score":0,"creation_date":1645750835,"post_id":71250253,"comment_id":125960546,"body_markdown":"The initialization of the two queues should be starting with &quot;new.&quot;","body":"The initialization of the two queues should be starting with &quot;new.&quot;"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1645789363,"post_id":71250253,"comment_id":125969436,"body_markdown":"@JuhyunPark what have you tried so far? Why didn&#39;t it work?","body":"@JuhyunPark what have you tried so far? Why didn&#39;t it work?"},{"owner":{"account_id":24363893,"reputation":1,"user_id":18297887,"display_name":"Juhyun Park"},"score":0,"creation_date":1645849534,"post_id":71250253,"comment_id":125985123,"body_markdown":"I tried new Queue&lt;dataType&gt;(); and got Queue is abstract; cannot be instantiated.","body":"I tried new Queue&lt;dataType&gt;(); and got Queue is abstract; cannot be instantiated."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1646150206,"post_id":71250253,"comment_id":126049713,"body_markdown":"@JuhyunPark, that means you need to have some non-abstract subclass of `Queue&lt;T&gt;` which you can actually use with the `new` operator. Since the `Queue` seems to be your own class, you will have to write that yourself.","body":"@JuhyunPark, that means you need to have some non-abstract subclass of <code>Queue&lt;T&gt;</code> which you can actually use with the <code>new</code> operator. Since the <code>Queue</code> seems to be your own class, you will have to write that yourself."}],"owner":{"account_id":24363893,"reputation":1,"user_id":18297887,"display_name":"Juhyun Park"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645737748,"creation_date":1645697160,"question_id":71250253,"body_markdown":"Here is the declaration of an interface:\r\n\r\n    public interface Queue&lt;E&gt;{\r\n            boolean isEmpty();\r\n            void enqueue(E newElement);\r\n            E dequeue();\r\n    }\r\n\r\nAnd here is the initialization I want to perform:\r\n\r\n    public class Test{\r\n            ......\r\n            private Queue&lt;dataType&gt; queue1;\r\n            private Queue&lt;dataType&gt; queue2;\r\n            ......\r\n            public Test_Constructor(A a, B b){\r\n                    ......\r\n                    queue1 = new ... *initialization\r\n                    queue2 = new ... *initialization\r\n                    ......\r\n            }\r\n\r\nHow should I be initializing queue1 and queue2? That&#39;s a fixed template and I do not want to change any(No adding or deleting).","title":"Initializing queues","body":"<p>Here is the declaration of an interface:</p>\n<pre><code>public interface Queue&lt;E&gt;{\n        boolean isEmpty();\n        void enqueue(E newElement);\n        E dequeue();\n}\n</code></pre>\n<p>And here is the initialization I want to perform:</p>\n<pre><code>public class Test{\n        ......\n        private Queue&lt;dataType&gt; queue1;\n        private Queue&lt;dataType&gt; queue2;\n        ......\n        public Test_Constructor(A a, B b){\n                ......\n                queue1 = new ... *initialization\n                queue2 = new ... *initialization\n                ......\n        }\n</code></pre>\n<p>How should I be initializing queue1 and queue2? That's a fixed template and I do not want to change any(No adding or deleting).</p>\n"},{"tags":["java","android","kotlin","kotlin-coroutines"],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645737233,"creation_date":1645737233,"answer_id":71258324,"question_id":71258185,"body_markdown":"Kotlin provides [withTimeoutOrNull()](https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/with-timeout-or-null.html) that does exactly this:\r\n\r\n```kotlin\r\nval id = withTimeoutOrNull(5000) {\r\n    requestIdFromServer(str)\r\n}\r\n```\r\nWhere `requestIdFromServer()` is a suspend function that retrieves the data. In the case of timeout the coroutine running the request will be cancelled.","title":"Setting a timeout wrapper over SharedFlow&#39;s .first()","body":"<p>Kotlin provides <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/with-timeout-or-null.html\" rel=\"nofollow noreferrer\">withTimeoutOrNull()</a> that does exactly this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val id = withTimeoutOrNull(5000) {\n    requestIdFromServer(str)\n}\n</code></pre>\n<p>Where <code>requestIdFromServer()</code> is a suspend function that retrieves the data. In the case of timeout the coroutine running the request will be cancelled.</p>\n"}],"owner":{"account_id":22712819,"reputation":91,"user_id":16878544,"display_name":"SOSparachuter1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71258324,"answer_count":1,"score":1,"last_activity_date":1645737715,"creation_date":1645736318,"question_id":71258185,"body_markdown":"I have a client program which makes requests to the server for a few properties. One of these properties is an Int, called ID. I&#39;d like to send the request to the server and get the value back in one clean suspending function with a timeout:\r\n\r\n    suspend fun requestID(str: String):Int? {\r\n\r\n    ... send message to server\r\n\r\n    ... and get the reply\r\n\r\n    ... return null if timed out\r\n\r\n    }\r\n\r\n    val id = connection.requestID(&quot;bob&quot;)\r\n\r\n\r\nI tried doing it via a SharedFlow with a withTimeout(), but shared flow&#39;s firstOrNull() function isn&#39;t cancellable and is a suspending function. Anyone have any tips?","title":"Setting a timeout wrapper over SharedFlow&#39;s .first()","body":"<p>I have a client program which makes requests to the server for a few properties. One of these properties is an Int, called ID. I'd like to send the request to the server and get the value back in one clean suspending function with a timeout:</p>\n<pre><code>suspend fun requestID(str: String):Int? {\n\n... send message to server\n\n... and get the reply\n\n... return null if timed out\n\n}\n\nval id = connection.requestID(&quot;bob&quot;)\n</code></pre>\n<p>I tried doing it via a SharedFlow with a withTimeout(), but shared flow's firstOrNull() function isn't cancellable and is a suspending function. Anyone have any tips?</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":6915613,"reputation":81,"user_id":5310008,"display_name":"roy man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645737514,"creation_date":1645737514,"answer_id":71258364,"question_id":71247831,"body_markdown":"This doesn&#39;t work because `@InjectMock` is not treated as `@Mock`.\r\n\r\nFrom a UnitTest perspective it is desired to only test one thing/unit. \r\n\r\nso you only need to mock the `Repository` and forget about the `EntityManger`. Instead use `Mockito.when(repo.findAll()).thenReturn(Collections.emptyList())` for UnitTests.\r\n\r\nWhen you want to test the integration between the Service- and RepositoryLayer. You can write an IntegrationTest.","title":"Mockito with Service Class Repo Class and EntityManager","body":"<p>This doesn't work because <code>@InjectMock</code> is not treated as <code>@Mock</code>.</p>\n<p>From a UnitTest perspective it is desired to only test one thing/unit.</p>\n<p>so you only need to mock the <code>Repository</code> and forget about the <code>EntityManger</code>. Instead use <code>Mockito.when(repo.findAll()).thenReturn(Collections.emptyList())</code> for UnitTests.</p>\n<p>When you want to test the integration between the Service- and RepositoryLayer. You can write an IntegrationTest.</p>\n"}],"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645737514,"creation_date":1645683037,"question_id":71247831,"body_markdown":"I have classes Two levels to reach the EntityManager\r\n\r\nService Class\r\n```\r\nclass MyServiceClass {\r\n    @Autowired\r\n    MyRepositoryInterfaceImpl repo;\r\n\r\n    void myMethod() {\r\n      repo.myMethod();\r\n    }\r\n}\r\n```\r\n\r\nRepo Class\r\n```\r\nclass MyRepositoryInterfaceImpl {\r\n   @Autowire\r\n   EntiryManager em;\r\n\r\n   void myMethod() {\r\n      em.getResultList();\r\n   }\r\n}\r\n```\r\n\r\nMy question I am able to mock for the class MyRepositoryInterfaceImpl with this code \r\n\r\n```\r\n@ExtendWith(MockitoExtention.class)\r\nclass MyRepositoryInterfaceImplTest {\r\n     @InjectMocks\r\n     MyRepositoryInterfaceImpl repo;\r\n     \r\n     @Mock\r\n     EntiryManager em;\r\n}\r\n````\r\nabove code works fine\r\n\r\nBut I don&#39;t want to do that, why can&#39;t I directly write test code like this\r\n\r\n```\r\n@ExtendWith(MockitoExtention.class)\r\nclass MyServiceClassTest {\r\n     @InjectMocks\r\n     MyServiceClass service;\r\n\r\n     @InjectMocks\r\n     MyRepositoryInterfaceImpl repo;\r\n     \r\n     @Mock\r\n     EntiryManager em;\r\n}\r\n```\r\n\r\nand directly mock entity manager from this level ? and call service.myMethod() will it automatically propagate and trigger the entity manager mock ?\r\n\r\nbut it is not happening that way","title":"Mockito with Service Class Repo Class and EntityManager","body":"<p>I have classes Two levels to reach the EntityManager</p>\n<p>Service Class</p>\n<pre><code>class MyServiceClass {\n    @Autowired\n    MyRepositoryInterfaceImpl repo;\n\n    void myMethod() {\n      repo.myMethod();\n    }\n}\n</code></pre>\n<p>Repo Class</p>\n<pre><code>class MyRepositoryInterfaceImpl {\n   @Autowire\n   EntiryManager em;\n\n   void myMethod() {\n      em.getResultList();\n   }\n}\n</code></pre>\n<p>My question I am able to mock for the class MyRepositoryInterfaceImpl with this code</p>\n<pre><code>@ExtendWith(MockitoExtention.class)\nclass MyRepositoryInterfaceImplTest {\n     @InjectMocks\n     MyRepositoryInterfaceImpl repo;\n     \n     @Mock\n     EntiryManager em;\n}\n</code></pre>\n<p>above code works fine</p>\n<p>But I don't want to do that, why can't I directly write test code like this</p>\n<pre><code>@ExtendWith(MockitoExtention.class)\nclass MyServiceClassTest {\n     @InjectMocks\n     MyServiceClass service;\n\n     @InjectMocks\n     MyRepositoryInterfaceImpl repo;\n     \n     @Mock\n     EntiryManager em;\n}\n</code></pre>\n<p>and directly mock entity manager from this level ? and call service.myMethod() will it automatically propagate and trigger the entity manager mock ?</p>\n<p>but it is not happening that way</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":247049,"reputation":6390,"user_id":521525,"accept_rate":86,"display_name":"Haozhun"},"score":3,"creation_date":1466035298,"post_id":37847703,"comment_id":63155280,"body_markdown":"`OffsetDateTime` cannot handle PST, it can only handle things like UTC-8, which is rather different from PST. You can use `ZonedDateTime` if you want PST.","body":"<code>OffsetDateTime</code> cannot handle PST, it can only handle things like UTC-8, which is rather different from PST. You can use <code>ZonedDateTime</code> if you want PST."}],"answers":[{"tags":[],"owner":{"account_id":187570,"reputation":4917,"user_id":425722,"accept_rate":83,"display_name":"Andrew Rueckert"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1645737254,"creation_date":1466036766,"answer_id":37847930,"question_id":37847703,"body_markdown":"This is straightforward to test!\r\n\r\n    public class Scratch {\r\n        public static void main(String... args) throws Exception {\r\n            final OffsetDateTime odtMinusSeven = OffsetDateTime.of(2016, 01, 01, 8, 30, 0, 0, ZoneOffset.ofHours(-7));\r\n            final OffsetDateTime odtMinusSix   = OffsetDateTime.of(2016, 01, 01, 8, 30, 0, 0, ZoneOffset.ofHours(-6));\r\n    \r\n            System.out.println(odtMinusSeven.isAfter(odtMinusSix));\r\n            // true\r\n        }\r\n    }","title":"Java OffsetDateTime isAfter and isBefore handle timezone?","body":"<p>This is straightforward to test!</p>\n<pre><code>public class Scratch {\n    public static void main(String... args) throws Exception {\n        final OffsetDateTime odtMinusSeven = OffsetDateTime.of(2016, 01, 01, 8, 30, 0, 0, ZoneOffset.ofHours(-7));\n        final OffsetDateTime odtMinusSix   = OffsetDateTime.of(2016, 01, 01, 8, 30, 0, 0, ZoneOffset.ofHours(-6));\n\n        System.out.println(odtMinusSeven.isAfter(odtMinusSix));\n        // true\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":263357,"reputation":3417,"user_id":548852,"accept_rate":57,"display_name":"Hank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5073,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":37847930,"answer_count":1,"score":3,"last_activity_date":1645737254,"creation_date":1466035130,"question_id":37847703,"body_markdown":"Does `OffsetDateTime` `isAfter` and `isBefore` method handle timezones when doing comparison?\r\n\r\nSo if one `OffsetDateTime` is in PST and the other one is UTC, will it automatically do the timezone conversion and compare correctly?","title":"Java OffsetDateTime isAfter and isBefore handle timezone?","body":"<p>Does <code>OffsetDateTime</code> <code>isAfter</code> and <code>isBefore</code> method handle timezones when doing comparison?</p>\n\n<p>So if one <code>OffsetDateTime</code> is in PST and the other one is UTC, will it automatically do the timezone conversion and compare correctly?</p>\n"},{"tags":["java","aix"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1462394429,"post_id":37037561,"comment_id":61625317,"body_markdown":"Since the JREs are identical I&#39;d first start by ensuring that both AIX systems have exactly the same OS patch level (or whatever IBM calls it) installed.  There&#39;s probably something subtly different between the two systems.  Or, the message could be wrong and there&#39;s a hardware problem somewhere.  Did you check the system event logs for any issues?","body":"Since the JREs are identical I&#39;d first start by ensuring that both AIX systems have exactly the same OS patch level (or whatever IBM calls it) installed.  There&#39;s probably something subtly different between the two systems.  Or, the message could be wrong and there&#39;s a hardware problem somewhere.  Did you check the system event logs for any issues?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1462397048,"post_id":37037561,"comment_id":61626606,"body_markdown":"This is a bug in IBM&#39;s JDK and should be submitted to IBM.","body":"This is a bug in IBM&#39;s JDK and should be submitted to IBM."},{"owner":{"account_id":2455794,"reputation":1764,"user_id":2141064,"display_name":"Lorinczy Zsigmond"},"score":0,"creation_date":1518006352,"post_id":37037561,"comment_id":84324748,"body_markdown":"(Java-frameworks are known to not handle network problems properly; in real life, connection losses are normal, they should be handled without much ado.)","body":"(Java-frameworks are known to not handle network problems properly; in real life, connection losses are normal, they should be handled without much ado.)"}],"answers":[{"tags":[],"owner":{"account_id":8412357,"reputation":1,"user_id":6313819,"display_name":"Walter"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1518004226,"creation_date":1518004226,"answer_id":48663094,"question_id":37037561,"body_markdown":"It&#39;s probably a firewall issue.\r\nCommunication is cut abruptly by some sort of firewall, so the socket is closed by the OS, which gives error when you try to read from it.","title":"AIX java.net.SocketException: A system call received a parameter that is not valid","body":"<p>It's probably a firewall issue.\nCommunication is cut abruptly by some sort of firewall, so the socket is closed by the OS, which gives error when you try to read from it.</p>\n"}],"owner":{"account_id":1658477,"reputation":759,"user_id":1527312,"accept_rate":64,"display_name":"user1527312"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645736805,"creation_date":1462394278,"question_id":37037561,"body_markdown":"I am really stuck with an AIX java issue.  I have an issue here that doesn&#39;t match other issues on SO and on the Web.\r\n\r\nMy application code runs fine on another AIX server with the same exact JRE - IBM AIX Java 1.8, but does not run on the server that I need it to.\r\n\r\nBoth servers are AIX 7.1, running the same JAR and same JRE from the same tarball.\r\n\r\nI&#39;m getting the following error when using a Spring RestTemplate.exchange() to retrieve and unmarshal some JSON.\r\n\r\nIt must be a server configuration issue, but I&#39;m very stuck and would appreciate any help!\r\n\r\n    Caused by: java.net.SocketException: A system call received a parameter that is not valid.\r\n        at java.net.SocketInputStream.socketRead0(Native Method)\r\n        at java.net.SocketInputStream.socketRead(SocketInputStream.java:127)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:181)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:152)\r\n        at com.ibm.jsse2.a.a(a.java:209)\r\n        at com.ibm.jsse2.a.b(a.java:41)\r\n        at com.ibm.jsse2.a.a(a.java:193)\r\n        at com.ibm.jsse2.as.a(as.java:268)\r\n        at com.ibm.jsse2.as.a(as.java:745)\r\n        at com.ibm.jsse2.e.read(e.java:56)\r\n        at java.io.BufferedInputStream.fill(BufferedInputStream.java:257)\r\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:297)\r\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:356)\r\n        at sun.net.www.http.ChunkedInputStream.readAheadBlocking(ChunkedInputStream.java:564)\r\n        at sun.net.www.http.ChunkedInputStream.readAhead(ChunkedInputStream.java:621)\r\n        at sun.net.www.http.ChunkedInputStream.read(ChunkedInputStream.java:708)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:144)\r\n        at sun.net.www.protocol.http.HttpURLConnection$HttpInputStream.read(HttpURLConnection.java:3352)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:144)\r\n        at java.io.PushbackInputStream.read(PushbackInputStream.java:197)\r\n        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.loadMore(UTF8StreamJsonParser.java:178)\r\n        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseEscapedName(UTF8StreamJsonParser.java:1749)\r\n        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.slowParseName(UTF8StreamJsonParser.java:1654)\r\n        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1484)\r\n        at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:700)\r\n        at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:120)\r\n        at com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:149)\r\n        at com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:18)\r\n        at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:2993)\r\n        at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2158)\r\n        at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:222)","title":"AIX java.net.SocketException: A system call received a parameter that is not valid","body":"<p>I am really stuck with an AIX java issue.  I have an issue here that doesn't match other issues on SO and on the Web.</p>\n\n<p>My application code runs fine on another AIX server with the same exact JRE - IBM AIX Java 1.8, but does not run on the server that I need it to.</p>\n\n<p>Both servers are AIX 7.1, running the same JAR and same JRE from the same tarball.</p>\n\n<p>I'm getting the following error when using a Spring RestTemplate.exchange() to retrieve and unmarshal some JSON.</p>\n\n<p>It must be a server configuration issue, but I'm very stuck and would appreciate any help!</p>\n\n<pre><code>Caused by: java.net.SocketException: A system call received a parameter that is not valid.\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:127)\n    at java.net.SocketInputStream.read(SocketInputStream.java:181)\n    at java.net.SocketInputStream.read(SocketInputStream.java:152)\n    at com.ibm.jsse2.a.a(a.java:209)\n    at com.ibm.jsse2.a.b(a.java:41)\n    at com.ibm.jsse2.a.a(a.java:193)\n    at com.ibm.jsse2.as.a(as.java:268)\n    at com.ibm.jsse2.as.a(as.java:745)\n    at com.ibm.jsse2.e.read(e.java:56)\n    at java.io.BufferedInputStream.fill(BufferedInputStream.java:257)\n    at java.io.BufferedInputStream.read1(BufferedInputStream.java:297)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:356)\n    at sun.net.www.http.ChunkedInputStream.readAheadBlocking(ChunkedInputStream.java:564)\n    at sun.net.www.http.ChunkedInputStream.readAhead(ChunkedInputStream.java:621)\n    at sun.net.www.http.ChunkedInputStream.read(ChunkedInputStream.java:708)\n    at java.io.FilterInputStream.read(FilterInputStream.java:144)\n    at sun.net.www.protocol.http.HttpURLConnection$HttpInputStream.read(HttpURLConnection.java:3352)\n    at java.io.FilterInputStream.read(FilterInputStream.java:144)\n    at java.io.PushbackInputStream.read(PushbackInputStream.java:197)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.loadMore(UTF8StreamJsonParser.java:178)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseEscapedName(UTF8StreamJsonParser.java:1749)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.slowParseName(UTF8StreamJsonParser.java:1654)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1484)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:700)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:120)\n    at com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:149)\n    at com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:18)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:2993)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2158)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:222)\n</code></pre>\n"},{"tags":["java","reactjs","api"],"answers":[{"tags":[],"owner":{"account_id":11895893,"reputation":415,"user_id":8705343,"display_name":"rahuuzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645736765,"creation_date":1645736765,"answer_id":71258257,"question_id":71258195,"body_markdown":"You didnt provide the **IMDBid**  in the url correctly \r\n\r\nthe template literal should be given like ```` `string${expression}` ````\r\n\r\nso your code would be\r\n````https://hydramovies.com/api-v2/%3Fsource=http:/hydramovies.com/api-v2/current-Movie-Data.csv&amp;imdb_id=${IMDBid}````","title":"Using AnyApi with React","body":"<p>You didnt provide the <strong>IMDBid</strong>  in the url correctly</p>\n<p>the template literal should be given like <code>`string${expression}`</code></p>\n<p>so your code would be\n<code>https://hydramovies.com/api-v2/%3Fsource=http:/hydramovies.com/api-v2/current-Movie-Data.csv&amp;imdb_id=${IMDBid}</code></p>\n"}],"owner":{"account_id":24369527,"reputation":1,"user_id":18302712,"display_name":"Cirrane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645736765,"creation_date":1645736370,"question_id":71258195,"body_markdown":"I am trying to use AnyApi with my react app.\r\n\r\nThe request parameters are \r\nIMDBid:string  required\r\nIMDB ID of the movie to return\r\n\r\nGET https://hydramovies.com/api-v2/%3Fsource=http:/hydramovies.com/api-v2/current-Movie-Data.csv&amp;imdb_id={IMDBid}\r\n\r\nI want to be able to type in the input box and return searches from the api in my container.\r\nIm not getting any response from the Api, can anyone help\r\n\r\n    // importing useState so we can create states \r\n    import React, {useState, useEffect} from &#39;react&#39;;\r\n    // Imports style sheet for APP\r\n    import &#39;./App.css&#39;; \r\n    \r\n    function App() {\r\n    \r\n      // setting imdbID so we can use this as a value in the input box\r\n      const [imdbID,setimdbIDs] = useState(&#39;&#39;)\r\n    \r\n      const [container,setContainer] = useState([])\r\n      useEffect(() =&gt;{\r\n        fetchMe()\r\n      },[imdbID])\r\n    \r\n      const fetchMe = () =&gt; {\r\n    \r\n      fetch(`https://hydramovies.com/api-v2/%3Fsource=http:/hydramovies.com/api-v2/current-Movie-Data.csv&amp;imdb_id={IMDBid}`, {\r\n    \t&quot;method&quot;: &quot;GET&quot;\r\n    })\r\n    .then(response =&gt; {\r\n    \treturn response.json();\r\n    })\r\n    .then(data =&gt; {\r\n      setContainer(data.d)\r\n    })\r\n    .catch(err =&gt; {\r\n    \tconsole.error(err);\r\n    });\r\n      }\r\n    \r\n    //Every letter that is typed in the input box will then change imdbID to setimdbIDs\r\n    const onChangeHandler = (e) =&gt; {\r\n      setimdbIDs(e.target.value)\r\n    }\r\n    \r\n    const submitHandler = e =&gt; {\r\n      e.preventDefault()\r\n    }\r\n    \r\n    \r\n      return (\r\n        &lt;div className=&quot;App&quot;&gt; \r\n    \r\n          &lt;form onSubmit={submitHandler}&gt;\r\n    \r\n            {/* input box value is imdbID calling onChangeHandler state*/}\r\n            &lt;input type=&quot;text&quot; value={imdbID} onChange={onChangeHandler}/&gt;  \r\n            {/* submit button */}\r\n            &lt;button type=&quot;submite&quot;&gt;SUBMIT&lt;/button&gt;\r\n    \r\n          &lt;/form&gt;\r\n    \r\n          {container.map((item) =&gt;{\r\n            return (\r\n              &lt;p&gt;{item.l}&lt;/p&gt;\r\n            )\r\n          })}\r\n          \r\n        &lt;/div&gt;\r\n      );\r\n    }\r\n    \r\n    export default App;\r\n\r\n\r\n","title":"Using AnyApi with React","body":"<p>I am trying to use AnyApi with my react app.</p>\n<p>The request parameters are\nIMDBid:string  required\nIMDB ID of the movie to return</p>\n<p>GET <a href=\"https://hydramovies.com/api-v2/%3Fsource=http:/hydramovies.com/api-v2/current-Movie-Data.csv&amp;imdb_id=%7BIMDBid%7D\" rel=\"nofollow noreferrer\">https://hydramovies.com/api-v2/%3Fsource=http:/hydramovies.com/api-v2/current-Movie-Data.csv&amp;imdb_id={IMDBid}</a></p>\n<p>I want to be able to type in the input box and return searches from the api in my container.\nIm not getting any response from the Api, can anyone help</p>\n<pre><code>// importing useState so we can create states \nimport React, {useState, useEffect} from 'react';\n// Imports style sheet for APP\nimport './App.css'; \n\nfunction App() {\n\n  // setting imdbID so we can use this as a value in the input box\n  const [imdbID,setimdbIDs] = useState('')\n\n  const [container,setContainer] = useState([])\n  useEffect(() =&gt;{\n    fetchMe()\n  },[imdbID])\n\n  const fetchMe = () =&gt; {\n\n  fetch(`https://hydramovies.com/api-v2/%3Fsource=http:/hydramovies.com/api-v2/current-Movie-Data.csv&amp;imdb_id={IMDBid}`, {\n    &quot;method&quot;: &quot;GET&quot;\n})\n.then(response =&gt; {\n    return response.json();\n})\n.then(data =&gt; {\n  setContainer(data.d)\n})\n.catch(err =&gt; {\n    console.error(err);\n});\n  }\n\n//Every letter that is typed in the input box will then change imdbID to setimdbIDs\nconst onChangeHandler = (e) =&gt; {\n  setimdbIDs(e.target.value)\n}\n\nconst submitHandler = e =&gt; {\n  e.preventDefault()\n}\n\n\n  return (\n    &lt;div className=&quot;App&quot;&gt; \n\n      &lt;form onSubmit={submitHandler}&gt;\n\n        {/* input box value is imdbID calling onChangeHandler state*/}\n        &lt;input type=&quot;text&quot; value={imdbID} onChange={onChangeHandler}/&gt;  \n        {/* submit button */}\n        &lt;button type=&quot;submite&quot;&gt;SUBMIT&lt;/button&gt;\n\n      &lt;/form&gt;\n\n      {container.map((item) =&gt;{\n        return (\n          &lt;p&gt;{item.l}&lt;/p&gt;\n        )\n      })}\n      \n    &lt;/div&gt;\n  );\n}\n\nexport default App;\n</code></pre>\n"},{"tags":["java","mysql","sql","web-scraping","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2871213,"reputation":2241,"user_id":2464528,"accept_rate":29,"display_name":"cbender"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645736544,"creation_date":1645735781,"answer_id":71258095,"question_id":71258006,"body_markdown":"`executeQuery()` is meant for fetch (`SELECT`) statements that return results.\r\n\r\n`INSERT` (as well as `UPDATE` and `DELETE`) statements should use `executeUpdate()`.","title":"Trouble with SQL query execution using JDBC. getting error with result set","body":"<p><code>executeQuery()</code> is meant for fetch (<code>SELECT</code>) statements that return results.</p>\n<p><code>INSERT</code> (as well as <code>UPDATE</code> and <code>DELETE</code>) statements should use <code>executeUpdate()</code>.</p>\n"}],"owner":{"account_id":24255658,"reputation":37,"user_id":18206101,"display_name":"ibs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71258095,"answer_count":1,"score":1,"last_activity_date":1645736544,"creation_date":1645735229,"question_id":71258006,"body_markdown":"Im doing a webscaping project in Java and im having trouble with executing the SQL code to load the variables. im using IntelliJ with maven as the build. \r\n\r\n I keep getting this error\r\n\r\n```\r\njava.sql.SQLException: Statement.executeQuery() cannot issue statements that do not produce result sets.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeQuery(StatementImpl.java:1135)\r\n\tat com.cst3511.website.scraper.Scarper.main(Scarper.java:54)\r\n```\r\n\r\nthis is my code for the scraper class\r\n\r\n```\r\npublic class Scarper {\r\n\r\n    public static void main(String[] args) throws ClassNotFoundException, SQLException, IOException {\r\n\r\n        final String url =\r\n                &quot;https://www.myshiptracking.com/ports-arrivals-departures/?mmsi=&amp;pid=GB&amp;type=0&amp;time=&amp;pp=50&quot;;\r\n\r\n        try {\r\n\r\n            Document doc = Jsoup.connect(url).get();\r\n            Element table = doc.select(&quot;.cs-table&quot;).first();\r\n            Elements rows = doc.select(&quot;div.table-row&quot;);\r\n\r\n\r\n            for (Element row : rows) {\r\n\r\n                String event = row.select(&quot;div.col:nth-of-type(2)&quot;).text();\r\n                String time = row.select(&quot;div.col:nth-of-type(3)&quot;).text();\r\n                String port = row.select(&quot;div.col:nth-of-type(4)&quot;).text();\r\n                String vessel = row.select(&quot;.td_vesseltype.col&quot;).text();\r\n\r\n            // connecting to SQL\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/oceana&quot;,\r\n                        &quot;user&quot;, &quot;pass&quot;);\r\nResultSet rs;\r\n\r\n                PreparedStatement stmt = conn.prepareStatement(&quot;INSERT INTO status_table(status, time, port , vessel) VALUES (?,?,?,?)&quot;);\r\n                stmt.setString(1, event);\r\n                stmt.setString(2, time);\r\n                stmt.setString(3, port);\r\n                stmt.setString(4, vessel);\r\n                rs = stmt.executeQuery();\r\n                if (rs.next()){\r\n                    System.out.println(rs.getString(1)+&quot;&quot;+ rs.getString(2)+&quot; &quot;+ rs.getString(3)+&quot;&quot;+ rs.getString(4));\r\n                }\r\n\r\n            \r\n            }\r\n\r\n        } catch (ClassNotFoundException | SQLException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nin my error it says line 54 which is \r\n```\r\n rs = stmt.executeQuery();\r\n\r\n```\r\n\r\nI just dont know what im missing here...\r\nAppreciate any Geniuses out there to help. ","title":"Trouble with SQL query execution using JDBC. getting error with result set","body":"<p>Im doing a webscaping project in Java and im having trouble with executing the SQL code to load the variables. im using IntelliJ with maven as the build.</p>\n<p>I keep getting this error</p>\n<pre><code>java.sql.SQLException: Statement.executeQuery() cannot issue statements that do not produce result sets.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\n    at com.mysql.cj.jdbc.StatementImpl.executeQuery(StatementImpl.java:1135)\n    at com.cst3511.website.scraper.Scarper.main(Scarper.java:54)\n</code></pre>\n<p>this is my code for the scraper class</p>\n<pre><code>public class Scarper {\n\n    public static void main(String[] args) throws ClassNotFoundException, SQLException, IOException {\n\n        final String url =\n                &quot;https://www.myshiptracking.com/ports-arrivals-departures/?mmsi=&amp;pid=GB&amp;type=0&amp;time=&amp;pp=50&quot;;\n\n        try {\n\n            Document doc = Jsoup.connect(url).get();\n            Element table = doc.select(&quot;.cs-table&quot;).first();\n            Elements rows = doc.select(&quot;div.table-row&quot;);\n\n\n            for (Element row : rows) {\n\n                String event = row.select(&quot;div.col:nth-of-type(2)&quot;).text();\n                String time = row.select(&quot;div.col:nth-of-type(3)&quot;).text();\n                String port = row.select(&quot;div.col:nth-of-type(4)&quot;).text();\n                String vessel = row.select(&quot;.td_vesseltype.col&quot;).text();\n\n            // connecting to SQL\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/oceana&quot;,\n                        &quot;user&quot;, &quot;pass&quot;);\nResultSet rs;\n\n                PreparedStatement stmt = conn.prepareStatement(&quot;INSERT INTO status_table(status, time, port , vessel) VALUES (?,?,?,?)&quot;);\n                stmt.setString(1, event);\n                stmt.setString(2, time);\n                stmt.setString(3, port);\n                stmt.setString(4, vessel);\n                rs = stmt.executeQuery();\n                if (rs.next()){\n                    System.out.println(rs.getString(1)+&quot;&quot;+ rs.getString(2)+&quot; &quot;+ rs.getString(3)+&quot;&quot;+ rs.getString(4));\n                }\n\n            \n            }\n\n        } catch (ClassNotFoundException | SQLException | IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>in my error it says line 54 which is</p>\n<pre><code> rs = stmt.executeQuery();\n\n</code></pre>\n<p>I just dont know what im missing here...\nAppreciate any Geniuses out there to help.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":22150705,"reputation":232,"user_id":16399297,"display_name":"Trillyy"},"score":0,"creation_date":1638880325,"post_id":70260152,"comment_id":124200282,"body_markdown":"Can you post the rollDice method and the dice class?","body":"Can you post the rollDice method and the dice class?"},{"owner":{"account_id":23574482,"reputation":23,"user_id":17614303,"display_name":"Anthony Kielthy"},"score":1,"creation_date":1638880471,"post_id":70260152,"comment_id":124200343,"body_markdown":"@Trillyy i just added it above","body":"@Trillyy i just added it above"},{"owner":{"account_id":444042,"reputation":621,"user_id":835636,"accept_rate":91,"display_name":"ovie"},"score":0,"creation_date":1638880722,"post_id":70260152,"comment_id":124200443,"body_markdown":"Does this answer your question? [How do I declare and initialize an array in Java?](https://stackoverflow.com/questions/1200621/how-do-i-declare-and-initialize-an-array-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1200621/how-do-i-declare-and-initialize-an-array-in-java\">How do I declare and initialize an array in Java?</a>"},{"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"score":0,"creation_date":1638889022,"post_id":70260152,"comment_id":124204174,"body_markdown":"offtopic: calling the method `dice.roll()` would be much more elegant ;)","body":"offtopic: calling the method <code>dice.roll()</code> would be much more elegant ;)"}],"answers":[{"tags":[],"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645736261,"creation_date":1638890095,"answer_id":70262619,"question_id":70260152,"body_markdown":"I am answering your homework question because you have shown, that you have tried to solve it yourself. Please try to make sure you understand **why** this solves the problem.\r\n\r\n----\r\n\r\n\r\nYou want several results, but your method only returns a single value. You can either embrace the fact that it it a single `Die` and call the function in a loop, or you can have your class represent multiple `Dice`. In the following I will show you how to implement the first approach:\r\n\r\n    class Die { // note, the singular of dice is &quot;Die&quot;\r\n        private Random random = new Random();\r\n        private int sideCount;\r\n\r\n        public Die(int sideCount) {\r\n            this.sideCount = sideCount;\r\n        }\r\n    \r\n        public int roll() {\r\n            int output = 1 + random.nextInt(sideCount); //returns a random number between 1 and sideCount\r\n            return(output);\r\n        }\r\n\r\n        public int rollRepeatedly(int count) {\r\n            int[] results = new int[count];\r\n            // here we call the method we already have in a loop\r\n            for (int i = 0; i &lt; count; i++) {\r\n                results[i] = roll();\r\n            }\r\n            return results;\r\n        }\r\n    }\r\n\r\nAnd now call your code like:\r\n\r\n    Die die = new Die(6);\r\n    randomNumbers[] = die.rollRepeatedly(7);\r\n\r\n---\r\n\r\nIf you wanted to implement a class called `Dice`, it should have a constructor parameter `count`have two options.\r\n\r\n1. Save the count parameter as a member variable. In your `roll()` method, create an array of results and fill it in a loop.\r\n\r\n2. Reuse the `Die` class by creating an array of `Die` in `Dice`, making it the size of `count`. Then roll them individually when calling `dice.roll()`. You could imagine how this array could even store `Die`s with different `sideCount`s, depending on the type of game you implement","title":"Storing random Number whiten an array","body":"<p>I am answering your homework question because you have shown, that you have tried to solve it yourself. Please try to make sure you understand <strong>why</strong> this solves the problem.</p>\n<hr />\n<p>You want several results, but your method only returns a single value. You can either embrace the fact that it it a single <code>Die</code> and call the function in a loop, or you can have your class represent multiple <code>Dice</code>. In the following I will show you how to implement the first approach:</p>\n<pre><code>class Die { // note, the singular of dice is &quot;Die&quot;\n    private Random random = new Random();\n    private int sideCount;\n\n    public Die(int sideCount) {\n        this.sideCount = sideCount;\n    }\n\n    public int roll() {\n        int output = 1 + random.nextInt(sideCount); //returns a random number between 1 and sideCount\n        return(output);\n    }\n\n    public int rollRepeatedly(int count) {\n        int[] results = new int[count];\n        // here we call the method we already have in a loop\n        for (int i = 0; i &lt; count; i++) {\n            results[i] = roll();\n        }\n        return results;\n    }\n}\n</code></pre>\n<p>And now call your code like:</p>\n<pre><code>Die die = new Die(6);\nrandomNumbers[] = die.rollRepeatedly(7);\n</code></pre>\n<hr />\n<p>If you wanted to implement a class called <code>Dice</code>, it should have a constructor parameter <code>count</code>have two options.</p>\n<ol>\n<li><p>Save the count parameter as a member variable. In your <code>roll()</code> method, create an array of results and fill it in a loop.</p>\n</li>\n<li><p>Reuse the <code>Die</code> class by creating an array of <code>Die</code> in <code>Dice</code>, making it the size of <code>count</code>. Then roll them individually when calling <code>dice.roll()</code>. You could imagine how this array could even store <code>Die</code>s with different <code>sideCount</code>s, depending on the type of game you implement</p>\n</li>\n</ol>\n"}],"owner":{"account_id":23574482,"reputation":23,"user_id":17614303,"display_name":"Anthony Kielthy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":70262619,"answer_count":1,"score":0,"last_activity_date":1645736261,"creation_date":1638880183,"question_id":70260152,"body_markdown":"I am making a roll the dice game for a project I&#39;m doing for school. I have a random Generator which is called via `dice.rollDice()` which then gives the result of the random number.\r\n\r\nWhen I press a key the result of `dice.rollDice` is displayed on the console. I need to store the results in an array so far I have the array created \r\n\r\n    int[] randomNumbers = new int[7];\r\nI&#39;m not sure how to store the results of the `dice.rollDice` in the index \r\nI know to store an array the code  is `randomNumbers[] = dice.rollDice()` is there a more efficient way to do this\r\nAny help is appreciated \r\n\r\n## Class `Dice`:\r\n\r\n```java\r\nclass Dice { \r\n\r\n    Random random = new Random(); // assigns random number generator Random();\r\n    \r\n    public int rollDice() {\r\n        int output = 1 + random.nextInt(6); //returns a random number between 1 and 6\r\n        return(output);\r\n    }\r\n}\r\n```\r\n","title":"Storing random Number whiten an array","body":"<p>I am making a roll the dice game for a project I'm doing for school. I have a random Generator which is called via <code>dice.rollDice()</code> which then gives the result of the random number.</p>\n<p>When I press a key the result of <code>dice.rollDice</code> is displayed on the console. I need to store the results in an array so far I have the array created</p>\n<pre><code>int[] randomNumbers = new int[7];\n</code></pre>\n<p>I'm not sure how to store the results of the <code>dice.rollDice</code> in the index\nI know to store an array the code  is <code>randomNumbers[] = dice.rollDice()</code> is there a more efficient way to do this\nAny help is appreciated</p>\n<h2>Class <code>Dice</code>:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>class Dice { \n\n    Random random = new Random(); // assigns random number generator Random();\n    \n    public int rollDice() {\n        int output = 1 + random.nextInt(6); //returns a random number between 1 and 6\n        return(output);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","maven"],"comments":[{"owner":{"account_id":3322605,"reputation":751,"user_id":2793390,"accept_rate":25,"display_name":"user2793390"},"score":0,"creation_date":1393880350,"post_id":22157221,"comment_id":33625167,"body_markdown":"Does Tomcat have all the libraries defined in the POM file? Or are all of them packaged in the war file?","body":"Does Tomcat have all the libraries defined in the POM file? Or are all of them packaged in the war file?"},{"owner":{"account_id":3788175,"reputation":741,"user_id":3145437,"accept_rate":25,"display_name":"Delon"},"score":0,"creation_date":1393880488,"post_id":22157221,"comment_id":33625243,"body_markdown":"yes it has all the jar files.","body":"yes it has all the jar files."},{"owner":{"account_id":1726292,"reputation":2791,"user_id":1580864,"accept_rate":74,"display_name":"Mark W"},"score":0,"creation_date":1393880763,"post_id":22157221,"comment_id":33625405,"body_markdown":"can we see the build plugin nodes of the POM?","body":"can we see the build plugin nodes of the POM?"},{"owner":{"account_id":3322605,"reputation":751,"user_id":2793390,"accept_rate":25,"display_name":"user2793390"},"score":0,"creation_date":1393880854,"post_id":22157221,"comment_id":33625457,"body_markdown":"It&#39;s possible that multiple jar files have the same Class. Hence the conflict, and NoClassDefFoundError exception. Tomcat might have access to some additional jar files.","body":"It&#39;s possible that multiple jar files have the same Class. Hence the conflict, and NoClassDefFoundError exception. Tomcat might have access to some additional jar files."},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1393883195,"post_id":22157221,"comment_id":33626803,"body_markdown":"Hi Delon, can you update the question with the plugin you&#39;ve just pasted here? Thanks.","body":"Hi Delon, can you update the question with the plugin you&#39;ve just pasted here? Thanks."},{"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"score":0,"creation_date":1393921036,"post_id":22157221,"comment_id":33640922,"body_markdown":"Since Spring 4, `spring-core` includes `asm` 4.2 and repackages `cglib` 3.1, inlining both into the `spring-core` jar. Please validate the `spring-core` jar is the version you expect (`4.0.1.RELEASE`)","body":"Since Spring 4, <code>spring-core</code> includes <code>asm</code> 4.2 and repackages <code>cglib</code> 3.1, inlining both into the <code>spring-core</code> jar. Please validate the <code>spring-core</code> jar is the version you expect (<code>4.0.1.RELEASE</code>)"},{"owner":{"account_id":3788175,"reputation":741,"user_id":3145437,"accept_rate":25,"display_name":"Delon"},"score":0,"creation_date":1393930799,"post_id":22157221,"comment_id":33647227,"body_markdown":"The spring version that i have included is 4.0.1.RELEASE, the webinf/lib contains the same 4.0.1.RELEASE jar. and i have not included `asm` or `cglib` externally.","body":"The spring version that i have included is 4.0.1.RELEASE, the webinf/lib contains the same 4.0.1.RELEASE jar. and i have not included <code>asm</code> or <code>cglib</code> externally."}],"answers":[{"tags":[],"owner":{"account_id":538590,"reputation":416,"user_id":906519,"display_name":"Mike Patnode"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1645736250,"creation_date":1645736250,"answer_id":71258168,"question_id":22157221,"body_markdown":"So I hit this while moving a project from Java 1.8 to Java 17.  Also only happened in the docker container, but not in my IDE.  Tried a couple things, then somewhat unexpectedly, this JVM option ended up fixing it:\r\n\r\n\t--add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\nHad been using that to solve the typical 1.8 inspection permission issues elsewhere and was surprised that it fixed this issue as well.","title":"Spring java.lang.NoClassDefFoundError: Could not initialize class org.springframework.cglib.proxy.Enhancer","body":"<p>So I hit this while moving a project from Java 1.8 to Java 17.  Also only happened in the docker container, but not in my IDE.  Tried a couple things, then somewhat unexpectedly, this JVM option ended up fixing it:</p>\n<pre><code>--add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p>Had been using that to solve the typical 1.8 inspection permission issues elsewhere and was surprised that it fixed this issue as well.</p>\n"}],"owner":{"account_id":3788175,"reputation":741,"user_id":3145437,"accept_rate":25,"display_name":"Delon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645736250,"creation_date":1393880092,"question_id":22157221,"body_markdown":"Im developing a web application using spring + hibernate and maven. On deploying the war file to tomcat 7.0.26 it produces the following error. when i run the application localy it works fine but it flags error on deploying to remote server.\r\n\r\n`java.lang.NoClassDefFoundError: Could not initialize class org.springframework.cglib.proxy.Enhancer\r\n\torg.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:104)\r\n\torg.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:92)\r\n\torg.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:368)\r\n\torg.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:263)\r\n\torg.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:265)\r\n\torg.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:126)\r\n\torg.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:609)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:658)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:624)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:672)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:543)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:484)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n\tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tjava.lang.reflect.Method.invoke(Method.java:601)\r\n\torg.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:274)\r\n\torg.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:271)\r\n\tjava.security.AccessController.doPrivileged(Native Method)\r\n\tjavax.security.auth.Subject.doAsPrivileged(Subject.java:536)\r\n\torg.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:306)\r\n\torg.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:166)\r\n\torg.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:120)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n\torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\r\n\torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\r\n\torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\r\n\torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)\r\n\tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n\tjava.lang.Thread.run(Thread.java:722)`\r\n\r\n\r\nThe pom file i have used in my application is as follows\r\n\r\n        &lt;properties&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;org.springframework.version&gt;4.0.1.RELEASE&lt;/org.springframework.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n\r\n        &lt;!-- Jackson JSON Mapper --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- MYSQL DEPENDENCY --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.28&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- LOG4J --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- HIBERNATE DEPENDENCIES --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n            &lt;version&gt;20040616&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n            &lt;version&gt;20030825.184428&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-pool&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\r\n            &lt;version&gt;20030825.183949&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- SPRING DEPENDENCIES --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n\r\n            Expression Language (depends on spring-core)\r\n            Define this if you use Spring Expression APIs (org.springframework.expression.*)\r\n\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n\r\n\t    Bean Factory and JavaBeans utilities (depends on spring-core)\r\n\t    Define this if you use Spring Bean APIs (org.springframework.beans.*)\r\n\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n\r\n                    Aspect Oriented Programming (AOP) Framework (depends on spring-core, spring-beans)\r\n                    Define this if you use Spring AOP APIs (org.springframework.aop.*)\r\n\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n\r\n                    Application Context (depends on spring-core, spring-expression, spring-aop, spring-beans)\r\n                    This is the central artifact for Spring&#39;s Dependency Injection Container and is generally always defined\r\n\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n\r\n                    Various Application Context utilities, including EhCache, JavaMail, Quartz, and Freemarker integration\r\n                    Define this if you need any of these integrations\r\n\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n\r\n                    Transaction Management Abstraction (depends on spring-core, spring-beans, spring-aop, spring-context)\r\n                    Define this if you use Spring Transactions or DAO Exception Hierarchy\r\n                    (org.springframework.transaction.*/org.springframework.dao.*)\r\n\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n\r\n                    JDBC Data Access Library (depends on spring-core, spring-beans, spring-context, spring-tx)\r\n                    Define this if you use Spring&#39;s JdbcTemplate API (org.springframework.jdbc.*)\r\n\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n\r\n                    Object-to-Relation-Mapping (ORM) integration with Hibernate, JPA, and iBatis.\r\n                    (depends on spring-core, spring-beans, spring-context, spring-tx)\r\n                    Define this if you need ORM (org.springframework.orm.*)\r\n\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n\r\n\t    Object-to-XML Mapping (OXM) abstraction and integration with JAXB, JiBX, Castor, XStream, and XML Beans.\r\n\t    (depends on spring-core, spring-beans, spring-context)\r\n\t    Define this if you need OXM (org.springframework.oxm.*)\r\n\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n\r\n\t    Web application development utilities applicable to both Servlet and Portlet Environments\r\n\t    (depends on spring-core, spring-beans, spring-context)\r\n\t    Define this if you use Spring MVC, or wish to use Struts, JSF, or another web framework with Spring (org.springframework.web.*)\r\n\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n\r\n\t    Spring MVC for Servlet Environments (depends on spring-core, spring-beans, spring-context, spring-web)\r\n\t    Define this if you use Spring MVC with a Servlet Container such as Apache Tomcat (org.springframework.web.servlet.*)\r\n\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n\r\n\t    Spring MVC for Portlet Environments (depends on spring-core, spring-beans, spring-context, spring-web)\r\n\t    Define this if you use Spring MVC with a Portlet Container (org.springframework.web.portlet.*)\r\n\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc-portlet&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n\r\n\t    Support for testing Spring applications with tools such as JUnit and TestNG\r\n\t    This artifact is generally always defined with a &#39;test&#39; scope for the integration testing framework and unit testing stubs\r\n\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;CRMDeltaCorner&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.7&lt;/source&gt;\r\n                    &lt;target&gt;1.7&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;webXml&gt;src/main/webapp/WEB-INF/web.xml&lt;/webXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nAdvance thanks for any help.","title":"Spring java.lang.NoClassDefFoundError: Could not initialize class org.springframework.cglib.proxy.Enhancer","body":"<p>Im developing a web application using spring + hibernate and maven. On deploying the war file to tomcat 7.0.26 it produces the following error. when i run the application localy it works fine but it flags error on deploying to remote server.</p>\n\n<p><code>java.lang.NoClassDefFoundError: Could not initialize class org.springframework.cglib.proxy.Enhancer\n    org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:104)\n    org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:92)\n    org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:368)\n    org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:263)\n    org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:265)\n    org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:126)\n    org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:609)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:658)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:624)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:672)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:543)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:484)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:160)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:601)\n    org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:274)\n    org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:271)\n    java.security.AccessController.doPrivileged(Native Method)\n    javax.security.auth.Subject.doAsPrivileged(Subject.java:536)\n    org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:306)\n    org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:166)\n    org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:120)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    java.lang.Thread.run(Thread.java:722)</code></p>\n\n<p>The pom file i have used in my application is as follows</p>\n\n<pre><code>    &lt;properties&gt;\n    &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;org.springframework.version&gt;4.0.1.RELEASE&lt;/org.springframework.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n\n    &lt;!-- Jackson JSON Mapper --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.9.13&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- MYSQL DEPENDENCY --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.28&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- LOG4J --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- HIBERNATE DEPENDENCIES --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;4.3.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;4.3.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;5.0.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n        &lt;version&gt;6.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;20040616&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;version&gt;20030825.184428&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n        &lt;version&gt;20030825.183949&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n        &lt;artifactId&gt;jta&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- SPRING DEPENDENCIES --&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n\n        Expression Language (depends on spring-core)\n        Define this if you use Spring Expression APIs (org.springframework.expression.*)\n\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n\n    Bean Factory and JavaBeans utilities (depends on spring-core)\n    Define this if you use Spring Bean APIs (org.springframework.beans.*)\n\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n\n                Aspect Oriented Programming (AOP) Framework (depends on spring-core, spring-beans)\n                Define this if you use Spring AOP APIs (org.springframework.aop.*)\n\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n\n                Application Context (depends on spring-core, spring-expression, spring-aop, spring-beans)\n                This is the central artifact for Spring's Dependency Injection Container and is generally always defined\n\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n\n                Various Application Context utilities, including EhCache, JavaMail, Quartz, and Freemarker integration\n                Define this if you need any of these integrations\n\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n\n                Transaction Management Abstraction (depends on spring-core, spring-beans, spring-aop, spring-context)\n                Define this if you use Spring Transactions or DAO Exception Hierarchy\n                (org.springframework.transaction.*/org.springframework.dao.*)\n\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n\n                JDBC Data Access Library (depends on spring-core, spring-beans, spring-context, spring-tx)\n                Define this if you use Spring's JdbcTemplate API (org.springframework.jdbc.*)\n\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n\n                Object-to-Relation-Mapping (ORM) integration with Hibernate, JPA, and iBatis.\n                (depends on spring-core, spring-beans, spring-context, spring-tx)\n                Define this if you need ORM (org.springframework.orm.*)\n\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n\n    Object-to-XML Mapping (OXM) abstraction and integration with JAXB, JiBX, Castor, XStream, and XML Beans.\n    (depends on spring-core, spring-beans, spring-context)\n    Define this if you need OXM (org.springframework.oxm.*)\n\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n\n    Web application development utilities applicable to both Servlet and Portlet Environments\n    (depends on spring-core, spring-beans, spring-context)\n    Define this if you use Spring MVC, or wish to use Struts, JSF, or another web framework with Spring (org.springframework.web.*)\n\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n\n    Spring MVC for Servlet Environments (depends on spring-core, spring-beans, spring-context, spring-web)\n    Define this if you use Spring MVC with a Servlet Container such as Apache Tomcat (org.springframework.web.servlet.*)\n\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n\n    Spring MVC for Portlet Environments (depends on spring-core, spring-beans, spring-context, spring-web)\n    Define this if you use Spring MVC with a Portlet Container (org.springframework.web.portlet.*)\n\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc-portlet&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n\n    Support for testing Spring applications with tools such as JUnit and TestNG\n    This artifact is generally always defined with a 'test' scope for the integration testing framework and unit testing stubs\n\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;CRMDeltaCorner&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;webXml&gt;src/main/webapp/WEB-INF/web.xml&lt;/webXml&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Advance thanks for any help.</p>\n"},{"tags":["java","sql","excel","csv"],"answers":[{"tags":[],"owner":{"account_id":116759,"reputation":7831,"user_id":306060,"accept_rate":72,"display_name":"Yanki Twizzy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415205834,"creation_date":1324308144,"answer_id":8563448,"question_id":8563376,"body_markdown":"Here is an example:\r\n\r\n    import java.io.*;\r\n    import java.sql.*;\r\n    import org.apache.poi.hssf.usermodel.HSSFSheet;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.hssf.usermodel.HSSFRow;\r\n    import org.apache.poi.hssf.usermodel.HSSFCell;\r\n    \r\n    public class ExcelFile {\r\n            public static void main(String[] args) {\r\n                    try {\r\n                            Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n                            Connection connection = DriverManager.getConnection(\r\n                                            &quot;jdbc:mysql://localhost:3306/test&quot;, &quot;root&quot;, &quot;root&quot;);\r\n                            PreparedStatement psmnt = null;\r\n                            Statement st = connection.createStatement();\r\n                            ResultSet rs = st.executeQuery(&quot;Select * from student&quot;);\r\n    \r\n                            HSSFWorkbook wb = new HSSFWorkbook();\r\n                            HSSFSheet sheet = wb.createSheet(&quot;Excel Sheet&quot;);\r\n                            HSSFRow rowhead = sheet.createRow((short) 0);\r\n                            rowhead.createCell((short) 0).setCellValue(&quot;Roll No&quot;);\r\n                            rowhead.createCell((short) 1).setCellValue(&quot;Name&quot;);\r\n                            rowhead.createCell((short) 2).setCellValue(&quot;Class&quot;);\r\n                            rowhead.createCell((short) 3).setCellValue(&quot;Marks&quot;);\r\n                            rowhead.createCell((short) 4).setCellValue(&quot;Grade&quot;);\r\n    \r\n                            int index = 1;\r\n                            while (rs.next()) {\r\n    \r\n                                    HSSFRow row = sheet.createRow((short) index);\r\n                                    row.createCell((short) 0).setCellValue(rs.getInt(1));\r\n                                    row.createCell((short) 1).setCellValue(rs.getString(2));\r\n                                    row.createCell((short) 2).setCellValue(rs.getString(3));\r\n                                    row.createCell((short) 3).setCellValue(rs.getInt(4));\r\n                                    row.createCell((short) 4).setCellValue(rs.getString(5));\r\n                                    index++;\r\n                            }\r\n                            FileOutputStream fileOut = new FileOutputStream(&quot;c:\\\\excelFile.xls&quot;);\r\n                            wb.write(fileOut);\r\n                            fileOut.close();\r\n                            System.out.println(&quot;Data is saved in excel file.&quot;);\r\n                            rs.close();\r\n                            connection.close();\r\n                    } catch (Exception e) {\r\n                    }\r\n            }\r\n    }\r\n\r\n[Reference][1]\r\n\r\n\r\n  [1]: http://www.roseindia.net/tutorial/java/poi/insertIntoExcelFileData.html","title":"Exporting SQL query result to csv or Excel","body":"<p>Here is an example:</p>\n\n<pre><code>import java.io.*;\nimport java.sql.*;\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.hssf.usermodel.HSSFRow;\nimport org.apache.poi.hssf.usermodel.HSSFCell;\n\npublic class ExcelFile {\n        public static void main(String[] args) {\n                try {\n                        Class.forName(\"com.mysql.jdbc.Driver\").newInstance();\n                        Connection connection = DriverManager.getConnection(\n                                        \"jdbc:mysql://localhost:3306/test\", \"root\", \"root\");\n                        PreparedStatement psmnt = null;\n                        Statement st = connection.createStatement();\n                        ResultSet rs = st.executeQuery(\"Select * from student\");\n\n                        HSSFWorkbook wb = new HSSFWorkbook();\n                        HSSFSheet sheet = wb.createSheet(\"Excel Sheet\");\n                        HSSFRow rowhead = sheet.createRow((short) 0);\n                        rowhead.createCell((short) 0).setCellValue(\"Roll No\");\n                        rowhead.createCell((short) 1).setCellValue(\"Name\");\n                        rowhead.createCell((short) 2).setCellValue(\"Class\");\n                        rowhead.createCell((short) 3).setCellValue(\"Marks\");\n                        rowhead.createCell((short) 4).setCellValue(\"Grade\");\n\n                        int index = 1;\n                        while (rs.next()) {\n\n                                HSSFRow row = sheet.createRow((short) index);\n                                row.createCell((short) 0).setCellValue(rs.getInt(1));\n                                row.createCell((short) 1).setCellValue(rs.getString(2));\n                                row.createCell((short) 2).setCellValue(rs.getString(3));\n                                row.createCell((short) 3).setCellValue(rs.getInt(4));\n                                row.createCell((short) 4).setCellValue(rs.getString(5));\n                                index++;\n                        }\n                        FileOutputStream fileOut = new FileOutputStream(\"c:\\\\excelFile.xls\");\n                        wb.write(fileOut);\n                        fileOut.close();\n                        System.out.println(\"Data is saved in excel file.\");\n                        rs.close();\n                        connection.close();\n                } catch (Exception e) {\n                }\n        }\n}\n</code></pre>\n\n<p><a href=\"http://www.roseindia.net/tutorial/java/poi/insertIntoExcelFileData.html\" rel=\"nofollow\">Reference</a></p>\n"},{"tags":[],"owner":{"account_id":63413,"reputation":65428,"user_id":187730,"accept_rate":99,"display_name":"aF."},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1415206319,"creation_date":1324308230,"answer_id":8563468,"question_id":8563376,"body_markdown":"Yes!\r\n\r\nYou can connect to the different database types using jdbc and then create an Excel with the results ([Seen here][1]).\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    public class TestAccessExcel {\r\n      public static Connection getConnection() throws Exception {\r\n        String driver = &quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;;\r\n        String url = &quot;jdbc:odbc:excelDB&quot;;\r\n        String username = &quot;username&quot;;\r\n        String password = &quot;pass&quot;;\r\n        Class.forName(driver);\r\n        return DriverManager.getConnection(url, username, password);\r\n      }\r\n    \r\n      public static void main(String args[]) {\r\n        Connection conn = null;\r\n        Statement stmt = null;\r\n        ResultSet rs = null;\r\n        try {\r\n          conn = getConnection();\r\n          stmt = conn.createStatement();\r\n          String excelQuery = &quot;select * from [Sheet1$]&quot;;\r\n          rs = stmt.executeQuery(excelQuery);\r\n    \r\n          while (rs.next()) {\r\n            System.out.println(rs.getString(&quot;BadgeNumber&quot;) + &quot; &quot; + rs.getString(&quot;FirstName&quot;) + &quot; &quot;\r\n                + rs.getString(&quot;LastName&quot;));\r\n          }\r\n        } catch (Exception e) {\r\n          System.err.println(e.getMessage());\r\n        } finally {\r\n          try {\r\n            rs.close();\r\n            stmt.close();\r\n            conn.close();\r\n    \r\n          } catch (SQLException e) {\r\n            e.printStackTrace();\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Java/Database-SQL-JDBC/ReaddatafromExcel.htm","title":"Exporting SQL query result to csv or Excel","body":"<p>Yes!</p>\n\n<p>You can connect to the different database types using jdbc and then create an Excel with the results (<a href=\"http://www.java2s.com/Code/Java/Database-SQL-JDBC/ReaddatafromExcel.htm\" rel=\"nofollow\">Seen here</a>).</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class TestAccessExcel {\n  public static Connection getConnection() throws Exception {\n    String driver = \"sun.jdbc.odbc.JdbcOdbcDriver\";\n    String url = \"jdbc:odbc:excelDB\";\n    String username = \"username\";\n    String password = \"pass\";\n    Class.forName(driver);\n    return DriverManager.getConnection(url, username, password);\n  }\n\n  public static void main(String args[]) {\n    Connection conn = null;\n    Statement stmt = null;\n    ResultSet rs = null;\n    try {\n      conn = getConnection();\n      stmt = conn.createStatement();\n      String excelQuery = \"select * from [Sheet1$]\";\n      rs = stmt.executeQuery(excelQuery);\n\n      while (rs.next()) {\n        System.out.println(rs.getString(\"BadgeNumber\") + \" \" + rs.getString(\"FirstName\") + \" \"\n            + rs.getString(\"LastName\"));\n      }\n    } catch (Exception e) {\n      System.err.println(e.getMessage());\n    } finally {\n      try {\n        rs.close();\n        stmt.close();\n        conn.close();\n\n      } catch (SQLException e) {\n        e.printStackTrace();\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1111512,"reputation":99,"user_id":1101901,"display_name":"Ramakanth77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324308588,"creation_date":1324308588,"answer_id":8563544,"question_id":8563376,"body_markdown":"For this to work you need to work write a small code that can take up any query and any driver . The first input should be the driver name as the input to the software that you are writing. Then the software you are writing should be in a position to execute any SQL given to it and give out only rows and columns. \r\n\r\nThe next task comes to parse the ResultSet that comes from the JDBC of java application. Either you want to write the results into CSV file or EXCEL is based on how good you have the java api to do that. \r\n\r\nWriting the output into the CVS is easy and not trival. I have not worked on exporting the data into Excel. I am sure you find jars for that.\r\n","title":"Exporting SQL query result to csv or Excel","body":"<p>For this to work you need to work write a small code that can take up any query and any driver . The first input should be the driver name as the input to the software that you are writing. Then the software you are writing should be in a position to execute any SQL given to it and give out only rows and columns. </p>\n\n<p>The next task comes to parse the ResultSet that comes from the JDBC of java application. Either you want to write the results into CSV file or EXCEL is based on how good you have the java api to do that. </p>\n\n<p>Writing the output into the CVS is easy and not trival. I have not worked on exporting the data into Excel. I am sure you find jars for that.</p>\n"},{"tags":[],"owner":{"account_id":7273750,"reputation":21,"user_id":5545850,"display_name":"maxnigelnegro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607632171,"creation_date":1447147037,"answer_id":33626478,"question_id":8563376,"body_markdown":"This is my solution. Code to insert in the main class:\r\n\r\n    import java.io.*;\r\n    import java.sql.*;\r\n    import com.company.*;\r\n    /**\r\n     * Created by MAXNIGELNEGRO\r\n    */\r\n      String[] filePath = \t\tnew String[] {&quot;C:\\\\Users\\\\Documents\\\\MyFile.csv&quot;};\r\n      String[] driverDB = \t\tnew String[] {&quot;oracle.jdbc.driver.OracleDriver&quot;};\r\n      String[] stringConnDB = \tnew String[] {&quot;jdbc:oracle:thin:@//127.0.0.1:1881/mydb&quot;};\r\n      String[] userDB = \t\tnew String[] {&quot;pippo&quot;};\r\n      String[] passDB = \t\tnew String[] {&quot;pluto&quot;};\r\n      String[] charSep = \t\tnew String[] {&quot;;&quot;};\r\n      Boolean column= \tnew Boolean (true);\r\n      String[] queryDB = \t\tnew String[] {&quot;select * FROM MYQUERY&quot;};\r\n      \r\n          \r\n    try{\r\n        System.out.println(&quot;---------------File exist?------------&quot; + filePath[0]);\r\n        File fileTemp = new File(filePath[0].toString());\r\n        if (fileTemp.exists()){ \r\n            fileTemp.delete();\r\n            System.out.println(&quot;---------------DELETE FILE------------&quot; + filePath[0] );\r\n             \t\t} \r\n       System.out.println(&quot;QUERY: ----&gt;&quot;+ queryDB[0].toString());\r\n       exportQueryToCsv exp = new exportQueryToCsv();\r\n       exp.exportQueryToCsv(filePath, driverDB, stringConnDB, userDB, passDB, queryDB, column, charSep);\r\n       if (fileTemp.exists()){ \r\n     \t System.out.println(&quot;---File created---&quot; + filePath[0]);\r\n      }\r\n      \r\n    }\r\n    catch(Exception e){\r\n             e.printStackTrace();\r\n          }\r\n\r\n\r\n\r\n**The core class:** \r\n\r\n\r\n    import java.io.IOException;\r\n    import java.sql.Connection;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    /**\r\n     * Created by MAXNIGELNEGRO\r\n     */\r\n    public class exportQueryToCsv {\r\n        public exportQueryToCsv(){}\r\n        public static void  exportQueryToCsv (String[] filename, String[] driverDB, String[] connDB\r\n                                                , String[] userDB, String[] passDB, String[] queryDB, Boolean intestaFile\r\n                                                , String[] charSep) throws SQLException, IOException {\r\n            Statement stmt=null;\r\n            ResultSet rset=null;\r\n            Connection conn=null;\r\n            try { DBConn connessione = new DBConn();\r\n            conn=connessione.connect(driverDB[0],connDB[0],userDB[0],passDB[0]);\r\n            conn.setAutoCommit(false);\r\n    \r\n            stmt = conn.createStatement();\r\n    \r\n            rset = stmt.executeQuery(queryDB[0]);\r\n    \r\n            ExportData2CSV csv = new ExportData2CSV();\r\n            csv.ExportData2CSV(rset,filename[0],intestaFile,charSep[0]);\r\n    \r\n                csv.createFileCsv();\r\n            } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n            } catch (IOException e) {\r\n                    e.printStackTrace();\r\n            }\r\n            finally {\r\n                if (stmt != null) {stmt.close();}\r\n                if (conn != null) {conn.close();}\r\n                if (rset != null) {rset.close();}\r\n    \r\n    \r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n\r\nThis is the class DBConn for the connection to the database:\r\n\r\n    import java.sql.*;\r\n    \r\n    /**\r\n     * Created by MAXNIGELNEGRO\r\n     */\r\n    public class DBConn {\r\n        public DBConn() {\r\n        }\r\n        public Connection connect(String driverDB, String db_connect_str, String db_userid, String db_password) {\r\n            Connection conn;\r\n    \r\n            try {\r\n                Class.forName(driverDB).newInstance();\r\n                conn = DriverManager.getConnection(db_connect_str, db_userid, db_password);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                conn = null;\r\n            }\r\n            return conn;\r\n        }\r\n    }\r\n   \r\nThis is the class for retrieves data from table to resultset and writes to csv file:\r\n\r\n    package com.company;\r\n    \r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.sql.ResultSet;\r\n    import java.sql.ResultSetMetaData;\r\n    import java.sql.SQLException;\r\n    \r\n    /**\r\n     * Created by MAXNIGELNEGRO \r\n     */\r\n    public class ExportData2CSV {\r\n        public ResultSet rset;\r\n        public String filename;\r\n        public Boolean columnName;\r\n        public String charSep;\r\n    \r\n        public void ExportData2CSV(ResultSet rset, String filename, Boolean columnName, String charSep) {\r\n            this.rset = rset;\r\n            this.filename = filename;\r\n            this.columnName = columnName;\r\n            this.charSep = charSep;\r\n        }\r\n    \r\n        public void createFileCsv() throws SQLException, IOException {\r\n            FileWriter cname = null;\r\n            try {\r\n    \r\n    \t\t\t\t// WRITE COLUMN NAME\r\n                ResultSetMetaData rsmd = rset.getMetaData();\r\n                cname = new FileWriter(filename);\r\n                if (columnName) {\r\n                    for (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\r\n                        cname.append(rsmd.getColumnName(i));\r\n                        cname.append(charSep);\r\n                        cname.flush();\r\n                    }\r\n                    cname.append(System.getProperty(&quot;line.separator&quot;));\r\n                }\r\n    \r\n                // WRITE DATA\r\n                while (rset.next()) {\r\n                    for (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\r\n                        if (rset.getObject(i) != null) {\r\n                            String data = rset.getObject(i).toString().replaceAll(charSep, &quot;&quot;);\r\n                            cname.append(data);\r\n                            cname.append(charSep);\r\n                        } else {\r\n                            String data = &quot;null&quot;;\r\n                            cname.append(data);\r\n                            cname.append(charSep);\r\n                        }\r\n    \r\n                    }\r\n                    //new line entered after each row\r\n                    cname.append(System.getProperty(&quot;line.separator&quot;));\r\n    \r\n                }\r\n    \r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n    \r\n            } finally {\r\n                if (cname != null) {\r\n                    cname.flush();\r\n                    cname.close();\r\n                }\r\n                if (rset != null) {\r\n                    rset.close();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Exporting SQL query result to csv or Excel","body":"<p>This is my solution. Code to insert in the main class:</p>\n<pre><code>import java.io.*;\nimport java.sql.*;\nimport com.company.*;\n/**\n * Created by MAXNIGELNEGRO\n*/\n  String[] filePath =       new String[] {&quot;C:\\\\Users\\\\Documents\\\\MyFile.csv&quot;};\n  String[] driverDB =       new String[] {&quot;oracle.jdbc.driver.OracleDriver&quot;};\n  String[] stringConnDB =   new String[] {&quot;jdbc:oracle:thin:@//127.0.0.1:1881/mydb&quot;};\n  String[] userDB =         new String[] {&quot;pippo&quot;};\n  String[] passDB =         new String[] {&quot;pluto&quot;};\n  String[] charSep =        new String[] {&quot;;&quot;};\n  Boolean column=   new Boolean (true);\n  String[] queryDB =        new String[] {&quot;select * FROM MYQUERY&quot;};\n  \n      \ntry{\n    System.out.println(&quot;---------------File exist?------------&quot; + filePath[0]);\n    File fileTemp = new File(filePath[0].toString());\n    if (fileTemp.exists()){ \n        fileTemp.delete();\n        System.out.println(&quot;---------------DELETE FILE------------&quot; + filePath[0] );\n                } \n   System.out.println(&quot;QUERY: ----&gt;&quot;+ queryDB[0].toString());\n   exportQueryToCsv exp = new exportQueryToCsv();\n   exp.exportQueryToCsv(filePath, driverDB, stringConnDB, userDB, passDB, queryDB, column, charSep);\n   if (fileTemp.exists()){ \n     System.out.println(&quot;---File created---&quot; + filePath[0]);\n  }\n  \n}\ncatch(Exception e){\n         e.printStackTrace();\n      }\n</code></pre>\n<p><strong>The core class:</strong></p>\n<pre><code>import java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\n/**\n * Created by MAXNIGELNEGRO\n */\npublic class exportQueryToCsv {\n    public exportQueryToCsv(){}\n    public static void  exportQueryToCsv (String[] filename, String[] driverDB, String[] connDB\n                                            , String[] userDB, String[] passDB, String[] queryDB, Boolean intestaFile\n                                            , String[] charSep) throws SQLException, IOException {\n        Statement stmt=null;\n        ResultSet rset=null;\n        Connection conn=null;\n        try { DBConn connessione = new DBConn();\n        conn=connessione.connect(driverDB[0],connDB[0],userDB[0],passDB[0]);\n        conn.setAutoCommit(false);\n\n        stmt = conn.createStatement();\n\n        rset = stmt.executeQuery(queryDB[0]);\n\n        ExportData2CSV csv = new ExportData2CSV();\n        csv.ExportData2CSV(rset,filename[0],intestaFile,charSep[0]);\n\n            csv.createFileCsv();\n        } catch (SQLException e) {\n                e.printStackTrace();\n        } catch (IOException e) {\n                e.printStackTrace();\n        }\n        finally {\n            if (stmt != null) {stmt.close();}\n            if (conn != null) {conn.close();}\n            if (rset != null) {rset.close();}\n\n\n\n        }\n\n\n    }\n}\n</code></pre>\n<p>This is the class DBConn for the connection to the database:</p>\n<pre><code>import java.sql.*;\n\n/**\n * Created by MAXNIGELNEGRO\n */\npublic class DBConn {\n    public DBConn() {\n    }\n    public Connection connect(String driverDB, String db_connect_str, String db_userid, String db_password) {\n        Connection conn;\n\n        try {\n            Class.forName(driverDB).newInstance();\n            conn = DriverManager.getConnection(db_connect_str, db_userid, db_password);\n        } catch (Exception e) {\n            e.printStackTrace();\n            conn = null;\n        }\n        return conn;\n    }\n}\n</code></pre>\n<p>This is the class for retrieves data from table to resultset and writes to csv file:</p>\n<pre><code>package com.company;\n\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.SQLException;\n\n/**\n * Created by MAXNIGELNEGRO \n */\npublic class ExportData2CSV {\n    public ResultSet rset;\n    public String filename;\n    public Boolean columnName;\n    public String charSep;\n\n    public void ExportData2CSV(ResultSet rset, String filename, Boolean columnName, String charSep) {\n        this.rset = rset;\n        this.filename = filename;\n        this.columnName = columnName;\n        this.charSep = charSep;\n    }\n\n    public void createFileCsv() throws SQLException, IOException {\n        FileWriter cname = null;\n        try {\n\n                // WRITE COLUMN NAME\n            ResultSetMetaData rsmd = rset.getMetaData();\n            cname = new FileWriter(filename);\n            if (columnName) {\n                for (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\n                    cname.append(rsmd.getColumnName(i));\n                    cname.append(charSep);\n                    cname.flush();\n                }\n                cname.append(System.getProperty(&quot;line.separator&quot;));\n            }\n\n            // WRITE DATA\n            while (rset.next()) {\n                for (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\n                    if (rset.getObject(i) != null) {\n                        String data = rset.getObject(i).toString().replaceAll(charSep, &quot;&quot;);\n                        cname.append(data);\n                        cname.append(charSep);\n                    } else {\n                        String data = &quot;null&quot;;\n                        cname.append(data);\n                        cname.append(charSep);\n                    }\n\n                }\n                //new line entered after each row\n                cname.append(System.getProperty(&quot;line.separator&quot;));\n\n            }\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n\n        } finally {\n            if (cname != null) {\n                cname.flush();\n                cname.close();\n            }\n            if (rset != null) {\n                rset.close();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434830,"reputation":1784,"user_id":821080,"display_name":"Piyush Ghediya"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1455273341,"creation_date":1455273341,"answer_id":35360379,"question_id":8563376,"body_markdown":"With use of openCSV API, you can export your data in csv file.\r\n\r\n    CSVWriter writer = new CSVWriter(new FileWriter(&quot;yourfile.csv&quot;), &#39;\\t&#39;);\r\n    Boolean includeHeaders = true;\r\n        \r\n    java.sql.ResultSet myResultSet = .... //your resultset logic here\r\n\r\n    writer.writeAll(myResultSet, includeHeaders);\r\n\r\n    writer.close();","title":"Exporting SQL query result to csv or Excel","body":"<p>With use of openCSV API, you can export your data in csv file.</p>\n\n<pre><code>CSVWriter writer = new CSVWriter(new FileWriter(\"yourfile.csv\"), '\\t');\nBoolean includeHeaders = true;\n\njava.sql.ResultSet myResultSet = .... //your resultset logic here\n\nwriter.writeAll(myResultSet, includeHeaders);\n\nwriter.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9698546,"reputation":11,"user_id":7199724,"display_name":"vamsi krishnan mysore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481091567,"creation_date":1481091567,"answer_id":41010687,"question_id":8563376,"body_markdown":"This is the excel data sheet\r\n\r\n[input excel file containing records][1]\r\nHi this is the solution you need 3 files 1.input thread 2.output thread 3.data structure 4.main\r\n1.input thread to read the excel and output thread to write the sql out put \r\n2.data structure is to hold and transfer the data\r\n\r\n(InputThread.java)\r\n\r\n        import java.io.*; \r\n    public class InputThread extends Thread{\r\n    \r\n    \r\n    \tString fp; \r\n    \tInputString is;\t\r\n    \tString tableName=&quot;emp&quot;;\t\r\n    \tString outFile;\r\n    \tInputThread(String FilePath,String nameOfTheTable,String outFileName){\r\n    \t\tfp=FilePath;\r\n    \t\toutFile=outFileName;\r\n    \t\ttableName=nameOfTheTable;\r\n    \t}\r\n    \tpublic void run(){\r\n    \t\tFile file = new File(fp);\r\n    \t\tString line;\r\n    \t\ttry{\r\n    \t\t\tBufferedReader br = new BufferedReader(new FileReader(file)); \r\n    \t\t\tif( (line=br.readLine()) != null)\r\n    \t\t\t\tis = new InputString(line);\r\n    \r\n    \t\t\t//transform(is);\t\r\n    \t\t\r\n    \t\t\tInputString tmp = new InputString(createTable(line));\r\n    \t\t\t//tmp.next = is;\r\n    \t\t\tis = tmp;\r\n    \t\t\t//tmp = tmp.next;\r\n    \r\n       \t\t \tfor(; (line = br.readLine()) != null; ) {\r\n    \t\t\t\ttmp.next = new InputString(line);\r\n    \t\t\t\ttmp = tmp.next;\r\n    \t\t\t\ttransform(tmp);\t\r\n        \t\t\t}    \t\t\t\r\n    \t\t\t\r\n    \t\t}catch(Exception e){ System.out.println(&quot;Error is :&quot;+e); }\r\n    \r\n    \t\t//traverse();\r\n    \t\tnew OutputThread(is,outFile).start();\r\n    \t}\r\n    \tvoid transform(InputString x){\r\n                 \r\n    \t\tString[] arr = x.getLine().split(&quot;,&quot;);\r\n    \t\tString sql = &quot;insert into &quot;+tableName+&quot; values(&quot;;\r\n    \t\tfor(int i=0;i&lt;arr.length;i++){\r\n    \t\t\tsql+=&quot;&#39;&quot;+arr[i]+&quot;&#39;&quot;;\r\n    \t\t\tif( (i+1) &lt; arr.length) sql+=&quot;,&quot;;\r\n    \t\t}\r\n    \t\tsql+=&quot;);&quot;;\r\n    \t\tx.setLine(sql);\r\n    \t\t\r\n    \t}\r\n    \tString createTable(String x){\r\n    \t\tString[] arr = x.split(&quot;,&quot;);\r\n    \t\tString sql = &quot;create database vamsidb &quot;+ &quot;use vamsidb &quot;+&quot;create table &quot;+tableName+&quot;(&quot;;\r\n    \t\tfor(int i=0;i&lt;arr.length;i++){\r\n    \t\t\tsql+=arr[i]+&quot; varchar(50)&quot;;\r\n    \t\t\tif( (i+1) &lt; arr.length) sql+=&quot;,&quot;;\r\n    \t\t}\r\n    \t\tsql+=&quot;);&quot;;\r\n    \t\treturn sql;\r\n    \t}\r\n    \t/*public void traverse(){\r\n    \t\tInputString tmp = is;\r\n    \t\twhile(is != null){\r\n    \t\t\tSystem.out.println(is.getLine());\r\n    \t\t\tis=is.next;\r\n    \t\t}\r\n    \t}*/\r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\n(OutputThread.java)\r\n\r\n    import java.io.*;\r\n    public class OutputThread extends Thread{\r\n    \tInputString is;\r\n    \tString outFile;\r\n    \tOutputThread(InputString linkedList,String outFileName){\r\n    \t\tis=linkedList;\r\n    \t\toutFile = outFileName;\r\n    \t}\r\n    \tpublic void run(){\r\n    \t\r\n    \t\ttry{\r\n    \t\t\tFileOutputStream fos = new FileOutputStream(outFile);\r\n    \t\t\twhile(is != null){\t\t\t\t\r\n    \t\t\t\tfos.write(is.getLine().getBytes());\t\t\t\t\r\n    \t\t\t\tis=is.next;\r\n    \t\t\t}\r\n    \t\t\tfos.close();\r\n    \t\t}catch(Exception e){\r\n    \t\t\tSystem.out.println(&quot;Error is :&quot;+e);\r\n    \t\t }\r\n    \t}\r\n    }\r\n\r\n(Main.java)\r\n\r\n\r\n    public class Main{\r\n    public static void main(String[] args){\r\n    \t\t\r\n    \t\tInputThread it = new InputThread(&quot;sasken.csv&quot;,&quot;emp&quot;,&quot;output.sql&quot;);\r\n                   \t\t\t\r\n    \t\tit.start();\t\t\r\n    \t}\r\n    }\r\n\r\n\r\n(DataStructure.java)\r\n\r\n\r\n//This class represents the data structure to hold and transform input \r\n//data as a linked list of sql statements\r\n\r\n    class InputString{\r\n    \r\n    \tString line;\r\n    \tInputString next;\r\n    \r\n    \tInputString(String x){\r\n    \t\tline = x;\r\n    \t}\r\n    \tString getLine(){\r\n    \t\treturn line;\r\n    \t}\t\r\n    \tvoid setLine(String x){\r\n    \t\tline = x;\r\n    \t}\r\n    }\r\n\r\n\r\n[output result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DTsXM.png","title":"Exporting SQL query result to csv or Excel","body":"<p>This is the excel data sheet</p>\n\n<p><a href=\"https://i.stack.imgur.com/DTsXM.png\" rel=\"nofollow noreferrer\">input excel file containing records</a>\nHi this is the solution you need 3 files 1.input thread 2.output thread 3.data structure 4.main\n1.input thread to read the excel and output thread to write the sql out put \n2.data structure is to hold and transfer the data</p>\n\n<p>(InputThread.java)</p>\n\n<pre><code>    import java.io.*; \npublic class InputThread extends Thread{\n\n\n    String fp; \n    InputString is; \n    String tableName=\"emp\"; \n    String outFile;\n    InputThread(String FilePath,String nameOfTheTable,String outFileName){\n        fp=FilePath;\n        outFile=outFileName;\n        tableName=nameOfTheTable;\n    }\n    public void run(){\n        File file = new File(fp);\n        String line;\n        try{\n            BufferedReader br = new BufferedReader(new FileReader(file)); \n            if( (line=br.readLine()) != null)\n                is = new InputString(line);\n\n            //transform(is);    \n\n            InputString tmp = new InputString(createTable(line));\n            //tmp.next = is;\n            is = tmp;\n            //tmp = tmp.next;\n\n            for(; (line = br.readLine()) != null; ) {\n                tmp.next = new InputString(line);\n                tmp = tmp.next;\n                transform(tmp); \n                }               \n\n        }catch(Exception e){ System.out.println(\"Error is :\"+e); }\n\n        //traverse();\n        new OutputThread(is,outFile).start();\n    }\n    void transform(InputString x){\n\n        String[] arr = x.getLine().split(\",\");\n        String sql = \"insert into \"+tableName+\" values(\";\n        for(int i=0;i&lt;arr.length;i++){\n            sql+=\"'\"+arr[i]+\"'\";\n            if( (i+1) &lt; arr.length) sql+=\",\";\n        }\n        sql+=\");\";\n        x.setLine(sql);\n\n    }\n    String createTable(String x){\n        String[] arr = x.split(\",\");\n        String sql = \"create database vamsidb \"+ \"use vamsidb \"+\"create table \"+tableName+\"(\";\n        for(int i=0;i&lt;arr.length;i++){\n            sql+=arr[i]+\" varchar(50)\";\n            if( (i+1) &lt; arr.length) sql+=\",\";\n        }\n        sql+=\");\";\n        return sql;\n    }\n    /*public void traverse(){\n        InputString tmp = is;\n        while(is != null){\n            System.out.println(is.getLine());\n            is=is.next;\n        }\n    }*/\n\n\n}\n</code></pre>\n\n<p>(OutputThread.java)</p>\n\n<pre><code>import java.io.*;\npublic class OutputThread extends Thread{\n    InputString is;\n    String outFile;\n    OutputThread(InputString linkedList,String outFileName){\n        is=linkedList;\n        outFile = outFileName;\n    }\n    public void run(){\n\n        try{\n            FileOutputStream fos = new FileOutputStream(outFile);\n            while(is != null){              \n                fos.write(is.getLine().getBytes());             \n                is=is.next;\n            }\n            fos.close();\n        }catch(Exception e){\n            System.out.println(\"Error is :\"+e);\n         }\n    }\n}\n</code></pre>\n\n<p>(Main.java)</p>\n\n<pre><code>public class Main{\npublic static void main(String[] args){\n\n        InputThread it = new InputThread(\"sasken.csv\",\"emp\",\"output.sql\");\n\n        it.start();     \n    }\n}\n</code></pre>\n\n<p>(DataStructure.java)</p>\n\n<p>//This class represents the data structure to hold and transform input \n//data as a linked list of sql statements</p>\n\n<pre><code>class InputString{\n\n    String line;\n    InputString next;\n\n    InputString(String x){\n        line = x;\n    }\n    String getLine(){\n        return line;\n    }   \n    void setLine(String x){\n        line = x;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DTsXM.png\" rel=\"nofollow noreferrer\">output result</a></p>\n"},{"tags":[],"owner":{"account_id":10048476,"reputation":318,"user_id":7429004,"display_name":"Esther Lalremruati"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1495005590,"creation_date":1495005590,"answer_id":44018112,"question_id":8563376,"body_markdown":"Simplest solution. \r\n\r\n**Main Method**\r\n\r\n     private List&lt;String&gt; resultSetArray=new ArrayList&lt;&gt;();\r\n     private String username =&quot;&quot;;     // Enter DB Username\r\n     private String password = &quot;&quot;;    // Enter DB password\r\n     private String url = &quot;&quot;;         // Enter DB URL\r\n    \r\n     Connection connection=DriverManager.getConnection(url,user,pwd);   \r\n        \r\n     public static void main(String args[]) throws Exception{\r\n    \r\n         \tfetchDataFromDatabase(&quot;SQL queries&quot;, connection);\r\n           \tprintToCsv(resultArray);       \t  \t\t\r\n            \t\r\n     }\r\n\r\n**fetchDataFromDatabase**\r\n\r\nThe code below count the number of columns in a table, and store in a result array.\r\n\r\n    private void fetchDataFromDatabase(String selectQuery,Connection connection) throws  Exception{\r\n                try {\r\n        \r\n        \r\n                    Statement stmt = connection.createStatement();\r\n                    ResultSet rs = stmt.executeQuery(selectQuery);\r\n                    int numCols = rs.getMetaData().getColumnCount();\r\n        \r\n                    while(rs.next()) {\r\n                        StringBuilder sb = new StringBuilder();\r\n        \r\n                        for (int i = 1; i &lt;= numCols; i++) {\r\n                            sb.append(String.format(String.valueOf(rs.getString(i))) + &quot; &quot;);\r\n        \r\n                        }\r\n                        resultSetArray.add(sb.toString());\r\n        \r\n                    }\r\n              \r\n                } catch (SQLException e) {\r\n                    LOGGER.error(&quot;Sql exception &quot; + e.getMessage());\r\n                }\r\n        \r\n            }\r\n\r\n\r\n\r\n   \r\n    \r\n **printToCsv**\r\n\r\n     public static void printToCsv(List&lt;String&gt; resultArray) throws Exception{\r\n        \r\n            File csvOutputFile = new File(file_name);\r\n            FileWriter fileWriter = new FileWriter(csvOutputFile, false);\r\n        \r\n                \r\n            for(String mapping : resultArray) {\r\n                fileWriter.write(mapping + &quot;\\n&quot;);\r\n             }\r\n        \r\n            fileWriter.close();\r\n            \r\n        }\r\n\r\n","title":"Exporting SQL query result to csv or Excel","body":"<p>Simplest solution. </p>\n\n<p><strong>Main Method</strong></p>\n\n<pre><code> private List&lt;String&gt; resultSetArray=new ArrayList&lt;&gt;();\n private String username =\"\";     // Enter DB Username\n private String password = \"\";    // Enter DB password\n private String url = \"\";         // Enter DB URL\n\n Connection connection=DriverManager.getConnection(url,user,pwd);   \n\n public static void main(String args[]) throws Exception{\n\n        fetchDataFromDatabase(\"SQL queries\", connection);\n        printToCsv(resultArray);                \n\n }\n</code></pre>\n\n<p><strong>fetchDataFromDatabase</strong></p>\n\n<p>The code below count the number of columns in a table, and store in a result array.</p>\n\n<pre><code>private void fetchDataFromDatabase(String selectQuery,Connection connection) throws  Exception{\n            try {\n\n\n                Statement stmt = connection.createStatement();\n                ResultSet rs = stmt.executeQuery(selectQuery);\n                int numCols = rs.getMetaData().getColumnCount();\n\n                while(rs.next()) {\n                    StringBuilder sb = new StringBuilder();\n\n                    for (int i = 1; i &lt;= numCols; i++) {\n                        sb.append(String.format(String.valueOf(rs.getString(i))) + \" \");\n\n                    }\n                    resultSetArray.add(sb.toString());\n\n                }\n\n            } catch (SQLException e) {\n                LOGGER.error(\"Sql exception \" + e.getMessage());\n            }\n\n        }\n</code></pre>\n\n<p><strong>printToCsv</strong></p>\n\n<pre><code> public static void printToCsv(List&lt;String&gt; resultArray) throws Exception{\n\n        File csvOutputFile = new File(file_name);\n        FileWriter fileWriter = new FileWriter(csvOutputFile, false);\n\n\n        for(String mapping : resultArray) {\n            fileWriter.write(mapping + \"\\n\");\n         }\n\n        fileWriter.close();\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13525593,"reputation":41,"user_id":9757516,"display_name":"Khal Drogo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1536753269,"creation_date":1536753269,"answer_id":52294545,"question_id":8563376,"body_markdown":"**It&#39;s difficult to export result set data from any tool.**\r\n\r\nex: while exporting result set data to .csv file it does not export properly when data contains (,)\r\n\r\n**please refer below java code :**\r\n\r\nit works perfectly with any any query input and all type of data in result set \r\n\r\n    package com.demo.export;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.sql.Connection;\r\n    import java.sql.ResultSet;\r\n    import java.sql.ResultSetMetaData;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.ss.usermodel.Workbook;\r\n    import org.apache.poi.ss.usermodel.WorkbookFactory;\r\n    \r\n    public class dataExportService {\r\n    \tpublic void getDefendants(Connection con , String db) throws Exception  { \r\n    \t\t@SuppressWarnings(&quot;unused&quot;)\r\n    \t\tWorkbook readWorkbook = WorkbookFactory.create(new FileInputStream(&quot;.xls file path(C:\\\\Users\\\\CEPL\\\\Desktop\\\\test.xls)&quot;) );\r\n    \t\t@SuppressWarnings(&quot;resource&quot;)\r\n    \t\tWorkbook writeWorkbook = new HSSFWorkbook();\r\n    \t\tSheet desSheet = writeWorkbook.createSheet(&quot;new sheet&quot;);\r\n    \r\n    \t\tStatement stmt = null;\r\n    \t\tResultSet rs = null;\r\n    \t\ttry{\r\n    \t\t\tString query =&quot;QUERY&quot;;\r\n    \r\n    \t\t\tstmt = con.createStatement();\r\n    \t\t\trs = stmt.executeQuery(query);\r\n    \t\t\tResultSetMetaData rsmd = rs.getMetaData();\r\n    \t\t\tint columnsNumber = rsmd.getColumnCount();\r\n    \r\n    \t\t\tRow desRow1 = desSheet.createRow(0);\r\n    \t\t\tfor(int col=0 ;col &lt; columnsNumber;col++) {\r\n    \t\t\t\tCell newpath = desRow1.createCell(col);\r\n    \t\t\t\tnewpath.setCellValue(rsmd.getColumnLabel(col+1));\r\n    \t\t\t}\r\n    \t\t\twhile(rs.next()) {\r\n    \t\t\t\tSystem.out.println(&quot;Row number&quot; + rs.getRow() );\r\n    \t\t\t\tRow desRow = desSheet.createRow(rs.getRow());\r\n    \t\t\t\tfor(int col=0 ;col &lt; columnsNumber;col++) {\r\n    \t\t\t\t\tCell newpath = desRow.createCell(col);\r\n    \t\t\t\t\tnewpath.setCellValue(rs.getString(col+1));\t\r\n    \t\t\t\t}\r\n    \t\t\t\tFileOutputStream fileOut = new FileOutputStream(&quot;.xls file path(C:\\\\Users\\\\CEPL\\\\Desktop\\\\test.xls)&quot;);\r\n    \t\t\t\twriteWorkbook.write(fileOut);\r\n    \t\t\t\tfileOut.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (SQLException e) {\r\n    \t\t\tSystem.out.println(&quot;Failed to get data from database&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n       ","title":"Exporting SQL query result to csv or Excel","body":"<p><strong>It's difficult to export result set data from any tool.</strong></p>\n\n<p>ex: while exporting result set data to .csv file it does not export properly when data contains (,)</p>\n\n<p><strong>please refer below java code :</strong></p>\n\n<p>it works perfectly with any any query input and all type of data in result set </p>\n\n<pre><code>package com.demo.export;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\n\npublic class dataExportService {\n    public void getDefendants(Connection con , String db) throws Exception  { \n        @SuppressWarnings(\"unused\")\n        Workbook readWorkbook = WorkbookFactory.create(new FileInputStream(\".xls file path(C:\\\\Users\\\\CEPL\\\\Desktop\\\\test.xls)\") );\n        @SuppressWarnings(\"resource\")\n        Workbook writeWorkbook = new HSSFWorkbook();\n        Sheet desSheet = writeWorkbook.createSheet(\"new sheet\");\n\n        Statement stmt = null;\n        ResultSet rs = null;\n        try{\n            String query =\"QUERY\";\n\n            stmt = con.createStatement();\n            rs = stmt.executeQuery(query);\n            ResultSetMetaData rsmd = rs.getMetaData();\n            int columnsNumber = rsmd.getColumnCount();\n\n            Row desRow1 = desSheet.createRow(0);\n            for(int col=0 ;col &lt; columnsNumber;col++) {\n                Cell newpath = desRow1.createCell(col);\n                newpath.setCellValue(rsmd.getColumnLabel(col+1));\n            }\n            while(rs.next()) {\n                System.out.println(\"Row number\" + rs.getRow() );\n                Row desRow = desSheet.createRow(rs.getRow());\n                for(int col=0 ;col &lt; columnsNumber;col++) {\n                    Cell newpath = desRow.createCell(col);\n                    newpath.setCellValue(rs.getString(col+1));  \n                }\n                FileOutputStream fileOut = new FileOutputStream(\".xls file path(C:\\\\Users\\\\CEPL\\\\Desktop\\\\test.xls)\");\n                writeWorkbook.write(fileOut);\n                fileOut.close();\n            }\n        }\n        catch (SQLException e) {\n            System.out.println(\"Failed to get data from database\");\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8973303,"reputation":1489,"user_id":6691064,"display_name":"vikash singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538729531,"creation_date":1538729531,"answer_id":52661814,"question_id":8563376,"body_markdown":"You can use **JDBC** to fetch the records from DB in java and then use **Apache POI** for exporting the data to CSV/Excel.\r\n\r\nAdditionally, you can use the **desktop API** of java to send email using your default email client.","title":"Exporting SQL query result to csv or Excel","body":"<p>You can use <strong>JDBC</strong> to fetch the records from DB in java and then use <strong>Apache POI</strong> for exporting the data to CSV/Excel.</p>\n\n<p>Additionally, you can use the <strong>desktop API</strong> of java to send email using your default email client.</p>\n"},{"tags":[],"owner":{"account_id":2621584,"reputation":1,"user_id":2269483,"display_name":"Mel Davila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607632088,"creation_date":1592896893,"answer_id":62529402,"question_id":8563376,"body_markdown":"The solution is based on a properties file. \r\n\r\nWhere this options are configured:\r\n- The parameters of the database.\r\n- Optional extra SQL Where clause.  \r\n- The parameters of the output files.\r\n\r\nThe process can start bis 4 threads to download 4 tables at the same time.\r\nIf you want to run again, the generated files must be deleted.\r\nA text file (logs.txt) with the process data is also created.\r\n\r\n---- PROP FILE : ExportProperties.prop ---------\r\nThe solution will write a draft cinfiguration version in:\r\n \r\nC:\\tmp\\test\\ExportProperties.prop\r\n\r\n    ## configuration properties\r\n    driver=oracle.jdbc.driver.OracleDriver\r\n    url=jdbc:oracle:thin:@ldap://localhost\r\n    username=user\r\n    password=pass\r\n    fileExtension=_20200623.csv\r\n    columSeparator=;\r\n    charsetName=CP1252\r\n    ## export only 10 rows change to false\r\n    only10Rows=true\r\n    ##tables\r\n    tableName.1=USER\r\n    tableName.1.sqlWhere= user.name IS NOT NULL\r\n    tableName.2=ROLL\r\n    tableName.3=FIRMA\r\n--------- The main file --------\r\n\r\n    public class ExportTable2CSVMain implements Runnable {\r\n        static SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss SSS|&quot;);\r\n        static final String folder = &quot;C:\\\\tmp\\\\test\\\\&quot;;\r\n        static final Properties prop = getProperties();\r\n    \r\n        public static void main(String[] args) {\r\n            for (int x = 1; x &lt; 6; x++) {\r\n                try {\r\n                    writieLog(0, &quot;Start thread &quot; + x);\r\n                    new ExportTable2CSVMain();\r\n                    Thread.sleep(1000);\r\n                } catch (final Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public ExportTable2CSVMain() {\r\n            final Thread t = new Thread(this);\r\n            t.start(); // start the thread -&gt; run\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            int pos = 1;\r\n            String tableName = prop.getProperty(&quot;tableName.&quot; + pos);\r\n            while (tableName != null) {\r\n                try {\r\n                    export(tableName, pos++);\r\n                } catch (final Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                tableName = prop.getProperty(&quot;tableName.&quot; + pos);\r\n            }\r\n        }\r\n    \r\n        private void export(String tableName, int filePos) throws Exception {\r\n            final boolean only10Rows = prop.getProperty(&quot;only10Rows&quot;, &quot;false&quot;).equals(&quot;true&quot;);\r\n            String extraWhere = prop.getProperty(&quot;tableName.&quot;+filePos+&quot;.sqlWhere&quot;);\r\n            if(extraWhere ==null)\r\n                extraWhere = prop.getProperty(&quot;sqlWhere&quot;);\r\n            if(extraWhere ==null)\r\n                extraWhere = &quot;&quot;;\r\n            final String sql = &quot;select * from &quot; + tableName + extraWhere\r\n                    + (only10Rows ? &quot; FETCH NEXT 10 ROWS ONLY&quot; : &quot;&quot;);\r\n            final String fileName = folder + tableName + prop.getProperty(&quot;fileExtension&quot;);\r\n            Connection conn = null;\r\n            Statement stmt = null;\r\n            ResultSet rs = null;\r\n            ExportTable2CSV data2csv = null;\r\n            try {\r\n                data2csv = new ExportTable2CSV(fileName, tableName, filePos);\r\n                if (data2csv.toDo()) {\r\n                    conn = getConnection();\r\n                    stmt = conn.createStatement();\r\n                    rs = stmt.executeQuery(sql);\r\n                    data2csv.createFileCsv(rs);\r\n                }\r\n            } catch (final Exception e) {\r\n                final int row = data2csv == null ? -1 : data2csv.row;\r\n                writieLog(filePos, &quot;SQL&quot;, &quot;Error&quot;, &quot;rows:&quot; + row, tableName, e.getMessage());\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    rs.close();\r\n                } catch (final Exception e) {\r\n                }\r\n                try {\r\n                    stmt.close();\r\n                } catch (final Exception e) {\r\n                }\r\n                try {\r\n                    conn.close();\r\n                } catch (final Exception e) {\r\n                }\r\n            }\r\n        }\r\n    \r\n        public Connection getConnection() throws Exception {\r\n            Class.forName(prop.getProperty(&quot;driver&quot;));\r\n            return DriverManager.getConnection(//\r\n                    prop.getProperty(&quot;url&quot;),\r\n                    prop.getProperty(&quot;username&quot;),\r\n                    prop.getProperty(&quot;password&quot;));\r\n        }\r\n    \r\n        static private Properties getProperties() {\r\n            File file = new File(folder);\r\n            if (!file.exists()) { // if the folder do not exist create it \r\n                file.mkdirs();\r\n            }\r\n            file = new File(folder + &quot;ExportProperties.prop&quot;);\r\n            if (!file.exists()) {\r\n                try {\r\n                    final PrintWriter out = new PrintWriter(\r\n                            new BufferedWriter(new FileWriter(folder + &quot;ExportProperties.prop&quot;, true)));\r\n    \r\n                    out.println(//\r\n                            &quot;## configuration properties\\n&quot; +\r\n                                    &quot;driver=oracle.jdbc.driver.OracleDriver\\n&quot; +\r\n                                    &quot;url=jdbc:oracle:thin:@ldap://localhost\\n&quot;+\r\n                                    &quot;username=USER\\n&quot; +\r\n                                    &quot;password=PASSWORD\\n&quot; +\r\n                                    &quot;sqlWhere=\\n&quot; +\r\n                                    &quot;fileExtension=_20200619.csv\\n&quot; +\r\n                                    &quot;columSeparator=;\\n&quot; +\r\n                                    &quot;charsetName=CP1252\\n&quot; +\r\n                                    &quot;##tables\\n&quot; +\r\n                                    &quot;tableName.1=USER\\n&quot; + //\r\n                                    &quot;tableName.2=ROLL\\n&quot; \r\n                    );\r\n                    out.close();\r\n                } catch (final Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            final Properties prop = new Properties();\r\n            try {\r\n                prop.load(new FileInputStream(folder + &quot;ExportProperties.prop&quot;));\r\n            } catch (final IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return prop;\r\n        }\r\n    \r\n        public static void writieLog(int filePos, String... txt) throws Exception {\r\n            final PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(folder + &quot;logs.txt&quot;, true)));\r\n            String sb = &quot;&quot;;\r\n            sb += formatter.format(new Date()) + &quot;\\t&quot;;\r\n            sb += filePos == 0 ? &quot;&quot; : &quot;F-&quot; + filePos + &quot;\\t&quot;;\r\n            for (final String s : txt) {\r\n                sb += s + &quot;\\t&quot;;\r\n            }\r\n            System.out.println(sb);\r\n            out.println(sb);\r\n            out.close();\r\n        }\r\n    }\r\n\r\n---------------- the ExportTable2CSV file -------\r\n\r\n    /**\r\n     * Created by Jose Manuel Davila (Mel) kailas.mel@gmail.com\r\n     */\r\n    public class ExportTable2CSV {\r\n        final String fileName;\r\n        final String table;\r\n        final String columSeparator;\r\n        final Boolean columnName = true;\r\n        final int filePos;\r\n        int row = 0;\r\n        int column = 0;\r\n    \r\n        public ExportTable2CSV(String fileName, String table, int filePos) {\r\n            this.filePos = filePos;\r\n            this.fileName = fileName;\r\n            this.table = table;\r\n            columSeparator = ExportTable2CSVMain.prop.getProperty(&quot;columSeparator&quot;, &quot;;&quot;);\r\n        }\r\n    \r\n        public boolean toDo() throws Exception {\r\n            if (new File(fileName).exists()) {// the file exist jet return\r\n                return false;\r\n            }\r\n            writeLine(&quot;&quot;);\r\n            return true;\r\n        }\r\n    \r\n        public void createFileCsv(ResultSet rs) throws Exception {\r\n            String sb = &quot;&quot;;\r\n            try {\r\n                ExportTable2CSVMain.writieLog(filePos, &quot;FILE&quot;, &quot;INI &quot;, table, fileName);\r\n                // WRITE COLUMN NAME\r\n                final ResultSetMetaData rsmd = rs.getMetaData();\r\n                sb = &quot;&quot;;\r\n                final List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n                if (columnName) {\r\n                    for (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\r\n                        sb += rsmd.getColumnName(i) + columSeparator;\r\n                        list.add(rsmd.getColumnName(i));\r\n                    }\r\n                    writeLine(sb.toString());\r\n                }\r\n                // WRITE DATA\r\n                while (rs.next()) {\r\n                    sb = &quot;&quot;;\r\n                    column = 0;\r\n                    for (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\r\n                        final Object obj = rs.getObject(i);\r\n                        String data = &quot;&quot;;\r\n                        if (obj != null) {\r\n                            if (obj instanceof String) {\r\n                                data = obj.toString();\r\n                                if (data.indexOf(columSeparator) != -1) {\r\n                                    if (data.indexOf(&quot;\\&quot;&quot;) != -1) {\r\n                                        data = data.replaceAll(&quot;\\&quot;&quot;, &quot;&#39;&quot;);\r\n                                        ExportTable2CSVMain.writieLog(filePos, &quot;FILE&quot;, &quot;WITH comm and ; &quot;, &quot;row:&quot; + row,\r\n                                                &quot;Column:&quot; + list.get(column), table, fileName);\r\n                                    }\r\n                                    data = &quot;\\&quot;&quot; + data + &quot;\\&quot;&quot;;\r\n                                }\r\n                            } else {\r\n                                data = obj.toString();\r\n                            }\r\n                        }\r\n                        sb += data + columSeparator;\r\n                        column++;\r\n                    }\r\n                    writeLine(sb.toString());\r\n                    row++;\r\n                }\r\n                ExportTable2CSVMain.writieLog(filePos, &quot;FILE&quot;, &quot;END &quot;, &quot;rows:&quot; + row, table, fileName);\r\n            } catch (final Exception e) {\r\n                ExportTable2CSVMain.writieLog(filePos, &quot;FILE&quot;, &quot;Error &quot;, &quot;rows:&quot; + row, table, fileName, e.getMessage());\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (rs != null) {\r\n                    rs.close();\r\n                }\r\n            }\r\n        }\r\n    \r\n        void writeLine(String line) throws Exception {\r\n            if (row &gt; 0 &amp;&amp; row % 1000 == 0) {\r\n                System.out.println(filePos + &quot; &quot; + row + &quot; working ...&quot;);\r\n            }\r\n            final PrintWriter cname = new PrintWriter(new BufferedWriter((new OutputStreamWriter(\r\n                    new FileOutputStream(fileName, true), ExportTable2CSVMain.prop.getProperty(&quot;charsetName&quot;, &quot;CP1252&quot;)))));\r\n            if (line.equals(&quot;&quot;)) {\r\n                cname.print(line);\r\n            } else {\r\n                cname.println(line);\r\n            }\r\n            cname.close();\r\n        }\r\n    }\r\n--------- POM file  pom.xml ----------------\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;ExportTable2CSV&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ExportTable2CSV&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.0&lt;/version&gt;\r\n      &lt;name&gt;ExportTable2CSV&lt;/name&gt;\r\n      &lt;properties&gt;\r\n            &lt;ojdbc8.version&gt;18.3.0.0.0&lt;/ojdbc8.version&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n                &lt;version&gt;${ojdbc8.version}&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n-----------\r\nTo export to a column separated with tab.\r\n\r\nchange this prop in properties file :\r\n\r\n    fileExtension=_mel.txt\r\n    columSeparator=\\t\r\n\r\n","title":"Exporting SQL query result to csv or Excel","body":"<p>The solution is based on a properties file.</p>\n<p>Where this options are configured:</p>\n<ul>\n<li>The parameters of the database.</li>\n<li>Optional extra SQL Where clause.</li>\n<li>The parameters of the output files.</li>\n</ul>\n<p>The process can start bis 4 threads to download 4 tables at the same time.\nIf you want to run again, the generated files must be deleted.\nA text file (logs.txt) with the process data is also created.</p>\n<p>---- PROP FILE : ExportProperties.prop ---------\nThe solution will write a draft cinfiguration version in:</p>\n<p>C:\\tmp\\test\\ExportProperties.prop</p>\n<pre><code>## configuration properties\ndriver=oracle.jdbc.driver.OracleDriver\nurl=jdbc:oracle:thin:@ldap://localhost\nusername=user\npassword=pass\nfileExtension=_20200623.csv\ncolumSeparator=;\ncharsetName=CP1252\n## export only 10 rows change to false\nonly10Rows=true\n##tables\ntableName.1=USER\ntableName.1.sqlWhere= user.name IS NOT NULL\ntableName.2=ROLL\ntableName.3=FIRMA\n</code></pre>\n<p>--------- The main file --------</p>\n<pre><code>public class ExportTable2CSVMain implements Runnable {\n    static SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss SSS|&quot;);\n    static final String folder = &quot;C:\\\\tmp\\\\test\\\\&quot;;\n    static final Properties prop = getProperties();\n\n    public static void main(String[] args) {\n        for (int x = 1; x &lt; 6; x++) {\n            try {\n                writieLog(0, &quot;Start thread &quot; + x);\n                new ExportTable2CSVMain();\n                Thread.sleep(1000);\n            } catch (final Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public ExportTable2CSVMain() {\n        final Thread t = new Thread(this);\n        t.start(); // start the thread -&gt; run\n    }\n\n    @Override\n    public void run() {\n        int pos = 1;\n        String tableName = prop.getProperty(&quot;tableName.&quot; + pos);\n        while (tableName != null) {\n            try {\n                export(tableName, pos++);\n            } catch (final Exception e) {\n                e.printStackTrace();\n            }\n            tableName = prop.getProperty(&quot;tableName.&quot; + pos);\n        }\n    }\n\n    private void export(String tableName, int filePos) throws Exception {\n        final boolean only10Rows = prop.getProperty(&quot;only10Rows&quot;, &quot;false&quot;).equals(&quot;true&quot;);\n        String extraWhere = prop.getProperty(&quot;tableName.&quot;+filePos+&quot;.sqlWhere&quot;);\n        if(extraWhere ==null)\n            extraWhere = prop.getProperty(&quot;sqlWhere&quot;);\n        if(extraWhere ==null)\n            extraWhere = &quot;&quot;;\n        final String sql = &quot;select * from &quot; + tableName + extraWhere\n                + (only10Rows ? &quot; FETCH NEXT 10 ROWS ONLY&quot; : &quot;&quot;);\n        final String fileName = folder + tableName + prop.getProperty(&quot;fileExtension&quot;);\n        Connection conn = null;\n        Statement stmt = null;\n        ResultSet rs = null;\n        ExportTable2CSV data2csv = null;\n        try {\n            data2csv = new ExportTable2CSV(fileName, tableName, filePos);\n            if (data2csv.toDo()) {\n                conn = getConnection();\n                stmt = conn.createStatement();\n                rs = stmt.executeQuery(sql);\n                data2csv.createFileCsv(rs);\n            }\n        } catch (final Exception e) {\n            final int row = data2csv == null ? -1 : data2csv.row;\n            writieLog(filePos, &quot;SQL&quot;, &quot;Error&quot;, &quot;rows:&quot; + row, tableName, e.getMessage());\n            e.printStackTrace();\n        } finally {\n            try {\n                rs.close();\n            } catch (final Exception e) {\n            }\n            try {\n                stmt.close();\n            } catch (final Exception e) {\n            }\n            try {\n                conn.close();\n            } catch (final Exception e) {\n            }\n        }\n    }\n\n    public Connection getConnection() throws Exception {\n        Class.forName(prop.getProperty(&quot;driver&quot;));\n        return DriverManager.getConnection(//\n                prop.getProperty(&quot;url&quot;),\n                prop.getProperty(&quot;username&quot;),\n                prop.getProperty(&quot;password&quot;));\n    }\n\n    static private Properties getProperties() {\n        File file = new File(folder);\n        if (!file.exists()) { // if the folder do not exist create it \n            file.mkdirs();\n        }\n        file = new File(folder + &quot;ExportProperties.prop&quot;);\n        if (!file.exists()) {\n            try {\n                final PrintWriter out = new PrintWriter(\n                        new BufferedWriter(new FileWriter(folder + &quot;ExportProperties.prop&quot;, true)));\n\n                out.println(//\n                        &quot;## configuration properties\\n&quot; +\n                                &quot;driver=oracle.jdbc.driver.OracleDriver\\n&quot; +\n                                &quot;url=jdbc:oracle:thin:@ldap://localhost\\n&quot;+\n                                &quot;username=USER\\n&quot; +\n                                &quot;password=PASSWORD\\n&quot; +\n                                &quot;sqlWhere=\\n&quot; +\n                                &quot;fileExtension=_20200619.csv\\n&quot; +\n                                &quot;columSeparator=;\\n&quot; +\n                                &quot;charsetName=CP1252\\n&quot; +\n                                &quot;##tables\\n&quot; +\n                                &quot;tableName.1=USER\\n&quot; + //\n                                &quot;tableName.2=ROLL\\n&quot; \n                );\n                out.close();\n            } catch (final Exception e) {\n                e.printStackTrace();\n            }\n        }\n        final Properties prop = new Properties();\n        try {\n            prop.load(new FileInputStream(folder + &quot;ExportProperties.prop&quot;));\n        } catch (final IOException e) {\n            e.printStackTrace();\n        }\n        return prop;\n    }\n\n    public static void writieLog(int filePos, String... txt) throws Exception {\n        final PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(folder + &quot;logs.txt&quot;, true)));\n        String sb = &quot;&quot;;\n        sb += formatter.format(new Date()) + &quot;\\t&quot;;\n        sb += filePos == 0 ? &quot;&quot; : &quot;F-&quot; + filePos + &quot;\\t&quot;;\n        for (final String s : txt) {\n            sb += s + &quot;\\t&quot;;\n        }\n        System.out.println(sb);\n        out.println(sb);\n        out.close();\n    }\n}\n</code></pre>\n<p>---------------- the ExportTable2CSV file -------</p>\n<pre><code>/**\n * Created by Jose Manuel Davila (Mel) kailas.mel@gmail.com\n */\npublic class ExportTable2CSV {\n    final String fileName;\n    final String table;\n    final String columSeparator;\n    final Boolean columnName = true;\n    final int filePos;\n    int row = 0;\n    int column = 0;\n\n    public ExportTable2CSV(String fileName, String table, int filePos) {\n        this.filePos = filePos;\n        this.fileName = fileName;\n        this.table = table;\n        columSeparator = ExportTable2CSVMain.prop.getProperty(&quot;columSeparator&quot;, &quot;;&quot;);\n    }\n\n    public boolean toDo() throws Exception {\n        if (new File(fileName).exists()) {// the file exist jet return\n            return false;\n        }\n        writeLine(&quot;&quot;);\n        return true;\n    }\n\n    public void createFileCsv(ResultSet rs) throws Exception {\n        String sb = &quot;&quot;;\n        try {\n            ExportTable2CSVMain.writieLog(filePos, &quot;FILE&quot;, &quot;INI &quot;, table, fileName);\n            // WRITE COLUMN NAME\n            final ResultSetMetaData rsmd = rs.getMetaData();\n            sb = &quot;&quot;;\n            final List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n            if (columnName) {\n                for (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\n                    sb += rsmd.getColumnName(i) + columSeparator;\n                    list.add(rsmd.getColumnName(i));\n                }\n                writeLine(sb.toString());\n            }\n            // WRITE DATA\n            while (rs.next()) {\n                sb = &quot;&quot;;\n                column = 0;\n                for (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\n                    final Object obj = rs.getObject(i);\n                    String data = &quot;&quot;;\n                    if (obj != null) {\n                        if (obj instanceof String) {\n                            data = obj.toString();\n                            if (data.indexOf(columSeparator) != -1) {\n                                if (data.indexOf(&quot;\\&quot;&quot;) != -1) {\n                                    data = data.replaceAll(&quot;\\&quot;&quot;, &quot;'&quot;);\n                                    ExportTable2CSVMain.writieLog(filePos, &quot;FILE&quot;, &quot;WITH comm and ; &quot;, &quot;row:&quot; + row,\n                                            &quot;Column:&quot; + list.get(column), table, fileName);\n                                }\n                                data = &quot;\\&quot;&quot; + data + &quot;\\&quot;&quot;;\n                            }\n                        } else {\n                            data = obj.toString();\n                        }\n                    }\n                    sb += data + columSeparator;\n                    column++;\n                }\n                writeLine(sb.toString());\n                row++;\n            }\n            ExportTable2CSVMain.writieLog(filePos, &quot;FILE&quot;, &quot;END &quot;, &quot;rows:&quot; + row, table, fileName);\n        } catch (final Exception e) {\n            ExportTable2CSVMain.writieLog(filePos, &quot;FILE&quot;, &quot;Error &quot;, &quot;rows:&quot; + row, table, fileName, e.getMessage());\n            e.printStackTrace();\n        } finally {\n            if (rs != null) {\n                rs.close();\n            }\n        }\n    }\n\n    void writeLine(String line) throws Exception {\n        if (row &gt; 0 &amp;&amp; row % 1000 == 0) {\n            System.out.println(filePos + &quot; &quot; + row + &quot; working ...&quot;);\n        }\n        final PrintWriter cname = new PrintWriter(new BufferedWriter((new OutputStreamWriter(\n                new FileOutputStream(fileName, true), ExportTable2CSVMain.prop.getProperty(&quot;charsetName&quot;, &quot;CP1252&quot;)))));\n        if (line.equals(&quot;&quot;)) {\n            cname.print(line);\n        } else {\n            cname.println(line);\n        }\n        cname.close();\n    }\n}\n</code></pre>\n<p>--------- POM file  pom.xml ----------------</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;ExportTable2CSV&lt;/groupId&gt;\n  &lt;artifactId&gt;ExportTable2CSV&lt;/artifactId&gt;\n  &lt;version&gt;1.1.0&lt;/version&gt;\n  &lt;name&gt;ExportTable2CSV&lt;/name&gt;\n  &lt;properties&gt;\n        &lt;ojdbc8.version&gt;18.3.0.0.0&lt;/ojdbc8.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;${ojdbc8.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<hr />\n<p>To export to a column separated with tab.</p>\n<p>change this prop in properties file :</p>\n<pre><code>fileExtension=_mel.txt\ncolumSeparator=\\t\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7795457,"reputation":145,"user_id":5896734,"display_name":"Ashish Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626622644,"creation_date":1626620598,"answer_id":68430344,"question_id":8563376,"body_markdown":"This works perfectly fine:\r\n \r\n    PreparedStatement statement = famuat.prepareStatement(sql query);\r\n    ResultSet result = statement.executeQuery();\r\n    ResultSetMetaData md = result.getMetaData();\r\n\r\n    FileWriter fw = new FileWriter(filepath);\r\n    int columnCount = md.getColumnCount();\r\n\r\n    for (int i = 1; i &lt;= columnCount; i++) {\r\n        columnheader = md.getColumnName(i);\r\n       // System.out.println(columnheader);\r\n        if (i &gt; 1) System.out.print(&quot; | &quot;);\r\n        if (i &gt; 1) System.out.print(&quot;,  &quot;);\r\n        if (i &gt; 1) System.out.print(&quot;\\t&quot;);\r\n\r\n        fw.append(columnheader.toUpperCase());\r\n        fw.append(&quot;,&quot;);\r\n\r\n        System.out.println(columnheader);\r\n    }\r\n\r\n    while (result.next()) {\r\n        fw.append(&quot;\\r\\n&quot;);\r\n        for (int i = 1; i &lt;= columnCount; i++) {\r\n            if (i &gt; 1) System.out.print(&quot; | &quot;);\r\n            if (i &gt; 1) System.out.print(&quot;,  &quot;);\r\n            if (i &gt; 1) System.out.print(&quot;\\t&quot;);\r\n\r\n            fw.append(result.getString(i));\r\n            fw.append(&quot;,&quot;);\r\n            row = result.getString(i);\r\n            System.out.println(row);\r\n        }\r\n    }","title":"Exporting SQL query result to csv or Excel","body":"<p>This works perfectly fine:</p>\n<pre><code>PreparedStatement statement = famuat.prepareStatement(sql query);\nResultSet result = statement.executeQuery();\nResultSetMetaData md = result.getMetaData();\n\nFileWriter fw = new FileWriter(filepath);\nint columnCount = md.getColumnCount();\n\nfor (int i = 1; i &lt;= columnCount; i++) {\n    columnheader = md.getColumnName(i);\n   // System.out.println(columnheader);\n    if (i &gt; 1) System.out.print(&quot; | &quot;);\n    if (i &gt; 1) System.out.print(&quot;,  &quot;);\n    if (i &gt; 1) System.out.print(&quot;\\t&quot;);\n\n    fw.append(columnheader.toUpperCase());\n    fw.append(&quot;,&quot;);\n\n    System.out.println(columnheader);\n}\n\nwhile (result.next()) {\n    fw.append(&quot;\\r\\n&quot;);\n    for (int i = 1; i &lt;= columnCount; i++) {\n        if (i &gt; 1) System.out.print(&quot; | &quot;);\n        if (i &gt; 1) System.out.print(&quot;,  &quot;);\n        if (i &gt; 1) System.out.print(&quot;\\t&quot;);\n\n        fw.append(result.getString(i));\n        fw.append(&quot;,&quot;);\n        row = result.getString(i);\n        System.out.println(row);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24175759,"reputation":1,"user_id":18137159,"display_name":"user18137159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644191688,"creation_date":1644191688,"answer_id":71012133,"question_id":8563376,"body_markdown":"this work for exort to csv and txt\r\n\r\n    public void ExportTxt(){\r\n            FileWriter texto = null;\r\n            ResultSet rs2 = null;\r\n            ResultSet rs = null;\r\n            try {\r\n                texto = new FileWriter(&quot;texto.txt&quot;);\r\n                PrintWriter pw = new PrintWriter(texto);\r\n                Statement consulta = conn.createStatement();\r\n                Statement consulta2 = conn.createStatement();\r\n                String query = &quot;SELECT * FROM coches&quot;;\r\n                rs = consulta.executeQuery(query);\r\n                int i=1;\r\n                pw.println(&quot;----------------&quot;);\r\n                while (rs.next()) {\r\n                    pw.println(i + &quot;,Coche: Matricula:&quot; + rs.getString(&quot;matricula&quot;) + &quot;, Marca:&quot; + rs.getString(&quot;marca&quot;) + &quot;, Modelo:&quot; + rs.getString(&quot;modelo&quot;));\r\n                    String query2 = &quot;SELECT * FROM reparaciones WHERE coche = &#39;&quot; + rs.getString(&quot;matricula&quot;) + &quot;&#39;&quot;;\r\n                    rs2 = consulta2.executeQuery(query2);\r\n                    pw.println(&quot;----------------&quot;);\r\n                    while(rs2.next()){\r\n                        pw.println(rs2.getRow() + &quot;,Reparacion: Fecha entrada:&quot; + rs2.getString(&quot;fecha_entrada&quot;) + &quot;, Fecha salida:&quot; + rs2.getString(&quot;fecha_salida&quot;));                \r\n                    }\r\n                    i++;\r\n                }\r\n                rs.close();\r\n                rs2.close();\r\n                consulta.close();\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Conexion.class.getName()).log(Level.SEVERE, null, ex);\r\n            } catch (SQLException ex) {\r\n                Logger.getLogger(Conexion.class.getName()).log(Level.SEVERE, null, ex);\r\n            } finally {\r\n                try {\r\n                    texto.close();\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(Conexion.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        }\r\n        public void ExportCSV(){\r\n            PrintWriter pw = null;\r\n            try {\r\n                File archivo = new File(&quot;excel.csv&quot;);\r\n                pw = new PrintWriter((new FileWriter(archivo)));\r\n                Statement consulta = conn.createStatement();\r\n                String query = &quot;SELECT * FROM clientes&quot;;\r\n                ResultSet rs = consulta.executeQuery(query);\r\n                pw.println(&quot;id;nombre;apellidos;direccion;nif;telefono&quot;);\r\n                while(rs.next()){\r\n                    pw.println(rs.getInt(&quot;id&quot;) + &quot;;&quot; + rs.getString(&quot;nombre&quot;) + &quot;;&quot; + rs.getString(&quot;Apellidos&quot;) + &quot;;&quot; + rs.getString(&quot;direccion&quot;) + &quot;;&quot; + rs.getString(&quot;nif&quot;) + &quot;;&quot; + rs.getString(&quot;telefono&quot;));\r\n                }\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Conexion.class.getName()).log(Level.SEVERE, null, ex);\r\n            } catch (SQLException ex) {\r\n                Logger.getLogger(Conexion.class.getName()).log(Level.SEVERE, null, ex);\r\n            } finally {\r\n                pw.close();\r\n            }\r\n        }","title":"Exporting SQL query result to csv or Excel","body":"<p>this work for exort to csv and txt</p>\n<pre><code>public void ExportTxt(){\n        FileWriter texto = null;\n        ResultSet rs2 = null;\n        ResultSet rs = null;\n        try {\n            texto = new FileWriter(&quot;texto.txt&quot;);\n            PrintWriter pw = new PrintWriter(texto);\n            Statement consulta = conn.createStatement();\n            Statement consulta2 = conn.createStatement();\n            String query = &quot;SELECT * FROM coches&quot;;\n            rs = consulta.executeQuery(query);\n            int i=1;\n            pw.println(&quot;----------------&quot;);\n            while (rs.next()) {\n                pw.println(i + &quot;,Coche: Matricula:&quot; + rs.getString(&quot;matricula&quot;) + &quot;, Marca:&quot; + rs.getString(&quot;marca&quot;) + &quot;, Modelo:&quot; + rs.getString(&quot;modelo&quot;));\n                String query2 = &quot;SELECT * FROM reparaciones WHERE coche = '&quot; + rs.getString(&quot;matricula&quot;) + &quot;'&quot;;\n                rs2 = consulta2.executeQuery(query2);\n                pw.println(&quot;----------------&quot;);\n                while(rs2.next()){\n                    pw.println(rs2.getRow() + &quot;,Reparacion: Fecha entrada:&quot; + rs2.getString(&quot;fecha_entrada&quot;) + &quot;, Fecha salida:&quot; + rs2.getString(&quot;fecha_salida&quot;));                \n                }\n                i++;\n            }\n            rs.close();\n            rs2.close();\n            consulta.close();\n        } catch (IOException ex) {\n            Logger.getLogger(Conexion.class.getName()).log(Level.SEVERE, null, ex);\n        } catch (SQLException ex) {\n            Logger.getLogger(Conexion.class.getName()).log(Level.SEVERE, null, ex);\n        } finally {\n            try {\n                texto.close();\n            } catch (IOException ex) {\n                Logger.getLogger(Conexion.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n    }\n    public void ExportCSV(){\n        PrintWriter pw = null;\n        try {\n            File archivo = new File(&quot;excel.csv&quot;);\n            pw = new PrintWriter((new FileWriter(archivo)));\n            Statement consulta = conn.createStatement();\n            String query = &quot;SELECT * FROM clientes&quot;;\n            ResultSet rs = consulta.executeQuery(query);\n            pw.println(&quot;id;nombre;apellidos;direccion;nif;telefono&quot;);\n            while(rs.next()){\n                pw.println(rs.getInt(&quot;id&quot;) + &quot;;&quot; + rs.getString(&quot;nombre&quot;) + &quot;;&quot; + rs.getString(&quot;Apellidos&quot;) + &quot;;&quot; + rs.getString(&quot;direccion&quot;) + &quot;;&quot; + rs.getString(&quot;nif&quot;) + &quot;;&quot; + rs.getString(&quot;telefono&quot;));\n            }\n        } catch (IOException ex) {\n            Logger.getLogger(Conexion.class.getName()).log(Level.SEVERE, null, ex);\n        } catch (SQLException ex) {\n            Logger.getLogger(Conexion.class.getName()).log(Level.SEVERE, null, ex);\n        } finally {\n            pw.close();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4751922,"reputation":723,"user_id":3841784,"display_name":"Dragoon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645735985,"creation_date":1645664932,"answer_id":71245905,"question_id":8563376,"body_markdown":"Tried some of the other answers and they didn&#39;t really work and/or ask to add libraries, which I like to avoid, especially for a format as dead simple as CSV.\r\n\r\nSo here&#39;s my own take. No special library requirements (other than your SQL driver) so (mostly) vanilla Java 8 or later should work. Also works with beanshell (hence try/finally rather than try-with-resources.) All fields *should* be escaped correctly, assuming the junit test I created (posted) is correct, so any RFC 4180 compliant CSV reader *should* be able to parse it without errors and/or getting it wrong, and for the purpose of this code, that includes Microsoft Excel.\r\n\r\n```java\r\nimport java.sql.Driver;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.ResultSetMetaData;\r\nimport java.sql.SQLException;\r\nimport java.sql.Connection;\r\nimport java.sql.Statement;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.io.FileWriter;\r\n// Replace this with your own SQLServerDriver class\r\nimport com.microsoft.sqlserver.jdbc.SQLServerDriver;\r\n\r\npublic class Sandbox {\r\n\r\n  /**\r\n   * Replaces null with an empty string, surrounds values that have commas or\r\n   * newlines with quotes, and if a value begins with a quote it escapes any\r\n   * quotes with another quote\r\n   *\r\n   * @param value\r\n   * @return\r\n   */\r\n  public String csvEscape(String value) {\r\n    if (value == null) {\r\n      value = &quot;&quot;;\r\n    } else if (value.contains(&quot;,&quot;) || value.contains(&quot;\\n&quot;) || value.startsWith(&quot;\\&quot;&quot;)) {\r\n        value = &quot;\\&quot;&quot; + value.replace(&quot;\\&quot;&quot;, &quot;\\&quot;\\&quot;&quot;) + &quot;\\&quot;&quot;;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  /**\r\n   * Run an SQL query and dump the output into a CSV file as we receive it\r\n   *\r\n   * @param url       URL to your server in a format that the driver expects, i.e.\r\n   *                  &quot;jdbc:sqlserver://server.com:1433;IntegratedSecurity=true;databaseName=foo&quot;\r\n   * @param statement SQL statement, i.e. &quot;SELECT foo FROM bar&quot;. Do NOT pass user\r\n   *                  generated strings!\r\n   * @param csvPath   File path to the csv file, i.e. /foo/bar.csv\r\n   * @throws SQLException\r\n   * @throws IOException\r\n   */\r\n  public void sqlToCsv(String url, String statement, String csvPath) throws SQLException, IOException {\r\n    Connection connection = DriverManager.getConnection(url);\r\n    Driver driverSelect = new SQLServerDriver();\r\n    DriverManager.registerDriver(driverSelect);\r\n\r\n    Statement stmt = connection.createStatement();\r\n    ResultSet rs = stmt.executeQuery(statement);\r\n    ResultSetMetaData md = rs.getMetaData();\r\n    int colCount = md.getColumnCount();\r\n    List&lt;String&gt; cols = new ArrayList&lt;String&gt;();\r\n\r\n    for (int i = 1; i &lt;= colCount; i++) {\r\n      String value = csvEscape(md.getColumnName(i));\r\n      cols.add(value);\r\n    }\r\n\r\n    List&lt;String&gt; row = new ArrayList&lt;String&gt;();\r\n\r\n    FileWriter fileWriter = null;\r\n    try {\r\n      fileWriter = new FileWriter(csvPath, false);\r\n      fileWriter.write(String.join(&quot;,&quot;, cols) + &quot;\\n&quot;);\r\n      while (rs.next()) {\r\n        row.clear();\r\n        for (int i = 1; i &lt;= colCount; i++) {\r\n          String value = csvEscape(rs.getString(i));\r\n          row.add(value);\r\n        }\r\n        fileWriter.write(String.join(&quot;,&quot;, row) + &quot;\\n&quot;);\r\n      }\r\n    } finally {\r\n      fileWriter.close();\r\n    }\r\n\r\n  }\r\n\r\n  @Test\r\n  public void testCsvEscape() {\r\n    assertEquals(&quot;say \\&quot;cheese!\\&quot;&quot;, csvEscape(&quot;say \\&quot;cheese!\\&quot;&quot;));\r\n    assertEquals(&quot;\\&quot;\\&quot;\\&quot;say cheese\\&quot;\\&quot;!\\&quot;&quot;, csvEscape(&quot;\\&quot;say cheese\\&quot;!&quot;));\r\n    assertEquals(&quot;\\&quot;cheese\\nplease\\&quot;&quot;, csvEscape(&quot;cheese\\nplease&quot;));\r\n    assertEquals(&quot;\\&quot;cheese, please\\&quot;&quot;, csvEscape(&quot;cheese, please&quot;));\r\n    assertEquals(&quot;\\&quot;say \\&quot;\\&quot;cheese,\\n please!\\&quot;\\&quot;\\&quot;&quot;, csvEscape(&quot;say \\&quot;cheese,\\n please!\\&quot;&quot;));\r\n    assertEquals(&quot;\\&quot;\\&quot;\\&quot;say \\&quot;\\&quot;cheese,\\n please!\\&quot;\\&quot;\\&quot;\\&quot;\\&quot;&quot;, csvEscape(&quot;\\&quot;say \\&quot;cheese,\\n please!\\&quot;\\&quot;&quot;));\r\n  }\r\n}\r\n````","title":"Exporting SQL query result to csv or Excel","body":"<p>Tried some of the other answers and they didn't really work and/or ask to add libraries, which I like to avoid, especially for a format as dead simple as CSV.</p>\n<p>So here's my own take. No special library requirements (other than your SQL driver) so (mostly) vanilla Java 8 or later should work. Also works with beanshell (hence try/finally rather than try-with-resources.) All fields <em>should</em> be escaped correctly, assuming the junit test I created (posted) is correct, so any RFC 4180 compliant CSV reader <em>should</em> be able to parse it without errors and/or getting it wrong, and for the purpose of this code, that includes Microsoft Excel.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Driver;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.SQLException;\nimport java.sql.Connection;\nimport java.sql.Statement;\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.io.FileWriter;\n// Replace this with your own SQLServerDriver class\nimport com.microsoft.sqlserver.jdbc.SQLServerDriver;\n\npublic class Sandbox {\n\n  /**\n   * Replaces null with an empty string, surrounds values that have commas or\n   * newlines with quotes, and if a value begins with a quote it escapes any\n   * quotes with another quote\n   *\n   * @param value\n   * @return\n   */\n  public String csvEscape(String value) {\n    if (value == null) {\n      value = &quot;&quot;;\n    } else if (value.contains(&quot;,&quot;) || value.contains(&quot;\\n&quot;) || value.startsWith(&quot;\\&quot;&quot;)) {\n        value = &quot;\\&quot;&quot; + value.replace(&quot;\\&quot;&quot;, &quot;\\&quot;\\&quot;&quot;) + &quot;\\&quot;&quot;;\n    }\n    return value;\n  }\n\n  /**\n   * Run an SQL query and dump the output into a CSV file as we receive it\n   *\n   * @param url       URL to your server in a format that the driver expects, i.e.\n   *                  &quot;jdbc:sqlserver://server.com:1433;IntegratedSecurity=true;databaseName=foo&quot;\n   * @param statement SQL statement, i.e. &quot;SELECT foo FROM bar&quot;. Do NOT pass user\n   *                  generated strings!\n   * @param csvPath   File path to the csv file, i.e. /foo/bar.csv\n   * @throws SQLException\n   * @throws IOException\n   */\n  public void sqlToCsv(String url, String statement, String csvPath) throws SQLException, IOException {\n    Connection connection = DriverManager.getConnection(url);\n    Driver driverSelect = new SQLServerDriver();\n    DriverManager.registerDriver(driverSelect);\n\n    Statement stmt = connection.createStatement();\n    ResultSet rs = stmt.executeQuery(statement);\n    ResultSetMetaData md = rs.getMetaData();\n    int colCount = md.getColumnCount();\n    List&lt;String&gt; cols = new ArrayList&lt;String&gt;();\n\n    for (int i = 1; i &lt;= colCount; i++) {\n      String value = csvEscape(md.getColumnName(i));\n      cols.add(value);\n    }\n\n    List&lt;String&gt; row = new ArrayList&lt;String&gt;();\n\n    FileWriter fileWriter = null;\n    try {\n      fileWriter = new FileWriter(csvPath, false);\n      fileWriter.write(String.join(&quot;,&quot;, cols) + &quot;\\n&quot;);\n      while (rs.next()) {\n        row.clear();\n        for (int i = 1; i &lt;= colCount; i++) {\n          String value = csvEscape(rs.getString(i));\n          row.add(value);\n        }\n        fileWriter.write(String.join(&quot;,&quot;, row) + &quot;\\n&quot;);\n      }\n    } finally {\n      fileWriter.close();\n    }\n\n  }\n\n  @Test\n  public void testCsvEscape() {\n    assertEquals(&quot;say \\&quot;cheese!\\&quot;&quot;, csvEscape(&quot;say \\&quot;cheese!\\&quot;&quot;));\n    assertEquals(&quot;\\&quot;\\&quot;\\&quot;say cheese\\&quot;\\&quot;!\\&quot;&quot;, csvEscape(&quot;\\&quot;say cheese\\&quot;!&quot;));\n    assertEquals(&quot;\\&quot;cheese\\nplease\\&quot;&quot;, csvEscape(&quot;cheese\\nplease&quot;));\n    assertEquals(&quot;\\&quot;cheese, please\\&quot;&quot;, csvEscape(&quot;cheese, please&quot;));\n    assertEquals(&quot;\\&quot;say \\&quot;\\&quot;cheese,\\n please!\\&quot;\\&quot;\\&quot;&quot;, csvEscape(&quot;say \\&quot;cheese,\\n please!\\&quot;&quot;));\n    assertEquals(&quot;\\&quot;\\&quot;\\&quot;say \\&quot;\\&quot;cheese,\\n please!\\&quot;\\&quot;\\&quot;\\&quot;\\&quot;&quot;, csvEscape(&quot;\\&quot;say \\&quot;cheese,\\n please!\\&quot;\\&quot;&quot;));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1085825,"reputation":1187,"user_id":1081574,"accept_rate":31,"display_name":"sathish kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112430,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":13,"score":19,"last_activity_date":1645735985,"creation_date":1324307811,"question_id":8563376,"body_markdown":"I want to write the result of a SQL query to a csv or Excel file and save it in a particular folder. I have following requests:\r\n\r\n1. I would like to know, if this can be achieved using a Java program which can be reused for any SQL query result. \r\n2. I would also like to know, if this can be used for different databases (Oracle, MySQL, SQL Server, etc.). \r\n3. I plan to attach the saved file to an email. Is it possible to export SQL query results to an email directly?. \r\n","title":"Exporting SQL query result to csv or Excel","body":"<p>I want to write the result of a SQL query to a csv or Excel file and save it in a particular folder. I have following requests:</p>\n<ol>\n<li>I would like to know, if this can be achieved using a Java program which can be reused for any SQL query result.</li>\n<li>I would also like to know, if this can be used for different databases (Oracle, MySQL, SQL Server, etc.).</li>\n<li>I plan to attach the saved file to an email. Is it possible to export SQL query results to an email directly?.</li>\n</ol>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1645736429,"post_id":71240589,"comment_id":125957325,"body_markdown":"Verify that the menu option **View &gt; Toolbars &gt; Small Toolbar Icons** is not selected. But even if it is, deselecting it may not even fix your toolbar issue satisfactorily because the change in icon size is not significant.","body":"Verify that the menu option <b>View &gt; Toolbars &gt; Small Toolbar Icons</b> is not selected. But even if it is, deselecting it may not even fix your toolbar issue satisfactorily because the change in icon size is not significant."}],"answers":[{"tags":[],"owner":{"account_id":20866459,"reputation":13,"user_id":15327368,"display_name":"Rex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645633897,"creation_date":1645633897,"answer_id":71240720,"question_id":71240589,"body_markdown":"Try performing a \r\n\r\n&gt; ctrl+Up button \r\n\r\nor a \r\n\r\n&gt; ctrl+Shift+(+ symbol)\r\n\r\nfor zooming in and \r\n\r\n&gt; ctrl+Down button\r\n\r\nor a \r\n\r\n&gt; ctrl+Shift+(-symbol)\r\n\r\nfor zooming out\r\n\r\nIf none of these work, right-click and choose for font enlargement  or minimization. (This one might only work for font) ","title":"How to enlarge the Netbeans IDE icon, menu and toolbar fonts?","body":"<p>Try performing a</p>\n<blockquote>\n<p>ctrl+Up button</p>\n</blockquote>\n<p>or a</p>\n<blockquote>\n<p>ctrl+Shift+(+ symbol)</p>\n</blockquote>\n<p>for zooming in and</p>\n<blockquote>\n<p>ctrl+Down button</p>\n</blockquote>\n<p>or a</p>\n<blockquote>\n<p>ctrl+Shift+(-symbol)</p>\n</blockquote>\n<p>for zooming out</p>\n<p>If none of these work, right-click and choose for font enlargement  or minimization. (This one might only work for font)</p>\n"}],"owner":{"account_id":24355557,"reputation":1,"user_id":18290804,"display_name":"radmanon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645735861,"creation_date":1645633330,"question_id":71240589,"body_markdown":"As you can see in the image below, the icons, menus and toolbar of NetBeans are too small in my system.\r\n\r\nHow can I make the Netbeans IDE icon, menu and toolbar fonts larger?\r\n\r\nThis is the image of my NetBeans environment:\r\n\r\n[![IDE screen shot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lSxiR.png","title":"How to enlarge the Netbeans IDE icon, menu and toolbar fonts?","body":"<p>As you can see in the image below, the icons, menus and toolbar of NetBeans are too small in my system.</p>\n<p>How can I make the Netbeans IDE icon, menu and toolbar fonts larger?</p>\n<p>This is the image of my NetBeans environment:</p>\n<p><a href=\"https://i.stack.imgur.com/lSxiR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lSxiR.png\" alt=\"IDE screen shot\" /></a></p>\n"},{"tags":["java","random","numbers","user-input"],"answers":[{"tags":[],"owner":{"account_id":7357208,"reputation":56,"user_id":5601565,"display_name":"ruggierin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645735718,"creation_date":1645735718,"answer_id":71258080,"question_id":71256845,"body_markdown":"You can use the Random java util:\r\n\r\n        public static void main(String[] args) {\r\n        \r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(1);\r\n        list.add(24);\r\n        list.add(77);\r\n        list.add(90);\r\n        list.add(80);\r\n        list.add(1790);\r\n        Random random = new Random();\r\n        int randomInt = list.get(random.nextInt(list.size()));\r\n\r\n        System.out.println(&quot;Random int from list = &quot; + randomInt);\r\n    }","title":"User inputs specific set of number and random number from the set is outputted","body":"<p>You can use the Random java util:</p>\n<pre><code>    public static void main(String[] args) {\n    \n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    list.add(1);\n    list.add(24);\n    list.add(77);\n    list.add(90);\n    list.add(80);\n    list.add(1790);\n    Random random = new Random();\n    int randomInt = list.get(random.nextInt(list.size()));\n\n    System.out.println(&quot;Random int from list = &quot; + randomInt);\n}\n</code></pre>\n"}],"owner":{"account_id":24124056,"reputation":1,"user_id":18092693,"display_name":"chaei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645735718,"creation_date":1645728565,"question_id":71256845,"body_markdown":"I have a java code that randomizes a number from a specific set, i want to be able to have the user inputs the specific set such as: {1,6,400,500} and the output is randomized from these numbers, how would i do that?, here is the code i have: \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.ThreadLocalRandom;\r\n     \r\n    public class Randomizer {\r\n     \r\n        \r\n        public static void main(String[] args)\r\n        {\r\n     \r\n            \r\n            List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n     \r\n            \r\n            list.add(1);\r\n            list.add(24);\r\n            list.add(77);\r\n            list.add(90);\r\n            list.add(80);\r\n            list.add(1790);\r\n     \r\n            Randomizer obj = new Randomizer();\r\n     \r\n          \r\n            int boundIndex = 3;\r\n     \r\n            \r\n            System.out.println(\r\n                obj.getRandomElement(list, boundIndex));\r\n        }\r\n     \r\n      \r\n        public int getRandomElement(List&lt;Integer&gt; list,\r\n                                    int bound)\r\n        {\r\n           \r\n            return list.get(\r\n                ThreadLocalRandom.current().nextInt(list.size())\r\n                % bound);\r\n        }\r\n    }","title":"User inputs specific set of number and random number from the set is outputted","body":"<p>I have a java code that randomizes a number from a specific set, i want to be able to have the user inputs the specific set such as: {1,6,400,500} and the output is randomized from these numbers, how would i do that?, here is the code i have:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ThreadLocalRandom;\n \npublic class Randomizer {\n \n    \n    public static void main(String[] args)\n    {\n \n        \n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n \n        \n        list.add(1);\n        list.add(24);\n        list.add(77);\n        list.add(90);\n        list.add(80);\n        list.add(1790);\n \n        Randomizer obj = new Randomizer();\n \n      \n        int boundIndex = 3;\n \n        \n        System.out.println(\n            obj.getRandomElement(list, boundIndex));\n    }\n \n  \n    public int getRandomElement(List&lt;Integer&gt; list,\n                                int bound)\n    {\n       \n        return list.get(\n            ThreadLocalRandom.current().nextInt(list.size())\n            % bound);\n    }\n}\n</code></pre>\n"},{"tags":["java","string","replaceall"],"comments":[{"owner":{"account_id":22398818,"reputation":3,"user_id":16609647,"display_name":"1ndianSp1ces"},"score":0,"creation_date":1645733631,"post_id":71257718,"comment_id":125956446,"body_markdown":"I may have been a little unclear, I want to replace whitespaces with a &quot; &quot;. I also actually screwed up one of my pictures. Even if I added the little space between the quotes, there still isn&#39;t a space.","body":"I may have been a little unclear, I want to replace whitespaces with a &quot; &quot;. I also actually screwed up one of my pictures. Even if I added the little space between the quotes, there still isn&#39;t a space."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1645733714,"post_id":71257718,"comment_id":125956480,"body_markdown":"Welcome to Stack Overflow.\nThis site is not a discussion forum or programming tutorial site.\nPlease take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively. Please do not post images of code, copy/paste the code and messages into your question.\nAlso read \n[Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236/18157)","body":"Welcome to Stack Overflow. This site is not a discussion forum or programming tutorial site. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively. Please do not post images of code, copy/paste the code and messages into your question. Also read  <a href=\"http://meta.stackoverflow.com/q/284236/18157\">Why is “Can someone help me?” not an actual question?</a>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1645734840,"post_id":71257718,"comment_id":125956856,"body_markdown":"Please edit your question to also include the *expected* output.","body":"Please edit your question to also include the <i>expected</i> output."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645735372,"creation_date":1645734119,"answer_id":71257811,"question_id":71257718,"body_markdown":"The problem is there *are* no whitespaces in your String after this:\r\n\r\n    str = str.replaceAll(&quot;[^a-zA-Z]&quot;, &quot;&quot;);\r\n\r\nwhich replaces all characters that are not letters, which includes whitespaces, with a blank (effectively deleting it).\r\n\r\nAdd whitespace to that character class so they don&#39;t get nuked:\r\n\r\n    str = str.replaceAll(&quot;[^a-zA-Z\\\\s]&quot;, &quot;&quot;);\r\n\r\nAnd this line may be deleted:\r\n\r\n    str = str.replaceAll(&quot;\\\\p{Punct}&quot;, &quot;&quot;);\r\n\r\nbecause it&#39;s redundant.\r\n\r\nFinal code:\r\n\r\n    String str = &quot; I like pie!@!@!      It&#39;s one of my favorite things !1!!!1111&quot;;\r\n    str = str.toLowerCase();\r\n    str = str.replaceAll(&quot;[^a-zA-Z\\\\s]&quot;, &quot;&quot;);\r\n    str = str.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\r\n    System.out.print(str);\r\n\r\nOutput:\r\n\r\n     i like pie its one of my favorite things \r\n\r\nYou may want to add `str = str.trim();` to remove the leading space.\r\n \r\n\r\n","title":"Why is the replace all method not working?","body":"<p>The problem is there <em>are</em> no whitespaces in your String after this:</p>\n<pre><code>str = str.replaceAll(&quot;[^a-zA-Z]&quot;, &quot;&quot;);\n</code></pre>\n<p>which replaces all characters that are not letters, which includes whitespaces, with a blank (effectively deleting it).</p>\n<p>Add whitespace to that character class so they don't get nuked:</p>\n<pre><code>str = str.replaceAll(&quot;[^a-zA-Z\\\\s]&quot;, &quot;&quot;);\n</code></pre>\n<p>And this line may be deleted:</p>\n<pre><code>str = str.replaceAll(&quot;\\\\p{Punct}&quot;, &quot;&quot;);\n</code></pre>\n<p>because it's redundant.</p>\n<p>Final code:</p>\n<pre><code>String str = &quot; I like pie!@!@!      It's one of my favorite things !1!!!1111&quot;;\nstr = str.toLowerCase();\nstr = str.replaceAll(&quot;[^a-zA-Z\\\\s]&quot;, &quot;&quot;);\nstr = str.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\nSystem.out.print(str);\n</code></pre>\n<p>Output:</p>\n<pre><code> i like pie its one of my favorite things \n</code></pre>\n<p>You may want to add <code>str = str.trim();</code> to remove the leading space.</p>\n"}],"owner":{"account_id":22398818,"reputation":3,"user_id":16609647,"display_name":"1ndianSp1ces"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71257811,"answer_count":1,"score":-2,"last_activity_date":1645735372,"creation_date":1645733571,"question_id":71257718,"body_markdown":"I am testing out the `replaceAll()` method of the `String` class and I am having problems with it.\r\n\r\nI do not understand why my code does not replace whitespaces with an empty string.\r\n\r\nHere&#39;s my code:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString str = &quot; I like pie!@!@!      It&#39;s one of my favorite things !1!!!1111&quot;;\r\n\t\tstr = str.toLowerCase();\r\n\t\tstr = str.replaceAll(&quot;\\\\p{Punct}&quot;, &quot;&quot;);\r\n\t\tstr = str.replaceAll(&quot;[^a-zA-Z]&quot;, &quot;&quot;);\r\n\t\tstr = str.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\r\n\t\tSystem.out.print(str);\r\n\r\n\t}\r\n\r\nOutput:\r\n\r\n    ilikepieitsoneofmyfavoritethings\r\n","title":"Why is the replace all method not working?","body":"<p>I am testing out the <code>replaceAll()</code> method of the <code>String</code> class and I am having problems with it.</p>\n<p>I do not understand why my code does not replace whitespaces with an empty string.</p>\n<p>Here's my code:</p>\n<pre><code>public static void main(String[] args) {\n    String str = &quot; I like pie!@!@!      It's one of my favorite things !1!!!1111&quot;;\n    str = str.toLowerCase();\n    str = str.replaceAll(&quot;\\\\p{Punct}&quot;, &quot;&quot;);\n    str = str.replaceAll(&quot;[^a-zA-Z]&quot;, &quot;&quot;);\n    str = str.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\n    System.out.print(str);\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>ilikepieitsoneofmyfavoritethings\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1645718348,"post_id":71254659,"comment_id":125951100,"body_markdown":"There doesn&#39;t seem to be anything wrong, as this is correct according to the jpa 2.1 spec - Spring boot might be messing up your column names, turning your &quot;firstName&quot; into &quot;first_name&quot; causing some confusion with Hibernate internals. See https://www.baeldung.com/hibernate-field-naming-spring-boot - you might try forcing it to use PhysicalNamingStrategyStandardImpl. Or try a different JPA provider within Spring.","body":"There doesn&#39;t seem to be anything wrong, as this is correct according to the jpa 2.1 spec - Spring boot might be messing up your column names, turning your &quot;firstName&quot; into &quot;first_name&quot; causing some confusion with Hibernate internals. See <a href=\"https://www.baeldung.com/hibernate-field-naming-spring-boot\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-field-naming-spring-boot</a> - you might try forcing it to use PhysicalNamingStrategyStandardImpl. Or try a different JPA provider within Spring."},{"owner":{"account_id":24366911,"reputation":1,"user_id":18300519,"display_name":"karlrak"},"score":0,"creation_date":1645793671,"post_id":71254659,"comment_id":125970717,"body_markdown":"Changing the Column Name and Adding these properties works for me. Thanks, Chris.","body":"Changing the Column Name and Adding these properties works for me. Thanks, Chris."}],"answers":[{"tags":[],"owner":{"account_id":6915613,"reputation":81,"user_id":5310008,"display_name":"roy man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645735289,"creation_date":1645734950,"answer_id":71257956,"question_id":71254659,"body_markdown":"@chris is absolutley right, Hibernate is turning the column name fron &#39;firstName&#39; to &#39;first_name&#39; and i guess it will be the same for &#39;lastName&#39;.\r\n\r\nYou can also change the column names to match the naming like\r\n\r\n      @Column(name = &quot;first_name&quot;)\r\n      private String firstName;\r\n\r\nOn the `@Embeddable` and adapt the name on the `@JoinColumn` that should do the trick.\r\n\r\nIf you dont generate your database schema automaticly, you will have to rename also the columns in the database.","title":"Embeddable Not Working When column is expected to be a FK and PK at the same time","body":"<p>@chris is absolutley right, Hibernate is turning the column name fron 'firstName' to 'first_name' and i guess it will be the same for 'lastName'.</p>\n<p>You can also change the column names to match the naming like</p>\n<pre><code>  @Column(name = &quot;first_name&quot;)\n  private String firstName;\n</code></pre>\n<p>On the <code>@Embeddable</code> and adapt the name on the <code>@JoinColumn</code> that should do the trick.</p>\n<p>If you dont generate your database schema automaticly, you will have to rename also the columns in the database.</p>\n"}],"owner":{"account_id":24366911,"reputation":1,"user_id":18300519,"display_name":"karlrak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645735289,"creation_date":1645717611,"question_id":71254659,"body_markdown":"I am trying to learn JPA, I&#39;m currently encountering issues with the embeddable keywords. \r\n\r\nMy Goal is on **Medical History**, I would want to make **firstName** and **lastName** as Primary Key and Foreign Key however I am encountering an error message.\r\n\r\nThis is the error message that I am encountering.\r\n```\r\n\r\nCaused by: org.hibernate.AnnotationException: Unable to find column reference in the @MapsId mapping: first_name\r\n\tat org.hibernate.cfg.CopyIdentifierComponentSecondPass.createSimpleProperty(CopyIdentifierComponentSecondPass.java:203) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.cfg.CopyIdentifierComponentSecondPass.doSecondPass(CopyIdentifierComponentSecondPass.java:112) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1691) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1623) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 16 common frames omitted\r\n```\r\n\r\nThis is the sample code that i am trying to make work.\r\n\r\n```\r\n    @Embeddable\r\n    public class PersonId implements Serializable {\r\n        String firstName;\r\n        String lastName;\r\n    }\r\n    \r\n    @Entity\r\n    public class Person implements Serializable {\r\n        @EmbeddedId\r\n        PersonId personId;\r\n    }\r\n    \r\n    @Entity\r\n    public class MedicalHistory implements Serializable {\r\n        @EmbeddedId PersonId id;\r\n    \r\n        @MapsId\r\n        @JoinColumns({\r\n                @JoinColumn(name = &quot;firstName&quot;, referencedColumnName = &quot;firstName&quot;),\r\n                @JoinColumn(name = &quot;lastName&quot;, referencedColumnName = &quot;lastName&quot;)\r\n        })\r\n        @OneToOne\r\n        Person patient;\r\n    }\r\n```\r\n\r\nnot sure what I am doing wrong?\r\n\r\n\r\n\r\n* note: I am using this learning material &quot;JSR 338: JavaTM Persistence API, Version 2.2&quot;","title":"Embeddable Not Working When column is expected to be a FK and PK at the same time","body":"<p>I am trying to learn JPA, I'm currently encountering issues with the embeddable keywords.</p>\n<p>My Goal is on <strong>Medical History</strong>, I would want to make <strong>firstName</strong> and <strong>lastName</strong> as Primary Key and Foreign Key however I am encountering an error message.</p>\n<p>This is the error message that I am encountering.</p>\n<pre><code>\nCaused by: org.hibernate.AnnotationException: Unable to find column reference in the @MapsId mapping: first_name\n    at org.hibernate.cfg.CopyIdentifierComponentSecondPass.createSimpleProperty(CopyIdentifierComponentSecondPass.java:203) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.cfg.CopyIdentifierComponentSecondPass.doSecondPass(CopyIdentifierComponentSecondPass.java:112) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1691) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1623) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 16 common frames omitted\n</code></pre>\n<p>This is the sample code that i am trying to make work.</p>\n<pre><code>    @Embeddable\n    public class PersonId implements Serializable {\n        String firstName;\n        String lastName;\n    }\n    \n    @Entity\n    public class Person implements Serializable {\n        @EmbeddedId\n        PersonId personId;\n    }\n    \n    @Entity\n    public class MedicalHistory implements Serializable {\n        @EmbeddedId PersonId id;\n    \n        @MapsId\n        @JoinColumns({\n                @JoinColumn(name = &quot;firstName&quot;, referencedColumnName = &quot;firstName&quot;),\n                @JoinColumn(name = &quot;lastName&quot;, referencedColumnName = &quot;lastName&quot;)\n        })\n        @OneToOne\n        Person patient;\n    }\n</code></pre>\n<p>not sure what I am doing wrong?</p>\n<ul>\n<li>note: I am using this learning material &quot;JSR 338: JavaTM Persistence API, Version 2.2&quot;</li>\n</ul>\n"},{"tags":["java","ftp","sftp"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1645732668,"post_id":71257534,"comment_id":125956141,"body_markdown":"Try http://www.jcraft.com/jsch/","body":"Try <a href=\"http://www.jcraft.com/jsch/\" rel=\"nofollow noreferrer\">jcraft.com/jsch</a>"},{"owner":{"account_id":17453657,"reputation":171,"user_id":12653071,"display_name":"mat373"},"score":0,"creation_date":1645732777,"post_id":71257534,"comment_id":125956186,"body_markdown":"In JSCH, every solution I found involved explicitly declaring where the file should be saved locally.","body":"In JSCH, every solution I found involved explicitly declaring where the file should be saved locally."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1645732958,"post_id":71257534,"comment_id":125956226,"body_markdown":"You understand that `ftp.listFiles()` doesn&#39;t download anything, it just returns informational objects. It&#39;s similar to `channelSftp.ls` from JSch. That returns a non-generic (ugh) `Vector` (double ugh), but the `ChannelSftp.LsEntry` objects are similar to `FTPFile`.","body":"You understand that <code>ftp.listFiles()</code> doesn&#39;t download anything, it just returns informational objects. It&#39;s similar to <code>channelSftp.ls</code> from JSch. That returns a non-generic (ugh) <code>Vector</code> (double ugh), but the <code>ChannelSftp.LsEntry</code> objects are similar to <code>FTPFile</code>."},{"owner":{"account_id":17453657,"reputation":171,"user_id":12653071,"display_name":"mat373"},"score":0,"creation_date":1645733484,"post_id":71257534,"comment_id":125956394,"body_markdown":"i can&#39;t see .lsEntry method in ChanelSftp","body":"i can&#39;t see .lsEntry method in ChanelSftp"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1645733655,"post_id":71257534,"comment_id":125956456,"body_markdown":"The method is called `ls`: https://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/ChannelSftp.LsEntry.html. It&#39;s also overloaded if you prefer that: `https://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/ChannelSftp.html#ls-java.lang.String-com.jcraft.jsch.ChannelSftp.LsEntrySelector-`","body":"The method is called <code>ls</code>: <a href=\"https://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/ChannelSftp.LsEntry.html\" rel=\"nofollow noreferrer\">epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft&zwnj;&#8203;/&hellip;</a>. It&#39;s also overloaded if you prefer that: <code>https:&#47;&#47;epaul.github.io&#47;jsch-documentation&#47;simple.javadoc&#47;co&zwnj;&#8203;m&#47;jcraft&#47;jsch&#47;Channe&zwnj;&#8203;lSftp.html#ls-java.l&zwnj;&#8203;ang.String-com.jcraf&zwnj;&#8203;t.jsch.ChannelSftp.L&zwnj;&#8203;sEntrySelector-</code>"},{"owner":{"account_id":17453657,"reputation":171,"user_id":12653071,"display_name":"mat373"},"score":0,"creation_date":1645735000,"post_id":71257534,"comment_id":125956907,"body_markdown":"thanks ;) i have solution. I will make them available here","body":"thanks ;) i have solution. I will make them available here"}],"owner":{"account_id":17453657,"reputation":171,"user_id":12653071,"display_name":"mat373"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645735162,"creation_date":1645732444,"question_id":71257534,"body_markdown":"I have functionality (Java 8 app) to read files from FTP by Apache Commons\r\n```\r\n FTPClient ftp = new FTPClient();\r\n        ftp.connect(\r\n                FtpProperties.getHost(), \r\n                FtpProperties.getPort()\r\n        );\r\n        boolean login = ftp.login(\r\n                FtpProperties.getUname(), \r\n                FtpProperties.getPass()\r\n        );\r\n        ftp.enterLocalPassiveMode();\r\n        ftp.changeWorkingDirectory(&quot;/files&quot;);\r\n        FTPFile[] files = ftp.listFiles();\r\n```\r\nFiles are not explicitly saved locally anywhere. I download to the &lt;code&gt;files[]&lt;/code&gt; by &lt;code&gt;ftp.listFiles()&lt;/code&gt;. In my files[] i have of all files from ftp directtory.  And I can display them normally, save them, do whatever I want with them.\r\n\r\nDoes anyone know of an analogous solution for SFTP ?\r\n\r\n**SOLUTION:**\r\n```\r\npublic static void ls() throws Exception {\r\n        JSch jsch = new JSch();\r\n        Session session = jsch.getSession(&quot;user&quot;, &quot;host&quot;, port);\r\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        session.setPassword(&quot;password&quot;);\r\n        session.connect();\r\n\r\n        Channel channel = session.openChannel(&quot;sftp&quot;);\r\n        channel.connect();\r\n        ChannelSftp sftpChannel = (ChannelSftp) channel;\r\n\r\n        Vector&lt;ChannelSftp.LsEntry&gt; returnVector = sftpChannel.ls(&quot;/files&quot;);\r\n        List&lt;String&gt; returnList = new ArrayList&lt;&gt;();\r\n        for (ChannelSftp.LsEntry item : returnVector) {\r\n            returnList.add(item.getFilename());\r\n        }\r\n        System.out.println(returnList);\r\n    }\r\n```\r\n&lt;code&gt;System.out.println(returnList);&lt;/code&gt; result in console:\r\n```\r\n[myfile.txt]\r\n```\r\nThis is it what i wanted to achieve. Thanks Rob !\r\n","title":"Get file or all folder from SFTP without save it localy","body":"<p>I have functionality (Java 8 app) to read files from FTP by Apache Commons</p>\n<pre><code> FTPClient ftp = new FTPClient();\n        ftp.connect(\n                FtpProperties.getHost(), \n                FtpProperties.getPort()\n        );\n        boolean login = ftp.login(\n                FtpProperties.getUname(), \n                FtpProperties.getPass()\n        );\n        ftp.enterLocalPassiveMode();\n        ftp.changeWorkingDirectory(&quot;/files&quot;);\n        FTPFile[] files = ftp.listFiles();\n</code></pre>\n<p>Files are not explicitly saved locally anywhere. I download to the <code>files[]</code> by <code>ftp.listFiles()</code>. In my files[] i have of all files from ftp directtory.  And I can display them normally, save them, do whatever I want with them.</p>\n<p>Does anyone know of an analogous solution for SFTP ?</p>\n<p><strong>SOLUTION:</strong></p>\n<pre><code>public static void ls() throws Exception {\n        JSch jsch = new JSch();\n        Session session = jsch.getSession(&quot;user&quot;, &quot;host&quot;, port);\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        session.setPassword(&quot;password&quot;);\n        session.connect();\n\n        Channel channel = session.openChannel(&quot;sftp&quot;);\n        channel.connect();\n        ChannelSftp sftpChannel = (ChannelSftp) channel;\n\n        Vector&lt;ChannelSftp.LsEntry&gt; returnVector = sftpChannel.ls(&quot;/files&quot;);\n        List&lt;String&gt; returnList = new ArrayList&lt;&gt;();\n        for (ChannelSftp.LsEntry item : returnVector) {\n            returnList.add(item.getFilename());\n        }\n        System.out.println(returnList);\n    }\n</code></pre>\n<p><code>System.out.println(returnList);</code> result in console:</p>\n<pre><code>[myfile.txt]\n</code></pre>\n<p>This is it what i wanted to achieve. Thanks Rob !</p>\n"},{"tags":["java","jooq","jooq-codegen-maven"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645734808,"creation_date":1645720281,"answer_id":71255247,"question_id":71254500,"body_markdown":"&gt; I just found the blog post above and I am not happy. The least they could have done is make it configurable.\r\n\r\nI understand the frustration. We&#39;re all feeling it. The article you found describes it: *&quot;A tidal wave is rippling through the Java ecosystem. It is the renaming of javax to jakarta package names.&quot;*\r\n\r\nThe clock&#39;s ticking. Starting from Spring Boot 3.0, you&#39;ll have to upgrade anyway, possibly even before:\r\nhttps://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6\r\n\r\nOther frameworks will also soon upgrade, too. The rename is painful for everyone, yes, but there&#39;s not too much value in maintaining two dependencies forever, especially not if the library uses the features as little as jOOQ.\r\n\r\nThe alternatives are documented in the [blog post you had referenced from a previous edit][1]. There was almost no feedback from the community with respect to what would be a better alternative (there have been complaints, of course, but I&#39;m not sure if anything better could have been done). In your particular case, you could simply regex-replace all generated output to patch the imports again. That&#39;s what jOOQ itself is doing with the generated JAXB annotations, because even the XJC plugins that generate the code aren&#39;t all ready for this messy rename.\r\n\r\nYes, there could have been a configuration option, but then again, what about the runtime dependencies on JAXB and JPA? Those can&#39;t be duplicated or configured easily. Would it have been worth it to have both on the classpath? Or to ship two separate distributions? Not too likely. It&#39;s a different case compared to e.g. Hibernate, which depends *heavily* on the specifications, but jOOQ doesn&#39;t, really.\r\n\r\n&gt; I guess I will be using an old version.\r\n\r\nYou can, of course. But then again, is that really worth it? What are you using the feature for? Could you just drop generating those annotations?\r\n\r\n\r\n  [1]: https://blog.jooq.org/jooq-3-16-and-java-ee-vs-jakarta-ee/","title":"How to configure jOOQ to generate using javax annotations or something else instead of jakarta annotations?","body":"<blockquote>\n<p>I just found the blog post above and I am not happy. The least they could have done is make it configurable.</p>\n</blockquote>\n<p>I understand the frustration. We're all feeling it. The article you found describes it: <em>&quot;A tidal wave is rippling through the Java ecosystem. It is the renaming of javax to jakarta package names.&quot;</em></p>\n<p>The clock's ticking. Starting from Spring Boot 3.0, you'll have to upgrade anyway, possibly even before:\n<a href=\"https://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6\" rel=\"nofollow noreferrer\">https://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6</a></p>\n<p>Other frameworks will also soon upgrade, too. The rename is painful for everyone, yes, but there's not too much value in maintaining two dependencies forever, especially not if the library uses the features as little as jOOQ.</p>\n<p>The alternatives are documented in the <a href=\"https://blog.jooq.org/jooq-3-16-and-java-ee-vs-jakarta-ee/\" rel=\"nofollow noreferrer\">blog post you had referenced from a previous edit</a>. There was almost no feedback from the community with respect to what would be a better alternative (there have been complaints, of course, but I'm not sure if anything better could have been done). In your particular case, you could simply regex-replace all generated output to patch the imports again. That's what jOOQ itself is doing with the generated JAXB annotations, because even the XJC plugins that generate the code aren't all ready for this messy rename.</p>\n<p>Yes, there could have been a configuration option, but then again, what about the runtime dependencies on JAXB and JPA? Those can't be duplicated or configured easily. Would it have been worth it to have both on the classpath? Or to ship two separate distributions? Not too likely. It's a different case compared to e.g. Hibernate, which depends <em>heavily</em> on the specifications, but jOOQ doesn't, really.</p>\n<blockquote>\n<p>I guess I will be using an old version.</p>\n</blockquote>\n<p>You can, of course. But then again, is that really worth it? What are you using the feature for? Could you just drop generating those annotations?</p>\n"}],"owner":{"account_id":3329437,"reputation":1023,"user_id":2798694,"accept_rate":45,"display_name":"user2798694"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1645734808,"creation_date":1645716977,"question_id":71254500,"body_markdown":"Just like the title said. Jakarta annotation is not in my classpath so I do not know why jOOQ is generating Java classes with those annotations. I would like to be able to tell it to not use it or rather have a way to specify which validation annotations it uses.\r\n\r\nThe only property I set to true is `validationAnnotations` and then I have Jakarta annotations everywhere. Any ideas how to configure it to at use something  else like javax? \r\n\r\nI am using jOOQ codegen 3.16.4 ","title":"How to configure jOOQ to generate using javax annotations or something else instead of jakarta annotations?","body":"<p>Just like the title said. Jakarta annotation is not in my classpath so I do not know why jOOQ is generating Java classes with those annotations. I would like to be able to tell it to not use it or rather have a way to specify which validation annotations it uses.</p>\n<p>The only property I set to true is <code>validationAnnotations</code> and then I have Jakarta annotations everywhere. Any ideas how to configure it to at use something  else like javax?</p>\n<p>I am using jOOQ codegen 3.16.4</p>\n"},{"tags":["java","xml","jackson"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1645734786,"post_id":71257905,"comment_id":125956839,"body_markdown":"This sounds like an [XY Problem](http://xyproblem.info).  Why do you want to do that?","body":"This sounds like an <a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">XY Problem</a>.  Why do you want to do that?"},{"owner":{"account_id":18736933,"reputation":244,"user_id":13661075,"display_name":"Andrew Fomin"},"score":0,"creation_date":1645735649,"post_id":71257905,"comment_id":125957099,"body_markdown":"I have data from sql query. Next I can build an above object. And then I need to make request to xml-based exchange service. The problem is that the data is not structured and the Map can be different. But exchange protocol makes me to serialize it as attributes","body":"I have data from sql query. Next I can build an above object. And then I need to make request to xml-based exchange service. The problem is that the data is not structured and the Map can be different. But exchange protocol makes me to serialize it as attributes"},{"owner":{"account_id":18736933,"reputation":244,"user_id":13661075,"display_name":"Andrew Fomin"},"score":0,"creation_date":1645735996,"post_id":71257905,"comment_id":125957220,"body_markdown":"I can do it without Jackson by simple concatenation, but I&#39;m wondering if there is an easier solution","body":"I can do it without Jackson by simple concatenation, but I&#39;m wondering if there is an easier solution"}],"owner":{"account_id":18736933,"reputation":244,"user_id":13661075,"display_name":"Andrew Fomin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645734662,"creation_date":1645734662,"question_id":71257905,"body_markdown":"I have data class\r\n\r\n    class DataItem {\r\n\r\n        private String name;\r\n        private Map params;\r\n\r\n        // getters, setters\r\n\r\n    }\r\n\r\nI easily can serialize it with Jackson as follows\r\n\r\n    &lt;DataItem&gt;\r\n        &lt;name&gt;some name&lt;/name&gt;\r\n        &lt;params&gt;\r\n            &lt;p1&gt;one&lt;/p1&gt;\r\n            &lt;p2&gt;two&lt;/p2&gt;\r\n        &lt;/params&gt;\r\n    &lt;/DataItem&gt;\r\n\r\nBut I want to achieve this output\r\n\r\n    &lt;DataItem&gt;\r\n        &lt;name&gt;some name&lt;/name&gt;\r\n        &lt;params p1=&quot;one&quot; p2=&quot;two&quot;&gt;\r\n        &lt;/params&gt;\r\n    &lt;/DataItem&gt;\r\n\r\nThere is an annotation approach (isAttribute = true), but I have dynamic object in *params* field.\r\n\r\nIs there a way to make the *param* field be serialized as an element with attributes?","title":"How to serialize Map field as xml attributes with Jackson mapper","body":"<p>I have data class</p>\n<pre><code>class DataItem {\n\n    private String name;\n    private Map params;\n\n    // getters, setters\n\n}\n</code></pre>\n<p>I easily can serialize it with Jackson as follows</p>\n<pre><code>&lt;DataItem&gt;\n    &lt;name&gt;some name&lt;/name&gt;\n    &lt;params&gt;\n        &lt;p1&gt;one&lt;/p1&gt;\n        &lt;p2&gt;two&lt;/p2&gt;\n    &lt;/params&gt;\n&lt;/DataItem&gt;\n</code></pre>\n<p>But I want to achieve this output</p>\n<pre><code>&lt;DataItem&gt;\n    &lt;name&gt;some name&lt;/name&gt;\n    &lt;params p1=&quot;one&quot; p2=&quot;two&quot;&gt;\n    &lt;/params&gt;\n&lt;/DataItem&gt;\n</code></pre>\n<p>There is an annotation approach (isAttribute = true), but I have dynamic object in <em>params</em> field.</p>\n<p>Is there a way to make the <em>param</em> field be serialized as an element with attributes?</p>\n"},{"tags":["java","node.js","spring-restcontroller","express-validator"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1645734463,"post_id":71257847,"comment_id":125956734,"body_markdown":"You don&#39;t need both the triple-back-quote AND 4 spaces indentation, either one will do.  Please correct the code indentation.","body":"You don&#39;t need both the triple-back-quote AND 4 spaces indentation, either one will do.  Please correct the code indentation."},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1661252923,"post_id":71257847,"comment_id":129722403,"body_markdown":"content-type: application/json should be the issue i assume","body":"content-type: application/json should be the issue i assume"}],"owner":{"account_id":23486957,"reputation":3,"user_id":17538391,"display_name":"vaishnavi seshagiri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645734431,"creation_date":1645734309,"question_id":71257847,"body_markdown":"I have a nodejs application which receives input in the form of a json from frontend.\r\n\r\nInput request\r\n\r\n    {\r\n    &quot;name&quot;:&quot;tina&quot;,\r\n    &quot;address&quot;:{\r\n    &quot;doorNo&quot;:&quot;54&quot;,\r\n    &quot;street&quot;:&quot;Haddows&quot;\r\n    },\r\n    &quot;age&quot;:&quot;12&quot;\r\n    }\r\n\r\n\r\nI use express and express validator -&gt;{body,validationresult} to validate the json.\r\n\r\n**In the request the &quot;address&quot; is optional.\r\nIf the frontend does not pass the address, then i expect the request to be in the below format:**\r\n\r\n    { &quot;name&quot;:&quot;tina&quot;,&quot;age&quot;: &quot;12&quot;}\r\n\r\nController.js\r\n\r\n    const resultant = async \r\n    function(req, res) {\r\n    try{\r\n    console.log(JSON.stringfy(req.body));\r\n    const res  app.post( \r\n    &quot;http://localhost:8080/details&quot;,\r\n    req.body,req.headers);\r\n    } catch(error){\r\n    console.log(&quot;error is \r\n    :&quot;+error.toString())\r\n    }\r\n    }\r\n\r\nRestControllerApp.java\r\n\r\n    public class RestControllerApp {\r\n    @RestController\r\n    RequestMapping(value = &quot;/details&quot;, \r\n    method = RequestMethod.POST)\r\n    public ResponseEntity&lt;String&gt; \r\n    persist(@RequestBody PersonDTO \r\n    person) {\r\n    if (personSvc.isValid(person)) { \r\n    personRepo.persist(person);\r\n    return ResponseEntity. \r\n    status(HttpStatus.OK).build();\r\n    }\r\n    } \r\n    }\r\n\r\n\r\nWhen the request reaches the restcontrollerapp.java, i get the below error:\r\n\r\n    com.fasterxml.jackson.core.io.JsonEOFException: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (StringReader); line: 1, column: 1]) at [Source: (StringReader); line: 1, column: 8001] at com.fasterxml.jackson.core.base.ParserMinimalBase._reportInvalidEOF(ParserMinimalBase.java:618) at com.fasterxml.jackson.core.base.ParserBase._handleEOF(ParserBase.java:485) at com.fasterxml.jackson.core.base.ParserBase._eofAsNextChar(ParserBase.java:497) at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipWSOrEnd(ReaderBasedJsonParser.java:2340) at com.fasterxml.jackson.core.json.ReaderBasedJsonParser\r\n\r\nFrom the nodejs controller.js, i get the below in console.log(JSON.stringfy(req.body)):\r\n\r\n    {\r\n    &quot;name&quot;:&quot;tina&quot;,\r\n    &quot;address&quot;:{\r\n    &quot;doorNo&quot;:&quot;&quot;,\r\n    &quot;street&quot;:&quot;&quot;\r\n    },\r\n    &quot;age&quot;:&quot;12&quot;\r\n    }\r\n\r\nWhen i paste the above json in postman and directly hit the java controller, **the flow works without showing the jsonexception.**\r\n\r\nCan anyone please help me out to solve this tricky issue?\r\n\r\nA Million thanks in advance.&#128522;","title":"Unexpected Eof exception when req.body from nodejs is sent to a springboot rest controller","body":"<p>I have a nodejs application which receives input in the form of a json from frontend.</p>\n<p>Input request</p>\n<pre><code>{\n&quot;name&quot;:&quot;tina&quot;,\n&quot;address&quot;:{\n&quot;doorNo&quot;:&quot;54&quot;,\n&quot;street&quot;:&quot;Haddows&quot;\n},\n&quot;age&quot;:&quot;12&quot;\n}\n</code></pre>\n<p>I use express and express validator -&gt;{body,validationresult} to validate the json.</p>\n<p><strong>In the request the &quot;address&quot; is optional.\nIf the frontend does not pass the address, then i expect the request to be in the below format:</strong></p>\n<pre><code>{ &quot;name&quot;:&quot;tina&quot;,&quot;age&quot;: &quot;12&quot;}\n</code></pre>\n<p>Controller.js</p>\n<pre><code>const resultant = async \nfunction(req, res) {\ntry{\nconsole.log(JSON.stringfy(req.body));\nconst res  app.post( \n&quot;http://localhost:8080/details&quot;,\nreq.body,req.headers);\n} catch(error){\nconsole.log(&quot;error is \n:&quot;+error.toString())\n}\n}\n</code></pre>\n<p>RestControllerApp.java</p>\n<pre><code>public class RestControllerApp {\n@RestController\nRequestMapping(value = &quot;/details&quot;, \nmethod = RequestMethod.POST)\npublic ResponseEntity&lt;String&gt; \npersist(@RequestBody PersonDTO \nperson) {\nif (personSvc.isValid(person)) { \npersonRepo.persist(person);\nreturn ResponseEntity. \nstatus(HttpStatus.OK).build();\n}\n} \n}\n</code></pre>\n<p>When the request reaches the restcontrollerapp.java, i get the below error:</p>\n<pre><code>com.fasterxml.jackson.core.io.JsonEOFException: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (StringReader); line: 1, column: 1]) at [Source: (StringReader); line: 1, column: 8001] at com.fasterxml.jackson.core.base.ParserMinimalBase._reportInvalidEOF(ParserMinimalBase.java:618) at com.fasterxml.jackson.core.base.ParserBase._handleEOF(ParserBase.java:485) at com.fasterxml.jackson.core.base.ParserBase._eofAsNextChar(ParserBase.java:497) at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipWSOrEnd(ReaderBasedJsonParser.java:2340) at com.fasterxml.jackson.core.json.ReaderBasedJsonParser\n</code></pre>\n<p>From the nodejs controller.js, i get the below in console.log(JSON.stringfy(req.body)):</p>\n<pre><code>{\n&quot;name&quot;:&quot;tina&quot;,\n&quot;address&quot;:{\n&quot;doorNo&quot;:&quot;&quot;,\n&quot;street&quot;:&quot;&quot;\n},\n&quot;age&quot;:&quot;12&quot;\n}\n</code></pre>\n<p>When i paste the above json in postman and directly hit the java controller, <strong>the flow works without showing the jsonexception.</strong></p>\n<p>Can anyone please help me out to solve this tricky issue?</p>\n<p>A Million thanks in advance.😊</p>\n"},{"tags":["java","printing"],"comments":[{"owner":{"account_id":20116120,"reputation":584,"user_id":14751525,"display_name":"Abdulwahab Almestekawy"},"score":0,"creation_date":1645734726,"post_id":71257848,"comment_id":125956825,"body_markdown":"Here&#39;s a screenshot of the dialog where the paper size is set to letter by default: https://i.ibb.co/0F3R6SM/Untitled.png.\nSorry for the low quality, but this was taken by my client (not by me).\nIs there a way to even save the user&#39;s last choice automatically without having them to re-choose A6 each time the dialog appears?","body":"Here&#39;s a screenshot of the dialog where the paper size is set to letter by default: <a href=\"https://i.ibb.co/0F3R6SM/Untitled.png\" rel=\"nofollow noreferrer\">i.ibb.co/0F3R6SM/Untitled.png</a>. Sorry for the low quality, but this was taken by my client (not by me). Is there a way to even save the user&#39;s last choice automatically without having them to re-choose A6 each time the dialog appears?"},{"owner":{"account_id":20116120,"reputation":584,"user_id":14751525,"display_name":"Abdulwahab Almestekawy"},"score":0,"creation_date":1645735113,"post_id":71257848,"comment_id":125956940,"body_markdown":"The target printer is set as the default printer on Windows.","body":"The target printer is set as the default printer on Windows."},{"owner":{"account_id":20116120,"reputation":584,"user_id":14751525,"display_name":"Abdulwahab Almestekawy"},"score":0,"creation_date":1645735458,"post_id":71257848,"comment_id":125957043,"body_markdown":"Also, here is a photo of the printer: https://i.ibb.co/wM1VY5D/Untitled.png","body":"Also, here is a photo of the printer: <a href=\"https://i.ibb.co/wM1VY5D/Untitled.png\" rel=\"nofollow noreferrer\">i.ibb.co/wM1VY5D/Untitled.png</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645735724,"post_id":71257848,"comment_id":125957135,"body_markdown":"I tested this and the print dialog shows &quot;Other 105 by 148mm&quot; on MacOS.  I did a quick google and found 105x148mm is A6.  This might be bug under windows?","body":"I tested this and the print dialog shows &quot;Other 105 by 148mm&quot; on MacOS.  I did a quick google and found 105x148mm is A6.  This might be bug under windows?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645735991,"post_id":71257848,"comment_id":125957219,"body_markdown":"You should also call `preformat = pjob.validatePage(preformat);` before displaying the `pageDialog`.  You can then inspect the results to see if the dialog modifies them.  It&#39;s possible that the printer just doesn&#39;t like you paper setup","body":"You should also call <code>preformat = pjob.validatePage(preformat);</code> before displaying the <code>pageDialog</code>.  You can then inspect the results to see if the dialog modifies them.  It&#39;s possible that the printer just doesn&#39;t like you paper setup"}],"owner":{"account_id":20116120,"reputation":584,"user_id":14751525,"display_name":"Abdulwahab Almestekawy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645734333,"creation_date":1645734333,"question_id":71257848,"body_markdown":"I have a java class with a static method that prints a JPanel which implements a custom interface (called MyPrintablePanel).\r\n\r\nThe problem is, when the print dialog appears (Page setup dialog box), the default paper size is &quot;Letter&quot;. I want the default paper size to be A6 so that I don&#39;t have to manually choose A6 each time I print. \r\n\r\nHere is the code:\r\n\r\n```\r\npackage designer.office.utils;\r\n\r\nimport designer.office.printables.MyPrintablePanel;\r\nimport java.awt.Component;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.print.PageFormat;\r\nimport java.awt.print.Paper;\r\nimport java.awt.print.Printable;\r\nimport java.awt.print.PrinterException;\r\nimport java.awt.print.PrinterJob;\r\nimport javax.print.attribute.Size2DSyntax;\r\nimport javax.print.attribute.standard.MediaSize;\r\nimport javax.print.attribute.standard.MediaSizeName;\r\nimport javax.swing.JPanel;\r\n\r\n/**\r\n * A class to print a JPanel\r\n */\r\npublic class MyPrinter implements Printable {\r\n    \r\n    final MyPrintablePanel comp;\r\n\r\n    public MyPrinter(MyPrintablePanel comp){\r\n        this.comp = comp;\r\n    }\r\n    \r\n    public static void printJPanel(MyPrintablePanel jPanel){\r\n\r\n        PrinterJob pjob = PrinterJob.getPrinterJob();\r\n        MediaSize isoA6Size = MediaSize.getMediaSizeForName(MediaSizeName.ISO_A6);\r\n        float[] size = isoA6Size.getSize(Size2DSyntax.INCH);\r\n        Paper paper = new Paper();\r\n        paper.setSize(size[0] * 72.0, size[1] * 72.0);\r\n        paper.setImageableArea(0.0, 0.0, size[0] * 72.0, size[1] * 72.0);\r\n        PageFormat preformat = new PageFormat();\r\n        preformat.setPaper(paper);\r\n        \r\n        PageFormat postformat = pjob.pageDialog(preformat);\r\n        //If user does not hit cancel then print.\r\n        if (preformat != postformat) {\r\n            //Set print component\r\n            pjob.setPrintable(new MyPrinter(jPanel), postformat);\r\n            if (pjob.printDialog()) {\r\n                try {\r\n                    pjob.print();\r\n                } catch (PrinterException ex) {\r\n                    System.out.println(&quot;Failed to print: &quot; + ex.getMessage());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int print(Graphics g, PageFormat format, int page_index) \r\n            throws PrinterException {\r\n        if (page_index &gt; this.comp.getNumOfPages() - 1) {\r\n            return Printable.NO_SUCH_PAGE;\r\n        }\r\n\r\n        // get the bounds of the component\r\n        Dimension dim = comp.getSize();\r\n        double cHeight = dim.getHeight()/this.comp.getNumOfPages();\r\n        double cWidth = dim.getWidth();\r\n\r\n        // get the bounds of the printable area\r\n        double pHeight = format.getImageableHeight();\r\n        double pWidth = format.getImageableWidth();\r\n\r\n        double pXStart = format.getImageableX();\r\n        double pYStart = format.getImageableY();\r\n\r\n        double xRatio = pWidth / cWidth;\r\n        double yRatio = pHeight / cHeight;\r\n\r\n\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.translate(pXStart, pYStart - page_index * pHeight);\r\n        g2.scale(xRatio, yRatio);\r\n        comp.paint(g2);\r\n\r\n        return Printable.PAGE_EXISTS;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m printing (or rather my client is printing) from a `HP Laser Jet Professional P1102` printer with A6 paper in its tray.  ","title":"java.awt.print How to set default page size to A6","body":"<p>I have a java class with a static method that prints a JPanel which implements a custom interface (called MyPrintablePanel).</p>\n<p>The problem is, when the print dialog appears (Page setup dialog box), the default paper size is &quot;Letter&quot;. I want the default paper size to be A6 so that I don't have to manually choose A6 each time I print.</p>\n<p>Here is the code:</p>\n<pre><code>package designer.office.utils;\n\nimport designer.office.printables.MyPrintablePanel;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.print.PageFormat;\nimport java.awt.print.Paper;\nimport java.awt.print.Printable;\nimport java.awt.print.PrinterException;\nimport java.awt.print.PrinterJob;\nimport javax.print.attribute.Size2DSyntax;\nimport javax.print.attribute.standard.MediaSize;\nimport javax.print.attribute.standard.MediaSizeName;\nimport javax.swing.JPanel;\n\n/**\n * A class to print a JPanel\n */\npublic class MyPrinter implements Printable {\n    \n    final MyPrintablePanel comp;\n\n    public MyPrinter(MyPrintablePanel comp){\n        this.comp = comp;\n    }\n    \n    public static void printJPanel(MyPrintablePanel jPanel){\n\n        PrinterJob pjob = PrinterJob.getPrinterJob();\n        MediaSize isoA6Size = MediaSize.getMediaSizeForName(MediaSizeName.ISO_A6);\n        float[] size = isoA6Size.getSize(Size2DSyntax.INCH);\n        Paper paper = new Paper();\n        paper.setSize(size[0] * 72.0, size[1] * 72.0);\n        paper.setImageableArea(0.0, 0.0, size[0] * 72.0, size[1] * 72.0);\n        PageFormat preformat = new PageFormat();\n        preformat.setPaper(paper);\n        \n        PageFormat postformat = pjob.pageDialog(preformat);\n        //If user does not hit cancel then print.\n        if (preformat != postformat) {\n            //Set print component\n            pjob.setPrintable(new MyPrinter(jPanel), postformat);\n            if (pjob.printDialog()) {\n                try {\n                    pjob.print();\n                } catch (PrinterException ex) {\n                    System.out.println(&quot;Failed to print: &quot; + ex.getMessage());\n                }\n            }\n        }\n    }\n\n    @Override\n    public int print(Graphics g, PageFormat format, int page_index) \n            throws PrinterException {\n        if (page_index &gt; this.comp.getNumOfPages() - 1) {\n            return Printable.NO_SUCH_PAGE;\n        }\n\n        // get the bounds of the component\n        Dimension dim = comp.getSize();\n        double cHeight = dim.getHeight()/this.comp.getNumOfPages();\n        double cWidth = dim.getWidth();\n\n        // get the bounds of the printable area\n        double pHeight = format.getImageableHeight();\n        double pWidth = format.getImageableWidth();\n\n        double pXStart = format.getImageableX();\n        double pYStart = format.getImageableY();\n\n        double xRatio = pWidth / cWidth;\n        double yRatio = pHeight / cHeight;\n\n\n        Graphics2D g2 = (Graphics2D) g;\n        g2.translate(pXStart, pYStart - page_index * pHeight);\n        g2.scale(xRatio, yRatio);\n        comp.paint(g2);\n\n        return Printable.PAGE_EXISTS;\n    }\n}\n</code></pre>\n<p>I'm printing (or rather my client is printing) from a <code>HP Laser Jet Professional P1102</code> printer with A6 paper in its tray.</p>\n"},{"tags":["java","minecraft","heap-size"],"comments":[{"owner":{"account_id":11624106,"reputation":2811,"user_id":11808788,"display_name":"Charles"},"score":1,"creation_date":1645734071,"post_id":71257790,"comment_id":125956594,"body_markdown":"Is the program compiled as 64 bit? Else it wont help much to install a different runtime.","body":"Is the program compiled as 64 bit? Else it wont help much to install a different runtime."},{"owner":{"account_id":9310681,"reputation":125,"user_id":16614631,"display_name":"Sawyer"},"score":0,"creation_date":1645734207,"post_id":71257790,"comment_id":125956648,"body_markdown":"Ok I found a resource on this but there isn&#39;t a clear answer AFAICT: https://gaming.stackexchange.com/questions/28057/any-benefits-to-running-minecraft-in-a-64bit-environment","body":"Ok I found a resource on this but there isn&#39;t a clear answer AFAICT: <a href=\"https://gaming.stackexchange.com/questions/28057/any-benefits-to-running-minecraft-in-a-64bit-environment\" title=\"any benefits to running minecraft in a 64bit environment\">gaming.stackexchange.com/questions/28057/&hellip;</a>"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1645734240,"post_id":71257790,"comment_id":125956659,"body_markdown":"Bytecode is word-size agnostic. How do you know memory is maxed out? OOM error? Maybe it doesn&#39;t need more than 2900MB?","body":"Bytecode is word-size agnostic. How do you know memory is maxed out? OOM error? Maybe it doesn&#39;t need more than 2900MB?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1645734274,"post_id":71257790,"comment_id":125956675,"body_markdown":"If I remember correctly, `-d64` is largely ignored / deprecated at this point. Additionally MC doesn&#39;t load the entirety of worlds at a time, 2.5gb with no players on it is more than reasonable. `-Xmx` represents the ceiling, not an initial allocation (that&#39;d be `-Xms`). Overall though, you can largely run minecraft with just `-Xmx` and it&#39;ll expand if it needs to.","body":"If I remember correctly, <code>-d64</code> is largely ignored / deprecated at this point. Additionally MC doesn&#39;t load the entirety of worlds at a time, 2.5gb with no players on it is more than reasonable. <code>-Xmx</code> represents the ceiling, not an initial allocation (that&#39;d be <code>-Xms</code>). Overall though, you can largely run minecraft with just <code>-Xmx</code> and it&#39;ll expand if it needs to."},{"owner":{"account_id":9310681,"reputation":125,"user_id":16614631,"display_name":"Sawyer"},"score":0,"creation_date":1645734614,"post_id":71257790,"comment_id":125956795,"body_markdown":"To answer both  questions, the limitations of 2GB RAM aren&#39;t apparent on either multiplayer or standard vanilla gameplay. I&#39;m noticing them in two scenarios- (1) using Carpet mod to warp the game ticks as fast as possible, which basically stress tests the machine&#39;s capability and hits a max of 1800 TPS/2900MB memory, (2) performance issues with replay mod rendering/editing (again maxing out the memory and causing crashes due to insufficient heap size). The purpose here isn&#39;t to debug these issues on the level of the individual mods but to ask, can I have more RAM at all? @Rogue","body":"To answer both  questions, the limitations of 2GB RAM aren&#39;t apparent on either multiplayer or standard vanilla gameplay. I&#39;m noticing them in two scenarios- (1) using Carpet mod to warp the game ticks as fast as possible, which basically stress tests the machine&#39;s capability and hits a max of 1800 TPS/2900MB memory, (2) performance issues with replay mod rendering/editing (again maxing out the memory and causing crashes due to insufficient heap size). The purpose here isn&#39;t to debug these issues on the level of the individual mods but to ask, can I have more RAM at all? @Rogue"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1645737988,"post_id":71257790,"comment_id":125957797,"body_markdown":"1800 TPS is counter-productive, you&#39;re just going to throttle the server doing that (That&#39;s an attempted tick every `0.55` milliseconds!). If you actually get an out of memory error, post it here (and we&#39;ll likely be able to see to what extent it was breaking).","body":"1800 TPS is counter-productive, you&#39;re just going to throttle the server doing that (That&#39;s an attempted tick every <code>0.55</code> milliseconds!). If you actually get an out of memory error, post it here (and we&#39;ll likely be able to see to what extent it was breaking)."},{"owner":{"account_id":9310681,"reputation":125,"user_id":16614631,"display_name":"Sawyer"},"score":0,"creation_date":1645738962,"post_id":71257790,"comment_id":125958119,"body_markdown":"@Rogue I&#39;m playing in singleplayer, not a server. To reiterate the purpose here isn&#39;t to debug these issues on the level of the individual mods but to ask, can I have more RAM at all?","body":"@Rogue I&#39;m playing in singleplayer, not a server. To reiterate the purpose here isn&#39;t to debug these issues on the level of the individual mods but to ask, can I have more RAM at all?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1645740331,"post_id":71257790,"comment_id":125958498,"body_markdown":"If you start Java with -Xmx8g then it will allocate up to 8gb for the heap - if your application ever needs that amount of memory. Note that there are besides an exhausted heap other causes for `OutOfMemoryError` (for example if Java tries to start a new Thread but no native threads are available). It would be helpful if you could share more information about the error that you get (for example an exception log with stack trace)","body":"If you start Java with -Xmx8g then it will allocate up to 8gb for the heap - if your application ever needs that amount of memory. Note that there are besides an exhausted heap other causes for <code>OutOfMemoryError</code> (for example if Java tries to start a new Thread but no native threads are available). It would be helpful if you could share more information about the error that you get (for example an exception log with stack trace)"}],"owner":{"account_id":9310681,"reputation":125,"user_id":16614631,"display_name":"Sawyer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645733954,"creation_date":1645733954,"question_id":71257790,"body_markdown":"I&#39;m having some issues running minecraft on my PC (specifically, some demanding mods). MC issues aside- I&#39;m noticing that Minecraft/Java Platform does not want to use more than about 2,900 MB of memory. My PC has 32GB RAM to work with so I&#39;d be happy, for example, doubling or quadrupling this number.\r\n\r\nMost resources suggest changing the environment settings with the -Xmx[MEM] tag. I have tried this, restarted PC, to non avail- the memory does not budge past ~2,900MB.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;ve also double-checked the Java version- I&#39;m running the latest 64-Bit build so I don&#39;t think I&#39;m encountering the common issue of 32-Bit systems not allowing &gt;2GB heap size.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nCan anyone help me out here? Maybe I&#39;m misunderstanding something? Tysm!\r\n\r\n  [1]: https://i.stack.imgur.com/esVbz.png\r\n  [2]: https://i.stack.imgur.com/h95Bx.png","title":"64-Bit Java won&#39;t use &gt;2GB RAM","body":"<p>I'm having some issues running minecraft on my PC (specifically, some demanding mods). MC issues aside- I'm noticing that Minecraft/Java Platform does not want to use more than about 2,900 MB of memory. My PC has 32GB RAM to work with so I'd be happy, for example, doubling or quadrupling this number.</p>\n<p>Most resources suggest changing the environment settings with the -Xmx[MEM] tag. I have tried this, restarted PC, to non avail- the memory does not budge past ~2,900MB.</p>\n<p><a href=\"https://i.stack.imgur.com/esVbz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/esVbz.png\" alt=\"enter image description here\" /></a></p>\n<p>I've also double-checked the Java version- I'm running the latest 64-Bit build so I don't think I'm encountering the common issue of 32-Bit systems not allowing &gt;2GB heap size.</p>\n<p><a href=\"https://i.stack.imgur.com/h95Bx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h95Bx.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone help me out here? Maybe I'm misunderstanding something? Tysm!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8430,"page":1562,"page_size":100}
